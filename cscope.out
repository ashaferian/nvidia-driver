cscope 15 /usr/home/ashafer/NVIDIA_FREEBSD               0003068737
	@src/common/inc/cpuopsys.h

26 #iâdeà
CPUOPSYS_H


27 
	#CPUOPSYS_H


	)

33 #ià
defšed
(
_WIN32
è|| defšed(
_WIN16
)

34 
	#NV_WINDOWS


	)

36 #ià
defšed
(
_WIN32_WINNT
)

37 
	#NV_WINDOWS_NT


	)

38 #–ià
defšed
(
_WIN32_WCE
)

39 
	#NV_WINDOWS_CE


	)

40 #–ià!
defšed
(
NV_MODS
)

41 
	#NV_WINDOWS_9X


	)

46 #ià
defšed
(
__lšux__
è&& !defšed(
NV_LINUX
è&& !defšed(
NV_VMWARE
)

47 
	#NV_LINUX


	)

50 #ià
defšed
(
__VMWARE__
è&& !defšed(
NV_VMWARE
)

51 
	#NV_VMWARE


	)

55 #ià
defšed
(
__sun__
è&& defšed(
__svr4__
è&& !defšed(
NV_SUNOS
)

56 
	#NV_SUNOS


	)

60 #ià
defšed
(
__SUNPRO_C
è|| defšed(
__SUNPRO_CC
)

61 
	#NV_SUNPRO_C


	)

62 
	#NV_SUNOS


	)

65 #ià
defšed
(
__F»eBSD__
è&& !defšed(
NV_BSD
)

66 
	#NV_BSD


	)

70 #ià(
defšed
(
__unix__
è|| defšed(
__unix
è|| defšed(
__INTEGRITY
èè&& !defšed(
nvmacosx
è&& !defšed(
vxwÜks
è&& !defšed(
NV_UNIX
è&& !defšed(
__QNX__
è&& !defšed(
__QNXNTO__
)

71 
	#NV_UNIX


	)

74 #ià(
defšed
(
__QNX__
è|| defšed(
__QNXNTO__
)è&& !defšed(
NV_QNX
)

75 
	#NV_QNX


	)

78 #ià(
defšed
(
__ANDROID__
è|| defšed(
ANDROID
)è&& !defšed(
NV_ANDROID
)

79 
	#NV_ANDROID


	)

82 #ià
defšed
(
__hos__
è&& !defšed(
NV_HOS
)

83 
	#NV_HOS


	)

87 #ià
defšed
(
macštosh
è|| defšed(
__APPLE__
)

88 
	#NV_MACINTOSH


	)

89 #ià
defšed
(
__MACH__
)

90 
	#NV_MACINTOSH_OSX


	)

92 
	#NV_MACINTOSH_OS9


	)

94 #ià
defšed
(
__LP64__
)

95 
	#NV_MACINTOSH_64


	)

103 #ià
defšed
(
__vxwÜks
è|| defšed(
vxwÜks
)

104 
	#NV_VXWORKS


	)

108 #ià
defšed
(
__INTEGRITY
)

109 #ià!
defšed
(
NV_INTEGRITY
)

110 
	#NV_INTEGRITY


	)

117 #ià((
defšed
(
_M_IX86
è|| defšed(
__i386__
è|| defšed(
__i386
)è&& !defšed(
NVCPU_X86
))

120 
	#NVCPU_X86


	)

121 
	#NVCPU_MIN_PAGE_SHIFT
 12

	)

124 #ià
defšed
(
_WIN32
è&& defšed(
_M_IA64
)

125 
	#NVCPU_IA64_WINDOWS


	)

127 #ià
defšed
(
NV_LINUX
è&& defšed(
__Ÿ64__
)

128 
	#NVCPU_IA64_LINUX


	)

130 #ià
defšed
(
NVCPU_IA64_WINDOWS
è|| defšed(
NVCPU_IA64_LINUX
è|| defšed(
IA64
)

131 
	#NVCPU_IA64


	)

134 #ià(
defšed
(
NV_MACINTOSH
è&& !(defšed(
__i386__
è|| defšed(
__x86_64__
))è|| defšed(
__PPC__
è|| defšed(
__µc
)

135 #ià
defšed
(
__pow”pc64__
è&& defšed(
__LITTLE_ENDIAN__
)

136 #iâdeà
NVCPU_PPC64LE


137 
	#NVCPU_PPC64LE


	)

140 #iâdeà
NVCPU_PPC


141 
	#NVCPU_PPC


	)

143 #iâdeà
NV_BIG_ENDIAN


144 
	#NV_BIG_ENDIAN


	)

147 
	#NVCPU_FAMILY_PPC


	)

150 #ià
defšed
(
__x86_64
è|| defšed(
AMD64
è|| defšed(
_M_AMD64
)

151 
	#NVCPU_X86_64


	)

154 #ià
defšed
(
NVCPU_X86
è|| defšed(
NVCPU_X86_64
)

155 
	#NVCPU_FAMILY_X86


	)

158 #ià
defšed
(
__riscv
è&& (
__riscv_xËn
==64)

159 
	#NVCPU_RISCV64


	)

160 #ià
defšed
(
__nvriscv
)

161 
	#NVCPU_NVRISCV64


	)

165 #ià
defšed
(
__¬m__
è|| defšed(
_M_ARM
)

170 
	#NVCPU_ARM


	)

171 
	#NVCPU_MIN_PAGE_SHIFT
 12

	)

174 #ià
defšed
(
__¯rch64__
è|| defšed(
__ARM64__
)

175 
	#NVCPU_AARCH64


	)

176 
	#NVCPU_MIN_PAGE_SHIFT
 12

	)

179 #ià
defšed
(
NVCPU_ARM
è|| defšed(
NVCPU_AARCH64
)

180 
	#NVCPU_FAMILY_ARM


	)

183 #ià
defšed
(
__SH4__
)

184 #iâdeà
NVCPU_SH4


185 
	#NVCPU_SH4


	)

187 #ià 
defšed
 
NV_WINDOWS_CE


188 
	#NVCPU_MIN_PAGE_SHIFT
 12

	)

193 #ià
defšed
(
__XTENSA__
)

194 
	#NVCPU_XTENSA


	)

195 #ià
defšed
(
__XTENSA_EB__
)

196 
	#NV_BIG_ENDIAN


	)

210 #ià
defšed
(
NVCPU_MIN_PAGE_SHIFT
)

211 
	#NVCPU_MIN_PAGE_SIZE
 (1 << 
NVCPU_MIN_PAGE_SHIFT
)

	)

214 #ià
defšed
(
NVCPU_IA64
è|| defšed(
NVCPU_X86_64
) || \

215 
defšed
(
NV_MACINTOSH_64
è|| defšed(
NVCPU_AARCH64
) || \

216 
defšed
(
NVCPU_PPC64LE
è|| 
	$defšed
(
NVCPU_RISCV64
)

217 
	#NV_64_BITS


	)

228 #ià(!(
	`defšed
(
macštosh
è|| defšed(
vxwÜks
è|| defšed(
__INTEL_COMPILER
)è|| defšed(
NV_LINUX
)è&& !defšed(
NV_INT64_OK
)

229 
	#NV_INT64_OK


	)

233 #ià
	`defšed
(
NV_MODS
è&& defšed(
DEBUG
è&& !defšed(
DISABLE_VERIF_FEATURES
)

234 
	#NV_VERIF_FEATURES


	)

259 #ià
	`defšed
(
NV_WINDOWS
)

260 
	#NVOS_IS_WINDOWS
 1

	)

262 
	#NVOS_IS_WINDOWS
 0

	)

264 #ià
	`defšed
(
NV_WINDOWS_CE
)

265 
	#NVOS_IS_WINDOWS_CE
 1

	)

267 
	#NVOS_IS_WINDOWS_CE
 0

	)

269 #ià
	`defšed
(
NV_LINUX
)

270 
	#NVOS_IS_LINUX
 1

	)

272 
	#NVOS_IS_LINUX
 0

	)

274 #ià
	`defšed
(
NV_UNIX
)

275 
	#NVOS_IS_UNIX
 1

	)

277 
	#NVOS_IS_UNIX
 0

	)

279 #ià
	`defšed
(
NV_BSD
)

280 
	#NVOS_IS_FREEBSD
 1

	)

282 
	#NVOS_IS_FREEBSD
 0

	)

284 #ià
	`defšed
(
NV_SUNOS
)

285 
	#NVOS_IS_SOLARIS
 1

	)

287 
	#NVOS_IS_SOLARIS
 0

	)

289 #ià
	`defšed
(
NV_VMWARE
)

290 
	#NVOS_IS_VMWARE
 1

	)

292 
	#NVOS_IS_VMWARE
 0

	)

294 #ià
	`defšed
(
NV_QNX
)

295 
	#NVOS_IS_QNX
 1

	)

297 
	#NVOS_IS_QNX
 0

	)

299 #ià
	`defšed
(
NV_ANDROID
)

300 
	#NVOS_IS_ANDROID
 1

	)

302 
	#NVOS_IS_ANDROID
 0

	)

304 #ià
	`defšed
(
NV_MACINTOSH
)

305 
	#NVOS_IS_MACINTOSH
 1

	)

307 
	#NVOS_IS_MACINTOSH
 0

	)

309 #ià
	`defšed
(
NV_VXWORKS
)

310 
	#NVOS_IS_VXWORKS
 1

	)

312 
	#NVOS_IS_VXWORKS
 0

	)

314 #ià
	`defšed
(
NV_INTEGRITY
)

315 
	#NVOS_IS_INTEGRITY
 1

	)

317 
	#NVOS_IS_INTEGRITY
 0

	)

319 #ià
	`defšed
(
NV_HOS
)

320 
	#NVOS_IS_HOS
 1

	)

322 
	#NVOS_IS_HOS
 0

	)

324 #ià
	`defšed
(
NVCPU_X86
)

325 
	#NVCPU_IS_X86
 1

	)

327 
	#NVCPU_IS_X86
 0

	)

329 #ià
	`defšed
(
NVCPU_RISCV64
)

330 
	#NVCPU_IS_RISCV64
 1

	)

332 
	#NVCPU_IS_RISCV64
 0

	)

334 #ià
	`defšed
(
NVCPU_NVRISCV64
)

335 
	#NVCPU_IS_NVRISCV64
 1

	)

337 
	#NVCPU_IS_NVRISCV64
 0

	)

339 #ià
	`defšed
(
NVCPU_IA64
)

340 
	#NVCPU_IS_IA64
 1

	)

342 
	#NVCPU_IS_IA64
 0

	)

344 #ià
	`defšed
(
NVCPU_X86_64
)

345 
	#NVCPU_IS_X86_64
 1

	)

347 
	#NVCPU_IS_X86_64
 0

	)

349 #ià
	`defšed
(
NVCPU_FAMILY_X86
)

350 
	#NVCPU_IS_FAMILY_X86
 1

	)

352 
	#NVCPU_IS_FAMILY_X86
 0

	)

354 #ià
	`defšed
(
NVCPU_PPC
)

355 
	#NVCPU_IS_PPC
 1

	)

357 
	#NVCPU_IS_PPC
 0

	)

359 #ià
	`defšed
(
NVCPU_PPC64LE
)

360 
	#NVCPU_IS_PPC64LE
 1

	)

362 
	#NVCPU_IS_PPC64LE
 0

	)

364 #ià
	`defšed
(
NVCPU_FAMILY_PPC
)

365 
	#NVCPU_IS_FAMILY_PPC
 1

	)

367 
	#NVCPU_IS_FAMILY_PPC
 0

	)

369 #ià
	`defšed
(
NVCPU_ARM
)

370 
	#NVCPU_IS_ARM
 1

	)

372 
	#NVCPU_IS_ARM
 0

	)

374 #ià
	`defšed
(
NVCPU_AARCH64
)

375 
	#NVCPU_IS_AARCH64
 1

	)

377 
	#NVCPU_IS_AARCH64
 0

	)

379 #ià
	`defšed
(
NVCPU_FAMILY_ARM
)

380 
	#NVCPU_IS_FAMILY_ARM
 1

	)

382 
	#NVCPU_IS_FAMILY_ARM
 0

	)

384 #ià
	`defšed
(
NVCPU_SH4
)

385 
	#NVCPU_IS_SH4
 1

	)

387 
	#NVCPU_IS_SH4
 0

	)

389 #ià
	`defšed
(
NVCPU_XTENSA
)

390 
	#NVCPU_IS_XTENSA
 1

	)

392 
	#NVCPU_IS_XTENSA
 0

	)

394 #ià
	`defšed
(
NV_BIG_ENDIAN
)

395 
	#NVCPU_IS_BIG_ENDIAN
 1

	)

397 
	#NVCPU_IS_BIG_ENDIAN
 0

	)

399 #ià
	`defšed
(
NV_64_BITS
)

400 
	#NVCPU_IS_64_BITS
 1

	)

402 
	#NVCPU_IS_64_BITS
 0

	)

404 #ià
	`defšed
(
NVCPU_FAMILY_ARM
)

405 
	#NVCPU_IS_PCIE_CACHE_COHERENT
 0

	)

407 
	#NVCPU_IS_PCIE_CACHE_COHERENT
 1

	)

	@src/common/inc/nv-gpu-info.h

11 #iâdeà
_NV_GPU_INFO_H_


12 
	#_NV_GPU_INFO_H_


	)

15 
NvU32
 
	mgpu_id
;

18 
NvU32
 
	mdomaš
;

19 
NvU8
 
	mbus
, 
	m¦Ù
, 
	mfunùiÚ
;

20 } 
	mpci_šfo
;

26 *
	mos_dev_±r
;

27 } 
	tnv_gpu_šfo_t
;

29 
	#NV_MAX_GPUS
 32

	)

	@src/common/inc/nv-modeset-interface.h

11 #iâdeà
_NV_MODESET_INTERFACE_H_


12 
	#_NV_MODESET_INTERFACE_H_


	)

23 
	~"nv¡©us.h
"

24 
	~"ýuÝsys.h
"

26 
	~"nv-gpu-šfo.h
"

33 #ià
NVCPU_IS_X86


34 
	#NV_MODESET_INTERFACE_API_CALL
 
	`__©Œibu‹__
((
	`»g·rm
(0)))

	)

36 
	#NV_MODESET_INTERFACE_API_CALL


	)

45 
nvidŸ_¡ack_s
 *
	tnvidŸ_mode£t_¡ack_±r
;

58 (*
	msu¥’d
)(
NvU32
 
	mgpu_id
);

59 (*
	m»sume
)(
NvU32
 
	mgpu_id
);

60 } 
	tnvidŸ_mode£t_ÿÎbacks_t
;

75 cÚ¡ *
	mv”siÚ_¡ršg
;

82 
NvBoÞ
 
	m®low_wr™e_combššg
;

83 } 
	msy¡em_šfo
;

94 (*
	m®loc_¡ack
)(
nvidŸ_mode£t_¡ack_±r
 *
	m¥
);

95 (*
	mä“_¡ack
)(
nvidŸ_mode£t_¡ack_±r
 
	m¥
);

103 
NvU32
 (*
’um”©e_gpus
)(
nv_gpu_šfo_t
 *
	mgpu_šfo
);

110 (*
	mÝ’_gpu
)(
NvU32
 
	mgpu_id
, 
nvidŸ_mode£t_¡ack_±r
 
	m¥
);

111 (*
	mþo£_gpu
)(
NvU32
 
	mgpu_id
, 
nvidŸ_mode£t_¡ack_±r
 
	m¥
);

113 
NV_MODESET_INTERFACE_API_CALL
 (*
Ý
)

114 (
nvidŸ_mode£t_¡ack_±r
 
	m¥
, *
	mÝs_cmd
);

116 (*
	m£t_ÿÎbacks
)(cÚ¡ 
nvidŸ_mode£t_ÿÎbacks_t
 *
	mcb
);

118 } 
	tnvidŸ_mode£t_rm_Ýs_t
;

120 
NV_STATUS
 
nvidŸ_g‘_rm_Ýs
(
nvidŸ_mode£t_rm_Ýs_t
 *
rm_Ýs
);

	@src/common/inc/nvCpuUuid.h

23 #iâdeà
_NV_CPU_UUID_H_


24 
	#_NV_CPU_UUID_H_


	)

26 
	#NV_UUID_LEN
 16

	)

28 
	snv_uuid


30 
NvU8
 
	muuid
[
NV_UUID_LEN
];

32 } 
	tNvUuid
;

34 
NvUuid
 
	tNvSy¡emUuid
;

36 
NvUuid
 
	tNvProûssÜUuid
;

38 cÚ¡ 
NvProûssÜUuid
 
NV_PROCESSOR_UUID_CPU_DEFAULT
;

	@src/common/inc/nvipmi.h

40 #iâdeà
NVIPMI_INCLUDED


41 
	#NVIPMI_INCLUDED


	)

43 
	#NVIPMI_DATA_BUF_SIZE
 1024

	)

45 
	#NVIPMI_CCODE_INVALID
 0xff

	)

47 
	snvmi_»q


49 
NvU8
 
	mÃtâ
;

50 
NvU8
 
	mlun
;

51 
NvU8
 
	mcmd
;

52 
NvU8
 
	mrg‘_cmd
;

53 
NvU16
 
	md©a_Ën
;

54 
NvU8
 *
	md©a
;

55 } 
	tnvmi_»q_t
;

57 
	snvmi_»¥


59 
NvU8
 
	mccode
;

60 
NvS16
 
	md©a_Ën
;

61 
NvU8
 
	md©a
[
NVIPMI_DATA_BUF_SIZE
];

62 } 
	tnvmi_»¥_t
;

64 
	snvmi_»q_»¥


66 
nvmi_»q_t
 
	m»q
;

67 
nvmi_»¥_t
 
	m»¥
;

68 } 
	tnvmi_»q_»¥_t
;

	@src/common/inc/nvkms-api-types.h

11 #ià!
defšed
(
NVKMS_API_TYPES_H
)

12 
	#NVKMS_API_TYPES_H


	)

14 
	~"nvty³s.h
"

16 
	#NVKMS_MAX_SUBDEVICES
 8

	)

18 
	#NVKMS_LEFT
 0

	)

19 
	#NVKMS_RIGHT
 1

	)

20 
	#NVKMS_MAX_EYES
 2

	)

22 
	#NVKMS_MAIN_PLANE
 0

	)

23 
	#NVKMS_OVERLAY_PLANE
 1

	)

24 
	#NVKMS_MAX_PLANES_PER_HEAD
 2

	)

25 
	#NVKMS_ALL_PLANES_MASK
 (
	`BIT
(
NVKMS_MAIN_PLANE
) | \

26 
	`BIT
(
NVKMS_OVERLAY_PLANE
))

	)

28 
	#NVKMS_DP_ADDRESS_STRING_LENGTH
 64

	)

30 
NvU32
 
	tNvKmsDeviûHªdË
;

31 
NvU32
 
	tNvKmsDi¥HªdË
;

32 
NvU32
 
	tNvKmsCÚÃùÜHªdË
;

33 
NvU32
 
	tNvKmsSurçûHªdË
;

34 
NvU32
 
	tNvKmsF¿meLockHªdË
;

35 
NvU32
 
	tNvKmsDeã¼edReque¡FifoHªdË
;

36 
NvU32
 
	tNvKmsSw­GroupHªdË
;

38 
	sNvKmsSize
 {

39 
NvU16
 
	mwidth
;

40 
NvU16
 
	mheight
;

43 
	sNvKmsPošt
 {

44 
NvU16
 
	mx
;

45 
NvU16
 
	my
;

48 
	sNvKmsSigÃdPošt
 {

49 
NvS16
 
	mx
;

50 
NvS16
 
	my
;

53 
	sNvKmsReù
 {

54 
NvU16
 
	mx
;

55 
NvU16
 
	my
;

56 
NvU16
 
	mwidth
;

57 
NvU16
 
	mheight
;

67 
	sNvKmsM©rix
 {

68 
NvU32
 
	mm
[3][3];

72 
	mNVKMS_CONNECTOR_TYPE_DP
 = 0,

73 
	mNVKMS_CONNECTOR_TYPE_VGA
 = 1,

74 
	mNVKMS_CONNECTOR_TYPE_DVI_I
 = 2,

75 
	mNVKMS_CONNECTOR_TYPE_DVI_D
 = 3,

76 
	mNVKMS_CONNECTOR_TYPE_ADC
 = 4,

77 
	mNVKMS_CONNECTOR_TYPE_LVDS
 = 5,

78 
	mNVKMS_CONNECTOR_TYPE_HDMI
 = 6,

79 
	mNVKMS_CONNECTOR_TYPE_USBC
 = 7,

80 
	mNVKMS_CONNECTOR_TYPE_UNKNOWN
 = 8,

81 
	mNVKMS_CONNECTOR_TYPE_MAX
 = 
NVKMS_CONNECTOR_TYPE_UNKNOWN
,

82 } 
	tNvKmsCÚÃùÜTy³
;

84 
šlše


85 cÚ¡ *
	$NvKmsCÚÃùÜTy³SŒšg
(cÚ¡ 
NvKmsCÚÃùÜTy³
 
cÚÃùÜTy³
)

87 
cÚÃùÜTy³
) {

88 
NVKMS_CONNECTOR_TYPE_DP
:  "DP";

89 
NVKMS_CONNECTOR_TYPE_VGA
:  "VGA";

90 
NVKMS_CONNECTOR_TYPE_DVI_I
:  "DVI-I";

91 
NVKMS_CONNECTOR_TYPE_DVI_D
:  "DVI-D";

92 
NVKMS_CONNECTOR_TYPE_ADC
:  "ADC";

93 
NVKMS_CONNECTOR_TYPE_LVDS
:  "LVDS";

94 
NVKMS_CONNECTOR_TYPE_HDMI
:  "HDMI";

95 
NVKMS_CONNECTOR_TYPE_USBC
:  "USB-C";

99 
	}
}

102 
	mNVKMS_CONNECTOR_SIGNAL_FORMAT_VGA
 = 0,

103 
	mNVKMS_CONNECTOR_SIGNAL_FORMAT_LVDS
 = 1,

104 
	mNVKMS_CONNECTOR_SIGNAL_FORMAT_TMDS
 = 2,

105 
	mNVKMS_CONNECTOR_SIGNAL_FORMAT_DP
 = 3,

106 
	mNVKMS_CONNECTOR_SIGNAL_FORMAT_UNKNOWN
 = 4,

107 
	mNVKMS_CONNECTOR_SIGNAL_FORMAT_MAX
 =

108 
NVKMS_CONNECTOR_SIGNAL_FORMAT_UNKNOWN
,

109 } 
	tNvKmsCÚÃùÜSigÇlFÜm©
;

111 
	eNvKmsSurçûMemÜyFÜm©
 {

112 
	mNvKmsSurçûMemÜyFÜm©I8
 = 0,

113 
	mNvKmsSurçûMemÜyFÜm©A1R5G5B5
 = 1,

114 
	mNvKmsSurçûMemÜyFÜm©X1R5G5B5
 = 2,

115 
	mNvKmsSurçûMemÜyFÜm©R5G6B5
 = 3,

116 
	mNvKmsSurçûMemÜyFÜm©A8R8G8B8
 = 4,

117 
	mNvKmsSurçûMemÜyFÜm©X8R8G8B8
 = 5,

118 
	mNvKmsSurçûMemÜyFÜm©A2B10G10R10
 = 6,

119 
	mNvKmsSurçûMemÜyFÜm©X2B10G10R10
 = 7,

120 
	mNvKmsSurçûMemÜyFÜm©A8B8G8R8
 = 8,

121 
	mNvKmsSurçûMemÜyFÜm©X8B8G8R8
 = 9,

122 
	mNvKmsSurçûMemÜyFÜm©RF16GF16BF16AF16
 = 10,

123 
	mNvKmsSurçûMemÜyFÜm©R16G16B16A16
 = 11,

124 
	mNvKmsSurçûMemÜyFÜm©RF32GF32BF32AF32
 = 12,

127 
šlše
 
NvU8
 
	$nvKmsSurçûMemÜyFÜm©ToBy‹sP”Pix–
(

128 
NvKmsSurçûMemÜyFÜm©
 
fÜm©
)

130 
fÜm©
) {

131 
NvKmsSurçûMemÜyFÜm©I8
:

133 
NvKmsSurçûMemÜyFÜm©A1R5G5B5
:

134 
NvKmsSurçûMemÜyFÜm©X1R5G5B5
:

135 
NvKmsSurçûMemÜyFÜm©R5G6B5
:

137 
NvKmsSurçûMemÜyFÜm©A8R8G8B8
:

138 
NvKmsSurçûMemÜyFÜm©X8R8G8B8
:

139 
NvKmsSurçûMemÜyFÜm©A8B8G8R8
:

140 
NvKmsSurçûMemÜyFÜm©X8B8G8R8
:

141 
NvKmsSurçûMemÜyFÜm©A2B10G10R10
:

142 
NvKmsSurçûMemÜyFÜm©X2B10G10R10
:

144 
NvKmsSurçûMemÜyFÜm©RF16GF16BF16AF16
:

145 
NvKmsSurçûMemÜyFÜm©R16G16B16A16
:

147 
NvKmsSurçûMemÜyFÜm©RF32GF32BF32AF32
:

152 
	}
}

154 
šlše
 
NvU8
 
	$nvKmsSurçûMemÜyFÜm©ToB™sP”Pix–
(

155 
NvKmsSurçûMemÜyFÜm©
 
fÜm©
)

157  
	`nvKmsSurçûMemÜyFÜm©ToBy‹sP”Pix–
(
fÜm©
) * 8;

158 
	}
}

160 
šlše
 
NvU8
 
	$nvKmsSurçûMemÜyFÜm©ToD•th
(

161 
NvKmsSurçûMemÜyFÜm©
 
fÜm©
)

163 
fÜm©
) {

164 
NvKmsSurçûMemÜyFÜm©I8
:

166 
NvKmsSurçûMemÜyFÜm©X1R5G5B5
:

168 
NvKmsSurçûMemÜyFÜm©A1R5G5B5
:

169 
NvKmsSurçûMemÜyFÜm©R5G6B5
:

171 
NvKmsSurçûMemÜyFÜm©X8R8G8B8
:

172 
NvKmsSurçûMemÜyFÜm©X8B8G8R8
:

174 
NvKmsSurçûMemÜyFÜm©X2B10G10R10
:

176 
NvKmsSurçûMemÜyFÜm©A8R8G8B8
:

177 
NvKmsSurçûMemÜyFÜm©A8B8G8R8
:

178 
NvKmsSurçûMemÜyFÜm©A2B10G10R10
:

180 
NvKmsSurçûMemÜyFÜm©RF16GF16BF16AF16
:

181 
NvKmsSurçûMemÜyFÜm©R16G16B16A16
:

183 
NvKmsSurçûMemÜyFÜm©RF32GF32BF32AF32
:

188 
	}
}

190 
šlše
 cÚ¡ *
	$NvKmsSurçûMemÜyFÜm©ToSŒšg
(

191 cÚ¡ 
NvKmsSurçûMemÜyFÜm©
 
fÜm©
)

193 
fÜm©
) {

198 
NvKmsSurçûMemÜyFÜm©I8
:

200 
NvKmsSurçûMemÜyFÜm©A1R5G5B5
:

202 
NvKmsSurçûMemÜyFÜm©X1R5G5B5
:

204 
NvKmsSurçûMemÜyFÜm©R5G6B5
:

206 
NvKmsSurçûMemÜyFÜm©A8R8G8B8
:

208 
NvKmsSurçûMemÜyFÜm©X8R8G8B8
:

210 
NvKmsSurçûMemÜyFÜm©A2B10G10R10
:

212 
NvKmsSurçûMemÜyFÜm©X2B10G10R10
:

214 
NvKmsSurçûMemÜyFÜm©A8B8G8R8
:

216 
NvKmsSurçûMemÜyFÜm©X8B8G8R8
:

218 
NvKmsSurçûMemÜyFÜm©RF16GF16BF16AF16
:

220 
NvKmsSurçûMemÜyFÜm©R16G16B16A16
:

222 
NvKmsSurçûMemÜyFÜm©RF32GF32BF32AF32
:

227 
	}
}

261 
	eNvKmsNIsoFÜm©
 {

262 
	mNVKMS_NISO_FORMAT_LEGACY
,

263 
	mNVKMS_NISO_FORMAT_FOUR_WORD
,

264 
	mNVKMS_NISO_FORMAT_FOUR_WORD_NVDISPLAY
,

267 
	eNvKmsEv’tTy³
 {

268 
	mNVKMS_EVENT_TYPE_DPY_CHANGED
,

269 
	mNVKMS_EVENT_TYPE_DYNAMIC_DPY_CONNECTED
,

270 
	mNVKMS_EVENT_TYPE_DYNAMIC_DPY_DISCONNECTED
,

271 
	mNVKMS_EVENT_TYPE_DPY_ATTRIBUTE_CHANGED
,

272 
	mNVKMS_EVENT_TYPE_FRAMELOCK_ATTRIBUTE_CHANGED
,

273 
	mNVKMS_EVENT_TYPE_DISP_ATTRIBUTE_CHANGED
,

274 
	mNVKMS_EVENT_TYPE_FLIP_OCCURRED
,

277 
	sNvKmsU§geBounds
 {

279 
NvU8
 
	md•th
;

280 } 
	mcÜe
;

283 
NvBoÞ
 
	mu§bË
;

284 
NvBoÞ
 
	mdi¡R’d”U§bË
;

285 
NvU8
 
	md•th
;

286 } 
	mba£
;

289 
NvBoÞ
 
	mu§bË
;

290 
NvU8
 
	md•th
;

291 } 
	mov”Ïy
;

303 
	sNvKmsCscM©rix
 {

304 
NvSFXP16_16
 
	mm
[3][4];

307 
	#NVKMS_IDENTITY_CSC_MATRIX
 \

308 (
NvKmsCscM©rix
){{ \

312 }}

	)

	@src/common/inc/nvkms-kapi.h

11 #ià!
defšed
(
__NVKMS_KAPI_H__
)

13 
	~"nvty³s.h
"

15 
	~"nv-gpu-šfo.h
"

16 
	~"nvkms-­i-ty³s.h
"

18 
	#__NVKMS_KAPI_H__


	)

25 #ià
NVCPU_IS_X86


26 
	#NVKMS_KAPI_CALL
 
	`__©Œibu‹__
((
	`»g·rm
(0)))

	)

28 
	#NVKMS_KAPI_CALL


	)

31 
	#NVKMS_KAPI_MAX_HEADS
 4

	)

33 
	#NVKMS_KAPI_MAX_CONNECTORS
 16

	)

34 
	#NVKMS_KAPI_MAX_CLONE_DISPLAYS
 16

	)

36 
	#NVKMS_KAPI_EDID_BUFFER_SIZE
 2048

	)

38 
	#NVKMS_KAPI_MODE_NAME_LEN
 32

	)

45 
	gNvKmsK­iDeviû
;

46 
	gNvKmsK­iMemÜy
;

47 
	gNvKmsK­iSurçû
;

48 
	gNvKmsK­iChªÃlEv’t
;

50 
NvU32
 
	tNvKmsK­iCÚÃùÜ
;

51 
NvU32
 
	tNvKmsK­iDi¥Ïy
;

60 
	tNVKMS_KAPI_CALL
 
	tNvKmsChªÃlEv’tProc
(*
	td©aPŒ
, 
	tNvU32
 
	td©aU32
);

69 
	sNvKmsK­iDi¥ÏyModeTimšgs
 {

71 
NvU32
 
	m»äeshR©e
;

72 
NvU32
 
	mpix–ClockHz
;

73 
NvU32
 
	mhVisibË
;

74 
NvU32
 
	mhSyncS¹
;

75 
NvU32
 
	mhSyncEnd
;

76 
NvU32
 
	mhTÙ®
;

77 
NvU32
 
	mhSkew
;

78 
NvU32
 
	mvVisibË
;

79 
NvU32
 
	mvSyncS¹
;

80 
NvU32
 
	mvSyncEnd
;

81 
NvU32
 
	mvTÙ®
;

85 
NvU32
 
	mš‹¾aûd
 : 1;

86 
NvU32
 
	mdoubËSÿn
 : 1;

87 
NvU32
 
	mhSyncPos
 : 1;

88 
NvU32
 
	mhSyncNeg
 : 1;

89 
NvU32
 
	mvSyncPos
 : 1;

90 
NvU32
 
	mvSyncNeg
 : 1;

92 } 
	mæags
;

94 
NvU32
 
	mwidthMM
;

95 
NvU32
 
	mheightMM
;

99 
	sNvKmsK­iDi¥ÏyMode
 {

100 
NvKmsK­iDi¥ÏyModeTimšgs
 
	mtimšgs
;

101 
	mÇme
[
NVKMS_KAPI_MODE_NAME_LEN
];

104 
	sNvKmsK­iDeviûResourûsInfo
 {

106 
NvU32
 
	mnumH—ds
;

108 
NvU32
 
	mnumCÚÃùÜs
;

109 
NvKmsK­iCÚÃùÜ
 
	mcÚÃùÜHªdËs
[
NVKMS_KAPI_MAX_CONNECTORS
];

113 
NvU32
 
	mmšWidthInPix–s
;

114 
NvU32
 
	mmaxWidthInPix–s
;

116 
NvU32
 
	mmšHeightInPix–s
;

117 
NvU32
 
	mmaxHeightInPix–s
;

119 
NvU32
 
	mmaxCursÜSizeInPix–s
;

121 
NvU32
 
	mp™chAlignm’t
;

123 } 
	mÿps
;

127 
	eNvKmsK­iPÏÃTy³Rec
 {

128 
	mNVKMS_KAPI_PLANE_PRIMARY
 = 0,

129 
	mNVKMS_KAPI_PLANE_CURSOR
 = 1,

130 
	mNVKMS_KAPI_PLANE_OVERLAY
 = 2,

131 
	mNVKMS_KAPI_PLANE_MAX
 = 3,

132 } 
	tNvKmsK­iPÏÃTy³
;

134 
	#NVKMS_KAPI_PLANE_MASK
(
¶ªeTy³
è(1 << (¶ªeTy³))

	)

136 
	eNvKmsK­iM­pšgTy³Rec
 {

137 
	mNVKMS_KAPI_MAPPING_TYPE_USER
 = 1,

138 
	mNVKMS_KAPI_MAPPING_TYPE_KERNEL
 = 2,

139 } 
	tNvKmsK­iM­pšgTy³
;

141 
	sNvKmsK­iCÚÃùÜInfo
 {

143 
NvKmsK­iCÚÃùÜ
 
	mhªdË
;

145 
NvU32
 
	mphysiÿlIndex
;

147 
NvU32
 
	mh—dMask
;

149 
NvKmsCÚÃùÜSigÇlFÜm©
 
	msigÇlFÜm©
;

150 
NvKmsCÚÃùÜTy³
 
	mty³
;

156 
NvU32
 
	mnumIncom·tibËCÚÃùÜs
;

157 
NvKmsK­iCÚÃùÜ
 
	mšcom·tibËCÚÃùÜHªdËs
[
NVKMS_KAPI_MAX_CONNECTORS
];

161 
	sNvKmsK­iSticDi¥ÏyInfo
 {

163 
NvKmsK­iDi¥Ïy
 
	mhªdË
;

165 
NvKmsK­iCÚÃùÜ
 
	mcÚÃùÜHªdË
;

168 
	mdpAdd»ss
[
NVKMS_DP_ADDRESS_STRING_LENGTH
];

170 
NvBoÞ
 
	mš‹º®
;

173 
NvU32
 
	mnumPossibËClÚes
;

174 
NvKmsK­iDi¥Ïy
 
	mpossibËClÚeHªdËs
[
NVKMS_KAPI_MAX_CLONE_DISPLAYS
];

178 
	sNvKmsK­iPÏÃCÚfig
 {

179 
NvKmsK­iSurçû
 *
	msurçû
;

181 
NvU16
 
	m¤cX
, 
	m¤cY
;

182 
NvU16
 
	m¤cWidth
, 
	m¤cHeight
;

184 
NvU16
 
	md¡X
, 
	md¡Y
;

185 
NvU16
 
	md¡Width
, 
	md¡Height
;

188 
	sNvKmsK­iPÏÃReque¡edCÚfig
 {

189 
NvKmsK­iPÏÃCÚfig
 
	mcÚfig
;

191 
NvBoÞ
 
	msurçûChªged
 : 1;

192 
NvBoÞ
 
	m¤cXYChªged
 : 1;

193 
NvBoÞ
 
	m¤cWHChªged
 : 1;

194 
NvBoÞ
 
	md¡XYChªged
 : 1;

195 
NvBoÞ
 
	md¡WHChªged
 : 1;

196 } 
	mæags
;

199 
	sNvKmsK­iH—dModeS‘CÚfig
 {

216 
NvBoÞ
 
	mbAùive
;

218 
NvU32
 
	mnumDi¥Ïys
;

219 
NvKmsK­iDi¥Ïy
 
	mdi¥Ïys
[
NVKMS_KAPI_MAX_CLONE_DISPLAYS
];

221 
NvKmsK­iDi¥ÏyMode
 
	mmode
;

224 
	sNvKmsK­iH—dReque¡edCÚfig
 {

225 
NvKmsK­iH—dModeS‘CÚfig
 
	mmodeS‘CÚfig
;

227 
NvBoÞ
 
	maùiveChªged
 : 1;

228 
NvBoÞ
 
	mdi¥ÏysChªged
 : 1;

229 
NvBoÞ
 
	mmodeChªged
 : 1;

230 } 
	mæags
;

232 
NvKmsK­iPÏÃReque¡edCÚfig


233 
	m¶ªeReque¡edCÚfig
[
NVKMS_KAPI_PLANE_MAX
];

236 
	sNvKmsK­iReque¡edModeS‘CÚfig
 {

237 
NvU32
 
	mh—dsMask
;

238 
NvKmsK­iH—dReque¡edCÚfig


239 
	mh—dReque¡edCÚfig
[
NVKMS_KAPI_MAX_HEADS
];

242 
	sNvKmsK­iEv’tDi¥ÏyChªged
 {

243 
NvKmsK­iDi¥Ïy
 
	mdi¥Ïy
;

246 
	sNvKmsK­iEv’tDyÇmicDi¥ÏyCÚÃùed
 {

247 
NvKmsK­iDi¥Ïy
 
	mdi¥Ïy
;

250 
	sNvKmsK­iEv’tFlOccu¼ed
 {

251 
NvU32
 
	mh—d
;

252 
NvKmsK­iPÏÃTy³
 
	m¶ªe
;

255 
	sNvKmsK­iEv’t
 {

256 
NvKmsEv’tTy³
 
	mty³
;

258 
NvKmsK­iDeviû
 *
	mdeviû
;

260 *
	m´iv©eD©a
;

263 
NvKmsK­iEv’tDi¥ÏyChªged
 
	mdi¥ÏyChªged
;

264 
NvKmsK­iEv’tDyÇmicDi¥ÏyCÚÃùed
 
	mdyÇmicDi¥ÏyCÚÃùed
;

265 
NvKmsK­iEv’tFlOccu¼ed
 
	mæOccu¼ed
;

266 } 
	mu
;

269 
	sNvKmsK­iAÎoÿ‹DeviûP¬ams
 {

271 
NvU32
 
	mgpuId
;

274 *
	m´iv©eD©a
;

276 (*
	mev’tC®lback
)(cÚ¡ 
NvKmsK­iEv’t
 *
	mev’t
);

279 
	sNvKmsK­iDyÇmicDi¥ÏyP¬ams
 {

281 
NvKmsK­iDi¥Ïy
 
	mhªdË
;

284 
NvU32
 
	mcÚÃùed
;

288 
NvU16
 
	mbufãrSize
;

289 
NvU8
 
	mbufãr
[
NVKMS_KAPI_EDID_BUFFER_SIZE
];

290 } 
	medid
;

293 
NvBoÞ
 
	mov”rideEdid
;

296 
NvBoÞ
 
	mfÜûCÚÃùed
;

299 
NvBoÞ
 
	mfÜûDiscÚÃùed
;

302 
	sNvKmsK­iFunùiÚsTabË
 {

307 cÚ¡ *
	mv”siÚSŒšg
;

314 
NvBoÞ
 
	mbAÎowWr™eCombššg
;

315 } 
	msy¡emInfo
;

325 
NvU32
 
NVKMS_KAPI_CALL
 (*
’um”©eGpus
)(
nv_gpu_šfo_t
 *
	mgpuInfo
);

335 
NvKmsK­iDeviû
* 
NVKMS_KAPI_CALL
 (*
®loÿ‹Deviû
)

337 cÚ¡ 
NvKmsK­iAÎoÿ‹DeviûP¬ams
 *
	m·¿ms


346 
NVKMS_KAPI_CALL
 (*
ä“Deviû
)(
NvKmsK­iDeviû
 *
	mdeviû
);

355 
NvBoÞ
 
NVKMS_KAPI_CALL
 (*
g¿bOwÃrsh
)(
NvKmsK­iDeviû
 *
	mdeviû
);

362 
NVKMS_KAPI_CALL
 (*
»Ëa£OwÃrsh
)(
NvKmsK­iDeviû
 *
	mdeviû
);

380 
NvBoÞ
 
NVKMS_KAPI_CALL
 (*
deþ¬eEv’tIÁ”e¡
)

382 cÚ¡ 
NvKmsK­iDeviû
 *
	mdeviû
,

383 cÚ¡ 
NvU32
 
	mš‹»¡Mask


398 
NvBoÞ
 
NVKMS_KAPI_CALL
 (*
g‘DeviûResourûsInfo
)

400 
NvKmsK­iDeviû
 *
	mdeviû
,

401 
NvKmsK­iDeviûResourûsInfo
 *
	mšfo


424 
NvBoÞ
 
NVKMS_KAPI_CALL
 (*
g‘Di¥Ïys
)

426 
NvKmsK­iDeviû
 *
	mdeviû
,

427 
NvU32
 *
	mnumDi¥Ïys
, 
NvKmsK­iDi¥Ïy
 *
	mdi¥ÏyHªdËs


444 
NvBoÞ
 
NVKMS_KAPI_CALL
 (*
g‘CÚÃùÜInfo
)

446 
NvKmsK­iDeviû
 *
	mdeviû
,

447 
NvKmsK­iCÚÃùÜ
 
	mcÚÃùÜ
, 
NvKmsK­iCÚÃùÜInfo
 *
	mšfo


464 
NvBoÞ
 
NVKMS_KAPI_CALL
 (*
g‘SticDi¥ÏyInfo
)

466 
NvKmsK­iDeviû
 *
	mdeviû
,

467 
NvKmsK­iDi¥Ïy
 
	mdi¥Ïy
, 
NvKmsK­iSticDi¥ÏyInfo
 *
	mšfo


479 
NvBoÞ
 
NVKMS_KAPI_CALL
 (*
g‘DyÇmicDi¥ÏyInfo
)

481 
NvKmsK­iDeviû
 *
	mdeviû
,

482 
NvKmsK­iDyÇmicDi¥ÏyP¬ams
 *
	m·¿ms


498 
NvKmsK­iMemÜy
* 
NVKMS_KAPI_CALL
 (*
®loÿ‹MemÜy
)

500 
NvKmsK­iDeviû
 *
	mdeviû
, 
NvU64
 
	msize


525 
NvKmsK­iMemÜy
* 
NVKMS_KAPI_CALL
 (*
impÜtMemÜy
)

527 
NvKmsK­iDeviû
 *
	mdeviû
, 
NvU64
 
	msize
,

528 
NvU64
 
	mnvKmsP¬amsU£r
,

529 
NvU64
 
	mnvKmsP¬amsSize


547 
NvKmsK­iMemÜy
* 
NVKMS_KAPI_CALL
 (*
dupMemÜy
)

549 
NvKmsK­iDeviû
 *
	mdeviû
,

550 cÚ¡ 
NvKmsK­iDeviû
 *
	m¤cDeviû
,

551 cÚ¡ 
NvKmsK­iMemÜy
 *
	m¤cMemÜy


576 
NvBoÞ
 
NVKMS_KAPI_CALL
 (*
expÜtMemÜy
)

578 cÚ¡ 
NvKmsK­iDeviû
 *
	mdeviû
,

579 cÚ¡ 
NvKmsK­iMemÜy
 *
	mmemÜy
,

580 
NvU64
 
	mnvKmsP¬amsU£r
,

581 
NvU64
 
	mnvKmsP¬amsSize


593 
NVKMS_KAPI_CALL
 (*
ä“MemÜy
)

595 
NvKmsK­iDeviû
 *
	mdeviû
, 
NvKmsK­iMemÜy
 *
	mmemÜy


613 
NvBoÞ
 
NVKMS_KAPI_CALL
 (*
m­MemÜy
)

615 cÚ¡ 
NvKmsK­iDeviû
 *
	mdeviû
,

616 cÚ¡ 
NvKmsK­iMemÜy
 *
	mmemÜy
, 
NvKmsK­iM­pšgTy³
 
	mty³
,

617 **
	mµLš—rAdd»ss


632 
NVKMS_KAPI_CALL
 (*
unm­MemÜy
)

634 cÚ¡ 
NvKmsK­iDeviû
 *
	mdeviû
,

635 cÚ¡ 
NvKmsK­iMemÜy
 *
	mmemÜy
, 
NvKmsK­iM­pšgTy³
 
	mty³
,

636 cÚ¡ *
	mpLš—rAdd»ss


657 
NvKmsK­iSurçû
* 
NVKMS_KAPI_CALL
 (*
ü—‹Surçû
)

659 
NvKmsK­iDeviû
 *
	mdeviû
,

660 
NvKmsK­iMemÜy
 *
	mmemÜy
, 
NvKmsSurçûMemÜyFÜm©
 
	mfÜm©
,

661 
NvU32
 
	mwidth
, NvU32 
	mheight
, NvU32 
	mp™ch


671 
NVKMS_KAPI_CALL
 (*
de¡roySurçû
)

673 
NvKmsK­iDeviû
 *
	mdeviû
, 
NvKmsK­iSurçû
 *
	msurçû


695 
NVKMS_KAPI_CALL
 (*
g‘Di¥ÏyMode
)

697 
NvKmsK­iDeviû
 *
	mdeviû
,

698 
NvKmsK­iDi¥Ïy
 
	mdi¥Ïy
, 
NvU32
 
	mmodeIndex
,

699 
NvKmsK­iDi¥ÏyMode
 *
	mmode
, 
NvBoÞ
 *
	mv®id


714 
NvBoÞ
 
NVKMS_KAPI_CALL
 (*
v®id©eDi¥ÏyMode
)

716 
NvKmsK­iDeviû
 *
	mdeviû
,

717 
NvKmsK­iDi¥Ïy
 
	mdi¥Ïy
, cÚ¡ 
NvKmsK­iDi¥ÏyMode
 *
	mmode


736 
NvBoÞ
 
NVKMS_KAPI_CALL
 (*
­¶yModeS‘CÚfig
)

738 
NvKmsK­iDeviû
 *
	mdeviû
,

739 cÚ¡ 
NvKmsK­iReque¡edModeS‘CÚfig
 *
	m»que¡edCÚfig
,

740 cÚ¡ 
NvBoÞ
 
	mcomm™


757 
NvBoÞ
 
NVKMS_KAPI_CALL
 (*
g‘FlP’dšgStus
)

759 cÚ¡ 
NvKmsK­iDeviû
 *
	mdeviû
,

760 cÚ¡ 
NvU32
 
	mh—d
,

761 cÚ¡ 
NvKmsK­iPÏÃTy³
 
	m¶ªe
,

762 
NvBoÞ
 *
	m³ndšg


782 
NvKmsK­iChªÃlEv’t
* 
NVKMS_KAPI_CALL
 (*
®loÿ‹ChªÃlEv’t
)

784 
NvKmsK­iDeviû
 *
	mdeviû
,

785 
NvKmsChªÃlEv’tProc
 *
	m´oc
,

786 *
	md©a
,

787 
NvU64
 
	mnvKmsP¬amsU£r
,

788 
NvU64
 
	mnvKmsP¬amsSize


799 
NVKMS_KAPI_CALL
 (*
ä“ChªÃlEv’t
)

801 
NvKmsK­iDeviû
 *
	mdeviû
,

802 
NvKmsK­iChªÃlEv’t
 *
	mcb


818 
NvBoÞ
 
NVKMS_KAPI_CALL
 (*
g‘CRC32
)

820 
NvKmsK­iDeviû
 *
	mdeviû
,

821 
NvU32
 
	mh—d
,

822 
NvU32
 *
	müc32


833 
NvBoÞ
 
NVKMS_KAPI_CALL
 
	gnvKmsK­iG‘FunùiÚsTabË


835 
NvKmsK­iFunùiÚsTabË
 *
	gfuncsTabË


	@src/common/inc/nvlimits.h

23 #iâdeà
NVLIMITS_INCLUDED


24 
	#NVLIMITS_INCLUDED


	)

29 
	#NV_MAX_DEVICES
 32

	)

	@src/common/inc/nvstatus.h

24 #iâdeà
_NVSTATUS_H_


25 
	#_NVSTATUS_H_


	)

30 #ià!
defšed
(
XAPIGEN
)

32 #ifdeà
__ýlu¥lus


36 
	~"nvty³s.h
"

38 
NvU32
 
	tNV_STATUS
;

40 
	#NV_STATUS_CODE
Ð
Çme
, 
code
, 
¡ršg
 )‚amðcode,

	)

44 
	~"nv¡©uscodes.h
"

47 #undeà
NV_STATUS_CODE


54 
	#NV_STATUS_LEVEL_OK
 0

	)

69 
	#NV_STATUS_LEVEL_WARN
 1

	)

76 
	#NV_STATUS_LEVEL_ERR
 3

	)

104 
	#NV_STATUS_LEVEL
(
_S
) \

105 ((
_S
è=ð
NV_OK
? 
NV_STATUS_LEVEL_OK
: \

106 ((
_S
è!ð
NV_ERR_GENERIC
 && (_Sè& 0x00010000? 
NV_STATUS_LEVEL_WARN
: \

107 
NV_STATUS_LEVEL_ERR
))

	)

116 
	#NV_STATUS_LEVEL_CHAR
(
_S
) \

117 ((
_S
è=ð
NV_OK
? '0': \

118 ((
_S
è!ð
NV_ERR_GENERIC
 && (_S) & 0x00010000? 'W': \

119 'E'))

	)

122 cÚ¡ *
nv¡©usToSŒšg
(
NV_STATUS
 
nvStusIn
);

124 #ifdeà
__ýlu¥lus


	@src/common/inc/nvstatuscodes.h

24 #iâdeà
_NVSTATUSCODES_H_


25 
	#_NVSTATUSCODES_H_


	)

30 #ià!
defšed
(
XAPIGEN
)

32 
NV_STATUS_CODE
(
NV_OK
, 0x00000000, "Success")

33 
NV_STATUS_CODE
(
NV_ERR_GENERIC
, 0x0000FFFF, "Failure: Generic Error")

35 
NV_STATUS_CODE
(
NV_ERR_BROKEN_FB
, 0x00000001, "Frame-Buffer broken")

36 
NV_STATUS_CODE
(
NV_ERR_BUFFER_TOO_SMALL
, 0x00000002, "Buffer…assed in isoo small")

37 
NV_STATUS_CODE
(
NV_ERR_BUSY_RETRY
, 0x00000003, "System is busy,„etry†ater")

38 
NV_STATUS_CODE
(
NV_ERR_CALLBACK_NOT_SCHEDULED
, 0x00000004, "The„equested callback API‚ot scheduled")

39 
NV_STATUS_CODE
(
NV_ERR_CARD_NOT_PRESENT
, 0x00000005, "Card‚ot detected")

40 
NV_STATUS_CODE
(
NV_ERR_CYCLE_DETECTED
, 0x00000006, "Call cycle detected")

41 
NV_STATUS_CODE
(
NV_ERR_DMA_IN_USE
, 0x00000007, "Requested DMA is in use")

42 
NV_STATUS_CODE
(
NV_ERR_DMA_MEM_NOT_LOCKED
, 0x00000008, "Requested DMA memory is‚ot†ocked")

43 
NV_STATUS_CODE
(
NV_ERR_DMA_MEM_NOT_UNLOCKED
, 0x00000009, "Requested DMA memory is‚ot unlocked")

44 
NV_STATUS_CODE
(
NV_ERR_DUAL_LINK_INUSE
, 0x0000000A, "Dual-Link is in use")

45 
NV_STATUS_CODE
(
NV_ERR_ECC_ERROR
, 0x0000000B, "Generic ECCƒrror")

46 
NV_STATUS_CODE
(
NV_ERR_FIFO_BAD_ACCESS
, 0x0000000C, "FIFO: Invalid‡ccess")

47 
NV_STATUS_CODE
(
NV_ERR_FREQ_NOT_SUPPORTED
, 0x0000000D, "Requested frequency is‚ot supported")

48 
NV_STATUS_CODE
(
NV_ERR_GPU_DMA_NOT_INITIALIZED
, 0x0000000E, "Requested DMA‚ot initialized")

49 
NV_STATUS_CODE
(
NV_ERR_GPU_IS_LOST
, 0x0000000F, "GPU†ost fromhe bus")

50 
NV_STATUS_CODE
(
NV_ERR_GPU_IN_FULLCHIP_RESET
, 0x00000010, "GPU currently in full-chip„eset")

51 
NV_STATUS_CODE
(
NV_ERR_GPU_NOT_FULL_POWER
, 0x00000011, "GPU‚ot in full…ower")

52 
NV_STATUS_CODE
(
NV_ERR_GPU_UUID_NOT_FOUND
, 0x00000012, "GPU UUID‚ot found")

53 
NV_STATUS_CODE
(
NV_ERR_HOT_SWITCH
, 0x00000013, "System in hot switch")

54 
NV_STATUS_CODE
(
NV_ERR_I2C_ERROR
, 0x00000014, "I2C Error")

55 
NV_STATUS_CODE
(
NV_ERR_I2C_SPEED_TOO_HIGH
, 0x00000015, "I2C Error: Speedoo high")

56 
NV_STATUS_CODE
(
NV_ERR_ILLEGAL_ACTION
, 0x00000016, "Current‡ction is‚ot‡llowed")

57 
NV_STATUS_CODE
(
NV_ERR_IN_USE
, 0x00000017, "Generic busyƒrror")

58 
NV_STATUS_CODE
(
NV_ERR_INFLATE_COMPRESSED_DATA_FAILED
, 0x00000018, "Failedo inflate compressed data")

59 
NV_STATUS_CODE
(
NV_ERR_INSERT_DUPLICATE_NAME
, 0x00000019, "Found‡ duplicateƒntry inhe„equested btree")

60 
NV_STATUS_CODE
(
NV_ERR_INSUFFICIENT_RESOURCES
, 0x0000001A, "Ran out of‡ critical„esource, otherhan memory")

61 
NV_STATUS_CODE
(
NV_ERR_INSUFFICIENT_PERMISSIONS
, 0x0000001B, "The„equester does‚ot have sufficient…ermissions")

62 
NV_STATUS_CODE
(
NV_ERR_INSUFFICIENT_POWER
, 0x0000001C, "Generic Error: Low…ower")

63 
NV_STATUS_CODE
(
NV_ERR_INVALID_ACCESS_TYPE
, 0x0000001D, "Thisype of‡ccess is‚ot‡llowed")

64 
NV_STATUS_CODE
(
NV_ERR_INVALID_ADDRESS
, 0x0000001E, "Address‚ot valid")

65 
NV_STATUS_CODE
(
NV_ERR_INVALID_ARGUMENT
, 0x0000001F, "Invalid‡rgumento call")

66 
NV_STATUS_CODE
(
NV_ERR_INVALID_BASE
, 0x00000020, "Invalid base")

67 
NV_STATUS_CODE
(
NV_ERR_INVALID_CHANNEL
, 0x00000021, "Given channel-id‚ot valid")

68 
NV_STATUS_CODE
(
NV_ERR_INVALID_CLASS
, 0x00000022, "Given class-id‚ot valid")

69 
NV_STATUS_CODE
(
NV_ERR_INVALID_CLIENT
, 0x00000023, "Given client‚ot valid")

70 
NV_STATUS_CODE
(
NV_ERR_INVALID_COMMAND
, 0x00000024, "Command…assed is‚ot valid")

71 
NV_STATUS_CODE
(
NV_ERR_INVALID_DATA
, 0x00000025, "Invalid data…assed")

72 
NV_STATUS_CODE
(
NV_ERR_INVALID_DEVICE
, 0x00000026, "Current device is‚ot valid")

73 
NV_STATUS_CODE
(
NV_ERR_INVALID_DMA_SPECIFIER
, 0x00000027, "The„equested DMA specifier is‚ot valid")

74 
NV_STATUS_CODE
(
NV_ERR_INVALID_EVENT
, 0x00000028, "Invalidƒvent occured")

75 
NV_STATUS_CODE
(
NV_ERR_INVALID_FLAGS
, 0x00000029, "Invalid flags…assed")

76 
NV_STATUS_CODE
(
NV_ERR_INVALID_FUNCTION
, 0x0000002A, "Called function is‚ot valid")

77 
NV_STATUS_CODE
(
NV_ERR_INVALID_HEAP
, 0x0000002B, "Heap corrupted")

78 
NV_STATUS_CODE
(
NV_ERR_INVALID_INDEX
, 0x0000002C, "Index invalid")

79 
NV_STATUS_CODE
(
NV_ERR_INVALID_IRQ_LEVEL
, 0x0000002D, "Requested IRQ†evel is‚ot valid")

80 
NV_STATUS_CODE
(
NV_ERR_INVALID_LIMIT
, 0x0000002E, "Generic Error: Invalid†imit")

81 
NV_STATUS_CODE
(
NV_ERR_INVALID_LOCK_STATE
, 0x0000002F, "Requested†ock state‚ot valid")

82 
NV_STATUS_CODE
(
NV_ERR_INVALID_METHOD
, 0x00000030, "Requested method‚ot valid")

83 
NV_STATUS_CODE
(
NV_ERR_INVALID_OBJECT
, 0x00000031, "Object‚ot valid")

84 
NV_STATUS_CODE
(
NV_ERR_INVALID_OBJECT_BUFFER
, 0x00000032, "Object buffer…assed is‚ot valid")

85 
NV_STATUS_CODE
(
NV_ERR_INVALID_OBJECT_HANDLE
, 0x00000033, "Object handle is‚ot valid")

86 
NV_STATUS_CODE
(
NV_ERR_INVALID_OBJECT_NEW
, 0x00000034, "New object is‚ot valid")

87 
NV_STATUS_CODE
(
NV_ERR_INVALID_OBJECT_OLD
, 0x00000035, "Old object is‚ot valid")

88 
NV_STATUS_CODE
(
NV_ERR_INVALID_OBJECT_PARENT
, 0x00000036, "Object…arent is‚ot valid")

89 
NV_STATUS_CODE
(
NV_ERR_INVALID_OFFSET
, 0x00000037, "The offset…assed is‚ot valid")

90 
NV_STATUS_CODE
(
NV_ERR_INVALID_OPERATION
, 0x00000038, "Requested operation is‚ot valid")

91 
NV_STATUS_CODE
(
NV_ERR_INVALID_OWNER
, 0x00000039, "Owner‚ot valid")

92 
NV_STATUS_CODE
(
NV_ERR_INVALID_PARAM_STRUCT
, 0x0000003A, "Invalid structure…arameter")

93 
NV_STATUS_CODE
(
NV_ERR_INVALID_PARAMETER
, 0x0000003B, "At†east one ofhe…arameters…assed is‚ot valid")

94 
NV_STATUS_CODE
(
NV_ERR_INVALID_PATH
, 0x0000003C, "The„equested…ath is‚ot valid")

95 
NV_STATUS_CODE
(
NV_ERR_INVALID_POINTER
, 0x0000003D, "Pointer‚ot valid")

96 
NV_STATUS_CODE
(
NV_ERR_INVALID_REGISTRY_KEY
, 0x0000003E, "Found‡n invalid„egistry key")

97 
NV_STATUS_CODE
(
NV_ERR_INVALID_REQUEST
, 0x0000003F, "Generic Error: Invalid„equest")

98 
NV_STATUS_CODE
(
NV_ERR_INVALID_STATE
, 0x00000040, "Generic Error: Invalid state")

99 
NV_STATUS_CODE
(
NV_ERR_INVALID_STRING_LENGTH
, 0x00000041, "The string†ength is‚ot valid")

100 
NV_STATUS_CODE
(
NV_ERR_INVALID_READ
, 0x00000042, "The„equested„ead operation is‚ot valid")

101 
NV_STATUS_CODE
(
NV_ERR_INVALID_WRITE
, 0x00000043, "The„equested write operation is‚ot valid")

102 
NV_STATUS_CODE
(
NV_ERR_INVALID_XLATE
, 0x00000044, "The„equestedranslate operation is‚ot valid")

103 
NV_STATUS_CODE
(
NV_ERR_IRQ_NOT_FIRING
, 0x00000045, "Requested IRQ is‚ot firing")

104 
NV_STATUS_CODE
(
NV_ERR_IRQ_EDGE_TRIGGERED
, 0x00000046, "IRQ isƒdgeriggered")

105 
NV_STATUS_CODE
(
NV_ERR_MEMORY_TRAINING_FAILED
, 0x00000047, "Failed memoryraining sequence")

106 
NV_STATUS_CODE
(
NV_ERR_MISMATCHED_SLAVE
, 0x00000048, "Slave mismatch")

107 
NV_STATUS_CODE
(
NV_ERR_MISMATCHED_TARGET
, 0x00000049, "Target mismatch")

108 
NV_STATUS_CODE
(
NV_ERR_MISSING_TABLE_ENTRY
, 0x0000004A, "Requestedƒntry missing‚ot found inheable")

109 
NV_STATUS_CODE
(
NV_ERR_MODULE_LOAD_FAILED
, 0x0000004B, "Failedo†oadhe„equested module")

110 
NV_STATUS_CODE
(
NV_ERR_MORE_DATA_AVAILABLE
, 0x0000004C, "There is more data‡vailable")

111 
NV_STATUS_CODE
(
NV_ERR_MORE_PROCESSING_REQUIRED
, 0x0000004D, "More…rocessing„equired forhe given call")

112 
NV_STATUS_CODE
(
NV_ERR_MULTIPLE_MEMORY_TYPES
, 0x0000004E, "Multiple memoryypes found")

113 
NV_STATUS_CODE
(
NV_ERR_NO_FREE_FIFOS
, 0x0000004F, "No more free FIFOs found")

114 
NV_STATUS_CODE
(
NV_ERR_NO_INTR_PENDING
, 0x00000050, "No interrupt…ending")

115 
NV_STATUS_CODE
(
NV_ERR_NO_MEMORY
, 0x00000051, "Out of memory")

116 
NV_STATUS_CODE
(
NV_ERR_NO_SUCH_DOMAIN
, 0x00000052, "Requested domain does‚otƒxist")

117 
NV_STATUS_CODE
(
NV_ERR_NO_VALID_PATH
, 0x00000053, "Caller did‚ot speficy‡ valid…ath")

118 
NV_STATUS_CODE
(
NV_ERR_NOT_COMPATIBLE
, 0x00000054, "Generic Error: Incompatibleypes")

119 
NV_STATUS_CODE
(
NV_ERR_NOT_READY
, 0x00000055, "Generic Error: Not„eady")

120 
NV_STATUS_CODE
(
NV_ERR_NOT_SUPPORTED
, 0x00000056, "Call‚ot supported")

121 
NV_STATUS_CODE
(
NV_ERR_OBJECT_NOT_FOUND
, 0x00000057, "Requested object‚ot found")

122 
NV_STATUS_CODE
(
NV_ERR_OBJECT_TYPE_MISMATCH
, 0x00000058, "Specified objects do‚ot match")

123 
NV_STATUS_CODE
(
NV_ERR_OPERATING_SYSTEM
, 0x00000059, "Generic operating systemƒrror")

124 
NV_STATUS_CODE
(
NV_ERR_OTHER_DEVICE_FOUND
, 0x0000005A, "Found other device instead ofhe„equested one")

125 
NV_STATUS_CODE
(
NV_ERR_OUT_OF_RANGE
, 0x0000005B, "The specified value is out of bounds")

126 
NV_STATUS_CODE
(
NV_ERR_OVERLAPPING_UVM_COMMIT
, 0x0000005C, "Overlapping unified virtual memory commit")

127 
NV_STATUS_CODE
(
NV_ERR_PAGE_TABLE_NOT_AVAIL
, 0x0000005D, "Requested…ageable‚ot‡vailable")

128 
NV_STATUS_CODE
(
NV_ERR_PID_NOT_FOUND
, 0x0000005E, "Process-Id‚ot found")

129 
NV_STATUS_CODE
(
NV_ERR_PROTECTION_FAULT
, 0x0000005F, "Protection fault")

130 
NV_STATUS_CODE
(
NV_ERR_RC_ERROR
, 0x00000060, "Generic RCƒrror")

131 
NV_STATUS_CODE
(
NV_ERR_REJECTED_VBIOS
, 0x00000061, "Given Video BIOS„ejected/invalid")

132 
NV_STATUS_CODE
(
NV_ERR_RESET_REQUIRED
, 0x00000062, "Reset„equired")

133 
NV_STATUS_CODE
(
NV_ERR_STATE_IN_USE
, 0x00000063, "State in use")

134 
NV_STATUS_CODE
(
NV_ERR_SIGNAL_PENDING
, 0x00000064, "Signal…ending")

135 
NV_STATUS_CODE
(
NV_ERR_TIMEOUT
, 0x00000065, "Callimed out")

136 
NV_STATUS_CODE
(
NV_ERR_TIMEOUT_RETRY
, 0x00000066, "Callimed out,…lease„etry†ater")

137 
NV_STATUS_CODE
(
NV_ERR_TOO_MANY_PRIMARIES
, 0x00000067, "Too many…rimaries")

138 
NV_STATUS_CODE
(
NV_ERR_UVM_ADDRESS_IN_USE
, 0x00000068, "Unified virtual memory„equested‡ddress‡lready in use")

139 
NV_STATUS_CODE
(
NV_ERR_MAX_SESSION_LIMIT_REACHED
, 0x00000069, "Maximum‚umber of sessions„eached")

140 
NV_STATUS_CODE
(
NV_ERR_LIB_RM_VERSION_MISMATCH
, 0x0000006A, "Library version doesn't match driver version")

141 
NV_STATUS_CODE
(
NV_ERR_PRIV_SEC_VIOLATION
, 0x0000006B, "Priv security violation")

142 
NV_STATUS_CODE
(
NV_ERR_GPU_IN_DEBUG_MODE
, 0x0000006C, "GPU currently in debug mode")

143 
NV_STATUS_CODE
(
NV_ERR_FEATURE_NOT_ENABLED
, 0x0000006D, "Requested Feature functionality is‚otƒnabled")

144 
NV_STATUS_CODE
(
NV_ERR_RESOURCE_LOST
, 0x0000006E, "Requested„esource has been destroyed")

147 
NV_STATUS_CODE
(
NV_WARN_HOT_SWITCH
, 0x00010001, "WARNING Hot switch")

148 
NV_STATUS_CODE
(
NV_WARN_INCORRECT_PERFMON_DATA
, 0x00010002, "WARNING Incorrect…erformance monitor data")

149 
NV_STATUS_CODE
(
NV_WARN_MISMATCHED_SLAVE
, 0x00010003, "WARNING Slave mismatch")

150 
NV_STATUS_CODE
(
NV_WARN_MISMATCHED_TARGET
, 0x00010004, "WARNING Target mismatch")

151 
NV_STATUS_CODE
(
NV_WARN_MORE_PROCESSING_REQUIRED
, 0x00010005, "WARNING More…rocessing„equired forhe call")

152 
NV_STATUS_CODE
(
NV_WARN_NOTHING_TO_DO
, 0x00010006, "WARNING Nothingo do")

153 
NV_STATUS_CODE
(
NV_WARN_NULL_OBJECT
, 0x00010007, "WARNING NULL object found")

154 
NV_STATUS_CODE
(
NV_WARN_OUT_OF_RANGE
, 0x00010008, "WARNING value out of„ange")

	@src/common/inc/nvtypes.h

51 #iâdeà
NVTYPES_INCLUDED


52 
	#NVTYPES_INCLUDED


	)

57 #ià!
defšed
(
XAPIGEN
)

59 #ifdeà
__ýlu¥lus


63 
	~"ýuÝsys.h
"

64 
	~"x­i-sdk.h
"

66 
	#NVRM_64
 1

	)

67 #ià
defšed
(
NV_64_BITS
)

68 
	#NVRM_TRUE64
 1

	)

75 #ifdeà
NV_MISRA_COMPLIANCE_REQUIRED


77 
	tUIÁ64
;

78 sigÃd 
	tIÁ64
;

79 
	tUIÁ32
;

80 sigÃd 
	tIÁ32
;

81 
	tUIÁ16
;

82 sigÃd 
	tIÁ16
;

83 
	tUIÁ8
 ;

84 sigÃd 
	tIÁ8
 ;

86 
	tVoid
;

87 
	tæßt32_t
;

88 
	tæßt64_t
;

93 #ifdeà
NV_MISRA_COMPLIANCE_REQUIRED


94 
æßt32_t
 
	tNvF32
;

95 
æßt64_t
 
	tNvF64
;

97 
	tNvF32
;

98 
	tNvF64
;

103 #ifdeà
NV_MISRA_COMPLIANCE_REQUIRED


104 
UIÁ8
 
	tNvV8
;

105 
UIÁ8
 
	tNvU8
;

106 
IÁ8
 
	tNvS8
;

108 
	tNvV8
;

109 
	tNvU8
;

110 sigÃd 
	tNvS8
;

115 #ifdeà
__INT16_TYPE__


116 
	t__INT16_TYPE__
 
	tNvV16
;

117 
	t__INT16_TYPE__
 
	tNvU16
;

118 sigÃd 
	t__INT16_TYPE__
 
	tNvS16
;

122 #ifdeà
NV_MISRA_COMPLIANCE_REQUIRED


123 
UIÁ16
 
	tNvV16
;

124 
UIÁ16
 
	tNvU16
;

125 
IÁ16
 
	tNvS16
;

127 
	tNvV16
;

128 
	tNvU16
;

129 sigÃd 
	tNvS16
;

135 
	#NvU16_HI08
(
n
è((
NvU8
)(((
NvU16
)Ò)è>> 8))

	)

136 
	#NvU16_LO08
(
n
è((
NvU8
)((
NvU16
)Ò)))

	)

139 
	#NvU16_BUILD
(
msb
, 
lsb
è(((msbè<< 8)|Ösb))

	)

141 #ià
defšed
(
macosx
è|| defšed(
MACOS
è|| defšed(
NV_MACINTOSH
) || \

142 
defšed
(
NV_MACINTOSH_64
è|| defšed(
NVCPU_AARCH64
)

143 * 
	tNVREGSTR
;

145 
NvU8
* 
	tNVREGSTR
;

150 #ifdeà
__INT32_TYPE__


151 
	t__INT32_TYPE__
 
	tNvV32
;

152 
	t__INT32_TYPE__
 
	tNvU32
;

153 sigÃd 
	t__INT32_TYPE__
 
	tNvS32
;

161 #ià(
defšed
(
NV_UNIX
è|| defšed(
vxwÜks
è|| defšed(
NV_WINDOWS_CE
) || \

162 
defšed
(
__¬m
è|| defšed(
__IAR_SYSTEMS_ICC__
è|| defšed(
NV_QNX
) || \

163 
defšed
(
NV_INTEGRITY
è|| defšed(
NV_HOS
è|| defšed(
NV_MODS
) || \

164 
defšed
(
__GNUC__
è|| defšed(
__þªg__
è|| defšed(
NV_MACINTOSH_64
)) && \

165 (!
defšed
(
NV_MACINTOSH
è|| defšed(
NV_MACINTOSH_64
))

166 #ifdeà
NV_MISRA_COMPLIANCE_REQUIRED


167 
UIÁ32
 
	tNvV32
;

168 
UIÁ32
 
	tNvU32
;

170 
	tNvV32
;

171 
	tNvU32
;

176 
	tNvV32
;

177 
	tNvU32
;

181 #ià
defšed
(
NV_MACINTOSH
è&& !defšed(
NV_MACINTOSH_64
)

182 sigÃd 
	tNvS32
;

184 #ifdeà
NV_MISRA_COMPLIANCE_REQUIRED


185 
IÁ32
 
	tNvS32
;

187 sigÃd 
	tNvS32
;

195 #ià
defšed
(
__GNUC__
è|| defšed(
__þªg__
è|| defšed(
__¬m
) || \

196 
defšed
(
__IAR_SYSTEMS_ICC__
è|| defšed(
__ghs__
è|| defšed(
_WIN64
) || \

197 
defšed
(
__SUNPRO_C
è|| defšed(
__SUNPRO_CC
è|| defšed (
__xlC__
)

198 #ifdeà
NV_MISRA_COMPLIANCE_REQUIRED


199 
UIÁ64
 
	tNvU64
;

200 
IÁ64
 
	tNvS64
;

202 
	tNvU64
;

203 
	tNvS64
;

206 
	#NvU64_fmtX
 "ÎX"

	)

207 
	#NvU64_fmtx
 "Îx"

	)

208 
	#NvU64_fmtu
 "Îu"

	)

209 
	#NvU64_fmto
 "Îo"

	)

210 
	#NvS64_fmtd
 "Îd"

	)

211 
	#NvS64_fmti
 "Îi"

	)

215 
	t__št64
 
	tNvU64
;

216 
__št64
 
	tNvS64
;

218 
	#NvU64_fmtX
 "I64X"

	)

219 
	#NvU64_fmtx
 "I64x"

	)

220 
	#NvU64_fmtu
 "I64u"

	)

221 
	#NvU64_fmto
 "I64o"

	)

222 
	#NvS64_fmtd
 "I64d"

	)

223 
	#NvS64_fmti
 "I64i"

	)

227 #ifdeà
NV_TYPESAFE_HANDLES


236 
NvU32
 
v®
;

237 } 
	tNvHªdË
;

242 
NvU32
 
	tNvHªdË
;

246 
NvU8
 
	tNvBoÞ
;

247 
	#NV_TRUE
 ((
NvBoÞ
)(0 =ð0))

	)

248 
	#NV_FALSE
 ((
NvBoÞ
)(0 !ð0))

	)

251 
NvU8
 
	tNvTri¡©e
;

252 
	#NV_TRISTATE_FALSE
 ((
NvTri¡©e
è0)

	)

253 
	#NV_TRISTATE_TRUE
 ((
NvTri¡©e
è1)

	)

254 
	#NV_TRISTATE_INDETERMINATE
 ((
NvTri¡©e
è2)

	)

258 #ifdeà
NV_MISRA_COMPLIANCE_REQUIRED


259 
	#NvU64_HI32
(
n
è((
NvU32
)((((
NvU64
)Ò)è>> 32è& 0xffffffffU))

	)

260 
	#NvU64_LO32
(
n
è((
NvU32
)(Ð(
NvU64
)Ò)è& 0xffffffffU))

	)

262 
	#NvU64_HI32
(
n
è((
NvU32
)((((
NvU64
)Ò)è>> 32è& 0xffffffff))

	)

263 
	#NvU64_LO32
(
n
è((
NvU32
)(Ð(
NvU64
)Ò)è& 0xffffffff))

	)

265 
	#NvU40_HI32
(
n
è((
NvU32
)((((
NvU64
)Ò)è>> 8è& 0xffffffffU))

	)

266 
	#NvU40_HI24of32
(
n
è((
NvU32
)Ð(
NvU64
)Òè& 0xffffff00U))

	)

269 
	#NvU32_HI16
(
n
è((
NvU16
)((((
NvU32
)Ò)è>> 16è& 0xffff))

	)

270 
	#NvU32_LO16
(
n
è((
NvU16
)(Ð(
NvU32
)Ò)è& 0xffff))

	)

278 #ià
defšed
(
NV_64_BITS
)

280 * 
	tNvP64
;

281 
NvU64
 
	tNvUPŒ
;

282 
NvS64
 
	tNvSPŒ
;

283 
NvU64
 
	tNvL’gth
;

285 
	#NvP64_VALUE
(
n
èÒ)

	)

286 
	#NvP64_fmt
 "%p"

	)

288 
	#KERNEL_POINTER_FROM_NvP64
(
p
,
v
è(Õ)(v))

	)

289 
	#NvP64_PLUS_OFFSET
(
p
,
o
è(
NvP64
)((
NvU64
)Õè+ (NvU64)(o))

	)

291 
	#NvUPŒ_fmtX
 
NvU64_fmtX


	)

292 
	#NvUPŒ_fmtx
 
NvU64_fmtx


	)

293 
	#NvUPŒ_fmtu
 
NvU64_fmtu


	)

294 
	#NvUPŒ_fmto
 
NvU64_fmto


	)

295 
	#NvSPŒ_fmtd
 
NvS64_fmtd


	)

296 
	#NvSPŒ_fmti
 
NvS64_fmti


	)

300 
NvU64
 
	tNvP64
;

301 
NvU32
 
	tNvUPŒ
;

302 
NvS32
 
	tNvSPŒ
;

303 
NvU32
 
	tNvL’gth
;

305 
	#NvP64_VALUE
(
n
è((*)(
NvUPŒ
)Ò))

	)

306 
	#NvP64_fmt
 "0x%Îx"

	)

308 
	#KERNEL_POINTER_FROM_NvP64
(
p
,
v
è(Õ)(
NvUPŒ
)(v))

	)

309 
	#NvP64_PLUS_OFFSET
(
p
,
o
è(Õè+ (
NvU64
)(o))

	)

311 
	#NvUPŒ_fmtX
 "X"

	)

312 
	#NvUPŒ_fmtx
 "x"

	)

313 
	#NvUPŒ_fmtu
 "u"

	)

314 
	#NvUPŒ_fmto
 "o"

	)

315 
	#NvSPŒ_fmtd
 "d"

	)

316 
	#NvSPŒ_fmti
 "i"

	)

320 
	#NvP64_NULL
 (
NvP64
)0

	)

328 
	#NvU64_ALIGN32_PACK
(
pD¡
, 
pSrc
) \

330 (
pD¡
)->
lo
 = 
	`NvU64_LO32
(*(
pSrc
)); \

331 (
pD¡
)->
hi
 = 
	`NvU64_HI32
(*(
pSrc
)); \

332 } 0)

	)

340 
	#NvU64_ALIGN32_UNPACK
(
pD¡
, 
pSrc
) \

342 (*
pD¡
èð
	`NvU64_ALIGN32_VAL
(
pSrc
); \

343 } 0)

	)

350 
	#NvU64_ALIGN32_VAL
(
pSrc
) \

351 ((
NvU64
è((NvU64)((
pSrc
)->
lo
è| (((NvU64)ÕSrc)->
hi
è<< 32)))

	)

362 
	#NvU64_ALIGN32_IS_ZERO
(
_pU64
è(((_pU64)->
lo
 =ð0è&& ((_pU64)->
hi
 =ð0))

	)

371 
	#NvU64_ALIGN32_ADD
(
pD¡
, 
pSrc1
, 
pSrc2
) \

373 
NvU64
 
__d¡
, 
__¤c1
, 
__sü2
; \

375 
	`NvU64_ALIGN32_UNPACK
(&
__¤c1
, 
pSrc1
); \

376 
	`NvU64_ALIGN32_UNPACK
(&
__sü2
, 
pSrc2
); \

377 
__d¡
 = 
__¤c1
 + 
__sü2
; \

378 
	`NvU64_ALIGN32_PACK
(
pD¡
, &
__d¡
); \

379 } 0)

	)

388 
	#NvU64_ALIGN32_SUB
(
pD¡
, 
pSrc1
, 
pSrc2
) \

390 
NvU64
 
__d¡
, 
__¤c1
, 
__sü2
; \

392 
	`NvU64_ALIGN32_UNPACK
(&
__¤c1
, 
pSrc1
); \

393 
	`NvU64_ALIGN32_UNPACK
(&
__sü2
, 
pSrc2
); \

394 
__d¡
 = 
__¤c1
 + 
__sü2
; \

395 
	`NvU64_ALIGN32_PACK
(
pD¡
, &
__d¡
); \

396 } 0)

	)

421 
NvU32
 
lo
;

425 
NvU32
 
hi
;

426 } 
	tNvU64_ALIGN32
;

429 
NvP64
 
	tNvP64_VALUE_T
;

430 
	#NvP64_LVALUE
(
n
èÒ)

	)

431 
	#NvP64_SELECTOR
(
n
è(0)

	)

434 
	#NV_PTR_TO_NvP64
(
n
è(
NvP64
)(
NvUPŒ
)Ò)

	)

435 
	#NV_SIGN_EXT_PTR_TO_NvP64
(
p
è((
NvP64
)(
NvS64
)(
NvSPŒ
)Õ))

	)

436 
	#KERNEL_POINTER_TO_NvP64
(
p
è((
NvP64
)(
ušŒ_t
)Õ))

	)

441 #iâdeà
DONT_DEFINE_U032


442 
NvV8
 
	tV008
;

443 
NvV16
 
	tV016
;

444 
NvV32
 
	tV032
;

445 
NvU8
 
	tU008
;

446 
NvU16
 
	tU016
;

447 
NvU32
 
	tU032
;

448 
NvS8
 
	tS008
;

449 
NvS16
 
	tS016
;

450 
NvS32
 
	tS032
;

452 #ià
defšed
(
MACOS
è|| defšed(
macštosh
è|| defšed(
__APPLE_CC__
è|| defšed(
NV_MODS
è|| defšed(
MINIRM
è|| defšed(
NV_UNIX
è|| defšed (
NV_QNX
è|| defšed(
NV_INTEGRITY
è|| defšed(
NV_HOS
)

455 #ià
defšed
(
__APPLE_CC__
)

456 #undeà
ULONG


457 
	#ULONG
 

	)

459 
	tULONG
;

461 *
	tPUCHAR
;

479 
	#NV_S8_MIN
 (-128)

	)

480 
	#NV_S8_MAX
 (+127)

	)

481 
	#NV_U8_MIN
 (0U)

	)

482 
	#NV_U8_MAX
 (+255U)

	)

483 
	#NV_S16_MIN
 (-32768)

	)

484 
	#NV_S16_MAX
 (+32767)

	)

485 
	#NV_U16_MIN
 (0U)

	)

486 
	#NV_U16_MAX
 (+65535U)

	)

487 
	#NV_S32_MIN
 (-2147483647 - 1)

	)

488 
	#NV_S32_MAX
 (+2147483647)

	)

489 
	#NV_U32_MIN
 (0U)

	)

490 
	#NV_U32_MAX
 (+4294967295U)

	)

491 
	#NV_S64_MIN
 (-9223372036854775807LL - 1LL)

	)

492 
	#NV_S64_MAX
 (+9223372036854775807LL)

	)

493 
	#NV_U64_MIN
 (0ULL)

	)

494 
	#NV_U64_MAX
 (+18446744073709551615ULL)

	)

496 #ià!
defšed
(
NV_PTR
)

497 
	#NV_PTR


	)

498 
	#CAST_NV_PTR
(
p
è
	)
p

502 #ià
defšed
(
__GNUC__
è|| defšed(
__þªg__
è|| defšed(
NV_QNX
è|| defšed(
NV_HOS
)

503 
	#NV_ALIGN_BYTES
(
size
è
	`__©Œibu‹__
 ((
	`®igÃd
 (size)))

	)

504 #–ià
defšed
(
__¬m
)

505 
	#NV_ALIGN_BYTES
(
size
è
	`__®ign
(
ALIGN
)

	)

509 
	#NV_ALIGN_BYTES
(
size
)

	)

516 #ià
defšed
(
__GNUC__
è|| defšed(
__þªg__
è|| defšed(
NV_QNX
è|| defšed(
NV_HOS
)

517 
	#NV_DECLARE_ALIGNED
(
TYPE_VAR
, 
ALIGN
èTYPE_VAR 
	`__©Œibu‹__
 ((
	`®igÃd
 (ALIGN)))

	)

518 #–ià
defšed
(
_MSC_VER
)

519 
	#NV_DECLARE_ALIGNED
(
TYPE_VAR
, 
ALIGN
è
	`__deþ¥ec
(
	`®ign
(ALIGN)è
	)
TYPE_VAR

520 #–ià
defšed
(
__¬m
)

521 
	#NV_DECLARE_ALIGNED
(
TYPE_VAR
, 
ALIGN
è
	`__®ign
(ALIGNè
	)
TYPE_VAR

525 #ià(
defšed
(
_MSC_VER
è&& defšed(
NVRM4X_BUILD
))

526 
	#NVRM_IMPORT
 
	`__deþ¥ec
(
dÎimpÜt
)

	)

528 
	#NVRM_IMPORT


	)

532 #ià
defšed
(
__GNUC__
)

533 
	#NV_TYPEOF_SUPPORTED
 1

	)

535 
	#NV_TYPEOF_SUPPORTED
 0

	)

546 #ià
defšed
(
_MSC_VER
)

548 #ià
_MSC_VER
 >= 1310

549 
	#NV_NOINLINE
 
	`__deþ¥ec
(
nošlše
)

	)

551 
	#NV_NOINLINE


	)

554 
	#NV_INLINE
 
__šlše


	)

556 #ià
_MSC_VER
 >= 1200

557 
	#NV_FORCEINLINE
 
__fÜûšlše


	)

559 
	#NV_FORCEINLINE
 
__šlše


	)

562 
	#NV_APIENTRY
 
__¡dÿÎ


	)

563 
	#NV_FASTCALL
 
__ç¡ÿÎ


	)

564 
	#NV_CDECLCALL
 
__cdeþ


	)

565 
	#NV_STDCALL
 
__¡dÿÎ


	)

567 
	#NV_FORCERESULTCHECK


	)

569 
	#NV_ATTRIBUTE_UNUSED


	)

573 #ià
defšed
(
__GNUC__
)

574 #ià(
__GNUC__
 > 3) || \

575 ((
__GNUC__
 =ð3è&& (
__GNUC_MINOR__
 >ð1è&& (
__GNUC_PATCHLEVEL__
 >= 1))

576 
	#NV_NOINLINE
 
	`__©Œibu‹__
((
nošlše
))

	)

578 #–ià
defšed
(
__þªg__
)

579 #ià
__has_©Œibu‹
(
nošlše
)

580 
	#NV_NOINLINE
 
	`__©Œibu‹__
((
nošlše
))

	)

582 #–ià
defšed
(
__¬m
è&& (
__ARMCC_VERSION
 >= 300000)

583 
	#NV_NOINLINE
 
	`__©Œibu‹__
((
nošlše
))

	)

584 #–ià(
defšed
(
__SUNPRO_C
) && (__SUNPRO_C >= 0x590)) ||\

585 (
defšed
(
__SUNPRO_CC
) && (__SUNPRO_CC >= 0x590))

586 
	#NV_NOINLINE
 
	`__©Œibu‹__
((
nošlše
))

	)

587 #–ià
defšed
 (
__INTEL_COMPILER
)

588 
	#NV_NOINLINE
 
	`__©Œibu‹__
((
nošlše
))

	)

591 #ià!
defšed
(
NV_NOINLINE
)

592 
	#NV_NOINLINE


	)

597 #ià
defšed
(
__ghs__
)

598 
	#NV_INLINE
 
šlše


	)

599 #–ià
defšed
(
__GNUC__
è|| defšed(
__þªg__
è|| defšed(
__INTEL_COMPILER
)

600 
	#NV_INLINE
 
__šlše__


	)

601 #–ià
defšed
 (
macštosh
è|| defšed(
__SUNPRO_C
è|| defšed(
__SUNPRO_CC
)

602 
	#NV_INLINE
 
šlše


	)

603 #–ià
defšed
(
__¬m
)

604 
	#NV_INLINE
 
__šlše


	)

606 
	#NV_INLINE


	)

610 #ià!
defšed
(
DEBUG
)

613 #ià
defšed
(
__ghs__
)

614 
	#NV_FORCEINLINE
 
šlše


	)

615 #–ià
defšed
(
__GNUC__
)

617 #ià(
__GNUC__
 > 3è|| ((__GNUC__ =ð3è&& (
__GNUC_MINOR__
 >= 1))

618 
	#NV_FORCEINLINE
 
	`__©Œibu‹__
((
®ways_šlše
)è
__šlše__


	)

620 
	#NV_FORCEINLINE
 
__šlše__


	)

622 #–ià
defšed
(
__þªg__
)

623 #ià
__has_©Œibu‹
(
®ways_šlše
)

624 
	#NV_FORCEINLINE
 
	`__©Œibu‹__
((
®ways_šlše
)è
__šlše__


	)

626 
	#NV_FORCEINLINE
 
__šlše__


	)

628 #–ià
defšed
(
__¬m
è&& (
__ARMCC_VERSION
 >= 220000)

630 
	#NV_FORCEINLINE
 
__fÜûšlše


	)

632 
	#NV_FORCEINLINE
 
NV_INLINE


	)

635 
	#NV_FORCEINLINE
 
NV_INLINE


	)

638 
	#NV_APIENTRY


	)

639 
	#NV_FASTCALL


	)

640 
	#NV_CDECLCALL


	)

641 
	#NV_STDCALL


	)

650 #ià
defšed
(
__GNUC__
è&& defšed(
NV_UNIX
)

651 #ià(
__GNUC__
 > 3è|| ((__GNUC__ =ð3è&& (
__GNUC_MINOR__
 >= 4))

652 
	#NV_FORCERESULTCHECK
 
	`__©Œibu‹__
((
w¬n_unu£d_»suÉ
))

	)

654 
	#NV_FORCERESULTCHECK


	)

656 #–ià
defšed
(
__þªg__
)

657 #ià
__has_©Œibu‹
(
w¬n_unu£d_»suÉ
)

658 
	#NV_FORCERESULTCHECK
 
	`__©Œibu‹__
((
w¬n_unu£d_»suÉ
))

	)

660 
	#NV_FORCERESULTCHECK


	)

663 
	#NV_FORCERESULTCHECK


	)

666 #ià
defšed
(
__GNUC__
è|| defšed(
__þªg__
è|| defšed(
__INTEL_COMPILER
)

667 
	#NV_ATTRIBUTE_UNUSED
 
	`__©Œibu‹__
((
unu£d
))

	)

669 
	#NV_ATTRIBUTE_UNUSED


	)

681 
NvS16
 
	tNvSFXP16
;

682 
NvS32
 
	tNvSFXP32
;

683 
NvU16
 
	tNvUFXP16
;

684 
NvU32
 
	tNvUFXP32
;

685 
NvU64
 
	tNvUFXP64
;

698 
NvSFXP16
 
	tNvSFXP11_5
;

699 
NvSFXP16
 
	tNvSFXP4_12
;

700 
NvSFXP16
 
	tNvSFXP8_8
;

701 
NvSFXP32
 
	tNvSFXP8_24
;

702 
NvSFXP32
 
	tNvSFXP10_22
;

703 
NvSFXP32
 
	tNvSFXP16_16
;

704 
NvSFXP32
 
	tNvSFXP18_14
;

705 
NvSFXP32
 
	tNvSFXP20_12
;

706 
NvSFXP32
 
	tNvSFXP24_8
;

707 
NvSFXP32
 
	tNvSFXP27_5
;

708 
NvSFXP32
 
	tNvSFXP28_4
;

709 
NvSFXP32
 
	tNvSFXP29_3
;

710 
NvSFXP32
 
	tNvSFXP31_1
;

712 
NvUFXP16
 
	tNvUFXP0_16
;

713 
NvUFXP16
 
	tNvUFXP4_12
;

714 
NvUFXP16
 
	tNvUFXP8_8
;

715 
NvUFXP32
 
	tNvUFXP3_29
;

716 
NvUFXP32
 
	tNvUFXP4_28
;

717 
NvUFXP32
 
	tNvUFXP8_24
;

718 
NvUFXP32
 
	tNvUFXP9_23
;

719 
NvUFXP32
 
	tNvUFXP10_22
;

720 
NvUFXP32
 
	tNvUFXP16_16
;

721 
NvUFXP32
 
	tNvUFXP20_12
;

722 
NvUFXP32
 
	tNvUFXP24_8
;

723 
NvUFXP32
 
	tNvUFXP25_7
;

724 
NvUFXP32
 
	tNvUFXP28_4
;

726 
NvUFXP64
 
	tNvUFXP40_24
;

727 
NvUFXP64
 
	tNvUFXP48_16
;

728 
NvUFXP64
 
	tNvUFXP52_12
;

736 
	#NV_TYPES_FXP_INTEGER
(
x
, 
y
è((x)+(y)-1):(y)

	)

737 
	#NV_TYPES_FXP_FRACTIONAL
(
x
, 
y
è((y)-1):0

	)

738 
	#NV_TYPES_FXP_FRACTIONAL_MSB
(
x
, 
y
è((y)-1):((y)-1)

	)

739 
	#NV_TYPES_FXP_FRACTIONAL_MSB_ONE
 0x00000001

	)

740 
	#NV_TYPES_FXP_FRACTIONAL_MSB_ZERO
 0x00000000

	)

741 
	#NV_TYPES_FXP_ZERO
 (0)

	)

746 
	#NV_TYPES_UFXP_INTEGER_MAX
(
x
, 
y
è(~(
	`BIT
((y))-1))

	)

747 
	#NV_TYPES_UFXP_INTEGER_MIN
(
x
, 
y
è(0)

	)

752 
	#NV_TYPES_SFXP_INTEGER_SIGN
(
x
, 
y
è((x)+(y)-1):((x)+(y)-1)

	)

753 
	#NV_TYPES_SFXP_INTEGER_SIGN_NEGATIVE
 0x00000001

	)

754 
	#NV_TYPES_SFXP_INTEGER_SIGN_POSITIVE
 0x00000000

	)

755 
	#NV_TYPES_SFXP_S32_SIGN_EXTENSION
(
x
, 
y
è31:(x)

	)

756 
	#NV_TYPES_SFXP_S32_SIGN_EXTENSION_POSITIVE
(
x
, 
y
è0x00000000

	)

757 
	#NV_TYPES_SFXP_S32_SIGN_EXTENSION_NEGATIVE
(
x
, 
y
è(
	`BIT
(32-(x))-1)

	)

758 
	#NV_TYPES_SFXP_INTEGER_MAX
(
x
, 
y
è(
	`BIT
((x))-1)

	)

759 
	#NV_TYPES_SFXP_INTEGER_MIN
(
x
, 
y
è(~(
	`BIT
((x))-1))

	)

782 
	#NV_TYPES_U32_TO_UFXP_X_Y
(
x
, 
y
, 
š‹g”
) \

783 ((
NvUFXP
##
x
##
_
##
y
è(((
NvU32
è(
š‹g”
)) << \

784 
	`DRF_SHIFT
(
	`NV_TYPES_FXP_INTEGER
((
x
), (
y
)))))

	)

786 
	#NV_TYPES_U32_TO_UFXP_X_Y_SCALED
(
x
, 
y
, 
š‹g”
, 
sÿË
) \

787 ((
NvUFXP
##
x
##
_
##
y
è((((((
NvU32
è(
š‹g”
)) << \

788 
	`DRF_SHIFT
(
	`NV_TYPES_FXP_INTEGER
((
x
), (
y
))))) / \

789 (
sÿË
)) + \

790 ((((((
NvU32
è(
š‹g”
)) << \

791 
	`DRF_SHIFT
(
	`NV_TYPES_FXP_INTEGER
((
x
), (
y
)))) % \

792 (
sÿË
)è> ((sÿËè/ 2)è? 1 : 0)))

	)

794 
	#NV_TYPES_UFXP_X_Y_TO_U32
(
x
, 
y
, 
fxp
) \

795 ((
NvU32
è(
	`DRF_VAL
(
_TYPES
, 
_FXP
, 
	`_INTEGER
((
x
), (
y
)), \

796 ((
NvUFXP
##
x
##
_
##
y
è(
fxp
)))))

	)

798 
	#NV_TYPES_UFXP_X_Y_TO_U32_ROUNDED
(
x
, 
y
, 
fxp
) \

799 (
	`NV_TYPES_UFXP_X_Y_TO_U32
(
x
, 
y
, (
fxp
)) + \

800 !!
	`DRF_VAL
(
_TYPES
, 
_FXP
, 
	`_FRACTIONAL_MSB
((
x
), (
y
)), \

801 ((
NvUFXP
##
x
##
_
##
y
è(
fxp
))))

	)

804 
	#NV_TYPES_U64_TO_UFXP_X_Y
(
x
, 
y
, 
š‹g”
) \

805 ((
NvUFXP
##
x
##
_
##
y
è(((
NvU64
è(
š‹g”
)) << \

806 
	`DRF_SHIFT
(
	`NV_TYPES_FXP_INTEGER
((
x
), (
y
)))))

	)

808 
	#NV_TYPES_U64_TO_UFXP_X_Y_SCALED
(
x
, 
y
, 
š‹g”
, 
sÿË
) \

809 ((
NvUFXP
##
x
##
_
##
y
è(((((
NvU64
è(
š‹g”
)) << \

810 
	`DRF_SHIFT
(
	`NV_TYPES_FXP_INTEGER
((
x
), (
y
)))) + \

811 ((
sÿË
) / 2)) / \

812 (
sÿË
)))

	)

814 
	#NV_TYPES_UFXP_X_Y_TO_U64
(
x
, 
y
, 
fxp
) \

815 ((
NvU64
è(
	`DRF_VAL
(
_TYPES
, 
_FXP
, 
	`_INTEGER
((
x
), (
y
)), \

816 ((
NvUFXP
##
x
##
_
##
y
è(
fxp
)))))

	)

818 
	#NV_TYPES_UFXP_X_Y_TO_U64_ROUNDED
(
x
, 
y
, 
fxp
) \

819 (
	`NV_TYPES_UFXP_X_Y_TO_U64
(
x
, 
y
, (
fxp
)) + \

820 !!
	`DRF_VAL
(
_TYPES
, 
_FXP
, 
	`_FRACTIONAL_MSB
((
x
), (
y
)), \

821 ((
NvUFXP
##
x
##
_
##
y
è(
fxp
))))

	)

828 
	#NV_TYPES_S32_TO_SFXP_X_Y
(
x
, 
y
, 
š‹g”
) \

829 ((
NvSFXP
##
x
##
_
##
y
è(((
NvU32
è(
š‹g”
)) << \

830 
	`DRF_SHIFT
(
	`NV_TYPES_FXP_INTEGER
((
x
), (
y
)))))

	)

832 
	#NV_TYPES_S32_TO_SFXP_X_Y_SCALED
(
x
, 
y
, 
š‹g”
, 
sÿË
) \

833 ((
NvSFXP
##
x
##
_
##
y
è(((((
NvS32
è(
š‹g”
)) << \

834 
	`DRF_SHIFT
(
	`NV_TYPES_FXP_INTEGER
((
x
), (
y
)))) + \

835 ((
sÿË
) / 2)) / \

836 (
sÿË
)))

	)

838 
	#NV_TYPES_SFXP_X_Y_TO_S32
(
x
, 
y
, 
fxp
) \

839 ((
NvS32
è((
	`DRF_VAL
(
_TYPES
, 
_FXP
, 
	`_INTEGER
((
x
), (
y
)), \

840 ((
NvSFXP
##
x
##
_
##
y
è(
fxp
)))) | \

841 ((
	`DRF_VAL
(
_TYPES
, 
_SFXP
, 
	`_INTEGER_SIGN
((
x
), (
y
)), (
fxp
)) == \

842 
NV_TYPES_SFXP_INTEGER_SIGN_NEGATIVE
) ? \

843 
	`DRF_NUM
(
_TYPES
, 
_SFXP
, 
	`_S32_SIGN_EXTENSION
((
x
), (
y
)), \

844 
	`NV_TYPES_SFXP_S32_SIGN_EXTENSION_NEGATIVE
((
x
), (
y
))) : \

845 
	`DRF_NUM
(
_TYPES
, 
_SFXP
, 
	`_S32_SIGN_EXTENSION
((
x
), (
y
)), \

846 
	`NV_TYPES_SFXP_S32_SIGN_EXTENSION_POSITIVE
((
x
), (
y
))))))

	)

848 
	#NV_TYPES_SFXP_X_Y_TO_S32_ROUNDED
(
x
, 
y
, 
fxp
) \

849 (
	`NV_TYPES_SFXP_X_Y_TO_S32
(
x
, 
y
, (
fxp
)) + \

850 !!
	`DRF_VAL
(
_TYPES
, 
_FXP
, 
	`_FRACTIONAL_MSB
((
x
), (
y
)), \

851 ((
NvSFXP
##
x
##
_
##
y
è(
fxp
))))

	)

877 
	#NV_TYPES_SINGLE_SIGN
 31:31

	)

878 
	#NV_TYPES_SINGLE_SIGN_POSITIVE
 0x00000000

	)

879 
	#NV_TYPES_SINGLE_SIGN_NEGATIVE
 0x00000001

	)

880 
	#NV_TYPES_SINGLE_EXPONENT
 30:23

	)

881 
	#NV_TYPES_SINGLE_EXPONENT_ZERO
 0x00000000

	)

882 
	#NV_TYPES_SINGLE_EXPONENT_BIAS
 0x0000007F

	)

883 
	#NV_TYPES_SINGLE_MANTISSA
 22:0

	)

895 
	#NV_TYPES_SINGLE_MANTISSA_TO_UFXP9_23
(
sšgË
) \

896 ((
NvUFXP9_23
)(
	`FLD_TEST_DRF
(
_TYPES
, 
_SINGLE
, 
_EXPONENT
, 
_ZERO
, 
sšgË
) ? \

897 
	`NV_TYPES_U32_TO_UFXP_X_Y
(9, 23, 0) : \

898 (
	`NV_TYPES_U32_TO_UFXP_X_Y
(9, 23, 1) + \

899 
	`DRF_VAL
(
_TYPES
, 
_SINGLE
, 
_MANTISSA
, 
sšgË
))))

	)

909 
	#NV_TYPES_SINGLE_EXPONENT_BIASED
(
sšgË
) \

910 ((
NvS32
)(
	`DRF_VAL
(
_TYPES
, 
_SINGLE
, 
_EXPONENT
, 
sšgË
) - \

911 
NV_TYPES_SINGLE_EXPONENT_BIAS
))

	)

917 
NvSFXP24_8
 
	tNvTemp
;

922 
	#NV_TYPES_CELSIUS_TO_NV_TEMP
(
ûl
) \

923 
	`NV_TYPES_S32_TO_SFXP_X_Y
(24,8,(
ûl
))

	)

924 
	#NV_TYPES_NV_TEMP_TO_CELSIUS_TRUNCED
(
nvt
) \

925 
	`NV_TYPES_SFXP_X_Y_TO_S32
(24,8,(
nvt
))

	)

926 
	#NV_TYPES_NV_TEMP_TO_CELSIUS_ROUNDED
(
nvt
) \

927 
	`NV_TYPES_SFXP_X_Y_TO_S32_ROUNDED
(24,8,(
nvt
))

	)

932 
	#NV_NBITS_IN_TYPE
(
ty³
è(8 * Ñy³))

	)

937 
	#NV_TYPES_NVSFXP11_5_TO_NV_TEMP
(
x
è((
NvTemp
)(xè<< 3)

	)

942 
	#NV_TYPES_NVUFXP11_5_WATTS_TO_NVU32_MILLI_WATTS
(
x
è((((
NvU32
)(x)è* ((NvU32)1000)è>> 5)

	)

944 #ifdeà
__ýlu¥lus


	@src/common/inc/xapi-sdk.h

16 #iâdeà
XAPI_SDK_H


17 
	#XAPI_SDK_H


	)

22 
	#XAPI_ENVELOPE_SIZE
 16384

	)

23 
	#XAPI_ENVELOPE_MAX_PAYLOAD_SIZE
 (
XAPI_ENVELOPE_SIZE
 - 32 - 4 )

	)

26 
	#XAPI_MAX_FIELD_SIZE
 
XAPI_ENVELOPE_MAX_PAYLOAD_SIZE


	)

28 
	#XAPI_CASE
(
x
)

	)

29 
	#XAPI_CASE_EMPTY
(
x
è: 0

	)

30 
	#XAPI_SWITCH
(
x
)

	)

31 
	#XAPI_HIDDEN
(
x
è
	)
x

32 
	#XAPI_FIELD_PTR_AS_VALUE
(
TYPE
, 
FIELD_NAME
) \

33 
TYPE
 *
FIELD_NAME


	)

34 
	#XAPI_FIELD_HIDDEN
(
FIELD_NAME
) \

35 
FIELD_NAME


	)

36 
	#XAPI_FIELD_FUNCTION_PTR
(
TYPE
, 
FIELD_NAME
) \

37 
TYPE
 
FIELD_NAME


	)

38 
	#XAPI_FIELD_STRING
(
FIELD_NAME
, 
MAXCHARS
) \

39 
FIELD_NAME
[
MAXCHARS
]

	)

40 
	#XAPI_FIELD_PTR_TO_STRING
(
FIELD_NAME
, 
MAXCHARS
) \

41 *
FIELD_NAME


	)

42 
	#XAPI_FIELD_NVP64_PTR_TO_STRING
(
FIELD_NAME
, 
MAXCHARS
) \

43 
NvP64
 
FIELD_NAME
 
	`NV_ALIGN_BYTES
(8)

	)

44 
	#XAPI_FIELD_NVP64_PTR_TO_STRING_CI
(
FIELD_NAME
, 
MAXCHARS
) \

45 
NvP64
 
FIELD_NAME
 
	`NV_ALIGN_BYTES
(8)

	)

46 
	#XAPI_FIELD_NVP64_PTR_TO_STRING_CO
(
FIELD_NAME
, 
MAXCHARS
) \

47 
NvP64
 
FIELD_NAME
 
	`NV_ALIGN_BYTES
(8)

	)

49 
	#XAPI_FIELD_FIXED_BYTE_ARRAY
(
FIELD_NAME
, 
MAXELEMENTS
) \

50 
NvU8
 
FIELD_NAME
[
MAXELEMENTS
]

	)

51 
	#XAPI_FIELD_FIXED_BYTE_ARRAY_CI
(
FIELD_NAME
, 
MAXELEMENTS
) \

52 
NvU8
 
FIELD_NAME
[
MAXELEMENTS
]

	)

53 
	#XAPI_FIELD_FIXED_BYTE_ARRAY_CO
(
FIELD_NAME
, 
MAXELEMENTS
) \

54 
NvU8
 
FIELD_NAME
[
MAXELEMENTS
]

	)

56 
	#XAPI_FIELD_COUNTED_BYTE_ARRAY
(
FIELD_NAME
, 
FIELD_COUNT
, 
MAXELEMENTS
) \

57 
NvU8
 
FIELD_NAME
[
MAXELEMENTS
]

	)

58 
	#XAPI_FIELD_COUNTED_BYTE_ARRAY_CI
(
FIELD_NAME
, 
FIELD_COUNT
, 
MAXELEMENTS
) \

59 
NvU8
 
FIELD_NAME
[
MAXELEMENTS
]

	)

60 
	#XAPI_FIELD_COUNTED_BYTE_ARRAY_CO
(
FIELD_NAME
, 
FIELD_COUNT
, 
MAXELEMENTS
) \

61 
NvU8
 
FIELD_NAME
[
MAXELEMENTS
]

	)

63 
	#XAPI_FIELD_PTR_TO_COUNTED_BYTE_ARRAY
(
FIELD_NAME
, 
FIELD_COUNT
, 
MAXELEMENTS
) \

64 
NvU8
 *
FIELD_NAME


	)

65 
	#XAPI_FIELD_PTR_TO_COUNTED_BYTE_ARRAY_CI
(
FIELD_NAME
, 
FIELD_COUNT
, 
MAXELEMENTS
) \

66 
NvU8
 *
FIELD_NAME


	)

67 
	#XAPI_FIELD_PTR_TO_COUNTED_BYTE_ARRAY_CO
(
FIELD_NAME
, 
FIELD_COUNT
, 
MAXELEMENTS
) \

68 
NvU8
 *
FIELD_NAME


	)

70 
	#XAPI_FIELD_NVP64_PTR_TO_COUNTED_BYTE_ARRAY
(
FIELD_NAME
, 
FIELD_COUNT
, 
MAXELEMENTS
) \

71 
NvP64
 
FIELD_NAME
 
	`NV_ALIGN_BYTES
(8)

	)

72 
	#XAPI_FIELD_NVP64_PTR_TO_COUNTED_BYTE_ARRAY_CI
(
FIELD_NAME
, 
FIELD_COUNT
, 
MAXELEMENTS
) \

73 
NvP64
 
FIELD_NAME
 
	`NV_ALIGN_BYTES
(8)

	)

74 
	#XAPI_FIELD_NVP64_PTR_TO_COUNTED_BYTE_ARRAY_CO
(
FIELD_NAME
, 
FIELD_COUNT
, 
MAXELEMENTS
) \

75 
NvP64
 
FIELD_NAME
 
	`NV_ALIGN_BYTES
(8)

	)

77 
	#XAPI_FIELD_PTR_TO_ARRAY
(
TYPE
, 
PTR_FIELD_NAME
, 
FIELD_COUNT
, 
MAXELEMENTS
) \

78 
TYPE
 *
PTR_FIELD_NAME


	)

79 
	#XAPI_FIELD_PTR_TO_ARRAY_CI
(
TYPE
, 
PTR_FIELD_NAME
, 
FIELD_COUNT
, 
MAXELEMENTS
) \

80 
TYPE
 *
PTR_FIELD_NAME


	)

81 
	#XAPI_FIELD_PTR_TO_ARRAY_CO
(
TYPE
, 
PTR_FIELD_NAME
, 
FIELD_COUNT
, 
MAXELEMENTS
) \

82 
TYPE
 *
PTR_FIELD_NAME


	)

84 
	#XAPI_FIELD_NVP64_PTR_TO_ARRAY
(
TYPE
, 
PTR_FIELD_NAME
, 
FIELD_COUNT
, 
MAXELEMENTS
) \

85 
NvP64
 
PTR_FIELD_NAME
 
	`NV_ALIGN_BYTES
(8)

	)

86 
	#XAPI_FIELD_NVP64_PTR_TO_ARRAY_CI
(
TYPE
, 
PTR_FIELD_NAME
, 
FIELD_COUNT
, 
MAXELEMENTS
) \

87 
NvP64
 
PTR_FIELD_NAME
 
	`NV_ALIGN_BYTES
(8)

	)

88 
	#XAPI_FIELD_NVP64_PTR_TO_ARRAY_CO
(
TYPE
, 
PTR_FIELD_NAME
, 
FIELD_COUNT
, 
MAXELEMENTS
) \

89 
NvP64
 
PTR_FIELD_NAME
 
	`NV_ALIGN_BYTES
(8)

	)

91 
	#XAPI_FIELD_ARRAY
(
TYPE
, 
INLINE_ARRAY_FIELD_NAME
, 
FIELD_COUNT
, 
MAXELEMENTS
) \

92 
TYPE
 
INLINE_ARRAY_FIELD_NAME
[
MAXELEMENTS
]

	)

93 
	#XAPI_FIELD_ARRAY_CI
(
TYPE
, 
INLINE_ARRAY_FIELD_NAME
, 
FIELD_COUNT
, 
MAXELEMENTS
) \

94 
TYPE
 
INLINE_ARRAY_FIELD_NAME
[
MAXELEMENTS
]

	)

95 
	#XAPI_FIELD_ARRAY_CO
(
TYPE
, 
INLINE_ARRAY_FIELD_NAME
, 
FIELD_COUNT
, 
MAXELEMENTS
) \

96 
TYPE
 
INLINE_ARRAY_FIELD_NAME
[
MAXELEMENTS
]

	)

98 
	#XAPI_FIELD_UNION
(
TYPE
, 
INLINE_UNION_FIELD_NAME
, 
DISCRIMINANT_FIELD
) \

99 
TYPE
 
INLINE_UNION_FIELD_NAME


	)

100 
	#XAPI_FIELD_UNION_CI
(
TYPE
, 
INLINE_UNION_FIELD_NAME
, 
DISCRIMINANT_FIELD
) \

101 
TYPE
 
INLINE_UNION_FIELD_NAME


	)

102 
	#XAPI_FIELD_UNION_CO
(
TYPE
, 
INLINE_UNION_FIELD_NAME
, 
DISCRIMINANT_FIELD
) \

103 
TYPE
 
INLINE_UNION_FIELD_NAME


	)

105 
	#XAPI_FIELD_NVP64_PTR
(
TYPE
, 
FIELD_NAME
) \

106 
NvP64
 
FIELD_NAME
 
	`NV_ALIGN_BYTES
(8)

	)

107 
	#XAPI_FIELD_NVP64_PTR_CI
(
TYPE
, 
FIELD_NAME
) \

108 
NvP64
 
FIELD_NAME
 
	`NV_ALIGN_BYTES
(8)

	)

109 
	#XAPI_FIELD_NVP64_PTR_CO
(
TYPE
, 
FIELD_NAME
) \

110 
NvP64
 
FIELD_NAME
 
	`NV_ALIGN_BYTES
(8)

	)

112 
	#XAPI_NYI


	)

	@src/common/linuxkpi/drivers/gpu/drm/drm_crtc_helper_internal.h

29 
	~<drm/drm_cÚÃùÜ.h
>

30 
	~<drm/drm_ütc.h
>

31 
	~<drm/drm_dp_h–³r.h
>

32 
	~<drm/drm_’cod”.h
>

33 
	~<drm/drm_modes.h
>

36 #ifdeà
CONFIG_DRM_FBDEV_EMULATION


37 
drm_fb_h–³r_modš™
();

39 
šlše
 
	$drm_fb_h–³r_modš™
()

42 
	}
}

46 #ifdeà
CONFIG_DRM_DP_AUX_CHARDEV


47 
drm_dp_aux_dev_š™
();

48 
drm_dp_aux_dev_ex™
();

49 
drm_dp_aux_»gi¡”_devnode
(
drm_dp_aux
 *
aux
);

50 
drm_dp_aux_uÄegi¡”_devnode
(
drm_dp_aux
 *
aux
);

52 
šlše
 
	$drm_dp_aux_dev_š™
()

55 
	}
}

57 
šlše
 
	$drm_dp_aux_dev_ex™
()

59 
	}
}

61 
šlše
 
	$drm_dp_aux_»gi¡”_devnode
(
drm_dp_aux
 *
aux
)

64 
	}
}

66 
šlše
 
	$drm_dp_aux_uÄegi¡”_devnode
(
drm_dp_aux
 *
aux
)

68 
	}
}

72 
drm_mode_¡©us
 
drm_ütc_mode_v®id
(
drm_ütc
 *
ütc
,

73 cÚ¡ 
drm_di¥Ïy_mode
 *
mode
);

74 
drm_mode_¡©us
 
drm_’cod”_mode_v®id
(
drm_’cod”
 *
’cod”
,

75 cÚ¡ 
drm_di¥Ïy_mode
 *
mode
);

76 
drm_mode_¡©us
 
drm_cÚÃùÜ_mode_v®id
(
drm_cÚÃùÜ
 *
cÚÃùÜ
,

77 
drm_di¥Ïy_mode
 *
mode
);

	@src/common/linuxkpi/drivers/gpu/drm/drm_crtc_internal.h

36 
drm_mode_ütc_£t_obj_´Ý
(
drm_mode_objeù
 *
obj
,

37 
drm_´Ý”ty
 *
´Ý”ty
,

38 
ušt64_t
 
v®ue
);

39 
drm_ütc_check_v›wpÜt
(cÚ¡ 
drm_ütc
 *
ütc
,

40 
x
, 
y
,

41 cÚ¡ 
drm_di¥Ïy_mode
 *
mode
,

42 cÚ¡ 
drm_äamebufãr
 *
fb
);

43 
drm_ütc_»gi¡”_®l
(
drm_deviû
 *
dev
);

44 
drm_ütc_uÄegi¡”_®l
(
drm_deviû
 *
dev
);

46 
dma_ãnû
 *
drm_ütc_ü—‹_ãnû
(
drm_ütc
 *
ütc
);

49 
drm_mode_g‘ütc
(
drm_deviû
 *
dev
,

50 *
d©a
, 
drm_fže
 *
fže_´iv
);

51 
drm_mode_£tütc
(
drm_deviû
 *
dev
,

52 *
d©a
, 
drm_fže
 *
fže_´iv
);

56 
drm_mode£t_»gi¡”_®l
(
drm_deviû
 *
dev
);

57 
drm_mode£t_uÄegi¡”_®l
(
drm_deviû
 *
dev
);

60 
drm_mode_g‘»sourûs
(
drm_deviû
 *
dev
,

61 *
d©a
, 
drm_fže
 *
fže_´iv
);

66 
drm_mode_ü—‹_dumb_ioùl
(
drm_deviû
 *
dev
,

67 *
d©a
, 
drm_fže
 *
fže_´iv
);

68 
drm_mode_mm­_dumb_ioùl
(
drm_deviû
 *
dev
,

69 *
d©a
, 
drm_fže
 *
fže_´iv
);

70 
drm_mode_de¡roy_dumb_ioùl
(
drm_deviû
 *
dev
,

71 *
d©a
, 
drm_fže
 *
fže_´iv
);

76 
drm_mode_gamma_g‘_ioùl
(
drm_deviû
 *
dev
,

77 *
d©a
, 
drm_fže
 *
fže_´iv
);

78 
drm_mode_gamma_£t_ioùl
(
drm_deviû
 *
dev
,

79 *
d©a
, 
drm_fže
 *
fže_´iv
);

82 
drm_´Ý”ty_de¡roy_u£r_blobs
(
drm_deviû
 *
dev
,

83 
drm_fže
 *
fže_´iv
);

84 
boÞ
 
drm_´Ý”ty_chªge_v®id_g‘
(
drm_´Ý”ty
 *
´Ý”ty
,

85 
ušt64_t
 
v®ue
,

86 
drm_mode_objeù
 **
»f
);

87 
drm_´Ý”ty_chªge_v®id_put
(
drm_´Ý”ty
 *
´Ý”ty
,

88 
drm_mode_objeù
 *
»f
);

91 
drm_mode_g‘´Ý”ty_ioùl
(
drm_deviû
 *
dev
,

92 *
d©a
, 
drm_fže
 *
fže_´iv
);

93 
drm_mode_g‘blob_ioùl
(
drm_deviû
 *
dev
,

94 *
d©a
, 
drm_fže
 *
fže_´iv
);

95 
drm_mode_ü—‹blob_ioùl
(
drm_deviû
 *
dev
,

96 *
d©a
, 
drm_fže
 *
fže_´iv
);

97 
drm_mode_de¡royblob_ioùl
(
drm_deviû
 *
dev
,

98 *
d©a
, 
drm_fže
 *
fže_´iv
);

101 
__drm_mode_objeù_add
(
drm_deviû
 *
dev
, 
drm_mode_objeù
 *
obj
,

102 
ušt32_t
 
obj_ty³
, 
boÞ
 
»gi¡”_obj
,

103 (*
obj_ä“_cb
)(
k»f
 *kref));

104 
	`drm_mode_objeù_add
(
drm_deviû
 *
dev
, 
drm_mode_objeù
 *
obj
,

105 
ušt32_t
 
obj_ty³
);

106 
	`drm_mode_objeù_»gi¡”
(
drm_deviû
 *
dev
,

107 
drm_mode_objeù
 *
obj
);

108 
drm_mode_objeù
 *
	`__drm_mode_objeù_fšd
(
drm_deviû
 *
dev
,

109 
drm_fže
 *
fže_´iv
,

110 
ušt32_t
 
id
, ušt32_ˆ
ty³
);

111 
	`drm_mode_objeù_uÄegi¡”
(
drm_deviû
 *
dev
,

112 
drm_mode_objeù
 *
objeù
);

113 
	`drm_mode_objeù_g‘_´Ý”t›s
(
drm_mode_objeù
 *
obj
, 
boÞ
 
©omic
,

114 
ušt32_t
 
__u£r
 *
´Ý_±r
,

115 
ušt64_t
 
__u£r
 *
´Ý_v®ues
,

116 
ušt32_t
 *
¬g_couÁ_´Ýs
);

117 
drm_´Ý”ty
 *
	`drm_mode_obj_fšd_´Ý_id
(
drm_mode_objeù
 *
obj
,

118 
ušt32_t
 
´Ý_id
);

122 
	`drm_mode_obj_g‘_´Ý”t›s_ioùl
(
drm_deviû
 *
dev
, *
d©a
,

123 
drm_fže
 *
fže_´iv
);

124 
	`drm_mode_obj_£t_´Ý”ty_ioùl
(
drm_deviû
 *
dev
, *
d©a
,

125 
drm_fže
 *
fže_´iv
);

128 
	`drm_’cod”_»gi¡”_®l
(
drm_deviû
 *
dev
);

129 
	`drm_’cod”_uÄegi¡”_®l
(
drm_deviû
 *
dev
);

132 
	`drm_mode_g‘’cod”
(
drm_deviû
 *
dev
,

133 *
d©a
, 
drm_fže
 *
fže_´iv
);

136 
	`drm_cÚÃùÜ_ida_š™
();

137 
	`drm_cÚÃùÜ_ida_de¡roy
();

138 
	`drm_cÚÃùÜ_uÄegi¡”_®l
(
drm_deviû
 *
dev
);

139 
	`drm_cÚÃùÜ_»gi¡”_®l
(
drm_deviû
 *
dev
);

140 
	`drm_mode_cÚÃùÜ_£t_obj_´Ý
(
drm_mode_objeù
 *
obj
,

141 
drm_´Ý”ty
 *
´Ý”ty
,

142 
ušt64_t
 
v®ue
);

143 
	`drm_cÚÃùÜ_ü—‹_¡ªd¬d_´Ý”t›s
(
drm_deviû
 *
dev
);

144 cÚ¡ *
	`drm_g‘_cÚÃùÜ_fÜû_Çme
(
drm_cÚÃùÜ_fÜû
 
fÜû
);

145 
	`drm_cÚÃùÜ_ä“_wÜk_â
(
wÜk_¡ruù
 *
wÜk
);

148 
	`drm_mode_cÚÃùÜ_´Ý”ty_£t_ioùl
(
drm_deviû
 *
dev
,

149 *
d©a
, 
drm_fže
 *
fže_´iv
);

150 
	`drm_mode_g‘cÚÃùÜ
(
drm_deviû
 *
dev
,

151 *
d©a
, 
drm_fže
 *
fže_´iv
);

154 
drm_äamebufãr
 *

155 
	`drm_š‹º®_äamebufãr_ü—‹
(
drm_deviû
 *
dev
,

156 cÚ¡ 
drm_mode_fb_cmd2
 *
r
,

157 
drm_fže
 *
fže_´iv
);

158 
	`drm_äamebufãr_ä“
(
k»f
 *kref);

159 
	`drm_äamebufãr_check_¤c_coÜds
(
ušt32_t
 
¤c_x
, ušt32_ˆ
¤c_y
,

160 
ušt32_t
 
¤c_w
, ušt32_ˆ
¤c_h
,

161 cÚ¡ 
drm_äamebufãr
 *
fb
);

162 
	`drm_fb_»Ëa£
(
drm_fže
 *
fže_´iv
);

166 
	`drm_mode_addfb
(
drm_deviû
 *
dev
,

167 *
d©a
, 
drm_fže
 *
fže_´iv
);

168 
	`drm_mode_addfb2
(
drm_deviû
 *
dev
,

169 *
d©a
, 
drm_fže
 *
fže_´iv
);

170 
	`drm_mode_rmfb
(
drm_deviû
 *
dev
,

171 *
d©a
, 
drm_fže
 *
fže_´iv
);

172 
	`drm_mode_g‘fb
(
drm_deviû
 *
dev
,

173 *
d©a
, 
drm_fže
 *
fže_´iv
);

174 
	`drm_mode_dœtyfb_ioùl
(
drm_deviû
 *
dev
,

175 *
d©a
, 
drm_fže
 *
fže_´iv
);

178 #ifdeà
CONFIG_DEBUG_FS


179 
drm_mšÜ
;

180 
	`drm_©omic_debugfs_š™
(
drm_mšÜ
 *
mšÜ
);

183 
	`drm_©omic_cÚÃùÜ_comm™_dpms
(
drm_©omic_¡©e
 *
¡©e
,

184 
drm_cÚÃùÜ
 *
cÚÃùÜ
,

185 
mode
);

186 
	`drm_©omic_£t_´Ý”ty
(
drm_©omic_¡©e
 *
¡©e
,

187 
drm_mode_objeù
 *
obj
,

188 
drm_´Ý”ty
 *
´Ý
,

189 
ušt64_t
 
´Ý_v®ue
);

190 
	`drm_©omic_g‘_´Ý”ty
(
drm_mode_objeù
 *
obj
,

191 
drm_´Ý”ty
 *
´Ý”ty
, 
ušt64_t
 *
v®
);

192 
	`drm_mode_©omic_ioùl
(
drm_deviû
 *
dev
,

193 *
d©a
, 
drm_fže
 *
fže_´iv
);

197 
	`drm_¶ªe_»gi¡”_®l
(
drm_deviû
 *
dev
);

198 
	`drm_¶ªe_uÄegi¡”_®l
(
drm_deviû
 *
dev
);

199 
	`drm_¶ªe_check_pix–_fÜm©
(cÚ¡ 
drm_¶ªe
 *
¶ªe
,

200 
u32
 
fÜm©
);

203 
	`drm_bridge_d‘ach
(
drm_bridge
 *
bridge
);

206 
	`drm_mode_g‘¶ªe_»s
(
drm_deviû
 *
dev
, *
d©a
,

207 
drm_fže
 *
fže_´iv
);

208 
	`drm_mode_g‘¶ªe
(
drm_deviû
 *
dev
,

209 *
d©a
, 
drm_fže
 *
fže_´iv
);

210 
	`drm_mode_£ÏÃ
(
drm_deviû
 *
dev
,

211 *
d©a
, 
drm_fže
 *
fže_´iv
);

212 
	`drm_mode_cursÜ_ioùl
(
drm_deviû
 *
dev
,

213 *
d©a
, 
drm_fže
 *
fže_´iv
);

214 
	`drm_mode_cursÜ2_ioùl
(
drm_deviû
 *
dev
,

215 *
d©a
, 
drm_fže
 *
fže_´iv
);

216 
	`drm_mode_·ge_æ_ioùl
(
drm_deviû
 *
dev
,

217 *
d©a
, 
drm_fže
 *
fže_´iv
);

220 
	`drm_mode_fixup_1366x768
(
drm_di¥Ïy_mode
 *
mode
);

	@src/common/linuxkpi/drivers/gpu/drm/drm_internal.h

24 
	#DRM_IF_MAJOR
 1

	)

25 
	#DRM_IF_MINOR
 4

	)

28 
mu‹x
 
drm_glob®_mu‹x
;

29 
drm_Ï¡þo£
(
drm_deviû
 *
dev
);

32 
drm_œq_by_busid
(
drm_deviû
 *
dev
, *
d©a
,

33 
drm_fže
 *
fže_´iv
);

34 
drm_pci_agp_de¡roy
(
drm_deviû
 *
dev
);

35 
drm_pci_£t_busid
(
drm_deviû
 *
dev
, 
drm_ma¡”
 *
ma¡”
);

38 
drm_´ime_hªdË_to_fd_ioùl
(
drm_deviû
 *
dev
, *
d©a
,

39 
drm_fže
 *
fže_´iv
);

40 
drm_´ime_fd_to_hªdË_ioùl
(
drm_deviû
 *
dev
, *
d©a
,

41 
drm_fže
 *
fže_´iv
);

43 
drm_´ime_š™_fže_´iv©e
(
drm_´ime_fže_´iv©e
 *
´ime_åriv
);

44 
drm_´ime_de¡roy_fže_´iv©e
(
drm_´ime_fže_´iv©e
 *
´ime_åriv
);

45 
drm_´ime_»move_buf_hªdË_locked
(
drm_´ime_fže_´iv©e
 *
´ime_åriv
,

46 
dma_buf
 *dma_buf);

49 
drm_mšÜ
 *
drm_mšÜ_acquœe
(
mšÜ_id
);

50 
drm_mšÜ_»Ëa£
(
drm_mšÜ
 *
mšÜ
);

53 
drm_Çme_šfo
(
£q_fže
 *
m
, *
d©a
);

54 
drm_þ›Ás_šfo
(
£q_fže
 *
m
, * 
d©a
);

55 
drm_gem_Çme_šfo
(
£q_fže
 *
m
, *
d©a
);

58 
drm_vbÏnk_di§bË_ªd_§ve
(
drm_deviû
 *
dev
, 
pe
);

59 
drm_vbÏnk_þ—nup
(
drm_deviû
 *
dev
);

62 
drm_wa™_vbÏnk_ioùl
(
drm_deviû
 *
dev
, *
d©a
,

63 
drm_fže
 *
fžp
);

64 
drm_Ëgacy_mode£t_ùl_ioùl
(
drm_deviû
 *
dev
, *
d©a
,

65 
drm_fže
 *
fže_´iv
);

70 
drm_Ëgacy_œq_cÚŒÞ
(
drm_deviû
 *
dev
, *
d©a
,

71 
drm_fže
 *
fže_´iv
);

73 
drm_ütc_g‘_£qu’û_ioùl
(
drm_deviû
 *
dev
, *
d©a
,

74 
drm_fže
 *
fžp
);

76 
drm_ütc_queue_£qu’û_ioùl
(
drm_deviû
 *
dev
, *
d©a
,

77 
drm_fže
 *
fžp
);

80 
drm_g‘magic
(
drm_deviû
 *
dev
, *
d©a
,

81 
drm_fže
 *
fže_´iv
);

82 
drm_authmagic
(
drm_deviû
 *
dev
, *
d©a
,

83 
drm_fže
 *
fže_´iv
);

84 
drm_£tma¡”_ioùl
(
drm_deviû
 *
dev
, *
d©a
,

85 
drm_fže
 *
fže_´iv
);

86 
drm_drÝma¡”_ioùl
(
drm_deviû
 *
dev
, *
d©a
,

87 
drm_fže
 *
fže_´iv
);

88 
drm_ma¡”_Ý’
(
drm_fže
 *
fže_´iv
);

89 
drm_ma¡”_»Ëa£
(
drm_fže
 *
fže_´iv
);

92 
þass
 *
drm_þass
;

94 
drm_sysfs_š™
();

95 
drm_sysfs_de¡roy
();

96 
deviû
 *
drm_sysfs_mšÜ_®loc
(
drm_mšÜ
 *
mšÜ
);

97 
drm_sysfs_cÚÃùÜ_add
(
drm_cÚÃùÜ
 *
cÚÃùÜ
);

98 
drm_sysfs_cÚÃùÜ_»move
(
drm_cÚÃùÜ
 *
cÚÃùÜ
);

101 
drm_gem_š™
(
drm_deviû
 *
dev
);

102 
drm_gem_de¡roy
(
drm_deviû
 *
dev
);

103 
drm_gem_hªdË_ü—‹_ž
(
drm_fže
 *
fže_´iv
,

104 
drm_gem_objeù
 *
obj
,

105 
u32
 *
hªdËp
);

106 
drm_gem_þo£_ioùl
(
drm_deviû
 *
dev
, *
d©a
,

107 
drm_fže
 *
fže_´iv
);

108 
drm_gem_æšk_ioùl
(
drm_deviû
 *
dev
, *
d©a
,

109 
drm_fže
 *
fže_´iv
);

110 
drm_gem_Ý’_ioùl
(
drm_deviû
 *
dev
, *
d©a
,

111 
drm_fže
 *
fže_´iv
);

112 
drm_gem_Ý’
(
drm_deviû
 *
dev
, 
drm_fže
 *
fže_´iv©e
);

113 
drm_gem_»Ëa£
(
drm_deviû
 *
dev
, 
drm_fže
 *
fže_´iv©e
);

114 
drm_gem_´št_šfo
(
drm_´š‹r
 *
p
, 
šd’t
,

115 cÚ¡ 
drm_gem_objeù
 *
obj
);

118 #ià
defšed
(
CONFIG_DEBUG_FS
)

119 
drm_debugfs_š™
(
drm_mšÜ
 *
mšÜ
, 
mšÜ_id
,

120 
d’Œy
 *
roÙ
);

121 
drm_debugfs_þ—nup
(
drm_mšÜ
 *
mšÜ
);

122 
drm_debugfs_cÚÃùÜ_add
(
drm_cÚÃùÜ
 *
cÚÃùÜ
);

123 
drm_debugfs_cÚÃùÜ_»move
(
drm_cÚÃùÜ
 *
cÚÃùÜ
);

124 
drm_debugfs_ütc_add
(
drm_ütc
 *
ütc
);

125 
drm_debugfs_ütc_»move
(
drm_ütc
 *
ütc
);

126 
drm_debugfs_ütc_üc_add
(
drm_ütc
 *
ütc
);

128 
šlše
 
	$drm_debugfs_š™
(
drm_mšÜ
 *
mšÜ
, 
mšÜ_id
,

129 
d’Œy
 *
roÙ
)

132 
	}
}

134 
šlše
 
	$drm_debugfs_þ—nup
(
drm_mšÜ
 *
mšÜ
)

137 
	}
}

139 
šlše
 
	$drm_debugfs_cÚÃùÜ_add
(
drm_cÚÃùÜ
 *
cÚÃùÜ
)

142 
	}
}

143 
šlše
 
	$drm_debugfs_cÚÃùÜ_»move
(
drm_cÚÃùÜ
 *
cÚÃùÜ
)

145 
	}
}

147 
šlše
 
	$drm_debugfs_ütc_add
(
drm_ütc
 *
ütc
)

150 
	}
}

151 
šlše
 
	$drm_debugfs_ütc_»move
(
drm_ütc
 *
ütc
)

153 
	}
}

155 
šlše
 
	$drm_debugfs_ütc_üc_add
(
drm_ütc
 *
ütc
)

158 
	}
}

163 
drm_syncobj_Ý’
(
drm_fže
 *
fže_´iv©e
);

164 
drm_syncobj_»Ëa£
(
drm_fže
 *
fže_´iv©e
);

165 
drm_syncobj_ü—‹_ioùl
(
drm_deviû
 *
dev
, *
d©a
,

166 
drm_fže
 *
fže_´iv©e
);

167 
drm_syncobj_de¡roy_ioùl
(
drm_deviû
 *
dev
, *
d©a
,

168 
drm_fže
 *
fže_´iv©e
);

169 
drm_syncobj_hªdË_to_fd_ioùl
(
drm_deviû
 *
dev
, *
d©a
,

170 
drm_fže
 *
fže_´iv©e
);

171 
drm_syncobj_fd_to_hªdË_ioùl
(
drm_deviû
 *
dev
, *
d©a
,

172 
drm_fže
 *
fže_´iv©e
);

173 
drm_syncobj_wa™_ioùl
(
drm_deviû
 *
dev
, *
d©a
,

174 
drm_fže
 *
fže_´iv©e
);

175 
drm_syncobj_»£t_ioùl
(
drm_deviû
 *
dev
, *
d©a
,

176 
drm_fže
 *
fže_´iv©e
);

177 
drm_syncobj_sigÇl_ioùl
(
drm_deviû
 *
dev
, *
d©a
,

178 
drm_fže
 *
fže_´iv©e
);

181 
drm_äamebufãr_´št_šfo
(
drm_´š‹r
 *
p
, 
šd’t
,

182 cÚ¡ 
drm_äamebufãr
 *
fb
);

183 
drm_äamebufãr_debugfs_š™
(
drm_mšÜ
 *
mšÜ
);

	@src/common/linuxkpi/drivers/gpu/drm/drm_legacy.h

1 #iâdeà
__DRM_LEGACY_H__


2 
	#__DRM_LEGACY_H__


	)

31 
	~<lšux/li¡.h
>

32 
	~<drm/drm_Ëgacy.h
>

34 
	gagp_memÜy
;

35 
	gdrm_deviû
;

36 
	gdrm_fže
;

42 
	#DRM_KERNEL_CONTEXT
 0

	)

43 
	#DRM_RESERVED_CONTEXTS
 1

	)

45 
drm_Ëgacy_ùxb™m­_š™
(
drm_deviû
 *
dev
);

46 
drm_Ëgacy_ùxb™m­_þ—nup
(
drm_deviû
 *
dev
);

47 
drm_Ëgacy_ùxb™m­_ä“
(
drm_deviû
 *
dev
, 
ùx_hªdË
);

48 
drm_Ëgacy_ùxb™m­_æush
(
drm_deviû
 *
dev
, 
drm_fže
 *
fže
);

50 
drm_Ëgacy_»sùx
(
drm_deviû
 *
d
, *
v
, 
drm_fže
 *
f
);

51 
drm_Ëgacy_addùx
(
drm_deviû
 *
d
, *
v
, 
drm_fže
 *
f
);

52 
drm_Ëgacy_g‘ùx
(
drm_deviû
 *
d
, *
v
, 
drm_fže
 *
f
);

53 
drm_Ëgacy_sw™chùx
(
drm_deviû
 *
d
, *
v
, 
drm_fže
 *
f
);

54 
drm_Ëgacy_Ãwùx
(
drm_deviû
 *
d
, *
v
, 
drm_fže
 *
f
);

55 
drm_Ëgacy_rmùx
(
drm_deviû
 *
d
, *
v
, 
drm_fže
 *
f
);

57 
drm_Ëgacy_£t§»aùx
(
drm_deviû
 *
d
, *
v
, 
drm_fže
 *
f
);

58 
drm_Ëgacy_g‘§»aùx
(
drm_deviû
 *
d
, *
v
, 
drm_fže
 *
f
);

64 
	#DRM_MAP_HASH_OFFSET
 0x10000000

	)

66 
drm_Ëgacy_g‘m­_ioùl
(
drm_deviû
 *
dev
, *
d©a
,

67 
drm_fže
 *
fže_´iv
);

68 
drm_Ëgacy_addm­_ioùl
(
drm_deviû
 *
d
, *
v
, 
drm_fže
 *
f
);

69 
drm_Ëgacy_rmm­_ioùl
(
drm_deviû
 *
d
, *
v
, 
drm_fže
 *
f
);

70 
drm_Ëgacy_addbufs
(
drm_deviû
 *
d
, *
v
, 
drm_fže
 *
f
);

71 
drm_Ëgacy_šfobufs
(
drm_deviû
 *
d
, *
v
, 
drm_fže
 *
f
);

72 
drm_Ëgacy_m¬kbufs
(
drm_deviû
 *
d
, *
v
, 
drm_fže
 *
f
);

73 
drm_Ëgacy_ä“bufs
(
drm_deviû
 *
d
, *
v
, 
drm_fže
 *
f
);

74 
drm_Ëgacy_m­bufs
(
drm_deviû
 *
d
, *
v
, 
drm_fže
 *
f
);

75 
drm_Ëgacy_dma_ioùl
(
drm_deviû
 *
d
, *
v
, 
drm_fže
 *
f
);

77 
__drm_Ëgacy_šfobufs
(
drm_deviû
 *, *, *,

78 (*)(*, , 
drm_buf_’Œy
 *));

79 
	`__drm_Ëgacy_m­bufs
(
drm_deviû
 *, *, *,

80 
__u£r
 **,

81 (*)(*, , , 
drm_buf
 *),

82 
drm_fže
 *);

84 #ifdeà
CONFIG_DRM_VM


85 
	`drm_Ëgacy_vma_æush
(
drm_deviû
 *
d
);

87 
šlše
 
	$drm_Ëgacy_vma_æush
(
drm_deviû
 *
d
)

90 
	}
}

97 
	sdrm_agp_mem
 {

98 
	mhªdË
;

99 
agp_memÜy
 *
	mmemÜy
;

100 
	mbound
;

101 
	m·ges
;

102 
li¡_h—d
 
	mh—d
;

106 
drm_Ëgacy_lock
(
drm_deviû
 *
d
, *
v
, 
drm_fže
 *
f
);

107 
drm_Ëgacy_uÆock
(
drm_deviû
 *
d
, *
v
, 
drm_fže
 *
f
);

108 
drm_Ëgacy_lock_»Ëa£
(
drm_deviû
 *
dev
, 
fže
 *
fžp
);

111 
drm_Ëgacy_dma_£tup
(
drm_deviû
 *
dev
);

112 
drm_Ëgacy_dma_kedown
(
drm_deviû
 *
dev
);

113 
drm_Ëgacy_ä“_bufãr
(
drm_deviû
 *
dev
,

114 
drm_buf
 * 
buf
);

115 
drm_Ëgacy_»þaim_bufãrs
(
drm_deviû
 *
dev
,

116 
drm_fže
 *
fžp
);

119 
drm_Ëgacy_sg_þ—nup
(
drm_deviû
 *
dev
);

120 
drm_Ëgacy_sg_®loc
(
drm_deviû
 *
dev
, *
d©a
,

121 
drm_fže
 *
fže_´iv
);

122 
drm_Ëgacy_sg_ä“
(
drm_deviû
 *
dev
, *
d©a
,

123 
drm_fže
 *
fže_´iv
);

	@src/common/linuxkpi/drivers/gpu/drm/drm_os_config.h

1 #iâdeà
DRM_OS_CONFIG_H_


2 
	#DRM_OS_CONFIG_H_


	)

4 
	#CONFIG_DEBUG_FS
 1

	)

5 #ifdeà
__amd64__


6 
	#COMPAT_FREEBSD32
 1

	)

8 #ifdeà
COMPAT_FREEBSD32


9 
	#CONFIG_COMPAT
 1

	)

11 #ifdeà
nÙy‘


12 
	#CONFIG_MMU_NOTIFIER
 1

	)

14 #ifdeà
__i386__


15 
	#CONFIG_X86
 1

	)

17 #ifdeà
__amd64__


18 
	#CONFIG_X86
 1

	)

19 
	#CONFIG_X86_64
 1

	)

20 
	#CONFIG_64BIT
 1

	)

22 #ifdeà
__Ÿ64__


23 
	#CONFIG_IA64
 1

	)

24 
	#CONFIG_64BIT
 1

	)

27 #ià
defšed
(
__i386__
è|| defšed(
__amd64__
)

28 
	#CONFIG_PCI
 1

	)

29 
	#CONFIG_ACPI
 1

	)

30 
	#CONFIG_ACPI_SLEEP
 1

	)

31 
	#CONFIG_DRM_I915_KMS
 1

	)

32 #undeà
CONFIG_INTEL_IOMMU


34 
	#CONFIG_AS_MOVNTDQA


	)

37 #ifdeà
__pow”pc64__


38 
	#CONFIG_PPC64
 1

	)

39 
	#CONFIG_64BIT
 1

	)

40 
	#AIM
 1

	)

41 
	#CONFIG_PCI
 1

	)

42 #undeà
CONFIG_ACPI


43 #undeà
CONFIG_ACPI_SLEEP


44 #undeà
CONFIG_DRM_I915_KMS


45 #undeà
CONFIG_INTEL_IOMMU


46 #undeà
CONFIG_AS_MOVNTDQA


51 #ifdeà
_KERNEL


52 
	#__KERNEL__


	)

55 #ià!
defšed
(
__pow”pc__
)

56 
	#CONFIG_AGP
 1

	)

59 
	#CONFIG_MTRR
 1

	)

61 
	#CONFIG_FB
 1

	)

63 #undeà
CONFIG_VGA_CONSOLE


65 
	#CONFIG_BACKLIGHT_CLASS_DEVICE
 1

	)

69 
	#CONFIG_DRM_DP_AUX_CHARDEV
 1

	)

71 
	#CONFIG_SMP
 1

	)

73 
	#CONFIG_PM
 1

	)

80 
	#CONFIG_DMI
 1

	)

82 
	#CONFIG_DRM_LOAD_EDID_FIRMWARE
 1

	)

85 
	#CONFIG_DRM_I915_CAPTURE_ERROR
 1

	)

89 
	#CONFIG_DRM_I915_ALPHA_SUPPORT
 1

	)

91 
	#CONFIG_DRM_AMD_POWERPLAY
 1

	)

98 
	#CONFIG_DRM_AMDGPU_SI


	)

99 
	#CONFIG_DRM_AMDGPU_CIK


	)

117 
	#CONFIG_DRM_FBDEV_OVERALLOC
 100

	)

127 
	#CONFIG_DRM_AMD_DC
 1

	)

128 #ifdeà
__amd64__


129 
	#CONFIG_DRM_AMD_DC_DCN1_0
 1

	)

132 
	#CONFIG_DRM_VMWGFX_FBCON
 1

	)

	@src/common/linuxkpi/drivers/gpu/drm/drm_os_freebsd.h

6 
	~<sys/cdefs.h
>

7 
__FBSDID
("$FreeBSD$");

9 #iâdeà
_DRM_OS_FREEBSD_H_


10 
	#_DRM_OS_FREEBSD_H_


	)

12 
	~<sys/fbio.h
>

13 
	~<sys/´iv.h
>

14 
	~<sys/smp.h
>

16 
	~"drm_os_cÚfig.h
"

18 
	~<lšux/k”Ãl.h
>

19 
	~<asm/uacûss.h
>

20 
	~<lšux/d–ay.h
>

21 
	~<lšux/¦ab.h
>

22 
	~<lšux/mod_deviûbË.h
>

23 
	~<lšux/pci.h
>

25 
	#DRM_DEV_MODE
 (
S_IRUSR
|
S_IWUSR
|
S_IRGRP
|
S_IWGRP
)

	)

26 
	#DRM_DEV_UID
 
UID_ROOT


	)

27 
	#DRM_DEV_GID
 
GID_VIDEO


	)

29 cÚ¡ *
fb_mode_ÝtiÚ
;

30 
drm_®ways_š‹¼u±ibË
;

32 
	svt_kms_soác
 {

33 
drm_fb_h–³r
 *
	mfb_h–³r
;

34 
sk
 
	mfb_mode_sk
;

37 
	#DRM_IRQ_ARGS
 
œq
, *
¬g


	)

39 
	#KHZ2PICOS
(
a
è(1000000000UL/×))

	)

41 
	#DRM_HZ
 
hz


	)

42 
	#DRM_CURPROC
 
cu¹h»ad


	)

43 
	#DRM_SUSER
(
p
è(
	`´iv_check
Õ, 
PRIV_DRIVER
è=ð0)

	)

44 
	#DRM_UDELAY
(
n
è
	`ud–ay
Ò);

	)

46 
	#DRM_WAIT_ON
Ð
»t
, 
queue
, 
timeout
, 
cÚd™iÚ
 ) \

48 
	`DECLARE_WAITQUEUE
(
’Œy
, 
cu¼’t
); \

49 
’d
 = 
ticks
 + (
timeout
); \

50 
	`add_wa™_queue
(&(
queue
), &
’Œy
); \

53 
	`__£t_cu¼’t_¡©e
(
TASK_INTERRUPTIBLE
); \

54 ià(
cÚd™iÚ
) \

56 ià(
	`time_aá”_eq
(
ticks
, 
’d
)) { \

57 
»t
 = -
EBUSY
; \

60 
	`scheduË_timeout
((
HZ
/100 > 1) ? HZ/100 : 1); \

61 ià(
	`sigÇl_³ndšg
(
cu¼’t
)) { \

62 
»t
 = -
EINTR
; \

66 
	`__£t_cu¼’t_¡©e
(
TASK_RUNNING
); \

67 
	`»move_wa™_queue
(&(
queue
), &
’Œy
); \

68 } 0)

	)

70 #iâdeà
»adq


71 
šlše
 
ušt64_t


72 
	$»adq
(cÚ¡ vÞ©ž*
addr
)

74 
ušt32_t
 
vl
 = 
	`»adl
(
addr
);

75 
ušt32_t
 
vh
 = 
	`»adl
(
addr
 + 4);

77  (
vl
 | ((
ušt64_t
)
vh
 << 32));

78 
	}
}

79 
	#»adq
 
»adq


	)

80 
šlše
 

81 
	$wr™eq
(
ušt64_t
 
v
, vÞ©ž*
addr
)

83 
	`wr™–
(
v
, 
addr
);

84 
	`wr™–
(
v
 >> 32, 
addr
 + 4);

85 
	}
}

86 
	#wr™eq
 
wr™eq


	)

89 
	#DRM_WRITE8
(
m­
, 
off£t
, 
v®
) \

90 *(vÞ©ž
u_št8_t
 *)(((
vm_off£t_t
)(
m­
)->
hªdË
) + \

91 (
vm_off£t_t
)(
off£t
)èð
v®


	)

92 
	#DRM_WRITE16
(
m­
, 
off£t
, 
v®
) \

93 *(vÞ©ž
u_št16_t
 *)(((
vm_off£t_t
)(
m­
)->
hªdË
) + \

94 (
vm_off£t_t
)(
off£t
)èð
	`htÞe16
(
v®
)

	)

95 
	#DRM_WRITE32
(
m­
, 
off£t
, 
v®
) \

96 *(vÞ©ž
u_št32_t
 *)(((
vm_off£t_t
)(
m­
)->
hªdË
) + \

97 (
vm_off£t_t
)(
off£t
)èð
	`htÞe32
(
v®
)

	)

98 
	#DRM_WRITE64
(
m­
, 
off£t
, 
v®
) \

99 *(vÞ©ž
u_št64_t
 *)(((
vm_off£t_t
)(
m­
)->
hªdË
) + \

100 (
vm_off£t_t
)(
off£t
)èð
	`htÞe64
(
v®
)

	)

106 
	#DRM_READMEMORYBARRIER
(è
	`rmb
()

	)

107 
	#DRM_WRITEMEMORYBARRIER
(è
	`wmb
()

	)

108 
	#DRM_MEMORYBARRIER
(è
	`mb
()

	)

109 
	#smp_mb__befÜe_©omic_šc
(è
	`mb
()

	)

110 
	#smp_mb__aá”_©omic_šc
(è
	`mb
()

	)

112 
	#low”_32_b™s
(
n
è((
u32
)Ò))

	)

113 
	#uµ”_32_b™s
(
n
è((
u32
)((Òè>> 16è>> 16))

	)

117 
	#EREMOTEIO
 
EIO


	)

119 
	#KTR_DRM
 
KTR_DEV


	)

120 
	#KTR_DRM_REG
 
KTR_SPARE3


	)

122 
	#DRM_AGP_MEM
 

	)

124 
	#IS_ALIGNED
(
x
, 
y
è(((xè& ((yè- 1)è=ð0)

	)

125 
	#g‘_uÇligÃd
(
±r
) \

126 ({ 
	`__ty³of__
(*(
±r
)è
__tmp
; \

127 
	`memýy
(&
__tmp
, (
±r
), (*ÕŒ))); __tmp; })

	)

129 #ià
_BYTE_ORDER
 =ð
_LITTLE_ENDIAN


131 
	s__uÇ_u32
 { 
u32
 
	mx
; } 
	g__·cked
;

133 
šlše
 
u32


134 
	$__g‘_uÇligÃd_ýu32
(cÚ¡ *
p
)

136 cÚ¡ 
__uÇ_u32
 *
±r
 = (cÚ¡ __uÇ_u32 *)
p
;

138  (
±r
->
x
);

139 
	}
}

141 
šlše
 
u32


142 
	$g‘_uÇligÃd_Ë32
(cÚ¡ *
p
)

145  (
	`__g‘_uÇligÃd_ýu32
((cÚ¡ 
u8
 *)
p
));

146 
	}
}

149 
šlše
 
u32


150 
	$__g‘_uÇligÃd_Ë32
(cÚ¡ 
u8
 *
p
)

153  (
p
[0] |…[1] << 8 |…[2] << 16 |…[3] << 24);

154 
	}
}

156 
šlše
 
u32


157 
	$g‘_uÇligÃd_Ë32
(cÚ¡ *
p
)

160  (
	`__g‘_uÇligÃd_Ë32
((cÚ¡ 
u8
 *)
p
));

161 
	}
}

164 
	#·ge_to_phys
(
x
è
	`VM_PAGE_TO_PHYS
(x)

	)

166 
	#drm_g‘_deviû_äom_kdev
(
_kdev
è(((
drm_mšÜ
 *)(_kdev)->
si_drv1
)->
dev
)

	)

168 
	#DRM_IOC_VOID
 
IOC_VOID


	)

169 
	#DRM_IOC_READ
 
IOC_OUT


	)

170 
	#DRM_IOC_WRITE
 
IOC_IN


	)

171 
	#DRM_IOC_READWRITE
 
IOC_INOUT


	)

172 
	#DRM_IOC
(
dœ
, 
group
, 
Ä
, 
size
è
	`_IOC
(dœ, group,‚r, size)

	)

174 
šlše
 

175 
	$__cÝy_to_u£r_š©omic
(
__u£r
 *
to
, cÚ¡ *
äom
, 
n
)

178  (
	`cÝyout_noçuÉ
(
äom
, 
to
, 
n
) != 0 ?‚ : 0);

179 
	}
}

180 
	#__cÝy_to_u£r_š©omic_noÿche
(
to
, 
äom
, 
n
) \

181 
	`__cÝy_to_u£r_š©omic
((
to
), (
äom
), (
n
))

	)

183 
šlše
 

184 
	$__cÝy_äom_u£r_š©omic
(*
to
, cÚ¡ 
__u£r
 *
äom
,

185 
n
)

195  ((
	`cÝyš_noçuÉ
(
	`__DECONST
(*, 
äom
), 
to
, 
n
) != 0 ?‚ : 0));

196 
	}
}

197 
	#__cÝy_äom_u£r_š©omic_noÿche
(
to
, 
äom
, 
n
) \

198 
	`__cÝy_äom_u£r_š©omic
((
to
), (
äom
), (
n
))

	)

201 
	#sigem±y£t
(
£t
è
	`SIGEMPTYSET
(£t)

	)

202 
	#sigadd£t
(
£t
, 
sig
è
	`SIGADDSET
(£t, sig)

	)

204 
MALLOC_DECLARE
(
DRM_MEM_DMA
);

205 
MALLOC_DECLARE
(
DRM_MEM_DRIVER
);

206 
MALLOC_DECLARE
(
DRM_MEM_KMS
);

208 
devþass_t
 
drm_devþass
;

210 
	sdrm_pci_id_li¡


212 
	mv’dÜ
;

213 
	mdeviû
;

214 
	mdriv”_´iv©e
;

215 *
	mÇme
;

216 } 
	tdrm_pci_id_li¡_t
;

218 
	gdrm_mšÜ
;

219 
drm_dev_®Ÿs
(
deviû
 *
dev
, 
drm_mšÜ
 *
mšÜ
, cÚ¡ *
mšÜ_¡r
);

220 
ÿnûl_»£t_debug_log
();

222 
	#cÚsÞe_lock
()

	)

223 
	#cÚsÞe_uÆock
()

	)

224 
	#cÚsÞe_Œylock
(è
Œue


	)

226 
	#PM_EVENT_SUSPEND
 0x0002

	)

227 
	#PM_EVENT_QUIESCE
 0x0008

	)

228 
	#PM_EVENT_PRETHAW
 
PM_EVENT_QUIESCE


	)

231 
	#drm_´oc_þ—nup
(
a
, 
b
)

	)

235 
	#VGA_RSRC_NONE
 0x00

	)

236 
	#VGA_RSRC_LEGACY_IO
 0x01

	)

237 
	#VGA_RSRC_LEGACY_MEM
 0x02

	)

238 
	#VGA_RSRC_LEGACY_MASK
 (
VGA_RSRC_LEGACY_IO
 | 
VGA_RSRC_LEGACY_MEM
)

	)

240 
	#VGA_RSRC_NORMAL_IO
 0x04

	)

241 
	#VGA_RSRC_NORMAL_MEM
 0x08

	)

245 
	glšux_fb_šfo
;

247 
šlše
 
	$vga_sw™ch”oo_uÄegi¡”_þ›Á
(
pci_dev
 *
pdev
è{
	}
}

248 
šlše
 
	$vga_sw™ch”oo_»gi¡”_þ›Á
(
pci_dev
 *
pdev
,

249 cÚ¡ 
vga_sw™ch”oo_þ›Á_Ýs
 *
Ýs
è{  0; 
	}
}

250 
šlše
 
	$vga_sw™ch”oo_þ›Á_fb_£t
(
pci_dev
 *
pdev
, 
lšux_fb_šfo
 *
šfo
è{
	}
}

251 
šlše
 
	$vga_sw™ch”oo_»gi¡”_hªdËr
(
vga_sw™ch”oo_hªdËr
 *
hªdËr
è{  0; 
	}
}

252 
šlše
 
	$vga_sw™ch”oo_»gi¡”_audio_þ›Á
(
pci_dev
 *
pdev
,

253 cÚ¡ 
vga_sw™ch”oo_þ›Á_Ýs
 *
Ýs
,

254 
id
, 
boÞ
 
aùive
è{  0; 
	}
}

255 
šlše
 
	$vga_sw™ch”oo_uÄegi¡”_hªdËr
(è{
	}
}

256 
šlše
 
	$vga_sw™ch”oo_´oûss_d–ayed_sw™ch
(è{  0; 
	}
}

257 
šlše
 
	$vga_sw™ch”oo_g‘_þ›Á_¡©e
(
pci_dev
 *
pdev
è{  
VGA_SWITCHEROO_ON
; 
	}
}

260 
	#pm_qos_add_»que¡
(
a
, 
b
, 
c
)

	)

261 
	#pm_qos_upd©e_»que¡
(
a
, 
b
)

	)

262 
	#pm_qos_»move_»que¡
(
a
)

	)

264 
	#pci_g‘_pow”_¡©e
 
pci_g‘_pow”¡©e


	)

266 
	#š_dbg_ma¡”
(è(
kdb_aùive
)

	)

267 
	#do_g‘timeofday
 
miüÙime


	)

268 
	#aýi_video_»gi¡”
()

	)

269 
	#aýi_video_uÄegi¡”
()

	)

271 
	#CONFIG_X86_PAT


	)

272 
u_št
 
ýu_þæush_lše_size
;

	@src/common/linuxkpi/drivers/gpu/drm/drm_trace.h

2 #ià!
defšed
(
_DRM_TRACE_H_
è|| defšed(
TRACE_HEADER_MULTI_READ
)

3 
	#_DRM_TRACE_H_


	)

5 
	~<lšux/¡ršgify.h
>

6 
	~<lšux/ty³s.h
>

7 
	~<lšux/Œaûpošt.h
>

9 #ifdeà
__lšux__


11 #undeà
TRACE_SYSTEM


12 
	#TRACE_SYSTEM
 
drm


	)

13 
	#TRACE_INCLUDE_FILE
 
drm_Œaû


	)

15 
TRACE_EVENT
(
drm_vbÏnk_ev’t
,

16 
TP_PROTO
(
ütc
, 
£q
),

17 
TP_ARGS
(
ütc
, 
£q
),

18 
TP_STRUCT__’Œy
(

19 
	$__f›ld
(, 
ütc
)

20 
	`__f›ld
(, 
£q
)

22 
	`TP_ç¡_assign
(

23 
__’Œy
->
ütc
 = crtc;

24 
__’Œy
->
£q
 = seq;

26 
	`TP_´štk
("ütc=%d, seq=%u", 
__’Œy
->
ütc
, __’Œy->
£q
)

29 
	`TRACE_EVENT
(
drm_vbÏnk_ev’t_queued
,

30 
	`TP_PROTO
(
drm_fže
 *
fže
, 
ütc
, 
£q
),

31 
	`TP_ARGS
(
fže
, 
ütc
, 
£q
),

32 
	`TP_STRUCT__’Œy
(

33 
	$__f›ld
(
drm_fže
 *, 
fže
)

34 
	$__f›ld
(, 
ütc
)

35 
	`__f›ld
(, 
£q
)

37 
	`TP_ç¡_assign
(

38 
__’Œy
->
fže
 = file;

39 
__’Œy
->
ütc
 = crtc;

40 
__’Œy
->
£q
 = seq;

42 
	`TP_´štk
("fže=%p, c¹c=%d, seq=%u", 
__’Œy
->
fže
, __’Œy->
ütc
, \

43 
__’Œy
->
£q
)

46 
	`TRACE_EVENT
(
drm_vbÏnk_ev’t_d–iv”ed
,

47 
	`TP_PROTO
(
drm_fže
 *
fže
, 
ütc
, 
£q
),

48 
	`TP_ARGS
(
fže
, 
ütc
, 
£q
),

49 
	`TP_STRUCT__’Œy
(

50 
	$__f›ld
(
drm_fže
 *, 
fže
)

51 
	$__f›ld
(, 
ütc
)

52 
	`__f›ld
(, 
£q
)

54 
	`TP_ç¡_assign
(

55 
__’Œy
->
fže
 = file;

56 
__’Œy
->
ütc
 = crtc;

57 
__’Œy
->
£q
 = seq;

59 
	`TP_´štk
("fže=%p, c¹c=%d, seq=%u", 
__’Œy
->
fže
, __’Œy->
ütc
, \

60 
__’Œy
->
£q
)

64 
	~"drm_Œaû_ä“bsd.h
"

70 #undeà
TRACE_INCLUDE_PATH


71 
	#TRACE_INCLUDE_PATH
 ../../
driv”s
/
gpu
/
drm


	)

72 
	~<Œaû/defše_Œaû.h
>

	@src/common/linuxkpi/drivers/gpu/drm/drm_trace_freebsd.h

1 #iâdeà
_DRM_TRACE_FREEBSD_H_


2 
	#_DRM_TRACE_FREEBSD_H_


	)

4 
	~<drm/drmP.h
>

9 
šlše
 

10 
	$Œaû_drm_vbÏnk_ev’t
(
ütc
, 
£q
)

12 
	`CTR2
(
KTR_DRM
, "drm_vbÏnk_ev’ˆütø%d, seq %u", 
ütc
, 
£q
);

13 
	}
}

17 
šlše
 

18 
	$Œaû_drm_vbÏnk_ev’t_queued
(
drm_fže
 *
fže
, 
ütc
, 
£q
)

20 
	`CTR3
(
KTR_DRM
, "drm_vbÏnk_ev’t_queued c¹ø%d, seq %u", 
fže
, 
ütc
, 
£q
);

21 
	}
}

25 
šlše
 

26 
	$Œaû_drm_vbÏnk_ev’t_d–iv”ed
(
drm_fže
 *
fže
, 
ütc
, 
£q
)

28 
	`CTR3
(
KTR_DRM
, "drm_vbÏnk_ev’t_d–iv”ed drm_fž%p, c¹ø%d, seq %u", 
fže
, 
ütc
, 
£q
);

29 
	}
}

	@src/common/linuxkpi/dummy/include/asm/agp.h

	@src/common/linuxkpi/dummy/include/asm/div64.h

	@src/common/linuxkpi/dummy/include/asm/hypervisor.h

	@src/common/linuxkpi/dummy/include/asm/intel-mid.h

	@src/common/linuxkpi/dummy/include/asm/ioctl.h

	@src/common/linuxkpi/dummy/include/asm/msr-index.h

	@src/common/linuxkpi/dummy/include/asm/unaligned.h

	@src/common/linuxkpi/dummy/include/linux/agp_backend.h

	@src/common/linuxkpi/dummy/include/linux/bug.h

	@src/common/linuxkpi/dummy/include/linux/cpu.h

	@src/common/linuxkpi/dummy/include/linux/ctype.h

	@src/common/linuxkpi/dummy/include/linux/dma_remapping.h

	@src/common/linuxkpi/dummy/include/linux/fault-inject.h

	@src/common/linuxkpi/dummy/include/linux/fdtable.h

	@src/common/linuxkpi/dummy/include/linux/init.h

	@src/common/linuxkpi/dummy/include/linux/input.h

	@src/common/linuxkpi/dummy/include/linux/intel-iommu.h

	@src/common/linuxkpi/dummy/include/linux/irq_work.h

	@src/common/linuxkpi/dummy/include/linux/list_sort.h

	@src/common/linuxkpi/dummy/include/linux/media-bus-format.h

	@src/common/linuxkpi/dummy/include/linux/mfd/core.h

	@src/common/linuxkpi/dummy/include/linux/mman.h

	@src/common/linuxkpi/dummy/include/linux/pnp.h

	@src/common/linuxkpi/dummy/include/linux/proc_fs.h

	@src/common/linuxkpi/dummy/include/linux/resource_ext.h

	@src/common/linuxkpi/dummy/include/linux/sched/clock.h

	@src/common/linuxkpi/dummy/include/linux/sched/signal.h

	@src/common/linuxkpi/dummy/include/linux/shmem_fs.h

	@src/common/linuxkpi/dummy/include/linux/stat.h

	@src/common/linuxkpi/dummy/include/linux/stddef.h

	@src/common/linuxkpi/dummy/include/linux/suspend.h

	@src/common/linuxkpi/dummy/include/linux/swiotlb.h

	@src/common/linuxkpi/dummy/include/linux/tty.h

	@src/common/linuxkpi/dummy/include/linux/version.h

	@src/common/linuxkpi/dummy/include/linux/vt.h

	@src/common/linuxkpi/dummy/include/linux/zlib.h

	@src/common/linuxkpi/dummy/include/video/of_videomode.h

	@src/common/linuxkpi/gplv2/include/acpi/acpi.h

1 #iâdeà
_ACPI_ACPI_H_


2 
	#_ACPI_ACPI_H_


	)

4 
ACPI_HANDLE
 
	taýi_hªdË
;

5 
ACPI_OBJECT
 
	taýi_objeù
;

6 
ACPI_OBJECT_HANDLER
 
	taýi_objeù_hªdËr
;

7 
ACPI_OBJECT_TYPE
 
	taýi_objeù_ty³
;

8 
ACPI_STATUS
 
	taýi_¡©us
;

9 
ACPI_STRING
 
	taýi_¡ršg
;

10 
ACPI_SIZE
 
	taýi_size
;

11 
ACPI_WALK_CALLBACK
 
	taýi_w®k_ÿÎback
;

13 
	#aýi_gbl_FADT
 
AýiGbl_FADT


	)

15 
	#aýi_ev®u©e_objeù
 
AýiEv®u©eObjeù


	)

16 
	#aýi_fÜm©_exû±iÚ
 
AýiFÜm©Exû±iÚ


	)

17 
	#aýi_g‘_hªdË
 
AýiG‘HªdË


	)

18 
	#aýi_g‘_d©a
 
AýiG‘D©a


	)

19 
	#aýi_g‘_Çme
 
AýiG‘Name


	)

20 
	#aýi_g‘_bË
 
AýiG‘TabË


	)

21 
	#aýi_w®k_Çme¥aû
 
AýiW®kName¥aû


	)

	@src/common/linuxkpi/gplv2/include/acpi/acpi_bus.h

22 #iâdeà
__ACPI_ACPI_BUS_H__


23 
	#__ACPI_ACPI_BUS_H__


	)

25 
	gdeviû
;

28 
	#ACPI_MAX_HANDLES
 10

	)

29 
	saýi_hªdË_li¡
 {

30 
u32
 
	mcouÁ
;

31 
aýi_hªdË
 
	mhªdËs
[
ACPI_MAX_HANDLES
];

35 
aýi_¡©us


36 
aýi_exŒaù_·ckage
(
aýi_objeù
 *
·ckage
,

37 
aýi_bufãr
 *
fÜm©
, aýi_bufã¸*
bufãr
);

38 
aýi_¡©us


39 
aýi_ev®u©e_š‹g”
(
aýi_hªdË
 
hªdË
,

40 
aýi_¡ršg
 
·thÇme
,

41 
aýi_objeù_li¡
 *
¬gum’ts
, *
d©a
);

42 
aýi_¡©us


43 
aýi_ev®u©e_»ã»nû
(
aýi_hªdË
 
hªdË
,

44 
aýi_¡ršg
 
·thÇme
,

45 
aýi_objeù_li¡
 *
¬gum’ts
,

46 
aýi_hªdË_li¡
 *
li¡
);

47 
aýi_¡©us


48 
aýi_ev®u©e_o¡
(
aýi_hªdË
 
hªdË
, 
u32
 
sourû_ev’t
, u32 
¡©us_code
,

49 
aýi_bufãr
 *
¡©us_buf
);

51 
aýi_¡©us


52 
aýi_g‘_physiÿl_deviû_loÿtiÚ
(
aýi_hªdË
 
hªdË
, 
aýi_¶d_šfo
 **
¶d
);

54 
boÞ
 
aýi_has_m‘hod
(
aýi_hªdË
 
hªdË
, *
Çme
);

55 
aýi_¡©us
 
aýi_execu‹_sim¶e_m‘hod
(
aýi_hªdË
 
hªdË
, *
m‘hod
,

56 
u64
 
¬g
);

57 
aýi_¡©us
 
aýi_ev®u©e_ej0
(
aýi_hªdË
 
hªdË
);

58 
aýi_¡©us
 
aýi_ev®u©e_lck
(
aýi_hªdË
 
hªdË
, 
lock
);

59 
boÞ
 
aýi_©a_m©ch
(
aýi_hªdË
 
hªdË
);

60 
boÞ
 
aýi_bay_m©ch
(
aýi_hªdË
 
hªdË
);

61 
boÞ
 
aýi_dock_m©ch
(
aýi_hªdË
 
hªdË
);

63 
boÞ
 
aýi_check_dsm
(
aýi_hªdË
 
hªdË
, cÚ¡ 
u8
 *
uuid
, 
»v
, 
u64
 
funcs
);

64 
aýi_objeù
 *
aýi_ev®u©e_dsm
(
aýi_hªdË
 
hªdË
, cÚ¡ 
u8
 *
uuid
,

65 
»v
, 
func
, 
aýi_objeù
 *
¬gv4
);

67 
šlše
 
aýi_objeù
 *

68 
	$aýi_ev®u©e_dsm_ty³d
(
aýi_hªdË
 
hªdË
, cÚ¡ 
u8
 *
uuid
, 
»v
, 
func
,

69 
aýi_objeù
 *
¬gv4
, 
aýi_objeù_ty³
 
ty³
)

71 
aýi_objeù
 *
obj
;

73 
obj
 = 
	`aýi_ev®u©e_dsm
(
hªdË
, 
uuid
, 
»v
, 
func
, 
¬gv4
);

74 ià(
obj
 && obj->
Ty³
 !ð
ty³
) {

75 
	`ACPI_FREE
(
obj
);

76 
obj
 = 
NULL
;

79  
obj
;

80 
	}
}

82 
	#ACPI_INIT_DSM_ARGV4
(
út
, 
–es
) \

84 .
·ckage
.
ty³
 = 
ACPI_TYPE_PACKAGE
, \

85 .
·ckage
.
couÁ
 = (
út
), \

86 .
·ckage
.
–em’ts
 = (
–es
) \

87 }

	)

89 
boÞ
 
aýi_dev_´e£Á
(cÚ¡ *
hid
);

91 #ifdeà
CONFIG_ACPI


93 
	~<lšux/´oc_fs.h
>

95 
	#ACPI_BUS_FILE_ROOT
 "aýi"

	)

96 
´oc_dœ_’Œy
 *
aýi_roÙ_dœ
;

98 
	eaýi_bus_deviû_ty³
 {

99 
	mACPI_BUS_TYPE_DEVICE
 = 0,

100 
	mACPI_BUS_TYPE_POWER
,

101 
	mACPI_BUS_TYPE_PROCESSOR
,

102 
	mACPI_BUS_TYPE_THERMAL
,

103 
	mACPI_BUS_TYPE_POWER_BUTTON
,

104 
	mACPI_BUS_TYPE_SLEEP_BUTTON
,

105 
	mACPI_BUS_DEVICE_TYPE_COUNT


108 
	gaýi_driv”
;

109 
	gaýi_deviû
;

116 
	saýi_hÙ¶ug_´ofže
 {

117 
kobjeù
 
	mkobj
;

118 (*
	msÿn_d•’d’t
)(
aýi_deviû
 *
	madev
);

119 (*
	mnÙify_Úlše
)(
aýi_deviû
 *
	madev
);

120 
boÞ
 
	m’abËd
:1;

121 
boÞ
 
	mdemªd_ofæše
:1;

124 
šlše
 
aýi_hÙ¶ug_´ofže
 *
	$to_aýi_hÙ¶ug_´ofže
(

125 
kobjeù
 *
kobj
)

127  
	`cÚš”_of
(
kobj
, 
aýi_hÙ¶ug_´ofže
, kobj);

128 
	}
}

130 
	saýi_sÿn_hªdËr
 {

131 cÚ¡ 
aýi_deviû_id
 *
	mids
;

132 
li¡_h—d
 
	mli¡_node
;

133 
boÞ
 (*
m©ch
)(cÚ¡ *
	mid¡r
, cÚ¡ 
aýi_deviû_id
 **
	mm©chid
);

134 (*
	m©ch
)(
aýi_deviû
 *
	mdev
, cÚ¡ 
aýi_deviû_id
 *
	mid
);

135 (*
	md‘ach
)(
aýi_deviû
 *
	mdev
);

136 (*
	mbšd
)(
deviû
 *
	mphys_dev
);

137 (*
	munbšd
)(
deviû
 *
	mphys_dev
);

138 
aýi_hÙ¶ug_´ofže
 
	mhÙ¶ug
;

146 
	saýi_hÙ¶ug_cÚ‹xt
 {

147 
aýi_deviû
 *
	m£lf
;

148 (*
	mnÙify
)(
	maýi_deviû
 *, 
	mu32
);

149 (*
	muev’t
)(
	maýi_deviû
 *, 
	mu32
);

150 (*
	mfixup
)(
	maýi_deviû
 *);

158 (*
	taýi_Ý_add
è(
	taýi_deviû
 * 
	tdeviû
);

159 (*
	taýi_Ý_»move
è(
	taýi_deviû
 * 
	tdeviû
);

160 (*
	taýi_Ý_nÙify
è(
	taýi_deviû
 * 
	tdeviû
, 
	tu32
 
	tev’t
);

162 
	saýi_deviû_Ýs
 {

163 
aýi_Ý_add
 
add
;

164 
aýi_Ý_»move
 
»move
;

165 
aýi_Ý_nÙify
 
nÙify
;

168 
	#ACPI_DRIVER_ALL_NOTIFY_EVENTS
 0x1

	)

170 
	saýi_driv”
 {

171 
Çme
[80];

172 
þass
[80];

173 cÚ¡ 
aýi_deviû_id
 *
ids
;

174 
æags
;

175 
aýi_deviû_Ýs
 
Ýs
;

176 
deviû_driv”
 
drv
;

177 
moduË
 *
owÃr
;

187 
	saýi_deviû_¡©us
 {

188 
u32
 
´e£Á
:1;

189 
u32
 
’abËd
:1;

190 
u32
 
show_š_ui
:1;

191 
u32
 
funùiÚ®
:1;

192 
u32
 
b©‹ry_´e£Á
:1;

193 
u32
 
»£rved
:27;

198 
	saýi_deviû_æags
 {

199 
u32
 
dyÇmic_¡©us
:1;

200 
u32
 
»movabË
:1;

201 
u32
 
ejeùabË
:1;

202 
u32
 
pow”_mªag—bË
:1;

203 
u32
 
m©ch_driv”
:1;

204 
u32
 
š™Ÿlized
:1;

205 
u32
 
vis™ed
:1;

206 
u32
 
hÙ¶ug_nÙify
:1;

207 
u32
 
is_dock_¡©iÚ
:1;

208 
u32
 
of_com·tibË_ok
:1;

209 
u32
 
coh”’t_dma
:1;

210 
u32
 
cÿ_£’
:1;

211 
u32
 
»£rved
:20;

216 
	saýi_deviû_dœ
 {

217 
´oc_dœ_’Œy
 *
’Œy
;

220 
	#aýi_deviû_dœ
(
d
è((d)->
dœ
.
’Œy
)

	)

224 
	taýi_bus_id
[8];

225 
	taýi_bus_add»ss
;

226 
	taýi_deviû_Çme
[40];

227 
	taýi_deviû_þass
[20];

229 
	saýi_h¬dw¬e_id
 {

230 
li¡_h—d
 
li¡
;

231 cÚ¡ *
id
;

234 
	saýi_²p_ty³
 {

235 
u32
 
h¬dw¬e_id
:1;

236 
u32
 
bus_add»ss
:1;

237 
u32
 
¶©fÜm_id
:1;

238 
u32
 
»£rved
:29;

241 
	saýi_deviû_²p
 {

242 
aýi_bus_id
 
bus_id
;

243 
aýi_²p_ty³
 
ty³
;

244 
aýi_bus_add»ss
 
bus_add»ss
;

245 *
unique_id
;

246 
li¡_h—d
 
ids
;

247 
aýi_deviû_Çme
 
deviû_Çme
;

248 
aýi_deviû_þass
 
deviû_þass
;

249 
aýi_objeù
 *
¡r_obj
;

252 
	#aýi_deviû_bid
(
d
è((d)->
²p
.
bus_id
)

	)

253 
	#aýi_deviû_adr
(
d
è((d)->
²p
.
bus_add»ss
)

	)

254 cÚ¡ *
	`aýi_deviû_hid
(
aýi_deviû
 *
deviû
);

255 
	#aýi_deviû_uid
(
d
è((d)->
²p
.
unique_id
)

	)

256 
	#aýi_deviû_Çme
(
d
è((d)->
²p
.
deviû_Çme
)

	)

257 
	#aýi_deviû_þass
(
d
è((d)->
²p
.
deviû_þass
)

	)

261 
	saýi_deviû_pow”_æags
 {

262 
u32
 
ex¶ic™_g‘
:1;

263 
u32
 
pow”_»sourûs
:1;

264 
u32
 
šrush_cu¼’t
:1;

265 
u32
 
pow”_»moved
:1;

266 
u32
 
ignÜe_·»Á
:1;

267 
u32
 
dsw_´e£Á
:1;

268 
u32
 
»£rved
:26;

271 
	saýi_deviû_pow”_¡©e
 {

273 
u8
 
v®id
:1;

274 
u8
 
ex¶ic™_£t
:1;

275 
u8
 
»£rved
:6;

276 } 
æags
;

277 
pow”
;

278 
Ï‹ncy
;

279 
li¡_h—d
 
»sourûs
;

282 
	saýi_deviû_pow”
 {

283 
¡©e
;

284 
aýi_deviû_pow”_æags
 
æags
;

285 
aýi_deviû_pow”_¡©e
 
¡©es
[
ACPI_D_STATE_COUNT
];

290 
	saýi_deviû_³rf_æags
 {

291 
u8
 
»£rved
:8;

294 
	saýi_deviû_³rf_¡©e
 {

296 
u8
 
v®id
:1;

297 
u8
 
»£rved
:7;

298 } 
æags
;

299 
u8
 
pow”
;

300 
u8
 
³rfÜmªû
;

301 
Ï‹ncy
;

304 
	saýi_deviû_³rf
 {

305 
¡©e
;

306 
aýi_deviû_³rf_æags
 
æags
;

307 
¡©e_couÁ
;

308 
aýi_deviû_³rf_¡©e
 *
¡©es
;

312 
	saýi_deviû_wakeup_æags
 {

313 
u8
 
v®id
:1;

314 
u8
 
run_wake
:1;

315 
u8
 
nÙif›r_´e£Á
:1;

316 
u8
 
’abËd
:1;

319 
	saýi_deviû_wakeup_cÚ‹xt
 {

320 
wÜk_¡ruù
 
wÜk
;

321 
deviû
 *
dev
;

324 
	saýi_deviû_wakeup
 {

325 
aýi_hªdË
 
g³_deviû
;

326 
u64
 
g³_numb”
;

327 
u64
 
¦“p_¡©e
;

328 
li¡_h—d
 
»sourûs
;

329 
aýi_deviû_wakeup_æags
 
æags
;

330 
aýi_deviû_wakeup_cÚ‹xt
 
cÚ‹xt
;

331 
wakeup_sourû
 *
ws
;

332 
´•¬e_couÁ
;

335 
	saýi_deviû_physiÿl_node
 {

336 
node_id
;

337 
li¡_h—d
 
node
;

338 
deviû
 *
dev
;

339 
boÞ
 
put_Úlše
:1;

343 
	saýi_deviû_d©a
 {

344 cÚ¡ 
aýi_objeù
 *
poš‹r
;

345 cÚ¡ 
aýi_objeù
 *
´Ý”t›s
;

346 cÚ¡ 
aýi_objeù
 *
of_com·tibË
;

347 
li¡_h—d
 
subnodes
;

350 
aýi_gpio_m­pšg
;

353 
	saýi_deviû
 {

354 
deviû_ty³
;

355 
aýi_hªdË
 
hªdË
;

356 
fwnode_hªdË
 
fwnode
;

357 
aýi_deviû
 *
·»Á
;

358 
li¡_h—d
 
chžd»n
;

359 
li¡_h—d
 
node
;

360 
li¡_h—d
 
wakeup_li¡
;

361 
li¡_h—d
 
d–_li¡
;

362 
aýi_deviû_¡©us
 
¡©us
;

363 
aýi_deviû_æags
 
æags
;

364 
aýi_deviû_²p
 
²p
;

365 
aýi_deviû_pow”
 
pow”
;

366 
aýi_deviû_wakeup
 
wakeup
;

367 
aýi_deviû_³rf
 
³rfÜmªû
;

368 
aýi_deviû_dœ
 
dœ
;

369 
aýi_deviû_d©a
 
d©a
;

370 
aýi_sÿn_hªdËr
 *
hªdËr
;

371 
aýi_hÙ¶ug_cÚ‹xt
 *
hp
;

372 
aýi_driv”
 *
driv”
;

373 cÚ¡ 
aýi_gpio_m­pšg
 *
driv”_gpios
;

374 *
driv”_d©a
;

375 
deviû
 
dev
;

376 
physiÿl_node_couÁ
;

377 
d•_unm‘
;

378 
li¡_h—d
 
physiÿl_node_li¡
;

379 
mu‹x
 
physiÿl_node_lock
;

380 (*
»move
)(
aýi_deviû
 *);

384 
	saýi_d©a_node
 {

385 cÚ¡ *
Çme
;

386 
aýi_hªdË
 
hªdË
;

387 
fwnode_hªdË
 
fwnode
;

388 
aýi_deviû_d©a
 
d©a
;

389 
li¡_h—d
 
siblšg
;

390 
kobjeù
 
kobj
;

391 
com¶‘iÚ
 
kobj_dÚe
;

394 
šlše
 
boÞ
 
	$is_aýi_node
(
fwnode_hªdË
 *
fwnode
)

396  
fwnode
 && (fwnode->
ty³
 =ð
FWNODE_ACPI


397 || 
fwnode
->
ty³
 =ð
FWNODE_ACPI_DATA
);

398 
	}
}

400 
šlše
 
boÞ
 
	$is_aýi_deviû_node
(
fwnode_hªdË
 *
fwnode
)

402  
fwnode
 && fwnode->
ty³
 =ð
FWNODE_ACPI
;

403 
	}
}

405 
šlše
 
aýi_deviû
 *
	$to_aýi_deviû_node
(
fwnode_hªdË
 *
fwnode
)

407  
	`is_aýi_deviû_node
(
fwnode
) ?

408 
	`cÚš”_of
(
fwnode
, 
aýi_deviû
, fwnodeè: 
NULL
;

409 
	}
}

411 
šlše
 
boÞ
 
	$is_aýi_d©a_node
(
fwnode_hªdË
 *
fwnode
)

413  
fwnode
 && fwnode->
ty³
 =ð
FWNODE_ACPI_DATA
;

414 
	}
}

416 
šlše
 
aýi_d©a_node
 *
	$to_aýi_d©a_node
(
fwnode_hªdË
 *
fwnode
)

418  
	`is_aýi_d©a_node
(
fwnode
) ?

419 
	`cÚš”_of
(
fwnode
, 
aýi_d©a_node
, fwnodeè: 
NULL
;

420 
	}
}

422 
šlše
 
fwnode_hªdË
 *
	$aýi_fwnode_hªdË
(
aýi_deviû
 *
adev
)

424  &
adev
->
fwnode
;

425 
	}
}

427 
šlše
 *
	$aýi_driv”_d©a
(
aýi_deviû
 *
d
)

429  
d
->
driv”_d©a
;

430 
	}
}

432 
	#to_aýi_deviû
(
d
è
	`cÚš”_of
(d, 
aýi_deviû
, 
dev
)

	)

433 
	#to_aýi_driv”
(
d
è
	`cÚš”_of
(d, 
aýi_driv”
, 
drv
)

	)

435 
šlše
 
	$aýi_£t_deviû_¡©us
(
aýi_deviû
 *
adev
, 
u32
 
¡a
)

437 *((
u32
 *)&
adev
->
¡©us
èð
¡a
;

438 
	}
}

440 
šlše
 
	$aýi_£t_hp_cÚ‹xt
(
aýi_deviû
 *
adev
,

441 
aýi_hÙ¶ug_cÚ‹xt
 *
hp
)

443 
hp
->
£lf
 = 
adev
;

444 
adev
->
hp
 = hp;

445 
	}
}

447 
aýi_š™Ÿlize_hp_cÚ‹xt
(
aýi_deviû
 *
adev
,

448 
aýi_hÙ¶ug_cÚ‹xt
 *
hp
,

449 (*
nÙify
)(
aýi_deviû
 *, 
u32
),

450 (*
uev’t
)(
aýi_deviû
 *, 
u32
));

457 
	saýi_bus_ev’t
 {

458 
li¡_h—d
 
node
;

459 
aýi_deviû_þass
 
deviû_þass
;

460 
aýi_bus_id
 
bus_id
;

461 
u32
 
ty³
;

462 
u32
 
d©a
;

465 
kobjeù
 *
aýi_kobj
;

466 
	`aýi_bus_g’”©e_ÃŽšk_ev’t
(cÚ¡ *, cÚ¡ *, 
u8
, );

467 
	`aýi_bus_´iv©e_d©a_hªdËr
(
aýi_hªdË
, *);

468 
	`aýi_bus_g‘_´iv©e_d©a
(
aýi_hªdË
, **);

469 
	`aýi_bus_©ch_´iv©e_d©a
(
aýi_hªdË
, *);

470 
	`aýi_bus_d‘ach_´iv©e_d©a
(
aýi_hªdË
);

471 
	`aýi_nÙif›r_ÿÎ_chaš
(
aýi_deviû
 *, 
u32
, u32);

472 
	`»gi¡”_aýi_nÙif›r
(
nÙif›r_block
 *);

473 
	`uÄegi¡”_aýi_nÙif›r
(
nÙif›r_block
 *);

480 
aýi_deviû
 *
	`aýi_bus_g‘_aýi_deviû
(
aýi_hªdË
 
hªdË
);

481 
	`aýi_bus_put_aýi_deviû
(
aýi_deviû
 *
adev
);

482 
aýi_¡©us
 
	`aýi_bus_g‘_¡©us_hªdË
(
aýi_hªdË
 
hªdË
,

483 *
¡a
);

484 
	`aýi_bus_g‘_¡©us
(
aýi_deviû
 *
deviû
);

486 
	`aýi_bus_£t_pow”
(
aýi_hªdË
 
hªdË
, 
¡©e
);

487 cÚ¡ *
	`aýi_pow”_¡©e_¡ršg
(
¡©e
);

488 
	`aýi_deviû_g‘_pow”
(
aýi_deviû
 *
deviû
, *
¡©e
);

489 
	`aýi_deviû_£t_pow”
(
aýi_deviû
 *
deviû
, 
¡©e
);

490 
	`aýi_bus_š™_pow”
(
aýi_deviû
 *
deviû
);

491 
	`aýi_deviû_fix_up_pow”
(
aýi_deviû
 *
deviû
);

492 
	`aýi_bus_upd©e_pow”
(
aýi_hªdË
 
hªdË
, *
¡©e_p
);

493 
	`aýi_deviû_upd©e_pow”
(
aýi_deviû
 *
deviû
, *
¡©e_p
);

494 
boÞ
 
	`aýi_bus_pow”_mªag—bË
(
aýi_hªdË
 
hªdË
);

496 #ifdeà
CONFIG_PM


497 
boÞ
 
	`aýi_bus_ÿn_wakeup
(
aýi_hªdË
 
hªdË
);

499 
šlše
 
boÞ
 
	$aýi_bus_ÿn_wakeup
(
aýi_hªdË
 
hªdË
è{  
çl£
; 
	}
}

502 
aýi_sÿn_lock_acquœe
();

503 
aýi_sÿn_lock_»Ëa£
();

504 
aýi_lock_hp_cÚ‹xt
();

505 
aýi_uÆock_hp_cÚ‹xt
();

506 
aýi_sÿn_add_hªdËr
(
aýi_sÿn_hªdËr
 *
hªdËr
);

507 
aýi_bus_»gi¡”_driv”
(
aýi_driv”
 *
driv”
);

508 
aýi_bus_uÄegi¡”_driv”
(
aýi_driv”
 *
driv”
);

509 
aýi_bus_sÿn
(
aýi_hªdË
 
hªdË
);

510 
aýi_bus_Œim
(
aýi_deviû
 *
¡¬t
);

511 
aýi_¡©us
 
aýi_bus_g‘_ejd
(
aýi_hªdË
 
hªdË
,‡ýi_hªdË * 
ejd
);

512 
aýi_ü—‹_dœ
(
aýi_deviû
 *);

513 
aýi_»move_dœ
(
aýi_deviû
 *);

515 
	gof_deviû_id
;

517 cÚ¡ 
aýi_deviû_id
 *
lšux_aýi_m©ch_deviû
(
aýi_deviû
 *
deviû
, cÚ¡ aýi_deviû_id *
ids
,

518 cÚ¡ 
of_deviû_id
 *
of_ids
);

520 
šlše
 

521 
	$aýi_m©ch_deviû_ids
(
aýi_deviû
 *
deviû
,

522 cÚ¡ 
aýi_deviû_id
 *
ids
)

524  
	`lšux_aýi_m©ch_deviû
(
deviû
, 
ids
, 
NULL
è? 0 : -
ENOENT
;

525 
	}
}

528 
šlše
 
boÞ
 
	$aýi_deviû_’um”©ed
(
aýi_deviû
 *
adev
)

530  
adev
 &&‡dev->
æags
.
š™Ÿlized
 &&‡dev->æags.
vis™ed
;

531 
	}
}

541 
	#moduË_aýi_driv”
(
__aýi_driv”
) \

542 
	`moduË_driv”
(
__aýi_driv”
, 
aýi_bus_»gi¡”_driv”
, \

543 
aýi_bus_uÄegi¡”_driv”
)

	)

548 
	saýi_bus_ty³
 {

549 
li¡_h—d
 
	mli¡
;

550 cÚ¡ *
	mÇme
;

551 
boÞ
 (*
m©ch
)(
deviû
 *
	mdev
);

552 
	maýi_deviû
 * (*
	mfšd_com·niÚ
)(
	mdeviû
 *);

553 (*
	m£tup
)(
	mdeviû
 *);

554 (*
	mþ—nup
)(
	mdeviû
 *);

556 
»gi¡”_aýi_bus_ty³
(
aýi_bus_ty³
 *);

557 
uÄegi¡”_aýi_bus_ty³
(
aýi_bus_ty³
 *);

558 
aýi_bšd_Úe
(
deviû
 *
dev
, 
aýi_deviû
 *
adev
);

559 
aýi_unbšd_Úe
(
deviû
 *
dev
);

561 
	saýi_pci_roÙ
 {

562 
aýi_deviû
 * 
	mdeviû
;

563 
pci_bus
 *
	mbus
;

564 
u16
 
	m£gm’t
;

566 
u32
 
	mosc_suµÜt_£t
;

567 
u32
 
	mosc_cÚŒÞ_£t
;

568 
phys_addr_t
 
	mmcfg_addr
;

573 
boÞ
 
aýi_dma_suµÜ‹d
(
aýi_deviû
 *
adev
);

574 
dev_dma_©Œ
 
aýi_g‘_dma_©Œ
(
aýi_deviû
 *
adev
);

576 
aýi_deviû
 *
aýi_fšd_chžd_deviû
(aýi_deviû *
·»Á
,

577 
u64
 
add»ss
, 
boÞ
 
check_chžd»n
);

578 
aýi_is_roÙ_bridge
(
aýi_hªdË
);

579 
aýi_pci_roÙ
 *
aýi_pci_fšd_roÙ
(
aýi_hªdË
 
hªdË
);

581 
aýi_’abË_wakeup_deviû_pow”
(
aýi_deviû
 *
dev
, 
¡©e
);

582 
aýi_di§bË_wakeup_deviû_pow”
(
aýi_deviû
 *
dev
);

584 #ifdeà
CONFIG_PM


585 
aýi_¡©us
 
aýi_add_pm_nÙif›r
(
aýi_deviû
 *
adev
, 
deviû
 *
dev
,

586 (*
wÜk_func
)(
wÜk_¡ruù
 *
wÜk
));

587 
aýi_¡©us
 
	`aýi_»move_pm_nÙif›r
(
aýi_deviû
 *
adev
);

588 
	`aýi_pm_deviû_¦“p_¡©e
(
deviû
 *, *, );

589 
	`aýi_pm_deviû_run_wake
(
deviû
 *, 
boÞ
);

591 
šlše
 
aýi_¡©us
 
	`aýi_add_pm_nÙif›r
(
aýi_deviû
 *
adev
,

592 
deviû
 *
dev
,

593 (*
wÜk_func
)(
wÜk_¡ruù
 *
wÜk
))

595  
AE_SUPPORT
;

596 
	}
}

597 
šlše
 
aýi_¡©us
 
	$aýi_»move_pm_nÙif›r
(
aýi_deviû
 *
adev
)

599  
AE_SUPPORT
;

600 
	}
}

601 
šlše
 
	$aýi_pm_deviû_¦“p_¡©e
(
deviû
 *
d
, *
p
, 
m
)

603 ià(
p
)

604 *
p
 = 
ACPI_STATE_D0
;

606  (
m
 >ð
ACPI_STATE_D0
 && m <ð
ACPI_STATE_D3_COLD
) ?

607 
m
 : 
ACPI_STATE_D0
;

608 
	}
}

609 
šlše
 
	$aýi_pm_deviû_run_wake
(
deviû
 *
dev
, 
boÞ
 
’abË
)

611  -
ENODEV
;

612 
	}
}

615 #ifdeà
CONFIG_PM_SLEEP


616 
aýi_pm_deviû_¦“p_wake
(
deviû
 *, 
boÞ
);

618 
šlše
 
	$aýi_pm_deviû_¦“p_wake
(
deviû
 *
dev
, 
boÞ
 
’abË
)

620  -
ENODEV
;

621 
	}
}

624 #ifdeà
CONFIG_ACPI_SLEEP


625 
u32
 
aýi_rg‘_sy¡em_¡©e
();

627 
šlše
 
u32
 
	$aýi_rg‘_sy¡em_¡©e
(è{  
ACPI_STATE_S0
; 
	}
}

630 
šlše
 
boÞ
 
	$aýi_deviû_pow”_mªag—bË
(
aýi_deviû
 *
adev
)

632  
adev
->
æags
.
pow”_mªag—bË
;

633 
	}
}

635 
šlše
 
boÞ
 
	$aýi_deviû_ÿn_wakeup
(
aýi_deviû
 *
adev
)

637  
adev
->
wakeup
.
æags
.
v®id
;

638 
	}
}

640 #ifdeà
__lšux__


641 
šlše
 
boÞ
 
	$aýi_deviû_ÿn_pow”off
(
aýi_deviû
 *
adev
)

643  
adev
->
pow”
.
¡©es
[
ACPI_STATE_D3_COLD
].
æags
.
v®id
 ||

644 ((
aýi_gbl_FADT
.
H—d”
.
»visiÚ
 < 6) &&

645 
adev
->
pow”
.
¡©es
[
ACPI_STATE_D3_HOT
].
æags
.
ex¶ic™_£t
);

646 
	}
}

651 
šlše
 
	$»gi¡”_aýi_bus_ty³
(*
bus
è{  0; 
	}
}

652 
šlše
 
	$uÄegi¡”_aýi_bus_ty³
(*
bus
è{  0; 
	}
}

	@src/common/linuxkpi/gplv2/include/acpi/acpi_drivers.h

9 #iâdeà
__ACPI_DRIVERS_H__


10 
	#__ACPI_DRIVERS_H__


	)

12 
	#ACPI_MAX_STRING
 80

	)

18 
	#ACPI_BUS_COMPONENT
 0x00010000

	)

19 
	#ACPI_AC_COMPONENT
 0x00020000

	)

20 
	#ACPI_BATTERY_COMPONENT
 0x00040000

	)

21 
	#ACPI_BUTTON_COMPONENT
 0x00080000

	)

22 
	#ACPI_SBS_COMPONENT
 0x00100000

	)

23 
	#ACPI_FAN_COMPONENT
 0x00200000

	)

24 
	#ACPI_PCI_COMPONENT
 0x00400000

	)

25 
	#ACPI_POWER_COMPONENT
 0x00800000

	)

26 
	#ACPI_CONTAINER_COMPONENT
 0x01000000

	)

27 
	#ACPI_SYSTEM_COMPONENT
 0x02000000

	)

28 
	#ACPI_THERMAL_COMPONENT
 0x04000000

	)

29 
	#ACPI_MEMORY_DEVICE_COMPONENT
 0x08000000

	)

30 
	#ACPI_VIDEO_COMPONENT
 0x10000000

	)

31 
	#ACPI_PROCESSOR_COMPONENT
 0x20000000

	)

39 
	#ACPI_POWER_HID
 "LNXPOWER"

	)

40 
	#ACPI_PROCESSOR_OBJECT_HID
 "LNXCPU"

	)

41 
	#ACPI_SYSTEM_HID
 "LNXSYSTM"

	)

42 
	#ACPI_THERMAL_HID
 "LNXTHERM"

	)

43 
	#ACPI_BUTTON_HID_POWERF
 "LNXPWRBN"

	)

44 
	#ACPI_BUTTON_HID_SLEEPF
 "LNXSLPBN"

	)

45 
	#ACPI_VIDEO_HID
 "LNXVIDEO"

	)

46 
	#ACPI_BAY_HID
 "LNXIOBAY"

	)

47 
	#ACPI_DOCK_HID
 "LNXDOCK"

	)

49 
	#ACPI_SMBUS_IBM_HID
 "SMBUSIBM"

	)

59 
	#ACPI_FIXED_HARDWARE_EVENT
 0x100

	)

68 
aýi_œq_³ÇÉy_š™
();

69 
aýi_pci_lšk_®loÿ‹_œq
(
aýi_hªdË
 
hªdË
, 
šdex
, *
Œigg”šg
,

70 *
pÞ¬™y
, **
Çme
);

71 
aýi_pci_lšk_ä“_œq
(
aýi_hªdË
 
hªdË
);

75 
	gpci_bus
;

77 
pci_dev
 *
aýi_g‘_pci_dev
(
aýi_hªdË
);

81 
	gaýi_pci_roÙ
;

83 
pci_bus
 *
pci_aýi_sÿn_roÙ
(
aýi_pci_roÙ
 *
roÙ
);

85 #ifdeà
CONFIG_X86


86 
pci_aýi_üs_quœks
();

88 
šlše
 
	$pci_aýi_üs_quœks
(è{ 
	}
}

95 
	#ACPI_PROCESSOR_LIMIT_NONE
 0x00

	)

96 
	#ACPI_PROCESSOR_LIMIT_INCREMENT
 0x01

	)

97 
	#ACPI_PROCESSOR_LIMIT_DECREMENT
 0x02

	)

102 #ifdeà
CONFIG_ACPI_DOCK


103 
is_dock_deviû
(
aýi_deviû
 *
adev
);

105 
šlše
 
	$is_dock_deviû
(
aýi_deviû
 *
adev
)

108 
	}
}

	@src/common/linuxkpi/gplv2/include/acpi/button.h

1 #iâdeà
ACPI_BUTTON_H


2 
	#ACPI_BUTTON_H


	)

4 
	~<lšux/nÙif›r.h
>

6 
aýi_lid_nÙif›r_»gi¡”
(
nÙif›r_block
 *
nb
);

7 
aýi_lid_nÙif›r_uÄegi¡”
(
nÙif›r_block
 *
nb
);

8 
aýi_lid_Ý’
();

	@src/common/linuxkpi/gplv2/include/acpi/video.h

1 #iâdeà
_LINUX_ACPI_VIDEO_H_


2 
	#_LINUX_ACPI_VIDEO_H_


	)

4 
	~<sys/sy¡m.h
>

6 
	#ACPI_VIDEO_CLASS
 "video"

	)

8 
	eaýi_backlight_ty³
 {

9 
	maýi_backlight_undef
 = -1,

10 
	maýi_backlight_nÚe
 = 0,

11 
	maýi_backlight_video
,

12 
	maýi_backlight_v’dÜ
,

13 
	maýi_backlight_Çtive
,

16 
aýi_backlight_ty³
 
aýi_video_g‘_backlight_ty³
();

	@src/common/linuxkpi/gplv2/include/asm/barrier.h

1 #iâdeà
_ASM_BARRIER_H


2 
	#_ASM_BARRIER_H


	)

4 
	~<asm/´oûssÜ.h
>

6 
	#smp_¡Üe_»Ëa£
(
p
, 
v
) \

8 
	`smp_mb
(); \

9 
	`WRITE_ONCE
(*
p
, 
v
); \

10 } 0)

	)

13 
	#smp_lßd_acquœe
(
p
) \

15 
	`ty³of
(*
p
è
___p1
 = 
	`READ_ONCE
(*p); \

16 
	`smp_mb
(); \

17 
___p1
; \

18 })

	)

	@src/common/linuxkpi/gplv2/include/asm/cpufeature.h

1 #iâdeà
_ASM_CPUFEATURE_H_


2 
	#_ASM_CPUFEATURE_H_


	)

5 
	#‹¡_ýu_ÿp
(
c
, 
b™
) \

6 
	`‹¡_b™
(
b™
, (*)((
c
)->
x86_ÿ·bž™y
))

	)

9 
	#REQUIRED_MASK_BIT_SET
(
b™
) \

10 Ð(((
b™
)>>5)==0 && (1UL<<((b™)&31è& 
REQUIRED_MASK0
 )) || \

11 (((
b™
)>>5)==1 && (1UL<<((b™)&31è& 
REQUIRED_MASK1
 )) || \

12 (((
b™
)>>5)==2 && (1UL<<((b™)&31è& 
REQUIRED_MASK2
 )) || \

13 (((
b™
)>>5)==3 && (1UL<<((b™)&31è& 
REQUIRED_MASK3
 )) || \

14 (((
b™
)>>5)==4 && (1UL<<((b™)&31è& 
REQUIRED_MASK4
 )) || \

15 (((
b™
)>>5)==5 && (1UL<<((b™)&31è& 
REQUIRED_MASK5
 )) || \

16 (((
b™
)>>5)==6 && (1UL<<((b™)&31è& 
REQUIRED_MASK6
 )) || \

17 (((
b™
)>>5)==7 && (1UL<<((b™)&31è& 
REQUIRED_MASK7
 )) || \

18 (((
b™
)>>5)==8 && (1UL<<((b™)&31è& 
REQUIRED_MASK8
 )) || \

19 (((
b™
)>>5)==9 && (1UL<<((b™)&31è& 
REQUIRED_MASK9
 )) || \

20 (((
b™
)>>5)==10 && (1UL<<((b™)&31è& 
REQUIRED_MASK10
)) || \

21 (((
b™
)>>5)==11 && (1UL<<((b™)&31è& 
REQUIRED_MASK11
)) || \

22 (((
b™
)>>5)==12 && (1UL<<((b™)&31è& 
REQUIRED_MASK12
)) || \

23 (((
b™
)>>5)==13 && (1UL<<((b™)&31è& 
REQUIRED_MASK13
)) || \

24 (((
b™
)>>5)==13 && (1UL<<((b™)&31è& 
REQUIRED_MASK14
)) || \

25 (((
b™
)>>5)==13 && (1UL<<((b™)&31è& 
REQUIRED_MASK15
)) || \

26 (((
b™
)>>5)==14 && (1UL<<((b™)&31è& 
REQUIRED_MASK16
)è)

	)

29 
	#ýu_has
(
c
, 
b™
) \

30 (
	`__bužtš_cÚ¡ªt_p
(
b™
è&& 
	`REQUIRED_MASK_BIT_SET
(bit) ? 1 : \

31 
	`‹¡_ýu_ÿp
(
c
, 
b™
))

	)

34 
	#boÙ_ýu_has
(
b™
è
	`ýu_has
(&
boÙ_ýu_d©a
, b™)

	)

41 #ià
defšed
(
CC_HAVE_ASM_GOTO
è&& defšed(
CONFIG_X86_FAST_FEATURE_TESTS
)

47 
__®ways_šlše
 
__pu»
 
boÞ
 
	$_¡©ic_ýu_has
(
u16
 
b™
)

49 
	`asm_vÞ©že_gÙo
("1: jmp 6f\n"

80 : : "i" (
b™
), "i" (
X86_FEATURE_ALWAYS
),

81 [
b™num
] "i" (1 << (
b™
 & 7)),

82 [
ÿp_by‹
] "m" (((cÚ¡ *)
boÙ_ýu_d©a
.
x86_ÿ·bž™y
)[
b™
 >> 3])

83 : : 
t_yes
, 
t_no
);

84 
t_yes
:

85  
Œue
;

86 
t_no
:

87  
çl£
;

88 
	}
}

90 
	#¡©ic_ýu_has
(
b™
) \

92 
	`__bužtš_cÚ¡ªt_p
(
	`boÙ_ýu_has
(
b™
)) ? \

93 
	`boÙ_ýu_has
(
b™
) : \

94 
	`_¡©ic_ýu_has
(
b™
) \

95 )

	)

101 
	#¡©ic_ýu_has
(
b™
è
	`boÙ_ýu_has
(b™)

	)

	@src/common/linuxkpi/gplv2/include/asm/cpufeatures.h

1 #iâdeà
_ASM_X86_CPUFEATURES_H


2 
	#_ASM_X86_CPUFEATURES_H


	)

4 #iâdeà
_ASM_X86_REQUIRED_FEATURES_H


5 
	~<asm/»quœed-ã©u»s.h
>

11 
	#NCAPINTS
 17

	)

12 
	#NBUGINTS
 1

	)

21 
	#X86_FEATURE_FPU
 ( 0*32+ 0è

	)

22 
	#X86_FEATURE_VME
 ( 0*32+ 1è

	)

23 
	#X86_FEATURE_DE
 ( 0*32+ 2è

	)

24 
	#X86_FEATURE_PSE
 ( 0*32+ 3è

	)

25 
	#X86_FEATURE_TSC
 ( 0*32+ 4è

	)

26 
	#X86_FEATURE_MSR
 ( 0*32+ 5è

	)

27 
	#X86_FEATURE_PAE
 ( 0*32+ 6è

	)

28 
	#X86_FEATURE_MCE
 ( 0*32+ 7è

	)

29 
	#X86_FEATURE_CX8
 ( 0*32+ 8è

	)

30 
	#X86_FEATURE_APIC
 ( 0*32+ 9è

	)

31 
	#X86_FEATURE_SEP
 ( 0*32+11è

	)

32 
	#X86_FEATURE_MTRR
 ( 0*32+12è

	)

33 
	#X86_FEATURE_PGE
 ( 0*32+13è

	)

34 
	#X86_FEATURE_MCA
 ( 0*32+14è

	)

35 
	#X86_FEATURE_CMOV
 ( 0*32+15è

	)

37 
	#X86_FEATURE_PAT
 ( 0*32+16è

	)

38 
	#X86_FEATURE_PSE36
 ( 0*32+17è

	)

39 
	#X86_FEATURE_PN
 ( 0*32+18è

	)

40 
	#X86_FEATURE_CLFLUSH
 ( 0*32+19è

	)

41 
	#X86_FEATURE_DS
 ( 0*32+21è

	)

42 
	#X86_FEATURE_ACPI
 ( 0*32+22è

	)

43 
	#X86_FEATURE_MMX
 ( 0*32+23è

	)

44 
	#X86_FEATURE_FXSR
 ( 0*32+24è

	)

45 
	#X86_FEATURE_XMM
 ( 0*32+25è

	)

46 
	#X86_FEATURE_XMM2
 ( 0*32+26è

	)

47 
	#X86_FEATURE_SELFSNOOP
 ( 0*32+27è

	)

48 
	#X86_FEATURE_HT
 ( 0*32+28è

	)

49 
	#X86_FEATURE_ACC
 ( 0*32+29è

	)

50 
	#X86_FEATURE_IA64
 ( 0*32+30è

	)

51 
	#X86_FEATURE_PBE
 ( 0*32+31è

	)

55 
	#X86_FEATURE_SYSCALL
 ( 1*32+11è

	)

56 
	#X86_FEATURE_MP
 ( 1*32+19è

	)

57 
	#X86_FEATURE_NX
 ( 1*32+20è

	)

58 
	#X86_FEATURE_MMXEXT
 ( 1*32+22è

	)

59 
	#X86_FEATURE_FXSR_OPT
 ( 1*32+25è

	)

60 
	#X86_FEATURE_GBPAGES
 ( 1*32+26è

	)

61 
	#X86_FEATURE_RDTSCP
 ( 1*32+27è

	)

62 
	#X86_FEATURE_LM
 ( 1*32+29è

	)

63 
	#X86_FEATURE_3DNOWEXT
 ( 1*32+30è

	)

64 
	#X86_FEATURE_3DNOW
 ( 1*32+31è

	)

67 
	#X86_FEATURE_RECOVERY
 ( 2*32+ 0è

	)

68 
	#X86_FEATURE_LONGRUN
 ( 2*32+ 1è

	)

69 
	#X86_FEATURE_LRTI
 ( 2*32+ 3è

	)

73 
	#X86_FEATURE_CXMMX
 ( 3*32+ 0è

	)

74 
	#X86_FEATURE_K6_MTRR
 ( 3*32+ 1è

	)

75 
	#X86_FEATURE_CYRIX_ARR
 ( 3*32+ 2è

	)

76 
	#X86_FEATURE_CENTAUR_MCR
 ( 3*32+ 3è

	)

78 
	#X86_FEATURE_K8
 ( 3*32+ 4è

	)

79 
	#X86_FEATURE_K7
 ( 3*32+ 5è

	)

80 
	#X86_FEATURE_P3
 ( 3*32+ 6è

	)

81 
	#X86_FEATURE_P4
 ( 3*32+ 7è

	)

82 
	#X86_FEATURE_CONSTANT_TSC
 ( 3*32+ 8è

	)

83 
	#X86_FEATURE_UP
 ( 3*32+ 9è

	)

84 
	#X86_FEATURE_ART
 ( 3*32+10è

	)

85 
	#X86_FEATURE_ARCH_PERFMON
 ( 3*32+11è

	)

86 
	#X86_FEATURE_PEBS
 ( 3*32+12è

	)

87 
	#X86_FEATURE_BTS
 ( 3*32+13è

	)

88 
	#X86_FEATURE_SYSCALL32
 ( 3*32+14è

	)

89 
	#X86_FEATURE_SYSENTER32
 ( 3*32+15è

	)

90 
	#X86_FEATURE_REP_GOOD
 ( 3*32+16è

	)

91 
	#X86_FEATURE_MFENCE_RDTSC
 ( 3*32+17è

	)

92 
	#X86_FEATURE_LFENCE_RDTSC
 ( 3*32+18è

	)

93 
	#X86_FEATURE_ACC_POWER
 ( 3*32+19è

	)

94 
	#X86_FEATURE_NOPL
 ( 3*32+20è

	)

95 
	#X86_FEATURE_ALWAYS
 ( 3*32+21è

	)

96 
	#X86_FEATURE_XTOPOLOGY
 ( 3*32+22è

	)

97 
	#X86_FEATURE_TSC_RELIABLE
 ( 3*32+23è

	)

98 
	#X86_FEATURE_NONSTOP_TSC
 ( 3*32+24è

	)

100 
	#X86_FEATURE_EXTD_APICID
 ( 3*32+26è

	)

101 
	#X86_FEATURE_AMD_DCM
 ( 3*32+27è

	)

102 
	#X86_FEATURE_APERFMPERF
 ( 3*32+28è

	)

103 
	#X86_FEATURE_EAGER_FPU
 ( 3*32+29è

	)

104 
	#X86_FEATURE_NONSTOP_TSC_S3
 ( 3*32+30è

	)

105 
	#X86_FEATURE_MCE_RECOVERY
 ( 3*32+31è

	)

108 
	#X86_FEATURE_XMM3
 ( 4*32+ 0è

	)

109 
	#X86_FEATURE_PCLMULQDQ
 ( 4*32+ 1è

	)

110 
	#X86_FEATURE_DTES64
 ( 4*32+ 2è

	)

111 
	#X86_FEATURE_MWAIT
 ( 4*32+ 3è

	)

112 
	#X86_FEATURE_DSCPL
 ( 4*32+ 4è

	)

113 
	#X86_FEATURE_VMX
 ( 4*32+ 5è

	)

114 
	#X86_FEATURE_SMX
 ( 4*32+ 6è

	)

115 
	#X86_FEATURE_EST
 ( 4*32+ 7è

	)

116 
	#X86_FEATURE_TM2
 ( 4*32+ 8è

	)

117 
	#X86_FEATURE_SSSE3
 ( 4*32+ 9è

	)

118 
	#X86_FEATURE_CID
 ( 4*32+10è

	)

119 
	#X86_FEATURE_SDBG
 ( 4*32+11è

	)

120 
	#X86_FEATURE_FMA
 ( 4*32+12è

	)

121 
	#X86_FEATURE_CX16
 ( 4*32+13è

	)

122 
	#X86_FEATURE_XTPR
 ( 4*32+14è

	)

123 
	#X86_FEATURE_PDCM
 ( 4*32+15è

	)

124 
	#X86_FEATURE_PCID
 ( 4*32+17è

	)

125 
	#X86_FEATURE_DCA
 ( 4*32+18è

	)

126 
	#X86_FEATURE_XMM4_1
 ( 4*32+19è

	)

127 
	#X86_FEATURE_XMM4_2
 ( 4*32+20è

	)

128 
	#X86_FEATURE_X2APIC
 ( 4*32+21è

	)

129 
	#X86_FEATURE_MOVBE
 ( 4*32+22è

	)

130 
	#X86_FEATURE_POPCNT
 ( 4*32+23è

	)

131 
	#X86_FEATURE_TSC_DEADLINE_TIMER
 ( 4*32+24è

	)

132 
	#X86_FEATURE_AES
 ( 4*32+25è

	)

133 
	#X86_FEATURE_XSAVE
 ( 4*32+26è

	)

134 
	#X86_FEATURE_OSXSAVE
 ( 4*32+27è

	)

135 
	#X86_FEATURE_AVX
 ( 4*32+28è

	)

136 
	#X86_FEATURE_F16C
 ( 4*32+29è

	)

137 
	#X86_FEATURE_RDRAND
 ( 4*32+30è

	)

138 
	#X86_FEATURE_HYPERVISOR
 ( 4*32+31è

	)

141 
	#X86_FEATURE_XSTORE
 ( 5*32+ 2è

	)

142 
	#X86_FEATURE_XSTORE_EN
 ( 5*32+ 3è

	)

143 
	#X86_FEATURE_XCRYPT
 ( 5*32+ 6è

	)

144 
	#X86_FEATURE_XCRYPT_EN
 ( 5*32+ 7è

	)

145 
	#X86_FEATURE_ACE2
 ( 5*32+ 8è

	)

146 
	#X86_FEATURE_ACE2_EN
 ( 5*32+ 9è

	)

147 
	#X86_FEATURE_PHE
 ( 5*32+10è

	)

148 
	#X86_FEATURE_PHE_EN
 ( 5*32+11è

	)

149 
	#X86_FEATURE_PMM
 ( 5*32+12è

	)

150 
	#X86_FEATURE_PMM_EN
 ( 5*32+13è

	)

153 
	#X86_FEATURE_LAHF_LM
 ( 6*32+ 0è

	)

154 
	#X86_FEATURE_CMP_LEGACY
 ( 6*32+ 1è

	)

155 
	#X86_FEATURE_SVM
 ( 6*32+ 2è

	)

156 
	#X86_FEATURE_EXTAPIC
 ( 6*32+ 3è

	)

157 
	#X86_FEATURE_CR8_LEGACY
 ( 6*32+ 4è

	)

158 
	#X86_FEATURE_ABM
 ( 6*32+ 5è

	)

159 
	#X86_FEATURE_SSE4A
 ( 6*32+ 6è

	)

160 
	#X86_FEATURE_MISALIGNSSE
 ( 6*32+ 7è

	)

161 
	#X86_FEATURE_3DNOWPREFETCH
 ( 6*32+ 8è

	)

162 
	#X86_FEATURE_OSVW
 ( 6*32+ 9è

	)

163 
	#X86_FEATURE_IBS
 ( 6*32+10è

	)

164 
	#X86_FEATURE_XOP
 ( 6*32+11è

	)

165 
	#X86_FEATURE_SKINIT
 ( 6*32+12è

	)

166 
	#X86_FEATURE_WDT
 ( 6*32+13è

	)

167 
	#X86_FEATURE_LWP
 ( 6*32+15è

	)

168 
	#X86_FEATURE_FMA4
 ( 6*32+16è

	)

169 
	#X86_FEATURE_TCE
 ( 6*32+17è

	)

170 
	#X86_FEATURE_NODEID_MSR
 ( 6*32+19è

	)

171 
	#X86_FEATURE_TBM
 ( 6*32+21è

	)

172 
	#X86_FEATURE_TOPOEXT
 ( 6*32+22è

	)

173 
	#X86_FEATURE_PERFCTR_CORE
 ( 6*32+23è

	)

174 
	#X86_FEATURE_PERFCTR_NB
 ( 6*32+24è

	)

175 
	#X86_FEATURE_BPEXT
 (6*32+26è

	)

176 
	#X86_FEATURE_PERFCTR_L2
 ( 6*32+28è

	)

177 
	#X86_FEATURE_MWAITX
 ( 6*32+29è

	)

186 
	#X86_FEATURE_CPB
 ( 7*32+ 2è

	)

187 
	#X86_FEATURE_EPB
 ( 7*32+ 3è

	)

189 
	#X86_FEATURE_HW_PSTATE
 ( 7*32+ 8è

	)

190 
	#X86_FEATURE_PROC_FEEDBACK
 ( 7*32+ 9è

	)

192 
	#X86_FEATURE_INTEL_PT
 ( 7*32+15è

	)

195 
	#X86_FEATURE_TPR_SHADOW
 ( 8*32+ 0è

	)

196 
	#X86_FEATURE_VNMI
 ( 8*32+ 1è

	)

197 
	#X86_FEATURE_FLEXPRIORITY
 ( 8*32+ 2è

	)

198 
	#X86_FEATURE_EPT
 ( 8*32+ 3è

	)

199 
	#X86_FEATURE_VPID
 ( 8*32+ 4è

	)

201 
	#X86_FEATURE_VMMCALL
 ( 8*32+15è

	)

202 
	#X86_FEATURE_XENPV
 ( 8*32+16è

	)

206 
	#X86_FEATURE_FSGSBASE
 ( 9*32+ 0è

	)

207 
	#X86_FEATURE_TSC_ADJUST
 ( 9*32+ 1è

	)

208 
	#X86_FEATURE_BMI1
 ( 9*32+ 3è

	)

209 
	#X86_FEATURE_HLE
 ( 9*32+ 4è

	)

210 
	#X86_FEATURE_AVX2
 ( 9*32+ 5è

	)

211 
	#X86_FEATURE_SMEP
 ( 9*32+ 7è

	)

212 
	#X86_FEATURE_BMI2
 ( 9*32+ 8è

	)

213 
	#X86_FEATURE_ERMS
 ( 9*32+ 9è

	)

214 
	#X86_FEATURE_INVPCID
 ( 9*32+10è

	)

215 
	#X86_FEATURE_RTM
 ( 9*32+11è

	)

216 
	#X86_FEATURE_CQM
 ( 9*32+12è

	)

217 
	#X86_FEATURE_MPX
 ( 9*32+14è

	)

218 
	#X86_FEATURE_AVX512F
 ( 9*32+16è

	)

219 
	#X86_FEATURE_AVX512DQ
 ( 9*32+17è

	)

220 
	#X86_FEATURE_RDSEED
 ( 9*32+18è

	)

221 
	#X86_FEATURE_ADX
 ( 9*32+19è

	)

222 
	#X86_FEATURE_SMAP
 ( 9*32+20è

	)

223 
	#X86_FEATURE_PCOMMIT
 ( 9*32+22è

	)

224 
	#X86_FEATURE_CLFLUSHOPT
 ( 9*32+23è

	)

225 
	#X86_FEATURE_CLWB
 ( 9*32+24è

	)

226 
	#X86_FEATURE_AVX512PF
 ( 9*32+26è

	)

227 
	#X86_FEATURE_AVX512ER
 ( 9*32+27è

	)

228 
	#X86_FEATURE_AVX512CD
 ( 9*32+28è

	)

229 
	#X86_FEATURE_SHA_NI
 ( 9*32+29è

	)

230 
	#X86_FEATURE_AVX512BW
 ( 9*32+30è

	)

231 
	#X86_FEATURE_AVX512VL
 ( 9*32+31è

	)

234 
	#X86_FEATURE_XSAVEOPT
 (10*32+ 0è

	)

235 
	#X86_FEATURE_XSAVEC
 (10*32+ 1è

	)

236 
	#X86_FEATURE_XGETBV1
 (10*32+ 2è

	)

237 
	#X86_FEATURE_XSAVES
 (10*32+ 3è

	)

240 
	#X86_FEATURE_CQM_LLC
 (11*32+ 1è

	)

243 
	#X86_FEATURE_CQM_OCCUP_LLC
 (12*32+ 0è

	)

244 
	#X86_FEATURE_CQM_MBM_TOTAL
 (12*32+ 1è

	)

245 
	#X86_FEATURE_CQM_MBM_LOCAL
 (12*32+ 2è

	)

248 
	#X86_FEATURE_CLZERO
 (13*32+0è

	)

251 
	#X86_FEATURE_DTHERM
 (14*32+ 0è

	)

252 
	#X86_FEATURE_IDA
 (14*32+ 1è

	)

253 
	#X86_FEATURE_ARAT
 (14*32+ 2è

	)

254 
	#X86_FEATURE_PLN
 (14*32+ 4è

	)

255 
	#X86_FEATURE_PTS
 (14*32+ 6è

	)

256 
	#X86_FEATURE_HWP
 (14*32+ 7è

	)

257 
	#X86_FEATURE_HWP_NOTIFY
 (14*32+ 8è

	)

258 
	#X86_FEATURE_HWP_ACT_WINDOW
 (14*32+ 9è

	)

259 
	#X86_FEATURE_HWP_EPP
 (14*32+10è

	)

260 
	#X86_FEATURE_HWP_PKG_REQ
 (14*32+11è

	)

263 
	#X86_FEATURE_NPT
 (15*32+ 0è

	)

264 
	#X86_FEATURE_LBRV
 (15*32+ 1è

	)

265 
	#X86_FEATURE_SVML
 (15*32+ 2è

	)

266 
	#X86_FEATURE_NRIPS
 (15*32+ 3è

	)

267 
	#X86_FEATURE_TSCRATEMSR
 (15*32+ 4è

	)

268 
	#X86_FEATURE_VMCBCLEAN
 (15*32+ 5è

	)

269 
	#X86_FEATURE_FLUSHBYASID
 (15*32+ 6è

	)

270 
	#X86_FEATURE_DECODEASSISTS
 (15*32+ 7è

	)

271 
	#X86_FEATURE_PAUSEFILTER
 (15*32+10è

	)

272 
	#X86_FEATURE_PFTHRESHOLD
 (15*32+12è

	)

273 
	#X86_FEATURE_AVIC
 (15*32+13è

	)

276 
	#X86_FEATURE_PKU
 (16*32+ 3è

	)

277 
	#X86_FEATURE_OSPKE
 (16*32+ 4è

	)

282 
	#X86_BUG
(
x
è(
NCAPINTS
*32 + (x))

	)

284 
	#X86_BUG_F00F
 
	`X86_BUG
(0è

	)

285 
	#X86_BUG_FDIV
 
	`X86_BUG
(1è

	)

286 
	#X86_BUG_COMA
 
	`X86_BUG
(2è

	)

287 
	#X86_BUG_AMD_TLB_MMATCH
 
	`X86_BUG
(3è

	)

288 
	#X86_BUG_AMD_APIC_C1E
 
	`X86_BUG
(4è

	)

289 
	#X86_BUG_11AP
 
	`X86_BUG
(5è

	)

290 
	#X86_BUG_FXSAVE_LEAK
 
	`X86_BUG
(6è

	)

291 
	#X86_BUG_CLFLUSH_MONITOR
 
	`X86_BUG
(7è

	)

292 
	#X86_BUG_SYSRET_SS_ATTRS
 
	`X86_BUG
(8è

	)

294 #ifdeà
CONFIG_X86_32


299 
	#X86_BUG_ESPFIX
 
	`X86_BUG
(9è

	)

302 
	#ýu_has_·t
 
	`boÙ_ýu_has
(
X86_FEATURE_PAT
)

	)

	@src/common/linuxkpi/gplv2/include/asm/fpu/api.h

1 #iâdeà
_ASM_X86_FPU_API_H


2 
	#_ASM_X86_FPU_API_H


	)

4 #ifdeà
__i386__


5 
	~<machše/Åx.h
>

7 
	~<machše/åu.h
>

10 
	#k”Ãl_åu_begš
() \

11 
åu_k”n_ùx
 *
__åu_ùx
; \

12 
__åu_ùx
 = 
	`åu_k”n_®loc_ùx
(0); \

13 
	`åu_k”n_’‹r
(
cu¹h»ad
, 
__åu_ùx
, \

14 
FPU_KERN_NORMAL
);

	)

16 
	#k”Ãl_åu_’d
() \

17 
	`åu_k”n_Ëave
(
cu¹h»ad
, 
__åu_ùx
); \

18 
	`åu_k”n_ä“_ùx
(
__åu_ùx
);

	)

	@src/common/linuxkpi/gplv2/include/asm/iosf_mbi.h

6 #iâdeà
IOSF_MBI_SYMS_H


7 
	#IOSF_MBI_SYMS_H


	)

9 
	~<lšux/nÙif›r.h
>

11 
	#MBI_MCR_OFFSET
 0xD0

	)

12 
	#MBI_MDR_OFFSET
 0xD4

	)

13 
	#MBI_MCRX_OFFSET
 0xD8

	)

15 
	#MBI_RD_MASK
 0xFEFFFFFF

	)

16 
	#MBI_WR_MASK
 0X01000000

	)

18 
	#MBI_MASK_HI
 0xFFFFFF00

	)

19 
	#MBI_MASK_LO
 0x000000FF

	)

20 
	#MBI_ENABLE
 0xF0

	)

23 
	#MBI_MMIO_READ
 0x00

	)

24 
	#MBI_MMIO_WRITE
 0x01

	)

25 
	#MBI_CFG_READ
 0x04

	)

26 
	#MBI_CFG_WRITE
 0x05

	)

27 
	#MBI_CR_READ
 0x06

	)

28 
	#MBI_CR_WRITE
 0x07

	)

29 
	#MBI_REG_READ
 0x10

	)

30 
	#MBI_REG_WRITE
 0x11

	)

31 
	#MBI_ESRAM_READ
 0x12

	)

32 
	#MBI_ESRAM_WRITE
 0x13

	)

35 
	#BT_MBI_UNIT_AUNIT
 0x00

	)

36 
	#BT_MBI_UNIT_SMC
 0x01

	)

37 
	#BT_MBI_UNIT_CPU
 0x02

	)

38 
	#BT_MBI_UNIT_BUNIT
 0x03

	)

39 
	#BT_MBI_UNIT_PMC
 0x04

	)

40 
	#BT_MBI_UNIT_GFX
 0x06

	)

41 
	#BT_MBI_UNIT_SMI
 0x0C

	)

42 
	#BT_MBI_UNIT_USB
 0x43

	)

43 
	#BT_MBI_UNIT_SATA
 0xA3

	)

44 
	#BT_MBI_UNIT_PCIE
 0xA6

	)

47 
	#QRK_MBI_UNIT_HBA
 0x00

	)

48 
	#QRK_MBI_UNIT_HB
 0x03

	)

49 
	#QRK_MBI_UNIT_RMU
 0x04

	)

50 
	#QRK_MBI_UNIT_MM
 0x05

	)

51 
	#QRK_MBI_UNIT_SOC
 0x31

	)

54 
	#MBI_PMIC_BUS_ACCESS_BEGIN
 1

	)

55 
	#MBI_PMIC_BUS_ACCESS_END
 2

	)

57 #ià
IS_ENABLED
(
CONFIG_IOSF_MBI
)

59 
boÞ
 
iosf_mbi_avažabË
();

71 
iosf_mbi_»ad
(
u8
 
pÜt
, u8 
Ýcode
, 
u32
 
off£t
, u32 *
mdr
);

83 
iosf_mbi_wr™e
(
u8
 
pÜt
, u8 
Ýcode
, 
u32
 
off£t
, u32 
mdr
);

96 
iosf_mbi_modify
(
u8
 
pÜt
, u8 
Ýcode
, 
u32
 
off£t
, u32 
mdr
, u32 
mask
);

118 
iosf_mbi_pun™_acquœe
();

123 
iosf_mbi_pun™_»Ëa£
();

140 
iosf_mbi_»gi¡”_pmic_bus_acûss_nÙif›r
(
nÙif›r_block
 *
nb
);

147 
iosf_mbi_uÄegi¡”_pmic_bus_acûss_nÙif›r
(
nÙif›r_block
 *
nb
);

158 
iosf_mbi_uÄegi¡”_pmic_bus_acûss_nÙif›r_uÆocked
(

159 
nÙif›r_block
 *
nb
);

167 
iosf_mbi_ÿÎ_pmic_bus_acûss_nÙif›r_chaš
(
v®
, *
v
);

172 
iosf_mbi_as£¹_pun™_acquœed
();

175 
šlše


176 
boÞ
 
	$iosf_mbi_avažabË
()

178  
çl£
;

179 
	}
}

181 
šlše


182 
	$iosf_mbi_»ad
(
u8
 
pÜt
, u8 
Ýcode
, 
u32
 
off£t
, u32 *
mdr
)

184 
	`WARN
(1, "IOSF_MBI driver‚ot‡vailable");

185  -
EPERM
;

186 
	}
}

188 
šlše


189 
	$iosf_mbi_wr™e
(
u8
 
pÜt
, u8 
Ýcode
, 
u32
 
off£t
, u32 
mdr
)

191 
	`WARN
(1, "IOSF_MBI driver‚ot‡vailable");

192  -
EPERM
;

193 
	}
}

195 
šlše


196 
	$iosf_mbi_modify
(
u8
 
pÜt
, u8 
Ýcode
, 
u32
 
off£t
, u32 
mdr
, u32 
mask
)

198 
	`WARN
(1, "IOSF_MBI driver‚ot‡vailable");

199  -
EPERM
;

200 
	}
}

202 
šlše
 
	$iosf_mbi_pun™_acquœe
(è{
	}
}

203 
šlše
 
	$iosf_mbi_pun™_»Ëa£
(è{
	}
}

205 
šlše


206 
	$iosf_mbi_»gi¡”_pmic_bus_acûss_nÙif›r
(
nÙif›r_block
 *
nb
)

209 
	}
}

211 
šlše


212 
	$iosf_mbi_uÄegi¡”_pmic_bus_acûss_nÙif›r
(
nÙif›r_block
 *
nb
)

215 
	}
}

217 
šlše
 

218 
	$iosf_mbi_uÄegi¡”_pmic_bus_acûss_nÙif›r_uÆocked
(
nÙif›r_block
 *
nb
)

221 
	}
}

223 
šlše


224 
	$iosf_mbi_ÿÎ_pmic_bus_acûss_nÙif›r_chaš
(
v®
, *
v
)

227 
	}
}

229 
šlše
 
	$iosf_mbi_as£¹_pun™_acquœed
(è{
	}
}

	@src/common/linuxkpi/gplv2/include/asm/mtrr.h

1 #iâdeà
_ASM_X86_MTRR_H


2 
	#_ASM_X86_MTRR_H


	)

5 
	#MTRR_TYPE_UNCACHABLE
 0

	)

6 
	#MTRR_TYPE_WRCOMB
 1

	)

8 
	#MTRR_TYPE_WRTHROUGH
 4

	)

9 
	#MTRR_TYPE_WRPROT
 5

	)

10 
	#MTRR_TYPE_WRBACK
 6

	)

11 
	#MTRR_NUM_TYPES
 7

	)

14 
¬ch_phys_wc_add
(
ba£
, 
size
);

15 
¬ch_phys_wc_d–
(
hªdË
);

17 
	#¬ch_phys_wc_šdex
(
x
è(x)

	)

	@src/common/linuxkpi/gplv2/include/asm/pgtable.h

1 #iâdeà
_ASM_GPLV2_PGTABLE_H_


2 
	#_ASM_GPLV2_PGTABLE_H_


	)

4 #šþude_Ãxˆ<
asm
/
pgbË
.
h
>

6 
	#_AT
(
T
,
X
è((T)(X))

	)

8 
	#_PAGE_BIT_PRESENT
 0

	)

9 
	#_PAGE_BIT_RW
 1

	)

10 
	#_PAGE_BIT_USER
 2

	)

11 
	#_PAGE_BIT_PWT
 3

	)

12 
	#_PAGE_BIT_PCD
 4

	)

13 
	#_PAGE_BIT_ACCESSED
 5

	)

14 
	#_PAGE_BIT_DIRTY
 6

	)

15 
	#_PAGE_BIT_PSE
 7

	)

16 
	#_PAGE_BIT_PAT
 7

	)

17 
	#_PAGE_BIT_GLOBAL
 8

	)

18 
	#_PAGE_BIT_SOFTW1
 9

	)

19 
	#_PAGE_BIT_SOFTW2
 10

	)

20 
	#_PAGE_BIT_SOFTW3
 11

	)

21 
	#_PAGE_BIT_PAT_LARGE
 12

	)

22 
	#_PAGE_BIT_SOFTW4
 58

	)

23 
	#_PAGE_BIT_PKEY_BIT0
 59

	)

24 
	#_PAGE_BIT_PKEY_BIT1
 60

	)

25 
	#_PAGE_BIT_PKEY_BIT2
 61

	)

26 
	#_PAGE_BIT_PKEY_BIT3
 62

	)

27 
	#_PAGE_BIT_NX
 63

	)

29 
	#_PAGE_BIT_SPECIAL
 
_PAGE_BIT_SOFTW1


	)

30 
	#_PAGE_BIT_CPA_TEST
 
_PAGE_BIT_SOFTW1


	)

32 
	#_PAGE_PRESENT
 (
	`_AT
(
±ev®_t
, 1è<< 
_PAGE_BIT_PRESENT
)

	)

33 
	#_PAGE_RW
 (
	`_AT
(
±ev®_t
, 1è<< 
_PAGE_BIT_RW
)

	)

34 
	#_PAGE_USER
 (
	`_AT
(
±ev®_t
, 1è<< 
_PAGE_BIT_USER
)

	)

35 
	#_PAGE_PWT
 (
	`_AT
(
±ev®_t
, 1è<< 
_PAGE_BIT_PWT
)

	)

36 
	#_PAGE_PCD
 (
	`_AT
(
±ev®_t
, 1è<< 
_PAGE_BIT_PCD
)

	)

37 
	#_PAGE_ACCESSED
 (
	`_AT
(
±ev®_t
, 1è<< 
_PAGE_BIT_ACCESSED
)

	)

38 
	#_PAGE_DIRTY
 (
	`_AT
(
±ev®_t
, 1è<< 
_PAGE_BIT_DIRTY
)

	)

39 
	#_PAGE_PSE
 (
	`_AT
(
±ev®_t
, 1è<< 
_PAGE_BIT_PSE
)

	)

40 
	#_PAGE_GLOBAL
 (
	`_AT
(
±ev®_t
, 1è<< 
_PAGE_BIT_GLOBAL
)

	)

41 
	#_PAGE_SOFTW1
 (
	`_AT
(
±ev®_t
, 1è<< 
_PAGE_BIT_SOFTW1
)

	)

42 
	#_PAGE_SOFTW2
 (
	`_AT
(
±ev®_t
, 1è<< 
_PAGE_BIT_SOFTW2
)

	)

43 
	#_PAGE_PAT
 (
	`_AT
(
±ev®_t
, 1è<< 
_PAGE_BIT_PAT
)

	)

44 
	#_PAGE_PAT_LARGE
 (
	`_AT
(
±ev®_t
, 1è<< 
_PAGE_BIT_PAT_LARGE
)

	)

45 
	#_PAGE_SPECIAL
 (
	`_AT
(
±ev®_t
, 1è<< 
_PAGE_BIT_SPECIAL
)

	)

46 
	#_PAGE_CPA_TEST
 (
	`_AT
(
±ev®_t
, 1è<< 
_PAGE_BIT_CPA_TEST
)

	)

48 
	#_PAGE_CACHE_MASK
 (
_PAGE_PAT
 | 
_PAGE_PCD
 | 
_PAGE_PWT
)

	)

50 
	#__PAGE_KERNEL_EXEC
 \

51 (
_PAGE_PRESENT
 | 
_PAGE_RW
 | 
_PAGE_DIRTY
 | 
_PAGE_ACCESSED
 | 
_PAGE_GLOBAL
)

	)

52 
	#__PAGE_KERNEL
 (
__PAGE_KERNEL_EXEC
 | 
_PAGE_NX
)

	)

54 
	#__PAGE_KERNEL_IO
 (
__PAGE_KERNEL
)

	)

56 
	#pg´Ù_v®
(
x
è((x))

	)

57 
	#__pg´Ù
(
x
è((
pg´Ù_t
è{ (xè} )

	)

60 
	#±e_v®
(
x
è
	`Çtive_±e_v®
(x)

	)

61 
	#__±e
(
x
è
	`Çtive_make_±e
(x)

	)

63 
šlše
 
±ev®_t
 
	$Çtive_±e_v®
(
lšux_±e_t
 
±e
)

65  
±e
;

66 
	}
}

68 
šlše
 
lšux_±e_t
 
	$Çtive_make_±e
(
±ev®_t
 
v®
)

70  (
lšux_±e_t
è(
v®
);

71 
	}
}

73 
šlše
 
lšux_±e_t
 
	$±e_£t_æags
(
lšux_±e_t
 
±e
, 
±ev®_t
 
£t
)

75 
±ev®_t
 
v
 = 
	`Çtive_±e_v®
(
±e
);

77  
	`Çtive_make_±e
(
v
 | 
£t
);

78 
	}
}

80 
šlše
 
lšux_±e_t
 
	$±e_mk¥ecŸl
(
lšux_±e_t
 
±e
)

82  
	`±e_£t_æags
(
±e
, 
_PAGE_SPECIAL
);

83 
	}
}

85 
šlše
 
	$Çtive_£t_±e
(
lšux_±e_t
 *
±•
,†šux_±e_ˆ
±e
)

87 *
±•
 = 
±e
;

88 
	}
}

90 
šlše
 
	$Çtive_£t_±e_©
(
mm_¡ruù
 *
mm
, 
addr
,

91 
lšux_±e_t
 *
±•
 ,†šux_±e_ˆ
±e
)

93 
	`Çtive_£t_±e
(
±•
, 
±e
);

94 
	}
}

96 
	#£t_±e
(
±•
, 
±e
è
	`Çtive_£t_±e
Õ‹p,…‹)

	)

97 
	#£t_±e_©
(
mm
, 
addr
, 
±•
, 
±e
è
	`Çtive_£t_±e_©
(mm,‡ddr,…‹p,…‹)

	)

98 
	#£t_pmd_©
(
mm
, 
addr
, 
pmdp
, 
pmd
è
	`Çtive_£t_pmd_©
(mm,‡ddr,…mdp,…md)

	)

	@src/common/linuxkpi/gplv2/include/asm/processor.h

1 #iâdeà
_ASM_X86_PROCESSOR_H


2 
	#_ASM_X86_PROCESSOR_H


	)

4 
	~<lšux/ty³s.h
>

6 
	~<asm/ýuã©u»s.h
>

8 
	~<machše/ýu.h
>

10 
	sýušfo_x86
 {

11 
__u8
 
	mx86
;

12 
__u8
 
	mx86_v’dÜ
;

13 
__u8
 
	mx86_mod–
;

14 
__u8
 
	mx86_mask
;

15 #ifdeà
CONFIG_X86_32


16 
	mwp_wÜks_ok
;

19 
	mrfu
;

20 
	m·d0
;

21 
	m·d1
;

24 
	mx86_Žbsize
;

26 
__u8
 
	mx86_vœt_b™s
;

27 
__u8
 
	mx86_phys_b™s
;

29 
__u8
 
	mx86_cÜeid_b™s
;

31 
__u32
 
	mex‹nded_ýuid_Ëv–
;

33 
	mýuid_Ëv–
;

34 
__u32
 
	mx86_ÿ·bž™y
[
NCAPINTS
 + 
NBUGINTS
];

35 
	mx86_v’dÜ_id
[16];

36 
	mx86_mod–_id
[64];

38 
	mx86_ÿche_size
;

39 
	mx86_ÿche_®ignm’t
;

41 
	mx86_ÿche_max_rmid
;

42 
	mx86_ÿche_occ_sÿË
;

43 
	mx86_pow”
;

44 
	mloÝs_³r_jiffy
;

46 
u16
 
	mx86_max_cÜes
;

47 
u16
 
	m­icid
;

48 
u16
 
	mš™Ÿl_­icid
;

49 
u16
 
	mx86_þæush_size
;

51 
u16
 
	mboÙed_cÜes
;

53 
u16
 
	mphys_´oc_id
;

55 
u16
 
	mlogiÿl_´oc_id
;

57 
u16
 
	mýu_cÜe_id
;

59 
u16
 
	mýu_šdex
;

60 
u32
 
	mmiüocode
;

62 #iâdeà
mb


63 
	#mb
(è
__asm
 
	`__vÞ©že
("mãnû;" : : : "memÜy")

	)

65 #iâdeà
wmb


66 
	#wmb
(è
__asm
 
	`__vÞ©že
("sãnû;" : : : "memÜy")

	)

68 #iâdeà
rmb


69 
	#rmb
(è
__asm
 
	`__vÞ©že
("lãnû;" : : : "memÜy")

	)

72 
	#smp_mb
(è
	`mb
()

	)

73 
	#smp_wmb
(è
	`wmb
()

	)

74 
	#smp_rmb
(è
	`rmb
()

	)

76 
__®ways_šlše
 
	$ýu_»Ïx
()

78 
	`ýu_¥šwa™
();

79 
	}
}

81 
	#ýu_»Ïx_lowÏ‹ncy
(è
	`ýu_»Ïx
()

	)

83 
	#smp_»ad_b¬r›r_d•’ds
(èdØ{} 0)

	)

85 
ýušfo_x86
 
boÙ_ýu_d©a
;

87 
	#__smp_¡Üe_mb
(
v¬
, 
v®ue
èdØ{ ()
	`xchg
(&(v¬), v®ue); } 0)

	)

89 
	#smp_¡Üe_mb
 
__smp_¡Üe_mb


	)

	@src/common/linuxkpi/gplv2/include/asm/required-features.h

1 #iâdeà
_ASM_X86_REQUIRED_FEATURES_H


2 
	#_ASM_X86_REQUIRED_FEATURES_H


	)

14 #iâdeà
CONFIG_MATH_EMULATION


15 
	#NEED_FPU
 (1<<(
X86_FEATURE_FPU
 & 31))

	)

17 
	#NEED_FPU
 0

	)

20 #ià
defšed
(
CONFIG_X86_PAE
è|| defšed(
CONFIG_X86_64
)

21 
	#NEED_PAE
 (1<<(
X86_FEATURE_PAE
 & 31))

	)

23 
	#NEED_PAE
 0

	)

26 #ifdeà
CONFIG_X86_CMPXCHG64


27 
	#NEED_CX8
 (1<<(
X86_FEATURE_CX8
 & 31))

	)

29 
	#NEED_CX8
 0

	)

32 #ià
defšed
(
CONFIG_X86_CMOV
è|| defšed(
CONFIG_X86_64
)

33 
	#NEED_CMOV
 (1<<(
X86_FEATURE_CMOV
 & 31))

	)

35 
	#NEED_CMOV
 0

	)

38 #ifdeà
CONFIG_X86_USE_3DNOW


39 
	#NEED_3DNOW
 (1<<(
X86_FEATURE_3DNOW
 & 31))

	)

41 
	#NEED_3DNOW
 0

	)

44 #ià
defšed
(
CONFIG_X86_P6_NOP
è|| defšed(
CONFIG_X86_64
)

45 
	#NEED_NOPL
 (1<<(
X86_FEATURE_NOPL
 & 31))

	)

47 
	#NEED_NOPL
 0

	)

50 #ifdeà
CONFIG_MATOM


51 
	#NEED_MOVBE
 (1<<(
X86_FEATURE_MOVBE
 & 31))

	)

53 
	#NEED_MOVBE
 0

	)

56 #ifdeà
CONFIG_X86_64


57 #ifdeà
CONFIG_PARAVIRT


59 
	#NEED_PSE
 0

	)

60 
	#NEED_PGE
 0

	)

62 
	#NEED_PSE
 (1<<(
X86_FEATURE_PSE
è& 31)

	)

63 
	#NEED_PGE
 (1<<(
X86_FEATURE_PGE
è& 31)

	)

65 
	#NEED_MSR
 (1<<(
X86_FEATURE_MSR
 & 31))

	)

66 
	#NEED_FXSR
 (1<<(
X86_FEATURE_FXSR
 & 31))

	)

67 
	#NEED_XMM
 (1<<(
X86_FEATURE_XMM
 & 31))

	)

68 
	#NEED_XMM2
 (1<<(
X86_FEATURE_XMM2
 & 31))

	)

69 
	#NEED_LM
 (1<<(
X86_FEATURE_LM
 & 31))

	)

71 
	#NEED_PSE
 0

	)

72 
	#NEED_MSR
 0

	)

73 
	#NEED_PGE
 0

	)

74 
	#NEED_FXSR
 0

	)

75 
	#NEED_XMM
 0

	)

76 
	#NEED_XMM2
 0

	)

77 
	#NEED_LM
 0

	)

80 
	#REQUIRED_MASK0
 (
NEED_FPU
|
NEED_PSE
|
NEED_MSR
|
NEED_PAE
|\

81 
NEED_CX8
|
NEED_PGE
|
NEED_FXSR
|
NEED_CMOV
|\

82 
NEED_XMM
|
NEED_XMM2
)

	)

83 
	#SSE_MASK
 (
NEED_XMM
|
NEED_XMM2
)

	)

85 
	#REQUIRED_MASK1
 (
NEED_LM
|
NEED_3DNOW
)

	)

87 
	#REQUIRED_MASK2
 0

	)

88 
	#REQUIRED_MASK3
 (
NEED_NOPL
)

	)

89 
	#REQUIRED_MASK4
 (
NEED_MOVBE
)

	)

90 
	#REQUIRED_MASK5
 0

	)

91 
	#REQUIRED_MASK6
 0

	)

92 
	#REQUIRED_MASK7
 0

	)

93 
	#REQUIRED_MASK8
 0

	)

94 
	#REQUIRED_MASK9
 0

	)

95 
	#REQUIRED_MASK10
 0

	)

96 
	#REQUIRED_MASK11
 0

	)

97 
	#REQUIRED_MASK12
 0

	)

98 
	#REQUIRED_MASK13
 0

	)

99 
	#REQUIRED_MASK14
 0

	)

100 
	#REQUIRED_MASK15
 0

	)

101 
	#REQUIRED_MASK16
 0

	)

	@src/common/linuxkpi/gplv2/include/asm/set_memory.h

1 #iâdeà
_ASM_SET_MEMORY_H


2 
	#_ASM_SET_MEMORY_H


	)

4 
£t_memÜy_wb
(
addr
, 
num·ges
);

5 
£t_memÜy_uc
(
addr
, 
num·ges
);

6 
£t_memÜy_wc
(
addr
, 
num·ges
);

	@src/common/linuxkpi/gplv2/include/linux/acpi.h

20 #ià
defšed
(
__i386__
è|| defšed(
__amd64__
)

21 #iâdeà
_LINUX_GPLV2_ACPI_H_


22 
	#_LINUX_GPLV2_ACPI_H_


	)

24 
	~<lšux/”ºo.h
>

25 
	~<lšux/»sourû_ext.h
>

26 
	~<lšux/deviû.h
>

27 
	~<lšux/´Ý”ty.h
>

28 
	~<lšux/nÙif›r.h
>

29 
	~<lšux/li¡.h
>

30 
	~<lšux/mod_deviûbË.h
>

32 
	~<cÚŒib/dev/aýiÿ/šþude/aýi.h
>

33 
	~<aýi/aýi.h
>

34 
	~<aýi/aýi_bus.h
>

35 
	~<aýi/aýi_driv”s.h
>

37 
šlše
 
aýi_hªdË
 
	$aýi_deviû_hªdË
(
aýi_deviû
 *
adev
)

39  
adev
 ?‡dev->
hªdË
 : 
NULL
;

40 
	}
}

42 
	#ACPI_COMPANION
(
dev
è
	`to_aýi_deviû_node
((dev)->
fwnode
)

	)

43 
	#ACPI_HANDLE_GET
(
dev
è
	`aýi_deviû_hªdË
(
	`ACPI_COMPANION
(dev))

	)

44 
	#ACPI_HANDLE
(
dev
è
	`aýi_deviû_hªdË
(
	`ACPI_COMPANION
(dev))

	)

46 
	#ACPI_VIDEO_OUTPUT_SWITCHING
 0x0001

	)

47 
	#ACPI_VIDEO_DEVICE_POSTING
 0x0002

	)

48 
	#ACPI_VIDEO_ROM_AVAILABLE
 0x0004

	)

49 
	#ACPI_VIDEO_BACKLIGHT
 0x0008

	)

50 
	#ACPI_VIDEO_BACKLIGHT_FORCE_VENDOR
 0x0010

	)

51 
	#ACPI_VIDEO_BACKLIGHT_FORCE_VIDEO
 0x0020

	)

52 
	#ACPI_VIDEO_OUTPUT_SWITCHING_FORCE_VENDOR
 0x0040

	)

53 
	#ACPI_VIDEO_OUTPUT_SWITCHING_FORCE_VIDEO
 0x0080

	)

54 
	#ACPI_VIDEO_BACKLIGHT_DMI_VENDOR
 0x0100

	)

55 
	#ACPI_VIDEO_BACKLIGHT_DMI_VIDEO
 0x0200

	)

56 
	#ACPI_VIDEO_OUTPUT_SWITCHING_DMI_VENDOR
 0x0400

	)

57 
	#ACPI_VIDEO_OUTPUT_SWITCHING_DMI_VIDEO
 0x0800

	)

59 
aýi_is_video_deviû
(
aýi_hªdË
 
hªdË
);

61 
šlše
 cÚ¡ *
	$aýi_dev_Çme
(
aýi_deviû
 *
adev
)

63  
	`dev_Çme
(&
adev
->
dev
);

64 
	}
}

66 
aýi_sÿn_drÝ_deviû
(
aýi_hªdË
 
hªdË
, *
cÚ‹xt
);

69 
pci_dev
 *
aýi_g‘_pci_dev
(
aýi_hªdË
 
hªdË
);

71 
aýi_bus_g‘_deviû
(
aýi_hªdË
 
hªdË
, 
aýi_deviû
 **
deviû
);

	@src/common/linuxkpi/gplv2/include/linux/agp_backend.h

1 #iâdeà
_LINUX_GPLV2_AGP_BACKEND_H_


2 
	#_LINUX_GPLV2_AGP_BACKEND_H_


	)

4 
	sagp_v”siÚ
 {

5 
u16
 
	mmajÜ
;

6 
u16
 
	mmšÜ
;

9 
	sagp_k”n_šfo
 {

10 
agp_v”siÚ
 
	mv”siÚ
;

11 #ifdeà
__lšux__


12 
pci_dev
 *
	mdeviû
;

13 
ch£t_ty³
 
	mch£t
;

15 
u16
 
	mv’dÜ
;

16 
u16
 
	mdeviû
;

18 
	mmode
;

19 
	m­”_ba£
;

20 
size_t
 
	m­”_size
;

21 
	mmax_memÜy
;

22 
	mcu¼’t_memÜy
;

23 
boÞ
 
	mÿÁ_u£_­”tu»
;

24 
	m·ge_mask
;

25 #ifdeà
__lšux__


26 cÚ¡ 
vm_Ý”©iÚs_¡ruù
 *
	mvm_Ýs
;

	@src/common/linuxkpi/gplv2/include/linux/anon_inodefs.h

1 #iâdeà
_LINUX_GPLV2_ANON_INODEFS_H_


2 
	#_LINUX_GPLV2_ANON_INODEFS_H_


	)

4 
	~<lšux/fs.h
>

5 
	~<lšux/fže.h
>

6 
	~<lšux/ty³s.h
>

8 
d’Œy
 *
ªÚ_šodefs_ü—‹_fže
(cÚ¡ *
Çme
, 
umode_t
 
mode
,

9 
d’Œy
 *
·»Á
, *
d©a
,

10 cÚ¡ 
fže_Ý”©iÚs
 *
fÝs
);

12 
ªÚ_šodefs_»move
(
d’Œy
 *dentry);

	@src/common/linuxkpi/gplv2/include/linux/anon_inodes.h

1 #iâdeà
_LINUX_GPLV2_ANON_INODES_H_


2 
	#_LINUX_GPLV2_ANON_INODES_H_


	)

4 
	~<lšux/fs.h
>

5 
	~<lšux/fže.h
>

6 
	~<lšux/ty³s.h
>

9 
fže
 *

10 
ªÚ_šode_g‘fže
(cÚ¡ *
Çme
, cÚ¡ 
fže_Ý”©iÚs
 *
fÝs
,

11 *
´iv
, 
æags
);

13 
ªÚ_šode_»Ëa£
(
fže
 *file);

	@src/common/linuxkpi/gplv2/include/linux/async.h

13 #iâdeà
_LINUX_GPLV2_ASYNC_H_


14 
	#_LINUX_GPLV2_ASYNC_H_


	)

16 
	~<lšux/ty³s.h
>

17 
	~<lšux/li¡.h
>

18 
	~<lšux/wÜkqueue.h
>

20 
u64
 
	tasync_cook›_t
;

22 (*
	tasync_func_t
è(*
	td©a
, 
	tasync_cook›_t
 
	tcook›
);

24 
	sasync_domaš
 {

25 
li¡_h—d
 
³ndšg
;

26 
»gi¡”ed
:1;

29 
	sasync_’Œy
 {

30 
li¡_h—d
 
domaš_li¡
;

31 
li¡_h—d
 
glob®_li¡
;

32 
wÜk_¡ruù
 
wÜk
;

33 
async_cook›_t
 
cook›
;

34 
async_func_t
 
func
;

35 *
d©a
;

36 
async_domaš
 *
domaš
;

39 
async_cook›_t
 
	`async_scheduË
(
async_func_t
 
func
, *
d©a
);

41 
šlše
 

42 
	$async_synchrÚize_fuÎ
()

44 
	`UNIMPLEMENTED
();

45 
	}
}

47 
šlše
 

48 
	$async_synchrÚize_cook›
(
async_cook›_t
 
cook›
)

50 
	`UNIMPLEMENTED
();

51 
	}
}

53 
šlše
 
boÞ


54 
	$cu¼’t_is_async
()

56 
	`UNIMPLEMENTED
();

57  (
çl£
);

58 
	}
}

	@src/common/linuxkpi/gplv2/include/linux/backlight.h

8 #iâdeà
_LINUX_BACKLIGHT_H


9 
	#_LINUX_BACKLIGHT_H


	)

11 
	~<lšux/deviû.h
>

12 
	~<lšux/fb.h
>

13 
	~<lšux/mu‹x.h
>

14 
	~<lšux/nÙif›r.h
>

31 
	ebacklight_upd©e_»asÚ
 {

32 
	mBACKLIGHT_UPDATE_HOTKEY
,

33 
	mBACKLIGHT_UPDATE_SYSFS
,

36 
	ebacklight_ty³
 {

37 
	mBACKLIGHT_RAW
 = 1,

38 
	mBACKLIGHT_PLATFORM
,

39 
	mBACKLIGHT_FIRMWARE
,

40 
	mBACKLIGHT_TYPE_MAX
,

43 
	ebacklight_nÙifiÿtiÚ
 {

44 
	mBACKLIGHT_REGISTERED
,

45 
	mBACKLIGHT_UNREGISTERED
,

48 
	gbacklight_deviû
;

49 
	glšux_fb_šfo
;

51 
	sbacklight_Ýs
 {

52 
	mÝtiÚs
;

54 
	#BL_CORE_SUSPENDRESUME
 (1 << 0)

	)

57 (*
	mupd©e_¡©us
)(
	mbacklight_deviû
 *);

60 (*
	mg‘_brighŠess
)(
	mbacklight_deviû
 *);

63 (*
	mcheck_fb
)(
	mbacklight_deviû
 *, 
	mlšux_fb_šfo
 *);

67 
	sbacklight_´Ý”t›s
 {

69 
	mbrighŠess
;

71 
	mmax_brighŠess
;

74 
	mpow”
;

77 
	mfb_bÏnk
;

79 
backlight_ty³
 
	mty³
;

82 
	m¡©e
;

84 
	#BL_CORE_SUSPENDED
 (1 << 0è

	)

85 
	#BL_CORE_FBBLANK
 (1 << 1è

	)

86 
	#BL_CORE_DRIVER4
 (1 << 28è

	)

87 
	#BL_CORE_DRIVER3
 (1 << 29è

	)

88 
	#BL_CORE_DRIVER2
 (1 << 30è

	)

89 
	#BL_CORE_DRIVER1
 (1 << 31è

	)

93 
	sbacklight_deviû
 {

95 
backlight_´Ý”t›s
 
	m´Ýs
;

98 
mu‹x
 
	mupd©e_lock
;

103 
mu‹x
 
	mÝs_lock
;

104 cÚ¡ 
backlight_Ýs
 *
	mÝs
;

107 
nÙif›r_block
 
	mfb_nÙif
;

110 
li¡_h—d
 
	m’Œy
;

112 
deviû
 
	mdev
;

115 
boÞ
 
	mfb_bl_Ú
[
FB_MAX
];

117 
	mu£_couÁ
;

120 
šlše
 
	$backlight_upd©e_¡©us
(
backlight_deviû
 *
bd
)

122 
»t
 = -
ENOENT
;

124 
	`mu‹x_lock
(&
bd
->
upd©e_lock
);

125 ià(
bd
->
Ýs
 && bd->Ýs->
upd©e_¡©us
)

126 
»t
 = 
bd
->
Ýs
->
	`upd©e_¡©us
(bd);

127 
	`mu‹x_uÆock
(&
bd
->
upd©e_lock
);

129  
»t
;

130 
	}
}

132 
backlight_deviû
 *
backlight_deviû_»gi¡”
(cÚ¡ *
Çme
,

133 
deviû
 *
dev
, *
devd©a
, cÚ¡ 
backlight_Ýs
 *
Ýs
,

134 cÚ¡ 
backlight_´Ý”t›s
 *
´Ýs
);

135 
backlight_deviû
 *
devm_backlight_deviû_»gi¡”
(

136 
deviû
 *
dev
, cÚ¡ *
Çme
, deviû *
·»Á
,

137 *
devd©a
, cÚ¡ 
backlight_Ýs
 *
Ýs
,

138 cÚ¡ 
backlight_´Ý”t›s
 *
´Ýs
);

139 
backlight_deviû_uÄegi¡”
(
backlight_deviû
 *
bd
);

140 
devm_backlight_deviû_uÄegi¡”
(
deviû
 *
dev
,

141 
backlight_deviû
 *
bd
);

142 
backlight_fÜû_upd©e
(
backlight_deviû
 *
bd
,

143 
backlight_upd©e_»asÚ
 
»asÚ
);

144 
boÞ
 
backlight_deviû_»gi¡”ed
(
backlight_ty³
 
ty³
);

145 
backlight_»gi¡”_nÙif›r
(
nÙif›r_block
 *
nb
);

146 
backlight_uÄegi¡”_nÙif›r
(
nÙif›r_block
 *
nb
);

148 
	#to_backlight_deviû
(
obj
è
	`cÚš”_of
(obj, 
backlight_deviû
, 
dev
)

	)

150 
šlše
 * 
	$bl_g‘_d©a
(
backlight_deviû
 *
bl_dev
)

152  
	`dev_g‘_drvd©a
(&
bl_dev
->
dev
);

153 
	}
}

155 
	sg’”ic_bl_šfo
 {

156 cÚ¡ *
	mÇme
;

157 
	mmax_š‹ns™y
;

158 
	mdeçuÉ_š‹ns™y
;

159 
	mlim™_mask
;

160 (*
	m£t_bl_š‹ns™y
)(
	mš‹ns™y
);

161 (*
	mkick_b©‹ry
)();

164 #ifdeà
CONFIG_OF


165 
backlight_deviû
 *
of_fšd_backlight_by_node
(
deviû_node
 *
node
);

167 
šlše
 
backlight_deviû
 *

168 
	$of_fšd_backlight_by_node
(
deviû_node
 *
node
)

170  
NULL
;

171 
	}
}

	@src/common/linuxkpi/gplv2/include/linux/capability.h

1 #iâdeà
__LINUX_CAPABILITY_H_


2 
	#__LINUX_CAPABILITY_H_


	)

4 
	~<sys/ty³s.h
>

5 
	~<sys/·¿m.h
>

6 
	~<sys/sy¡m.h
>

7 
	~<sys/´oc.h
>

8 
	~<sys/´iv.h
>

10 
	#fže_ns_ÿ·bË
(
a
, 
b
, 
c
è(1)

	)

12 
	e__lkpi_ÿ·bž™›s
 {

13 
	mCAP_SYS_ADMIN
,

14 
	mCAP_SYS_NICE


17 
šlše
 
boÞ


18 
	$ÿ·bË
(
__lkpi_ÿ·bž™›s
 
ÿp
)

21 
ÿp
) {

22 
CAP_SYS_ADMIN
:

23  (
	`´iv_check
(
cu¹h»ad
, 
PRIV_DRIVER
) == 0);

25 
CAP_SYS_NICE
:

27  (
	`´iv_check
(
cu¹h»ad
, 
PRIV_DRIVER
) == 0);

30 
	`·nic
("%s: unhªdËd c­abž™y: %0x", 
__func__
, 
ÿp
);

31  (
çl£
);

33 
	}
}

	@src/common/linuxkpi/gplv2/include/linux/circ_buf.h

5 #iâdeà
_LINUX_CIRC_BUF_H


6 
	#_LINUX_CIRC_BUF_H
 1

	)

8 
	scœc_buf
 {

9 *
	mbuf
;

10 
	mh—d
;

11 
	mž
;

15 
	#CIRC_CNT
(
h—d
,
ž
,
size
è(((h—dè- (ž)è& ((size)-1))

	)

20 
	#CIRC_SPACE
(
h—d
,
ž
,
size
è
	`CIRC_CNT
(Ñaž),((h—d)+1),(size))

	)

25 
	#CIRC_CNT_TO_END
(
h—d
,
ž
,
size
) \

26 ({
’d
 = (
size
è- (
ž
); \

27 
n
 = ((
h—d
è+ 
’d
è& ((
size
)-1); \

28 
n
 < 
’d
 ?‚ :ƒnd;})

	)

31 
	#CIRC_SPACE_TO_END
(
h—d
,
ž
,
size
) \

32 ({
’d
 = (
size
è- 1 - (
h—d
); \

33 
n
 = (
’d
 + (
ž
)è& ((
size
)-1); \

34 
n
 <ð
’d
 ?‚ :ƒnd+1;})

	)

	@src/common/linuxkpi/gplv2/include/linux/compiler.h

1 #iâdeà
_LINUX_GPLV2_COMPILER_H_


2 
	#_LINUX_GPLV2_COMPILER_H_


	)

4 #šþude_Ãxˆ<
lšux
/
compž”
.
h
>

6 
	~<sys/sy¦og.h
>

8 #iâdeà
PRINT_UNIMPLEMENTED


9 
	#PRINT_UNIMPLEMENTED
 1

	)

12 
	#UNIMPLEMENTED_ONCE
() do { \

13 
£’
 = 0; \

15 ià(!
£’
 && 
PRINT_UNIMPLEMENTED
) { \

16 
	`log
(
LOG_WARNING
, \

18 
__FUNCTION__
); \

19 
£’
 = 1; \

21 } 0)

	)

23 
	#DODGY_ONCE
() do { \

24 
£’
 = 0; \

26 ià(!
£’
 && 
PRINT_UNIMPLEMENTED
) { \

27 
	`log
(
LOG_WARNING
, \

29 
__FUNCTION__
); \

30 
£’
 = 1; \

32 } 0)

	)

34 #undeà
UNIMPLEMENTED


35 
	#UNIMPLEMENTED
(è
	`UNIMPLEMENTED_ONCE
()

	)

36 
	#WARN_NOT
(è
	`UNIMPLEMENTED_ONCE
()

	)

37 
	#DODGY
(è
	`DODGY_ONCE
()

	)

39 
	#uÄ—chabË
(è
	`__uÄ—chabË
()

	)

	@src/common/linuxkpi/gplv2/include/linux/component.h

14 #iâdeà
_LINUX_GPLV2_COMPONENT_H_


15 
	#_LINUX_GPLV2_COMPONENT_H_


	)

17 
	~<lšux/¡ddef.h
>

18 
	~<lšux/deviû.h
>

20 
mu‹x
 
compÚ’t_mu‹x
;

22 
li¡_h—d
 
lšux_compÚ’t_li¡
;

23 
li¡_h—d
 
lšux_compÚ’t_ma¡”s
;

25 
	glšux_compÚ’t
;

27 
	scompÚ’t_ma¡”_Ýs
 {

28 (*
	mbšd
)(
deviû
 *
	mma¡”
);

29 (*
	munbšd
)(
deviû
 *
	mma¡”
);

32 
	scompÚ’t_Ýs
 {

33 (*
	mbšd
)(
deviû
 *
	mcomp
, deviû *
	mma¡”
,

34 *
	mma¡”_d©a
);

35 (*
	munbšd
)(
deviû
 *
	mcomp
, deviû *
	mma¡”
,

36 *
	mma¡”_d©a
);

39 
	slšux_compÚ’t_m©ch_¬¿y
 {

40 *
	md©a
;

41 (*
	mcom·»
)(
	mdeviû
 *, *);

42 (*
	m»Ëa£
)(
	mdeviû
 *, *);

43 
lšux_compÚ’t
 *
	mcompÚ’t
;

44 
boÞ
 
	mdu¶iÿ‹
;

47 
	slšux_compÚ’t_m©ch
 {

48 
size_t
 
	m®loc
;

49 
size_t
 
	mnum
;

50 
lšux_compÚ’t_m©ch_¬¿y
 *
	mcom·»
;

53 
	slšux_compÚ’t_ma¡”
 {

54 
li¡_h—d
 
	mnode
;

55 
boÞ
 
	mbound
;

57 cÚ¡ 
compÚ’t_ma¡”_Ýs
 *
	mÝs
;

58 
deviû
 *
	mdev
;

59 
lšux_compÚ’t_m©ch
 *
	mm©ch
;

62 
	slšux_compÚ’t
 {

63 
li¡_h—d
 
	mnode
;

64 
lšux_compÚ’t_ma¡”
 *
	mma¡”
;

65 
boÞ
 
	mbound
;

67 cÚ¡ 
compÚ’t_Ýs
 *
	mÝs
;

68 
deviû
 *
	mdev
;

71 
šlše
 

72 
	$»move_compÚ’t
(
lšux_compÚ’t_ma¡”
 *
ma¡”
, 
lšux_compÚ’t
 *
c
)

74 
size_t
 
i
;

77 
i
 = 0; i < 
ma¡”
->
m©ch
->
num
; i++)

78 ià(
ma¡”
->
m©ch
->
com·»
[
i
].
compÚ’t
 =ð
c
)

79 
ma¡”
->
m©ch
->
com·»
[
i
].
compÚ’t
 = 
NULL
;

80 
	}
}

83 
šlše
 
lšux_compÚ’t
 *

84 
fšd_compÚ’t
(
lšux_compÚ’t_ma¡”
 *
ma¡”
,

85 (*
com·»
)(
deviû
 *, *), *
com·»_d©a
)

87 
lšux_compÚ’t
 *
c
;

89 
	`li¡_fÜ_—ch_’Œy
(
c
, &
lšux_compÚ’t_li¡
, 
node
) {

90 ià(
c
->
ma¡”
 && c->master != master)

93 ià(
	`com·»
(
c
->
dev
, 
com·»_d©a
))

94  
c
;

97  
NULL
;

98 
	}
}

101 
šlše
 

102 
	$fšd_compÚ’ts
(
lšux_compÚ’t_ma¡”
 *
ma¡”
)

104 
lšux_compÚ’t_m©ch
 *
m©ch
 = 
ma¡”
->match;

105 
size_t
 
i
;

106 
»t
 = 0;

112 
i
 = 0; i < 
m©ch
->
num
; i++) {

113 
lšux_compÚ’t_m©ch_¬¿y
 *
mc
 = &
m©ch
->
com·»
[
i
];

114 
lšux_compÚ’t
 *
c
;

116 
	`dev_dbg
(
ma¡”
->
dev
, "Lookšg fÜ compÚ’ˆ%zu\n", 
i
);

118 ià(
m©ch
->
com·»
[
i
].
compÚ’t
)

121 
c
 = 
	`fšd_compÚ’t
(
ma¡”
, 
mc
->
com·»
, mc->
d©a
);

122 ià(!
c
) {

123 
»t
 = -
ENXIO
;

127 
	`dev_dbg
(
ma¡”
->
dev
, "found compÚ’ˆ%s, du¶iÿ‹ %u\n", 
	`dev_Çme
(
c
->dev), !!c->master);

130 
m©ch
->
com·»
[
i
].
du¶iÿ‹
 = !!
c
->
ma¡”
;

131 
m©ch
->
com·»
[
i
].
compÚ’t
 = 
c
;

132 
c
->
ma¡”
 = master;

134  
»t
;

135 
	}
}

137 
šlše
 

138 
	$Œy_to_bršg_up_ma¡”
(
lšux_compÚ’t_ma¡”
 *
ma¡”
,

139 
lšux_compÚ’t
 *
compÚ’t
)

141 
»t
;

143 
	`dev_dbg
(
ma¡”
->
dev
, "tryingo bring up master\n");

145 ià(
	`fšd_compÚ’ts
(
ma¡”
)) {

146 
	`dev_dbg
(
ma¡”
->
dev
, "master has incomplete components\n");

150 ià(
compÚ’t
 && compÚ’t->
ma¡”
 != master) {

151 
	`dev_dbg
(
ma¡”
->
dev
, "master is‚ot forhis component (%s)\n",

152 
	`dev_Çme
(
compÚ’t
->
dev
));

156 ià(!
	`dev»s_Ý’_group
(
ma¡”
->
dev
, 
NULL
, 
GFP_KERNEL
))

157  -
ENOMEM
;

160 
»t
 = 
ma¡”
->
Ýs
->
	`bšd
(ma¡”->
dev
);

161 ià(
»t
 < 0) {

162 
	`dev»s_»Ëa£_group
(
ma¡”
->
dev
, 
NULL
);

163 
	`dev_šfo
(
ma¡”
->
dev
, "ma¡” bšd fažed: %d\n", 
»t
);

164  
»t
;

167 
ma¡”
->
bound
 = 
Œue
;

169 
	}
}

171 
šlše
 

172 
	$Œy_to_bršg_up_ma¡”s
(
lšux_compÚ’t
 *
compÚ’t
)

174 
lšux_compÚ’t_ma¡”
 *
m
;

175 
»t
 = 0;

177 
	`li¡_fÜ_—ch_’Œy
(
m
, &
lšux_compÚ’t_ma¡”s
, 
node
) {

178 ià(!
m
->
bound
) {

179 
»t
 = 
	`Œy_to_bršg_up_ma¡”
(
m
, 
compÚ’t
);

180 ià(
»t
 != 0)

185  
»t
;

186 
	}
}

188 
šlše
 

189 
	$ke_down_ma¡”
(
lšux_compÚ’t_ma¡”
 *
ma¡”
)

191 ià(
ma¡”
->
bound
) {

192 
ma¡”
->
Ýs
->
	`unbšd
(ma¡”->
dev
);

193 
	`dev»s_»Ëa£_group
(
ma¡”
->
dev
, 
NULL
);

194 
ma¡”
->
bound
 = 
çl£
;

196 
	}
}

198 
šlše
 

199 
	$compÚ’t_add
(
deviû
 *
dev
, cÚ¡ 
compÚ’t_Ýs
 *
Ýs
)

201 
lšux_compÚ’t
 *
compÚ’t
;

202 
»t
;

204 
compÚ’t
 = 
	`kz®loc
((*compÚ’t), 
GFP_KERNEL
);

205 ià(!
compÚ’t
)

206  -
ENOMEM
;

208 
compÚ’t
->
Ýs
 = ops;

209 
compÚ’t
->
dev
 = dev;

211 
	`dev_dbg
(
dev
, "addšg compÚ’ˆ(Ý %ps)\n", 
Ýs
);

213 
	`mu‹x_lock
(&
compÚ’t_mu‹x
);

214 
	`li¡_add_ž
(&
compÚ’t
->
node
, &
lšux_compÚ’t_li¡
);

216 
»t
 = 
	`Œy_to_bršg_up_ma¡”s
(
compÚ’t
);

217 ià(
»t
 < 0) {

218 ià(
compÚ’t
->
ma¡”
)

219 
	`»move_compÚ’t
(
compÚ’t
->
ma¡”
, component);

220 
	`li¡_d–
(&
compÚ’t
->
node
);

222 
	`kä“
(
compÚ’t
);

224 
	`mu‹x_uÆock
(&
compÚ’t_mu‹x
);

226  (
»t
 < 0 ?„et : 0);

227 
	}
}

229 
šlše
 

230 
	$compÚ’t_d–
(
deviû
 *
dev
, cÚ¡ 
compÚ’t_Ýs
 *
Ýs
)

232 
lšux_compÚ’t
 *
c
, *
compÚ’t
 = 
NULL
;

234 
	`mu‹x_lock
(&
compÚ’t_mu‹x
);

235 
	`li¡_fÜ_—ch_’Œy
(
c
, &
lšux_compÚ’t_li¡
, 
node
)

236 ià(
c
->
dev
 =ðdev && c->
Ýs
 == ops) {

237 
	`li¡_d–
(&
c
->
node
);

238 
compÚ’t
 = 
c
;

242 ià(
compÚ’t
 && compÚ’t->
ma¡”
) {

243 
	`ke_down_ma¡”
(
compÚ’t
->
ma¡”
);

244 
	`»move_compÚ’t
(
compÚ’t
->
ma¡”
, component);

247 
	`mu‹x_uÆock
(&
compÚ’t_mu‹x
);

249 
	`WARN_ON
(!
compÚ’t
);

250 
	`kä“
(
compÚ’t
);

251 
	}
}

253 
compÚ’t_bšd_®l
(
deviû
 *
ma¡”
, *
ma¡”_d©a
);

254 
compÚ’t_unbšd_®l
(
deviû
 *
ma¡”
, *
ma¡”_d©a
);

257 
šlše
 

258 
	$compÚ’t_ma¡”_d–
(
deviû
 *
dev
, cÚ¡ 
compÚ’t_ma¡”_Ýs
 *
Ýs
)

260 
	`UNIMPLEMENTED
();

261 
	}
}

264 
compÚ’t_ma¡”_add_w™h_m©ch
(
deviû
 *,

265 cÚ¡ 
compÚ’t_ma¡”_Ýs
 *, 
lšux_compÚ’t_m©ch
 *);

266 
compÚ’t_m©ch_add_»Ëa£
(
deviû
 *
ma¡”
,

267 
lšux_compÚ’t_m©ch
 **
m©ch±r
,

268 (*
»Ëa£
)(
deviû
 *, *),

269 (*
com·»
)(
deviû
 *, *), *
com·»_d©a
);

271 
šlše
 
	`compÚ’t_m©ch_add
(
deviû
 *
ma¡”
,

272 
lšux_compÚ’t_m©ch
 **
m©ch±r
,

273 (*
com·»
)(
deviû
 *, *), *
com·»_d©a
)

275 
	`compÚ’t_m©ch_add_»Ëa£
(
ma¡”
, 
m©ch±r
, 
NULL
, 
com·»
,

276 
com·»_d©a
);

277 
	}
}

	@src/common/linuxkpi/gplv2/include/linux/console.h

14 #iâdeà
_LINUX_CONSOLE_H_


15 
	#_LINUX_CONSOLE_H_
 1

	)

16 
	~<lšux/ty³s.h
>

20 
	#VESA_NO_BLANKING
 0

	)

21 
	#VESA_VSYNC_SUSPEND
 1

	)

22 
	#VESA_HSYNC_SUSPEND
 2

	)

23 
	#VESA_POWERDOWN
 3

	)

25 #ifdeà
CONFIG_VGA_CONSOLE


26 
boÞ
 
vgacÚ_‹xt_fÜû
();

28 
šlše
 
boÞ
 
	$vgacÚ_‹xt_fÜû
(è{  
çl£
; 
	}
}

	@src/common/linuxkpi/gplv2/include/linux/cpufreq.h

26 #iâdeà
_LINUX_CPUFREQ_H_


27 
	#_LINUX_CPUFREQ_H_


	)

28 
	~<lšux/nÙif›r.h
>

30 
	sýuäeq_ýušfo
 {

31 
	mmax_äeq
;

32 
	mmš_äeq
;

33 
	mŒªs™iÚ_Ï‹ncy
;

37 
	sýuäeq_pÞicy
 {

38 
ýuäeq_ýušfo
 
	mýušfo
;

41 
šlše
 
ýuäeq_pÞicy
 *

42 
	$ýuäeq_ýu_g‘_¿w
(
ýu
)

44  
NULL
;

45 
	}
}

47 
šlše
 
ýuäeq_pÞicy
 *

48 
	$ýuäeq_ýu_g‘
(
ýu
)

50  
NULL
;

51 
	}
}

53 
šlše
 

54 
	$ýuäeq_ýu_put
(
ýuäeq_pÞicy
 *
pÞicy
)

56 
	}
}

	@src/common/linuxkpi/gplv2/include/linux/debugfs.h

15 #iâdeà
_DEBUGFS_H_


16 
	#_DEBUGFS_H_


	)

18 
	~<lšux/fs.h
>

19 
	~<lšux/£q_fže.h
>

21 
	~<lšux/ty³s.h
>

24 
debugfs_»move
(
d’Œy
 *dentry);

26 
d’Œy
 *
debugfs_ü—‹_fže
(cÚ¡ *
Çme
, 
umode_t
 
mode
,

27 
d’Œy
 *
·»Á
, *
d©a
,

28 cÚ¡ 
fže_Ý”©iÚs
 *
fÝs
);

30 
d’Œy
 *
debugfs_ü—‹_dœ
(cÚ¡ *
Çme
, d’Œy *
·»Á
);

32 
debugfs_»move_»cursive
(
d’Œy
 *dentry);

	@src/common/linuxkpi/gplv2/include/linux/device.h

1 #iâdef 
_LINUX_GPLV2_DEVICE_H_


2 
	#_LINUX_GPLV2_DEVICE_H_


	)

4 #šþude_Ãxˆ<
lšux
/
deviû
.
h
>

6 
	~<lšux/numa.h
>

7 
	~<lšux/pm.h
>

9 (*
	tdr_»Ëa£_t
)(
	tdeviû
 *
	tdev
, *
	t»s
);

10 (*
	tdr_m©ch_t
)(
	tdeviû
 *
	tdev
, *
	t»s
, *
	tm©ch_d©a
);

12 
	sdev»s_node
 {

13 
li¡_h—d
 
’Œy
;

14 
dr_»Ëa£_t
 
»Ëa£
;

17 
	sdev»s
 {

18 
dev»s_node
 
node
;

19 
d©a
[];

22 
	sdev»s_group
 {

23 
dev»s_node
 
node
[2];

24 *
id
;

25 
cÞÜ
;

28 
šlše
 *

29 
	$devm_km®loc
(
deviû
 *
dev
, 
size_t
 
size
, 
gå_t
 
gå
)

35 
	`DODGY
();

36  (
	`km®loc
(
size
, 
gå
));

37 
	}
}

39 
šlše
 *

40 
	$devm_kz®loc
(
deviû
 *
dev
, 
size_t
 
size
, 
gå_t
 
gå
)

42  
	`devm_km®loc
(
dev
, 
size
, 
gå
 | 
__GFP_ZERO
);

43 
	}
}

54 
šlše
 

55 
	$group_Ý’_»Ëa£
(
deviû
 *
dev
, *
»s
)

58 
	}
}

60 
šlše
 

61 
	$group_þo£_»Ëa£
(
deviû
 *
dev
, *
»s
)

64 
	}
}

66 
šlše
 
dev»s_group
 *

67 
	$node_to_group
(
dev»s_node
 *
node
)

69 ià(
node
->
»Ëa£
 =ð&
group_Ý’_»Ëa£
)

70  
	`cÚš”_of
(
node
, 
dev»s_group
,‚ode[0]);

71 ià(
node
->
»Ëa£
 =ð&
group_þo£_»Ëa£
)

72  
	`cÚš”_of
(
node
, 
dev»s_group
,‚ode[1]);

73  
NULL
;

74 
	}
}

77 
šlše
 

78 
	$add_dr
(
deviû
 *
dev
, 
dev»s_node
 *
node
)

80 
	`BUG_ON
(!
	`li¡_em±y
(&
node
->
’Œy
));

81 
	`li¡_add_ž
(&
node
->
’Œy
, &
dev
->
dev»s_h—d
);

82 
	}
}

85 
šlše
 *

86 
	$dev»s_Ý’_group
(
deviû
 *
dev
, *
id
, 
gå_t
 
gå
)

88 
dev»s_group
 *
g½
;

89 
æags
 
__unu£d
;

91 
g½
 = 
	`km®loc
((*g½), 
gå
);

92 ià(
	`uÆik–y
(!
g½
))

93  
NULL
;

95 
g½
->
node
[0].
»Ëa£
 = &
group_Ý’_»Ëa£
;

96 
g½
->
node
[1].
»Ëa£
 = &
group_þo£_»Ëa£
;

97 
	`INIT_LIST_HEAD
(&
g½
->
node
[0].
’Œy
);

98 
	`INIT_LIST_HEAD
(&
g½
->
node
[1].
’Œy
);

99 
g½
->
id
 = grp;

100 ià(
id
)

101 
g½
->
id
 = id;

103 
	`¥š_lock_œq§ve
(&
dev
->
dev»s_lock
, 
æags
);

104 
	`add_dr
(
dev
, &
g½
->
node
[0]);

105 
	`¥š_uÆock_œq»¡Üe
(&
dev
->
dev»s_lock
, 
æags
);

106  
g½
->
id
;

107 
	}
}

109 
šlše
 
dev»s_group
 *

110 
	$fšd_group
(
deviû
 *
dev
, *
id
)

112 
dev»s_node
 *
node
;

114 
	`li¡_fÜ_—ch_’Œy_»v”£
(
node
, &
dev
->
dev»s_h—d
, 
’Œy
) {

115 
dev»s_group
 *
g½
;

116 ià(
node
->
»Ëa£
 !ð&
group_Ý’_»Ëa£
)

118 
g½
 = 
	`cÚš”_of
(
node
, 
dev»s_group
,‚ode[0]);

119 ià(
id
) {

120 ià(
g½
->
id
 == id)

121  
g½
;

122 } ià(
	`li¡_em±y
(&
g½
->
node
[1].
’Œy
))

123  
g½
;

125  
NULL
;

126 
	}
}

128 
šlše
 

129 
	$dev»s_þo£_group
(
deviû
 *
dev
, *
id
)

131 
dev»s_group
 *
g½
;

132 
æags
 
__unu£d
;

134 
	`¥š_lock_œq§ve
(&
dev
->
dev»s_lock
, 
æags
);

136 
g½
 = 
	`fšd_group
(
dev
, 
id
);

137 ià(
g½
)

138 
	`add_dr
(
dev
, &
g½
->
node
[1]);

140 
	`WARN_ON
(1);

142 
	`¥š_uÆock_œq»¡Üe
(&
dev
->
dev»s_lock
, 
æags
);

143 
	}
}

145 
šlše
 

146 
	$lšux_»move_nodes
(
deviû
 *
dev
,

147 
li¡_h—d
 *
fœ¡
, li¡_h—d *
’d
,

148 
li¡_h—d
 *
todo
)

150 
út
 = 0, 
Ä_groups
 = 0;

151 
li¡_h—d
 *
cur
;

153 
cur
 = 
fœ¡
;

154 
cur
 !ð
’d
) {

155 
dev»s_node
 *
node
;

156 
dev»s_group
 *
g½
;

158 
node
 = 
	`li¡_’Œy
(
cur
, 
dev»s_node
, 
’Œy
);

159 
cur
 = cur->
Ãxt
;

161 
g½
 = 
	`node_to_group
(
node
);

162 ià(
g½
) {

163 
g½
->
cÞÜ
 = 0;

164 
Ä_groups
++;

166 ià(&
node
->
’Œy
 =ð
fœ¡
)

167 
fœ¡
 = fœ¡->
Ãxt
;

168 
	`li¡_move_ž
(&
node
->
’Œy
, 
todo
);

169 
út
++;

173 ià(!
Ä_groups
)

174  
út
;

176 
cur
 = 
fœ¡
;

177 
cur
 !ð
’d
) {

178 
dev»s_node
 *
node
;

179 
dev»s_group
 *
g½
;

181 
node
 = 
	`li¡_’Œy
(
cur
, 
dev»s_node
, 
’Œy
);

182 
cur
 = cur->
Ãxt
;

184 
g½
 = 
	`node_to_group
(
node
);

185 
	`BUG_ON
(!
g½
 || 
	`li¡_em±y
(&g½->
node
[0].
’Œy
));

187 
g½
->
cÞÜ
++;

188 ià(
	`li¡_em±y
(&
g½
->
node
[1].
’Œy
))

189 
g½
->
cÞÜ
++;

191 
	`BUG_ON
(
g½
->
cÞÜ
 <= 0 || grp->color > 2);

192 ià(
g½
->
cÞÜ
 == 2) {

193 
	`li¡_move_ž
(&
g½
->
node
[0].
’Œy
, 
todo
);

194 
	`li¡_d–_š™
(&
g½
->
node
[1].
’Œy
);

198  
út
;

199 
	}
}

201 
šlše
 

202 
	$lšux_»Ëa£_nodes
(
deviû
 *
dev
, 
li¡_h—d
 *
fœ¡
,

203 
li¡_h—d
 *
’d
, 
æags
)

205 
	`LIST_HEAD
(
todo
);

206 
út
;

207 
dev»s
 *
dr
, *
tmp
;

209 
út
 = 
	`lšux_»move_nodes
(
dev
, 
fœ¡
, 
’d
, &
todo
);

211 
	`¥š_uÆock_œq»¡Üe
(&
dev
->
dev»s_lock
, 
æags
);

212 
	`li¡_fÜ_—ch_’Œy_§ã_»v”£
(
dr
, 
tmp
, &
todo
, 
node
.
’Œy
) {

213 
dr
->
node
.
	`»Ëa£
(
dev
, dr->
d©a
);

214 
	`kä“
(
dr
);

217  
út
;

218 
	}
}

220 
dev»s_add
(
deviû
 *
dev
, *
»s
);

221 *
dev»s_®loc_node
(
dr_»Ëa£_t
 
»Ëa£
, 
size_t
 
size
, 
gå_t
 
gå
,

222 
nid
);

223 
dev»s_ä“
(*
»s
);

224 
dev»s_»Ëa£
(
deviû
 *
dev
, 
dr_»Ëa£_t
 
»Ëa£
,

225 
dr_m©ch_t
 
m©ch
, *
m©ch_d©a
);

226 *
dev»s_»move
(
deviû
 *
dev
, 
dr_»Ëa£_t
 
»Ëa£
,

227 
dr_m©ch_t
 
m©ch
, *
m©ch_d©a
);

229 
šlše
 *

230 
	$dev»s_®loc
(
dr_»Ëa£_t
 
»Ëa£
, 
size_t
 
size
, 
gå_t
 
gå
)

232  
	`dev»s_®loc_node
(
»Ëa£
, 
size
, 
gå
, 
NUMA_NO_NODE
);

233 
	}
}

235 
šlše
 

236 
	$dev»s_»Ëa£_group
(
deviû
 *
dev
, *
id
)

238 
dev»s_group
 *
g½
;

239 
æags
;

240 
út
 = 0;

242 
	`¥š_lock_œq§ve
(&
dev
->
dev»s_lock
, 
æags
);

244 
g½
 = 
	`fšd_group
(
dev
, 
id
);

245 ià(
g½
) {

246 
li¡_h—d
 *
fœ¡
 = &
g½
->
node
[0].
’Œy
;

247 
li¡_h—d
 *
’d
 = &
dev
->
dev»s_h—d
;

249 ià(!
	`li¡_em±y
(&
g½
->
node
[1].
’Œy
))

250 
’d
 = 
g½
->
node
[1].
’Œy
.
Ãxt
;

252 
út
 = 
	`lšux_»Ëa£_nodes
(
dev
, 
fœ¡
, 
’d
, 
æags
);

254 
	`WARN_ON
(1);

255 
	`¥š_uÆock_œq»¡Üe
(&
dev
->
dev»s_lock
, 
æags
);

258  
út
;

259 
	}
}

274 
	~<lšux/idr.h
>

276 
ida
 *
hwmÚ_id­
;

278 
šlše
 *

279 
	$¡½brk
(cÚ¡ *
s
, cÚ¡ *
b
)

281 cÚ¡ *
p
;

284 
p
 = 
b
; *°!ð'\0' && *°!ð*
s
; ++p)

286 ià(*
p
 != '\0')

287  ((*)(
ušŒ_t
)
s
);

288 } *
s
++);

290  (
NULL
);

291 
	}
}

293 
þass
 
	ghwmÚ_þass
 = {

294 .
Çme
 = "hwmon",

295 .
	gowÃr
 = 
THIS_MODULE
,

298 
	#HWMON_ID_PREFIX
 "hwmÚ"

	)

299 
	#HWMON_ID_FORMAT
 
HWMON_ID_PREFIX
 "%d"

	)

301 
	shwmÚ_deviû
 {

302 cÚ¡ *
	mÇme
;

303 
deviû
 
	mdev
;

306 
šlše
 
deviû
 *

307 
	$hwmÚ_deviû_»gi¡”_w™h_groups
(
deviû
 *
dev
, cÚ¡ *
Çme
,

308 *
drvd©a
,

309 cÚ¡ 
©Œibu‹_group
 **
groups
)

311 
hwmÚ_deviû
 *
hwdev
;

312 
”r
, 
id
;

315 ià(
Çme
 && (!
	`¡¾’
Òameè|| 
	`¡½brk
(name, "-* \t\n")))

316  
	`ERR_PTR
(-
EINVAL
);

318 
id
 = 
	`ida_sim¶e_g‘
(
hwmÚ_id­
, 0, 0, 
GFP_KERNEL
);

319 ià(
id
 < 0)

320  
	`ERR_PTR
(
id
);

322 
hwdev
 = 
	`kz®loc
((*hwdev), 
GFP_KERNEL
);

323 ià(
hwdev
 =ð
NULL
) {

324 
”r
 = -
ENOMEM
;

325 
ida_»move
;

328 
hwdev
->
Çme
 =‚ame;

329 
hwdev
->
dev
.
þass
 = &
hwmÚ_þass
;

330 
hwdev
->
dev
.
·»Á
 = dev;

331 
hwdev
->
dev
.
groups
 = groups;

332 
	`dev_£t_drvd©a
(&
hwdev
->
dev
, 
drvd©a
);

333 
	`dev_£t_Çme
(&
hwdev
->
dev
, 
HWMON_ID_FORMAT
, 
id
);

334 
”r
 = 
	`deviû_»gi¡”
(&
hwdev
->
dev
);

335 ià(
”r
)

336 
ä“
;

338  &
hwdev
->
dev
;

340 
ä“
:

341 
	`kä“
(
hwdev
);

342 
ida_»move
:

343 
	`ida_sim¶e_»move
(
hwmÚ_id­
, 
id
);

344  
	`ERR_PTR
(
”r
);

345 
	}
}

348 
šlše
 

349 
	$hwmÚ_deviû_uÄegi¡”
(
deviû
 *
dev
)

351 
id
;

353 ià(
	`lik–y
(
	`ssÿnf
(
	`dev_Çme
(
dev
), 
HWMON_ID_FORMAT
, &
id
) == 1)) {

354 
	`deviû_uÄegi¡”
(
dev
);

355 
	`ida_sim¶e_»move
(
hwmÚ_id­
, 
id
);

357 
	`deviû_´štf
(
dev
->
bsddev
,

359 
	}
}

	@src/common/linuxkpi/gplv2/include/linux/dma-buf.h

25 #iâdeà
_LINUX_GPLV2_DMA_BUF_H_


26 
	#_LINUX_GPLV2_DMA_BUF_H_


	)

28 
	~<lšux/fže.h
>

29 
	~<lšux/”r.h
>

30 
	~<lšux/sÿ‰”li¡.h
>

31 
	~<lšux/li¡.h
>

32 
	~<lšux/dma-m­pšg.h
>

33 
	~<lšux/fs.h
>

34 
	~<lšux/dma-ãnû.h
>

35 
	~<lšux/wa™.h
>

36 
	~<lšux/moduË.h
>

38 
	gdeviû
;

39 
	gdma_buf
;

40 
	gdma_buf_©chm’t
;

41 
	gdma_buf_expÜt_šfo
;

43 
dma_buf_fd
(
dma_buf
 *
dmabuf
, 
æags
);

44 
dma_buf
 *
dma_buf_g‘
(
fd
);

45 
dma_buf_put
(
dma_buf
 *
db
);

47 
dma_buf
 *
dma_buf_expÜt
(cÚ¡ 
dma_buf_expÜt_šfo
 *
exp_šfo
);

49 
	sdma_buf_expÜt_šfo
 {

50 cÚ¡ *
	mexp_Çme
;

51 
moduË
 *
	mowÃr
;

52 cÚ¡ 
dma_buf_Ýs
 *
	mÝs
;

53 
size_t
 
	msize
;

54 
	mæags
;

55 
»£rv©iÚ_objeù
 *
	m»sv
;

56 *
	m´iv
;

59 
	#DEFINE_DMA_BUF_EXPORT_INFO
(
a
) \

60 
dma_buf_expÜt_šfo
 
a
 = { .
exp_Çme
 = 
KBUILD_MODNAME
, \

61 .
owÃr
 = 
THIS_MODULE
 }

	)

63 
	sdma_buf_Ýs
 {

64 (*
	m©ch
)(
	mdma_buf
 *, 
	mdeviû
 *,

65 
	mdma_buf_©chm’t
 *);

67 (*
	md‘ach
)(
	mdma_buf
 *, 
	mdma_buf_©chm’t
 *);

73 
	msg_bË
 * (*
	mm­_dma_buf
)(
	mdma_buf_©chm’t
 *,

74 
	mdma_d©a_dœeùiÚ
);

75 (*
	munm­_dma_buf
)(
	mdma_buf_©chm’t
 *,

76 
	msg_bË
 *,

77 
	mdma_d©a_dœeùiÚ
);

83 (*
	m»Ëa£
)(
	mdma_buf
 *);

85 (*
	mbegš_ýu_acûss
)(
	mdma_buf
 *, 
	mdma_d©a_dœeùiÚ
);

86 (*
	m’d_ýu_acûss
)(
	mdma_buf
 *, 
	mdma_d©a_dœeùiÚ
);

88 *(*
	mm­_©omic
)(
	mdma_buf
 *, );

89 (*
	munm­_©omic
)(
	mdma_buf
 *, , *);

91 *(*
	mm­
)(
	mdma_buf
 *, );

92 (*
	munm­
)(
	mdma_buf
 *, , *);

94 (*
	mmm­
)(
	mdma_buf
 *, 
vm_¬—_¡ruù
 *
	mvma
);

96 *(*
	mvm­
)(
	mdma_buf
 *);

97 (*
	mvunm­
)(
	mdma_buf
 *, *
	mvaddr
);

100 #undeà
fže


101 
	sdma_buf
 {

102 
size_t
 
	msize
;

103 
fže
 *
	mlšux_fže
;

104 
li¡_h—d
 
	m©chm’ts
;

105 cÚ¡ 
dma_buf_Ýs
 *
	mÝs
;

107 
mu‹x
 
	mlock
;

108 
	mvm­pšg_couÁ”
;

109 *
	mvm­_±r
;

110 cÚ¡ *
	mexp_Çme
;

111 
moduË
 *
	mowÃr
;

112 
li¡_h—d
 
	mli¡_node
;

113 *
	m´iv
;

114 
»£rv©iÚ_objeù
 *
	m»sv
;

117 
wa™_queue_h—d_t
 
	mpÞl
;

119 
	sdma_buf_pÞl_cb_t
 {

120 
dma_ãnû_cb
 
	mcb
;

121 
wa™_queue_h—d_t
 *
	mpÞl
;

123 
	maùive
;

124 } 
	mcb_exþ
, 
	mcb_sh¬ed
;

127 
	sdma_buf_©chm’t
 {

128 
dma_buf
 *
	mdmabuf
;

129 
deviû
 *
	mdev
;

130 
li¡_h—d
 
	mnode
;

131 *
	m´iv
;

133 
	#fže
 
lšux_fže


	)

134 
šlše
 

135 
	$g‘_dma_buf
(
dma_buf
 *
dmabuf
)

137 
	`fhÞd
(
dmabuf
->
fže
);

138 
	}
}

141 
dma_buf_©chm’t
 *
dma_buf_©ch
(
dma_buf
 *
dmabuf
,

142 
deviû
 *
dev
);

143 
dma_buf_d‘ach
(
dma_buf
 *
dmabuf
,

144 
dma_buf_©chm’t
 *
dmabuf_©ch
);

146 
sg_bË
 *
dma_buf_m­_©chm’t
(
dma_buf_©chm’t
 *,

147 
dma_d©a_dœeùiÚ
);

148 
dma_buf_unm­_©chm’t
(
dma_buf_©chm’t
 *, 
sg_bË
 *,

149 
dma_d©a_dœeùiÚ
);

	@src/common/linuxkpi/gplv2/include/linux/dma-fence-array.h

11 #iâdeà
__LINUX_GPLV2_DMA_FENCE_ARRAY_H


12 
	#__LINUX_GPLV2_DMA_FENCE_ARRAY_H


	)

14 
	~<lšux/dma-ãnû.h
>

21 
	sdma_ãnû_¬¿y_cb
 {

22 
dma_ãnû_cb
 
	mcb
;

23 
dma_ãnû_¬¿y
 *
	m¬¿y
;

34 
	sdma_ãnû_¬¿y
 {

35 
dma_ãnû
 
	mba£
;

37 
¥šlock_t
 
	mlock
;

38 
	mnum_ãnûs
;

39 
©omic_t
 
	mnum_³ndšg
;

40 
dma_ãnû
 **
	mãnûs
;

43 cÚ¡ 
dma_ãnû_Ýs
 
dma_ãnû_¬¿y_Ýs
;

52 
šlše
 
dma_ãnû_¬¿y
 *
	$to_dma_ãnû_¬¿y
(
dma_ãnû
 *
ãnû
)

54 ià(
ãnû
->
Ýs
 !ð&
dma_ãnû_¬¿y_Ýs
)

55  
NULL
;

57  
	`cÚš”_of
(
ãnû
, 
dma_ãnû_¬¿y
, 
ba£
);

58 
	}
}

60 
dma_ãnû_¬¿y
 *
dma_ãnû_¬¿y_ü—‹
(
num_ãnûs
, 
dma_ãnû
 **
ãnûs
,

61 
u64
 
cÚ‹xt
, 
£qno
,

62 
boÞ
 
sigÇl_Ú_ªy
);

70 
šlše
 
boÞ
 
	$dma_ãnû_is_¬¿y
(
dma_ãnû
 *
ãnû
)

72  
ãnû
->
Ýs
 =ð&
dma_ãnû_¬¿y_Ýs
;

73 
	}
}

	@src/common/linuxkpi/gplv2/include/linux/dma-fence.h

4 #iâdeà
__LINUX_GPLV2_DMA_FENCE_H


5 
	#__LINUX_GPLV2_DMA_FENCE_H


	)

7 
	~<lšux/”r.h
>

8 
	~<lšux/wa™.h
>

9 
	~<lšux/li¡.h
>

10 
	~<lšux/b™Ýs.h
>

11 
	~<lšux/k»f.h
>

12 
	~<lšux/kth»ad.h
>

13 
	~<lšux/´štk.h
>

14 
	~<lšux/rcupd©e.h
>

15 
	~<lšux/k”Ãl.h
>

17 
	~<lšux/com·t.h
>

18 
	~<lšux/ktime.h
>

20 
	~<sys/·¿m.h
>

21 
	~<sys/´oc.h
>

22 
	~<sys/cÚdv¬.h
>

24 
	gdma_ãnû
;

25 
	gdma_ãnû_cb
;

27 (*
	tdma_ãnû_func_t
)(
	tdma_ãnû
 *
	tãnû
, 
	tdma_ãnû_cb
 *
	tcb
);

29 
	sdma_ãnû_cb
 {

30 
li¡_h—d
 
node
;

31 
dma_ãnû_func_t
 
func
;

34 
	sdeçuÉ_wa™_cb
 {

35 
dma_ãnû_cb
 
ba£
;

36 
sk_¡ruù
 *
sk
;

39 
	sdma_ãnû
 {

40 
k»f
 
»fcouÁ
;

41 cÚ¡ 
dma_ãnû_Ýs
 *
Ýs
;

42 
rcu_h—d
 
rcu
;

43 
li¡_h—d
 
cb_li¡
;

44 
¥šlock_t
 *
lock
;

45 
u64
 
cÚ‹xt
;

46 
£qno
;

47 
æags
;

48 
ktime_t
 
time¡amp
;

49 
¡©us
;

50 
”rÜ
;

51 
li¡_h—d
 
chžd_li¡
;

52 
li¡_h—d
 
aùive_li¡
;

55 
	edma_ãnû_æag_b™s
 {

56 
DMA_FENCE_FLAG_SIGNALED_BIT
,

57 
DMA_FENCE_FLAG_TIMESTAMP_BIT
,

58 
DMA_FENCE_FLAG_ENABLE_SIGNAL_BIT
,

59 
DMA_FENCE_FLAG_USER_BITS
,

62 
	sdma_ãnû_Ýs
 {

63 cÚ¡ * (*
g‘_driv”_Çme
)(
dma_ãnû
 *
ãnû
);

64 cÚ¡ * (*
g‘_tim–še_Çme
)(
dma_ãnû
 *
ãnû
);

65 
	`boÞ
 (*
’abË_sigÇlšg
)(
dma_ãnû
 *
ãnû
);

66 
	`boÞ
 (*
sigÇËd
)(
dma_ãnû
 *
ãnû
);

67 sigÃd (*
wa™
)(
dma_ãnû
 *
ãnû
, 
boÞ
 
šŒ
, sigÃd 
timeout
);

68 (*
»Ëa£
)(
dma_ãnû
 *
ãnû
);

70 (*
fžl_driv”_d©a
)(
dma_ãnû
 *
ãnû
, *
d©a
, 
size
);

71 (*
ãnû_v®ue_¡r
)(
dma_ãnû
 *
ãnû
, *
¡r
, 
size
);

72 (*
tim–še_v®ue_¡r
)(
dma_ãnû
 *
ãnû
, *
¡r
, 
size
);

76 
u64
 
	`dma_ãnû_cÚ‹xt_®loc
(
num
);

77 
	`dma_ãnû_g‘_¡©us
(
dma_ãnû
 *
ãnû
);

80 
šlše
 

81 
	$dma_ãnû_ä“
(
dma_ãnû
 *
ãnû
)

83 
	`kä“_rcu
(
ãnû
, 
rcu
);

84 
	}
}

86 
šlše
 

87 
	$dma_ãnû_»Ëa£
(
k»f
 *kref)

89 
dma_ãnû
 *
ãnû
 = 
	`cÚš”_of
(
k»f
, dma_ãnû, 
»fcouÁ
);

91 
	`BUG_ON
(!
	`li¡_em±y
(&
ãnû
->
cb_li¡
));

92 ià(
ãnû
->
Ýs
->
»Ëa£
)

93 
ãnû
->
Ýs
->
	`»Ëa£
(fence);

95 
	`kä“
(
ãnû
);

96 
	}
}

98 
šlše
 

99 
	$dma_ãnû_put
(
dma_ãnû
 *
ãnû
)

101 ià(
ãnû
)

102 
	`k»f_put
(&
ãnû
->
»fcouÁ
, 
dma_ãnû_»Ëa£
);

103 
	}
}

105 
šlše
 
dma_ãnû
 *

106 
	$dma_ãnû_g‘
(
dma_ãnû
 *
ãnû
)

108 ià(
ãnû
)

109 
	`k»f_g‘
(&
ãnû
->
»fcouÁ
);

110  (
ãnû
);

111 
	}
}

113 
šlše
 
dma_ãnû
 *

114 
	$dma_ãnû_g‘_rcu
(
dma_ãnû
 *
ãnû
)

116 ià(
	`k»f_g‘_uÆess_z”o
(&
ãnû
->
»fcouÁ
))

117  (
ãnû
);

119  (
NULL
);

120 
	}
}

122 
šlše
 
dma_ãnû
 *

123 
	$dma_ãnû_g‘_rcu_§ã
(
dma_ãnû
 * 
__rcu
 *
ãnûp
)

126 
dma_ãnû
 *
ãnû
;

128 
ãnû
 = 
	`rcu_d”eã»nû
(*
ãnûp
);

129 ià(!
ãnû
 || !
	`dma_ãnû_g‘_rcu
(fence))

130  
NULL
;

132 ià(
ãnû
 =ð
	`rcu_acûss_poš‹r
(*
ãnûp
))

133  
	`rcu_poš‹r_hªdoff
(
ãnû
);

135 
	`dma_ãnû_put
(
ãnû
);

137 
	}
}

139 
šlše
 

140 
	$dma_ãnû_sigÇl_locked_sub
(
dma_ãnû
 *
ãnû
)

142 
dma_ãnû_cb
 *
cur
;

144 (
cur
 = 
	`li¡_fœ¡_’Œy_Ü_nuÎ
(&
ãnû
->
cb_li¡
,

145 
dma_ãnû_cb
, 
node
)è!ð
NULL
) {

146 
	`li¡_d–_š™
(&
cur
->
node
);

147 
	`¥š_uÆock
(
ãnû
->
lock
);

148 
cur
->
	`func
(
ãnû
, cur);

149 
	`¥š_lock
(
ãnû
->
lock
);

151 
	}
}

153 
šlše
 

154 
	$dma_ãnû_sigÇl_locked
(
dma_ãnû
 *
ãnû
)

156 
»t
 = 0;

158 ià(
	`WARN_ON
(!
ãnû
))

159  (-
EINVAL
);

161 ià(
	`‹¡_ªd_£t_b™
(
DMA_FENCE_FLAG_SIGNALED_BIT
, &
ãnû
->
æags
)) {

162 
»t
 = (-
EINVAL
);

164 
ãnû
->
time¡amp
 = 
	`ktime_g‘
();

165 
	`£t_b™
(
DMA_FENCE_FLAG_TIMESTAMP_BIT
, &
ãnû
->
æags
);

168 
	`dma_ãnû_sigÇl_locked_sub
(
ãnû
);

169  (
»t
);

170 
	}
}

172 
šlše
 

173 
	$dma_ãnû_sigÇl
(
dma_ãnû
 *
ãnû
)

175 ià(!
ãnû
)

176  (-
EINVAL
);

178 ià(
	`‹¡_ªd_£t_b™
(
DMA_FENCE_FLAG_SIGNALED_BIT
, &
ãnû
->
æags
))

179  (-
EINVAL
);

181 
ãnû
->
time¡amp
 = 
	`ktime_g‘
();

182 
	`£t_b™
(
DMA_FENCE_FLAG_TIMESTAMP_BIT
, &
ãnû
->
æags
);

184 ià(
	`‹¡_b™
(
DMA_FENCE_FLAG_ENABLE_SIGNAL_BIT
, &
ãnû
->
æags
)) {

185 
	`¥š_lock
(
ãnû
->
lock
);

186 
	`dma_ãnû_sigÇl_locked_sub
(
ãnû
);

187 
	`¥š_uÆock
(
ãnû
->
lock
);

190 
	}
}

192 
šlše
 

193 
	$dma_ãnû_’abË_sw_sigÇlšg
(
dma_ãnû
 *
ãnû
)

195 ià(!
	`‹¡_ªd_£t_b™
(
DMA_FENCE_FLAG_ENABLE_SIGNAL_BIT
, &
ãnû
->
æags
)

196 && !
	`‹¡_b™
(
DMA_FENCE_FLAG_SIGNALED_BIT
, &
ãnû
->
æags
)) {

197 
	`¥š_lock
(
ãnû
->
lock
);

198 ià(!
ãnû
->
Ýs
->
	`’abË_sigÇlšg
(fence))

199 
	`dma_ãnû_sigÇl_locked
(
ãnû
);

200 
	`¥š_uÆock
(
ãnû
->
lock
);

202 
	}
}

204 
šlše
 
boÞ


205 
	$dma_ãnû_is_sigÇËd
(
dma_ãnû
 *
ãnû
)

207 ià(
	`‹¡_b™
(
DMA_FENCE_FLAG_SIGNALED_BIT
, &
ãnû
->
æags
))

208  (
Œue
);

210 ià(
ãnû
->
Ýs
->
sigÇËd
 && f’û->Ýs->
	`sigÇËd
(fence)) {

211 
	`dma_ãnû_sigÇl
(
ãnû
);

212  (
Œue
);

215  (
çl£
);

216 
	}
}

218 
šlše
 
boÞ


219 
	$dma_ãnû_is_sigÇËd_locked
(
dma_ãnû
 *
ãnû
)

221 ià(
	`‹¡_b™
(
DMA_FENCE_FLAG_SIGNALED_BIT
, &
ãnû
->
æags
))

222  (
Œue
);

224 ià(
ãnû
->
Ýs
->
sigÇËd
 && f’û->Ýs->
	`sigÇËd
(fence)) {

225 
	`dma_ãnû_sigÇl_locked
(
ãnû
);

226  (
Œue
);

229  (
çl£
);

230 
	}
}

232 
šlše
 

233 
	$dma_ãnû_g‘_¡©us_locked
(
dma_ãnû
 *
ãnû
)

235 ià(
	`dma_ãnû_is_sigÇËd_locked
(
ãnû
))

236  (
ãnû
->
”rÜ
 ?: 1);

239 
	}
}

241 
šlše
 signed 

242 
	$dma_ãnû_wa™_timeout
(
dma_ãnû
 *
ãnû
, 
boÞ
 
šŒ
, sigÃd 
timeout
)

246 
timeout
 = ()timeout;

248 ià(
	`WARN_ON
(
timeout
 < 0))

249  (-
EINVAL
);

251 ià(
timeout
 == 0)

252  (
	`dma_ãnû_is_sigÇËd
(
ãnû
));

254  (
ãnû
->
Ýs
->
	`wa™
(ãnû, 
šŒ
, 
timeout
));

255 
	}
}

258 
šlše
 signed 

259 
	$dma_ãnû_wa™
(
dma_ãnû
 *
ãnû
, 
boÞ
 
šŒ
)

261 sigÃd 
»t
;

263 
»t
 = 
	`dma_ãnû_wa™_timeout
(
ãnû
, 
šŒ
, 
MAX_SCHEDULE_TIMEOUT
);

265  (
»t
 < 0 ?„et : 0);

266 
	}
}

269 
šlše
 

270 
	$dma_ãnû_add_ÿÎback
(
dma_ãnû
 *
ãnû
, 
dma_ãnû_cb
 *
cb
,

271 
dma_ãnû_func_t
 
func
)

273 
»t
 = 0;

274 
boÞ
 
was_£t
;

276 ià(
	`WARN_ON
(!
ãnû
 || !
func
))

277  -
EINVAL
;

279 ià(
	`‹¡_b™
(
DMA_FENCE_FLAG_SIGNALED_BIT
, &
ãnû
->
æags
)) {

280 
	`INIT_LIST_HEAD
(&
cb
->
node
);

281  -
ENOENT
;

284 
	`¥š_lock
(
ãnû
->
lock
);

286 
was_£t
 = 
	`‹¡_ªd_£t_b™
(
DMA_FENCE_FLAG_ENABLE_SIGNAL_BIT
, &
ãnû
->
æags
);

288 ià(
	`‹¡_b™
(
DMA_FENCE_FLAG_SIGNALED_BIT
, &
ãnû
->
æags
)) {

289 
	`INIT_LIST_HEAD
(&
cb
->
node
);

290 
»t
 = -
ENOENT
;

291 } ià(
was_£t
 == 0 &&

292 
ãnû
->
Ýs
->
	`’abË_sigÇlšg
(fence) == 0) {

293 
	`INIT_LIST_HEAD
(&
cb
->
node
);

294 
»t
 = -
ENOENT
;

295 
	`dma_ãnû_sigÇl_locked
(
ãnû
);

297 
cb
->
func
 = func;

298 
	`li¡_add_ž
(&
cb
->
node
, &
ãnû
->
cb_li¡
);

300 
	`¥š_uÆock
(
ãnû
->
lock
);

302  (
»t
);

303 
	}
}

305 
šlše
 
boÞ


306 
	$dma_ãnû_»move_ÿÎback
(
dma_ãnû
 *
ãnû
, 
dma_ãnû_cb
 *
cb
)

308 
boÞ
 
»t
;

310 
	`¥š_lock
(
ãnû
->
lock
);

312 
»t
 = !
	`li¡_em±y
(&
cb
->
node
);

313 ià(
»t
)

314 
	`li¡_d–_š™
(&
cb
->
node
);

316 
	`¥š_uÆock
(
ãnû
->
lock
);

318  
»t
;

319 
	}
}

321 
šlše
 

322 
	$dma_ãnû_deçuÉ_wa™_cb
(
dma_ãnû
 *
ãnû
, 
dma_ãnû_cb
 *
cb
)

324 
deçuÉ_wa™_cb
 *
wa™
 =

325 
	`cÚš”_of
(
cb
, 
deçuÉ_wa™_cb
, 
ba£
);

327 
	`wake_up_´oûss
(
wa™
->
sk
);

328 
	}
}

330 
šlše
 signed 

331 
	$dma_ãnû_deçuÉ_wa™
(
dma_ãnû
 *
ãnû
, 
boÞ
 
šŒ
, sigÃd 
timeout
)

333 
deçuÉ_wa™_cb
 
cb
;

334 sigÃd 
»t
;

335 
boÞ
 
was_£t
;

338 
timeout
 = ()timeout;

339 
»t
 = 
timeout
;

341 ià(
	`‹¡_b™
(
DMA_FENCE_FLAG_SIGNALED_BIT
, &
ãnû
->
æags
))

342  
timeout
;

344 
	`¥š_lock
(
ãnû
->
lock
);

346 ià(
šŒ
 && 
	`sigÇl_³ndšg
(
cu¼’t
)) {

347 
»t
 = -
ERESTARTSYS
;

348 
out
;

351 
was_£t
 = 
	`‹¡_ªd_£t_b™
(
DMA_FENCE_FLAG_ENABLE_SIGNAL_BIT
, &
ãnû
->
æags
);

353 ià(
	`‹¡_b™
(
DMA_FENCE_FLAG_SIGNALED_BIT
, &
ãnû
->
æags
))

354 
out
;

356 ià(!
was_£t
) {

357 ià(!
ãnû
->
Ýs
->
	`’abË_sigÇlšg
(fence)) {

358 
	`dma_ãnû_sigÇl_locked
(
ãnû
);

359 
out
;

363 
cb
.
ba£
.
func
 = 
dma_ãnû_deçuÉ_wa™_cb
;

364 
cb
.
sk
 = 
cu¼’t
;

365 
	`li¡_add
(&
cb
.
ba£
.
node
, &
ãnû
->
cb_li¡
);

367 !
	`‹¡_b™
(
DMA_FENCE_FLAG_SIGNALED_BIT
, &
ãnû
->
æags
è&& 
»t
 > 0) {

368 ià(
šŒ
)

369 
	`__£t_cu¼’t_¡©e
(
TASK_INTERRUPTIBLE
);

371 
	`__£t_cu¼’t_¡©e
(
TASK_UNINTERRUPTIBLE
);

372 
	`¥š_uÆock
(
ãnû
->
lock
);

374 
»t
 = 
	`scheduË_timeout
(ret);

376 
	`¥š_lock
(
ãnû
->
lock
);

377 ià(
»t
 > 0 && 
šŒ
 && 
	`sigÇl_³ndšg
(
cu¼’t
))

378 
»t
 = -
ERESTARTSYS
;

381 ià(!
	`li¡_em±y
(&
cb
.
ba£
.
node
))

382 
	`li¡_d–
(&
cb
.
ba£
.
node
);

383 
	`__£t_cu¼’t_¡©e
(
TASK_RUNNING
);

385 
out
:

386 
	`¥š_uÆock
(
ãnû
->
lock
);

387  
»t
;

388 
	}
}

390 
šlše
 
boÞ


391 
	$dma_ãnû_‹¡_sigÇËd_ªy
(
dma_ãnû
 **
ãnûs
, 
ušt32_t
 
couÁ
)

393 
i
;

395 
i
 = 0; i < 
couÁ
; ++i) {

396 
dma_ãnû
 *
ãnû
 = 
ãnûs
[
i
];

397 ià(
	`‹¡_b™
(
DMA_FENCE_FLAG_SIGNALED_BIT
, &
ãnû
->
æags
))

398  
Œue
;

400  
çl£
;

401 
	}
}

403 
šlše
 signed 

404 
	$dma_ãnû_wa™_ªy_timeout
(
dma_ãnû
 **
ãnûs
, 
ušt32_t
 
couÁ
,

405 
boÞ
 
šŒ
, sigÃd 
timeout
, 
ušt32_t
 *
idx
)

407 
deçuÉ_wa™_cb
 *
cb
;

408 sigÃd 
»t
;

409 
i
;

412 
timeout
 = ()timeout;

413 
»t
 = 
timeout
;

415 ià(
	`WARN_ON
(!
ãnûs
 || !
couÁ
 || 
timeout
 < 0))

416  -
EINVAL
;

418 ià(
timeout
 == 0) {

419 
i
 = 0; i < 
couÁ
; ++i)

420 ià(
	`dma_ãnû_is_sigÇËd
(
ãnûs
[
i
]))

426 
cb
 = 
	`kÿÎoc
(
couÁ
, (
deçuÉ_wa™_cb
), 
GFP_KERNEL
);

427 ià(
cb
 =ð
NULL
) {

428 
»t
 = -
ENOMEM
;

429 
”r_ä“_cb
;

432 
i
 = 0; i < 
couÁ
; ++i) {

433 
dma_ãnû
 *
ãnû
 = 
ãnûs
[
i
];

435 ià(
ãnû
->
Ýs
->
wa™
 !ð
dma_ãnû_deçuÉ_wa™
) {

436 
»t
 = -
EINVAL
;

437 
dma_ãnû_rm_cb
;

440 
cb
[
i
].
sk
 = 
cu¼’t
;

441 ià(
	`dma_ãnû_add_ÿÎback
(
ãnû
, &
cb
[
i
].
ba£
,

442 
dma_ãnû_deçuÉ_wa™_cb
)) {

443 
dma_ãnû_rm_cb
;

447 
»t
 > 0) {

448 ià(
šŒ
)

449 
	`£t_cu¼’t_¡©e
(
TASK_INTERRUPTIBLE
);

451 
	`£t_cu¼’t_¡©e
(
TASK_UNINTERRUPTIBLE
);

453 ià(
	`dma_ãnû_‹¡_sigÇËd_ªy
(
ãnûs
, 
couÁ
))

456 
»t
 = 
	`scheduË_timeout
(ret);

458 ià(
»t
 > 0 && 
šŒ
 && 
	`sigÇl_³ndšg
(
cu¼’t
))

459 
»t
 = -
ERESTARTSYS
;

462 
	`__£t_cu¼’t_¡©e
(
TASK_RUNNING
);

464 
dma_ãnû_rm_cb
:

465 
i
-- > 0)

466 
	`dma_ãnû_»move_ÿÎback
(
ãnûs
[
i
], &
cb
[i].
ba£
);

468 
”r_ä“_cb
:

469 
	`kä“
(
cb
);

471  (
»t
);

472 
	}
}

474 
šlše
 

475 
	$dma_ãnû_š™
(
dma_ãnû
 *
ãnû
, cÚ¡ 
dma_ãnû_Ýs
 *
Ýs
,

476 
¥šlock_t
 *
lock
, 
u64
 
cÚ‹xt
, 
£qno
)

479 
	`mem£t
(
ãnû
, 0, (*fence));

480 
ãnû
->
Ýs
 = ops;

481 
ãnû
->
lock
 =†ock;

482 
ãnû
->
cÚ‹xt
 = context;

483 
ãnû
->
£qno
 = seqno;

484 
	`INIT_LIST_HEAD
(&
ãnû
->
cb_li¡
);

485 
	`k»f_š™
(&
ãnû
->
»fcouÁ
);

486 
ãnû
->
”rÜ
 = 0;

487 
	}
}

489 
šlše
 
boÞ


490 
	$dma_ãnû_is_Ï‹r
(
dma_ãnû
 *
f1
, dma_ãnû *
f2
){

493 if(
	`WARN_ON
(
f1
->
cÚ‹xt
 !ð
f2
->cÚ‹xt)è 
çl£
;

495  (
f1
->
£qno
 > 
f2
->seqno);

496 
	}
}

498 
šlše
 

499 
	$dma_ãnû_£t_”rÜ
(
dma_ãnû
 *
f
, 
”rÜ
)

502 
f
->
”rÜ
 =ƒrror;

503 
	}
}

505 
	#DMA_FENCE_TRACE
(
f
, 
fmt
, 
¬gs
...) \

507 
dma_ãnû
 *
__ff
 = (
f
); \

508 ià(
	`cÚfig_’abËd
(
CONFIG_DMA_FENCE_TRACE
)) \

509 
	`´_šfo
("à%u#%u: " 
fmt
, \

510 
__ff
->
cÚ‹xt
, __ff->
£qno
, ##
¬gs
); \

511 } 0)

	)

513 
	#DMA_FENCE_WARN
(
f
, 
fmt
, 
¬gs
...) \

515 
dma_ãnû
 *
__ff
 = (
f
); \

516 
	`´_w¬n
("à%u#%u: " 
fmt
, 
__ff
->
cÚ‹xt
, __ff->
£qno
, \

517 ##
¬gs
); \

518 } 0)

	)

520 
	#DMA_FENCE_ERR
(
f
, 
fmt
, 
¬gs
...) \

522 
dma_ãnû
 *
__ff
 = (
f
); \

523 
	`´_”r
("à%u#%u: " 
fmt
, 
__ff
->
cÚ‹xt
, __ff->
£qno
, \

524 ##
¬gs
); \

525 } 0)

	)

	@src/common/linuxkpi/gplv2/include/linux/dma-mapping.h

1 #iâdeà
_LINUX_GPLV2_DMA_MAPPING_H_


2 
	#_LINUX_GPLV2_DMA_MAPPING_H_


	)

4 #šþude_Ãxˆ<
lšux
/
dma
-
m­pšg
.
h
>

6 
	~<lšux/compž”.h
>

8 
šlše
 

9 
	$dma_g‘_sgbË_©Œs
(
deviû
 *
dev
, 
sg_bË
 *
sgt
, *
ýu_addr
,

10 
dma_addr_t
 
dma_addr
, 
size_t
 
size
, 
dma_©Œs
 *
©Œs
)

13 
	`UNIMPLEMENTED
();

14  (-
ENOMEM
);

15 
	}
}

17 
	#dma_g‘_sgbË
(
d
, 
t
, 
v
, 
h
, 
s
è
	`dma_g‘_sgbË_©Œs
(d,, v, h, s, 
NULL
)

	)

19 
šlše
 *
	$dma_®loc_wc
(
deviû
 *
dev
, 
size_t
 
size
,

20 
dma_addr_t
 *
dma_addr
, 
gå_t
 
gå
)

23 
	`·nic
("implement me");

24 
	}
}

25 #iâdeà
dma_®loc_wr™ecombše


26 
	#dma_®loc_wr™ecombše
 
dma_®loc_wc


	)

29 
šlše
 
	$dma_ä“_wc
(
deviû
 *
dev
, 
size_t
 
size
,

30 *
ýu_addr
, 
dma_addr_t
 
dma_addr
)

32 
	`·nic
("implement me");

33 
	}
}

34 #iâdeà
dma_ä“_wr™ecombše


35 
	#dma_ä“_wr™ecombše
 
dma_ä“_wc


	)

38 
šlše
 
	$dma_mm­_wc
(
deviû
 *
dev
,

39 
vm_¬—_¡ruù
 *
vma
,

40 *
ýu_addr
, 
dma_addr_t
 
dma_addr
,

41 
size_t
 
size
)

43 
	`·nic
("implement me!!!");

44 
	}
}

	@src/common/linuxkpi/gplv2/include/linux/dmi.h

1 #iâdeà
__DMI_H__


2 
	#__DMI_H__


	)

4 
	~<lšux/li¡.h
>

5 
	~<lšux/kobjeù.h
>

6 
	~<lšux/mod_deviûbË.h
>

8 #ifdeà
CONFIG_DMI


11 
kobjeù
 *
dmi_kobj
;

12 
dmi_check_sy¡em
(cÚ¡ 
dmi_sy¡em_id
 *
li¡
);

13 cÚ¡ 
dmi_sy¡em_id
 *
dmi_fœ¡_m©ch
(cÚ¡ dmi_sy¡em_id *
li¡
);

14 cÚ¡ * 
dmi_g‘_sy¡em_šfo
(
f›ld
);

15 cÚ¡ 
dmi_deviû
 * 
dmi_fšd_deviû
(
ty³
, cÚ¡ *
Çme
,

16 cÚ¡ 
dmi_deviû
 *
äom
);

17 
dmi_sÿn_machše
();

18 
boÞ
 
dmi_m©ch
(
dmi_f›ld
 
f
, cÚ¡ *
¡r
);

22 
	gdmi_h—d”
;

24 
šlše
 
	$dmi_check_sy¡em
(cÚ¡ 
dmi_sy¡em_id
 *
li¡
è{  0; 
	}
}

25 
šlše
 cÚ¡ * 
	$dmi_g‘_sy¡em_šfo
(
f›ld
è{  
NULL
; 
	}
}

26 
šlše
 cÚ¡ 
dmi_deviû
 * 
	$dmi_fšd_deviû
(
ty³
, cÚ¡ *
Çme
,

27 cÚ¡ 
dmi_deviû
 *
äom
è{  
NULL
; 
	}
}

28 
šlše
 
	$dmi_sÿn_machše
(è{ ; 
	}
}

29 
šlše
 
	$dmi_memdev_w®k
(è{ 
	}
}

30 
šlše
 
	$dmi_£t_dump_¡ack_¬ch_desc
(è{ 
	}
}

31 
šlše
 
boÞ
 
	$dmi_g‘_d©e
(
f›ld
, *
y—½
, *
mÚthp
, *
dayp
)

33 ià(
y—½
)

34 *
y—½
 = 0;

35 ià(
mÚthp
)

36 *
mÚthp
 = 0;

37 ià(
dayp
)

38 *
dayp
 = 0;

39  
çl£
;

40 
	}
}

41 
šlše
 
	$dmi_Çme_š_v’dÜs
(cÚ¡ *
s
è{  0; 
	}
}

42 
šlše
 
	$dmi_Çme_š_£rŸl
(cÚ¡ *
s
è{  0; 
	}
}

43 
	#dmi_avažabË
 0

	)

44 
šlše
 
dmi_w®k
((*
decode
)(cÚ¡ 
dmi_h—d”
 *, *),

45 *
´iv©e_d©a
è{  -
ENXIO
; 
	}
}

46 
šlše
 
boÞ
 
	$dmi_m©ch
(
dmi_f›ld
 
f
, cÚ¡ *
¡r
)

47 {  
çl£
; 
	}
}

48 
šlše
 
	$dmi_memdev_Çme
(
u16
 
hªdË
, cÚ¡ **
bªk
,

49 cÚ¡ **
deviû
è{ 
	}
}

50 
šlše
 cÚ¡ 
dmi_sy¡em_id
 *

51 
	$dmi_fœ¡_m©ch
(cÚ¡ 
dmi_sy¡em_id
 *
li¡
è{  
NULL
; 
	}
}

	@src/common/linuxkpi/gplv2/include/linux/efi.h

1 #iâdeà
_LINUX_EFI_H_


2 
	#_LINUX_EFI_H_


	)

4 
	~<lšux/compž”.h
>

6 
	#EFI_BOOT
 0

	)

8 
šlše
 
	$efi_’abËd
(
’abËd
){

9 
	`UNIMPLEMENTED
();

11 
	}
}

	@src/common/linuxkpi/gplv2/include/linux/fb.h

1 #iâdeà
__LINUX_FB_H_


2 
	#__LINUX_FB_H_


	)

3 
	~<sys/fbio.h
>

4 
	~<u­i/lšux/fb.h
>

6 
	~<lšux/fs.h
>

7 
	~<lšux/š™.h
>

8 
	~<lšux/wÜkqueue.h
>

9 
	~<lšux/li¡.h
>

10 
	~<lšux/backlight.h
>

11 
	~<lšux/¦ab.h
>

12 
	~<lšux/mu‹x.h
>

13 
	~<asm/io.h
>

14 
	~<lšux/nÙif›r.h
>

16 
	#CONFIG_DRM_FBDEV_EMULATION


	)

18 
	glšux_fb_šfo
;

19 
	gvideomode
;

20 
	gvm_¬—_¡ruù
;

22 
	#FB_TYPE_PACKED_PIXELS
 0

	)

23 
	#FB_TYPE_PLANES
 1

	)

24 
	#FB_TYPE_INTERLEAVED_PLANES
 2

	)

25 
	#FB_TYPE_TEXT
 3

	)

26 
	#FB_TYPE_VGA_PLANES
 4

	)

27 
	#FB_TYPE_FOURCC
 5

	)

29 
	#FB_AUX_TEXT_MDA
 0

	)

30 
	#FB_AUX_TEXT_CGA
 1

	)

31 
	#FB_AUX_TEXT_S3_MMIO
 2

	)

32 
	#FB_AUX_TEXT_MGA_STEP16
 3

	)

33 
	#FB_AUX_TEXT_MGA_STEP8
 4

	)

34 
	#FB_AUX_TEXT_SVGA_GROUP
 8

	)

35 
	#FB_AUX_TEXT_SVGA_MASK
 7

	)

36 
	#FB_AUX_TEXT_SVGA_STEP2
 8

	)

37 
	#FB_AUX_TEXT_SVGA_STEP4
 9

	)

38 
	#FB_AUX_TEXT_SVGA_STEP8
 10

	)

39 
	#FB_AUX_TEXT_SVGA_STEP16
 11

	)

40 
	#FB_AUX_TEXT_SVGA_LAST
 15

	)

42 
	#FB_AUX_VGA_PLANES_VGA4
 0

	)

43 
	#FB_AUX_VGA_PLANES_CFB4
 1

	)

44 
	#FB_AUX_VGA_PLANES_CFB8
 2

	)

46 
	#FB_VISUAL_MONO01
 0

	)

47 
	#FB_VISUAL_MONO10
 1

	)

48 
	#FB_VISUAL_TRUECOLOR
 2

	)

49 
	#FB_VISUAL_PSEUDOCOLOR
 3

	)

50 
	#FB_VISUAL_DIRECTCOLOR
 4

	)

51 
	#FB_VISUAL_STATIC_PSEUDOCOLOR
 5

	)

52 
	#FB_VISUAL_FOURCC
 6

	)

55 
	#FB_ACCEL_NONE
 0

	)

57 
	#FB_ACTIVATE_NOW
 0

	)

58 
	#FB_ACTIVATE_NXTOPEN
 1

	)

59 
	#FB_ACTIVATE_TEST
 2

	)

60 
	#FB_ACTIVATE_MASK
 15

	)

62 
	#FB_ACTIVATE_VBL
 16

	)

63 
	#FB_CHANGE_CMAP_VBL
 32

	)

64 
	#FB_ACTIVATE_ALL
 64

	)

65 
	#FB_ACTIVATE_FORCE
 128

	)

66 
	#FB_ACTIVATE_INV_MODE
 256

	)

68 
	#FB_ACCELF_TEXT
 1

	)

71 
	#FB_MODE_IS_UNKNOWN
 0

	)

72 
	#FB_MODE_IS_DETAILED
 1

	)

73 
	#FB_MODE_IS_STANDARD
 2

	)

74 
	#FB_MODE_IS_VESA
 4

	)

75 
	#FB_MODE_IS_CALCULATED
 8

	)

76 
	#FB_MODE_IS_FIRST
 16

	)

77 
	#FB_MODE_IS_FROM_VAR
 32

	)

79 
	sfb_videomode
 {

80 cÚ¡ *
	mÇme
;

81 
u32
 
	m»äesh
;

82 
u32
 
	mx»s
;

83 
u32
 
	my»s
;

84 
u32
 
	mpixþock
;

85 
u32
 
	mËá_m¬gš
;

86 
u32
 
	mright_m¬gš
;

87 
u32
 
	muµ”_m¬gš
;

88 
u32
 
	mlow”_m¬gš
;

89 
u32
 
	mhsync_Ën
;

90 
u32
 
	mvsync_Ën
;

91 
u32
 
	msync
;

92 
u32
 
	mvmode
;

93 
u32
 
	mæag
;

96 cÚ¡ *
fb_mode_ÝtiÚ
;

97 cÚ¡ 
fb_videomode
 
ve§_modes
[];

98 cÚ¡ 
fb_videomode
 
ûa_modes
[64];

100 
	sfb_mod–i¡
 {

101 
li¡_h—d
 
	mli¡
;

102 
fb_videomode
 
	mmode
;

106 
	#FB_DPMS_ACTIVE_OFF
 1

	)

107 
	#FB_DPMS_SUSPEND
 2

	)

108 
	#FB_DPMS_STANDBY
 4

	)

110 
	#FB_DISP_DDI
 1

	)

111 
	#FB_DISP_ANA_700_300
 2

	)

112 
	#FB_DISP_ANA_714_286
 4

	)

113 
	#FB_DISP_ANA_1000_400
 8

	)

114 
	#FB_DISP_ANA_700_000
 16

	)

116 
	#FB_DISP_MONO
 32

	)

117 
	#FB_DISP_RGB
 64

	)

118 
	#FB_DISP_MULTI
 128

	)

119 
	#FB_DISP_UNKNOWN
 256

	)

121 
	#FB_SIGNAL_NONE
 0

	)

122 
	#FB_SIGNAL_BLANK_BLANK
 1

	)

123 
	#FB_SIGNAL_SEPARATE
 2

	)

124 
	#FB_SIGNAL_COMPOSITE
 4

	)

125 
	#FB_SIGNAL_SYNC_ON_GREEN
 8

	)

126 
	#FB_SIGNAL_SERRATION_ON
 16

	)

128 
	#FB_MISC_PRIM_COLOR
 1

	)

129 
	#FB_MISC_1ST_DETAIL
 2

	)

130 
	sfb_chroma
 {

131 
__u32
 
	m»dx
;

132 
__u32
 
	mg»’x
;

133 
__u32
 
	mbluex
;

134 
__u32
 
	mwh™ex
;

135 
__u32
 
	m»dy
;

136 
__u32
 
	mg»’y
;

137 
__u32
 
	mbluey
;

138 
__u32
 
	mwh™ey
;

141 
	sfb_mÚ¥ecs
 {

142 
fb_chroma
 
	mchroma
;

143 
fb_videomode
 *
	mmodedb
;

144 
__u8
 
	mmªuçùu»r
[4];

145 
__u8
 
	mmÚ™Ü
[14];

146 
__u8
 
	m£rŸl_no
[14];

147 
__u8
 
	mascii
[14];

148 
__u32
 
	mmodedb_Ën
;

149 
__u32
 
	mmod–
;

150 
__u32
 
	m£rŸl
;

151 
__u32
 
	my—r
;

152 
__u32
 
	mw“k
;

153 
__u32
 
	mhfmš
;

154 
__u32
 
	mhfmax
;

155 
__u32
 
	mdþkmš
;

156 
__u32
 
	mdþkmax
;

157 
__u16
 
	mšput
;

158 
__u16
 
	mdpms
;

159 
__u16
 
	msigÇl
;

160 
__u16
 
	mvfmš
;

161 
__u16
 
	mvfmax
;

162 
__u16
 
	mgamma
;

163 
__u16
 
	mgtf
 : 1;

164 
__u16
 
	mmisc
;

165 
__u8
 
	mv”siÚ
;

166 
__u8
 
	m»visiÚ
;

167 
__u8
 
	mmax_x
;

168 
__u8
 
	mmax_y
;

172 
	#FB_VMODE_NONINTERLACED
 0

	)

173 
	#FB_VMODE_INTERLACED
 1

	)

174 
	#FB_VMODE_DOUBLE
 2

	)

175 
	#FB_VMODE_ODD_FLD_FIRST
 4

	)

176 
	#FB_VMODE_MASK
 255

	)

178 
	#FB_VMODE_YWRAP
 256

	)

179 
	#FB_VMODE_SMOOTH_XPAN
 512

	)

180 
	#FB_VMODE_CONUPDATE
 512

	)

182 
	#PICOS2KHZ
(
a
è(1000000000UL/×))

	)

183 
	#KHZ2PICOS
(
a
è(1000000000UL/×))

	)

185 
	sfb_fix_sü“nšfo
 {

186 
	mid
[16];

187 
	msmem_¡¬t
;

189 
__u32
 
	msmem_Ën
;

190 
__u32
 
	mty³
;

191 
__u32
 
	mty³_aux
;

192 
__u32
 
	mvisu®
;

193 
__u16
 
	mx·n¡•
;

194 
__u16
 
	my·n¡•
;

195 
__u16
 
	myw¿p¡•
;

196 
__u32
 
	mlše_Ëngth
;

197 
	mmmio_¡¬t
;

199 
__u32
 
	mmmio_Ën
;

200 
__u32
 
	macûl
;

202 
__u16
 
	mÿ·bž™›s
;

203 
__u16
 
	m»£rved
[2];

206 
	sfb_b™f›ld
 {

207 
__u32
 
	moff£t
;

208 
__u32
 
	mËngth
;

209 
__u32
 
	mmsb_right
;

214 
	#FB_NONSTD_HAM
 1

	)

215 
	#FB_NONSTD_REV_PIX_IN_B
 2

	)

217 
	#FB_ACTIVATE_NOW
 0

	)

218 
	#FB_ACTIVATE_NXTOPEN
 1

	)

219 
	#FB_ACTIVATE_TEST
 2

	)

220 
	#FB_ACTIVATE_MASK
 15

	)

222 
	#FB_ACTIVATE_VBL
 16

	)

223 
	#FB_CHANGE_CMAP_VBL
 32

	)

224 
	#FB_ACTIVATE_ALL
 64

	)

225 
	#FB_ACTIVATE_FORCE
 128

	)

226 
	#FB_ACTIVATE_INV_MODE
 256

	)

229 
	sfb_v¬_sü“nšfo
 {

230 
__u32
 
	mx»s
;

231 
__u32
 
	my»s
;

232 
__u32
 
	mx»s_vœtu®
;

233 
__u32
 
	my»s_vœtu®
;

234 
__u32
 
	mxoff£t
;

235 
__u32
 
	myoff£t
;

237 
__u32
 
	mb™s_³r_pix–
;

238 
__u32
 
	mg¿ysÿË
;

240 
fb_b™f›ld
 
	m»d
;

241 
fb_b™f›ld
 
	mg»’
;

242 
fb_b™f›ld
 
	mblue
;

243 
fb_b™f›ld
 
	mŒª¥
;

245 
__u32
 
	mnÚ¡d
;

247 
__u32
 
	maùiv©e
;

249 
__u32
 
	mheight
;

250 
__u32
 
	mwidth
;

252 
__u32
 
	macûl_æags
;

255 
__u32
 
	mpixþock
;

256 
__u32
 
	mËá_m¬gš
;

257 
__u32
 
	mright_m¬gš
;

258 
__u32
 
	muµ”_m¬gš
;

259 
__u32
 
	mlow”_m¬gš
;

260 
__u32
 
	mhsync_Ën
;

261 
__u32
 
	mvsync_Ën
;

262 
__u32
 
	msync
;

263 
__u32
 
	mvmode
;

264 
__u32
 
	mrÙ©e
;

265 
__u32
 
	mcÞÜ¥aû
;

266 
__u32
 
	m»£rved
[4];

269 
	sfb_cm­
 {

270 
__u32
 
	m¡¬t
;

271 
__u32
 
	mËn
;

272 
__u16
 *
	m»d
;

273 
__u16
 *
	mg»’
;

274 
__u16
 *
	mblue
;

275 
__u16
 *
	mŒª¥
;

280 
	#VESA_NO_BLANKING
 0

	)

281 
	#VESA_VSYNC_SUSPEND
 1

	)

282 
	#VESA_HSYNC_SUSPEND
 2

	)

283 
	#VESA_POWERDOWN
 3

	)

288 
	mFB_BLANK_UNBLANK
 = 
VESA_NO_BLANKING
,

291 
	mFB_BLANK_NORMAL
 = 
VESA_NO_BLANKING
 + 1,

294 
	mFB_BLANK_VSYNC_SUSPEND
 = 
VESA_VSYNC_SUSPEND
 + 1,

297 
	mFB_BLANK_HSYNC_SUSPEND
 = 
VESA_HSYNC_SUSPEND
 + 1,

300 
	mFB_BLANK_POWERDOWN
 = 
VESA_POWERDOWN
 + 1

303 
	#FB_VBLANK_VBLANKING
 0x001

	)

304 
	#FB_VBLANK_HBLANKING
 0x002

	)

305 
	#FB_VBLANK_HAVE_VBLANK
 0x004

	)

306 
	#FB_VBLANK_HAVE_HBLANK
 0x008

	)

307 
	#FB_VBLANK_HAVE_COUNT
 0x010

	)

308 
	#FB_VBLANK_HAVE_VCOUNT
 0x020

	)

309 
	#FB_VBLANK_HAVE_HCOUNT
 0x040

	)

310 
	#FB_VBLANK_VSYNCING
 0x080

	)

311 
	#FB_VBLANK_HAVE_VSYNC
 0x100

	)

313 
	sfb_vbÏnk
 {

314 
__u32
 
	mæags
;

315 
__u32
 
	mcouÁ
;

316 
__u32
 
	mvcouÁ
;

317 
__u32
 
	mhcouÁ
;

318 
__u32
 
	m»£rved
[4];

326 
	#FB_EVENT_MODE_CHANGE
 0x01

	)

330 
	#FB_EVENT_SUSPEND
 0x02

	)

334 
	#FB_EVENT_RESUME
 0x03

	)

336 
	#FB_EVENT_MODE_DELETE
 0x04

	)

338 
	#FB_EVENT_FB_REGISTERED
 0x05

	)

340 
	#FB_EVENT_FB_UNREGISTERED
 0x06

	)

342 
	#FB_EVENT_GET_CONSOLE_MAP
 0x07

	)

344 
	#FB_EVENT_SET_CONSOLE_MAP
 0x08

	)

346 
	#FB_EVENT_BLANK
 0x09

	)

348 
	#FB_EVENT_NEW_MODELIST
 0x0A

	)

351 
	#FB_EVENT_MODE_CHANGE_ALL
 0x0B

	)

353 
	#FB_EVENT_CONBLANK
 0x0C

	)

355 
	#FB_EVENT_GET_REQ
 0x0D

	)

357 
	#FB_EVENT_FB_UNBIND
 0x0E

	)

359 
	#FB_EVENT_REMAP_ALL_CONSOLE
 0x0F

	)

361 
	#FB_EARLY_EVENT_BLANK
 0x10

	)

363 
	#FB_R_EARLY_EVENT_BLANK
 0x11

	)

365 
	sfb_ev’t
 {

366 
lšux_fb_šfo
 *
	mšfo
;

367 *
	md©a
;

370 
	sfb_bl™_ÿps
 {

371 
u32
 
	mx
;

372 
u32
 
	my
;

373 
u32
 
	mËn
;

374 
u32
 
	mæags
;

377 #ifdeà
CONFIG_FB_NOTIFY


378 
fb_»gi¡”_þ›Á
(
nÙif›r_block
 *
nb
);

379 
fb_uÄegi¡”_þ›Á
(
nÙif›r_block
 *
nb
);

380 
fb_nÙif›r_ÿÎ_chaš
(
v®
, *
v
);

382 
šlše
 
	$fb_»gi¡”_þ›Á
(
nÙif›r_block
 *
nb
)

385 
	}
};

387 
šlše
 
	$fb_uÄegi¡”_þ›Á
(
nÙif›r_block
 *
nb
)

390 
	}
};

392 
šlše
 
	$fb_nÙif›r_ÿÎ_chaš
(
v®
, *
v
)

395 
	}
};

407 
	#FB_PIXMAP_DEFAULT
 1

	)

408 
	#FB_PIXMAP_SYSTEM
 2

	)

409 
	#FB_PIXMAP_IO
 4

	)

410 
	#FB_PIXMAP_SYNC
 256

	)

412 
	sfb_pixm­
 {

413 
u8
 *
	maddr
;

414 
u32
 
	msize
;

415 
u32
 
	moff£t
;

416 
u32
 
	mbuf_®ign
;

417 
u32
 
	msÿn_®ign
;

418 
u32
 
	macûss_®ign
;

419 
u32
 
	mæags
;

420 
u32
 
	mbl™_x
;

421 
u32
 
	mbl™_y
;

425 (*
	mwr™eio
)(
lšux_fb_šfo
 *
	mšfo
, 
__iomem
 *
	md¡
, *
	m¤c
, 
	msize
);

426 (*
	m»adio
è(
lšux_fb_šfo
 *
	mšfo
, *
	md¡
, 
__iomem
 *
	m¤c
, 
	msize
);

430 
	#ROP_COPY
 0

	)

431 
	#ROP_XOR
 1

	)

433 
	sfb_cÝy¬—
 {

434 
__u32
 
	mdx
;

435 
__u32
 
	mdy
;

436 
__u32
 
	mwidth
;

437 
__u32
 
	mheight
;

438 
__u32
 
	msx
;

439 
__u32
 
	msy
;

442 
	sfb_fžÌeù
 {

443 
__u32
 
	mdx
;

444 
__u32
 
	mdy
;

445 
__u32
 
	mwidth
;

446 
__u32
 
	mheight
;

447 
__u32
 
	mcÞÜ
;

448 
__u32
 
	mrÝ
;

451 
	sfb_image
 {

452 
__u32
 
	mdx
;

453 
__u32
 
	mdy
;

454 
__u32
 
	mwidth
;

455 
__u32
 
	mheight
;

456 
__u32
 
	mfg_cÞÜ
;

457 
__u32
 
	mbg_cÞÜ
;

458 
__u8
 
	md•th
;

459 cÚ¡ *
	md©a
;

460 
fb_cm­
 
	mcm­
;

463 
	slfbcu½os
 {

464 
__u16
 
	mx
, 
	my
;

467 
	sfb_cursÜ
 {

468 
__u16
 
	m£t
;

469 
__u16
 
	m’abË
;

470 
__u16
 
	mrÝ
;

471 cÚ¡ *
	mmask
;

472 
lfbcu½os
 
	mhÙ
;

473 
fb_image
 
	mimage
;

476 
	sfb_Ýs
 {

478 
moduË
 *
	mowÃr
;

479 (*
	mfb_Ý’
)(
lšux_fb_šfo
 *
	mšfo
, 
	mu£r
);

480 (*
	mfb_»Ëa£
)(
lšux_fb_šfo
 *
	mšfo
, 
	mu£r
);

485 
ssize_t
 (*
fb_»ad
)(
lšux_fb_šfo
 *
	mšfo
, 
__u£r
 *
	mbuf
,

486 
size_t
 
	mcouÁ
, 
loff_t
 *
	mµos
);

487 
ssize_t
 (*
fb_wr™e
)(
lšux_fb_šfo
 *
	mšfo
, cÚ¡ 
__u£r
 *
	mbuf
,

488 
size_t
 
	mcouÁ
, 
loff_t
 *
	mµos
);

492 (*
	mfb_check_v¬
)(
fb_v¬_sü“nšfo
 *
	mv¬
, 
lšux_fb_šfo
 *
	mšfo
);

495 (*
	mfb_£t_·r
)(
lšux_fb_šfo
 *
	mšfo
);

498 (*
	mfb_£tcÞ»g
)(
	m»gno
, 
	m»d
, 
	mg»’
,

499 
	mblue
, 
	mŒª¥
, 
lšux_fb_šfo
 *
	mšfo
);

502 (*
	mfb_£tcm­
)(
fb_cm­
 *
	mcm­
, 
lšux_fb_šfo
 *
	mšfo
);

505 (*
	mfb_bÏnk
)(
	mbÏnk
, 
lšux_fb_šfo
 *
	mšfo
);

508 (*
	mfb_·n_di¥Ïy
)(
fb_v¬_sü“nšfo
 *
	mv¬
, 
lšux_fb_šfo
 *
	mšfo
);

511 (*
	mfb_fžÌeù
è(
lšux_fb_šfo
 *
	mšfo
, cÚ¡ 
fb_fžÌeù
 *
	m»ù
);

513 (*
	mfb_cÝy¬—
è(
lšux_fb_šfo
 *
	mšfo
, cÚ¡ 
fb_cÝy¬—
 *
	m»giÚ
);

515 (*
	mfb_imagebl™
è(
lšux_fb_šfo
 *
	mšfo
, cÚ¡ 
fb_image
 *
	mimage
);

518 (*
	mfb_cursÜ
è(
lšux_fb_šfo
 *
	mšfo
, 
fb_cursÜ
 *
	mcursÜ
);

521 (*
	mfb_rÙ©e
)(
lšux_fb_šfo
 *
	mšfo
, 
	mªgË
);

524 (*
	mfb_sync
)(
lšux_fb_šfo
 *
	mšfo
);

527 (*
	mfb_ioùl
)(
lšux_fb_šfo
 *
	mšfo
, 
	mcmd
,

528 
	m¬g
);

531 (*
	mfb_com·t_ioùl
)(
lšux_fb_šfo
 *
	mšfo
, 
	mcmd
,

532 
	m¬g
);

535 (*
	mfb_mm­
)(
lšux_fb_šfo
 *
	mšfo
, 
vm_¬—_¡ruù
 *
	mvma
);

538 (*
	mfb_g‘_ÿps
)(
lšux_fb_šfo
 *
	mšfo
, 
fb_bl™_ÿps
 *
	mÿps
,

539 
fb_v¬_sü“nšfo
 *
	mv¬
);

542 (*
	mfb_de¡roy
)(
lšux_fb_šfo
 *
	mšfo
);

545 (*
	mfb_debug_’‹r
)(
lšux_fb_šfo
 *
	mšfo
);

546 (*
	mfb_debug_Ëave
)(
lšux_fb_šfo
 *
	mšfo
);

552 
	#FBINFO_MODULE
 0x0001

	)

553 
	#FBINFO_HWACCEL_DISABLED
 0x0002

	)

560 
	#FBINFO_VIRTFB
 0x0004

	)

561 
	#FBINFO_PARTIAL_PAN_OK
 0x0040

	)

562 
	#FBINFO_READS_FAST
 0x0080

	)

570 
	#FBINFO_HWACCEL_NONE
 0x0000

	)

571 
	#FBINFO_HWACCEL_COPYAREA
 0x0100

	)

572 
	#FBINFO_HWACCEL_FILLRECT
 0x0200

	)

573 
	#FBINFO_HWACCEL_IMAGEBLIT
 0x0400

	)

574 
	#FBINFO_HWACCEL_ROTATE
 0x0800

	)

575 
	#FBINFO_HWACCEL_XPAN
 0x1000

	)

576 
	#FBINFO_HWACCEL_YPAN
 0x2000

	)

577 
	#FBINFO_HWACCEL_YWRAP
 0x4000

	)

579 
	#FBINFO_MISC_USEREVENT
 0x10000

	)

581 
	#FBINFO_MISC_TILEBLITTING
 0x20000

	)

593 
	#FBINFO_MISC_ALWAYS_SETPAR
 0x40000

	)

596 
	#FBINFO_MISC_FIRMWARE
 0x80000

	)

600 
	#FBINFO_FOREIGN_ENDIAN
 0x100000

	)

606 
	#FBINFO_BE_MATH
 0x100000

	)

610 
	#FBINFO_CAN_FORCE_OUTPUT
 0x200000

	)

612 
	slšux_fb_šfo
 {

613 
©omic_t
 
	mcouÁ
;

614 
	mnode
;

615 
	mæags
;

620 
	mfbcÚ_rÙ©e_hšt
;

621 
mu‹x
 
	mlock
;

622 
mu‹x
 
	mmm_lock
;

623 
fb_v¬_sü“nšfo
 
	mv¬
;

624 
fb_fix_sü“nšfo
 
	mfix
;

625 
fb_mÚ¥ecs
 
	mmÚ¥ecs
;

626 
wÜk_¡ruù
 
	mqueue
;

627 
fb_pixm­
 
	mpixm­
;

628 
fb_pixm­
 
	m¥r™e
;

629 
fb_cm­
 
	mcm­
;

630 
li¡_h—d
 
	mmod–i¡
;

631 
fb_videomode
 *
	mmode
;

633 #ifdeà
CONFIG_FB_BACKLIGHT


637 
backlight_deviû
 *
	mbl_dev
;

640 
mu‹x
 
	mbl_curve_mu‹x
;

641 
u8
 
	mbl_curve
[
FB_BACKLIGHT_LEVELS
];

643 #ifdeà
CONFIG_FB_DEFERRED_IO


644 
d–ayed_wÜk
 
	mdeã¼ed_wÜk
;

645 
fb_deã¼ed_io
 *
	mfbdefio
;

648 
fb_Ýs
 *
	mfbÝs
;

649 
deviû
 *
	mdeviû
;

650 
deviû
 *
	mdev
;

651 
	mþass_æag
;

652 #ifdeà
CONFIG_FB_TILEBLITTING


653 
fb_tže_Ýs
 *
	mtžeÝs
;

655 
__iomem
 *
	msü“n_ba£
;

656 
	msü“n_size
;

657 *
	mp£udo_·Ë‰e
;

658 
	#FBINFO_STATE_RUNNING
 0

	)

659 
	#FBINFO_STATE_SUSPENDED
 1

	)

660 
u32
 
	m¡©e
;

661 *
	mfbcÚ_·r
;

663 *
	m·r
;

667 
	s­”tu»s_¡ruù
 {

668 
	mcouÁ
;

669 
	s­”tu»
 {

670 
»sourû_size_t
 
	mba£
;

671 
»sourû_size_t
 
	msize
;

672 } 
	m¿nges
[0];

673 } *
	m­”tu»s
;

674 
boÞ
 
	msk_vt_sw™ch
;

676 
fb_šfo
 
	mfbio
;

677 
cdev
 *
	mfb_cdev
;

678 
deviû_t
 
	mfb_bsddev
;

682 
šlše
 
­”tu»s_¡ruù
 *
	$®loc_­”tu»s
(
max_num
) {

683 
­”tu»s_¡ruù
 *
a
 = 
	`kz®loc
((apertures_struct)

684 + 
max_num
 * (
­”tu»
), 
GFP_KERNEL
);

685 ià(!
a
)

686  
NULL
;

687 
a
->
couÁ
 = 
max_num
;

688  
a
;

689 
	}
}

691 #ifdeà
MODULE


692 
	#FBINFO_DEFAULT
 
FBINFO_MODULE


	)

694 
	#FBINFO_DEFAULT
 0

	)

698 
	#FBINFO_FLAG_MODULE
 
FBINFO_MODULE


	)

699 
	#FBINFO_FLAG_DEFAULT
 
FBINFO_DEFAULT


	)

701 
fb_£t_v¬
(
lšux_fb_šfo
 *
šfo
, 
fb_v¬_sü“nšfo
 *
v¬
);

702 
fb_·n_di¥Ïy
(
lšux_fb_šfo
 *
šfo
, 
fb_v¬_sü“nšfo
 *
v¬
);

703 
fb_bÏnk
(
lšux_fb_šfo
 *
šfo
, 
bÏnk
);

704 
cfb_fžÌeù
(
lšux_fb_šfo
 *
šfo
, cÚ¡ 
fb_fžÌeù
 *
»ù
);

705 
cfb_cÝy¬—
(
lšux_fb_šfo
 *
šfo
, cÚ¡ 
fb_cÝy¬—
 *
¬—
);

706 
cfb_imagebl™
(
lšux_fb_šfo
 *
šfo
, cÚ¡ 
fb_image
 *
image
);

710 
sys_fžÌeù
(
lšux_fb_šfo
 *
šfo
, cÚ¡ 
fb_fžÌeù
 *
»ù
);

711 
sys_cÝy¬—
(
lšux_fb_šfo
 *
šfo
, cÚ¡ 
fb_cÝy¬—
 *
¬—
);

712 
sys_imagebl™
(
lšux_fb_šfo
 *
šfo
, cÚ¡ 
fb_image
 *
image
);

713 
ssize_t
 
fb_sys_»ad
(
lšux_fb_šfo
 *
šfo
, 
__u£r
 *
buf
,

714 
size_t
 
couÁ
, 
loff_t
 *
µos
);

715 
ssize_t
 
fb_sys_wr™e
(
lšux_fb_šfo
 *
šfo
, cÚ¡ 
__u£r
 *
buf
,

716 
size_t
 
couÁ
, 
loff_t
 *
µos
);

719 
lšux_»gi¡”_äamebufãr
(
lšux_fb_šfo
 *
fb_šfo
);

720 
lšux_uÄegi¡”_äamebufãr
(
lšux_fb_šfo
 *
fb_šfo
);

721 
»move_cÚæiùšg_äamebufãrs
(
­”tu»s_¡ruù
 *
a
,

722 cÚ¡ *
Çme
, 
boÞ
 
´im¬y
);

723 
lšux_fb_šfo
 *
äamebufãr_®loc
(
size_t
 
size
, 
deviû
 *
dev
);

724 
äamebufãr_»Ëa£
(
lšux_fb_šfo
 *
šfo
);

727 
uÆšk_äamebufãr
(
lšux_fb_šfo
 *
fb_šfo
);

728 
fb_´•¬e_logo
(
lšux_fb_šfo
 *
fb_šfo
, 
rÙ©e
);

729 
fb_show_logo
(
lšux_fb_šfo
 *
fb_šfo
, 
rÙ©e
);

730 * 
fb_g‘_bufãr_off£t
(
lšux_fb_šfo
 *
šfo
, 
fb_pixm­
 *
buf
, 
u32
 
size
);

731 
fb_·d_uÇligÃd_bufãr
(
u8
 *
d¡
, 
u32
 
d_p™ch
, u8 *
¤c
, u32 
idx
,

732 
u32
 
height
, u32 
shiá_high
, u32 
shiá_low
, u32 
mod
);

733 
fb_·d_®igÃd_bufãr
(
u8
 *
d¡
, 
u32
 
d_p™ch
, u8 *
¤c
, u32 
s_p™ch
, u32 
height
);

734 
fb_£t_su¥’d
(
lšux_fb_šfo
 *
šfo
, 
¡©e
);

735 
fb_g‘_cÞÜ_d•th
(
fb_v¬_sü“nšfo
 *
v¬
,

736 
fb_fix_sü“nšfo
 *
fix
);

737 
fb_Ãw_mod–i¡
(
lšux_fb_šfo
 *
šfo
);

740 
fb_®loc_cm­
(
fb_cm­
 *
cm­
, 
Ën
, 
Œª¥
);

741 
fb_d—Îoc_cm­
(
fb_cm­
 *
cm­
);

744 
drm_Ëgacy_fb_š™
(
lšux_fb_šfo
 *
fb_šfo
);

745 
fb_g‘_ÝtiÚs
(cÚ¡ *
Çme
, **
ÝtiÚ
);

753 cÚ¡ 
fb_cm­
 * 
š‹d_fb_deçuÉ_cm­
(
Ën
);

754 
š‹d_cfb_fžÌeù
(
lšux_fb_šfo
 *
p
, cÚ¡ 
fb_fžÌeù
 *
»ù
);

755 
š‹d_cfb_cÝy¬—
(
lšux_fb_šfo
 *
p
, cÚ¡ 
fb_cÝy¬—
 *
¬—
);

756 
š‹d_cfb_imagebl™
(
lšux_fb_šfo
 *
p
, cÚ¡ 
fb_image
 *
image
);

	@src/common/linuxkpi/gplv2/include/linux/firmware.h

1 #iâdeà
_LINUX_FIRMWARE_H


2 
	#_LINUX_FIRMWARE_H


	)

4 
	~<lšux/ty³s.h
>

5 
	~<lšux/compž”.h
>

6 
	~<lšux/gå.h
>

8 
	#FW_ACTION_NOHOTPLUG
 0

	)

9 
	#FW_ACTION_HOTPLUG
 1

	)

11 
	slšux_fœmw¬e
 {

12 
size_t
 
	msize
;

13 cÚ¡ 
u8
 *
	md©a
;

14 
·ge
 **
	m·ges
;

17 *
	m´iv
;

20 
	gmoduË
;

21 
	gdeviû
;

23 
	sbužtš_fw
 {

24 *
	mÇme
;

25 *
	md©a
;

26 
	msize
;

31 
	#__fw_cÚÿt1
(
x
, 
y
èx##
	)
y

32 
	#__fw_cÚÿt
(
x
, 
y
è
	`__fw_cÚÿt1
(x, y)

	)

34 
	#DECLARE_BUILTIN_FIRMWARE
(
Çme
, 
blob
) \

35 
	`DECLARE_BUILTIN_FIRMWARE_SIZE
(
Çme
, &(
blob
), (blob))

	)

37 
	#DECLARE_BUILTIN_FIRMWARE_SIZE
(
Çme
, 
blob
, 
size
) \

38 cÚ¡ 
bužtš_fw
 
	`__fw_cÚÿt
(
__bužtš_fw
,
__COUNTER__
) \

39 
__u£d
 
	`__£ùiÚ
(.
bužtš_fw
èð{ 
Çme
, 
blob
, 
size
 }

	)

41 
»que¡_fœmw¬e
(cÚ¡ 
lšux_fœmw¬e
 **
fw
, cÚ¡ *
Çme
,

42 
deviû
 *device);

43 
»que¡_fœmw¬e_nowa™
(

44 
moduË
 *moduË, 
boÞ
 
uev’t
,

45 cÚ¡ *
Çme
, 
deviû
 *deviû, 
gå_t
 
gå
, *
cÚ‹xt
,

46 (*
cÚt
)(cÚ¡ 
lšux_fœmw¬e
 *
fw
, *
cÚ‹xt
));

47 
	`»que¡_fœmw¬e_dœeù
(cÚ¡ 
lšux_fœmw¬e
 **
fw
, cÚ¡ *
Çme
,

48 
deviû
 *device);

50 
	`»Ëa£_fœmw¬e
(cÚ¡ 
lšux_fœmw¬e
 *
fw
);

51 
	#fœmw¬e
 
lšux_fœmw¬e


	)

	@src/common/linuxkpi/gplv2/include/linux/frame.h

2 #iâdeà
_LINUX_FRAME_H


3 
	#_LINUX_FRAME_H


	)

5 #ifdeà
CONFIG_STACK_VALIDATION


14 
	#STACK_FRAME_NON_STANDARD
(
func
) \

15 
__u£d
 
	`__£ùiÚ
(.
disÿrd
.
func_¡ack_äame_nÚ_¡ªd¬d
) \

16 *
__func_¡ack_äame_nÚ_¡ªd¬d_
##
func
 = 
	)
func

20 
	#STACK_FRAME_NON_STANDARD
(
func
)

	)

	@src/common/linuxkpi/gplv2/include/linux/fs.h

1 #iâdeà
_LINUX_FS_NEXT_H_


2 
	#_LINUX_FS_NEXT_H_


	)

4 
	~<lšux/ÿ·bž™y.h
>

5 
	~<lšux/mu‹x.h
>

6 
	~<lšux/shršk”.h
>

7 
	~<lšux/Îi¡.h
>

8 
	~<lšux/uuid.h
>

10 #šþude_Ãxˆ<
lšux
/
fs
.
h
>

13 
	#FMODE_UNSIGNED_OFFSET
 0x2000

	)

15 
šlše
 

16 
	$i_size_wr™e
(*
šode
, 
ušt64_t
 
size
)

18 
	`´štf
("% unim¶em’‹d\n", 
__FUNCTION__
);

19 
	}
}

21 
loff_t
 
deçuÉ_Î£ek
(
fže
 *fže,†off_ˆ
off£t
, 
wh’û
);

22 
loff_t
 
g’”ic_fže_Î£ek
(
fže
 *fže,†off_ˆ
off£t
, 
wh’û
);

24 
	ssim¶e_©Œ
 {

25 
sbuf
 *
	msb
;

26 (*
	mg‘
)(*, 
	mu64
 *);

27 (*
	m£t
)(*, 
	mu64
);

28 *
	md©a
;

29 cÚ¡ *
	mfmt
;

30 
mu‹x
 
	mmu‹x
;

33 
ssize_t
 
sim¶e_»ad_äom_bufãr
(
__u£r
 *
to
, 
size_t
 
couÁ
,

34 
loff_t
 *
µos
, cÚ¡ *
äom
, 
size_t
 
avažabË
);

35 
ssize_t
 
sim¶e_wr™e_to_bufãr
(*
to
, 
size_t
 
avažabË
, 
loff_t
 *
µos
,

36 cÚ¡ 
__u£r
 *
äom
, 
size_t
 
couÁ
);

38 
šlše
 
loff_t
 
	$fixed_size_Î£ek
(
fže
 *fže, 
loff_t
 
off£t
,

39 
wh’û
, 
loff_t
 
size
)

41 
	`·nic
("% unim¶em’‹d", 
__FUNCTION__
);

42 
	}
}

45 
šlše
 
	$__´štf
(1, 2)

46 
	$__sim¶e_©Œ_check_fÜm©
(cÚ¡ *
fmt
, ...)

49 
	}
}

51 
sim¶e_©Œ_Ý’
(
šode
 *šode, 
fže
 *file,

52 (*
g‘
)(*, 
u64
 *), (*
£t
)(*, u64),

53 cÚ¡ *
fmt
);

54 
	`sim¶e_©Œ_»Ëa£
(
šode
 *šode, 
fže
 *file);

55 
ssize_t
 
	`sim¶e_©Œ_»ad
(
fže
 *fže, 
__u£r
 *
buf
,

56 
size_t
 
Ën
, 
loff_t
 *
µos
);

57 
ssize_t
 
	`sim¶e_©Œ_wr™e
(
fže
 *fže, cÚ¡ 
__u£r
 *
buf
,

58 
size_t
 
Ën
, 
loff_t
 *
µos
);

61 
	#DEFINE_SIMPLE_ATTRIBUTE
(
__fÝs
, 
__g‘
, 
__£t
, 
__fmt
) \

62 
__fÝs
 ## 
	`_Ý’
(
šode
 *šode, 
fže
 *file) \

64 
	`__sim¶e_©Œ_check_fÜm©
(
__fmt
, 0ull); \

65  
	`sim¶e_©Œ_Ý’
(
šode
, 
fže
, 
__g‘
, 
__£t
, 
__fmt
); \

66 
	}
} \

67 cÚ¡ 
fže_Ý”©iÚs
 
__fÝs
 = { \

68 .
owÃr
 = 
THIS_MODULE
, \

69 .
Ý’
 = 
__fÝs
 ## 
_Ý’
, \

70 .
»Ëa£
 = 
sim¶e_©Œ_»Ëa£
, \

71 .
»ad
 = 
sim¶e_©Œ_»ad
, \

72 .
wr™e
 = 
sim¶e_©Œ_wr™e
, \

73 .
Î£ek
 = 
g’”ic_fže_Î£ek
, \

74 }

	)

	@src/common/linuxkpi/gplv2/include/linux/fwnode.h

1 #iâdeà
_LINUX_FWNODE_H_


2 
	#_LINUX_FWNODE_H_


	)

4 
	efwnode_ty³
 {

5 
	mFWNODE_INVALID
 = 0,

6 
	mFWNODE_OF
,

7 
	mFWNODE_ACPI
,

8 
	mFWNODE_ACPI_DATA
,

9 
	mFWNODE_PDATA
,

10 
	mFWNODE_IRQCHIP
,

13 
	sfwnode_hªdË
 {

14 
fwnode_ty³
 
	mty³
;

15 
fwnode_hªdË
 *
	m£cÚd¬y
;

	@src/common/linuxkpi/gplv2/include/linux/gcd.h

1 #iâdeà
_LINUX_GCD_H_


2 
	#_LINUX_GCD_H_


	)

4 
šlše
 

5 
	$gcd
(
a
, 
b
)

8 ià(
b
 == 0)

9  (
a
);

10  (
	`gcd
(
b
, 
a
 % b));

11 
	}
}

	@src/common/linuxkpi/gplv2/include/linux/gpio/consumer.h

1 #iâdeà
__LINUX_GPIO_CONSUMER_H


2 
	#__LINUX_GPIO_CONSUMER_H


	)

4 
	~<lšux/bug.h
>

5 
	~<lšux/”r.h
>

6 
	~<lšux/k”Ãl.h
>

8 
	gdeviû
;

17 
	ggpio_desc
;

23 
	sgpio_descs
 {

24 
	mndescs
;

25 
gpio_desc
 *
	mdesc
[];

28 
	#GPIOD_FLAGS_BIT_DIR_SET
 
	`BIT
(0)

	)

29 
	#GPIOD_FLAGS_BIT_DIR_OUT
 
	`BIT
(1)

	)

30 
	#GPIOD_FLAGS_BIT_DIR_VAL
 
	`BIT
(2)

	)

36 
	egpiod_æags
 {

37 
	mGPIOD_ASIS
 = 0,

38 
	mGPIOD_IN
 = 
GPIOD_FLAGS_BIT_DIR_SET
,

39 
	mGPIOD_OUT_LOW
 = 
GPIOD_FLAGS_BIT_DIR_SET
 | 
GPIOD_FLAGS_BIT_DIR_OUT
,

40 
	mGPIOD_OUT_HIGH
 = 
GPIOD_FLAGS_BIT_DIR_SET
 | 
GPIOD_FLAGS_BIT_DIR_OUT
 |

41 
GPIOD_FLAGS_BIT_DIR_VAL
,

45 
gpiod_couÁ
(
deviû
 *
dev
, cÚ¡ *
cÚ_id
);

48 
šlše
 
gpio_desc
 *

49 
	$gpiod_g‘
(
deviû
 *
dev
, cÚ¡ *
cÚ_id
, 
gpiod_æags
 
æags
)

51 
	`UNIMPLEMENTED
();

52  (
	`ERR_PTR
(-
ENOENT
));

53 
	}
}

54 
šlše
 

55 
	$gpiod_put
(
gpio_desc
 *
desc
)

57 
	`UNIMPLEMENTED
();

58 
	}
}

61 
gpiod_g‘_v®ue_ÿn¦“p
(cÚ¡ 
gpio_desc
 *
desc
);

63 
šlše
 

64 
	$gpiod_£t_v®ue_ÿn¦“p
(
gpio_desc
 *
desc
, 
v®ue
)

66 
	`UNIMPLEMENTED
();

67 
	}
}

69 
gpiod_£t_¬¿y_v®ue_ÿn¦“p
(
¬¿y_size
,

70 
gpio_desc
 **
desc_¬¿y
,

71 *
v®ue_¬¿y
);

73 
šlše
 
gpio_desc
 *

74 
	$devm_gpiod_g‘_šdex
(
deviû
 *
dev
,

75 cÚ¡ *
cÚ_id
,

76 
idx
,

77 
gpiod_æags
 
æags
)

79 
	`UNIMPLEMENTED
();

80  
	`ERR_PTR
(-
ENOSYS
);

81 
	}
}

83 
šlše
 
	$gpiod_£t_v®ue
(
gpio_desc
 *
desc
, 
v®ue
)

85 
	`UNIMPLEMENTED
();

87 
	`WARN_ON
(1);

88 
	}
}

	@src/common/linuxkpi/gplv2/include/linux/hash.h

27 #iâdeà
_LINUX_HASH_H_


28 
	#_LINUX_HASH_H_


	)

30 
	~<asm/ty³s.h
>

31 
	~<sys/hash.h
>

32 
	~<lšux/b™Ýs.h
>

34 
šlše
 
u64
 
	$hash_64
(
u64
 
v®
, 
b™s
)

36 
u64
 
»t
;

38 
»t
 = (
ušt64_t
)
	`hash32_buf
(&
v®
, (v®), 
b™s
);

40  
»t
 >> (64 - 
b™s
);

41 
	}
}

43 
šlše
 
u32
 
	$hash_32
(
u32
 
v®
, 
b™s
)

45 
u32
 
»t
;

47 
»t
 = 
	`hash32_buf
(&
v®
, (v®), 
b™s
);

49  
»t
 >> (32 - 
b™s
);

50 
	}
}

52 #ià
BITS_PER_LONG
 == 64

53 
	#hash_lÚg
(
v®
, 
b™s
è
	`hash_64
(v®, b™s)

	)

55 
	#hash_lÚg
(
v®
, 
b™s
è
	`hash_32
(v®, b™s)

	)

	@src/common/linuxkpi/gplv2/include/linux/hashtable.h

6 #iâdeà
_LINUX_HASHTABLE_H


7 
	#_LINUX_HASHTABLE_H


	)

9 
	~<lšux/li¡.h
>

10 
	~<lšux/ty³s.h
>

11 
	~<lšux/k”Ãl.h
>

12 
	~<lšux/hash.h
>

13 
	~<lšux/rculi¡.h
>

15 
	#DEFINE_HASHTABLE
(
Çme
, 
b™s
) \

16 
hli¡_h—d
 
Çme
[1 << (
b™s
)] = \

17 { [0 ... ((1 << (
b™s
)è- 1)] = 
HLIST_HEAD_INIT
 }

	)

19 
	#DEFINE_READ_MOSTLY_HASHTABLE
(
Çme
, 
b™s
) \

20 
hli¡_h—d
 
Çme
[1 << (
b™s
)] 
__»ad_mo¡ly
 = \

21 { [0 ... ((1 << (
b™s
)è- 1)] = 
HLIST_HEAD_INIT
 }

	)

23 
	#DECLARE_HASHTABLE
(
Çme
, 
b™s
) \

24 
hli¡_h—d
 
Çme
[1 << (
b™s
)]

	)

26 
	#HASH_SIZE
(
Çme
è(
	`ARRAY_SIZE
Òame))

	)

27 
	#HASH_BITS
(
Çme
è
	`žog2
(
	`HASH_SIZE
Òame))

	)

30 
	#hash_mš
(
v®
, 
b™s
) \

31 ((
v®
è<ð4 ? 
	`hash_32
(v®, 
b™s
è: 
	`hash_lÚg
(v®, b™s))

	)

33 
šlše
 
	$__hash_š™
(
hli¡_h—d
 *
ht
, 
sz
)

35 
i
;

37 
i
 = 0; i < 
sz
; i++)

38 
	`INIT_HLIST_HEAD
(&
ht
[
i
]);

39 
	}
}

51 
	#hash_š™
(
hashbË
è
	`__hash_š™
(hashbË, 
	`HASH_SIZE
(hashbË))

	)

59 
	#hash_add
(
hashbË
, 
node
, 
key
) \

60 
	`hli¡_add_h—d
(
node
, &
hashbË
[
	`hash_mš
(
key
, 
	`HASH_BITS
(hashbË))])

	)

68 
	#hash_add_rcu
(
hashbË
, 
node
, 
key
) \

69 
	`hli¡_add_h—d_rcu
(
node
, &
hashbË
[
	`hash_mš
(
key
, 
	`HASH_BITS
(hashbË))])

	)

75 
šlše
 
boÞ
 
	$hash_hashed
(
hli¡_node
 *
node
)

77  !
	`hli¡_unhashed
(
node
);

78 
	}
}

80 
šlše
 
boÞ
 
	$__hash_em±y
(
hli¡_h—d
 *
ht
, 
sz
)

82 
i
;

84 
i
 = 0; i < 
sz
; i++)

85 ià(!
	`hli¡_em±y
(&
ht
[
i
]))

86  
çl£
;

88  
Œue
;

89 
	}
}

98 
	#hash_em±y
(
hashbË
è
	`__hash_em±y
(hashbË, 
	`HASH_SIZE
(hashbË))

	)

104 
šlše
 
	$hash_d–
(
hli¡_node
 *
node
)

106 
	`hli¡_d–_š™
(
node
);

107 
	}
}

113 
šlše
 
	$hash_d–_rcu
(
hli¡_node
 *
node
)

115 
	`hli¡_d–_š™_rcu
(
node
);

116 
	}
}

125 
	#hash_fÜ_—ch
(
Çme
, 
bkt
, 
obj
, 
memb”
) \

126 (
bkt
èð0, 
obj
 = 
NULL
; obj =ðNULL && (bktè< 
	`HASH_SIZE
(
Çme
);\

127 (
bkt
)++)\

128 
	`hli¡_fÜ_—ch_’Œy
(
obj
, &
Çme
[
bkt
], 
memb”
)

	)

137 
	#hash_fÜ_—ch_rcu
(
Çme
, 
bkt
, 
obj
, 
memb”
) \

138 (
bkt
èð0, 
obj
 = 
NULL
; obj =ðNULL && (bktè< 
	`HASH_SIZE
(
Çme
);\

139 (
bkt
)++)\

140 
	`hli¡_fÜ_—ch_’Œy_rcu
(
obj
, &
Çme
[
bkt
], 
memb”
)

	)

151 
	#hash_fÜ_—ch_§ã
(
Çme
, 
bkt
, 
tmp
, 
obj
, 
memb”
) \

152 (
bkt
èð0, 
obj
 = 
NULL
; obj =ðNULL && (bktè< 
	`HASH_SIZE
(
Çme
);\

153 (
bkt
)++)\

154 
	`hli¡_fÜ_—ch_’Œy_§ã
(
obj
, 
tmp
, &
Çme
[
bkt
], 
memb”
)

	)

164 
	#hash_fÜ_—ch_possibË
(
Çme
, 
obj
, 
memb”
, 
key
) \

165 
	`hli¡_fÜ_—ch_’Œy
(
obj
, &
Çme
[
	`hash_mš
(
key
, 
	`HASH_BITS
Òame))], 
memb”
)

	)

176 
	#hash_fÜ_—ch_possibË_rcu
(
Çme
, 
obj
, 
memb”
, 
key
) \

177 
	`hli¡_fÜ_—ch_’Œy_rcu
(
obj
, &
Çme
[
	`hash_mš
(
key
, 
	`HASH_BITS
(name))],\

178 
memb”
)

	)

191 
	#hash_fÜ_—ch_possibË_rcu_nÙ¿û
(
Çme
, 
obj
, 
memb”
, 
key
) \

192 
	`hli¡_fÜ_—ch_’Œy_rcu_nÙ¿û
(
obj
, \

193 &
Çme
[
	`hash_mš
(
key
, 
	`HASH_BITS
Òame))], 
memb”
)

	)

204 
	#hash_fÜ_—ch_possibË_§ã
(
Çme
, 
obj
, 
tmp
, 
memb”
, 
key
) \

205 
	`hli¡_fÜ_—ch_’Œy_§ã
(
obj
, 
tmp
,\

206 &
Çme
[
	`hash_mš
(
key
, 
	`HASH_BITS
Òame))], 
memb”
)

	)

	@src/common/linuxkpi/gplv2/include/linux/hdmi.h

24 #iâdeà
__LINUX_HDMI_H_


25 
	#__LINUX_HDMI_H_


	)

27 
	~<lšux/ty³s.h
>

28 
	~<sys/bus.h
>

29 
	~<lšux/deviû.h
>

31 
	ehdmi_šfoäame_ty³
 {

32 
	mHDMI_INFOFRAME_TYPE_VENDOR
 = 0x81,

33 
	mHDMI_INFOFRAME_TYPE_AVI
 = 0x82,

34 
	mHDMI_INFOFRAME_TYPE_SPD
 = 0x83,

35 
	mHDMI_INFOFRAME_TYPE_AUDIO
 = 0x84,

38 
	#HDMI_IEEE_OUI
 0x000c03

	)

39 
	#HDMI_FORUM_IEEE_OUI
 0xc45dd8

	)

40 
	#HDMI_INFOFRAME_HEADER_SIZE
 4

	)

41 
	#HDMI_AVI_INFOFRAME_SIZE
 13

	)

42 
	#HDMI_SPD_INFOFRAME_SIZE
 25

	)

43 
	#HDMI_AUDIO_INFOFRAME_SIZE
 10

	)

45 
	#HDMI_INFOFRAME_SIZE
(
ty³
) \

46 (
HDMI_INFOFRAME_HEADER_SIZE
 + 
HDMI_
 ## 
ty³
 ## 
_INFOFRAME_SIZE
)

	)

48 
	shdmi_ªy_šfoäame
 {

49 
hdmi_šfoäame_ty³
 
	mty³
;

50 
	mv”siÚ
;

51 
	mËngth
;

54 
	ehdmi_cÞÜ¥aû
 {

55 
	mHDMI_COLORSPACE_RGB
,

56 
	mHDMI_COLORSPACE_YUV422
,

57 
	mHDMI_COLORSPACE_YUV444
,

58 
	mHDMI_COLORSPACE_YUV420
,

59 
	mHDMI_COLORSPACE_RESERVED4
,

60 
	mHDMI_COLORSPACE_RESERVED5
,

61 
	mHDMI_COLORSPACE_RESERVED6
,

62 
	mHDMI_COLORSPACE_IDO_DEFINED
,

65 
	ehdmi_sÿn_mode
 {

66 
	mHDMI_SCAN_MODE_NONE
,

67 
	mHDMI_SCAN_MODE_OVERSCAN
,

68 
	mHDMI_SCAN_MODE_UNDERSCAN
,

69 
	mHDMI_SCAN_MODE_RESERVED
,

72 
	ehdmi_cÞÜim‘ry
 {

73 
	mHDMI_COLORIMETRY_NONE
,

74 
	mHDMI_COLORIMETRY_ITU_601
,

75 
	mHDMI_COLORIMETRY_ITU_709
,

76 
	mHDMI_COLORIMETRY_EXTENDED
,

79 
	ehdmi_piùu»_a¥eù
 {

80 
	mHDMI_PICTURE_ASPECT_NONE
,

81 
	mHDMI_PICTURE_ASPECT_4_3
,

82 
	mHDMI_PICTURE_ASPECT_16_9
,

83 
	mHDMI_PICTURE_ASPECT_64_27
,

84 
	mHDMI_PICTURE_ASPECT_256_135
,

85 
	mHDMI_PICTURE_ASPECT_RESERVED
,

88 
	ehdmi_aùive_a¥eù
 {

89 
	mHDMI_ACTIVE_ASPECT_16_9_TOP
 = 2,

90 
	mHDMI_ACTIVE_ASPECT_14_9_TOP
 = 3,

91 
	mHDMI_ACTIVE_ASPECT_16_9_CENTER
 = 4,

92 
	mHDMI_ACTIVE_ASPECT_PICTURE
 = 8,

93 
	mHDMI_ACTIVE_ASPECT_4_3
 = 9,

94 
	mHDMI_ACTIVE_ASPECT_16_9
 = 10,

95 
	mHDMI_ACTIVE_ASPECT_14_9
 = 11,

96 
	mHDMI_ACTIVE_ASPECT_4_3_SP_14_9
 = 13,

97 
	mHDMI_ACTIVE_ASPECT_16_9_SP_14_9
 = 14,

98 
	mHDMI_ACTIVE_ASPECT_16_9_SP_4_3
 = 15,

101 
	ehdmi_ex‹nded_cÞÜim‘ry
 {

102 
	mHDMI_EXTENDED_COLORIMETRY_XV_YCC_601
,

103 
	mHDMI_EXTENDED_COLORIMETRY_XV_YCC_709
,

104 
	mHDMI_EXTENDED_COLORIMETRY_S_YCC_601
,

105 
	mHDMI_EXTENDED_COLORIMETRY_ADOBE_YCC_601
,

106 
	mHDMI_EXTENDED_COLORIMETRY_ADOBE_RGB
,

109 
	mHDMI_EXTENDED_COLORIMETRY_BT2020_CONST_LUM
,

110 
	mHDMI_EXTENDED_COLORIMETRY_BT2020
,

111 
	mHDMI_EXTENDED_COLORIMETRY_RESERVED
,

114 
	ehdmi_quªtiz©iÚ_¿nge
 {

115 
	mHDMI_QUANTIZATION_RANGE_DEFAULT
,

116 
	mHDMI_QUANTIZATION_RANGE_LIMITED
,

117 
	mHDMI_QUANTIZATION_RANGE_FULL
,

118 
	mHDMI_QUANTIZATION_RANGE_RESERVED
,

122 
	ehdmi_nups
 {

123 
	mHDMI_NUPS_UNKNOWN
,

124 
	mHDMI_NUPS_HORIZONTAL
,

125 
	mHDMI_NUPS_VERTICAL
,

126 
	mHDMI_NUPS_BOTH
,

129 
	ehdmi_ycc_quªtiz©iÚ_¿nge
 {

130 
	mHDMI_YCC_QUANTIZATION_RANGE_LIMITED
,

131 
	mHDMI_YCC_QUANTIZATION_RANGE_FULL
,

134 
	ehdmi_cÚ‹Á_ty³
 {

135 
	mHDMI_CONTENT_TYPE_GRAPHICS
,

136 
	mHDMI_CONTENT_TYPE_PHOTO
,

137 
	mHDMI_CONTENT_TYPE_CINEMA
,

138 
	mHDMI_CONTENT_TYPE_GAME
,

141 
	shdmi_avi_šfoäame
 {

142 
hdmi_šfoäame_ty³
 
	mty³
;

143 
	mv”siÚ
;

144 
	mËngth
;

145 
hdmi_cÞÜ¥aû
 
	mcÞÜ¥aû
;

146 
hdmi_sÿn_mode
 
	msÿn_mode
;

147 
hdmi_cÞÜim‘ry
 
	mcÞÜim‘ry
;

148 
hdmi_piùu»_a¥eù
 
	mpiùu»_a¥eù
;

149 
hdmi_aùive_a¥eù
 
	maùive_a¥eù
;

150 
boÞ
 
	m™c
;

151 
hdmi_ex‹nded_cÞÜim‘ry
 
	mex‹nded_cÞÜim‘ry
;

152 
hdmi_quªtiz©iÚ_¿nge
 
	mquªtiz©iÚ_¿nge
;

153 
hdmi_nups
 
	mnups
;

154 
	mvideo_code
;

155 
hdmi_ycc_quªtiz©iÚ_¿nge
 
	mycc_quªtiz©iÚ_¿nge
;

156 
hdmi_cÚ‹Á_ty³
 
	mcÚ‹Á_ty³
;

157 
	mpix–_»³©
;

158 
	mtÝ_b¬
;

159 
	mbÙtom_b¬
;

160 
	mËá_b¬
;

161 
	mright_b¬
;

164 
hdmi_avi_šfoäame_š™
(
hdmi_avi_šfoäame
 *
äame
);

165 
ssize_t
 
hdmi_avi_šfoäame_·ck
(
hdmi_avi_šfoäame
 *
äame
, *
bufãr
,

166 
size_t
 
size
);

168 
	ehdmi_¥d_sdi
 {

169 
	mHDMI_SPD_SDI_UNKNOWN
,

170 
	mHDMI_SPD_SDI_DSTB
,

171 
	mHDMI_SPD_SDI_DVDP
,

172 
	mHDMI_SPD_SDI_DVHS
,

173 
	mHDMI_SPD_SDI_HDDVR
,

174 
	mHDMI_SPD_SDI_DVC
,

175 
	mHDMI_SPD_SDI_DSC
,

176 
	mHDMI_SPD_SDI_VCD
,

177 
	mHDMI_SPD_SDI_GAME
,

178 
	mHDMI_SPD_SDI_PC
,

179 
	mHDMI_SPD_SDI_BD
,

180 
	mHDMI_SPD_SDI_SACD
,

181 
	mHDMI_SPD_SDI_HDDVD
,

182 
	mHDMI_SPD_SDI_PMP
,

185 
	shdmi_¥d_šfoäame
 {

186 
hdmi_šfoäame_ty³
 
	mty³
;

187 
	mv”siÚ
;

188 
	mËngth
;

189 
	mv’dÜ
[8];

190 
	m´oduù
[16];

191 
hdmi_¥d_sdi
 
	msdi
;

194 
hdmi_¥d_šfoäame_š™
(
hdmi_¥d_šfoäame
 *
äame
,

195 cÚ¡ *
v’dÜ
, cÚ¡ *
´oduù
);

196 
ssize_t
 
hdmi_¥d_šfoäame_·ck
(
hdmi_¥d_šfoäame
 *
äame
, *
bufãr
,

197 
size_t
 
size
);

199 
	ehdmi_audio_codšg_ty³
 {

200 
	mHDMI_AUDIO_CODING_TYPE_STREAM
,

201 
	mHDMI_AUDIO_CODING_TYPE_PCM
,

202 
	mHDMI_AUDIO_CODING_TYPE_AC3
,

203 
	mHDMI_AUDIO_CODING_TYPE_MPEG1
,

204 
	mHDMI_AUDIO_CODING_TYPE_MP3
,

205 
	mHDMI_AUDIO_CODING_TYPE_MPEG2
,

206 
	mHDMI_AUDIO_CODING_TYPE_AAC_LC
,

207 
	mHDMI_AUDIO_CODING_TYPE_DTS
,

208 
	mHDMI_AUDIO_CODING_TYPE_ATRAC
,

209 
	mHDMI_AUDIO_CODING_TYPE_DSD
,

210 
	mHDMI_AUDIO_CODING_TYPE_EAC3
,

211 
	mHDMI_AUDIO_CODING_TYPE_DTS_HD
,

212 
	mHDMI_AUDIO_CODING_TYPE_MLP
,

213 
	mHDMI_AUDIO_CODING_TYPE_DST
,

214 
	mHDMI_AUDIO_CODING_TYPE_WMA_PRO
,

215 
	mHDMI_AUDIO_CODING_TYPE_CXT
,

218 
	ehdmi_audio_§m¶e_size
 {

219 
	mHDMI_AUDIO_SAMPLE_SIZE_STREAM
,

220 
	mHDMI_AUDIO_SAMPLE_SIZE_16
,

221 
	mHDMI_AUDIO_SAMPLE_SIZE_20
,

222 
	mHDMI_AUDIO_SAMPLE_SIZE_24
,

225 
	ehdmi_audio_§m¶e_äequ’cy
 {

226 
	mHDMI_AUDIO_SAMPLE_FREQUENCY_STREAM
,

227 
	mHDMI_AUDIO_SAMPLE_FREQUENCY_32000
,

228 
	mHDMI_AUDIO_SAMPLE_FREQUENCY_44100
,

229 
	mHDMI_AUDIO_SAMPLE_FREQUENCY_48000
,

230 
	mHDMI_AUDIO_SAMPLE_FREQUENCY_88200
,

231 
	mHDMI_AUDIO_SAMPLE_FREQUENCY_96000
,

232 
	mHDMI_AUDIO_SAMPLE_FREQUENCY_176400
,

233 
	mHDMI_AUDIO_SAMPLE_FREQUENCY_192000
,

236 
	ehdmi_audio_codšg_ty³_ext
 {

238 
	mHDMI_AUDIO_CODING_TYPE_EXT_CT
,

245 
	mHDMI_AUDIO_CODING_TYPE_EXT_HE_AAC
,

246 
	mHDMI_AUDIO_CODING_TYPE_EXT_HE_AAC_V2
,

247 
	mHDMI_AUDIO_CODING_TYPE_EXT_MPEG_SURROUND
,

250 
	mHDMI_AUDIO_CODING_TYPE_EXT_MPEG4_HE_AAC
,

251 
	mHDMI_AUDIO_CODING_TYPE_EXT_MPEG4_HE_AAC_V2
,

252 
	mHDMI_AUDIO_CODING_TYPE_EXT_MPEG4_AAC_LC
,

253 
	mHDMI_AUDIO_CODING_TYPE_EXT_DRA
,

254 
	mHDMI_AUDIO_CODING_TYPE_EXT_MPEG4_HE_AAC_SURROUND
,

255 
	mHDMI_AUDIO_CODING_TYPE_EXT_MPEG4_AAC_LC_SURROUND
 = 10,

258 
	shdmi_audio_šfoäame
 {

259 
hdmi_šfoäame_ty³
 
	mty³
;

260 
	mv”siÚ
;

261 
	mËngth
;

262 
	mchªÃls
;

263 
hdmi_audio_codšg_ty³
 
	mcodšg_ty³
;

264 
hdmi_audio_§m¶e_size
 
	m§m¶e_size
;

265 
hdmi_audio_§m¶e_äequ’cy
 
	m§m¶e_äequ’cy
;

266 
hdmi_audio_codšg_ty³_ext
 
	mcodšg_ty³_ext
;

267 
	mchªÃl_®loÿtiÚ
;

268 
	mËv–_shiá_v®ue
;

269 
boÞ
 
	mdownmix_šhib™
;

273 
hdmi_audio_šfoäame_š™
(
hdmi_audio_šfoäame
 *
äame
);

274 
ssize_t
 
hdmi_audio_šfoäame_·ck
(
hdmi_audio_šfoäame
 *
äame
,

275 *
bufãr
, 
size_t
 
size
);

277 
	ehdmi_3d_¡ruùu»
 {

278 
	mHDMI_3D_STRUCTURE_INVALID
 = -1,

279 
	mHDMI_3D_STRUCTURE_FRAME_PACKING
 = 0,

280 
	mHDMI_3D_STRUCTURE_FIELD_ALTERNATIVE
,

281 
	mHDMI_3D_STRUCTURE_LINE_ALTERNATIVE
,

282 
	mHDMI_3D_STRUCTURE_SIDE_BY_SIDE_FULL
,

283 
	mHDMI_3D_STRUCTURE_L_DEPTH
,

284 
	mHDMI_3D_STRUCTURE_L_DEPTH_GFX_GFX_DEPTH
,

285 
	mHDMI_3D_STRUCTURE_TOP_AND_BOTTOM
,

286 
	mHDMI_3D_STRUCTURE_SIDE_BY_SIDE_HALF
 = 8,

290 
	shdmi_v’dÜ_šfoäame
 {

291 
hdmi_šfoäame_ty³
 
	mty³
;

292 
	mv”siÚ
;

293 
	mËngth
;

294 
	moui
;

295 
u8
 
	mvic
;

296 
hdmi_3d_¡ruùu»
 
	ms3d_¡ruù
;

297 
	ms3d_ext_d©a
;

300 
hdmi_v’dÜ_šfoäame_š™
(
hdmi_v’dÜ_šfoäame
 *
äame
);

301 
ssize_t
 
hdmi_v’dÜ_šfoäame_·ck
(
hdmi_v’dÜ_šfoäame
 *
äame
,

302 *
bufãr
, 
size_t
 
size
);

304 
	uhdmi_v’dÜ_ªy_šfoäame
 {

306 
hdmi_šfoäame_ty³
 
	mty³
;

307 
	mv”siÚ
;

308 
	mËngth
;

309 
	moui
;

310 } 
	mªy
;

311 
hdmi_v’dÜ_šfoäame
 
	mhdmi
;

326 
	uhdmi_šfoäame
 {

327 
hdmi_ªy_šfoäame
 
	mªy
;

328 
hdmi_avi_šfoäame
 
	mavi
;

329 
hdmi_¥d_šfoäame
 
	m¥d
;

330 
hdmi_v’dÜ_ªy_šfoäame
 
	mv’dÜ
;

331 
hdmi_audio_šfoäame
 
	maudio
;

334 
ssize_t


335 
hdmi_šfoäame_·ck
(
hdmi_šfoäame
 *
äame
, *
bufãr
, 
size_t
 
size
);

336 
hdmi_šfoäame_uÅack
(
hdmi_šfoäame
 *
äame
, *
bufãr
);

337 
hdmi_šfoäame_log
(cÚ¡ *
Ëv–
, 
deviû
 *
dev
,

338 
hdmi_šfoäame
 *
äame
);

	@src/common/linuxkpi/gplv2/include/linux/highmem.h

1 #iâdeà
_LINUX_HIGHMEM_H_


2 
	#_LINUX_HIGHMEM_H_


	)

4 
	~<lšux/·ge.h
>

6 
	#PageHighMem
(
p
è(0)

	)

8 
šlše
 
·ge
 *
	$km­_to_·ge
(*
addr
)

10  
	`vœt_to_·ge
(
addr
);

11 
	}
}

	@src/common/linuxkpi/gplv2/include/linux/hwmon-sysfs.h

1 #iâdeà
_LINUX_HWMON_SYSFS_H


2 
	#_LINUX_HWMON_SYSFS_H


	)

4 
	~<lšux/deviû.h
>

6 
	s£nsÜ_deviû_©Œibu‹
{

7 
deviû_©Œibu‹
 
	mdev_©Œ
;

8 
	mšdex
;

10 
	#to_£nsÜ_dev_©Œ
(
_dev_©Œ
) \

11 
	`cÚš”_of
(
_dev_©Œ
, 
£nsÜ_deviû_©Œibu‹
, 
dev_©Œ
)

	)

13 
	#SENSOR_ATTR
(
_Çme
, 
_mode
, 
_show
, 
_¡Üe
, 
_šdex
) \

14 { .
dev_©Œ
 = 
	`__ATTR
(
_Çme
, 
_mode
, 
_show
, 
_¡Üe
), \

15 .
šdex
 = 
_šdex
 }

	)

17 
	#SENSOR_DEVICE_ATTR
(
_Çme
, 
_mode
, 
_show
, 
_¡Üe
, 
_šdex
) \

18 
£nsÜ_deviû_©Œibu‹
 
£nsÜ_dev_©Œ_
##
_Çme
 \

19 ð
	`SENSOR_ATTR
(
_Çme
, 
_mode
, 
_show
, 
_¡Üe
, 
_šdex
)

	)

	@src/common/linuxkpi/gplv2/include/linux/hwmon.h

1 #iâdeà
_LINUX_HWMON_H_


2 
	#_LINUX_HWMON_H_


	)

4 
	gdeviû
;

5 
	g©Œibu‹_group
;

7 
deviû
 *
hwmÚ_deviû_»gi¡”
(deviû *
dev
);

8 
deviû
 *

9 
hwmÚ_deviû_»gi¡”_w™h_groups
(
deviû
 *
dev
, cÚ¡ *
Çme
,

10 *
drvd©a
,

11 cÚ¡ 
©Œibu‹_group
 **
groups
);

12 
deviû
 *

13 
devm_hwmÚ_deviû_»gi¡”_w™h_groups
(
deviû
 *
dev
, cÚ¡ *
Çme
,

14 *
drvd©a
,

15 cÚ¡ 
©Œibu‹_group
 **
groups
);

17 
hwmÚ_deviû_uÄegi¡”
(
deviû
 *
dev
);

18 
devm_hwmÚ_deviû_uÄegi¡”
(
deviû
 *
dev
);

	@src/common/linuxkpi/gplv2/include/linux/i2c-algo-bit.h

1 #iâdeà
_LINUX_I2C_ALGO_BIT_H_


2 
	#_LINUX_I2C_ALGO_BIT_H_


	)

5 
	gi2c_ad­‹r
;

8 
	si2c_®go_b™_d©a
 {

9 *
	md©a
;

10 (*
	m£tsda
è(*
	md©a
, 
	m¡©e
);

11 (*
	m£tsþ
è(*
	md©a
, 
	m¡©e
);

12 (*
	mg‘sda
è(*
	md©a
);

13 (*
	mg‘sþ
è(*
	md©a
);

14 (*
	m´e_xãr
è(
	mi2c_ad­‹r
 *);

15 (*
	mpo¡_xãr
è(
	mi2c_ad­‹r
 *);

18 
	mud–ay
;

22 
	mtimeout
;

25 
i2c_b™_add_bus
(
i2c_ad­‹r
 *);

26 
i2c_b™_add_numb”ed_bus
(
i2c_ad­‹r
 *);

27 cÚ¡ 
i2c_®gÜ™hm
 
i2c_b™_®go
;

	@src/common/linuxkpi/gplv2/include/linux/i2c.h

1 #iâdeà
_LINUX_I2C_H_


2 
	#_LINUX_I2C_H_


	)

4 
	~<lšux/mod_deviûbË.h
>

5 
	~<lšux/deviû.h
>

6 
	~<lšux/mu‹x.h
>

7 
	~<lšux/com¶‘iÚ.h
>

8 
	~<lšux/sched.h
>

9 
	~<lšux/of.h
>

11 
	gi2c_ad­‹r
;

12 
	gi2c_msg
;

16 
	si2c_msg
 {

17 
__u16
 
	maddr
;

18 
__u16
 
	mæags
;

19 
	#I2C_M_TEN
 0x0010

	)

20 
	#I2C_M_RD
 0x0001

	)

21 
	#I2C_M_STOP
 0x8000

	)

22 
	#I2C_M_NOSTART
 0x4000

	)

23 
	#I2C_M_REV_DIR_ADDR
 0x2000

	)

24 
	#I2C_M_IGNORE_NAK
 0x1000

	)

25 
	#I2C_M_NO_RD_ACK
 0x0800

	)

26 
	#I2C_M_RECV_LEN
 0x0400

	)

27 
__u16
 
	mËn
;

28 
__u8
 *
	mbuf
;

31 
	#I2C_FUNC_I2C
 0x00000001

	)

32 
	#I2C_FUNC_10BIT_ADDR
 0x00000002

	)

33 
	#I2C_FUNC_PROTOCOL_MANGLING
 0x00000004

	)

34 
	#I2C_FUNC_SMBUS_PEC
 0x00000008

	)

35 
	#I2C_FUNC_NOSTART
 0x00000010

	)

36 
	#I2C_FUNC_SMBUS_BLOCK_PROC_CALL
 0x00008000

	)

37 
	#I2C_FUNC_SMBUS_QUICK
 0x00010000

	)

38 
	#I2C_FUNC_SMBUS_READ_BYTE
 0x00020000

	)

39 
	#I2C_FUNC_SMBUS_WRITE_BYTE
 0x00040000

	)

40 
	#I2C_FUNC_SMBUS_READ_BYTE_DATA
 0x00080000

	)

41 
	#I2C_FUNC_SMBUS_WRITE_BYTE_DATA
 0x00100000

	)

42 
	#I2C_FUNC_SMBUS_READ_WORD_DATA
 0x00200000

	)

43 
	#I2C_FUNC_SMBUS_WRITE_WORD_DATA
 0x00400000

	)

44 
	#I2C_FUNC_SMBUS_PROC_CALL
 0x00800000

	)

45 
	#I2C_FUNC_SMBUS_READ_BLOCK_DATA
 0x01000000

	)

46 
	#I2C_FUNC_SMBUS_WRITE_BLOCK_DATA
 0x02000000

	)

47 
	#I2C_FUNC_SMBUS_READ_I2C_BLOCK
 0x04000000

	)

48 
	#I2C_FUNC_SMBUS_WRITE_I2C_BLOCK
 0x08000000

	)

50 
	#I2C_FUNC_SMBUS_BYTE
 (
I2C_FUNC_SMBUS_READ_BYTE
 | \

51 
I2C_FUNC_SMBUS_WRITE_BYTE
)

	)

52 
	#I2C_FUNC_SMBUS_BYTE_DATA
 (
I2C_FUNC_SMBUS_READ_BYTE_DATA
 | \

53 
I2C_FUNC_SMBUS_WRITE_BYTE_DATA
)

	)

54 
	#I2C_FUNC_SMBUS_WORD_DATA
 (
I2C_FUNC_SMBUS_READ_WORD_DATA
 | \

55 
I2C_FUNC_SMBUS_WRITE_WORD_DATA
)

	)

56 
	#I2C_FUNC_SMBUS_BLOCK_DATA
 (
I2C_FUNC_SMBUS_READ_BLOCK_DATA
 | \

57 
I2C_FUNC_SMBUS_WRITE_BLOCK_DATA
)

	)

58 
	#I2C_FUNC_SMBUS_I2C_BLOCK
 (
I2C_FUNC_SMBUS_READ_I2C_BLOCK
 | \

59 
I2C_FUNC_SMBUS_WRITE_I2C_BLOCK
)

	)

61 
	#I2C_FUNC_SMBUS_EMUL
 (
I2C_FUNC_SMBUS_QUICK
 | \

62 
I2C_FUNC_SMBUS_BYTE
 | \

63 
I2C_FUNC_SMBUS_BYTE_DATA
 | \

64 
I2C_FUNC_SMBUS_WORD_DATA
 | \

65 
I2C_FUNC_SMBUS_PROC_CALL
 | \

66 
I2C_FUNC_SMBUS_WRITE_BLOCK_DATA
 | \

67 
I2C_FUNC_SMBUS_I2C_BLOCK
 | \

68 
I2C_FUNC_SMBUS_PEC
)

	)

72 
	#I2C_CLASS_HWMON
 (1<<0è

	)

73 
	#I2C_CLASS_DDC
 (1<<3è

	)

74 
	#I2C_CLASS_SPD
 (1<<7è

	)

77 
	#I2C_CLIENT_TEN
 0x10

	)

79 
	#I2C_CLIENT_SLAVE
 0x20

	)

81 
	#I2C_CLIENT_END
 0xffãU

	)

86 
	#I2C_SMBUS_BLOCK_MAX
 32

	)

87 
	ui2c_smbus_d©a
 {

88 
__u8
 
	mby‹
;

89 
__u16
 
	mwÜd
;

90 
__u8
 
	mblock
[
I2C_SMBUS_BLOCK_MAX
 + 2];

95 
	#I2C_SMBUS_READ
 1

	)

96 
	#I2C_SMBUS_WRITE
 0

	)

98 
	si2c_®gÜ™hm
 {

105 (*
	mma¡”_xãr
)(
i2c_ad­‹r
 *
	mad­
, 
i2c_msg
 *
	mmsgs
,

106 
	mnum
);

107 (*
	msmbus_xãr
è(
i2c_ad­‹r
 *
	mad­
, 
u16
 
	maddr
,

108 
	mæags
, 
	m»ad_wr™e
,

109 
u8
 
	mcommªd
, 
	msize
, 
i2c_smbus_d©a
 *
	md©a
);

112 
u32
 (*
funùiÚ®™y
è(
	mi2c_ad­‹r
 *);

123 
	si2c_lock_Ý”©iÚs
 {

124 (*
	mlock_bus
)(
	mi2c_ad­‹r
 *, 
	mæags
);

125 (*
	mŒylock_bus
)(
	mi2c_ad­‹r
 *, 
	mæags
);

126 (*
	muÆock_bus
)(
	mi2c_ad­‹r
 *, 
	mæags
);

129 
	si2c_ad­‹r
 {

130 
moduË
 *
	mowÃr
;

131 
	mþass
;

132 cÚ¡ 
i2c_®gÜ™hm
 *
	m®go
;

133 *
	m®go_d©a
;

136 cÚ¡ 
i2c_lock_Ý”©iÚs
 *
	mlock_Ýs
;

137 
mu‹x
 
	mbus_lock
;

138 
	mtimeout
;

139 
	m»Œ›s
;

140 
deviû
 
	mdev
;

142 
	mÄ
;

143 
	mÇme
[48];

144 
com¶‘iÚ
 
	mdev_»Ëa£d
;

148 
	si2c_bßrd_šfo
 {

149 
	mty³
[
I2C_NAME_SIZE
];

150 
	mæags
;

151 
	maddr
;

152 *
	m¶©fÜm_d©a
;

153 
dev_¬chd©a
 *
	m¬chd©a
;

154 
deviû_node
 *
	mof_node
;

155 
fwnode_hªdË
 *
	mfwnode
;

156 
	mœq
;

159 
	si2c_þ›Á
 {

160 
	mæags
;

161 
	maddr
;

164 
	mÇme
[
I2C_NAME_SIZE
];

165 
i2c_ad­‹r
 *
	mad­‹r
;

166 
deviû
 
	mdev
;

167 
	mœq
;

168 
li¡_h—d
 
	md‘eùed
;

169 #ià
IS_ENABLED
(
CONFIG_I2C_SLAVE
)

170 
i2c_¦ave_cb_t
 
	m¦ave_cb
;

174 
	si2c_driv”
 {

175 
	mþass
;

180 (*
	m©ch_ad­‹r
)(
	mi2c_ad­‹r
 *è
	m__d•»ÿ‹d
;

183 (*
	m´obe
)(
	mi2c_þ›Á
 *, cÚ¡ 
	mi2c_deviû_id
 *);

184 (*
	m»move
)(
	mi2c_þ›Á
 *);

187 (*
	mshutdown
)(
	mi2c_þ›Á
 *);

194 (*
	m®”t
)(
	mi2c_þ›Á
 *, 
	md©a
);

199 (*
	mcommªd
)(
i2c_þ›Á
 *
	mþ›Á
, 
	mcmd
, *
	m¬g
);

201 
deviû_driv”
 
	mdriv”
;

202 cÚ¡ 
i2c_deviû_id
 *
	mid_bË
;

205 (*
	md‘eù
)(
	mi2c_þ›Á
 *, 
	mi2c_bßrd_šfo
 *);

206 cÚ¡ *
	madd»ss_li¡
;

207 
li¡_h—d
 
	mþ›Ás
;

209 
	#to_i2c_driv”
(
d
è
	`cÚš”_of
(d, 
i2c_driv”
, 
driv”
)

	)

212 
šlše
 

213 
	$i2c_ad­‹r_id
(
i2c_ad­‹r
 *
ad­
)

215  
ad­
->
Ä
;

216 
	}
}

218 
i2c_þ›Á
 *

219 
i2c_Ãw_deviû
(
i2c_ad­‹r
 *
ad­
, 
i2c_bßrd_šfo
 cÚ¡ *
šfo
);

220 
i2c_add_ad­‹r
(
i2c_ad­‹r
 *
ad­‹r
);

222 
i2c_d–_ad­‹r
(
i2c_ad­‹r
 *);

224 
i2c_»gi¡”_driv”
(
moduË
 *, 
i2c_driv”
 *);

225 
i2c_d–_driv”
(
i2c_driv”
 *);

228 
i2c_Œªsãr
(
i2c_ad­‹r
 *
ad­
, 
i2c_msg
 *
msgs
,

229 
num
);

232 
	#__i2c_Œªsãr
(
a
, 
m
, 
n
è
	`i2c_Œªsãr
×, m,‚)

	)

234 
šlše
 

235 
	$i2c_uÄegi¡”_deviû
(
i2c_þ›Á
 *
þ›Á
)

237 
	`deviû_uÄegi¡”
(&
þ›Á
->
dev
);

238 
	}
}

240 
šlše
 *

241 
	$i2c_g‘_ad­d©a
(cÚ¡ 
i2c_ad­‹r
 *
dev
)

243  
	`dev_g‘_drvd©a
(&
dev
->dev);

244 
	}
}

246 
šlše
 

247 
	$i2c_£t_ad­d©a
(
i2c_ad­‹r
 *
dev
, *
d©a
)

249 
	`dev_£t_drvd©a
(&
dev
->dev, 
d©a
);

250 
	}
}

258 
šlše
 

259 
	$i2c_lock_bus
(
i2c_ad­‹r
 *
ad­‹r
, 
æags
)

261 
ad­‹r
->
lock_Ýs
->
	`lock_bus
×d­‹r, 
æags
);

262 
	}
}

272 
šlše
 

273 
	$i2c_Œylock_bus
(
i2c_ad­‹r
 *
ad­‹r
, 
æags
)

275  
ad­‹r
->
lock_Ýs
->
	`Œylock_bus
×d­‹r, 
æags
);

276 
	}
}

284 
šlše
 

285 
	$i2c_uÆock_bus
(
i2c_ad­‹r
 *
ad­‹r
, 
æags
)

287 
ad­‹r
->
lock_Ýs
->
	`uÆock_bus
×d­‹r, 
æags
);

288 
	}
}

	@src/common/linuxkpi/gplv2/include/linux/interval_tree.h

2 #iâdeà
_LINUX_INTERVAL_TREE_H


3 
	#_LINUX_INTERVAL_TREE_H


	)

5 
	~<lšux/rbŒ“.h
>

7 
	sš‹rv®_Œ“_node
 {

8 
rb_node
 
	mrb
;

9 
	m¡¬t
;

10 
	mÏ¡
;

11 
	m__subŒ“_Ï¡
;

15 
š‹rv®_Œ“_š£¹
(
š‹rv®_Œ“_node
 *
node
,

16 
rb_roÙ_ÿched
 *
roÙ
);

19 
š‹rv®_Œ“_»move
(
š‹rv®_Œ“_node
 *
node
,

20 
rb_roÙ_ÿched
 *
roÙ
);

22 
š‹rv®_Œ“_node
 *

23 
š‹rv®_Œ“_™”_fœ¡
(
rb_roÙ_ÿched
 *
roÙ
,

24 
¡¬t
, 
Ï¡
);

26 
š‹rv®_Œ“_node
 *

27 
š‹rv®_Œ“_™”_Ãxt
(
š‹rv®_Œ“_node
 *
node
,

28 
¡¬t
, 
Ï¡
);

	@src/common/linuxkpi/gplv2/include/linux/interval_tree_generic.h

22 
	~<lšux/rbŒ“_augm’‹d.h
>

40 
	#INTERVAL_TREE_DEFINE
(
ITSTRUCT
, 
ITRB
, 
ITTYPE
, 
ITSUBTREE
, \

41 
ITSTART
, 
ITLAST
, 
ITSTATIC
, 
ITPREFIX
) \

45 
šlše
 
ITTYPE
 
ITPREFIX
 ## 
	`_compu‹_subŒ“_Ï¡
(
ITSTRUCT
 *
node
) \

47 
ITTYPE
 
max
 = 
	`ITLAST
(
node
), 
subŒ“_Ï¡
; \

48 ià(
node
->
ITRB
.
rb_Ëá
) { \

49 
subŒ“_Ï¡
 = 
	`rb_’Œy
(
node
->
ITRB
.
rb_Ëá
, \

50 
ITSTRUCT
, 
ITRB
)->
ITSUBTREE
; \

51 ià(
max
 < 
subŒ“_Ï¡
) \

52 
max
 = 
subŒ“_Ï¡
; \

54 ià(
node
->
ITRB
.
rb_right
) { \

55 
subŒ“_Ï¡
 = 
	`rb_’Œy
(
node
->
ITRB
.
rb_right
, \

56 
ITSTRUCT
, 
ITRB
)->
ITSUBTREE
; \

57 ià(
max
 < 
subŒ“_Ï¡
) \

58 
max
 = 
subŒ“_Ï¡
; \

60  
max
; \

63 
	`RB_DECLARE_CALLBACKS
(, 
ITPREFIX
 ## 
_augm’t
, 
ITSTRUCT
, 
ITRB
, \

64 
ITTYPE
, 
ITSUBTREE
, 
ITPREFIX
 ## 
_compu‹_subŒ“_Ï¡
) \

68 
ITSTATIC
 
ITPREFIX
 ## 
	`_š£¹
(
ITSTRUCT
 *
node
, \

69 
rb_roÙ_ÿched
 *
roÙ
) \

71 
rb_node
 **
lšk
 = &
roÙ
->
rb_roÙ
.rb_node, *
rb_·»Á
 = 
NULL
; \

72 
ITTYPE
 
¡¬t
 = 
	`ITSTART
(
node
), 
Ï¡
 = 
	`ITLAST
(node); \

73 
ITSTRUCT
 *
·»Á
; \

74 
boÞ
 
Ëámo¡
 = 
Œue
; \

76 *
lšk
) { \

77 
rb_·»Á
 = *
lšk
; \

78 
·»Á
 = 
	`rb_’Œy
(
rb_·»Á
, 
ITSTRUCT
, 
ITRB
); \

79 ià(
·»Á
->
ITSUBTREE
 < 
Ï¡
) \

80 
·»Á
->
ITSUBTREE
 = 
Ï¡
; \

81 ià(
¡¬t
 < 
	`ITSTART
(
·»Á
)) \

82 
lšk
 = &
·»Á
->
ITRB
.
rb_Ëá
; \

84 
lšk
 = &
·»Á
->
ITRB
.
rb_right
; \

85 
Ëámo¡
 = 
çl£
; \

89 
node
->
ITSUBTREE
 = 
Ï¡
; \

90 
	`rb_lšk_node
(&
node
->
ITRB
, 
rb_·»Á
, 
lšk
); \

91 
	`rb_š£¹_augm’‹d_ÿched
(&
node
->
ITRB
, 
roÙ
, \

92 
Ëámo¡
, &
ITPREFIX
 ## 
_augm’t
); \

95 
ITSTATIC
 
ITPREFIX
 ## 
	`_»move
(
ITSTRUCT
 *
node
, \

96 
rb_roÙ_ÿched
 *
roÙ
) \

98 
	`rb_”a£_augm’‹d_ÿched
(&
node
->
ITRB
, 
roÙ
, &
ITPREFIX
 ## 
_augm’t
); \

110 
ITSTRUCT
 * \

111 
ITPREFIX
 ## 
	`_subŒ“_£¬ch
(
ITSTRUCT
 *
node
, 
ITTYPE
 
¡¬t
, ITTYPE 
Ï¡
) \

113 
Œue
) { \

118 ià(
node
->
ITRB
.
rb_Ëá
) { \

119 
ITSTRUCT
 *
Ëá
 = 
	`rb_’Œy
(
node
->
ITRB
.
rb_Ëá
, \

120 
ITSTRUCT
, 
ITRB
); \

121 ià(
¡¬t
 <ð
Ëá
->
ITSUBTREE
) { \

130 
node
 = 
Ëá
; \

134 ià(
	`ITSTART
(
node
è<ð
Ï¡
) { \

135 ià(
¡¬t
 <ð
	`ITLAST
(
node
)) \

136  
node
; \

137 ià(
node
->
ITRB
.
rb_right
) { \

138 
node
 = 
	`rb_’Œy
Òode->
ITRB
.
rb_right
, \

139 
ITSTRUCT
, 
ITRB
); \

140 ià(
¡¬t
 <ð
node
->
ITSUBTREE
) \

144  
NULL
; \

148 
ITSTATIC
 
ITSTRUCT
 * \

149 
ITPREFIX
 ## 
	`_™”_fœ¡
(
rb_roÙ_ÿched
 *
roÙ
, \

150 
ITTYPE
 
¡¬t
, ITTYPE 
Ï¡
) \

152 
ITSTRUCT
 *
node
, *
Ëámo¡
; \

154 ià(!
roÙ
->
rb_roÙ
.
rb_node
) \

155  
NULL
; \

170 
node
 = 
	`rb_’Œy
(
roÙ
->
rb_roÙ
.
rb_node
, 
ITSTRUCT
, 
ITRB
); \

171 ià(
node
->
ITSUBTREE
 < 
¡¬t
) \

172  
NULL
; \

174 
Ëámo¡
 = 
	`rb_’Œy
(
roÙ
->
rb_Ëámo¡
, 
ITSTRUCT
, 
ITRB
); \

175 ià(
	`ITSTART
(
Ëámo¡
è> 
Ï¡
) \

176  
NULL
; \

178  
ITPREFIX
 ## 
	`_subŒ“_£¬ch
(
node
, 
¡¬t
, 
Ï¡
); \

181 
ITSTATIC
 
ITSTRUCT
 * \

182 
ITPREFIX
 ## 
	`_™”_Ãxt
(
ITSTRUCT
 *
node
, 
ITTYPE
 
¡¬t
, ITTYPE 
Ï¡
) \

184 
rb_node
 *
rb
 = 
node
->
ITRB
.
rb_right
, *
´ev
; \

186 
Œue
) { \

194 ià(
rb
) { \

195 
ITSTRUCT
 *
right
 = 
	`rb_’Œy
(
rb
, ITSTRUCT, 
ITRB
); \

196 ià(
¡¬t
 <ð
right
->
ITSUBTREE
) \

197  
ITPREFIX
 ## 
	`_subŒ“_£¬ch
(
right
, \

198 
¡¬t
, 
Ï¡
); \

203 
rb
 = 
	`rb_·»Á
(&
node
->
ITRB
); \

204 ià(!
rb
) \

205  
NULL
; \

206 
´ev
 = &
node
->
ITRB
; \

207 
node
 = 
	`rb_’Œy
(
rb
, 
ITSTRUCT
, 
ITRB
); \

208 
rb
 = 
node
->
ITRB
.
rb_right
; \

209 } 
´ev
 =ð
rb
); \

212 ià(
Ï¡
 < 
	`ITSTART
(
node
)) \

213  
NULL
; \

214 ià(
¡¬t
 <ð
	`ITLAST
(
node
)) \

215  
node
; \

217 }

	)

	@src/common/linuxkpi/gplv2/include/linux/io.h

1 #iâdef 
_LINUX_GPLV2_IO_H_


2 
	#_LINUX_GPLV2_IO_H_


	)

4 #šþude_Ãxˆ<
lšux
/
io
.
h
>

6 #ià
defšed
(
__amd64__
è|| defšed(
__i386__
è|| defšed(
__pow”pc__
)

7 
¬ch_io_»£rve_memty³_wc
(
»sourû_size_t
 
¡¬t
,„esourû_size_ˆ
size
);

8 
¬ch_io_ä“_memty³_wc
(
»sourû_size_t
 
¡¬t
,„esourû_size_ˆ
size
);

	@src/common/linuxkpi/gplv2/include/linux/iommu.h

19 #iâdeà
__LINUX_IOMMU_H


20 
	#__LINUX_IOMMU_H


	)

22 
	~<lšux/sÿ‰”li¡.h
>

23 
	~<lšux/deviû.h
>

24 
	~<lšux/ty³s.h
>

25 
	~<lšux/”ºo.h
>

26 
	~<lšux/”r.h
>

27 
	~<lšux/of.h
>

29 
	#IOMMU_READ
 (1 << 0)

	)

30 
	#IOMMU_WRITE
 (1 << 1)

	)

31 
	#IOMMU_CACHE
 (1 << 2è

	)

32 
	#IOMMU_NOEXEC
 (1 << 3)

	)

33 
	#IOMMU_MMIO
 (1 << 4è

	)

43 
	#IOMMU_PRIV
 (1 << 5)

	)

45 
	giommu_Ýs
;

46 
	giommu_group
;

47 
	gbus_ty³
;

48 
	gdeviû
;

49 
	giommu_domaš
;

50 
	gnÙif›r_block
;

53 
	#IOMMU_FAULT_READ
 0x0

	)

54 
	#IOMMU_FAULT_WRITE
 0x1

	)

56 (*
	tiommu_çuÉ_hªdËr_t
)(
	tiommu_domaš
 *,

57 
	tdeviû
 *, , , *);

59 
	siommu_domaš_geom‘ry
 {

60 
dma_addr_t
 
­”tu»_¡¬t
;

61 
dma_addr_t
 
­”tu»_’d
;

62 
boÞ
 
fÜû_­”tu»
;

66 
	#__IOMMU_DOMAIN_PAGING
 (1U << 0è

	)

67 
	#__IOMMU_DOMAIN_DMA_API
 (1U << 1è

	)

69 
	#__IOMMU_DOMAIN_PT
 (1U << 2è

	)

83 
	#IOMMU_DOMAIN_BLOCKED
 (0U)

	)

84 
	#IOMMU_DOMAIN_IDENTITY
 (
__IOMMU_DOMAIN_PT
)

	)

85 
	#IOMMU_DOMAIN_UNMANAGED
 (
__IOMMU_DOMAIN_PAGING
)

	)

86 
	#IOMMU_DOMAIN_DMA
 (
__IOMMU_DOMAIN_PAGING
 | \

87 
__IOMMU_DOMAIN_DMA_API
)

	)

89 
	siommu_domaš
 {

90 
ty³
;

91 cÚ¡ 
iommu_Ýs
 *
Ýs
;

92 
pgsize_b™m­
;

93 
iommu_çuÉ_hªdËr_t
 
hªdËr
;

94 *
hªdËr_tok’
;

95 
iommu_domaš_geom‘ry
 
geom‘ry
;

96 *
iova_cook›
;

99 
	eiommu_ÿp
 {

100 
IOMMU_CAP_CACHE_COHERENCY
,

102 
IOMMU_CAP_INTR_REMAP
,

103 
IOMMU_CAP_NOEXEC
,

119 
	eiommu_©Œ
 {

120 
DOMAIN_ATTR_GEOMETRY
,

121 
DOMAIN_ATTR_PAGING
,

122 
DOMAIN_ATTR_WINDOWS
,

123 
DOMAIN_ATTR_FSL_PAMU_STASH
,

124 
DOMAIN_ATTR_FSL_PAMU_ENABLE
,

125 
DOMAIN_ATTR_FSL_PAMUV1
,

126 
DOMAIN_ATTR_NESTING
,

127 
DOMAIN_ATTR_MAX
,

131 
	eiommu_»sv_ty³
 {

133 
IOMMU_RESV_DIRECT
,

135 
IOMMU_RESV_RESERVED
,

137 
IOMMU_RESV_MSI
,

139 
IOMMU_RESV_SW_MSI
,

150 
	siommu_»sv_»giÚ
 {

151 
li¡_h—d
 
li¡
;

152 
phys_addr_t
 
¡¬t
;

153 
size_t
 
Ëngth
;

154 
´Ù
;

155 
iommu_»sv_ty³
 
ty³
;

158 #ifdeà
CONFIG_IOMMU_API


166 
	siommu_Ýs
 {};

167 
	siommu_group
 {};

168 
	siommu_fw¥ec
 {};

169 
	siommu_deviû
 {};

171 
šlše
 
boÞ
 
	$iommu_´e£Á
(
bus_ty³
 *
bus
)

173  
çl£
;

174 
	}
}

176 
šlše
 
boÞ
 
	$iommu_ÿ·bË
(
bus_ty³
 *
bus
, 
iommu_ÿp
 
ÿp
)

178  
çl£
;

179 
	}
}

181 
šlše
 
iommu_domaš
 *
	$iommu_domaš_®loc
(
bus_ty³
 *
bus
)

183  
NULL
;

184 
	}
}

186 
šlše
 
iommu_group
 *
	$iommu_group_g‘_by_id
(
id
)

188  
NULL
;

189 
	}
}

191 
šlše
 
	$iommu_domaš_ä“
(
iommu_domaš
 *
domaš
)

193 
	}
}

195 
šlše
 
	$iommu_©ch_deviû
(
iommu_domaš
 *
domaš
,

196 
deviû
 *
dev
)

198  -
ENODEV
;

199 
	}
}

201 
šlše
 
	$iommu_d‘ach_deviû
(
iommu_domaš
 *
domaš
,

202 
deviû
 *
dev
)

204 
	}
}

206 
šlše
 
iommu_domaš
 *
	$iommu_g‘_domaš_fÜ_dev
(
deviû
 *
dev
)

208  
NULL
;

209 
	}
}

211 
šlše
 
	$iommu_m­
(
iommu_domaš
 *
domaš
, 
iova
,

212 
phys_addr_t
 
·ddr
, 
size_t
 
size
, 
´Ù
)

214  -
ENODEV
;

215 
	}
}

217 
šlše
 
	$iommu_unm­
(
iommu_domaš
 *
domaš
, 
iova
,

218 
size_t
 
size
)

220  -
ENODEV
;

221 
	}
}

223 
šlše
 
	$iommu_unm­_ç¡
(
iommu_domaš
 *
domaš
, 
iova
,

224 
gå_Üd”
)

226  -
ENODEV
;

227 
	}
}

229 
šlše
 
size_t
 
	$iommu_m­_sg
(
iommu_domaš
 *
domaš
,

230 
iova
, 
sÿ‰”li¡
 *
sg
,

231 
ÃÁs
, 
´Ù
)

233  -
ENODEV
;

234 
	}
}

236 
šlše
 
	$iommu_æush_Žb_®l
(
iommu_domaš
 *
domaš
)

238 
	}
}

240 
šlše
 
	$iommu_Žb_¿nge_add
(
iommu_domaš
 *
domaš
,

241 
iova
, 
size_t
 
size
)

243 
	}
}

245 
šlše
 
	$iommu_Žb_sync
(
iommu_domaš
 *
domaš
)

247 
	}
}

249 
šlše
 
	$iommu_domaš_wšdow_’abË
(
iommu_domaš
 *
domaš
,

250 
u32
 
wnd_Ä
, 
phys_addr_t
 
·ddr
,

251 
u64
 
size
, 
´Ù
)

253  -
ENODEV
;

254 
	}
}

256 
šlše
 
	$iommu_domaš_wšdow_di§bË
(
iommu_domaš
 *
domaš
,

257 
u32
 
wnd_Ä
)

259 
	}
}

261 
šlše
 
phys_addr_t
 
	$iommu_iova_to_phys
(
iommu_domaš
 *
domaš
, 
dma_addr_t
 
iova
)

264 
	}
}

266 
šlše
 
	$iommu_£t_çuÉ_hªdËr
(
iommu_domaš
 *
domaš
,

267 
iommu_çuÉ_hªdËr_t
 
hªdËr
, *
tok’
)

269 
	}
}

271 
šlše
 
	$iommu_g‘_»sv_»giÚs
(
deviû
 *
dev
,

272 
li¡_h—d
 *
li¡
)

274 
	}
}

276 
šlše
 
	$iommu_put_»sv_»giÚs
(
deviû
 *
dev
,

277 
li¡_h—d
 *
li¡
)

279 
	}
}

281 
šlše
 
	$iommu_g‘_group_»sv_»giÚs
(
iommu_group
 *
group
,

282 
li¡_h—d
 *
h—d
)

284  -
ENODEV
;

285 
	}
}

287 
šlše
 
	$iommu_»que¡_dm_fÜ_dev
(
deviû
 *
dev
)

289  -
ENODEV
;

290 
	}
}

292 
šlše
 
	$iommu_©ch_group
(
iommu_domaš
 *
domaš
,

293 
iommu_group
 *
group
)

295  -
ENODEV
;

296 
	}
}

298 
šlše
 
	$iommu_d‘ach_group
(
iommu_domaš
 *
domaš
,

299 
iommu_group
 *
group
)

301 
	}
}

303 
šlše
 
iommu_group
 *
	$iommu_group_®loc
()

305  
	`ERR_PTR
(-
ENODEV
);

306 
	}
}

308 
šlše
 *
	$iommu_group_g‘_iommud©a
(
iommu_group
 *
group
)

310  
NULL
;

311 
	}
}

313 
šlše
 
iommu_group_£t_iommud©a
(
iommu_group
 *
group
,

314 *
iommu_d©a
,

315 (*
»Ëa£
)(*
iommu_d©a
))

317 
	}
}

319 
šlše
 
	$iommu_group_£t_Çme
(
iommu_group
 *
group
,

320 cÚ¡ *
Çme
)

322  -
ENODEV
;

323 
	}
}

325 
šlše
 
	$iommu_group_add_deviû
(
iommu_group
 *
group
,

326 
deviû
 *
dev
)

328  -
ENODEV
;

329 
	}
}

331 
šlše
 
	$iommu_group_»move_deviû
(
deviû
 *
dev
)

333 
	}
}

335 
šlše
 
iommu_group_fÜ_—ch_dev
(
iommu_group
 *
group
,

336 *
d©a
,

337 (*
â
)(
deviû
 *, *))

339  -
ENODEV
;

340 
	}
}

342 
šlše
 
iommu_group
 *
	$iommu_group_g‘
(
deviû
 *
dev
)

344  
NULL
;

345 
	}
}

347 
šlše
 
	$iommu_group_put
(
iommu_group
 *
group
)

349 
	}
}

351 
šlše
 
	$iommu_group_»gi¡”_nÙif›r
(
iommu_group
 *
group
,

352 
nÙif›r_block
 *
nb
)

354  -
ENODEV
;

355 
	}
}

357 
šlše
 
	$iommu_group_uÄegi¡”_nÙif›r
(
iommu_group
 *
group
,

358 
nÙif›r_block
 *
nb
)

361 
	}
}

363 
šlše
 
	$iommu_group_id
(
iommu_group
 *
group
)

365  -
ENODEV
;

366 
	}
}

368 
šlše
 
	$iommu_domaš_g‘_©Œ
(
iommu_domaš
 *
domaš
,

369 
iommu_©Œ
 
©Œ
, *
d©a
)

371  -
EINVAL
;

372 
	}
}

374 
šlše
 
	$iommu_domaš_£t_©Œ
(
iommu_domaš
 *
domaš
,

375 
iommu_©Œ
 
©Œ
, *
d©a
)

377  -
EINVAL
;

378 
	}
}

380 
šlše
 
	$iommu_deviû_»gi¡”
(
iommu_deviû
 *
iommu
)

382  -
ENODEV
;

383 
	}
}

385 
šlše
 
	$iommu_deviû_£t_Ýs
(
iommu_deviû
 *
iommu
,

386 cÚ¡ 
iommu_Ýs
 *
Ýs
)

388 
	}
}

390 
šlše
 
	$iommu_deviû_£t_fwnode
(
iommu_deviû
 *
iommu
,

391 
fwnode_hªdË
 *
fwnode
)

393 
	}
}

395 
šlše
 
iommu_deviû
 *
	$dev_to_iommu_deviû
(
deviû
 *
dev
)

397  
NULL
;

398 
	}
}

400 
šlše
 
	$iommu_deviû_uÄegi¡”
(
iommu_deviû
 *
iommu
)

402 
	}
}

404 
šlše
 
	$iommu_deviû_sysfs_add
(
iommu_deviû
 *
iommu
,

405 
deviû
 *
·»Á
,

406 cÚ¡ 
©Œibu‹_group
 **
groups
,

407 cÚ¡ *
fmt
, ...)

409  -
ENODEV
;

410 
	}
}

412 
šlše
 
	$iommu_deviû_sysfs_»move
(
iommu_deviû
 *
iommu
)

414 
	}
}

416 
šlše
 
	$iommu_deviû_lšk
(
deviû
 *
dev
, deviû *
lšk
)

418  -
EINVAL
;

419 
	}
}

421 
šlše
 
	$iommu_deviû_uÆšk
(
deviû
 *
dev
, deviû *
lšk
)

423 
	}
}

425 
šlše
 
	$iommu_fw¥ec_š™
(
deviû
 *
dev
,

426 
fwnode_hªdË
 *
iommu_fwnode
,

427 cÚ¡ 
iommu_Ýs
 *
Ýs
)

429  -
ENODEV
;

430 
	}
}

432 
šlše
 
	$iommu_fw¥ec_ä“
(
deviû
 *
dev
)

434 
	}
}

436 
šlše
 
	$iommu_fw¥ec_add_ids
(
deviû
 *
dev
, 
u32
 *
ids
,

437 
num_ids
)

439  -
ENODEV
;

440 
	}
}

442 
šlše


443 cÚ¡ 
iommu_Ýs
 *
	$iommu_Ýs_äom_fwnode
(
fwnode_hªdË
 *
fwnode
)

445  
NULL
;

446 
	}
}

	@src/common/linuxkpi/gplv2/include/linux/irq.h

1 #iâdeà
_LINUX_IRQ_H


2 
	#_LINUX_IRQ_H


	)

4 
	~<lšux/smp.h
>

5 
	~<lšux/ÿche.h
>

6 
	~<lšux/¥šlock.h
>

7 
	~<lšux/gå.h
>

8 
	~<lšux/š‹¼u±.h
>

9 
	~<lšux/œqhªdËr.h
>

10 
	~<lšux/”ºo.h
>

11 
	~<lšux/wa™.h
>

12 
	~<lšux/io.h
>

13 
	~<lšux/kth»ad.h
>

14 
	~<lšux/b™m­.h
>

16 
	~<asm/´oûssÜ.h
>

18 #ià
defšed
(
__i386__
è|| defšed(
__amd64__
è|| defšed(
__pow”pc__
)

19 
	#NR_IRQS
 512

	)

24 
	#IRQ_BITMAP_BITS
 
NR_IRQS


	)

26 
mu‹x
 
¥¬£_œq_lock
;

28 
DECLARE_BITMAP
(
®loÿ‹d_œqs
, 
IRQ_BITMAP_BITS
);

30 
œq_ch
 
no_œq_ch
;

31 
	gmsi_desc
;

32 
Ä_œqs
;

33 
	sœq_commÚ_d©a
 {

34 
	m¡©e_u£_acûssÜs
;

35 *
	mhªdËr_d©a
;

36 
msi_desc
 *
	mmsi_desc
;

39 
	sœq_d©a
 {

40 
u32
 
	mmask
;

41 
	mœq
;

42 
	mhwœq
;

43 
œq_commÚ_d©a
 *
	mcommÚ
;

44 
œq_ch
 *
	mch
;

45 
œq_domaš
 *
	mdomaš
;

46 *
	mch_d©a
;

49 
	sœq_ch
 {

50 cÚ¡ *
	mÇme
;

51 (*
	mœq_mask
)(
œq_d©a
 *
	md©a
);

52 (*
	mœq_unmask
)(
œq_d©a
 *
	md©a
);

54 #iâdeà
ARCH_IRQ_INIT_FLAGS


55 
	#ARCH_IRQ_INIT_FLAGS
 0

	)

58 
	#IRQ_DEFAULT_INIT_FLAGS
 
ARCH_IRQ_INIT_FLAGS


	)

61 
	mIRQCHIP_SET_TYPE_MASKED
 = (1 << 0),

62 
	mIRQCHIP_EOI_IF_HANDLED
 = (1 << 1),

63 
	mIRQCHIP_MASK_ON_SUSPEND
 = (1 << 2),

64 
	mIRQCHIP_ONOFFLINE_ENABLED
 = (1 << 3),

65 
	mIRQCHIP_SKIP_SET_WAKE
 = (1 << 4),

66 
	mIRQCHIP_ONESHOT_SAFE
 = (1 << 5),

67 
	mIRQCHIP_EOI_THREADED
 = (1 << 6),

70 
	sœqaùiÚ
 {

71 
œq_hªdËr_t
 
	mhªdËr
;

72 *
	mdev_id
;

73 
œqaùiÚ
 *
	mÃxt
;

74 
œq_hªdËr_t
 
	mth»ad_â
;

75 
sk_¡ruù
 *
	mth»ad
;

76 
œqaùiÚ
 *
	m£cÚd¬y
;

77 
	mœq
;

78 
	mæags
;

79 
	mth»ad_æags
;

80 
	mth»ad_mask
;

81 cÚ¡ *
	mÇme
;

84 
	~<lšux/œqdesc.h
>

87 
	mIRQ_TYPE_NONE
 = 0x00000000,

88 
	mIRQ_TYPE_EDGE_RISING
 = 0x00000001,

89 
	mIRQ_TYPE_EDGE_FALLING
 = 0x00000002,

90 
	mIRQ_TYPE_EDGE_BOTH
 = (
IRQ_TYPE_EDGE_FALLING
 | 
IRQ_TYPE_EDGE_RISING
),

91 
	mIRQ_TYPE_LEVEL_HIGH
 = 0x00000004,

92 
	mIRQ_TYPE_LEVEL_LOW
 = 0x00000008,

93 
	mIRQ_TYPE_LEVEL_MASK
 = (
IRQ_TYPE_LEVEL_LOW
 | 
IRQ_TYPE_LEVEL_HIGH
),

94 
	mIRQ_TYPE_SENSE_MASK
 = 0x0000000f,

95 
	mIRQ_TYPE_DEFAULT
 = 
IRQ_TYPE_SENSE_MASK
,

97 
	mIRQ_TYPE_PROBE
 = 0x00000010,

99 
	mIRQ_LEVEL
 = (1 << 8),

100 
	mIRQ_PER_CPU
 = (1 << 9),

101 
	mIRQ_NOPROBE
 = (1 << 10),

102 
	mIRQ_NOREQUEST
 = (1 << 11),

103 
	mIRQ_NOAUTOEN
 = (1 << 12),

104 
	mIRQ_NO_BALANCING
 = (1 << 13),

105 
	mIRQ_MOVE_PCNTXT
 = (1 << 14),

106 
	mIRQ_NESTED_THREAD
 = (1 << 15),

107 
	mIRQ_NOTHREAD
 = (1 << 16),

108 
	mIRQ_PER_CPU_DEVID
 = (1 << 17),

109 
	mIRQ_IS_POLLED
 = (1 << 18),

110 
	mIRQ_DISABLE_UNLAZY
 = (1 << 19),

114 
	mIRQD_TRIGGER_MASK
 = 0xf,

115 
	mIRQD_SETAFFINITY_PENDING
 = (1 << 8),

116 
	mIRQD_NO_BALANCING
 = (1 << 10),

117 
	mIRQD_PER_CPU
 = (1 << 11),

118 
	mIRQD_AFFINITY_SET
 = (1 << 12),

119 
	mIRQD_LEVEL
 = (1 << 13),

120 
	mIRQD_WAKEUP_STATE
 = (1 << 14),

121 
	mIRQD_MOVE_PCNTXT
 = (1 << 15),

122 
	mIRQD_IRQ_DISABLED
 = (1 << 16),

123 
	mIRQD_IRQ_MASKED
 = (1 << 17),

124 
	mIRQD_IRQ_INPROGRESS
 = (1 << 18),

125 
	mIRQD_WAKEUP_ARMED
 = (1 << 19),

126 
	mIRQD_FORWARDED_TO_VCPU
 = (1 << 20),

130 
	mIRQS_AUTODETECT
 = 0x00000001,

131 
	mIRQS_SPURIOUS_DISABLED
 = 0x00000002,

132 
	mIRQS_POLL_INPROGRESS
 = 0x00000008,

133 
	mIRQS_ONESHOT
 = 0x00000020,

134 
	mIRQS_REPLAY
 = 0x00000040,

135 
	mIRQS_WAITING
 = 0x00000080,

136 
	mIRQS_PENDING
 = 0x00000200,

137 
	mIRQS_SUSPENDED
 = 0x00000800,

141 
	mIRQTF_RUNTHREAD
,

142 
	mIRQTF_WARNED
,

143 
	mIRQTF_AFFINITY
,

144 
	mIRQTF_FORCED_THREAD
,

148 
	#IRQF_MODIFY_MASK
 \

149 (
IRQ_TYPE_SENSE_MASK
 | 
IRQ_NOPROBE
 | 
IRQ_NOREQUEST
 | \

150 
IRQ_NOAUTOEN
 | 
IRQ_MOVE_PCNTXT
 | 
IRQ_LEVEL
 | 
IRQ_NO_BALANCING
 | \

151 
IRQ_PER_CPU
 | 
IRQ_NESTED_THREAD
 | 
IRQ_NOTHREAD
 | 
IRQ_PER_CPU_DEVID
 | \

152 
IRQ_IS_POLLED
 | 
IRQ_DISABLE_UNLAZY
)

	)

155 
	m_IRQ_DEFAULT_INIT_FLAGS
 = 
IRQ_DEFAULT_INIT_FLAGS
,

156 
	m_IRQ_PER_CPU
 = 
IRQ_PER_CPU
,

157 
	m_IRQ_LEVEL
 = 
IRQ_LEVEL
,

158 
	m_IRQ_NOPROBE
 = 
IRQ_NOPROBE
,

159 
	m_IRQ_NOREQUEST
 = 
IRQ_NOREQUEST
,

160 
	m_IRQ_NOTHREAD
 = 
IRQ_NOTHREAD
,

161 
	m_IRQ_NOAUTOEN
 = 
IRQ_NOAUTOEN
,

162 
	m_IRQ_MOVE_PCNTXT
 = 
IRQ_MOVE_PCNTXT
,

163 
	m_IRQ_NO_BALANCING
 = 
IRQ_NO_BALANCING
,

164 
	m_IRQ_NESTED_THREAD
 = 
IRQ_NESTED_THREAD
,

165 
	m_IRQ_PER_CPU_DEVID
 = 
IRQ_PER_CPU_DEVID
,

166 
	m_IRQ_IS_POLLED
 = 
IRQ_IS_POLLED
,

167 
	m_IRQ_DISABLE_UNLAZY
 = 
IRQ_DISABLE_UNLAZY
,

168 
	m_IRQF_MODIFY_MASK
 = 
IRQF_MODIFY_MASK
,

172 
	#lšux_œqd_to_¡©e
(
d
è((d)->
commÚ
->
¡©e_u£_acûssÜs
)

	)

174 
šlše
 

175 
	$œq_£‰šgs_þr_ªd_£t
(
œq_desc
 *
desc
, 
u32
 
þr
, u32 
£t
)

177 
desc
->
¡©us_u£_acûssÜs
 &ð~(
þr
 & 
_IRQF_MODIFY_MASK
);

178 
desc
->
¡©us_u£_acûssÜs
 |ð(
£t
 & 
_IRQF_MODIFY_MASK
);

179 
	}
}

181 
šlše
 
u32
 
	$œq_£‰šgs_g‘_Œigg”_mask
(
œq_desc
 *
desc
)

183  
desc
->
¡©us_u£_acûssÜs
 & 
IRQ_TYPE_SENSE_MASK
;

184 
	}
}

186 
šlše
 

187 
	$œq_£‰šgs_£t_Œigg”_mask
(
œq_desc
 *
desc
, 
u32
 
mask
)

189 
desc
->
¡©us_u£_acûssÜs
 &ð~
IRQ_TYPE_SENSE_MASK
;

190 
desc
->
¡©us_u£_acûssÜs
 |ð
mask
 & 
IRQ_TYPE_SENSE_MASK
;

191 
	}
}

193 
šlše
 

194 
	$œqd_þ—r
(
œq_d©a
 *
d
, 
mask
)

196 
	`lšux_œqd_to_¡©e
(
d
è&ð~
mask
;

197 
	}
}

199 
šlše
 

200 
	$œqd_£t
(
œq_d©a
 *
d
, 
mask
)

202 
	`lšux_œqd_to_¡©e
(
d
è|ð
mask
;

203 
	}
}

205 
šlše
 

206 
	$œq_modify_¡©us
(
œq
, 
þr
, 
£t
)

208 
æags
;

209 
œq_desc
 *
desc
 = 
	`œq_g‘_desc_lock
(
œq
, &
æags
, 0);

211 ià(!
desc
)

213 
	`œq_£‰šgs_þr_ªd_£t
(
desc
, 
þr
, 
£t
);

215 
	`œqd_þ—r
(&
desc
->
œq_d©a
, 
IRQD_NO_BALANCING
 | 
IRQD_PER_CPU
 |

216 
IRQD_TRIGGER_MASK
 | 
IRQD_LEVEL
 | 
IRQD_MOVE_PCNTXT
);

217 
	`œqd_£t
(&
desc
->
œq_d©a
, 
	`œq_£‰šgs_g‘_Œigg”_mask
(desc));

219 
	`œq_put_desc_uÆock
(
desc
, 
æags
);

220 
	}
}

223 
	#œq_®loc_descs_äom
(
äom
, 
út
, 
node
) \

224 
	`œq_®loc_descs
(-1, 
äom
, 
út
, 
node
)

	)

227 
šlše
 
	$œq_£t_¡©us_æags
(
œq
, 
£t
)

229 
	`œq_modify_¡©us
(
œq
, 0, 
£t
);

230 
	}
}

232 
šlše
 
	$œq_þ—r_¡©us_æags
(
œq
, 
þr
)

234 
	`œq_modify_¡©us
(
œq
, 
þr
, 0);

235 
	}
}

238 
šlše
 
boÞ


239 
	$œqd_has_£t
(
œq_d©a
 *
d
, 
mask
)

241  
	`lšux_œqd_to_¡©e
(
d
è& 
mask
;

242 
	}
}

244 
šlše
 
boÞ


245 
	$œqd_œq_di§bËd
(
œq_d©a
 *
d
)

247  
	`lšux_œqd_to_¡©e
(
d
è& 
IRQD_IRQ_DISABLED
;

248 
	}
}

250 
šlše
 
boÞ


251 
	$œqd_œq_š´og»ss
(
œq_d©a
 *
d
)

253  
	`lšux_œqd_to_¡©e
(
d
è& 
IRQD_IRQ_INPROGRESS
;

254 
	}
}

257 
šlše
 
boÞ


258 
	$œq_wa™_fÜ_pÞl
(
œq_desc
 *
desc
)

262 
	`¥š_uÆock
(&
desc
->
lock
);

263 
	`œqd_œq_š´og»ss
(&
desc
->
œq_d©a
))

264 
	`ýu_»Ïx
();

265 
	`¥š_lock
(&
desc
->
lock
);

266 } 
	`œqd_œq_š´og»ss
(&
desc
->
œq_d©a
));

268  !
	`œqd_œq_di§bËd
(&
desc
->
œq_d©a
è&& desc->
aùiÚ
;

269 
	}
}

271 
šlše
 
boÞ


272 
	$œq_check_pÞl
(
œq_desc
 *
desc
)

274 ià(!(
desc
->
i¡©e
 & 
IRQS_POLL_INPROGRESS
))

275  
çl£
;

276  
	`œq_wa™_fÜ_pÞl
(
desc
);

277 
	}
}

279 
šlše
 
boÞ


280 
	$œq_pm_check_wakeup
(
œq_desc
 *
desc
)

282  (
çl£
);

283 
	}
}

285 
šlše
 
boÞ


286 
	$œq_may_run
(
œq_desc
 *
desc
)

288 
mask
 = 
IRQD_IRQ_INPROGRESS
 | 
IRQD_WAKEUP_ARMED
;

290 ià(!
	`œqd_has_£t
(&
desc
->
œq_d©a
, 
mask
))

291  
Œue
;

293 ià(
	`œq_pm_check_wakeup
(
desc
))

294  
çl£
;

296  
	`œq_check_pÞl
(
desc
);

297 
	}
}

299 
šlše
 

300 
	$lšux_œq_wake_th»ad
(
œq_desc
 *
desc
, 
œqaùiÚ
 *
aùiÚ
)

302 ià(
	`kth»ad_should_¡Ý_sk
(
aùiÚ
->
th»ad
))

304 ià(
	`‹¡_ªd_£t_b™
(
IRQTF_RUNTHREAD
, &
aùiÚ
->
th»ad_æags
))

306 
desc
->
th»ads_ÚeshÙ
 |ð
aùiÚ
->
th»ad_mask
;

307 
	`©omic_šc
(&
desc
->
th»ads_aùive
);

308 
	`wake_up_´oûss
(
aùiÚ
->
th»ad
);

309 
	}
}

311 
šlše
 
œq»tuº_t


312 
	$hªdË_œq_ev’t_³rýu
(
œq_desc
 *
desc
)

314 
œq»tuº_t
 
»tv®
 = 
IRQ_NONE
;

315 
æags
 = 0, 
œq
 = 
desc
->
œq_d©a
.irq;

316 
œqaùiÚ
 *
aùiÚ
;

318 
	`fÜ_—ch_aùiÚ_of_desc
(
desc
, 
aùiÚ
) {

319 
œq»tuº_t
 
»s
;

321 
»s
 = 
aùiÚ
->
	`hªdËr
(
œq
,‡ùiÚ->
dev_id
);

322 
»s
) {

323 
IRQ_WAKE_THREAD
:

324 
	`MPASS
(
aùiÚ
->
th»ad_â
 !ð
NULL
);

325 
	`lšux_œq_wake_th»ad
(
desc
, 
aùiÚ
);

326 
IRQ_HANDLED
:

327 
æags
 |ð
aùiÚ
->flags;

332 
»tv®
 |ð
»s
;

334  (
»tv®
);

335 
	}
}

337 
šlše
 
œq»tuº_t


338 
	$hªdË_œq_ev’t
(
œq_desc
 *
desc
)

340 
œq»tuº_t
 
»t
;

342 
desc
->
i¡©e
 &ð~
IRQS_PENDING
;

343 
	`œqd_£t
(&
desc
->
œq_d©a
, 
IRQD_IRQ_INPROGRESS
);

344 
	`¥š_uÆock
(&
desc
->
lock
);

346 
»t
 = 
	`hªdË_œq_ev’t_³rýu
(
desc
);

348 
	`¥š_lock
(&
desc
->
lock
);

349 
	`œqd_þ—r
(&
desc
->
œq_d©a
, 
IRQD_IRQ_INPROGRESS
);

350  
»t
;

351 
	}
}

353 
šlše
 

354 
	$hªdË_sim¶e_œq
(
œq_desc
 *
desc
)

356 
	`¥š_lock
(&
desc
->
lock
);

358 ià(!
	`œq_may_run
(
desc
))

359 
out_uÆock
;

361 
desc
->
i¡©e
 &ð~(
IRQS_REPLAY
 | 
IRQS_WAITING
);

363 ià(
	`uÆik–y
(
desc
->
aùiÚ
 =ð
NULL
 || 
	`œqd_œq_di§bËd
(&desc->
œq_d©a
))) {

364 
desc
->
i¡©e
 |ð
IRQS_PENDING
;

365 
out_uÆock
;

368 
	`hªdË_œq_ev’t
(
desc
);

370 
out_uÆock
:

371 
	`¥š_uÆock
(&
desc
->
lock
);

373 
	}
}

375 
šlše
 

376 
	$œq_£t_ch
(
œq
, 
œq_ch
 *
ch
)

378 
æags
;

379 
œq_desc
 *
desc
 = 
	`œq_g‘_desc_lock
(
œq
, &
æags
, 0);

381 ià(!
desc
)

382  -
EINVAL
;

384 ià(!
ch
)

385 
ch
 = &
no_œq_ch
;

387 
desc
->
œq_d©a
.
ch
 = chip;

388 
	`œq_put_desc_uÆock
(
desc
, 
æags
);

390 
	}
}

392 
šlše
 

393 
	$lšux_œq_£t_hªdËr
(
œq
, 
œq_æow_hªdËr_t
 
hªdË
, 
is_chašed
,

394 cÚ¡ *
Çme
)

396 
æags
;

397 
œq_desc
 *
desc
 = 
	`œq_g‘_desc_lock
(
œq
, &
æags
, 0);

399 ià(!
desc
)

401 
desc
->
hªdË_œq
 = 
hªdË
;

402 
desc
->
Çme
 =‚ame;

403 
	`œq_put_desc_uÆock
(
desc
, 
æags
);

404 
	}
}

406 
šlše
 

407 
	$œq_£t_ch_ªd_hªdËr_Çme
(
œq
, 
œq_ch
 *
ch
,

408 
œq_æow_hªdËr_t
 
hªdË
, cÚ¡ *
Çme
)

410 
	`œq_£t_ch
(
œq
, 
ch
);

411 
	`lšux_œq_£t_hªdËr
(
œq
, 
hªdË
, 0, 
Çme
);

412 
	}
}

414 
šlše
 

415 
	$œq_£t_ch_ªd_hªdËr
(
œq
, 
œq_ch
 *
ch
,

416 
œq_æow_hªdËr_t
 
hªdË
)

418 
	`œq_£t_ch_ªd_hªdËr_Çme
(
œq
, 
ch
, 
hªdË
, 
NULL
);

419 
	}
}

421 
šlše
 

422 
	$œq_ex·nd_Ä_œqs
(
Ä
)

424 ià(
Ä
 > 
IRQ_BITMAP_BITS
)

425  -
ENOMEM
;

426 
Ä_œqs
 = 
Ä
;

428 
	}
}

430 
šlše
 

431 
	$œq_ä“_desc
(
œq
)

433 
œq_desc
 *
desc
 = 
	`œq_to_desc
(
œq
);

435 ià(
œq
 >ð
Ä_œqs
)

438 
	`mu‹x_lock
(&
¥¬£_œq_lock
);

439 
	`d–‘e_œq_desc
(
œq
);

440 
	`b™m­_þ—r
(
®loÿ‹d_œqs
, 
œq
, 1);

441 
	`mu‹x_uÆock
(&
¥¬£_œq_lock
);

442 
	`ÿÎ_rcu
(&
desc
->
rcu
, 
d–ayed_ä“_desc
);

443 
	}
}

445 
šlše
 

446 
	$œq_®loc_descs
(
œq
, 
äom
, 
út
, 
node
)

448 
¡¬t
, 
»t
;

450 ià(!
út
)

451  (-
EINVAL
);

453 ià(
œq
 >= 0) {

454 ià(
äom
 > 
œq
)

455  (-
EINVAL
);

456 
äom
 = 
œq
;

458 #ifdeà
__nÙy‘__


460 
äom
 = 
	`¬ch_dynœq_low”_bound
(from);

463 
	`mu‹x_lock
(&
¥¬£_œq_lock
);

465 
¡¬t
 = 
	`b™m­_fšd_Ãxt_z”o_¬—
(
®loÿ‹d_œqs
, 
IRQ_BITMAP_BITS
,

466 
äom
, 
út
, 0);

467 
»t
 = -
EEXIST
;

468 ià(
œq
 >=0 && 
¡¬t
 != irq)

469 
”r
;

471 ià(
¡¬t
 + 
út
 > 
Ä_œqs
) {

472 
»t
 = 
	`œq_ex·nd_Ä_œqs
(
¡¬t
 + 
út
);

473 ià(
»t
)

474 
”r
;

477 
	`b™m­_£t
(
®loÿ‹d_œqs
, 
¡¬t
, 
út
);

478 
	`mu‹x_uÆock
(&
¥¬£_œq_lock
);

479  (
¡¬t
);

481 
”r
:

482 
	`mu‹x_uÆock
(&
¥¬£_œq_lock
);

483  
»t
;

484 
	}
}

	@src/common/linuxkpi/gplv2/include/linux/irqdesc.h

1 #iâdeà
_LINUX_IRQDESC_H


2 
	#_LINUX_IRQDESC_H


	)

4 
	~<lšux/rcupd©e.h
>

5 
	~<lšux/idr.h
>

6 
	~<lšux/š‹¼u±.h
>

7 
	~<lšux/rcupd©e.h
>

8 
	~<lšux/¥šlock.h
>

10 
idr
 
œq_idr
;

11 
	sœq_desc
 {

12 
œq_d©a
 
	mœq_d©a
;

13 
œq_æow_hªdËr_t
 
	mhªdË_œq
;

14 
¥šlock_t
 
	mlock
;

15 
œqaùiÚ
 *
	maùiÚ
;

16 
	mi¡©e
;

17 
	m¡©us_u£_acûssÜs
;

18 
	mth»ads_ÚeshÙ
;

19 
©omic_t
 
	mth»ads_aùive
;

21 
rcu_h—d
 
	mrcu
;

22 cÚ¡ *
	mÇme
;

25 
	#fÜ_—ch_aùiÚ_of_desc
(
desc
, 
aù
) \

26 
aù
 = 
desc
->aù;‡ù;‡ù =‡ù->
Ãxt
)

	)

28 
šlše
 
œq_desc
 *

29 
	$œq_to_desc
(
œq
)

31  (
	`idr_fšd
(&
œq_idr
, 
œq
));

32 
	}
}

34 
šlše
 
œq_desc
 *

35 
	$œq_g‘_desc_lock
(
œq
, *
æags
, 
check
)

37 
œq_desc
 *
desc
 = 
	`œq_to_desc
(
œq
);

39 ià(
desc
)

40 
	`¥š_lock_œq§ve
(&
desc
->
lock
, *
æags
);

41  (
desc
);

42 
	}
}

44 
šlše
 

45 
	$œq_put_desc_uÆock
(
œq_desc
 *
desc
, 
æags
)

47 
	`¥š_uÆock_œq»¡Üe
(&
desc
->
lock
, 
æags
);

48 
	}
}

50 
šlše
 

51 
	$g’”ic_hªdË_œq_desc
(
œq_desc
 *
desc
)

53 
desc
->
	`hªdË_œq
(desc);

54 
	}
}

57 
šlše
 

58 
	$g’”ic_hªdË_œq
(
œq
)

60 
œq_desc
 *
desc
 = 
	`œq_to_desc
(
œq
);

62 ià(!
desc
)

63  -
EINVAL
;

64 
	`g’”ic_hªdË_œq_desc
(
desc
);

66 
	}
}

69 
šlše
 

70 
	$d–‘e_œq_desc
(
œq
)

72 
	`idr_»move
(&
œq_idr
, 
œq
);

73 
	}
}

76 
šlše
 

77 
	$d–ayed_ä“_desc
(
rcu_h—d
 *
rhp
)

79 
œq_desc
 *
desc
 = 
	`cÚš”_of
(
rhp
, œq_desc, 
rcu
);

81 
	`kä“
(
desc
);

82 
	}
}

	@src/common/linuxkpi/gplv2/include/linux/irqdomain.h

2 #iâdeà
_LINUX_IRQDOMAIN_H


3 
	#_LINUX_IRQDOMAIN_H


	)

5 
	~<lšux/ty³s.h
>

6 
	~<lšux/œqhªdËr.h
>

7 
	~<lšux/of.h
>

8 
	~<lšux/¿dix-Œ“.h
>

9 
	~<lšux/œq.h
>

12 
	gœq_domaš_Ýs
;

13 
mu‹x
 
œq_domaš_mu‹x
;

14 
œq_domaš
 *
œq_deçuÉ_domaš
;

16 
mu‹x
 
»vm­_Œ“s_mu‹x
;

17 
li¡_h—d
 
œq_domaš_li¡
;

19 
	sœq_domaš
 {

20 
li¡_h—d
 
	mlšk
;

21 cÚ¡ *
	mÇme
;

22 cÚ¡ 
œq_domaš_Ýs
 *
	mÝs
;

23 *
	mho¡_d©a
;

24 
	mæags
;

26 
fwnode_hªdË
 *
	mfwnode
;

29 
œq_hw_numb”_t
 
	mhwœq_max
;

30 
	m»vm­_dœeù_max_œq
;

31 
	m»vm­_size
;

32 
¿dix_Œ“_roÙ
 
	m»vm­_Œ“
;

33 
	mlš—r_»vm­
[];

37 
	eœq_domaš_bus_tok’
 {

38 
	mDOMAIN_BUS_ANY
 = 0,

39 
	mDOMAIN_BUS_WIRED
,

40 
	mDOMAIN_BUS_PCI_MSI
,

41 
	mDOMAIN_BUS_PLATFORM_MSI
,

42 
	mDOMAIN_BUS_NEXUS
,

43 
	mDOMAIN_BUS_IPI
,

44 
	mDOMAIN_BUS_FSL_MC_MSI
,

48 
	mIRQ_DOMAIN_FLAG_HIERARCHY
 = (1 << 0),

49 
	mIRQ_DOMAIN_FLAG_AUTO_RECURSIVE
 = (1 << 1),

50 
	mIRQ_DOMAIN_FLAG_IPI_PER_CPU
 = (1 << 2),

51 
	mIRQ_DOMAIN_FLAG_IPI_SINGLE
 = (1 << 3),

52 
	mIRQ_DOMAIN_FLAG_NONCORE
 = (1 << 16),

56 
	sœq_domaš_Ýs
 {

57 (*
	mm©ch
)(
œq_domaš
 *
	md
, 
deviû_node
 *
	mnode
,

58 
œq_domaš_bus_tok’
 
	mbus_tok’
);

59 (*
	mm­
)(
œq_domaš
 *
	md
, 
	mvœq
, 
œq_hw_numb”_t
 
	mhw
);

60 (*
	munm­
)(
œq_domaš
 *
	md
, 
	mvœq
);

61 (*
	m®loc
)(
œq_domaš
 *
	md
, 
	mvœq
,

62 
	mÄ_œqs
, *
	m¬g
);

63 (*
	mä“
)(
œq_domaš
 *
	md
, 
	mvœq
,

64 
	mÄ_œqs
);

68 
šlše
 
œq_d©a
 *

69 
	$œq_g‘_œq_d©a
(
œq
)

71 
œq_desc
 *
desc
 = 
	`œq_to_desc
(
œq
);

73  
desc
 ? &desc->
œq_d©a
 : 
NULL
;

74 
	}
}

76 
šlše
 
œq_d©a
 *

77 
	$œq_domaš_g‘_œq_d©a
(
œq_domaš
 *
domaš
, 
vœq
)

79 
œq_d©a
 *œq_d©¨ð
	`œq_g‘_œq_d©a
(
vœq
);

81  (
œq_d©a
 && irq_d©a->
domaš
 =ðdomašè? irq_d©¨: 
NULL
;

82 
	}
}

84 
šlše
 

85 
	$œq_domaš_check_h›¿rchy
(
œq_domaš
 *
domaš
)

88 ià(
domaš
->
Ýs
->
®loc
)

89 
domaš
->
æags
 |ð
IRQ_DOMAIN_FLAG_HIERARCHY
;

90 
	}
}

92 
šlše
 
deviû_node
 *

93 
	$œq_domaš_g‘_of_node
(
œq_domaš
 *
d
)

95  
	`to_of_node
(
d
->
fwnode
);

96 
	}
}

98 
šlše
 

99 
	$œq_domaš_®loc_descs
(
vœq
, 
út
, 
œq_hw_numb”_t
 
hwœq
,

100 
node
)

102 
hšt
;

104 ià(
vœq
 >= 0) {

105 
vœq
 = 
	`œq_®loc_descs
(vœq, vœq, 
út
, 
node
);

107 
hšt
 = 
hwœq
 % 
Ä_œqs
;

108 ià(
hšt
 == 0)

109 
hšt
++;

110 
vœq
 = 
	`œq_®loc_descs_äom
(
hšt
, 
út
, 
node
);

111 ià(
vœq
 <ð0 && 
hšt
 > 1)

112 
vœq
 = 
	`œq_®loc_descs_äom
(1, 
út
, 
node
);

115  
vœq
;

116 
	}
}

118 
šlše
 
œq_domaš
 *

119 
	$__œq_domaš_add
(
fwnode_hªdË
 *
fwnode
, 
size
,

120 
œq_hw_numb”_t
 
hwœq_max
, 
dœeù_max
,

121 cÚ¡ 
œq_domaš_Ýs
 *
Ýs
,

122 *
ho¡_d©a
)

124 
œq_domaš
 *
domaš
;

125 
deviû_node
 *
of_node
;

127 
of_node
 = 
	`to_of_node
(
fwnode
);

129 
domaš
 = 
	`kz®loc_node
((*domašè+ ((è* 
size
),

130 
GFP_KERNEL
, 
	`of_node_to_nid
(
of_node
));

131 ià(
	`WARN_ON
(!
domaš
))

132  (
NULL
);

134 
	`of_node_g‘
(
of_node
);

137 
	`INIT_RADIX_TREE
(&
domaš
->
»vm­_Œ“
, 
GFP_KERNEL
);

138 
domaš
->
Ýs
 = ops;

139 
domaš
->
ho¡_d©a
 = host_data;

140 
domaš
->
fwnode
 = fwnode;

141 
domaš
->
hwœq_max
 = hwirq_max;

142 
domaš
->
»vm­_size
 = 
size
;

143 
domaš
->
»vm­_dœeù_max_œq
 = 
dœeù_max
;

144 
	`œq_domaš_check_h›¿rchy
(
domaš
);

146 
	`mu‹x_lock
(&
œq_domaš_mu‹x
);

147 
	`li¡_add
(&
domaš
->
lšk
, &
œq_domaš_li¡
);

148 
	`mu‹x_uÆock
(&
œq_domaš_mu‹x
);

149  (
domaš
);

150 
	}
}

152 
šlše
 
œq_domaš
 *

153 
	$œq_domaš_add_lš—r
(
deviû_node
 *
of_node
,

154 
size
,

155 cÚ¡ 
œq_domaš_Ýs
 *
Ýs
,

156 *
ho¡_d©a
)

158  
	`__œq_domaš_add
(
	`of_node_to_fwnode
(
of_node
), 
size
, size, 0, 
Ýs
, 
ho¡_d©a
);

159 
	}
}

161 
šlše
 

162 
	$œq_domaš_»move
(
œq_domaš
 *
domaš
)

164 
	`mu‹x_lock
(&
œq_domaš_mu‹x
);

165 
	`WARN_ON
(
domaš
->
»vm­_Œ“
.
height
);

166 
	`li¡_d–
(&
domaš
->
lšk
);

168 ià(
	`uÆik–y
(
œq_deçuÉ_domaš
 =ð
domaš
))

169 
œq_deçuÉ_domaš
 = 
NULL
;

170 
	`mu‹x_uÆock
(&
œq_domaš_mu‹x
);

172 
	`of_node_put
(
	`œq_domaš_g‘_of_node
(
domaš
));

173 
	`kä“
(
domaš
);

174 
	}
}

176 
šlše
 

177 
	$œq_domaš_assocŸ‹
(
œq_domaš
 *
domaš
, 
vœq
,

178 
œq_hw_numb”_t
 
hwœq
)

180 
œq_d©a
 *œq_d©¨ð
	`œq_g‘_œq_d©a
(
vœq
);

181 
»t
;

183 ià(
	`WARN
(
hwœq
 >ð
domaš
->
hwœq_max
,

184 "”rÜ: hwœq 0x%x i toØÏrgfÜ %s\n", ()
hwœq
, 
domaš
->
Çme
))

185  -
EINVAL
;

186 ià(
	`WARN
(!
œq_d©a
, "”rÜ: vœq%˜i nÙ‡Îoÿ‹d", 
vœq
))

187  -
EINVAL
;

188 ià(
	`WARN
(
œq_d©a
->
domaš
, "”rÜ: vœq%˜i ®»ady‡ssocŸ‹d", 
vœq
))

189  -
EINVAL
;

191 
	`mu‹x_lock
(&
œq_domaš_mu‹x
);

192 
œq_d©a
->
hwœq
 = hwirq;

193 
œq_d©a
->
domaš
 = domain;

194 ià(
domaš
->
Ýs
->
m­
) {

195 
»t
 = 
domaš
->
Ýs
->
	`m­
(domaš, 
vœq
, 
hwœq
);

196 ià(
»t
 != 0) {

197 
œq_d©a
->
domaš
 = 
NULL
;

198 
œq_d©a
->
hwœq
 = 0;

199 
	`mu‹x_uÆock
(&
œq_domaš_mu‹x
);

200  (
»t
);

202 ià(!
domaš
->
Çme
 && 
œq_d©a
->
ch
)

203 
domaš
->
Çme
 = 
œq_d©a
->
ch
->name;

206 ià(
hwœq
 < 
domaš
->
»vm­_size
) {

207 
domaš
->
lš—r_»vm­
[
hwœq
] = 
vœq
;

209 
	`mu‹x_lock
(&
»vm­_Œ“s_mu‹x
);

210 
	`¿dix_Œ“_š£¹
(&
domaš
->
»vm­_Œ“
, 
hwœq
, 
œq_d©a
);

211 
	`mu‹x_uÆock
(&
»vm­_Œ“s_mu‹x
);

213 
	`mu‹x_uÆock
(&
œq_domaš_mu‹x
);

215 
	`œq_þ—r_¡©us_æags
(
vœq
, 
IRQ_NOREQUEST
);

217 
	}
}

219 
šlše
 

220 
	$œq_fšd_m­pšg
(
œq_domaš
 *
domaš
, 
œq_hw_numb”_t
 
hwœq
)

222 
œq_d©a
 *
d©a
;

225 ià(
domaš
 =ð
NULL
)

226 
domaš
 = 
œq_deçuÉ_domaš
;

227 ià(
domaš
 =ð
NULL
)

230 ià(
hwœq
 < 
domaš
->
»vm­_dœeù_max_œq
) {

231 
d©a
 = 
	`œq_domaš_g‘_œq_d©a
(
domaš
, 
hwœq
);

232 ià(
d©a
 && d©a->
hwœq
 == hwirq)

233  (
hwœq
);

235 ià(
hwœq
 < 
domaš
->
»vm­_size
)

236  
domaš
->
lš—r_»vm­
[
hwœq
];

238 
	`rcu_»ad_lock
();

239 
d©a
 = 
	`¿dix_Œ“_lookup
(&
domaš
->
»vm­_Œ“
, 
hwœq
);

240 
	`rcu_»ad_uÆock
();

241  (
d©a
 ? d©a->
œq
 : 0);

242 
	}
}

244 
šlše
 

245 
	$œq_ü—‹_m­pšg
(
œq_domaš
 *
domaš
, 
œq_hw_numb”_t
 
hwœq
)

247 
deviû_node
 *
of_node
;

248 
vœq
;

250 ià(
domaš
 =ð
NULL
)

251 
domaš
 = 
œq_deçuÉ_domaš
;

252 ià(
domaš
 =ð
NULL
) {

253 
	`WARN
(1, "%s(, %lxèÿÎed w™h NULL domaš\n", 
__func__
, 
hwœq
);

256 
of_node
 = 
	`œq_domaš_g‘_of_node
(
domaš
);

258 
vœq
 = 
	`œq_fšd_m­pšg
(
domaš
, 
hwœq
);

259 ià(
vœq
)

260  (
vœq
);

261 
vœq
 = 
	`œq_domaš_®loc_descs
(-1, 1, 
hwœq
, 
	`of_node_to_nid
(
of_node
));

262 ià(
vœq
 <= 0)

264 ià(
	`œq_domaš_assocŸ‹
(
domaš
, 
vœq
, 
hwœq
)) {

265 
	`œq_ä“_desc
(
vœq
);

268  (
vœq
);

269 
	}
}

	@src/common/linuxkpi/gplv2/include/linux/irqflags.h

1 #iâdeà
_LINUX_IRQFLAGS_H_


2 
	#_LINUX_IRQFLAGS_H_


	)

4 
	#loÿl_œq_di§bË
(èdØ{ } 0)

	)

5 
	#loÿl_œq_’abË
(èdØ{ } 0)

	)

6 
	#loÿl_§ve_æags
(è0

	)

7 
	#loÿl_œq_»¡Üe
(
æags
èdØ{ } 0)

	)

8 
	#loÿl_œq_§ve
(
æags
èdØ{ (æagsèð0; } 0)

	)

	@src/common/linuxkpi/gplv2/include/linux/irqhandler.h

1 #iâdeà
_LINUX_IRQHANDLER_H


2 
	#_LINUX_IRQHANDLER_H


	)

9 
	gœq_desc
;

10 
	gœq_d©a
;

11 (*
	tœq_æow_hªdËr_t
)(
	tœq_desc
 *
	tdesc
);

12 (*
	tœq_´eæow_hªdËr_t
)(
	tœq_d©a
 *
	td©a
);

	@src/common/linuxkpi/gplv2/include/linux/kconfig.h

1 #iâdeà
__LINUX_KCONFIG_H


2 
	#__LINUX_KCONFIG_H


	)

4 
	~<g’”©ed/autocÚf.h
>

20 
	#__ARG_PLACEHOLDER_1
 0,

	)

21 
	#cÚfig_’abËd
(
cfg
è
	`_cÚfig_’abËd
(cfg)

	)

22 
	#_cÚfig_’abËd
(
v®ue
è
	`__cÚfig_’abËd
(
__ARG_PLACEHOLDER_
##v®ue)

	)

23 
	#__cÚfig_’abËd
(
¬g1_Ü_junk
è
	`___cÚfig_’abËd
×rg1_Ü_junk 1, 0)

	)

24 
	#___cÚfig_’abËd
(
__ignÜed
, 
v®
, ...è
	)
val

31 
	#IS_BUILTIN
(
ÝtiÚ
è
	`cÚfig_’abËd
(ÝtiÚ)

	)

37 
	#IS_MODULE
(
ÝtiÚ
è
	`cÚfig_’abËd
(ÝtiÚ##
_MODULE
)

	)

45 
	#IS_REACHABLE
(
ÝtiÚ
è(
	`cÚfig_’abËd
(option) || \

46 (
	`cÚfig_’abËd
(
ÝtiÚ
##
_MODULE
è&& cÚfig_’abËd(
MODULE
)))

	)

52 
	#IS_ENABLED
(
ÝtiÚ
) \

53 (
	`IS_BUILTIN
(
ÝtiÚ
è|| 
	`IS_MODULE
(ÝtiÚ))

	)

	@src/common/linuxkpi/gplv2/include/linux/kernel.h

1 #iâdeà
_KERNEL_GPLV2_H_


2 
	#_KERNEL_GPLV2_H_


	)

4 #šþude_Ãxˆ<
lšux
/
k”Ãl
.
h
>

7 
	#œqs_di§bËd
(è(
cu¹h»ad
->
td_ü™Ã¡
 !ð0 || cu¹h»ad->
td_šŒ_Ã¡šg_Ëv–
 !ð0)

	)

9 
	#add_št
(
a
,
b
)

	)

11 
	~<lšux/œqæags.h
>

12 
	~<lšux/kcÚfig.h
>

14 
	~<asm/ýuã©u».h
>

15 
	~<asm/´oûssÜ.h
>

16 
	~<asm/b¬r›r.h
>

	@src/common/linuxkpi/gplv2/include/linux/kfifo.h

22 #iâdeà
_LINUX_KFIFO_H


23 
	#_LINUX_KFIFO_H


	)

24 
	~<lšux/k”Ãl.h
>

25 
	~<lšux/¥šlock.h
>

26 
	~<lšux/¡ddef.h
>

27 
	~<lšux/sÿ‰”li¡.h
>

29 
	~<asm/´oûssÜ.h
>

31 
	s__kfifo
 {

32 
	mš
;

33 
	mout
;

34 
	mmask
;

35 
	mesize
;

36 *
	md©a
;

39 
	#__STRUCT_KFIFO_COMMON
(
d©©y³
, 
»csize
, 
±¹y³
) \

41 
__kfifo
 
kfifo
; \

42 
d©©y³
 *
ty³
; \

43 cÚ¡ 
d©©y³
 *
cÚ¡_ty³
; \

44 (*
»ùy³
)[
»csize
]; \

45 
±¹y³
 *
±r
; \

46 
±¹y³
 cÚ¡ *
±r_cÚ¡
; \

47 }

	)

49 
	#__STRUCT_KFIFO
(
ty³
, 
size
, 
»csize
, 
±¹y³
) \

51 
	`__STRUCT_KFIFO_COMMON
(
ty³
, 
»csize
, 
±¹y³
); \

52 
ty³
 
buf
[((
size
 < 2) || (size & (size - 1))) ? -1 : size]; \

53 }

	)

55 
	#STRUCT_KFIFO
(
ty³
, 
size
) \

56 
	`__STRUCT_KFIFO
(
ty³
, 
size
, 0,y³)

	)

58 
	#__STRUCT_KFIFO_PTR
(
ty³
, 
»csize
, 
±¹y³
) \

60 
	`__STRUCT_KFIFO_COMMON
(
ty³
, 
»csize
, 
±¹y³
); \

61 
ty³
 
buf
[0]; \

62 }

	)

64 
	#STRUCT_KFIFO_PTR
(
ty³
) \

65 
	`__STRUCT_KFIFO_PTR
(
ty³
, 0,y³)

	)

70 
kfifo
 
__STRUCT_KFIFO_PTR
(, 0, );

72 
	#STRUCT_KFIFO_REC_1
(
size
) \

73 
	`__STRUCT_KFIFO
(, 
size
, 1, )

	)

75 
	#STRUCT_KFIFO_REC_2
(
size
) \

76 
	`__STRUCT_KFIFO
(, 
size
, 2, )

	)

78 
kfifo_»c_±r_1
 
__STRUCT_KFIFO_PTR
(, 1, );

79 
kfifo_»c_±r_2
 
__STRUCT_KFIFO_PTR
(, 2, );

81 
	#__is_kfifo_±r
(
fifo
è((*fifoè=ð(
__kfifo
))

	)

82 
	#DECLARE_KFIFO_PTR
(
fifo
, 
ty³
è
	`STRUCT_KFIFO_PTR
Ñy³è
	)
fifo

83 
	#DECLARE_KFIFO
(
fifo
, 
ty³
, 
size
è
	`STRUCT_KFIFO
Ñy³, sizeè
	)
fifo

85 
	#INIT_KFIFO
(
fifo
) \

87 
	`ty³of
(&(
fifo
)è
__tmp
 = &(fifo); \

88 
__kfifo
 *__kfifØð&
__tmp
->
kfifo
; \

89 
__kfifo
->
š
 = 0; \

90 
__kfifo
->
out
 = 0; \

91 
__kfifo
->
mask
 = 
	`__is_kfifo_±r
(
__tmp
è? 0 : 
	`ARRAY_SIZE
(__tmp->
buf
) - 1;\

92 
__kfifo
->
esize
 = (*
__tmp
->
buf
); \

93 
__kfifo
->
d©a
 = 
	`__is_kfifo_±r
(
__tmp
è? 
NULL
 : __tmp->
buf
; \

94 })

	)

95 
	#DEFINE_KFIFO
(
fifo
, 
ty³
, 
size
) \

96 
	`DECLARE_KFIFO
(
fifo
, 
ty³
, 
size
) = \

97 (
	`ty³of
(
fifo
)) { \

100 .
š
 = 0, \

101 .
out
 = 0, \

102 .
mask
 = 
	`__is_kfifo_±r
(&(
fifo
)) ? \

104 
	`ARRAY_SIZE
((
fifo
).
buf
) - 1, \

105 .
esize
 = (*(
fifo
).
buf
), \

106 .
d©a
 = 
	`__is_kfifo_±r
(&(
fifo
)) ? \

107 
NULL
 : \

108 (
fifo
).
buf
, \

111 }

	)

114 
šlše
 
__mu¡_check


115 
	$__kfifo_ušt_mu¡_check_h–³r
(
v®
)

117  
v®
;

118 
	}
}

120 
šlše
 
__mu¡_check


121 
	$__kfifo_št_mu¡_check_h–³r
(
v®
)

123  
v®
;

124 
	}
}

126 
	#kfifo_š™Ÿlized
(
fifo
è((fifo)->
kfifo
.
mask
)

	)

127 
	#kfifo_esize
(
fifo
è((fifo)->
kfifo
.
esize
)

	)

128 
	#kfifo_»csize
(
fifo
è((*(fifo)->
»ùy³
))

	)

129 
	#kfifo_size
(
fifo
è((fifo)->
kfifo
.
mask
 + 1)

	)

131 
	#kfifo_»£t
(
fifo
) \

133 
	`ty³of
((
fifo
è+ 1è
__tmp
 = (fifo); \

134 
__tmp
->
kfifo
.
š
 = __tmp->kfifo.
out
 = 0; \

135 })

	)

137 
	#kfifo_»£t_out
(
fifo
) \

139 
	`ty³of
((
fifo
è+ 1è
__tmp
 = (fifo); \

140 
__tmp
->
kfifo
.
out
 = __tmp->kfifo.
š
; \

141 })

	)

143 
	#kfifo_Ën
(
fifo
) \

145 
	`ty³of
((
fifo
è+ 1è
__tm¶
 = (fifo); \

146 
__tm¶
->
kfifo
.
š
 - __tm¶->kfifo.
out
; \

147 })

	)

149 
	#kfifo_is_em±y
(
fifo
) \

151 
	`ty³of
((
fifo
è+ 1è
__tmpq
 = (fifo); \

152 
__tmpq
->
kfifo
.
š
 =ð__tmpq->kfifo.
out
; \

153 })

	)

155 
	#kfifo_is_fuÎ
(
fifo
) \

157 
	`ty³of
((
fifo
è+ 1è
__tmpq
 = (fifo); \

158 
	`kfifo_Ën
(
__tmpq
è> __tmpq->
kfifo
.
mask
; \

159 })

	)

161 
	#kfifo_avaž
(
fifo
) \

162 
	`__kfifo_ušt_mu¡_check_h–³r
( \

164 
	`ty³of
((
fifo
è+ 1è
__tmpq
 = (fifo); \

165 cÚ¡ 
size_t
 
__»csize
 = (*
__tmpq
->
»ùy³
); \

166 
__avaž
 = 
	`kfifo_size
(
__tmpq
è- 
	`kfifo_Ën
(__tmpq); \

167 (
__»csize
è? ((
__avaž
 <= __recsize) ? 0 : \

168 
	`__kfifo_max_r
(
__avaž
 - 
__»csize
, __recsize)) : \

169 
__avaž
; \

171 )

	)

174 
	#kfifo_®loc
(
fifo
, 
size
, 
gå_mask
) \

175 
	`__kfifo_št_mu¡_check_h–³r
( \

177 
	`ty³of
((
fifo
è+ 1è
__tmp
 = (fifo); \

178 
__kfifo
 *__kfifØð&
__tmp
->
kfifo
; \

179 
	`__is_kfifo_±r
(
__tmp
) ? \

180 
	`lšux_kfifo_®loc
(
__kfifo
, 
size
, (*
__tmp
->
ty³
), 
gå_mask
) : \

181 -
EINVAL
; \

183 )

	)

185 
	#kfifo_ä“
(
fifo
) \

187 
	`ty³of
((
fifo
è+ 1è
__tmp
 = (fifo); \

188 
__kfifo
 *__kfifØð&
__tmp
->
kfifo
; \

189 ià(
	`__is_kfifo_±r
(
__tmp
)) \

190 
	`lšux_kfifo_ä“
(
__kfifo
); \

191 })

	)

193 
	#kfifo_š™
(
fifo
, 
bufãr
, 
size
) \

195 
	`ty³of
((
fifo
è+ 1è
__tmp
 = (fifo); \

196 
__kfifo
 *__kfifØð&
__tmp
->
kfifo
; \

197 
	`__is_kfifo_±r
(
__tmp
) ? \

198 
	`__kfifo_š™
(
__kfifo
, 
bufãr
, 
size
, (*
__tmp
->
ty³
)) : \

199 -
EINVAL
; \

200 })

	)

202 
	#kfifo_put
(
fifo
, 
v®
) \

204 
	`ty³of
((
fifo
è+ 1è
__tmp
 = (fifo); \

205 
	`ty³of
(*
__tmp
->
cÚ¡_ty³
è
__v®
 = (
v®
); \

206 
__»t
; \

207 
size_t
 
__»csize
 = (*
__tmp
->
»ùy³
); \

208 
__kfifo
 *__kfifØð&
__tmp
->
kfifo
; \

209 ià(
__»csize
) \

210 
__»t
 = 
	`__kfifo_š_r
(
__kfifo
, &
__v®
, (__val), \

211 
__»csize
); \

213 
__»t
 = !
	`kfifo_is_fuÎ
(
__tmp
); \

214 ià(
__»t
) { \

215 (
	`__is_kfifo_±r
(
__tmp
) ? \

216 ((
	`ty³of
(
__tmp
->
ty³
))
__kfifo
->
d©a
) : \

217 (
__tmp
->
buf
) \

218 )[
__kfifo
->
š
 & 
__tmp
->
kfifo
.
mask
] = \

219 *(
	`ty³of
(
__tmp
->
ty³
))&
__v®
; \

220 
	`smp_wmb
(); \

221 
__kfifo
->
š
++; \

224 
__»t
; \

225 })

	)

228 
	#kfifo_g‘
(
fifo
, 
v®
) \

229 
	`__kfifo_ušt_mu¡_check_h–³r
( \

231 
	`ty³of
((
fifo
è+ 1è
__tmp
 = (fifo); \

232 
	`ty³of
(
__tmp
->
±r
è
__v®
 = (
v®
); \

233 
__»t
; \

234 cÚ¡ 
size_t
 
__»csize
 = (*
__tmp
->
»ùy³
); \

235 
__kfifo
 *__kfifØð&
__tmp
->
kfifo
; \

236 ià(
__»csize
) \

237 
__»t
 = 
	`__kfifo_out_r
(
__kfifo
, 
__v®
, (*__val), \

238 
__»csize
); \

240 
__»t
 = !
	`kfifo_is_em±y
(
__tmp
); \

241 ià(
__»t
) { \

242 *(
	`ty³of
(
__tmp
->
ty³
))
__v®
 = \

243 (
	`__is_kfifo_±r
(
__tmp
) ? \

244 ((
	`ty³of
(
__tmp
->
ty³
))
__kfifo
->
d©a
) : \

245 (
__tmp
->
buf
) \

246 )[
__kfifo
->
out
 & 
__tmp
->
kfifo
.
mask
]; \

247 
	`smp_wmb
(); \

248 
__kfifo
->
out
++; \

251 
__»t
; \

253 )

	)

255 
	#kfifo_³ek
(
fifo
, 
v®
) \

256 
	`__kfifo_ušt_mu¡_check_h–³r
( \

258 
	`ty³of
((
fifo
è+ 1è
__tmp
 = (fifo); \

259 
	`ty³of
(
__tmp
->
±r
è
__v®
 = (
v®
); \

260 
__»t
; \

261 cÚ¡ 
size_t
 
__»csize
 = (*
__tmp
->
»ùy³
); \

262 
__kfifo
 *__kfifØð&
__tmp
->
kfifo
; \

263 ià(
__»csize
) \

264 
__»t
 = 
	`__kfifo_out_³ek_r
(
__kfifo
, 
__v®
, (*__val), \

265 
__»csize
); \

267 
__»t
 = !
	`kfifo_is_em±y
(
__tmp
); \

268 ià(
__»t
) { \

269 *(
	`ty³of
(
__tmp
->
ty³
))
__v®
 = \

270 (
	`__is_kfifo_±r
(
__tmp
) ? \

271 ((
	`ty³of
(
__tmp
->
ty³
))
__kfifo
->
d©a
) : \

272 (
__tmp
->
buf
) \

273 )[
__kfifo
->
out
 & 
__tmp
->
kfifo
.
mask
]; \

274 
	`smp_wmb
(); \

277 
__»t
; \

279 )

	)

281 
	#kfifo_š
(
fifo
, 
buf
, 
n
) \

283 
	`ty³of
((
fifo
è+ 1è
__tmp
 = (fifo); \

284 
	`ty³of
(
__tmp
->
±r_cÚ¡
è
__buf
 = (
buf
); \

285 
__n
 = (
n
); \

286 cÚ¡ 
size_t
 
__»csize
 = (*
__tmp
->
»ùy³
); \

287 
__kfifo
 *__kfifØð&
__tmp
->
kfifo
; \

288 (
__»csize
) ?\

289 
	`__kfifo_š_r
(
__kfifo
, 
__buf
, 
__n
, 
__»csize
) : \

290 
	`lšux_kfifo_š
(
__kfifo
, 
__buf
, 
__n
); \

291 })

	)

293 
	#kfifo_š_¥šlocked
(
fifo
, 
buf
, 
n
, 
lock
) \

295 
__æags
; \

296 
__»t
; \

297 
	`¥š_lock_œq§ve
(
lock
, 
__æags
); \

298 
__»t
 = 
	`kfifo_š
(
fifo
, 
buf
, 
n
); \

299 
	`¥š_uÆock_œq»¡Üe
(
lock
, 
__æags
); \

300 
__»t
; \

301 })

	)

303 
	#kfifo_š_locked
(
fifo
, 
buf
, 
n
, 
lock
) \

304 
	`kfifo_š_¥šlocked
(
fifo
, 
buf
, 
n
, 
lock
)

	)

306 
	#kfifo_out
(
fifo
, 
buf
, 
n
) \

307 
	`__kfifo_ušt_mu¡_check_h–³r
( \

309 
	`ty³of
((
fifo
è+ 1è
__tmp
 = (fifo); \

310 
	`ty³of
(
__tmp
->
±r
è
__buf
 = (
buf
); \

311 
__n
 = (
n
); \

312 cÚ¡ 
size_t
 
__»csize
 = (*
__tmp
->
»ùy³
); \

313 
__kfifo
 *__kfifØð&
__tmp
->
kfifo
; \

314 (
__»csize
) ?\

315 
	`__kfifo_out_r
(
__kfifo
, 
__buf
, 
__n
, 
__»csize
) : \

316 
	`lšux_kfifo_out
(
__kfifo
, 
__buf
, 
__n
); \

318 )

	)

320 
	#kfifo_out_¥šlocked
(
fifo
, 
buf
, 
n
, 
lock
) \

321 
	`__kfifo_ušt_mu¡_check_h–³r
( \

323 
__æags
; \

324 
__»t
; \

325 
	`¥š_lock_œq§ve
(
lock
, 
__æags
); \

326 
__»t
 = 
	`kfifo_out
(
fifo
, 
buf
, 
n
); \

327 
	`¥š_uÆock_œq»¡Üe
(
lock
, 
__æags
); \

328 
__»t
; \

330 )

	)

332 
	#kfifo_out_locked
(
fifo
, 
buf
, 
n
, 
lock
) \

333 
	`kfifo_out_¥šlocked
(
fifo
, 
buf
, 
n
, 
lock
)

	)

335 
	#kfifo_äom_u£r
(
fifo
, 
äom
, 
Ën
, 
cÝ›d
) \

336 
	`__kfifo_ušt_mu¡_check_h–³r
( \

338 
	`ty³of
((
fifo
è+ 1è
__tmp
 = (fifo); \

339 cÚ¡ 
__u£r
 *
__äom
 = (
äom
); \

340 
__Ën
 = (
Ën
); \

341 *
__cÝ›d
 = (
cÝ›d
); \

342 cÚ¡ 
size_t
 
__»csize
 = (*
__tmp
->
»ùy³
); \

343 
__kfifo
 *__kfifØð&
__tmp
->
kfifo
; \

344 (
__»csize
) ? \

345 
	`__kfifo_äom_u£r_r
(
__kfifo
, 
__äom
, 
__Ën
, 
__cÝ›d
, 
__»csize
) : \

346 
	`__kfifo_äom_u£r
(
__kfifo
, 
__äom
, 
__Ën
, 
__cÝ›d
); \

348 )

	)

350 
	#kfifo_out_³ek
(
fifo
, 
buf
, 
n
) \

351 
	`__kfifo_ušt_mu¡_check_h–³r
( \

353 
	`ty³of
((
fifo
è+ 1è
__tmp
 = (fifo); \

354 
	`ty³of
(
__tmp
->
±r
è
__buf
 = (
buf
); \

355 
__n
 = (
n
); \

356 cÚ¡ 
size_t
 
__»csize
 = (*
__tmp
->
»ùy³
); \

357 
__kfifo
 *__kfifØð&
__tmp
->
kfifo
; \

358 (
__»csize
) ? \

359 
	`__kfifo_out_³ek_r
(
__kfifo
, 
__buf
, 
__n
, 
__»csize
) : \

360 
	`lšux_kfifo_out_³ek
(
__kfifo
, 
__buf
, 
__n
); \

362 )

	)

365 
šlše
 

366 
	$kfifo_unu£d
(
__kfifo
 *
fifo
)

368  (
fifo
->
mask
 + 1è- (fifo->
š
 - fifo->
out
);

369 
	}
}

371 
šlše
 

372 
	$lšux_kfifo_®loc
(
__kfifo
 *
fifo
, 
size
,

373 
size_t
 
esize
, 
gå_t
 
gå_mask
)

379 
size
 = 
	`roundup_pow_of_two
(size);

381 
fifo
->
š
 = 0;

382 
fifo
->
out
 = 0;

383 
fifo
->
esize
 =ƒsize;

385 ià(
size
 < 2) {

386 
fifo
->
d©a
 = 
NULL
;

387 
fifo
->
mask
 = 0;

388  -
EINVAL
;

391 
fifo
->
d©a
 = 
	`km®loc
(
size
 * 
esize
, 
gå_mask
);

393 ià(!
fifo
->
d©a
) {

394 
fifo
->
mask
 = 0;

395  -
ENOMEM
;

397 
fifo
->
mask
 = 
size
 - 1;

400 
	}
}

402 
šlše
 

403 
	$lšux_kfifo_ä“
(
__kfifo
 *
fifo
)

405 
	`kä“
(
fifo
->
d©a
);

406 
fifo
->
š
 = 0;

407 
fifo
->
out
 = 0;

408 
fifo
->
esize
 = 0;

409 
fifo
->
d©a
 = 
NULL
;

410 
fifo
->
mask
 = 0;

411 
	}
}

413 
šlše
 

414 
	$kfifo_cÝy_š
(
__kfifo
 *
fifo
, cÚ¡ *
¤c
,

415 
Ën
, 
off
)

417 
size
 = 
fifo
->
mask
 + 1;

418 
esize
 = 
fifo
->esize;

419 
l
;

421 
off
 &ð
fifo
->
mask
;

422 ià(
esize
 != 1) {

423 
off
 *ð
esize
;

424 
size
 *ð
esize
;

425 
Ën
 *ð
esize
;

427 
l
 = 
	`mš
(
Ën
, 
size
 - 
off
);

429 
	`memýy
(
fifo
->
d©a
 + 
off
, 
¤c
, 
l
);

430 
	`memýy
(
fifo
->
d©a
, 
¤c
 + 
l
, 
Ën
 -†);

435 
	`smp_wmb
();

436 
	}
}

438 
šlše
 

439 
	$lšux_kfifo_š
(
__kfifo
 *
fifo
,

440 cÚ¡ *
buf
, 
Ën
)

442 
l
;

444 
l
 = 
	`kfifo_unu£d
(
fifo
);

445 ià(
Ën
 > 
l
)

446 
Ën
 = 
l
;

448 
	`kfifo_cÝy_š
(
fifo
, 
buf
, 
Ën
, fifo->
š
);

449 
fifo
->
š
 +ð
Ën
;

450  
Ën
;

451 
	}
}

453 
šlše
 

454 
	$kfifo_cÝy_out
(
__kfifo
 *
fifo
, *
d¡
,

455 
Ën
, 
off
)

457 
size
 = 
fifo
->
mask
 + 1;

458 
esize
 = 
fifo
->esize;

459 
l
;

461 
off
 &ð
fifo
->
mask
;

462 ià(
esize
 != 1) {

463 
off
 *ð
esize
;

464 
size
 *ð
esize
;

465 
Ën
 *ð
esize
;

467 
l
 = 
	`mš
(
Ën
, 
size
 - 
off
);

469 
	`memýy
(
d¡
, 
fifo
->
d©a
 + 
off
, 
l
);

470 
	`memýy
(
d¡
 + 
l
, 
fifo
->
d©a
, 
Ën
 -†);

475 
	`smp_wmb
();

476 
	}
}

478 
šlše
 

479 
	$lšux_kfifo_out_³ek
(
__kfifo
 *
fifo
,

480 *
buf
, 
Ën
)

482 
l
;

484 
l
 = 
fifo
->
š
 - fifo->
out
;

485 ià(
Ën
 > 
l
)

486 
Ën
 = 
l
;

488 
	`kfifo_cÝy_out
(
fifo
, 
buf
, 
Ën
, fifo->
out
);

489  
Ën
;

490 
	}
}

492 
šlše
 

493 
	$lšux_kfifo_out
(
__kfifo
 *
fifo
,

494 *
buf
, 
Ën
)

496 
Ën
 = 
	`lšux_kfifo_out_³ek
(
fifo
, 
buf
,†en);

497 
fifo
->
out
 +ð
Ën
;

498  
Ën
;

499 
	}
}

501 
__kfifo_š™
(
__kfifo
 *
fifo
, *
bufãr
,

502 
size
, 
size_t
 
esize
);

504 
__kfifo_äom_u£r
(
__kfifo
 *
fifo
,

505 cÚ¡ 
__u£r
 *
äom
, 
Ën
, *
cÝ›d
);

507 
__kfifo_to_u£r
(
__kfifo
 *
fifo
,

508 
__u£r
 *
to
, 
Ën
, *
cÝ›d
);

510 
__kfifo_dma_š_´•¬e
(
__kfifo
 *
fifo
,

511 
sÿ‰”li¡
 *
sgl
, 
ÃÁs
, 
Ën
);

513 
__kfifo_dma_out_´•¬e
(
__kfifo
 *
fifo
,

514 
sÿ‰”li¡
 *
sgl
, 
ÃÁs
, 
Ën
);

517 
__kfifo_š_r
(
__kfifo
 *
fifo
,

518 cÚ¡ *
buf
, 
Ën
, 
size_t
 
»csize
);

520 
__kfifo_out_r
(
__kfifo
 *
fifo
,

521 *
buf
, 
Ën
, 
size_t
 
»csize
);

523 
__kfifo_äom_u£r_r
(
__kfifo
 *
fifo
,

524 cÚ¡ 
__u£r
 *
äom
, 
Ën
, *
cÝ›d
,

525 
size_t
 
»csize
);

527 
__kfifo_to_u£r_r
(
__kfifo
 *
fifo
, 
__u£r
 *
to
,

528 
Ën
, *
cÝ›d
, 
size_t
 
»csize
);

530 
__kfifo_dma_š_´•¬e_r
(
__kfifo
 *
fifo
,

531 
sÿ‰”li¡
 *
sgl
, 
ÃÁs
, 
Ën
, 
size_t
 
»csize
);

533 
__kfifo_dma_š_fšish_r
(
__kfifo
 *
fifo
,

534 
Ën
, 
size_t
 
»csize
);

536 
__kfifo_dma_out_´•¬e_r
(
__kfifo
 *
fifo
,

537 
sÿ‰”li¡
 *
sgl
, 
ÃÁs
, 
Ën
, 
size_t
 
»csize
);

539 
__kfifo_dma_out_fšish_r
(
__kfifo
 *
fifo
, 
size_t
 
»csize
);

541 
__kfifo_Ën_r
(
__kfifo
 *
fifo
, 
size_t
 
»csize
);

543 
__kfifo_sk_r
(
__kfifo
 *
fifo
, 
size_t
 
»csize
);

545 
__kfifo_out_³ek_r
(
__kfifo
 *
fifo
,

546 *
buf
, 
Ën
, 
size_t
 
»csize
);

548 
__kfifo_max_r
(
Ën
, 
size_t
 
»csize
);

	@src/common/linuxkpi/gplv2/include/linux/llist.h

1 #iâdeà
_LINUX_GPLV2_LLIST_H


2 
	#_LINUX_GPLV2_LLIST_H


	)

63 
	~<lšux/©omic.h
>

64 
	~<lšux/k”Ãl.h
>

66 
	sÎi¡_h—d
 {

67 
Îi¡_node
 *
	mfœ¡
;

70 
	sÎi¡_node
 {

71 
Îi¡_node
 *
	mÃxt
;

74 
	#LLIST_HEAD_INIT
(
Çme
è{ 
NULL
 }

	)

75 
	#LLIST_HEAD
(
Çme
è
Îi¡_h—d
‚amð
	`LLIST_HEAD_INIT
Òame)

	)

81 
šlše
 
	$š™_Îi¡_h—d
(
Îi¡_h—d
 *
li¡
)

83 
li¡
->
fœ¡
 = 
NULL
;

84 
	}
}

92 
	#Îi¡_’Œy
(
±r
, 
ty³
, 
memb”
) \

93 
	`cÚš”_of
(
±r
, 
ty³
, 
memb”
)

	)

109 
	#Îi¡_fÜ_—ch
(
pos
, 
node
) \

110 (
pos
èð(
node
);…os; (posèðÕos)->
Ãxt
)

	)

127 
	#Îi¡_fÜ_—ch_’Œy
(
pos
, 
node
, 
memb”
) \

128 (
pos
èð
	`Îi¡_’Œy
((
node
), 
	`ty³of
(*Õos)), 
memb”
); \

129 (
pos
è!ð
	`Îi¡_’Œy
(
NULL
, 
	`ty³of
(*Õos)), 
memb”
); \

130 (
pos
èð
	`Îi¡_’Œy
(Õos)->
memb”
.
Ãxt
, 
	`ty³of
(*Õos)), memb”))

	)

149 
	#Îi¡_fÜ_—ch_’Œy_§ã
(
pos
, 
n
, 
node
, 
memb”
) \

150 
pos
 = 
	`Îi¡_’Œy
((
node
), 
	`ty³of
(*pos), 
memb”
); \

151 (
pos
è!ð
	`Îi¡_’Œy
(
NULL
, 
	`ty³of
(*Õos)), 
memb”
) && \

152 (
n
 = 
	`Îi¡_’Œy
(
pos
->
memb”
.
Ãxt
, 
	`ty³of
(*n), memb”), 
Œue
); \

153 
pos
 = 
n
)

	)

163 
šlše
 
boÞ
 
	$Îi¡_em±y
(cÚ¡ 
Îi¡_h—d
 *
h—d
)

165  
	`ACCESS_ONCE
(
h—d
->
fœ¡
è=ð
NULL
;

166 
	}
}

168 
šlše
 
Îi¡_node
 *
	$Îi¡_Ãxt
(
Îi¡_node
 *
node
)

170  
node
->
Ãxt
;

171 
	}
}

173 
boÞ
 
Îi¡_add_b©ch
(
Îi¡_node
 *
Ãw_fœ¡
,

174 
Îi¡_node
 *
Ãw_Ï¡
,

175 
Îi¡_h—d
 *
h—d
);

183 
šlše
 
boÞ
 
	$Îi¡_add
(
Îi¡_node
 *
Ãw
, 
Îi¡_h—d
 *
h—d
)

185  
	`Îi¡_add_b©ch
(
Ãw
,‚ew, 
h—d
);

186 
	}
}

196 
šlše
 
Îi¡_node
 *
	$Îi¡_d–_®l
(
Îi¡_h—d
 *
h—d
)

198  
	`xchg
(&
h—d
->
fœ¡
, 
NULL
);

199 
	}
}

201 
Îi¡_node
 *
Îi¡_d–_fœ¡
(
Îi¡_h—d
 *
h—d
);

203 
Îi¡_node
 *
Îi¡_»v”£_Üd”
(Îi¡_nod*
h—d
);

	@src/common/linuxkpi/gplv2/include/linux/mem_encrypt.h

1 #iâdeà
__MEM_ENCRYPT_H__


2 
	#__MEM_ENCRYPT_H__


	)

4 #ifdeà
CONFIG_ARCH_HAS_MEM_ENCRYPT


8 
	~<asm/mem_’üy±.h
>

12 
	#sme_me_mask
 0ULL

	)

17 #iâdeà
pg´Ù_’üy±ed


18 
	#pg´Ù_’üy±ed
(
´Ù
èÕrÙ)

	)

21 #iâdeà
pg´Ù_deüy±ed


22 
	#pg´Ù_deüy±ed
(
´Ù
èÕrÙ)

	)

	@src/common/linuxkpi/gplv2/include/linux/mempolicy.h

1 #iâdeà
_LINUX_MEMPOLICY_H


2 
	#_LINUX_MEMPOLICY_H


	)

4 
	~<lšux/¦ab.h
>

5 
	~<lšux/¥šlock.h
>

6 
	~<lšux/·gem­.h
>

	@src/common/linuxkpi/gplv2/include/linux/mmu_context.h

27 #iâdeà
_LINUX_MMU_CONTEXT_H


28 
	#_LINUX_MMU_CONTEXT_H


	)

30 
	gmm_¡ruù
;

32 
šlše
 
__unu£d


33 
	$u£_mm
(
mm_¡ruù
 *
mm
)

36 
	}
}

38 
šlše
 
__unu£d


39 
	$unu£_mm
(
mm_¡ruù
 *
mm
)

42 
	}
}

	@src/common/linuxkpi/gplv2/include/linux/mmu_notifier.h

29 #iâdeà
_LINUX_MMU_NOTIFIER_H_


30 
	#_LINUX_MMU_NOTIFIER_H_


	)

32 
	smmu_nÙif›r
 {

	@src/common/linuxkpi/gplv2/include/linux/mod_devicetable.h

1 #iâdeà
LINUX_MOD_DEVICETABLE_H


2 
	#LINUX_MOD_DEVICETABLE_H


	)

4 
	~<sys/ty³s.h
>

5 
	~<lšux/ty³s.h
>

7 
	#I2C_NAME_SIZE
 20

	)

8 
	#I2C_MODULE_PREFIX
 "i2c:"

	)

10 
	si2c_deviû_id
 {

11 
	mÇme
[
I2C_NAME_SIZE
];

12 
ušŒ_t
 
	mdriv”_d©a
;

15 
	edmi_f›ld
 {

16 
	mDMI_NONE
,

17 
	mDMI_BIOS_VENDOR
,

18 
	mDMI_BIOS_VERSION
,

19 
	mDMI_BIOS_DATE
,

20 
	mDMI_SYS_VENDOR
,

21 
	mDMI_PRODUCT_NAME
,

22 
	mDMI_PRODUCT_VERSION
,

23 
	mDMI_PRODUCT_SERIAL
,

24 
	mDMI_PRODUCT_UUID
,

25 
	mDMI_BOARD_VENDOR
,

26 
	mDMI_BOARD_NAME
,

27 
	mDMI_BOARD_VERSION
,

28 
	mDMI_BOARD_SERIAL
,

29 
	mDMI_BOARD_ASSET_TAG
,

30 
	mDMI_CHASSIS_VENDOR
,

31 
	mDMI_CHASSIS_TYPE
,

32 
	mDMI_CHASSIS_VERSION
,

33 
	mDMI_CHASSIS_SERIAL
,

34 
	mDMI_CHASSIS_ASSET_TAG
,

35 
	mDMI_STRING_MAX
,

38 
	sdmi_¡rm©ch
 {

39 
	m¦Ù
:7;

40 
	mexaù_m©ch
:1;

41 
	msub¡r
[79];

44 
	sdmi_sy¡em_id
 {

45 (*
	mÿÎback
)(cÚ¡ 
	mdmi_sy¡em_id
 *);

46 cÚ¡ *
	mid’t
;

47 
dmi_¡rm©ch
 
	mm©ches
[4];

48 *
	mdriv”_d©a
;

51 
	#ACPI_ID_LEN
 9

	)

53 
	saýi_deviû_id
 {

54 
__u8
 
	mid
[
ACPI_ID_LEN
];

55 
u_lÚg
 
	mdriv”_d©a
;

56 
__u32
 
	mþs
;

57 
__u32
 
	mþs_msk
;

61 
	#dmi_deviû_id
 
dmi_sy¡em_id


	)

63 
	#DMI_MATCH
(
a
, 
b
è{ .
¦Ù
 =‡, .
sub¡r
 = b }

	)

64 
	#DMI_EXACT_MATCH
(
a
, 
b
è{ .
¦Ù
 =‡, .
sub¡r
 = b, .
exaù_m©ch
 = 1 }

	)

	@src/common/linuxkpi/gplv2/include/linux/module.h

1 #iâdeà
_LINUX_GPLV2_MODULE_H_


2 
	#_LINUX_GPLV2_MODULE_H_


	)

4 
	~<sys/·¿m.h
>

5 
	~<sys/moduË.h
>

7 #šþude_Ãxˆ<
lšux
/
moduË
.
h
>

10 
	#LKPI_DRIVER_MODULE
(
mod
, 
š™
, 
ex™
) \

11 
mod
##
	`_evh
(
moduË_t
 
m
, 
e
, *
a
) \

13 
e
) { \

14 
MOD_LOAD
: \

15 (
š™
)(); \

17 
MOD_UNLOAD
: \

18 (
ex™
)(); \

23 
moduËd©a_t
 
mod
##
_md
 = \

25 .
Çme
 = #mod, \

26 .
evhªd
 = 
mod
##
_evh
, \

28 
	`DECLARE_MODULE
(
mod
, mod##
_md
, 
SI_SUB_DRIVERS
, 
SI_ORDER_ANY
);

	)

31 
	#LKPI_PNP_INFO
(
bus
, 
Çme
, 
bË
) \

32 
	`MODULE_PNP_INFO
("U32:vendor;U32:device;", \

33 
bus
, 
Çme
, 
bË
, 
	`n™ems
ÑabËè- 1);

	)

	@src/common/linuxkpi/gplv2/include/linux/notifier.h

1 #iâdef 
_LINUX_GPLV2_NOTIFIER_H_


2 
	#_LINUX_GPLV2_NOTIFIER_H_


	)

4 
	~<lšux/mu‹x.h
>

5 
	~<lšux/rw£m.h
>

7 #šþude_Ãxˆ<
lšux
/
nÙif›r
.
h
>

9 
	#NOTIFY_OK
 0x01

	)

10 
	#NOTIFY_STOP_MASK
 0x80

	)

11 
	#NOTIFY_BAD
 (
NOTIFY_STOP_MASK
|0x02)

	)

13 
	s©omic_nÙif›r_h—d
 {

14 
¥šlock_t
 
	mlock
;

15 
nÙif›r_block
 
__rcu
 *
	mh—d
;

18 
	sblockšg_nÙif›r_h—d
 {

19 
rw_£m­hÜe
 
	mrw£m
;

20 
nÙif›r_block
 
__rcu
 *
	mh—d
;

23 
	#ATOMIC_INIT_NOTIFIER_HEAD
(
Çme
) do { \

24 
	`¥š_lock_š™
(&(
Çme
)->
lock
); \

25 (
Çme
)->
h—d
 = 
NULL
; \

26 } 0)

	)

27 
	#BLOCKING_INIT_NOTIFIER_HEAD
(
Çme
) do { \

28 
	`š™_rw£m
(&(
Çme
)->
rw£m
); \

29 (
Çme
)->
h—d
 = 
NULL
; \

30 } 0)

	)

32 
©omic_nÙif›r_ÿÎ_chaš
(
©omic_nÙif›r_h—d
 *
nh
,

33 
v®
, *
v
);

34 
__©omic_nÙif›r_ÿÎ_chaš
(
©omic_nÙif›r_h—d
 *
nh
,

35 
v®
, *
v
, 
Ä_to_ÿÎ
, *
Ä_ÿÎs
);

37 
blockšg_nÙif›r_chaš_»gi¡”
(
blockšg_nÙif›r_h—d
 *
nh
,

38 
nÙif›r_block
 *
nb
);

39 
blockšg_nÙif›r_ÿÎ_chaš
(
blockšg_nÙif›r_h—d
 *
nh
,

40 
v®
, *
v
);

41 
blockšg_nÙif›r_chaš_uÄegi¡”
(
blockšg_nÙif›r_h—d
 *
nh
,

42 
nÙif›r_block
 *
nb
);

	@src/common/linuxkpi/gplv2/include/linux/numa.h

1 #iâdeà
_LINUX_NUMA_H


2 
	#_LINUX_NUMA_H


	)

5 #ifdeà
CONFIG_NODES_SHIFT


6 
	#NODES_SHIFT
 
CONFIG_NODES_SHIFT


	)

8 
	#NODES_SHIFT
 0

	)

11 
	#MAX_NUMNODES
 (1 << 
NODES_SHIFT
)

	)

13 
	#NUMA_NO_NODE
 (-1)

	)

	@src/common/linuxkpi/gplv2/include/linux/of.h

1 #iâdeà
_LINUX_OF_H


2 
	#_LINUX_OF_H


	)

4 
	~<lšux/ty³s.h
>

5 
	~<lšux/b™Ýs.h
>

6 
	~<lšux/”ºo.h
>

7 
	~<lšux/kobjeù.h
>

8 
	~<lšux/mod_deviûbË.h
>

9 
	~<lšux/¥šlock.h
>

10 
	~<lšux/nÙif›r.h
>

11 
	~<lšux/´Ý”ty.h
>

12 
	~<lšux/li¡.h
>

13 
	~<lšux/”r.h
>

15 
	sdeviû_node
 {

16 cÚ¡ *
	mÇme
;

17 cÚ¡ *
	mty³
;

18 
fwnode_hªdË
 
	mfwnode
;

22 
šlše
 
boÞ


23 
	$is_of_node
(
fwnode_hªdË
 *
fwnode
)

25  !
	`IS_ERR_OR_NULL
(
fwnode
è&& fwnode->
ty³
 =ð
FWNODE_OF
;

26 
	}
}

28 
šlše
 
deviû_node
 *

29 
	$to_of_node
(
fwnode_hªdË
 *
fwnode
)

31  
	`is_of_node
(
fwnode
) ?

32 
	`cÚš”_of
(
fwnode
, 
deviû_node
, fwnodeè: 
NULL
;

33 
	}
}

35 
šlše
 
fwnode_hªdË


36 *
	$of_node_to_fwnode
(
deviû_node
 *
node
)

38  
node
 ? &node->
fwnode
 : 
NULL
;

39 
	}
}

42 
šlše
 
deviû_node
 *

43 
	$of_node_g‘
(
deviû_node
 *
node
)

45  
node
;

46 
	}
}

48 
šlše
 
	$of_node_put
(
deviû_node
 *
node
è{ 
	}
}

50 
šlše
 

51 
	$of_node_to_nid
(
deviû_node
 *
deviû
)

54 
	}
}

	@src/common/linuxkpi/gplv2/include/linux/of_device.h

1 #iâdeà
_LINUX_OF_DEVICE_H


2 
	#_LINUX_OF_DEVICE_H


	)

3 
	~<lšux/of.h
>

4 
	~<lšux/mod_deviûbË.h
>

6 
	gdeviû
;

7 
	gdeviû_driv”
;

8 
	gkobj_uev’t_’v
;

10 
šlše
 
	$of_driv”_m©ch_deviû
(
deviû
 *
dev
,

11 cÚ¡ 
deviû_driv”
 *
drv
)

14 
	}
}

16 
šlše
 
	$of_deviû_uev’t
(
deviû
 *
dev
,

17 
kobj_uev’t_’v
 *
’v
è{ 
	}
}

19 
šlše
 cÚ¡ *
	$of_deviû_g‘_m©ch_d©a
(cÚ¡ 
deviû
 *
dev
)

21  
NULL
;

22 
	}
}

24 
šlše
 
	$of_deviû_g‘_mod®Ÿs
(
deviû
 *
dev
,

25 *
¡r
, 
ssize_t
 
Ën
)

27  -
ENODEV
;

28 
	}
}

30 
šlše
 
	$of_deviû_uev’t_mod®Ÿs
(
deviû
 *
dev
,

31 
kobj_uev’t_’v
 *
’v
)

33  -
ENODEV
;

34 
	}
}

36 
šlše
 
	$of_deviû_node_put
(
deviû
 *
dev
è{ 
	}
}

38 
šlše
 cÚ¡ 
of_deviû_id
 *
	$__of_m©ch_deviû
(

39 cÚ¡ 
of_deviû_id
 *
m©ches
, cÚ¡ 
deviû
 *
dev
)

41  
NULL
;

42 
	}
}

43 
	#of_m©ch_deviû
(
m©ches
, 
dev
) \

44 
	`__of_m©ch_deviû
(
	`of_m©ch_±r
(
m©ches
), (
dev
))

	)

46 
šlše
 
deviû_node
 *
	$of_ýu_deviû_node_g‘
(
ýu
)

48  
NULL
;

49 
	}
}

50 
šlše
 
	$of_dma_cÚfigu»
(
deviû
 *
dev
, 
deviû_node
 *
Å
)

51 {
	}
}

	@src/common/linuxkpi/gplv2/include/linux/oom.h

1 #iâdeà
__INCLUDE_LINUX_OOM_H


2 
	#__INCLUDE_LINUX_OOM_H


	)

4 
	~<lšux/sched.h
>

5 
	~<lšux/ty³s.h
>

7 
	gnÙif›r_block
;

9 
»gi¡”_oom_nÙif›r
(
nÙif›r_block
 *
nb
);

10 
uÄegi¡”_oom_nÙif›r
(
nÙif›r_block
 *
nb
);

	@src/common/linuxkpi/gplv2/include/linux/page.h

1 #iâdef 
_LINUX_GPLV2_PAGE_H_


2 
	#_LINUX_GPLV2_PAGE_H_


	)

4 #šþude_Ãxˆ<
lšux
/
·ge
.
h
>

6 
	#PAGE_KERNEL_IO
 0x0000

	)

9 *
km­
(
vm_·ge_t
 
·ge
);

10 *
km­_©omic
(
vm_·ge_t
 
·ge
);

11 *
km­_©omic_´Ù
(
vm_·ge_t
 
·ge
, 
pg´Ù_t
 
´Ù
);

12 
kunm­
(
vm_·ge_t
 
·ge
);

13 
kunm­_©omic
(*
vaddr
);

15 
iounm­_©omic
(*
vaddr
);

17 
šlše
 

18 
	$·ge_couÁ
(
vm_·ge_t
 
·ge
 
__unu£d
)

21 
	}
}

24 
šlše
 *

25 
	$mem£t64
(
ušt64_t
 *
s
, ušt64_ˆ
v
, 
size_t
 
couÁ
)

27 
ušt64_t
 *
xs
 = 
s
;

29 
couÁ
--)

30 *
xs
++ = 
v
;

31  
s
;

32 
	}
}

34 
£t_·ges_¬¿y_wb
(
·ge
 **
·ges
, 
addrš¬¿y
);

35 
£t_·ges_¬¿y_uc
(
·ge
 **
·ges
, 
addrš¬¿y
);

36 
£t_·ges_¬¿y_wc
(
·ge
 **
·ges
, 
addrš¬¿y
);

38 
£t_·ges_wb
(
vm_·ge_t
 
·ge
, 
num·ges
);

39 
£t_·ges_uc
(
vm_·ge_t
 
·ge
, 
num·ges
);

40 
£t_·ges_wc
(
vm_·ge_t
 
·ge
, 
num·ges
);

42 
vm_·ddr_t
 
·ge_to_phys
(
vm_·ge_t
 
·ge
);

44 
unm­_m­pšg_¿nge
(*
obj
, 
loff_t
 cÚ¡ 
hÞebegš
,

45 
loff_t
 cÚ¡ 
hÞ–’
, 
ev’_cows
);

47 
	#lšux_þæushÝt
(
¬g
è
	`__lšux_þæushÝt
((
u_lÚg
)×rg))

	)

48 
__lšux_þæushÝt
(
u_lÚg
 
addr
);

	@src/common/linuxkpi/gplv2/include/linux/pagemap.h

1 #iâdeà
_LINUX_PAGEMAP_H


2 
	#_LINUX_PAGEMAP_H


	)

4 
	~<lšux/mm.h
>

5 
	~<lšux/fs.h
>

6 
	~<lšux/li¡.h
>

7 
	~<lšux/highmem.h
>

8 
	~<lšux/compž”.h
>

9 
	~<lšux/h¬dœq.h
>

10 
	~<lšux/mm.h
>

13 
šlše
 

14 
	$çuÉ_š_muÉages_»adabË
(cÚ¡ 
__u£r
 *
uaddr
, 
size
)

16 
c
;

17 
»t
 = 0;

18 cÚ¡ 
__u£r
 *
’d
 = 
uaddr
 + 
size
 - 1;

20 ià(
	`uÆik–y
(
size
 == 0))

21  
»t
;

23 
uaddr
 <ð
’d
) {

24 
»t
 = -
	`cÝyš
(
uaddr
, &
c
, 1);

25 ià(
»t
 != 0)

26  -
EFAULT
;

27 
uaddr
 +ð
PAGE_SIZE
;

31 ià((()
uaddr
 & ~(
PAGE_SIZE
 - 1)) ==

32 (()
’d
 & ~(
PAGE_SIZE
 - 1))) {

33 
»t
 = -
	`cÝyš
(
’d
, &
c
, 1);

36  
»t
;

37 
	}
}

39 
šlše
 

40 
	$çuÉ_š_muÉages_wr™—bË
(
__u£r
 *
uaddr
, 
size
)

42 
»t
 = 0;

43 
__u£r
 *
’d
 = 
uaddr
 + 
size
 - 1;

45 ià(
	`uÆik–y
(
size
 == 0))

46  
»t
;

52 
uaddr
 <ð
’d
) {

53 
»t
 = 
	`suby‹
(
uaddr
, 0);

54 ià(
»t
 != 0)

55  -
EFAULT
;

56 
uaddr
 +ð
PAGE_SIZE
;

60 ià((()
uaddr
 & ~(
PAGE_SIZE
 - 1)) ==

61 (()
’d
 & ~(
PAGE_SIZE
 - 1)))

62 
»t
 = 
	`suby‹
(
’d
, 0);

64  
»t
;

65 
	}
}

67 
šlše
 

68 
	$çuÉ_š_·ges_wr™—bË
(
__u£r
 *
uaddr
, 
size
)

70  (
	`çuÉ_š_muÉages_wr™—bË
(
uaddr
, 
size
));

71 
	}
}

73 
šlše
 

74 
	$çuÉ_š_·ges_»adabË
(
__u£r
 *
uaddr
, 
size
)

76  (
	`çuÉ_š_muÉages_»adabË
(
uaddr
, 
size
));

77 
	}
}

79 
šlše
 

80 
	$»Ëa£_·ges
(
·ge
 **
·ges
, 
Ä
)

82 
i
;

84 
i
 = 0; i < 
Ä
; i++)

85 
	`put_·ge
(
·ges
[
i
]);

86 
	}
}

	@src/common/linuxkpi/gplv2/include/linux/pagevec.h

8 #iâdeà
_LINUX_PAGEVEC_H


9 
	#_LINUX_PAGEVEC_H


	)

11 
	~<lšux/·gem­.h
>

14 
	#PAGEVEC_SIZE
 14

	)

16 
	g·ge
;

17 
	gadd»ss_¥aû
;

19 
	s·gevec
 {

20 
	mÄ
;

21 
·ge
 *
	m·ges
[
PAGEVEC_SIZE
];

24 
šlše
 
	$·gevec_š™
(
·gevec
 *
pvec
)

26 
pvec
->
Ä
 = 0;

27 
	}
}

29 
šlše
 
	$·gevec_»š™
(
·gevec
 *
pvec
)

31 
pvec
->
Ä
 = 0;

32 
	}
}

34 
šlše
 
	$·gevec_couÁ
(
·gevec
 *
pvec
)

36  
pvec
->
Ä
;

37 
	}
}

39 
šlše
 
	$·gevec_¥aû
(
·gevec
 *
pvec
)

41  
PAGEVEC_SIZE
 - 
pvec
->
Ä
;

42 
	}
}

47 
šlše
 
	$·gevec_add
(
·gevec
 *
pvec
, 
·ge
 *page)

49 
	`g‘_·ge
(
·ge
);

50 
pvec
->
·ges
[pvec->
Ä
++] = 
·ge
;

51  
	`·gevec_¥aû
(
pvec
);

52 
	}
}

54 
šlše
 
	$__·gevec_»Ëa£
(
·gevec
 *
pvec
)

56 
	`»Ëa£_·ges
(
pvec
->
·ges
, 
	`·gevec_couÁ
(pvec));

57 
	`·gevec_»š™
(
pvec
);

58 
	}
}

60 
šlše
 
	$·gevec_»Ëa£
(
·gevec
 *
pvec
)

62 ià(
	`·gevec_couÁ
(
pvec
))

63 
	`__·gevec_»Ëa£
(
pvec
);

64 
	}
}

	@src/common/linuxkpi/gplv2/include/linux/pci-aspm.h

16 #iâdeà
LINUX_ASPM_H


17 
	#LINUX_ASPM_H


	)

19 
	~<lšux/pci.h
>

21 
	#PCIE_LINK_STATE_L0S
 1

	)

22 
	#PCIE_LINK_STATE_L1
 2

	)

23 
	#PCIE_LINK_STATE_CLKPM
 4

	)

25 #ifdeà
CONFIG_PCIEASPM


26 
pc›_a¥m_š™_lšk_¡©e
(
pci_dev
 *
pdev
);

27 
pc›_a¥m_ex™_lšk_¡©e
(
pci_dev
 *
pdev
);

28 
pc›_a¥m_pm_¡©e_chªge
(
pci_dev
 *
pdev
);

29 
pc›_a¥m_pow”§ve_cÚfig_lšk
(
pci_dev
 *
pdev
);

30 
pci_di§bË_lšk_¡©e
(
pci_dev
 *
pdev
, 
¡©e
);

31 
pci_di§bË_lšk_¡©e_locked
(
pci_dev
 *
pdev
, 
¡©e
);

32 
pc›_no_a¥m
();

34 
šlše
 
	$pc›_a¥m_š™_lšk_¡©e
(
pci_dev
 *
pdev
)

36 
	}
}

37 
šlše
 
	$pc›_a¥m_ex™_lšk_¡©e
(
pci_dev
 *
pdev
)

39 
	}
}

40 
šlše
 
	$pc›_a¥m_pm_¡©e_chªge
(
pci_dev
 *
pdev
)

42 
	}
}

43 
šlše
 
	$pc›_a¥m_pow”§ve_cÚfig_lšk
(
pci_dev
 *
pdev
)

45 
	}
}

46 
šlše
 
	$pci_di§bË_lšk_¡©e
(
pci_dev
 *
pdev
, 
¡©e
)

48 
	}
}

49 
šlše
 
	$pc›_no_a¥m
()

51 
	}
}

54 #ifdeà
CONFIG_PCIEASPM_DEBUG


55 
pc›_a¥m_ü—‹_sysfs_dev_fžes
(
pci_dev
 *
pdev
);

56 
pc›_a¥m_»move_sysfs_dev_fžes
(
pci_dev
 *
pdev
);

58 
šlše
 
	$pc›_a¥m_ü—‹_sysfs_dev_fžes
(
pci_dev
 *
pdev
)

60 
	}
}

61 
šlše
 
	$pc›_a¥m_»move_sysfs_dev_fžes
(
pci_dev
 *
pdev
)

63 
	}
}

	@src/common/linuxkpi/gplv2/include/linux/pci.h

1 #iâdeà
_LINUX_GPLV2_PCI_H_


2 
	#_LINUX_GPLV2_PCI_H_


	)

4 
	~<sys/·¿m.h
>

5 
	~<sys/bus.h
>

6 
	~<machše/bus.h
>

7 
	~<sys/rmª.h
>

8 
	~<machše/»sourû.h
>

10 #šþude_Ãxˆ<
lšux
/
pci
.
h
>

12 
	#DEFINE_RES_MEM
(
_¡¬t
, 
_size
) \

14 .
bsd_»s
 = 
NULL
, \

15 .
¡¬t
 = (
_¡¬t
), \

16 .
’d
 = (
_¡¬t
è+ (
_size
) - 1, \

17 }

	)

19 
	#BSD_TO_LINUX_RESOURCE
(
r
) \

21 .
bsd_»s
 = (
r
), \

22 .
¡¬t
 = 
	`rmª_g‘_¡¬t
(
r
), \

23 .
’d
 = 
	`rmª_g‘_’d
(
r
), \

24 }

	)

26 
	slšux_»sourû
 {

27 
»sourû
 *
	mbsd_»s
;

28 
»sourû_size_t
 
	m¡¬t
;

29 
»sourû_size_t
 
	m’d
;

36 
pci_dev
 *
lšux_pci_g‘_þass
(
þass
, pci_dev *
äom
);

38 
šlše
 
»sourû_size_t


39 
	$»sourû_size
(cÚ¡ 
lšux_»sourû
 *
»s
)

41  
»s
->
’d
 -„es->
¡¬t
 + 1;

42 
	}
}

44 
šlše
 
boÞ


45 
	$»sourû_cÚšs
(
lšux_»sourû
 *
a
, lšux_»sourû *
b
)

47  
a
->
¡¬t
 <ð
b
->¡¬ˆ&&‡->
’d
 >= b->end;

48 
	}
}

50 
šlše
 

51 
	$pci_bus_»ad_cÚfig
(
pci_bus
 *
bus
, 
devâ
,

52 
wh”e
, 
ušt32_t
 *
v®
, 
size
)

54 
deviû_t
 
dev
;

55 
dom
, 
busid
, 
¦Ù
, 
func
;

57 
dom
 = 
	`pci_g‘_domaš
(
bus
->
£lf
->
dev
.
bsddev
);

58 
busid
 = 
	`pci_g‘_bus
(
bus
->
£lf
->
dev
.
bsddev
);

59 
¦Ù
 = ((
devâ
 >> 3) & 0x1f);

60 
func
 = 
devâ
 & 0x7;

61 
dev
 = 
	`pci_fšd_dbsf
(
dom
, 
busid
, 
¦Ù
, 
func
);

62 *
v®
 = 
	`pci_»ad_cÚfig
(
dev
, 
wh”e
, 
size
);

64 
	}
}

66 
šlše
 

67 
	$pci_bus_»ad_cÚfig_wÜd
(
pci_bus
 *
bus
, 
devâ
, 
wh”e
, 
u16
 *
v®
)

69  (
	`pci_bus_»ad_cÚfig
(
bus
, 
devâ
, 
wh”e
, (
ušt32_t
 *)
v®
, 2));

70 
	}
}

72 
šlše
 

73 
	$pci_bus_»ad_cÚfig_by‹
(
pci_bus
 *
bus
, 
devâ
, 
wh”e
, 
u8
 *
v®
)

75  (
	`pci_bus_»ad_cÚfig
(
bus
, 
devâ
, 
wh”e
, (
ušt32_t
 *)
v®
, 1));

76 
	}
}

78 
šlše
 

79 
	$pci_bus_wr™e_cÚfig
(
pci_bus
 *
bus
, 
devâ
, 
wh”e
,

80 
ušt32_t
 
v®
, 
size
)

82 
deviû_t
 
dev
;

83 
dom
, 
busid
, 
¦Ù
, 
func
;

85 
dom
 = 
	`pci_g‘_domaš
(
bus
->
£lf
->
dev
.
bsddev
);

86 
busid
 = 
	`pci_g‘_bus
(
bus
->
£lf
->
dev
.
bsddev
);

87 
¦Ù
 = ((
devâ
 >> 3) & 0x1f);

88 
func
 = 
devâ
 & 0x7;

89 
dev
 = 
	`pci_fšd_dbsf
(
dom
, 
busid
, 
¦Ù
, 
func
);

90 
	`pci_wr™e_cÚfig
(
dev
, 
wh”e
, 
v®
, 
size
);

92 
	}
}

94 
šlše
 

95 
	$pci_bus_wr™e_cÚfig_by‹
(
pci_bus
 *
bus
, 
devâ
, 
wh”e
,

96 
ušt8_t
 
v®
)

98  (
	`pci_bus_wr™e_cÚfig
(
bus
, 
devâ
, 
wh”e
, 
v®
, 1));

99 
	}
}

101 
pci_dev
 *
pci_g‘_bus_ªd_¦Ù
(
bus
, 
devâ
);

103 
pci_dev_put
(
pci_dev
 *
pdev
);

105 
šlše
 
boÞ


106 
	$pci_is_roÙ_bus
(
pci_bus
 *
pbus
)

109  (
pbus
->
£lf
 =ð
NULL
);

110 
	}
}

112 
šlše
 
pci_dev
 *

113 
	$pci_up¡»am_bridge
(
pci_dev
 *
dev
)

116 
	`UNIMPLEMENTED
();

117  (
NULL
);

118 
	}
}

120 
šlše
 
boÞ


121 
	$pci_is_thund”bÞt_©ched
(
pci_dev
 *
pdev
)

123 
	`UNIMPLEMENTED
();

124  
çl£
;

125 
	}
}

127 
šlše
 *

128 
	$pci_¶©fÜm_rom
(
pci_dev
 *
pdev
, 
size_t
 *
size
)

131 
	`UNIMPLEMENTED
();

132  (
NULL
);

133 
	}
}

135 
šlše
 

136 
	$lšux_pci_§ve_¡©e
(
pci_dev
 *
pdev
)

139 
	`pci_§ve_¡©e
(
pdev
->
dev
.
bsddev
);

140 
	}
}

142 
šlše
 

143 
	$lšux_pci_»¡Üe_¡©e
(
pci_dev
 *
pdev
)

146 
	`pci_»¡Üe_¡©e
(
pdev
->
dev
.
bsddev
);

147 
	}
}

149 
šlše
 

150 
	$pci_ignÜe_hÙ¶ug
(
pci_dev
 *
pdev
)

153 
	`UNIMPLEMENTED
();

154 
	}
}

156 
šlše
 *

157 
	$pci_®loc_cÚsi¡’t
(
pci_dev
 *
hwdev
, 
size_t
 
size
, 
dma_addr_t
 *
dma_hªdË
)

160  (
	`dma_®loc_coh”’t
(
hwdev
 =ð
NULL
 ? NULL : &hwdev->
dev
, 
size
,

161 
dma_hªdË
, 
GFP_ATOMIC
));

162 
	}
}

164 
šlše
 

165 
	$pc›_g‘_»adrq
(
pci_dev
 *
dev
)

167 
u16
 
ùl
;

169 ià(
	`pc›_ÿ·bž™y_»ad_wÜd
(
dev
, 
PCI_EXP_DEVCTL
, &
ùl
))

170  (-
EINVAL
);

172  128 << ((
ùl
 & 
PCI_EXP_DEVCTL_READRQ
) >> 12);

173 
	}
}

	@src/common/linuxkpi/gplv2/include/linux/perf_event.h

1 #iâdeà
_LINUX_GPLV2_PERF_EVENT_H_


2 
	#_LINUX_GPLV2_PERF_EVENT_H_


	)

4 
	spmu
 {};

	@src/common/linuxkpi/gplv2/include/linux/platform_device.h

1 #iâdeà
_LINUX__PLATFORM_DEVICE_H_


2 
	#_LINUX__PLATFORM_DEVICE_H_


	)

4 
	~<lšux/deviû.h
>

6 
	s¶©fÜm_deviû
 {

7 
deviû
 
	mdev
;

10 
šlše
 

11 
	$¶©fÜm_deviû_uÄegi¡”
(
¶©fÜm_deviû
 *
pdev
)

14 
	`·nic
("%s: unim¶em’‹d", 
__func__
);

15 
	}
}

17 
šlše
 
¶©fÜm_deviû
 *

18 
	$¶©fÜm_deviû_»gi¡”_sim¶e
(cÚ¡ *
Çme
, 
id
,

19 *
»s
, 
num
)

22 
	`·nic
("%s: unim¶em’‹d", 
__func__
);

23 
	}
}

	@src/common/linuxkpi/gplv2/include/linux/pm.h

21 #iâdeà
_LINUX_PM_H_


22 
	#_LINUX_PM_H_


	)

24 
	~<lšux/deviû.h
>

25 
	~<lšux/li¡.h
>

26 
	~<lšux/wÜkqueue.h
>

27 
	~<lšux/¥šlock.h
>

28 
	~<lšux/wa™.h
>

29 
	~<lšux/tim”.h
>

30 
	~<lšux/com¶‘iÚ.h
>

32 
	#DPM_FLAG_NEVER_SKIP
 
	`BIT
(0)

	)

33 
	#DPM_FLAG_SMART_PREPARE
 
	`BIT
(1)

	)

34 
	#DPM_FLAG_SMART_SUSPEND
 
	`BIT
(2)

	)

36 
	gdeviû
;

38 cÚ¡ 
pow”_group_Çme
[];

45 #ifdeà
CONFIG_PM_SLEEP


46 
	#SET_SYSTEM_SLEEP_PM_OPS
(
su¥’d_â
, 
»sume_â
) \

47 .
su¥’d
 = 
su¥’d_â
, \

48 .
»sume
 = 
»sume_â
, \

49 .
ä“ze
 = 
su¥’d_â
, \

50 .
thaw
 = 
»sume_â
, \

51 .
pow”off
 = 
su¥’d_â
, \

52 .
»¡Üe
 = 
»sume_â
,

	)

54 
	#SET_SYSTEM_SLEEP_PM_OPS
(
su¥’d_â
, 
»sume_â
)

	)

57 
	#SIMPLE_DEV_PM_OPS
(
Çme
, 
su¥’d_â
, 
»sume_â
) \

58 cÚ¡ 
dev_pm_Ýs
 
Çme
 = { \

59 
	`SET_SYSTEM_SLEEP_PM_OPS
(
su¥’d_â
, 
»sume_â
) \

60 }

	)

62 
	sdev_pm_domaš
 {

63 
dev_pm_Ýs
 
	mÝs
;

64 (*
	md‘ach
)(
deviû
 *
	mdev
, 
boÞ
 
	mpow”_off
);

65 (*
	maùiv©e
)(
deviû
 *
	mdev
);

66 (*
	msync
)(
deviû
 *
	mdev
);

67 (*
	mdismiss
)(
deviû
 *
	mdev
);

70 
	#PM_EVENT_INVALID
 (-1)

	)

71 
	#PM_EVENT_ON
 0x0000

	)

72 
	#PM_EVENT_FREEZE
 0x0001

	)

73 
	#PM_EVENT_SUSPEND
 0x0002

	)

74 
	#PM_EVENT_HIBERNATE
 0x0004

	)

75 
	#PM_EVENT_QUIESCE
 0x0008

	)

76 
	#PM_EVENT_RESUME
 0x0010

	)

77 
	#PM_EVENT_THAW
 0x0020

	)

78 
	#PM_EVENT_RESTORE
 0x0040

	)

79 
	#PM_EVENT_RECOVER
 0x0080

	)

80 
	#PM_EVENT_USER
 0x0100

	)

81 
	#PM_EVENT_REMOTE
 0x0200

	)

82 
	#PM_EVENT_AUTO
 0x0400

	)

84 
	#PM_EVENT_SLEEP
 (
PM_EVENT_SUSPEND
 | 
PM_EVENT_HIBERNATE
)

	)

85 
	#PM_EVENT_USER_SUSPEND
 (
PM_EVENT_USER
 | 
PM_EVENT_SUSPEND
)

	)

86 
	#PM_EVENT_USER_RESUME
 (
PM_EVENT_USER
 | 
PM_EVENT_RESUME
)

	)

87 
	#PM_EVENT_REMOTE_RESUME
 (
PM_EVENT_REMOTE
 | 
PM_EVENT_RESUME
)

	)

88 
	#PM_EVENT_AUTO_SUSPEND
 (
PM_EVENT_AUTO
 | 
PM_EVENT_SUSPEND
)

	)

89 
	#PM_EVENT_AUTO_RESUME
 (
PM_EVENT_AUTO
 | 
PM_EVENT_RESUME
)

	)

91 
	#PMSG_INVALID
 ((
pm_mes§ge
){ .
ev’t
 = 
PM_EVENT_INVALID
, })

	)

92 
	#PMSG_ON
 ((
pm_mes§ge
){ .
ev’t
 = 
PM_EVENT_ON
, })

	)

93 
	#PMSG_FREEZE
 ((
pm_mes§ge
){ .
ev’t
 = 
PM_EVENT_FREEZE
, })

	)

94 
	#PMSG_QUIESCE
 ((
pm_mes§ge
){ .
ev’t
 = 
PM_EVENT_QUIESCE
, })

	)

95 
	#PMSG_SUSPEND
 ((
pm_mes§ge
){ .
ev’t
 = 
PM_EVENT_SUSPEND
, })

	)

96 
	#PMSG_HIBERNATE
 ((
pm_mes§ge
){ .
ev’t
 = 
PM_EVENT_HIBERNATE
, })

	)

97 
	#PMSG_RESUME
 ((
pm_mes§ge
){ .
ev’t
 = 
PM_EVENT_RESUME
, })

	)

98 
	#PMSG_THAW
 ((
pm_mes§ge
){ .
ev’t
 = 
PM_EVENT_THAW
, })

	)

99 
	#PMSG_RESTORE
 ((
pm_mes§ge
){ .
ev’t
 = 
PM_EVENT_RESTORE
, })

	)

100 
	#PMSG_RECOVER
 ((
pm_mes§ge
){ .
ev’t
 = 
PM_EVENT_RECOVER
, })

	)

101 
	#PMSG_USER_SUSPEND
 ((
pm_mes§ge
) \

102 { .
ev’t
 = 
PM_EVENT_USER_SUSPEND
, })

	)

103 
	#PMSG_USER_RESUME
 ((
pm_mes§ge
) \

104 { .
ev’t
 = 
PM_EVENT_USER_RESUME
, })

	)

105 
	#PMSG_REMOTE_RESUME
 ((
pm_mes§ge
) \

106 { .
ev’t
 = 
PM_EVENT_REMOTE_RESUME
, })

	)

107 
	#PMSG_AUTO_SUSPEND
 ((
pm_mes§ge
) \

108 { .
ev’t
 = 
PM_EVENT_AUTO_SUSPEND
, })

	)

109 
	#PMSG_AUTO_RESUME
 ((
pm_mes§ge
) \

110 { .
ev’t
 = 
PM_EVENT_AUTO_RESUME
, })

	)

	@src/common/linuxkpi/gplv2/include/linux/pm_domain.h

	@src/common/linuxkpi/gplv2/include/linux/pm_qos.h

1 #iâdeà
_LINUX_PM_QOS_H_


2 
	#_LINUX_PM_QOS_H_


	)

3 
	~<lšux/nÙif›r.h
>

4 
	~<lšux/deviû.h
>

7 
	spm_qos_»que¡
 {};

	@src/common/linuxkpi/gplv2/include/linux/pm_runtime.h

1 #iâdeà
_LINUX_PM_RUNTIME_H_


2 
	#_LINUX_PM_RUNTIME_H_


	)

4 
	~<lšux/li¡.h
>

5 
	~<lšux/wÜkqueue.h
>

6 
	~<lšux/¥šlock.h
>

7 
	~<lšux/wa™.h
>

8 
	~<lšux/tim”.h
>

9 
	~<lšux/com¶‘iÚ.h
>

10 
	~<lšux/deviû.h
>

12 
šlše
 

13 
	$pm_ruÁime_m¬k_Ï¡_busy
(
deviû
 *
dev
)

15 
	`UNIMPLEMENTED_ONCE
();

16 
	}
}

20 
	#RPM_ASYNC
 0x01

	)

21 
	#RPM_NOWAIT
 0x02

	)

23 
	#RPM_GET_PUT
 0x04

	)

25 
	#RPM_AUTO
 0x08

	)

28 
šlše
 

29 
	$__pm_ruÁime_su¥’d
(
deviû
 *
dev
, 
½mæags
)

31 
	`UNIMPLEMENTED_ONCE
();

33 
	}
}

35 
šlše
 

36 
	$pm_ruÁime_g‘_if_š_u£
(
deviû
 *
dev
)

38 
	`UNIMPLEMENTED
();

40 
	}
}

42 
šlše
 

43 
	$__pm_ruÁime_u£_autosu¥’d
(
deviû
 *
dev
, 
boÞ
 
u£
)

45 
	`UNIMPLEMENTED
();

46 
	}
}

48 
šlše
 

49 
	$pm_ruÁime_£t_autosu¥’d_d–ay
(
deviû
 *
dev
, 
d–ay
)

51 
	`UNIMPLEMENTED
();

52 
	}
}

54 
šlše
 

55 
	$__pm_ruÁime_»sume
(
deviû
 *
dev
, 
½mæags
)

57 
	`UNIMPLEMENTED_ONCE
();

59 
	}
}

61 
šlše
 

62 
	$__pm_ruÁime_idË
(
deviû
 *
dev
, 
½mæags
)

64 
	`UNIMPLEMENTED
();

66 
	}
}

68 
šlše
 

69 
	$pm_ruÁime_g‘_nÜesume
(
deviû
 *
dev
)

71 #ifdeà
__lšux__


72 
	`©omic_šc
(&
dev
->
pow”
.
u§ge_couÁ
);

74 
	}
}

76 
šlše
 
	$pm_ruÁime_»sume
(
deviû
 *
dev
)

78  
	`__pm_ruÁime_»sume
(
dev
, 0);

79 
	}
}

81 
šlše
 

82 
	$pm_ruÁime_g‘
(
deviû
 *
dev
)

84  (
	`__pm_ruÁime_»sume
(
dev
, 
RPM_GET_PUT
 | 
RPM_ASYNC
));

85 
	}
}

87 
šlše
 

88 
	$pm_ruÁime_g‘_sync
(
deviû
 *
dev
)

90  (
	`__pm_ruÁime_»sume
(
dev
, 
RPM_GET_PUT
));

91 
	}
}

93 
šlše
 

94 
	$pm_ruÁime_put
(
deviû
 *
dev
)

96  (
	`__pm_ruÁime_idË
(
dev
, 
RPM_GET_PUT
 | 
RPM_ASYNC
));

97 
	}
}

99 
šlše
 
	$pm_ruÁime_put_noidË
(
deviû
 *
dev
)

101 #ifdeà
__lšux__


102 
	`©omic_add_uÆess
(&
dev
->
pow”
.
u§ge_couÁ
, -1, 0);

104 
	}
}

106 
šlše
 

107 
	$pm_ruÁime_put_autosu¥’d
(
deviû
 *
dev
)

109  (
	`__pm_ruÁime_su¥’d
(
dev
, 
RPM_GET_PUT
 | 
RPM_ASYNC
 | 
RPM_AUTO
));

110 
	}
}

112 
šlše
 

113 
	$pm_ruÁime_u£_autosu¥’d
(
deviû
 *
dev
)

115 
	`__pm_ruÁime_u£_autosu¥’d
(
dev
, 
Œue
);

116 
	}
}

118 
šlše
 

119 
	$pm_ruÁime_dÚt_u£_autosu¥’d
(
deviû
 *
dev
)

121 
	`__pm_ruÁime_u£_autosu¥’d
(
dev
, 
çl£
);

122 
	}
}

124 
šlše
 

125 
	$pm_g’”ic_ruÁime_su¥’d
(
deviû
 *
dev
)

127 cÚ¡ 
dev_pm_Ýs
 *
pm
 = 
dev
->
driv”
 ? dev->driv”->pm : 
NULL
;

129  (
pm
 &&…m->
ruÁime_su¥’d
 ?…m->
	`ruÁime_su¥’d
(
dev
) : 0);

130 
	}
}

132 
šlše
 

133 
	$pm_g’”ic_ruÁime_»sume
(
deviû
 *
dev
)

135 cÚ¡ 
dev_pm_Ýs
 *
pm
 = 
dev
->
driv”
 ? dev->driv”->pm : 
NULL
;

137  (
pm
 &&…m->
ruÁime_»sume
 ?…m->
	`ruÁime_»sume
(
dev
) : 0);

138 
	}
}

140 
šlše
 

141 
	$pm_g’”ic_su¥’d
(
deviû
 *
dev
)

143 cÚ¡ 
dev_pm_Ýs
 *
pm
 = 
dev
->
driv”
 ? dev->driv”->pm : 
NULL
;

145  (
pm
 &&…m->
su¥’d
 ?…m->
	`su¥’d
(
dev
) : 0);

146 
	}
}

148 
šlše
 

149 
	$pm_g’”ic_»sume
(
deviû
 *
dev
)

151 cÚ¡ 
dev_pm_Ýs
 *
pm
 = 
dev
->
driv”
 ? dev->driv”->pm : 
NULL
;

153  
pm
 &&…m->
»sume
 ?…m->
	`»sume
(
dev
) : 0;

154 
	}
}

156 
šlše
 

157 
	$pm_g’”ic_»¡Üe
(
deviû
 *
dev
)

159 cÚ¡ 
dev_pm_Ýs
 *
pm
 = 
dev
->
driv”
 ? dev->driv”->pm : 
NULL
;

161  (
pm
 &&…m->
»¡Üe
 ?…m->
	`»¡Üe
(
dev
) : 0);

162 
	}
}

164 
šlše
 

165 
	$pm_g’”ic_ä“ze
(
deviû
 *
dev
)

167 cÚ¡ 
dev_pm_Ýs
 *
pm
 = 
dev
->
driv”
 ? dev->driv”->pm : 
NULL
;

169  (
pm
 &&…m->
ä“ze
 ?…m->
	`ä“ze
(
dev
) : 0);

170 
	}
}

172 
šlše
 

173 
	$pm_g’”ic_thaw
(
deviû
 *
dev
)

175 cÚ¡ 
dev_pm_Ýs
 *
pm
 = 
dev
->
driv”
 ? dev->driv”->pm : 
NULL
;

177  (
pm
 &&…m->
thaw
 ?…m->
	`thaw
(
dev
) : 0);

178 
	}
}

179 
šlše
 

180 
	$pm_g’”ic_pow”off
(
deviû
 *
dev
)

182 cÚ¡ 
dev_pm_Ýs
 *
pm
 = 
dev
->
driv”
 ? dev->driv”->pm : 
NULL
;

184  (
pm
 &&…m->
pow”off
 ?…m->
	`pow”off
(
dev
) : 0);

185 
	}
}

187 
šlše
 

188 
	$pm_ruÁime_fÜbid
(
deviû
 *
dev
){

189 
	`UNIMPLEMENTED
();

190 
	}
}

192 
šlše
 

193 
	$pm_ruÁime_autosu¥’d
(
deviû
 *
dev
){

194 
	`UNIMPLEMENTED
();

196 
	}
}

198 
šlše
 

199 
	$pm_ruÁime_£t_aùive
(
deviû
 *
dev
){

200 
	`UNIMPLEMENTED
();

202 
	}
}

204 
šlše
 

205 
	$pm_ruÁime_®low
(
deviû
 *
dev
){

206 
	`UNIMPLEMENTED
();

207 
	}
}

209 
šlše
 
	$pm_ruÁime_’abË
(
deviû
 *
dev
è{ 
	`UNIMPLEMENTED
();
	}
}

211 
šlše
 
	$__pm_ruÁime_di§bË
(
deviû
 *
dev
, 
boÞ
 
c
è{ 
	`UNIMPLEMENTED
(); 
	}
}

212 
šlše
 
	$pm_ruÁime_di§bË
(
deviû
 *
dev
)

214 
	`__pm_ruÁime_di§bË
(
dev
, 
Œue
);

215 
	}
}

	@src/common/linuxkpi/gplv2/include/linux/power_supply.h

1 #iâdeà
_LINUX_POWER_SUPPLY_H_


2 
	#_LINUX_POWER_SUPPLY_H_


	)

4 
	~<sys/”ºo.h
>

6 
šlše
 
	$pow”_suµly_is_sy¡em_suµl›d
(è{  -
ENOSYS
; 
	}
}

	@src/common/linuxkpi/gplv2/include/linux/prefetch.h

1 #iâdeà
_LINUX_PREFETCH_H


2 
	#_LINUX_PREFETCH_H


	)

4 
	~<lšux/ty³s.h
>

5 
	~<asm/´oûssÜ.h
>

7 #iâdeà
ARCH_HAS_PREFETCH


8 
	#´eãtch
(
x
è
	`__bužtš_´eãtch
(x)

	)

11 #iâdeà
ARCH_HAS_PREFETCHW


12 
	#´eãtchw
(
x
è
	`__bužtš_´eãtch
(x,1)

	)

	@src/common/linuxkpi/gplv2/include/linux/property.h

1 #iâdeà
_LINUX_PROPERTY_H_


2 
	#_LINUX_PROPERTY_H_


	)

4 
	~<lšux/fwnode.h
>

5 
	~<lšux/ty³s.h
>

	@src/common/linuxkpi/gplv2/include/linux/pwm.h

1 #iâdeà
_LINUX_PWM_H_


2 
	#_LINUX_PWM_H_


	)

4 
	~<lšux/mu‹x.h
>

5 
	~<lšux/deviû.h
>

7 
	epwm_pÞ¬™y
 {

8 
	mPWM_POLARITY_NORMAL
,

9 
	mPWM_POLARITY_INVERSED
,

12 
	spwm_¬gs
 {

13 
	m³riod
;

14 
pwm_pÞ¬™y
 
	mpÞ¬™y
;

18 
	mPWMF_REQUESTED
 = 1 << 0,

19 
	mPWMF_EXPORTED
 = 1 << 1,

22 
	spwm_¡©e
 {

23 
	m³riod
;

24 
	mduty_cyþe
;

25 
pwm_pÞ¬™y
 
	mpÞ¬™y
;

26 
boÞ
 
	m’abËd
;

29 
	spwm_deviû
 {

30 cÚ¡ *
	mÏb–
;

31 
	mæags
;

32 
	mhwpwm
;

33 
	mpwm
;

34 
pwm_ch
 *
	mch
;

35 *
	mch_d©a
;

37 
pwm_¬gs
 
	m¬gs
;

38 
pwm_¡©e
 
	m¡©e
;

42 
šlše
 
	$pwm_g‘_¡©e
(cÚ¡ 
pwm_deviû
 *
pwm
,

43 
pwm_¡©e
 *
¡©e
)

45 *
¡©e
 = 
pwm
->state;

46 
	}
}

48 
šlše
 
	$pwm_­¶y_¡©e
(
pwm_deviû
 *
pwm
,

49 cÚ¡ 
pwm_¡©e
 *
¡©e
)

51 
	`UNIMPLEMENTED
();

52  -
ENOTSUPP
;

53 
	}
}

55 
šlše
 

56 
	$pwm_put
(
pwm_deviû
 *
pwm
)

58 
	`UNIMPLEMENTED
();

59 
	}
}

61 
šlše
 
pwm_deviû
 *

62 
	$pwm_g‘
(
deviû
 *
dev
, cÚ¡ *
cÚ_id
)

64 
	`UNIMPLEMENTED
();

65  (
NULL
);

66 
	}
}

68 
šlše
 

69 
	$pwm_’abË
(
pwm_deviû
 *
pwm
)

71 
	`UNIMPLEMENTED
();

73 
	}
}

75 
šlše
 
	$pwm_di§bË
(
pwm_deviû
 *
pwm
)

77 
pwm_¡©e
 
¡©e
;

79 ià(!
pwm
)

82 
	`pwm_g‘_¡©e
(
pwm
, &
¡©e
);

83 ià(!
¡©e
.
’abËd
)

86 
¡©e
.
’abËd
 = 
çl£
;

87 
	`pwm_­¶y_¡©e
(
pwm
, &
¡©e
);

88 
	}
}

91 
šlše
 

92 
	$pwm_g‘_duty_cyþe
(cÚ¡ 
pwm_deviû
 *
pwm
)

94 
	`UNIMPLEMENTED
();

96 
	}
}

98 
šlše
 

99 
	$pwm_cÚfig
(
pwm_deviû
 *
pwm
, 
duty_ns
, 
³riod_ns
)

101 
	`UNIMPLEMENTED
();

103 
	}
}

105 
šlše
 
	$pwm_£t_pÞ¬™y
(
pwm_deviû
 *
pwm
,

106 
pwm_pÞ¬™y
 
pÞ¬™y
)

108 
pwm_¡©e
 
¡©e
;

110 ià(!
pwm
)

111  -
EINVAL
;

113 
	`pwm_g‘_¡©e
(
pwm
, &
¡©e
);

114 ià(
¡©e
.
pÞ¬™y
 ==…olarity)

124 ià(
¡©e
.
’abËd
)

125  -
EBUSY
;

127 
¡©e
.
pÞ¬™y
 =…olarity;

128  
	`pwm_­¶y_¡©e
(
pwm
, &
¡©e
);

129 
	}
}

132 
šlše
 
	$pwm_­¶y_¬gs
(
pwm_deviû
 *
pwm
)

156 
	`pwm_di§bË
(
pwm
);

157 
	`pwm_£t_pÞ¬™y
(
pwm
,…wm->
¬gs
.
pÞ¬™y
);

158 
	}
}

	@src/common/linuxkpi/gplv2/include/linux/ratelimit.h

1 #iâdeà
_LINUX_RATELIMIT_H


2 
	#_LINUX_RATELIMIT_H


	)

4 
	~<lšux/sched.h
>

5 
	~<lšux/¥šlock.h
>

7 
	#DEFAULT_RATELIMIT_INTERVAL
 (5 * 1000 )

	)

8 
	#DEFAULT_RATELIMIT_BURST
 10

	)

11 
	#RATELIMIT_MSG_ON_RELEASE
 
	`BIT
(0)

	)

13 
	s¿‹lim™_¡©e
 {

14 
¥šlock_t
 
	mlock
;

16 
	mš‹rv®
;

17 
	mbur¡
;

18 
	m´š‹d
;

19 
	mmis£d
;

20 
	mbegš
;

21 
	mæags
;

24 
	#RATELIMIT_STATE_INIT
(
Çme
, 
š‹rv®_š™
, 
bur¡_š™
) { \

25 .
š‹rv®
 = 
š‹rv®_š™
, \

26 .
bur¡
 = 
bur¡_š™
, \

27 }

	)

29 
	#RATELIMIT_STATE_INIT_DISABLED
 \

30 
	`RATELIMIT_STATE_INIT
(
¿‹lim™_¡©e
, 0, 
DEFAULT_RATELIMIT_BURST
)

	)

32 
	#DEFINE_RATELIMIT_STATE
(
Çme
, 
š‹rv®_š™
, 
bur¡_š™
) \

34 
¿‹lim™_¡©e
 
Çme
 = \

35 
	`RATELIMIT_STATE_INIT
(
Çme
, 
š‹rv®_š™
, 
bur¡_š™
) \

36 

	)

37 
šlše
 
	$¿‹lim™_¡©e_š™
(
¿‹lim™_¡©e
 *
rs
,

38 
š‹rv®
, 
bur¡
)

40 
	`mem£t
(
rs
, 0, (*rs));

42 
	`¥š_lock_š™
(&
rs
->
lock
);

43 
rs
->
š‹rv®
 = interval;

44 
rs
->
bur¡
 = burst;

45 
	}
}

48 
šlše
 

49 
	$___¿‹lim™
(
¿‹lim™_¡©e
 *
rs
, cÚ¡ *
func
)

53 
	}
}

54 
	#__¿‹lim™
(
¡©e
è
	`___¿‹lim™
(¡©e, 
__func__
)

	)

	@src/common/linuxkpi/gplv2/include/linux/rbtree.h

29 #iâdef 
_LINUX_RBTREE_H


30 
	#_LINUX_RBTREE_H


	)

36 
	~<sys/·¿m.h
>

37 
	~<sys/sock‘.h
>

39 
	~<Ãt/if.h
>

40 
	~<Ãt/if_v¬.h
>

42 
	~<Ãtš‘/š.h
>

43 
	~<Ãtš‘/š_v¬.h
>

45 #undeà
RB_ROOT


46 #undeà
RB_RED


47 #undeà
RB_BLACK


50 
	~<lšux/k”Ãl.h
>

51 
	~<lšux/¡ddef.h
>

52 
	~<lšux/rcupd©e.h
>

54 
	srb_node
 {

55 
	m__rb_·»Á_cÞÜ
;

56 
rb_node
 *
	mrb_right
;

57 
rb_node
 *
	mrb_Ëá
;

58 } 
__©Œibu‹__
((
®igÃd
(())));

61 
	srb_roÙ
 {

62 
rb_node
 *
	mrb_node
;

75 
	srb_roÙ_ÿched
 {

76 
rb_roÙ
 
	mrb_roÙ
;

77 
rb_node
 *
	mrb_Ëámo¡
;

80 
	#rb_·»Á
(
r
è((
rb_node
 *)(Ô)->
__rb_·»Á_cÞÜ
 & ~3))

	)

82 
	#RB_ROOT
 (
rb_roÙ
è{ 
NULL
, }

	)

83 
	#RB_ROOT_CACHED
 (
rb_roÙ_ÿched
è{ {
NULL
, }, NULL }

	)

84 
	#rb_’Œy
(
±r
, 
ty³
, 
memb”
è
	`cÚš”_of
ÕŒ,y³, memb”)

	)

86 
	#RB_EMPTY_ROOT
(
roÙ
è(
	`READ_ONCE
(ÔoÙ)->
rb_node
è=ð
NULL
)

	)

89 
	#RB_EMPTY_NODE
(
node
) \

90 ((
node
)->
__rb_·»Á_cÞÜ
 =ð()Òode))

	)

91 
	#RB_CLEAR_NODE
(
node
) \

92 ((
node
)->
__rb_·»Á_cÞÜ
 = ()Òode))

	)

95 
rb_š£¹_cÞÜ
(
rb_node
 *, 
rb_roÙ
 *);

96 
rb_”a£
(
rb_node
 *, 
rb_roÙ
 *);

100 
rb_node
 *
rb_Ãxt
(const rb_node *);

101 
rb_node
 *
rb_´ev
(const rb_node *);

102 
rb_node
 *
rb_fœ¡
(cÚ¡ 
rb_roÙ
 *);

103 
rb_node
 *
rb_Ï¡
(cÚ¡ 
rb_roÙ
 *);

105 
rb_š£¹_cÞÜ_ÿched
(
rb_node
 *,

106 
rb_roÙ_ÿched
 *, 
boÞ
);

107 
rb_”a£_ÿched
(
rb_node
 *
node
, 
rb_roÙ_ÿched
 *);

109 
	#rb_fœ¡_ÿched
(
roÙ
èÔoÙ)->
rb_Ëámo¡


	)

112 
rb_node
 *
rb_fœ¡_po¡Üd”
(cÚ¡ 
rb_roÙ
 *);

113 
rb_node
 *
rb_Ãxt_po¡Üd”
(const rb_node *);

116 
rb_»¶aû_node
(
rb_node
 *
viùim
, rb_nod*
Ãw
,

117 
rb_roÙ
 *
roÙ
);

118 
rb_»¶aû_node_rcu
(
rb_node
 *
viùim
, rb_nod*
Ãw
,

119 
rb_roÙ
 *
roÙ
);

120 
rb_»¶aû_node_ÿched
(
rb_node
 *
viùim
, rb_nod*
Ãw
,

121 
rb_roÙ_ÿched
 *
roÙ
);

123 
šlše
 
	$rb_lšk_node
(
rb_node
 *
node
, rb_nod*
·»Á
,

124 
rb_node
 **
rb_lšk
)

126 
node
->
__rb_·»Á_cÞÜ
 = ()
·»Á
;

127 
node
->
rb_Ëá
 =‚ode->
rb_right
 = 
NULL
;

129 *
rb_lšk
 = 
node
;

130 
	}
}

132 
šlše
 
	$rb_lšk_node_rcu
(
rb_node
 *
node
, rb_nod*
·»Á
,

133 
rb_node
 **
rb_lšk
)

135 
node
->
__rb_·»Á_cÞÜ
 = ()
·»Á
;

136 
node
->
rb_Ëá
 =‚ode->
rb_right
 = 
NULL
;

138 
	`rcu_assign_poš‹r
(*
rb_lšk
, 
node
);

139 
	}
}

141 
	#rb_’Œy_§ã
(
±r
, 
ty³
, 
memb”
) \

142 ({ 
	`ty³of
(
±r
è
____±r
 = (ptr); \

143 
____±r
 ? 
	`rb_’Œy
(____±r, 
ty³
, 
memb”
è: 
NULL
; \

144 })

	)

163 
	#rbŒ“_po¡Üd”_fÜ_—ch_’Œy_§ã
(
pos
, 
n
, 
roÙ
, 
f›ld
) \

164 
pos
 = 
	`rb_’Œy_§ã
(
	`rb_fœ¡_po¡Üd”
(
roÙ
), 
	`ty³of
(*pos), 
f›ld
); \

165 
pos
 && ({ 
n
 = 
	`rb_’Œy_§ã
(
	`rb_Ãxt_po¡Üd”
(&pos->
f›ld
), \

166 
	`ty³of
(*
pos
), 
f›ld
); 1; }); \

167 
pos
 = 
n
)

	)

	@src/common/linuxkpi/gplv2/include/linux/rbtree_augmented.h

24 #iâdeà
_LINUX_RBTREE_AUGMENTED_H


25 
	#_LINUX_RBTREE_AUGMENTED_H


	)

27 
	~<lšux/compž”.h
>

28 
	~<lšux/rbŒ“.h
>

38 
	srb_augm’t_ÿÎbacks
 {

39 (*
	m´Ýag©e
)(
rb_node
 *
	mnode
, rb_nod*
	m¡Ý
);

40 (*
	mcÝy
)(
rb_node
 *
	mÞd
, rb_nod*
	mÃw
);

41 (*
	mrÙ©e
)(
rb_node
 *
	mÞd
, rb_nod*
	mÃw
);

44 
__rb_š£¹_augm’‹d
(
rb_node
 *
node
,

45 
rb_roÙ
 *
roÙ
,

46 
boÞ
 
ÃwËá
, 
rb_node
 **
Ëámo¡
,

47 (*
augm’t_rÙ©e
)(
rb_node
 *
Þd
, rb_nod*
Ãw
));

58 
šlše
 

59 
	$rb_š£¹_augm’‹d
(
rb_node
 *
node
, 
rb_roÙ
 *
roÙ
,

60 cÚ¡ 
rb_augm’t_ÿÎbacks
 *
augm’t
)

62 
	`__rb_š£¹_augm’‹d
(
node
, 
roÙ
, 
çl£
, 
NULL
, 
augm’t
->
rÙ©e
);

63 
	}
}

65 
šlše
 

66 
	$rb_š£¹_augm’‹d_ÿched
(
rb_node
 *
node
,

67 
rb_roÙ_ÿched
 *
roÙ
, 
boÞ
 
ÃwËá
,

68 cÚ¡ 
rb_augm’t_ÿÎbacks
 *
augm’t
)

70 
	`__rb_š£¹_augm’‹d
(
node
, &
roÙ
->
rb_roÙ
,

71 
ÃwËá
, &
roÙ
->
rb_Ëámo¡
, 
augm’t
->
rÙ©e
);

72 
	}
}

74 
	#RB_DECLARE_CALLBACKS
(
rb¡©ic
, 
rbÇme
, 
rb¡ruù
, 
rbf›ld
, \

75 
rbty³
, 
rbaugm’‹d
, 
rbcompu‹
) \

76 
šlše
 \

77 
rbÇme
 ## 
	`_´Ýag©e
(
rb_node
 *
rb
, rb_nod*
¡Ý
) \

79 
rb
 !ð
¡Ý
) { \

80 
rb¡ruù
 *
node
 = 
	`rb_’Œy
(
rb
,„b¡ruù, 
rbf›ld
); \

81 
rbty³
 
augm’‹d
 = 
	`rbcompu‹
(
node
); \

82 ià(
node
->
rbaugm’‹d
 =ð
augm’‹d
) \

84 
node
->
rbaugm’‹d
 = 
augm’‹d
; \

85 
rb
 = 
	`rb_·»Á
(&
node
->
rbf›ld
); \

88 
šlše
 \

89 
rbÇme
 ## 
	`_cÝy
(
rb_node
 *
rb_Þd
, rb_nod*
rb_Ãw
) \

91 
rb¡ruù
 *
Þd
 = 
	`rb_’Œy
(
rb_Þd
,„b¡ruù, 
rbf›ld
); \

92 
rb¡ruù
 *
Ãw
 = 
	`rb_’Œy
(
rb_Ãw
,„b¡ruù, 
rbf›ld
); \

93 
Ãw
->
rbaugm’‹d
 = 
Þd
->rbaugmented; \

96 
rbÇme
 ## 
	`_rÙ©e
(
rb_node
 *
rb_Þd
, rb_nod*
rb_Ãw
) \

98 
rb¡ruù
 *
Þd
 = 
	`rb_’Œy
(
rb_Þd
,„b¡ruù, 
rbf›ld
); \

99 
rb¡ruù
 *
Ãw
 = 
	`rb_’Œy
(
rb_Ãw
,„b¡ruù, 
rbf›ld
); \

100 
Ãw
->
rbaugm’‹d
 = 
Þd
->rbaugmented; \

101 
Þd
->
rbaugm’‹d
 = 
	`rbcompu‹
(old); \

103 
rb¡©ic
 cÚ¡ 
rb_augm’t_ÿÎbacks
 
rbÇme
 = { \

104 .
´Ýag©e
 = 
rbÇme
 ## 
_´Ýag©e
, \

105 .
cÝy
 = 
rbÇme
 ## 
_cÝy
, \

106 .
rÙ©e
 = 
rbÇme
 ## 
_rÙ©e
 \

107 };

	)

110 
	#RB_RED
 0

	)

111 
	#RB_BLACK
 1

	)

113 
	#__rb_·»Á
(
pc
è((
rb_node
 *)Õø& ~3))

	)

115 
	#__rb_cÞÜ
(
pc
è(Õcè& 1)

	)

116 
	#__rb_is_bÏck
(
pc
è
	`__rb_cÞÜ
Õc)

	)

117 
	#__rb_is_»d
(
pc
è(!
	`__rb_cÞÜ
Õc))

	)

118 
	#rb_cÞÜ
(
rb
è
	`__rb_cÞÜ
(Ôb)->
__rb_·»Á_cÞÜ
)

	)

119 
	#rb_is_»d
(
rb
è
	`__rb_is_»d
(Ôb)->
__rb_·»Á_cÞÜ
)

	)

120 
	#rb_is_bÏck
(
rb
è
	`__rb_is_bÏck
(Ôb)->
__rb_·»Á_cÞÜ
)

	)

122 
šlše
 
	$rb_£t_·»Á
(
rb_node
 *
rb
, rb_nod*
p
)

124 
rb
->
__rb_·»Á_cÞÜ
 = 
	`rb_cÞÜ
Ôbè| ()
p
;

125 
	}
}

127 
šlše
 
	$rb_£t_·»Á_cÞÜ
(
rb_node
 *
rb
,

128 
rb_node
 *
p
, 
cÞÜ
)

130 
rb
->
__rb_·»Á_cÞÜ
 = ()
p
 | 
cÞÜ
;

131 
	}
}

133 
šlše
 

134 
	$__rb_chªge_chžd
(
rb_node
 *
Þd
, rb_nod*
Ãw
,

135 
rb_node
 *
·»Á
, 
rb_roÙ
 *
roÙ
)

137 ià(
·»Á
) {

138 ià(
·»Á
->
rb_Ëá
 =ð
Þd
)

139 
	`WRITE_ONCE
(
·»Á
->
rb_Ëá
, 
Ãw
);

141 
	`WRITE_ONCE
(
·»Á
->
rb_right
, 
Ãw
);

143 
	`WRITE_ONCE
(
roÙ
->
rb_node
, 
Ãw
);

144 
	}
}

146 
šlše
 

147 
	$__rb_chªge_chžd_rcu
(
rb_node
 *
Þd
, rb_nod*
Ãw
,

148 
rb_node
 *
·»Á
, 
rb_roÙ
 *
roÙ
)

150 ià(
·»Á
) {

151 ià(
·»Á
->
rb_Ëá
 =ð
Þd
)

152 
	`rcu_assign_poš‹r
(
·»Á
->
rb_Ëá
, 
Ãw
);

154 
	`rcu_assign_poš‹r
(
·»Á
->
rb_right
, 
Ãw
);

156 
	`rcu_assign_poš‹r
(
roÙ
->
rb_node
, 
Ãw
);

157 
	}
}

159 
__rb_”a£_cÞÜ
(
rb_node
 *
·»Á
, 
rb_roÙ
 *
roÙ
,

160 (*
augm’t_rÙ©e
)(
rb_node
 *
Þd
, rb_nod*
Ãw
));

162 
__®ways_šlše
 
rb_node
 *

163 
	$__rb_”a£_augm’‹d
(
rb_node
 *
node
, 
rb_roÙ
 *
roÙ
,

164 
rb_node
 **
Ëámo¡
,

165 cÚ¡ 
rb_augm’t_ÿÎbacks
 *
augm’t
)

167 
rb_node
 *
chžd
 = 
node
->
rb_right
;

168 
rb_node
 *
tmp
 = 
node
->
rb_Ëá
;

169 
rb_node
 *
·»Á
, *
»b®ªû
;

170 
pc
;

172 ià(
Ëámo¡
 && 
node
 == *leftmost)

173 *
Ëámo¡
 = 
	`rb_Ãxt
(
node
);

175 ià(!
tmp
) {

183 
pc
 = 
node
->
__rb_·»Á_cÞÜ
;

184 
·»Á
 = 
	`__rb_·»Á
(
pc
);

185 
	`__rb_chªge_chžd
(
node
, 
chžd
, 
·»Á
, 
roÙ
);

186 ià(
chžd
) {

187 
chžd
->
__rb_·»Á_cÞÜ
 = 
pc
;

188 
»b®ªû
 = 
NULL
;

190 
»b®ªû
 = 
	`__rb_is_bÏck
(
pc
è? 
·»Á
 : 
NULL
;

191 
tmp
 = 
·»Á
;

192 } ià(!
chžd
) {

194 
tmp
->
__rb_·»Á_cÞÜ
 = 
pc
 = 
node
->__rb_parent_color;

195 
·»Á
 = 
	`__rb_·»Á
(
pc
);

196 
	`__rb_chªge_chžd
(
node
, 
tmp
, 
·»Á
, 
roÙ
);

197 
»b®ªû
 = 
NULL
;

198 
tmp
 = 
·»Á
;

200 
rb_node
 *
sucûssÜ
 = 
chžd
, *
chžd2
;

202 
tmp
 = 
chžd
->
rb_Ëá
;

203 ià(!
tmp
) {

213 
·»Á
 = 
sucûssÜ
;

214 
chžd2
 = 
sucûssÜ
->
rb_right
;

216 
augm’t
->
	`cÝy
(
node
, 
sucûssÜ
);

233 
·»Á
 = 
sucûssÜ
;

234 
sucûssÜ
 = 
tmp
;

235 
tmp
 =mp->
rb_Ëá
;

236 } 
tmp
);

237 
chžd2
 = 
sucûssÜ
->
rb_right
;

238 
	`WRITE_ONCE
(
·»Á
->
rb_Ëá
, 
chžd2
);

239 
	`WRITE_ONCE
(
sucûssÜ
->
rb_right
, 
chžd
);

240 
	`rb_£t_·»Á
(
chžd
, 
sucûssÜ
);

242 
augm’t
->
	`cÝy
(
node
, 
sucûssÜ
);

243 
augm’t
->
	`´Ýag©e
(
·»Á
, 
sucûssÜ
);

246 
tmp
 = 
node
->
rb_Ëá
;

247 
	`WRITE_ONCE
(
sucûssÜ
->
rb_Ëá
, 
tmp
);

248 
	`rb_£t_·»Á
(
tmp
, 
sucûssÜ
);

250 
pc
 = 
node
->
__rb_·»Á_cÞÜ
;

251 
tmp
 = 
	`__rb_·»Á
(
pc
);

252 
	`__rb_chªge_chžd
(
node
, 
sucûssÜ
, 
tmp
, 
roÙ
);

254 ià(
chžd2
) {

255 
sucûssÜ
->
__rb_·»Á_cÞÜ
 = 
pc
;

256 
	`rb_£t_·»Á_cÞÜ
(
chžd2
, 
·»Á
, 
RB_BLACK
);

257 
»b®ªû
 = 
NULL
;

259 
pc2
 = 
sucûssÜ
->
__rb_·»Á_cÞÜ
;

260 
sucûssÜ
->
__rb_·»Á_cÞÜ
 = 
pc
;

261 
»b®ªû
 = 
	`__rb_is_bÏck
(
pc2
è? 
·»Á
 : 
NULL
;

263 
tmp
 = 
sucûssÜ
;

266 
augm’t
->
	`´Ýag©e
(
tmp
, 
NULL
);

267  
»b®ªû
;

268 
	}
}

270 
__®ways_šlše
 

271 
	$rb_”a£_augm’‹d
(
rb_node
 *
node
, 
rb_roÙ
 *
roÙ
,

272 cÚ¡ 
rb_augm’t_ÿÎbacks
 *
augm’t
)

274 
rb_node
 *
»b®ªû
 = 
	`__rb_”a£_augm’‹d
(
node
, 
roÙ
,

275 
NULL
, 
augm’t
);

276 ià(
»b®ªû
)

277 
	`__rb_”a£_cÞÜ
(
»b®ªû
, 
roÙ
, 
augm’t
->
rÙ©e
);

278 
	}
}

280 
__®ways_šlše
 

281 
	$rb_”a£_augm’‹d_ÿched
(
rb_node
 *
node
, 
rb_roÙ_ÿched
 *
roÙ
,

282 cÚ¡ 
rb_augm’t_ÿÎbacks
 *
augm’t
)

284 
rb_node
 *
»b®ªû
 = 
	`__rb_”a£_augm’‹d
(
node
, &
roÙ
->
rb_roÙ
,

285 &
roÙ
->
rb_Ëámo¡
,

286 
augm’t
);

287 ià(
»b®ªû
)

288 
	`__rb_”a£_cÞÜ
(
»b®ªû
, &
roÙ
->
rb_roÙ
, 
augm’t
->
rÙ©e
);

289 
	}
}

	@src/common/linuxkpi/gplv2/include/linux/reboot.h

1 #iâdeà
_LINUX_REBOOT_H


2 
	#_LINUX_REBOOT_H


	)

5 
	~<lšux/nÙif›r.h
>

7 
	~<u­i/lšux/»boÙ.h
>

9 
	#SYS_DOWN
 0x0001

	)

10 
	#SYS_RESTART
 
SYS_DOWN


	)

11 
	#SYS_HALT
 0x0002

	)

12 
	#SYS_POWER_OFF
 0x0003

	)

14 
	e»boÙ_mode
 {

15 
	mREBOOT_COLD
 = 0,

16 
	mREBOOT_WARM
,

17 
	mREBOOT_HARD
,

18 
	mREBOOT_SOFT
,

19 
	mREBOOT_GPIO
,

21 
»boÙ_mode
„eboot_mode;

23 
	e»boÙ_ty³
 {

24 
	mBOOT_TRIPLE
 = 't',

25 
	mBOOT_KBD
 = 'k',

26 
	mBOOT_BIOS
 = 'b',

27 
	mBOOT_ACPI
 = 'a',

28 
	mBOOT_EFI
 = 'e',

29 
	mBOOT_CF9_FORCE
 = 'p',

30 
	mBOOT_CF9_SAFE
 = 'q',

32 
»boÙ_ty³
„eboot_type;

34 
»boÙ_deçuÉ
;

35 
»boÙ_ýu
;

36 
»boÙ_fÜû
;

39 
»gi¡”_»boÙ_nÙif›r
(
nÙif›r_block
 *);

40 
uÄegi¡”_»boÙ_nÙif›r
(
nÙif›r_block
 *);

42 
»gi¡”_»¡¬t_hªdËr
(
nÙif›r_block
 *);

	@src/common/linuxkpi/gplv2/include/linux/refcount.h

1 #iâdeà
_LINUX_REFCOUNT_H


2 
	#_LINUX_REFCOUNT_H


	)

4 
	~<lšux/©omic.h
>

7 
šlše
 
boÞ


8 
	$»fcouÁ_dec_ªd_‹¡
(
©omic_t
 *
r
)

11  
	`©omic_dec_ªd_‹¡
(
r
);

12 
	}
}

	@src/common/linuxkpi/gplv2/include/linux/relay.h

2 #iâdeà
_LINUX_RELAY_H


3 
	#_LINUX_RELAY_H


	)

5 
	~<lšux/ty³s.h
>

6 
	~<lšux/sched.h
>

7 
	~<lšux/tim”.h
>

8 
	~<lšux/wa™.h
>

9 
	~<lšux/li¡.h
>

11 
	~<lšux/bug.h
>

12 
	~<lšux/fs.h
>

13 
	~<lšux/pÞl.h
>

14 
	~<lšux/k»f.h
>

16 
	~<asm/smp.h
>

20 
	#RELAYFS_CHANNEL_VERSION
 7

	)

25 
	#œq_wÜk_sync
(
x
)

	)

26 
	#œq_wÜk_queue
(
x
)

	)

27 
	#š™_œq_wÜk
(
x
, 
y
)

	)

28 
	#®loc_³rýu
(
x
è
	`km®loc
(
mp_nýus
*(x), 
GFP_KERNEL
)

	)

31 
	sœq_wÜk
 {

35 
	srchª_buf


37 *
	m¡¬t
;

38 *
	md©a
;

39 
size_t
 
	moff£t
;

40 
size_t
 
	msubbufs_´oduûd
;

41 
size_t
 
	msubbufs_cÚsumed
;

42 
rchª
 *
	mchª
;

43 
wa™_queue_h—d_t
 
	m»ad_wa™
;

44 
œq_wÜk
 
	mwakeup_wÜk
;

45 
d’Œy
 *
	md’Œy
;

46 
k»f
 
	mk»f
;

47 
·ge
 **
	m·ge_¬¿y
;

48 
	m·ge_couÁ
;

49 
	mfš®ized
;

50 
size_t
 *
	m·ddšg
;

51 
size_t
 
	m´ev_·ddšg
;

52 
size_t
 
	mby‹s_cÚsumed
;

53 
size_t
 
	m—¾y_by‹s
;

54 
	mýu
;

57 
	srchª


59 
u32
 
	mv”siÚ
;

60 
size_t
 
	msubbuf_size
;

61 
size_t
 
	mn_subbufs
;

62 
size_t
 
	m®loc_size
;

63 
rchª_ÿÎbacks
 *
	mcb
;

64 
k»f
 
	mk»f
;

65 *
	m´iv©e_d©a
;

66 
size_t
 
	mÏ¡_toobig
;

67 
rchª_buf
 ** 
__³rýu
 
	mbuf
;

68 
	mis_glob®
;

69 
li¡_h—d
 
	mli¡
;

70 
d’Œy
 *
	m·»Á
;

71 
	mhas_ba£_fž’ame
;

72 
	mba£_fž’ame
[
NAME_MAX
];

76 
	srchª_ÿÎbacks
 {

77 (*
	msubbuf_¡¬t
è(
rchª_buf
 *
	mbuf
,

78 *
	msubbuf
,

79 *
	m´ev_subbuf
,

80 
size_t
 
	m´ev_·ddšg
);

82 (*
	mbuf_m­³d
)(
rchª_buf
 *
	mbuf
,

83 
fže
 *
	mfžp
);

85 (*
	mbuf_unm­³d
)(
rchª_buf
 *
	mbuf
,

86 
fže
 *
	mfžp
);

88 
	md’Œy
 *(*
	mü—‹_buf_fže
)(cÚ¡ *
	mfž’ame
,

89 
d’Œy
 *
	m·»Á
,

90 
umode_t
 
	mmode
,

91 
rchª_buf
 *
	mbuf
,

92 *
	mis_glob®
);

94 (*
	m»move_buf_fže
)(
d’Œy
 *
	md’Œy
);

99 
rchª
 *
»Ïy_Ý’
(cÚ¡ *
ba£_fž’ame
,

100 
d’Œy
 *
·»Á
,

101 
size_t
 
subbuf_size
,

102 
size_t
 
n_subbufs
,

103 
rchª_ÿÎbacks
 *
cb
,

104 *
´iv©e_d©a
);

105 
»Ïy_Ï‹_£tup_fžes
(
rchª
 *
chª
,

106 cÚ¡ *
ba£_fž’ame
,

107 
d’Œy
 *
·»Á
);

108 
»Ïy_þo£
(
rchª
 *
chª
);

109 
»Ïy_æush
(
rchª
 *
chª
);

110 
»Ïy_subbufs_cÚsumed
(
rchª
 *
chª
,

111 
ýu
,

112 
size_t
 
subbufs_cÚsumed
);

113 
»Ïy_»£t
(
rchª
 *
chª
);

114 
»Ïy_buf_fuÎ
(
rchª_buf
 *
buf
);

116 
size_t
 
»Ïy_sw™ch_subbuf
(
rchª_buf
 *
buf
,

117 
size_t
 
Ëngth
);

119 
šlše
 
	$__»Ïy_wr™e
(
rchª
 *
chª
,

120 cÚ¡ *
d©a
,

121 
size_t
 
Ëngth
) {

122 
rchª_buf
 *
buf
;

123 
cu¼_ýu
;

125 
cu¼_ýu
 = 
	`g‘_ýu
();

126 
buf
 = 
chª
->buf[
cu¼_ýu
];

127 ià(
	`uÆik–y
(
buf
->
off£t
 + 
Ëngth
 > buf->
chª
->
subbuf_size
))

128 
Ëngth
 = 
	`»Ïy_sw™ch_subbuf
(
buf
,†ength);

129 
	`memýy
((*)
buf
->
d©a
 + buf->
off£t
, d©a, 
Ëngth
);

130 
buf
->
off£t
 +ð
Ëngth
;

131 
	`put_ýu
();

132 
	}
}

134 
šlše
 
	$»Ïy_wr™e
(
rchª
 *
chª
,

135 cÚ¡ *
d©a
,

136 
size_t
 
Ëngth
) {

139 
	`__»Ïy_wr™e
(
chª
, 
d©a
, 
Ëngth
);

141 
	}
}

143 
šlše
 *
	$»Ïy_»£rve
(
rchª
 *
chª
, 
size_t
 
Ëngth
)

145 *
»£rved
 = 
NULL
;

146 
cu¼_ýu
 = 
	`g‘_ýu
();

147 
rchª_buf
 *
buf
 = 
chª
->buf[
cu¼_ýu
];

149 ià(
	`uÆik–y
(
buf
->
off£t
 + 
Ëngth
 > buf->
chª
->
subbuf_size
)) {

150 
Ëngth
 = 
	`»Ïy_sw™ch_subbuf
(
buf
,†ength);

151 ià(!
Ëngth
)

152 
’d
;

154 
»£rved
 = (*)
buf
->
d©a
 + buf->
off£t
;

155 
buf
->
off£t
 +ð
Ëngth
;

157 
’d
:

158 
	`put_ýu
();

159  
»£rved
;

160 
	}
}

162 
šlše
 
	$subbuf_¡¬t_»£rve
(
rchª_buf
 *
buf
,

163 
size_t
 
Ëngth
) {

164 
	`BUG_ON
(
Ëngth
 >ð
buf
->
chª
->
subbuf_size
 - 1);

165 
buf
->
off£t
 = 
Ëngth
;

166 
	}
}

168 cÚ¡ 
fže_Ý”©iÚs
 
»Ïy_fže_Ý”©iÚs
;

171 
»Ïy_´•¬e_ýu
(
ýu
);

	@src/common/linuxkpi/gplv2/include/linux/reservation.h

39 #iâdeà
_LINUX_RESERVATION_H


40 
	#_LINUX_RESERVATION_H


	)

42 
	~<lšux/ww_mu‹x.h
>

43 
	~<lšux/dma-ãnû.h
>

44 
	~<lšux/¦ab.h
>

45 
	~<lšux/£qlock.h
>

46 
	~<lšux/rcupd©e.h
>

47 
	~<lšux/©omic.h
>

48 
	~<lšux/¿dix-Œ“.h
>

51 
ww_þass
 
»£rv©iÚ_ww_þass
;

52 
lock_þass_key
 
»£rv©iÚ_£qcouÁ_þass
;

53 cÚ¡ 
»£rv©iÚ_£qcouÁ_¡ršg
[];

55 
	s»£rv©iÚ_objeù_li¡
 {

56 
rcu_h—d
 
	mrcu
;

57 
u32
 
	msh¬ed_couÁ
, 
	msh¬ed_max
;

58 
dma_ãnû
 
__rcu
 *
	msh¬ed
[];

61 
	s»£rv©iÚ_objeù
 {

62 
ww_mu‹x
 
	mlock
;

63 
£qcouÁ_t
 
	m£q
;

65 
dma_ãnû
 
__rcu
 *
	mãnû_exþ
;

66 
»£rv©iÚ_objeù_li¡
 
__rcu
 *
	mãnû
;

67 
»£rv©iÚ_objeù_li¡
 *
	m¡aged
;

70 
	#»£rv©iÚ_objeù_h–d
(
obj
è
	`lockd•_is_h–d
(&(obj)->
lock
.
ba£
)

	)

71 
	#»£rv©iÚ_objeù_as£¹_h–d
(
obj
) \

72 
	`lockd•_as£¹_h–d
(&(
obj
)->
lock
.
ba£
)

	)

74 
šlše
 

75 
	$»£rv©iÚ_objeù_š™
(
»£rv©iÚ_objeù
 *
obj
)

77 
	`ww_mu‹x_š™
(&
obj
->
lock
, &
»£rv©iÚ_ww_þass
);

79 
	`__£qcouÁ_š™
(&
obj
->
£q
, 
»£rv©iÚ_£qcouÁ_¡ršg
, &
»£rv©iÚ_£qcouÁ_þass
);

80 
	`RCU_INIT_POINTER
(
obj
->
ãnû
, 
NULL
);

81 
	`RCU_INIT_POINTER
(
obj
->
ãnû_exþ
, 
NULL
);

82 
obj
->
¡aged
 = 
NULL
;

83 
	}
}

85 
šlše
 

86 
	$»£rv©iÚ_objeù_fši
(
»£rv©iÚ_objeù
 *
obj
)

88 
i
;

89 
»£rv©iÚ_objeù_li¡
 *
fobj
;

90 
dma_ãnû
 *
exþ
;

96 
exþ
 = 
	`rcu_d”eã»nû_´Ùeùed
(
obj
->
ãnû_exþ
, 1);

97 ià(
exþ
)

98 
	`dma_ãnû_put
(
exþ
);

100 
fobj
 = 
	`rcu_d”eã»nû_´Ùeùed
(
obj
->
ãnû
, 1);

101 ià(
fobj
) {

102 
i
 = 0; i < 
fobj
->
sh¬ed_couÁ
; ++i)

103 
	`dma_ãnû_put
(
	`rcu_d”eã»nû_´Ùeùed
(
fobj
->
sh¬ed
[
i
], 1));

105 
	`kä“
(
fobj
);

107 
	`kä“
(
obj
->
¡aged
);

109 
	`ww_mu‹x_de¡roy
(&
obj
->
lock
);

110 
	}
}

112 
šlše
 
»£rv©iÚ_objeù_li¡
 *

113 
	$»£rv©iÚ_objeù_g‘_li¡
(
»£rv©iÚ_objeù
 *
obj
)

115  
	`rcu_d”eã»nû_´Ùeùed
(
obj
->
ãnû
,

116 
	`»£rv©iÚ_objeù_h–d
(
obj
));

117 
	}
}

119 
šlše
 
dma_ãnû
 *

120 
	$»£rv©iÚ_objeù_g‘_exþ
(
»£rv©iÚ_objeù
 *
obj
)

122  
	`rcu_d”eã»nû_´Ùeùed
(
obj
->
ãnû_exþ
,

123 
	`»£rv©iÚ_objeù_h–d
(
obj
));

124 
	}
}

126 
šlše
 
dma_ãnû
 *

127 
	$»£rv©iÚ_objeù_g‘_exþ_rcu
(
»£rv©iÚ_objeù
 *
obj
)

129 
dma_ãnû
 *
ãnû
;

130 
£q
;

131 
»Œy
:

132 
£q
 = 
	`»ad_£qcouÁ_begš
(&
obj
->seq);

133 
	`rcu_»ad_lock
();

134 
ãnû
 = 
	`rcu_d”eã»nû
(
obj
->
ãnû_exþ
);

135 ià(
	`»ad_£qcouÁ_»Œy
(&
obj
->
£q
, seq)) {

136 
	`rcu_»ad_uÆock
();

137 
»Œy
;

139 
ãnû
 = 
	`dma_ãnû_g‘
(fence);

140 
	`rcu_»ad_uÆock
();

141  
ãnû
;

142 
	}
}

144 
šlše
 

145 
	$»£rv©iÚ_objeù_lock
(
»£rv©iÚ_objeù
 *
obj
,

146 
ww_acquœe_ùx
 *
ùx
)

148  
	`ww_mu‹x_lock
(&
obj
->
lock
, 
ùx
);

149 
	}
}

151 
šlše
 

152 
	$»£rv©iÚ_objeù_lock_š‹¼u±ibË
(
»£rv©iÚ_objeù
 *
obj
,

153 
ww_acquœe_ùx
 *
ùx
)

155  
	`ww_mu‹x_lock_š‹¼u±ibË
(&
obj
->
lock
, 
ùx
);

156 
	}
}

158 
šlše
 

159 
	$»£rv©iÚ_objeù_uÆock
(
»£rv©iÚ_objeù
 *
obj
)

161 
	`ww_mu‹x_uÆock
(&
obj
->
lock
);

162 
	}
}

164 
šlše
 
boÞ


165 
	$»£rv©iÚ_objeù_Œylock
(
»£rv©iÚ_objeù
 *
obj
)

167  
	`ww_mu‹x_Œylock
(&
obj
->
lock
);

168 
	}
}

170 
»£rv©iÚ_objeù_»£rve_sh¬ed
(
»£rv©iÚ_objeù
 *
obj
);

171 
»£rv©iÚ_objeù_add_sh¬ed_ãnû
(
»£rv©iÚ_objeù
 *
obj
,

172 
dma_ãnû
 *
ãnû
);

174 
»£rv©iÚ_objeù_add_exþ_ãnû
(
»£rv©iÚ_objeù
 *
obj
,

175 
dma_ãnû
 *
ãnû
);

177 
»£rv©iÚ_objeù_g‘_ãnûs_rcu
(
»£rv©iÚ_objeù
 *
obj
,

178 
dma_ãnû
 **
pãnû_exþ
,

179 *
psh¬ed_couÁ
,

180 
dma_ãnû
 ***
psh¬ed
);

182 
»£rv©iÚ_objeù_cÝy_ãnûs
(
»£rv©iÚ_objeù
 *
d¡
,

183 
»£rv©iÚ_objeù
 *
¤c
);

185 
»£rv©iÚ_objeù_wa™_timeout_rcu
(
»£rv©iÚ_objeù
 *
obj
,

186 
boÞ
 
wa™_®l
, boÞ 
šŒ
,

187 
timeout
);

189 
boÞ
 
»£rv©iÚ_objeù_‹¡_sigÇËd_rcu
(
»£rv©iÚ_objeù
 *
obj
,

190 
boÞ
 
‹¡_®l
);

	@src/common/linuxkpi/gplv2/include/linux/scatterlist.h

29 #iâdef 
_LINUX_GPLV2_SCATTERLIST_H_


30 
	#_LINUX_GPLV2_SCATTERLIST_H_


	)

32 #šþude_Ãxˆ<
lšux
/
sÿ‰”li¡
.
h
>

34 
šlše
 
size_t


35 
	$sg_pcÝy_äom_bufãr
(
sÿ‰”li¡
 *
sgl
, 
ÃÁs
,

36 cÚ¡ *
buf
, 
size_t
 
buæ’
, 
off_t
 
off£t
)

38 
sg_·ge_™”
 
™”
;

39 
sÿ‰”li¡
 *
sg
;

40 
·ge
 *page;

41 *
vaddr
;

42 
size_t
 
tÙ®
 = 0;

43 
size_t
 
Ën
;

45 
	`fÜ_—ch_sg_·ge
(
sgl
, &
™”
, 
ÃÁs
, 0) {

46 
sg
 = 
™”
.sg;

48 ià(
off£t
 >ð
sg
->
Ëngth
) {

49 
off£t
 -ð
sg
->
Ëngth
;

52 
Ën
 = 
	`mš
(
buæ’
, 
sg
->
Ëngth
 - 
off£t
);

53 ià(
Ën
 == 0)

56 
·ge
 = 
	`sg_·ge_™”_·ge
(&
™”
);

57 
vaddr
 = ((
ÿddr_t
)
	`km­
(
·ge
)è+ 
sg
->
off£t
 + offset;

58 
	`memýy
(
vaddr
, 
buf
, 
Ën
);

59 
	`kunm­
(
·ge
);

62 
off£t
 = 0;

65 
buf
 = (cÚ¡ *)buà+ 
Ën
;

66 
buæ’
 -ð
Ën
;

67 
tÙ®
 +ð
Ën
;

69  (
tÙ®
);

70 
	}
}

72 
šlše
 
size_t


73 
	$sg_cÝy_äom_bufãr
(
sÿ‰”li¡
 *
sgl
, 
ÃÁs
,

74 cÚ¡ *
buf
, 
size_t
 
buæ’
)

76  (
	`sg_pcÝy_äom_bufãr
(
sgl
, 
ÃÁs
, 
buf
, 
buæ’
, 0));

77 
	}
}

79 
šlše
 
size_t


80 
	$sg_pcÝy_to_bufãr
(
sÿ‰”li¡
 *
sgl
, 
ÃÁs
,

81 *
buf
, 
size_t
 
buæ’
, 
off_t
 
off£t
)

83 
sg_·ge_™”
 
™”
;

84 
sÿ‰”li¡
 *
sg
;

85 
·ge
 *page;

86 *
vaddr
;

87 
size_t
 
tÙ®
 = 0;

88 
size_t
 
Ën
;

90 
	`fÜ_—ch_sg_·ge
(
sgl
, &
™”
, 
ÃÁs
, 0) {

91 
sg
 = 
™”
.sg;

93 ià(
off£t
 >ð
sg
->
Ëngth
) {

94 
off£t
 -ð
sg
->
Ëngth
;

97 
Ën
 = 
	`mš
(
buæ’
, 
sg
->
Ëngth
 - 
off£t
);

98 ià(
Ën
 == 0)

101 
·ge
 = 
	`sg_·ge_™”_·ge
(&
™”
);

102 
vaddr
 = ((
ÿddr_t
)
	`km­
(
·ge
)è+ 
sg
->
off£t
 + offset;

103 
	`memýy
(
buf
, 
vaddr
, 
Ën
);

104 
	`kunm­
(
·ge
);

107 
off£t
 = 0;

110 
buf
 = (*)buà+ 
Ën
;

111 
buæ’
 -ð
Ën
;

112 
tÙ®
 +ð
Ën
;

114  (
tÙ®
);

115 
	}
}

	@src/common/linuxkpi/gplv2/include/linux/sched.h

1 #iâdeà
_LINUX_GPLV2_SCHED_H_


2 
	#_LINUX_GPLV2_SCHED_H_


	)

4 #šþude_Ãxˆ<
lšux
/
sched
.
h
>

6 
	~<lšux/h¹im”.h
>

9 
	#smp_mb__befÜe_©omic
(è
	`©omic_th»ad_ãnû_£q_c¡
()

	)

10 
	g£q_fže
;

12 
šlše
 

13 
	$sched_£tscheduËr
(
sk_¡ruù
 *
t
, 
pÞicy
,

14 cÚ¡ 
sched_·¿m
 *
·¿m
)

16 
	`UNIMPLEMENTED
();

18 
	}
}

20 
šlše
 

21 
	$sched_£tscheduËr_nocheck
(
sk_¡ruù
 *
t
, 
pÞicy
,

22 cÚ¡ 
sched_·¿m
 *
·¿m
)

24 
	`UNIMPLEMENTED
();

26 
	}
}

	@src/common/linuxkpi/gplv2/include/linux/sched/mm.h

1 #iâdeà
_LINUX_SCHED_MM_H


2 
	#_LINUX_SCHED_MM_H


	)

4 
	~<lšux/gå.h
>

6 #ifdeà
CONFIG_LOCKDEP


7 
fs_»þaim_acquœe
(
gå_t
 
gå_mask
);

8 
fs_»þaim_»Ëa£
(
gå_t
 
gå_mask
);

10 
šlše
 
	$fs_»þaim_acquœe
(
gå_t
 
gå_mask
è{ 
	}
}

11 
šlše
 
	$fs_»þaim_»Ëa£
(
gå_t
 
gå_mask
è{ 
	}
}

	@src/common/linuxkpi/gplv2/include/linux/seq_file.h

27 #iâdeà
_LINUX_SEQ_FILE_H_


28 
	#_LINUX_SEQ_FILE_H_


	)

30 
	~<lšux/ty³s.h
>

31 
	~<lšux/bug.h
>

32 
	~<lšux/fs.h
>

33 
	~<sys/sbuf.h
>

35 
	g£q_Ý”©iÚs
;

37 
	s£q_fže
 {

38 
sbuf
 *
	mbuf
;

40 cÚ¡ 
£q_Ý”©iÚs
 *
	mÝ
;

41 cÚ¡ 
lšux_fže
 *
	mfže
;

42 *
	m´iv©e
;

45 
	s£q_Ý”©iÚs
 {

46 * (*
	m¡¬t
è(
£q_fže
 *
	mm
, 
loff_t
 *
	mpos
);

47 (*
	m¡Ý
è(
£q_fže
 *
	mm
, *
	mv
);

48 * (*
	mÃxt
è(
£q_fže
 *
	mm
, *
	mv
, 
loff_t
 *
	mpos
);

49 (*
	mshow
è(
£q_fže
 *
	mm
, *
	mv
);

52 
ssize_t
 
lšux_£q_»ad
(
fže
 *, 
__u£r
 *, 
size_t
, 
loff_t
 *);

53 
£q_wr™e
(
£q_fže
 *
£q
, cÚ¡ *
d©a
, 
size_t
 
Ën
);

55 
loff_t
 
£q_l£ek
(
fže
 *fže,†off_ˆ
off£t
, 
wh’û
);

56 
sšgË_Ý’
(
fže
 *, (*)(
£q_fže
 *, *), *);

57 
	`sšgË_»Ëa£
(
šode
 *, 
fže
 *);

59 
	#£q_´štf
(
m
, 
fmt
, ...è
	`sbuf_´štf
((m)->
buf
, (fmt), ##
__VA_ARGS__
)

	)

61 
	#£q_puts
(
m
, 
¡r
è
	`sbuf_´štf
((m)->
buf
, sŒ)

	)

62 
	#£q_putc
(
m
, 
¡r
è
	`sbuf_putc
((m)->
buf
, sŒ)

	)

63 
	#£q_»ad
 
lšux_£q_»ad


	)

	@src/common/linuxkpi/gplv2/include/linux/seqlock.h

1 #iâdeà
__LINUX_SEQLOCK_H


2 
	#__LINUX_SEQLOCK_H


	)

35 
	~<lšux/¥šlock.h
>

36 
	~<lšux/´“m±.h
>

37 
	~<lšux/lockd•.h
>

38 
	~<lšux/compž”.h
>

39 
	~<asm/´oûssÜ.h
>

40 
	~<lšux/©omic.h
>

49 
	s£qcouÁ
 {

50 
	m£qu’û
;

51 #ifdeà
CONFIG_DEBUG_LOCK_ALLOC


52 
lockd•_m­
 
	md•_m­
;

54 } 
	t£qcouÁ_t
;

57 
	#lockd•_š™_m­
(
a
, 
b
, 
c
, 
d
)

	)

59 
šlše
 
	$__£qcouÁ_š™
(
£qcouÁ_t
 *
s
, cÚ¡ *
Çme
,

60 
lock_þass_key
 *
key
)

65 
	`lockd•_š™_m­
(&
s
->
d•_m­
, 
Çme
, 
key
, 0);

66 
s
->
£qu’û
 = 0;

67 
	}
}

69 #ifdeà
CONFIG_DEBUG_LOCK_ALLOC


70 
	#SEQCOUNT_DEP_MAP_INIT
(
lockÇme
) \

71 .
d•_m­
 = { .
Çme
 = #lockname } \

72 

	)

73 
	#£qcouÁ_š™
(
s
) \

75 
lock_þass_key
 
__key
; \

76 
	`__£qcouÁ_š™
((
s
), #s, &
__key
); \

77 } 0)

	)

79 
šlše
 
	$£qcouÁ_lockd•_»ad”_acûss
(
£qcouÁ_t
 *
s
)

81 
£qcouÁ_t
 *
l
 = (£qcouÁ_ˆ*)
s
;

82 
æags
;

84 
	`loÿl_œq_§ve
(
æags
);

85 
	`£qcouÁ_acquœe_»ad
(&
l
->
d•_m­
, 0, 0, 
_RET_IP_
);

86 
	`£qcouÁ_»Ëa£
(&
l
->
d•_m­
, 1, 
_RET_IP_
);

87 
	`loÿl_œq_»¡Üe
(
æags
);

88 
	}
}

91 
	#SEQCOUNT_DEP_MAP_INIT
(
lockÇme
)

	)

92 
	#£qcouÁ_š™
(
s
è
	`__£qcouÁ_š™
(s, 
NULL
, NULL)

	)

93 
	#£qcouÁ_lockd•_»ad”_acûss
(
x
)

	)

96 
	#SEQCNT_ZERO
(
lockÇme
è{ .
£qu’û
 = 0, 
	`SEQCOUNT_DEP_MAP_INIT
ÖockÇme)}

	)

112 
šlše
 
	$__»ad_£qcouÁ_begš
(
£qcouÁ_t
 *
s
)

114 
»t
;

116 
»³©
:

117 
»t
 = 
	`READ_ONCE
(
s
->
£qu’û
);

118 ià(
	`uÆik–y
(
»t
 & 1)) {

119 
	`ýu_»Ïx
();

120 
»³©
;

122  
»t
;

123 
	}
}

134 
šlše
 
	$¿w_»ad_£qcouÁ
(
£qcouÁ_t
 *
s
)

136 
»t
 = 
	`READ_ONCE
(
s
->
£qu’û
);

137 
	`smp_rmb
();

138  
»t
;

139 
	}
}

150 
šlše
 
	$¿w_»ad_£qcouÁ_begš
(
£qcouÁ_t
 *
s
)

152 
»t
 = 
	`__»ad_£qcouÁ_begš
(
s
);

153 
	`smp_rmb
();

154  
»t
;

155 
	}
}

166 
šlše
 
	$»ad_£qcouÁ_begš
(
£qcouÁ_t
 *
s
)

168 
	`£qcouÁ_lockd•_»ad”_acûss
(
s
);

169  
	`¿w_»ad_£qcouÁ_begš
(
s
);

170 
	}
}

186 
šlše
 
	$¿w_£qcouÁ_begš
(
£qcouÁ_t
 *
s
)

188 
»t
 = 
	`READ_ONCE
(
s
->
£qu’û
);

189 
	`smp_rmb
();

190  
»t
 & ~1;

191 
	}
}

207 
šlše
 
	$__»ad_£qcouÁ_»Œy
(
£qcouÁ_t
 *
s
, 
¡¬t
)

209  
	`uÆik–y
(
s
->
£qu’û
 !ð
¡¬t
);

210 
	}
}

222 
šlše
 
	$»ad_£qcouÁ_»Œy
(
£qcouÁ_t
 *
s
, 
¡¬t
)

224 
	`smp_rmb
();

225  
	`__»ad_£qcouÁ_»Œy
(
s
, 
¡¬t
);

226 
	}
}

230 
šlše
 
	$¿w_wr™e_£qcouÁ_begš
(
£qcouÁ_t
 *
s
)

232 
s
->
£qu’û
++;

233 
	`smp_wmb
();

234 
	}
}

236 
šlše
 
	$¿w_wr™e_£qcouÁ_’d
(
£qcouÁ_t
 *
s
)

238 
	`smp_wmb
();

239 
s
->
£qu’û
++;

240 
	}
}

276 
šlše
 
	$¿w_wr™e_£qcouÁ_b¬r›r
(
£qcouÁ_t
 *
s
)

278 
s
->
£qu’û
++;

279 
	`smp_wmb
();

280 
s
->
£qu’û
++;

281 
	}
}

283 
šlše
 
	$¿w_»ad_£qcouÁ_Ïtch
(
£qcouÁ_t
 *
s
)

285  
	`lockËss_d”eã»nû
(
s
->
£qu’û
);

286 
	}
}

365 
šlše
 
	$¿w_wr™e_£qcouÁ_Ïtch
(
£qcouÁ_t
 *
s
)

367 
	`smp_wmb
();

368 
s
->
£qu’û
++;

369 
	`smp_wmb
();

370 
	}
}

376 
šlše
 
	$wr™e_£qcouÁ_begš_Ã¡ed
(
£qcouÁ_t
 *
s
, 
subþass
)

378 
	`¿w_wr™e_£qcouÁ_begš
(
s
);

379 #ifdeà
CONFIG_DEBUG_LOCK_ALLOC


380 
	`£qcouÁ_acquœe
(&
s
->
d•_m­
, 
subþass
, 0, 
_RET_IP_
);

382 
	}
}

384 
šlše
 
	$wr™e_£qcouÁ_begš
(
£qcouÁ_t
 *
s
)

386 
	`wr™e_£qcouÁ_begš_Ã¡ed
(
s
, 0);

387 
	}
}

389 
šlše
 
	$wr™e_£qcouÁ_’d
(
£qcouÁ_t
 *
s
)

391 #ifdeà
CONFIG_DEBUG_LOCK_ALLOC


392 
	`£qcouÁ_»Ëa£
(&
s
->
d•_m­
, 1, 
_RET_IP_
);

394 
	`¿w_wr™e_£qcouÁ_’d
(
s
);

395 
	}
}

404 
šlše
 
	$wr™e_£qcouÁ_šv®id©e
(
£qcouÁ_t
 *
s
)

406 
	`smp_wmb
();

407 
s
->
£qu’û
+=2;

408 
	}
}

411 
£qcouÁ
 
	m£qcouÁ
;

412 
¥šlock_t
 
	mlock
;

413 } 
	t£qlock_t
;

419 
	#__SEQLOCK_UNLOCKED
(
lockÇme
) \

421 .
£qcouÁ
 = 
	`SEQCNT_ZERO
(
lockÇme
), \

422 .
lock
 = 
	`__SPIN_LOCK_UNLOCKED
(
lockÇme
) \

423 }

	)

425 
	#£qlock_š™
(
x
) \

427 
	`£qcouÁ_š™
(&(
x
)->
£qcouÁ
); \

428 
	`¥š_lock_š™
(&(
x
)->
lock
); \

429 } 0)

	)

431 
	#DEFINE_SEQLOCK
(
x
) \

432 
£qlock_t
 
x
 = 
	`__SEQLOCK_UNLOCKED
(x)

	)

437 
šlše
 
	$»ad_£qbegš
(
£qlock_t
 *
¦
)

439  
	`»ad_£qcouÁ_begš
(&
¦
->
£qcouÁ
);

440 
	}
}

442 
šlše
 
	$»ad_£q»Œy
(
£qlock_t
 *
¦
, 
¡¬t
)

444  
	`»ad_£qcouÁ_»Œy
(&
¦
->
£qcouÁ
, 
¡¬t
);

445 
	}
}

452 
šlše
 
	$wr™e_£qlock
(
£qlock_t
 *
¦
)

454 
	`¥š_lock
(&
¦
->
lock
);

455 
	`wr™e_£qcouÁ_begš
(&
¦
->
£qcouÁ
);

456 
	}
}

458 
šlše
 
	$wr™e_£quÆock
(
£qlock_t
 *
¦
)

460 
	`wr™e_£qcouÁ_’d
(&
¦
->
£qcouÁ
);

461 
	`¥š_uÆock
(&
¦
->
lock
);

462 
	}
}

464 
šlše
 
	$wr™e_£qlock_bh
(
£qlock_t
 *
¦
)

466 
	`¥š_lock_bh
(&
¦
->
lock
);

467 
	`wr™e_£qcouÁ_begš
(&
¦
->
£qcouÁ
);

468 
	}
}

470 
šlše
 
	$wr™e_£quÆock_bh
(
£qlock_t
 *
¦
)

472 
	`wr™e_£qcouÁ_’d
(&
¦
->
£qcouÁ
);

473 
	`¥š_uÆock_bh
(&
¦
->
lock
);

474 
	}
}

476 
šlše
 
	$wr™e_£qlock_œq
(
£qlock_t
 *
¦
)

478 
	`¥š_lock_œq
(&
¦
->
lock
);

479 
	`wr™e_£qcouÁ_begš
(&
¦
->
£qcouÁ
);

480 
	}
}

482 
šlše
 
	$wr™e_£quÆock_œq
(
£qlock_t
 *
¦
)

484 
	`wr™e_£qcouÁ_’d
(&
¦
->
£qcouÁ
);

485 
	`¥š_uÆock_œq
(&
¦
->
lock
);

486 
	}
}

488 
šlše
 
	$__wr™e_£qlock_œq§ve
(
£qlock_t
 *
¦
)

490 
æags
;

492 
	`¥š_lock_œq§ve
(&
¦
->
lock
, 
æags
);

493 
	`wr™e_£qcouÁ_begš
(&
¦
->
£qcouÁ
);

494  
æags
;

495 
	}
}

497 
	#wr™e_£qlock_œq§ve
(
lock
, 
æags
) \

498 dØ{ 
æags
 = 
	`__wr™e_£qlock_œq§ve
(
lock
); } 0)

	)

500 
šlše
 

501 
	$wr™e_£quÆock_œq»¡Üe
(
£qlock_t
 *
¦
, 
æags
)

503 
	`wr™e_£qcouÁ_’d
(&
¦
->
£qcouÁ
);

504 
	`¥š_uÆock_œq»¡Üe
(&
¦
->
lock
, 
æags
);

505 
	}
}

512 
šlše
 
	$»ad_£qlock_exþ
(
£qlock_t
 *
¦
)

514 
	`¥š_lock
(&
¦
->
lock
);

515 
	}
}

517 
šlše
 
	$»ad_£quÆock_exþ
(
£qlock_t
 *
¦
)

519 
	`¥š_uÆock
(&
¦
->
lock
);

520 
	}
}

532 
šlše
 
	$»ad_£qbegš_Ü_lock
(
£qlock_t
 *
lock
, *
£q
)

534 ià(!(*
£q
 & 1))

535 *
£q
 = 
	`»ad_£qbegš
(
lock
);

537 
	`»ad_£qlock_exþ
(
lock
);

538 
	}
}

540 
šlše
 
	$Ãed_£q»Œy
(
£qlock_t
 *
lock
, 
£q
)

542  !(
£q
 & 1è&& 
	`»ad_£q»Œy
(
lock
, seq);

543 
	}
}

545 
šlše
 
	$dÚe_£q»Œy
(
£qlock_t
 *
lock
, 
£q
)

547 ià(
£q
 & 1)

548 
	`»ad_£quÆock_exþ
(
lock
);

549 
	}
}

551 
šlše
 
	$»ad_£qlock_exþ_bh
(
£qlock_t
 *
¦
)

553 
	`¥š_lock_bh
(&
¦
->
lock
);

554 
	}
}

556 
šlše
 
	$»ad_£quÆock_exþ_bh
(
£qlock_t
 *
¦
)

558 
	`¥š_uÆock_bh
(&
¦
->
lock
);

559 
	}
}

561 
šlše
 
	$»ad_£qlock_exþ_œq
(
£qlock_t
 *
¦
)

563 
	`¥š_lock_œq
(&
¦
->
lock
);

564 
	}
}

566 
šlše
 
	$»ad_£quÆock_exþ_œq
(
£qlock_t
 *
¦
)

568 
	`¥š_uÆock_œq
(&
¦
->
lock
);

569 
	}
}

571 
šlše
 
	$__»ad_£qlock_exþ_œq§ve
(
£qlock_t
 *
¦
)

573 
æags
;

575 
	`¥š_lock_œq§ve
(&
¦
->
lock
, 
æags
);

576  
æags
;

577 
	}
}

579 
	#»ad_£qlock_exþ_œq§ve
(
lock
, 
æags
) \

580 dØ{ 
æags
 = 
	`__»ad_£qlock_exþ_œq§ve
(
lock
); } 0)

	)

582 
šlše
 

583 
	$»ad_£quÆock_exþ_œq»¡Üe
(
£qlock_t
 *
¦
, 
æags
)

585 
	`¥š_uÆock_œq»¡Üe
(&
¦
->
lock
, 
æags
);

586 
	}
}

588 
šlše
 

589 
	$»ad_£qbegš_Ü_lock_œq§ve
(
£qlock_t
 *
lock
, *
£q
)

591 
æags
 = 0;

593 ià(!(*
£q
 & 1))

594 *
£q
 = 
	`»ad_£qbegš
(
lock
);

596 
	`»ad_£qlock_exþ_œq§ve
(
lock
, 
æags
);

598  
æags
;

599 
	}
}

601 
šlše
 

602 
	$dÚe_£q»Œy_œq»¡Üe
(
£qlock_t
 *
lock
, 
£q
, 
æags
)

604 ià(
£q
 & 1)

605 
	`»ad_£quÆock_exþ_œq»¡Üe
(
lock
, 
æags
);

606 
	}
}

	@src/common/linuxkpi/gplv2/include/linux/shrinker.h

1 #iâdeà
_LINUX_SHRINKER_H


2 
	#_LINUX_SHRINKER_H


	)

4 
	~<lšux/ty³s.h
>

5 
	~<lšux/li¡.h
>

7 
	~<asm/©omic-lÚg.h
>

9 
	sshršk_cÚŒÞ
 {

10 
gå_t
 
	mgå_mask
;

17 
	mÄ_to_sÿn
;

24 
	mÄ_sÿÂed
;

26 
	mnid
;

30 
	#SHRINK_STOP
 (~0UL)

	)

32 
	sshršk”
 {

33 (*
	mcouÁ_objeùs
)(
	mshršk”
 *,

34 
shršk_cÚŒÞ
 *
	msc
);

35 (*
	msÿn_objeùs
)(
	mshršk”
 *,

36 
shršk_cÚŒÞ
 *
	msc
);

38 
	m£eks
;

39 
	mb©ch
;

40 
	mæags
;

43 
li¡_h—d
 
	mli¡
;

45 
©omic_lÚg_t
 *
	mÄ_deã¼ed
;

47 
	#DEFAULT_SEEKS
 2

	)

49 
	#SHRINKER_NUMA_AWARE
 (1 << 0)

	)

50 
	#SHRINKER_MEMCG_AWARE
 (1 << 1)

	)

52 
»gi¡”_shršk”
(
shršk”
 *);

53 
uÄegi¡”_shršk”
(
shršk”
 *);

	@src/common/linuxkpi/gplv2/include/linux/sort.h

1 #iâdeà
_LINUX_SORT_H


2 
	#_LINUX_SORT_H


	)

4 
	~<lšux/ty³s.h
>

6 
sÜt
(*
ba£
, 
size_t
 
num
, size_ˆ
size
,

7 (*
cmp
)(const *, const *),

8 (*
sw­
)(*, *, ));

	@src/common/linuxkpi/gplv2/include/linux/statfs.h

1 #iâdeà
_LINUX_STATFS_H


2 
	#_LINUX_STATFS_H


	)

4 
	~<lšux/ty³s.h
>

7 
	mv®
[2];

8 } 
	t__k”Ãl_fsid_t
;

10 
	sk¡©fs
 {

11 
	mf_ty³
;

12 
	mf_bsize
;

13 
u64
 
	mf_blocks
;

14 
u64
 
	mf_bä“
;

15 
u64
 
	mf_bavaž
;

16 
u64
 
	mf_fžes
;

17 
u64
 
	mf_fä“
;

18 
__k”Ãl_fsid_t
 
	mf_fsid
;

19 
	mf_Çm–’
;

20 
	mf_äsize
;

21 
	mf_æags
;

22 
	mf_¥¬e
[4];

	@src/common/linuxkpi/gplv2/include/linux/stop_machine.h

1 #iâdeà
_LINUX_STOP_MACHINE


2 
	#_LINUX_STOP_MACHINE


	)

4 
	~<sys/·¿m.h
>

5 
	~<sys/ty³s.h
>

6 
	~<sys/´oc.h
>

7 
	~<sys/sched.h
>

9 
	~<lšux/ýu.h
>

10 
	~<lšux/smp.h
>

11 
	~<lšux/li¡.h
>

13 (*
	týu_¡Ý_â_t
)(*
	t¬g
);

15 
šlše
 

16 
	$¡Ý_machše
(
ýu_¡Ý_â_t
 
â
, *
d©a
, *
dummy
)

18 
»t
;

19 
	`sched_pš
();

20 
»t
 = 
	`â
(
d©a
);

21 
	`sched_uÅš
();

22  (
»t
);

23 
	}
}

	@src/common/linuxkpi/gplv2/include/linux/stringify.h

1 #iâdeà
__LINUX_STRINGIFY_H


2 
	#__LINUX_STRINGIFY_H


	)

4 
	~<lšux/compž”.h
>

	@src/common/linuxkpi/gplv2/include/linux/suspend.h

1 #iâdeà
_LINUX_GPLV2_SUSPEND_H_


2 
	#_LINUX_GPLV2_SUSPEND_H_


	)

4 
	~<lšux/nÙif›r.h
>

7 
	#PM_HIBERNATION_PREPARE
 0x0001

	)

8 
	#PM_POST_HIBERNATION
 0x0002

	)

9 
	#PM_SUSPEND_PREPARE
 0x0003

	)

10 
	#PM_POST_SUSPEND
 0x0004

	)

11 
	#PM_RESTORE_PREPARE
 0x0005

	)

12 
	#PM_POST_RESTORE
 0x0006

	)

14 
šlše
 

15 
	$»gi¡”_pm_nÙif›r
(
nÙif›r_block
 *
nb
)

18 
	}
}

20 
šlše
 

21 
	$uÄegi¡”_pm_nÙif›r
(
nÙif›r_block
 *
nb
)

24 
	}
}

	@src/common/linuxkpi/gplv2/include/linux/swap.h

1 #iâdeà
_LINUX_SWAP_H


2 
	#_LINUX_SWAP_H


	)

4 
	~<lšux/ty³s.h
>

6 
šlše
 

7 
	$g‘_Ä_sw­_·ges
()

9 
	`UNIMPLEMENTED
();

11 
	}
}

13 
šlše
 

14 
	$cu¼’t_is_ksw­d
()

16 
	`UNIMPLEMENTED
();

18 
	}
}

	@src/common/linuxkpi/gplv2/include/linux/sync_file.h

13 #iâdeà
_LINUX_SYNC_FILE_H


14 
	#_LINUX_SYNC_FILE_H


	)

16 
	~<lšux/ty³s.h
>

17 
	~<lšux/ktime.h
>

18 
	~<lšux/li¡.h
>

19 
	~<lšux/¥šlock.h
>

20 
	~<lšux/dma-ãnû.h
>

21 
	~<lšux/dma-ãnû-¬¿y.h
>

22 
	~<lšux/fs.h
>

32 
	ssync_fže
 {

33 
fže
 *
	mfže
;

41 
	mu£r_Çme
[32];

42 #ifdeà
CONFIG_DEBUG_FS


43 
li¡_h—d
 
	msync_fže_li¡
;

46 
wa™_queue_h—d_t
 
	mwq
;

47 
	mæags
;

49 
dma_ãnû
 *
	mãnû
;

50 
dma_ãnû_cb
 
	mcb
;

53 
	#POLL_ENABLED
 0

	)

55 
sync_fže
 *
sync_fže_ü—‹
(
dma_ãnû
 *
ãnû
);

56 
dma_ãnû
 *
sync_fže_g‘_ãnû
(
fd
);

57 *
sync_fže_g‘_Çme
(
sync_fže
 *sync_fže, *
buf
, 
Ën
);

	@src/common/linuxkpi/gplv2/include/linux/sysrq.h

1 #iâdeà
_LINUX_SYSRQ_H


2 
	#_LINUX_SYSRQ_H


	)

4 
	~<lšux/”ºo.h
>

5 
	~<lšux/ty³s.h
>

8 
	#SYSRQ_DEFAULT_ENABLE
 1

	)

12 
	#SYSRQ_ENABLE_LOG
 0x0002

	)

13 
	#SYSRQ_ENABLE_KEYBOARD
 0x0004

	)

14 
	#SYSRQ_ENABLE_DUMP
 0x0008

	)

15 
	#SYSRQ_ENABLE_SYNC
 0x0010

	)

16 
	#SYSRQ_ENABLE_REMOUNT
 0x0020

	)

17 
	#SYSRQ_ENABLE_SIGNAL
 0x0040

	)

18 
	#SYSRQ_ENABLE_BOOT
 0x0080

	)

19 
	#SYSRQ_ENABLE_RTNICE
 0x0100

	)

21 
	ssy¤q_key_Ý
 {

22 (*
	mhªdËr
)();

23 *
	mh–p_msg
;

24 *
	maùiÚ_msg
;

25 
	m’abË_mask
;

27 
	#»gi¡”_sy¤q_key
(
a
, 
b
)

	)

28 
	#uÄegi¡”_sy¤q_key
(
a
, 
b
)

	)

	@src/common/linuxkpi/gplv2/include/linux/tracepoint.h

1 #iâdeà
_LINUX_TRACEPOINT_H


2 
	#_LINUX_TRACEPOINT_H


	)

	@src/common/linuxkpi/gplv2/include/linux/typecheck.h

1 #iâdeà
TYPECHECK_H_INCLUDED


2 
	#TYPECHECK_H_INCLUDED


	)

8 
	#ty³check
(
ty³
,
x
) \

9 ({ 
ty³
 
__dummy
; \

10 
	`ty³of
(
x
è
__dummy2
; \

11 ()(&
__dummy
 =ð&
__dummy2
); \

13 })

	)

19 
	#ty³check_â
(
ty³
,
funùiÚ
) \

20 ({ 
	`ty³of
(
ty³
è
__tmp
 = 
funùiÚ
; \

21 ()
__tmp
; \

22 })

	)

	@src/common/linuxkpi/gplv2/include/linux/uuid.h

16 #iâdeà
_LINUX_UUID_H_


17 
	#_LINUX_UUID_H_


	)

19 
	~<u­i/lšux/uuid.h
>

21 
	#UUID_SIZE
 16

	)

24 
__u8
 
	mb
[
UUID_SIZE
];

25 } 
	tuuid_t
;

27 
	#UUID_INIT
(
a
, 
b
, 
c
, 
d0
, 
d1
, 
d2
, 
d3
, 
d4
, 
d5
, 
d6
, 
d7
) \

28 ((
uuid_t
) \

29 {{ ((
a
) >> 24) & 0xff, ((a) >> 16) & 0xff, ((a) >> 8) & 0xff, (a) & 0xff, \

30 ((
b
) >> 8) & 0xff, (b) & 0xff, \

31 ((
c
) >> 8) & 0xff, (c) & 0xff, \

32 (
d0
), (
d1
), (
d2
), (
d3
), (
d4
), (
d5
), (
d6
), (
d7
è}})

	)

38 
	#UUID_STRING_LEN
 36

	)

40 cÚ¡ 
guid_t
 
guid_nuÎ
;

41 cÚ¡ 
uuid_t
 
uuid_nuÎ
;

43 
šlše
 
boÞ
 
	$guid_equ®
(cÚ¡ 
guid_t
 *
u1
, cÚ¡ guid_ˆ*
u2
)

45  
	`memcmp
(
u1
, 
u2
, (
guid_t
)) == 0;

46 
	}
}

48 
šlše
 
	$guid_cÝy
(
guid_t
 *
d¡
, cÚ¡ guid_ˆ*
¤c
)

50 
	`memýy
(
d¡
, 
¤c
, (
guid_t
));

51 
	}
}

53 
šlše
 
boÞ
 
	$guid_is_nuÎ
(cÚ¡ 
guid_t
 *
guid
)

55  
	`guid_equ®
(
guid
, &
guid_nuÎ
);

56 
	}
}

58 
šlše
 
boÞ
 
	$uuid_equ®
(cÚ¡ 
uuid_t
 *
u1
, cÚ¡ uuid_ˆ*
u2
)

60  
	`memcmp
(
u1
, 
u2
, (
uuid_t
)) == 0;

61 
	}
}

63 
šlše
 
	$uuid_cÝy
(
uuid_t
 *
d¡
, cÚ¡ uuid_ˆ*
¤c
)

65 
	`memýy
(
d¡
, 
¤c
, (
uuid_t
));

66 
	}
}

68 
šlše
 
boÞ
 
	$uuid_is_nuÎ
(cÚ¡ 
uuid_t
 *
uuid
)

70  
	`uuid_equ®
(
uuid
, &
uuid_nuÎ
);

71 
	}
}

73 
g’”©e_¿ndom_uuid
(
uuid
[16]);

75 
guid_g’
(
guid_t
 *
u
);

76 
uuid_g’
(
uuid_t
 *
u
);

78 
boÞ
 
__mu¡_check
 
uuid_is_v®id
(cÚ¡ *
uuid
);

80 cÚ¡ 
u8
 
guid_šdex
[16];

81 cÚ¡ 
u8
 
uuid_šdex
[16];

83 
guid_·r£
(cÚ¡ *
uuid
, 
guid_t
 *
u
);

84 
uuid_·r£
(cÚ¡ *
uuid
, 
uuid_t
 *
u
);

87 
	#uuid_Ë_g’
(
u
è
	`guid_g’
(u)

	)

88 
	#uuid_Ë_to_bš
(
guid
, 
u
è
	`guid_·r£
(guid, u)

	)

90 
šlše
 
	$uuid_Ë_cmp
(cÚ¡ 
guid_t
 
u1
, cÚ¡ guid_ˆ
u2
)

92  
	`memcmp
(&
u1
, &
u2
, (
guid_t
));

93 
	}
}

	@src/common/linuxkpi/gplv2/include/linux/vga_switcheroo.h

31 #iâdeà
_LINUX_VGA_SWITCHEROO_H_


32 
	#_LINUX_VGA_SWITCHEROO_H_


	)

34 
	~<lšux/fb.h
>

36 
	gpci_dev
;

37 
	gdev_pm_domaš
;

54 
	evga_sw™ch”oo_hªdËr_æags_t
 {

55 
	mVGA_SWITCHEROO_CAN_SWITCH_DDC
 = (1 << 0),

56 
	mVGA_SWITCHEROO_NEEDS_EDP_CONFIG
 = (1 << 1),

69 
	evga_sw™ch”oo_¡©e
 {

70 
	mVGA_SWITCHEROO_OFF
,

71 
	mVGA_SWITCHEROO_ON
,

73 
	mVGA_SWITCHEROO_NOT_FOUND
,

87 
	evga_sw™ch”oo_þ›Á_id
 {

88 
	mVGA_SWITCHEROO_UNKNOWN_ID
 = -1,

89 
	mVGA_SWITCHEROO_IGD
,

90 
	mVGA_SWITCHEROO_DIS
,

91 
	mVGA_SWITCHEROO_MAX_CLIENTS
,

117 
	svga_sw™ch”oo_hªdËr
 {

118 (*
	mš™
)();

119 (*
	msw™chto
)(
vga_sw™ch”oo_þ›Á_id
 
	mid
);

120 (*
	msw™ch_ddc
)(
vga_sw™ch”oo_þ›Á_id
 
	mid
);

121 (*
	mpow”_¡©e
)(
vga_sw™ch”oo_þ›Á_id
 
	mid
,

122 
vga_sw™ch”oo_¡©e
 
	m¡©e
);

123 
vga_sw™ch”oo_þ›Á_id
 (*
g‘_þ›Á_id
)(
pci_dev
 *
	mpdev
);

142 
	svga_sw™ch”oo_þ›Á_Ýs
 {

143 (*
	m£t_gpu_¡©e
)(
pci_dev
 *
	mdev
, 
	mvga_sw™ch”oo_¡©e
);

144 (*
	m»´obe
)(
pci_dev
 *
	mdev
);

145 
boÞ
 (*
ÿn_sw™ch
)(
pci_dev
 *
	mdev
);

148 #ià
defšed
(
CONFIG_VGA_SWITCHEROO
)

149 
vga_sw™ch”oo_uÄegi¡”_þ›Á
(
pci_dev
 *
dev
);

150 
vga_sw™ch”oo_»gi¡”_þ›Á
(
pci_dev
 *
dev
,

151 cÚ¡ 
vga_sw™ch”oo_þ›Á_Ýs
 *
Ýs
,

152 
boÞ
 
driv”_pow”_cÚŒÞ
);

153 
vga_sw™ch”oo_»gi¡”_audio_þ›Á
(
pci_dev
 *
pdev
,

154 cÚ¡ 
vga_sw™ch”oo_þ›Á_Ýs
 *
Ýs
,

155 
vga_sw™ch”oo_þ›Á_id
 
id
);

157 
vga_sw™ch”oo_þ›Á_fb_£t
(
pci_dev
 *
dev
,

158 
lšux_fb_šfo
 *
šfo
);

160 
vga_sw™ch”oo_»gi¡”_hªdËr
(cÚ¡ 
vga_sw™ch”oo_hªdËr
 *
hªdËr
,

161 
vga_sw™ch”oo_hªdËr_æags_t
 
hªdËr_æags
);

162 
vga_sw™ch”oo_uÄegi¡”_hªdËr
();

163 
vga_sw™ch”oo_hªdËr_æags_t
 
vga_sw™ch”oo_hªdËr_æags
();

164 
vga_sw™ch”oo_lock_ddc
(
pci_dev
 *
pdev
);

165 
vga_sw™ch”oo_uÆock_ddc
(
pci_dev
 *
pdev
);

167 
vga_sw™ch”oo_´oûss_d–ayed_sw™ch
();

169 
boÞ
 
vga_sw™ch”oo_þ›Á_´obe_deãr
(
pci_dev
 *
pdev
);

170 
vga_sw™ch”oo_¡©e
 
vga_sw™ch”oo_g‘_þ›Á_¡©e
(
pci_dev
 *
dev
);

172 
vga_sw™ch”oo_£t_dyÇmic_sw™ch
(
pci_dev
 *
pdev
, 
vga_sw™ch”oo_¡©e
 
dyÇmic
);

174 
vga_sw™ch”oo_š™_domaš_pm_Ýs
(
deviû
 *
dev
, 
dev_pm_domaš
 *
domaš
);

175 
vga_sw™ch”oo_fši_domaš_pm_Ýs
(
deviû
 *
dev
);

176 
vga_sw™ch”oo_š™_domaš_pm_Ýtimus_hdmi_audio
(
deviû
 *
dev
, 
dev_pm_domaš
 *
domaš
);

179 
šlše
 
	$vga_sw™ch”oo_uÄegi¡”_þ›Á
(
pci_dev
 *
dev
è{
	}
}

180 
šlše
 
	$vga_sw™ch”oo_»gi¡”_þ›Á
(
pci_dev
 *
dev
,

181 cÚ¡ 
vga_sw™ch”oo_þ›Á_Ýs
 *
Ýs
, 
boÞ
 
driv”_pow”_cÚŒÞ
è{  0; 
	}
}

182 
šlše
 
	$vga_sw™ch”oo_þ›Á_fb_£t
(
pci_dev
 *
dev
, 
lšux_fb_šfo
 *
šfo
è{
	}
}

183 
šlše
 
	$vga_sw™ch”oo_»gi¡”_hªdËr
(cÚ¡ 
vga_sw™ch”oo_hªdËr
 *
hªdËr
,

184 
vga_sw™ch”oo_hªdËr_æags_t
 
hªdËr_æags
è{  0; 
	}
}

185 
šlše
 
	$vga_sw™ch”oo_»gi¡”_audio_þ›Á
(
pci_dev
 *
pdev
,

186 cÚ¡ 
vga_sw™ch”oo_þ›Á_Ýs
 *
Ýs
,

187 
vga_sw™ch”oo_þ›Á_id
 
id
è{  0; 
	}
}

188 
šlše
 
	$vga_sw™ch”oo_uÄegi¡”_hªdËr
(è{
	}
}

189 
šlše
 
vga_sw™ch”oo_hªdËr_æags_t
 
	$vga_sw™ch”oo_hªdËr_æags
(è{  0; 
	}
}

190 
šlše
 
	$vga_sw™ch”oo_lock_ddc
(
pci_dev
 *
pdev
è{  -
ENODEV
; 
	}
}

191 
šlše
 
	$vga_sw™ch”oo_uÆock_ddc
(
pci_dev
 *
pdev
è{  -
ENODEV
; 
	}
}

192 
šlše
 
	$vga_sw™ch”oo_´oûss_d–ayed_sw™ch
(è{  0; 
	}
}

193 
šlše
 
boÞ
 
	$vga_sw™ch”oo_þ›Á_´obe_deãr
(
pci_dev
 *
pdev
è{  
çl£
; 
	}
}

194 
šlše
 
vga_sw™ch”oo_¡©e
 
	$vga_sw™ch”oo_g‘_þ›Á_¡©e
(
pci_dev
 *
dev
è{  
VGA_SWITCHEROO_ON
; 
	}
}

196 
šlše
 
	$vga_sw™ch”oo_£t_dyÇmic_sw™ch
(
pci_dev
 *
pdev
, 
vga_sw™ch”oo_¡©e
 
dyÇmic
è{
	}
}

198 
šlše
 
	$vga_sw™ch”oo_š™_domaš_pm_Ýs
(
deviû
 *
dev
, 
dev_pm_domaš
 *
domaš
è{  -
EINVAL
; 
	}
}

199 
šlše
 
	$vga_sw™ch”oo_fši_domaš_pm_Ýs
(
deviû
 *
dev
è{
	}
}

200 
šlše
 
	$vga_sw™ch”oo_š™_domaš_pm_Ýtimus_hdmi_audio
(
deviû
 *
dev
, 
dev_pm_domaš
 *
domaš
è{  -
EINVAL
; 
	}
}

	@src/common/linuxkpi/gplv2/include/linux/vgaarb.h

31 #iâdeà
LINUX_VGA_H


32 
	#LINUX_VGA_H


	)

34 
	~<video/vga.h
>

37 
	#VGA_RSRC_NONE
 0x00

	)

38 
	#VGA_RSRC_LEGACY_IO
 0x01

	)

39 
	#VGA_RSRC_LEGACY_MEM
 0x02

	)

40 
	#VGA_RSRC_LEGACY_MASK
 (
VGA_RSRC_LEGACY_IO
 | 
VGA_RSRC_LEGACY_MEM
)

	)

42 
	#VGA_RSRC_NORMAL_IO
 0x04

	)

43 
	#VGA_RSRC_NORMAL_MEM
 0x08

	)

49 
	#VGA_DEFAULT_DEVICE
 (
NULL
)

	)

51 
	gpci_dev
;

68 #ià
defšed
(
CONFIG_VGA_ARB
)

69 
vga_£t_Ëgacy_decodšg
(
pci_dev
 *
pdev
,

70 
decodes
);

72 
šlše
 
	$vga_£t_Ëgacy_decodšg
(
pci_dev
 *
pdev
,

73 
decodes
è{ 
	}
};

104 #ià
defšed
(
CONFIG_VGA_ARB
)

105 
vga_g‘
(
pci_dev
 *
pdev
, 
r¤c
, 
š‹¼u±ibË
);

107 
šlše
 
	$vga_g‘
(
pci_dev
 *
pdev
, 
r¤c
, 
š‹¼u±ibË
è{  0; 
	}
}

116 
šlše
 
	$vga_g‘_š‹¼u±ibË
(
pci_dev
 *
pdev
,

117 
r¤c
)

119  
	`vga_g‘
(
pdev
, 
r¤c
, 1);

120 
	}
}

128 
šlše
 
	$vga_g‘_unš‹¼u±ibË
(
pci_dev
 *
pdev
,

129 
r¤c
)

131  
	`vga_g‘
(
pdev
, 
r¤c
, 0);

132 
	}
}

145 #ià
defšed
(
CONFIG_VGA_ARB
)

146 
vga_Œyg‘
(
pci_dev
 *
pdev
, 
r¤c
);

148 
šlše
 
	$vga_Œyg‘
(
pci_dev
 *
pdev
, 
r¤c
è{  0; 
	}
}

164 #ià
defšed
(
CONFIG_VGA_ARB
)

165 
vga_put
(
pci_dev
 *
pdev
, 
r¤c
);

167 
	#vga_put
(
pdev
, 
r¤c
)

	)

190 #ifdeà
CONFIG_VGA_ARB


191 
pci_dev
 *
vga_deçuÉ_deviû
();

192 
vga_£t_deçuÉ_deviû
(
pci_dev
 *
pdev
);

194 
šlše
 
pci_dev
 *
	$vga_deçuÉ_deviû
(è{  
NULL
; 
	}
};

195 
šlše
 
	$vga_£t_deçuÉ_deviû
(
pci_dev
 *
pdev
è{ 
	}
};

206 #iâdeà
__ARCH_HAS_VGA_CONFLICT


207 
šlše
 
	$vga_cÚæiùs
(
pci_dev
 *
p1
, pci_dev *
p2
)

210 
	}
}

241 #ià
defšed
(
CONFIG_VGA_ARB
)

242 
vga_þ›Á_»gi¡”
(
pci_dev
 *
pdev
, *
cook›
,

243 (*
œq_£t_¡©e
)(*
cook›
, 
boÞ
 
¡©e
),

244 (*
£t_vga_decode
)(*
cook›
, 
boÞ
 
¡©e
));

246 
šlše
 
	`vga_þ›Á_»gi¡”
(
pci_dev
 *
pdev
, *
cook›
,

247 (*
œq_£t_¡©e
)(*
cook›
, 
boÞ
 
¡©e
),

248 (*
£t_vga_decode
)(*
cook›
, 
boÞ
 
¡©e
))

251 
	}
}

	@src/common/linuxkpi/gplv2/include/trace/define_trace.h

18 #ifdeà
CREATE_TRACE_POINTS


21 #undeà
CREATE_TRACE_POINTS


23 
	~<lšux/¡ršgify.h
>

25 #undeà
TRACE_EVENT


26 
	#TRACE_EVENT
(
Çme
, 
´Ùo
, 
¬gs
, 
t¡ruù
, 
assign
, 
´št
) \

27 
	`DEFINE_TRACE
(
Çme
)

	)

29 #undeà
TRACE_EVENT_CONDITION


30 
	#TRACE_EVENT_CONDITION
(
Çme
, 
´Ùo
, 
¬gs
, 
cÚd
, 
t¡ruù
, 
assign
, 
´št
) \

31 
	`TRACE_EVENT
(
Çme
, \

32 
	`PARAMS
(
´Ùo
), \

33 
	`PARAMS
(
¬gs
), \

34 
	`PARAMS
(
t¡ruù
), \

35 
	`PARAMS
(
assign
), \

36 
	`PARAMS
(
´št
))

	)

38 #undeà
TRACE_EVENT_FN


39 
	#TRACE_EVENT_FN
(
Çme
, 
´Ùo
, 
¬gs
, 
t¡ruù
, \

40 
assign
, 
´št
, 
»g
, 
uÄeg
) \

41 
	`DEFINE_TRACE_FN
(
Çme
, 
»g
, 
uÄeg
)

	)

43 #undeà
TRACE_EVENT_FN_COND


44 
	#TRACE_EVENT_FN_COND
(
Çme
, 
´Ùo
, 
¬gs
, 
cÚd
, 
t¡ruù
, \

45 
assign
, 
´št
, 
»g
, 
uÄeg
) \

46 
	`DEFINE_TRACE_FN
(
Çme
, 
»g
, 
uÄeg
)

	)

48 #undeà
DEFINE_EVENT


49 
	#DEFINE_EVENT
(
‹m¶©e
, 
Çme
, 
´Ùo
, 
¬gs
) \

50 
	`DEFINE_TRACE
(
Çme
)

	)

52 #undeà
DEFINE_EVENT_FN


53 
	#DEFINE_EVENT_FN
(
‹m¶©e
, 
Çme
, 
´Ùo
, 
¬gs
, 
»g
, 
uÄeg
) \

54 
	`DEFINE_TRACE_FN
(
Çme
, 
»g
, 
uÄeg
)

	)

56 #undeà
DEFINE_EVENT_PRINT


57 
	#DEFINE_EVENT_PRINT
(
‹m¶©e
, 
Çme
, 
´Ùo
, 
¬gs
, 
´št
) \

58 
	`DEFINE_TRACE
(
Çme
)

	)

60 #undeà
DEFINE_EVENT_CONDITION


61 
	#DEFINE_EVENT_CONDITION
(
‹m¶©e
, 
Çme
, 
´Ùo
, 
¬gs
, 
cÚd
) \

62 
	`DEFINE_EVENT
(
‹m¶©e
, 
Çme
, 
	`PARAMS
(
´Ùo
), PARAMS(
¬gs
))

	)

64 #undeà
DECLARE_TRACE


65 
	#DECLARE_TRACE
(
Çme
, 
´Ùo
, 
¬gs
) \

66 
	`DEFINE_TRACE
(
Çme
)

	)

68 #undeà
TRACE_INCLUDE


69 #undeà
__TRACE_INCLUDE


71 #iâdeà
TRACE_INCLUDE_FILE


72 
	#TRACE_INCLUDE_FILE
 
TRACE_SYSTEM


	)

73 
	#UNDEF_TRACE_INCLUDE_FILE


	)

76 #iâdeà
TRACE_INCLUDE_PATH


77 
	#__TRACE_INCLUDE
(
sy¡em
è<
Œaû
/
ev’ts
/sy¡em.
h
>

	)

78 
	#UNDEF_TRACE_INCLUDE_PATH


	)

80 
	#__TRACE_INCLUDE
(
sy¡em
è
	`__¡ršgify
(
TRACE_INCLUDE_PATH
/sy¡em.
h
)

	)

83 
	#TRACE_INCLUDE
(
sy¡em
è
	`__TRACE_INCLUDE
(sy¡em)

	)

86 
	#TRACE_HEADER_MULTI_READ


	)

88 #šþud
TRACE_INCLUDE
(
TRACE_INCLUDE_FILE
)

91 #undeà
DECLARE_TRACE


92 
	#DECLARE_TRACE
(
Çme
, 
´Ùo
, 
¬gs
)

	)

94 #ifdeà
TRACEPOINTS_ENABLED


95 
	~<Œaû/Œaû_ev’ts.h
>

96 
	~<Œaû/³rf.h
>

99 #undeà
TRACE_EVENT


100 #undeà
TRACE_EVENT_FN


101 #undeà
TRACE_EVENT_FN_COND


102 #undeà
TRACE_EVENT_CONDITION


103 #undeà
DECLARE_EVENT_CLASS


104 #undeà
DEFINE_EVENT


105 #undeà
DEFINE_EVENT_FN


106 #undeà
DEFINE_EVENT_PRINT


107 #undeà
DEFINE_EVENT_CONDITION


108 #undeà
TRACE_HEADER_MULTI_READ


109 #undeà
DECLARE_TRACE


112 #ifdeà
UNDEF_TRACE_INCLUDE_FILE


113 #undeà
TRACE_INCLUDE_FILE


114 #undeà
UNDEF_TRACE_INCLUDE_FILE


117 #ifdeà
UNDEF_TRACE_INCLUDE_PATH


118 #undeà
TRACE_INCLUDE_PATH


119 #undeà
UNDEF_TRACE_INCLUDE_PATH


123 
	#CREATE_TRACE_POINTS


	)

	@src/common/linuxkpi/gplv2/include/trace/events/dma_fence.h

1 #iâdeà
_TRACE_DMA_FENCE_H_


2 
	#_TRACE_DMA_FENCE_H_


	)

4 
	~<lšux/dma-ãnû.h
>

7 
šlše
 

8 
	$Œaû_dma_ãnû_’abË_sigÇl
(
dma_ãnû
 *
ãnû
)

10 
	`CTR1
(
KTR_DRM
, "dma_ãnû_’abË_sigÇÈdma_ãnû %p", 
ãnû
);

11 
	}
}

	@src/common/linuxkpi/gplv2/include/uapi/linux/dma-buf.h

1 #iâdeà
_DMA_BUF_UAPI_H_


2 
	#_DMA_BUF_UAPI_H_


	)

4 
	~<lšux/ty³s.h
>

7 
	sdma_buf_sync
 {

8 
__u64
 
	mæags
;

11 
	#DMA_BUF_SYNC_READ
 (1 << 0)

	)

12 
	#DMA_BUF_SYNC_WRITE
 (2 << 0)

	)

13 
	#DMA_BUF_SYNC_RW
 (
DMA_BUF_SYNC_READ
 | 
DMA_BUF_SYNC_WRITE
)

	)

14 
	#DMA_BUF_SYNC_START
 (0 << 2)

	)

15 
	#DMA_BUF_SYNC_END
 (1 << 2)

	)

16 
	#DMA_BUF_SYNC_VALID_FLAGS_MASK
 \

17 (
DMA_BUF_SYNC_RW
 | 
DMA_BUF_SYNC_END
)

	)

19 
	#DMA_BUF_BASE
 'b'

	)

20 
	#DMA_BUF_IOCTL_SYNC
 
	`_IOW
(
DMA_BUF_BASE
, 0, 
dma_buf_sync
)

	)

	@src/common/linuxkpi/gplv2/include/uapi/linux/fb.h

1 #iâdeà
_UAPI_LINUX_FB_H


2 
	#_UAPI_LINUX_FB_H


	)

4 
	~<lšux/ty³s.h
>

5 
	~<lšux/i2c.h
>

9 
	#FB_MAX
 32

	)

12 #ifdeà
CONFIG_FB_BACKLIGHT


14 
	#FB_BACKLIGHT_LEVELS
 128

	)

15 
	#FB_BACKLIGHT_MAX
 0xFF

	)

21 
	#FB_ROTATE_UR
 0

	)

22 
	#FB_ROTATE_CW
 1

	)

23 
	#FB_ROTATE_UD
 2

	)

24 
	#FB_ROTATE_CCW
 3

	)

26 
	#FBIO_WAITFORVSYNC
 
	`_IOW
('F', 0x20, 
__u32
)

	)

	@src/common/linuxkpi/gplv2/include/uapi/linux/sched/types.h

1 #iâdeà
_UAPI_LINUX_SCHED_TYPES_H


2 
	#_UAPI_LINUX_SCHED_TYPES_H


	)

4 
	~<lšux/ty³s.h
>

6 #iâdeà
_SCHED_H_


7 
	ssched_·¿m
 {

8 
	msched_´iÜ™y
;

12 
	#SCHED_ATTR_SIZE_VER0
 48

	)

58 
	ssched_©Œ
 {

59 
u32
 
	msize
;

61 
u32
 
	msched_pÞicy
;

62 
u64
 
	msched_æags
;

65 
s32
 
	msched_niû
;

68 
u32
 
	msched_´iÜ™y
;

71 
u64
 
	msched_ruÁime
;

72 
u64
 
	msched_d—dlše
;

73 
u64
 
	msched_³riod
;

	@src/common/linuxkpi/gplv2/include/uapi/linux/sync_file.h

12 #iâdeà
_UAPI_LINUX_SYNC_H


13 
	#_UAPI_LINUX_SYNC_H


	)

15 
	~<lšux/ioùl.h
>

16 
	~<lšux/ty³s.h
>

26 
	ssync_m”ge_d©a
 {

27 
	mÇme
[32];

28 
__s32
 
	mfd2
;

29 
__s32
 
	mãnû
;

30 
__u32
 
	mæags
;

31 
__u32
 
	m·d
;

42 
	ssync_ãnû_šfo
 {

43 
	mobj_Çme
[32];

44 
	mdriv”_Çme
[32];

45 
__s32
 
	m¡©us
;

46 
__u32
 
	mæags
;

47 
__u64
 
	mtime¡amp_ns
;

60 
	ssync_fže_šfo
 {

61 
	mÇme
[32];

62 
__s32
 
	m¡©us
;

63 
__u32
 
	mæags
;

64 
__u32
 
	mnum_ãnûs
;

65 
__u32
 
	m·d
;

67 
__u64
 
	msync_ãnû_šfo
;

70 
	#SYNC_IOC_MAGIC
 '>'

	)

86 
	#SYNC_IOC_MERGE
 
	`_IOWR
(
SYNC_IOC_MAGIC
, 3, 
sync_m”ge_d©a
)

	)

96 
	#SYNC_IOC_FILE_INFO
 
	`_IOWR
(
SYNC_IOC_MAGIC
, 4, 
sync_fže_šfo
)

	)

	@src/common/linuxkpi/gplv2/include/uapi/linux/uuid.h

1 #iâdeà
_UAPI_LINUX_UUID_H_


2 
	#_UAPI_LINUX_UUID_H_


	)

4 
	~<lšux/ty³s.h
>

5 
	~<lšux/¡ršg.h
>

8 
__u8
 
	mb
[16];

9 } 
	tguid_t
;

11 
	#GUID_INIT
(
a
, 
b
, 
c
, 
d0
, 
d1
, 
d2
, 
d3
, 
d4
, 
d5
, 
d6
, 
d7
) \

12 ((
guid_t
) \

13 {{ (
a
) & 0xff, ((a) >> 8) & 0xff, \

14 ((
a
) >> 16) & 0xff, ((a) >> 24) & 0xff, \

15 (
b
) & 0xff, ((b) >> 8) & 0xff, \

16 (
c
) & 0xff, ((c) >> 8) & 0xff, \

17 (
d0
), (
d1
), (
d2
), (
d3
), \

18 (
d4
), (
d5
), (
d6
), (
d7
è}})

	)

21 
guid_t
 
	tuuid_Ë
;

22 
	#UUID_LE
(
a
, 
b
, 
c
, 
d0
, 
d1
, 
d2
, 
d3
, 
d4
, 
d5
, 
d6
, 
d7
) \

23 
	`GUID_INIT
(
a
, 
b
, 
c
, 
d0
, 
d1
, 
d2
, 
d3
, 
d4
, 
d5
, 
d6
, 
d7
)

	)

24 
	#NULL_UUID_LE
 \

25 
	`UUID_LE
(0x00000000, 0x0000, 0x0000, 0x00, 0x00, 0x00, 0x00, \

26 0x00, 0x00, 0x00, 0x00)

	)

	@src/common/linuxkpi/gplv2/include/video/display_timing.h

9 #iâdeà
__LINUX_DISPLAY_TIMING_H


10 
	#__LINUX_DISPLAY_TIMING_H


	)

12 
	~<lšux/b™Ýs.h
>

13 
	~<lšux/ty³s.h
>

15 
	edi¥Ïy_æags
 {

16 
	mDISPLAY_FLAGS_HSYNC_LOW
 = 
BIT
(0),

17 
	mDISPLAY_FLAGS_HSYNC_HIGH
 = 
BIT
(1),

18 
	mDISPLAY_FLAGS_VSYNC_LOW
 = 
BIT
(2),

19 
	mDISPLAY_FLAGS_VSYNC_HIGH
 = 
BIT
(3),

22 
	mDISPLAY_FLAGS_DE_LOW
 = 
BIT
(4),

23 
	mDISPLAY_FLAGS_DE_HIGH
 = 
BIT
(5),

25 
	mDISPLAY_FLAGS_PIXDATA_POSEDGE
 = 
BIT
(6),

27 
	mDISPLAY_FLAGS_PIXDATA_NEGEDGE
 = 
BIT
(7),

28 
	mDISPLAY_FLAGS_INTERLACED
 = 
BIT
(8),

29 
	mDISPLAY_FLAGS_DOUBLESCAN
 = 
BIT
(9),

30 
	mDISPLAY_FLAGS_DOUBLECLK
 = 
BIT
(10),

37 
	stimšg_’Œy
 {

38 
u32
 
	mmš
;

39 
u32
 
	mtyp
;

40 
u32
 
	mmax
;

60 
	sdi¥Ïy_timšg
 {

61 
timšg_’Œy
 
	mpix–þock
;

63 
timšg_’Œy
 
	mhaùive
;

64 
timšg_’Œy
 
	mhäÚt_pÜch
;

65 
timšg_’Œy
 
	mhback_pÜch
;

66 
timšg_’Œy
 
	mhsync_Ën
;

68 
timšg_’Œy
 
	mvaùive
;

69 
timšg_’Œy
 
	mväÚt_pÜch
;

70 
timšg_’Œy
 
	mvback_pÜch
;

71 
timšg_’Œy
 
	mvsync_Ën
;

73 
di¥Ïy_æags
 
	mæags
;

82 
	sdi¥Ïy_timšgs
 {

83 
	mnum_timšgs
;

84 
	mÇtive_mode
;

86 
di¥Ïy_timšg
 **
	mtimšgs
;

90 
šlše
 
di¥Ïy_timšg
 *
	$di¥Ïy_timšgs_g‘
(const 

91 
di¥Ïy_timšgs
 *
di¥
,

92 
šdex
)

94 ià(
di¥
->
num_timšgs
 > 
šdex
)

95  
di¥
->
timšgs
[
šdex
];

97  
NULL
;

98 
	}
}

100 
di¥Ïy_timšgs_»Ëa£
(
di¥Ïy_timšgs
 *
di¥
);

	@src/common/linuxkpi/gplv2/include/video/mipi_display.h

13 #iâdeà
MIPI_DISPLAY_H


14 
	#MIPI_DISPLAY_H


	)

18 
	mMIPI_DSI_V_SYNC_START
 = 0x01,

19 
	mMIPI_DSI_V_SYNC_END
 = 0x11,

20 
	mMIPI_DSI_H_SYNC_START
 = 0x21,

21 
	mMIPI_DSI_H_SYNC_END
 = 0x31,

23 
	mMIPI_DSI_COLOR_MODE_OFF
 = 0x02,

24 
	mMIPI_DSI_COLOR_MODE_ON
 = 0x12,

25 
	mMIPI_DSI_SHUTDOWN_PERIPHERAL
 = 0x22,

26 
	mMIPI_DSI_TURN_ON_PERIPHERAL
 = 0x32,

28 
	mMIPI_DSI_GENERIC_SHORT_WRITE_0_PARAM
 = 0x03,

29 
	mMIPI_DSI_GENERIC_SHORT_WRITE_1_PARAM
 = 0x13,

30 
	mMIPI_DSI_GENERIC_SHORT_WRITE_2_PARAM
 = 0x23,

32 
	mMIPI_DSI_GENERIC_READ_REQUEST_0_PARAM
 = 0x04,

33 
	mMIPI_DSI_GENERIC_READ_REQUEST_1_PARAM
 = 0x14,

34 
	mMIPI_DSI_GENERIC_READ_REQUEST_2_PARAM
 = 0x24,

36 
	mMIPI_DSI_DCS_SHORT_WRITE
 = 0x05,

37 
	mMIPI_DSI_DCS_SHORT_WRITE_PARAM
 = 0x15,

39 
	mMIPI_DSI_DCS_READ
 = 0x06,

41 
	mMIPI_DSI_SET_MAXIMUM_RETURN_PACKET_SIZE
 = 0x37,

43 
	mMIPI_DSI_END_OF_TRANSMISSION
 = 0x08,

45 
	mMIPI_DSI_NULL_PACKET
 = 0x09,

46 
	mMIPI_DSI_BLANKING_PACKET
 = 0x19,

47 
	mMIPI_DSI_GENERIC_LONG_WRITE
 = 0x29,

48 
	mMIPI_DSI_DCS_LONG_WRITE
 = 0x39,

50 
	mMIPI_DSI_LOOSELY_PACKED_PIXEL_STREAM_YCBCR20
 = 0x0c,

51 
	mMIPI_DSI_PACKED_PIXEL_STREAM_YCBCR24
 = 0x1c,

52 
	mMIPI_DSI_PACKED_PIXEL_STREAM_YCBCR16
 = 0x2c,

54 
	mMIPI_DSI_PACKED_PIXEL_STREAM_30
 = 0x0d,

55 
	mMIPI_DSI_PACKED_PIXEL_STREAM_36
 = 0x1d,

56 
	mMIPI_DSI_PACKED_PIXEL_STREAM_YCBCR12
 = 0x3d,

58 
	mMIPI_DSI_PACKED_PIXEL_STREAM_16
 = 0x0e,

59 
	mMIPI_DSI_PACKED_PIXEL_STREAM_18
 = 0x1e,

60 
	mMIPI_DSI_PIXEL_STREAM_3BYTE_18
 = 0x2e,

61 
	mMIPI_DSI_PACKED_PIXEL_STREAM_24
 = 0x3e,

66 
	mMIPI_DSI_RX_ACKNOWLEDGE_AND_ERROR_REPORT
 = 0x02,

67 
	mMIPI_DSI_RX_END_OF_TRANSMISSION
 = 0x08,

68 
	mMIPI_DSI_RX_GENERIC_SHORT_READ_RESPONSE_1BYTE
 = 0x11,

69 
	mMIPI_DSI_RX_GENERIC_SHORT_READ_RESPONSE_2BYTE
 = 0x12,

70 
	mMIPI_DSI_RX_GENERIC_LONG_READ_RESPONSE
 = 0x1a,

71 
	mMIPI_DSI_RX_DCS_LONG_READ_RESPONSE
 = 0x1c,

72 
	mMIPI_DSI_RX_DCS_SHORT_READ_RESPONSE_1BYTE
 = 0x21,

73 
	mMIPI_DSI_RX_DCS_SHORT_READ_RESPONSE_2BYTE
 = 0x22,

78 
	mMIPI_DCS_NOP
 = 0x00,

79 
	mMIPI_DCS_SOFT_RESET
 = 0x01,

80 
	mMIPI_DCS_GET_DISPLAY_ID
 = 0x04,

81 
	mMIPI_DCS_GET_RED_CHANNEL
 = 0x06,

82 
	mMIPI_DCS_GET_GREEN_CHANNEL
 = 0x07,

83 
	mMIPI_DCS_GET_BLUE_CHANNEL
 = 0x08,

84 
	mMIPI_DCS_GET_DISPLAY_STATUS
 = 0x09,

85 
	mMIPI_DCS_GET_POWER_MODE
 = 0x0A,

86 
	mMIPI_DCS_GET_ADDRESS_MODE
 = 0x0B,

87 
	mMIPI_DCS_GET_PIXEL_FORMAT
 = 0x0C,

88 
	mMIPI_DCS_GET_DISPLAY_MODE
 = 0x0D,

89 
	mMIPI_DCS_GET_SIGNAL_MODE
 = 0x0E,

90 
	mMIPI_DCS_GET_DIAGNOSTIC_RESULT
 = 0x0F,

91 
	mMIPI_DCS_ENTER_SLEEP_MODE
 = 0x10,

92 
	mMIPI_DCS_EXIT_SLEEP_MODE
 = 0x11,

93 
	mMIPI_DCS_ENTER_PARTIAL_MODE
 = 0x12,

94 
	mMIPI_DCS_ENTER_NORMAL_MODE
 = 0x13,

95 
	mMIPI_DCS_EXIT_INVERT_MODE
 = 0x20,

96 
	mMIPI_DCS_ENTER_INVERT_MODE
 = 0x21,

97 
	mMIPI_DCS_SET_GAMMA_CURVE
 = 0x26,

98 
	mMIPI_DCS_SET_DISPLAY_OFF
 = 0x28,

99 
	mMIPI_DCS_SET_DISPLAY_ON
 = 0x29,

100 
	mMIPI_DCS_SET_COLUMN_ADDRESS
 = 0x2A,

101 
	mMIPI_DCS_SET_PAGE_ADDRESS
 = 0x2B,

102 
	mMIPI_DCS_WRITE_MEMORY_START
 = 0x2C,

103 
	mMIPI_DCS_WRITE_LUT
 = 0x2D,

104 
	mMIPI_DCS_READ_MEMORY_START
 = 0x2E,

105 
	mMIPI_DCS_SET_PARTIAL_AREA
 = 0x30,

106 
	mMIPI_DCS_SET_SCROLL_AREA
 = 0x33,

107 
	mMIPI_DCS_SET_TEAR_OFF
 = 0x34,

108 
	mMIPI_DCS_SET_TEAR_ON
 = 0x35,

109 
	mMIPI_DCS_SET_ADDRESS_MODE
 = 0x36,

110 
	mMIPI_DCS_SET_SCROLL_START
 = 0x37,

111 
	mMIPI_DCS_EXIT_IDLE_MODE
 = 0x38,

112 
	mMIPI_DCS_ENTER_IDLE_MODE
 = 0x39,

113 
	mMIPI_DCS_SET_PIXEL_FORMAT
 = 0x3A,

114 
	mMIPI_DCS_WRITE_MEMORY_CONTINUE
 = 0x3C,

115 
	mMIPI_DCS_READ_MEMORY_CONTINUE
 = 0x3E,

116 
	mMIPI_DCS_SET_TEAR_SCANLINE
 = 0x44,

117 
	mMIPI_DCS_GET_SCANLINE
 = 0x45,

118 
	mMIPI_DCS_SET_DISPLAY_BRIGHTNESS
 = 0x51,

119 
	mMIPI_DCS_GET_DISPLAY_BRIGHTNESS
 = 0x52,

120 
	mMIPI_DCS_WRITE_CONTROL_DISPLAY
 = 0x53,

121 
	mMIPI_DCS_GET_CONTROL_DISPLAY
 = 0x54,

122 
	mMIPI_DCS_WRITE_POWER_SAVE
 = 0x55,

123 
	mMIPI_DCS_GET_POWER_SAVE
 = 0x56,

124 
	mMIPI_DCS_SET_CABC_MIN_BRIGHTNESS
 = 0x5E,

125 
	mMIPI_DCS_GET_CABC_MIN_BRIGHTNESS
 = 0x5F,

126 
	mMIPI_DCS_READ_DDB_START
 = 0xA1,

127 
	mMIPI_DCS_READ_DDB_CONTINUE
 = 0xA8,

131 
	#MIPI_DCS_PIXEL_FMT_24BIT
 7

	)

132 
	#MIPI_DCS_PIXEL_FMT_18BIT
 6

	)

133 
	#MIPI_DCS_PIXEL_FMT_16BIT
 5

	)

134 
	#MIPI_DCS_PIXEL_FMT_12BIT
 3

	)

135 
	#MIPI_DCS_PIXEL_FMT_8BIT
 2

	)

136 
	#MIPI_DCS_PIXEL_FMT_3BIT
 1

	)

	@src/common/linuxkpi/gplv2/include/video/vga.h

1 #iâdeà
__lšux_video_vga_h__


2 
	#__lšux_video_vga_h__


	)

4 
	~<lšux/ty³s.h
>

5 
	~<lšux/io.h
>

6 
	~<asm/by‹Üd”.h
>

	@src/common/linuxkpi/gplv2/include/video/videomode.h

9 #iâdeà
__LINUX_VIDEOMODE_H


10 
	#__LINUX_VIDEOMODE_H


	)

12 
	~<lšux/ty³s.h
>

13 
	~<video/di¥Ïy_timšg.h
>

19 
	svideomode
 {

20 
	mpix–þock
;

22 
u32
 
	mhaùive
;

23 
u32
 
	mhäÚt_pÜch
;

24 
u32
 
	mhback_pÜch
;

25 
u32
 
	mhsync_Ën
;

27 
u32
 
	mvaùive
;

28 
u32
 
	mväÚt_pÜch
;

29 
u32
 
	mvback_pÜch
;

30 
u32
 
	mvsync_Ën
;

32 
di¥Ïy_æags
 
	mæags
;

43 
videomode_äom_timšg
(cÚ¡ 
di¥Ïy_timšg
 *
dt
,

44 
videomode
 *
vm
);

55 
videomode_äom_timšgs
(cÚ¡ 
di¥Ïy_timšgs
 *
di¥
,

56 
videomode
 *
vm
, 
šdex
);

	@src/common/linuxkpi/include/drm/amd_asic_type.h

23 #iâdeà
__AMD_ASIC_TYPE_H__


24 
	#__AMD_ASIC_TYPE_H__


	)

28 
	eamd_asic_ty³
 {

29 
	mCHIP_TAHITI
 = 0,

30 
	mCHIP_PITCAIRN
,

31 
	mCHIP_VERDE
,

32 
	mCHIP_OLAND
,

33 
	mCHIP_HAINAN
,

34 
	mCHIP_BONAIRE
,

35 
	mCHIP_KAVERI
,

36 
	mCHIP_KABINI
,

37 
	mCHIP_HAWAII
,

38 
	mCHIP_MULLINS
,

39 
	mCHIP_TOPAZ
,

40 
	mCHIP_TONGA
,

41 
	mCHIP_FIJI
,

42 
	mCHIP_CARRIZO
,

43 
	mCHIP_STONEY
,

44 
	mCHIP_POLARIS10
,

45 
	mCHIP_POLARIS11
,

46 
	mCHIP_POLARIS12
,

47 
	mCHIP_VEGA10
,

48 
	mCHIP_RAVEN
,

49 
	mCHIP_LAST
,

	@src/common/linuxkpi/include/drm/ati_pcigart.h

2 #iâdeà
DRM_ATI_PCIGART_H


3 
	#DRM_ATI_PCIGART_H


	)

5 
	~<drm/drm_Ëgacy.h
>

8 
	#DRM_ATI_GART_MAIN
 1

	)

9 
	#DRM_ATI_GART_FB
 2

	)

11 
	#DRM_ATI_GART_PCI
 1

	)

12 
	#DRM_ATI_GART_PCIE
 2

	)

13 
	#DRM_ATI_GART_IGP
 3

	)

15 
	sdrm_©i_pcig¬t_šfo
 {

16 
	mg¬t_bË_loÿtiÚ
;

17 
	mg¬t_»g_if
;

18 *
	maddr
;

19 
dma_addr_t
 
	mbus_addr
;

20 
dma_addr_t
 
	mbË_mask
;

21 
drm_dma_hªdË
 *
	mbË_hªdË
;

22 
drm_loÿl_m­
 
	mm­pšg
;

23 
	mbË_size
;

26 
drm_©i_pcig¬t_š™
(
drm_deviû
 *
dev
,

27 
drm_©i_pcig¬t_šfo
 * 
g¬t_šfo
);

28 
drm_©i_pcig¬t_þ—nup
(
drm_deviû
 *
dev
,

29 
drm_©i_pcig¬t_šfo
 * 
g¬t_šfo
);

	@src/common/linuxkpi/include/drm/bridge/analogix_dp.h

11 #iâdeà
_ANALOGIX_DP_H_


12 
	#_ANALOGIX_DP_H_


	)

14 
	~<drm/drm_ütc.h
>

16 
	eª®ogix_dp_devty³
 {

17 
	mEXYNOS_DP
,

18 
	mRK3288_DP
,

19 
	mRK3399_EDP
,

22 
šlše
 
boÞ
 
	$is_rockch
(
ª®ogix_dp_devty³
 
ty³
)

24  
ty³
 =ð
RK3288_DP
 ||y³ =ð
RK3399_EDP
;

25 
	}
}

27 
	sª®ogix_dp_¶©_d©a
 {

28 
ª®ogix_dp_devty³
 
	mdev_ty³
;

29 
drm_·Ãl
 *
	m·Ãl
;

30 
drm_’cod”
 *
	m’cod”
;

31 
drm_cÚÃùÜ
 *
	mcÚÃùÜ
;

33 (*
	mpow”_Ú
)(
	mª®ogix_dp_¶©_d©a
 *);

34 (*
	mpow”_off
)(
	mª®ogix_dp_¶©_d©a
 *);

35 (*
	m©ch
)(
	mª®ogix_dp_¶©_d©a
 *, 
	mdrm_bridge
 *,

36 
	mdrm_cÚÃùÜ
 *);

37 (*
	mg‘_modes
)(
	mª®ogix_dp_¶©_d©a
 *,

38 
	mdrm_cÚÃùÜ
 *);

41 
ª®ogix_dp_p¤_suµÜ‹d
(
deviû
 *
dev
);

42 
ª®ogix_dp_’abË_p¤
(
deviû
 *
dev
);

43 
ª®ogix_dp_di§bË_p¤
(
deviû
 *
dev
);

45 
ª®ogix_dp_»sume
(
deviû
 *
dev
);

46 
ª®ogix_dp_su¥’d
(
deviû
 *
dev
);

48 
ª®ogix_dp_bšd
(
deviû
 *
dev
, 
drm_deviû
 *
drm_dev
,

49 
ª®ogix_dp_¶©_d©a
 *
¶©_d©a
);

50 
ª®ogix_dp_unbšd
(
deviû
 *
dev
, deviû *
ma¡”
, *
d©a
);

52 
ª®ogix_dp_¡¬t_üc
(
drm_cÚÃùÜ
 *
cÚÃùÜ
);

53 
ª®ogix_dp_¡Ý_üc
(
drm_cÚÃùÜ
 *
cÚÃùÜ
);

	@src/common/linuxkpi/include/drm/bridge/dw_hdmi.h

10 #iâdeà
__DW_HDMI__


11 
	#__DW_HDMI__


	)

13 
	~<drm/drmP.h
>

15 
	gdw_hdmi
;

79 
	mDW_HDMI_RES_8
,

80 
	mDW_HDMI_RES_10
,

81 
	mDW_HDMI_RES_12
,

82 
	mDW_HDMI_RES_MAX
,

85 
	edw_hdmi_phy_ty³
 {

86 
	mDW_HDMI_PHY_DWC_HDMI_TX_PHY
 = 0x00,

87 
	mDW_HDMI_PHY_DWC_MHL_PHY_HEAC
 = 0xb2,

88 
	mDW_HDMI_PHY_DWC_MHL_PHY
 = 0xc2,

89 
	mDW_HDMI_PHY_DWC_HDMI_3D_TX_PHY_HEAC
 = 0xe2,

90 
	mDW_HDMI_PHY_DWC_HDMI_3D_TX_PHY
 = 0xf2,

91 
	mDW_HDMI_PHY_DWC_HDMI20_TX_PHY
 = 0xf3,

92 
	mDW_HDMI_PHY_VENDOR_PHY
 = 0xfe,

95 
	sdw_hdmi_m¶l_cÚfig
 {

96 
	mmpix–þock
;

98 
u16
 
	mýû
;

99 
u16
 
	mgmp
;

100 } 
	m»s
[
DW_HDMI_RES_MAX
];

103 
	sdw_hdmi_cu¼_ù¾
 {

104 
	mmpix–þock
;

105 
u16
 
	mcu¼
[
DW_HDMI_RES_MAX
];

108 
	sdw_hdmi_phy_cÚfig
 {

109 
	mmpix–þock
;

110 
u16
 
	msym_ùr
;

111 
u16
 
	m‹rm
;

112 
u16
 
	mvËv_ùr
;

115 
	sdw_hdmi_phy_Ýs
 {

116 (*
	mš™
)(
dw_hdmi
 *
	mhdmi
, *
	md©a
,

117 
drm_di¥Ïy_mode
 *
	mmode
);

118 (*
	mdi§bË
)(
dw_hdmi
 *
	mhdmi
, *
	md©a
);

119 
drm_cÚÃùÜ_¡©us
 (*
»ad_hpd
)(
dw_hdmi
 *
	mhdmi
, *
	md©a
);

120 (*
	mupd©e_hpd
)(
dw_hdmi
 *
	mhdmi
, *
	md©a
,

121 
boÞ
 
	mfÜû
, boÞ 
	mdi§bËd
, boÞ 
	mrx£n£
);

122 (*
	m£tup_hpd
)(
dw_hdmi
 *
	mhdmi
, *
	md©a
);

125 
	sdw_hdmi_¶©_d©a
 {

126 
»gm­
 *
	m»gm
;

127 
drm_mode_¡©us
 (*
mode_v®id
)(
drm_cÚÃùÜ
 *
	mcÚÃùÜ
,

128 cÚ¡ 
drm_di¥Ïy_mode
 *
	mmode
);

129 
	mšput_bus_fÜm©
;

130 
	mšput_bus_’codšg
;

133 cÚ¡ 
dw_hdmi_phy_Ýs
 *
	mphy_Ýs
;

134 cÚ¡ *
	mphy_Çme
;

135 *
	mphy_d©a
;

138 cÚ¡ 
dw_hdmi_m¶l_cÚfig
 *
	mm¶l_cfg
;

139 cÚ¡ 
dw_hdmi_cu¼_ù¾
 *
	mcur_ùr
;

140 cÚ¡ 
dw_hdmi_phy_cÚfig
 *
	mphy_cÚfig
;

141 (*
	mcÚfigu»_phy
)(
dw_hdmi
 *
	mhdmi
,

142 cÚ¡ 
dw_hdmi_¶©_d©a
 *
	mpd©a
,

143 
	mmpix–þock
);

146 
dw_hdmi_´obe
(
¶©fÜm_deviû
 *
pdev
,

147 cÚ¡ 
dw_hdmi_¶©_d©a
 *
¶©_d©a
);

148 
dw_hdmi_»move
(
¶©fÜm_deviû
 *
pdev
);

149 
dw_hdmi_unbšd
(
deviû
 *
dev
);

150 
dw_hdmi_bšd
(
¶©fÜm_deviû
 *
pdev
, 
drm_’cod”
 *
’cod”
,

151 cÚ¡ 
dw_hdmi_¶©_d©a
 *
¶©_d©a
);

153 
dw_hdmi_£tup_rx_£n£
(
deviû
 *
dev
, 
boÞ
 
hpd
, boÞ 
rx_£n£
);

155 
dw_hdmi_£t_§m¶e_¿‹
(
dw_hdmi
 *
hdmi
, 
¿‹
);

156 
dw_hdmi_audio_’abË
(
dw_hdmi
 *
hdmi
);

157 
dw_hdmi_audio_di§bË
(
dw_hdmi
 *
hdmi
);

160 
dw_hdmi_phy_i2c_wr™e
(
dw_hdmi
 *
hdmi
, 
d©a
,

161 
addr
);

	@src/common/linuxkpi/include/drm/bridge/dw_mipi_dsi.h

10 #iâdeà
__DW_MIPI_DSI__


11 
	#__DW_MIPI_DSI__


	)

13 
	sdw_mi_dsi_phy_Ýs
 {

14 (*
	mš™
)(*
	m´iv_d©a
);

15 (*
	mg‘_ÏÃ_mbps
)(*
	m´iv_d©a
, 
drm_di¥Ïy_mode
 *
	mmode
,

16 
	mmode_æags
, 
u32
 
	mÏÃs
, u32 
	mfÜm©
,

17 *
	mÏÃ_mbps
);

20 
	sdw_mi_dsi_¶©_d©a
 {

21 
__iomem
 *
	mba£
;

22 
	mmax_d©a_ÏÃs
;

24 
drm_mode_¡©us
 (*
mode_v®id
)(*
	m´iv_d©a
,

25 cÚ¡ 
drm_di¥Ïy_mode
 *
	mmode
);

27 cÚ¡ 
dw_mi_dsi_phy_Ýs
 *
	mphy_Ýs
;

29 *
	m´iv_d©a
;

32 
dw_mi_dsi_´obe
(
¶©fÜm_deviû
 *
pdev
,

33 cÚ¡ 
dw_mi_dsi_¶©_d©a
 *
¶©_d©a
);

34 
dw_mi_dsi_»move
(
¶©fÜm_deviû
 *
pdev
);

35 
dw_mi_dsi_bšd
(
¶©fÜm_deviû
 *
pdev
, 
drm_’cod”
 *
’cod”
,

36 cÚ¡ 
dw_mi_dsi_¶©_d©a
 *
¶©_d©a
);

37 
dw_mi_dsi_unbšd
(
deviû
 *
dev
);

	@src/common/linuxkpi/include/drm/bridge/mhl.h

15 #iâdeà
__MHL_H__


16 
	#__MHL_H__


	)

18 
	~<lšux/ty³s.h
>

22 
	mMHL_DCAP_DEV_STATE
,

23 
	mMHL_DCAP_MHL_VERSION
,

24 
	mMHL_DCAP_CAT
,

25 
	mMHL_DCAP_ADOPTER_ID_H
,

26 
	mMHL_DCAP_ADOPTER_ID_L
,

27 
	mMHL_DCAP_VID_LINK_MODE
,

28 
	mMHL_DCAP_AUD_LINK_MODE
,

29 
	mMHL_DCAP_VIDEO_TYPE
,

30 
	mMHL_DCAP_LOG_DEV_MAP
,

31 
	mMHL_DCAP_BANDWIDTH
,

32 
	mMHL_DCAP_FEATURE_FLAG
,

33 
	mMHL_DCAP_DEVICE_ID_H
,

34 
	mMHL_DCAP_DEVICE_ID_L
,

35 
	mMHL_DCAP_SCRATCHPAD_SIZE
,

36 
	mMHL_DCAP_INT_STAT_SIZE
,

37 
	mMHL_DCAP_RESERVED
,

38 
	mMHL_DCAP_SIZE


41 
	#MHL_DCAP_CAT_SINK
 0x01

	)

42 
	#MHL_DCAP_CAT_SOURCE
 0x02

	)

43 
	#MHL_DCAP_CAT_POWER
 0x10

	)

44 
	#MHL_DCAP_CAT_PLIM
(
x
è((xè<< 5)

	)

46 
	#MHL_DCAP_VID_LINK_RGB444
 0x01

	)

47 
	#MHL_DCAP_VID_LINK_YCBCR444
 0x02

	)

48 
	#MHL_DCAP_VID_LINK_YCBCR422
 0x04

	)

49 
	#MHL_DCAP_VID_LINK_PPIXEL
 0x08

	)

50 
	#MHL_DCAP_VID_LINK_ISLANDS
 0x10

	)

51 
	#MHL_DCAP_VID_LINK_VGA
 0x20

	)

52 
	#MHL_DCAP_VID_LINK_16BPP
 0x40

	)

54 
	#MHL_DCAP_AUD_LINK_2CH
 0x01

	)

55 
	#MHL_DCAP_AUD_LINK_8CH
 0x02

	)

57 
	#MHL_DCAP_VT_GRAPHICS
 0x00

	)

58 
	#MHL_DCAP_VT_PHOTO
 0x02

	)

59 
	#MHL_DCAP_VT_CINEMA
 0x04

	)

60 
	#MHL_DCAP_VT_GAMES
 0x08

	)

61 
	#MHL_DCAP_SUPP_VT
 0x80

	)

63 
	#MHL_DCAP_LD_DISPLAY
 0x01

	)

64 
	#MHL_DCAP_LD_VIDEO
 0x02

	)

65 
	#MHL_DCAP_LD_AUDIO
 0x04

	)

66 
	#MHL_DCAP_LD_MEDIA
 0x08

	)

67 
	#MHL_DCAP_LD_TUNER
 0x10

	)

68 
	#MHL_DCAP_LD_RECORD
 0x20

	)

69 
	#MHL_DCAP_LD_SPEAKER
 0x40

	)

70 
	#MHL_DCAP_LD_GUI
 0x80

	)

71 
	#MHL_DCAP_LD_ALL
 0xFF

	)

73 
	#MHL_DCAP_FEATURE_RCP_SUPPORT
 0x01

	)

74 
	#MHL_DCAP_FEATURE_RAP_SUPPORT
 0x02

	)

75 
	#MHL_DCAP_FEATURE_SP_SUPPORT
 0x04

	)

76 
	#MHL_DCAP_FEATURE_UCP_SEND_SUPPOR
 0x08

	)

77 
	#MHL_DCAP_FEATURE_UCP_RECV_SUPPORT
 0x10

	)

78 
	#MHL_DCAP_FEATURE_RBP_SUPPORT
 0x40

	)

82 
	mMHL_XDC_ECBUS_SPEEDS
,

83 
	mMHL_XDC_TMDS_SPEEDS
,

84 
	mMHL_XDC_ECBUS_ROLES
,

85 
	mMHL_XDC_LOG_DEV_MAPX
,

86 
	mMHL_XDC_SIZE


89 
	#MHL_XDC_ECBUS_S_075
 0x01

	)

90 
	#MHL_XDC_ECBUS_S_8BIT
 0x02

	)

91 
	#MHL_XDC_ECBUS_S_12BIT
 0x04

	)

92 
	#MHL_XDC_ECBUS_D_150
 0x10

	)

93 
	#MHL_XDC_ECBUS_D_8BIT
 0x20

	)

95 
	#MHL_XDC_TMDS_000
 0x00

	)

96 
	#MHL_XDC_TMDS_150
 0x01

	)

97 
	#MHL_XDC_TMDS_300
 0x02

	)

98 
	#MHL_XDC_TMDS_600
 0x04

	)

101 
	#MHL_XDC_DEV_HOST
 0x01

	)

102 
	#MHL_XDC_DEV_DEVICE
 0x02

	)

103 
	#MHL_XDC_DEV_CHARGER
 0x04

	)

104 
	#MHL_XDC_HID_HOST
 0x08

	)

105 
	#MHL_XDC_HID_DEVICE
 0x10

	)

108 
	#MHL_XDC_LD_PHONE
 0x01

	)

112 
	mMHL_DST_CONNECTED_RDY
,

113 
	mMHL_DST_LINK_MODE
,

114 
	mMHL_DST_VERSION
,

115 
	mMHL_DST_SIZE


119 
	#MHL_DST_OFFSET
 0x30

	)

120 
	#MHL_DST_REG
(
Çme
è(
MHL_DST_OFFSET
 + 
MHL_DST_
##Çme)

	)

122 
	#MHL_DST_CONN_DCAP_RDY
 0x01

	)

123 
	#MHL_DST_CONN_XDEVCAPP_SUPP
 0x02

	)

124 
	#MHL_DST_CONN_POW_STAT
 0x04

	)

125 
	#MHL_DST_CONN_PLIM_STAT_MASK
 0x38

	)

127 
	#MHL_DST_LM_CLK_MODE_MASK
 0x07

	)

128 
	#MHL_DST_LM_CLK_MODE_PACKED_PIXEL
 0x02

	)

129 
	#MHL_DST_LM_CLK_MODE_NORMAL
 0x03

	)

130 
	#MHL_DST_LM_PATH_EN_MASK
 0x08

	)

131 
	#MHL_DST_LM_PATH_ENABLED
 0x08

	)

132 
	#MHL_DST_LM_PATH_DISABLED
 0x00

	)

133 
	#MHL_DST_LM_MUTED_MASK
 0x10

	)

137 
	mMHL_XDS_CURR_ECBUS_MODE
,

138 
	mMHL_XDS_AVLINK_MODE_STATUS
,

139 
	mMHL_XDS_AVLINK_MODE_CONTROL
,

140 
	mMHL_XDS_MULTI_SINK_STATUS
,

141 
	mMHL_XDS_SIZE


145 
	#MHL_XDS_OFFSET
 0x90

	)

146 
	#MHL_XDS_REG
(
Çme
è(
MHL_XDS_OFFSET
 + 
MHL_XDS_
##Çme)

	)

149 
	#MHL_XDS_SLOT_MODE_8BIT
 0x00

	)

150 
	#MHL_XDS_SLOT_MODE_6BIT
 0x01

	)

151 
	#MHL_XDS_ECBUS_S
 0x04

	)

152 
	#MHL_XDS_ECBUS_D
 0x08

	)

154 
	#MHL_XDS_LINK_CLOCK_75MHZ
 0x00

	)

155 
	#MHL_XDS_LINK_CLOCK_150MHZ
 0x10

	)

156 
	#MHL_XDS_LINK_CLOCK_300MHZ
 0x20

	)

157 
	#MHL_XDS_LINK_CLOCK_600MHZ
 0x30

	)

159 
	#MHL_XDS_LINK_STATUS_NO_SIGNAL
 0x00

	)

160 
	#MHL_XDS_LINK_STATUS_CRU_LOCKED
 0x01

	)

161 
	#MHL_XDS_LINK_STATUS_TMDS_NORMAL
 0x02

	)

162 
	#MHL_XDS_LINK_STATUS_TMDS_RESERVED
 0x03

	)

164 
	#MHL_XDS_LINK_RATE_1_5_GBPS
 0x00

	)

165 
	#MHL_XDS_LINK_RATE_3_0_GBPS
 0x01

	)

166 
	#MHL_XDS_LINK_RATE_6_0_GBPS
 0x02

	)

167 
	#MHL_XDS_ATT_CAPABLE
 0x08

	)

169 
	#MHL_XDS_SINK_STATUS_1_HPD_LOW
 0x00

	)

170 
	#MHL_XDS_SINK_STATUS_1_HPD_HIGH
 0x01

	)

171 
	#MHL_XDS_SINK_STATUS_2_HPD_LOW
 0x00

	)

172 
	#MHL_XDS_SINK_STATUS_2_HPD_HIGH
 0x04

	)

173 
	#MHL_XDS_SINK_STATUS_3_HPD_LOW
 0x00

	)

174 
	#MHL_XDS_SINK_STATUS_3_HPD_HIGH
 0x10

	)

175 
	#MHL_XDS_SINK_STATUS_4_HPD_LOW
 0x00

	)

176 
	#MHL_XDS_SINK_STATUS_4_HPD_HIGH
 0x40

	)

180 
	mMHL_INT_RCHANGE
,

181 
	mMHL_INT_DCHANGE
,

182 
	mMHL_INT_SIZE


186 
	#MHL_INT_OFFSET
 0x20

	)

187 
	#MHL_INT_REG
(
Çme
è(
MHL_INT_OFFSET
 + 
MHL_INT_
##Çme)

	)

189 
	#MHL_INT_RC_DCAP_CHG
 0x01

	)

190 
	#MHL_INT_RC_DSCR_CHG
 0x02

	)

191 
	#MHL_INT_RC_REQ_WRT
 0x04

	)

192 
	#MHL_INT_RC_GRT_WRT
 0x08

	)

193 
	#MHL_INT_RC_3D_REQ
 0x10

	)

194 
	#MHL_INT_RC_FEAT_REQ
 0x20

	)

195 
	#MHL_INT_RC_FEAT_COMPLETE
 0x40

	)

197 
	#MHL_INT_DC_EDID_CHG
 0x02

	)

200 
	mMHL_ACK
 = 0x33,

201 
	mMHL_NACK
 = 0x34,

202 
	mMHL_ABORT
 = 0x35,

203 
	mMHL_WRITE_STAT
 = 0xe0,

204 
	mMHL_SET_INT
 = 0x60,

205 
	mMHL_READ_DEVCAP_REG
 = 0x61,

206 
	mMHL_GET_STATE
 = 0x62,

207 
	mMHL_GET_VENDOR_ID
 = 0x63,

208 
	mMHL_SET_HPD
 = 0x64,

209 
	mMHL_CLR_HPD
 = 0x65,

210 
	mMHL_SET_CAP_ID
 = 0x66,

211 
	mMHL_GET_CAP_ID
 = 0x67,

212 
	mMHL_MSC_MSG
 = 0x68,

213 
	mMHL_GET_SC1_ERRORCODE
 = 0x69,

214 
	mMHL_GET_DDC_ERRORCODE
 = 0x6A,

215 
	mMHL_GET_MSC_ERRORCODE
 = 0x6B,

216 
	mMHL_WRITE_BURST
 = 0x6C,

217 
	mMHL_GET_SC3_ERRORCODE
 = 0x6D,

218 
	mMHL_WRITE_XSTAT
 = 0x70,

219 
	mMHL_READ_XDEVCAP_REG
 = 0x71,

221 
	mMHL_READ_EDID_BLOCK
,

222 
	mMHL_SEND_3D_REQ_OR_FEAT_REQ
,

223 
	mMHL_READ_DEVCAP
,

224 
	mMHL_READ_XDEVCAP


229 
	mMHL_MSC_MSG_RCP
 = 0x10,

230 
	mMHL_MSC_MSG_RCPK
 = 0x11,

231 
	mMHL_MSC_MSG_RCPE
 = 0x12,

232 
	mMHL_MSC_MSG_RAP
 = 0x20,

233 
	mMHL_MSC_MSG_RAPK
 = 0x21,

234 
	mMHL_MSC_MSG_RBP
 = 0x22,

235 
	mMHL_MSC_MSG_RBPK
 = 0x23,

236 
	mMHL_MSC_MSG_RBPE
 = 0x24,

237 
	mMHL_MSC_MSG_UCP
 = 0x30,

238 
	mMHL_MSC_MSG_UCPK
 = 0x31,

239 
	mMHL_MSC_MSG_UCPE
 = 0x32,

240 
	mMHL_MSC_MSG_RUSB
 = 0x40,

241 
	mMHL_MSC_MSG_RUSBK
 = 0x41,

242 
	mMHL_MSC_MSG_RHID
 = 0x42,

243 
	mMHL_MSC_MSG_RHIDK
 = 0x43,

244 
	mMHL_MSC_MSG_ATT
 = 0x50,

245 
	mMHL_MSC_MSG_ATTK
 = 0x51,

246 
	mMHL_MSC_MSG_BIST_TRIGGER
 = 0x60,

247 
	mMHL_MSC_MSG_BIST_REQUEST_STAT
 = 0x61,

248 
	mMHL_MSC_MSG_BIST_READY
 = 0x62,

249 
	mMHL_MSC_MSG_BIST_STOP
 = 0x63,

253 
	#MHL_RAP_POLL
 0x00

	)

254 
	#MHL_RAP_CONTENT_ON
 0x10

	)

255 
	#MHL_RAP_CONTENT_OFF
 0x11

	)

256 
	#MHL_RAP_CBUS_MODE_DOWN
 0x20

	)

257 
	#MHL_RAP_CBUS_MODE_UP
 0x21

	)

260 
	#MHL_RAPK_NO_ERR
 0x00

	)

261 
	#MHL_RAPK_UNRECOGNIZED
 0x01

	)

262 
	#MHL_RAPK_UNSUPPORTED
 0x02

	)

263 
	#MHL_RAPK_BUSY
 0x03

	)

266 
	#MHL_RCP_KEY_RELEASED_MASK
 0x80

	)

267 
	#MHL_RCP_KEY_ID_MASK
 0x7F

	)

273 
	#MHL_RCPE_STATUS_NO_ERROR
 0x00

	)

275 
	#MHL_RCPE_STATUS_INEFFECTIVE_KEY_CODE
 0x01

	)

277 
	#MHL_RCPE_STATUS_BUSY
 0x02

	)

283 
	#MHL_RBPE_STATUS_NO_ERROR
 0x00

	)

285 
	#MHL_RBPE_STATUS_INEFFECTIVE_BUTTON_CODE
 0x01

	)

287 
	#MHL_RBPE_STATUS_BUSY
 0x02

	)

293 
	#MHL_UCPE_STATUS_NO_ERROR
 0x00

	)

295 
	#MHL_UCPE_STATUS_INEFFECTIVE_KEY_CODE
 0x01

	)

297 
	emhl_bur¡_id
 {

298 
	mMHL_BURST_ID_3D_VIC
 = 0x10,

299 
	mMHL_BURST_ID_3D_DTD
 = 0x11,

300 
	mMHL_BURST_ID_HEV_VIC
 = 0x20,

301 
	mMHL_BURST_ID_HEV_DTDA
 = 0x21,

302 
	mMHL_BURST_ID_HEV_DTDB
 = 0x22,

303 
	mMHL_BURST_ID_VC_ASSIGN
 = 0x38,

304 
	mMHL_BURST_ID_VC_CONFIRM
 = 0x39,

305 
	mMHL_BURST_ID_AUD_DELAY
 = 0x40,

306 
	mMHL_BURST_ID_ADT_BURSTID
 = 0x41,

307 
	mMHL_BURST_ID_BIST_SETUP
 = 0x51,

308 
	mMHL_BURST_ID_BIST_RETURN_STAT
 = 0x52,

309 
	mMHL_BURST_ID_EMSC_SUPPORT
 = 0x61,

310 
	mMHL_BURST_ID_HID_PAYLOAD
 = 0x62,

311 
	mMHL_BURST_ID_BLK_RCV_BUFFER_INFO
 = 0x63,

312 
	mMHL_BURST_ID_BITS_PER_PIXEL_FMT
 = 0x64,

315 
	smhl_bur¡_blk_rcv_bufãr_šfo
 {

316 
__be16
 
	mid
;

317 
__Ë16
 
	msize
;

318 } 
	g__·cked
;

320 
	smhl3_bur¡_h—d”
 {

321 
__be16
 
	mid
;

322 
u8
 
	mchecksum
;

323 
u8
 
	mtÙ®_’Œ›s
;

324 
u8
 
	m£qu’û_šdex
;

325 } 
	g__·cked
;

327 
	smhl_bur¡_b™s_³r_pix–_fmt
 {

328 
mhl3_bur¡_h—d”
 
	mhdr
;

329 
u8
 
	mnum_’Œ›s
;

331 
u8
 
	m¡»am_id
;

332 
u8
 
	mpix–_fÜm©
;

333 } 
__·cked
 
	mdesc
[0];

334 } 
	g__·cked
;

336 
	smhl_bur¡_emsc_suµÜt
 {

337 
mhl3_bur¡_h—d”
 
	mhdr
;

338 
u8
 
	mnum_’Œ›s
;

339 
__be16
 
	mbur¡_id
[0];

340 } 
	g__·cked
;

342 
	smhl_bur¡_audio_desü
 {

343 
mhl3_bur¡_h—d”
 
	mhdr
;

344 
u8
 
	mæags
;

345 
u8
 
	mshÜt_desc
[9];

346 } 
	g__·cked
;

352 
	#MHL3_IEEE_OUI
 0x7ÿ61d

	)

353 
	#MHL3_INFOFRAME_SIZE
 15

	)

355 
	emhl3_video_fÜm©
 {

356 
	mMHL3_VIDEO_FORMAT_NONE
,

357 
	mMHL3_VIDEO_FORMAT_3D
,

358 
	mMHL3_VIDEO_FORMAT_MULTI_VIEW
,

359 
	mMHL3_VIDEO_FORMAT_DUAL_3D


362 
	emhl3_3d_fÜm©_ty³
 {

363 
	mMHL3_3D_FORMAT_TYPE_FS
,

364 
	mMHL3_3D_FORMAT_TYPE_TB
,

365 
	mMHL3_3D_FORMAT_TYPE_LR
,

366 
	mMHL3_3D_FORMAT_TYPE_FS_TB
,

367 
	mMHL3_3D_FORMAT_TYPE_FS_LR
,

368 
	mMHL3_3D_FORMAT_TYPE_TB_LR


371 
	smhl3_šfoäame
 {

372 
	mv”siÚ
;

373 
mhl3_video_fÜm©
 
	mvideo_fÜm©
;

374 
mhl3_3d_fÜm©_ty³
 
	mfÜm©_ty³
;

375 
boÞ
 
	m£p_audio
;

376 
	mhev_fÜm©
;

377 
	mav_d–ay
;

	@src/common/linuxkpi/include/drm/drmP.h

32 #iâdeà
_DRM_P_H_


33 
	#_DRM_P_H_


	)

35 #ià
defšed
(
_KERNEL
è|| defšed(
__KERNEL__
)

36 
	~<sys/·¿m.h
>

37 
	~<sys/queue.h
>

38 
	~<sys/m®loc.h
>

39 
	~<sys/k”Ãl.h
>

40 
	~<sys/kŒ.h
>

41 
	~<sys/moduË.h
>

42 
	~<sys/sy¡m.h
>

43 
	~<sys/cÚf.h
>

44 
	~<sys/sgli¡.h
>

45 
	~<sys/¡©.h
>

46 
	~<sys/´iv.h
>

47 
	~<sys/´oc.h
>

48 
	~<sys/lock.h
>

49 
	~<sys/fúŽ.h
>

50 
	~<sys/uio.h
>

51 
	~<sys/fžio.h
>

52 
	~<sys/rwlock.h
>

53 
	~<sys/£lšfo.h
>

54 
	~<sys/sysùl.h
>

55 
	~<sys/bus.h
>

56 
	~<sys/queue.h
>

57 
	~<sys/sigÇlv¬.h
>

58 
	~<sys/pciio.h
>

59 
	~<sys/pÞl.h
>

60 
	~<sys/sbuf.h
>

61 
	~<sys/skqueue.h
>

62 
	~<sys/»sourûv¬.h
>

63 
	~<sys/vmm‘”.h
>

64 
	~<vm/vm.h
>

65 
	~<vm/pm­.h
>

66 
	~<vm/vm_ex‹º.h
>

67 
	~<vm/vm_k”n.h
>

68 
	~<vm/vm_m­.h
>

69 
	~<vm/vm_objeù.h
>

70 
	~<vm/vm_·ge.h
>

71 
	~<vm/vm_·geout.h
>

72 
	~<vm/vm_·g”.h
>

73 
	~<vm/vm_·¿m.h
>

74 
	~<vm/vm_phys.h
>

75 
	~<machše/bus.h
>

76 
	~<machše/»sourû.h
>

77 #ià
defšed
(
__i386__
è|| defšed(
__amd64__
)

78 
	~<machše/¥ecŸÌeg.h
>

80 
	~<machše/sy§rch.h
>

81 
	~<sys/’dŸn.h
>

82 
	~<sys/mmª.h
>

83 
	~<sys/rmª.h
>

84 
	~<sys/mem¿nge.h
>

85 
	~<dev/agp/agpv¬.h
>

86 
	~<sys/agpio.h
>

87 
	~<sys/mu‹x.h
>

88 
	~<dev/pci/pciv¬.h
>

89 
	~<dev/pci/pcœeg.h
>

90 
	~<sys/£lšfo.h
>

91 
	~<sys/bus.h
>

93 
	~<lšux/io.h
>

94 
	~<lšux/¶©fÜm_deviû.h
>

95 
	~<lšux/idr.h
>

96 
	~<lšux/¡ršg.h
>

97 
	~<lšux/com·t.h
>

98 
	~<lšux/compž”.h
>

99 
	~<lšux/fs.h
>

100 
	~<lšux/gå.h
>

101 
	~<lšux/pm.h
>

102 
	~<lšux/ktime.h
>

103 
	~<lšux/pÞl.h
>

104 
	~<lšux/¿‹lim™.h
>

105 
	~<lšux/sched.h
>

106 
	~<lšux/¦ab.h
>

107 
	~<lšux/ty³s.h
>

108 
	~<lšux/vm®loc.h
>

109 
	~<lšux/mm.h
>

110 
	~<lšux/ioùl.h
>

111 
	~<lšux/wÜkqueue.h
>

112 
	~<lšux/m©h64.h
>

113 
	~<lšux/dma-ãnû.h
>

114 
	~<lšux/moduË.h
>

115 
	~<lšux/»fcouÁ.h
>

117 
	~<drm/drm_hashb.h
>

118 #ifdeà
__lšux__


119 
	~<asm/mmª.h
>

120 
	~<asm/pg®loc.h
>

122 
	~<lšux/uacûss.h
>

124 
	~<u­i/drm/drm.h
>

128 
	~<lšux/deviû.h
>

129 
	~<lšux/moduË.h
>

130 
	~<lšux/¥šlock.h
>

131 
	~<lšux/mu‹x.h
>

132 
	~<lšux/i2c.h
>

133 
	~<lšux/kth»ad.h
>

134 
	~<lšux/š‹¼u±.h
>

135 
	~<lšux/·gem­.h
>

138 
	~<asm/mŒr.h
>

139 
	~<drm/drm_os_ä“bsd.h
>

140 
	~<drm/drm_agpsuµÜt.h
>

141 
	~<drm/drm_ütc.h
>

142 
	~<drm/drm_fourcc.h
>

143 
	~<drm/drm_glob®.h
>

144 
	~<drm/drm_hashb.h
>

145 
	~<drm/drm_mm.h
>

146 
	~<drm/drm_ioùl.h
>

147 
	~<u­i/drm/drm_§»a.h
>

148 
	~<drm/drm_vma_mªag”.h
>

149 
	~<lšux/©omic.h
>

151 
	#smp_wmb
(è
	`wmb
()

	)

152 
	~<drm/drm_drv.h
>

153 
	~<drm/drm_´ime.h
>

154 
	~<drm/drm_´št.h
>

155 
	~<drm/drm_pci.h
>

156 
	~<drm/drm_fže.h
>

157 
	~<drm/drm_debugfs.h
>

158 
	~<drm/drm_ioùl.h
>

159 
	~<drm/drm_sysfs.h
>

160 
	~<drm/drm_vbÏnk.h
>

161 
	~<drm/drm_œq.h
>

162 
	~<drm/drm_deviû.h
>

164 
	~"Ýt_com·t.h
"

165 
	~"Ýt_drm.h
"

166 
	~"Ýt_syscÚs.h
"

168 
	#__OS_HAS_AGP
 (
	`defšed
(
CONFIG_AGP
è|| (defšed(
CONFIG_AGP_MODULE
è&& defšed(
MODULE
)))

	)

169 
	#__OS_HAS_MTRR
 (
	`defšed
(
CONFIG_MTRR
))

	)

171 #undeà
DRM_LINUX


172 
	#DRM_LINUX
 0

	)

174 
drm_skwc
;

176 
	gdeviû_node
;

177 
	gvideomode
;

178 
	g»£rv©iÚ_objeù
;

179 
	g£q_fže
;

180 
	gdma_buf_©chm’t
;

182 
	gpci_dev
;

183 
	gpci_cÚŒÞËr
;

193 
	#DRM_IF_VERSION
(
maj
, 
mš
è(maj << 16 | mš)

	)

203 
šlše
 
boÞ
 
	$drm_drv_u£s_©omic_mode£t
(
drm_deviû
 *
dev
)

205  
dev
->
mode_cÚfig
.
funcs
->
©omic_comm™
 !ð
NULL
;

206 
	}
}

208 
	#DRM_SWITCH_POWER_ON
 0

	)

209 
	#DRM_SWITCH_POWER_OFF
 1

	)

210 
	#DRM_SWITCH_POWER_CHANGING
 2

	)

211 
	#DRM_SWITCH_POWER_DYNAMIC_OFF
 3

	)

213 
__šlše__
 
	$drm_cÜe_check_ã©u»
(
drm_deviû
 *
dev
,

214 
ã©u»
)

216  ((
dev
->
driv”
->
driv”_ã©u»s
 & 
ã©u»
) ? 1 : 0);

217 
	}
}

233 
__šlše__
 
boÞ
 
	$drm_ÿn_¦“p
()

235 ià(
	`š_©omic
(è|| 
	`š_dbg_ma¡”
(è|| 
	`œqs_di§bËd
(è|| 
cÞd
)

236  
çl£
;

237  
Œue
;

238 
	}
}

241 
drm_sysùl_š™
(
drm_deviû
 *
dev
);

242 
drm_sysùl_þ—nup
(
drm_deviû
 *
dev
);

245 
	#fÜ_—ch_if
(
cÚd™iÚ
èià(!(cÚd™iÚ)è{} 

	)

247 #ifdeà
ENABLE_DRM_ERR_RET


248 
	#DRM_ERR_RET
(
V
) do { \

249 
	`´štf
("%s:%d„‘ %d\n", 
__FUNCTION__
, 
__LINE__
, 
V
); \

250  
V
; \

251 } 0)

	)

253 
	#DRM_ERR_RET
(
V
è 
	)
V

	@src/common/linuxkpi/include/drm/drm_agpsupport.h

2 #iâdeà
_DRM_AGPSUPPORT_H_


3 
	#_DRM_AGPSUPPORT_H_


	)

5 
	~<lšux/agp_back’d.h
>

6 
	~<lšux/k”Ãl.h
>

7 
	~<lšux/li¡.h
>

8 
	~<lšux/mm.h
>

9 
	~<lšux/mu‹x.h
>

10 
	~<lšux/ty³s.h
>

11 
	~<u­i/drm/drm.h
>

13 
	gdrm_deviû
;

14 
	gdrm_fže
;

16 
	sdrm_agp_h—d
 {

17 
agp_k”n_šfo
 
	magp_šfo
;

18 
li¡_h—d
 
	mmemÜy
;

19 
	mmode
;

20 #ifdeà
__lšux__


21 
agp_bridge_d©a
 *
	mbridge
;

23 
deviû_t
 
	mbridge
;

25 
	m’abËd
;

26 
	macquœed
;

27 
	mba£
;

28 
	magp_mŒr
;

29 
	mÿÁ_u£_­”tu»
;

30 
	m·ge_mask
;

33 #ià
IS_ENABLED
(
CONFIG_AGP
)

34 
drm_ä“_agp
(
DRM_AGP_MEM
 * 
hªdË
, 
·ges
);

35 
drm_bšd_agp
(
DRM_AGP_MEM
 * 
hªdË
, 
¡¬t
);

36 
drm_unbšd_agp
(
DRM_AGP_MEM
 * 
hªdË
);

37 
DRM_AGP_MEM
 *
drm_agp_bšd_·ges
(
drm_deviû
 *
dev
,

38 
·ge
 **
·ges
,

39 
num_·ges
,

40 
ušt32_t
 
g‰_off£t
,

41 
ušt32_t
 
ty³
);

43 
drm_agp_h—d
 *
drm_agp_š™
(
drm_deviû
 *
dev
);

44 
drm_Ëgacy_agp_þ—r
(
drm_deviû
 *
dev
);

45 
drm_agp_acquœe
(
drm_deviû
 *
dev
);

46 
drm_agp_acquœe_ioùl
(
drm_deviû
 *
dev
, *
d©a
,

47 
drm_fže
 *
fže_´iv
);

48 
drm_agp_»Ëa£
(
drm_deviû
 *
dev
);

49 
drm_agp_»Ëa£_ioùl
(
drm_deviû
 *
dev
, *
d©a
,

50 
drm_fže
 *
fže_´iv
);

51 
drm_agp_’abË
(
drm_deviû
 *
dev
, 
drm_agp_mode
 
mode
);

52 
drm_agp_’abË_ioùl
(
drm_deviû
 *
dev
, *
d©a
,

53 
drm_fže
 *
fže_´iv
);

54 
drm_agp_šfo
(
drm_deviû
 *
dev
, drm_agp_šfØ*
šfo
);

55 
drm_agp_šfo_ioùl
(
drm_deviû
 *
dev
, *
d©a
,

56 
drm_fže
 *
fže_´iv
);

57 
drm_agp_®loc
(
drm_deviû
 *
dev
, 
drm_agp_bufãr
 *
»que¡
);

58 
drm_agp_®loc_ioùl
(
drm_deviû
 *
dev
, *
d©a
,

59 
drm_fže
 *
fže_´iv
);

60 
drm_agp_ä“
(
drm_deviû
 *
dev
, 
drm_agp_bufãr
 *
»que¡
);

61 
drm_agp_ä“_ioùl
(
drm_deviû
 *
dev
, *
d©a
,

62 
drm_fže
 *
fže_´iv
);

63 
drm_agp_unbšd
(
drm_deviû
 *
dev
, 
drm_agp_bšdšg
 *
»que¡
);

64 
drm_agp_unbšd_ioùl
(
drm_deviû
 *
dev
, *
d©a
,

65 
drm_fže
 *
fže_´iv
);

66 
drm_agp_bšd
(
drm_deviû
 *
dev
, 
drm_agp_bšdšg
 *
»que¡
);

67 
drm_agp_bšd_ioùl
(
drm_deviû
 *
dev
, *
d©a
,

68 
drm_fže
 *
fže_´iv
);

72 
šlše
 
	$drm_ä“_agp
(
DRM_AGP_MEM
 * 
hªdË
, 
·ges
)

74 
	}
}

76 
šlše
 
	$drm_bšd_agp
(
DRM_AGP_MEM
 * 
hªdË
, 
¡¬t
)

78  -
ENODEV
;

79 
	}
}

81 
šlše
 
	$drm_unbšd_agp
(
DRM_AGP_MEM
 * 
hªdË
)

83  -
ENODEV
;

84 
	}
}

86 
šlše
 
DRM_AGP_MEM
 *
	$drm_agp_bšd_·ges
(
drm_deviû
 *
dev
,

87 
·ge
 **
·ges
,

88 
num_·ges
,

89 
ušt32_t
 
g‰_off£t
,

90 
ušt32_t
 
ty³
)

92  
NULL
;

93 
	}
}

95 
šlše
 
drm_agp_h—d
 *
	$drm_agp_š™
(
drm_deviû
 *
dev
)

97  
NULL
;

98 
	}
}

100 
šlše
 
	$drm_Ëgacy_agp_þ—r
(
drm_deviû
 *
dev
)

102 
	}
}

104 
šlše
 
	$drm_agp_acquœe
(
drm_deviû
 *
dev
)

106  -
ENODEV
;

107 
	}
}

109 
šlše
 
	$drm_agp_»Ëa£
(
drm_deviû
 *
dev
)

111  -
ENODEV
;

112 
	}
}

114 
šlše
 
	$drm_agp_’abË
(
drm_deviû
 *
dev
,

115 
drm_agp_mode
 
mode
)

117  -
ENODEV
;

118 
	}
}

120 
šlše
 
	$drm_agp_šfo
(
drm_deviû
 *
dev
,

121 
drm_agp_šfo
 *
šfo
)

123  -
ENODEV
;

124 
	}
}

126 
šlše
 
	$drm_agp_®loc
(
drm_deviû
 *
dev
,

127 
drm_agp_bufãr
 *
»que¡
)

129  -
ENODEV
;

130 
	}
}

132 
šlše
 
	$drm_agp_ä“
(
drm_deviû
 *
dev
,

133 
drm_agp_bufãr
 *
»que¡
)

135  -
ENODEV
;

136 
	}
}

138 
šlše
 
	$drm_agp_unbšd
(
drm_deviû
 *
dev
,

139 
drm_agp_bšdšg
 *
»que¡
)

141  -
ENODEV
;

142 
	}
}

144 
šlše
 
	$drm_agp_bšd
(
drm_deviû
 *
dev
,

145 
drm_agp_bšdšg
 *
»que¡
)

147  -
ENODEV
;

148 
	}
}

	@src/common/linuxkpi/include/drm/drm_atomic.h

28 #iâdeà
DRM_ATOMIC_H_


29 
	#DRM_ATOMIC_H_


	)

31 
	~<drm/drm_ütc.h
>

69 
	sdrm_ütc_comm™
 {

75 
drm_ütc
 *
	mütc
;

84 
k»f
 
	m»f
;

95 
com¶‘iÚ
 
	mæ_dÚe
;

110 
com¶‘iÚ
 
	mhw_dÚe
;

121 
com¶‘iÚ
 
	mþ—nup_dÚe
;

129 
li¡_h—d
 
	mcomm™_’Œy
;

136 
drm_³ndšg_vbÏnk_ev’t
 *
	mev’t
;

145 
boÞ
 
	mabÜt_com¶‘iÚ
;

148 
	s__drm_¶ªes_¡©e
 {

149 
drm_¶ªe
 *
	m±r
;

150 
drm_¶ªe_¡©e
 *
	m¡©e
, *
	mÞd_¡©e
, *
	mÃw_¡©e
;

153 
	s__drm_ütcs_¡©e
 {

154 
drm_ütc
 *
	m±r
;

155 
drm_ütc_¡©e
 *
	m¡©e
, *
	mÞd_¡©e
, *
	mÃw_¡©e
;

156 
s32
 
__u£r
 *
	mout_ãnû_±r
;

157 
	mÏ¡_vbÏnk_couÁ
;

160 
	s__drm_cÚÂeùÜs_¡©e
 {

161 
drm_cÚÃùÜ
 *
	m±r
;

162 
drm_cÚÃùÜ_¡©e
 *
	m¡©e
, *
	mÞd_¡©e
, *
	mÃw_¡©e
;

165 
	gdrm_´iv©e_obj
;

166 
	gdrm_´iv©e_¡©e
;

178 
	sdrm_´iv©e_¡©e_funcs
 {

190 
	mdrm_´iv©e_¡©e
 *(*
	m©omic_du¶iÿ‹_¡©e
)(
drm_´iv©e_obj
 *
	mobj
);

197 (*
	m©omic_de¡roy_¡©e
)(
drm_´iv©e_obj
 *
	mobj
,

198 
drm_´iv©e_¡©e
 *
	m¡©e
);

212 
	sdrm_´iv©e_obj
 {

216 
drm_´iv©e_¡©e
 *
	m¡©e
;

224 cÚ¡ 
drm_´iv©e_¡©e_funcs
 *
	mfuncs
;

235 
	sdrm_´iv©e_¡©e
 {

236 
drm_©omic_¡©e
 *
	m¡©e
;

239 
	s__drm_´iv©e_objs_¡©e
 {

240 
drm_´iv©e_obj
 *
	m±r
;

241 
drm_´iv©e_¡©e
 *
	m¡©e
, *
	mÞd_¡©e
, *
	mÃw_¡©e
;

263 
	sdrm_©omic_¡©e
 {

264 
k»f
 
	m»f
;

266 
drm_deviû
 *
	mdev
;

267 
boÞ
 
	m®low_mode£t
 : 1;

268 
boÞ
 
	mËgacy_cursÜ_upd©e
 : 1;

269 
boÞ
 
	masync_upd©e
 : 1;

270 
__drm_¶ªes_¡©e
 *
	m¶ªes
;

271 
__drm_ütcs_¡©e
 *
	mütcs
;

272 
	mnum_cÚÃùÜ
;

273 
__drm_cÚÂeùÜs_¡©e
 *
	mcÚÃùÜs
;

274 
	mnum_´iv©e_objs
;

275 
__drm_´iv©e_objs_¡©e
 *
	m´iv©e_objs
;

277 
drm_mode£t_acquœe_ùx
 *
	macquœe_ùx
;

289 
drm_ütc_comm™
 *
	mçke_comm™
;

297 
wÜk_¡ruù
 
	mcomm™_wÜk
;

300 
__drm_ütc_comm™_ä“
(
k»f
 *kref);

311 
šlše
 
drm_ütc_comm™
 *
	$drm_ütc_comm™_g‘
(
drm_ütc_comm™
 *
comm™
)

313 
	`k»f_g‘
(&
comm™
->
»f
);

314  
comm™
;

315 
	}
}

324 
šlše
 
	$drm_ütc_comm™_put
(
drm_ütc_comm™
 *
comm™
)

326 
	`k»f_put
(&
comm™
->
»f
, 
__drm_ütc_comm™_ä“
);

327 
	}
}

329 
drm_©omic_¡©e
 * 
__mu¡_check


330 
drm_©omic_¡©e_®loc
(
drm_deviû
 *
dev
);

331 
drm_©omic_¡©e_þ—r
(
drm_©omic_¡©e
 *
¡©e
);

339 
šlše
 
drm_©omic_¡©e
 *

340 
	$drm_©omic_¡©e_g‘
(
drm_©omic_¡©e
 *
¡©e
)

342 
	`k»f_g‘
(&
¡©e
->
»f
);

343  
¡©e
;

344 
	}
}

346 
__drm_©omic_¡©e_ä“
(
k»f
 *
»f
);

355 
šlše
 
	$drm_©omic_¡©e_put
(
drm_©omic_¡©e
 *
¡©e
)

357 
	`k»f_put
(&
¡©e
->
»f
, 
__drm_©omic_¡©e_ä“
);

358 
	}
}

360 
__mu¡_check


361 
drm_©omic_¡©e_š™
(
drm_deviû
 *
dev
, 
drm_©omic_¡©e
 *
¡©e
);

362 
drm_©omic_¡©e_deçuÉ_þ—r
(
drm_©omic_¡©e
 *
¡©e
);

363 
drm_©omic_¡©e_deçuÉ_»Ëa£
(
drm_©omic_¡©e
 *
¡©e
);

365 
drm_ütc_¡©e
 * 
__mu¡_check


366 
drm_©omic_g‘_ütc_¡©e
(
drm_©omic_¡©e
 *
¡©e
,

367 
drm_ütc
 *
ütc
);

368 
drm_©omic_ütc_£t_´Ý”ty
(
drm_ütc
 *
ütc
,

369 
drm_ütc_¡©e
 *
¡©e
, 
drm_´Ý”ty
 *
´Ý”ty
,

370 
ušt64_t
 
v®
);

371 
drm_¶ªe_¡©e
 * 
__mu¡_check


372 
drm_©omic_g‘_¶ªe_¡©e
(
drm_©omic_¡©e
 *
¡©e
,

373 
drm_¶ªe
 *
¶ªe
);

374 
drm_cÚÃùÜ_¡©e
 * 
__mu¡_check


375 
drm_©omic_g‘_cÚÃùÜ_¡©e
(
drm_©omic_¡©e
 *
¡©e
,

376 
drm_cÚÃùÜ
 *
cÚÃùÜ
);

378 
drm_©omic_´iv©e_obj_š™
(
drm_´iv©e_obj
 *
obj
,

379 
drm_´iv©e_¡©e
 *
¡©e
,

380 cÚ¡ 
drm_´iv©e_¡©e_funcs
 *
funcs
);

381 
drm_©omic_´iv©e_obj_fši
(
drm_´iv©e_obj
 *
obj
);

383 
drm_´iv©e_¡©e
 * 
__mu¡_check


384 
drm_©omic_g‘_´iv©e_obj_¡©e
(
drm_©omic_¡©e
 *
¡©e
,

385 
drm_´iv©e_obj
 *
obj
);

398 
šlše
 
drm_ütc_¡©e
 *

399 
	$drm_©omic_g‘_exi¡šg_ütc_¡©e
(
drm_©omic_¡©e
 *
¡©e
,

400 
drm_ütc
 *
ütc
)

402  
¡©e
->
ütcs
[
	`drm_ütc_šdex
(
ütc
)].state;

403 
	}
}

413 
šlše
 
drm_ütc_¡©e
 *

414 
	$drm_©omic_g‘_Þd_ütc_¡©e
(
drm_©omic_¡©e
 *
¡©e
,

415 
drm_ütc
 *
ütc
)

417  
¡©e
->
ütcs
[
	`drm_ütc_šdex
(
ütc
)].
Þd_¡©e
;

418 
	}
}

427 
šlše
 
drm_ütc_¡©e
 *

428 
	$drm_©omic_g‘_Ãw_ütc_¡©e
(
drm_©omic_¡©e
 *
¡©e
,

429 
drm_ütc
 *
ütc
)

431  
¡©e
->
ütcs
[
	`drm_ütc_šdex
(
ütc
)].
Ãw_¡©e
;

432 
	}
}

445 
šlše
 
drm_¶ªe_¡©e
 *

446 
	$drm_©omic_g‘_exi¡šg_¶ªe_¡©e
(
drm_©omic_¡©e
 *
¡©e
,

447 
drm_¶ªe
 *
¶ªe
)

449  
¡©e
->
¶ªes
[
	`drm_¶ªe_šdex
(
¶ªe
)].state;

450 
	}
}

460 
šlše
 
drm_¶ªe_¡©e
 *

461 
	$drm_©omic_g‘_Þd_¶ªe_¡©e
(
drm_©omic_¡©e
 *
¡©e
,

462 
drm_¶ªe
 *
¶ªe
)

464  
¡©e
->
¶ªes
[
	`drm_¶ªe_šdex
(
¶ªe
)].
Þd_¡©e
;

465 
	}
}

475 
šlše
 
drm_¶ªe_¡©e
 *

476 
	$drm_©omic_g‘_Ãw_¶ªe_¡©e
(
drm_©omic_¡©e
 *
¡©e
,

477 
drm_¶ªe
 *
¶ªe
)

479  
¡©e
->
¶ªes
[
	`drm_¶ªe_šdex
(
¶ªe
)].
Ãw_¡©e
;

480 
	}
}

493 
šlše
 
drm_cÚÃùÜ_¡©e
 *

494 
	$drm_©omic_g‘_exi¡šg_cÚÃùÜ_¡©e
(
drm_©omic_¡©e
 *
¡©e
,

495 
drm_cÚÃùÜ
 *
cÚÃùÜ
)

497 
šdex
 = 
	`drm_cÚÃùÜ_šdex
(
cÚÃùÜ
);

499 ià(
šdex
 >ð
¡©e
->
num_cÚÃùÜ
)

500  
NULL
;

502  
¡©e
->
cÚÃùÜs
[
šdex
].state;

503 
	}
}

513 
šlše
 
drm_cÚÃùÜ_¡©e
 *

514 
	$drm_©omic_g‘_Þd_cÚÃùÜ_¡©e
(
drm_©omic_¡©e
 *
¡©e
,

515 
drm_cÚÃùÜ
 *
cÚÃùÜ
)

517 
šdex
 = 
	`drm_cÚÃùÜ_šdex
(
cÚÃùÜ
);

519 ià(
šdex
 >ð
¡©e
->
num_cÚÃùÜ
)

520  
NULL
;

522  
¡©e
->
cÚÃùÜs
[
šdex
].
Þd_¡©e
;

523 
	}
}

533 
šlše
 
drm_cÚÃùÜ_¡©e
 *

534 
	$drm_©omic_g‘_Ãw_cÚÃùÜ_¡©e
(
drm_©omic_¡©e
 *
¡©e
,

535 
drm_cÚÃùÜ
 *
cÚÃùÜ
)

537 
šdex
 = 
	`drm_cÚÃùÜ_šdex
(
cÚÃùÜ
);

539 ià(
šdex
 >ð
¡©e
->
num_cÚÃùÜ
)

540  
NULL
;

542  
¡©e
->
cÚÃùÜs
[
šdex
].
Ãw_¡©e
;

543 
	}
}

571 
šlše
 cÚ¡ 
drm_¶ªe_¡©e
 *

572 
	$__drm_©omic_g‘_cu¼’t_¶ªe_¡©e
(
drm_©omic_¡©e
 *
¡©e
,

573 
drm_¶ªe
 *
¶ªe
)

575 ià(
¡©e
->
¶ªes
[
	`drm_¶ªe_šdex
(
¶ªe
)].state)

576  
¡©e
->
¶ªes
[
	`drm_¶ªe_šdex
(
¶ªe
)].state;

578  
¶ªe
->
¡©e
;

579 
	}
}

581 
__mu¡_check


582 
drm_©omic_£t_mode_fÜ_ütc
(
drm_ütc_¡©e
 *
¡©e
,

583 cÚ¡ 
drm_di¥Ïy_mode
 *
mode
);

584 
__mu¡_check


585 
drm_©omic_£t_mode_´Ý_fÜ_ütc
(
drm_ütc_¡©e
 *
¡©e
,

586 
drm_´Ý”ty_blob
 *
blob
);

587 
__mu¡_check


588 
drm_©omic_£t_ütc_fÜ_¶ªe
(
drm_¶ªe_¡©e
 *
¶ªe_¡©e
,

589 
drm_ütc
 *
ütc
);

590 
drm_©omic_£t_fb_fÜ_¶ªe
(
drm_¶ªe_¡©e
 *
¶ªe_¡©e
,

591 
drm_äamebufãr
 *
fb
);

592 
drm_©omic_£t_ãnû_fÜ_¶ªe
(
drm_¶ªe_¡©e
 *
¶ªe_¡©e
,

593 
dma_ãnû
 *
ãnû
);

594 
__mu¡_check


595 
drm_©omic_£t_ütc_fÜ_cÚÃùÜ
(
drm_cÚÃùÜ_¡©e
 *
cÚn_¡©e
,

596 
drm_ütc
 *
ütc
);

597 
__mu¡_check


598 
drm_©omic_add_afãùed_cÚÃùÜs
(
drm_©omic_¡©e
 *
¡©e
,

599 
drm_ütc
 *
ütc
);

600 
__mu¡_check


601 
drm_©omic_add_afãùed_¶ªes
(
drm_©omic_¡©e
 *
¡©e
,

602 
drm_ütc
 *
ütc
);

605 
drm_©omic_þ—n_Þd_fb
(
drm_deviû
 *
dev
, 
¶ªe_mask
, 
»t
);

607 
__mu¡_check
 
drm_©omic_check_Úly
(
drm_©omic_¡©e
 *
¡©e
);

608 
__mu¡_check
 
drm_©omic_comm™
(
drm_©omic_¡©e
 *
¡©e
);

609 
__mu¡_check
 
drm_©omic_nÚblockšg_comm™
(
drm_©omic_¡©e
 *
¡©e
);

611 
drm_¡©e_dump
(
drm_deviû
 *
dev
, 
drm_´š‹r
 *
p
);

627 
	#fÜ_—ch_ÞdÃw_cÚÃùÜ_š_¡©e
(
__¡©e
, 
cÚÃùÜ
, 
Þd_cÚÃùÜ_¡©e
, 
Ãw_cÚÃùÜ_¡©e
, 
__i
) \

628 (
__i
) = 0; \

629 (
__i
è< (
__¡©e
)->
num_cÚÃùÜ
; \

630 (
__i
)++) \

631 
	`fÜ_—ch_if
 ((
__¡©e
)->
cÚÃùÜs
[
__i
].
±r
 && \

632 ((
cÚÃùÜ
èð(
__¡©e
)->
cÚÃùÜs
[
__i
].
±r
, \

633 (
Þd_cÚÃùÜ_¡©e
èð(
__¡©e
)->
cÚÃùÜs
[
__i
].
Þd_¡©e
, \

634 (
Ãw_cÚÃùÜ_¡©e
èð(
__¡©e
)->
cÚÃùÜs
[
__i
].
Ãw_¡©e
, 1))

	)

648 
	#fÜ_—ch_Þd_cÚÃùÜ_š_¡©e
(
__¡©e
, 
cÚÃùÜ
, 
Þd_cÚÃùÜ_¡©e
, 
__i
) \

649 (
__i
) = 0; \

650 (
__i
è< (
__¡©e
)->
num_cÚÃùÜ
; \

651 (
__i
)++) \

652 
	`fÜ_—ch_if
 ((
__¡©e
)->
cÚÃùÜs
[
__i
].
±r
 && \

653 ((
cÚÃùÜ
èð(
__¡©e
)->
cÚÃùÜs
[
__i
].
±r
, \

654 (
Þd_cÚÃùÜ_¡©e
èð(
__¡©e
)->
cÚÃùÜs
[
__i
].
Þd_¡©e
, 1))

	)

668 
	#fÜ_—ch_Ãw_cÚÃùÜ_š_¡©e
(
__¡©e
, 
cÚÃùÜ
, 
Ãw_cÚÃùÜ_¡©e
, 
__i
) \

669 (
__i
) = 0; \

670 (
__i
è< (
__¡©e
)->
num_cÚÃùÜ
; \

671 (
__i
)++) \

672 
	`fÜ_—ch_if
 ((
__¡©e
)->
cÚÃùÜs
[
__i
].
±r
 && \

673 ((
cÚÃùÜ
èð(
__¡©e
)->
cÚÃùÜs
[
__i
].
±r
, \

674 (
Ãw_cÚÃùÜ_¡©e
èð(
__¡©e
)->
cÚÃùÜs
[
__i
].
Ãw_¡©e
, 1))

	)

688 
	#fÜ_—ch_ÞdÃw_ütc_š_¡©e
(
__¡©e
, 
ütc
, 
Þd_ütc_¡©e
, 
Ãw_ütc_¡©e
, 
__i
) \

689 (
__i
) = 0; \

690 (
__i
è< (
__¡©e
)->
dev
->
mode_cÚfig
.
num_ütc
; \

691 (
__i
)++) \

692 
	`fÜ_—ch_if
 ((
__¡©e
)->
ütcs
[
__i
].
±r
 && \

693 ((
ütc
èð(
__¡©e
)->
ütcs
[
__i
].
±r
, \

694 (
Þd_ütc_¡©e
èð(
__¡©e
)->
ütcs
[
__i
].
Þd_¡©e
, \

695 (
Ãw_ütc_¡©e
èð(
__¡©e
)->
ütcs
[
__i
].
Ãw_¡©e
, 1))

	)

708 
	#fÜ_—ch_Þd_ütc_š_¡©e
(
__¡©e
, 
ütc
, 
Þd_ütc_¡©e
, 
__i
) \

709 (
__i
) = 0; \

710 (
__i
è< (
__¡©e
)->
dev
->
mode_cÚfig
.
num_ütc
; \

711 (
__i
)++) \

712 
	`fÜ_—ch_if
 ((
__¡©e
)->
ütcs
[
__i
].
±r
 && \

713 ((
ütc
èð(
__¡©e
)->
ütcs
[
__i
].
±r
, \

714 (
Þd_ütc_¡©e
èð(
__¡©e
)->
ütcs
[
__i
].
Þd_¡©e
, 1))

	)

727 
	#fÜ_—ch_Ãw_ütc_š_¡©e
(
__¡©e
, 
ütc
, 
Ãw_ütc_¡©e
, 
__i
) \

728 (
__i
) = 0; \

729 (
__i
è< (
__¡©e
)->
dev
->
mode_cÚfig
.
num_ütc
; \

730 (
__i
)++) \

731 
	`fÜ_—ch_if
 ((
__¡©e
)->
ütcs
[
__i
].
±r
 && \

732 ((
ütc
èð(
__¡©e
)->
ütcs
[
__i
].
±r
, \

733 (
Ãw_ütc_¡©e
èð(
__¡©e
)->
ütcs
[
__i
].
Ãw_¡©e
, 1))

	)

747 
	#fÜ_—ch_ÞdÃw_¶ªe_š_¡©e
(
__¡©e
, 
¶ªe
, 
Þd_¶ªe_¡©e
, 
Ãw_¶ªe_¡©e
, 
__i
) \

748 (
__i
) = 0; \

749 (
__i
è< (
__¡©e
)->
dev
->
mode_cÚfig
.
num_tÙ®_¶ªe
; \

750 (
__i
)++) \

751 
	`fÜ_—ch_if
 ((
__¡©e
)->
¶ªes
[
__i
].
±r
 && \

752 ((
¶ªe
èð(
__¡©e
)->
¶ªes
[
__i
].
±r
, \

753 (
Þd_¶ªe_¡©e
èð(
__¡©e
)->
¶ªes
[
__i
].
Þd_¡©e
,\

754 (
Ãw_¶ªe_¡©e
èð(
__¡©e
)->
¶ªes
[
__i
].
Ãw_¡©e
, 1))

	)

767 
	#fÜ_—ch_Þd_¶ªe_š_¡©e
(
__¡©e
, 
¶ªe
, 
Þd_¶ªe_¡©e
, 
__i
) \

768 (
__i
) = 0; \

769 (
__i
è< (
__¡©e
)->
dev
->
mode_cÚfig
.
num_tÙ®_¶ªe
; \

770 (
__i
)++) \

771 
	`fÜ_—ch_if
 ((
__¡©e
)->
¶ªes
[
__i
].
±r
 && \

772 ((
¶ªe
èð(
__¡©e
)->
¶ªes
[
__i
].
±r
, \

773 (
Þd_¶ªe_¡©e
èð(
__¡©e
)->
¶ªes
[
__i
].
Þd_¡©e
, 1))

	)

785 
	#fÜ_—ch_Ãw_¶ªe_š_¡©e
(
__¡©e
, 
¶ªe
, 
Ãw_¶ªe_¡©e
, 
__i
) \

786 (
__i
) = 0; \

787 (
__i
è< (
__¡©e
)->
dev
->
mode_cÚfig
.
num_tÙ®_¶ªe
; \

788 (
__i
)++) \

789 
	`fÜ_—ch_if
 ((
__¡©e
)->
¶ªes
[
__i
].
±r
 && \

790 ((
¶ªe
èð(
__¡©e
)->
¶ªes
[
__i
].
±r
, \

791 (
Ãw_¶ªe_¡©e
èð(
__¡©e
)->
¶ªes
[
__i
].
Ãw_¡©e
, 1))

	)

805 
	#fÜ_—ch_ÞdÃw_´iv©e_obj_š_¡©e
(
__¡©e
, 
obj
, 
Þd_obj_¡©e
, 
Ãw_obj_¡©e
, 
__i
) \

806 (
__i
) = 0; \

807 (
__i
è< (
__¡©e
)->
num_´iv©e_objs
 && \

808 ((
obj
èð(
__¡©e
)->
´iv©e_objs
[
__i
].
±r
, \

809 (
Þd_obj_¡©e
èð(
__¡©e
)->
´iv©e_objs
[
__i
].
Þd_¡©e
, \

810 (
Ãw_obj_¡©e
èð(
__¡©e
)->
´iv©e_objs
[
__i
].
Ãw_¡©e
, 1); \

811 (
__i
)++)

	)

824 
	#fÜ_—ch_Þd_´iv©e_obj_š_¡©e
(
__¡©e
, 
obj
, 
Þd_obj_¡©e
, 
__i
) \

825 (
__i
) = 0; \

826 (
__i
è< (
__¡©e
)->
num_´iv©e_objs
 && \

827 ((
obj
èð(
__¡©e
)->
´iv©e_objs
[
__i
].
±r
, \

828 (
Þd_obj_¡©e
èð(
__¡©e
)->
´iv©e_objs
[
__i
].
Þd_¡©e
, 1); \

829 (
__i
)++)

	)

842 
	#fÜ_—ch_Ãw_´iv©e_obj_š_¡©e
(
__¡©e
, 
obj
, 
Ãw_obj_¡©e
, 
__i
) \

843 (
__i
) = 0; \

844 (
__i
è< (
__¡©e
)->
num_´iv©e_objs
 && \

845 ((
obj
èð(
__¡©e
)->
´iv©e_objs
[
__i
].
±r
, \

846 (
Ãw_obj_¡©e
èð(
__¡©e
)->
´iv©e_objs
[
__i
].
Ãw_¡©e
, 1); \

847 (
__i
)++)

	)

868 
šlše
 
boÞ


869 
	$drm_©omic_ütc_Ãeds_mode£t
(cÚ¡ 
drm_ütc_¡©e
 *
¡©e
)

871  
¡©e
->
mode_chªged
 || s‹->
aùive_chªged
 ||

872 
¡©e
->
cÚÃùÜs_chªged
;

873 
	}
}

	@src/common/linuxkpi/include/drm/drm_atomic_helper.h

28 #iâdeà
DRM_ATOMIC_HELPER_H_


29 
	#DRM_ATOMIC_HELPER_H_


	)

31 
	~<drm/drm_ütc.h
>

32 
	~<drm/drm_mode£t_h–³r_vbËs.h
>

33 
	~<drm/drm_mode£t_h–³r.h
>

35 
	gdrm_©omic_¡©e
;

36 
	gdrm_´iv©e_obj
;

37 
	gdrm_´iv©e_¡©e
;

39 
drm_©omic_h–³r_check_mode£t
(
drm_deviû
 *
dev
,

40 
drm_©omic_¡©e
 *
¡©e
);

41 
drm_©omic_h–³r_check_¶ªe_¡©e
(
drm_¶ªe_¡©e
 *
¶ªe_¡©e
,

42 cÚ¡ 
drm_ütc_¡©e
 *
ütc_¡©e
,

43 cÚ¡ 
drm_»ù
 *
þ
,

44 
mš_sÿË
,

45 
max_sÿË
,

46 
boÞ
 
ÿn_pos™iÚ
,

47 
boÞ
 
ÿn_upd©e_di§bËd
);

48 
drm_©omic_h–³r_check_¶ªes
(
drm_deviû
 *
dev
,

49 
drm_©omic_¡©e
 *
¡©e
);

50 
drm_©omic_h–³r_check
(
drm_deviû
 *
dev
,

51 
drm_©omic_¡©e
 *
¡©e
);

52 
drm_©omic_h–³r_comm™_ž
(
drm_©omic_¡©e
 *
¡©e
);

53 
drm_©omic_h–³r_comm™_ž_½m
(
drm_©omic_¡©e
 *
¡©e
);

54 
drm_©omic_h–³r_comm™
(
drm_deviû
 *
dev
,

55 
drm_©omic_¡©e
 *
¡©e
,

56 
boÞ
 
nÚblock
);

57 
drm_©omic_h–³r_async_check
(
drm_deviû
 *
dev
,

58 
drm_©omic_¡©e
 *
¡©e
);

59 
drm_©omic_h–³r_async_comm™
(
drm_deviû
 *
dev
,

60 
drm_©omic_¡©e
 *
¡©e
);

62 
drm_©omic_h–³r_wa™_fÜ_ãnûs
(
drm_deviû
 *
dev
,

63 
drm_©omic_¡©e
 *
¡©e
,

64 
boÞ
 
´e_sw­
);

66 
drm_©omic_h–³r_wa™_fÜ_vbÏnks
(
drm_deviû
 *
dev
,

67 
drm_©omic_¡©e
 *
Þd_¡©e
);

69 
drm_©omic_h–³r_wa™_fÜ_æ_dÚe
(
drm_deviû
 *
dev
,

70 
drm_©omic_¡©e
 *
Þd_¡©e
);

73 
drm_©omic_h–³r_upd©e_Ëgacy_mode£t_¡©e
(
drm_deviû
 *
dev
,

74 
drm_©omic_¡©e
 *
Þd_¡©e
);

76 
drm_©omic_h–³r_comm™_mode£t_di§bËs
(
drm_deviû
 *
dev
,

77 
drm_©omic_¡©e
 *
¡©e
);

78 
drm_©omic_h–³r_comm™_mode£t_’abËs
(
drm_deviû
 *
dev
,

79 
drm_©omic_¡©e
 *
Þd_¡©e
);

81 
drm_©omic_h–³r_´•¬e_¶ªes
(
drm_deviû
 *
dev
,

82 
drm_©omic_¡©e
 *
¡©e
);

84 
	#DRM_PLANE_COMMIT_ACTIVE_ONLY
 
	`BIT
(0)

	)

85 
	#DRM_PLANE_COMMIT_NO_DISABLE_AFTER_MODESET
 
	`BIT
(1)

	)

87 
drm_©omic_h–³r_comm™_¶ªes
(
drm_deviû
 *
dev
,

88 
drm_©omic_¡©e
 *
¡©e
,

89 
ušt32_t
 
æags
);

90 
drm_©omic_h–³r_þ—nup_¶ªes
(
drm_deviû
 *
dev
,

91 
drm_©omic_¡©e
 *
Þd_¡©e
);

92 
drm_©omic_h–³r_comm™_¶ªes_Ú_ütc
(
drm_ütc_¡©e
 *
Þd_ütc_¡©e
);

94 
drm_©omic_h–³r_di§bË_¶ªes_Ú_ütc
(
drm_ütc_¡©e
 *
Þd_ütc_¡©e
,

95 
boÞ
 
©omic
);

97 
__mu¡_check
 
drm_©omic_h–³r_sw­_¡©e
(
drm_©omic_¡©e
 *
¡©e
,

98 
boÞ
 
¡®l
);

101 
drm_©omic_h–³r_£tup_comm™
(
drm_©omic_¡©e
 *
¡©e
,

102 
boÞ
 
nÚblock
);

103 
drm_©omic_h–³r_wa™_fÜ_d•’d’c›s
(
drm_©omic_¡©e
 *
¡©e
);

104 
drm_©omic_h–³r_comm™_hw_dÚe
(
drm_©omic_¡©e
 *
¡©e
);

105 
drm_©omic_h–³r_comm™_þ—nup_dÚe
(
drm_©omic_¡©e
 *
¡©e
);

108 
drm_©omic_h–³r_upd©e_¶ªe
(
drm_¶ªe
 *
¶ªe
,

109 
drm_ütc
 *
ütc
,

110 
drm_äamebufãr
 *
fb
,

111 
ütc_x
, 
ütc_y
,

112 
ütc_w
, 
ütc_h
,

113 
ušt32_t
 
¤c_x
, ušt32_ˆ
¤c_y
,

114 
ušt32_t
 
¤c_w
, ušt32_ˆ
¤c_h
,

115 
drm_mode£t_acquœe_ùx
 *
ùx
);

116 
drm_©omic_h–³r_di§bË_¶ªe
(
drm_¶ªe
 *
¶ªe
,

117 
drm_mode£t_acquœe_ùx
 *
ùx
);

118 
__drm_©omic_h–³r_di§bË_¶ªe
(
drm_¶ªe
 *
¶ªe
,

119 
drm_¶ªe_¡©e
 *
¶ªe_¡©e
);

120 
drm_©omic_h–³r_£t_cÚfig
(
drm_mode_£t
 *
£t
,

121 
drm_mode£t_acquœe_ùx
 *
ùx
);

122 
__drm_©omic_h–³r_£t_cÚfig
(
drm_mode_£t
 *
£t
,

123 
drm_©omic_¡©e
 *
¡©e
);

125 
drm_©omic_h–³r_di§bË_®l
(
drm_deviû
 *
dev
,

126 
drm_mode£t_acquœe_ùx
 *
ùx
);

127 
drm_©omic_h–³r_shutdown
(
drm_deviû
 *
dev
);

128 
drm_©omic_¡©e
 *
drm_©omic_h–³r_su¥’d
(
drm_deviû
 *
dev
);

129 
drm_©omic_h–³r_comm™_du¶iÿ‹d_¡©e
(
drm_©omic_¡©e
 *
¡©e
,

130 
drm_mode£t_acquœe_ùx
 *
ùx
);

131 
drm_©omic_h–³r_»sume
(
drm_deviû
 *
dev
,

132 
drm_©omic_¡©e
 *
¡©e
);

134 
drm_©omic_h–³r_·ge_æ
(
drm_ütc
 *
ütc
,

135 
drm_äamebufãr
 *
fb
,

136 
drm_³ndšg_vbÏnk_ev’t
 *
ev’t
,

137 
ušt32_t
 
æags
,

138 
drm_mode£t_acquœe_ùx
 *
ùx
);

139 
drm_©omic_h–³r_·ge_æ_rg‘
(

140 
drm_ütc
 *
ütc
,

141 
drm_äamebufãr
 *
fb
,

142 
drm_³ndšg_vbÏnk_ev’t
 *
ev’t
,

143 
ušt32_t
 
æags
,

144 
ušt32_t
 
rg‘
,

145 
drm_mode£t_acquœe_ùx
 *
ùx
);

146 
drm_’cod”
 *

147 
drm_©omic_h–³r_be¡_’cod”
(
drm_cÚÃùÜ
 *
cÚÃùÜ
);

150 
drm_©omic_h–³r_ütc_»£t
(
drm_ütc
 *
ütc
);

151 
__drm_©omic_h–³r_ütc_du¶iÿ‹_¡©e
(
drm_ütc
 *
ütc
,

152 
drm_ütc_¡©e
 *
¡©e
);

153 
drm_ütc_¡©e
 *

154 
drm_©omic_h–³r_ütc_du¶iÿ‹_¡©e
(
drm_ütc
 *
ütc
);

155 
__drm_©omic_h–³r_ütc_de¡roy_¡©e
(
drm_ütc_¡©e
 *
¡©e
);

156 
drm_©omic_h–³r_ütc_de¡roy_¡©e
(
drm_ütc
 *
ütc
,

157 
drm_ütc_¡©e
 *
¡©e
);

159 
drm_©omic_h–³r_¶ªe_»£t
(
drm_¶ªe
 *
¶ªe
);

160 
__drm_©omic_h–³r_¶ªe_du¶iÿ‹_¡©e
(
drm_¶ªe
 *
¶ªe
,

161 
drm_¶ªe_¡©e
 *
¡©e
);

162 
drm_¶ªe_¡©e
 *

163 
drm_©omic_h–³r_¶ªe_du¶iÿ‹_¡©e
(
drm_¶ªe
 *
¶ªe
);

164 
__drm_©omic_h–³r_¶ªe_de¡roy_¡©e
(
drm_¶ªe_¡©e
 *
¡©e
);

165 
drm_©omic_h–³r_¶ªe_de¡roy_¡©e
(
drm_¶ªe
 *
¶ªe
,

166 
drm_¶ªe_¡©e
 *
¡©e
);

168 
__drm_©omic_h–³r_cÚÃùÜ_»£t
(
drm_cÚÃùÜ
 *
cÚÃùÜ
,

169 
drm_cÚÃùÜ_¡©e
 *
cÚn_¡©e
);

170 
drm_©omic_h–³r_cÚÃùÜ_»£t
(
drm_cÚÃùÜ
 *
cÚÃùÜ
);

172 
__drm_©omic_h–³r_cÚÃùÜ_du¶iÿ‹_¡©e
(
drm_cÚÃùÜ
 *
cÚÃùÜ
,

173 
drm_cÚÃùÜ_¡©e
 *
¡©e
);

174 
drm_cÚÃùÜ_¡©e
 *

175 
drm_©omic_h–³r_cÚÃùÜ_du¶iÿ‹_¡©e
(
drm_cÚÃùÜ
 *
cÚÃùÜ
);

176 
drm_©omic_¡©e
 *

177 
drm_©omic_h–³r_du¶iÿ‹_¡©e
(
drm_deviû
 *
dev
,

178 
drm_mode£t_acquœe_ùx
 *
ùx
);

180 
__drm_©omic_h–³r_cÚÃùÜ_de¡roy_¡©e
(
drm_cÚÃùÜ_¡©e
 *
¡©e
);

181 
drm_©omic_h–³r_cÚÃùÜ_de¡roy_¡©e
(
drm_cÚÃùÜ
 *
cÚÃùÜ
,

182 
drm_cÚÃùÜ_¡©e
 *
¡©e
);

183 
drm_©omic_h–³r_Ëgacy_gamma_£t
(
drm_ütc
 *
ütc
,

184 
u16
 *
»d
, u16 *
g»’
, u16 *
blue
,

185 
ušt32_t
 
size
,

186 
drm_mode£t_acquœe_ùx
 *
ùx
);

187 
__drm_©omic_h–³r_´iv©e_obj_du¶iÿ‹_¡©e
(
drm_´iv©e_obj
 *
obj
,

188 
drm_´iv©e_¡©e
 *
¡©e
);

201 
	#drm_©omic_ütc_fÜ_—ch_¶ªe
(
¶ªe
, 
ütc
) \

202 
	`drm_fÜ_—ch_¶ªe_mask
(
¶ªe
, (
ütc
)->
dev
, (ütc)->
¡©e
->
¶ªe_mask
)

	)

214 
	#drm_©omic_ütc_¡©e_fÜ_—ch_¶ªe
(
¶ªe
, 
ütc_¡©e
) \

215 
	`drm_fÜ_—ch_¶ªe_mask
(
¶ªe
, (
ütc_¡©e
)->
¡©e
->
dev
, (ütc_¡©e)->
¶ªe_mask
)

	)

232 
	#drm_©omic_ütc_¡©e_fÜ_—ch_¶ªe_¡©e
(
¶ªe
, 
¶ªe_¡©e
, 
ütc_¡©e
) \

233 
	`drm_fÜ_—ch_¶ªe_mask
(
¶ªe
, (
ütc_¡©e
)->
¡©e
->
dev
, (ütc_¡©e)->
¶ªe_mask
) \

234 
	`fÜ_—ch_if
 ((
¶ªe_¡©e
 = \

235 
	`__drm_©omic_g‘_cu¼’t_¶ªe_¡©e
((
ütc_¡©e
)->
¡©e
, \

236 
¶ªe
)))

	)

250 
šlše
 
boÞ


251 
	$drm_©omic_¶ªe_di§blšg
(
drm_¶ªe_¡©e
 *
Þd_¶ªe_¡©e
,

252 
drm_¶ªe_¡©e
 *
Ãw_¶ªe_¡©e
)

259 
	`WARN_ON
((
Ãw_¶ªe_¡©e
->
ütc
 =ð
NULL
 &&‚ew_¶ªe_¡©e->
fb
 != NULL) ||

260 (
Ãw_¶ªe_¡©e
->
ütc
 !ð
NULL
 &&‚ew_¶ªe_¡©e->
fb
 == NULL));

262  
Þd_¶ªe_¡©e
->
ütc
 && !
Ãw_¶ªe_¡©e
->crtc;

263 
	}
}

	@src/common/linuxkpi/include/drm/drm_auth.h

28 #iâdeà
_DRM_AUTH_H_


29 
	#_DRM_AUTH_H_


	)

37 
	sdrm_lock_d©a
 {

38 
drm_hw_lock
 *
	mhw_lock
;

39 
drm_fže
 *
	mfže_´iv
;

40 
wa™_queue_h—d_t
 
	mlock_queue
;

41 
	mlock_time
;

42 
¥šlock_t
 
	m¥šlock
;

43 
ušt32_t
 
	mk”Ãl_wa™”s
;

44 
ušt32_t
 
	mu£r_wa™”s
;

45 
	midË_has_lock
;

65 
	sdrm_ma¡”
 {

66 
k»f
 
	m»fcouÁ
;

67 
drm_deviû
 *
	mdev
;

72 *
	munique
;

77 
	munique_Ën
;

82 
idr
 
	mmagic_m­
;

83 
drm_lock_d©a
 
	mlock
;

84 *
	mdriv”_´iv
;

92 
drm_ma¡”
 *
	mËssÜ
;

93 
	mËs£e_id
;

94 
li¡_h—d
 
	mËs£e_li¡
;

95 
li¡_h—d
 
	mËs£es
;

96 
idr
 
	mËa£s
;

97 
idr
 
	mËs£e_idr
;

100 
drm_ma¡”
 *
drm_ma¡”_g‘
(drm_ma¡” *
ma¡”
);

101 
drm_ma¡”_put
(
drm_ma¡”
 **
ma¡”
);

102 
boÞ
 
drm_is_cu¼’t_ma¡”
(
drm_fže
 *
åriv
);

104 
drm_ma¡”
 *
drm_ma¡”_ü—‹
(
drm_deviû
 *
dev
);

	@src/common/linuxkpi/include/drm/drm_blend.h

23 #iâdeà
__DRM_BLEND_H__


24 
	#__DRM_BLEND_H__


	)

26 
	~<lšux/li¡.h
>

27 
	~<lšux/ùy³.h
>

28 
	~<drm/drm_mode.h
>

30 
	gdrm_deviû
;

31 
	gdrm_©omic_¡©e
;

32 
	gdrm_¶ªe
;

34 
šlše
 
boÞ
 
	$drm_rÙ©iÚ_90_Ü_270
(
rÙ©iÚ
)

36  
rÙ©iÚ
 & (
DRM_MODE_ROTATE_90
 | 
DRM_MODE_ROTATE_270
);

37 
	}
}

39 
drm_¶ªe_ü—‹_rÙ©iÚ_´Ý”ty
(
drm_¶ªe
 *
¶ªe
,

40 
rÙ©iÚ
,

41 
suµÜ‹d_rÙ©iÚs
);

42 
drm_rÙ©iÚ_sim¶ify
(
rÙ©iÚ
,

43 
suµÜ‹d_rÙ©iÚs
);

45 
drm_¶ªe_ü—‹_zpos_´Ý”ty
(
drm_¶ªe
 *
¶ªe
,

46 
zpos
,

47 
mš
, 
max
);

48 
drm_¶ªe_ü—‹_zpos_immubË_´Ý”ty
(
drm_¶ªe
 *
¶ªe
,

49 
zpos
);

50 
drm_©omic_nÜm®ize_zpos
(
drm_deviû
 *
dev
,

51 
drm_©omic_¡©e
 *
¡©e
);

	@src/common/linuxkpi/include/drm/drm_bridge.h

23 #iâdeà
__DRM_BRIDGE_H__


24 
	#__DRM_BRIDGE_H__


	)

26 
	~<lšux/li¡.h
>

27 
	~<lšux/ùy³.h
>

28 
	~<drm/drm_mode_objeù.h
>

29 
	~<drm/drm_modes.h
>

31 
	gdrm_bridge
;

32 
	gdrm_·Ãl
;

37 
	sdrm_bridge_funcs
 {

50 (*
	m©ch
)(
drm_bridge
 *
	mbridge
);

60 (*
	md‘ach
)(
drm_bridge
 *
	mbridge
);

93 
drm_mode_¡©us
 (*
mode_v®id
)(
drm_bridge
 *
	mütc
,

94 cÚ¡ 
drm_di¥Ïy_mode
 *
	mmode
);

131 
boÞ
 (*
mode_fixup
)(
drm_bridge
 *
	mbridge
,

132 cÚ¡ 
drm_di¥Ïy_mode
 *
	mmode
,

133 
drm_di¥Ïy_mode
 *
	madju¡ed_mode
);

150 (*
	mdi§bË
)(
drm_bridge
 *
	mbridge
);

169 (*
	mpo¡_di§bË
)(
drm_bridge
 *
	mbridge
);

181 (*
	mmode_£t
)(
drm_bridge
 *
	mbridge
,

182 
drm_di¥Ïy_mode
 *
	mmode
,

183 
drm_di¥Ïy_mode
 *
	madju¡ed_mode
);

202 (*
	m´e_’abË
)(
drm_bridge
 *
	mbridge
);

222 (*
	m’abË
)(
drm_bridge
 *
	mbridge
);

235 
	sdrm_bridge
 {

236 
drm_deviû
 *
	mdev
;

237 
drm_’cod”
 *
	m’cod”
;

238 
drm_bridge
 *
	mÃxt
;

239 #ifdeà
CONFIG_OF


240 
deviû_node
 *
	mof_node
;

242 
li¡_h—d
 
	mli¡
;

244 cÚ¡ 
drm_bridge_funcs
 *
	mfuncs
;

245 *
	mdriv”_´iv©e
;

248 
drm_bridge_add
(
drm_bridge
 *
bridge
);

249 
drm_bridge_»move
(
drm_bridge
 *
bridge
);

250 #ifdeà
__lšux__


251 
drm_bridge
 *
of_drm_fšd_bridge
(
deviû_node
 *
Å
);

253 
drm_bridge_©ch
(
drm_’cod”
 *
’cod”
, 
drm_bridge
 *
bridge
,

254 
drm_bridge
 *
´evious
);

256 
boÞ
 
drm_bridge_mode_fixup
(
drm_bridge
 *
bridge
,

257 cÚ¡ 
drm_di¥Ïy_mode
 *
mode
,

258 
drm_di¥Ïy_mode
 *
adju¡ed_mode
);

259 
drm_mode_¡©us
 
drm_bridge_mode_v®id
(
drm_bridge
 *
bridge
,

260 cÚ¡ 
drm_di¥Ïy_mode
 *
mode
);

261 
drm_bridge_di§bË
(
drm_bridge
 *
bridge
);

262 
drm_bridge_po¡_di§bË
(
drm_bridge
 *
bridge
);

263 
drm_bridge_mode_£t
(
drm_bridge
 *
bridge
,

264 
drm_di¥Ïy_mode
 *
mode
,

265 
drm_di¥Ïy_mode
 *
adju¡ed_mode
);

266 
drm_bridge_´e_’abË
(
drm_bridge
 *
bridge
);

267 
drm_bridge_’abË
(
drm_bridge
 *
bridge
);

269 #ifdeà
CONFIG_DRM_PANEL_BRIDGE


270 
drm_bridge
 *
drm_·Ãl_bridge_add
(
drm_·Ãl
 *
·Ãl
,

271 
u32
 
cÚÃùÜ_ty³
);

272 
drm_·Ãl_bridge_»move
(
drm_bridge
 *
bridge
);

273 
drm_bridge
 *
devm_drm_·Ãl_bridge_add
(
deviû
 *
dev
,

274 
drm_·Ãl
 *
·Ãl
,

275 
u32
 
cÚÃùÜ_ty³
);

	@src/common/linuxkpi/include/drm/drm_cache.h

33 #iâdeà
_DRM_CACHE_H_


34 
	#_DRM_CACHE_H_


	)

36 
	~<lšux/sÿ‰”li¡.h
>

38 
drm_þæush_·ges
(
·ge
 *
·ges
[], 
num_·ges
);

39 
drm_þæush_sg
(
sg_bË
 *
¡
);

40 
drm_þæush_vœt_¿nge
(*
addr
, 
Ëngth
);

42 
šlše
 
boÞ
 
	$drm_¬ch_ÿn_wc_memÜy
()

44 #ià
	`defšed
(
CONFIG_PPC
è&& !defšed(
CONFIG_NOT_COHERENT_CACHE
)

45  
çl£
;

46 #–ià
	`defšed
(
CONFIG_MIPS
è&& defšed(
CONFIG_CPU_LOONGSON3
)

47  
çl£
;

49  
Œue
;

51 
	}
}

	@src/common/linuxkpi/include/drm/drm_color_mgmt.h

23 #iâdeà
__DRM_COLOR_MGMT_H__


24 
	#__DRM_COLOR_MGMT_H__


	)

26 
	~<lšux/ùy³.h
>

28 
	gdrm_ütc
;

30 
ušt32_t
 
drm_cÞÜ_lut_exŒaù
(ušt32_ˆ
u£r_šput
, ušt32_ˆ
b™_´ecisiÚ
);

32 
drm_ütc_’abË_cÞÜ_mgmt
(
drm_ütc
 *
ütc
,

33 
ušt
 
degamma_lut_size
,

34 
boÞ
 
has_ùm
,

35 
ušt
 
gamma_lut_size
);

37 
drm_mode_ütc_£t_gamma_size
(
drm_ütc
 *
ütc
,

38 
gamma_size
);

	@src/common/linuxkpi/include/drm/drm_connector.h

23 #iâdeà
__DRM_CONNECTOR_H__


24 
	#__DRM_CONNECTOR_H__


	)

26 
	~<lšux/li¡.h
>

27 
	~<lšux/Îi¡.h
>

28 
	~<lšux/ùy³.h
>

29 
	~<lšux/hdmi.h
>

30 
	~<drm/drm_mode_objeù.h
>

32 
	~<u­i/drm/drm_mode.h
>

34 
	gdrm_cÚÃùÜ_h–³r_funcs
;

35 
	gdrm_mode£t_acquœe_ùx
;

36 
	gdrm_deviû
;

37 
	gdrm_ütc
;

38 
	gdrm_’cod”
;

39 
	gdrm_´Ý”ty
;

40 
	gdrm_´Ý”ty_blob
;

41 
	gdrm_´š‹r
;

42 
	gedid
;

44 
	edrm_cÚÃùÜ_fÜû
 {

45 
	mDRM_FORCE_UNSPECIFIED
,

46 
	mDRM_FORCE_OFF
,

47 
	mDRM_FORCE_ON
,

48 
	mDRM_FORCE_ON_DIGITAL
,

57 
	edrm_cÚÃùÜ_¡©us
 {

62 
	mcÚÃùÜ_¡©us_cÚÃùed
 = 1,

70 
	mcÚÃùÜ_¡©us_discÚÃùed
 = 2,

81 
	mcÚÃùÜ_¡©us_unknown
 = 3,

84 
	esubpix–_Üd”
 {

85 
	mSubPix–Unknown
 = 0,

86 
	mSubPix–HÜizÚlRGB
,

87 
	mSubPix–HÜizÚlBGR
,

88 
	mSubPix–V”tiÿlRGB
,

89 
	mSubPix–V”tiÿlBGR
,

90 
	mSubPix–NÚe
,

97 
	sdrm_süamblšg
 {

101 
boÞ
 
	msuµÜ‹d
;

105 
boÞ
 
	mlow_¿‹s
;

114 
	sdrm_scdc
 {

118 
boÞ
 
	msuµÜ‹d
;

122 
boÞ
 
	m»ad_»que¡
;

126 
drm_süamblšg
 
	msüamblšg
;

136 
	sdrm_hdmi_šfo
 {

138 
drm_scdc
 
	mscdc
;

146 
	my420_vdb_modes
[
BITS_TO_LONGS
(128)];

154 
	my420_cmdb_modes
[
BITS_TO_LONGS
(128)];

157 
u64
 
	my420_cmdb_m­
;

160 
u8
 
	my420_dc_modes
;

174 
	edrm_lšk_¡©us
 {

175 
	mDRM_LINK_STATUS_GOOD
 = 
DRM_MODE_LINK_STATUS_GOOD
,

176 
	mDRM_LINK_STATUS_BAD
 = 
DRM_MODE_LINK_STATUS_BAD
,

200 
	edrm_·Ãl_Ü›Á©iÚ
 {

201 
	mDRM_MODE_PANEL_ORIENTATION_UNKNOWN
 = -1,

202 
	mDRM_MODE_PANEL_ORIENTATION_NORMAL
 = 0,

203 
	mDRM_MODE_PANEL_ORIENTATION_BOTTOM_UP
,

204 
	mDRM_MODE_PANEL_ORIENTATION_LEFT_UP
,

205 
	mDRM_MODE_PANEL_ORIENTATION_RIGHT_UP
,

219 
	sdrm_di¥Ïy_šfo
 {

223 
	mÇme
[
DRM_DISPLAY_INFO_LEN
];

228 
	mwidth_mm
;

232 
	mheight_mm
;

239 
	mpix–_þock
;

243 
	mbpc
;

248 
subpix–_Üd”
 
	msubpix–_Üd”
;

250 
	#DRM_COLOR_FORMAT_RGB444
 (1<<0)

	)

251 
	#DRM_COLOR_FORMAT_YCRCB444
 (1<<1)

	)

252 
	#DRM_COLOR_FORMAT_YCRCB422
 (1<<2)

	)

253 
	#DRM_COLOR_FORMAT_YCRCB420
 (1<<3)

	)

262 
	m·Ãl_Ü›Á©iÚ
;

270 
u32
 
	mcÞÜ_fÜm©s
;

277 cÚ¡ 
u32
 *
	mbus_fÜm©s
;

281 
	mnum_bus_fÜm©s
;

283 
	#DRM_BUS_FLAG_DE_LOW
 (1<<0)

	)

284 
	#DRM_BUS_FLAG_DE_HIGH
 (1<<1)

	)

286 
	#DRM_BUS_FLAG_PIXDATA_POSEDGE
 (1<<2)

	)

288 
	#DRM_BUS_FLAG_PIXDATA_NEGEDGE
 (1<<3)

	)

290 
	#DRM_BUS_FLAG_DATA_MSB_TO_LSB
 (1<<4)

	)

292 
	#DRM_BUS_FLAG_DATA_LSB_TO_MSB
 (1<<5)

	)

298 
u32
 
	mbus_æags
;

304 
	mmax_tmds_þock
;

309 
boÞ
 
	mdvi_du®
;

314 
boÞ
 
	mhas_hdmi_šfoäame
;

320 
u8
 
	medid_hdmi_dc_modes
;

325 
u8
 
	mûa_»v
;

330 
drm_hdmi_šfo
 
	mhdmi
;

335 
boÞ
 
	mnÚ_desktÝ
;

338 
drm_di¥Ïy_šfo_£t_bus_fÜm©s
(
drm_di¥Ïy_šfo
 *
šfo
,

339 cÚ¡ 
u32
 *
fÜm©s
,

340 
num_fÜm©s
);

354 
	sdrm_tv_cÚÃùÜ_¡©e
 {

355 
drm_mode_subcÚÃùÜ
 
	msubcÚÃùÜ
;

357 
	mËá
;

358 
	mright
;

359 
	mtÝ
;

360 
	mbÙtom
;

361 } 
	mm¬gšs
;

362 
	mmode
;

363 
	mbrighŠess
;

364 
	mcÚŒa¡
;

365 
	mæick”_»duùiÚ
;

366 
	mov”sÿn
;

367 
	m§tu¿tiÚ
;

368 
	mhue
;

378 
	sdrm_cÚÃùÜ_¡©e
 {

379 
drm_cÚÃùÜ
 *
	mcÚÃùÜ
;

387 
drm_ütc
 *
	mütc
;

389 
drm_’cod”
 *
	mbe¡_’cod”
;

395 
drm_lšk_¡©us
 
	mlšk_¡©us
;

397 
drm_©omic_¡©e
 *
	m¡©e
;

404 
drm_ütc_comm™
 *
	mcomm™
;

406 
drm_tv_cÚÃùÜ_¡©e
 
	mtv
;

415 
hdmi_piùu»_a¥eù
 
	mpiùu»_a¥eù_¿tio
;

421 
	msÿlšg_mode
;

431 
	sdrm_cÚÃùÜ_funcs
 {

448 (*
	mdpms
)(
drm_cÚÃùÜ
 *
	mcÚÃùÜ
, 
	mmode
);

460 (*
	m»£t
)(
drm_cÚÃùÜ
 *
	mcÚÃùÜ
);

488 
drm_cÚÃùÜ_¡©us
 (*
d‘eù
)(
drm_cÚÃùÜ
 *
	mcÚÃùÜ
,

489 
boÞ
 
	mfÜû
);

505 (*
	mfÜû
)(
drm_cÚÃùÜ
 *
	mcÚÃùÜ
);

531 (*
	mfžl_modes
)(
drm_cÚÃùÜ
 *
	mcÚÃùÜ
, 
ušt32_t
 
	mmax_width
, ušt32_ˆ
	mmax_height
);

547 (*
	m£t_´Ý”ty
)(
drm_cÚÃùÜ
 *
	mcÚÃùÜ
, 
drm_´Ý”ty
 *
	m´Ý”ty
,

548 
ušt64_t
 
	mv®
);

566 (*
	mÏ‹_»gi¡”
)(
drm_cÚÃùÜ
 *
	mcÚÃùÜ
);

579 (*
	m—¾y_uÄegi¡”
)(
drm_cÚÃùÜ
 *
	mcÚÃùÜ
);

589 (*
	mde¡roy
)(
drm_cÚÃùÜ
 *
	mcÚÃùÜ
);

620 
	mdrm_cÚÃùÜ_¡©e
 *(*
	m©omic_du¶iÿ‹_¡©e
)(
drm_cÚÃùÜ
 *
	mcÚÃùÜ
);

628 (*
	m©omic_de¡roy_¡©e
)(
drm_cÚÃùÜ
 *
	mcÚÃùÜ
,

629 
drm_cÚÃùÜ_¡©e
 *
	m¡©e
);

673 (*
	m©omic_£t_´Ý”ty
)(
drm_cÚÃùÜ
 *
	mcÚÃùÜ
,

674 
drm_cÚÃùÜ_¡©e
 *
	m¡©e
,

675 
drm_´Ý”ty
 *
	m´Ý”ty
,

676 
ušt64_t
 
	mv®
);

696 (*
	m©omic_g‘_´Ý”ty
)(
drm_cÚÃùÜ
 *
	mcÚÃùÜ
,

697 cÚ¡ 
drm_cÚÃùÜ_¡©e
 *
	m¡©e
,

698 
drm_´Ý”ty
 *
	m´Ý”ty
,

699 
ušt64_t
 *
	mv®
);

710 (*
	m©omic_´št_¡©e
)(
drm_´š‹r
 *
	mp
,

711 cÚ¡ 
drm_cÚÃùÜ_¡©e
 *
	m¡©e
);

715 
	sdrm_cmdlše_mode
 {

716 
boÞ
 
	m¥ecif›d
;

717 
boÞ
 
	m»äesh_¥ecif›d
;

718 
boÞ
 
	mbµ_¥ecif›d
;

719 
	mx»s
, 
	my»s
;

720 
	mbµ
;

721 
	m»äesh
;

722 
boÞ
 
	mrb
;

723 
boÞ
 
	mš‹¾aû
;

724 
boÞ
 
	mcvt
;

725 
boÞ
 
	mm¬gšs
;

726 
drm_cÚÃùÜ_fÜû
 
	mfÜû
;

775 
	sdrm_cÚÃùÜ
 {

776 
drm_deviû
 *
	mdev
;

777 
deviû
 *
	mkdev
;

778 
deviû_©Œibu‹
 *
	m©Œ
;

779 
li¡_h—d
 
	mh—d
;

781 
drm_mode_objeù
 
	mba£
;

783 *
	mÇme
;

790 
mu‹x
 
	mmu‹x
;

798 
	mšdex
;

800 
	mcÚÃùÜ_ty³
;

801 
	mcÚÃùÜ_ty³_id
;

802 
boÞ
 
	mš‹¾aû_®lowed
;

803 
boÞ
 
	mdoubËsÿn_®lowed
;

804 
boÞ
 
	m¡”eo_®lowed
;

812 
boÞ
 
	mycbü_420_®lowed
;

818 
boÞ
 
	m»gi¡”ed
;

825 
li¡_h—d
 
	mmodes
;

832 
drm_cÚÃùÜ_¡©us
 
	m¡©us
;

840 
li¡_h—d
 
	m´obed_modes
;

851 
drm_di¥Ïy_šfo
 
	mdi¥Ïy_šfo
;

852 cÚ¡ 
drm_cÚÃùÜ_funcs
 *
	mfuncs
;

854 
drm_´Ý”ty_blob
 *
	medid_blob_±r
;

855 
drm_objeù_´Ý”t›s
 
	m´Ý”t›s
;

857 
drm_´Ý”ty
 *
	msÿlšg_mode_´Ý”ty
;

864 
drm_´Ý”ty_blob
 *
	m·th_blob_±r
;

876 
drm_´Ý”ty_blob
 *
	mtže_blob_±r
;

880 
	#DRM_CONNECTOR_POLL_HPD
 (1 << 0)

	)

882 
	#DRM_CONNECTOR_POLL_CONNECT
 (1 << 1)

	)

885 
	#DRM_CONNECTOR_POLL_DISCONNECT
 (1 << 2)

	)

906 
ušt8_t
 
	mpÞËd
;

909 
	mdpms
;

911 cÚ¡ 
drm_cÚÃùÜ_h–³r_funcs
 *
	mh–³r_´iv©e
;

914 
drm_cmdlše_mode
 
	mcmdlše_mode
;

915 
drm_cÚÃùÜ_fÜû
 
	mfÜû
;

916 
boÞ
 
	mov”ride_edid
;

918 
	#DRM_CONNECTOR_MAX_ENCODER
 3

	)

919 
ušt32_t
 
	m’cod”_ids
[
DRM_CONNECTOR_MAX_ENCODER
];

926 
drm_’cod”
 *
	m’cod”
;

928 
	#MAX_ELD_BYTES
 128

	)

930 
ušt8_t
 
	m–d
[
MAX_ELD_BYTES
];

931 
boÞ
 
	mÏ‹ncy_´e£Á
[2];

932 
	mvideo_Ï‹ncy
[2];

933 
	maudio_Ï‹ncy
[2];

934 
	mnuÎ_edid_couÁ”
;

935 
	mbad_edid_couÁ”
;

940 
boÞ
 
	medid_cÜru±
;

942 
d’Œy
 *
	mdebugfs_’Œy
;

958 
drm_cÚÃùÜ_¡©e
 *
	m¡©e
;

961 
boÞ
 
	mhas_tže
;

962 
drm_tže_group
 *
	mtže_group
;

963 
boÞ
 
	mtže_is_sšgË_mÚ™Ü
;

965 
ušt8_t
 
	mnum_h_tže
, 
	mnum_v_tže
;

966 
ušt8_t
 
	mtže_h_loc
, 
	mtže_v_loc
;

967 
ušt16_t
 
	mtže_h_size
, 
	mtže_v_size
;

976 
Îi¡_node
 
	mä“_node
;

979 
	#obj_to_cÚÃùÜ
(
x
è
	`cÚš”_of
(x, 
drm_cÚÃùÜ
, 
ba£
)

	)

981 
drm_cÚÃùÜ_š™
(
drm_deviû
 *
dev
,

982 
drm_cÚÃùÜ
 *
cÚÃùÜ
,

983 cÚ¡ 
drm_cÚÃùÜ_funcs
 *
funcs
,

984 
cÚÃùÜ_ty³
);

985 
drm_cÚÃùÜ_»gi¡”
(
drm_cÚÃùÜ
 *
cÚÃùÜ
);

986 
drm_cÚÃùÜ_uÄegi¡”
(
drm_cÚÃùÜ
 *
cÚÃùÜ
);

987 
drm_mode_cÚÃùÜ_©ch_’cod”
(
drm_cÚÃùÜ
 *
cÚÃùÜ
,

988 
drm_’cod”
 *
’cod”
);

990 
drm_cÚÃùÜ_þ—nup
(
drm_cÚÃùÜ
 *
cÚÃùÜ
);

991 
šlše
 
	$drm_cÚÃùÜ_šdex
(
drm_cÚÃùÜ
 *
cÚÃùÜ
)

993  
cÚÃùÜ
->
šdex
;

994 
	}
}

1005 
šlše
 
drm_cÚÃùÜ
 *
	$drm_cÚÃùÜ_lookup
(
drm_deviû
 *
dev
,

1006 
drm_fže
 *
fže_´iv
,

1007 
ušt32_t
 
id
)

1009 
drm_mode_objeù
 *
mo
;

1010 
mo
 = 
	`drm_mode_objeù_fšd
(
dev
, 
fže_´iv
, 
id
, 
DRM_MODE_OBJECT_CONNECTOR
);

1011  
mo
 ? 
	`obj_to_cÚÃùÜ
(moè: 
NULL
;

1012 
	}
}

1020 
šlše
 
	$drm_cÚÃùÜ_g‘
(
drm_cÚÃùÜ
 *
cÚÃùÜ
)

1022 
	`drm_mode_objeù_g‘
(&
cÚÃùÜ
->
ba£
);

1023 
	}
}

1032 
šlše
 
	$drm_cÚÃùÜ_put
(
drm_cÚÃùÜ
 *
cÚÃùÜ
)

1034 
	`drm_mode_objeù_put
(&
cÚÃùÜ
->
ba£
);

1035 
	}
}

1044 
šlše
 
	$drm_cÚÃùÜ_»ã»nû
(
drm_cÚÃùÜ
 *
cÚÃùÜ
)

1046 
	`drm_cÚÃùÜ_g‘
(
cÚÃùÜ
);

1047 
	}
}

1056 
šlše
 
	$drm_cÚÃùÜ_uÄeã»nû
(
drm_cÚÃùÜ
 *
cÚÃùÜ
)

1058 
	`drm_cÚÃùÜ_put
(
cÚÃùÜ
);

1059 
	}
}

1061 cÚ¡ *
drm_g‘_cÚÃùÜ_¡©us_Çme
(
drm_cÚÃùÜ_¡©us
 
¡©us
);

1062 cÚ¡ *
drm_g‘_subpix–_Üd”_Çme
(
subpix–_Üd”
 
Üd”
);

1063 cÚ¡ *
drm_g‘_dpms_Çme
(
v®
);

1064 cÚ¡ *
drm_g‘_dvi_i_subcÚÃùÜ_Çme
(
v®
);

1065 cÚ¡ *
drm_g‘_dvi_i_£Ëù_Çme
(
v®
);

1066 cÚ¡ *
drm_g‘_tv_subcÚÃùÜ_Çme
(
v®
);

1067 cÚ¡ *
drm_g‘_tv_£Ëù_Çme
(
v®
);

1069 
drm_mode_ü—‹_dvi_i_´Ý”t›s
(
drm_deviû
 *
dev
);

1070 
drm_mode_ü—‹_tv_´Ý”t›s
(
drm_deviû
 *
dev
,

1071 
num_modes
,

1072 cÚ¡ * cÚ¡ 
modes
[]);

1073 
drm_mode_ü—‹_sÿlšg_mode_´Ý”ty
(
drm_deviû
 *
dev
);

1074 
drm_cÚÃùÜ_©ch_sÿlšg_mode_´Ý”ty
(
drm_cÚÃùÜ
 *
cÚÃùÜ
,

1075 
u32
 
sÿlšg_mode_mask
);

1076 
drm_mode_ü—‹_a¥eù_¿tio_´Ý”ty
(
drm_deviû
 *
dev
);

1077 
drm_mode_ü—‹_sugge¡ed_off£t_´Ý”t›s
(
drm_deviû
 *
dev
);

1079 
drm_mode_cÚÃùÜ_£t_·th_´Ý”ty
(
drm_cÚÃùÜ
 *
cÚÃùÜ
,

1080 cÚ¡ *
·th
);

1081 
drm_mode_cÚÃùÜ_£t_tže_´Ý”ty
(
drm_cÚÃùÜ
 *
cÚÃùÜ
);

1082 
drm_mode_cÚÃùÜ_upd©e_edid_´Ý”ty
(
drm_cÚÃùÜ
 *
cÚÃùÜ
,

1083 cÚ¡ 
edid
 *edid);

1084 
drm_mode_cÚÃùÜ_£t_lšk_¡©us_´Ý”ty
(
drm_cÚÃùÜ
 *
cÚÃùÜ
,

1085 
ušt64_t
 
lšk_¡©us
);

1086 
drm_cÚÃùÜ_š™_·Ãl_Ü›Á©iÚ_´Ý”ty
(

1087 
drm_cÚÃùÜ
 *
cÚÃùÜ
, 
width
, 
height
);

1099 
	sdrm_tže_group
 {

1100 
k»f
 
	m»fcouÁ
;

1101 
drm_deviû
 *
	mdev
;

1102 
	mid
;

1103 
u8
 
	mgroup_d©a
[8];

1106 
drm_tže_group
 *
drm_mode_ü—‹_tže_group
(
drm_deviû
 *
dev
,

1107 
tÝÞogy
[8]);

1108 
drm_tže_group
 *
drm_mode_g‘_tže_group
(
drm_deviû
 *
dev
,

1109 
tÝÞogy
[8]);

1110 
drm_mode_put_tže_group
(
drm_deviû
 *
dev
,

1111 
drm_tže_group
 *
tg
);

1122 
	sdrm_cÚÃùÜ_li¡_™”
 {

1124 
drm_deviû
 *
	mdev
;

1125 
drm_cÚÃùÜ
 *
	mcÚn
;

1128 
drm_cÚÃùÜ_li¡_™”_begš
(
drm_deviû
 *
dev
,

1129 
drm_cÚÃùÜ_li¡_™”
 *
™”
);

1130 
drm_cÚÃùÜ
 *

1131 
drm_cÚÃùÜ_li¡_™”_Ãxt
(
drm_cÚÃùÜ_li¡_™”
 *
™”
);

1132 
drm_cÚÃùÜ_li¡_™”_’d
(
drm_cÚÃùÜ_li¡_™”
 *
™”
);

1143 
	#drm_fÜ_—ch_cÚÃùÜ_™”
(
cÚÃùÜ
, 
™”
) \

1144 (
cÚÃùÜ
 = 
	`drm_cÚÃùÜ_li¡_™”_Ãxt
(
™”
)))

	)

	@src/common/linuxkpi/include/drm/drm_crtc.h

25 #iâdeà
__DRM_CRTC_H__


26 
	#__DRM_CRTC_H__


	)

28 
	~<lšux/i2c.h
>

29 
	~<lšux/¥šlock.h
>

30 
	~<lšux/ty³s.h
>

31 
	~<lšux/fb.h
>

32 
	~<lšux/hdmi.h
>

33 
	~<lšux/medŸ-bus-fÜm©.h
>

34 
	~<u­i/drm/drm_mode.h
>

35 
	~<u­i/drm/drm_fourcc.h
>

36 
	~<drm/drm_mode£t_lock.h
>

37 
	~<drm/drm_»ù.h
>

38 
	~<drm/drm_mode_objeù.h
>

39 
	~<drm/drm_äamebufãr.h
>

40 
	~<drm/drm_modes.h
>

41 
	~<drm/drm_cÚÃùÜ.h
>

42 
	~<drm/drm_´Ý”ty.h
>

43 
	~<drm/drm_bridge.h
>

44 
	~<drm/drm_edid.h
>

45 
	~<drm/drm_¶ªe.h
>

46 
	~<drm/drm_bËnd.h
>

47 
	~<drm/drm_cÞÜ_mgmt.h
>

48 
	~<drm/drm_debugfs_üc.h
>

49 
	~<drm/drm_mode_cÚfig.h
>

51 
	gdrm_deviû
;

52 
	gdrm_mode_£t
;

53 
	gdrm_fže
;

54 
	gdrm_þ_»ù
;

55 
	gdrm_´š‹r
;

56 
	gdeviû_node
;

57 
	gdma_ãnû
;

58 
	gedid
;

60 
šlše
 
št64_t
 
	$U642I64
(
ušt64_t
 
v®
)

62  (
št64_t
)*((št64_ˆ*)&
v®
);

63 
	}
}

64 
šlše
 
ušt64_t
 
	$I642U64
(
št64_t
 
v®
)

66  (
ušt64_t
)*((ušt64_ˆ*)&
v®
);

67 
	}
}

69 
	gdrm_ütc
;

70 
	gdrm_³ndšg_vbÏnk_ev’t
;

71 
	gdrm_¶ªe
;

72 
	gdrm_bridge
;

73 
	gdrm_©omic_¡©e
;

75 
	gdrm_ütc_h–³r_funcs
;

76 
	gdrm_¶ªe_h–³r_funcs
;

108 
	sdrm_ütc_¡©e
 {

109 
drm_ütc
 *
	mütc
;

111 
boÞ
 
	m’abË
;

112 
boÞ
 
	maùive
;

115 
boÞ
 
	m¶ªes_chªged
 : 1;

116 
boÞ
 
	mmode_chªged
 : 1;

117 
boÞ
 
	maùive_chªged
 : 1;

118 
boÞ
 
	mcÚÃùÜs_chªged
 : 1;

119 
boÞ
 
	mzpos_chªged
 : 1;

120 
boÞ
 
	mcÞÜ_mgmt_chªged
 : 1;

127 
u32
 
	m¶ªe_mask
;

129 
u32
 
	mcÚÃùÜ_mask
;

130 
u32
 
	m’cod”_mask
;

142 
drm_di¥Ïy_mode
 
	madju¡ed_mode
;

159 
drm_di¥Ïy_mode
 
	mmode
;

162 
drm_´Ý”ty_blob
 *
	mmode_blob
;

171 
drm_´Ý”ty_blob
 *
	mdegamma_lut
;

179 
drm_´Ý”ty_blob
 *
	mùm
;

188 
drm_´Ý”ty_blob
 *
	mgamma_lut
;

196 
u32
 
	mrg‘_vbÏnk
;

204 
u32
 
	m·geæ_æags
;

254 
drm_³ndšg_vbÏnk_ev’t
 *
	mev’t
;

263 
drm_ütc_comm™
 *
	mcomm™
;

265 
drm_©omic_¡©e
 *
	m¡©e
;

280 
	sdrm_ütc_funcs
 {

291 (*
	m»£t
)(
drm_ütc
 *
	mütc
);

314 (*
	mcursÜ_£t
)(
drm_ütc
 *
	mütc
, 
drm_fže
 *
	mfže_´iv
,

315 
ušt32_t
 
	mhªdË
, ušt32_ˆ
	mwidth
, ušt32_ˆ
	mheight
);

336 (*
	mcursÜ_£t2
)(
drm_ütc
 *
	mütc
, 
drm_fže
 *
	mfže_´iv
,

337 
ušt32_t
 
	mhªdË
, ušt32_ˆ
	mwidth
, ušt32_ˆ
	mheight
,

338 
št32_t
 
	mhÙ_x
, iÁ32_ˆ
	mhÙ_y
);

356 (*
	mcursÜ_move
)(
drm_ütc
 *
	mütc
, 
	mx
, 
	my
);

371 (*
	mgamma_£t
)(
drm_ütc
 *
	mütc
, 
u16
 *
	mr
, u16 *
	mg
, u16 *
	mb
,

372 
ušt32_t
 
	msize
,

373 
drm_mode£t_acquœe_ùx
 *
	mùx
);

382 (*
	mde¡roy
)(
drm_ütc
 *
	mütc
);

398 (*
	m£t_cÚfig
)(
drm_mode_£t
 *
	m£t
,

399 
drm_mode£t_acquœe_ùx
 *
	mùx
);

454 (*
	m·ge_æ
)(
drm_ütc
 *
	mütc
,

455 
drm_äamebufãr
 *
	mfb
,

456 
drm_³ndšg_vbÏnk_ev’t
 *
	mev’t
,

457 
ušt32_t
 
	mæags
,

458 
drm_mode£t_acquœe_ùx
 *
	mùx
);

473 (*
	m·ge_æ_rg‘
)(
drm_ütc
 *
	mütc
,

474 
drm_äamebufãr
 *
	mfb
,

475 
drm_³ndšg_vbÏnk_ev’t
 *
	mev’t
,

476 
ušt32_t
 
	mæags
, ušt32_ˆ
	mrg‘
,

477 
drm_mode£t_acquœe_ùx
 *
	mùx
);

493 (*
	m£t_´Ý”ty
)(
drm_ütc
 *
	mütc
,

494 
drm_´Ý”ty
 *
	m´Ý”ty
, 
ušt64_t
 
	mv®
);

525 
	mdrm_ütc_¡©e
 *(*
	m©omic_du¶iÿ‹_¡©e
)(
drm_ütc
 *
	mütc
);

533 (*
	m©omic_de¡roy_¡©e
)(
drm_ütc
 *
	mütc
,

534 
drm_ütc_¡©e
 *
	m¡©e
);

578 (*
	m©omic_£t_´Ý”ty
)(
drm_ütc
 *
	mütc
,

579 
drm_ütc_¡©e
 *
	m¡©e
,

580 
drm_´Ý”ty
 *
	m´Ý”ty
,

581 
ušt64_t
 
	mv®
);

600 (*
	m©omic_g‘_´Ý”ty
)(
drm_ütc
 *
	mütc
,

601 cÚ¡ 
drm_ütc_¡©e
 *
	m¡©e
,

602 
drm_´Ý”ty
 *
	m´Ý”ty
,

603 
ušt64_t
 *
	mv®
);

618 (*
	mÏ‹_»gi¡”
)(
drm_ütc
 *
	mütc
);

629 (*
	m—¾y_uÄegi¡”
)(
drm_ütc
 *
	mütc
);

655 (*
	m£t_üc_sourû
)(
drm_ütc
 *
	mütc
, cÚ¡ *
	msourû
,

656 
size_t
 *
	mv®ues_út
);

667 (*
	m©omic_´št_¡©e
)(
drm_´š‹r
 *
	mp
,

668 cÚ¡ 
drm_ütc_¡©e
 *
	m¡©e
);

694 
u32
 (*
g‘_vbÏnk_couÁ”
)(
drm_ütc
 *
	mütc
);

707 (*
	m’abË_vbÏnk
)(
drm_ütc
 *
	mütc
);

715 (*
	mdi§bË_vbÏnk
)(
drm_ütc
 *
	mütc
);

744 
	sdrm_ütc
 {

745 
drm_deviû
 *
	mdev
;

746 
deviû_node
 *
	mpÜt
;

747 
li¡_h—d
 
	mh—d
;

749 *
	mÇme
;

761 
drm_mode£t_lock
 
	mmu‹x
;

763 
drm_mode_objeù
 
	mba£
;

766 
drm_¶ªe
 *
	m´im¬y
;

767 
drm_¶ªe
 *
	mcursÜ
;

773 
	mšdex
;

776 
	mcursÜ_x
;

777 
	mcursÜ_y
;

779 
boÞ
 
	m’abËd
;

782 
drm_di¥Ïy_mode
 
	mmode
;

787 
drm_di¥Ïy_mode
 
	mhwmode
;

789 
	mx
, 
	my
;

790 cÚ¡ 
drm_ütc_funcs
 *
	mfuncs
;

793 
ušt32_t
 
	mgamma_size
;

794 
ušt16_t
 *
	mgamma_¡Üe
;

797 cÚ¡ 
drm_ütc_h–³r_funcs
 *
	mh–³r_´iv©e
;

799 
drm_objeù_´Ý”t›s
 
	m´Ý”t›s
;

814 
drm_ütc_¡©e
 *
	m¡©e
;

831 
li¡_h—d
 
	mcomm™_li¡
;

838 
¥šlock_t
 
	mcomm™_lock
;

840 #ifdeà
CONFIG_DEBUG_FS


846 
d’Œy
 *
	mdebugfs_’Œy
;

854 
drm_ütc_üc
 
	müc
;

861 
	mãnû_cÚ‹xt
;

869 
¥šlock_t
 
	mãnû_lock
;

876 
	mãnû_£qno
;

883 
	mtim–še_Çme
[32];

899 
	sdrm_mode_£t
 {

900 
drm_äamebufãr
 *
	mfb
;

901 
drm_ütc
 *
	mütc
;

902 
drm_di¥Ïy_mode
 *
	mmode
;

904 
ušt32_t
 
	mx
;

905 
ušt32_t
 
	my
;

907 
drm_cÚÃùÜ
 **
	mcÚÃùÜs
;

908 
size_t
 
	mnum_cÚÃùÜs
;

911 
	#obj_to_ütc
(
x
è
	`cÚš”_of
(x, 
drm_ütc
, 
ba£
)

	)

913 
	$__´štf
(6, 7)

914 
	`drm_ütc_š™_w™h_¶ªes
(
drm_deviû
 *
dev
,

915 
drm_ütc
 *
ütc
,

916 
drm_¶ªe
 *
´im¬y
,

917 
drm_¶ªe
 *
cursÜ
,

918 cÚ¡ 
drm_ütc_funcs
 *
funcs
,

919 cÚ¡ *
Çme
, ...);

920 
	`drm_ütc_þ—nup
(
drm_ütc
 *
ütc
);

929 
šlše
 
	$drm_ütc_šdex
(cÚ¡ 
drm_ütc
 *
ütc
)

931  
ütc
->
šdex
;

932 
	}
}

941 
šlše
 
ušt32_t
 
	$drm_ütc_mask
(cÚ¡ 
drm_ütc
 *
ütc
)

943  1 << 
	`drm_ütc_šdex
(
ütc
);

944 
	}
}

946 
drm_ütc_fÜû_di§bË
(
drm_ütc
 *
ütc
);

947 
drm_ütc_fÜû_di§bË_®l
(
drm_deviû
 *
dev
);

949 
drm_mode_£t_cÚfig_š‹º®
(
drm_mode_£t
 *
£t
);

950 
drm_ütc
 *
drm_ütc_äom_šdex
(
drm_deviû
 *
dev
, 
idx
);

962 
šlše
 
drm_ütc
 *
	$drm_ütc_fšd
(
drm_deviû
 *
dev
,

963 
drm_fže
 *
fže_´iv
,

964 
ušt32_t
 
id
)

966 
drm_mode_objeù
 *
mo
;

967 
mo
 = 
	`drm_mode_objeù_fšd
(
dev
, 
fže_´iv
, 
id
, 
DRM_MODE_OBJECT_CRTC
);

968  
mo
 ? 
	`obj_to_ütc
(moè: 
NULL
;

969 
	}
}

978 
	#drm_fÜ_—ch_ütc
(
ütc
, 
dev
) \

979 
	`li¡_fÜ_—ch_’Œy
(
ütc
, &(
dev
)->
mode_cÚfig
.
ütc_li¡
, 
h—d
)

	)

	@src/common/linuxkpi/include/drm/drm_crtc_helper.h

33 #iâdeà
__DRM_CRTC_HELPER_H__


34 
	#__DRM_CRTC_HELPER_H__


	)

36 
	~<lšux/¥šlock.h
>

37 
	~<lšux/ty³s.h
>

38 
	~<lšux/idr.h
>

40 
	~<lšux/fb.h
>

42 
	~<drm/drm_ütc.h
>

43 
	~<drm/drm_mode£t_h–³r_vbËs.h
>

44 
	~<drm/drm_mode£t_h–³r.h
>

46 
drm_h–³r_di§bË_unu£d_funùiÚs
(
drm_deviû
 *
dev
);

47 
drm_ütc_h–³r_£t_cÚfig
(
drm_mode_£t
 *
£t
,

48 
drm_mode£t_acquœe_ùx
 *
ùx
);

49 
boÞ
 
drm_ütc_h–³r_£t_mode
(
drm_ütc
 *
ütc
,

50 
drm_di¥Ïy_mode
 *
mode
,

51 
x
, 
y
,

52 
drm_äamebufãr
 *
Þd_fb
);

53 
boÞ
 
drm_h–³r_ütc_š_u£
(
drm_ütc
 *
ütc
);

54 
boÞ
 
drm_h–³r_’cod”_š_u£
(
drm_’cod”
 *
’cod”
);

56 
drm_h–³r_cÚÃùÜ_dpms
(
drm_cÚÃùÜ
 *
cÚÃùÜ
, 
mode
);

58 
drm_h–³r_»sume_fÜû_mode
(
drm_deviû
 *
dev
);

60 
drm_h–³r_ütc_mode_£t
(
drm_ütc
 *
ütc
, 
drm_di¥Ïy_mode
 *
mode
,

61 
drm_di¥Ïy_mode
 *
adju¡ed_mode
, 
x
, 
y
,

62 
drm_äamebufãr
 *
Þd_fb
);

63 
drm_h–³r_ütc_mode_£t_ba£
(
drm_ütc
 *
ütc
, 
x
, 
y
,

64 
drm_äamebufãr
 *
Þd_fb
);

67 
drm_h–³r_´obe_sšgË_cÚÃùÜ_modes
(
drm_cÚÃùÜ


68 *
cÚÃùÜ
, 
ušt32_t
 
maxX
,

69 
ušt32_t
 
maxY
);

70 
drm_h–³r_´obe_d‘eù
(
drm_cÚÃùÜ
 *
cÚÃùÜ
,

71 
drm_mode£t_acquœe_ùx
 *
ùx
,

72 
boÞ
 
fÜû
);

73 
drm_kms_h–³r_pÞl_š™
(
drm_deviû
 *
dev
);

74 
drm_kms_h–³r_pÞl_fši
(
drm_deviû
 *
dev
);

75 
boÞ
 
drm_h–³r_hpd_œq_ev’t
(
drm_deviû
 *
dev
);

76 
drm_kms_h–³r_hÙ¶ug_ev’t
(
drm_deviû
 *
dev
);

78 
drm_kms_h–³r_pÞl_di§bË
(
drm_deviû
 *
dev
);

79 
drm_kms_h–³r_pÞl_’abË
(
drm_deviû
 *
dev
);

80 
boÞ
 
drm_kms_h–³r_is_pÞl_wÜk”
();

	@src/common/linuxkpi/include/drm/drm_debugfs.h

32 #iâdeà
_DRM_DEBUGFS_H_


33 
	#_DRM_DEBUGFS_H_


	)

41 
	sdrm_šfo_li¡
 {

43 cÚ¡ *
	mÇme
;

51 (*
	mshow
)(
	m£q_fže
*, *);

53 
u32
 
	mdriv”_ã©u»s
;

55 *
	md©a
;

70 
	sdrm_šfo_node
 {

72 
drm_mšÜ
 *
	mmšÜ
;

74 cÚ¡ 
drm_šfo_li¡
 *
	mšfo_’t
;

76 
li¡_h—d
 
	mli¡
;

77 
d’Œy
 *
	md’t
;

80 #ià
defšed
(
CONFIG_DEBUG_FS
)

81 
drm_debugfs_ü—‹_fžes
(cÚ¡ 
drm_šfo_li¡
 *
fžes
,

82 
couÁ
, 
d’Œy
 *
roÙ
,

83 
drm_mšÜ
 *
mšÜ
);

84 
drm_debugfs_»move_fžes
(cÚ¡ 
drm_šfo_li¡
 *
fžes
,

85 
couÁ
, 
drm_mšÜ
 *
mšÜ
);

87 
šlše
 
	$drm_debugfs_ü—‹_fžes
(cÚ¡ 
drm_šfo_li¡
 *
fžes
,

88 
couÁ
, 
d’Œy
 *
roÙ
,

89 
drm_mšÜ
 *
mšÜ
)

92 
	}
}

94 
šlše
 
	$drm_debugfs_»move_fžes
(cÚ¡ 
drm_šfo_li¡
 *
fžes
,

95 
couÁ
, 
drm_mšÜ
 *
mšÜ
)

98 
	}
}

	@src/common/linuxkpi/include/drm/drm_debugfs_crc.h

22 #iâdeà
__DRM_DEBUGFS_CRC_H__


23 
	#__DRM_DEBUGFS_CRC_H__


	)

25 
	#DRM_MAX_CRC_NR
 10

	)

33 
	sdrm_ütc_üc_’Œy
 {

34 
boÞ
 
	mhas_äame_couÁ”
;

35 
ušt32_t
 
	mäame
;

36 
ušt32_t
 
	mücs
[
DRM_MAX_CRC_NR
];

39 
	#DRM_CRC_ENTRIES_NR
 128

	)

52 
	sdrm_ütc_üc
 {

53 
¥šlock_t
 
	mlock
;

54 cÚ¡ *
	msourû
;

55 
boÞ
 
	mÝ’ed
;

56 
drm_ütc_üc_’Œy
 *
	m’Œ›s
;

57 
	mh—d
, 
	mž
;

58 
size_t
 
	mv®ues_út
;

59 
wa™_queue_h—d_t
 
	mwq
;

62 #ià
defšed
(
CONFIG_DEBUG_FS
)

63 
drm_ütc_add_üc_’Œy
(
drm_ütc
 *
ütc
, 
boÞ
 
has_äame
,

64 
ušt32_t
 
äame
, ušt32_ˆ*
ücs
);

66 
šlše
 
	$drm_ütc_add_üc_’Œy
(
drm_ütc
 *
ütc
, 
boÞ
 
has_äame
,

67 
ušt32_t
 
äame
, ušt32_ˆ*
ücs
)

69  -
EINVAL
;

70 
	}
}

	@src/common/linuxkpi/include/drm/drm_device.h

1 #iâdeà
_DRM_DEVICE_H_


2 
	#_DRM_DEVICE_H_


	)

4 
	~<lšux/li¡.h
>

5 
	~<lšux/k»f.h
>

6 
	~<lšux/mu‹x.h
>

7 
	~<lšux/idr.h
>

9 
	~<drm/drm_hashb.h
>

10 
	~<drm/drm_mode_cÚfig.h
>

12 
	gdrm_driv”
;

13 
	gdrm_mšÜ
;

14 
	gdrm_ma¡”
;

15 
	gdrm_deviû_dma
;

16 
	gdrm_vbÏnk_ütc
;

17 
	gdrm_sg_mem
;

18 
	gdrm_loÿl_m­
;

19 
	gdrm_vma_off£t_mªag”
;

20 
	gdrm_fb_h–³r
;

22 
	gšode
;

24 
	gpci_dev
;

25 
	gpci_cÚŒÞËr
;

31 
	sdrm_deviû
 {

32 
li¡_h—d
 
	mËgacy_dev_li¡
;

33 
	mif_v”siÚ
;

37 
k»f
 
	m»f
;

38 
deviû
 *
	mdev
;

39 
drm_driv”
 *
	mdriv”
;

40 *
	mdev_´iv©e
;

41 
drm_mšÜ
 *
	mcÚŒÞ
;

42 
drm_mšÜ
 *
	m´im¬y
;

43 
drm_mšÜ
 *
	m»nd”
;

44 
boÞ
 
	m»gi¡”ed
;

47 
drm_ma¡”
 *
	mma¡”
;

49 
©omic_t
 
	muÅlugged
;

50 #ifdeà
__lšux__


51 
šode
 *
	mªÚ_šode
;

53 *
	munique
;

58 
mu‹x
 
	m¡ruù_mu‹x
;

59 
mu‹x
 
	mma¡”_mu‹x
;

64 
	mÝ’_couÁ
;

65 
¥šlock_t
 
	mbuf_lock
;

66 
	mbuf_u£
;

67 
©omic_t
 
	mbuf_®loc
;

70 
mu‹x
 
	mfž–i¡_mu‹x
;

71 
li¡_h—d
 
	mfž–i¡
;

75 
li¡_h—d
 
	mm­li¡
;

76 
drm_Ý’_hash
 
	mm­_hash
;

80 
li¡_h—d
 
	mùxli¡
;

81 
mu‹x
 
	mùxli¡_mu‹x
;

83 
idr
 
	mùx_idr
;

85 
li¡_h—d
 
	mvm®i¡
;

91 
drm_deviû_dma
 *
	mdma
;

97 
__vÞ©že__
 
	mcÚ‹xt_æag
;

98 
	mÏ¡_cÚ‹xt
;

108 
boÞ
 
	mœq_’abËd
;

109 
	mœq
;

124 
boÞ
 
	mvbÏnk_di§bË_immedŸ‹
;

134 
drm_vbÏnk_ütc
 *
	mvbÏnk
;

136 
¥šlock_t
 
	mvbÏnk_time_lock
;

137 
¥šlock_t
 
	mvbl_lock
;

154 
u32
 
	mmax_vbÏnk_couÁ
;

159 
li¡_h—d
 
	mvbÏnk_ev’t_li¡
;

160 
¥šlock_t
 
	mev’t_lock
;

164 
drm_agp_h—d
 *
	magp
;

166 
pci_dev
 *
	mpdev
;

167 #ifdeà
__®pha__


168 
pci_cÚŒÞËr
 *
	mho£
;

171 
drm_sg_mem
 *
	msg
;

172 
	mnum_ütcs
;

175 
	mcÚ‹xt
;

176 
drm_hw_lock
 *
	mlock
;

177 } 
	msigd©a
;

179 
drm_loÿl_m­
 *
	magp_bufãr_m­
;

180 
	magp_bufãr_tok’
;

182 
drm_mode_cÚfig
 
	mmode_cÚfig
;

186 
mu‹x
 
	mobjeù_Çme_lock
;

187 
idr
 
	mobjeù_Çme_idr
;

188 
drm_vma_off£t_mªag”
 *
	mvma_off£t_mªag”
;

190 
	msw™ch_pow”_¡©e
;

192 #iâdeà
__lšux__


193 
drm_sysùl_šfo
 *
	msysùl
;

194 
	msysùl_node_idx
;

196 *
	mdrm_‰m_bdev
;

198 *
	msysùl_´iv©e
;

199 
	mbusid_¡r
[128];

200 
	mmode£‰šg
;

204 
	#DRM_PCI_RESOURCE_MAX
 7

	)

205 
	#MAX_ORDER
 11

	)

207 
	sdrm_pci_»sourû
 {

208 
»sourû
 *
	m»s
;

209 
	mrid
;

210 } 
	mdrm_pcœ
[
DRM_PCI_RESOURCE_MAX
];

218 
drm_fb_h–³r
 *
	mfb_h–³r
;

	@src/common/linuxkpi/include/drm/drm_displayid.h

22 #iâdeà
DRM_DISPLAYID_H


23 
	#DRM_DISPLAYID_H


	)

25 
	#DATA_BLOCK_PRODUCT_ID
 0x00

	)

26 
	#DATA_BLOCK_DISPLAY_PARAMETERS
 0x01

	)

27 
	#DATA_BLOCK_COLOR_CHARACTERISTICS
 0x02

	)

28 
	#DATA_BLOCK_TYPE_1_DETAILED_TIMING
 0x03

	)

29 
	#DATA_BLOCK_TYPE_2_DETAILED_TIMING
 0x04

	)

30 
	#DATA_BLOCK_TYPE_3_SHORT_TIMING
 0x05

	)

31 
	#DATA_BLOCK_TYPE_4_DMT_TIMING
 0x06

	)

32 
	#DATA_BLOCK_VESA_TIMING
 0x07

	)

33 
	#DATA_BLOCK_CEA_TIMING
 0x08

	)

34 
	#DATA_BLOCK_VIDEO_TIMING_RANGE
 0x09

	)

35 
	#DATA_BLOCK_PRODUCT_SERIAL_NUMBER
 0x0a

	)

36 
	#DATA_BLOCK_GP_ASCII_STRING
 0x0b

	)

37 
	#DATA_BLOCK_DISPLAY_DEVICE_DATA
 0x0c

	)

38 
	#DATA_BLOCK_INTERFACE_POWER_SEQUENCING
 0x0d

	)

39 
	#DATA_BLOCK_TRANSFER_CHARACTERISTICS
 0x0e

	)

40 
	#DATA_BLOCK_DISPLAY_INTERFACE
 0x0f

	)

41 
	#DATA_BLOCK_STEREO_DISPLAY_INTERFACE
 0x10

	)

42 
	#DATA_BLOCK_TILED_DISPLAY
 0x12

	)

44 
	#DATA_BLOCK_VENDOR_SPECIFIC
 0x7f

	)

46 
	#PRODUCT_TYPE_EXTENSION
 0

	)

47 
	#PRODUCT_TYPE_TEST
 1

	)

48 
	#PRODUCT_TYPE_PANEL
 2

	)

49 
	#PRODUCT_TYPE_MONITOR
 3

	)

50 
	#PRODUCT_TYPE_TV
 4

	)

51 
	#PRODUCT_TYPE_REPEATER
 5

	)

52 
	#PRODUCT_TYPE_DIRECT_DRIVE
 6

	)

54 
	sdi¥Ïyid_hdr
 {

55 
u8
 
	m»v
;

56 
u8
 
	mby‹s
;

57 
u8
 
	m´od_id
;

58 
u8
 
	mext_couÁ
;

59 } 
	g__·cked
;

61 
	sdi¥Ïyid_block
 {

62 
u8
 
	mg
;

63 
u8
 
	m»v
;

64 
u8
 
	mnum_by‹s
;

65 } 
	g__·cked
;

67 
	sdi¥Ïyid_tžed_block
 {

68 
di¥Ïyid_block
 
	mba£
;

69 
u8
 
	mtže_ÿp
;

70 
u8
 
	mtÝo
[3];

71 
u8
 
	mtže_size
[4];

72 
u8
 
	mtže_pix–_bez–
[5];

73 
u8
 
	mtÝÞogy_id
[8];

74 } 
	g__·cked
;

76 
	sdi¥Ïyid_d‘ažed_timšgs_1
 {

77 
u8
 
	mpix–_þock
[3];

78 
u8
 
	mæags
;

79 
u8
 
	mhaùive
[2];

80 
u8
 
	mhbÏnk
[2];

81 
u8
 
	mhsync
[2];

82 
u8
 
	mhsw
[2];

83 
u8
 
	mvaùive
[2];

84 
u8
 
	mvbÏnk
[2];

85 
u8
 
	mvsync
[2];

86 
u8
 
	mvsw
[2];

87 } 
	g__·cked
;

89 
	sdi¥Ïyid_d‘ažed_timšg_block
 {

90 
di¥Ïyid_block
 
	mba£
;

91 
di¥Ïyid_d‘ažed_timšgs_1
 
	mtimšgs
[0];

	@src/common/linuxkpi/include/drm/drm_dp_dual_mode_helper.h

23 #iâdeà
DRM_DP_DUAL_MODE_HELPER_H


24 
	#DRM_DP_DUAL_MODE_HELPER_H


	)

26 
	~<lšux/ty³s.h
>

32 
	#DP_DUAL_MODE_HDMI_ID
 0x00

	)

33 
	#DP_DUAL_MODE_HDMI_ID_LEN
 16

	)

38 
	#DP_DUAL_MODE_ADAPTOR_ID
 0x10

	)

39 
	#DP_DUAL_MODE_REV_MASK
 0x07

	)

40 
	#DP_DUAL_MODE_REV_TYPE2
 0x00

	)

41 
	#DP_DUAL_MODE_TYPE_MASK
 0xf0

	)

42 
	#DP_DUAL_MODE_TYPE_TYPE2
 0xa0

	)

44 
	#DP_DUAL_MODE_TYPE_HAS_DPCD
 0x08

	)

45 
	#DP_DUAL_MODE_IEEE_OUI
 0x11

	)

46 
	#DP_DUAL_IEEE_OUI_LEN
 3

	)

47 
	#DP_DUAL_DEVICE_ID
 0x14

	)

48 
	#DP_DUAL_DEVICE_ID_LEN
 6

	)

49 
	#DP_DUAL_MODE_HARDWARE_REV
 0x1a

	)

50 
	#DP_DUAL_MODE_FIRMWARE_MAJOR_REV
 0x1b

	)

51 
	#DP_DUAL_MODE_FIRMWARE_MINOR_REV
 0x1c

	)

52 
	#DP_DUAL_MODE_MAX_TMDS_CLOCK
 0x1d

	)

53 
	#DP_DUAL_MODE_I2C_SPEED_CAP
 0x1e

	)

54 
	#DP_DUAL_MODE_TMDS_OEN
 0x20

	)

55 
	#DP_DUAL_MODE_TMDS_DISABLE
 0x01

	)

56 
	#DP_DUAL_MODE_HDMI_PIN_CTRL
 0x21

	)

57 
	#DP_DUAL_MODE_CEC_ENABLE
 0x01

	)

58 
	#DP_DUAL_MODE_I2C_SPEED_CTRL
 0x22

	)

61 
	#DP_DUAL_MODE_LSPCON_MODE_CHANGE
 0x40

	)

62 
	#DP_DUAL_MODE_LSPCON_CURRENT_MODE
 0x41

	)

63 
	#DP_DUAL_MODE_LSPCON_MODE_PCON
 0x1

	)

65 
	gi2c_ad­‹r
;

67 
ssize_t
 
drm_dp_du®_mode_»ad
(
i2c_ad­‹r
 *
ad­‹r
,

68 
u8
 
off£t
, *
bufãr
, 
size_t
 
size
);

69 
ssize_t
 
drm_dp_du®_mode_wr™e
(
i2c_ad­‹r
 *
ad­‹r
,

70 
u8
 
off£t
, cÚ¡ *
bufãr
, 
size_t
 
size
);

80 
	edrm_l¥cÚ_mode
 {

81 
	mDRM_LSPCON_MODE_INVALID
,

82 
	mDRM_LSPCON_MODE_LS
,

83 
	mDRM_LSPCON_MODE_PCON
,

96 
	edrm_dp_du®_mode_ty³
 {

97 
	mDRM_DP_DUAL_MODE_NONE
,

98 
	mDRM_DP_DUAL_MODE_UNKNOWN
,

99 
	mDRM_DP_DUAL_MODE_TYPE1_DVI
,

100 
	mDRM_DP_DUAL_MODE_TYPE1_HDMI
,

101 
	mDRM_DP_DUAL_MODE_TYPE2_DVI
,

102 
	mDRM_DP_DUAL_MODE_TYPE2_HDMI
,

103 
	mDRM_DP_DUAL_MODE_LSPCON
,

106 
drm_dp_du®_mode_ty³
 
drm_dp_du®_mode_d‘eù
(
i2c_ad­‹r
 *
ad­‹r
);

107 
drm_dp_du®_mode_max_tmds_þock
(
drm_dp_du®_mode_ty³
 
ty³
,

108 
i2c_ad­‹r
 *
ad­‹r
);

109 
drm_dp_du®_mode_g‘_tmds_ouut
(
drm_dp_du®_mode_ty³
 
ty³
,

110 
i2c_ad­‹r
 *
ad­‹r
, 
boÞ
 *
’abËd
);

111 
drm_dp_du®_mode_£t_tmds_ouut
(
drm_dp_du®_mode_ty³
 
ty³
,

112 
i2c_ad­‹r
 *
ad­‹r
, 
boÞ
 
’abË
);

113 cÚ¡ *
drm_dp_g‘_du®_mode_ty³_Çme
(
drm_dp_du®_mode_ty³
 
ty³
);

115 
drm_l¥cÚ_g‘_mode
(
i2c_ad­‹r
 *
ad­‹r
,

116 
drm_l¥cÚ_mode
 *
cu¼’t_mode
);

117 
drm_l¥cÚ_£t_mode
(
i2c_ad­‹r
 *
ad­‹r
,

118 
drm_l¥cÚ_mode
 
»qd_mode
);

	@src/common/linuxkpi/include/drm/drm_dp_helper.h

23 #iâdeà
_DRM_DP_HELPER_H_


24 
	#_DRM_DP_HELPER_H_


	)

26 
	~<lšux/ty³s.h
>

27 
	~<lšux/i2c.h
>

28 
	~<lšux/d–ay.h
>

45 
	#DP_AUX_MAX_PAYLOAD_BYTES
 16

	)

47 
	#DP_AUX_I2C_WRITE
 0x0

	)

48 
	#DP_AUX_I2C_READ
 0x1

	)

49 
	#DP_AUX_I2C_WRITE_STATUS_UPDATE
 0x2

	)

50 
	#DP_AUX_I2C_MOT
 0x4

	)

51 
	#DP_AUX_NATIVE_WRITE
 0x8

	)

52 
	#DP_AUX_NATIVE_READ
 0x9

	)

54 
	#DP_AUX_NATIVE_REPLY_ACK
 (0x0 << 0)

	)

55 
	#DP_AUX_NATIVE_REPLY_NACK
 (0x1 << 0)

	)

56 
	#DP_AUX_NATIVE_REPLY_DEFER
 (0x2 << 0)

	)

57 
	#DP_AUX_NATIVE_REPLY_MASK
 (0x3 << 0)

	)

59 
	#DP_AUX_I2C_REPLY_ACK
 (0x0 << 2)

	)

60 
	#DP_AUX_I2C_REPLY_NACK
 (0x1 << 2)

	)

61 
	#DP_AUX_I2C_REPLY_DEFER
 (0x2 << 2)

	)

62 
	#DP_AUX_I2C_REPLY_MASK
 (0x3 << 2)

	)

66 
	#DP_DPCD_REV
 0x000

	)

68 
	#DP_MAX_LINK_RATE
 0x001

	)

70 
	#DP_MAX_LANE_COUNT
 0x002

	)

71 
	#DP_MAX_LANE_COUNT_MASK
 0x1f

	)

72 
	#DP_TPS3_SUPPORTED
 (1 << 6è

	)

73 
	#DP_ENHANCED_FRAME_CAP
 (1 << 7)

	)

75 
	#DP_MAX_DOWNSPREAD
 0x003

	)

76 
	#DP_MAX_DOWNSPREAD_0_5
 (1 << 0)

	)

77 
	#DP_NO_AUX_HANDSHAKE_LINK_TRAINING
 (1 << 6)

	)

79 
	#DP_NORP
 0x004

	)

81 
	#DP_DOWNSTREAMPORT_PRESENT
 0x005

	)

82 
	#DP_DWN_STRM_PORT_PRESENT
 (1 << 0)

	)

83 
	#DP_DWN_STRM_PORT_TYPE_MASK
 0x06

	)

84 
	#DP_DWN_STRM_PORT_TYPE_DP
 (0 << 1)

	)

85 
	#DP_DWN_STRM_PORT_TYPE_ANALOG
 (1 << 1)

	)

86 
	#DP_DWN_STRM_PORT_TYPE_TMDS
 (2 << 1)

	)

87 
	#DP_DWN_STRM_PORT_TYPE_OTHER
 (3 << 1)

	)

88 
	#DP_FORMAT_CONVERSION
 (1 << 3)

	)

89 
	#DP_DETAILED_CAP_INFO_AVAILABLE
 (1 << 4è

	)

91 
	#DP_MAIN_LINK_CHANNEL_CODING
 0x006

	)

93 
	#DP_DOWN_STREAM_PORT_COUNT
 0x007

	)

94 
	#DP_PORT_COUNT_MASK
 0x0f

	)

95 
	#DP_MSA_TIMING_PAR_IGNORED
 (1 << 6è

	)

96 
	#DP_OUI_SUPPORT
 (1 << 7)

	)

98 
	#DP_RECEIVE_PORT_0_CAP_0
 0x008

	)

99 
	#DP_LOCAL_EDID_PRESENT
 (1 << 1)

	)

100 
	#DP_ASSOCIATED_TO_PRECEDING_PORT
 (1 << 2)

	)

102 
	#DP_RECEIVE_PORT_0_BUFFER_SIZE
 0x009

	)

104 
	#DP_RECEIVE_PORT_1_CAP_0
 0x00a

	)

105 
	#DP_RECEIVE_PORT_1_BUFFER_SIZE
 0x00b

	)

107 
	#DP_I2C_SPEED_CAP
 0x00ø

	)

108 
	#DP_I2C_SPEED_1K
 0x01

	)

109 
	#DP_I2C_SPEED_5K
 0x02

	)

110 
	#DP_I2C_SPEED_10K
 0x04

	)

111 
	#DP_I2C_SPEED_100K
 0x08

	)

112 
	#DP_I2C_SPEED_400K
 0x10

	)

113 
	#DP_I2C_SPEED_1M
 0x20

	)

115 
	#DP_EDP_CONFIGURATION_CAP
 0x00d

	)

116 
	#DP_ALTERNATE_SCRAMBLER_RESET_CAP
 (1 << 0)

	)

117 
	#DP_FRAMING_CHANGE_CAP
 (1 << 1)

	)

118 
	#DP_DPCD_DISPLAY_CONTROL_CAPABLE
 (1 << 3è

	)

120 
	#DP_TRAINING_AUX_RD_INTERVAL
 0x00

	)

122 
	#DP_ADAPTER_CAP
 0x00à

	)

123 
	#DP_FORCE_LOAD_SENSE_CAP
 (1 << 0)

	)

124 
	#DP_ALTERNATE_I2C_PATTERN_CAP
 (1 << 1)

	)

126 
	#DP_SUPPORTED_LINK_RATES
 0x010

	)

127 
	#DP_MAX_SUPPORTED_RATES
 8

	)

130 
	#DP_FAUX_CAP
 0x020

	)

131 
	#DP_FAUX_CAP_1
 (1 << 0)

	)

133 
	#DP_MSTM_CAP
 0x021

	)

134 
	#DP_MST_CAP
 (1 << 0)

	)

136 
	#DP_NUMBER_OF_AUDIO_ENDPOINTS
 0x022

	)

139 
	#DP_AV_GRANULARITY
 0x023

	)

140 
	#DP_AG_FACTOR_MASK
 (0xà<< 0)

	)

141 
	#DP_AG_FACTOR_3MS
 (0 << 0)

	)

142 
	#DP_AG_FACTOR_2MS
 (1 << 0)

	)

143 
	#DP_AG_FACTOR_1MS
 (2 << 0)

	)

144 
	#DP_AG_FACTOR_500US
 (3 << 0)

	)

145 
	#DP_AG_FACTOR_200US
 (4 << 0)

	)

146 
	#DP_AG_FACTOR_100US
 (5 << 0)

	)

147 
	#DP_AG_FACTOR_10US
 (6 << 0)

	)

148 
	#DP_AG_FACTOR_1US
 (7 << 0)

	)

149 
	#DP_VG_FACTOR_MASK
 (0xà<< 4)

	)

150 
	#DP_VG_FACTOR_3MS
 (0 << 4)

	)

151 
	#DP_VG_FACTOR_2MS
 (1 << 4)

	)

152 
	#DP_VG_FACTOR_1MS
 (2 << 4)

	)

153 
	#DP_VG_FACTOR_500US
 (3 << 4)

	)

154 
	#DP_VG_FACTOR_200US
 (4 << 4)

	)

155 
	#DP_VG_FACTOR_100US
 (5 << 4)

	)

157 
	#DP_AUD_DEC_LAT0
 0x024

	)

158 
	#DP_AUD_DEC_LAT1
 0x025

	)

160 
	#DP_AUD_PP_LAT0
 0x026

	)

161 
	#DP_AUD_PP_LAT1
 0x027

	)

163 
	#DP_VID_INTER_LAT
 0x028

	)

165 
	#DP_VID_PROG_LAT
 0x029

	)

167 
	#DP_REP_LAT
 0x02a

	)

169 
	#DP_AUD_DEL_INS0
 0x02b

	)

170 
	#DP_AUD_DEL_INS1
 0x02c

	)

171 
	#DP_AUD_DEL_INS2
 0x02d

	)

174 
	#DP_RECEIVER_ALPM_CAP
 0x02

	)

175 
	#DP_ALPM_CAP
 (1 << 0)

	)

177 
	#DP_SINK_DEVICE_AUX_FRAME_SYNC_CAP
 0x02à

	)

178 
	#DP_AUX_FRAME_SYNC_CAP
 (1 << 0)

	)

180 
	#DP_GUID
 0x030

	)

182 
	#DP_DSC_SUPPORT
 0x060

	)

183 
	#DP_DSC_DECOMPRESSION_IS_SUPPORTED
 (1 << 0)

	)

185 
	#DP_DSC_REV
 0x061

	)

186 
	#DP_DSC_MAJOR_MASK
 (0xà<< 0)

	)

187 
	#DP_DSC_MINOR_MASK
 (0xà<< 4)

	)

188 
	#DP_DSC_MAJOR_SHIFT
 0

	)

189 
	#DP_DSC_MINOR_SHIFT
 4

	)

191 
	#DP_DSC_RC_BUF_BLK_SIZE
 0x062

	)

192 
	#DP_DSC_RC_BUF_BLK_SIZE_1
 0x0

	)

193 
	#DP_DSC_RC_BUF_BLK_SIZE_4
 0x1

	)

194 
	#DP_DSC_RC_BUF_BLK_SIZE_16
 0x2

	)

195 
	#DP_DSC_RC_BUF_BLK_SIZE_64
 0x3

	)

197 
	#DP_DSC_RC_BUF_SIZE
 0x063

	)

199 
	#DP_DSC_SLICE_CAP_1
 0x064

	)

200 
	#DP_DSC_1_PER_DP_DSC_SINK
 (1 << 0)

	)

201 
	#DP_DSC_2_PER_DP_DSC_SINK
 (1 << 1)

	)

202 
	#DP_DSC_4_PER_DP_DSC_SINK
 (1 << 3)

	)

203 
	#DP_DSC_6_PER_DP_DSC_SINK
 (1 << 4)

	)

204 
	#DP_DSC_8_PER_DP_DSC_SINK
 (1 << 5)

	)

205 
	#DP_DSC_10_PER_DP_DSC_SINK
 (1 << 6)

	)

206 
	#DP_DSC_12_PER_DP_DSC_SINK
 (1 << 7)

	)

208 
	#DP_DSC_LINE_BUF_BIT_DEPTH
 0x065

	)

209 
	#DP_DSC_LINE_BUF_BIT_DEPTH_MASK
 (0xà<< 0)

	)

210 
	#DP_DSC_LINE_BUF_BIT_DEPTH_9
 0x0

	)

211 
	#DP_DSC_LINE_BUF_BIT_DEPTH_10
 0x1

	)

212 
	#DP_DSC_LINE_BUF_BIT_DEPTH_11
 0x2

	)

213 
	#DP_DSC_LINE_BUF_BIT_DEPTH_12
 0x3

	)

214 
	#DP_DSC_LINE_BUF_BIT_DEPTH_13
 0x4

	)

215 
	#DP_DSC_LINE_BUF_BIT_DEPTH_14
 0x5

	)

216 
	#DP_DSC_LINE_BUF_BIT_DEPTH_15
 0x6

	)

217 
	#DP_DSC_LINE_BUF_BIT_DEPTH_16
 0x7

	)

218 
	#DP_DSC_LINE_BUF_BIT_DEPTH_8
 0x8

	)

220 
	#DP_DSC_BLK_PREDICTION_SUPPORT
 0x066

	)

221 
	#DP_DSC_BLK_PREDICTION_IS_SUPPORTED
 (1 << 0)

	)

223 
	#DP_DSC_MAX_BITS_PER_PIXEL_LOW
 0x067

	)

225 
	#DP_DSC_MAX_BITS_PER_PIXEL_HI
 0x068

	)

227 
	#DP_DSC_DEC_COLOR_FORMAT_CAP
 0x069

	)

228 
	#DP_DSC_RGB
 (1 << 0)

	)

229 
	#DP_DSC_YCbCr444
 (1 << 1)

	)

230 
	#DP_DSC_YCbCr422_Sim¶e
 (1 << 2)

	)

231 
	#DP_DSC_YCbCr422_N©ive
 (1 << 3)

	)

232 
	#DP_DSC_YCbCr420_N©ive
 (1 << 4)

	)

234 
	#DP_DSC_DEC_COLOR_DEPTH_CAP
 0x06A

	)

235 
	#DP_DSC_8_BPC
 (1 << 1)

	)

236 
	#DP_DSC_10_BPC
 (1 << 2)

	)

237 
	#DP_DSC_12_BPC
 (1 << 3)

	)

239 
	#DP_DSC_PEAK_THROUGHPUT
 0x06B

	)

240 
	#DP_DSC_THROUGHPUT_MODE_0_MASK
 (0xà<< 0)

	)

241 
	#DP_DSC_THROUGHPUT_MODE_0_SHIFT
 0

	)

242 
	#DP_DSC_THROUGHPUT_MODE_0_340
 (1 << 0)

	)

243 
	#DP_DSC_THROUGHPUT_MODE_0_400
 (2 << 0)

	)

244 
	#DP_DSC_THROUGHPUT_MODE_0_450
 (3 << 0)

	)

245 
	#DP_DSC_THROUGHPUT_MODE_0_500
 (4 << 0)

	)

246 
	#DP_DSC_THROUGHPUT_MODE_0_550
 (5 << 0)

	)

247 
	#DP_DSC_THROUGHPUT_MODE_0_600
 (6 << 0)

	)

248 
	#DP_DSC_THROUGHPUT_MODE_0_650
 (7 << 0)

	)

249 
	#DP_DSC_THROUGHPUT_MODE_0_700
 (8 << 0)

	)

250 
	#DP_DSC_THROUGHPUT_MODE_0_750
 (9 << 0)

	)

251 
	#DP_DSC_THROUGHPUT_MODE_0_800
 (10 << 0)

	)

252 
	#DP_DSC_THROUGHPUT_MODE_0_850
 (11 << 0)

	)

253 
	#DP_DSC_THROUGHPUT_MODE_0_900
 (12 << 0)

	)

254 
	#DP_DSC_THROUGHPUT_MODE_0_950
 (13 << 0)

	)

255 
	#DP_DSC_THROUGHPUT_MODE_0_1000
 (14 << 0)

	)

256 
	#DP_DSC_THROUGHPUT_MODE_1_MASK
 (0xà<< 4)

	)

257 
	#DP_DSC_THROUGHPUT_MODE_1_SHIFT
 4

	)

258 
	#DP_DSC_THROUGHPUT_MODE_1_340
 (1 << 4)

	)

259 
	#DP_DSC_THROUGHPUT_MODE_1_400
 (2 << 4)

	)

260 
	#DP_DSC_THROUGHPUT_MODE_1_450
 (3 << 4)

	)

261 
	#DP_DSC_THROUGHPUT_MODE_1_500
 (4 << 4)

	)

262 
	#DP_DSC_THROUGHPUT_MODE_1_550
 (5 << 4)

	)

263 
	#DP_DSC_THROUGHPUT_MODE_1_600
 (6 << 4)

	)

264 
	#DP_DSC_THROUGHPUT_MODE_1_650
 (7 << 4)

	)

265 
	#DP_DSC_THROUGHPUT_MODE_1_700
 (8 << 4)

	)

266 
	#DP_DSC_THROUGHPUT_MODE_1_750
 (9 << 4)

	)

267 
	#DP_DSC_THROUGHPUT_MODE_1_800
 (10 << 4)

	)

268 
	#DP_DSC_THROUGHPUT_MODE_1_850
 (11 << 4)

	)

269 
	#DP_DSC_THROUGHPUT_MODE_1_900
 (12 << 4)

	)

270 
	#DP_DSC_THROUGHPUT_MODE_1_950
 (13 << 4)

	)

271 
	#DP_DSC_THROUGHPUT_MODE_1_1000
 (14 << 4)

	)

273 
	#DP_DSC_MAX_SLICE_WIDTH
 0x06C

	)

275 
	#DP_DSC_SLICE_CAP_2
 0x06D

	)

276 
	#DP_DSC_16_PER_DP_DSC_SINK
 (1 << 0)

	)

277 
	#DP_DSC_20_PER_DP_DSC_SINK
 (1 << 1)

	)

278 
	#DP_DSC_24_PER_DP_DSC_SINK
 (1 << 2)

	)

280 
	#DP_DSC_BITS_PER_PIXEL_INC
 0x06F

	)

281 
	#DP_DSC_BITS_PER_PIXEL_1_16
 0x0

	)

282 
	#DP_DSC_BITS_PER_PIXEL_1_8
 0x1

	)

283 
	#DP_DSC_BITS_PER_PIXEL_1_4
 0x2

	)

284 
	#DP_DSC_BITS_PER_PIXEL_1_2
 0x3

	)

285 
	#DP_DSC_BITS_PER_PIXEL_1
 0x4

	)

287 
	#DP_PSR_SUPPORT
 0x070

	)

288 
	#DP_PSR_IS_SUPPORTED
 1

	)

289 
	#DP_PSR2_IS_SUPPORTED
 2

	)

291 
	#DP_PSR_CAPS
 0x071

	)

292 
	#DP_PSR_NO_TRAIN_ON_EXIT
 1

	)

293 
	#DP_PSR_SETUP_TIME_330
 (0 << 1)

	)

294 
	#DP_PSR_SETUP_TIME_275
 (1 << 1)

	)

295 
	#DP_PSR_SETUP_TIME_220
 (2 << 1)

	)

296 
	#DP_PSR_SETUP_TIME_165
 (3 << 1)

	)

297 
	#DP_PSR_SETUP_TIME_110
 (4 << 1)

	)

298 
	#DP_PSR_SETUP_TIME_55
 (5 << 1)

	)

299 
	#DP_PSR_SETUP_TIME_0
 (6 << 1)

	)

300 
	#DP_PSR_SETUP_TIME_MASK
 (7 << 1)

	)

301 
	#DP_PSR_SETUP_TIME_SHIFT
 1

	)

302 
	#DP_PSR2_SU_Y_COORDINATE_REQUIRED
 (1 << 4è

	)

303 
	#DP_PSR2_SU_GRANULARITY_REQUIRED
 (1 << 5è

	)

313 
	#DP_DOWNSTREAM_PORT_0
 0x80

	)

314 
	#DP_DS_PORT_TYPE_MASK
 (7 << 0)

	)

315 
	#DP_DS_PORT_TYPE_DP
 0

	)

316 
	#DP_DS_PORT_TYPE_VGA
 1

	)

317 
	#DP_DS_PORT_TYPE_DVI
 2

	)

318 
	#DP_DS_PORT_TYPE_HDMI
 3

	)

319 
	#DP_DS_PORT_TYPE_NON_EDID
 4

	)

320 
	#DP_DS_PORT_TYPE_DP_DUALMODE
 5

	)

321 
	#DP_DS_PORT_TYPE_WIRELESS
 6

	)

322 
	#DP_DS_PORT_HPD
 (1 << 3)

	)

325 
	#DP_DS_MAX_BPC_MASK
 (3 << 0)

	)

326 
	#DP_DS_8BPC
 0

	)

327 
	#DP_DS_10BPC
 1

	)

328 
	#DP_DS_12BPC
 2

	)

329 
	#DP_DS_16BPC
 3

	)

332 
	#DP_LINK_BW_SET
 0x100

	)

333 
	#DP_LINK_RATE_TABLE
 0x00

	)

334 
	#DP_LINK_BW_1_62
 0x06

	)

335 
	#DP_LINK_BW_2_7
 0x0a

	)

336 
	#DP_LINK_BW_5_4
 0x14

	)

338 
	#DP_LANE_COUNT_SET
 0x101

	)

339 
	#DP_LANE_COUNT_MASK
 0x0f

	)

340 
	#DP_LANE_COUNT_ENHANCED_FRAME_EN
 (1 << 7)

	)

342 
	#DP_TRAINING_PATTERN_SET
 0x102

	)

343 
	#DP_TRAINING_PATTERN_DISABLE
 0

	)

344 
	#DP_TRAINING_PATTERN_1
 1

	)

345 
	#DP_TRAINING_PATTERN_2
 2

	)

346 
	#DP_TRAINING_PATTERN_3
 3

	)

347 
	#DP_TRAINING_PATTERN_MASK
 0x3

	)

350 
	#DP_LINK_QUAL_PATTERN_11_DISABLE
 (0 << 2)

	)

351 
	#DP_LINK_QUAL_PATTERN_11_D10_2
 (1 << 2)

	)

352 
	#DP_LINK_QUAL_PATTERN_11_ERROR_RATE
 (2 << 2)

	)

353 
	#DP_LINK_QUAL_PATTERN_11_PRBS7
 (3 << 2)

	)

354 
	#DP_LINK_QUAL_PATTERN_11_MASK
 (3 << 2)

	)

356 
	#DP_RECOVERED_CLOCK_OUT_EN
 (1 << 4)

	)

357 
	#DP_LINK_SCRAMBLING_DISABLE
 (1 << 5)

	)

359 
	#DP_SYMBOL_ERROR_COUNT_BOTH
 (0 << 6)

	)

360 
	#DP_SYMBOL_ERROR_COUNT_DISPARITY
 (1 << 6)

	)

361 
	#DP_SYMBOL_ERROR_COUNT_SYMBOL
 (2 << 6)

	)

362 
	#DP_SYMBOL_ERROR_COUNT_MASK
 (3 << 6)

	)

364 
	#DP_TRAINING_LANE0_SET
 0x103

	)

365 
	#DP_TRAINING_LANE1_SET
 0x104

	)

366 
	#DP_TRAINING_LANE2_SET
 0x105

	)

367 
	#DP_TRAINING_LANE3_SET
 0x106

	)

369 
	#DP_TRAIN_VOLTAGE_SWING_MASK
 0x3

	)

370 
	#DP_TRAIN_VOLTAGE_SWING_SHIFT
 0

	)

371 
	#DP_TRAIN_MAX_SWING_REACHED
 (1 << 2)

	)

372 
	#DP_TRAIN_VOLTAGE_SWING_LEVEL_0
 (0 << 0)

	)

373 
	#DP_TRAIN_VOLTAGE_SWING_LEVEL_1
 (1 << 0)

	)

374 
	#DP_TRAIN_VOLTAGE_SWING_LEVEL_2
 (2 << 0)

	)

375 
	#DP_TRAIN_VOLTAGE_SWING_LEVEL_3
 (3 << 0)

	)

377 
	#DP_TRAIN_PRE_EMPHASIS_MASK
 (3 << 3)

	)

378 
	#DP_TRAIN_PRE_EMPH_LEVEL_0
 (0 << 3)

	)

379 
	#DP_TRAIN_PRE_EMPH_LEVEL_1
 (1 << 3)

	)

380 
	#DP_TRAIN_PRE_EMPH_LEVEL_2
 (2 << 3)

	)

381 
	#DP_TRAIN_PRE_EMPH_LEVEL_3
 (3 << 3)

	)

383 
	#DP_TRAIN_PRE_EMPHASIS_SHIFT
 3

	)

384 
	#DP_TRAIN_MAX_PRE_EMPHASIS_REACHED
 (1 << 5)

	)

386 
	#DP_DOWNSPREAD_CTRL
 0x107

	)

387 
	#DP_SPREAD_AMP_0_5
 (1 << 4)

	)

388 
	#DP_MSA_TIMING_PAR_IGNORE_EN
 (1 << 7è

	)

390 
	#DP_MAIN_LINK_CHANNEL_CODING_SET
 0x108

	)

391 
	#DP_SET_ANSI_8B10B
 (1 << 0)

	)

393 
	#DP_I2C_SPEED_CONTROL_STATUS
 0x109

	)

396 
	#DP_EDP_CONFIGURATION_SET
 0x10¨

	)

397 
	#DP_ALTERNATE_SCRAMBLER_RESET_ENABLE
 (1 << 0)

	)

398 
	#DP_FRAMING_CHANGE_ENABLE
 (1 << 1)

	)

399 
	#DP_PANEL_SELF_TEST_ENABLE
 (1 << 7)

	)

401 
	#DP_LINK_QUAL_LANE0_SET
 0x10b

	)

402 
	#DP_LINK_QUAL_LANE1_SET
 0x10c

	)

403 
	#DP_LINK_QUAL_LANE2_SET
 0x10d

	)

404 
	#DP_LINK_QUAL_LANE3_SET
 0x10e

	)

405 
	#DP_LINK_QUAL_PATTERN_DISABLE
 0

	)

406 
	#DP_LINK_QUAL_PATTERN_D10_2
 1

	)

407 
	#DP_LINK_QUAL_PATTERN_ERROR_RATE
 2

	)

408 
	#DP_LINK_QUAL_PATTERN_PRBS7
 3

	)

409 
	#DP_LINK_QUAL_PATTERN_80BIT_CUSTOM
 4

	)

410 
	#DP_LINK_QUAL_PATTERN_HBR2_EYE
 5

	)

411 
	#DP_LINK_QUAL_PATTERN_MASK
 7

	)

413 
	#DP_TRAINING_LANE0_1_SET2
 0x10f

	)

414 
	#DP_TRAINING_LANE2_3_SET2
 0x110

	)

415 
	#DP_LANE02_POST_CURSOR2_SET_MASK
 (3 << 0)

	)

416 
	#DP_LANE02_MAX_POST_CURSOR2_REACHED
 (1 << 2)

	)

417 
	#DP_LANE13_POST_CURSOR2_SET_MASK
 (3 << 4)

	)

418 
	#DP_LANE13_MAX_POST_CURSOR2_REACHED
 (1 << 6)

	)

420 
	#DP_MSTM_CTRL
 0x111

	)

421 
	#DP_MST_EN
 (1 << 0)

	)

422 
	#DP_UP_REQ_EN
 (1 << 1)

	)

423 
	#DP_UPSTREAM_IS_SRC
 (1 << 2)

	)

425 
	#DP_AUDIO_DELAY0
 0x112

	)

426 
	#DP_AUDIO_DELAY1
 0x113

	)

427 
	#DP_AUDIO_DELAY2
 0x114

	)

429 
	#DP_LINK_RATE_SET
 0x115

	)

430 
	#DP_LINK_RATE_SET_SHIFT
 0

	)

431 
	#DP_LINK_RATE_SET_MASK
 (7 << 0)

	)

433 
	#DP_RECEIVER_ALPM_CONFIG
 0x116

	)

434 
	#DP_ALPM_ENABLE
 (1 << 0)

	)

435 
	#DP_ALPM_LOCK_ERROR_IRQ_HPD_ENABLE
 (1 << 1)

	)

437 
	#DP_SINK_DEVICE_AUX_FRAME_SYNC_CONF
 0x117

	)

438 
	#DP_AUX_FRAME_SYNC_ENABLE
 (1 << 0)

	)

439 
	#DP_IRQ_HPD_ENABLE
 (1 << 1)

	)

441 
	#DP_UPSTREAM_DEVICE_DP_PWR_NEED
 0x118

	)

442 
	#DP_PWR_NOT_NEEDED
 (1 << 0)

	)

444 
	#DP_AUX_FRAME_SYNC_VALUE
 0x15ø

	)

445 
	#DP_AUX_FRAME_SYNC_VALID
 (1 << 0)

	)

447 
	#DP_DSC_ENABLE
 0x160

	)

449 
	#DP_PSR_EN_CFG
 0x170

	)

450 
	#DP_PSR_ENABLE
 (1 << 0)

	)

451 
	#DP_PSR_MAIN_LINK_ACTIVE
 (1 << 1)

	)

452 
	#DP_PSR_CRC_VERIFICATION
 (1 << 2)

	)

453 
	#DP_PSR_FRAME_CAPTURE
 (1 << 3)

	)

454 
	#DP_PSR_SELECTIVE_UPDATE
 (1 << 4)

	)

455 
	#DP_PSR_IRQ_HPD_WITH_CRC_ERRORS
 (1 << 5)

	)

457 
	#DP_ADAPTER_CTRL
 0x1a0

	)

458 
	#DP_ADAPTER_CTRL_FORCE_LOAD_SENSE
 (1 << 0)

	)

460 
	#DP_BRANCH_DEVICE_CTRL
 0x1a1

	)

461 
	#DP_BRANCH_DEVICE_IRQ_HPD
 (1 << 0)

	)

463 
	#DP_PAYLOAD_ALLOCATE_SET
 0x1c0

	)

464 
	#DP_PAYLOAD_ALLOCATE_START_TIME_SLOT
 0x1c1

	)

465 
	#DP_PAYLOAD_ALLOCATE_TIME_SLOT_COUNT
 0x1c2

	)

467 
	#DP_SINK_COUNT
 0x200

	)

469 
	#DP_GET_SINK_COUNT
(
x
è((((xè& 0x80è>> 1è| ((xè& 0x3f))

	)

470 
	#DP_SINK_CP_READY
 (1 << 6)

	)

472 
	#DP_DEVICE_SERVICE_IRQ_VECTOR
 0x201

	)

473 
	#DP_REMOTE_CONTROL_COMMAND_PENDING
 (1 << 0)

	)

474 
	#DP_AUTOMATED_TEST_REQUEST
 (1 << 1)

	)

475 
	#DP_CP_IRQ
 (1 << 2)

	)

476 
	#DP_MCCS_IRQ
 (1 << 3)

	)

477 
	#DP_DOWN_REP_MSG_RDY
 (1 << 4è

	)

478 
	#DP_UP_REQ_MSG_RDY
 (1 << 5è

	)

479 
	#DP_SINK_SPECIFIC_IRQ
 (1 << 6)

	)

481 
	#DP_LANE0_1_STATUS
 0x202

	)

482 
	#DP_LANE2_3_STATUS
 0x203

	)

483 
	#DP_LANE_CR_DONE
 (1 << 0)

	)

484 
	#DP_LANE_CHANNEL_EQ_DONE
 (1 << 1)

	)

485 
	#DP_LANE_SYMBOL_LOCKED
 (1 << 2)

	)

487 
	#DP_CHANNEL_EQ_BITS
 (
DP_LANE_CR_DONE
 | \

488 
DP_LANE_CHANNEL_EQ_DONE
 | \

489 
DP_LANE_SYMBOL_LOCKED
)

	)

491 
	#DP_LANE_ALIGN_STATUS_UPDATED
 0x204

	)

493 
	#DP_INTERLANE_ALIGN_DONE
 (1 << 0)

	)

494 
	#DP_DOWNSTREAM_PORT_STATUS_CHANGED
 (1 << 6)

	)

495 
	#DP_LINK_STATUS_UPDATED
 (1 << 7)

	)

497 
	#DP_SINK_STATUS
 0x205

	)

499 
	#DP_RECEIVE_PORT_0_STATUS
 (1 << 0)

	)

500 
	#DP_RECEIVE_PORT_1_STATUS
 (1 << 1)

	)

502 
	#DP_ADJUST_REQUEST_LANE0_1
 0x206

	)

503 
	#DP_ADJUST_REQUEST_LANE2_3
 0x207

	)

504 
	#DP_ADJUST_VOLTAGE_SWING_LANE0_MASK
 0x03

	)

505 
	#DP_ADJUST_VOLTAGE_SWING_LANE0_SHIFT
 0

	)

506 
	#DP_ADJUST_PRE_EMPHASIS_LANE0_MASK
 0x0c

	)

507 
	#DP_ADJUST_PRE_EMPHASIS_LANE0_SHIFT
 2

	)

508 
	#DP_ADJUST_VOLTAGE_SWING_LANE1_MASK
 0x30

	)

509 
	#DP_ADJUST_VOLTAGE_SWING_LANE1_SHIFT
 4

	)

510 
	#DP_ADJUST_PRE_EMPHASIS_LANE1_MASK
 0xc0

	)

511 
	#DP_ADJUST_PRE_EMPHASIS_LANE1_SHIFT
 6

	)

513 
	#DP_ADJUST_REQUEST_POST_CURSOR2
 0x20c

	)

515 
	#DP_TEST_REQUEST
 0x218

	)

516 
	#DP_TEST_LINK_TRAINING
 (1 << 0)

	)

517 
	#DP_TEST_LINK_VIDEO_PATTERN
 (1 << 1)

	)

518 
	#DP_TEST_LINK_EDID_READ
 (1 << 2)

	)

519 
	#DP_TEST_LINK_PHY_TEST_PATTERN
 (1 << 3è

	)

520 
	#DP_TEST_LINK_FAUX_PATTERN
 (1 << 4è

	)

522 
	#DP_TEST_LINK_RATE
 0x219

	)

523 
	#DP_LINK_RATE_162
 (0x6)

	)

524 
	#DP_LINK_RATE_27
 (0xa)

	)

526 
	#DP_TEST_LANE_COUNT
 0x220

	)

528 
	#DP_TEST_PATTERN
 0x221

	)

529 
	#DP_NO_TEST_PATTERN
 0x0

	)

530 
	#DP_COLOR_RAMP
 0x1

	)

531 
	#DP_BLACK_AND_WHITE_VERTICAL_LINES
 0x2

	)

532 
	#DP_COLOR_SQUARE
 0x3

	)

534 
	#DP_TEST_H_TOTAL_HI
 0x222

	)

535 
	#DP_TEST_H_TOTAL_LO
 0x223

	)

537 
	#DP_TEST_V_TOTAL_HI
 0x224

	)

538 
	#DP_TEST_V_TOTAL_LO
 0x225

	)

540 
	#DP_TEST_H_START_HI
 0x226

	)

541 
	#DP_TEST_H_START_LO
 0x227

	)

543 
	#DP_TEST_V_START_HI
 0x228

	)

544 
	#DP_TEST_V_START_LO
 0x229

	)

546 
	#DP_TEST_HSYNC_HI
 0x22A

	)

547 
	#DP_TEST_HSYNC_POLARITY
 (1 << 7)

	)

548 
	#DP_TEST_HSYNC_WIDTH_HI_MASK
 (127 << 0)

	)

549 
	#DP_TEST_HSYNC_WIDTH_LO
 0x22B

	)

551 
	#DP_TEST_VSYNC_HI
 0x22C

	)

552 
	#DP_TEST_VSYNC_POLARITY
 (1 << 7)

	)

553 
	#DP_TEST_VSYNC_WIDTH_HI_MASK
 (127 << 0)

	)

554 
	#DP_TEST_VSYNC_WIDTH_LO
 0x22D

	)

556 
	#DP_TEST_H_WIDTH_HI
 0x22E

	)

557 
	#DP_TEST_H_WIDTH_LO
 0x22F

	)

559 
	#DP_TEST_V_HEIGHT_HI
 0x230

	)

560 
	#DP_TEST_V_HEIGHT_LO
 0x231

	)

562 
	#DP_TEST_MISC0
 0x232

	)

563 
	#DP_TEST_SYNC_CLOCK
 (1 << 0)

	)

564 
	#DP_TEST_COLOR_FORMAT_MASK
 (3 << 1)

	)

565 
	#DP_TEST_COLOR_FORMAT_SHIFT
 1

	)

566 
	#DP_COLOR_FORMAT_RGB
 (0 << 1)

	)

567 
	#DP_COLOR_FORMAT_YCbCr422
 (1 << 1)

	)

568 
	#DP_COLOR_FORMAT_YCbCr444
 (2 << 1)

	)

569 
	#DP_TEST_DYNAMIC_RANGE_CEA
 (1 << 3)

	)

570 
	#DP_TEST_YCBCR_COEFFICIENTS
 (1 << 4)

	)

571 
	#DP_YCBCR_COEFFICIENTS_ITU601
 (0 << 4)

	)

572 
	#DP_YCBCR_COEFFICIENTS_ITU709
 (1 << 4)

	)

573 
	#DP_TEST_BIT_DEPTH_MASK
 (7 << 5)

	)

574 
	#DP_TEST_BIT_DEPTH_SHIFT
 5

	)

575 
	#DP_TEST_BIT_DEPTH_6
 (0 << 5)

	)

576 
	#DP_TEST_BIT_DEPTH_8
 (1 << 5)

	)

577 
	#DP_TEST_BIT_DEPTH_10
 (2 << 5)

	)

578 
	#DP_TEST_BIT_DEPTH_12
 (3 << 5)

	)

579 
	#DP_TEST_BIT_DEPTH_16
 (4 << 5)

	)

581 
	#DP_TEST_MISC1
 0x233

	)

582 
	#DP_TEST_REFRESH_DENOMINATOR
 (1 << 0)

	)

583 
	#DP_TEST_INTERLACED
 (1 << 1)

	)

585 
	#DP_TEST_REFRESH_RATE_NUMERATOR
 0x234

	)

587 
	#DP_TEST_MISC0
 0x232

	)

589 
	#DP_TEST_CRC_R_CR
 0x240

	)

590 
	#DP_TEST_CRC_G_Y
 0x242

	)

591 
	#DP_TEST_CRC_B_CB
 0x244

	)

593 
	#DP_TEST_SINK_MISC
 0x246

	)

594 
	#DP_TEST_CRC_SUPPORTED
 (1 << 5)

	)

595 
	#DP_TEST_COUNT_MASK
 0xf

	)

597 
	#DP_TEST_PHY_PATTERN
 0x248

	)

598 
	#DP_TEST_80BIT_CUSTOM_PATTERN_7_0
 0x250

	)

599 
	#DP_TEST_80BIT_CUSTOM_PATTERN_15_8
 0x251

	)

600 
	#DP_TEST_80BIT_CUSTOM_PATTERN_23_16
 0x252

	)

601 
	#DP_TEST_80BIT_CUSTOM_PATTERN_31_24
 0x253

	)

602 
	#DP_TEST_80BIT_CUSTOM_PATTERN_39_32
 0x254

	)

603 
	#DP_TEST_80BIT_CUSTOM_PATTERN_47_40
 0x255

	)

604 
	#DP_TEST_80BIT_CUSTOM_PATTERN_55_48
 0x256

	)

605 
	#DP_TEST_80BIT_CUSTOM_PATTERN_63_56
 0x257

	)

606 
	#DP_TEST_80BIT_CUSTOM_PATTERN_71_64
 0x258

	)

607 
	#DP_TEST_80BIT_CUSTOM_PATTERN_79_72
 0x259

	)

609 
	#DP_TEST_RESPONSE
 0x260

	)

610 
	#DP_TEST_ACK
 (1 << 0)

	)

611 
	#DP_TEST_NAK
 (1 << 1)

	)

612 
	#DP_TEST_EDID_CHECKSUM_WRITE
 (1 << 2)

	)

614 
	#DP_TEST_EDID_CHECKSUM
 0x261

	)

616 
	#DP_TEST_SINK
 0x270

	)

617 
	#DP_TEST_SINK_START
 (1 << 0)

	)

619 
	#DP_PAYLOAD_TABLE_UPDATE_STATUS
 0x2c0

	)

620 
	#DP_PAYLOAD_TABLE_UPDATED
 (1 << 0)

	)

621 
	#DP_PAYLOAD_ACT_HANDLED
 (1 << 1)

	)

623 
	#DP_VC_PAYLOAD_ID_SLOT_1
 0x2c1

	)

626 
	#DP_SOURCE_OUI
 0x300

	)

627 
	#DP_SINK_OUI
 0x400

	)

628 
	#DP_BRANCH_OUI
 0x500

	)

629 
	#DP_BRANCH_ID
 0x503

	)

630 
	#DP_BRANCH_REVISION_START
 0x509

	)

631 
	#DP_BRANCH_HW_REV
 0x509

	)

632 
	#DP_BRANCH_SW_REV
 0x50A

	)

634 
	#DP_SET_POWER
 0x600

	)

635 
	#DP_SET_POWER_D0
 0x1

	)

636 
	#DP_SET_POWER_D3
 0x2

	)

637 
	#DP_SET_POWER_MASK
 0x3

	)

638 
	#DP_SET_POWER_D3_AUX_ON
 0x5

	)

640 
	#DP_EDP_DPCD_REV
 0x700

	)

641 
	#DP_EDP_11
 0x00

	)

642 
	#DP_EDP_12
 0x01

	)

643 
	#DP_EDP_13
 0x02

	)

644 
	#DP_EDP_14
 0x03

	)

646 
	#DP_EDP_GENERAL_CAP_1
 0x701

	)

647 
	#DP_EDP_TCON_BACKLIGHT_ADJUSTMENT_CAP
 (1 << 0)

	)

648 
	#DP_EDP_BACKLIGHT_PIN_ENABLE_CAP
 (1 << 1)

	)

649 
	#DP_EDP_BACKLIGHT_AUX_ENABLE_CAP
 (1 << 2)

	)

650 
	#DP_EDP_PANEL_SELF_TEST_PIN_ENABLE_CAP
 (1 << 3)

	)

651 
	#DP_EDP_PANEL_SELF_TEST_AUX_ENABLE_CAP
 (1 << 4)

	)

652 
	#DP_EDP_FRC_ENABLE_CAP
 (1 << 5)

	)

653 
	#DP_EDP_COLOR_ENGINE_CAP
 (1 << 6)

	)

654 
	#DP_EDP_SET_POWER_CAP
 (1 << 7)

	)

656 
	#DP_EDP_BACKLIGHT_ADJUSTMENT_CAP
 0x702

	)

657 
	#DP_EDP_BACKLIGHT_BRIGHTNESS_PWM_PIN_CAP
 (1 << 0)

	)

658 
	#DP_EDP_BACKLIGHT_BRIGHTNESS_AUX_SET_CAP
 (1 << 1)

	)

659 
	#DP_EDP_BACKLIGHT_BRIGHTNESS_BYTE_COUNT
 (1 << 2)

	)

660 
	#DP_EDP_BACKLIGHT_AUX_PWM_PRODUCT_CAP
 (1 << 3)

	)

661 
	#DP_EDP_BACKLIGHT_FREQ_PWM_PIN_PASSTHRU_CAP
 (1 << 4)

	)

662 
	#DP_EDP_BACKLIGHT_FREQ_AUX_SET_CAP
 (1 << 5)

	)

663 
	#DP_EDP_DYNAMIC_BACKLIGHT_CAP
 (1 << 6)

	)

664 
	#DP_EDP_VBLANK_BACKLIGHT_UPDATE_CAP
 (1 << 7)

	)

666 
	#DP_EDP_GENERAL_CAP_2
 0x703

	)

667 
	#DP_EDP_OVERDRIVE_ENGINE_ENABLED
 (1 << 0)

	)

669 
	#DP_EDP_GENERAL_CAP_3
 0x704

	)

670 
	#DP_EDP_X_REGION_CAP_MASK
 (0xà<< 0)

	)

671 
	#DP_EDP_X_REGION_CAP_SHIFT
 0

	)

672 
	#DP_EDP_Y_REGION_CAP_MASK
 (0xà<< 4)

	)

673 
	#DP_EDP_Y_REGION_CAP_SHIFT
 4

	)

675 
	#DP_EDP_DISPLAY_CONTROL_REGISTER
 0x720

	)

676 
	#DP_EDP_BACKLIGHT_ENABLE
 (1 << 0)

	)

677 
	#DP_EDP_BLACK_VIDEO_ENABLE
 (1 << 1)

	)

678 
	#DP_EDP_FRC_ENABLE
 (1 << 2)

	)

679 
	#DP_EDP_COLOR_ENGINE_ENABLE
 (1 << 3)

	)

680 
	#DP_EDP_VBLANK_BACKLIGHT_UPDATE_ENABLE
 (1 << 7)

	)

682 
	#DP_EDP_BACKLIGHT_MODE_SET_REGISTER
 0x721

	)

683 
	#DP_EDP_BACKLIGHT_CONTROL_MODE_MASK
 (3 << 0)

	)

684 
	#DP_EDP_BACKLIGHT_CONTROL_MODE_PWM
 (0 << 0)

	)

685 
	#DP_EDP_BACKLIGHT_CONTROL_MODE_PRESET
 (1 << 0)

	)

686 
	#DP_EDP_BACKLIGHT_CONTROL_MODE_DPCD
 (2 << 0)

	)

687 
	#DP_EDP_BACKLIGHT_CONTROL_MODE_PRODUCT
 (3 << 0)

	)

688 
	#DP_EDP_BACKLIGHT_FREQ_PWM_PIN_PASSTHRU_ENABLE
 (1 << 2)

	)

689 
	#DP_EDP_BACKLIGHT_FREQ_AUX_SET_ENABLE
 (1 << 3)

	)

690 
	#DP_EDP_DYNAMIC_BACKLIGHT_ENABLE
 (1 << 4)

	)

691 
	#DP_EDP_REGIONAL_BACKLIGHT_ENABLE
 (1 << 5)

	)

692 
	#DP_EDP_UPDATE_REGION_BRIGHTNESS
 (1 << 6è

	)

694 
	#DP_EDP_BACKLIGHT_BRIGHTNESS_MSB
 0x722

	)

695 
	#DP_EDP_BACKLIGHT_BRIGHTNESS_LSB
 0x723

	)

697 
	#DP_EDP_PWMGEN_BIT_COUNT
 0x724

	)

698 
	#DP_EDP_PWMGEN_BIT_COUNT_CAP_MIN
 0x725

	)

699 
	#DP_EDP_PWMGEN_BIT_COUNT_CAP_MAX
 0x726

	)

700 
	#DP_EDP_PWMGEN_BIT_COUNT_MASK
 (0x1à<< 0)

	)

702 
	#DP_EDP_BACKLIGHT_CONTROL_STATUS
 0x727

	)

704 
	#DP_EDP_BACKLIGHT_FREQ_SET
 0x728

	)

705 
	#DP_EDP_BACKLIGHT_FREQ_BASE_KHZ
 27000

	)

707 
	#DP_EDP_BACKLIGHT_FREQ_CAP_MIN_MSB
 0x72a

	)

708 
	#DP_EDP_BACKLIGHT_FREQ_CAP_MIN_MID
 0x72b

	)

709 
	#DP_EDP_BACKLIGHT_FREQ_CAP_MIN_LSB
 0x72c

	)

711 
	#DP_EDP_BACKLIGHT_FREQ_CAP_MAX_MSB
 0x72d

	)

712 
	#DP_EDP_BACKLIGHT_FREQ_CAP_MAX_MID
 0x72e

	)

713 
	#DP_EDP_BACKLIGHT_FREQ_CAP_MAX_LSB
 0x72f

	)

715 
	#DP_EDP_DBC_MINIMUM_BRIGHTNESS_SET
 0x732

	)

716 
	#DP_EDP_DBC_MAXIMUM_BRIGHTNESS_SET
 0x733

	)

718 
	#DP_EDP_REGIONAL_BACKLIGHT_BASE
 0x740

	)

719 
	#DP_EDP_REGIONAL_BACKLIGHT_0
 0x741

	)

721 
	#DP_SIDEBAND_MSG_DOWN_REQ_BASE
 0x1000

	)

722 
	#DP_SIDEBAND_MSG_UP_REP_BASE
 0x1200

	)

723 
	#DP_SIDEBAND_MSG_DOWN_REP_BASE
 0x1400

	)

724 
	#DP_SIDEBAND_MSG_UP_REQ_BASE
 0x1600

	)

726 
	#DP_SINK_COUNT_ESI
 0x2002

	)

728 
	#DP_SINK_COUNT_CP_READY
 (1 << 6)

	)

730 
	#DP_DEVICE_SERVICE_IRQ_VECTOR_ESI0
 0x2003

	)

732 
	#DP_DEVICE_SERVICE_IRQ_VECTOR_ESI1
 0x2004

	)

733 
	#DP_RX_GTC_MSTR_REQ_STATUS_CHANGE
 (1 << 0)

	)

734 
	#DP_LOCK_ACQUISITION_REQUEST
 (1 << 1)

	)

735 
	#DP_CEC_IRQ
 (1 << 2)

	)

737 
	#DP_LINK_SERVICE_IRQ_VECTOR_ESI0
 0x2005

	)

739 
	#DP_PSR_ERROR_STATUS
 0x2006

	)

740 
	#DP_PSR_LINK_CRC_ERROR
 (1 << 0)

	)

741 
	#DP_PSR_RFB_STORAGE_ERROR
 (1 << 1)

	)

742 
	#DP_PSR_VSC_SDP_UNCORRECTABLE_ERROR
 (1 << 2è

	)

744 
	#DP_PSR_ESI
 0x2007

	)

745 
	#DP_PSR_CAPS_CHANGE
 (1 << 0)

	)

747 
	#DP_PSR_STATUS
 0x2008

	)

748 
	#DP_PSR_SINK_INACTIVE
 0

	)

749 
	#DP_PSR_SINK_ACTIVE_SRC_SYNCED
 1

	)

750 
	#DP_PSR_SINK_ACTIVE_RFB
 2

	)

751 
	#DP_PSR_SINK_ACTIVE_SINK_SYNCED
 3

	)

752 
	#DP_PSR_SINK_ACTIVE_RESYNC
 4

	)

753 
	#DP_PSR_SINK_INTERNAL_ERROR
 7

	)

754 
	#DP_PSR_SINK_STATE_MASK
 0x07

	)

756 
	#DP_SYNCHRONIZATION_LATENCY_IN_SINK
 0x2009

	)

757 
	#DP_MAX_RESYNC_FRAME_COUNT_MASK
 (0xà<< 0)

	)

758 
	#DP_MAX_RESYNC_FRAME_COUNT_SHIFT
 0

	)

759 
	#DP_LAST_ACTUAL_SYNCHRONIZATION_LATENCY_MASK
 (0xà<< 4)

	)

760 
	#DP_LAST_ACTUAL_SYNCHRONIZATION_LATENCY_SHIFT
 4

	)

762 
	#DP_RECEIVER_ALPM_STATUS
 0x200b

	)

763 
	#DP_ALPM_LOCK_TIMEOUT_ERROR
 (1 << 0)

	)

765 
	#DP_DP13_DPCD_REV
 0x2200

	)

766 
	#DP_DP13_MAX_LINK_RATE
 0x2201

	)

768 
	#DP_DPRX_FEATURE_ENUMERATION_LIST
 0x2210

	)

769 
	#DP_GTC_CAP
 (1 << 0è

	)

770 
	#DP_SST_SPLIT_SDP_CAP
 (1 << 1è

	)

771 
	#DP_AV_SYNC_CAP
 (1 << 2è

	)

772 
	#DP_VSC_SDP_EXT_FOR_COLORIMETRY_SUPPORTED
 (1 << 3è

	)

773 
	#DP_VSC_EXT_VESA_SDP_SUPPORTED
 (1 << 4è

	)

774 
	#DP_VSC_EXT_VESA_SDP_CHAINING_SUPPORTED
 (1 << 5è

	)

775 
	#DP_VSC_EXT_CEA_SDP_SUPPORTED
 (1 << 6è

	)

776 
	#DP_VSC_EXT_CEA_SDP_CHAINING_SUPPORTED
 (1 << 7è

	)

779 
	#DP_CEC_TUNNELING_CAPABILITY
 0x3000

	)

780 
	#DP_CEC_TUNNELING_CAPABLE
 (1 << 0)

	)

781 
	#DP_CEC_SNOOPING_CAPABLE
 (1 << 1)

	)

782 
	#DP_CEC_MULTIPLE_LA_CAPABLE
 (1 << 2)

	)

784 
	#DP_CEC_TUNNELING_CONTROL
 0x3001

	)

785 
	#DP_CEC_TUNNELING_ENABLE
 (1 << 0)

	)

786 
	#DP_CEC_SNOOPING_ENABLE
 (1 << 1)

	)

788 
	#DP_CEC_RX_MESSAGE_INFO
 0x3002

	)

789 
	#DP_CEC_RX_MESSAGE_LEN_MASK
 (0xà<< 0)

	)

790 
	#DP_CEC_RX_MESSAGE_LEN_SHIFT
 0

	)

791 
	#DP_CEC_RX_MESSAGE_HPD_STATE
 (1 << 4)

	)

792 
	#DP_CEC_RX_MESSAGE_HPD_LOST
 (1 << 5)

	)

793 
	#DP_CEC_RX_MESSAGE_ACKED
 (1 << 6)

	)

794 
	#DP_CEC_RX_MESSAGE_ENDED
 (1 << 7)

	)

796 
	#DP_CEC_TX_MESSAGE_INFO
 0x3003

	)

797 
	#DP_CEC_TX_MESSAGE_LEN_MASK
 (0xà<< 0)

	)

798 
	#DP_CEC_TX_MESSAGE_LEN_SHIFT
 0

	)

799 
	#DP_CEC_TX_RETRY_COUNT_MASK
 (0x7 << 4)

	)

800 
	#DP_CEC_TX_RETRY_COUNT_SHIFT
 4

	)

801 
	#DP_CEC_TX_MESSAGE_SEND
 (1 << 7)

	)

803 
	#DP_CEC_TUNNELING_IRQ_FLAGS
 0x3004

	)

804 
	#DP_CEC_RX_MESSAGE_INFO_VALID
 (1 << 0)

	)

805 
	#DP_CEC_RX_MESSAGE_OVERFLOW
 (1 << 1)

	)

806 
	#DP_CEC_TX_MESSAGE_SENT
 (1 << 4)

	)

807 
	#DP_CEC_TX_LINE_ERROR
 (1 << 5)

	)

808 
	#DP_CEC_TX_ADDRESS_NACK_ERROR
 (1 << 6)

	)

809 
	#DP_CEC_TX_DATA_NACK_ERROR
 (1 << 7)

	)

811 
	#DP_CEC_LOGICAL_ADDRESS_MASK
 0x300E

	)

812 
	#DP_CEC_LOGICAL_ADDRESS_0
 (1 << 0)

	)

813 
	#DP_CEC_LOGICAL_ADDRESS_1
 (1 << 1)

	)

814 
	#DP_CEC_LOGICAL_ADDRESS_2
 (1 << 2)

	)

815 
	#DP_CEC_LOGICAL_ADDRESS_3
 (1 << 3)

	)

816 
	#DP_CEC_LOGICAL_ADDRESS_4
 (1 << 4)

	)

817 
	#DP_CEC_LOGICAL_ADDRESS_5
 (1 << 5)

	)

818 
	#DP_CEC_LOGICAL_ADDRESS_6
 (1 << 6)

	)

819 
	#DP_CEC_LOGICAL_ADDRESS_7
 (1 << 7)

	)

820 
	#DP_CEC_LOGICAL_ADDRESS_MASK_2
 0x300F

	)

821 
	#DP_CEC_LOGICAL_ADDRESS_8
 (1 << 0)

	)

822 
	#DP_CEC_LOGICAL_ADDRESS_9
 (1 << 1)

	)

823 
	#DP_CEC_LOGICAL_ADDRESS_10
 (1 << 2)

	)

824 
	#DP_CEC_LOGICAL_ADDRESS_11
 (1 << 3)

	)

825 
	#DP_CEC_LOGICAL_ADDRESS_12
 (1 << 4)

	)

826 
	#DP_CEC_LOGICAL_ADDRESS_13
 (1 << 5)

	)

827 
	#DP_CEC_LOGICAL_ADDRESS_14
 (1 << 6)

	)

828 
	#DP_CEC_LOGICAL_ADDRESS_15
 (1 << 7)

	)

830 
	#DP_CEC_RX_MESSAGE_BUFFER
 0x3010

	)

831 
	#DP_CEC_TX_MESSAGE_BUFFER
 0x3020

	)

832 
	#DP_CEC_MESSAGE_BUFFER_LENGTH
 0x10

	)

836 
	#DP_PEER_DEVICE_NONE
 0x0

	)

837 
	#DP_PEER_DEVICE_SOURCE_OR_SST
 0x1

	)

838 
	#DP_PEER_DEVICE_MST_BRANCHING
 0x2

	)

839 
	#DP_PEER_DEVICE_SST_SINK
 0x3

	)

840 
	#DP_PEER_DEVICE_DP_LEGACY_CONV
 0x4

	)

843 
	#DP_LINK_ADDRESS
 0x01

	)

844 
	#DP_CONNECTION_STATUS_NOTIFY
 0x02

	)

845 
	#DP_ENUM_PATH_RESOURCES
 0x10

	)

846 
	#DP_ALLOCATE_PAYLOAD
 0x11

	)

847 
	#DP_QUERY_PAYLOAD
 0x12

	)

848 
	#DP_RESOURCE_STATUS_NOTIFY
 0x13

	)

849 
	#DP_CLEAR_PAYLOAD_ID_TABLE
 0x14

	)

850 
	#DP_REMOTE_DPCD_READ
 0x20

	)

851 
	#DP_REMOTE_DPCD_WRITE
 0x21

	)

852 
	#DP_REMOTE_I2C_READ
 0x22

	)

853 
	#DP_REMOTE_I2C_WRITE
 0x23

	)

854 
	#DP_POWER_UP_PHY
 0x24

	)

855 
	#DP_POWER_DOWN_PHY
 0x25

	)

856 
	#DP_SINK_EVENT_NOTIFY
 0x30

	)

857 
	#DP_QUERY_STREAM_ENC_STATUS
 0x38

	)

860 
	#DP_NAK_WRITE_FAILURE
 0x01

	)

861 
	#DP_NAK_INVALID_READ
 0x02

	)

862 
	#DP_NAK_CRC_FAILURE
 0x03

	)

863 
	#DP_NAK_BAD_PARAM
 0x04

	)

864 
	#DP_NAK_DEFER
 0x05

	)

865 
	#DP_NAK_LINK_FAILURE
 0x06

	)

866 
	#DP_NAK_NO_RESOURCES
 0x07

	)

867 
	#DP_NAK_DPCD_FAIL
 0x08

	)

868 
	#DP_NAK_I2C_NAK
 0x09

	)

869 
	#DP_NAK_ALLOCATE_FAIL
 0x0a

	)

871 
	#MODE_I2C_START
 1

	)

872 
	#MODE_I2C_WRITE
 2

	)

873 
	#MODE_I2C_READ
 4

	)

874 
	#MODE_I2C_STOP
 8

	)

877 
	#DP_MST_PHYSICAL_PORT_0
 0

	)

878 
	#DP_MST_LOGICAL_PORT_0
 8

	)

880 
	#DP_LINK_STATUS_SIZE
 6

	)

881 
boÞ
 
drm_dp_chªÃl_eq_ok
(cÚ¡ 
u8
 
lšk_¡©us
[
DP_LINK_STATUS_SIZE
],

882 
ÏÃ_couÁ
);

883 
boÞ
 
drm_dp_þock_»cov”y_ok
(cÚ¡ 
u8
 
lšk_¡©us
[
DP_LINK_STATUS_SIZE
],

884 
ÏÃ_couÁ
);

885 
u8
 
drm_dp_g‘_adju¡_»que¡_vÞge
(cÚ¡ u8 
lšk_¡©us
[
DP_LINK_STATUS_SIZE
],

886 
ÏÃ
);

887 
u8
 
drm_dp_g‘_adju¡_»que¡_´e_emphasis
(cÚ¡ u8 
lšk_¡©us
[
DP_LINK_STATUS_SIZE
],

888 
ÏÃ
);

890 
	#DP_BRANCH_OUI_HEADER_SIZE
 0xc

	)

891 
	#DP_RECEIVER_CAP_SIZE
 0xf

	)

892 
	#EDP_PSR_RECEIVER_CAP_SIZE
 2

	)

893 
	#EDP_DISPLAY_CTL_CAP_SIZE
 3

	)

895 
drm_dp_lšk_Œaš_þock_»cov”y_d–ay
(cÚ¡ 
u8
 
dpcd
[
DP_RECEIVER_CAP_SIZE
]);

896 
drm_dp_lšk_Œaš_chªÃl_eq_d–ay
(cÚ¡ 
u8
 
dpcd
[
DP_RECEIVER_CAP_SIZE
]);

898 
u8
 
drm_dp_lšk_¿‹_to_bw_code
(
lšk_¿‹
);

899 
drm_dp_bw_code_to_lšk_¿‹
(
u8
 
lšk_bw
);

901 
	#DP_SDP_AUDIO_TIMESTAMP
 0x01

	)

902 
	#DP_SDP_AUDIO_STREAM
 0x02

	)

903 
	#DP_SDP_EXTENSION
 0x04

	)

904 
	#DP_SDP_AUDIO_COPYMANAGEMENT
 0x05

	)

905 
	#DP_SDP_ISRC
 0x06

	)

906 
	#DP_SDP_VSC
 0x07

	)

907 
	#DP_SDP_CAMERA_GENERIC
(
i
è(0x08 + (i)è

	)

908 
	#DP_SDP_PPS
 0x10

	)

909 
	#DP_SDP_VSC_EXT_VESA
 0x20

	)

910 
	#DP_SDP_VSC_EXT_CEA
 0x21

	)

913 
	sedp_sdp_h—d”
 {

914 
u8
 
	mHB0
;

915 
u8
 
	mHB1
;

916 
u8
 
	mHB2
;

917 
u8
 
	mHB3
;

918 } 
	g__·cked
;

920 
	#EDP_SDP_HEADER_REVISION_MASK
 0x1F

	)

921 
	#EDP_SDP_HEADER_VALID_PAYLOAD_BYTES
 0x1F

	)

923 
	sedp_vsc_p¤
 {

924 
edp_sdp_h—d”
 
	msdp_h—d”
;

925 
u8
 
	mDB0
;

926 
u8
 
	mDB1
;

927 
u8
 
	mDB2
;

928 
u8
 
	mDB3
;

929 
u8
 
	mDB4
;

930 
u8
 
	mDB5
;

931 
u8
 
	mDB6
;

932 
u8
 
	mDB7
;

933 
u8
 
	mDB8_31
[24];

934 } 
	g__·cked
;

936 
	#EDP_VSC_PSR_STATE_ACTIVE
 (1<<0)

	)

937 
	#EDP_VSC_PSR_UPDATE_RFB
 (1<<1)

	)

938 
	#EDP_VSC_PSR_CRC_VALUES_VALID
 (1<<2)

	)

940 
drm_dp_p¤_£tup_time
(cÚ¡ 
u8
 
p¤_ÿp
[
EDP_PSR_RECEIVER_CAP_SIZE
]);

942 
šlše
 

943 
	$drm_dp_max_lšk_¿‹
(cÚ¡ 
u8
 
dpcd
[
DP_RECEIVER_CAP_SIZE
])

945  
	`drm_dp_bw_code_to_lšk_¿‹
(
dpcd
[
DP_MAX_LINK_RATE
]);

946 
	}
}

948 
šlše
 
u8


949 
	$drm_dp_max_ÏÃ_couÁ
(cÚ¡ 
u8
 
dpcd
[
DP_RECEIVER_CAP_SIZE
])

951  
dpcd
[
DP_MAX_LANE_COUNT
] & 
DP_MAX_LANE_COUNT_MASK
;

952 
	}
}

954 
šlše
 
boÞ


955 
	$drm_dp_’hªûd_äame_ÿp
(cÚ¡ 
u8
 
dpcd
[
DP_RECEIVER_CAP_SIZE
])

957  
dpcd
[
DP_DPCD_REV
] >= 0x11 &&

958 (
dpcd
[
DP_MAX_LANE_COUNT
] & 
DP_ENHANCED_FRAME_CAP
);

959 
	}
}

961 
šlše
 
boÞ


962 
	$drm_dp_s3_suµÜ‹d
(cÚ¡ 
u8
 
dpcd
[
DP_RECEIVER_CAP_SIZE
])

964  
dpcd
[
DP_DPCD_REV
] >= 0x12 &&

965 
dpcd
[
DP_MAX_LANE_COUNT
] & 
DP_TPS3_SUPPORTED
;

966 
	}
}

968 
šlše
 
boÞ


969 
	$drm_dp_is_b¿nch
(cÚ¡ 
u8
 
dpcd
[
DP_RECEIVER_CAP_SIZE
])

971  
dpcd
[
DP_DOWNSTREAMPORT_PRESENT
] & 
DP_DWN_STRM_PORT_PRESENT
;

972 
	}
}

986 
	sdrm_dp_aux_msg
 {

987 
	madd»ss
;

988 
u8
 
	m»que¡
;

989 
u8
 
	m»¶y
;

990 *
	mbufãr
;

991 
size_t
 
	msize
;

1034 
	sdrm_dp_aux
 {

1035 cÚ¡ *
	mÇme
;

1036 
i2c_ad­‹r
 
	mddc
;

1037 
deviû
 *
	mdev
;

1038 
drm_ütc
 *
	mütc
;

1039 
mu‹x
 
	mhw_mu‹x
;

1040 
wÜk_¡ruù
 
	müc_wÜk
;

1041 
u8
 
	müc_couÁ
;

1042 
ssize_t
 (*
Œªsãr
)(
drm_dp_aux
 *
	maux
,

1043 
drm_dp_aux_msg
 *
	mmsg
);

1047 
	mi2c_Çck_couÁ
;

1051 
	mi2c_deãr_couÁ
;

1054 
ssize_t
 
drm_dp_dpcd_»ad
(
drm_dp_aux
 *
aux
, 
off£t
,

1055 *
bufãr
, 
size_t
 
size
);

1056 
ssize_t
 
drm_dp_dpcd_wr™e
(
drm_dp_aux
 *
aux
, 
off£t
,

1057 *
bufãr
, 
size_t
 
size
);

1068 
šlše
 
ssize_t
 
	$drm_dp_dpcd_»adb
(
drm_dp_aux
 *
aux
,

1069 
off£t
, 
u8
 *
v®u•
)

1071  
	`drm_dp_dpcd_»ad
(
aux
, 
off£t
, 
v®u•
, 1);

1072 
	}
}

1083 
šlše
 
ssize_t
 
	$drm_dp_dpcd_wr™eb
(
drm_dp_aux
 *
aux
,

1084 
off£t
, 
u8
 
v®ue
)

1086  
	`drm_dp_dpcd_wr™e
(
aux
, 
off£t
, &
v®ue
, 1);

1087 
	}
}

1089 
drm_dp_dpcd_»ad_lšk_¡©us
(
drm_dp_aux
 *
aux
,

1090 
u8
 
¡©us
[
DP_LINK_STATUS_SIZE
]);

1095 
	#DP_LINK_CAP_ENHANCED_FRAMING
 (1 << 0)

	)

1097 
	sdrm_dp_lšk
 {

1098 
	m»visiÚ
;

1099 
	m¿‹
;

1100 
	mnum_ÏÃs
;

1101 
	mÿ·bž™›s
;

1104 
drm_dp_lšk_´obe
(
drm_dp_aux
 *
aux
, 
drm_dp_lšk
 *
lšk
);

1105 
drm_dp_lšk_pow”_up
(
drm_dp_aux
 *
aux
, 
drm_dp_lšk
 *
lšk
);

1106 
drm_dp_lšk_pow”_down
(
drm_dp_aux
 *
aux
, 
drm_dp_lšk
 *
lšk
);

1107 
drm_dp_lšk_cÚfigu»
(
drm_dp_aux
 *
aux
, 
drm_dp_lšk
 *
lšk
);

1108 
drm_dp_down¡»am_max_þock
(cÚ¡ 
u8
 
dpcd
[
DP_RECEIVER_CAP_SIZE
],

1109 cÚ¡ 
u8
 
pÜt_ÿp
[4]);

1110 
drm_dp_down¡»am_max_bpc
(cÚ¡ 
u8
 
dpcd
[
DP_RECEIVER_CAP_SIZE
],

1111 cÚ¡ 
u8
 
pÜt_ÿp
[4]);

1112 
drm_dp_down¡»am_id
(
drm_dp_aux
 *
aux
, 
id
[6]);

1113 
drm_dp_down¡»am_debug
(
£q_fže
 *
m
, cÚ¡ 
u8
 
dpcd
[
DP_RECEIVER_CAP_SIZE
],

1114 cÚ¡ 
u8
 
pÜt_ÿp
[4], 
drm_dp_aux
 *
aux
);

1116 
drm_dp_aux_š™
(
drm_dp_aux
 *
aux
);

1117 
drm_dp_aux_»gi¡”
(
drm_dp_aux
 *
aux
);

1118 
drm_dp_aux_uÄegi¡”
(
drm_dp_aux
 *
aux
);

1120 
drm_dp_¡¬t_üc
(
drm_dp_aux
 *
aux
, 
drm_ütc
 *
ütc
);

1121 
drm_dp_¡Ý_üc
(
drm_dp_aux
 *
aux
);

1123 
	sdrm_dp_dpcd_id’t
 {

1124 
u8
 
	moui
[3];

1125 
u8
 
	mdeviû_id
[6];

1126 
u8
 
	mhw_»v
;

1127 
u8
 
	msw_majÜ_»v
;

1128 
u8
 
	msw_mšÜ_»v
;

1129 } 
	g__·cked
;

1136 
	sdrm_dp_desc
 {

1137 
drm_dp_dpcd_id’t
 
	mid’t
;

1138 
u32
 
	mquœks
;

1141 
drm_dp_»ad_desc
(
drm_dp_aux
 *
aux
, 
drm_dp_desc
 *
desc
,

1142 
boÞ
 
is_b¿nch
);

1151 
	edrm_dp_quœk
 {

1158 
	mDP_DPCD_QUIRK_LIMITED_M_N
,

1168 
šlše
 
boÞ


1169 
	$drm_dp_has_quœk
(cÚ¡ 
drm_dp_desc
 *
desc
, 
drm_dp_quœk
 
quœk
)

1171  
desc
->
quœks
 & 
	`BIT
(
quœk
);

1172 
	}
}

	@src/common/linuxkpi/include/drm/drm_dp_mst_helper.h

22 #iâdeà
_DRM_DP_MST_HELPER_H_


23 
	#_DRM_DP_MST_HELPER_H_


	)

25 
	~<lšux/ty³s.h
>

26 
	~<drm/drm_dp_h–³r.h
>

27 
	~<drm/drm_©omic.h
>

29 
	gdrm_dp_m¡_b¿nch
;

38 
	sdrm_dp_výi
 {

39 
	mvýi
;

40 
	mpbn
;

41 
	m®igÃd_pbn
;

42 
	mnum_¦Ùs
;

69 
	sdrm_dp_m¡_pÜt
 {

70 
k»f
 
	mk»f
;

72 
u8
 
	mpÜt_num
;

73 
boÞ
 
	mšput
;

74 
boÞ
 
	mmcs
;

75 
boÞ
 
	mddps
;

76 
u8
 
	mpdt
;

77 
boÞ
 
	mldps
;

78 
u8
 
	mdpcd_»v
;

79 
u8
 
	mnum_sdp_¡»ams
;

80 
u8
 
	mnum_sdp_¡»am_sšks
;

81 
ušt16_t
 
	mavažabË_pbn
;

82 
li¡_h—d
 
	mÃxt
;

83 
drm_dp_m¡_b¿nch
 *
	mm¡b
;

84 
drm_dp_aux
 
	maux
;

85 
drm_dp_m¡_b¿nch
 *
	m·»Á
;

87 
drm_dp_výi
 
	mvýi
;

88 
drm_cÚÃùÜ
 *
	mcÚÃùÜ
;

89 
drm_dp_m¡_tÝÞogy_mgr
 *
	mmgr
;

95 
edid
 *
	mÿched_edid
;

100 
boÞ
 
	mhas_audio
;

123 
	sdrm_dp_m¡_b¿nch
 {

124 
k»f
 
	mk»f
;

125 
u8
 
	m¿d
[8];

126 
u8
 
	mlù
;

127 
	mnum_pÜts
;

129 
	mmsg_¦Ùs
;

130 
li¡_h—d
 
	mpÜts
;

133 
drm_dp_m¡_pÜt
 *
	mpÜt_·»Á
;

134 
drm_dp_m¡_tÝÞogy_mgr
 *
	mmgr
;

137 
drm_dp_sidebªd_msg_tx
 *
	mtx_¦Ùs
[2];

138 
	mÏ¡_£qno
;

139 
boÞ
 
	mlšk_add»ss_£Á
;

142 
u8
 
	mguid
[16];

147 
	sdrm_dp_sidebªd_msg_hdr
 {

148 
u8
 
	mlù
;

149 
u8
 
	mlü
;

150 
u8
 
	m¿d
[8];

151 
boÞ
 
	mbrßdÿ¡
;

152 
boÞ
 
	m·th_msg
;

153 
u8
 
	mmsg_Ën
;

154 
boÞ
 
	msomt
;

155 
boÞ
 
	meomt
;

156 
boÞ
 
	m£qno
;

159 
	sdrm_dp_Çk_»¶y
 {

160 
u8
 
	mguid
[16];

161 
u8
 
	m»asÚ
;

162 
u8
 
	mÇk_d©a
;

165 
	sdrm_dp_lšk_add»ss_ack_»¶y
 {

166 
u8
 
	mguid
[16];

167 
u8
 
	mÅÜts
;

168 
	sdrm_dp_lšk_addr_»¶y_pÜt
 {

169 
boÞ
 
	mšput_pÜt
;

170 
u8
 
	m³”_deviû_ty³
;

171 
u8
 
	mpÜt_numb”
;

172 
boÞ
 
	mmcs
;

173 
boÞ
 
	mddps
;

174 
boÞ
 
	mËgacy_deviû_¶ug_¡©us
;

175 
u8
 
	mdpcd_»visiÚ
;

176 
u8
 
	m³”_guid
[16];

177 
u8
 
	mnum_sdp_¡»ams
;

178 
u8
 
	mnum_sdp_¡»am_sšks
;

179 } 
	mpÜts
[16];

182 
	sdrm_dp_»mÙe_dpcd_»ad_ack_»¶y
 {

183 
u8
 
	mpÜt_numb”
;

184 
u8
 
	mnum_by‹s
;

185 
u8
 
	mby‹s
[255];

188 
	sdrm_dp_»mÙe_dpcd_wr™e_ack_»¶y
 {

189 
u8
 
	mpÜt_numb”
;

192 
	sdrm_dp_»mÙe_dpcd_wr™e_Çk_»¶y
 {

193 
u8
 
	mpÜt_numb”
;

194 
u8
 
	m»asÚ
;

195 
u8
 
	mby‹s_wr™‹n_befÜe_çžu»
;

198 
	sdrm_dp_»mÙe_i2c_»ad_ack_»¶y
 {

199 
u8
 
	mpÜt_numb”
;

200 
u8
 
	mnum_by‹s
;

201 
u8
 
	mby‹s
[255];

204 
	sdrm_dp_»mÙe_i2c_»ad_Çk_»¶y
 {

205 
u8
 
	mpÜt_numb”
;

206 
u8
 
	mÇk_»asÚ
;

207 
u8
 
	mi2c_Çk_Œª§ùiÚ
;

210 
	sdrm_dp_»mÙe_i2c_wr™e_ack_»¶y
 {

211 
u8
 
	mpÜt_numb”
;

215 
	sdrm_dp_sidebªd_msg_rx
 {

216 
u8
 
	mchunk
[48];

217 
u8
 
	mmsg
[256];

218 
u8
 
	mcurchunk_Ën
;

219 
u8
 
	mcurchunk_idx
;

220 
u8
 
	mcurchunk_hd¾’
;

221 
u8
 
	mcu¾’
;

222 
boÞ
 
	mhave_somt
;

223 
boÞ
 
	mhave_eomt
;

224 
drm_dp_sidebªd_msg_hdr
 
	mš™Ÿl_hdr
;

227 
	#DRM_DP_MAX_SDP_STREAMS
 16

	)

228 
	sdrm_dp_®loÿ‹_·ylßd
 {

229 
u8
 
	mpÜt_numb”
;

230 
u8
 
	mnumb”_sdp_¡»ams
;

231 
u8
 
	mvýi
;

232 
u16
 
	mpbn
;

233 
u8
 
	msdp_¡»am_sšk
[
DRM_DP_MAX_SDP_STREAMS
];

236 
	sdrm_dp_®loÿ‹_·ylßd_ack_»¶y
 {

237 
u8
 
	mpÜt_numb”
;

238 
u8
 
	mvýi
;

239 
u16
 
	m®loÿ‹d_pbn
;

242 
	sdrm_dp_cÚÃùiÚ_¡©us_nÙify
 {

243 
u8
 
	mguid
[16];

244 
u8
 
	mpÜt_numb”
;

245 
boÞ
 
	mËgacy_deviû_¶ug_¡©us
;

246 
boÞ
 
	mdi¥ÏypÜt_deviû_¶ug_¡©us
;

247 
boÞ
 
	mmes§ge_ÿ·bž™y_¡©us
;

248 
boÞ
 
	mšput_pÜt
;

249 
u8
 
	m³”_deviû_ty³
;

252 
	sdrm_dp_»mÙe_dpcd_»ad
 {

253 
u8
 
	mpÜt_numb”
;

254 
u32
 
	mdpcd_add»ss
;

255 
u8
 
	mnum_by‹s
;

258 
	sdrm_dp_»mÙe_dpcd_wr™e
 {

259 
u8
 
	mpÜt_numb”
;

260 
u32
 
	mdpcd_add»ss
;

261 
u8
 
	mnum_by‹s
;

262 
u8
 *
	mby‹s
;

265 
	#DP_REMOTE_I2C_READ_MAX_TRANSACTIONS
 4

	)

266 
	sdrm_dp_»mÙe_i2c_»ad
 {

267 
u8
 
	mnum_Œª§ùiÚs
;

268 
u8
 
	mpÜt_numb”
;

270 
u8
 
	mi2c_dev_id
;

271 
u8
 
	mnum_by‹s
;

272 
u8
 *
	mby‹s
;

273 
u8
 
	mno_¡Ý_b™
;

274 
u8
 
	mi2c_Œª§ùiÚ_d–ay
;

275 } 
	mŒª§ùiÚs
[
DP_REMOTE_I2C_READ_MAX_TRANSACTIONS
];

276 
u8
 
	m»ad_i2c_deviû_id
;

277 
u8
 
	mnum_by‹s_»ad
;

280 
	sdrm_dp_»mÙe_i2c_wr™e
 {

281 
u8
 
	mpÜt_numb”
;

282 
u8
 
	mwr™e_i2c_deviû_id
;

283 
u8
 
	mnum_by‹s
;

284 
u8
 *
	mby‹s
;

288 
	sdrm_dp_pÜt_numb”_»q
 {

289 
u8
 
	mpÜt_numb”
;

292 
	sdrm_dp_’um_·th_»sourûs_ack_»¶y
 {

293 
u8
 
	mpÜt_numb”
;

294 
u16
 
	mfuÎ_·ylßd_bw_numb”
;

295 
u16
 
	mavaž_·ylßd_bw_numb”
;

299 
	sdrm_dp_pÜt_numb”_»p
 {

300 
u8
 
	mpÜt_numb”
;

303 
	sdrm_dp_qu”y_·ylßd
 {

304 
u8
 
	mpÜt_numb”
;

305 
u8
 
	mvýi
;

308 
	sdrm_dp_»sourû_¡©us_nÙify
 {

309 
u8
 
	mpÜt_numb”
;

310 
u8
 
	mguid
[16];

311 
u16
 
	mavažabË_pbn
;

314 
	sdrm_dp_qu”y_·ylßd_ack_»¶y
 {

315 
u8
 
	mpÜt_numb”
;

316 
u8
 
	m®loÿ‹d_pbn
;

319 
	sdrm_dp_sidebªd_msg_»q_body
 {

320 
u8
 
	m»q_ty³
;

321 
	uack_»q
 {

322 
drm_dp_cÚÃùiÚ_¡©us_nÙify
 
	mcÚn_¡©
;

323 
drm_dp_pÜt_numb”_»q
 
	mpÜt_num
;

324 
drm_dp_»sourû_¡©us_nÙify
 
	m»sourû_¡©
;

326 
drm_dp_qu”y_·ylßd
 
	mqu”y_·ylßd
;

327 
drm_dp_®loÿ‹_·ylßd
 
	m®loÿ‹_·ylßd
;

329 
drm_dp_»mÙe_dpcd_»ad
 
	mdpcd_»ad
;

330 
drm_dp_»mÙe_dpcd_wr™e
 
	mdpcd_wr™e
;

332 
drm_dp_»mÙe_i2c_»ad
 
	mi2c_»ad
;

333 
drm_dp_»mÙe_i2c_wr™e
 
	mi2c_wr™e
;

334 } 
	mu
;

337 
	sdrm_dp_sidebªd_msg_»¶y_body
 {

338 
u8
 
	m»¶y_ty³
;

339 
u8
 
	m»q_ty³
;

340 
	uack_»¶›s
 {

341 
drm_dp_Çk_»¶y
 
	mÇk
;

342 
drm_dp_lšk_add»ss_ack_»¶y
 
	mlšk_addr
;

343 
drm_dp_pÜt_numb”_»p
 
	mpÜt_numb”
;

345 
drm_dp_’um_·th_»sourûs_ack_»¶y
 
	m·th_»sourûs
;

346 
drm_dp_®loÿ‹_·ylßd_ack_»¶y
 
	m®loÿ‹_·ylßd
;

347 
drm_dp_qu”y_·ylßd_ack_»¶y
 
	mqu”y_·ylßd
;

349 
drm_dp_»mÙe_dpcd_»ad_ack_»¶y
 
	m»mÙe_dpcd_»ad_ack
;

350 
drm_dp_»mÙe_dpcd_wr™e_ack_»¶y
 
	m»mÙe_dpcd_wr™e_ack
;

351 
drm_dp_»mÙe_dpcd_wr™e_Çk_»¶y
 
	m»mÙe_dpcd_wr™e_Çck
;

353 
drm_dp_»mÙe_i2c_»ad_ack_»¶y
 
	m»mÙe_i2c_»ad_ack
;

354 
drm_dp_»mÙe_i2c_»ad_Çk_»¶y
 
	m»mÙe_i2c_»ad_Çck
;

355 
drm_dp_»mÙe_i2c_wr™e_ack_»¶y
 
	m»mÙe_i2c_wr™e_ack
;

356 } 
	mu
;

360 
	#DRM_DP_SIDEBAND_TX_QUEUED
 0

	)

362 
	#DRM_DP_SIDEBAND_TX_START_SEND
 1

	)

364 
	#DRM_DP_SIDEBAND_TX_SENT
 2

	)

366 
	#DRM_DP_SIDEBAND_TX_RX
 3

	)

367 
	#DRM_DP_SIDEBAND_TX_TIMEOUT
 4

	)

369 
	sdrm_dp_sidebªd_msg_tx
 {

370 
u8
 
	mmsg
[256];

371 
u8
 
	mchunk
[48];

372 
u8
 
	mcur_off£t
;

373 
u8
 
	mcur_Ën
;

374 
drm_dp_m¡_b¿nch
 *
	md¡
;

375 
li¡_h—d
 
	mÃxt
;

376 
	m£qno
;

377 
	m¡©e
;

378 
boÞ
 
	m·th_msg
;

379 
drm_dp_sidebªd_msg_»¶y_body
 
	m»¶y
;

383 
	gdrm_dp_m¡_tÝÞogy_mgr
;

384 
	sdrm_dp_m¡_tÝÞogy_cbs
 {

386 
	mdrm_cÚÃùÜ
 *(*
	madd_cÚÃùÜ
)(
drm_dp_m¡_tÝÞogy_mgr
 *
	mmgr
, 
drm_dp_m¡_pÜt
 *
	mpÜt
, cÚ¡ *
	m·th
);

387 (*
	m»gi¡”_cÚÃùÜ
)(
drm_cÚÃùÜ
 *
	mcÚÃùÜ
);

388 (*
	mde¡roy_cÚÃùÜ
)(
drm_dp_m¡_tÝÞogy_mgr
 *
	mmgr
,

389 
drm_cÚÃùÜ
 *
	mcÚÃùÜ
);

390 (*
	mhÙ¶ug
)(
drm_dp_m¡_tÝÞogy_mgr
 *
	mmgr
);

394 
	#DP_MAX_PAYLOAD
 ((è* 8)

	)

396 
	#DP_PAYLOAD_LOCAL
 1

	)

397 
	#DP_PAYLOAD_REMOTE
 2

	)

398 
	#DP_PAYLOAD_DELETE_LOCAL
 3

	)

400 
	sdrm_dp_·ylßd
 {

401 
	m·ylßd_¡©e
;

402 
	m¡¬t_¦Ù
;

403 
	mnum_¦Ùs
;

404 
	mvýi
;

407 
	#to_dp_m¡_tÝÞogy_¡©e
(
x
è
	`cÚš”_of
(x, 
drm_dp_m¡_tÝÞogy_¡©e
, 
ba£
)

	)

409 
	sdrm_dp_m¡_tÝÞogy_¡©e
 {

410 
drm_´iv©e_¡©e
 
	mba£
;

411 
	mavaž_¦Ùs
;

412 
drm_©omic_¡©e
 *
	m¡©e
;

413 
drm_dp_m¡_tÝÞogy_mgr
 *
	mmgr
;

416 
	#to_dp_m¡_tÝÞogy_mgr
(
x
è
	`cÚš”_of
(x, 
drm_dp_m¡_tÝÞogy_mgr
, 
ba£
)

	)

425 
	sdrm_dp_m¡_tÝÞogy_mgr
 {

429 
drm_´iv©e_obj
 
	mba£
;

434 
drm_deviû
 *
	mdev
;

438 cÚ¡ 
drm_dp_m¡_tÝÞogy_cbs
 *
	mcbs
;

443 
	mmax_dpcd_Œª§ùiÚ_by‹s
;

448 
drm_dp_aux
 *
	maux
;

452 
	mmax_·ylßds
;

457 
	mcÚn_ba£_id
;

464 
drm_dp_sidebªd_msg_rx
 
	mdown_»p_»cv
;

470 
drm_dp_sidebªd_msg_rx
 
	mup_»q_»cv
;

475 
mu‹x
 
	mlock
;

481 
boÞ
 
	mm¡_¡©e
;

485 
drm_dp_m¡_b¿nch
 *
	mm¡_´im¬y
;

490 
u8
 
	mdpcd
[
DP_RECEIVER_CAP_SIZE
];

494 
u8
 
	msšk_couÁ
;

498 
	mpbn_div
;

503 
drm_dp_m¡_tÝÞogy_¡©e
 *
	m¡©e
;

508 cÚ¡ 
drm_´iv©e_¡©e_funcs
 *
	mfuncs
;

514 
mu‹x
 
	mqlock
;

518 
li¡_h—d
 
	mtx_msg_downq
;

523 
mu‹x
 
	m·ylßd_lock
;

528 
drm_dp_výi
 **
	m´Ýo£d_výis
;

532 
drm_dp_·ylßd
 *
	m·ylßds
;

538 
	m·ylßd_mask
;

542 
	mvýi_mask
;

547 
wa™_queue_h—d_t
 
	mtx_wa™q
;

551 
wÜk_¡ruù
 
	mwÜk
;

556 
wÜk_¡ruù
 
	mtx_wÜk
;

561 
li¡_h—d
 
	mde¡roy_cÚÃùÜ_li¡
;

565 
mu‹x
 
	mde¡roy_cÚÃùÜ_lock
;

570 
wÜk_¡ruù
 
	mde¡roy_cÚÃùÜ_wÜk
;

573 
drm_dp_m¡_tÝÞogy_mgr_š™
(
drm_dp_m¡_tÝÞogy_mgr
 *
mgr
,

574 
drm_deviû
 *
dev
, 
drm_dp_aux
 *
aux
,

575 
max_dpcd_Œª§ùiÚ_by‹s
,

576 
max_·ylßds
, 
cÚn_ba£_id
);

578 
drm_dp_m¡_tÝÞogy_mgr_de¡roy
(
drm_dp_m¡_tÝÞogy_mgr
 *
mgr
);

581 
drm_dp_m¡_tÝÞogy_mgr_£t_m¡
(
drm_dp_m¡_tÝÞogy_mgr
 *
mgr
, 
boÞ
 
m¡_¡©e
);

584 
drm_dp_m¡_hpd_œq
(
drm_dp_m¡_tÝÞogy_mgr
 *
mgr
, 
u8
 *
esi
, 
boÞ
 *
hªdËd
);

587 
drm_cÚÃùÜ_¡©us
 
drm_dp_m¡_d‘eù_pÜt
(
drm_cÚÃùÜ
 *
cÚÃùÜ
, 
drm_dp_m¡_tÝÞogy_mgr
 *
mgr
, 
drm_dp_m¡_pÜt
 *
pÜt
);

589 
boÞ
 
drm_dp_m¡_pÜt_has_audio
(
drm_dp_m¡_tÝÞogy_mgr
 *
mgr
,

590 
drm_dp_m¡_pÜt
 *
pÜt
);

591 
edid
 *
drm_dp_m¡_g‘_edid
(
drm_cÚÃùÜ
 *
cÚÃùÜ
, 
drm_dp_m¡_tÝÞogy_mgr
 *
mgr
, 
drm_dp_m¡_pÜt
 *
pÜt
);

594 
drm_dp_ÿlc_pbn_mode
(
þock
, 
bµ
);

597 
boÞ
 
drm_dp_m¡_®loÿ‹_výi
(
drm_dp_m¡_tÝÞogy_mgr
 *
mgr
,

598 
drm_dp_m¡_pÜt
 *
pÜt
, 
pbn
, 
¦Ùs
);

600 
drm_dp_m¡_g‘_výi_¦Ùs
(
drm_dp_m¡_tÝÞogy_mgr
 *
mgr
, 
drm_dp_m¡_pÜt
 *
pÜt
);

603 
drm_dp_m¡_»£t_výi_¦Ùs
(
drm_dp_m¡_tÝÞogy_mgr
 *
mgr
, 
drm_dp_m¡_pÜt
 *
pÜt
);

606 
drm_dp_m¡_d—Îoÿ‹_výi
(
drm_dp_m¡_tÝÞogy_mgr
 *
mgr
,

607 
drm_dp_m¡_pÜt
 *
pÜt
);

610 
drm_dp_fšd_výi_¦Ùs
(
drm_dp_m¡_tÝÞogy_mgr
 *
mgr
,

611 
pbn
);

614 
drm_dp_upd©e_·ylßd_·¹1
(
drm_dp_m¡_tÝÞogy_mgr
 *
mgr
);

617 
drm_dp_upd©e_·ylßd_·¹2
(
drm_dp_m¡_tÝÞogy_mgr
 *
mgr
);

619 
drm_dp_check_aù_¡©us
(
drm_dp_m¡_tÝÞogy_mgr
 *
mgr
);

621 
drm_dp_m¡_dump_tÝÞogy
(
£q_fže
 *
m
,

622 
drm_dp_m¡_tÝÞogy_mgr
 *
mgr
);

624 
drm_dp_m¡_tÝÞogy_mgr_su¥’d
(
drm_dp_m¡_tÝÞogy_mgr
 *
mgr
);

625 
drm_dp_m¡_tÝÞogy_mgr_»sume
(
drm_dp_m¡_tÝÞogy_mgr
 *
mgr
);

626 
drm_dp_m¡_tÝÞogy_¡©e
 *
drm_©omic_g‘_m¡_tÝÞogy_¡©e
(
drm_©omic_¡©e
 *
¡©e
,

627 
drm_dp_m¡_tÝÞogy_mgr
 *
mgr
);

628 
drm_dp_©omic_fšd_výi_¦Ùs
(
drm_©omic_¡©e
 *
¡©e
,

629 
drm_dp_m¡_tÝÞogy_mgr
 *
mgr
,

630 
drm_dp_m¡_pÜt
 *
pÜt
, 
pbn
);

631 
drm_dp_©omic_»Ëa£_výi_¦Ùs
(
drm_©omic_¡©e
 *
¡©e
,

632 
drm_dp_m¡_tÝÞogy_mgr
 *
mgr
,

633 
¦Ùs
);

634 
drm_dp_£nd_pow”_updown_phy
(
drm_dp_m¡_tÝÞogy_mgr
 *
mgr
,

635 
drm_dp_m¡_pÜt
 *
pÜt
, 
boÞ
 
pow”_up
);

	@src/common/linuxkpi/include/drm/drm_drv.h

27 #iâdeà
_DRM_DRV_H_


28 
	#_DRM_DRV_H_


	)

30 
	~<lšux/li¡.h
>

31 
	~<lšux/œq»tuº.h
>

33 
	~<drm/drm_deviû.h
>

35 
	gdrm_fže
;

36 
	gdrm_gem_objeù
;

37 
	gdrm_ma¡”
;

38 
	gdrm_mšÜ
;

39 
	gdma_buf_©chm’t
;

40 
	gdrm_di¥Ïy_mode
;

41 
	gdrm_mode_ü—‹_dumb
;

42 
	gdrm_´š‹r
;

45 
	#DRIVER_USE_AGP
 0x1

	)

46 
	#DRIVER_LEGACY
 0x2

	)

47 
	#DRIVER_PCI_DMA
 0x8

	)

48 
	#DRIVER_SG
 0x10

	)

49 
	#DRIVER_HAVE_DMA
 0x20

	)

50 
	#DRIVER_HAVE_IRQ
 0x40

	)

51 
	#DRIVER_IRQ_SHARED
 0x80

	)

52 
	#DRIVER_GEM
 0x1000

	)

53 
	#DRIVER_MODESET
 0x2000

	)

54 
	#DRIVER_PRIME
 0x4000

	)

55 
	#DRIVER_RENDER
 0x8000

	)

56 
	#DRIVER_ATOMIC
 0x10000

	)

57 
	#DRIVER_KMS_LEGACY_CONTEXT
 0x20000

	)

58 
	#DRIVER_SYNCOBJ
 0x40000

	)

59 
	#DRIVER_PREFER_XBGR_30BPP
 0x80000

	)

70 
	sdrm_driv”
 {

88 (*
	mlßd
è(
	mdrm_deviû
 *, 
	mæags
);

108 (*
	mÝ’
è(
	mdrm_deviû
 *, 
	mdrm_fže
 *);

122 (*
	mpo¡þo£
è(
	mdrm_deviû
 *, 
	mdrm_fže
 *);

150 (*
	mÏ¡þo£
è(
	mdrm_deviû
 *);

167 (*
	muÆßd
è(
	mdrm_deviû
 *);

177 (*
	m»Ëa£
è(
	mdrm_deviû
 *);

200 
u32
 (*
g‘_vbÏnk_couÁ”
è(
drm_deviû
 *
	mdev
, 
	mpe
);

216 (*
	m’abË_vbÏnk
è(
drm_deviû
 *
	mdev
, 
	mpe
);

227 (*
	mdi§bË_vbÏnk
è(
drm_deviû
 *
	mdev
, 
	mpe
);

279 
boÞ
 (*
g‘_sÿnout_pos™iÚ
è(
drm_deviû
 *
	mdev
, 
	mpe
,

280 
boÞ
 
	mš_vbÏnk_œq
, *
	mvpos
, *
	mhpos
,

281 
ktime_t
 *
	m¡ime
, ktime_ˆ*
	m‘ime
,

282 cÚ¡ 
drm_di¥Ïy_mode
 *
	mmode
);

327 
boÞ
 (*
g‘_vbÏnk_time¡amp
è(
drm_deviû
 *
	mdev
, 
	mpe
,

328 *
	mmax_”rÜ
,

329 
ktime_t
 *
	mvbÏnk_time
,

330 
boÞ
 
	mš_vbÏnk_œq
);

338 
œq»tuº_t
(*
œq_hªdËr
è(
	mœq
, *
	m¬g
);

348 (*
	mœq_´eš¡®l
è(
drm_deviû
 *
	mdev
);

357 (*
	mœq_po¡š¡®l
è(
drm_deviû
 *
	mdev
);

366 (*
	mœq_unš¡®l
è(
drm_deviû
 *
	mdev
);

373 (*
	mma¡”_ü—‹
)(
drm_deviû
 *
	mdev
, 
drm_ma¡”
 *
	mma¡”
);

380 (*
	mma¡”_de¡roy
)(
drm_deviû
 *
	mdev
, 
drm_ma¡”
 *
	mma¡”
);

387 (*
	mma¡”_£t
)(
drm_deviû
 *
	mdev
, 
drm_fže
 *
	mfže_´iv
,

388 
boÞ
 
	mäom_Ý’
);

394 (*
	mma¡”_drÝ
)(
drm_deviû
 *
	mdev
, 
drm_fže
 *
	mfže_´iv
);

401 (*
	mdebugfs_š™
)(
drm_mšÜ
 *
	mmšÜ
);

409 (*
	mgem_ä“_objeù
è(
drm_gem_objeù
 *
	mobj
);

417 (*
	mgem_ä“_objeù_uÆocked
è(
drm_gem_objeù
 *
	mobj
);

424 (*
	mgem_Ý’_objeù
è(
	mdrm_gem_objeù
 *, 
	mdrm_fže
 *);

431 (*
	mgem_þo£_objeù
è(
	mdrm_gem_objeù
 *, 
	mdrm_fže
 *);

444 (*
	mgem_´št_šfo
)(
drm_´š‹r
 *
	mp
, 
	mšd’t
,

445 cÚ¡ 
drm_gem_objeù
 *
	mobj
);

453 
	mdrm_gem_objeù
 *(*
	mgem_ü—‹_objeù
)(
drm_deviû
 *
	mdev
,

454 
size_t
 
	msize
);

462 (*
	m´ime_hªdË_to_fd
)(
drm_deviû
 *
	mdev
, 
drm_fže
 *
	mfže_´iv
,

463 
ušt32_t
 
	mhªdË
, ušt32_ˆ
	mæags
, *
	m´ime_fd
);

469 (*
	m´ime_fd_to_hªdË
)(
drm_deviû
 *
	mdev
, 
drm_fže
 *
	mfže_´iv
,

470 
	m´ime_fd
, 
ušt32_t
 *
	mhªdË
);

476 
	mdma_buf
 * (*
	mgem_´ime_expÜt
)(
drm_deviû
 *
	mdev
,

477 
drm_gem_objeù
 *
	mobj
, 
	mæags
);

483 
	mdrm_gem_objeù
 * (*
	mgem_´ime_impÜt
)(
drm_deviû
 *
	mdev
,

484 
dma_buf
 *
	mdma_buf
);

485 (*
	mgem_´ime_pš
)(
drm_gem_objeù
 *
	mobj
);

486 (*
	mgem_´ime_uÅš
)(
drm_gem_objeù
 *
	mobj
);

487 
	m»£rv©iÚ_objeù
 * (*
	mgem_´ime_»s_obj
)(

488 
drm_gem_objeù
 *
	mobj
);

489 
	msg_bË
 *(*
	mgem_´ime_g‘_sg_bË
)(
drm_gem_objeù
 *
	mobj
);

490 
	mdrm_gem_objeù
 *(*
	mgem_´ime_impÜt_sg_bË
)(

491 
drm_deviû
 *
	mdev
,

492 
dma_buf_©chm’t
 *
	m©ch
,

493 
sg_bË
 *
	msgt
);

494 *(*
	mgem_´ime_vm­
)(
drm_gem_objeù
 *
	mobj
);

495 (*
	mgem_´ime_vunm­
)(
drm_gem_objeù
 *
	mobj
, *
	mvaddr
);

496 (*
	mgem_´ime_mm­
)(
drm_gem_objeù
 *
	mobj
,

497 
vm_¬—_¡ruù
 *
	mvma
);

520 (*
	mdumb_ü—‹
)(
drm_fže
 *
	mfže_´iv
,

521 
drm_deviû
 *
	mdev
,

522 
drm_mode_ü—‹_dumb
 *
	m¬gs
);

536 (*
	mdumb_m­_off£t
)(
drm_fže
 *
	mfže_´iv
,

537 
drm_deviû
 *
	mdev
, 
ušt32_t
 
	mhªdË
,

538 
ušt64_t
 *
	moff£t
);

552 (*
	mdumb_de¡roy
)(
drm_fže
 *
	mfže_´iv
,

553 
drm_deviû
 *
	mdev
,

554 
ušt32_t
 
	mhªdË
);

559 cÚ¡ 
vm_Ý”©iÚs_¡ruù
 *
	mgem_vm_Ýs
;

562 
	mmajÜ
;

564 
	mmšÜ
;

566 
	m·tchËv–
;

568 *
	mÇme
;

570 *
	mdesc
;

572 *
	md©e
;

575 
u32
 
	mdriv”_ã©u»s
;

585 cÚ¡ 
drm_ioùl_desc
 *
	mioùls
;

587 
	mnum_ioùls
;

596 cÚ¡ 
fže_Ý”©iÚs
 *
	mfÝs
;

602 
li¡_h—d
 
	mËgacy_dev_li¡
;

603 (*
	mfœ¡Ý’
è(
	mdrm_deviû
 *);

604 (*
	m´eþo£
è(
	mdrm_deviû
 *, 
drm_fže
 *
	mfže_´iv
);

605 (*
	mdma_ioùl
è(
drm_deviû
 *
	mdev
, *
	md©a
, 
drm_fže
 *
	mfže_´iv
);

606 (*
	mdma_qu›sûÁ
è(
	mdrm_deviû
 *);

607 (*
	mcÚ‹xt_dtÜ
è(
drm_deviû
 *
	mdev
, 
	mcÚ‹xt
);

608 
	mdev_´iv_size
;

611 
drm_debug
;

613 
drm_dev_š™
(
drm_deviû
 *
dev
,

614 
drm_driv”
 *
driv”
,

615 
deviû
 *
·»Á
);

616 
drm_dev_fši
(
drm_deviû
 *
dev
);

618 
drm_deviû
 *
drm_dev_®loc
(
drm_driv”
 *
driv”
,

619 
deviû
 *
·»Á
);

620 
drm_dev_»gi¡”
(
drm_deviû
 *
dev
, 
æags
);

621 
drm_dev_uÄegi¡”
(
drm_deviû
 *
dev
);

623 
drm_dev_g‘
(
drm_deviû
 *
dev
);

624 
drm_dev_put
(
drm_deviû
 *
dev
);

625 
drm_dev_uÄef
(
drm_deviû
 *
dev
);

626 
drm_put_dev
(
drm_deviû
 *
dev
);

627 
drm_dev_uÅlug
(
drm_deviû
 *
dev
);

638 
šlše
 
	$drm_dev_is_uÅlugged
(
drm_deviû
 *
dev
)

640 
»t
 = 
	`©omic_»ad
(&
dev
->
uÅlugged
);

641 
	`smp_rmb
();

642  
»t
;

643 
	}
}

646 
drm_dev_£t_unique
(
drm_deviû
 *
dev
, cÚ¡ *
Çme
);

	@src/common/linuxkpi/include/drm/drm_edid.h

23 #iâdeà
__DRM_EDID_H__


24 
	#__DRM_EDID_H__


	)

26 
	~<lšux/ty³s.h
>

27 
	~<lšux/hdmi.h
>

29 
	gdrm_deviû
;

30 
	gi2c_ad­‹r
;

32 
	#EDID_LENGTH
 128

	)

33 
	#DDC_ADDR
 0x50

	)

34 
	#DDC_ADDR2
 0x52

	)

36 
	#CEA_EXT
 0x02

	)

37 
	#VTB_EXT
 0x10

	)

38 
	#DI_EXT
 0x40

	)

39 
	#LS_EXT
 0x50

	)

40 
	#MI_EXT
 0x60

	)

41 
	#DISPLAYID_EXT
 0x70

	)

43 
	se¡_timšgs
 {

44 
u8
 
	mt1
;

45 
u8
 
	mt2
;

46 
u8
 
	mmfg_rsvd
;

47 } 
__©Œibu‹__
((
·cked
));

50 
	#EDID_TIMING_ASPECT_SHIFT
 6

	)

51 
	#EDID_TIMING_ASPECT_MASK
 (0x3 << 
EDID_TIMING_ASPECT_SHIFT
)

	)

54 
	#EDID_TIMING_VFREQ_SHIFT
 0

	)

55 
	#EDID_TIMING_VFREQ_MASK
 (0x3à<< 
EDID_TIMING_VFREQ_SHIFT
)

	)

57 
	s¡d_timšg
 {

58 
u8
 
	mhsize
;

59 
u8
 
	mväeq_a¥eù
;

60 } 
__©Œibu‹__
((
·cked
));

62 
	#DRM_EDID_PT_HSYNC_POSITIVE
 (1 << 1)

	)

63 
	#DRM_EDID_PT_VSYNC_POSITIVE
 (1 << 2)

	)

64 
	#DRM_EDID_PT_SEPARATE_SYNC
 (3 << 3)

	)

65 
	#DRM_EDID_PT_STEREO
 (1 << 5)

	)

66 
	#DRM_EDID_PT_INTERLACED
 (1 << 7)

	)

69 
	sd‘ažed_pix–_timšg
 {

70 
u8
 
	mhaùive_lo
;

71 
u8
 
	mhbÏnk_lo
;

72 
u8
 
	mhaùive_hbÏnk_hi
;

73 
u8
 
	mvaùive_lo
;

74 
u8
 
	mvbÏnk_lo
;

75 
u8
 
	mvaùive_vbÏnk_hi
;

76 
u8
 
	mhsync_off£t_lo
;

77 
u8
 
	mhsync_pul£_width_lo
;

78 
u8
 
	mvsync_off£t_pul£_width_lo
;

79 
u8
 
	mhsync_vsync_off£t_pul£_width_hi
;

80 
u8
 
	mwidth_mm_lo
;

81 
u8
 
	mheight_mm_lo
;

82 
u8
 
	mwidth_height_mm_hi
;

83 
u8
 
	mhbÜd”
;

84 
u8
 
	mvbÜd”
;

85 
u8
 
	mmisc
;

86 } 
__©Œibu‹__
((
·cked
));

89 
	sd‘ažed_d©a_¡ršg
 {

90 
u8
 
	m¡r
[13];

91 } 
__©Œibu‹__
((
·cked
));

93 
	sd‘ažed_d©a_mÚ™Ü_¿nge
 {

94 
u8
 
	mmš_väeq
;

95 
u8
 
	mmax_väeq
;

96 
u8
 
	mmš_häeq_khz
;

97 
u8
 
	mmax_häeq_khz
;

98 
u8
 
	mpix–_þock_mhz
;

99 
u8
 
	mæags
;

102 
u8
 
	m»£rved
;

103 
u8
 
	mhäeq_¡¬t_khz
;

104 
u8
 
	mc
;

105 
__Ë16
 
	mm
;

106 
u8
 
	mk
;

107 
u8
 
	mj
;

108 } 
__©Œibu‹__
((
·cked
)è
	mgtf2
;

110 
u8
 
	mv”siÚ
;

111 
u8
 
	md©a1
;

112 
u8
 
	md©a2
;

113 
u8
 
	msuµÜ‹d_a¥eùs
;

114 
u8
 
	mæags
;

115 
u8
 
	msuµÜ‹d_sÿlšgs
;

116 
u8
 
	m´eã¼ed_»äesh
;

117 } 
__©Œibu‹__
((
·cked
)è
	mcvt
;

118 } 
	mfÜmuÏ
;

119 } 
__©Œibu‹__
((
·cked
));

121 
	sd‘ažed_d©a_wpšdex
 {

122 
u8
 
	mwh™e_yx_lo
;

123 
u8
 
	mwh™e_x_hi
;

124 
u8
 
	mwh™e_y_hi
;

125 
u8
 
	mgamma
;

126 } 
__©Œibu‹__
((
·cked
));

128 
	sd‘ažed_d©a_cÞÜ_pošt
 {

129 
u8
 
	mwšdex1
;

130 
u8
 
	mwpšdex1
[3];

131 
u8
 
	mwšdex2
;

132 
u8
 
	mwpšdex2
[3];

133 } 
__©Œibu‹__
((
·cked
));

135 
	scvt_timšg
 {

136 
u8
 
	mcode
[3];

137 } 
__©Œibu‹__
((
·cked
));

139 
	sd‘ažed_nÚ_pix–
 {

140 
u8
 
	m·d1
;

141 
u8
 
	mty³
;

144 
u8
 
	m·d2
;

146 
d‘ažed_d©a_¡ršg
 
	m¡r
;

147 
d‘ažed_d©a_mÚ™Ü_¿nge
 
	m¿nge
;

148 
d‘ažed_d©a_wpšdex
 
	mcÞÜ
;

149 
¡d_timšg
 
	mtimšgs
[6];

150 
cvt_timšg
 
	mcvt
[4];

151 } 
	md©a
;

152 } 
__©Œibu‹__
((
·cked
));

154 
	#EDID_DETAIL_EST_TIMINGS
 0xf7

	)

155 
	#EDID_DETAIL_CVT_3BYTE
 0xf8

	)

156 
	#EDID_DETAIL_COLOR_MGMT_DATA
 0xf9

	)

157 
	#EDID_DETAIL_STD_MODES
 0xç

	)

158 
	#EDID_DETAIL_MONITOR_CPDATA
 0xfb

	)

159 
	#EDID_DETAIL_MONITOR_NAME
 0xfc

	)

160 
	#EDID_DETAIL_MONITOR_RANGE
 0xfd

	)

161 
	#EDID_DETAIL_MONITOR_STRING
 0xã

	)

162 
	#EDID_DETAIL_MONITOR_SERIAL
 0xff

	)

164 
	sd‘ažed_timšg
 {

165 
__Ë16
 
	mpix–_þock
;

167 
d‘ažed_pix–_timšg
 
	mpix–_d©a
;

168 
d‘ažed_nÚ_pix–
 
	mÙh”_d©a
;

169 } 
	md©a
;

170 } 
__©Œibu‹__
((
·cked
));

172 
	#DRM_EDID_INPUT_SERRATION_VSYNC
 (1 << 0)

	)

173 
	#DRM_EDID_INPUT_SYNC_ON_GREEN
 (1 << 1)

	)

174 
	#DRM_EDID_INPUT_COMPOSITE_SYNC
 (1 << 2)

	)

175 
	#DRM_EDID_INPUT_SEPARATE_SYNCS
 (1 << 3)

	)

176 
	#DRM_EDID_INPUT_BLANK_TO_BLACK
 (1 << 4)

	)

177 
	#DRM_EDID_INPUT_VIDEO_LEVEL
 (3 << 5)

	)

178 
	#DRM_EDID_INPUT_DIGITAL
 (1 << 7)

	)

179 
	#DRM_EDID_DIGITAL_DEPTH_MASK
 (7 << 4)

	)

180 
	#DRM_EDID_DIGITAL_DEPTH_UNDEF
 (0 << 4)

	)

181 
	#DRM_EDID_DIGITAL_DEPTH_6
 (1 << 4)

	)

182 
	#DRM_EDID_DIGITAL_DEPTH_8
 (2 << 4)

	)

183 
	#DRM_EDID_DIGITAL_DEPTH_10
 (3 << 4)

	)

184 
	#DRM_EDID_DIGITAL_DEPTH_12
 (4 << 4)

	)

185 
	#DRM_EDID_DIGITAL_DEPTH_14
 (5 << 4)

	)

186 
	#DRM_EDID_DIGITAL_DEPTH_16
 (6 << 4)

	)

187 
	#DRM_EDID_DIGITAL_DEPTH_RSVD
 (7 << 4)

	)

188 
	#DRM_EDID_DIGITAL_TYPE_UNDEF
 (0)

	)

189 
	#DRM_EDID_DIGITAL_TYPE_DVI
 (1)

	)

190 
	#DRM_EDID_DIGITAL_TYPE_HDMI_A
 (2)

	)

191 
	#DRM_EDID_DIGITAL_TYPE_HDMI_B
 (3)

	)

192 
	#DRM_EDID_DIGITAL_TYPE_MDDI
 (4)

	)

193 
	#DRM_EDID_DIGITAL_TYPE_DP
 (5)

	)

195 
	#DRM_EDID_FEATURE_DEFAULT_GTF
 (1 << 0)

	)

196 
	#DRM_EDID_FEATURE_PREFERRED_TIMING
 (1 << 1)

	)

197 
	#DRM_EDID_FEATURE_STANDARD_COLOR
 (1 << 2)

	)

199 
	#DRM_EDID_FEATURE_DISPLAY_TYPE
 (3 << 3è

	)

201 
	#DRM_EDID_FEATURE_COLOR_MASK
 (3 << 3)

	)

202 
	#DRM_EDID_FEATURE_RGB
 (0 << 3)

	)

203 
	#DRM_EDID_FEATURE_RGB_YCRCB444
 (1 << 3)

	)

204 
	#DRM_EDID_FEATURE_RGB_YCRCB422
 (2 << 3)

	)

205 
	#DRM_EDID_FEATURE_RGB_YCRCB
 (3 << 3è

	)

207 
	#DRM_EDID_FEATURE_PM_ACTIVE_OFF
 (1 << 5)

	)

208 
	#DRM_EDID_FEATURE_PM_SUSPEND
 (1 << 6)

	)

209 
	#DRM_EDID_FEATURE_PM_STANDBY
 (1 << 7)

	)

211 
	#DRM_EDID_HDMI_DC_48
 (1 << 6)

	)

212 
	#DRM_EDID_HDMI_DC_36
 (1 << 5)

	)

213 
	#DRM_EDID_HDMI_DC_30
 (1 << 4)

	)

214 
	#DRM_EDID_HDMI_DC_Y444
 (1 << 3)

	)

217 
	#DRM_EDID_YCBCR420_DC_48
 (1 << 6)

	)

218 
	#DRM_EDID_YCBCR420_DC_36
 (1 << 5)

	)

219 
	#DRM_EDID_YCBCR420_DC_30
 (1 << 4)

	)

220 
	#DRM_EDID_YCBCR420_DC_MASK
 (
DRM_EDID_YCBCR420_DC_48
 | \

221 
DRM_EDID_YCBCR420_DC_36
 | \

222 
DRM_EDID_YCBCR420_DC_30
)

	)

225 
	#DRM_ELD_HEADER_BLOCK_SIZE
 4

	)

227 
	#DRM_ELD_VER
 0

	)

228 
	#DRM_ELD_VER_SHIFT
 3

	)

229 
	#DRM_ELD_VER_MASK
 (0x1à<< 3)

	)

230 
	#DRM_ELD_VER_CEA861D
 (2 << 3è

	)

231 
	#DRM_ELD_VER_CANNED
 (0x1à<< 3)

	)

233 
	#DRM_ELD_BASELINE_ELD_LEN
 2

	)

236 
	#DRM_ELD_CEA_EDID_VER_MNL
 4

	)

237 
	#DRM_ELD_CEA_EDID_VER_SHIFT
 5

	)

238 
	#DRM_ELD_CEA_EDID_VER_MASK
 (7 << 5)

	)

239 
	#DRM_ELD_CEA_EDID_VER_NONE
 (0 << 5)

	)

240 
	#DRM_ELD_CEA_EDID_VER_CEA861
 (1 << 5)

	)

241 
	#DRM_ELD_CEA_EDID_VER_CEA861A
 (2 << 5)

	)

242 
	#DRM_ELD_CEA_EDID_VER_CEA861BCD
 (3 << 5)

	)

243 
	#DRM_ELD_MNL_SHIFT
 0

	)

244 
	#DRM_ELD_MNL_MASK
 (0x1à<< 0)

	)

246 
	#DRM_ELD_SAD_COUNT_CONN_TYPE
 5

	)

247 
	#DRM_ELD_SAD_COUNT_SHIFT
 4

	)

248 
	#DRM_ELD_SAD_COUNT_MASK
 (0xà<< 4)

	)

249 
	#DRM_ELD_CONN_TYPE_SHIFT
 2

	)

250 
	#DRM_ELD_CONN_TYPE_MASK
 (3 << 2)

	)

251 
	#DRM_ELD_CONN_TYPE_HDMI
 (0 << 2)

	)

252 
	#DRM_ELD_CONN_TYPE_DP
 (1 << 2)

	)

253 
	#DRM_ELD_SUPPORTS_AI
 (1 << 1)

	)

254 
	#DRM_ELD_SUPPORTS_HDCP
 (1 << 0)

	)

256 
	#DRM_ELD_AUD_SYNCH_DELAY
 6

	)

257 
	#DRM_ELD_AUD_SYNCH_DELAY_MAX
 0xç

	)

259 
	#DRM_ELD_SPEAKER
 7

	)

260 
	#DRM_ELD_SPEAKER_MASK
 0x7f

	)

261 
	#DRM_ELD_SPEAKER_RLRC
 (1 << 6)

	)

262 
	#DRM_ELD_SPEAKER_FLRC
 (1 << 5)

	)

263 
	#DRM_ELD_SPEAKER_RC
 (1 << 4)

	)

264 
	#DRM_ELD_SPEAKER_RLR
 (1 << 3)

	)

265 
	#DRM_ELD_SPEAKER_FC
 (1 << 2)

	)

266 
	#DRM_ELD_SPEAKER_LFE
 (1 << 1)

	)

267 
	#DRM_ELD_SPEAKER_FLR
 (1 << 0)

	)

269 
	#DRM_ELD_PORT_ID
 8

	)

270 
	#DRM_ELD_PORT_ID_LEN
 8

	)

272 
	#DRM_ELD_MANUFACTURER_NAME0
 16

	)

273 
	#DRM_ELD_MANUFACTURER_NAME1
 17

	)

275 
	#DRM_ELD_PRODUCT_CODE0
 18

	)

276 
	#DRM_ELD_PRODUCT_CODE1
 19

	)

278 
	#DRM_ELD_MONITOR_NAME_STRING
 20

	)

280 
	#DRM_ELD_CEA_SAD
(
mÆ
, 
§d
è(20 + (mÆè+ 3 * (§d))

	)

282 
	sedid
 {

283 
u8
 
	mh—d”
[8];

285 
u8
 
	mmfg_id
[2];

286 
u8
 
	m´od_code
[2];

287 
u32
 
	m£rŸl
;

288 
u8
 
	mmfg_w“k
;

289 
u8
 
	mmfg_y—r
;

291 
u8
 
	mv”siÚ
;

292 
u8
 
	m»visiÚ
;

294 
u8
 
	mšput
;

295 
u8
 
	mwidth_cm
;

296 
u8
 
	mheight_cm
;

297 
u8
 
	mgamma
;

298 
u8
 
	mã©u»s
;

300 
u8
 
	m»d_g»’_lo
;

301 
u8
 
	mbÏck_wh™e_lo
;

302 
u8
 
	m»d_x
;

303 
u8
 
	m»d_y
;

304 
u8
 
	mg»’_x
;

305 
u8
 
	mg»’_y
;

306 
u8
 
	mblue_x
;

307 
u8
 
	mblue_y
;

308 
u8
 
	mwh™e_x
;

309 
u8
 
	mwh™e_y
;

311 
e¡_timšgs
 
	me¡ablished_timšgs
;

313 
¡d_timšg
 
	m¡ªd¬d_timšgs
[8];

315 
d‘ažed_timšg
 
	md‘ažed_timšgs
[4];

317 
u8
 
	mex‹nsiÚs
;

319 
u8
 
	mchecksum
;

320 } 
__©Œibu‹__
((
·cked
));

322 
	#EDID_PRODUCT_ID
(
e
è(Ó)->
´od_code
[0] | (Ó)->´od_code[1] << 8))

	)

325 
	sûa_§d
 {

326 
u8
 
	mfÜm©
;

327 
u8
 
	mchªÃls
;

328 
u8
 
	mäeq
;

329 
u8
 
	mby‹2
;

332 
	gdrm_’cod”
;

333 
	gdrm_cÚÃùÜ
;

334 
	gdrm_di¥Ïy_mode
;

336 
drm_edid_to_§d
(
edid
 *edid, 
ûa_§d
 **
§ds
);

337 
drm_edid_to_¥—k”_®loÿtiÚ
(
edid
 *edid, 
u8
 **
§db
);

338 
drm_av_sync_d–ay
(
drm_cÚÃùÜ
 *
cÚÃùÜ
,

339 cÚ¡ 
drm_di¥Ïy_mode
 *
mode
);

341 #ifdeà
CONFIG_DRM_LOAD_EDID_FIRMWARE


342 
edid
 *
drm_lßd_edid_fœmw¬e
(
drm_cÚÃùÜ
 *
cÚÃùÜ
);

343 
__drm_£t_edid_fœmw¬e_·th
(cÚ¡ *
·th
);

344 
__drm_g‘_edid_fœmw¬e_·th
(*
buf
, 
size_t
 
bufsize
);

346 
šlše
 
edid
 *

347 
	$drm_lßd_edid_fœmw¬e
(
drm_cÚÃùÜ
 *
cÚÃùÜ
)

349  
	`ERR_PTR
(-
ENOENT
);

350 
	}
}

354 
drm_hdmi_avi_šfoäame_äom_di¥Ïy_mode
(
hdmi_avi_šfoäame
 *
äame
,

355 cÚ¡ 
drm_di¥Ïy_mode
 *
mode
,

356 
boÞ
 
is_hdmi2_sšk
);

358 
drm_hdmi_v’dÜ_šfoäame_äom_di¥Ïy_mode
(
hdmi_v’dÜ_šfoäame
 *
äame
,

359 
drm_cÚÃùÜ
 *
cÚÃùÜ
,

360 cÚ¡ 
drm_di¥Ïy_mode
 *
mode
);

362 
drm_hdmi_avi_šfoäame_quªt_¿nge
(
hdmi_avi_šfoäame
 *
äame
,

363 cÚ¡ 
drm_di¥Ïy_mode
 *
mode
,

364 
hdmi_quªtiz©iÚ_¿nge
 
rgb_quªt_¿nge
,

365 
boÞ
 
rgb_quªt_¿nge_£ËùabË
,

366 
boÞ
 
is_hdmi2_sšk
);

372 
šlše
 
	$drm_–d_mÆ
(cÚ¡ 
ušt8_t
 *
–d
)

374  (
–d
[
DRM_ELD_CEA_EDID_VER_MNL
] & 
DRM_ELD_MNL_MASK
è>> 
DRM_ELD_MNL_SHIFT
;

375 
	}
}

381 
šlše
 cÚ¡ 
ušt8_t
 *
	$drm_–d_§d
(cÚ¡ 
ušt8_t
 *
–d
)

383 
v”
, 
mÆ
;

385 
v”
 = (
–d
[
DRM_ELD_VER
] & 
DRM_ELD_VER_MASK
è>> 
DRM_ELD_VER_SHIFT
;

386 ià(
v”
 != 2 && ver != 31)

387  
NULL
;

389 
mÆ
 = 
	`drm_–d_mÆ
(
–d
);

390 ià(
mÆ
 > 16)

391  
NULL
;

393  
–d
 + 
	`DRM_ELD_CEA_SAD
(
mÆ
, 0);

394 
	}
}

400 
šlše
 
	$drm_–d_§d_couÁ
(cÚ¡ 
ušt8_t
 *
–d
)

402  (
–d
[
DRM_ELD_SAD_COUNT_CONN_TYPE
] & 
DRM_ELD_SAD_COUNT_MASK
) >>

403 
DRM_ELD_SAD_COUNT_SHIFT
;

404 
	}
}

413 
šlše
 
	$drm_–d_ÿlc_ba£lše_block_size
(cÚ¡ 
ušt8_t
 *
–d
)

415  
DRM_ELD_MONITOR_NAME_STRING
 - 
DRM_ELD_HEADER_BLOCK_SIZE
 +

416 
	`drm_–d_mÆ
(
–d
è+ 
	`drm_–d_§d_couÁ
(eld) * 3;

417 
	}
}

429 
šlše
 
	$drm_–d_size
(cÚ¡ 
ušt8_t
 *
–d
)

431  
DRM_ELD_HEADER_BLOCK_SIZE
 + 
–d
[
DRM_ELD_BASELINE_ELD_LEN
] * 4;

432 
	}
}

441 
šlše
 
u8
 
	$drm_–d_g‘_¥k_®loc
(cÚ¡ 
ušt8_t
 *
–d
)

443  
–d
[
DRM_ELD_SPEAKER
] & 
DRM_ELD_SPEAKER_MASK
;

444 
	}
}

453 
šlše
 
u8
 
	$drm_–d_g‘_cÚn_ty³
(cÚ¡ 
ušt8_t
 *
–d
)

455  
–d
[
DRM_ELD_SAD_COUNT_CONN_TYPE
] & 
DRM_ELD_CONN_TYPE_MASK
;

456 
	}
}

458 
boÞ
 
drm_´obe_ddc
(
i2c_ad­‹r
 *
ad­‹r
);

459 
edid
 *
drm_do_g‘_edid
(
drm_cÚÃùÜ
 *
cÚÃùÜ
,

460 (*
g‘_edid_block
)(*
d©a
, 
u8
 *
buf
, 
block
,

461 
size_t
 
Ën
),

462 *
d©a
);

463 
edid
 *
	`drm_g‘_edid
(
drm_cÚÃùÜ
 *
cÚÃùÜ
,

464 
i2c_ad­‹r
 *
ad­‹r
);

465 
edid
 *
	`drm_g‘_edid_sw™ch”oo
(
drm_cÚÃùÜ
 *
cÚÃùÜ
,

466 
i2c_ad­‹r
 *
ad­‹r
);

467 
edid
 *
	`drm_edid_du¶iÿ‹
(const edid *edid);

468 
	`drm_»£t_di¥Ïy_šfo
(
drm_cÚÃùÜ
 *
cÚÃùÜ
);

469 
u32
 
	`drm_add_di¥Ïy_šfo
(
drm_cÚÃùÜ
 *
cÚÃùÜ
, cÚ¡ 
edid
 *edid);

470 
	`drm_add_edid_modes
(
drm_cÚÃùÜ
 *
cÚÃùÜ
, 
edid
 *edid);

472 
u8
 
	`drm_m©ch_ûa_mode
(cÚ¡ 
drm_di¥Ïy_mode
 *
to_m©ch
);

473 
hdmi_piùu»_a¥eù
 
	`drm_g‘_ûa_a¥eù_¿tio
(cÚ¡ 
u8
 
video_code
);

474 
boÞ
 
	`drm_d‘eù_hdmi_mÚ™Ü
(
edid
 *edid);

475 
boÞ
 
	`drm_d‘eù_mÚ™Ü_audio
(
edid
 *edid);

476 
boÞ
 
	`drm_rgb_quªt_¿nge_£ËùabË
(
edid
 *edid);

477 
hdmi_quªtiz©iÚ_¿nge


478 
	`drm_deçuÉ_rgb_quªt_¿nge
(cÚ¡ 
drm_di¥Ïy_mode
 *
mode
);

479 
	`drm_add_modes_nÛdid
(
drm_cÚÃùÜ
 *
cÚÃùÜ
,

480 
hdi¥Ïy
, 
vdi¥Ïy
);

481 
	`drm_£t_´eã¼ed_mode
(
drm_cÚÃùÜ
 *
cÚÃùÜ
,

482 
h´ef
, 
v´ef
);

484 
	`drm_edid_h—d”_is_v®id
(cÚ¡ 
u8
 *
¿w_edid
);

485 
boÞ
 
	`drm_edid_block_v®id
(
u8
 *
¿w_edid
, 
block
, boÞ 
´št_bad_edid
,

486 
boÞ
 *
edid_cÜru±
);

487 
boÞ
 
	`drm_edid_is_v®id
(
edid
 *edid);

488 
	`drm_edid_g‘_mÚ™Ü_Çme
(
edid
 *edid, *
Çme
,

489 
buæ’
);

490 
drm_di¥Ïy_mode
 *
	`drm_mode_fšd_dmt
(
drm_deviû
 *
dev
,

491 
hsize
, 
vsize
, 
äesh
,

492 
boÞ
 
rb
);

	@src/common/linuxkpi/include/drm/drm_encoder.h

23 #iâdeà
__DRM_ENCODER_H__


24 
	#__DRM_ENCODER_H__


	)

26 
	~<lšux/li¡.h
>

27 
	~<lšux/ùy³.h
>

28 
	~<drm/drm_ütc.h
>

29 
	~<drm/drm_mode.h
>

30 
	~<drm/drm_mode_objeù.h
>

32 
	gdrm_’cod”
;

39 
	sdrm_’cod”_funcs
 {

47 (*
	m»£t
)(
drm_’cod”
 *
	m’cod”
);

56 (*
	mde¡roy
)(
drm_’cod”
 *
	m’cod”
);

71 (*
	mÏ‹_»gi¡”
)(
drm_’cod”
 *
	m’cod”
);

82 (*
	m—¾y_uÄegi¡”
)(
drm_’cod”
 *
	m’cod”
);

98 
	sdrm_’cod”
 {

99 
drm_deviû
 *
	mdev
;

100 
li¡_h—d
 
	mh—d
;

102 
drm_mode_objeù
 
	mba£
;

103 *
	mÇme
;

130 
	m’cod”_ty³
;

136 
	mšdex
;

149 
ušt32_t
 
	mpossibË_ütcs
;

166 
ušt32_t
 
	mpossibË_þÚes
;

173 
drm_ütc
 *
	mütc
;

174 
drm_bridge
 *
	mbridge
;

175 cÚ¡ 
drm_’cod”_funcs
 *
	mfuncs
;

176 cÚ¡ 
drm_’cod”_h–³r_funcs
 *
	mh–³r_´iv©e
;

179 
	#obj_to_’cod”
(
x
è
	`cÚš”_of
(x, 
drm_’cod”
, 
ba£
)

	)

181 
	$__´štf
(5, 6)

182 
	`drm_’cod”_š™
(
drm_deviû
 *
dev
,

183 
drm_’cod”
 *
’cod”
,

184 cÚ¡ 
drm_’cod”_funcs
 *
funcs
,

185 
’cod”_ty³
, cÚ¡ *
Çme
, ...);

194 
šlše
 
	$drm_’cod”_šdex
(
drm_’cod”
 *
’cod”
)

196  
’cod”
->
šdex
;

197 
	}
}

206 
šlše
 
boÞ
 
	$drm_’cod”_ütc_ok
(
drm_’cod”
 *
’cod”
,

207 
drm_ütc
 *
ütc
)

209  !!(
’cod”
->
possibË_ütcs
 & 
	`drm_ütc_mask
(
ütc
));

210 
	}
}

221 
šlše
 
drm_’cod”
 *
	$drm_’cod”_fšd
(
drm_deviû
 *
dev
,

222 
drm_fže
 *
fže_´iv
,

223 
ušt32_t
 
id
)

225 
drm_mode_objeù
 *
mo
;

227 
mo
 = 
	`drm_mode_objeù_fšd
(
dev
, 
fže_´iv
, 
id
, 
DRM_MODE_OBJECT_ENCODER
);

229  
mo
 ? 
	`obj_to_’cod”
(moè: 
NULL
;

230 
	}
}

232 
drm_’cod”_þ—nup
(
drm_’cod”
 *
’cod”
);

242 
	#drm_fÜ_—ch_’cod”_mask
(
’cod”
, 
dev
, 
’cod”_mask
) \

243 
	`li¡_fÜ_—ch_’Œy
((
’cod”
), &(
dev
)->
mode_cÚfig
.
’cod”_li¡
, 
h—d
) \

244 
	`fÜ_—ch_if
 ((
’cod”_mask
è& (1 << 
	`drm_’cod”_šdex
(
’cod”
)))

	)

253 
	#drm_fÜ_—ch_’cod”
(
’cod”
, 
dev
) \

254 
	`li¡_fÜ_—ch_’Œy
(
’cod”
, &(
dev
)->
mode_cÚfig
.
’cod”_li¡
, 
h—d
)

	)

	@src/common/linuxkpi/include/drm/drm_encoder_slave.h

27 #iâdeà
__DRM_ENCODER_SLAVE_H__


28 
	#__DRM_ENCODER_SLAVE_H__


	)

30 
	~<drm/drmP.h
>

31 
	~<drm/drm_ütc.h
>

32 
	~<drm/drm_’cod”.h
>

49 
	sdrm_’cod”_¦ave_funcs
 {

50 (*
	m£t_cÚfig
)(
drm_’cod”
 *
	m’cod”
,

51 *
	m·¿ms
);

53 (*
	mde¡roy
)(
drm_’cod”
 *
	m’cod”
);

54 (*
	mdpms
)(
drm_’cod”
 *
	m’cod”
, 
	mmode
);

55 (*
	m§ve
)(
drm_’cod”
 *
	m’cod”
);

56 (*
	m»¡Üe
)(
drm_’cod”
 *
	m’cod”
);

57 
boÞ
 (*
mode_fixup
)(
drm_’cod”
 *
	m’cod”
,

58 cÚ¡ 
drm_di¥Ïy_mode
 *
	mmode
,

59 
drm_di¥Ïy_mode
 *
	madju¡ed_mode
);

60 (*
	mmode_v®id
)(
drm_’cod”
 *
	m’cod”
,

61 
drm_di¥Ïy_mode
 *
	mmode
);

62 (*
	mmode_£t
)(
drm_’cod”
 *
	m’cod”
,

63 
drm_di¥Ïy_mode
 *
	mmode
,

64 
drm_di¥Ïy_mode
 *
	madju¡ed_mode
);

66 
drm_cÚÃùÜ_¡©us
 (*
d‘eù
)(
drm_’cod”
 *
	m’cod”
,

67 
drm_cÚÃùÜ
 *
	mcÚÃùÜ
);

68 (*
	mg‘_modes
)(
drm_’cod”
 *
	m’cod”
,

69 
drm_cÚÃùÜ
 *
	mcÚÃùÜ
);

70 (*
	mü—‹_»sourûs
)(
drm_’cod”
 *
	m’cod”
,

71 
drm_cÚÃùÜ
 *
	mcÚÃùÜ
);

72 (*
	m£t_´Ý”ty
)(
drm_’cod”
 *
	m’cod”
,

73 
drm_cÚÃùÜ
 *
	mcÚÃùÜ
,

74 
drm_´Ý”ty
 *
	m´Ý”ty
,

75 
ušt64_t
 
	mv®
);

96 
	sdrm_’cod”_¦ave
 {

97 
drm_’cod”
 
	mba£
;

99 cÚ¡ 
drm_’cod”_¦ave_funcs
 *
	m¦ave_funcs
;

100 *
	m¦ave_´iv
;

101 *
	mbus_´iv
;

103 
	#to_’cod”_¦ave
(
x
è
	`cÚš”_of
((x), 
drm_’cod”_¦ave
, 
ba£
)

	)

105 
drm_i2c_’cod”_š™
(
drm_deviû
 *
dev
,

106 
drm_’cod”_¦ave
 *
’cod”
,

107 
i2c_ad­‹r
 *
ad­
,

108 cÚ¡ 
i2c_bßrd_šfo
 *
šfo
);

121 
	sdrm_i2c_’cod”_driv”
 {

122 
i2c_driv”
 
	mi2c_driv”
;

124 (*
	m’cod”_š™
)(
i2c_þ›Á
 *
	mþ›Á
,

125 
drm_deviû
 *
	mdev
,

126 
drm_’cod”_¦ave
 *
	m’cod”
);

129 
	#to_drm_i2c_’cod”_driv”
(
x
è
	`cÚš”_of
((x), \

130 
drm_i2c_’cod”_driv”
, \

131 
i2c_driv”
)

	)

136 
šlše
 
i2c_þ›Á
 *
	$drm_i2c_’cod”_g‘_þ›Á
(
drm_’cod”
 *
’cod”
)

138  (
i2c_þ›Á
 *)
	`to_’cod”_¦ave
(
’cod”
)->
bus_´iv
;

139 
	}
}

146 
šlše
 
	$drm_i2c_’cod”_»gi¡”
(
moduË
 *
owÃr
,

147 
drm_i2c_’cod”_driv”
 *
driv”
)

149  
	`i2c_»gi¡”_driv”
(
owÃr
, &
driv”
->
i2c_driv”
);

150 
	}
}

156 
šlše
 
	$drm_i2c_’cod”_uÄegi¡”
(
drm_i2c_’cod”_driv”
 *
driv”
)

158 
	`i2c_d–_driv”
(&
driv”
->
i2c_driv”
);

159 
	}
}

161 
drm_i2c_’cod”_de¡roy
(
drm_’cod”
 *
’cod”
);

168 
drm_i2c_’cod”_dpms
(
drm_’cod”
 *
’cod”
, 
mode
);

169 
boÞ
 
drm_i2c_’cod”_mode_fixup
(
drm_’cod”
 *
’cod”
,

170 cÚ¡ 
drm_di¥Ïy_mode
 *
mode
,

171 
drm_di¥Ïy_mode
 *
adju¡ed_mode
);

172 
drm_i2c_’cod”_´•¬e
(
drm_’cod”
 *
’cod”
);

173 
drm_i2c_’cod”_comm™
(
drm_’cod”
 *
’cod”
);

174 
drm_i2c_’cod”_mode_£t
(
drm_’cod”
 *
’cod”
,

175 
drm_di¥Ïy_mode
 *
mode
,

176 
drm_di¥Ïy_mode
 *
adju¡ed_mode
);

177 
drm_cÚÃùÜ_¡©us
 
drm_i2c_’cod”_d‘eù
(
drm_’cod”
 *
’cod”
,

178 
drm_cÚÃùÜ
 *
cÚÃùÜ
);

179 
drm_i2c_’cod”_§ve
(
drm_’cod”
 *
’cod”
);

180 
drm_i2c_’cod”_»¡Üe
(
drm_’cod”
 *
’cod”
);

	@src/common/linuxkpi/include/drm/drm_fb_cma_helper.h

2 #iâdeà
__DRM_FB_CMA_HELPER_H__


3 
	#__DRM_FB_CMA_HELPER_H__


	)

5 
	gdrm_fbdev_cma
;

6 
	gdrm_gem_cma_objeù
;

8 
	gdrm_fb_h–³r_surçû_size
;

9 
	gdrm_äamebufãr_funcs
;

10 
	gdrm_fb_h–³r_funcs
;

11 
	gdrm_äamebufãr
;

12 
	gdrm_fb_h–³r
;

13 
	gdrm_deviû
;

14 
	gdrm_fže
;

15 
	gdrm_mode_fb_cmd2
;

16 
	gdrm_¶ªe
;

17 
	gdrm_¶ªe_¡©e
;

19 
drm_fb_cma_fbdev_š™_w™h_funcs
(
drm_deviû
 *
dev
,

20 
´eã¼ed_bµ
, 
max_cÚn_couÁ
,

21 cÚ¡ 
drm_äamebufãr_funcs
 *
funcs
);

22 
drm_fb_cma_fbdev_š™
(
drm_deviû
 *
dev
, 
´eã¼ed_bµ
,

23 
max_cÚn_couÁ
);

24 
drm_fb_cma_fbdev_fši
(
drm_deviû
 *
dev
);

26 
drm_fbdev_cma
 *
drm_fbdev_cma_š™_w™h_funcs
(
drm_deviû
 *
dev
,

27 
´eã¼ed_bµ
, 
max_cÚn_couÁ
,

28 cÚ¡ 
drm_äamebufãr_funcs
 *
funcs
);

29 
drm_fbdev_cma
 *
drm_fbdev_cma_š™
(
drm_deviû
 *
dev
,

30 
´eã¼ed_bµ
, 
max_cÚn_couÁ
);

31 
drm_fbdev_cma_fši
(
drm_fbdev_cma
 *
fbdev_cma
);

33 
drm_fbdev_cma_»¡Üe_mode
(
drm_fbdev_cma
 *
fbdev_cma
);

34 
drm_fbdev_cma_hÙ¶ug_ev’t
(
drm_fbdev_cma
 *
fbdev_cma
);

35 
drm_fbdev_cma_£t_su¥’d
(
drm_fbdev_cma
 *
fbdev_cma
, 
boÞ
 
¡©e
);

36 
drm_fbdev_cma_£t_su¥’d_uÆocked
(
drm_fbdev_cma
 *
fbdev_cma
,

37 
boÞ
 
¡©e
);

39 
drm_gem_cma_objeù
 *
drm_fb_cma_g‘_gem_obj
(
drm_äamebufãr
 *
fb
,

40 
¶ªe
);

42 
dma_addr_t
 
drm_fb_cma_g‘_gem_addr
(
drm_äamebufãr
 *
fb
,

43 
drm_¶ªe_¡©e
 *
¡©e
,

44 
¶ªe
);

	@src/common/linuxkpi/include/drm/drm_fb_helper.h

31 #iâdeà
DRM_FB_HELPER_H


32 
	#DRM_FB_HELPER_H


	)

34 
	gdrm_fb_h–³r
;

36 
	~<lšux/fb.h
>

38 
	#fb_šfo
 
lšux_fb_šfo


	)

39 
	~<drm/drm_ütc.h
>

40 
	~<drm/drm_deviû.h
>

42 #ifdeà
__lšux__


43 
	~<lšux/kgdb.h
>

46 
	emode_£t_©omic
 {

47 
	mLEAVE_ATOMIC_MODE_SET
,

48 
	mENTER_ATOMIC_MODE_SET
,

51 
	sdrm_fb_off£t
 {

52 
	mx
, 
	my
;

55 
	sdrm_fb_h–³r_ütc
 {

56 
drm_mode_£t
 
	mmode_£t
;

57 
drm_di¥Ïy_mode
 *
	mdesœed_mode
;

58 
	mx
, 
	my
;

59 
	mrÙ©iÚ
;

81 
	sdrm_fb_h–³r_surçû_size
 {

82 
u32
 
	mfb_width
;

83 
u32
 
	mfb_height
;

84 
u32
 
	msurçû_width
;

85 
u32
 
	msurçû_height
;

86 
u32
 
	msurçû_bµ
;

87 
u32
 
	msurçû_d•th
;

95 
	sdrm_fb_h–³r_funcs
 {

110 (*
	mfb_´obe
)(
drm_fb_h–³r
 *
	mh–³r
,

111 
drm_fb_h–³r_surçû_size
 *
	msizes
);

130 
boÞ
 (*
š™Ÿl_cÚfig
)(
drm_fb_h–³r
 *
	mfb_h–³r
,

131 
drm_fb_h–³r_ütc
 **
	mütcs
,

132 
drm_di¥Ïy_mode
 **
	mmodes
,

133 
drm_fb_off£t
 *
	moff£ts
,

134 
boÞ
 *
	m’abËd
, 
	mwidth
, 
	mheight
);

137 
	sdrm_fb_h–³r_cÚÃùÜ
 {

138 
drm_cÚÃùÜ
 *
	mcÚÃùÜ
;

163 
	sdrm_fb_h–³r
 {

164 
drm_äamebufãr
 *
	mfb
;

165 
drm_deviû
 *
	mdev
;

166 
	mütc_couÁ
;

167 
drm_fb_h–³r_ütc
 *
	mütc_šfo
;

168 
	mcÚÃùÜ_couÁ
;

169 
	mcÚÃùÜ_šfo_®loc_couÁ
;

176 
	msw_rÙ©iÚs
;

183 
drm_fb_h–³r_cÚÃùÜ
 **
	mcÚÃùÜ_šfo
;

184 cÚ¡ 
drm_fb_h–³r_funcs
 *
	mfuncs
;

185 
fb_šfo
 *
	mfbdev
;

186 
u32
 
	mp£udo_·Ë‰e
[17];

187 
drm_þ_»ù
 
	mdœty_þ
;

188 
¥šlock_t
 
	mdœty_lock
;

189 
wÜk_¡ruù
 
	mdœty_wÜk
;

190 
wÜk_¡ruù
 
	m»sume_wÜk
;

202 
mu‹x
 
	mlock
;

209 
li¡_h—d
 
	mk”Ãl_fb_li¡
;

218 
boÞ
 
	md–ayed_hÙ¶ug
;

230 
boÞ
 
	mdeã¼ed_£tup
;

241 
	m´eã¼ed_bµ
;

250 
	#DRM_FB_HELPER_DEFAULT_OPS
 \

251 .
fb_check_v¬
 = 
drm_fb_h–³r_check_v¬
, \

252 .
fb_£t_·r
 = 
drm_fb_h–³r_£t_·r
, \

253 .
fb_£tcm­
 = 
drm_fb_h–³r_£tcm­
, \

254 .
fb_bÏnk
 = 
drm_fb_h–³r_bÏnk
, \

255 .
fb_·n_di¥Ïy
 = 
drm_fb_h–³r_·n_di¥Ïy
, \

256 .
fb_debug_’‹r
 = 
drm_fb_h–³r_debug_’‹r
, \

257 .
fb_debug_Ëave
 = 
drm_fb_h–³r_debug_Ëave
, \

258 .
fb_ioùl
 = 
drm_fb_h–³r_ioùl


	)

260 #ifdeà
CONFIG_DRM_FBDEV_EMULATION


261 
drm_fb_h–³r_´•¬e
(
drm_deviû
 *
dev
, 
drm_fb_h–³r
 *
h–³r
,

262 cÚ¡ 
drm_fb_h–³r_funcs
 *
funcs
);

263 
drm_fb_h–³r_š™
(
drm_deviû
 *
dev
,

264 
drm_fb_h–³r
 *
h–³r
, 
max_cÚn
);

265 
drm_fb_h–³r_fši
(
drm_fb_h–³r
 *
h–³r
);

266 
drm_fb_h–³r_bÏnk
(
bÏnk
, 
fb_šfo
 *
šfo
);

267 
drm_fb_h–³r_·n_di¥Ïy
(
fb_v¬_sü“nšfo
 *
v¬
,

268 
fb_šfo
 *
šfo
);

269 
drm_fb_h–³r_£t_·r
(
fb_šfo
 *
šfo
);

270 
drm_fb_h–³r_check_v¬
(
fb_v¬_sü“nšfo
 *
v¬
,

271 
fb_šfo
 *
šfo
);

273 
drm_fb_h–³r_»¡Üe_fbdev_mode_uÆocked
(
drm_fb_h–³r
 *
fb_h–³r
);

275 
fb_šfo
 *
drm_fb_h–³r_®loc_fbi
(
drm_fb_h–³r
 *
fb_h–³r
);

276 
drm_fb_h–³r_uÄegi¡”_fbi
(
drm_fb_h–³r
 *
fb_h–³r
);

277 
drm_fb_h–³r_fžl_v¬
(
fb_šfo
 *
šfo
, 
drm_fb_h–³r
 *
fb_h–³r
,

278 
ušt32_t
 
fb_width
, ušt32_ˆ
fb_height
);

279 
drm_fb_h–³r_fžl_fix
(
fb_šfo
 *
šfo
, 
ušt32_t
 
p™ch
,

280 
ušt32_t
 
d•th
);

282 
drm_fb_h–³r_uÆšk_fbi
(
drm_fb_h–³r
 *
fb_h–³r
);

284 
drm_fb_h–³r_deã¼ed_io
(
fb_šfo
 *
šfo
,

285 
li¡_h—d
 *
·g–i¡
);

286 
drm_fb_h–³r_defio_š™
(
drm_fb_h–³r
 *
fb_h–³r
);

288 
ssize_t
 
drm_fb_h–³r_sys_»ad
(
fb_šfo
 *
šfo
, 
__u£r
 *
buf
,

289 
size_t
 
couÁ
, 
loff_t
 *
µos
);

290 
ssize_t
 
drm_fb_h–³r_sys_wr™e
(
fb_šfo
 *
šfo
, cÚ¡ 
__u£r
 *
buf
,

291 
size_t
 
couÁ
, 
loff_t
 *
µos
);

293 
drm_fb_h–³r_sys_fžÌeù
(
fb_šfo
 *
šfo
,

294 cÚ¡ 
fb_fžÌeù
 *
»ù
);

295 
drm_fb_h–³r_sys_cÝy¬—
(
fb_šfo
 *
šfo
,

296 cÚ¡ 
fb_cÝy¬—
 *
¬—
);

297 
drm_fb_h–³r_sys_imagebl™
(
fb_šfo
 *
šfo
,

298 cÚ¡ 
fb_image
 *
image
);

300 
drm_fb_h–³r_cfb_fžÌeù
(
fb_šfo
 *
šfo
,

301 cÚ¡ 
fb_fžÌeù
 *
»ù
);

302 
drm_fb_h–³r_cfb_cÝy¬—
(
fb_šfo
 *
šfo
,

303 cÚ¡ 
fb_cÝy¬—
 *
¬—
);

304 
drm_fb_h–³r_cfb_imagebl™
(
fb_šfo
 *
šfo
,

305 cÚ¡ 
fb_image
 *
image
);

307 
drm_fb_h–³r_£t_su¥’d
(
drm_fb_h–³r
 *
fb_h–³r
, 
boÞ
 
su¥’d
);

308 
drm_fb_h–³r_£t_su¥’d_uÆocked
(
drm_fb_h–³r
 *
fb_h–³r
,

309 
boÞ
 
su¥’d
);

311 
drm_fb_h–³r_£tcm­
(
fb_cm­
 *
cm­
, 
fb_šfo
 *
šfo
);

313 
drm_fb_h–³r_ioùl
(
fb_šfo
 *
šfo
, 
cmd
,

314 
¬g
);

316 
drm_fb_h–³r_hÙ¶ug_ev’t
(
drm_fb_h–³r
 *
fb_h–³r
);

317 
drm_fb_h–³r_š™Ÿl_cÚfig
(
drm_fb_h–³r
 *
fb_h–³r
, 
bµ_£l
);

318 
drm_fb_h–³r_sšgË_add_®l_cÚÃùÜs
(
drm_fb_h–³r
 *
fb_h–³r
);

319 
drm_fb_h–³r_debug_’‹r
(
fb_šfo
 *
šfo
);

320 
drm_fb_h–³r_debug_Ëave
(
fb_šfo
 *
šfo
);

321 
drm_di¥Ïy_mode
 *

322 
drm_has_´eã¼ed_mode
(
drm_fb_h–³r_cÚÃùÜ
 *
fb_cÚÃùÜ
,

323 
width
, 
height
);

324 
drm_di¥Ïy_mode
 *

325 
drm_pick_cmdlše_mode
(
drm_fb_h–³r_cÚÃùÜ
 *
fb_h–³r_cÚn
);

327 
drm_fb_h–³r_add_Úe_cÚÃùÜ
(
drm_fb_h–³r
 *
fb_h–³r
, 
drm_cÚÃùÜ
 *
cÚÃùÜ
);

328 
drm_fb_h–³r_»move_Úe_cÚÃùÜ
(
drm_fb_h–³r
 *
fb_h–³r
,

329 
drm_cÚÃùÜ
 *
cÚÃùÜ
);

331 
drm_fb_h–³r_fbdev_£tup
(
drm_deviû
 *
dev
,

332 
drm_fb_h–³r
 *
fb_h–³r
,

333 cÚ¡ 
drm_fb_h–³r_funcs
 *
funcs
,

334 
´eã¼ed_bµ
,

335 
max_cÚn_couÁ
);

336 
drm_fb_h–³r_fbdev_‹¬down
(
drm_deviû
 *
dev
);

338 
drm_fb_h–³r_Ï¡þo£
(
drm_deviû
 *
dev
);

339 
drm_fb_h–³r_ouut_pÞl_chªged
(
drm_deviû
 *
dev
);

341 
šlše
 
	$drm_fb_h–³r_´•¬e
(
drm_deviû
 *
dev
,

342 
drm_fb_h–³r
 *
h–³r
,

343 cÚ¡ 
drm_fb_h–³r_funcs
 *
funcs
)

345 
	}
}

347 
šlše
 
	$drm_fb_h–³r_š™
(
drm_deviû
 *
dev
,

348 
drm_fb_h–³r
 *
h–³r
,

349 
max_cÚn
)

352 
h–³r
->
dev
 = dev;

353 
dev
->
fb_h–³r
 = 
h–³r
;

356 
	}
}

358 
šlše
 
	$drm_fb_h–³r_fši
(
drm_fb_h–³r
 *
h–³r
)

360 ià(
h–³r
 && h–³r->
dev
)

361 
h–³r
->
dev
->
fb_h–³r
 = 
NULL
;

362 
	}
}

364 
šlše
 
	$drm_fb_h–³r_bÏnk
(
bÏnk
, 
fb_šfo
 *
šfo
)

367 
	}
}

369 
šlše
 
	$drm_fb_h–³r_·n_di¥Ïy
(
fb_v¬_sü“nšfo
 *
v¬
,

370 
fb_šfo
 *
šfo
)

373 
	}
}

375 
šlše
 
	$drm_fb_h–³r_£t_·r
(
fb_šfo
 *
šfo
)

378 
	}
}

380 
šlše
 
	$drm_fb_h–³r_check_v¬
(
fb_v¬_sü“nšfo
 *
v¬
,

381 
fb_šfo
 *
šfo
)

384 
	}
}

386 
šlše
 

387 
	$drm_fb_h–³r_»¡Üe_fbdev_mode_uÆocked
(
drm_fb_h–³r
 *
fb_h–³r
)

390 
	}
}

392 
šlše
 
fb_šfo
 *

393 
	$drm_fb_h–³r_®loc_fbi
(
drm_fb_h–³r
 *
fb_h–³r
)

395  
NULL
;

396 
	}
}

398 
šlše
 
	$drm_fb_h–³r_uÄegi¡”_fbi
(
drm_fb_h–³r
 *
fb_h–³r
)

400 
	}
}

402 
šlše
 
	$drm_fb_h–³r_fžl_v¬
(
fb_šfo
 *
šfo
,

403 
drm_fb_h–³r
 *
fb_h–³r
,

404 
ušt32_t
 
fb_width
, ušt32_ˆ
fb_height
)

406 
	}
}

408 
šlše
 
	$drm_fb_h–³r_fžl_fix
(
fb_šfo
 *
šfo
, 
ušt32_t
 
p™ch
,

409 
ušt32_t
 
d•th
)

411 
	}
}

413 
šlše
 
	$drm_fb_h–³r_£tcm­
(
fb_cm­
 *
cm­
,

414 
fb_šfo
 *
šfo
)

417 
	}
}

419 
šlše
 
	$drm_fb_h–³r_ioùl
(
fb_šfo
 *
šfo
, 
cmd
,

420 
¬g
)

423 
	}
}

425 
šlše
 
	$drm_fb_h–³r_uÆšk_fbi
(
drm_fb_h–³r
 *
fb_h–³r
)

427 
	}
}

429 
šlše
 
	$drm_fb_h–³r_deã¼ed_io
(
fb_šfo
 *
šfo
,

430 
li¡_h—d
 *
·g–i¡
)

432 
	}
}

434 
šlše
 
	$drm_fb_h–³r_defio_š™
(
drm_fb_h–³r
 *
fb_h–³r
)

436  -
ENODEV
;

437 
	}
}

439 
šlše
 
ssize_t
 
	$drm_fb_h–³r_sys_»ad
(
fb_šfo
 *
šfo
,

440 
__u£r
 *
buf
, 
size_t
 
couÁ
,

441 
loff_t
 *
µos
)

443  -
ENODEV
;

444 
	}
}

446 
šlše
 
ssize_t
 
	$drm_fb_h–³r_sys_wr™e
(
fb_šfo
 *
šfo
,

447 cÚ¡ 
__u£r
 *
buf
,

448 
size_t
 
couÁ
, 
loff_t
 *
µos
)

450  -
ENODEV
;

451 
	}
}

453 
šlše
 
	$drm_fb_h–³r_sys_fžÌeù
(
fb_šfo
 *
šfo
,

454 cÚ¡ 
fb_fžÌeù
 *
»ù
)

456 
	}
}

458 
šlše
 
	$drm_fb_h–³r_sys_cÝy¬—
(
fb_šfo
 *
šfo
,

459 cÚ¡ 
fb_cÝy¬—
 *
¬—
)

461 
	}
}

463 
šlše
 
	$drm_fb_h–³r_sys_imagebl™
(
fb_šfo
 *
šfo
,

464 cÚ¡ 
fb_image
 *
image
)

466 
	}
}

468 
šlše
 
	$drm_fb_h–³r_cfb_fžÌeù
(
fb_šfo
 *
šfo
,

469 cÚ¡ 
fb_fžÌeù
 *
»ù
)

471 
	}
}

473 
šlše
 
	$drm_fb_h–³r_cfb_cÝy¬—
(
fb_šfo
 *
šfo
,

474 cÚ¡ 
fb_cÝy¬—
 *
¬—
)

476 
	}
}

478 
šlše
 
	$drm_fb_h–³r_cfb_imagebl™
(
fb_šfo
 *
šfo
,

479 cÚ¡ 
fb_image
 *
image
)

481 
	}
}

483 
šlše
 
	$drm_fb_h–³r_£t_su¥’d
(
drm_fb_h–³r
 *
fb_h–³r
,

484 
boÞ
 
su¥’d
)

486 
	}
}

488 
šlše
 

489 
	$drm_fb_h–³r_£t_su¥’d_uÆocked
(
drm_fb_h–³r
 *
fb_h–³r
, 
boÞ
 
su¥’d
)

491 
	}
}

493 
šlše
 
	$drm_fb_h–³r_hÙ¶ug_ev’t
(
drm_fb_h–³r
 *
fb_h–³r
)

496 
	}
}

498 
šlše
 
	$drm_fb_h–³r_š™Ÿl_cÚfig
(
drm_fb_h–³r
 *
fb_h–³r
,

499 
bµ_£l
)

502 
	}
}

504 
šlše
 

505 
	$drm_fb_h–³r_sšgË_add_®l_cÚÃùÜs
(
drm_fb_h–³r
 *
fb_h–³r
)

508 
	}
}

510 
šlše
 
	$drm_fb_h–³r_debug_’‹r
(
fb_šfo
 *
šfo
)

513 
	}
}

515 
šlše
 
	$drm_fb_h–³r_debug_Ëave
(
fb_šfo
 *
šfo
)

518 
	}
}

520 
šlše
 
drm_di¥Ïy_mode
 *

521 
	$drm_has_´eã¼ed_mode
(
drm_fb_h–³r_cÚÃùÜ
 *
fb_cÚÃùÜ
,

522 
width
, 
height
)

524  
NULL
;

525 
	}
}

527 
šlše
 
drm_di¥Ïy_mode
 *

528 
	$drm_pick_cmdlše_mode
(
drm_fb_h–³r_cÚÃùÜ
 *
fb_h–³r_cÚn
,

529 
width
, 
height
)

531  
NULL
;

532 
	}
}

534 
šlše
 

535 
	$drm_fb_h–³r_add_Úe_cÚÃùÜ
(
drm_fb_h–³r
 *
fb_h–³r
,

536 
drm_cÚÃùÜ
 *
cÚÃùÜ
)

539 
	}
}

541 
šlše
 

542 
	$drm_fb_h–³r_»move_Úe_cÚÃùÜ
(
drm_fb_h–³r
 *
fb_h–³r
,

543 
drm_cÚÃùÜ
 *
cÚÃùÜ
)

546 
	}
}

548 
šlše
 

549 
	$drm_fb_h–³r_fbdev_£tup
(
drm_deviû
 *
dev
,

550 
drm_fb_h–³r
 *
fb_h–³r
,

551 cÚ¡ 
drm_fb_h–³r_funcs
 *
funcs
,

552 
´eã¼ed_bµ
,

553 
max_cÚn_couÁ
)

556 
dev
->
fb_h–³r
 = fb_helper;

559 
	}
}

561 
šlše
 
	$drm_fb_h–³r_fbdev_‹¬down
(
drm_deviû
 *
dev
)

563 
dev
->
fb_h–³r
 = 
NULL
;

564 
	}
}

566 
šlše
 
	$drm_fb_h–³r_Ï¡þo£
(
drm_deviû
 *
dev
)

568 
	}
}

570 
šlše
 
	$drm_fb_h–³r_ouut_pÞl_chªged
(
drm_deviû
 *
dev
)

572 
	}
}

576 
šlše
 

577 
	$drm_fb_h–³r_»move_cÚæiùšg_äamebufãrs
(
­”tu»s_¡ruù
 *
a
,

578 cÚ¡ *
Çme
, 
boÞ
 
´im¬y
)

580 #ià
	`IS_REACHABLE
(
CONFIG_FB
)

581  
	`»move_cÚæiùšg_äamebufãrs
(
a
, 
Çme
, 
´im¬y
);

585 
	}
}

	@src/common/linuxkpi/include/drm/drm_file.h

30 #iâdeà
_DRM_FILE_H_


31 
	#_DRM_FILE_H_


	)

33 
	~<lšux/ty³s.h
>

34 
	~<lšux/com¶‘iÚ.h
>

36 
	~<u­i/drm/drm.h
>

38 
	~<drm/drm_´ime.h
>

40 
	gdma_ãnû
;

41 
	gdrm_fže
;

42 
	gdrm_deviû
;

43 
	gdeviû
;

50 
	edrm_mšÜ_ty³
 {

51 
	mDRM_MINOR_PRIMARY
,

52 
	mDRM_MINOR_CONTROL
,

53 
	mDRM_MINOR_RENDER
,

65 
	sdrm_mšÜ
 {

67 
	mšdex
;

68 
	mty³
;

69 
deviû
 *
	mkdev
;

70 
drm_deviû
 *
	mdev
;

71 #iâdeà
__lšux__


72 
deviû_t
 
	mbsd_kdev
;

73 
cdev
 *
	mbsd_deviû
;

74 
sigio
 *
	mbuf_sigio
;

76 
d’Œy
 *
	mdebugfs_roÙ
;

78 
li¡_h—d
 
	mdebugfs_li¡
;

79 
mu‹x
 
	mdebugfs_lock
;

89 
	sdrm_³ndšg_ev’t
 {

97 
com¶‘iÚ
 *
	mcom¶‘iÚ
;

106 (*
	mcom¶‘iÚ_»Ëa£
)(
com¶‘iÚ
 *
	mcom¶‘iÚ
);

116 
drm_ev’t
 *
	mev’t
;

124 
dma_ãnû
 *
	mãnû
;

132 
drm_fže
 *
	mfže_´iv
;

141 
li¡_h—d
 
	mlšk
;

150 
li¡_h—d
 
	m³ndšg_lšk
;

158 
	sdrm_fže
 {

168 
	mauth’tiÿ‹d
 :1;

175 
	m¡”eo_®lowed
 :1;

183 
	muniv”§l_¶ªes
:1;

186 
	m©omic
:1;

197 
	mis_ma¡”
:1;

209 
drm_ma¡”
 *
	mma¡”
;

212 #ifdeà
__lšux__


213 
pid
 *
	mpid
;

215 
pid_t
 
	mpid
;

216 
	mioùl_couÁ
;

220 
drm_magic_t
 
	mmagic
;

228 
li¡_h—d
 
	mlh—d
;

231 
drm_mšÜ
 *
	mmšÜ
;

239 
idr
 
	mobjeù_idr
;

242 
¥šlock_t
 
	mbË_lock
;

245 
idr
 
	msyncobj_idr
;

247 
¥šlock_t
 
	msyncobj_bË_lock
;

250 
fže
 *
	mfžp
;

258 *
	mdriv”_´iv
;

269 
li¡_h—d
 
	mfbs
;

272 
mu‹x
 
	mfbs_lock
;

282 
li¡_h—d
 
	mblobs
;

285 
wa™_queue_h—d_t
 
	mev’t_wa™
;

296 
li¡_h—d
 
	m³ndšg_ev’t_li¡
;

306 
li¡_h—d
 
	mev’t_li¡
;

315 
	mev’t_¥aû
;

318 
mu‹x
 
	mev’t_»ad_lock
;

325 
drm_´ime_fže_´iv©e
 
	m´ime
;

328 
	mlock_couÁ
;

341 
šlše
 
boÞ
 
	$drm_is_´im¬y_þ›Á
(cÚ¡ 
drm_fže
 *
fže_´iv
)

343  
fže_´iv
->
mšÜ
->
ty³
 =ð
DRM_MINOR_PRIMARY
;

344 
	}
}

355 
šlše
 
boÞ
 
	$drm_is_»nd”_þ›Á
(cÚ¡ 
drm_fže
 *
fže_´iv
)

357  
fže_´iv
->
mšÜ
->
ty³
 =ð
DRM_MINOR_RENDER
;

358 
	}
}

367 
šlše
 
boÞ
 
	$drm_is_cÚŒÞ_þ›Á
(cÚ¡ 
drm_fže
 *
fže_´iv
)

369  
fže_´iv
->
mšÜ
->
ty³
 =ð
DRM_MINOR_CONTROL
;

370 
	}
}

372 
drm_Ý’
(
šode
 *šode, 
fže
 *
fžp
);

373 
ssize_t
 
drm_»ad
(
fže
 *
fžp
, 
__u£r
 *
bufãr
,

374 
size_t
 
couÁ
, 
loff_t
 *
off£t
);

375 
drm_»Ëa£
(
šode
 *šode, 
fže
 *
fžp
);

376 
__pÞl_t
 
drm_pÞl
(
fže
 *
fžp
, 
pÞl_bË_¡ruù
 *
wa™
);

377 
drm_ev’t_»£rve_š™_locked
(
drm_deviû
 *
dev
,

378 
drm_fže
 *
fže_´iv
,

379 
drm_³ndšg_ev’t
 *
p
,

380 
drm_ev’t
 *
e
);

381 
drm_ev’t_»£rve_š™
(
drm_deviû
 *
dev
,

382 
drm_fže
 *
fže_´iv
,

383 
drm_³ndšg_ev’t
 *
p
,

384 
drm_ev’t
 *
e
);

385 
drm_ev’t_ÿnûl_ä“
(
drm_deviû
 *
dev
,

386 
drm_³ndšg_ev’t
 *
p
);

387 
drm_£nd_ev’t_locked
(
drm_deviû
 *
dev
, 
drm_³ndšg_ev’t
 *
e
);

388 
drm_£nd_ev’t
(
drm_deviû
 *
dev
, 
drm_³ndšg_ev’t
 *
e
);

	@src/common/linuxkpi/include/drm/drm_fixed.h

25 #iâdeà
DRM_FIXED_H


26 
	#DRM_FIXED_H


	)

28 
	~<lšux/m©h64.h
>

30 
	udfixed
 {

31 
u32
 
	mfuÎ
;

32 } 
	tfixed20_12
;

35 
	#dfixed_cÚ¡
(
A
è(
u32
)(((Aè<< 12))

	)

36 
	#dfixed_cÚ¡_h®f
(
A
è(
u32
)(((Aè<< 12è+ 2048)

	)

37 
	#dfixed_cÚ¡_666
(
A
è(
u32
)(((Aè<< 12è+ 2731)

	)

38 
	#dfixed_cÚ¡_8
(
A
è(
u32
)(((Aè<< 12è+ 3277)

	)

39 
	#dfixed_mul
(
A
, 
B
è((
u64
)((u64)(A).
fuÎ
 * (B).fuÎ + 2048è>> 12)

	)

40 
	#dfixed_š™
(
A
è{ .
fuÎ
 = 
	`dfixed_cÚ¡
((A)è}

	)

41 
	#dfixed_š™_h®f
(
A
è{ .
fuÎ
 = 
	`dfixed_cÚ¡_h®f
((A)è}

	)

42 
	#dfixed_Œunc
(
A
è((A).
fuÎ
 >> 12)

	)

43 
	#dfixed_äac
(
A
è((A).
fuÎ
 & ((1 << 12è- 1))

	)

45 
šlše
 
u32
 
	$dfixed_æoÜ
(
fixed20_12
 
A
)

47 
u32
 
nÚ_äac
 = 
	`dfixed_Œunc
(
A
);

49  
	`dfixed_cÚ¡
(
nÚ_äac
);

50 
	}
}

52 
šlše
 
u32
 
	$dfixed_ûž
(
fixed20_12
 
A
)

54 
u32
 
nÚ_äac
 = 
	`dfixed_Œunc
(
A
);

56 ià(
A
.
fuÎ
 > 
	`dfixed_cÚ¡
(
nÚ_äac
))

57  
	`dfixed_cÚ¡
(
nÚ_äac
 + 1);

59  
	`dfixed_cÚ¡
(
nÚ_äac
);

60 
	}
}

62 
šlše
 
u32
 
	$dfixed_div
(
fixed20_12
 
A
, fixed20_12 
B
)

64 
u64
 
tmp
 = ((u64)
A
.
fuÎ
 << 13);

66 
	`do_div
(
tmp
, 
B
.
fuÎ
);

67 
tmp
 += 1;

68 
tmp
 /= 2;

69  
	`low”_32_b™s
(
tmp
);

70 
	}
}

72 
	#DRM_FIXED_POINT
 32

	)

73 
	#DRM_FIXED_ONE
 (1ULL << 
DRM_FIXED_POINT
)

	)

74 
	#DRM_FIXED_DECIMAL_MASK
 (
DRM_FIXED_ONE
 - 1)

	)

75 
	#DRM_FIXED_DIGITS_MASK
 (~
DRM_FIXED_DECIMAL_MASK
)

	)

76 
	#DRM_FIXED_EPSILON
 1LL

	)

77 
	#DRM_FIXED_ALMOST_ONE
 (
DRM_FIXED_ONE
 - 
DRM_FIXED_EPSILON
)

	)

79 
šlše
 
s64
 
	$drm_št2fixp
(
a
)

81  ((
s64
)
a
è<< 
DRM_FIXED_POINT
;

82 
	}
}

84 
šlše
 
	$drm_fixp2št
(
s64
 
a
)

86  ((
s64
)
a
è>> 
DRM_FIXED_POINT
;

87 
	}
}

89 
šlše
 
	$drm_fixp2št_ûž
(
s64
 
a
)

91 ià(
a
 > 0)

92  
	`drm_fixp2št
(
a
 + 
DRM_FIXED_ALMOST_ONE
);

94  
	`drm_fixp2št
(
a
 - 
DRM_FIXED_ALMOST_ONE
);

95 
	}
}

97 
šlše
 
	$drm_fixp_msb£t
(
s64
 
a
)

99 
shiá
, 
sign
 = (
a
 >> 63) & 1;

101 
shiá
 = 62; shift > 0; --shift)

102 ià(((
a
 >> 
shiá
è& 1è!ð
sign
)

103  
shiá
;

106 
	}
}

108 
šlše
 
s64
 
	$drm_fixp_mul
(
s64
 
a
, s64 
b
)

110 
shiá
 = 
	`drm_fixp_msb£t
(
a
è+ drm_fixp_msb£t(
b
);

111 
s64
 
»suÉ
;

113 ià(
shiá
 > 61) {

114 
shiá
 = shift - 61;

115 
a
 >>ð(
shiá
 >> 1) + (shift & 1);

116 
b
 >>ð
shiá
 >> 1;

118 
shiá
 = 0;

120 
»suÉ
 = 
a
 * 
b
;

122 ià(
shiá
 > 
DRM_FIXED_POINT
)

123  
»suÉ
 << (
shiá
 - 
DRM_FIXED_POINT
);

125 ià(
shiá
 < 
DRM_FIXED_POINT
)

126  
»suÉ
 >> (
DRM_FIXED_POINT
 - 
shiá
);

128  
»suÉ
;

129 
	}
}

131 
šlše
 
s64
 
	$drm_fixp_div
(
s64
 
a
, s64 
b
)

133 
shiá
 = 62 - 
	`drm_fixp_msb£t
(
a
);

134 
s64
 
»suÉ
;

136 
a
 <<ð
shiá
;

138 ià(
shiá
 < 
DRM_FIXED_POINT
)

139 
b
 >>ð(
DRM_FIXED_POINT
 - 
shiá
);

141 
»suÉ
 = 
	`div64_s64
(
a
, 
b
);

143 ià(
shiá
 > 
DRM_FIXED_POINT
)

144  
»suÉ
 >> (
shiá
 - 
DRM_FIXED_POINT
);

146  
»suÉ
;

147 
	}
}

149 
šlše
 
s64
 
	$drm_fixp_äom_äaùiÚ
(
s64
 
a
, s64 
b
)

151 
s64
 
»s
;

152 
boÞ
 
a_Ãg
 = 
a
 < 0;

153 
boÞ
 
b_Ãg
 = 
b
 < 0;

154 
u64
 
a_abs
 = 
a_Ãg
 ? -
a
 :‡;

155 
u64
 
b_abs
 = 
b_Ãg
 ? -
b
 : b;

156 
u64
 
»m
;

159 
u64
 
»s_abs
 = 
	`div64_u64_»m
(
a_abs
, 
b_abs
, &
»m
);

163 
u32
 
i
 = 
DRM_FIXED_POINT
;

166 
»m
 <<= 1;

167 
»s_abs
 <<= 1;

168 ià(
»m
 >ð
b_abs
) {

169 
»s_abs
 |= 1;

170 
»m
 -ð
b_abs
;

172 } --
i
 != 0);

177 
u64
 
summªd
 = (
»m
 << 1è>ð
b_abs
;

179 
»s_abs
 +ð
summªd
;

182 
»s
 = (
s64
è
»s_abs
;

183 ià(
a_Ãg
 ^ 
b_Ãg
)

184 
»s
 = -res;

185  
»s
;

186 
	}
}

188 
šlše
 
s64
 
	$drm_fixp_exp
(
s64
 
x
)

190 
s64
 
tÞ”ªû
 = 
	`div64_s64
(
DRM_FIXED_ONE
, 1000000);

191 
s64
 
sum
 = 
DRM_FIXED_ONE
, 
‹rm
, 
y
 = 
x
;

192 
u64
 
couÁ
 = 1;

194 ià(
x
 < 0)

195 
y
 = -1 * 
x
;

197 
‹rm
 = 
y
;

199 
‹rm
 >ð
tÞ”ªû
) {

200 
sum
 = sum + 
‹rm
;

201 
couÁ
 = count + 1;

202 
‹rm
 = 
	`drm_fixp_mul
Ñ”m, 
	`div64_s64
(
y
, 
couÁ
));

205 ià(
x
 < 0)

206 
sum
 = 
	`drm_fixp_div
(
DRM_FIXED_ONE
, sum);

208  
sum
;

209 
	}
}

	@src/common/linuxkpi/include/drm/drm_flip_work.h

24 #iâdeà
DRM_FLIP_WORK_H


25 
	#DRM_FLIP_WORK_H


	)

27 
	~<lšux/kfifo.h
>

28 
	~<lšux/¥šlock.h
>

29 
	~<lšux/wÜkqueue.h
>

41 
	gdrm_æ_wÜk
;

52 (*
	tdrm_æ_func_t
)(
	tdrm_æ_wÜk
 *
	twÜk
, *
	tv®
);

59 
	sdrm_æ_sk
 {

60 
li¡_h—d
 
node
;

61 *
d©a
;

73 
	sdrm_æ_wÜk
 {

74 cÚ¡ *
Çme
;

75 
drm_æ_func_t
 
func
;

76 
wÜk_¡ruù
 
wÜk”
;

77 
li¡_h—d
 
queued
;

78 
li¡_h—d
 
comm™ed
;

79 
¥šlock_t
 
lock
;

82 
drm_æ_sk
 *
	`drm_æ_wÜk_®loÿ‹_sk
(*
d©a
, 
gå_t
 
æags
);

83 
	`drm_æ_wÜk_queue_sk
(
drm_æ_wÜk
 *
wÜk
,

84 
drm_æ_sk
 *
sk
);

85 
	`drm_æ_wÜk_queue
(
drm_æ_wÜk
 *
wÜk
, *
v®
);

86 
	`drm_æ_wÜk_comm™
(
drm_æ_wÜk
 *
wÜk
,

87 
wÜkqueue_¡ruù
 *
wq
);

88 
	`drm_æ_wÜk_š™
(
drm_æ_wÜk
 *
wÜk
,

89 cÚ¡ *
Çme
, 
drm_æ_func_t
 
func
);

90 
	`drm_æ_wÜk_þ—nup
(
drm_æ_wÜk
 *
wÜk
);

	@src/common/linuxkpi/include/drm/drm_fourcc.h

22 #iâdeà
__DRM_FOURCC_H__


23 
	#__DRM_FOURCC_H__


	)

25 
	~<lšux/ty³s.h
>

26 
	~<u­i/drm/drm_fourcc.h
>

28 
	gdrm_deviû
;

29 
	gdrm_mode_fb_cmd2
;

42 
	sdrm_fÜm©_šfo
 {

43 
u32
 
	mfÜm©
;

44 
u8
 
	md•th
;

45 
u8
 
	mnum_¶ªes
;

46 
u8
 
	mýp
[3];

47 
u8
 
	mhsub
;

48 
u8
 
	mvsub
;

55 
	sdrm_fÜm©_Çme_buf
 {

56 
	m¡r
[32];

59 cÚ¡ 
drm_fÜm©_šfo
 *
__drm_fÜm©_šfo
(
u32
 
fÜm©
);

60 cÚ¡ 
drm_fÜm©_šfo
 *drm_fÜm©_šfo(
u32
 
fÜm©
);

61 cÚ¡ 
drm_fÜm©_šfo
 *

62 
drm_g‘_fÜm©_šfo
(
drm_deviû
 *
dev
,

63 cÚ¡ 
drm_mode_fb_cmd2
 *
mode_cmd
);

64 
ušt32_t
 
drm_mode_Ëgacy_fb_fÜm©
(ušt32_ˆ
bµ
, ušt32_ˆ
d•th
);

65 
drm_fÜm©_num_¶ªes
(
ušt32_t
 
fÜm©
);

66 
drm_fÜm©_¶ªe_ýp
(
ušt32_t
 
fÜm©
, 
¶ªe
);

67 
drm_fÜm©_hÜz_chroma_sub§m¶šg
(
ušt32_t
 
fÜm©
);

68 
drm_fÜm©_v”t_chroma_sub§m¶šg
(
ušt32_t
 
fÜm©
);

69 
drm_fÜm©_¶ªe_width
(
width
, 
ušt32_t
 
fÜm©
, 
¶ªe
);

70 
drm_fÜm©_¶ªe_height
(
height
, 
ušt32_t
 
fÜm©
, 
¶ªe
);

71 cÚ¡ *
drm_g‘_fÜm©_Çme
(
ušt32_t
 
fÜm©
, 
drm_fÜm©_Çme_buf
 *
buf
);

	@src/common/linuxkpi/include/drm/drm_framebuffer.h

23 #iâdeà
__DRM_FRAMEBUFFER_H__


24 
	#__DRM_FRAMEBUFFER_H__


	)

26 
	~<lšux/li¡.h
>

27 
	~<lšux/ùy³.h
>

28 
	~<drm/drm_mode_objeù.h
>

30 
	gdrm_äamebufãr
;

31 
	gdrm_fže
;

32 
	gdrm_deviû
;

37 
	sdrm_äamebufãr_funcs
 {

48 (*
	mde¡roy
)(
drm_äamebufãr
 *
	mäamebufãr
);

68 (*
	mü—‹_hªdË
)(
drm_äamebufãr
 *
	mfb
,

69 
drm_fže
 *
	mfže_´iv
,

70 *
	mhªdË
);

89 (*
	mdœty
)(
drm_äamebufãr
 *
	mäamebufãr
,

90 
drm_fže
 *
	mfže_´iv
, 
	mæags
,

91 
	mcÞÜ
, 
drm_þ_»ù
 *
	mþs
,

92 
	mnum_þs
);

109 
	sdrm_äamebufãr
 {

113 
drm_deviû
 *
	mdev
;

118 
li¡_h—d
 
	mh—d
;

123 
drm_mode_objeù
 
	mba£
;

128 
	mcomm
[
TASK_COMM_LEN
];

133 cÚ¡ 
drm_fÜm©_šfo
 *
	mfÜm©
;

137 cÚ¡ 
drm_äamebufãr_funcs
 *
	mfuncs
;

142 
	mp™ches
[4];

160 
	moff£ts
[4];

167 
ušt64_t
 
	mmodif›r
;

172 
	mwidth
;

177 
	mheight
;

182 
	mæags
;

188 
	mhÙ_x
;

194 
	mhÙ_y
;

198 
li¡_h—d
 
	mfžp_h—d
;

205 
drm_gem_objeù
 *
	mobj
[4];

208 
	#obj_to_fb
(
x
è
	`cÚš”_of
(x, 
drm_äamebufãr
, 
ba£
)

	)

210 
drm_äamebufãr_š™
(
drm_deviû
 *
dev
,

211 
drm_äamebufãr
 *
fb
,

212 cÚ¡ 
drm_äamebufãr_funcs
 *
funcs
);

213 
drm_äamebufãr
 *
drm_äamebufãr_lookup
(
drm_deviû
 *
dev
,

214 
drm_fže
 *
fže_´iv
,

215 
ušt32_t
 
id
);

216 
drm_äamebufãr_»move
(
drm_äamebufãr
 *
fb
);

217 
drm_äamebufãr_þ—nup
(
drm_äamebufãr
 *
fb
);

218 
drm_äamebufãr_uÄegi¡”_´iv©e
(
drm_äamebufãr
 *
fb
);

226 
šlše
 
	$drm_äamebufãr_g‘
(
drm_äamebufãr
 *
fb
)

228 
	`drm_mode_objeù_g‘
(&
fb
->
ba£
);

229 
	}
}

238 
šlše
 
	$drm_äamebufãr_put
(
drm_äamebufãr
 *
fb
)

240 
	`drm_mode_objeù_put
(&
fb
->
ba£
);

241 
	}
}

250 
šlše
 
	$drm_äamebufãr_»ã»nû
(
drm_äamebufãr
 *
fb
)

252 
	`drm_äamebufãr_g‘
(
fb
);

253 
	}
}

262 
šlše
 
	$drm_äamebufãr_uÄeã»nû
(
drm_äamebufãr
 *
fb
)

264 
	`drm_äamebufãr_put
(
fb
);

265 
	}
}

273 
šlše
 
ušt32_t
 
	$drm_äamebufãr_»ad_»fcouÁ
(cÚ¡ 
drm_äamebufãr
 *
fb
)

275  
	`k»f_»ad
(&
fb
->
ba£
.
»fcouÁ
);

276 
	}
}

286 
šlše
 
	$drm_äamebufãr_assign
(
drm_äamebufãr
 **
p
,

287 
drm_äamebufãr
 *
fb
)

289 ià(
fb
)

290 
	`drm_äamebufãr_g‘
(
fb
);

291 ià(*
p
)

292 
	`drm_äamebufãr_put
(*
p
);

293 *
p
 = 
fb
;

294 
	}
}

304 
	#drm_fÜ_—ch_fb
(
fb
, 
dev
) \

305 
	`WARN_ON
(!
	`mu‹x_is_locked
(&(
dev
)->
mode_cÚfig
.
fb_lock
)), \

306 
fb
 = 
	`li¡_fœ¡_’Œy
(&(
dev
)->
mode_cÚfig
.
fb_li¡
, \

307 
drm_äamebufãr
, 
h—d
); \

308 &
fb
->
h—d
 !ð(&(
dev
)->
mode_cÚfig
.
fb_li¡
); \

309 
fb
 = 
	`li¡_Ãxt_’Œy
(fb, 
h—d
))

	)

311 
drm_äamebufãr_¶ªe_width
(
width
,

312 cÚ¡ 
drm_äamebufãr
 *
fb
, 
¶ªe
);

313 
drm_äamebufãr_¶ªe_height
(
height
,

314 cÚ¡ 
drm_äamebufãr
 *
fb
, 
¶ªe
);

	@src/common/linuxkpi/include/drm/drm_gem.h

1 #iâdeà
__DRM_GEM_H__


2 
	#__DRM_GEM_H__


	)

37 
	~<lšux/k»f.h
>

39 
	~<drm/drm_vma_mªag”.h
>

49 
	sdrm_gem_objeù
 {

59 
k»f
 
	m»fcouÁ
;

72 
	mhªdË_couÁ
;

77 
drm_deviû
 *
	mdev
;

87 
fže
 *
	mfžp
;

99 
drm_vma_off£t_node
 
	mvma_node
;

107 
size_t
 
	msize
;

116 
	mÇme
;

126 
ušt32_t
 
	m»ad_domašs
;

131 
ušt32_t
 
	mwr™e_domaš
;

144 
dma_buf
 *
	mdma_buf
;

163 
dma_buf_©chm’t
 *
	mimpÜt_©ch
;

179 
	#DEFINE_DRM_GEM_FOPS
(
Çme
) \

180 cÚ¡ 
fže_Ý”©iÚs
 
Çme
 = {\

181 .
owÃr
 = 
THIS_MODULE
,\

182 .
Ý’
 = 
drm_Ý’
,\

183 .
»Ëa£
 = 
drm_»Ëa£
,\

184 .
uÆocked_ioùl
 = 
drm_ioùl
,\

185 .
com·t_ioùl
 = 
drm_com·t_ioùl
,\

186 .
pÞl
 = 
drm_pÞl
,\

187 .
»ad
 = 
drm_»ad
,\

188 .
Î£ek
 = 
noÝ_Î£ek
,\

189 .
mm­
 = 
drm_gem_mm­
,\

190 }

	)

192 
drm_gem_objeù_»Ëa£
(
drm_gem_objeù
 *
obj
);

193 
drm_gem_objeù_ä“
(
k»f
 *kref);

194 
drm_gem_objeù_š™
(
drm_deviû
 *
dev
,

195 
drm_gem_objeù
 *
obj
, 
size_t
 
size
);

196 
drm_gem_´iv©e_objeù_š™
(
drm_deviû
 *
dev
,

197 
drm_gem_objeù
 *
obj
, 
size_t
 
size
);

198 
drm_gem_vm_Ý’
(
vm_¬—_¡ruù
 *
vma
);

199 
drm_gem_vm_þo£
(
vm_¬—_¡ruù
 *
vma
);

200 
drm_gem_mm­_obj
(
drm_gem_objeù
 *
obj
, 
obj_size
,

201 
vm_¬—_¡ruù
 *
vma
);

202 
drm_gem_mm­
(
fže
 *
fžp
, 
vm_¬—_¡ruù
 *
vma
);

211 
šlše
 
	$drm_gem_objeù_g‘
(
drm_gem_objeù
 *
obj
)

213 
	`k»f_g‘
(&
obj
->
»fcouÁ
);

214 
	}
}

231 
šlše
 

232 
	$__drm_gem_objeù_put
(
drm_gem_objeù
 *
obj
)

234 
	`k»f_put
(&
obj
->
»fcouÁ
, 
drm_gem_objeù_ä“
);

235 
	}
}

237 
drm_gem_objeù_put_uÆocked
(
drm_gem_objeù
 *
obj
);

238 
drm_gem_objeù_put
(
drm_gem_objeù
 *
obj
);

247 
šlše
 
	$drm_gem_objeù_»ã»nû
(
drm_gem_objeù
 *
obj
)

249 
	`drm_gem_objeù_g‘
(
obj
);

250 
	}
}

260 
šlše
 
	$__drm_gem_objeù_uÄeã»nû
(
drm_gem_objeù
 *
obj
)

262 
	`__drm_gem_objeù_put
(
obj
);

263 
	}
}

272 
šlše
 

273 
	$drm_gem_objeù_uÄeã»nû_uÆocked
(
drm_gem_objeù
 *
obj
)

275 
	`drm_gem_objeù_put_uÆocked
(
obj
);

276 
	}
}

285 
šlše
 
	$drm_gem_objeù_uÄeã»nû
(
drm_gem_objeù
 *
obj
)

287 
	`drm_gem_objeù_put
(
obj
);

288 
	}
}

290 
drm_gem_hªdË_ü—‹
(
drm_fže
 *
fže_´iv
,

291 
drm_gem_objeù
 *
obj
,

292 
u32
 *
hªdËp
);

293 
drm_gem_hªdË_d–‘e
(
drm_fže
 *
fžp
, 
u32
 
hªdË
);

296 
drm_gem_ä“_mm­_off£t
(
drm_gem_objeù
 *
obj
);

297 
drm_gem_ü—‹_mm­_off£t
(
drm_gem_objeù
 *
obj
);

298 
drm_gem_ü—‹_mm­_off£t_size
(
drm_gem_objeù
 *
obj
, 
size_t
 
size
);

300 
·ge
 **
drm_gem_g‘_·ges
(
drm_gem_objeù
 *
obj
);

301 
drm_gem_put_·ges
(
drm_gem_objeù
 *
obj
, 
·ge
 **
·ges
,

302 
boÞ
 
dœty
, boÞ 
acûs£d
);

304 
drm_gem_objeù
 *
drm_gem_objeù_lookup
(
drm_fže
 *
fžp
, 
u32
 
hªdË
);

305 
drm_gem_dumb_m­_off£t
(
drm_fže
 *
fže
, 
drm_deviû
 *
dev
,

306 
u32
 
hªdË
, 
u64
 *
off£t
);

307 
drm_gem_dumb_de¡roy
(
drm_fže
 *
fže
,

308 
drm_deviû
 *
dev
,

309 
ušt32_t
 
hªdË
);

	@src/common/linuxkpi/include/drm/drm_gem_cma_helper.h

2 #iâdeà
__DRM_GEM_CMA_HELPER_H__


3 
	#__DRM_GEM_CMA_HELPER_H__


	)

5 
	~<drm/drmP.h
>

6 
	~<drm/drm_gem.h
>

17 
	sdrm_gem_cma_objeù
 {

18 
drm_gem_objeù
 
	mba£
;

19 
dma_addr_t
 
	m·ddr
;

20 
sg_bË
 *
	msgt
;

23 *
	mvaddr
;

26 
	#to_drm_gem_cma_obj
(
gem_obj
) \

27 
	`cÚš”_of
(
gem_obj
, 
drm_gem_cma_objeù
, 
ba£
)

	)

29 #iâdeà
CONFIG_MMU


30 
	#DRM_GEM_CMA_UNMAPPED_AREA_FOPS
 \

31 .
g‘_unm­³d_¬—
 = 
drm_gem_cma_g‘_unm­³d_¬—
,

	)

33 
	#DRM_GEM_CMA_UNMAPPED_AREA_FOPS


	)

49 
	#DEFINE_DRM_GEM_CMA_FOPS
(
Çme
) \

50 cÚ¡ 
fže_Ý”©iÚs
 
Çme
 = {\

51 .
owÃr
 = 
THIS_MODULE
,\

52 .
Ý’
 = 
drm_Ý’
,\

53 .
»Ëa£
 = 
drm_»Ëa£
,\

54 .
uÆocked_ioùl
 = 
drm_ioùl
,\

55 .
com·t_ioùl
 = 
drm_com·t_ioùl
,\

56 .
pÞl
 = 
drm_pÞl
,\

57 .
»ad
 = 
drm_»ad
,\

58 .
Î£ek
 = 
noÝ_Î£ek
,\

59 .
mm­
 = 
drm_gem_cma_mm­
,\

60 
DRM_GEM_CMA_UNMAPPED_AREA_FOPS
 \

61 }

	)

64 
drm_gem_cma_ä“_objeù
(
drm_gem_objeù
 *
gem_obj
);

67 
drm_gem_cma_dumb_ü—‹_š‹º®
(
drm_fže
 *
fže_´iv
,

68 
drm_deviû
 *
drm
,

69 
drm_mode_ü—‹_dumb
 *
¬gs
);

72 
drm_gem_cma_dumb_ü—‹
(
drm_fže
 *
fže_´iv
,

73 
drm_deviû
 *
drm
,

74 
drm_mode_ü—‹_dumb
 *
¬gs
);

77 
drm_gem_cma_mm­
(
fže
 *
fžp
, 
vm_¬—_¡ruù
 *
vma
);

80 
drm_gem_cma_objeù
 *
drm_gem_cma_ü—‹
(
drm_deviû
 *
drm
,

81 
size_t
 
size
);

83 cÚ¡ 
vm_Ý”©iÚs_¡ruù
 
drm_gem_cma_vm_Ýs
;

85 #iâdeà
CONFIG_MMU


86 
drm_gem_cma_g‘_unm­³d_¬—
(
fže
 *
fžp
,

87 
addr
,

88 
Ën
,

89 
pgoff
,

90 
æags
);

93 
drm_gem_cma_´št_šfo
(
drm_´š‹r
 *
p
, 
šd’t
,

94 cÚ¡ 
drm_gem_objeù
 *
obj
);

96 
sg_bË
 *
drm_gem_cma_´ime_g‘_sg_bË
(
drm_gem_objeù
 *
obj
);

97 
drm_gem_objeù
 *

98 
drm_gem_cma_´ime_impÜt_sg_bË
(
drm_deviû
 *
dev
,

99 
dma_buf_©chm’t
 *
©ch
,

100 
sg_bË
 *
sgt
);

101 
drm_gem_cma_´ime_mm­
(
drm_gem_objeù
 *
obj
,

102 
vm_¬—_¡ruù
 *
vma
);

103 *
drm_gem_cma_´ime_vm­
(
drm_gem_objeù
 *
obj
);

104 
drm_gem_cma_´ime_vunm­
(
drm_gem_objeù
 *
obj
, *
vaddr
);

	@src/common/linuxkpi/include/drm/drm_gem_framebuffer_helper.h

1 #iâdeà
__DRM_GEM_FB_HELPER_H__


2 
	#__DRM_GEM_FB_HELPER_H__


	)

4 
	gdrm_deviû
;

5 
	gdrm_fb_h–³r_surçû_size
;

6 
	gdrm_fže
;

7 
	gdrm_äamebufãr
;

8 
	gdrm_äamebufãr_funcs
;

9 
	gdrm_gem_objeù
;

10 
	gdrm_mode_fb_cmd2
;

11 
	gdrm_¶ªe
;

12 
	gdrm_¶ªe_¡©e
;

14 
drm_gem_objeù
 *
drm_gem_fb_g‘_obj
(
drm_äamebufãr
 *
fb
,

15 
¶ªe
);

16 
drm_gem_fb_de¡roy
(
drm_äamebufãr
 *
fb
);

17 
drm_gem_fb_ü—‹_hªdË
(
drm_äamebufãr
 *
fb
, 
drm_fže
 *
fže
,

18 *
hªdË
);

20 
drm_äamebufãr
 *

21 
drm_gem_fb_ü—‹_w™h_funcs
(
drm_deviû
 *
dev
, 
drm_fže
 *
fže
,

22 cÚ¡ 
drm_mode_fb_cmd2
 *
mode_cmd
,

23 cÚ¡ 
drm_äamebufãr_funcs
 *
funcs
);

24 
drm_äamebufãr
 *

25 
drm_gem_fb_ü—‹
(
drm_deviû
 *
dev
, 
drm_fže
 *
fže
,

26 cÚ¡ 
drm_mode_fb_cmd2
 *
mode_cmd
);

28 
drm_gem_fb_´•¬e_fb
(
drm_¶ªe
 *
¶ªe
,

29 
drm_¶ªe_¡©e
 *
¡©e
);

31 
drm_äamebufãr
 *

32 
drm_gem_fbdev_fb_ü—‹
(
drm_deviû
 *
dev
,

33 
drm_fb_h–³r_surçû_size
 *
sizes
,

34 
p™ch_®ign
, 
drm_gem_objeù
 *
obj
,

35 cÚ¡ 
drm_äamebufãr_funcs
 *
funcs
);

	@src/common/linuxkpi/include/drm/drm_global.h

31 #iâdeà
_DRM_GLOBAL_H_


32 
	#_DRM_GLOBAL_H_


	)

33 
	edrm_glob®_ty³s
 {

34 
	mDRM_GLOBAL_TTM_MEM
 = 0,

35 
	mDRM_GLOBAL_TTM_BO
,

36 
	mDRM_GLOBAL_TTM_OBJECT
,

37 
	mDRM_GLOBAL_NUM


40 
	sdrm_glob®_»ã»nû
 {

41 
drm_glob®_ty³s
 
	mglob®_ty³
;

42 
size_t
 
	msize
;

43 *
	mobjeù
;

44 (*
	mš™
è(
	mdrm_glob®_»ã»nû
 *);

45 (*
	m»Ëa£
è(
	mdrm_glob®_»ã»nû
 *);

48 
drm_glob®_š™
();

49 
drm_glob®_»Ëa£
();

50 
drm_glob®_™em_»f
(
drm_glob®_»ã»nû
 *
»f
);

51 
drm_glob®_™em_uÄef
(
drm_glob®_»ã»nû
 *
»f
);

	@src/common/linuxkpi/include/drm/drm_hashtab.h

35 #iâdeà
DRM_HASHTAB_H


36 
	#DRM_HASHTAB_H


	)

38 
	~<lšux/li¡.h
>

40 
	#drm_hash_’Œy
(
_±r
, 
_ty³
, 
_memb”
è
	`cÚš”_of
(_±r, _ty³, _memb”)

	)

42 
	sdrm_hash_™em
 {

43 
hli¡_node
 
	mh—d
;

44 
	mkey
;

47 
	sdrm_Ý’_hash
 {

48 
hli¡_h—d
 *
	mbË
;

49 
u8
 
	mÜd”
;

52 
drm_ht_ü—‹
(
drm_Ý’_hash
 *
ht
, 
Üd”
);

53 
drm_ht_š£¹_™em
(
drm_Ý’_hash
 *
ht
, 
drm_hash_™em
 *
™em
);

54 
drm_ht_ju¡_š£¹_¶—£
(
drm_Ý’_hash
 *
ht
, 
drm_hash_™em
 *
™em
,

55 
£ed
, 
b™s
, 
shiá
,

56 
add
);

57 
drm_ht_fšd_™em
(
drm_Ý’_hash
 *
ht
, 
key
, 
drm_hash_™em
 **
™em
);

59 
drm_ht_v”bo£_li¡
(
drm_Ý’_hash
 *
ht
, 
key
);

60 
drm_ht_»move_key
(
drm_Ý’_hash
 *
ht
, 
key
);

61 
drm_ht_»move_™em
(
drm_Ý’_hash
 *
ht
, 
drm_hash_™em
 *
™em
);

62 
drm_ht_»move
(
drm_Ý’_hash
 *
ht
);

73 
	#drm_ht_š£¹_™em_rcu
 
drm_ht_š£¹_™em


	)

74 
	#drm_ht_ju¡_š£¹_¶—£_rcu
 
drm_ht_ju¡_š£¹_¶—£


	)

75 
	#drm_ht_»move_key_rcu
 
drm_ht_»move_key


	)

76 
	#drm_ht_»move_™em_rcu
 
drm_ht_»move_™em


	)

77 
	#drm_ht_fšd_™em_rcu
 
drm_ht_fšd_™em


	)

	@src/common/linuxkpi/include/drm/drm_ioctl.h

32 #iâdeà
_DRM_IOCTL_H_


33 
	#_DRM_IOCTL_H_


	)

35 
	~<lšux/ty³s.h
>

36 
	~<lšux/b™Ýs.h
>

38 #ifdeà
__lšux__


39 
	~<asm/ioùl.h
>

42 
	gdrm_deviû
;

43 
	gdrm_fže
;

44 
	gfže
;

56 
	tdrm_ioùl_t
(
	tdrm_deviû
 *
	tdev
, *
	td©a
,

57 
	tdrm_fže
 *
	tfže_´iv
);

69 
	tdrm_ioùl_com·t_t
(
	tfže
 *
	tfžp
, 
	tcmd
,

70 
	t¬g
);

71 #ifdeà
__lšux__


72 
	#DRM_IOCTL_NR
(
n
è
	`_IOC_NR
Ò)

	)

74 
	#DRM_IOCTL_NR
(
n
è(Òè& 0xff)

	)

76 
	#DRM_MAJOR
 226

	)

84 
	edrm_ioùl_æags
 {

92 
	mDRM_AUTH
 = 
BIT
(0),

104 
	mDRM_MASTER
 = 
BIT
(1),

115 
	mDRM_ROOT_ONLY
 = 
BIT
(2),

122 
	mDRM_CONTROL_ALLOW
 = 
BIT
(3),

130 
	mDRM_UNLOCKED
 = 
BIT
(4),

140 
	mDRM_RENDER_ALLOW
 = 
BIT
(5),

153 
	sdrm_ioùl_desc
 {

154 
	mcmd
;

155 
drm_ioùl_æags
 
	mæags
;

156 
drm_ioùl_t
 *
	mfunc
;

157 cÚ¡ *
	mÇme
;

170 
	#DRM_IOCTL_DEF_DRV
(
ioùl
, 
_func
, 
_æags
) \

171 [
	`DRM_IOCTL_NR
(
DRM_IOCTL_
##
ioùl
è- 
DRM_COMMAND_BASE
] = { \

172 .
cmd
 = 
DRM_IOCTL_
##
ioùl
, \

173 .
func
 = 
_func
, \

174 .
æags
 = 
_æags
, \

175 .
Çme
 = #ioctl \

176 }

	)

178 
drm_ioùl_³rm™
(
u32
 
æags
, 
drm_fže
 *
fže_´iv
);

179 
drm_ioùl
(
fže
 *
fžp
, 
cmd
, 
¬g
);

180 
drm_ioùl_k”Ãl
(
fže
 *, 
drm_ioùl_t
, *, 
u32
);

181 #ifdeà
CONFIG_COMPAT


182 
drm_com·t_ioùl
(
fže
 *
fžp
, 
cmd
, 
¬g
);

185 
	#drm_com·t_ioùl
 
NULL


	)

187 
boÞ
 
drm_ioùl_æags
(
Ä
, *
æags
);

189 
drm_noÝ
(
drm_deviû
 *
dev
, *
d©a
,

190 
drm_fže
 *
fže_´iv
);

191 
drm_šv®id_Ý
(
drm_deviû
 *
dev
, *
d©a
,

192 
drm_fže
 *
fže_´iv
);

194 #iâdeà
__lšux__


195 
drm_ioùl_k”Ãl
(
fže
 *fže, 
drm_ioùl_t
 *
func
, *
kd©a
,

196 
u32
 
æags
);

	@src/common/linuxkpi/include/drm/drm_irq.h

24 #iâdeà
_DRM_IRQ_H_


25 
	#_DRM_IRQ_H_


	)

27 
	gdrm_deviû
;

29 
drm_œq_š¡®l
(
drm_deviû
 *
dev
, 
œq
);

30 
drm_œq_unš¡®l
(
drm_deviû
 *
dev
);

	@src/common/linuxkpi/include/drm/drm_lease.h

15 #iâdeà
_DRM_LEASE_H_


16 
	#_DRM_LEASE_H_


	)

18 
	gdrm_fže
;

19 
	gdrm_deviû
;

20 
	gdrm_ma¡”
;

22 
drm_ma¡”
 *
drm_Ëa£_owÃr
(drm_ma¡” *
ma¡”
);

24 
drm_Ëa£_de¡roy
(
drm_ma¡”
 *
Ës£e
);

26 
boÞ
 
drm_Ëa£_h–d
(
drm_fže
 *
fže_´iv
, 
id
);

28 
boÞ
 
_drm_Ëa£_h–d
(
drm_fže
 *
fže_´iv
, 
id
);

30 
drm_Ëa£_»voke
(
drm_ma¡”
 *
ma¡”
);

32 
ušt32_t
 
drm_Ëa£_fž‹r_ütcs
(
drm_fže
 *
fže_´iv
, ušt32_ˆ
ütcs
);

34 
drm_mode_ü—‹_Ëa£_ioùl
(
drm_deviû
 *
dev
,

35 *
d©a
, 
drm_fže
 *
fže_´iv
);

37 
drm_mode_li¡_Ës£es_ioùl
(
drm_deviû
 *
dev
,

38 *
d©a
, 
drm_fže
 *
fže_´iv
);

40 
drm_mode_g‘_Ëa£_ioùl
(
drm_deviû
 *
dev
,

41 *
d©a
, 
drm_fže
 *
fže_´iv
);

43 
drm_mode_»voke_Ëa£_ioùl
(
drm_deviû
 *
dev
,

44 *
d©a
, 
drm_fže
 *
fže_´iv
);

	@src/common/linuxkpi/include/drm/drm_legacy.h

1 #iâdeà
__DRM_DRM_LEGACY_H__


2 
	#__DRM_DRM_LEGACY_H__


	)

4 
	~<drm/drm_auth.h
>

50 
	sdrm_buf
 {

51 
	midx
;

52 
	mtÙ®
;

53 
	mÜd”
;

54 
	mu£d
;

55 
	moff£t
;

56 *
	madd»ss
;

57 
	mbus_add»ss
;

58 
drm_buf
 *
	mÃxt
;

59 
__vÞ©že__
 
	mwa™šg
;

60 
__vÞ©že__
 
	m³ndšg
;

61 
drm_fže
 *
	mfže_´iv
;

62 
	mcÚ‹xt
;

63 
	mwhže_locked
;

65 
	mDRM_LIST_NONE
 = 0,

66 
	mDRM_LIST_FREE
 = 1,

67 
	mDRM_LIST_WAIT
 = 2,

68 
	mDRM_LIST_PEND
 = 3,

69 
	mDRM_LIST_PRIO
 = 4,

70 
	mDRM_LIST_RECLAIM
 = 5

71 } 
	mli¡
;

73 
	mdev_´iv_size
;

74 *
	mdev_´iv©e
;

77 
	sdrm_dma_hªdË
 {

78 
dma_addr_t
 
	mbu§ddr
;

79 *
	mvaddr
;

80 
size_t
 
	msize
;

81 #iâdeà
__lšux__


82 
bus_dma_g_t
 
	mg
;

83 
bus_dmam­_t
 
	mm­
;

85 } 
	tdrm_dma_hªdË_t
;

90 
	sdrm_buf_’Œy
 {

91 
	mbuf_size
;

92 
	mbuf_couÁ
;

93 
drm_buf
 *
	mbuæi¡
;

94 
	m£g_couÁ
;

95 
	m·ge_Üd”
;

96 
drm_dma_hªdË
 **
	m£gli¡
;

98 
	mlow_m¬k
;

99 
	mhigh_m¬k
;

105 
	sdrm_deviû_dma
 {

107 
drm_buf_’Œy
 
	mbufs
[
DRM_MAX_ORDER
 + 1];

108 
	mbuf_couÁ
;

109 
drm_buf
 **
	mbuæi¡
;

110 
	m£g_couÁ
;

111 
	m·ge_couÁ
;

112 *
	m·g–i¡
;

113 
	mby‹_couÁ
;

115 
	m_DRM_DMA_USE_AGP
 = 0x01,

116 
	m_DRM_DMA_USE_SG
 = 0x02,

117 
	m_DRM_DMA_USE_FB
 = 0x04,

118 
	m_DRM_DMA_USE_PCI_RO
 = 0x08

119 } 
	mæags
;

126 
	sdrm_sg_mem
 {

127 
	mhªdË
;

128 *
	mvœtu®
;

129 
vm_pšdex_t
 
	m·ges
;

130 
·ge
 **
	m·g–i¡
;

131 
dma_addr_t
 *
	mbu§ddr
;

137 
	sdrm_loÿl_m­
 {

138 
»sourû_size_t
 
	moff£t
;

139 
	msize
;

140 
drm_m­_ty³
 
	mty³
;

141 
drm_m­_æags
 
	mæags
;

142 *
	mhªdË
;

144 
	mmŒr
;

147 
drm_loÿl_m­
 
	tdrm_loÿl_m­_t
;

152 
	sdrm_m­_li¡
 {

153 
li¡_h—d
 
	mh—d
;

154 
drm_hash_™em
 
	mhash
;

155 
drm_loÿl_m­
 *
	mm­
;

156 
ušt64_t
 
	mu£r_tok’
;

157 
drm_ma¡”
 *
	mma¡”
;

160 
drm_Ëgacy_addm­
(
drm_deviû
 *
d
, 
»sourû_size_t
 
off£t
,

161 
size
, 
drm_m­_ty³
 
ty³
,

162 
drm_m­_æags
 
æags
, 
drm_loÿl_m­
 **
m­_p
);

163 
drm_Ëgacy_rmm­
(
drm_deviû
 *
d
, 
drm_loÿl_m­
 *
m­
);

164 
drm_Ëgacy_rmm­_locked
(
drm_deviû
 *
d
, 
drm_loÿl_m­
 *
m­
);

165 
drm_Ëgacy_ma¡”_rmm­s
(
drm_deviû
 *
dev
,

166 
drm_ma¡”
 *
ma¡”
);

167 
drm_loÿl_m­
 *
drm_Ëgacy_g‘§»a
(
drm_deviû
 *
dev
);

168 
drm_Ëgacy_mm­
(
fže
 *
fžp
, 
vm_¬—_¡ruù
 *
vma
);

170 
drm_Ëgacy_addbufs_agp
(
drm_deviû
 *
d
, 
drm_buf_desc
 *
»q
);

171 
drm_Ëgacy_addbufs_pci
(
drm_deviû
 *
d
, 
drm_buf_desc
 *
»q
);

179 
	#LOCK_TEST_WITH_RETURN
Ð
dev
, 
_fže_´iv
 ) \

181 ià(!
	`_DRM_LOCK_IS_HELD
(
_fže_´iv
->
ma¡”
->
lock
.
hw_lock
->lock) || \

182 
_fže_´iv
->
ma¡”
->
lock
.
fže_´iv
 != _file_priv) { \

183 
	`DRM_ERROR
( "%s called without†ock held, held %d owner %p %p\n",\

184 
__func__
, 
	`_DRM_LOCK_IS_HELD
(
_fže_´iv
->
ma¡”
->
lock
.
hw_lock
->lock),\

185 
_fže_´iv
->
ma¡”
->
lock
.
fže_´iv
, _file_priv); \

186  -
EINVAL
; \

188 } 0)

	)

190 
drm_Ëgacy_idËlock_ke
(
drm_lock_d©a
 *
lock
);

191 
drm_Ëgacy_idËlock_»Ëa£
(
drm_lock_d©a
 *
lock
);

194 
__drm_Ëgacy_pci_ä“
(
drm_deviû
 *
dev
, 
drm_dma_hªdË_t
 * 
dmah
);

197 
drm_Ëgacy_iÜem­
(
drm_loÿl_m­
 *
m­
, 
drm_deviû
 *
dev
);

198 
drm_Ëgacy_iÜem­_wc
(
drm_loÿl_m­
 *
m­
, 
drm_deviû
 *
dev
);

199 
drm_Ëgacy_iÜem­ä“
(
drm_loÿl_m­
 *
m­
, 
drm_deviû
 *
dev
);

201 
__šlše__
 
drm_loÿl_m­
 *
	$drm_Ëgacy_fšdm­
(
drm_deviû
 *
dev
,

202 
tok’
)

204 
drm_m­_li¡
 *
_’Œy
;

205 
	`li¡_fÜ_—ch_’Œy
(
_’Œy
, &
dev
->
m­li¡
, 
h—d
)

206 ià(
_’Œy
->
u£r_tok’
 =ð
tok’
)

207  
_’Œy
->
m­
;

208  
NULL
;

209 
	}
}

	@src/common/linuxkpi/include/drm/drm_mipi_dsi.h

12 #iâdeà
__DRM_MIPI_DSI_H__


13 
	#__DRM_MIPI_DSI_H__


	)

15 
	~<lšux/deviû.h
>

17 
	gmi_dsi_ho¡
;

18 
	gmi_dsi_deviû
;

21 
	#MIPI_DSI_MSG_REQ_ACK
 
	`BIT
(0)

	)

23 
	#MIPI_DSI_MSG_USE_LPM
 
	`BIT
(1)

	)

35 
	smi_dsi_msg
 {

36 
u8
 
	mchªÃl
;

37 
u8
 
	mty³
;

38 
u16
 
	mæags
;

40 
size_t
 
	mtx_Ën
;

41 cÚ¡ *
	mtx_buf
;

43 
size_t
 
	mrx_Ën
;

44 *
	mrx_buf
;

47 
boÞ
 
mi_dsi_·ck‘_fÜm©_is_shÜt
(
u8
 
ty³
);

48 
boÞ
 
mi_dsi_·ck‘_fÜm©_is_lÚg
(
u8
 
ty³
);

58 
	smi_dsi_·ck‘
 {

59 
size_t
 
	msize
;

60 
u8
 
	mh—d”
[4];

61 
size_t
 
	m·ylßd_Ëngth
;

62 cÚ¡ 
u8
 *
	m·ylßd
;

65 
mi_dsi_ü—‹_·ck‘
(
mi_dsi_·ck‘
 *
·ck‘
,

66 cÚ¡ 
mi_dsi_msg
 *
msg
);

86 
	smi_dsi_ho¡_Ýs
 {

87 (*
	m©ch
)(
mi_dsi_ho¡
 *
	mho¡
,

88 
mi_dsi_deviû
 *
	mdsi
);

89 (*
	md‘ach
)(
mi_dsi_ho¡
 *
	mho¡
,

90 
mi_dsi_deviû
 *
	mdsi
);

91 
ssize_t
 (*
Œªsãr
)(
mi_dsi_ho¡
 *
	mho¡
,

92 cÚ¡ 
mi_dsi_msg
 *
	mmsg
);

101 
	smi_dsi_ho¡
 {

102 
deviû
 *
	mdev
;

103 cÚ¡ 
mi_dsi_ho¡_Ýs
 *
	mÝs
;

104 
li¡_h—d
 
	mli¡
;

107 
mi_dsi_ho¡_»gi¡”
(
mi_dsi_ho¡
 *
ho¡
);

108 
mi_dsi_ho¡_uÄegi¡”
(
mi_dsi_ho¡
 *
ho¡
);

109 #ifdeà
__lšux__


110 
mi_dsi_ho¡
 *
of_fšd_mi_dsi_ho¡_by_node
(
deviû_node
 *
node
);

116 
	#MIPI_DSI_MODE_VIDEO
 
	`BIT
(0)

	)

118 
	#MIPI_DSI_MODE_VIDEO_BURST
 
	`BIT
(1)

	)

120 
	#MIPI_DSI_MODE_VIDEO_SYNC_PULSE
 
	`BIT
(2)

	)

122 
	#MIPI_DSI_MODE_VIDEO_AUTO_VERT
 
	`BIT
(3)

	)

124 
	#MIPI_DSI_MODE_VIDEO_HSE
 
	`BIT
(4)

	)

126 
	#MIPI_DSI_MODE_VIDEO_HFP
 
	`BIT
(5)

	)

128 
	#MIPI_DSI_MODE_VIDEO_HBP
 
	`BIT
(6)

	)

130 
	#MIPI_DSI_MODE_VIDEO_HSA
 
	`BIT
(7)

	)

132 
	#MIPI_DSI_MODE_VSYNC_FLUSH
 
	`BIT
(8)

	)

134 
	#MIPI_DSI_MODE_EOT_PACKET
 
	`BIT
(9)

	)

136 
	#MIPI_DSI_CLOCK_NON_CONTINUOUS
 
	`BIT
(10)

	)

138 
	#MIPI_DSI_MODE_LPM
 
	`BIT
(11)

	)

140 
	emi_dsi_pix–_fÜm©
 {

141 
	mMIPI_DSI_FMT_RGB888
,

142 
	mMIPI_DSI_FMT_RGB666
,

143 
	mMIPI_DSI_FMT_RGB666_PACKED
,

144 
	mMIPI_DSI_FMT_RGB565
,

147 
	#DSI_DEV_NAME_SIZE
 20

	)

158 
	smi_dsi_deviû_šfo
 {

159 
	mty³
[
DSI_DEV_NAME_SIZE
];

160 
u32
 
	mchªÃl
;

161 
deviû_node
 *
	mnode
;

174 
	smi_dsi_deviû
 {

175 
mi_dsi_ho¡
 *
	mho¡
;

176 
deviû
 
	mdev
;

178 
	mÇme
[
DSI_DEV_NAME_SIZE
];

179 
	mchªÃl
;

180 
	mÏÃs
;

181 
mi_dsi_pix–_fÜm©
 
	mfÜm©
;

182 
	mmode_æags
;

185 
	#MIPI_DSI_MODULE_PREFIX
 "mi-dsi:"

	)

187 
šlše
 
mi_dsi_deviû
 *
	$to_mi_dsi_deviû
(
deviû
 *
dev
)

189  
	`cÚš”_of
(
dev
, 
mi_dsi_deviû
, dev);

190 
	}
}

200 
šlše
 
	$mi_dsi_pix–_fÜm©_to_bµ
(
mi_dsi_pix–_fÜm©
 
fmt
)

202 
fmt
) {

203 
MIPI_DSI_FMT_RGB888
:

204 
MIPI_DSI_FMT_RGB666
:

207 
MIPI_DSI_FMT_RGB666_PACKED
:

210 
MIPI_DSI_FMT_RGB565
:

214  -
EINVAL
;

215 
	}
}

217 
mi_dsi_deviû
 *

218 
mi_dsi_deviû_»gi¡”_fuÎ
(
mi_dsi_ho¡
 *
ho¡
,

219 cÚ¡ 
mi_dsi_deviû_šfo
 *
šfo
);

220 
mi_dsi_deviû_uÄegi¡”
(
mi_dsi_deviû
 *
dsi
);

221 
mi_dsi_deviû
 *
of_fšd_mi_dsi_deviû_by_node
(
deviû_node
 *
Å
);

222 
mi_dsi_©ch
(
mi_dsi_deviû
 *
dsi
);

223 
mi_dsi_d‘ach
(
mi_dsi_deviû
 *
dsi
);

224 
mi_dsi_shutdown_³rh”®
(
mi_dsi_deviû
 *
dsi
);

225 
mi_dsi_tuº_Ú_³rh”®
(
mi_dsi_deviû
 *
dsi
);

226 
mi_dsi_£t_maximum_»tuº_·ck‘_size
(
mi_dsi_deviû
 *
dsi
,

227 
u16
 
v®ue
);

229 
ssize_t
 
mi_dsi_g’”ic_wr™e
(
mi_dsi_deviû
 *
dsi
, cÚ¡ *
·ylßd
,

230 
size_t
 
size
);

231 
ssize_t
 
mi_dsi_g’”ic_»ad
(
mi_dsi_deviû
 *
dsi
, cÚ¡ *
·¿ms
,

232 
size_t
 
num_·¿ms
, *
d©a
, size_ˆ
size
);

241 
	emi_dsi_dcs_‹¬_mode
 {

242 
	mMIPI_DSI_DCS_TEAR_MODE_VBLANK
,

243 
	mMIPI_DSI_DCS_TEAR_MODE_VHBLANK
,

246 
	#MIPI_DSI_DCS_POWER_MODE_DISPLAY
 (1 << 2)

	)

247 
	#MIPI_DSI_DCS_POWER_MODE_NORMAL
 (1 << 3)

	)

248 
	#MIPI_DSI_DCS_POWER_MODE_SLEEP
 (1 << 4)

	)

249 
	#MIPI_DSI_DCS_POWER_MODE_PARTIAL
 (1 << 5)

	)

250 
	#MIPI_DSI_DCS_POWER_MODE_IDLE
 (1 << 6)

	)

252 
ssize_t
 
mi_dsi_dcs_wr™e_bufãr
(
mi_dsi_deviû
 *
dsi
,

253 cÚ¡ *
d©a
, 
size_t
 
Ën
);

254 
ssize_t
 
mi_dsi_dcs_wr™e
(
mi_dsi_deviû
 *
dsi
, 
u8
 
cmd
,

255 cÚ¡ *
d©a
, 
size_t
 
Ën
);

256 
ssize_t
 
mi_dsi_dcs_»ad
(
mi_dsi_deviû
 *
dsi
, 
u8
 
cmd
, *
d©a
,

257 
size_t
 
Ën
);

258 
mi_dsi_dcs_nÝ
(
mi_dsi_deviû
 *
dsi
);

259 
mi_dsi_dcs_soá_»£t
(
mi_dsi_deviû
 *
dsi
);

260 
mi_dsi_dcs_g‘_pow”_mode
(
mi_dsi_deviû
 *
dsi
, 
u8
 *
mode
);

261 
mi_dsi_dcs_g‘_pix–_fÜm©
(
mi_dsi_deviû
 *
dsi
, 
u8
 *
fÜm©
);

262 
mi_dsi_dcs_’‹r_¦“p_mode
(
mi_dsi_deviû
 *
dsi
);

263 
mi_dsi_dcs_ex™_¦“p_mode
(
mi_dsi_deviû
 *
dsi
);

264 
mi_dsi_dcs_£t_di¥Ïy_off
(
mi_dsi_deviû
 *
dsi
);

265 
mi_dsi_dcs_£t_di¥Ïy_Ú
(
mi_dsi_deviû
 *
dsi
);

266 
mi_dsi_dcs_£t_cÞumn_add»ss
(
mi_dsi_deviû
 *
dsi
, 
u16
 
¡¬t
,

267 
u16
 
’d
);

268 
mi_dsi_dcs_£t_·ge_add»ss
(
mi_dsi_deviû
 *
dsi
, 
u16
 
¡¬t
,

269 
u16
 
’d
);

270 
mi_dsi_dcs_£t_‹¬_off
(
mi_dsi_deviû
 *
dsi
);

271 
mi_dsi_dcs_£t_‹¬_Ú
(
mi_dsi_deviû
 *
dsi
,

272 
mi_dsi_dcs_‹¬_mode
 
mode
);

273 
mi_dsi_dcs_£t_pix–_fÜm©
(
mi_dsi_deviû
 *
dsi
, 
u8
 
fÜm©
);

274 
mi_dsi_dcs_£t_‹¬_sÿÆše
(
mi_dsi_deviû
 *
dsi
, 
u16
 
sÿÆše
);

275 
mi_dsi_dcs_£t_di¥Ïy_brighŠess
(
mi_dsi_deviû
 *
dsi
,

276 
u16
 
brighŠess
);

277 
mi_dsi_dcs_g‘_di¥Ïy_brighŠess
(
mi_dsi_deviû
 *
dsi
,

278 
u16
 *
brighŠess
);

287 
	smi_dsi_driv”
 {

288 
deviû_driv”
 
	mdriv”
;

289 (*
	m´obe
)(
mi_dsi_deviû
 *
	mdsi
);

290 (*
	m»move
)(
mi_dsi_deviû
 *
	mdsi
);

291 (*
	mshutdown
)(
mi_dsi_deviû
 *
	mdsi
);

294 
šlše
 
mi_dsi_driv”
 *

295 
	$to_mi_dsi_driv”
(
deviû_driv”
 *
driv”
)

297  
	`cÚš”_of
(
driv”
, 
mi_dsi_driv”
, driver);

298 
	}
}

300 
šlše
 *
	$mi_dsi_g‘_drvd©a
(cÚ¡ 
mi_dsi_deviû
 *
dsi
)

302  
	`dev_g‘_drvd©a
(&
dsi
->
dev
);

303 
	}
}

305 
šlše
 
	$mi_dsi_£t_drvd©a
(
mi_dsi_deviû
 *
dsi
, *
d©a
)

307 
	`dev_£t_drvd©a
(&
dsi
->
dev
, 
d©a
);

308 
	}
}

310 
mi_dsi_driv”_»gi¡”_fuÎ
(
mi_dsi_driv”
 *
driv”
,

311 
moduË
 *
owÃr
);

312 
mi_dsi_driv”_uÄegi¡”
(
mi_dsi_driv”
 *
driv”
);

314 
	#mi_dsi_driv”_»gi¡”
(
driv”
) \

315 
	`mi_dsi_driv”_»gi¡”_fuÎ
(
driv”
, 
THIS_MODULE
)

	)

317 
	#moduË_mi_dsi_driv”
(
__mi_dsi_driv”
) \

318 
	`moduË_driv”
(
__mi_dsi_driv”
, 
mi_dsi_driv”_»gi¡”
, \

319 
mi_dsi_driv”_uÄegi¡”
)

	)

	@src/common/linuxkpi/include/drm/drm_mm.h

34 #iâdeà
_DRM_MM_H_


35 
	#_DRM_MM_H_


	)

40 
	~<lšux/bug.h
>

41 
	~<lšux/rbŒ“.h
>

42 
	~<lšux/k”Ãl.h
>

43 
	~<lšux/mm_ty³s.h
>

44 
	~<lšux/li¡.h
>

45 
	~<lšux/¥šlock.h
>

46 #ifdeà
CONFIG_DRM_DEBUG_MM


47 
	~<lšux/¡ackd•Ù.h
>

49 
	~<drm/drm_´št.h
>

51 #ifdeà
CONFIG_DRM_DEBUG_MM


52 
	#DRM_MM_BUG_ON
(
ex´
è
	`BUG_ON
Óx´)

	)

54 
	#DRM_MM_BUG_ON
(
ex´
è
	`BUILD_BUG_ON_INVALID
Óx´)

	)

68 
	edrm_mm_š£¹_mode
 {

77 
	mDRM_MM_INSERT_BEST
 = 0,

87 
	mDRM_MM_INSERT_LOW
,

99 
	mDRM_MM_INSERT_HIGH
,

111 
	mDRM_MM_INSERT_EVICT
,

123 
	sdrm_mm_node
 {

125 
	mcÞÜ
;

127 
u64
 
	m¡¬t
;

129 
u64
 
	msize
;

131 
drm_mm
 *
	mmm
;

132 
li¡_h—d
 
	mnode_li¡
;

133 
li¡_h—d
 
	mhÞe_¡ack
;

134 
rb_node
 
	mrb
;

135 
rb_node
 
	mrb_hÞe_size
;

136 
rb_node
 
	mrb_hÞe_addr
;

137 
u64
 
	m__subŒ“_Ï¡
;

138 
u64
 
	mhÞe_size
;

139 
boÞ
 
	m®loÿ‹d
 : 1;

140 
boÞ
 
	msÿÂed_block
 : 1;

141 #ifdeà
CONFIG_DRM_DEBUG_MM


142 
d•Ù_¡ack_hªdË_t
 
	m¡ack
;

154 
	sdrm_mm
 {

164 (*
	mcÞÜ_adju¡
)(cÚ¡ 
drm_mm_node
 *
	mnode
,

165 
	mcÞÜ
,

166 
u64
 *
	m¡¬t
, u64 *
	m’d
);

170 
li¡_h—d
 
	mhÞe_¡ack
;

173 
drm_mm_node
 
	mh—d_node
;

175 
rb_roÙ_ÿched
 
	mš‹rv®_Œ“
;

176 
rb_roÙ
 
	mhÞes_size
;

177 
rb_roÙ
 
	mhÞes_addr
;

179 
	msÿn_aùive
;

191 
	sdrm_mm_sÿn
 {

193 
drm_mm
 *
	mmm
;

195 
u64
 
	msize
;

196 
u64
 
	m®ignm’t
;

197 
u64
 
	m»mašd”_mask
;

199 
u64
 
	m¿nge_¡¬t
;

200 
u64
 
	m¿nge_’d
;

202 
u64
 
	mh™_¡¬t
;

203 
u64
 
	mh™_’d
;

205 
	mcÞÜ
;

206 
drm_mm_š£¹_mode
 
	mmode
;

222 
šlše
 
boÞ
 
	$drm_mm_node_®loÿ‹d
(cÚ¡ 
drm_mm_node
 *
node
)

224  
node
->
®loÿ‹d
;

225 
	}
}

240 
šlše
 
boÞ
 
	$drm_mm_š™Ÿlized
(cÚ¡ 
drm_mm
 *
mm
)

242  
mm
->
hÞe_¡ack
.
Ãxt
;

243 
	}
}

257 
šlše
 
boÞ
 
	$drm_mm_hÞe_fÞlows
(cÚ¡ 
drm_mm_node
 *
node
)

259  
node
->
hÞe_size
;

260 
	}
}

262 
šlše
 
u64
 
	$__drm_mm_hÞe_node_¡¬t
(cÚ¡ 
drm_mm_node
 *
hÞe_node
)

264  
hÞe_node
->
¡¬t
 + hÞe_node->
size
;

265 
	}
}

278 
šlše
 
u64
 
	$drm_mm_hÞe_node_¡¬t
(cÚ¡ 
drm_mm_node
 *
hÞe_node
)

280 
	`DRM_MM_BUG_ON
(!
	`drm_mm_hÞe_fÞlows
(
hÞe_node
));

281  
	`__drm_mm_hÞe_node_¡¬t
(
hÞe_node
);

282 
	}
}

284 
šlše
 
u64
 
	$__drm_mm_hÞe_node_’d
(cÚ¡ 
drm_mm_node
 *
hÞe_node
)

286  
	`li¡_Ãxt_’Œy
(
hÞe_node
, 
node_li¡
)->
¡¬t
;

287 
	}
}

300 
šlše
 
u64
 
	$drm_mm_hÞe_node_’d
(cÚ¡ 
drm_mm_node
 *
hÞe_node
)

302  
	`__drm_mm_hÞe_node_’d
(
hÞe_node
);

303 
	}
}

317 
	#drm_mm_nodes
(
mm
è(&(mm)->
h—d_node
.
node_li¡
)

	)

327 
	#drm_mm_fÜ_—ch_node
(
’Œy
, 
mm
) \

328 
	`li¡_fÜ_—ch_’Œy
(
’Œy
, 
	`drm_mm_nodes
(
mm
), 
node_li¡
)

	)

339 
	#drm_mm_fÜ_—ch_node_§ã
(
’Œy
, 
Ãxt
, 
mm
) \

340 
	`li¡_fÜ_—ch_’Œy_§ã
(
’Œy
, 
Ãxt
, 
	`drm_mm_nodes
(
mm
), 
node_li¡
)

	)

358 
	#drm_mm_fÜ_—ch_hÞe
(
pos
, 
mm
, 
hÞe_¡¬t
, 
hÞe_’d
) \

359 
pos
 = 
	`li¡_fœ¡_’Œy
(&(
mm
)->
hÞe_¡ack
, \

360 
	`ty³of
(*
pos
), 
hÞe_¡ack
); \

361 &
pos
->
hÞe_¡ack
 !ð&(
mm
)->hole_stack ? \

362 
hÞe_¡¬t
 = 
	`drm_mm_hÞe_node_¡¬t
(
pos
), \

363 
hÞe_’d
 = 
hÞe_¡¬t
 + 
pos
->
hÞe_size
, \

365 
pos
 = 
	`li¡_Ãxt_’Œy
Õos, 
hÞe_¡ack
))

	)

370 
drm_mm_»£rve_node
(
drm_mm
 *
mm
, 
drm_mm_node
 *
node
);

371 
drm_mm_š£¹_node_š_¿nge
(
drm_mm
 *
mm
,

372 
drm_mm_node
 *
node
,

373 
u64
 
size
,

374 
u64
 
®ignm’t
,

375 
cÞÜ
,

376 
u64
 
¡¬t
,

377 
u64
 
’d
,

378 
drm_mm_š£¹_mode
 
mode
);

397 
šlše
 

398 
	$drm_mm_š£¹_node_g’”ic
(
drm_mm
 *
mm
, 
drm_mm_node
 *
node
,

399 
u64
 
size
, u64 
®ignm’t
,

400 
cÞÜ
,

401 
drm_mm_š£¹_mode
 
mode
)

403  
	`drm_mm_š£¹_node_š_¿nge
(
mm
, 
node
,

404 
size
, 
®ignm’t
, 
cÞÜ
,

405 0, 
U64_MAX
, 
mode
);

406 
	}
}

422 
šlše
 
	$drm_mm_š£¹_node
(
drm_mm
 *
mm
,

423 
drm_mm_node
 *
node
,

424 
u64
 
size
)

426  
	`drm_mm_š£¹_node_g’”ic
(
mm
, 
node
, 
size
, 0, 0, 0);

427 
	}
}

429 
drm_mm_»move_node
(
drm_mm_node
 *
node
);

430 
drm_mm_»¶aû_node
(
drm_mm_node
 *
Þd
, drm_mm_nod*
Ãw
);

431 
drm_mm_š™
(
drm_mm
 *
mm
, 
u64
 
¡¬t
, u64 
size
);

432 
drm_mm_kedown
(
drm_mm
 *
mm
);

442 
šlše
 
boÞ
 
	$drm_mm_þ—n
(cÚ¡ 
drm_mm
 *
mm
)

444  
	`li¡_em±y
(
	`drm_mm_nodes
(
mm
));

445 
	}
}

447 
drm_mm_node
 *

448 
__drm_mm_š‹rv®_fœ¡
(cÚ¡ 
drm_mm
 *
mm
, 
u64
 
¡¬t
, u64 
Ï¡
);

467 
	#drm_mm_fÜ_—ch_node_š_¿nge
(
node__
, 
mm__
, 
¡¬t__
, 
’d__
) \

468 
node__
 = 
	`__drm_mm_š‹rv®_fœ¡
((
mm__
), (
¡¬t__
), (
’d__
)-1); \

469 
node__
->
¡¬t
 < (
’d__
); \

470 
node__
 = 
	`li¡_Ãxt_’Œy
Òode__, 
node_li¡
))

	)

472 
drm_mm_sÿn_š™_w™h_¿nge
(
drm_mm_sÿn
 *
sÿn
,

473 
drm_mm
 *
mm
,

474 
u64
 
size
, u64 
®ignm’t
, 
cÞÜ
,

475 
u64
 
¡¬t
, u64 
’d
,

476 
drm_mm_š£¹_mode
 
mode
);

497 
šlše
 
	$drm_mm_sÿn_š™
(
drm_mm_sÿn
 *
sÿn
,

498 
drm_mm
 *
mm
,

499 
u64
 
size
,

500 
u64
 
®ignm’t
,

501 
cÞÜ
,

502 
drm_mm_š£¹_mode
 
mode
)

504 
	`drm_mm_sÿn_š™_w™h_¿nge
(
sÿn
, 
mm
,

505 
size
, 
®ignm’t
, 
cÞÜ
,

506 0, 
U64_MAX
, 
mode
);

507 
	}
}

509 
boÞ
 
drm_mm_sÿn_add_block
(
drm_mm_sÿn
 *
sÿn
,

510 
drm_mm_node
 *
node
);

511 
boÞ
 
drm_mm_sÿn_»move_block
(
drm_mm_sÿn
 *
sÿn
,

512 
drm_mm_node
 *
node
);

513 
drm_mm_node
 *
drm_mm_sÿn_cÞÜ_eviù
(
drm_mm_sÿn
 *
sÿn
);

515 
drm_mm_´št
(cÚ¡ 
drm_mm
 *
mm
, 
drm_´š‹r
 *
p
);

	@src/common/linuxkpi/include/drm/drm_mode_config.h

23 #iâdeà
__DRM_MODE_CONFIG_H__


24 
	#__DRM_MODE_CONFIG_H__


	)

26 
	~<lšux/mu‹x.h
>

27 
	~<lšux/ty³s.h
>

28 
	~<lšux/idr.h
>

29 
	~<lšux/wÜkqueue.h
>

30 
	~<lšux/Îi¡.h
>

32 
	~<drm/drm_mode£t_lock.h
>

34 
	gdrm_fže
;

35 
	gdrm_deviû
;

36 
	gdrm_©omic_¡©e
;

37 
	gdrm_mode_fb_cmd2
;

38 
	gdrm_fÜm©_šfo
;

46 
	sdrm_mode_cÚfig_funcs
 {

70 
	mdrm_äamebufãr
 *(*
	mfb_ü—‹
)(
drm_deviû
 *
	mdev
,

71 
drm_fže
 *
	mfže_´iv
,

72 cÚ¡ 
drm_mode_fb_cmd2
 *
	mmode_cmd
);

85 cÚ¡ 
	mdrm_fÜm©_šfo
 *(*
	mg‘_fÜm©_šfo
)(cÚ¡ 
drm_mode_fb_cmd2
 *
	mmode_cmd
);

102 (*
	mouut_pÞl_chªged
)(
drm_deviû
 *
	mdev
);

178 (*
	m©omic_check
)(
drm_deviû
 *
	mdev
,

179 
drm_©omic_¡©e
 *
	m¡©e
);

260 (*
	m©omic_comm™
)(
drm_deviû
 *
	mdev
,

261 
drm_©omic_¡©e
 *
	m¡©e
,

262 
boÞ
 
	mnÚblock
);

279 
	mdrm_©omic_¡©e
 *(*
	m©omic_¡©e_®loc
)(
drm_deviû
 *
	mdev
);

300 (*
	m©omic_¡©e_þ—r
)(
drm_©omic_¡©e
 *
	m¡©e
);

315 (*
	m©omic_¡©e_ä“
)(
drm_©omic_¡©e
 *
	m¡©e
);

340 
	sdrm_mode_cÚfig
 {

351 
mu‹x
 
	mmu‹x
;

361 
drm_mode£t_lock
 
	mcÚÃùiÚ_mu‹x
;

371 
drm_mode£t_acquœe_ùx
 *
	macquœe_ùx
;

379 
mu‹x
 
	midr_mu‹x
;

387 
idr
 
	mütc_idr
;

395 
idr
 
	mtže_idr
;

398 
mu‹x
 
	mfb_lock
;

400 
	mnum_fb
;

402 
li¡_h—d
 
	mfb_li¡
;

408 
¥šlock_t
 
	mcÚÃùÜ_li¡_lock
;

413 
	mnum_cÚÃùÜ
;

417 
ida
 
	mcÚÃùÜ_ida
;

425 
li¡_h—d
 
	mcÚÃùÜ_li¡
;

435 
Îi¡_h—d
 
	mcÚÃùÜ_ä“_li¡
;

439 
wÜk_¡ruù
 
	mcÚÃùÜ_ä“_wÜk
;

447 
	mnum_’cod”
;

455 
li¡_h—d
 
	m’cod”_li¡
;

464 
	mnum_tÙ®_¶ªe
;

471 
li¡_h—d
 
	m¶ªe_li¡
;

479 
	mnum_ütc
;

486 
li¡_h—d
 
	mütc_li¡
;

495 
li¡_h—d
 
	m´Ý”ty_li¡
;

497 
	mmš_width
, 
	mmš_height
;

498 
	mmax_width
, 
	mmax_height
;

499 cÚ¡ 
drm_mode_cÚfig_funcs
 *
	mfuncs
;

500 
»sourû_size_t
 
	mfb_ba£
;

503 
boÞ
 
	mpÞl_’abËd
;

504 
boÞ
 
	mpÞl_ruÂšg
;

505 
boÞ
 
	md–ayed_ev’t
;

506 
d–ayed_wÜk
 
	mouut_pÞl_wÜk
;

514 
mu‹x
 
	mblob_lock
;

522 
li¡_h—d
 
	m´Ý”ty_blob_li¡
;

530 
drm_´Ý”ty
 *
	medid_´Ý”ty
;

535 
drm_´Ý”ty
 *
	mdpms_´Ý”ty
;

540 
drm_´Ý”ty
 *
	m·th_´Ý”ty
;

546 
drm_´Ý”ty
 *
	mtže_´Ý”ty
;

551 
drm_´Ý”ty
 *
	mlšk_¡©us_´Ý”ty
;

556 
drm_´Ý”ty
 *
	m¶ªe_ty³_´Ý”ty
;

561 
drm_´Ý”ty
 *
	m´Ý_¤c_x
;

566 
drm_´Ý”ty
 *
	m´Ý_¤c_y
;

571 
drm_´Ý”ty
 *
	m´Ý_¤c_w
;

576 
drm_´Ý”ty
 *
	m´Ý_¤c_h
;

581 
drm_´Ý”ty
 *
	m´Ý_ütc_x
;

586 
drm_´Ý”ty
 *
	m´Ý_ütc_y
;

591 
drm_´Ý”ty
 *
	m´Ý_ütc_w
;

596 
drm_´Ý”ty
 *
	m´Ý_ütc_h
;

601 
drm_´Ý”ty
 *
	m´Ý_fb_id
;

606 
drm_´Ý”ty
 *
	m´Ý_š_ãnû_fd
;

612 
drm_´Ý”ty
 *
	m´Ý_out_ãnû_±r
;

617 
drm_´Ý”ty
 *
	m´Ý_ütc_id
;

623 
drm_´Ý”ty
 *
	m´Ý_aùive
;

629 
drm_´Ý”ty
 *
	m´Ý_mode_id
;

635 
drm_´Ý”ty
 *
	mdvi_i_subcÚÃùÜ_´Ý”ty
;

640 
drm_´Ý”ty
 *
	mdvi_i_£Ëù_subcÚÃùÜ_´Ý”ty
;

646 
drm_´Ý”ty
 *
	mtv_subcÚÃùÜ_´Ý”ty
;

651 
drm_´Ý”ty
 *
	mtv_£Ëù_subcÚÃùÜ_´Ý”ty
;

656 
drm_´Ý”ty
 *
	mtv_mode_´Ý”ty
;

661 
drm_´Ý”ty
 *
	mtv_Ëá_m¬gš_´Ý”ty
;

666 
drm_´Ý”ty
 *
	mtv_right_m¬gš_´Ý”ty
;

671 
drm_´Ý”ty
 *
	mtv_tÝ_m¬gš_´Ý”ty
;

676 
drm_´Ý”ty
 *
	mtv_bÙtom_m¬gš_´Ý”ty
;

681 
drm_´Ý”ty
 *
	mtv_brighŠess_´Ý”ty
;

686 
drm_´Ý”ty
 *
	mtv_cÚŒa¡_´Ý”ty
;

691 
drm_´Ý”ty
 *
	mtv_æick”_»duùiÚ_´Ý”ty
;

696 
drm_´Ý”ty
 *
	mtv_ov”sÿn_´Ý”ty
;

701 
drm_´Ý”ty
 *
	mtv_§tu¿tiÚ_´Ý”ty
;

705 
drm_´Ý”ty
 *
	mtv_hue_´Ý”ty
;

711 
drm_´Ý”ty
 *
	msÿlšg_mode_´Ý”ty
;

716 
drm_´Ý”ty
 *
	ma¥eù_¿tio_´Ý”ty
;

721 
drm_´Ý”ty
 *
	mdegamma_lut_´Ý”ty
;

726 
drm_´Ý”ty
 *
	mdegamma_lut_size_´Ý”ty
;

732 
drm_´Ý”ty
 *
	mùm_´Ý”ty
;

738 
drm_´Ý”ty
 *
	mgamma_lut_´Ý”ty
;

743 
drm_´Ý”ty
 *
	mgamma_lut_size_´Ý”ty
;

749 
drm_´Ý”ty
 *
	msugge¡ed_x_´Ý”ty
;

754 
drm_´Ý”ty
 *
	msugge¡ed_y_´Ý”ty
;

761 
drm_´Ý”ty
 *
	mnÚ_desktÝ_´Ý”ty
;

768 
drm_´Ý”ty
 *
	m·Ãl_Ü›Á©iÚ_´Ý”ty
;

771 
ušt32_t
 
	m´eã¼ed_d•th
, 
	m´eãr_shadow
;

777 
boÞ
 
	masync_·ge_æ
;

784 
boÞ
 
	m®low_fb_modif›rs
;

790 
drm_´Ý”ty
 *
	mmodif›rs_´Ý”ty
;

793 
ušt32_t
 
	mcursÜ_width
, 
	mcursÜ_height
;

802 
drm_©omic_¡©e
 *
	msu¥’d_¡©e
;

804 cÚ¡ 
drm_mode_cÚfig_h–³r_funcs
 *
	mh–³r_´iv©e
;

807 
drm_mode_cÚfig_š™
(
drm_deviû
 *
dev
);

808 
drm_mode_cÚfig_»£t
(
drm_deviû
 *
dev
);

809 
drm_mode_cÚfig_þ—nup
(
drm_deviû
 *
dev
);

	@src/common/linuxkpi/include/drm/drm_mode_object.h

23 #iâdeà
__DRM_MODESET_H__


24 
	#__DRM_MODESET_H__


	)

26 
	~<lšux/k»f.h
>

27 
	~<drm/drm_Ëa£.h
>

28 
	gdrm_objeù_´Ý”t›s
;

29 
	gdrm_´Ý”ty
;

30 
	gdrm_deviû
;

31 
	gdrm_fže
;

55 
	sdrm_mode_objeù
 {

56 
ušt32_t
 
	mid
;

57 
ušt32_t
 
	mty³
;

58 
drm_objeù_´Ý”t›s
 *
	m´Ý”t›s
;

59 
k»f
 
	m»fcouÁ
;

60 (*
	mä“_cb
)(
k»f
 *
	mk»f
);

63 
	#DRM_OBJECT_MAX_PROPERTY
 24

	)

67 
	sdrm_objeù_´Ý”t›s
 {

73 
	mcouÁ
;

82 
drm_´Ý”ty
 *
	m´Ý”t›s
[
DRM_OBJECT_MAX_PROPERTY
];

102 
ušt64_t
 
	mv®ues
[
DRM_OBJECT_MAX_PROPERTY
];

106 
	#DRM_ENUM_NAME_FN
(
âÇme
, 
li¡
) \

107 cÚ¡ *
	`âÇme
(
v®
) \

109 
i
; \

110 
i
 = 0; i < 
	`ARRAY_SIZE
(
li¡
); i++) { \

111 ià(
li¡
[
i
].
ty³
 =ð
v®
) \

112  
li¡
[
i
].
Çme
; \

115 }

	)

117 
drm_mode_objeù
 *
drm_mode_objeù_fšd
(
drm_deviû
 *
dev
,

118 
drm_fže
 *
fže_´iv
,

119 
ušt32_t
 
id
, ušt32_ˆ
ty³
);

120 
drm_mode_objeù_g‘
(
drm_mode_objeù
 *
obj
);

121 
drm_mode_objeù_put
(
drm_mode_objeù
 *
obj
);

130 
šlše
 
	$drm_mode_objeù_»ã»nû
(
drm_mode_objeù
 *
obj
)

132 
	`drm_mode_objeù_g‘
(
obj
);

133 
	}
}

142 
šlše
 
	$drm_mode_objeù_uÄeã»nû
(
drm_mode_objeù
 *
obj
)

144 
	`drm_mode_objeù_put
(
obj
);

145 
	}
}

147 
drm_objeù_´Ý”ty_£t_v®ue
(
drm_mode_objeù
 *
obj
,

148 
drm_´Ý”ty
 *
´Ý”ty
,

149 
ušt64_t
 
v®
);

150 
drm_objeù_´Ý”ty_g‘_v®ue
(
drm_mode_objeù
 *
obj
,

151 
drm_´Ý”ty
 *
´Ý”ty
,

152 
ušt64_t
 *
v®ue
);

154 
drm_objeù_©ch_´Ý”ty
(
drm_mode_objeù
 *
obj
,

155 
drm_´Ý”ty
 *
´Ý”ty
,

156 
ušt64_t
 
š™_v®
);

158 
boÞ
 
drm_mode_objeù_Ëa£_»quœed
(
ušt32_t
 
ty³
);

	@src/common/linuxkpi/include/drm/drm_modes.h

27 #iâdeà
__DRM_MODES_H__


28 
	#__DRM_MODES_H__


	)

30 
	~<lšux/hdmi.h
>

32 
	~<drm/drm_mode_objeù.h
>

33 
	~<drm/drm_cÚÃùÜ.h
>

35 
	gvideomode
;

91 
	edrm_mode_¡©us
 {

92 
	mMODE_OK
 = 0,

93 
	mMODE_HSYNC
,

94 
	mMODE_VSYNC
,

95 
	mMODE_H_ILLEGAL
,

96 
	mMODE_V_ILLEGAL
,

97 
	mMODE_BAD_WIDTH
,

98 
	mMODE_NOMODE
,

99 
	mMODE_NO_INTERLACE
,

100 
	mMODE_NO_DBLESCAN
,

101 
	mMODE_NO_VSCAN
,

102 
	mMODE_MEM
,

103 
	mMODE_VIRTUAL_X
,

104 
	mMODE_VIRTUAL_Y
,

105 
	mMODE_MEM_VIRT
,

106 
	mMODE_NOCLOCK
,

107 
	mMODE_CLOCK_HIGH
,

108 
	mMODE_CLOCK_LOW
,

109 
	mMODE_CLOCK_RANGE
,

110 
	mMODE_BAD_HVALUE
,

111 
	mMODE_BAD_VVALUE
,

112 
	mMODE_BAD_VSCAN
,

113 
	mMODE_HSYNC_NARROW
,

114 
	mMODE_HSYNC_WIDE
,

115 
	mMODE_HBLANK_NARROW
,

116 
	mMODE_HBLANK_WIDE
,

117 
	mMODE_VSYNC_NARROW
,

118 
	mMODE_VSYNC_WIDE
,

119 
	mMODE_VBLANK_NARROW
,

120 
	mMODE_VBLANK_WIDE
,

121 
	mMODE_PANEL
,

122 
	mMODE_INTERLACE_WIDTH
,

123 
	mMODE_ONE_WIDTH
,

124 
	mMODE_ONE_HEIGHT
,

125 
	mMODE_ONE_SIZE
,

126 
	mMODE_NO_REDUCED
,

127 
	mMODE_NO_STEREO
,

128 
	mMODE_NO_420
,

129 
	mMODE_STALE
 = -3,

130 
	mMODE_BAD
 = -2,

131 
	mMODE_ERROR
 = -1

134 
	#DRM_MODE_TYPE_CLOCK_CRTC_C
 (
DRM_MODE_TYPE_CLOCK_C
 | \

135 
DRM_MODE_TYPE_CRTC_C
)

	)

137 
	#DRM_MODE
(
nm
, 
t
, 
c
, 
hd
, 
hss
, 
h£
, 
ht
, 
hsk
, 
vd
, 
vss
, 
v£
, 
vt
, 
vs
, 
f
) \

138 .
Çme
 = 
nm
, .
¡©us
 = 0, .
ty³
 = (
t
), .
þock
 = (
c
), \

139 .
hdi¥Ïy
 = (
hd
), .
hsync_¡¬t
 = (
hss
), .
hsync_’d
 = (
h£
), \

140 .
htÙ®
 = (
ht
), .
hskew
 = (
hsk
), .
vdi¥Ïy
 = (
vd
), \

141 .
vsync_¡¬t
 = (
vss
), .
vsync_’d
 = (
v£
), .
vtÙ®
 = (
vt
), \

142 .
vsÿn
 = (
vs
), .
æags
 = (
f
), \

143 .
ba£
.
ty³
 = 
DRM_MODE_OBJECT_MODE


	)

145 
	#CRTC_INTERLACE_HALVE_V
 (1 << 0è

	)

146 
	#CRTC_STEREO_DOUBLE
 (1 << 1è

	)

147 
	#CRTC_NO_DBLSCAN
 (1 << 2è

	)

148 
	#CRTC_NO_VSCAN
 (1 << 3è

	)

149 
	#CRTC_STEREO_DOUBLE_ONLY
 (
CRTC_STEREO_DOUBLE
 | 
CRTC_NO_DBLSCAN
 | 
CRTC_NO_VSCAN
)

	)

151 
	#DRM_MODE_FLAG_3D_MAX
 
DRM_MODE_FLAG_3D_SIDE_BY_SIDE_HALF


	)

205 
	sdrm_di¥Ïy_mode
 {

211 
li¡_h—d
 
	mh—d
;

225 
drm_mode_objeù
 
	mba£
;

232 
	mÇme
[
DRM_DISPLAY_MODE_LEN
];

240 
drm_mode_¡©us
 
	m¡©us
;

269 
	mty³
;

276 
	mþock
;

277 
	mhdi¥Ïy
;

278 
	mhsync_¡¬t
;

279 
	mhsync_’d
;

280 
	mhtÙ®
;

281 
	mhskew
;

282 
	mvdi¥Ïy
;

283 
	mvsync_¡¬t
;

284 
	mvsync_’d
;

285 
	mvtÙ®
;

286 
	mvsÿn
;

321 
	mæags
;

329 
	mwidth_mm
;

337 
	mheight_mm
;

354 
	mütc_þock
;

355 
	mütc_hdi¥Ïy
;

356 
	mütc_hbÏnk_¡¬t
;

357 
	mütc_hbÏnk_’d
;

358 
	mütc_hsync_¡¬t
;

359 
	mütc_hsync_’d
;

360 
	mütc_htÙ®
;

361 
	mütc_hskew
;

362 
	mütc_vdi¥Ïy
;

363 
	mütc_vbÏnk_¡¬t
;

364 
	mütc_vbÏnk_’d
;

365 
	mütc_vsync_¡¬t
;

366 
	mütc_vsync_’d
;

367 
	mütc_vtÙ®
;

377 *
	m´iv©e
;

384 
	m´iv©e_æags
;

394 
	mv»äesh
;

404 
	mhsync
;

411 
hdmi_piùu»_a¥eù
 
	mpiùu»_a¥eù_¿tio
;

417 
	#DRM_MODE_FMT
 "%d:\"%s\" %d %d %d %d %d %d %d %d %d %d 0x%x 0x%x"

	)

423 
	#DRM_MODE_ARG
(
m
) \

424 (
m
)->
ba£
.
id
, (m)->
Çme
, (m)->
v»äesh
, (m)->
þock
, \

425 (
m
)->
hdi¥Ïy
, (m)->
hsync_¡¬t
, (m)->
hsync_’d
, (m)->
htÙ®
, \

426 (
m
)->
vdi¥Ïy
, (m)->
vsync_¡¬t
, (m)->
vsync_’d
, (m)->
vtÙ®
, \

427 (
m
)->
ty³
, (m)->
æags


	)

429 
	#obj_to_mode
(
x
è
	`cÚš”_of
(x, 
drm_di¥Ïy_mode
, 
ba£
)

	)

439 
šlše
 
boÞ
 
	$drm_mode_is_¡”eo
(cÚ¡ 
drm_di¥Ïy_mode
 *
mode
)

441  
mode
->
æags
 & 
DRM_MODE_FLAG_3D_MASK
;

442 
	}
}

444 
	gdrm_cÚÃùÜ
;

445 
	gdrm_cmdlše_mode
;

447 
drm_di¥Ïy_mode
 *
drm_mode_ü—‹
(
drm_deviû
 *
dev
);

448 
drm_mode_de¡roy
(
drm_deviû
 *
dev
, 
drm_di¥Ïy_mode
 *
mode
);

449 
drm_mode_cÚv”t_to_umode
(
drm_mode_modešfo
 *
out
,

450 cÚ¡ 
drm_di¥Ïy_mode
 *
š
);

451 
drm_mode_cÚv”t_umode
(
drm_di¥Ïy_mode
 *
out
,

452 cÚ¡ 
drm_mode_modešfo
 *
š
);

453 
drm_mode_´obed_add
(
drm_cÚÃùÜ
 *
cÚÃùÜ
, 
drm_di¥Ïy_mode
 *
mode
);

454 
drm_mode_debug_´štmod–še
(cÚ¡ 
drm_di¥Ïy_mode
 *
mode
);

455 
boÞ
 
drm_mode_is_420_Úly
(cÚ¡ 
drm_di¥Ïy_šfo
 *
di¥Ïy
,

456 cÚ¡ 
drm_di¥Ïy_mode
 *
mode
);

457 
boÞ
 
drm_mode_is_420_®so
(cÚ¡ 
drm_di¥Ïy_šfo
 *
di¥Ïy
,

458 cÚ¡ 
drm_di¥Ïy_mode
 *
mode
);

459 
boÞ
 
drm_mode_is_420
(cÚ¡ 
drm_di¥Ïy_šfo
 *
di¥Ïy
,

460 cÚ¡ 
drm_di¥Ïy_mode
 *
mode
);

462 
drm_di¥Ïy_mode
 *
drm_cvt_mode
(
drm_deviû
 *
dev
,

463 
hdi¥Ïy
, 
vdi¥Ïy
, 
v»äesh
,

464 
boÞ
 
»duûd
, boÞ 
š‹¾aûd
,

465 
boÞ
 
m¬gšs
);

466 
drm_di¥Ïy_mode
 *
drm_gtf_mode
(
drm_deviû
 *
dev
,

467 
hdi¥Ïy
, 
vdi¥Ïy
, 
v»äesh
,

468 
boÞ
 
š‹¾aûd
, 
m¬gšs
);

469 
drm_di¥Ïy_mode
 *
drm_gtf_mode_com¶ex
(
drm_deviû
 *
dev
,

470 
hdi¥Ïy
, 
vdi¥Ïy
,

471 
v»äesh
, 
boÞ
 
š‹¾aûd
,

472 
m¬gšs
,

473 
GTF_M
, 
GTF_2C
,

474 
GTF_K
, 
GTF_2J
);

475 
drm_di¥Ïy_mode_äom_videomode
(cÚ¡ 
videomode
 *
vm
,

476 
drm_di¥Ïy_mode
 *
dmode
);

477 
drm_di¥Ïy_mode_to_videomode
(cÚ¡ 
drm_di¥Ïy_mode
 *
dmode
,

478 
videomode
 *
vm
);

479 
drm_bus_æags_äom_videomode
(cÚ¡ 
videomode
 *
vm
, 
u32
 *
bus_æags
);

480 #ifdeà
__lšux__


481 
of_g‘_drm_di¥Ïy_mode
(
deviû_node
 *
Å
,

482 
drm_di¥Ïy_mode
 *
dmode
, 
u32
 *
bus_æags
,

483 
šdex
);

486 
drm_mode_£t_Çme
(
drm_di¥Ïy_mode
 *
mode
);

487 
drm_mode_hsync
(cÚ¡ 
drm_di¥Ïy_mode
 *
mode
);

488 
drm_mode_v»äesh
(cÚ¡ 
drm_di¥Ïy_mode
 *
mode
);

489 
drm_mode_g‘_hv_timšg
(cÚ¡ 
drm_di¥Ïy_mode
 *
mode
,

490 *
hdi¥Ïy
, *
vdi¥Ïy
);

492 
drm_mode_£t_ütcšfo
(
drm_di¥Ïy_mode
 *
p
,

493 
adju¡_æags
);

494 
drm_mode_cÝy
(
drm_di¥Ïy_mode
 *
d¡
,

495 cÚ¡ 
drm_di¥Ïy_mode
 *
¤c
);

496 
drm_di¥Ïy_mode
 *
drm_mode_du¶iÿ‹
(
drm_deviû
 *
dev
,

497 cÚ¡ 
drm_di¥Ïy_mode
 *
mode
);

498 
boÞ
 
drm_mode_equ®
(cÚ¡ 
drm_di¥Ïy_mode
 *
mode1
,

499 cÚ¡ 
drm_di¥Ïy_mode
 *
mode2
);

500 
boÞ
 
drm_mode_equ®_no_þocks
(cÚ¡ 
drm_di¥Ïy_mode
 *
mode1
,

501 cÚ¡ 
drm_di¥Ïy_mode
 *
mode2
);

502 
boÞ
 
drm_mode_equ®_no_þocks_no_¡”eo
(cÚ¡ 
drm_di¥Ïy_mode
 *
mode1
,

503 cÚ¡ 
drm_di¥Ïy_mode
 *
mode2
);

506 
drm_mode_¡©us
 
drm_mode_v®id©e_basic
(cÚ¡ 
drm_di¥Ïy_mode
 *
mode
);

507 
drm_mode_¡©us
 
drm_mode_v®id©e_size
(cÚ¡ 
drm_di¥Ïy_mode
 *
mode
,

508 
maxX
, 
maxY
);

509 
drm_mode_¡©us


510 
drm_mode_v®id©e_ycbü420
(cÚ¡ 
drm_di¥Ïy_mode
 *
mode
,

511 
drm_cÚÃùÜ
 *
cÚÃùÜ
);

512 
drm_mode_´uÃ_šv®id
(
drm_deviû
 *
dev
,

513 
li¡_h—d
 *
mode_li¡
, 
boÞ
 
v”bo£
);

514 
drm_mode_sÜt
(
li¡_h—d
 *
mode_li¡
);

515 
drm_mode_cÚÃùÜ_li¡_upd©e
(
drm_cÚÃùÜ
 *
cÚÃùÜ
);

518 
boÞ


519 
drm_mode_·r£_commªd_lše_fÜ_cÚÃùÜ
(cÚ¡ *
mode_ÝtiÚ
,

520 
drm_cÚÃùÜ
 *
cÚÃùÜ
,

521 
drm_cmdlše_mode
 *
mode
);

522 
drm_di¥Ïy_mode
 *

523 
drm_mode_ü—‹_äom_cmdlše_mode
(
drm_deviû
 *
dev
,

524 
drm_cmdlše_mode
 *
cmd
);

	@src/common/linuxkpi/include/drm/drm_modeset_helper.h

23 #iâdeà
__DRM_KMS_HELPER_H__


24 
	#__DRM_KMS_HELPER_H__


	)

26 
	~<drm/drmP.h
>

28 
drm_h–³r_move_·Ãl_cÚÃùÜs_to_h—d
(
drm_deviû
 *);

30 
drm_h–³r_mode_fžl_fb_¡ruù
(
drm_deviû
 *
dev
,

31 
drm_äamebufãr
 *
fb
,

32 cÚ¡ 
drm_mode_fb_cmd2
 *
mode_cmd
);

34 
drm_ütc_š™
(
drm_deviû
 *
dev
, 
drm_ütc
 *
ütc
,

35 cÚ¡ 
drm_ütc_funcs
 *
funcs
);

37 
drm_mode_cÚfig_h–³r_su¥’d
(
drm_deviû
 *
dev
);

38 
drm_mode_cÚfig_h–³r_»sume
(
drm_deviû
 *
dev
);

	@src/common/linuxkpi/include/drm/drm_modeset_helper_vtables.h

29 #iâdeà
__DRM_MODESET_HELPER_VTABLES_H__


30 
	#__DRM_MODESET_HELPER_VTABLES_H__


	)

32 
	~<drm/drm_ütc.h
>

33 
	~<drm/drm_’cod”.h
>

51 
	gmode_£t_©omic
;

59 
	sdrm_ütc_h–³r_funcs
 {

76 (*
	mdpms
)(
drm_ütc
 *
	mütc
, 
	mmode
);

91 (*
	m´•¬e
)(
drm_ütc
 *
	mütc
);

106 (*
	mcomm™
)(
drm_ütc
 *
	mütc
);

139 
drm_mode_¡©us
 (*
mode_v®id
)(
drm_ütc
 *
	mütc
,

140 cÚ¡ 
drm_di¥Ïy_mode
 *
	mmode
);

185 
boÞ
 (*
mode_fixup
)(
drm_ütc
 *
	mütc
,

186 cÚ¡ 
drm_di¥Ïy_mode
 *
	mmode
,

187 
drm_di¥Ïy_mode
 *
	madju¡ed_mode
);

204 (*
	mmode_£t
)(
drm_ütc
 *
	mütc
, 
drm_di¥Ïy_mode
 *
	mmode
,

205 
drm_di¥Ïy_mode
 *
	madju¡ed_mode
, 
	mx
, 
	my
,

206 
drm_äamebufãr
 *
	mÞd_fb
);

229 (*
	mmode_£t_nofb
)(
drm_ütc
 *
	mütc
);

248 (*
	mmode_£t_ba£
)(
drm_ütc
 *
	mütc
, 
	mx
, 
	my
,

249 
drm_äamebufãr
 *
	mÞd_fb
);

265 (*
	mmode_£t_ba£_©omic
)(
drm_ütc
 *
	mütc
,

266 
drm_äamebufãr
 *
	mfb
, 
	mx
, 
	my
,

267 
	mmode_£t_©omic
);

300 (*
	mdi§bË
)(
drm_ütc
 *
	mütc
);

353 (*
	m©omic_check
)(
drm_ütc
 *
	mütc
,

354 
drm_ütc_¡©e
 *
	m¡©e
);

374 (*
	m©omic_begš
)(
drm_ütc
 *
	mütc
,

375 
drm_ütc_¡©e
 *
	mÞd_ütc_¡©e
);

398 (*
	m©omic_æush
)(
drm_ütc
 *
	mütc
,

399 
drm_ütc_¡©e
 *
	mÞd_ütc_¡©e
);

422 (*
	m©omic_’abË
)(
drm_ütc
 *
	mütc
,

423 
drm_ütc_¡©e
 *
	mÞd_ütc_¡©e
);

445 (*
	m©omic_di§bË
)(
drm_ütc
 *
	mütc
,

446 
drm_ütc_¡©e
 *
	mÞd_ütc_¡©e
);

454 
šlše
 
	$drm_ütc_h–³r_add
(
drm_ütc
 *
ütc
,

455 cÚ¡ 
drm_ütc_h–³r_funcs
 *
funcs
)

457 
ütc
->
h–³r_´iv©e
 = 
funcs
;

458 
	}
}

466 
	sdrm_’cod”_h–³r_funcs
 {

483 (*
	mdpms
)(
drm_’cod”
 *
	m’cod”
, 
	mmode
);

516 
drm_mode_¡©us
 (*
mode_v®id
)(
drm_’cod”
 *
	mütc
,

517 cÚ¡ 
drm_di¥Ïy_mode
 *
	mmode
);

559 
boÞ
 (*
mode_fixup
)(
drm_’cod”
 *
	m’cod”
,

560 cÚ¡ 
drm_di¥Ïy_mode
 *
	mmode
,

561 
drm_di¥Ïy_mode
 *
	madju¡ed_mode
);

576 (*
	m´•¬e
)(
drm_’cod”
 *
	m’cod”
);

591 (*
	mcomm™
)(
drm_’cod”
 *
	m’cod”
);

615 (*
	mmode_£t
)(
drm_’cod”
 *
	m’cod”
,

616 
drm_di¥Ïy_mode
 *
	mmode
,

617 
drm_di¥Ïy_mode
 *
	madju¡ed_mode
);

638 (*
	m©omic_mode_£t
)(
drm_’cod”
 *
	m’cod”
,

639 
drm_ütc_¡©e
 *
	mütc_¡©e
,

640 
drm_cÚÃùÜ_¡©e
 *
	mcÚn_¡©e
);

656 
	mdrm_ütc
 *(*
	mg‘_ütc
)(
drm_’cod”
 *
	m’cod”
);

673 
drm_cÚÃùÜ_¡©us
 (*
d‘eù
)(
drm_’cod”
 *
	m’cod”
,

674 
drm_cÚÃùÜ
 *
	mcÚÃùÜ
);

704 (*
	mdi§bË
)(
drm_’cod”
 *
	m’cod”
);

722 (*
	m’abË
)(
drm_’cod”
 *
	m’cod”
);

760 (*
	m©omic_check
)(
drm_’cod”
 *
	m’cod”
,

761 
drm_ütc_¡©e
 *
	mütc_¡©e
,

762 
drm_cÚÃùÜ_¡©e
 *
	mcÚn_¡©e
);

770 
šlše
 
	$drm_’cod”_h–³r_add
(
drm_’cod”
 *
’cod”
,

771 cÚ¡ 
drm_’cod”_h–³r_funcs
 *
funcs
)

773 
’cod”
->
h–³r_´iv©e
 = 
funcs
;

774 
	}
}

782 
	sdrm_cÚÃùÜ_h–³r_funcs
 {

819 (*
	mg‘_modes
)(
drm_cÚÃùÜ
 *
	mcÚÃùÜ
);

845 (*
	md‘eù_ùx
)(
drm_cÚÃùÜ
 *
	mcÚÃùÜ
,

846 
drm_mode£t_acquœe_ùx
 *
	mùx
,

847 
boÞ
 
	mfÜû
);

883 
drm_mode_¡©us
 (*
mode_v®id
)(
drm_cÚÃùÜ
 *
	mcÚÃùÜ
,

884 
drm_di¥Ïy_mode
 *
	mmode
);

914 
	mdrm_’cod”
 *(*
	mbe¡_’cod”
)(
drm_cÚÃùÜ
 *
	mcÚÃùÜ
);

941 
	mdrm_’cod”
 *(*
	m©omic_be¡_’cod”
)(
drm_cÚÃùÜ
 *
	mcÚÃùÜ
,

942 
drm_cÚÃùÜ_¡©e
 *
	mcÚÃùÜ_¡©e
);

975 (*
	m©omic_check
)(
drm_cÚÃùÜ
 *
	mcÚÃùÜ
,

976 
drm_cÚÃùÜ_¡©e
 *
	m¡©e
);

984 
šlše
 
	$drm_cÚÃùÜ_h–³r_add
(
drm_cÚÃùÜ
 *
cÚÃùÜ
,

985 cÚ¡ 
drm_cÚÃùÜ_h–³r_funcs
 *
funcs
)

987 
cÚÃùÜ
->
h–³r_´iv©e
 = 
funcs
;

988 
	}
}

996 
	sdrm_¶ªe_h–³r_funcs
 {

1025 (*
	m´•¬e_fb
)(
drm_¶ªe
 *
	m¶ªe
,

1026 
drm_¶ªe_¡©e
 *
	mÃw_¡©e
);

1036 (*
	mþ—nup_fb
)(
drm_¶ªe
 *
	m¶ªe
,

1037 
drm_¶ªe_¡©e
 *
	mÞd_¡©e
);

1075 (*
	m©omic_check
)(
drm_¶ªe
 *
	m¶ªe
,

1076 
drm_¶ªe_¡©e
 *
	m¡©e
);

1093 (*
	m©omic_upd©e
)(
drm_¶ªe
 *
	m¶ªe
,

1094 
drm_¶ªe_¡©e
 *
	mÞd_¡©e
);

1117 (*
	m©omic_di§bË
)(
drm_¶ªe
 *
	m¶ªe
,

1118 
drm_¶ªe_¡©e
 *
	mÞd_¡©e
);

1136 (*
	m©omic_async_check
)(
drm_¶ªe
 *
	m¶ªe
,

1137 
drm_¶ªe_¡©e
 *
	m¡©e
);

1167 (*
	m©omic_async_upd©e
)(
drm_¶ªe
 *
	m¶ªe
,

1168 
drm_¶ªe_¡©e
 *
	mÃw_¡©e
);

1176 
šlše
 
	$drm_¶ªe_h–³r_add
(
drm_¶ªe
 *
¶ªe
,

1177 cÚ¡ 
drm_¶ªe_h–³r_funcs
 *
funcs
)

1179 
¶ªe
->
h–³r_´iv©e
 = 
funcs
;

1180 
	}
}

1187 
	sdrm_mode_cÚfig_h–³r_funcs
 {

1223 (*
	m©omic_comm™_ž
)(
drm_©omic_¡©e
 *
	m¡©e
);

	@src/common/linuxkpi/include/drm/drm_modeset_lock.h

24 #iâdeà
DRM_MODESET_LOCK_H_


25 
	#DRM_MODESET_LOCK_H_


	)

27 
	~<lšux/ww_mu‹x.h
>

29 
	gdrm_mode£t_lock
;

43 
	sdrm_mode£t_acquœe_ùx
 {

45 
ww_acquœe_ùx
 
	mww_ùx
;

52 
drm_mode£t_lock
 *
	mcÚ‹nded
;

57 
li¡_h—d
 
	mlocked
;

62 
boÞ
 
	mŒylock_Úly
;

65 
boÞ
 
	mš‹¼u±ibË
;

76 
	sdrm_mode£t_lock
 {

80 
ww_mu‹x
 
	mmu‹x
;

86 
li¡_h—d
 
	mh—d
;

89 
	#DRM_MODESET_ACQUIRE_INTERRUPTIBLE
 
	`BIT
(0)

	)

91 
drm_mode£t_acquœe_š™
(
drm_mode£t_acquœe_ùx
 *
ùx
,

92 
ušt32_t
 
æags
);

93 
drm_mode£t_acquœe_fši
(
drm_mode£t_acquœe_ùx
 *
ùx
);

94 
drm_mode£t_drÝ_locks
(
drm_mode£t_acquœe_ùx
 *
ùx
);

95 
drm_mode£t_backoff
(
drm_mode£t_acquœe_ùx
 *
ùx
);

97 
drm_mode£t_lock_š™
(
drm_mode£t_lock
 *
lock
);

103 
šlše
 
	$drm_mode£t_lock_fši
(
drm_mode£t_lock
 *
lock
)

105 
	`WARN_ON
(!
	`li¡_em±y
(&
lock
->
h—d
));

106 
	}
}

112 
šlše
 
boÞ
 
	$drm_mode£t_is_locked
(
drm_mode£t_lock
 *
lock
)

114  
	`ww_mu‹x_is_locked
(&
lock
->
mu‹x
);

115 
	}
}

117 
drm_mode£t_lock
(drm_mode£t_lock *
lock
,

118 
drm_mode£t_acquœe_ùx
 *
ùx
);

119 
__mu¡_check
 
drm_mode£t_lock_sšgË_š‹¼u±ibË
(
drm_mode£t_lock
 *
lock
);

120 
drm_mode£t_uÆock
(
drm_mode£t_lock
 *
lock
);

122 
	gdrm_deviû
;

123 
	gdrm_ütc
;

124 
	gdrm_¶ªe
;

126 
drm_mode£t_lock_®l
(
drm_deviû
 *
dev
);

127 
drm_mode£t_uÆock_®l
(
drm_deviû
 *
dev
);

128 
drm_w¬n_Ú_mode£t_nÙ_®l_locked
(
drm_deviû
 *
dev
);

130 
drm_mode£t_lock_®l_ùx
(
drm_deviû
 *
dev
,

131 
drm_mode£t_acquœe_ùx
 *
ùx
);

	@src/common/linuxkpi/include/drm/drm_of.h

2 #iâdeà
__DRM_OF_H__


3 
	#__DRM_OF_H__


	)

5 
	~<lšux/of_g¿ph.h
>

6 #ià
IS_ENABLED
(
CONFIG_OF
è&& IS_ENABLED(
CONFIG_DRM_PANEL_BRIDGE
)

7 
	~<drm/drm_bridge.h
>

10 
	gcompÚ’t_ma¡”_Ýs
;

11 
	gcompÚ’t_m©ch
;

12 
	gdeviû
;

13 
	gdrm_deviû
;

14 
	gdrm_’cod”
;

15 
	gdrm_·Ãl
;

16 
	gdrm_bridge
;

17 
	gdeviû_node
;

19 #ifdeà
CONFIG_OF


20 
ušt32_t
 
drm_of_fšd_possibË_ütcs
(
drm_deviû
 *
dev
,

21 
deviû_node
 *
pÜt
);

22 
drm_of_compÚ’t_m©ch_add
(
deviû
 *
ma¡”
,

23 
compÚ’t_m©ch
 **
m©ch±r
,

24 (*
com·»
)(
deviû
 *, *),

25 
deviû_node
 *
node
);

26 
	`drm_of_compÚ’t_´obe
(
deviû
 *
dev
,

27 (*
com·»_of
)(
deviû
 *, *),

28 cÚ¡ 
compÚ’t_ma¡”_Ýs
 *
m_Ýs
);

29 
	`drm_of_’cod”_aùive_’dpošt
(
deviû_node
 *
node
,

30 
drm_’cod”
 *
’cod”
,

31 
of_’dpošt
 *
’dpošt
);

32 
	`drm_of_fšd_·Ãl_Ü_bridge
(cÚ¡ 
deviû_node
 *
Å
,

33 
pÜt
, 
’dpošt
,

34 
drm_·Ãl
 **
·Ãl
,

35 
drm_bridge
 **
bridge
);

37 
šlše
 
ušt32_t
 
	$drm_of_fšd_possibË_ütcs
(
drm_deviû
 *
dev
,

38 
deviû_node
 *
pÜt
)

41 
	}
}

43 
šlše
 

44 
drm_of_compÚ’t_m©ch_add
(
deviû
 *
ma¡”
,

45 
compÚ’t_m©ch
 **
m©ch±r
,

46 (*
com·»
)(
deviû
 *, *),

47 
deviû_node
 *
node
)

49 
	}
}

51 
šlše
 

52 
drm_of_compÚ’t_´obe
(
deviû
 *
dev
,

53 (*
com·»_of
)(
deviû
 *, *),

54 cÚ¡ 
compÚ’t_ma¡”_Ýs
 *
m_Ýs
)

56  -
EINVAL
;

57 
	}
}

59 
šlše
 
	$drm_of_’cod”_aùive_’dpošt
(
deviû_node
 *
node
,

60 
drm_’cod”
 *
’cod”
,

61 
of_’dpošt
 *
’dpošt
)

63  -
EINVAL
;

64 
	}
}

65 
šlše
 
	$drm_of_fšd_·Ãl_Ü_bridge
(cÚ¡ 
deviû_node
 *
Å
,

66 
pÜt
, 
’dpošt
,

67 
drm_·Ãl
 **
·Ãl
,

68 
drm_bridge
 **
bridge
)

70  -
EINVAL
;

71 
	}
}

82 
šlše
 
	$drm_of_·Ãl_bridge_»move
(cÚ¡ 
deviû_node
 *
Å
,

83 
pÜt
, 
’dpošt
)

85 #ià
	`IS_ENABLED
(
CONFIG_OF
è&& IS_ENABLED(
CONFIG_DRM_PANEL_BRIDGE
)

86 
drm_bridge
 *
bridge
;

87 
deviû_node
 *
»mÙe
;

89 
»mÙe
 = 
	`of_g¿ph_g‘_»mÙe_node
(
Å
, 
pÜt
, 
’dpošt
);

90 ià(!
»mÙe
)

91  -
ENODEV
;

93 
bridge
 = 
	`of_drm_fšd_bridge
(
»mÙe
);

94 
	`drm_·Ãl_bridge_»move
(
bridge
);

98  -
EINVAL
;

100 
	}
}

102 
šlše
 
	$drm_of_’cod”_aùive_’dpošt_id
(
deviû_node
 *
node
,

103 
drm_’cod”
 *
’cod”
)

105 
of_’dpošt
 
’dpošt
;

106 
»t
 = 
	`drm_of_’cod”_aùive_’dpošt
(
node
, 
’cod”
,

107 &
’dpošt
);

109  
»t
 ?: 
’dpošt
.
id
;

110 
	}
}

112 
šlše
 
	$drm_of_’cod”_aùive_pÜt_id
(
deviû_node
 *
node
,

113 
drm_’cod”
 *
’cod”
)

115 
of_’dpošt
 
’dpošt
;

116 
»t
 = 
	`drm_of_’cod”_aùive_’dpošt
(
node
, 
’cod”
,

117 &
’dpošt
);

119  
»t
 ?: 
’dpošt
.
pÜt
;

120 
	}
}

	@src/common/linuxkpi/include/drm/drm_panel.h

24 #iâdeà
__DRM_PANEL_H__


25 
	#__DRM_PANEL_H__


	)

27 
	~<lšux/”ºo.h
>

28 
	~<lšux/li¡.h
>

30 
	gdeviû_node
;

31 
	gdrm_cÚÃùÜ
;

32 
	gdrm_deviû
;

33 
	gdrm_·Ãl
;

34 
	gdi¥Ïy_timšg
;

70 
	sdrm_·Ãl_funcs
 {

71 (*
	mdi§bË
)(
drm_·Ãl
 *
	m·Ãl
);

72 (*
	muÅ»·»
)(
drm_·Ãl
 *
	m·Ãl
);

73 (*
	m´•¬e
)(
drm_·Ãl
 *
	m·Ãl
);

74 (*
	m’abË
)(
drm_·Ãl
 *
	m·Ãl
);

75 (*
	mg‘_modes
)(
drm_·Ãl
 *
	m·Ãl
);

76 (*
	mg‘_timšgs
)(
drm_·Ãl
 *
	m·Ãl
, 
	mnum_timšgs
,

77 
di¥Ïy_timšg
 *
	mtimšgs
);

88 
	sdrm_·Ãl
 {

89 
drm_deviû
 *
	mdrm
;

90 
drm_cÚÃùÜ
 *
	mcÚÃùÜ
;

91 
deviû
 *
	mdev
;

93 cÚ¡ 
drm_·Ãl_funcs
 *
	mfuncs
;

95 
li¡_h—d
 
	mli¡
;

109 
šlše
 
	$drm_·Ãl_uÅ»·»
(
drm_·Ãl
 *
·Ãl
)

111 ià(
·Ãl
 &&…ª–->
funcs
 &&…ª–->funcs->
uÅ»·»
)

112  
·Ãl
->
funcs
->
	`uÅ»·»
(panel);

114  
·Ãl
 ? -
ENOSYS
 : -
EINVAL
;

115 
	}
}

127 
šlše
 
	$drm_·Ãl_di§bË
(
drm_·Ãl
 *
·Ãl
)

129 ià(
·Ãl
 &&…ª–->
funcs
 &&…ª–->funcs->
di§bË
)

130  
·Ãl
->
funcs
->
	`di§bË
(panel);

132  
·Ãl
 ? -
ENOSYS
 : -
EINVAL
;

133 
	}
}

145 
šlše
 
	$drm_·Ãl_´•¬e
(
drm_·Ãl
 *
·Ãl
)

147 ià(
·Ãl
 &&…ª–->
funcs
 &&…ª–->funcs->
´•¬e
)

148  
·Ãl
->
funcs
->
	`´•¬e
(panel);

150  
·Ãl
 ? -
ENOSYS
 : -
EINVAL
;

151 
	}
}

163 
šlše
 
	$drm_·Ãl_’abË
(
drm_·Ãl
 *
·Ãl
)

165 ià(
·Ãl
 &&…ª–->
funcs
 &&…ª–->funcs->
’abË
)

166  
·Ãl
->
funcs
->
	`’abË
(panel);

168  
·Ãl
 ? -
ENOSYS
 : -
EINVAL
;

169 
	}
}

181 
šlše
 
	$drm_·Ãl_g‘_modes
(
drm_·Ãl
 *
·Ãl
)

183 ià(
·Ãl
 &&…ª–->
funcs
 &&…ª–->funcs->
g‘_modes
)

184  
·Ãl
->
funcs
->
	`g‘_modes
(panel);

186  
·Ãl
 ? -
ENOSYS
 : -
EINVAL
;

187 
	}
}

189 
drm_·Ãl_š™
(
drm_·Ãl
 *
·Ãl
);

191 
drm_·Ãl_add
(
drm_·Ãl
 *
·Ãl
);

192 
drm_·Ãl_»move
(
drm_·Ãl
 *
·Ãl
);

194 
drm_·Ãl_©ch
(
drm_·Ãl
 *
·Ãl
, 
drm_cÚÃùÜ
 *
cÚÃùÜ
);

195 
drm_·Ãl_d‘ach
(
drm_·Ãl
 *
·Ãl
);

197 #ià
defšed
(
CONFIG_OF
è&& defšed(
CONFIG_DRM_PANEL
)

198 
drm_·Ãl
 *
of_drm_fšd_·Ãl
(cÚ¡ 
deviû_node
 *
Å
);

200 
šlše
 
drm_·Ãl
 *
	$of_drm_fšd_·Ãl
(cÚ¡ 
deviû_node
 *
Å
)

202  
NULL
;

203 
	}
}

	@src/common/linuxkpi/include/drm/drm_pci.h

32 #iâdeà
_DRM_PCI_H_


33 
	#_DRM_PCI_H_


	)

35 
	~<lšux/pci.h
>

37 #iâdeà
__lšux__


38 
	~<lšux/¶©fÜm_deviû.h
>

41 
	gdrm_dma_hªdË
;

42 
	gdrm_deviû
;

43 
	gdrm_driv”
;

44 
	gdrm_ma¡”
;

46 
drm_dma_hªdË
 *
drm_pci_®loc
(
drm_deviû
 *
dev
, 
size_t
 
size
,

47 
size_t
 
®ign
);

48 
drm_pci_ä“
(
drm_deviû
 *
dev
, 
drm_dma_hªdË
 * 
dmah
);

50 
drm_Ëgacy_pci_š™
(
drm_driv”
 *
driv”
, 
pci_driv”
 *
pdriv”
);

51 
drm_Ëgacy_pci_ex™
(
drm_driv”
 *
driv”
, 
pci_driv”
 *
pdriv”
);

52 #ifdeà
CONFIG_PCI


53 
drm_g‘_pci_dev
(
pci_dev
 *
pdev
,

54 cÚ¡ 
pci_deviû_id
 *
’t
,

55 
drm_driv”
 *
driv”
);

57 
šlše
 
	$drm_g‘_pci_dev
(
pci_dev
 *
pdev
,

58 cÚ¡ 
pci_deviû_id
 *
’t
,

59 
drm_driv”
 *
driv”
)

61  -
ENOSYS
;

62 
	}
}

65 
	#DRM_PCIE_SPEED_25
 1

	)

66 
	#DRM_PCIE_SPEED_50
 2

	)

67 
	#DRM_PCIE_SPEED_80
 4

	)

69 
drm_pc›_g‘_¥“d_ÿp_mask
(
drm_deviû
 *
dev
, 
u32
 *
¥“d_mask
);

70 
drm_pc›_g‘_max_lšk_width
(
drm_deviû
 *
dev
, 
u32
 *
mlw
);

73 
drm_¶©fÜm_š™
(
drm_driv”
 *
driv”
, 
¶©fÜm_deviû
 *platform_device);

	@src/common/linuxkpi/include/drm/drm_pciids.h

2 
	#¿deÚ_PCI_IDS
 \

3 {0x1002, 0x1304, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_KAVERI
|
RADEON_IS_MOBILITY
|
RADEON_NEW_MEMMAP
|
RADEON_IS_IGP
}, \

4 {0x1002, 0x1305, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_KAVERI
|
RADEON_NEW_MEMMAP
|
RADEON_IS_IGP
}, \

5 {0x1002, 0x1306, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_KAVERI
|
RADEON_IS_MOBILITY
|
RADEON_NEW_MEMMAP
|
RADEON_IS_IGP
}, \

6 {0x1002, 0x1307, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_KAVERI
|
RADEON_NEW_MEMMAP
|
RADEON_IS_IGP
}, \

7 {0x1002, 0x1309, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_KAVERI
|
RADEON_IS_MOBILITY
|
RADEON_NEW_MEMMAP
|
RADEON_IS_IGP
}, \

8 {0x1002, 0x130A, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_KAVERI
|
RADEON_IS_MOBILITY
|
RADEON_NEW_MEMMAP
|
RADEON_IS_IGP
}, \

9 {0x1002, 0x130B, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_KAVERI
|
RADEON_IS_MOBILITY
|
RADEON_NEW_MEMMAP
|
RADEON_IS_IGP
}, \

10 {0x1002, 0x130C, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_KAVERI
|
RADEON_IS_MOBILITY
|
RADEON_NEW_MEMMAP
|
RADEON_IS_IGP
}, \

11 {0x1002, 0x130D, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_KAVERI
|
RADEON_IS_MOBILITY
|
RADEON_NEW_MEMMAP
|
RADEON_IS_IGP
}, \

12 {0x1002, 0x130E, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_KAVERI
|
RADEON_IS_MOBILITY
|
RADEON_NEW_MEMMAP
|
RADEON_IS_IGP
}, \

13 {0x1002, 0x130F, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_KAVERI
|
RADEON_NEW_MEMMAP
|
RADEON_IS_IGP
}, \

14 {0x1002, 0x1310, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_KAVERI
|
RADEON_NEW_MEMMAP
|
RADEON_IS_IGP
}, \

15 {0x1002, 0x1311, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_KAVERI
|
RADEON_NEW_MEMMAP
|
RADEON_IS_IGP
}, \

16 {0x1002, 0x1312, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_KAVERI
|
RADEON_NEW_MEMMAP
|
RADEON_IS_IGP
}, \

17 {0x1002, 0x1313, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_KAVERI
|
RADEON_NEW_MEMMAP
|
RADEON_IS_IGP
}, \

18 {0x1002, 0x1315, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_KAVERI
|
RADEON_NEW_MEMMAP
|
RADEON_IS_IGP
}, \

19 {0x1002, 0x1316, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_KAVERI
|
RADEON_NEW_MEMMAP
|
RADEON_IS_IGP
}, \

20 {0x1002, 0x1317, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_KAVERI
|
RADEON_IS_MOBILITY
|
RADEON_NEW_MEMMAP
|
RADEON_IS_IGP
}, \

21 {0x1002, 0x1318, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_KAVERI
|
RADEON_IS_MOBILITY
|
RADEON_NEW_MEMMAP
|
RADEON_IS_IGP
}, \

22 {0x1002, 0x131B, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_KAVERI
|
RADEON_NEW_MEMMAP
|
RADEON_IS_IGP
}, \

23 {0x1002, 0x131C, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_KAVERI
|
RADEON_NEW_MEMMAP
|
RADEON_IS_IGP
}, \

24 {0x1002, 0x131D, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_KAVERI
|
RADEON_NEW_MEMMAP
|
RADEON_IS_IGP
}, \

25 {0x1002, 0x3150, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_RV380
|
RADEON_IS_MOBILITY
}, \

26 {0x1002, 0x3151, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_RV380
|
RADEON_IS_MOBILITY
|
RADEON_NEW_MEMMAP
}, \

27 {0x1002, 0x3152, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_RV380
|
RADEON_IS_MOBILITY
|
RADEON_NEW_MEMMAP
}, \

28 {0x1002, 0x3154, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_RV380
|
RADEON_IS_MOBILITY
|
RADEON_NEW_MEMMAP
}, \

29 {0x1002, 0x3155, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_RV380
|
RADEON_IS_MOBILITY
|
RADEON_NEW_MEMMAP
}, \

30 {0x1002, 0x3E50, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_RV380
|
RADEON_NEW_MEMMAP
}, \

31 {0x1002, 0x3E54, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_RV380
|
RADEON_NEW_MEMMAP
}, \

32 {0x1002, 0x4136, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_RS100
|
RADEON_IS_IGP
}, \

33 {0x1002, 0x4137, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_RS200
|
RADEON_IS_IGP
}, \

34 {0x1002, 0x4144, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_R300
}, \

35 {0x1002, 0x4145, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_R300
}, \

36 {0x1002, 0x4146, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_R300
}, \

37 {0x1002, 0x4147, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_R300
}, \

38 {0x1002, 0x4148, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_R350
}, \

39 {0x1002, 0x4149, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_R350
}, \

40 {0x1002, 0x414A, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_R350
}, \

41 {0x1002, 0x414B, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_R350
}, \

42 {0x1002, 0x4150, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_RV350
}, \

43 {0x1002, 0x4151, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_RV350
}, \

44 {0x1002, 0x4152, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_RV350
}, \

45 {0x1002, 0x4153, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_RV350
}, \

46 {0x1002, 0x4154, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_RV350
}, \

47 {0x1002, 0x4155, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_RV350
}, \

48 {0x1002, 0x4156, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_RV350
}, \

49 {0x1002, 0x4237, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_RS200
|
RADEON_IS_IGP
}, \

50 {0x1002, 0x4242, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_R200
}, \

51 {0x1002, 0x4336, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_RS100
|
RADEON_IS_IGP
|
RADEON_IS_MOBILITY
}, \

52 {0x1002, 0x4337, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_RS200
|
RADEON_IS_IGP
|
RADEON_IS_MOBILITY
}, \

53 {0x1002, 0x4437, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_RS200
|
RADEON_IS_IGP
|
RADEON_IS_MOBILITY
}, \

54 {0x1002, 0x4966, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_RV250
}, \

55 {0x1002, 0x4967, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_RV250
}, \

56 {0x1002, 0x4A48, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_R420
|
RADEON_NEW_MEMMAP
}, \

57 {0x1002, 0x4A49, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_R420
|
RADEON_NEW_MEMMAP
}, \

58 {0x1002, 0x4A4A, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_R420
|
RADEON_NEW_MEMMAP
}, \

59 {0x1002, 0x4A4B, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_R420
|
RADEON_NEW_MEMMAP
}, \

60 {0x1002, 0x4A4C, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_R420
|
RADEON_NEW_MEMMAP
}, \

61 {0x1002, 0x4A4D, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_R420
|
RADEON_NEW_MEMMAP
}, \

62 {0x1002, 0x4A4E, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_R420
|
RADEON_IS_MOBILITY
|
RADEON_NEW_MEMMAP
}, \

63 {0x1002, 0x4A4F, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_R420
|
RADEON_NEW_MEMMAP
}, \

64 {0x1002, 0x4A50, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_R420
|
RADEON_NEW_MEMMAP
}, \

65 {0x1002, 0x4A54, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_R420
|
RADEON_NEW_MEMMAP
}, \

66 {0x1002, 0x4B48, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_R420
|
RADEON_NEW_MEMMAP
}, \

67 {0x1002, 0x4B49, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_R420
|
RADEON_NEW_MEMMAP
}, \

68 {0x1002, 0x4B4A, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_R420
|
RADEON_NEW_MEMMAP
}, \

69 {0x1002, 0x4B4B, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_R420
|
RADEON_NEW_MEMMAP
}, \

70 {0x1002, 0x4B4C, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_R420
|
RADEON_NEW_MEMMAP
}, \

71 {0x1002, 0x4C57, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_RV200
|
RADEON_IS_MOBILITY
}, \

72 {0x1002, 0x4C58, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_RV200
|
RADEON_IS_MOBILITY
}, \

73 {0x1002, 0x4C59, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_RV100
|
RADEON_IS_MOBILITY
}, \

74 {0x1002, 0x4C5A, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_RV100
|
RADEON_IS_MOBILITY
}, \

75 {0x1002, 0x4C64, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_RV250
|
RADEON_IS_MOBILITY
}, \

76 {0x1002, 0x4C66, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_RV250
|
RADEON_IS_MOBILITY
}, \

77 {0x1002, 0x4C67, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_RV250
|
RADEON_IS_MOBILITY
}, \

78 {0x1002, 0x4E44, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_R300
}, \

79 {0x1002, 0x4E45, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_R300
}, \

80 {0x1002, 0x4E46, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_R300
}, \

81 {0x1002, 0x4E47, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_R300
}, \

82 {0x1002, 0x4E48, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_R350
}, \

83 {0x1002, 0x4E49, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_R350
}, \

84 {0x1002, 0x4E4A, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_R350
}, \

85 {0x1002, 0x4E4B, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_R350
}, \

86 {0x1002, 0x4E50, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_RV350
|
RADEON_IS_MOBILITY
}, \

87 {0x1002, 0x4E51, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_RV350
|
RADEON_IS_MOBILITY
}, \

88 {0x1002, 0x4E52, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_RV350
|
RADEON_IS_MOBILITY
}, \

89 {0x1002, 0x4E53, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_RV350
|
RADEON_IS_MOBILITY
}, \

90 {0x1002, 0x4E54, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_RV350
|
RADEON_IS_MOBILITY
}, \

91 {0x1002, 0x4E56, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_RV350
|
RADEON_IS_MOBILITY
}, \

92 {0x1002, 0x5144, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_R100
|
RADEON_SINGLE_CRTC
}, \

93 {0x1002, 0x5145, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_R100
|
RADEON_SINGLE_CRTC
}, \

94 {0x1002, 0x5146, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_R100
|
RADEON_SINGLE_CRTC
}, \

95 {0x1002, 0x5147, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_R100
|
RADEON_SINGLE_CRTC
}, \

96 {0x1002, 0x5148, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_R200
}, \

97 {0x1002, 0x514C, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_R200
}, \

98 {0x1002, 0x514D, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_R200
}, \

99 {0x1002, 0x5157, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_RV200
}, \

100 {0x1002, 0x5158, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_RV200
}, \

101 {0x1002, 0x5159, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_RV100
}, \

102 {0x1002, 0x515A, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_RV100
}, \

103 {0x1002, 0x515E, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_RV100
|
RADEON_SINGLE_CRTC
}, \

104 {0x1002, 0x5460, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_RV380
|
RADEON_IS_MOBILITY
}, \

105 {0x1002, 0x5462, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_RV380
|
RADEON_IS_MOBILITY
}, \

106 {0x1002, 0x5464, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_RV380
|
RADEON_IS_MOBILITY
}, \

107 {0x1002, 0x5548, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_R423
|
RADEON_NEW_MEMMAP
}, \

108 {0x1002, 0x5549, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_R423
|
RADEON_NEW_MEMMAP
}, \

109 {0x1002, 0x554A, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_R423
|
RADEON_NEW_MEMMAP
}, \

110 {0x1002, 0x554B, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_R423
|
RADEON_NEW_MEMMAP
}, \

111 {0x1002, 0x554C, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_R423
|
RADEON_NEW_MEMMAP
}, \

112 {0x1002, 0x554D, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_R423
|
RADEON_NEW_MEMMAP
}, \

113 {0x1002, 0x554E, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_R423
|
RADEON_NEW_MEMMAP
}, \

114 {0x1002, 0x554F, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_R423
|
RADEON_NEW_MEMMAP
}, \

115 {0x1002, 0x5550, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_R423
|
RADEON_NEW_MEMMAP
}, \

116 {0x1002, 0x5551, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_R423
|
RADEON_NEW_MEMMAP
}, \

117 {0x1002, 0x5552, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_R423
|
RADEON_NEW_MEMMAP
}, \

118 {0x1002, 0x5554, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_R423
|
RADEON_NEW_MEMMAP
}, \

119 {0x1002, 0x564A, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_RV410
|
RADEON_IS_MOBILITY
|
RADEON_NEW_MEMMAP
}, \

120 {0x1002, 0x564B, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_RV410
|
RADEON_IS_MOBILITY
|
RADEON_NEW_MEMMAP
}, \

121 {0x1002, 0x564F, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_RV410
|
RADEON_IS_MOBILITY
|
RADEON_NEW_MEMMAP
}, \

122 {0x1002, 0x5652, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_RV410
|
RADEON_IS_MOBILITY
|
RADEON_NEW_MEMMAP
}, \

123 {0x1002, 0x5653, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_RV410
|
RADEON_IS_MOBILITY
|
RADEON_NEW_MEMMAP
}, \

124 {0x1002, 0x5657, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_RV410
|
RADEON_NEW_MEMMAP
}, \

125 {0x1002, 0x5834, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_RS300
|
RADEON_IS_IGP
}, \

126 {0x1002, 0x5835, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_RS300
|
RADEON_IS_IGP
|
RADEON_IS_MOBILITY
}, \

127 {0x1002, 0x5954, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_RS480
|
RADEON_IS_IGP
|
RADEON_IS_MOBILITY
|
RADEON_IS_IGPGART
}, \

128 {0x1002, 0x5955, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_RS480
|
RADEON_IS_IGP
|
RADEON_IS_MOBILITY
|
RADEON_IS_IGPGART
}, \

129 {0x1002, 0x5974, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_RS480
|
RADEON_IS_IGP
|
RADEON_IS_MOBILITY
|
RADEON_IS_IGPGART
}, \

130 {0x1002, 0x5975, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_RS480
|
RADEON_IS_IGP
|
RADEON_IS_MOBILITY
|
RADEON_IS_IGPGART
}, \

131 {0x1002, 0x5960, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_RV280
}, \

132 {0x1002, 0x5961, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_RV280
}, \

133 {0x1002, 0x5962, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_RV280
}, \

134 {0x1002, 0x5964, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_RV280
}, \

135 {0x1002, 0x5965, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_RV280
}, \

136 {0x1002, 0x5969, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_RV100
|
RADEON_SINGLE_CRTC
}, \

137 {0x1002, 0x5a41, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_RS400
|
RADEON_IS_IGP
|
RADEON_IS_IGPGART
}, \

138 {0x1002, 0x5a42, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_RS400
|
RADEON_IS_IGP
|
RADEON_IS_MOBILITY
|
RADEON_IS_IGPGART
}, \

139 {0x1002, 0x5a61, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_RS400
|
RADEON_IS_IGP
|
RADEON_IS_IGPGART
}, \

140 {0x1002, 0x5a62, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_RS400
|
RADEON_IS_IGP
|
RADEON_IS_MOBILITY
|
RADEON_IS_IGPGART
}, \

141 {0x1002, 0x5b60, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_RV380
|
RADEON_NEW_MEMMAP
}, \

142 {0x1002, 0x5b62, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_RV380
|
RADEON_NEW_MEMMAP
}, \

143 {0x1002, 0x5b63, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_RV380
|
RADEON_NEW_MEMMAP
}, \

144 {0x1002, 0x5b64, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_RV380
|
RADEON_NEW_MEMMAP
}, \

145 {0x1002, 0x5b65, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_RV380
|
RADEON_NEW_MEMMAP
}, \

146 {0x1002, 0x5c61, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_RV280
|
RADEON_IS_MOBILITY
}, \

147 {0x1002, 0x5c63, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_RV280
|
RADEON_IS_MOBILITY
}, \

148 {0x1002, 0x5d48, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_R423
|
RADEON_IS_MOBILITY
|
RADEON_NEW_MEMMAP
}, \

149 {0x1002, 0x5d49, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_R423
|
RADEON_IS_MOBILITY
|
RADEON_NEW_MEMMAP
}, \

150 {0x1002, 0x5d4a, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_R423
|
RADEON_IS_MOBILITY
|
RADEON_NEW_MEMMAP
}, \

151 {0x1002, 0x5d4c, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_R423
|
RADEON_NEW_MEMMAP
}, \

152 {0x1002, 0x5d4d, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_R423
|
RADEON_NEW_MEMMAP
}, \

153 {0x1002, 0x5d4e, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_R423
|
RADEON_NEW_MEMMAP
}, \

154 {0x1002, 0x5d4f, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_R423
|
RADEON_NEW_MEMMAP
}, \

155 {0x1002, 0x5d50, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_R423
|
RADEON_NEW_MEMMAP
}, \

156 {0x1002, 0x5d52, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_R423
|
RADEON_NEW_MEMMAP
}, \

157 {0x1002, 0x5d57, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_R423
|
RADEON_NEW_MEMMAP
}, \

158 {0x1002, 0x5e48, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_RV410
|
RADEON_NEW_MEMMAP
}, \

159 {0x1002, 0x5e4a, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_RV410
|
RADEON_NEW_MEMMAP
}, \

160 {0x1002, 0x5e4b, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_RV410
|
RADEON_NEW_MEMMAP
}, \

161 {0x1002, 0x5e4c, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_RV410
|
RADEON_NEW_MEMMAP
}, \

162 {0x1002, 0x5e4d, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_RV410
|
RADEON_NEW_MEMMAP
}, \

163 {0x1002, 0x5e4f, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_RV410
|
RADEON_NEW_MEMMAP
}, \

164 {0x1002, 0x6600, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_OLAND
|
RADEON_IS_MOBILITY
|
RADEON_NEW_MEMMAP
}, \

165 {0x1002, 0x6601, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_OLAND
|
RADEON_IS_MOBILITY
|
RADEON_NEW_MEMMAP
}, \

166 {0x1002, 0x6602, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_OLAND
|
RADEON_IS_MOBILITY
|
RADEON_NEW_MEMMAP
}, \

167 {0x1002, 0x6603, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_OLAND
|
RADEON_IS_MOBILITY
|
RADEON_NEW_MEMMAP
}, \

168 {0x1002, 0x6604, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_OLAND
|
RADEON_IS_MOBILITY
|
RADEON_NEW_MEMMAP
}, \

169 {0x1002, 0x6605, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_OLAND
|
RADEON_IS_MOBILITY
|
RADEON_NEW_MEMMAP
}, \

170 {0x1002, 0x6606, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_OLAND
|
RADEON_IS_MOBILITY
|
RADEON_NEW_MEMMAP
}, \

171 {0x1002, 0x6607, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_OLAND
|
RADEON_IS_MOBILITY
|
RADEON_NEW_MEMMAP
}, \

172 {0x1002, 0x6608, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_OLAND
|
RADEON_NEW_MEMMAP
}, \

173 {0x1002, 0x6610, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_OLAND
|
RADEON_NEW_MEMMAP
}, \

174 {0x1002, 0x6611, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_OLAND
|
RADEON_NEW_MEMMAP
}, \

175 {0x1002, 0x6613, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_OLAND
|
RADEON_NEW_MEMMAP
}, \

176 {0x1002, 0x6617, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_OLAND
|
RADEON_IS_MOBILITY
|
RADEON_NEW_MEMMAP
}, \

177 {0x1002, 0x6620, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_OLAND
|
RADEON_IS_MOBILITY
|
RADEON_NEW_MEMMAP
}, \

178 {0x1002, 0x6621, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_OLAND
|
RADEON_IS_MOBILITY
|
RADEON_NEW_MEMMAP
}, \

179 {0x1002, 0x6623, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_OLAND
|
RADEON_IS_MOBILITY
|
RADEON_NEW_MEMMAP
}, \

180 {0x1002, 0x6631, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_OLAND
|
RADEON_NEW_MEMMAP
}, \

181 {0x1002, 0x6640, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_BONAIRE
|
RADEON_IS_MOBILITY
|
RADEON_NEW_MEMMAP
}, \

182 {0x1002, 0x6641, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_BONAIRE
|
RADEON_IS_MOBILITY
|
RADEON_NEW_MEMMAP
}, \

183 {0x1002, 0x6646, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_BONAIRE
|
RADEON_IS_MOBILITY
|
RADEON_NEW_MEMMAP
}, \

184 {0x1002, 0x6647, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_BONAIRE
|
RADEON_IS_MOBILITY
|
RADEON_NEW_MEMMAP
}, \

185 {0x1002, 0x6649, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_BONAIRE
|
RADEON_NEW_MEMMAP
}, \

186 {0x1002, 0x6650, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_BONAIRE
|
RADEON_NEW_MEMMAP
}, \

187 {0x1002, 0x6651, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_BONAIRE
|
RADEON_NEW_MEMMAP
}, \

188 {0x1002, 0x6658, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_BONAIRE
|
RADEON_NEW_MEMMAP
}, \

189 {0x1002, 0x665c, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_BONAIRE
|
RADEON_NEW_MEMMAP
}, \

190 {0x1002, 0x665d, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_BONAIRE
|
RADEON_NEW_MEMMAP
}, \

191 {0x1002, 0x665f, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_BONAIRE
|
RADEON_NEW_MEMMAP
}, \

192 {0x1002, 0x6660, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_HAINAN
|
RADEON_IS_MOBILITY
|
RADEON_NEW_MEMMAP
}, \

193 {0x1002, 0x6663, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_HAINAN
|
RADEON_IS_MOBILITY
|
RADEON_NEW_MEMMAP
}, \

194 {0x1002, 0x6664, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_HAINAN
|
RADEON_IS_MOBILITY
|
RADEON_NEW_MEMMAP
}, \

195 {0x1002, 0x6665, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_HAINAN
|
RADEON_IS_MOBILITY
|
RADEON_NEW_MEMMAP
}, \

196 {0x1002, 0x6667, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_HAINAN
|
RADEON_IS_MOBILITY
|
RADEON_NEW_MEMMAP
}, \

197 {0x1002, 0x666F, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_HAINAN
|
RADEON_IS_MOBILITY
|
RADEON_NEW_MEMMAP
}, \

198 {0x1002, 0x6700, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_CAYMAN
|
RADEON_NEW_MEMMAP
}, \

199 {0x1002, 0x6701, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_CAYMAN
|
RADEON_NEW_MEMMAP
}, \

200 {0x1002, 0x6702, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_CAYMAN
|
RADEON_NEW_MEMMAP
}, \

201 {0x1002, 0x6703, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_CAYMAN
|
RADEON_NEW_MEMMAP
}, \

202 {0x1002, 0x6704, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_CAYMAN
|
RADEON_NEW_MEMMAP
}, \

203 {0x1002, 0x6705, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_CAYMAN
|
RADEON_NEW_MEMMAP
}, \

204 {0x1002, 0x6706, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_CAYMAN
|
RADEON_NEW_MEMMAP
}, \

205 {0x1002, 0x6707, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_CAYMAN
|
RADEON_NEW_MEMMAP
}, \

206 {0x1002, 0x6708, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_CAYMAN
|
RADEON_NEW_MEMMAP
}, \

207 {0x1002, 0x6709, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_CAYMAN
|
RADEON_NEW_MEMMAP
}, \

208 {0x1002, 0x6718, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_CAYMAN
|
RADEON_NEW_MEMMAP
}, \

209 {0x1002, 0x6719, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_CAYMAN
|
RADEON_NEW_MEMMAP
}, \

210 {0x1002, 0x671c, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_CAYMAN
|
RADEON_NEW_MEMMAP
}, \

211 {0x1002, 0x671d, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_CAYMAN
|
RADEON_NEW_MEMMAP
}, \

212 {0x1002, 0x671f, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_CAYMAN
|
RADEON_NEW_MEMMAP
}, \

213 {0x1002, 0x6720, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_BARTS
|
RADEON_IS_MOBILITY
|
RADEON_NEW_MEMMAP
}, \

214 {0x1002, 0x6721, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_BARTS
|
RADEON_IS_MOBILITY
|
RADEON_NEW_MEMMAP
}, \

215 {0x1002, 0x6722, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_BARTS
|
RADEON_NEW_MEMMAP
}, \

216 {0x1002, 0x6723, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_BARTS
|
RADEON_NEW_MEMMAP
}, \

217 {0x1002, 0x6724, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_BARTS
|
RADEON_IS_MOBILITY
|
RADEON_NEW_MEMMAP
}, \

218 {0x1002, 0x6725, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_BARTS
|
RADEON_IS_MOBILITY
|
RADEON_NEW_MEMMAP
}, \

219 {0x1002, 0x6726, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_BARTS
|
RADEON_NEW_MEMMAP
}, \

220 {0x1002, 0x6727, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_BARTS
|
RADEON_NEW_MEMMAP
}, \

221 {0x1002, 0x6728, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_BARTS
|
RADEON_NEW_MEMMAP
}, \

222 {0x1002, 0x6729, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_BARTS
|
RADEON_NEW_MEMMAP
}, \

223 {0x1002, 0x6738, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_BARTS
|
RADEON_NEW_MEMMAP
}, \

224 {0x1002, 0x6739, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_BARTS
|
RADEON_NEW_MEMMAP
}, \

225 {0x1002, 0x673e, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_BARTS
|
RADEON_NEW_MEMMAP
}, \

226 {0x1002, 0x6740, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_TURKS
|
RADEON_IS_MOBILITY
|
RADEON_NEW_MEMMAP
}, \

227 {0x1002, 0x6741, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_TURKS
|
RADEON_IS_MOBILITY
|
RADEON_NEW_MEMMAP
}, \

228 {0x1002, 0x6742, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_TURKS
|
RADEON_IS_MOBILITY
|
RADEON_NEW_MEMMAP
}, \

229 {0x1002, 0x6743, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_TURKS
|
RADEON_IS_MOBILITY
|
RADEON_NEW_MEMMAP
}, \

230 {0x1002, 0x6744, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_TURKS
|
RADEON_IS_MOBILITY
|
RADEON_NEW_MEMMAP
}, \

231 {0x1002, 0x6745, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_TURKS
|
RADEON_IS_MOBILITY
|
RADEON_NEW_MEMMAP
}, \

232 {0x1002, 0x6746, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_TURKS
|
RADEON_NEW_MEMMAP
}, \

233 {0x1002, 0x6747, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_TURKS
|
RADEON_NEW_MEMMAP
}, \

234 {0x1002, 0x6748, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_TURKS
|
RADEON_NEW_MEMMAP
}, \

235 {0x1002, 0x6749, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_TURKS
|
RADEON_NEW_MEMMAP
}, \

236 {0x1002, 0x674A, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_TURKS
|
RADEON_NEW_MEMMAP
}, \

237 {0x1002, 0x6750, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_TURKS
|
RADEON_NEW_MEMMAP
}, \

238 {0x1002, 0x6751, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_TURKS
|
RADEON_NEW_MEMMAP
}, \

239 {0x1002, 0x6758, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_TURKS
|
RADEON_NEW_MEMMAP
}, \

240 {0x1002, 0x6759, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_TURKS
|
RADEON_NEW_MEMMAP
}, \

241 {0x1002, 0x675B, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_TURKS
|
RADEON_NEW_MEMMAP
}, \

242 {0x1002, 0x675D, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_TURKS
|
RADEON_NEW_MEMMAP
}, \

243 {0x1002, 0x675F, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_TURKS
|
RADEON_NEW_MEMMAP
}, \

244 {0x1002, 0x6760, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_CAICOS
|
RADEON_IS_MOBILITY
|
RADEON_NEW_MEMMAP
}, \

245 {0x1002, 0x6761, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_CAICOS
|
RADEON_IS_MOBILITY
|
RADEON_NEW_MEMMAP
}, \

246 {0x1002, 0x6762, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_CAICOS
|
RADEON_NEW_MEMMAP
}, \

247 {0x1002, 0x6763, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_CAICOS
|
RADEON_NEW_MEMMAP
}, \

248 {0x1002, 0x6764, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_CAICOS
|
RADEON_IS_MOBILITY
|
RADEON_NEW_MEMMAP
}, \

249 {0x1002, 0x6765, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_CAICOS
|
RADEON_IS_MOBILITY
|
RADEON_NEW_MEMMAP
}, \

250 {0x1002, 0x6766, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_CAICOS
|
RADEON_NEW_MEMMAP
}, \

251 {0x1002, 0x6767, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_CAICOS
|
RADEON_NEW_MEMMAP
}, \

252 {0x1002, 0x6768, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_CAICOS
|
RADEON_NEW_MEMMAP
}, \

253 {0x1002, 0x6770, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_CAICOS
|
RADEON_NEW_MEMMAP
}, \

254 {0x1002, 0x6771, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_CAICOS
|
RADEON_NEW_MEMMAP
}, \

255 {0x1002, 0x6772, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_CAICOS
|
RADEON_NEW_MEMMAP
}, \

256 {0x1002, 0x6778, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_CAICOS
|
RADEON_NEW_MEMMAP
}, \

257 {0x1002, 0x6779, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_CAICOS
|
RADEON_NEW_MEMMAP
}, \

258 {0x1002, 0x677B, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_CAICOS
|
RADEON_NEW_MEMMAP
}, \

259 {0x1002, 0x6780, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_TAHITI
|
RADEON_NEW_MEMMAP
}, \

260 {0x1002, 0x6784, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_TAHITI
|
RADEON_NEW_MEMMAP
}, \

261 {0x1002, 0x6788, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_TAHITI
|
RADEON_NEW_MEMMAP
}, \

262 {0x1002, 0x678A, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_TAHITI
|
RADEON_NEW_MEMMAP
}, \

263 {0x1002, 0x6790, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_TAHITI
|
RADEON_NEW_MEMMAP
}, \

264 {0x1002, 0x6791, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_TAHITI
|
RADEON_NEW_MEMMAP
}, \

265 {0x1002, 0x6792, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_TAHITI
|
RADEON_NEW_MEMMAP
}, \

266 {0x1002, 0x6798, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_TAHITI
|
RADEON_NEW_MEMMAP
}, \

267 {0x1002, 0x6799, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_TAHITI
|
RADEON_NEW_MEMMAP
}, \

268 {0x1002, 0x679A, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_TAHITI
|
RADEON_NEW_MEMMAP
}, \

269 {0x1002, 0x679B, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_TAHITI
|
RADEON_NEW_MEMMAP
}, \

270 {0x1002, 0x679E, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_TAHITI
|
RADEON_NEW_MEMMAP
}, \

271 {0x1002, 0x679F, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_TAHITI
|
RADEON_NEW_MEMMAP
}, \

272 {0x1002, 0x67A0, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_HAWAII
|
RADEON_NEW_MEMMAP
}, \

273 {0x1002, 0x67A1, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_HAWAII
|
RADEON_NEW_MEMMAP
}, \

274 {0x1002, 0x67A2, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_HAWAII
|
RADEON_NEW_MEMMAP
}, \

275 {0x1002, 0x67A8, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_HAWAII
|
RADEON_NEW_MEMMAP
}, \

276 {0x1002, 0x67A9, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_HAWAII
|
RADEON_NEW_MEMMAP
}, \

277 {0x1002, 0x67AA, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_HAWAII
|
RADEON_NEW_MEMMAP
}, \

278 {0x1002, 0x67B0, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_HAWAII
|
RADEON_NEW_MEMMAP
}, \

279 {0x1002, 0x67B1, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_HAWAII
|
RADEON_NEW_MEMMAP
}, \

280 {0x1002, 0x67B8, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_HAWAII
|
RADEON_NEW_MEMMAP
}, \

281 {0x1002, 0x67B9, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_HAWAII
|
RADEON_NEW_MEMMAP
}, \

282 {0x1002, 0x67BA, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_HAWAII
|
RADEON_NEW_MEMMAP
}, \

283 {0x1002, 0x67BE, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_HAWAII
|
RADEON_NEW_MEMMAP
}, \

284 {0x1002, 0x6800, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_PITCAIRN
|
RADEON_IS_MOBILITY
|
RADEON_NEW_MEMMAP
}, \

285 {0x1002, 0x6801, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_PITCAIRN
|
RADEON_IS_MOBILITY
|
RADEON_NEW_MEMMAP
}, \

286 {0x1002, 0x6802, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_PITCAIRN
|
RADEON_IS_MOBILITY
|
RADEON_NEW_MEMMAP
}, \

287 {0x1002, 0x6806, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_PITCAIRN
|
RADEON_NEW_MEMMAP
}, \

288 {0x1002, 0x6808, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_PITCAIRN
|
RADEON_NEW_MEMMAP
}, \

289 {0x1002, 0x6809, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_PITCAIRN
|
RADEON_NEW_MEMMAP
}, \

290 {0x1002, 0x6810, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_PITCAIRN
|
RADEON_NEW_MEMMAP
}, \

291 {0x1002, 0x6811, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_PITCAIRN
|
RADEON_NEW_MEMMAP
}, \

292 {0x1002, 0x6816, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_PITCAIRN
|
RADEON_NEW_MEMMAP
}, \

293 {0x1002, 0x6817, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_PITCAIRN
|
RADEON_NEW_MEMMAP
}, \

294 {0x1002, 0x6818, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_PITCAIRN
|
RADEON_NEW_MEMMAP
}, \

295 {0x1002, 0x6819, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_PITCAIRN
|
RADEON_NEW_MEMMAP
}, \

296 {0x1002, 0x6820, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_VERDE
|
RADEON_IS_MOBILITY
|
RADEON_NEW_MEMMAP
}, \

297 {0x1002, 0x6821, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_VERDE
|
RADEON_IS_MOBILITY
|
RADEON_NEW_MEMMAP
}, \

298 {0x1002, 0x6822, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_VERDE
|
RADEON_IS_MOBILITY
|
RADEON_NEW_MEMMAP
}, \

299 {0x1002, 0x6823, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_VERDE
|
RADEON_IS_MOBILITY
|
RADEON_NEW_MEMMAP
}, \

300 {0x1002, 0x6824, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_VERDE
|
RADEON_IS_MOBILITY
|
RADEON_NEW_MEMMAP
}, \

301 {0x1002, 0x6825, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_VERDE
|
RADEON_IS_MOBILITY
|
RADEON_NEW_MEMMAP
}, \

302 {0x1002, 0x6826, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_VERDE
|
RADEON_IS_MOBILITY
|
RADEON_NEW_MEMMAP
}, \

303 {0x1002, 0x6827, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_VERDE
|
RADEON_IS_MOBILITY
|
RADEON_NEW_MEMMAP
}, \

304 {0x1002, 0x6828, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_VERDE
|
RADEON_NEW_MEMMAP
}, \

305 {0x1002, 0x6829, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_VERDE
|
RADEON_NEW_MEMMAP
}, \

306 {0x1002, 0x682A, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_VERDE
|
RADEON_IS_MOBILITY
|
RADEON_NEW_MEMMAP
}, \

307 {0x1002, 0x682B, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_VERDE
|
RADEON_IS_MOBILITY
|
RADEON_NEW_MEMMAP
}, \

308 {0x1002, 0x682C, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_VERDE
|
RADEON_NEW_MEMMAP
}, \

309 {0x1002, 0x682D, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_VERDE
|
RADEON_IS_MOBILITY
|
RADEON_NEW_MEMMAP
}, \

310 {0x1002, 0x682F, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_VERDE
|
RADEON_IS_MOBILITY
|
RADEON_NEW_MEMMAP
}, \

311 {0x1002, 0x6830, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_VERDE
|
RADEON_IS_MOBILITY
|
RADEON_NEW_MEMMAP
}, \

312 {0x1002, 0x6831, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_VERDE
|
RADEON_IS_MOBILITY
|
RADEON_NEW_MEMMAP
}, \

313 {0x1002, 0x6835, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_VERDE
|
RADEON_NEW_MEMMAP
}, \

314 {0x1002, 0x6837, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_VERDE
|
RADEON_NEW_MEMMAP
}, \

315 {0x1002, 0x6838, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_VERDE
|
RADEON_NEW_MEMMAP
}, \

316 {0x1002, 0x6839, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_VERDE
|
RADEON_NEW_MEMMAP
}, \

317 {0x1002, 0x683B, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_VERDE
|
RADEON_NEW_MEMMAP
}, \

318 {0x1002, 0x683D, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_VERDE
|
RADEON_NEW_MEMMAP
}, \

319 {0x1002, 0x683F, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_VERDE
|
RADEON_NEW_MEMMAP
}, \

320 {0x1002, 0x6840, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_TURKS
|
RADEON_IS_MOBILITY
|
RADEON_NEW_MEMMAP
}, \

321 {0x1002, 0x6841, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_TURKS
|
RADEON_IS_MOBILITY
|
RADEON_NEW_MEMMAP
}, \

322 {0x1002, 0x6842, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_TURKS
|
RADEON_IS_MOBILITY
|
RADEON_NEW_MEMMAP
}, \

323 {0x1002, 0x6843, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_TURKS
|
RADEON_IS_MOBILITY
|
RADEON_NEW_MEMMAP
}, \

324 {0x1002, 0x6849, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_TURKS
|
RADEON_NEW_MEMMAP
}, \

325 {0x1002, 0x684C, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_PITCAIRN
|
RADEON_NEW_MEMMAP
}, \

326 {0x1002, 0x6850, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_TURKS
|
RADEON_NEW_MEMMAP
}, \

327 {0x1002, 0x6858, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_TURKS
|
RADEON_NEW_MEMMAP
}, \

328 {0x1002, 0x6859, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_TURKS
|
RADEON_NEW_MEMMAP
}, \

329 {0x1002, 0x6880, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_CYPRESS
|
RADEON_IS_MOBILITY
|
RADEON_NEW_MEMMAP
}, \

330 {0x1002, 0x6888, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_CYPRESS
|
RADEON_NEW_MEMMAP
}, \

331 {0x1002, 0x6889, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_CYPRESS
|
RADEON_NEW_MEMMAP
}, \

332 {0x1002, 0x688A, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_CYPRESS
|
RADEON_NEW_MEMMAP
}, \

333 {0x1002, 0x688C, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_CYPRESS
|
RADEON_NEW_MEMMAP
}, \

334 {0x1002, 0x688D, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_CYPRESS
|
RADEON_NEW_MEMMAP
}, \

335 {0x1002, 0x6898, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_CYPRESS
|
RADEON_NEW_MEMMAP
}, \

336 {0x1002, 0x6899, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_CYPRESS
|
RADEON_NEW_MEMMAP
}, \

337 {0x1002, 0x689b, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_CYPRESS
|
RADEON_NEW_MEMMAP
}, \

338 {0x1002, 0x689c, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_HEMLOCK
|
RADEON_NEW_MEMMAP
}, \

339 {0x1002, 0x689d, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_HEMLOCK
|
RADEON_NEW_MEMMAP
}, \

340 {0x1002, 0x689e, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_CYPRESS
|
RADEON_NEW_MEMMAP
}, \

341 {0x1002, 0x68a0, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_JUNIPER
|
RADEON_IS_MOBILITY
|
RADEON_NEW_MEMMAP
}, \

342 {0x1002, 0x68a1, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_JUNIPER
|
RADEON_IS_MOBILITY
|
RADEON_NEW_MEMMAP
}, \

343 {0x1002, 0x68a8, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_JUNIPER
|
RADEON_NEW_MEMMAP
}, \

344 {0x1002, 0x68a9, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_JUNIPER
|
RADEON_NEW_MEMMAP
}, \

345 {0x1002, 0x68b0, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_JUNIPER
|
RADEON_IS_MOBILITY
|
RADEON_NEW_MEMMAP
}, \

346 {0x1002, 0x68b8, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_JUNIPER
|
RADEON_NEW_MEMMAP
}, \

347 {0x1002, 0x68b9, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_JUNIPER
|
RADEON_NEW_MEMMAP
}, \

348 {0x1002, 0x68ba, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_JUNIPER
|
RADEON_NEW_MEMMAP
}, \

349 {0x1002, 0x68be, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_JUNIPER
|
RADEON_NEW_MEMMAP
}, \

350 {0x1002, 0x68bf, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_JUNIPER
|
RADEON_NEW_MEMMAP
}, \

351 {0x1002, 0x68c0, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_REDWOOD
|
RADEON_IS_MOBILITY
|
RADEON_NEW_MEMMAP
}, \

352 {0x1002, 0x68c1, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_REDWOOD
|
RADEON_IS_MOBILITY
|
RADEON_NEW_MEMMAP
}, \

353 {0x1002, 0x68c7, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_REDWOOD
|
RADEON_IS_MOBILITY
|
RADEON_NEW_MEMMAP
}, \

354 {0x1002, 0x68c8, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_REDWOOD
|
RADEON_NEW_MEMMAP
}, \

355 {0x1002, 0x68c9, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_REDWOOD
|
RADEON_NEW_MEMMAP
}, \

356 {0x1002, 0x68d8, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_REDWOOD
|
RADEON_NEW_MEMMAP
}, \

357 {0x1002, 0x68d9, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_REDWOOD
|
RADEON_NEW_MEMMAP
}, \

358 {0x1002, 0x68da, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_REDWOOD
|
RADEON_NEW_MEMMAP
}, \

359 {0x1002, 0x68de, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_REDWOOD
|
RADEON_NEW_MEMMAP
}, \

360 {0x1002, 0x68e0, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_CEDAR
|
RADEON_IS_MOBILITY
|
RADEON_NEW_MEMMAP
}, \

361 {0x1002, 0x68e1, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_CEDAR
|
RADEON_IS_MOBILITY
|
RADEON_NEW_MEMMAP
}, \

362 {0x1002, 0x68e4, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_CEDAR
|
RADEON_IS_MOBILITY
|
RADEON_NEW_MEMMAP
}, \

363 {0x1002, 0x68e5, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_CEDAR
|
RADEON_IS_MOBILITY
|
RADEON_NEW_MEMMAP
}, \

364 {0x1002, 0x68e8, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_CEDAR
|
RADEON_NEW_MEMMAP
}, \

365 {0x1002, 0x68e9, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_CEDAR
|
RADEON_NEW_MEMMAP
}, \

366 {0x1002, 0x68f1, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_CEDAR
|
RADEON_NEW_MEMMAP
}, \

367 {0x1002, 0x68f2, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_CEDAR
|
RADEON_NEW_MEMMAP
}, \

368 {0x1002, 0x68f8, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_CEDAR
|
RADEON_NEW_MEMMAP
}, \

369 {0x1002, 0x68f9, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_CEDAR
|
RADEON_NEW_MEMMAP
}, \

370 {0x1002, 0x68ç, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_CEDAR
|
RADEON_NEW_MEMMAP
}, \

371 {0x1002, 0x68ã, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_CEDAR
|
RADEON_NEW_MEMMAP
}, \

372 {0x1002, 0x7100, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_R520
|
RADEON_NEW_MEMMAP
}, \

373 {0x1002, 0x7101, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_R520
|
RADEON_IS_MOBILITY
|
RADEON_NEW_MEMMAP
}, \

374 {0x1002, 0x7102, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_R520
|
RADEON_IS_MOBILITY
|
RADEON_NEW_MEMMAP
}, \

375 {0x1002, 0x7103, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_R520
|
RADEON_IS_MOBILITY
|
RADEON_NEW_MEMMAP
}, \

376 {0x1002, 0x7104, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_R520
|
RADEON_NEW_MEMMAP
}, \

377 {0x1002, 0x7105, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_R520
|
RADEON_NEW_MEMMAP
}, \

378 {0x1002, 0x7106, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_R520
|
RADEON_IS_MOBILITY
|
RADEON_NEW_MEMMAP
}, \

379 {0x1002, 0x7108, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_R520
|
RADEON_NEW_MEMMAP
}, \

380 {0x1002, 0x7109, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_R520
|
RADEON_NEW_MEMMAP
}, \

381 {0x1002, 0x710A, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_R520
|
RADEON_NEW_MEMMAP
}, \

382 {0x1002, 0x710B, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_R520
|
RADEON_NEW_MEMMAP
}, \

383 {0x1002, 0x710C, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_R520
|
RADEON_NEW_MEMMAP
}, \

384 {0x1002, 0x710E, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_R520
|
RADEON_NEW_MEMMAP
}, \

385 {0x1002, 0x710F, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_R520
|
RADEON_NEW_MEMMAP
}, \

386 {0x1002, 0x7140, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_RV515
|
RADEON_NEW_MEMMAP
}, \

387 {0x1002, 0x7141, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_RV515
|
RADEON_NEW_MEMMAP
}, \

388 {0x1002, 0x7142, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_RV515
|
RADEON_NEW_MEMMAP
}, \

389 {0x1002, 0x7143, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_RV515
|
RADEON_NEW_MEMMAP
}, \

390 {0x1002, 0x7144, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_RV515
|
RADEON_IS_MOBILITY
|
RADEON_NEW_MEMMAP
}, \

391 {0x1002, 0x7145, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_RV515
|
RADEON_IS_MOBILITY
|
RADEON_NEW_MEMMAP
}, \

392 {0x1002, 0x7146, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_RV515
|
RADEON_NEW_MEMMAP
}, \

393 {0x1002, 0x7147, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_RV515
|
RADEON_NEW_MEMMAP
}, \

394 {0x1002, 0x7149, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_RV515
|
RADEON_IS_MOBILITY
|
RADEON_NEW_MEMMAP
}, \

395 {0x1002, 0x714A, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_RV515
|
RADEON_IS_MOBILITY
|
RADEON_NEW_MEMMAP
}, \

396 {0x1002, 0x714B, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_RV515
|
RADEON_IS_MOBILITY
|
RADEON_NEW_MEMMAP
}, \

397 {0x1002, 0x714C, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_RV515
|
RADEON_IS_MOBILITY
|
RADEON_NEW_MEMMAP
}, \

398 {0x1002, 0x714D, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_RV515
|
RADEON_NEW_MEMMAP
}, \

399 {0x1002, 0x714E, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_RV515
|
RADEON_NEW_MEMMAP
}, \

400 {0x1002, 0x714F, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_RV515
|
RADEON_NEW_MEMMAP
}, \

401 {0x1002, 0x7151, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_RV515
|
RADEON_NEW_MEMMAP
}, \

402 {0x1002, 0x7152, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_RV515
|
RADEON_NEW_MEMMAP
}, \

403 {0x1002, 0x7153, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_RV515
|
RADEON_NEW_MEMMAP
}, \

404 {0x1002, 0x715E, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_RV515
|
RADEON_NEW_MEMMAP
}, \

405 {0x1002, 0x715F, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_RV515
|
RADEON_NEW_MEMMAP
}, \

406 {0x1002, 0x7180, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_RV515
|
RADEON_NEW_MEMMAP
}, \

407 {0x1002, 0x7181, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_RV515
|
RADEON_NEW_MEMMAP
}, \

408 {0x1002, 0x7183, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_RV515
|
RADEON_NEW_MEMMAP
}, \

409 {0x1002, 0x7186, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_RV515
|
RADEON_IS_MOBILITY
|
RADEON_NEW_MEMMAP
}, \

410 {0x1002, 0x7187, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_RV515
|
RADEON_NEW_MEMMAP
}, \

411 {0x1002, 0x7188, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_RV515
|
RADEON_IS_MOBILITY
|
RADEON_NEW_MEMMAP
}, \

412 {0x1002, 0x718A, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_RV515
|
RADEON_IS_MOBILITY
|
RADEON_NEW_MEMMAP
}, \

413 {0x1002, 0x718B, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_RV515
|
RADEON_IS_MOBILITY
|
RADEON_NEW_MEMMAP
}, \

414 {0x1002, 0x718C, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_RV515
|
RADEON_IS_MOBILITY
|
RADEON_NEW_MEMMAP
}, \

415 {0x1002, 0x718D, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_RV515
|
RADEON_IS_MOBILITY
|
RADEON_NEW_MEMMAP
}, \

416 {0x1002, 0x718F, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_RV515
|
RADEON_NEW_MEMMAP
}, \

417 {0x1002, 0x7193, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_RV515
|
RADEON_NEW_MEMMAP
}, \

418 {0x1002, 0x7196, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_RV515
|
RADEON_IS_MOBILITY
|
RADEON_NEW_MEMMAP
}, \

419 {0x1002, 0x719B, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_RV515
|
RADEON_NEW_MEMMAP
}, \

420 {0x1002, 0x719F, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_RV515
|
RADEON_NEW_MEMMAP
}, \

421 {0x1002, 0x71C0, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_RV530
|
RADEON_NEW_MEMMAP
}, \

422 {0x1002, 0x71C1, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_RV530
|
RADEON_NEW_MEMMAP
}, \

423 {0x1002, 0x71C2, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_RV530
|
RADEON_NEW_MEMMAP
}, \

424 {0x1002, 0x71C3, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_RV530
|
RADEON_NEW_MEMMAP
}, \

425 {0x1002, 0x71C4, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_RV530
|
RADEON_IS_MOBILITY
|
RADEON_NEW_MEMMAP
}, \

426 {0x1002, 0x71C5, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_RV530
|
RADEON_IS_MOBILITY
|
RADEON_NEW_MEMMAP
}, \

427 {0x1002, 0x71C6, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_RV530
|
RADEON_NEW_MEMMAP
}, \

428 {0x1002, 0x71C7, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_RV530
|
RADEON_NEW_MEMMAP
}, \

429 {0x1002, 0x71CD, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_RV530
|
RADEON_NEW_MEMMAP
}, \

430 {0x1002, 0x71CE, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_RV530
|
RADEON_NEW_MEMMAP
}, \

431 {0x1002, 0x71D2, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_RV530
|
RADEON_NEW_MEMMAP
}, \

432 {0x1002, 0x71D4, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_RV530
|
RADEON_IS_MOBILITY
|
RADEON_NEW_MEMMAP
}, \

433 {0x1002, 0x71D5, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_RV530
|
RADEON_IS_MOBILITY
|
RADEON_NEW_MEMMAP
}, \

434 {0x1002, 0x71D6, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_RV530
|
RADEON_IS_MOBILITY
|
RADEON_NEW_MEMMAP
}, \

435 {0x1002, 0x71DA, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_RV530
|
RADEON_NEW_MEMMAP
}, \

436 {0x1002, 0x71DE, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_RV530
|
RADEON_IS_MOBILITY
|
RADEON_NEW_MEMMAP
}, \

437 {0x1002, 0x7200, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_RV515
|
RADEON_NEW_MEMMAP
}, \

438 {0x1002, 0x7210, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_RV515
|
RADEON_IS_MOBILITY
|
RADEON_NEW_MEMMAP
}, \

439 {0x1002, 0x7211, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_RV515
|
RADEON_IS_MOBILITY
|
RADEON_NEW_MEMMAP
}, \

440 {0x1002, 0x7240, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_R580
|
RADEON_NEW_MEMMAP
}, \

441 {0x1002, 0x7243, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_R580
|
RADEON_NEW_MEMMAP
}, \

442 {0x1002, 0x7244, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_R580
|
RADEON_NEW_MEMMAP
}, \

443 {0x1002, 0x7245, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_R580
|
RADEON_NEW_MEMMAP
}, \

444 {0x1002, 0x7246, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_R580
|
RADEON_NEW_MEMMAP
}, \

445 {0x1002, 0x7247, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_R580
|
RADEON_NEW_MEMMAP
}, \

446 {0x1002, 0x7248, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_R580
|
RADEON_NEW_MEMMAP
}, \

447 {0x1002, 0x7249, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_R580
|
RADEON_NEW_MEMMAP
}, \

448 {0x1002, 0x724A, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_R580
|
RADEON_NEW_MEMMAP
}, \

449 {0x1002, 0x724B, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_R580
|
RADEON_NEW_MEMMAP
}, \

450 {0x1002, 0x724C, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_R580
|
RADEON_NEW_MEMMAP
}, \

451 {0x1002, 0x724D, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_R580
|
RADEON_NEW_MEMMAP
}, \

452 {0x1002, 0x724E, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_R580
|
RADEON_NEW_MEMMAP
}, \

453 {0x1002, 0x724F, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_R580
|
RADEON_NEW_MEMMAP
}, \

454 {0x1002, 0x7280, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_RV570
|
RADEON_NEW_MEMMAP
}, \

455 {0x1002, 0x7281, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_RV560
|
RADEON_NEW_MEMMAP
}, \

456 {0x1002, 0x7283, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_RV560
|
RADEON_NEW_MEMMAP
}, \

457 {0x1002, 0x7284, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_R580
|
RADEON_IS_MOBILITY
|
RADEON_NEW_MEMMAP
}, \

458 {0x1002, 0x7287, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_RV560
|
RADEON_NEW_MEMMAP
}, \

459 {0x1002, 0x7288, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_RV570
|
RADEON_NEW_MEMMAP
}, \

460 {0x1002, 0x7289, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_RV570
|
RADEON_NEW_MEMMAP
}, \

461 {0x1002, 0x728B, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_RV570
|
RADEON_NEW_MEMMAP
}, \

462 {0x1002, 0x728C, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_RV570
|
RADEON_NEW_MEMMAP
}, \

463 {0x1002, 0x7290, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_RV560
|
RADEON_NEW_MEMMAP
}, \

464 {0x1002, 0x7291, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_RV560
|
RADEON_NEW_MEMMAP
}, \

465 {0x1002, 0x7293, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_RV560
|
RADEON_NEW_MEMMAP
}, \

466 {0x1002, 0x7297, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_RV560
|
RADEON_NEW_MEMMAP
}, \

467 {0x1002, 0x7834, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_RS300
|
RADEON_IS_IGP
|
RADEON_NEW_MEMMAP
}, \

468 {0x1002, 0x7835, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_RS300
|
RADEON_IS_IGP
|
RADEON_IS_MOBILITY
|
RADEON_NEW_MEMMAP
}, \

469 {0x1002, 0x791e, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_RS690
|
RADEON_IS_IGP
|
RADEON_NEW_MEMMAP
|
RADEON_IS_IGPGART
}, \

470 {0x1002, 0x791f, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_RS690
|
RADEON_IS_IGP
|
RADEON_NEW_MEMMAP
|
RADEON_IS_IGPGART
}, \

471 {0x1002, 0x793f, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_RS600
|
RADEON_IS_IGP
|
RADEON_NEW_MEMMAP
}, \

472 {0x1002, 0x7941, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_RS600
|
RADEON_IS_IGP
|
RADEON_NEW_MEMMAP
}, \

473 {0x1002, 0x7942, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_RS600
|
RADEON_IS_IGP
|
RADEON_NEW_MEMMAP
}, \

474 {0x1002, 0x796c, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_RS740
|
RADEON_IS_IGP
|
RADEON_NEW_MEMMAP
|
RADEON_IS_IGPGART
}, \

475 {0x1002, 0x796d, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_RS740
|
RADEON_IS_IGP
|
RADEON_NEW_MEMMAP
|
RADEON_IS_IGPGART
}, \

476 {0x1002, 0x796e, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_RS740
|
RADEON_IS_IGP
|
RADEON_NEW_MEMMAP
|
RADEON_IS_IGPGART
}, \

477 {0x1002, 0x796f, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_RS740
|
RADEON_IS_IGP
|
RADEON_NEW_MEMMAP
|
RADEON_IS_IGPGART
}, \

478 {0x1002, 0x9400, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_R600
|
RADEON_NEW_MEMMAP
}, \

479 {0x1002, 0x9401, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_R600
|
RADEON_NEW_MEMMAP
}, \

480 {0x1002, 0x9402, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_R600
|
RADEON_NEW_MEMMAP
}, \

481 {0x1002, 0x9403, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_R600
|
RADEON_NEW_MEMMAP
}, \

482 {0x1002, 0x9405, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_R600
|
RADEON_NEW_MEMMAP
}, \

483 {0x1002, 0x940A, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_R600
|
RADEON_NEW_MEMMAP
}, \

484 {0x1002, 0x940B, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_R600
|
RADEON_NEW_MEMMAP
}, \

485 {0x1002, 0x940F, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_R600
|
RADEON_NEW_MEMMAP
}, \

486 {0x1002, 0x94A0, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_RV740
|
RADEON_IS_MOBILITY
|
RADEON_NEW_MEMMAP
}, \

487 {0x1002, 0x94A1, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_RV740
|
RADEON_IS_MOBILITY
|
RADEON_NEW_MEMMAP
}, \

488 {0x1002, 0x94A3, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_RV740
|
RADEON_IS_MOBILITY
|
RADEON_NEW_MEMMAP
}, \

489 {0x1002, 0x94B1, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_RV740
|
RADEON_NEW_MEMMAP
}, \

490 {0x1002, 0x94B3, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_RV740
|
RADEON_NEW_MEMMAP
}, \

491 {0x1002, 0x94B4, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_RV740
|
RADEON_NEW_MEMMAP
}, \

492 {0x1002, 0x94B5, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_RV740
|
RADEON_NEW_MEMMAP
}, \

493 {0x1002, 0x94B9, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_RV740
|
RADEON_IS_MOBILITY
|
RADEON_NEW_MEMMAP
}, \

494 {0x1002, 0x9440, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_RV770
|
RADEON_NEW_MEMMAP
}, \

495 {0x1002, 0x9441, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_RV770
|
RADEON_NEW_MEMMAP
}, \

496 {0x1002, 0x9442, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_RV770
|
RADEON_NEW_MEMMAP
}, \

497 {0x1002, 0x9443, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_RV770
|
RADEON_NEW_MEMMAP
}, \

498 {0x1002, 0x9444, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_RV770
|
RADEON_NEW_MEMMAP
}, \

499 {0x1002, 0x9446, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_RV770
|
RADEON_NEW_MEMMAP
}, \

500 {0x1002, 0x944A, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_RV770
|
RADEON_IS_MOBILITY
|
RADEON_NEW_MEMMAP
}, \

501 {0x1002, 0x944B, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_RV770
|
RADEON_IS_MOBILITY
|
RADEON_NEW_MEMMAP
}, \

502 {0x1002, 0x944C, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_RV770
|
RADEON_NEW_MEMMAP
}, \

503 {0x1002, 0x944E, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_RV770
|
RADEON_NEW_MEMMAP
}, \

504 {0x1002, 0x9450, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_RV770
|
RADEON_NEW_MEMMAP
}, \

505 {0x1002, 0x9452, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_RV770
|
RADEON_NEW_MEMMAP
}, \

506 {0x1002, 0x9456, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_RV770
|
RADEON_NEW_MEMMAP
}, \

507 {0x1002, 0x945A, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_RV770
|
RADEON_IS_MOBILITY
|
RADEON_NEW_MEMMAP
}, \

508 {0x1002, 0x945B, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_RV770
|
RADEON_IS_MOBILITY
|
RADEON_NEW_MEMMAP
}, \

509 {0x1002, 0x945E, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_RV770
|
RADEON_IS_MOBILITY
|
RADEON_NEW_MEMMAP
}, \

510 {0x1002, 0x9460, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_RV770
|
RADEON_NEW_MEMMAP
}, \

511 {0x1002, 0x9462, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_RV770
|
RADEON_NEW_MEMMAP
}, \

512 {0x1002, 0x946A, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_RV770
|
RADEON_IS_MOBILITY
|
RADEON_NEW_MEMMAP
}, \

513 {0x1002, 0x946B, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_RV770
|
RADEON_IS_MOBILITY
|
RADEON_NEW_MEMMAP
}, \

514 {0x1002, 0x947A, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_RV770
|
RADEON_IS_MOBILITY
|
RADEON_NEW_MEMMAP
}, \

515 {0x1002, 0x947B, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_RV770
|
RADEON_IS_MOBILITY
|
RADEON_NEW_MEMMAP
}, \

516 {0x1002, 0x9480, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_RV730
|
RADEON_IS_MOBILITY
|
RADEON_NEW_MEMMAP
}, \

517 {0x1002, 0x9487, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_RV730
|
RADEON_NEW_MEMMAP
}, \

518 {0x1002, 0x9488, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_RV730
|
RADEON_IS_MOBILITY
|
RADEON_NEW_MEMMAP
}, \

519 {0x1002, 0x9489, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_RV730
|
RADEON_IS_MOBILITY
|
RADEON_NEW_MEMMAP
}, \

520 {0x1002, 0x948A, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_RV730
|
RADEON_IS_MOBILITY
|
RADEON_NEW_MEMMAP
}, \

521 {0x1002, 0x948F, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_RV730
|
RADEON_NEW_MEMMAP
}, \

522 {0x1002, 0x9490, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_RV730
|
RADEON_NEW_MEMMAP
}, \

523 {0x1002, 0x9491, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_RV730
|
RADEON_IS_MOBILITY
|
RADEON_NEW_MEMMAP
}, \

524 {0x1002, 0x9495, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_RV730
|
RADEON_NEW_MEMMAP
}, \

525 {0x1002, 0x9498, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_RV730
|
RADEON_NEW_MEMMAP
}, \

526 {0x1002, 0x949C, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_RV730
|
RADEON_NEW_MEMMAP
}, \

527 {0x1002, 0x949E, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_RV730
|
RADEON_NEW_MEMMAP
}, \

528 {0x1002, 0x949F, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_RV730
|
RADEON_NEW_MEMMAP
}, \

529 {0x1002, 0x94C0, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_RV610
|
RADEON_NEW_MEMMAP
}, \

530 {0x1002, 0x94C1, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_RV610
|
RADEON_NEW_MEMMAP
}, \

531 {0x1002, 0x94C3, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_RV610
|
RADEON_NEW_MEMMAP
}, \

532 {0x1002, 0x94C4, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_RV610
|
RADEON_NEW_MEMMAP
}, \

533 {0x1002, 0x94C5, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_RV610
|
RADEON_NEW_MEMMAP
}, \

534 {0x1002, 0x94C6, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_RV610
|
RADEON_NEW_MEMMAP
}, \

535 {0x1002, 0x94C7, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_RV610
|
RADEON_NEW_MEMMAP
}, \

536 {0x1002, 0x94C8, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_RV610
|
RADEON_IS_MOBILITY
|
RADEON_NEW_MEMMAP
}, \

537 {0x1002, 0x94C9, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_RV610
|
RADEON_IS_MOBILITY
|
RADEON_NEW_MEMMAP
}, \

538 {0x1002, 0x94CB, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_RV610
|
RADEON_IS_MOBILITY
|
RADEON_NEW_MEMMAP
}, \

539 {0x1002, 0x94CC, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_RV610
|
RADEON_NEW_MEMMAP
}, \

540 {0x1002, 0x94CD, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_RV610
|
RADEON_NEW_MEMMAP
}, \

541 {0x1002, 0x9500, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_RV670
|
RADEON_NEW_MEMMAP
}, \

542 {0x1002, 0x9501, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_RV670
|
RADEON_NEW_MEMMAP
}, \

543 {0x1002, 0x9504, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_RV670
|
RADEON_IS_MOBILITY
|
RADEON_NEW_MEMMAP
}, \

544 {0x1002, 0x9505, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_RV670
|
RADEON_NEW_MEMMAP
}, \

545 {0x1002, 0x9506, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_RV670
|
RADEON_IS_MOBILITY
|
RADEON_NEW_MEMMAP
}, \

546 {0x1002, 0x9507, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_RV670
|
RADEON_NEW_MEMMAP
}, \

547 {0x1002, 0x9508, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_RV670
|
RADEON_IS_MOBILITY
|
RADEON_NEW_MEMMAP
}, \

548 {0x1002, 0x9509, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_RV670
|
RADEON_IS_MOBILITY
|
RADEON_NEW_MEMMAP
}, \

549 {0x1002, 0x950F, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_RV670
|
RADEON_NEW_MEMMAP
}, \

550 {0x1002, 0x9511, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_RV670
|
RADEON_NEW_MEMMAP
}, \

551 {0x1002, 0x9515, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_RV670
|
RADEON_NEW_MEMMAP
}, \

552 {0x1002, 0x9517, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_RV670
|
RADEON_NEW_MEMMAP
}, \

553 {0x1002, 0x9519, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_RV670
|
RADEON_NEW_MEMMAP
}, \

554 {0x1002, 0x9540, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_RV710
|
RADEON_NEW_MEMMAP
}, \

555 {0x1002, 0x9541, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_RV710
|
RADEON_NEW_MEMMAP
}, \

556 {0x1002, 0x9542, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_RV710
|
RADEON_NEW_MEMMAP
}, \

557 {0x1002, 0x954E, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_RV710
|
RADEON_NEW_MEMMAP
}, \

558 {0x1002, 0x954F, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_RV710
|
RADEON_NEW_MEMMAP
}, \

559 {0x1002, 0x9552, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_RV710
|
RADEON_IS_MOBILITY
|
RADEON_NEW_MEMMAP
}, \

560 {0x1002, 0x9553, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_RV710
|
RADEON_IS_MOBILITY
|
RADEON_NEW_MEMMAP
}, \

561 {0x1002, 0x9555, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_RV710
|
RADEON_IS_MOBILITY
|
RADEON_NEW_MEMMAP
}, \

562 {0x1002, 0x9557, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_RV710
|
RADEON_IS_MOBILITY
|
RADEON_NEW_MEMMAP
}, \

563 {0x1002, 0x955f, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_RV710
|
RADEON_IS_MOBILITY
|
RADEON_NEW_MEMMAP
}, \

564 {0x1002, 0x9580, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_RV630
|
RADEON_NEW_MEMMAP
}, \

565 {0x1002, 0x9581, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_RV630
|
RADEON_IS_MOBILITY
|
RADEON_NEW_MEMMAP
}, \

566 {0x1002, 0x9583, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_RV630
|
RADEON_IS_MOBILITY
|
RADEON_NEW_MEMMAP
}, \

567 {0x1002, 0x9586, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_RV630
|
RADEON_NEW_MEMMAP
}, \

568 {0x1002, 0x9587, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_RV630
|
RADEON_NEW_MEMMAP
}, \

569 {0x1002, 0x9588, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_RV630
|
RADEON_NEW_MEMMAP
}, \

570 {0x1002, 0x9589, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_RV630
|
RADEON_NEW_MEMMAP
}, \

571 {0x1002, 0x958A, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_RV630
|
RADEON_NEW_MEMMAP
}, \

572 {0x1002, 0x958B, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_RV630
|
RADEON_IS_MOBILITY
|
RADEON_NEW_MEMMAP
}, \

573 {0x1002, 0x958C, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_RV630
|
RADEON_NEW_MEMMAP
}, \

574 {0x1002, 0x958D, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_RV630
|
RADEON_NEW_MEMMAP
}, \

575 {0x1002, 0x958E, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_RV630
|
RADEON_NEW_MEMMAP
}, \

576 {0x1002, 0x958F, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_RV630
|
RADEON_IS_MOBILITY
|
RADEON_NEW_MEMMAP
}, \

577 {0x1002, 0x9590, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_RV635
|
RADEON_NEW_MEMMAP
}, \

578 {0x1002, 0x9591, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_RV635
|
RADEON_IS_MOBILITY
|
RADEON_NEW_MEMMAP
}, \

579 {0x1002, 0x9593, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_RV635
|
RADEON_IS_MOBILITY
|
RADEON_NEW_MEMMAP
}, \

580 {0x1002, 0x9595, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_RV635
|
RADEON_IS_MOBILITY
|
RADEON_NEW_MEMMAP
}, \

581 {0x1002, 0x9596, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_RV635
|
RADEON_NEW_MEMMAP
}, \

582 {0x1002, 0x9597, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_RV635
|
RADEON_NEW_MEMMAP
}, \

583 {0x1002, 0x9598, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_RV635
|
RADEON_NEW_MEMMAP
}, \

584 {0x1002, 0x9599, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_RV635
|
RADEON_NEW_MEMMAP
}, \

585 {0x1002, 0x959B, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_RV635
|
RADEON_IS_MOBILITY
|
RADEON_NEW_MEMMAP
}, \

586 {0x1002, 0x95C0, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_RV620
|
RADEON_NEW_MEMMAP
}, \

587 {0x1002, 0x95C2, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_RV620
|
RADEON_IS_MOBILITY
|
RADEON_NEW_MEMMAP
}, \

588 {0x1002, 0x95C4, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_RV620
|
RADEON_IS_MOBILITY
|
RADEON_NEW_MEMMAP
}, \

589 {0x1002, 0x95C5, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_RV620
|
RADEON_NEW_MEMMAP
}, \

590 {0x1002, 0x95C6, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_RV620
|
RADEON_NEW_MEMMAP
}, \

591 {0x1002, 0x95C7, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_RV620
|
RADEON_NEW_MEMMAP
}, \

592 {0x1002, 0x95C9, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_RV620
|
RADEON_NEW_MEMMAP
}, \

593 {0x1002, 0x95CC, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_RV620
|
RADEON_NEW_MEMMAP
}, \

594 {0x1002, 0x95CD, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_RV620
|
RADEON_NEW_MEMMAP
}, \

595 {0x1002, 0x95CE, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_RV620
|
RADEON_NEW_MEMMAP
}, \

596 {0x1002, 0x95CF, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_RV620
|
RADEON_NEW_MEMMAP
}, \

597 {0x1002, 0x9610, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_RS780
|
RADEON_NEW_MEMMAP
|
RADEON_IS_IGP
}, \

598 {0x1002, 0x9611, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_RS780
|
RADEON_NEW_MEMMAP
|
RADEON_IS_IGP
}, \

599 {0x1002, 0x9612, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_RS780
|
RADEON_NEW_MEMMAP
|
RADEON_IS_IGP
}, \

600 {0x1002, 0x9613, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_RS780
|
RADEON_NEW_MEMMAP
|
RADEON_IS_IGP
}, \

601 {0x1002, 0x9614, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_RS780
|
RADEON_NEW_MEMMAP
|
RADEON_IS_IGP
}, \

602 {0x1002, 0x9615, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_RS780
|
RADEON_NEW_MEMMAP
|
RADEON_IS_IGP
}, \

603 {0x1002, 0x9616, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_RS780
|
RADEON_NEW_MEMMAP
|
RADEON_IS_IGP
}, \

604 {0x1002, 0x9640, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_SUMO
|
RADEON_NEW_MEMMAP
|
RADEON_IS_IGP
}, \

605 {0x1002, 0x9641, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_SUMO
|
RADEON_IS_MOBILITY
|
RADEON_NEW_MEMMAP
|
RADEON_IS_IGP
}, \

606 {0x1002, 0x9642, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_SUMO2
|
RADEON_NEW_MEMMAP
|
RADEON_IS_IGP
}, \

607 {0x1002, 0x9643, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_SUMO2
|
RADEON_IS_MOBILITY
|
RADEON_NEW_MEMMAP
|
RADEON_IS_IGP
}, \

608 {0x1002, 0x9644, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_SUMO2
|
RADEON_NEW_MEMMAP
|
RADEON_IS_IGP
}, \

609 {0x1002, 0x9645, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_SUMO2
|
RADEON_IS_MOBILITY
|
RADEON_NEW_MEMMAP
|
RADEON_IS_IGP
}, \

610 {0x1002, 0x9647, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_SUMO
|
RADEON_IS_MOBILITY
|
RADEON_NEW_MEMMAP
|
RADEON_IS_IGP
},\

611 {0x1002, 0x9648, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_SUMO
|
RADEON_IS_MOBILITY
|
RADEON_NEW_MEMMAP
|
RADEON_IS_IGP
},\

612 {0x1002, 0x9649, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_SUMO2
|
RADEON_IS_MOBILITY
|
RADEON_NEW_MEMMAP
|
RADEON_IS_IGP
},\

613 {0x1002, 0x964a, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_SUMO
|
RADEON_NEW_MEMMAP
|
RADEON_IS_IGP
}, \

614 {0x1002, 0x964b, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_SUMO
|
RADEON_NEW_MEMMAP
|
RADEON_IS_IGP
}, \

615 {0x1002, 0x964c, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_SUMO
|
RADEON_NEW_MEMMAP
|
RADEON_IS_IGP
}, \

616 {0x1002, 0x964e, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_SUMO
|
RADEON_IS_MOBILITY
|
RADEON_NEW_MEMMAP
|
RADEON_IS_IGP
},\

617 {0x1002, 0x964f, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_SUMO
|
RADEON_IS_MOBILITY
|
RADEON_NEW_MEMMAP
|
RADEON_IS_IGP
},\

618 {0x1002, 0x9710, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_RS880
|
RADEON_NEW_MEMMAP
|
RADEON_IS_IGP
}, \

619 {0x1002, 0x9711, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_RS880
|
RADEON_NEW_MEMMAP
|
RADEON_IS_IGP
}, \

620 {0x1002, 0x9712, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_RS880
|
RADEON_IS_MOBILITY
|
RADEON_NEW_MEMMAP
|
RADEON_IS_IGP
}, \

621 {0x1002, 0x9713, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_RS880
|
RADEON_IS_MOBILITY
|
RADEON_NEW_MEMMAP
|
RADEON_IS_IGP
}, \

622 {0x1002, 0x9714, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_RS880
|
RADEON_NEW_MEMMAP
|
RADEON_IS_IGP
}, \

623 {0x1002, 0x9715, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_RS880
|
RADEON_NEW_MEMMAP
|
RADEON_IS_IGP
}, \

624 {0x1002, 0x9802, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_PALM
|
RADEON_NEW_MEMMAP
|
RADEON_IS_IGP
}, \

625 {0x1002, 0x9803, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_PALM
|
RADEON_NEW_MEMMAP
|
RADEON_IS_IGP
}, \

626 {0x1002, 0x9804, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_PALM
|
RADEON_NEW_MEMMAP
|
RADEON_IS_IGP
}, \

627 {0x1002, 0x9805, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_PALM
|
RADEON_NEW_MEMMAP
|
RADEON_IS_IGP
}, \

628 {0x1002, 0x9806, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_PALM
|
RADEON_NEW_MEMMAP
|
RADEON_IS_IGP
}, \

629 {0x1002, 0x9807, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_PALM
|
RADEON_NEW_MEMMAP
|
RADEON_IS_IGP
}, \

630 {0x1002, 0x9808, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_PALM
|
RADEON_NEW_MEMMAP
|
RADEON_IS_IGP
}, \

631 {0x1002, 0x9809, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_PALM
|
RADEON_NEW_MEMMAP
|
RADEON_IS_IGP
}, \

632 {0x1002, 0x980A, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_PALM
|
RADEON_NEW_MEMMAP
|
RADEON_IS_IGP
}, \

633 {0x1002, 0x9830, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_KABINI
|
RADEON_IS_MOBILITY
|
RADEON_NEW_MEMMAP
|
RADEON_IS_IGP
}, \

634 {0x1002, 0x9831, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_KABINI
|
RADEON_NEW_MEMMAP
|
RADEON_IS_IGP
}, \

635 {0x1002, 0x9832, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_KABINI
|
RADEON_IS_MOBILITY
|
RADEON_NEW_MEMMAP
|
RADEON_IS_IGP
}, \

636 {0x1002, 0x9833, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_KABINI
|
RADEON_NEW_MEMMAP
|
RADEON_IS_IGP
}, \

637 {0x1002, 0x9834, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_KABINI
|
RADEON_IS_MOBILITY
|
RADEON_NEW_MEMMAP
|
RADEON_IS_IGP
}, \

638 {0x1002, 0x9835, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_KABINI
|
RADEON_NEW_MEMMAP
|
RADEON_IS_IGP
}, \

639 {0x1002, 0x9836, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_KABINI
|
RADEON_IS_MOBILITY
|
RADEON_NEW_MEMMAP
|
RADEON_IS_IGP
}, \

640 {0x1002, 0x9837, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_KABINI
|
RADEON_NEW_MEMMAP
|
RADEON_IS_IGP
}, \

641 {0x1002, 0x9838, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_KABINI
|
RADEON_IS_MOBILITY
|
RADEON_NEW_MEMMAP
|
RADEON_IS_IGP
}, \

642 {0x1002, 0x9839, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_KABINI
|
RADEON_IS_MOBILITY
|
RADEON_NEW_MEMMAP
|
RADEON_IS_IGP
}, \

643 {0x1002, 0x983a, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_KABINI
|
RADEON_NEW_MEMMAP
|
RADEON_IS_IGP
}, \

644 {0x1002, 0x983b, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_KABINI
|
RADEON_IS_MOBILITY
|
RADEON_NEW_MEMMAP
|
RADEON_IS_IGP
}, \

645 {0x1002, 0x983c, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_KABINI
|
RADEON_NEW_MEMMAP
|
RADEON_IS_IGP
}, \

646 {0x1002, 0x983d, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_KABINI
|
RADEON_NEW_MEMMAP
|
RADEON_IS_IGP
}, \

647 {0x1002, 0x983e, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_KABINI
|
RADEON_NEW_MEMMAP
|
RADEON_IS_IGP
}, \

648 {0x1002, 0x983f, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_KABINI
|
RADEON_NEW_MEMMAP
|
RADEON_IS_IGP
}, \

649 {0x1002, 0x9850, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_MULLINS
|
RADEON_IS_MOBILITY
|
RADEON_NEW_MEMMAP
|
RADEON_IS_IGP
}, \

650 {0x1002, 0x9851, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_MULLINS
|
RADEON_IS_MOBILITY
|
RADEON_NEW_MEMMAP
|
RADEON_IS_IGP
}, \

651 {0x1002, 0x9852, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_MULLINS
|
RADEON_IS_MOBILITY
|
RADEON_NEW_MEMMAP
|
RADEON_IS_IGP
}, \

652 {0x1002, 0x9853, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_MULLINS
|
RADEON_IS_MOBILITY
|
RADEON_NEW_MEMMAP
|
RADEON_IS_IGP
}, \

653 {0x1002, 0x9854, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_MULLINS
|
RADEON_IS_MOBILITY
|
RADEON_NEW_MEMMAP
|
RADEON_IS_IGP
}, \

654 {0x1002, 0x9855, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_MULLINS
|
RADEON_IS_MOBILITY
|
RADEON_NEW_MEMMAP
|
RADEON_IS_IGP
}, \

655 {0x1002, 0x9856, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_MULLINS
|
RADEON_IS_MOBILITY
|
RADEON_NEW_MEMMAP
|
RADEON_IS_IGP
}, \

656 {0x1002, 0x9857, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_MULLINS
|
RADEON_IS_MOBILITY
|
RADEON_NEW_MEMMAP
|
RADEON_IS_IGP
}, \

657 {0x1002, 0x9858, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_MULLINS
|
RADEON_IS_MOBILITY
|
RADEON_NEW_MEMMAP
|
RADEON_IS_IGP
}, \

658 {0x1002, 0x9859, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_MULLINS
|
RADEON_IS_MOBILITY
|
RADEON_NEW_MEMMAP
|
RADEON_IS_IGP
}, \

659 {0x1002, 0x985A, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_MULLINS
|
RADEON_IS_MOBILITY
|
RADEON_NEW_MEMMAP
|
RADEON_IS_IGP
}, \

660 {0x1002, 0x985B, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_MULLINS
|
RADEON_IS_MOBILITY
|
RADEON_NEW_MEMMAP
|
RADEON_IS_IGP
}, \

661 {0x1002, 0x985C, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_MULLINS
|
RADEON_IS_MOBILITY
|
RADEON_NEW_MEMMAP
|
RADEON_IS_IGP
}, \

662 {0x1002, 0x985D, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_MULLINS
|
RADEON_IS_MOBILITY
|
RADEON_NEW_MEMMAP
|
RADEON_IS_IGP
}, \

663 {0x1002, 0x985E, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_MULLINS
|
RADEON_IS_MOBILITY
|
RADEON_NEW_MEMMAP
|
RADEON_IS_IGP
}, \

664 {0x1002, 0x985F, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_MULLINS
|
RADEON_IS_MOBILITY
|
RADEON_NEW_MEMMAP
|
RADEON_IS_IGP
}, \

665 {0x1002, 0x9900, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_ARUBA
|
RADEON_IS_MOBILITY
|
RADEON_NEW_MEMMAP
|
RADEON_IS_IGP
}, \

666 {0x1002, 0x9901, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_ARUBA
|
RADEON_NEW_MEMMAP
|
RADEON_IS_IGP
}, \

667 {0x1002, 0x9903, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_ARUBA
|
RADEON_IS_MOBILITY
|
RADEON_NEW_MEMMAP
|
RADEON_IS_IGP
}, \

668 {0x1002, 0x9904, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_ARUBA
|
RADEON_NEW_MEMMAP
|
RADEON_IS_IGP
}, \

669 {0x1002, 0x9905, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_ARUBA
|
RADEON_NEW_MEMMAP
|
RADEON_IS_IGP
}, \

670 {0x1002, 0x9906, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_ARUBA
|
RADEON_NEW_MEMMAP
|
RADEON_IS_IGP
}, \

671 {0x1002, 0x9907, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_ARUBA
|
RADEON_IS_MOBILITY
|
RADEON_NEW_MEMMAP
|
RADEON_IS_IGP
}, \

672 {0x1002, 0x9908, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_ARUBA
|
RADEON_IS_MOBILITY
|
RADEON_NEW_MEMMAP
|
RADEON_IS_IGP
}, \

673 {0x1002, 0x9909, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_ARUBA
|
RADEON_IS_MOBILITY
|
RADEON_NEW_MEMMAP
|
RADEON_IS_IGP
}, \

674 {0x1002, 0x990A, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_ARUBA
|
RADEON_IS_MOBILITY
|
RADEON_NEW_MEMMAP
|
RADEON_IS_IGP
}, \

675 {0x1002, 0x990B, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_ARUBA
|
RADEON_IS_MOBILITY
|
RADEON_NEW_MEMMAP
|
RADEON_IS_IGP
}, \

676 {0x1002, 0x990C, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_ARUBA
|
RADEON_NEW_MEMMAP
|
RADEON_IS_IGP
}, \

677 {0x1002, 0x990D, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_ARUBA
|
RADEON_IS_MOBILITY
|
RADEON_NEW_MEMMAP
|
RADEON_IS_IGP
}, \

678 {0x1002, 0x990E, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_ARUBA
|
RADEON_NEW_MEMMAP
|
RADEON_IS_IGP
}, \

679 {0x1002, 0x990F, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_ARUBA
|
RADEON_IS_MOBILITY
|
RADEON_NEW_MEMMAP
|
RADEON_IS_IGP
}, \

680 {0x1002, 0x9910, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_ARUBA
|
RADEON_IS_MOBILITY
|
RADEON_NEW_MEMMAP
|
RADEON_IS_IGP
}, \

681 {0x1002, 0x9913, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_ARUBA
|
RADEON_IS_MOBILITY
|
RADEON_NEW_MEMMAP
|
RADEON_IS_IGP
}, \

682 {0x1002, 0x9917, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_ARUBA
|
RADEON_NEW_MEMMAP
|
RADEON_IS_IGP
}, \

683 {0x1002, 0x9918, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_ARUBA
|
RADEON_NEW_MEMMAP
|
RADEON_IS_IGP
}, \

684 {0x1002, 0x9919, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_ARUBA
|
RADEON_NEW_MEMMAP
|
RADEON_IS_IGP
}, \

685 {0x1002, 0x9990, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_ARUBA
|
RADEON_IS_MOBILITY
|
RADEON_NEW_MEMMAP
|
RADEON_IS_IGP
}, \

686 {0x1002, 0x9991, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_ARUBA
|
RADEON_NEW_MEMMAP
|
RADEON_IS_IGP
}, \

687 {0x1002, 0x9992, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_ARUBA
|
RADEON_IS_MOBILITY
|
RADEON_NEW_MEMMAP
|
RADEON_IS_IGP
}, \

688 {0x1002, 0x9993, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_ARUBA
|
RADEON_NEW_MEMMAP
|
RADEON_IS_IGP
}, \

689 {0x1002, 0x9994, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_ARUBA
|
RADEON_IS_MOBILITY
|
RADEON_NEW_MEMMAP
|
RADEON_IS_IGP
}, \

690 {0x1002, 0x9995, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_ARUBA
|
RADEON_IS_MOBILITY
|
RADEON_NEW_MEMMAP
|
RADEON_IS_IGP
}, \

691 {0x1002, 0x9996, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_ARUBA
|
RADEON_NEW_MEMMAP
|
RADEON_IS_IGP
}, \

692 {0x1002, 0x9997, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_ARUBA
|
RADEON_IS_MOBILITY
|
RADEON_NEW_MEMMAP
|
RADEON_IS_IGP
}, \

693 {0x1002, 0x9998, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_ARUBA
|
RADEON_NEW_MEMMAP
|
RADEON_IS_IGP
}, \

694 {0x1002, 0x9999, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_ARUBA
|
RADEON_IS_MOBILITY
|
RADEON_NEW_MEMMAP
|
RADEON_IS_IGP
}, \

695 {0x1002, 0x999A, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_ARUBA
|
RADEON_IS_MOBILITY
|
RADEON_NEW_MEMMAP
|
RADEON_IS_IGP
}, \

696 {0x1002, 0x999B, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_ARUBA
|
RADEON_IS_MOBILITY
|
RADEON_NEW_MEMMAP
|
RADEON_IS_IGP
}, \

697 {0x1002, 0x999C, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_ARUBA
|
RADEON_NEW_MEMMAP
|
RADEON_IS_IGP
}, \

698 {0x1002, 0x999D, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_ARUBA
|
RADEON_NEW_MEMMAP
|
RADEON_IS_IGP
}, \

699 {0x1002, 0x99A0, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_ARUBA
|
RADEON_IS_MOBILITY
|
RADEON_NEW_MEMMAP
|
RADEON_IS_IGP
}, \

700 {0x1002, 0x99A2, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_ARUBA
|
RADEON_IS_MOBILITY
|
RADEON_NEW_MEMMAP
|
RADEON_IS_IGP
}, \

701 {0x1002, 0x99A4, 
PCI_ANY_ID
, PCI_ANY_ID, 0, 0, 
CHIP_ARUBA
|
RADEON_NEW_MEMMAP
|
RADEON_IS_IGP
}, \

702 {0, 0, 0}

	)

704 
	#ffb_PCI_IDS
 \

705 {0, 0, 0, 
NULL
}

	)

707 
	#gamma_PCI_IDS
 \

709 {0, 0, 0, 
NULL
}

	)

711 
	#i810_PCI_IDS
 \

716 {0, 0, 0, 
NULL
}

	)

718 
	#i830_PCI_IDS
 \

723 {0, 0, 0, 
NULL
}

	)

725 
	#imagše_PCI_IDS
 \

726 {0x105D, 0x2309, 
IMAGINE_128
, "Imagine 128"}, \

727 {0x105D, 0x2339, 
IMAGINE_128_2
, "Imagine 128-II"}, \

728 {0x105D, 0x493D, 
IMAGINE_T2R
, "Ticketo Ride"}, \

729 {0x105D, 0x5348, 
IMAGINE_REV4
, "Revolution IV"}, \

730 {0, 0, 0, 
NULL
}

	)

732 
	#mach64_PCI_IDS
 \

753 {0, 0, 0, 
NULL
}

	)

755 
	#mga_PCI_IDS
 \

756 {0x102B, 0x0520, 
MGA_CARD_TYPE_G200
, "Matrox G200 (PCI)"}, \

757 {0x102B, 0x0521, 
MGA_CARD_TYPE_G200
, "Matrox G200 (AGP)"}, \

758 {0x102B, 0x0525, 
MGA_CARD_TYPE_G400
, "Matrox G400/G450 (AGP)"}, \

759 {0x102B, 0x2527, 
MGA_CARD_TYPE_G550
, "Matrox G550 (AGP)"}, \

760 {0, 0, 0, 
NULL
}

	)

762 
	#nv_PCI_IDS
 \

763 {0x10DE, 0x0020, 
NV04
, "NVidia RIVA TNT"}, \

764 {0x10DE, 0x0028, 
NV04
, "NVidia RIVA TNT2"}, \

765 {0x10DE, 0x0029, 
NV04
, "NVidia RIVA TNT2 Ultra"}, \

766 {0x10DE, 0x002A, 
NV04
, "NVidia Unknown TNT2"}, \

767 {0x10DE, 0x002C, 
NV04
, "NVidia Vanta"}, \

768 {0x10DE, 0x002D, 
NV04
, "NVidia RIVA TNT2 Model 64"}, \

769 {0x10DE, 0x0040, 
NV40
, "NVidia GeForce 6800 Ultra"}, \

770 {0x10DE, 0x0041, 
NV40
, "NVidia GeForce 6800"}, \

771 {0x10DE, 0x0042, 
NV40
, "NVidia GeForce 6800 LE"}, \

772 {0x10DE, 0x0043, 
NV40
, "NVidia 0x0043"}, \

773 {0x10DE, 0x0045, 
NV40
, "NVidia GeForce 6800 GT"}, \

774 {0x10DE, 0x0046, 
NV40
, "NVidia GeForce 6800 GT"}, \

775 {0x10DE, 0x0049, 
NV40
, "NVidia 0x0049"}, \

776 {0x10DE, 0x004E, 
NV40
, "NVidia Quadro FX 4000"}, \

777 {0x10DE, 0x0090, 
NV40
, "NVidia 0x0090"}, \

778 {0x10DE, 0x0091, 
NV40
, "NVidia GeForce 7800 GTX"}, \

779 {0x10DE, 0x0092, 
NV40
, "NVidia 0x0092"}, \

780 {0x10DE, 0x0093, 
NV40
, "NVidia 0x0093"}, \

781 {0x10DE, 0x0094, 
NV40
, "NVidia 0x0094"}, \

782 {0x10DE, 0x0098, 
NV40
, "NVidia 0x0098"}, \

783 {0x10DE, 0x0099, 
NV40
, "NVidia GeForce Go 7800 GTX"}, \

784 {0x10DE, 0x009C, 
NV40
, "NVidia 0x009C"}, \

785 {0x10DE, 0x009D, 
NV40
, "NVidia Quadro FX 4500"}, \

786 {0x10DE, 0x009E, 
NV40
, "NVidia 0x009E"}, \

787 {0x10DE, 0x00A0, 
NV04
, "NVidia Aladdin TNT2"}, \

788 {0x10DE, 0x00C0, 
NV40
, "NVidia 0x00C0"}, \

789 {0x10DE, 0x00C1, 
NV40
, "NVidia GeForce 6800"}, \

790 {0x10DE, 0x00C2, 
NV40
, "NVidia GeForce 6800 LE"}, \

791 {0x10DE, 0x00C8, 
NV40
, "NVidia GeForce Go 6800"}, \

792 {0x10DE, 0x00C9, 
NV40
, "NVidia GeForce Go 6800 Ultra"}, \

793 {0x10DE, 0x00CC, 
NV40
, "NVidia Quadro FX Go1400"}, \

794 {0x10DE, 0x00CD, 
NV40
, "NVidia Quadro FX 3450/4000 SDI"}, \

795 {0x10DE, 0x00CE, 
NV40
, "NVidia Quadro FX 1400"}, \

796 {0x10DE, 0x00F0, 
NV40
, "Nvidia GeForce 6600 GT"}, \

797 {0x10DE, 0x00F1, 
NV40
, "Nvidia GeForce 6600 GT"}, \

798 {0x10DE, 0x0100, 
NV10
, "NVidia GeForce 256"}, \

799 {0x10DE, 0x0101, 
NV10
, "NVidia GeForce DDR"}, \

800 {0x10DE, 0x0103, 
NV10
, "NVidia Quadro"}, \

801 {0x10DE, 0x0110, 
NV10
, "NVidia GeForce2 MX/MX 400"}, \

802 {0x10DE, 0x0111, 
NV10
, "NVidia GeForce2 MX 100/200"}, \

803 {0x10DE, 0x0112, 
NV10
, "NVidia GeForce2 Go"}, \

804 {0x10DE, 0x0113, 
NV10
, "NVidia Quadro2 MXR/EX/Go"}, \

805 {0x10DE, 0x0140, 
NV40
, "NVidia GeForce 6600 GT"}, \

806 {0x10DE, 0x0141, 
NV40
, "NVidia GeForce 6600"}, \

807 {0x10DE, 0x0142, 
NV40
, "NVidia GeForce 6600 LE"}, \

808 {0x10DE, 0x0143, 
NV40
, "NVidia 0x0143"}, \

809 {0x10DE, 0x0144, 
NV40
, "NVidia GeForce Go 6600"}, \

810 {0x10DE, 0x0145, 
NV40
, "NVidia GeForce 6610 XL"}, \

811 {0x10DE, 0x0146, 
NV40
, "NVidia GeForce Go 6600 TE/6200 TE"}, \

812 {0x10DE, 0x0147, 
NV40
, "NVidia GeForce 6700 XL"}, \

813 {0x10DE, 0x0148, 
NV40
, "NVidia GeForce Go 6600"}, \

814 {0x10DE, 0x0149, 
NV40
, "NVidia GeForce Go 6600 GT"}, \

815 {0x10DE, 0x014B, 
NV40
, "NVidia 0x014B"}, \

816 {0x10DE, 0x014C, 
NV40
, "NVidia 0x014C"}, \

817 {0x10DE, 0x014D, 
NV40
, "NVidia 0x014D"}, \

818 {0x10DE, 0x014E, 
NV40
, "NVidia Quadro FX 540"}, \

819 {0x10DE, 0x014F, 
NV40
, "NVidia GeForce 6200"}, \

820 {0x10DE, 0x0150, 
NV10
, "NVidia GeForce2 GTS"}, \

821 {0x10DE, 0x0151, 
NV10
, "NVidia GeForce2 Ti"}, \

822 {0x10DE, 0x0152, 
NV10
, "NVidia GeForce2 Ultra"}, \

823 {0x10DE, 0x0153, 
NV10
, "NVidia Quadro2 Pro"}, \

824 {0x10DE, 0x0160, 
NV40
, "NVidia 0x0160"}, \

825 {0x10DE, 0x0161, 
NV40
, "NVidia GeForce 6200 TurboCache(TM)"}, \

826 {0x10DE, 0x0162, 
NV40
, "NVidia GeForce 6200SE TurboCache(TM)"}, \

827 {0x10DE, 0x0163, 
NV40
, "NVidia 0x0163"}, \

828 {0x10DE, 0x0164, 
NV40
, "NVidia GeForce Go 6200"}, \

829 {0x10DE, 0x0165, 
NV40
, "NVidia Quadro NVS 285"}, \

830 {0x10DE, 0x0166, 
NV40
, "NVidia GeForce Go 6400"}, \

831 {0x10DE, 0x0167, 
NV40
, "NVidia GeForce Go 6200"}, \

832 {0x10DE, 0x0168, 
NV40
, "NVidia GeForce Go 6400"}, \

833 {0x10DE, 0x0169, 
NV40
, "NVidia 0x0169"}, \

834 {0x10DE, 0x016B, 
NV40
, "NVidia 0x016B"}, \

835 {0x10DE, 0x016C, 
NV40
, "NVidia 0x016C"}, \

836 {0x10DE, 0x016D, 
NV40
, "NVidia 0x016D"}, \

837 {0x10DE, 0x016E, 
NV40
, "NVidia 0x016E"}, \

838 {0x10DE, 0x0170, 
NV10
, "NVidia GeForce4 MX 460"}, \

839 {0x10DE, 0x0171, 
NV10
, "NVidia GeForce4 MX 440"}, \

840 {0x10DE, 0x0172, 
NV10
, "NVidia GeForce4 MX 420"}, \

841 {0x10DE, 0x0173, 
NV10
, "NVidia GeForce4 MX 440-SE"}, \

842 {0x10DE, 0x0174, 
NV10
, "NVidia GeForce4 440 Go"}, \

843 {0x10DE, 0x0175, 
NV10
, "NVidia GeForce4 420 Go"}, \

844 {0x10DE, 0x0176, 
NV10
, "NVidia GeForce4 420 Go 32M"}, \

845 {0x10DE, 0x0177, 
NV10
, "NVidia GeForce4 460 Go"}, \

846 {0x10DE, 0x0178, 
NV10
, "NVidia Quadro4 550 XGL"}, \

847 {0x10DE, 0x0179, 
NV10
, "NVidia GeForce4"}, \

848 {0x10DE, 0x017A, 
NV10
, "NVidia Quadro4 NVS"}, \

849 {0x10DE, 0x017C, 
NV10
, "NVidia Quadro4 500 GoGL"}, \

850 {0x10DE, 0x017D, 
NV10
, "NVidia GeForce4 410 Go 16M"}, \

851 {0x10DE, 0x0181, 
NV10
, "NVidia GeForce4 MX 440 with AGP8X"}, \

852 {0x10DE, 0x0182, 
NV10
, "NVidia GeForce4 MX 440SE with AGP8X"}, \

853 {0x10DE, 0x0183, 
NV10
, "NVidia GeForce4 MX 420 with AGP8X"}, \

854 {0x10DE, 0x0185, 
NV10
, "NVidia GeForce4 MX 4000"}, \

855 {0x10DE, 0x0186, 
NV10
, "NVidia GeForce4 448 Go"}, \

856 {0x10DE, 0x0187, 
NV10
, "NVidia GeForce4 488 Go"}, \

857 {0x10DE, 0x0188, 
NV10
, "NVidia Quadro4 580 XGL"}, \

858 {0x10DE, 0x0189, 
NV10
, "NVidia GeForce4 MX with AGP8X (Mac)"}, \

859 {0x10DE, 0x018A, 
NV10
, "NVidia Quadro4 280 NVS"}, \

860 {0x10DE, 0x018B, 
NV10
, "NVidia Quadro4 380 XGL"}, \

861 {0x10DE, 0x018C, 
NV10
, "NVidia Quadro NVS 50 PCI"}, \

862 {0x10DE, 0x018D, 
NV10
, "NVidia GeForce4 448 Go"}, \

863 {0x10DE, 0x01A0, 
NV10
, "NVidia GeForce2 Integrated GPU"}, \

864 {0x10DE, 0x01F0, 
NV10
, "NVidia GeForce4 MX Integrated GPU"}, \

865 {0x10DE, 0x0200, 
NV20
, "NVidia GeForce3"}, \

866 {0x10DE, 0x0201, 
NV20
, "NVidia GeForce3 Ti 200"}, \

867 {0x10DE, 0x0202, 
NV20
, "NVidia GeForce3 Ti 500"}, \

868 {0x10DE, 0x0203, 
NV20
, "NVidia Quadro DCC"}, \

869 {0x10DE, 0x0210, 
NV40
, "NVidia 0x0210"}, \

870 {0x10DE, 0x0211, 
NV40
, "NVidia GeForce 6800"}, \

871 {0x10DE, 0x0212, 
NV40
, "NVidia GeForce 6800 LE"}, \

872 {0x10DE, 0x0215, 
NV40
, "NVidia GeForce 6800 GT"}, \

873 {0x10DE, 0x0220, 
NV40
, "NVidia 0x0220"}, \

874 {0x10DE, 0x0221, 
NV40
, "NVidia GeForce 6200"}, \

875 {0x10DE, 0x0222, 
NV40
, "NVidia 0x0222"}, \

876 {0x10DE, 0x0228, 
NV40
, "NVidia 0x0228"}, \

877 {0x10DE, 0x0250, 
NV20
, "NVidia GeForce4 Ti 4600"}, \

878 {0x10DE, 0x0251, 
NV20
, "NVidia GeForce4 Ti 4400"}, \

879 {0x10DE, 0x0252, 
NV20
, "NVidia 0x0252"}, \

880 {0x10DE, 0x0253, 
NV20
, "NVidia GeForce4 Ti 4200"}, \

881 {0x10DE, 0x0258, 
NV20
, "NVidia Quadro4 900 XGL"}, \

882 {0x10DE, 0x0259, 
NV20
, "NVidia Quadro4 750 XGL"}, \

883 {0x10DE, 0x025B, 
NV20
, "NVidia Quadro4 700 XGL"}, \

884 {0x10DE, 0x0280, 
NV20
, "NVidia GeForce4 Ti 4800"}, \

885 {0x10DE, 0x0281, 
NV20
, "NVidia GeForce4 Ti 4200 with AGP8X"}, \

886 {0x10DE, 0x0282, 
NV20
, "NVidia GeForce4 Ti 4800 SE"}, \

887 {0x10DE, 0x0286, 
NV20
, "NVidia GeForce4 4200 Go"}, \

888 {0x10DE, 0x0288, 
NV20
, "NVidia Quadro4 980 XGL"}, \

889 {0x10DE, 0x0289, 
NV20
, "NVidia Quadro4 780 XGL"}, \

890 {0x10DE, 0x028C, 
NV20
, "NVidia Quadro4 700 GoGL"}, \

891 {0x10DE, 0x0301, 
NV30
, "NVidia GeForce FX 5800 Ultra"}, \

892 {0x10DE, 0x0302, 
NV30
, "NVidia GeForce FX 5800"}, \

893 {0x10DE, 0x0308, 
NV30
, "NVidia Quadro FX 2000"}, \

894 {0x10DE, 0x0309, 
NV30
, "NVidia Quadro FX 1000"}, \

895 {0x10DE, 0x0311, 
NV30
, "NVidia GeForce FX 5600 Ultra"}, \

896 {0x10DE, 0x0312, 
NV30
, "NVidia GeForce FX 5600"}, \

897 {0x10DE, 0x0313, 
NV30
, "NVidia 0x0313"}, \

898 {0x10DE, 0x0314, 
NV30
, "NVidia GeForce FX 5600SE"}, \

899 {0x10DE, 0x0316, 
NV30
, "NVidia 0x0316"}, \

900 {0x10DE, 0x0317, 
NV30
, "NVidia 0x0317"}, \

901 {0x10DE, 0x031A, 
NV30
, "NVidia GeForce FX Go5600"}, \

902 {0x10DE, 0x031B, 
NV30
, "NVidia GeForce FX Go5650"}, \

903 {0x10DE, 0x031C, 
NV30
, "NVidia Quadro FX Go700"}, \

904 {0x10DE, 0x031D, 
NV30
, "NVidia 0x031D"}, \

905 {0x10DE, 0x031E, 
NV30
, "NVidia 0x031E"}, \

906 {0x10DE, 0x031F, 
NV30
, "NVidia 0x031F"}, \

907 {0x10DE, 0x0320, 
NV30
, "NVidia GeForce FX 5200"}, \

908 {0x10DE, 0x0321, 
NV30
, "NVidia GeForce FX 5200 Ultra"}, \

909 {0x10DE, 0x0322, 
NV30
, "NVidia GeForce FX 5200"}, \

910 {0x10DE, 0x0323, 
NV30
, "NVidia GeForce FX 5200SE"}, \

911 {0x10DE, 0x0324, 
NV30
, "NVidia GeForce FX Go5200"}, \

912 {0x10DE, 0x0325, 
NV30
, "NVidia GeForce FX Go5250"}, \

913 {0x10DE, 0x0326, 
NV30
, "NVidia GeForce FX 5500"}, \

914 {0x10DE, 0x0327, 
NV30
, "NVidia GeForce FX 5100"}, \

915 {0x10DE, 0x0328, 
NV30
, "NVidia GeForce FX Go5200 32M/64M"}, \

916 {0x10DE, 0x0329, 
NV30
, "NVidia GeForce FX 5200 (Mac)"}, \

917 {0x10DE, 0x032A, 
NV30
, "NVidia Quadro NVS 280 PCI"}, \

918 {0x10DE, 0x032B, 
NV30
, "NVidia Quadro FX 500/600 PCI"}, \

919 {0x10DE, 0x032C, 
NV30
, "NVidia GeForce FX Go53xx Series"}, \

920 {0x10DE, 0x032D, 
NV30
, "NVidia GeForce FX Go5100"}, \

921 {0x10DE, 0x032F, 
NV30
, "NVidia 0x032F"}, \

922 {0x10DE, 0x0330, 
NV30
, "NVidia GeForce FX 5900 Ultra"}, \

923 {0x10DE, 0x0331, 
NV30
, "NVidia GeForce FX 5900"}, \

924 {0x10DE, 0x0332, 
NV30
, "NVidia GeForce FX 5900XT"}, \

925 {0x10DE, 0x0333, 
NV30
, "NVidia GeForce FX 5950 Ultra"}, \

926 {0x10DE, 0x0334, 
NV30
, "NVidia GeForce FX 5900ZT"}, \

927 {0x10DE, 0x0338, 
NV30
, "NVidia Quadro FX 3000"}, \

928 {0x10DE, 0x033F, 
NV30
, "NVidia Quadro FX 700"}, \

929 {0x10DE, 0x0341, 
NV30
, "NVidia GeForce FX 5700 Ultra"}, \

930 {0x10DE, 0x0342, 
NV30
, "NVidia GeForce FX 5700"}, \

931 {0x10DE, 0x0343, 
NV30
, "NVidia GeForce FX 5700LE"}, \

932 {0x10DE, 0x0344, 
NV30
, "NVidia GeForce FX 5700VE"}, \

933 {0x10DE, 0x0345, 
NV30
, "NVidia 0x0345"}, \

934 {0x10DE, 0x0347, 
NV30
, "NVidia GeForce FX Go5700"}, \

935 {0x10DE, 0x0348, 
NV30
, "NVidia GeForce FX Go5700"}, \

936 {0x10DE, 0x0349, 
NV30
, "NVidia 0x0349"}, \

937 {0x10DE, 0x034B, 
NV30
, "NVidia 0x034B"}, \

938 {0x10DE, 0x034C, 
NV30
, "NVidia Quadro FX Go1000"}, \

939 {0x10DE, 0x034E, 
NV30
, "NVidia Quadro FX 1100"}, \

940 {0x10DE, 0x034F, 
NV30
, "NVidia 0x034F"}, \

941 {0, 0, 0, 
NULL
}

	)

943 
	#r128_PCI_IDS
 \

981 {0, 0, 0, 
NULL
}

	)

983 
	#§vage_PCI_IDS
 \

984 {0x5333, 0x8A20, 
S3_SAVAGE3D
, "Savage 3D"}, \

985 {0x5333, 0x8A21, 
S3_SAVAGE3D
, "Savage 3D/MV"}, \

986 {0x5333, 0x8A22, 
S3_SAVAGE4
, "Savage4"}, \

987 {0x5333, 0x8A23, 
S3_SAVAGE4
, "Savage4"}, \

988 {0x5333, 0x8A25, 
S3_PROSAVAGE
, "ProSavage PM133"}, \

989 {0x5333, 0x8A26, 
S3_PROSAVAGE
, "ProSavage KM133"}, \

990 {0x5333, 0x8C10, 
S3_SAVAGE_MX
, "Savage/MX-MV"}, \

991 {0x5333, 0x8C11, 
S3_SAVAGE_MX
, "Savage/MX"}, \

992 {0x5333, 0x8C12, 
S3_SAVAGE_MX
, "Savage/IX-MV"}, \

993 {0x5333, 0x8C13, 
S3_SAVAGE_MX
, "Savage/IX"}, \

994 {0x5333, 0x8C22, 
S3_SUPERSAVAGE
, "SuperSavage MX/128"}, \

995 {0x5333, 0x8C24, 
S3_SUPERSAVAGE
, "SuperSavage MX/64"}, \

996 {0x5333, 0x8C26, 
S3_SUPERSAVAGE
, "SuperSavage MX/64C"}, \

997 {0x5333, 0x8C2A, 
S3_SUPERSAVAGE
, "SuperSavage IX/128 SDR"}, \

998 {0x5333, 0x8C2B, 
S3_SUPERSAVAGE
, "SuperSavage IX/128 DDR"}, \

999 {0x5333, 0x8C2C, 
S3_SUPERSAVAGE
, "SuperSavage IX/64 SDR"}, \

1000 {0x5333, 0x8C2D, 
S3_SUPERSAVAGE
, "SuperSavage IX/64 DDR"}, \

1001 {0x5333, 0x8C2E, 
S3_SUPERSAVAGE
, "SuperSavage IX/C SDR"}, \

1002 {0x5333, 0x8C2F, 
S3_SUPERSAVAGE
, "SuperSavage IX/C DDR"}, \

1003 {0x5333, 0x8D01, 
S3_TWISTER
, "ProSavage Twister PN133"}, \

1004 {0x5333, 0x8D02, 
S3_TWISTER
, "ProSavage Twister KN133"}, \

1005 {0x5333, 0x8D03, 
S3_PROSAVAGEDDR
, "ProSavage DDR"}, \

1006 {0x5333, 0x8D04, 
S3_PROSAVAGEDDR
, "ProSavage DDR-K"}, \

1007 {0, 0, 0, 
NULL
}

	)

1009 
	#sis_PCI_IDS
 \

1010 {0x18CA, 0x0040, 
SIS_CHIP_315
, "Volari V3XT/V5/V8"}, \

1011 {0x18CA, 0x0042, 
SIS_CHIP_315
, "Volari Unknown"}, \

1015 {0x1039, 0x6330, 
SIS_CHIP_315
, "SiS 661"}, \

1017 {0, 0, 0, 
NULL
}

	)

1019 
	#tdfx_PCI_IDS
 \

1026 {0, 0, 0, 
NULL
}

	)

1028 
	#vŸdrv_PCI_IDS
 \

1031 {0x1106, 0x3118, 
VIA_PRO_GROUP_A
, "VIA CN400 / PM8X0"}, \

1033 {0x1106, 0x3157, 
VIA_PRO_GROUP_A
, "VIA CX700"}, \

1034 {0x1106, 0x3230, 
VIA_DX9_0
, "VIA K8M890"}, \

1037 {0x1106, 0x3371, 
VIA_DX9_0
, "VIA P4M900 / VN896"}, \

1039 {0, 0, 0, 
NULL
}

	)

1041 
	#xgi_PCI_IDS
 \

1044 {0, 0, 0, 
NULL
}

	)

	@src/common/linuxkpi/include/drm/drm_plane.h

23 #iâdeà
__DRM_PLANE_H__


24 
	#__DRM_PLANE_H__


	)

26 
	~<lšux/li¡.h
>

27 
	~<lšux/ùy³.h
>

28 
	~<drm/drm_mode_objeù.h
>

30 
	gdrm_ütc
;

31 
	gdrm_´š‹r
;

32 
	gdrm_mode£t_acquœe_ùx
;

59 
	sdrm_¶ªe_¡©e
 {

60 
drm_¶ªe
 *
	m¶ªe
;

68 
drm_ütc
 *
	mütc
;

76 
drm_äamebufãr
 *
	mfb
;

84 
dma_ãnû
 *
	mãnû
;

93 
št32_t
 
	mütc_x
;

100 
št32_t
 
	mütc_y
;

102 
ušt32_t
 
	mütc_w
, 
	mütc_h
;

105 
ušt32_t
 
	m¤c_x
, 
	m¤c_y
;

106 
ušt32_t
 
	m¤c_h
, 
	m¤c_w
;

109 
	mrÙ©iÚ
;

112 
	mzpos
;

113 
	mnÜm®ized_zpos
;

116 
drm_»ù
 
	m¤c
, 
	md¡
;

124 
boÞ
 
	mvisibË
;

132 
drm_ütc_comm™
 *
	mcomm™
;

134 
drm_©omic_¡©e
 *
	m¡©e
;

137 
šlše
 
drm_»ù


138 
	$drm_¶ªe_¡©e_¤c
(cÚ¡ 
drm_¶ªe_¡©e
 *
¡©e
)

140 
drm_»ù
 
¤c
 = {

141 .
x1
 = 
¡©e
->
¤c_x
,

142 .
y1
 = 
¡©e
->
¤c_y
,

143 .
x2
 = 
¡©e
->
¤c_x
 + s‹->
¤c_w
,

144 .
y2
 = 
¡©e
->
¤c_y
 + s‹->
¤c_h
,

146  
¤c
;

147 
	}
}

149 
šlše
 
drm_»ù


150 
	$drm_¶ªe_¡©e_de¡
(cÚ¡ 
drm_¶ªe_¡©e
 *
¡©e
)

152 
drm_»ù
 
de¡
 = {

153 .
x1
 = 
¡©e
->
ütc_x
,

154 .
y1
 = 
¡©e
->
ütc_y
,

155 .
x2
 = 
¡©e
->
ütc_x
 + s‹->
ütc_w
,

156 .
y2
 = 
¡©e
->
ütc_y
 + s‹->
ütc_h
,

158  
de¡
;

159 
	}
}

164 
	sdrm_¶ªe_funcs
 {

191 (*
	mupd©e_¶ªe
)(
drm_¶ªe
 *
	m¶ªe
,

192 
drm_ütc
 *
	mütc
, 
drm_äamebufãr
 *
	mfb
,

193 
	mütc_x
, 
	mütc_y
,

194 
	mütc_w
, 
	mütc_h
,

195 
ušt32_t
 
	m¤c_x
, ušt32_ˆ
	m¤c_y
,

196 
ušt32_t
 
	m¤c_w
, ušt32_ˆ
	m¤c_h
,

197 
drm_mode£t_acquœe_ùx
 *
	mùx
);

214 (*
	mdi§bË_¶ªe
)(
drm_¶ªe
 *
	m¶ªe
,

215 
drm_mode£t_acquœe_ùx
 *
	mùx
);

224 (*
	mde¡roy
)(
drm_¶ªe
 *
	m¶ªe
);

236 (*
	m»£t
)(
drm_¶ªe
 *
	m¶ªe
);

252 (*
	m£t_´Ý”ty
)(
drm_¶ªe
 *
	m¶ªe
,

253 
drm_´Ý”ty
 *
	m´Ý”ty
, 
ušt64_t
 
	mv®
);

284 
	mdrm_¶ªe_¡©e
 *(*
	m©omic_du¶iÿ‹_¡©e
)(
drm_¶ªe
 *
	m¶ªe
);

292 (*
	m©omic_de¡roy_¡©e
)(
drm_¶ªe
 *
	m¶ªe
,

293 
drm_¶ªe_¡©e
 *
	m¡©e
);

337 (*
	m©omic_£t_´Ý”ty
)(
drm_¶ªe
 *
	m¶ªe
,

338 
drm_¶ªe_¡©e
 *
	m¡©e
,

339 
drm_´Ý”ty
 *
	m´Ý”ty
,

340 
ušt64_t
 
	mv®
);

360 (*
	m©omic_g‘_´Ý”ty
)(
drm_¶ªe
 *
	m¶ªe
,

361 cÚ¡ 
drm_¶ªe_¡©e
 *
	m¡©e
,

362 
drm_´Ý”ty
 *
	m´Ý”ty
,

363 
ušt64_t
 *
	mv®
);

377 (*
	mÏ‹_»gi¡”
)(
drm_¶ªe
 *
	m¶ªe
);

388 (*
	m—¾y_uÄegi¡”
)(
drm_¶ªe
 *
	m¶ªe
);

399 (*
	m©omic_´št_¡©e
)(
drm_´š‹r
 *
	mp
,

400 cÚ¡ 
drm_¶ªe_¡©e
 *
	m¡©e
);

415 
boÞ
 (*
fÜm©_mod_suµÜ‹d
)(
drm_¶ªe
 *
	m¶ªe
, 
ušt32_t
 
	mfÜm©
,

416 
ušt64_t
 
	mmodif›r
);

437 
	edrm_¶ªe_ty³
 {

444 
	mDRM_PLANE_TYPE_OVERLAY
,

454 
	mDRM_PLANE_TYPE_PRIMARY
,

463 
	mDRM_PLANE_TYPE_CURSOR
,

488 
	sdrm_¶ªe
 {

489 
drm_deviû
 *
	mdev
;

490 
li¡_h—d
 
	mh—d
;

492 *
	mÇme
;

503 
drm_mode£t_lock
 
	mmu‹x
;

505 
drm_mode_objeù
 
	mba£
;

507 
ušt32_t
 
	mpossibË_ütcs
;

508 
ušt32_t
 *
	mfÜm©_ty³s
;

509 
	mfÜm©_couÁ
;

510 
boÞ
 
	mfÜm©_deçuÉ
;

512 
ušt64_t
 *
	mmodif›rs
;

513 
	mmodif›r_couÁ
;

519 
drm_ütc
 *
	mütc
;

526 
drm_äamebufãr
 *
	mfb
;

528 
drm_äamebufãr
 *
	mÞd_fb
;

530 cÚ¡ 
drm_¶ªe_funcs
 *
	mfuncs
;

532 
drm_objeù_´Ý”t›s
 
	m´Ý”t›s
;

534 
drm_¶ªe_ty³
 
	mty³
;

540 
	mšdex
;

542 cÚ¡ 
drm_¶ªe_h–³r_funcs
 *
	mh–³r_´iv©e
;

557 
drm_¶ªe_¡©e
 *
	m¡©e
;

559 
drm_´Ý”ty
 *
	mzpos_´Ý”ty
;

560 
drm_´Ý”ty
 *
	mrÙ©iÚ_´Ý”ty
;

563 
	#obj_to_¶ªe
(
x
è
	`cÚš”_of
(x, 
drm_¶ªe
, 
ba£
)

	)

565 
	$__´štf
(9, 10)

566 
	`drm_univ”§l_¶ªe_š™
(
drm_deviû
 *
dev
,

567 
drm_¶ªe
 *
¶ªe
,

568 
ušt32_t
 
possibË_ütcs
,

569 cÚ¡ 
drm_¶ªe_funcs
 *
funcs
,

570 cÚ¡ 
ušt32_t
 *
fÜm©s
,

571 
fÜm©_couÁ
,

572 cÚ¡ 
ušt64_t
 *
fÜm©_modif›rs
,

573 
drm_¶ªe_ty³
 
ty³
,

574 cÚ¡ *
Çme
, ...);

575 
	`drm_¶ªe_š™
(
drm_deviû
 *
dev
,

576 
drm_¶ªe
 *
¶ªe
,

577 
ušt32_t
 
possibË_ütcs
,

578 cÚ¡ 
drm_¶ªe_funcs
 *
funcs
,

579 cÚ¡ 
ušt32_t
 *
fÜm©s
, 
fÜm©_couÁ
,

580 
boÞ
 
is_´im¬y
);

581 
	`drm_¶ªe_þ—nup
(
drm_¶ªe
 *
¶ªe
);

590 
šlše
 
	$drm_¶ªe_šdex
(
drm_¶ªe
 *
¶ªe
)

592  
¶ªe
->
šdex
;

593 
	}
}

594 
drm_¶ªe
 * 
drm_¶ªe_äom_šdex
(
drm_deviû
 *
dev
, 
idx
);

595 
drm_¶ªe_fÜû_di§bË
(
drm_¶ªe
 *
¶ªe
);

597 
drm_mode_¶ªe_£t_obj_´Ý
(
drm_¶ªe
 *
¶ªe
,

598 
drm_´Ý”ty
 *
´Ý”ty
,

599 
ušt64_t
 
v®ue
);

610 
šlše
 
drm_¶ªe
 *
	$drm_¶ªe_fšd
(
drm_deviû
 *
dev
,

611 
drm_fže
 *
fže_´iv
,

612 
ušt32_t
 
id
)

614 
drm_mode_objeù
 *
mo
;

615 
mo
 = 
	`drm_mode_objeù_fšd
(
dev
, 
fže_´iv
, 
id
, 
DRM_MODE_OBJECT_PLANE
);

616  
mo
 ? 
	`obj_to_¶ªe
(moè: 
NULL
;

617 
	}
}

627 
	#drm_fÜ_—ch_¶ªe_mask
(
¶ªe
, 
dev
, 
¶ªe_mask
) \

628 
	`li¡_fÜ_—ch_’Œy
((
¶ªe
), &(
dev
)->
mode_cÚfig
.
¶ªe_li¡
, 
h—d
) \

629 
	`fÜ_—ch_if
 ((
¶ªe_mask
è& (1 << 
	`drm_¶ªe_šdex
(
¶ªe
)))

	)

640 
	#drm_fÜ_—ch_Ëgacy_¶ªe
(
¶ªe
, 
dev
) \

641 
	`li¡_fÜ_—ch_’Œy
(
¶ªe
, &(
dev
)->
mode_cÚfig
.
¶ªe_li¡
, 
h—d
) \

642 
	`fÜ_—ch_if
 (
¶ªe
->
ty³
 =ð
DRM_PLANE_TYPE_OVERLAY
)

	)

651 
	#drm_fÜ_—ch_¶ªe
(
¶ªe
, 
dev
) \

652 
	`li¡_fÜ_—ch_’Œy
(
¶ªe
, &(
dev
)->
mode_cÚfig
.
¶ªe_li¡
, 
h—d
)

	)

	@src/common/linuxkpi/include/drm/drm_plane_helper.h

24 #iâdeà
DRM_PLANE_HELPER_H


25 
	#DRM_PLANE_HELPER_H


	)

27 
	~<drm/drm_»ù.h
>

28 
	~<drm/drm_ütc.h
>

29 
	~<drm/drm_mode£t_h–³r_vbËs.h
>

30 
	~<drm/drm_mode£t_h–³r.h
>

39 
	#DRM_PLANE_HELPER_NO_SCALING
 (1<<16)

	)

41 
drm_¶ªe_h–³r_check_upd©e
(
drm_¶ªe
 *
¶ªe
,

42 
drm_ütc
 *
ütc
,

43 
drm_äamebufãr
 *
fb
,

44 
drm_»ù
 *
¤c
,

45 
drm_»ù
 *
de¡
,

46 cÚ¡ 
drm_»ù
 *
þ
,

47 
rÙ©iÚ
,

48 
mš_sÿË
,

49 
max_sÿË
,

50 
boÞ
 
ÿn_pos™iÚ
,

51 
boÞ
 
ÿn_upd©e_di§bËd
,

52 
boÞ
 *
visibË
);

53 
drm_´im¬y_h–³r_upd©e
(
drm_¶ªe
 *
¶ªe
,

54 
drm_ütc
 *
ütc
,

55 
drm_äamebufãr
 *
fb
,

56 
ütc_x
, 
ütc_y
,

57 
ütc_w
, 
ütc_h
,

58 
ušt32_t
 
¤c_x
, ušt32_ˆ
¤c_y
,

59 
ušt32_t
 
¤c_w
, ušt32_ˆ
¤c_h
,

60 
drm_mode£t_acquœe_ùx
 *
ùx
);

61 
drm_´im¬y_h–³r_di§bË
(
drm_¶ªe
 *
¶ªe
,

62 
drm_mode£t_acquœe_ùx
 *
ùx
);

63 
drm_´im¬y_h–³r_de¡roy
(
drm_¶ªe
 *
¶ªe
);

64 cÚ¡ 
drm_¶ªe_funcs
 
drm_´im¬y_h–³r_funcs
;

66 
drm_¶ªe_h–³r_upd©e
(
drm_¶ªe
 *
¶ªe
, 
drm_ütc
 *
ütc
,

67 
drm_äamebufãr
 *
fb
,

68 
ütc_x
, 
ütc_y
,

69 
ütc_w
, 
ütc_h
,

70 
ušt32_t
 
¤c_x
, ušt32_ˆ
¤c_y
,

71 
ušt32_t
 
¤c_w
, ušt32_ˆ
¤c_h
);

72 
drm_¶ªe_h–³r_di§bË
(
drm_¶ªe
 *
¶ªe
);

75 
drm_¶ªe_h–³r_comm™
(
drm_¶ªe
 *
¶ªe
,

76 
drm_¶ªe_¡©e
 *
¶ªe_¡©e
,

77 
drm_äamebufãr
 *
Þd_fb
);

	@src/common/linuxkpi/include/drm/drm_prime.h

32 #iâdeà
__DRM_PRIME_H__


33 
	#__DRM_PRIME_H__


	)

35 
	~<lšux/mu‹x.h
>

36 
	~<lšux/rbŒ“.h
>

37 
	~<lšux/sÿ‰”li¡.h
>

46 
	sdrm_´ime_fže_´iv©e
 {

48 
mu‹x
 
	mlock
;

49 
rb_roÙ
 
	mdmabufs
;

50 
rb_roÙ
 
	mhªdËs
;

53 
	gdeviû
;

55 
	gdma_buf_expÜt_šfo
;

56 
	gdma_buf
;

58 
	gdrm_deviû
;

59 
	gdrm_gem_objeù
;

60 
	gdrm_fže
;

62 
	gdeviû
;

64 
dma_buf
 *
drm_gem_´ime_expÜt
(
drm_deviû
 *
dev
,

65 
drm_gem_objeù
 *
obj
,

66 
æags
);

67 
drm_gem_´ime_hªdË_to_fd
(
drm_deviû
 *
dev
,

68 
drm_fže
 *
fže_´iv
, 
ušt32_t
 
hªdË
, ušt32_ˆ
æags
,

69 *
´ime_fd
);

70 
drm_gem_objeù
 *
drm_gem_´ime_impÜt
(
drm_deviû
 *
dev
,

71 
dma_buf
 *dma_buf);

73 
drm_gem_objeù
 *
drm_gem_´ime_impÜt_dev
(
drm_deviû
 *
dev
,

74 
dma_buf
 *dma_buf,

75 
deviû
 *
©ch_dev
);

77 
drm_gem_´ime_fd_to_hªdË
(
drm_deviû
 *
dev
,

78 
drm_fže
 *
fže_´iv
, 
´ime_fd
, 
ušt32_t
 *
hªdË
);

79 
dma_buf
 *
drm_gem_dmabuf_expÜt
(
drm_deviû
 *
dev
,

80 
dma_buf_expÜt_šfo
 *
exp_šfo
);

81 
drm_gem_dmabuf_»Ëa£
(
dma_buf
 *dma_buf);

83 
drm_´ime_sg_to_·ge_addr_¬¿ys
(
sg_bË
 *
sgt
, 
·ge
 **
·ges
,

84 
dma_addr_t
 *
addrs
, 
max_·ges
);

85 
sg_bË
 *
drm_´ime_·ges_to_sg
(
·ge
 **
·ges
, 
Ä_·ges
);

86 
drm_´ime_gem_de¡roy
(
drm_gem_objeù
 *
obj
, 
sg_bË
 *
sg
);

	@src/common/linuxkpi/include/drm/drm_print.h

26 #iâdeà
DRM_PRINT_H_


27 
	#DRM_PRINT_H_


	)

29 
	~<lšux/compž”.h
>

30 
	~<lšux/´štk.h
>

31 
	~<lšux/£q_fže.h
>

32 
	~<lšux/deviû.h
>

69 
	sdrm_´š‹r
 {

71 (*
	m´štâ
)(
drm_´š‹r
 *
	mp
, 
va_fÜm©
 *
	mvaf
);

72 *
	m¬g
;

73 cÚ¡ *
	m´efix
;

76 
__drm_´štâ_£q_fže
(
drm_´š‹r
 *
p
, 
va_fÜm©
 *
vaf
);

77 
__drm_´štâ_šfo
(
drm_´š‹r
 *
p
, 
va_fÜm©
 *
vaf
);

78 
__drm_´štâ_debug
(
drm_´š‹r
 *
p
, 
va_fÜm©
 *
vaf
);

80 
	$__´štf
(2, 3)

81 
	`drm_´štf
(
drm_´š‹r
 *
p
, cÚ¡ *
f
, ...);

83 
	$__´štf
(2, 0)

90 
šlše
 

91 
	$drm_v´štf
(
drm_´š‹r
 *
p
, cÚ¡ *
fmt
, 
va_li¡
 *
va
)

93 
va_fÜm©
 
vaf
 = { .
fmt
 = fmt, .
va
 = va };

95 
p
->
	`´štâ
Õ, &
vaf
);

96 
	}
}

104 
	#drm_´štf_šd’t
(
´š‹r
, 
šd’t
, 
fmt
, ...) \

105 
	`drm_´štf
((
´š‹r
), "%.*s" 
fmt
, (
šd’t
), "\t\t\t\t\tX", ##
__VA_ARGS__
)

	)

114 
šlše
 
drm_´š‹r
 
	$drm_£q_fže_´š‹r
(
£q_fže
 *
f
)

116 
drm_´š‹r
 
p
 = {

117 .
´štâ
 = 
__drm_´štâ_£q_fže
,

118 .
¬g
 = 
f
,

120  
p
;

121 
	}
}

130 
šlše
 
drm_´š‹r
 
	$drm_šfo_´š‹r
(
deviû
 *
dev
)

132 
drm_´š‹r
 
p
 = {

133 .
´štâ
 = 
__drm_´štâ_šfo
,

134 .
¬g
 = 
dev
,

136  
p
;

137 
	}
}

146 
šlše
 
drm_´š‹r
 
	$drm_debug_´š‹r
(cÚ¡ *
´efix
)

148 
drm_´š‹r
 
p
 = {

149 .
´štâ
 = 
__drm_´štâ_debug
,

150 .
´efix
 =…refix

152  
p
;

153 
	}
}

189 
	#DRM_UT_NONE
 0x00

	)

190 
	#DRM_UT_CORE
 0x01

	)

191 
	#DRM_UT_DRIVER
 0x02

	)

192 
	#DRM_UT_KMS
 0x04

	)

193 
	#DRM_UT_PRIME
 0x08

	)

194 
	#DRM_UT_ATOMIC
 0x10

	)

195 
	#DRM_UT_VBL
 0x20

	)

196 
	#DRM_UT_STATE
 0x40

	)

197 
	#DRM_UT_LEASE
 0x80

	)

199 
	$__´štf
(6, 7)

200 
	`drm_dev_´štk
(cÚ¡ 
deviû
 *
dev
, cÚ¡ *
Ëv–
,

201 
ÿ‹gÜy
, cÚ¡ *
funùiÚ_Çme
,

202 cÚ¡ *
´efix
, cÚ¡ *
fÜm©
, ...);

203 #iâdeà
__lšux__


204 
	$__´štf
(4, 5)

205 
	`drm_´štk
(cÚ¡ *
Ëv–
, 
ÿ‹gÜy
,

206 cÚ¡ *
funùiÚ_Çme
, cÚ¡ *
fÜm©
, ...);

208 
	$__´štf
(3, 4)

209 
	`drm_´štk
(cÚ¡ *
Ëv–
, 
ÿ‹gÜy
,

210 cÚ¡ *
fÜm©
, ...);

214 
	#_DRM_PRINTK
(
Úû
, 
Ëv–
, 
fmt
, ...) \

216 
´štk
##
	`Úû
(
KERN_
##
Ëv–
 "[" 
DRM_NAME
 "] " 
fmt
, \

217 ##
__VA_ARGS__
); \

218 
	}
} 0)

	)

220 
	#DRM_INFO
(
fmt
, ...) \

221 
	`_DRM_PRINTK
(, 
INFO
, 
fmt
, ##
__VA_ARGS__
)

	)

222 
	#DRM_NOTE
(
fmt
, ...) \

223 
	`_DRM_PRINTK
(, 
NOTICE
, 
fmt
, ##
__VA_ARGS__
)

	)

224 
	#DRM_WARN
(
fmt
, ...) \

225 
	`_DRM_PRINTK
(, 
WARNING
, 
fmt
, ##
__VA_ARGS__
)

	)

227 
	#DRM_INFO_ONCE
(
fmt
, ...) \

228 
	`_DRM_PRINTK
(
_Úû
, 
INFO
, 
fmt
, ##
__VA_ARGS__
)

	)

229 
	#DRM_NOTE_ONCE
(
fmt
, ...) \

230 
	`_DRM_PRINTK
(
_Úû
, 
NOTICE
, 
fmt
, ##
__VA_ARGS__
)

	)

231 
	#DRM_WARN_ONCE
(
fmt
, ...) \

232 
	`_DRM_PRINTK
(
_Úû
, 
WARNING
, 
fmt
, ##
__VA_ARGS__
)

	)

240 
	#DRM_DEV_ERROR
(
dev
, 
fmt
, ...) \

241 
	`drm_dev_´štk
(
dev
, 
KERN_ERR
, 
DRM_UT_NONE
, 
__func__
, " *ERROR*",\

242 
fmt
, ##
__VA_ARGS__
)

	)

243 #ifdeà
__lšux__


244 
	#DRM_ERROR
(
fmt
, ...) \

245 
	`drm_´štk
(
KERN_ERR
, 
DRM_UT_NONE
, 
fmt
, ##
__VA_ARGS__
)

	)

247 
	#DRM_ERROR
(
fmt
, ...) \

248 
	`drm_´štk
(
KERN_ERR
, 
DRM_UT_NONE
, 
__func__
, 
fmt
, ##
__VA_ARGS__
)

	)

256 
	#DRM_DEV_ERROR_RATELIMITED
(
dev
, 
fmt
, ...) \

258 
	`DEFINE_RATELIMIT_STATE
(
_rs
, \

259 
DEFAULT_RATELIMIT_INTERVAL
, \

260 
DEFAULT_RATELIMIT_BURST
); \

262 ià(
	`__¿‹lim™
(&
_rs
)) \

263 
	`DRM_DEV_ERROR
(
dev
, 
fmt
, ##
__VA_ARGS__
); \

264 })

	)

265 
	#DRM_ERROR_RATELIMITED
(
fmt
, ...) \

266 
	`DRM_DEV_ERROR_RATELIMITED
(
NULL
, 
fmt
, ##
__VA_ARGS__
)

	)

268 
	#DRM_DEV_INFO
(
dev
, 
fmt
, ...) \

269 
	`drm_dev_´štk
(
dev
, 
KERN_INFO
, 
DRM_UT_NONE
, 
__func__
, "", 
fmt
, \

270 ##
__VA_ARGS__
)

	)

272 
	#DRM_DEV_INFO_ONCE
(
dev
, 
fmt
, ...) \

274 
boÞ
 
__´št_Úû
 
__»ad_mo¡ly
; \

275 ià(!
__´št_Úû
) { \

276 
__´št_Úû
 = 
Œue
; \

277 
	`DRM_DEV_INFO
(
dev
, 
fmt
, ##
__VA_ARGS__
); \

279 })

	)

287 
	#DRM_DEV_DEBUG
(
dev
, 
fmt
, 
¬gs
...) \

288 
	`drm_dev_´štk
(
dev
, 
KERN_DEBUG
, 
DRM_UT_CORE
, 
__func__
, "", 
fmt
, \

289 ##
¬gs
)

	)

290 
	#DRM_DEBUG
(
fmt
, ...) \

291 
	`drm_´štk
(
KERN_DEBUG
, 
DRM_UT_CORE
, 
fmt
, ##
__VA_ARGS__
)

	)

293 
	#DRM_DEV_DEBUG_DRIVER
(
dev
, 
fmt
, 
¬gs
...) \

294 
	`drm_dev_´štk
(
dev
, 
KERN_DEBUG
, 
DRM_UT_DRIVER
, 
__func__
, "", \

295 
fmt
, ##
¬gs
)

	)

296 
	#DRM_DEBUG_DRIVER
(
fmt
, ...) \

297 
	`drm_´štk
(
KERN_DEBUG
, 
DRM_UT_DRIVER
, 
fmt
, ##
__VA_ARGS__
)

	)

299 
	#DRM_DEV_DEBUG_KMS
(
dev
, 
fmt
, 
¬gs
...) \

300 
	`drm_dev_´štk
(
dev
, 
KERN_DEBUG
, 
DRM_UT_KMS
, 
__func__
, "", 
fmt
, \

301 ##
¬gs
)

	)

302 
	#DRM_DEBUG_KMS
(
fmt
, ...) \

303 
	`drm_´štk
(
KERN_DEBUG
, 
DRM_UT_KMS
, 
fmt
, ##
__VA_ARGS__
)

	)

305 
	#DRM_DEV_DEBUG_PRIME
(
dev
, 
fmt
, 
¬gs
...) \

306 
	`drm_dev_´štk
(
dev
, 
KERN_DEBUG
, 
DRM_UT_PRIME
, 
__func__
, "", \

307 
fmt
, ##
¬gs
)

	)

308 
	#DRM_DEBUG_PRIME
(
fmt
, ...) \

309 
	`drm_´štk
(
KERN_DEBUG
, 
DRM_UT_PRIME
, 
fmt
, ##
__VA_ARGS__
)

	)

311 
	#DRM_DEV_DEBUG_ATOMIC
(
dev
, 
fmt
, 
¬gs
...) \

312 
	`drm_dev_´štk
(
dev
, 
KERN_DEBUG
, 
DRM_UT_ATOMIC
, 
__func__
, "", \

313 
fmt
, ##
¬gs
)

	)

314 
	#DRM_DEBUG_ATOMIC
(
fmt
, ...) \

315 
	`drm_´štk
(
KERN_DEBUG
, 
DRM_UT_ATOMIC
, 
fmt
, ##
__VA_ARGS__
)

	)

317 
	#DRM_DEV_DEBUG_VBL
(
dev
, 
fmt
, 
¬gs
...) \

318 
	`drm_dev_´štk
(
dev
, 
KERN_DEBUG
, 
DRM_UT_VBL
, 
__func__
, "", 
fmt
, \

319 ##
¬gs
)

	)

320 
	#DRM_DEBUG_VBL
(
fmt
, ...) \

321 
	`drm_´štk
(
KERN_DEBUG
, 
DRM_UT_VBL
, 
fmt
, ##
__VA_ARGS__
)

	)

323 
	#DRM_DEBUG_LEASE
(
fmt
, ...) \

324 
	`drm_´štk
(
KERN_DEBUG
, 
DRM_UT_LEASE
, 
fmt
, ##
__VA_ARGS__
)

	)

326 
	#_DRM_DEV_DEFINE_DEBUG_RATELIMITED
(
dev
, 
Ëv–
, 
fmt
, 
¬gs
...) \

328 
	`DEFINE_RATELIMIT_STATE
(
_rs
, \

329 
DEFAULT_RATELIMIT_INTERVAL
, \

330 
DEFAULT_RATELIMIT_BURST
); \

331 ià(
	`__¿‹lim™
(&
_rs
)) \

332 
	`drm_dev_´štk
(
dev
, 
KERN_DEBUG
, 
DRM_UT_
 ## 
Ëv–
, \

333 
__func__
, "", 
fmt
, ##
¬gs
); \

334 })

	)

336 #iâdeà
__lšux__


337 #undeà
DRM_DEBUG


338 
	#DRM_DEBUG
(
fmt
, ...) \

339 
	`drm_´štk
(
KERN_DEBUG
, 
DRM_UT_CORE
, 
__func__
, 
fmt
, ##
__VA_ARGS__
)

	)

341 #undeà
DRM_DEBUG_DRIVER


342 
	#DRM_DEBUG_DRIVER
(
fmt
, ...) \

343 
	`drm_´štk
(
KERN_DEBUG
, 
DRM_UT_DRIVER
, 
__func__
, 
fmt
, ##
__VA_ARGS__
)

	)

345 #undeà
DRM_DEBUG_KMS


346 
	#DRM_DEBUG_KMS
(
fmt
, ...) \

347 
	`drm_´štk
(
KERN_DEBUG
, 
DRM_UT_KMS
, 
__func__
, 
fmt
, ##
__VA_ARGS__
)

	)

349 #undeà
DRM_DEBUG_PRIME


350 
	#DRM_DEBUG_PRIME
(
fmt
, ...) \

351 
	`drm_´štk
(
KERN_DEBUG
, 
DRM_UT_PRIME
, 
__func__
, 
fmt
, ##
__VA_ARGS__
)

	)

353 #undeà
DRM_DEBUG_ATOMIC


354 
	#DRM_DEBUG_ATOMIC
(
fmt
, ...) \

355 
	`drm_´štk
(
KERN_DEBUG
, 
DRM_UT_ATOMIC
, 
__func__
, 
fmt
, ##
__VA_ARGS__
)

	)

357 #undeà
DRM_DEBUG_VBL


358 
	#DRM_DEBUG_VBL
(
fmt
, ...) \

359 
	`drm_´štk
(
KERN_DEBUG
, 
DRM_UT_VBL
, 
__func__
, 
fmt
, ##
__VA_ARGS__
)

	)

361 #undeà
DRM_DEBUG_LEASE


362 
	#DRM_DEBUG_LEASE
(
fmt
, ...) \

363 
	`drm_´štk
(
KERN_DEBUG
, 
DRM_UT_LEASE
, 
__func__
, 
fmt
, ##
__VA_ARGS__
)

	)

372 
	#DRM_DEV_DEBUG_RATELIMITED
(
dev
, 
fmt
, 
¬gs
...) \

373 
	`DEV__DRM_DEFINE_DEBUG_RATELIMITED
(
dev
, 
CORE
, 
fmt
, ##
¬gs
)

	)

374 
	#DRM_DEBUG_RATELIMITED
(
fmt
, 
¬gs
...) \

375 
	`DRM_DEV_DEBUG_RATELIMITED
(
NULL
, 
fmt
, ##
¬gs
)

	)

376 
	#DRM_DEV_DEBUG_DRIVER_RATELIMITED
(
dev
, 
fmt
, 
¬gs
...) \

377 
	`_DRM_DEV_DEFINE_DEBUG_RATELIMITED
(
dev
, 
DRIVER
, 
fmt
, ##
¬gs
)

	)

378 
	#DRM_DEBUG_DRIVER_RATELIMITED
(
fmt
, 
¬gs
...) \

379 
	`DRM_DEV_DEBUG_DRIVER_RATELIMITED
(
NULL
, 
fmt
, ##
¬gs
)

	)

380 
	#DRM_DEV_DEBUG_KMS_RATELIMITED
(
dev
, 
fmt
, 
¬gs
...) \

381 
	`_DRM_DEV_DEFINE_DEBUG_RATELIMITED
(
dev
, 
KMS
, 
fmt
, ##
¬gs
)

	)

382 
	#DRM_DEBUG_KMS_RATELIMITED
(
fmt
, 
¬gs
...) \

383 
	`DRM_DEV_DEBUG_KMS_RATELIMITED
(
NULL
, 
fmt
, ##
¬gs
)

	)

384 
	#DRM_DEV_DEBUG_PRIME_RATELIMITED
(
dev
, 
fmt
, 
¬gs
...) \

385 
	`_DRM_DEV_DEFINE_DEBUG_RATELIMITED
(
dev
, 
PRIME
, 
fmt
, ##
¬gs
)

	)

386 
	#DRM_DEBUG_PRIME_RATELIMITED
(
fmt
, 
¬gs
...) \

387 
	`DRM_DEV_DEBUG_PRIME_RATELIMITED
(
NULL
, 
fmt
, ##
¬gs
)

	)

	@src/common/linuxkpi/include/drm/drm_property.h

23 #iâdeà
__DRM_PROPERTY_H__


24 
	#__DRM_PROPERTY_H__


	)

26 
	~<lšux/li¡.h
>

27 
	~<lšux/ùy³.h
>

28 
	~<drm/drm_mode_objeù.h
>

39 
	sdrm_´Ý”ty_’um
 {

40 
ušt64_t
 
	mv®ue
;

41 
li¡_h—d
 
	mh—d
;

42 
	mÇme
[
DRM_PROP_NAME_LEN
];

71 
	sdrm_´Ý”ty
 {

75 
li¡_h—d
 
	mh—d
;

80 
drm_mode_objeù
 
	mba£
;

156 
ušt32_t
 
	mæags
;

161 
	mÇme
[
DRM_PROP_NAME_LEN
];

166 
ušt32_t
 
	mnum_v®ues
;

174 
ušt64_t
 *
	mv®ues
;

179 
drm_deviû
 *
	mdev
;

187 
li¡_h—d
 
	m’um_li¡
;

206 
	sdrm_´Ý”ty_blob
 {

207 
drm_mode_objeù
 
	mba£
;

208 
drm_deviû
 *
	mdev
;

209 
li¡_h—d
 
	mh—d_glob®
;

210 
li¡_h—d
 
	mh—d_fže
;

211 
size_t
 
	mËngth
;

212 
	md©a
[];

215 
	sdrm_´Ý_’um_li¡
 {

216 
	mty³
;

217 cÚ¡ *
	mÇme
;

220 
	#obj_to_´Ý”ty
(
x
è
	`cÚš”_of
(x, 
drm_´Ý”ty
, 
ba£
)

	)

221 
	#obj_to_blob
(
x
è
	`cÚš”_of
(x, 
drm_´Ý”ty_blob
, 
ba£
)

	)

231 
šlše
 
boÞ
 
	$drm_´Ý”ty_ty³_is
(
drm_´Ý”ty
 *
´Ý”ty
,

232 
ušt32_t
 
ty³
)

235 ià(
´Ý”ty
->
æags
 & 
DRM_MODE_PROP_EXTENDED_TYPE
)

236  (
´Ý”ty
->
æags
 & 
DRM_MODE_PROP_EXTENDED_TYPE
è=ð
ty³
;

237  
´Ý”ty
->
æags
 & 
ty³
;

238 
	}
}

240 
drm_´Ý”ty
 *
drm_´Ý”ty_ü—‹
(
drm_deviû
 *
dev
, 
æags
,

241 cÚ¡ *
Çme
, 
num_v®ues
);

242 
drm_´Ý”ty
 *
drm_´Ý”ty_ü—‹_’um
(
drm_deviû
 *
dev
, 
æags
,

243 cÚ¡ *
Çme
,

244 cÚ¡ 
drm_´Ý_’um_li¡
 *
´Ýs
,

245 
num_v®ues
);

246 
drm_´Ý”ty
 *
drm_´Ý”ty_ü—‹_b™mask
(
drm_deviû
 *
dev
,

247 
æags
, cÚ¡ *
Çme
,

248 cÚ¡ 
drm_´Ý_’um_li¡
 *
´Ýs
,

249 
num_´Ýs
,

250 
ušt64_t
 
suµÜ‹d_b™s
);

251 
drm_´Ý”ty
 *
drm_´Ý”ty_ü—‹_¿nge
(
drm_deviû
 *
dev
, 
æags
,

252 cÚ¡ *
Çme
,

253 
ušt64_t
 
mš
, ušt64_ˆ
max
);

254 
drm_´Ý”ty
 *
drm_´Ý”ty_ü—‹_sigÃd_¿nge
(
drm_deviû
 *
dev
,

255 
æags
, cÚ¡ *
Çme
,

256 
št64_t
 
mš
, iÁ64_ˆ
max
);

257 
drm_´Ý”ty
 *
drm_´Ý”ty_ü—‹_objeù
(
drm_deviû
 *
dev
,

258 
æags
, cÚ¡ *
Çme
, 
ušt32_t
 
ty³
);

259 
drm_´Ý”ty
 *
drm_´Ý”ty_ü—‹_boÞ
(
drm_deviû
 *
dev
, 
æags
,

260 cÚ¡ *
Çme
);

261 
drm_´Ý”ty_add_’um
(
drm_´Ý”ty
 *
´Ý”ty
, 
šdex
,

262 
ušt64_t
 
v®ue
, cÚ¡ *
Çme
);

263 
drm_´Ý”ty_de¡roy
(
drm_deviû
 *
dev
, 
drm_´Ý”ty
 *
´Ý”ty
);

265 
drm_´Ý”ty_blob
 *
drm_´Ý”ty_ü—‹_blob
(
drm_deviû
 *
dev
,

266 
size_t
 
Ëngth
,

267 cÚ¡ *
d©a
);

268 
drm_´Ý”ty_blob
 *
drm_´Ý”ty_lookup_blob
(
drm_deviû
 *
dev
,

269 
ušt32_t
 
id
);

270 
drm_´Ý”ty_»¶aû_glob®_blob
(
drm_deviû
 *
dev
,

271 
drm_´Ý”ty_blob
 **
»¶aû
,

272 
size_t
 
Ëngth
,

273 cÚ¡ *
d©a
,

274 
drm_mode_objeù
 *
obj_hÞds_id
,

275 
drm_´Ý”ty
 *
´Ý_hÞds_id
);

276 
boÞ
 
drm_´Ý”ty_»¶aû_blob
(
drm_´Ý”ty_blob
 **
blob
,

277 
drm_´Ý”ty_blob
 *
Ãw_blob
);

278 
drm_´Ý”ty_blob
 *
drm_´Ý”ty_blob_g‘
(drm_´Ý”ty_blob *
blob
);

279 
drm_´Ý”ty_blob_put
(
drm_´Ý”ty_blob
 *
blob
);

288 
šlše
 
drm_´Ý”ty_blob
 *

289 
	$drm_´Ý”ty_»ã»nû_blob
(
drm_´Ý”ty_blob
 *
blob
)

291  
	`drm_´Ý”ty_blob_g‘
(
blob
);

292 
	}
}

301 
šlše
 

302 
	$drm_´Ý”ty_uÄeã»nû_blob
(
drm_´Ý”ty_blob
 *
blob
)

304 
	`drm_´Ý”ty_blob_put
(
blob
);

305 
	}
}

315 
šlše
 
drm_´Ý”ty
 *
	$drm_´Ý”ty_fšd
(
drm_deviû
 *
dev
,

316 
drm_fže
 *
fže_´iv
,

317 
ušt32_t
 
id
)

319 
drm_mode_objeù
 *
mo
;

320 
mo
 = 
	`drm_mode_objeù_fšd
(
dev
, 
fže_´iv
, 
id
, 
DRM_MODE_OBJECT_PROPERTY
);

321  
mo
 ? 
	`obj_to_´Ý”ty
(moè: 
NULL
;

322 
	}
}

	@src/common/linuxkpi/include/drm/drm_rect.h

24 #iâdeà
DRM_RECT_H


25 
	#DRM_RECT_H


	)

41 
	sdrm_»ù
 {

42 
	mx1
, 
	my1
, 
	mx2
, 
	my2
;

48 
	#DRM_RECT_FMT
 "%dx%d%+d%+d"

	)

53 
	#DRM_RECT_ARG
(
r
è
	`drm_»ù_width
Ô), 
	`drm_»ù_height
Ô), (r)->
x1
, (r)->
y1


	)

58 
	#DRM_RECT_FP_FMT
 "%d.%06ux%d.%06u%+d.%06u%+d.%06u"

	)

66 
	#DRM_RECT_FP_ARG
(
r
) \

67 
	`drm_»ù_width
(
r
) >> 16, ((drm_rect_width(r) & 0xffff) * 15625) >> 10, \

68 
	`drm_»ù_height
(
r
) >> 16, ((drm_rect_height(r) & 0xffff) * 15625) >> 10, \

69 (
r
)->
x1
 >> 16, (((r)->x1 & 0xffff) * 15625) >> 10, \

70 (
r
)->
y1
 >> 16, ((Ô)->y1 & 0xffffè* 15625è>> 10

	)

84 
šlše
 
	$drm_»ù_adju¡_size
(
drm_»ù
 *
r
, 
dw
, 
dh
)

86 
r
->
x1
 -ð
dw
 >> 1;

87 
r
->
y1
 -ð
dh
 >> 1;

88 
r
->
x2
 +ð(
dw
 + 1) >> 1;

89 
r
->
y2
 +ð(
dh
 + 1) >> 1;

90 
	}
}

101 
šlše
 
	$drm_»ù_Œª¦©e
(
drm_»ù
 *
r
, 
dx
, 
dy
)

103 
r
->
x1
 +ð
dx
;

104 
r
->
y1
 +ð
dy
;

105 
r
->
x2
 +ð
dx
;

106 
r
->
y2
 +ð
dy
;

107 
	}
}

117 
šlše
 
	$drm_»ù_downsÿË
(
drm_»ù
 *
r
, 
hÜz
, 
v”t
)

119 
r
->
x1
 /ð
hÜz
;

120 
r
->
y1
 /ð
v”t
;

121 
r
->
x2
 /ð
hÜz
;

122 
r
->
y2
 /ð
v”t
;

123 
	}
}

132 
šlše
 
	$drm_»ù_width
(cÚ¡ 
drm_»ù
 *
r
)

134  
r
->
x2
 -„->
x1
;

135 
	}
}

144 
šlše
 
	$drm_»ù_height
(cÚ¡ 
drm_»ù
 *
r
)

146  
r
->
y2
 -„->
y1
;

147 
	}
}

156 
šlše
 
boÞ
 
	$drm_»ù_visibË
(cÚ¡ 
drm_»ù
 *
r
)

158  
	`drm_»ù_width
(
r
è> 0 && 
	`drm_»ù_height
(r) > 0;

159 
	}
}

169 
šlše
 
boÞ
 
	$drm_»ù_equ®s
(cÚ¡ 
drm_»ù
 *
r1
,

170 cÚ¡ 
drm_»ù
 *
r2
)

172  
r1
->
x1
 =ð
r2
->x1 &&„1->
x2
 ==„2->x2 &&

173 
r1
->
y1
 =ð
r2
->y1 &&„1->
y2
 ==„2->y2;

174 
	}
}

176 
boÞ
 
drm_»ù_š‹r£ù
(
drm_»ù
 *
r
, cÚ¡ drm_»ù *
þ
);

177 
boÞ
 
drm_»ù_þ_sÿËd
(
drm_»ù
 *
¤c
, drm_»ù *
d¡
,

178 cÚ¡ 
drm_»ù
 *
þ
,

179 
hsÿË
, 
vsÿË
);

180 
drm_»ù_ÿlc_hsÿË
(cÚ¡ 
drm_»ù
 *
¤c
,

181 cÚ¡ 
drm_»ù
 *
d¡
,

182 
mš_hsÿË
, 
max_hsÿË
);

183 
drm_»ù_ÿlc_vsÿË
(cÚ¡ 
drm_»ù
 *
¤c
,

184 cÚ¡ 
drm_»ù
 *
d¡
,

185 
mš_vsÿË
, 
max_vsÿË
);

186 
drm_»ù_ÿlc_hsÿË_»Ïxed
(
drm_»ù
 *
¤c
,

187 
drm_»ù
 *
d¡
,

188 
mš_hsÿË
, 
max_hsÿË
);

189 
drm_»ù_ÿlc_vsÿË_»Ïxed
(
drm_»ù
 *
¤c
,

190 
drm_»ù
 *
d¡
,

191 
mš_vsÿË
, 
max_vsÿË
);

192 
drm_»ù_debug_´št
(cÚ¡ *
´efix
,

193 cÚ¡ 
drm_»ù
 *
r
, 
boÞ
 
fixed_pošt
);

194 
drm_»ù_rÙ©e
(
drm_»ù
 *
r
,

195 
width
, 
height
,

196 
rÙ©iÚ
);

197 
drm_»ù_rÙ©e_šv
(
drm_»ù
 *
r
,

198 
width
, 
height
,

199 
rÙ©iÚ
);

	@src/common/linuxkpi/include/drm/drm_scdc_helper.h

24 #iâdeà
DRM_SCDC_HELPER_H


25 
	#DRM_SCDC_HELPER_H


	)

27 
	~<lšux/i2c.h
>

28 
	~<lšux/ty³s.h
>

30 
	#SCDC_SINK_VERSION
 0x01

	)

32 
	#SCDC_SOURCE_VERSION
 0x02

	)

34 
	#SCDC_UPDATE_0
 0x10

	)

35 
	#SCDC_READ_REQUEST_TEST
 (1 << 2)

	)

36 
	#SCDC_CED_UPDATE
 (1 << 1)

	)

37 
	#SCDC_STATUS_UPDATE
 (1 << 0)

	)

39 
	#SCDC_UPDATE_1
 0x11

	)

41 
	#SCDC_TMDS_CONFIG
 0x20

	)

42 
	#SCDC_TMDS_BIT_CLOCK_RATIO_BY_40
 (1 << 1)

	)

43 
	#SCDC_TMDS_BIT_CLOCK_RATIO_BY_10
 (0 << 1)

	)

44 
	#SCDC_SCRAMBLING_ENABLE
 (1 << 0)

	)

46 
	#SCDC_SCRAMBLER_STATUS
 0x21

	)

47 
	#SCDC_SCRAMBLING_STATUS
 (1 << 0)

	)

49 
	#SCDC_CONFIG_0
 0x30

	)

50 
	#SCDC_READ_REQUEST_ENABLE
 (1 << 0)

	)

52 
	#SCDC_STATUS_FLAGS_0
 0x40

	)

53 
	#SCDC_CH2_LOCK
 (1 < 3)

	)

54 
	#SCDC_CH1_LOCK
 (1 < 2)

	)

55 
	#SCDC_CH0_LOCK
 (1 < 1)

	)

56 
	#SCDC_CH_LOCK_MASK
 (
SCDC_CH2_LOCK
 | 
SCDC_CH1_LOCK
 | 
SCDC_CH0_LOCK
)

	)

57 
	#SCDC_CLOCK_DETECT
 (1 << 0)

	)

59 
	#SCDC_STATUS_FLAGS_1
 0x41

	)

61 
	#SCDC_ERR_DET_0_L
 0x50

	)

62 
	#SCDC_ERR_DET_0_H
 0x51

	)

63 
	#SCDC_ERR_DET_1_L
 0x52

	)

64 
	#SCDC_ERR_DET_1_H
 0x53

	)

65 
	#SCDC_ERR_DET_2_L
 0x54

	)

66 
	#SCDC_ERR_DET_2_H
 0x55

	)

67 
	#SCDC_CHANNEL_VALID
 (1 << 7)

	)

69 
	#SCDC_ERR_DET_CHECKSUM
 0x56

	)

71 
	#SCDC_TEST_CONFIG_0
 0xc0

	)

72 
	#SCDC_TEST_READ_REQUEST
 (1 << 7)

	)

73 
	#SCDC_TEST_READ_REQUEST_DELAY
(
x
è((xè& 0x7f)

	)

75 
	#SCDC_MANUFACTURER_IEEE_OUI
 0xd0

	)

76 
	#SCDC_MANUFACTURER_IEEE_OUI_SIZE
 3

	)

78 
	#SCDC_DEVICE_ID
 0xd3

	)

79 
	#SCDC_DEVICE_ID_SIZE
 8

	)

81 
	#SCDC_DEVICE_HARDWARE_REVISION
 0xdb

	)

82 
	#SCDC_GET_DEVICE_HARDWARE_REVISION_MAJOR
(
x
è(((xè>> 4è& 0xf)

	)

83 
	#SCDC_GET_DEVICE_HARDWARE_REVISION_MINOR
(
x
è(((xè>> 0è& 0xf)

	)

85 
	#SCDC_DEVICE_SOFTWARE_MAJOR_REVISION
 0xdc

	)

86 
	#SCDC_DEVICE_SOFTWARE_MINOR_REVISION
 0xdd

	)

88 
	#SCDC_MANUFACTURER_SPECIFIC
 0xde

	)

89 
	#SCDC_MANUFACTURER_SPECIFIC_SIZE
 34

	)

91 
ssize_t
 
drm_scdc_»ad
(
i2c_ad­‹r
 *
ad­‹r
, 
u8
 
off£t
, *
bufãr
,

92 
size_t
 
size
);

93 
ssize_t
 
drm_scdc_wr™e
(
i2c_ad­‹r
 *
ad­‹r
, 
u8
 
off£t
,

94 cÚ¡ *
bufãr
, 
size_t
 
size
);

108 
šlše
 
	$drm_scdc_»adb
(
i2c_ad­‹r
 *
ad­‹r
, 
u8
 
off£t
,

109 
u8
 *
v®ue
)

111  
	`drm_scdc_»ad
(
ad­‹r
, 
off£t
, 
v®ue
, (*value));

112 
	}
}

126 
šlše
 
	$drm_scdc_wr™eb
(
i2c_ad­‹r
 *
ad­‹r
, 
u8
 
off£t
,

127 
u8
 
v®ue
)

129  
	`drm_scdc_wr™e
(
ad­‹r
, 
off£t
, &
v®ue
, (value));

130 
	}
}

132 
boÞ
 
drm_scdc_g‘_süamblšg_¡©us
(
i2c_ad­‹r
 *
ad­‹r
);

134 
boÞ
 
drm_scdc_£t_süamblšg
(
i2c_ad­‹r
 *
ad­‹r
, boÞ 
’abË
);

135 
boÞ
 
drm_scdc_£t_high_tmds_þock_¿tio
(
i2c_ad­‹r
 *
ad­‹r
, boÞ 
£t
);

	@src/common/linuxkpi/include/drm/drm_simple_kms_helper.h

10 #iâdeà
__LINUX_DRM_SIMPLE_KMS_HELPER_H


11 
	#__LINUX_DRM_SIMPLE_KMS_HELPER_H


	)

13 
	~<drm/drm_ütc.h
>

14 
	~<drm/drm_’cod”.h
>

15 
	~<drm/drm_¶ªe.h
>

17 
	gdrm_sim¶e_di¥Ïy_pe
;

23 
	sdrm_sim¶e_di¥Ïy_pe_funcs
 {

31 (*
	m’abË
)(
drm_sim¶e_di¥Ïy_pe
 *
	mpe
,

32 
drm_ütc_¡©e
 *
	mütc_¡©e
);

40 (*
	mdi§bË
)(
drm_sim¶e_di¥Ïy_pe
 *
	mpe
);

59 (*
	mcheck
)(
drm_sim¶e_di¥Ïy_pe
 *
	mpe
,

60 
drm_¶ªe_¡©e
 *
	m¶ªe_¡©e
,

61 
drm_ütc_¡©e
 *
	mütc_¡©e
);

74 (*
	mupd©e
)(
drm_sim¶e_di¥Ïy_pe
 *
	mpe
,

75 
drm_¶ªe_¡©e
 *
	mÞd_¶ªe_¡©e
);

84 (*
	m´•¬e_fb
)(
drm_sim¶e_di¥Ïy_pe
 *
	mpe
,

85 
drm_¶ªe_¡©e
 *
	m¶ªe_¡©e
);

94 (*
	mþ—nup_fb
)(
drm_sim¶e_di¥Ïy_pe
 *
	mpe
,

95 
drm_¶ªe_¡©e
 *
	m¶ªe_¡©e
);

109 
	sdrm_sim¶e_di¥Ïy_pe
 {

110 
drm_ütc
 
	mütc
;

111 
drm_¶ªe
 
	m¶ªe
;

112 
drm_’cod”
 
	m’cod”
;

113 
drm_cÚÃùÜ
 *
	mcÚÃùÜ
;

115 cÚ¡ 
drm_sim¶e_di¥Ïy_pe_funcs
 *
	mfuncs
;

118 
drm_sim¶e_di¥Ïy_pe_©ch_bridge
(
drm_sim¶e_di¥Ïy_pe
 *
pe
,

119 
drm_bridge
 *
bridge
);

121 
drm_sim¶e_di¥Ïy_pe_š™
(
drm_deviû
 *
dev
,

122 
drm_sim¶e_di¥Ïy_pe
 *
pe
,

123 cÚ¡ 
drm_sim¶e_di¥Ïy_pe_funcs
 *
funcs
,

124 cÚ¡ 
ušt32_t
 *
fÜm©s
, 
fÜm©_couÁ
,

125 cÚ¡ 
ušt64_t
 *
fÜm©_modif›rs
,

126 
drm_cÚÃùÜ
 *
cÚÃùÜ
);

	@src/common/linuxkpi/include/drm/drm_syncobj.h

26 #iâdeà
__DRM_SYNCOBJ_H__


27 
	#__DRM_SYNCOBJ_H__


	)

29 
	~"lšux/dma-ãnû.h
"

31 
	gdrm_syncobj_cb
;

38 
	sdrm_syncobj
 {

42 
k»f
 
	m»fcouÁ
;

50 
dma_ãnû
 
__rcu
 *
	mãnû
;

54 
li¡_h—d
 
	mcb_li¡
;

58 
¥šlock_t
 
	mlock
;

62 
fže
 *
	mfže
;

65 (*
	tdrm_syncobj_func_t
)(
	tdrm_syncobj
 *
	tsyncobj
,

66 
	tdrm_syncobj_cb
 *
	tcb
);

79 
	sdrm_syncobj_cb
 {

80 
li¡_h—d
 
node
;

81 
drm_syncobj_func_t
 
func
;

84 
	`drm_syncobj_ä“
(
k»f
 *kref);

93 
šlše
 

94 
	$drm_syncobj_g‘
(
drm_syncobj
 *
obj
)

96 
	`k»f_g‘
(&
obj
->
»fcouÁ
);

97 
	}
}

103 
šlše
 

104 
	$drm_syncobj_put
(
drm_syncobj
 *
obj
)

106 
	`k»f_put
(&
obj
->
»fcouÁ
, 
drm_syncobj_ä“
);

107 
	}
}

120 
šlše
 
dma_ãnû
 *

121 
	$drm_syncobj_ãnû_g‘
(
drm_syncobj
 *
syncobj
)

123 
dma_ãnû
 *
ãnû
;

125 
	`rcu_»ad_lock
();

126 
ãnû
 = 
	`dma_ãnû_g‘_rcu_§ã
(&
syncobj
->fence);

127 
	`rcu_»ad_uÆock
();

129  
ãnû
;

130 
	}
}

132 
drm_syncobj
 *
drm_syncobj_fšd
(
drm_fže
 *
fže_´iv©e
,

133 
u32
 
hªdË
);

134 
drm_syncobj_add_ÿÎback
(
drm_syncobj
 *
syncobj
,

135 
drm_syncobj_cb
 *
cb
,

136 
drm_syncobj_func_t
 
func
);

137 
drm_syncobj_»move_ÿÎback
(
drm_syncobj
 *
syncobj
,

138 
drm_syncobj_cb
 *
cb
);

139 
drm_syncobj_»¶aû_ãnû
(
drm_syncobj
 *
syncobj
,

140 
dma_ãnû
 *
ãnû
);

141 
drm_syncobj_fšd_ãnû
(
drm_fže
 *
fže_´iv©e
,

142 
u32
 
hªdË
,

143 
dma_ãnû
 **
ãnû
);

144 
drm_syncobj_ä“
(
k»f
 *kref);

145 
drm_syncobj_ü—‹
(
drm_syncobj
 **
out_syncobj
, 
ušt32_t
 
æags
,

146 
dma_ãnû
 *
ãnû
);

147 
drm_syncobj_g‘_hªdË
(
drm_fže
 *
fže_´iv©e
,

148 
drm_syncobj
 *
syncobj
, 
u32
 *
hªdË
);

149 
drm_syncobj_g‘_fd
(
drm_syncobj
 *
syncobj
, *
p_fd
);

	@src/common/linuxkpi/include/drm/drm_sysfs.h

2 #iâdeà
_DRM_SYSFS_H_


3 
	#_DRM_SYSFS_H_


	)

5 
	gdrm_deviû
;

6 
	gdeviû
;

8 
drm_þass_deviû_»gi¡”
(
deviû
 *
dev
);

9 
drm_þass_deviû_uÄegi¡”
(
deviû
 *
dev
);

11 
drm_sysfs_hÙ¶ug_ev’t
(
drm_deviû
 *
dev
);

	@src/common/linuxkpi/include/drm/drm_utils.h

10 #iâdeà
__DRM_UTILS_H__


11 
	#__DRM_UTILS_H__


	)

13 
drm_g‘_·Ãl_Ü›Á©iÚ_quœk
(
width
, 
height
);

	@src/common/linuxkpi/include/drm/drm_vblank.h

24 #iâdeà
_DRM_VBLANK_H_


25 
	#_DRM_VBLANK_H_


	)

27 
	~<lšux/£qlock.h
>

28 
	~<lšux/idr.h
>

29 
	~<lšux/pÞl.h
>

31 
	~<drm/drm_fže.h
>

32 
	~<drm/drm_modes.h
>

33 
	~<u­i/drm/drm.h
>

35 
	gdrm_deviû
;

36 
	gdrm_ütc
;

41 
	sdrm_³ndšg_vbÏnk_ev’t
 {

45 
drm_³ndšg_ev’t
 
	mba£
;

49 
	mpe
;

53 
u64
 
	m£qu’û
;

58 
drm_ev’t
 
	mba£
;

59 
drm_ev’t_vbÏnk
 
	mvbl
;

60 
drm_ev’t_ütc_£qu’û
 
	m£q
;

61 } 
	mev’t
;

74 
	sdrm_vbÏnk_ütc
 {

78 
drm_deviû
 *
	mdev
;

82 
wa™_queue_h—d_t
 
	mqueue
;

89 
tim”_li¡
 
	mdi§bË_tim”
;

94 
£qlock_t
 
	m£qlock
;

99 
u64
 
	mcouÁ
;

103 
ktime_t
 
	mtime
;

110 
©omic_t
 
	m»fcouÁ
;

114 
u32
 
	mÏ¡
;

123 
	mšmode£t
;

128 
	mpe
;

134 
	mäamedur_ns
;

140 
	mlšedur_ns
;

151 
drm_di¥Ïy_mode
 
	mhwmode
;

159 
boÞ
 
	m’abËd
;

162 
drm_vbÏnk_š™
(
drm_deviû
 *
dev
, 
num_ütcs
);

163 
u64
 
drm_ütc_vbÏnk_couÁ
(
drm_ütc
 *
ütc
);

164 
u64
 
drm_ütc_vbÏnk_couÁ_ªd_time
(
drm_ütc
 *
ütc
,

165 
ktime_t
 *
vbÏnktime
);

166 
drm_ütc_£nd_vbÏnk_ev’t
(
drm_ütc
 *
ütc
,

167 
drm_³ndšg_vbÏnk_ev’t
 *
e
);

168 
drm_ütc_¬m_vbÏnk_ev’t
(
drm_ütc
 *
ütc
,

169 
drm_³ndšg_vbÏnk_ev’t
 *
e
);

170 
drm_vbÏnk_£t_ev’t
(
drm_³ndšg_vbÏnk_ev’t
 *
e
,

171 
u64
 *
£q
,

172 
ktime_t
 *
now
);

173 
boÞ
 
drm_hªdË_vbÏnk
(
drm_deviû
 *
dev
, 
pe
);

174 
boÞ
 
drm_ütc_hªdË_vbÏnk
(
drm_ütc
 *
ütc
);

175 
drm_ütc_vbÏnk_g‘
(
drm_ütc
 *
ütc
);

176 
drm_ütc_vbÏnk_put
(
drm_ütc
 *
ütc
);

177 
drm_wa™_Úe_vbÏnk
(
drm_deviû
 *
dev
, 
pe
);

178 
drm_ütc_wa™_Úe_vbÏnk
(
drm_ütc
 *
ütc
);

179 
drm_ütc_vbÏnk_off
(
drm_ütc
 *
ütc
);

180 
drm_ütc_vbÏnk_»£t
(
drm_ütc
 *
ütc
);

181 
drm_ütc_vbÏnk_Ú
(
drm_ütc
 *
ütc
);

182 
u64
 
drm_ütc_accu¿‹_vbÏnk_couÁ
(
drm_ütc
 *
ütc
);

184 
boÞ
 
drm_ÿlc_vbÉime¡amp_äom_sÿnouos
(
drm_deviû
 *
dev
,

185 
pe
, *
max_”rÜ
,

186 
ktime_t
 *
vbÏnk_time
,

187 
boÞ
 
š_vbÏnk_œq
);

188 
drm_ÿlc_time¡ampšg_cÚ¡ªts
(
drm_ütc
 *
ütc
,

189 cÚ¡ 
drm_di¥Ïy_mode
 *
mode
);

190 
wa™_queue_h—d_t
 *
drm_ütc_vbÏnk_wa™queue
(
drm_ütc
 *
ütc
);

	@src/common/linuxkpi/include/drm/drm_vma_manager.h

1 #iâdeà
__DRM_VMA_MANAGER_H__


2 
	#__DRM_VMA_MANAGER_H__


	)

26 
	~<drm/drm_mm.h
>

27 
	~<lšux/mm.h
>

28 
	~<lšux/rbŒ“.h
>

29 
	~<lšux/¥šlock.h
>

30 
	~<lšux/ty³s.h
>

32 
	gdrm_fže
;

34 
	sdrm_vma_off£t_fže
 {

35 
rb_node
 
	mvm_rb
;

36 
drm_fže
 *
	mvm_g
;

37 
	mvm_couÁ
;

40 
	sdrm_vma_off£t_node
 {

41 
rwlock_t
 
	mvm_lock
;

42 
drm_mm_node
 
	mvm_node
;

43 
rb_roÙ
 
	mvm_fžes
;

46 
	sdrm_vma_off£t_mªag”
 {

47 
rwlock_t
 
	mvm_lock
;

48 
drm_mm
 
	mvm_addr_¥aû_mm
;

51 
drm_vma_off£t_mªag”_š™
(
drm_vma_off£t_mªag”
 *
mgr
,

52 
·ge_off£t
, 
size
);

53 
drm_vma_off£t_mªag”_de¡roy
(
drm_vma_off£t_mªag”
 *
mgr
);

55 
drm_vma_off£t_node
 *
drm_vma_off£t_lookup_locked
(
drm_vma_off£t_mªag”
 *
mgr
,

56 
¡¬t
,

57 
·ges
);

58 
drm_vma_off£t_add
(
drm_vma_off£t_mªag”
 *
mgr
,

59 
drm_vma_off£t_node
 *
node
, 
·ges
);

60 
drm_vma_off£t_»move
(
drm_vma_off£t_mªag”
 *
mgr
,

61 
drm_vma_off£t_node
 *
node
);

63 
drm_vma_node_®low
(
drm_vma_off£t_node
 *
node
, 
drm_fže
 *
g
);

64 
drm_vma_node_»voke
(
drm_vma_off£t_node
 *
node
,

65 
drm_fže
 *
g
);

66 
boÞ
 
drm_vma_node_is_®lowed
(
drm_vma_off£t_node
 *
node
,

67 
drm_fže
 *
g
);

81 
šlše
 
drm_vma_off£t_node
 *

82 
	$drm_vma_off£t_exaù_lookup_locked
(
drm_vma_off£t_mªag”
 *
mgr
,

83 
¡¬t
,

84 
·ges
)

86 
drm_vma_off£t_node
 *
node
;

88 
node
 = 
	`drm_vma_off£t_lookup_locked
(
mgr
, 
¡¬t
, 
·ges
);

89  (
node
 &&‚ode->
vm_node
.
¡¬t
 =ð¡¬tè?‚od: 
NULL
;

90 
	}
}

108 
šlše
 
	$drm_vma_off£t_lock_lookup
(
drm_vma_off£t_mªag”
 *
mgr
)

110 
	`»ad_lock
(&
mgr
->
vm_lock
);

111 
	}
}

119 
šlše
 
	$drm_vma_off£t_uÆock_lookup
(
drm_vma_off£t_mªag”
 *
mgr
)

121 
	`»ad_uÆock
(&
mgr
->
vm_lock
);

122 
	}
}

134 
šlše
 
	$drm_vma_node_»£t
(
drm_vma_off£t_node
 *
node
)

136 
	`mem£t
(
node
, 0, (*node));

137 
node
->
vm_fžes
 = 
RB_ROOT
;

138 
	`rwlock_š™
(&
node
->
vm_lock
);

139 
	}
}

155 
šlše
 
	$drm_vma_node_¡¬t
(cÚ¡ 
drm_vma_off£t_node
 *
node
)

157  
node
->
vm_node
.
¡¬t
;

158 
	}
}

172 
šlše
 
	$drm_vma_node_size
(
drm_vma_off£t_node
 *
node
)

174  
node
->
vm_node
.
size
;

175 
	}
}

189 
šlše
 
__u64
 
	$drm_vma_node_off£t_addr
(
drm_vma_off£t_node
 *
node
)

191  ((
__u64
)
node
->
vm_node
.
¡¬t
è<< 
PAGE_SHIFT
;

192 
	}
}

194 #ifdeà
__lšux__


207 
šlše
 
	$drm_vma_node_unm­
(
drm_vma_off£t_node
 *
node
,

208 
add»ss_¥aû
 *
fže_m­pšg
)

210 ià(
	`drm_mm_node_®loÿ‹d
(&
node
->
vm_node
))

211 
	`unm­_m­pšg_¿nge
(
fže_m­pšg
,

212 
	`drm_vma_node_off£t_addr
(
node
),

213 
	`drm_vma_node_size
(
node
è<< 
PAGE_SHIFT
, 1);

214 
	}
}

229 
šlše
 
	$drm_vma_node_v”ify_acûss
(
drm_vma_off£t_node
 *
node
,

230 
drm_fže
 *
g
)

232  
	`drm_vma_node_is_®lowed
(
node
, 
g
è? 0 : -
EACCES
;

233 
	}
}

	@src/common/linuxkpi/include/drm/gma_drm.h

22 #iâdeà
_GMA_DRM_H_


23 
	#_GMA_DRM_H_


	)

	@src/common/linuxkpi/include/drm/gpu_scheduler.h

24 #iâdeà
_DRM_GPU_SCHEDULER_H_


25 
	#_DRM_GPU_SCHEDULER_H_


	)

27 
	~<drm/¥sc_queue.h
>

28 
	~<lšux/dma-ãnû.h
>

30 
	gdrm_gpu_scheduËr
;

31 
	gdrm_sched_rq
;

33 
	edrm_sched_´iÜ™y
 {

34 
	mDRM_SCHED_PRIORITY_MIN
,

35 
	mDRM_SCHED_PRIORITY_LOW
 = 
DRM_SCHED_PRIORITY_MIN
,

36 
	mDRM_SCHED_PRIORITY_NORMAL
,

37 
	mDRM_SCHED_PRIORITY_HIGH_SW
,

38 
	mDRM_SCHED_PRIORITY_HIGH_HW
,

39 
	mDRM_SCHED_PRIORITY_KERNEL
,

40 
	mDRM_SCHED_PRIORITY_MAX
,

41 
	mDRM_SCHED_PRIORITY_INVALID
 = -1,

42 
	mDRM_SCHED_PRIORITY_UNSET
 = -2

51 
	sdrm_sched_’t™y
 {

52 
li¡_h—d
 
	mli¡
;

53 
drm_sched_rq
 *
	mrq
;

54 
¥šlock_t
 
	mrq_lock
;

55 
drm_gpu_scheduËr
 *
	msched
;

57 
¥šlock_t
 
	mqueue_lock
;

58 
¥sc_queue
 
	mjob_queue
;

60 
©omic_t
 
	mãnû_£q
;

61 
ušt64_t
 
	mãnû_cÚ‹xt
;

63 
dma_ãnû
 *
	md•’d’cy
;

64 
dma_ãnû_cb
 
	mcb
;

65 
©omic_t
 *
	mgužty
;

73 
	sdrm_sched_rq
 {

74 
¥šlock_t
 
	mlock
;

75 
li¡_h—d
 
	m’t™›s
;

76 
drm_sched_’t™y
 *
	mcu¼’t_’t™y
;

79 
	sdrm_sched_ãnû
 {

80 
dma_ãnû
 
	mscheduËd
;

81 
dma_ãnû
 
	mfšished
;

82 
dma_ãnû_cb
 
	mcb
;

83 
dma_ãnû
 *
	m·»Á
;

84 
drm_gpu_scheduËr
 *
	msched
;

85 
¥šlock_t
 
	mlock
;

86 *
	mowÃr
;

89 
drm_sched_ãnû
 *
to_drm_sched_ãnû
(
dma_ãnû
 *
f
);

91 
	sdrm_sched_job
 {

92 
¥sc_node
 
	mqueue_node
;

93 
drm_gpu_scheduËr
 *
	msched
;

94 
drm_sched_ãnû
 *
	ms_ãnû
;

95 
dma_ãnû_cb
 
	mfšish_cb
;

96 
wÜk_¡ruù
 
	mfšish_wÜk
;

97 
li¡_h—d
 
	mnode
;

98 
d–ayed_wÜk
 
	mwÜk_tdr
;

99 
ušt64_t
 
	mid
;

100 
©omic_t
 
	mk¬ma
;

101 
drm_sched_´iÜ™y
 
	ms_´iÜ™y
;

104 
šlše
 
boÞ
 
	$drm_sched_šv®id©e_job
(
drm_sched_job
 *
s_job
,

105 
th»shÞd
)

107  (
s_job
 && 
	`©omic_šc_»tuº
(&s_job->
k¬ma
è> 
th»shÞd
);

108 
	}
}

114 
	sdrm_sched_back’d_Ýs
 {

115 
	mdma_ãnû
 *(*
	md•’d’cy
)(
drm_sched_job
 *
	msched_job
,

116 
drm_sched_’t™y
 *
	ms_’t™y
);

117 
	mdma_ãnû
 *(*
	mrun_job
)(
drm_sched_job
 *
	msched_job
);

118 (*
	mtimedout_job
)(
drm_sched_job
 *
	msched_job
);

119 (*
	mä“_job
)(
drm_sched_job
 *
	msched_job
);

125 
	sdrm_gpu_scheduËr
 {

126 cÚ¡ 
drm_sched_back’d_Ýs
 *
	mÝs
;

127 
ušt32_t
 
	mhw_submissiÚ_lim™
;

128 
	mtimeout
;

129 cÚ¡ *
	mÇme
;

130 
drm_sched_rq
 
	msched_rq
[
DRM_SCHED_PRIORITY_MAX
];

131 
wa™_queue_h—d_t
 
	mwake_up_wÜk”
;

132 
wa™_queue_h—d_t
 
	mjob_scheduËd
;

133 
©omic_t
 
	mhw_rq_couÁ
;

134 
©omic64_t
 
	mjob_id_couÁ
;

135 
sk_¡ruù
 *
	mth»ad
;

136 
li¡_h—d
 
	mršg_mœrÜ_li¡
;

137 
¥šlock_t
 
	mjob_li¡_lock
;

138 
	mhªg_lim™
;

141 
drm_sched_š™
(
drm_gpu_scheduËr
 *
sched
,

142 cÚ¡ 
drm_sched_back’d_Ýs
 *
Ýs
,

143 
ušt32_t
 
hw_submissiÚ
, 
hªg_lim™
, 
timeout
,

144 cÚ¡ *
Çme
);

145 
drm_sched_fši
(
drm_gpu_scheduËr
 *
sched
);

147 
drm_sched_’t™y_š™
(
drm_gpu_scheduËr
 *
sched
,

148 
drm_sched_’t™y
 *
’t™y
,

149 
drm_sched_rq
 *
rq
,

150 
ušt32_t
 
jobs
, 
©omic_t
 *
gužty
);

151 
drm_sched_’t™y_fši
(
drm_gpu_scheduËr
 *
sched
,

152 
drm_sched_’t™y
 *
’t™y
);

153 
drm_sched_’t™y_push_job
(
drm_sched_job
 *
sched_job
,

154 
drm_sched_’t™y
 *
’t™y
);

155 
drm_sched_’t™y_£t_rq
(
drm_sched_’t™y
 *
’t™y
,

156 
drm_sched_rq
 *
rq
);

158 
drm_sched_ãnû
 *
drm_sched_ãnû_ü—‹
(

159 
drm_sched_’t™y
 *
s_’t™y
, *
owÃr
);

160 
drm_sched_ãnû_scheduËd
(
drm_sched_ãnû
 *
ãnû
);

161 
drm_sched_ãnû_fšished
(
drm_sched_ãnû
 *
ãnû
);

162 
drm_sched_job_š™
(
drm_sched_job
 *
job
,

163 
drm_gpu_scheduËr
 *
sched
,

164 
drm_sched_’t™y
 *
’t™y
,

165 *
owÃr
);

166 
drm_sched_hw_job_»£t
(
drm_gpu_scheduËr
 *
sched
,

167 
drm_sched_job
 *
job
);

168 
drm_sched_job_»cov”y
(
drm_gpu_scheduËr
 *
sched
);

169 
boÞ
 
drm_sched_d•’d’cy_Ýtimized
(
dma_ãnû
* 
ãnû
,

170 
drm_sched_’t™y
 *
’t™y
);

171 
drm_sched_job_kickout
(
drm_sched_job
 *
s_job
);

	@src/common/linuxkpi/include/drm/gpu_scheduler_trace.h

24 #ià!
defšed
(
_GPU_SCHED_TRACE_H
è|| defšed(
TRACE_HEADER_MULTI_READ
)

25 
	#_GPU_SCHED_TRACE_H_


	)

27 
	~<drm/drmP.h
>

30 
šlše
 

31 
	$Œaû_drm_sched_job
(*
sched_job
, *
’t™y
){

32 
	`CTR2
(
KTR_DRM
, "drm_sched_job %p,ƒÁ™y %p", 
sched_job
, 
’t™y
);

33 
	}
}

35 
šlše
 

36 
	$Œaû_drm_sched_´oûss_job
(*
s_ãnû
){

37 
	`CTR1
(
KTR_DRM
, "drm_´oûss_sched_job %p", 
s_ãnû
);

38 
	}
}

40 #ifdeà
__lšux__


41 #undeà
TRACE_SYSTEM


42 
	#TRACE_SYSTEM
 
gpu_scheduËr


	)

43 
	#TRACE_INCLUDE_FILE
 
gpu_scheduËr_Œaû


	)

45 
TRACE_EVENT
(
drm_sched_job
,

46 
TP_PROTO
(
drm_sched_job
 *
sched_job
, 
drm_sched_’t™y
 *
’t™y
),

47 
TP_ARGS
(
sched_job
, 
’t™y
),

48 
TP_STRUCT__’Œy
(

49 
	$__f›ld
(
drm_sched_’t™y
 *, 
’t™y
)

50 
	$__f›ld
(
dma_ãnû
 *, 
ãnû
)

51 
	$__f›ld
(cÚ¡ *, 
Çme
)

52 
	$__f›ld
(
ušt64_t
, 
id
)

53 
	$__f›ld
(
u32
, 
job_couÁ
)

54 
	`__f›ld
(, 
hw_job_couÁ
)

57 
	`TP_ç¡_assign
(

58 
__’Œy
->
’t™y
 =ƒntity;

59 
__’Œy
->
id
 = 
sched_job
->id;

60 
__’Œy
->
ãnû
 = &
sched_job
->
s_ãnû
->
fšished
;

61 
__’Œy
->
Çme
 = 
sched_job
->
sched
->name;

62 
__’Œy
->
job_couÁ
 = 
	`¥sc_queue_couÁ
(&
’t™y
->
job_queue
);

63 
__’Œy
->
hw_job_couÁ
 = 
	`©omic_»ad
(

64 &
sched_job
->
sched
->
hw_rq_couÁ
);

66 
	`TP_´štk
("entity=%p, id=%llu, fence=%p,„ing=%s, job count:%u, hw job count:%d",

67 
__’Œy
->
’t™y
, __’Œy->
id
,

68 
__’Œy
->
ãnû
, __’Œy->
Çme
,

69 
__’Œy
->
job_couÁ
, __’Œy->
hw_job_couÁ
)

72 
	`TRACE_EVENT
(
drm_sched_´oûss_job
,

73 
	`TP_PROTO
(
drm_sched_ãnû
 *
ãnû
),

74 
	`TP_ARGS
(
ãnû
),

75 
	`TP_STRUCT__’Œy
(

76 
	`__f›ld
(
dma_ãnû
 *, 
ãnû
)

79 
	`TP_ç¡_assign
(

80 
__’Œy
->
ãnû
 = &ãnû->
fšished
;

82 
	`TP_´štk
("ãnû=%°sigÇËd", 
__’Œy
->
ãnû
)

	@src/common/linuxkpi/include/drm/i915_component.h

24 #iâdeà
_I915_COMPONENT_H_


25 
	#_I915_COMPONENT_H_


	)

31 
	#MAX_PORTS
 5

	)

33 
	gdeviû
;

38 
	si915_audio_compÚ’t_Ýs
 {

42 
moduË
 *
	mowÃr
;

48 (*
	mg‘_pow”
)(
	mdeviû
 *);

54 (*
	mput_pow”
)(
	mdeviû
 *);

58 (*
	mcodec_wake_ov”ride
)(
	mdeviû
 *, 
boÞ
 
	m’abË
);

62 (*
	mg‘_cdþk_äeq
)(
	mdeviû
 *);

69 (*
	msync_audio_¿‹
)(
	mdeviû
 *, 
	mpÜt
, 
	mpe
, 
	m¿‹
);

82 (*
	mg‘_–d
)(
	mdeviû
 *, 
	mpÜt
, 
	mpe
, 
boÞ
 *
	m’abËd
,

83 *
	mbuf
, 
	mmax_by‹s
);

89 
	si915_audio_compÚ’t_audio_Ýs
 {

93 *
	maudio_±r
;

102 (*
	mpš_–d_nÙify
)(*
	maudio_±r
, 
	mpÜt
, 
	mpe
);

108 
	si915_audio_compÚ’t
 {

112 
deviû
 *
	mdev
;

116 
	maud_§m¶e_¿‹
[
MAX_PORTS
];

120 cÚ¡ 
i915_audio_compÚ’t_Ýs
 *
	mÝs
;

124 cÚ¡ 
i915_audio_compÚ’t_audio_Ýs
 *
	maudio_Ýs
;

	@src/common/linuxkpi/include/drm/i915_drm.h

26 #iâdeà
_I915_DRM_H_


27 
	#_I915_DRM_H_


	)

29 
	~<drm/i915_pciids.h
>

30 
	~<u­i/drm/i915_drm.h
>

33 
i915_»ad_mch_v®
();

34 
boÞ
 
i915_gpu_¿i£
();

35 
boÞ
 
i915_gpu_low”
();

36 
boÞ
 
i915_gpu_busy
();

37 
boÞ
 
i915_gpu_turbo_di§bË
();

40 
lšux_»sourû
 
š‹l_g¿phics_¡Þ’_»s
;

48 
	#INTEL_GMCH_CTRL
 0x52

	)

49 
	#INTEL_GMCH_VGA_DISABLE
 (1 << 1)

	)

50 
	#SNB_GMCH_CTRL
 0x50

	)

51 
	#SNB_GMCH_GGMS_SHIFT
 8

	)

52 
	#SNB_GMCH_GGMS_MASK
 0x3

	)

53 
	#SNB_GMCH_GMS_SHIFT
 3

	)

54 
	#SNB_GMCH_GMS_MASK
 0x1f

	)

55 
	#BDW_GMCH_GGMS_SHIFT
 6

	)

56 
	#BDW_GMCH_GGMS_MASK
 0x3

	)

57 
	#BDW_GMCH_GMS_SHIFT
 8

	)

58 
	#BDW_GMCH_GMS_MASK
 0xff

	)

60 
	#I830_GMCH_CTRL
 0x52

	)

62 
	#I830_GMCH_GMS_MASK
 0x70

	)

63 
	#I830_GMCH_GMS_LOCAL
 0x10

	)

64 
	#I830_GMCH_GMS_STOLEN_512
 0x20

	)

65 
	#I830_GMCH_GMS_STOLEN_1024
 0x30

	)

66 
	#I830_GMCH_GMS_STOLEN_8192
 0x40

	)

68 
	#I855_GMCH_GMS_MASK
 0xF0

	)

69 
	#I855_GMCH_GMS_STOLEN_0M
 0x0

	)

70 
	#I855_GMCH_GMS_STOLEN_1M
 (0x1 << 4)

	)

71 
	#I855_GMCH_GMS_STOLEN_4M
 (0x2 << 4)

	)

72 
	#I855_GMCH_GMS_STOLEN_8M
 (0x3 << 4)

	)

73 
	#I855_GMCH_GMS_STOLEN_16M
 (0x4 << 4)

	)

74 
	#I855_GMCH_GMS_STOLEN_32M
 (0x5 << 4)

	)

75 
	#I915_GMCH_GMS_STOLEN_48M
 (0x6 << 4)

	)

76 
	#I915_GMCH_GMS_STOLEN_64M
 (0x7 << 4)

	)

77 
	#G33_GMCH_GMS_STOLEN_128M
 (0x8 << 4)

	)

78 
	#G33_GMCH_GMS_STOLEN_256M
 (0x9 << 4)

	)

79 
	#INTEL_GMCH_GMS_STOLEN_96M
 (0x¨<< 4)

	)

80 
	#INTEL_GMCH_GMS_STOLEN_160M
 (0xb << 4)

	)

81 
	#INTEL_GMCH_GMS_STOLEN_224M
 (0xø<< 4)

	)

82 
	#INTEL_GMCH_GMS_STOLEN_352M
 (0xd << 4)

	)

84 
	#I830_DRB3
 0x63

	)

85 
	#I85X_DRB3
 0x43

	)

86 
	#I865_TOUD
 0xc4

	)

88 
	#I830_ESMRAMC
 0x91

	)

89 
	#I845_ESMRAMC
 0x9e

	)

90 
	#I85X_ESMRAMC
 0x61

	)

91 
	#TSEG_ENABLE
 (1 << 0)

	)

92 
	#I830_TSEG_SIZE_512K
 (0 << 1)

	)

93 
	#I830_TSEG_SIZE_1M
 (1 << 1)

	)

94 
	#I845_TSEG_SIZE_MASK
 (3 << 1)

	)

95 
	#I845_TSEG_SIZE_512K
 (2 << 1)

	)

96 
	#I845_TSEG_SIZE_1M
 (3 << 1)

	)

98 
	#INTEL_BSM
 0x5c

	)

99 
	#INTEL_BSM_MASK
 (-(1u << 20))

	)

	@src/common/linuxkpi/include/drm/i915_pciids.h

25 #iâdeà
_I915_PCIIDS_H


26 
	#_I915_PCIIDS_H


	)

38 
	#INTEL_VGA_DEVICE
(
id
, 
šfo
) { \

39 0x8086, 
id
, \

42 (è
šfo
 }

	)

44 
	#INTEL_QUANTA_VGA_DEVICE
(
šfo
) { \

48 (è
šfo
 }

	)

50 
	#INTEL_I810_IDS
(
šfo
) \

51 
	`INTEL_VGA_DEVICE
(0x7121, 
šfo
), \

52 
	`INTEL_VGA_DEVICE
(0x7123, 
šfo
), \

53 
	`INTEL_VGA_DEVICE
(0x7125, 
šfo
è

	)

55 
	#INTEL_I815_IDS
(
šfo
) \

56 
	`INTEL_VGA_DEVICE
(0x1132, 
šfo
è

	)

58 
	#INTEL_I830_IDS
(
šfo
) \

59 
	`INTEL_VGA_DEVICE
(0x3577, 
šfo
)

	)

61 
	#INTEL_I845G_IDS
(
šfo
) \

62 
	`INTEL_VGA_DEVICE
(0x2562, 
šfo
)

	)

64 
	#INTEL_I85X_IDS
(
šfo
) \

65 
	`INTEL_VGA_DEVICE
(0x3582, 
šfo
), \

66 
	`INTEL_VGA_DEVICE
(0x358e, 
šfo
)

	)

68 
	#INTEL_I865G_IDS
(
šfo
) \

69 
	`INTEL_VGA_DEVICE
(0x2572, 
šfo
è

	)

71 
	#INTEL_I915G_IDS
(
šfo
) \

72 
	`INTEL_VGA_DEVICE
(0x2582, 
šfo
), \

73 
	`INTEL_VGA_DEVICE
(0x258a, 
šfo
è

	)

75 
	#INTEL_I915GM_IDS
(
šfo
) \

76 
	`INTEL_VGA_DEVICE
(0x2592, 
šfo
è

	)

78 
	#INTEL_I945G_IDS
(
šfo
) \

79 
	`INTEL_VGA_DEVICE
(0x2772, 
šfo
è

	)

81 
	#INTEL_I945GM_IDS
(
šfo
) \

82 
	`INTEL_VGA_DEVICE
(0x27a2, 
šfo
), \

83 
	`INTEL_VGA_DEVICE
(0x27«, 
šfo
è

	)

85 
	#INTEL_I965G_IDS
(
šfo
) \

86 
	`INTEL_VGA_DEVICE
(0x2972, 
šfo
), \

87 
	`INTEL_VGA_DEVICE
(0x2982, 
šfo
), \

88 
	`INTEL_VGA_DEVICE
(0x2992, 
šfo
), \

89 
	`INTEL_VGA_DEVICE
(0x29a2, 
šfo
è

	)

91 
	#INTEL_G33_IDS
(
šfo
) \

92 
	`INTEL_VGA_DEVICE
(0x29b2, 
šfo
), \

93 
	`INTEL_VGA_DEVICE
(0x29c2, 
šfo
), \

94 
	`INTEL_VGA_DEVICE
(0x29d2, 
šfo
è

	)

96 
	#INTEL_I965GM_IDS
(
šfo
) \

97 
	`INTEL_VGA_DEVICE
(0x2a02, 
šfo
), \

98 
	`INTEL_VGA_DEVICE
(0x2a12, 
šfo
è

	)

100 
	#INTEL_GM45_IDS
(
šfo
) \

101 
	`INTEL_VGA_DEVICE
(0x2a42, 
šfo
è

	)

103 
	#INTEL_G45_IDS
(
šfo
) \

104 
	`INTEL_VGA_DEVICE
(0x2e02, 
šfo
), \

105 
	`INTEL_VGA_DEVICE
(0x2e12, 
šfo
), \

106 
	`INTEL_VGA_DEVICE
(0x2e22, 
šfo
), \

107 
	`INTEL_VGA_DEVICE
(0x2e32, 
šfo
), \

108 
	`INTEL_VGA_DEVICE
(0x2e42, 
šfo
), \

109 
	`INTEL_VGA_DEVICE
(0x2e92, 
šfo
è

	)

111 
	#INTEL_PINEVIEW_IDS
(
šfo
) \

112 
	`INTEL_VGA_DEVICE
(0xa001, 
šfo
), \

113 
	`INTEL_VGA_DEVICE
(0xa011, 
šfo
)

	)

115 
	#INTEL_IRONLAKE_D_IDS
(
šfo
) \

116 
	`INTEL_VGA_DEVICE
(0x0042, 
šfo
)

	)

118 
	#INTEL_IRONLAKE_M_IDS
(
šfo
) \

119 
	`INTEL_VGA_DEVICE
(0x0046, 
šfo
)

	)

121 
	#INTEL_SNB_D_GT1_IDS
(
šfo
) \

122 
	`INTEL_VGA_DEVICE
(0x0102, 
šfo
), \

123 
	`INTEL_VGA_DEVICE
(0x010A, 
šfo
)

	)

125 
	#INTEL_SNB_D_GT2_IDS
(
šfo
) \

126 
	`INTEL_VGA_DEVICE
(0x0112, 
šfo
), \

127 
	`INTEL_VGA_DEVICE
(0x0122, 
šfo
)

	)

129 
	#INTEL_SNB_D_IDS
(
šfo
) \

130 
	`INTEL_SNB_D_GT1_IDS
(
šfo
), \

131 
	`INTEL_SNB_D_GT2_IDS
(
šfo
)

	)

133 
	#INTEL_SNB_M_GT1_IDS
(
šfo
) \

134 
	`INTEL_VGA_DEVICE
(0x0106, 
šfo
)

	)

136 
	#INTEL_SNB_M_GT2_IDS
(
šfo
) \

137 
	`INTEL_VGA_DEVICE
(0x0116, 
šfo
), \

138 
	`INTEL_VGA_DEVICE
(0x0126, 
šfo
)

	)

140 
	#INTEL_SNB_M_IDS
(
šfo
) \

141 
	`INTEL_SNB_M_GT1_IDS
(
šfo
), \

142 
	`INTEL_SNB_M_GT2_IDS
(
šfo
)

	)

144 
	#INTEL_IVB_M_GT1_IDS
(
šfo
) \

145 
	`INTEL_VGA_DEVICE
(0x0156, 
šfo
è

	)

147 
	#INTEL_IVB_M_GT2_IDS
(
šfo
) \

148 
	`INTEL_VGA_DEVICE
(0x0166, 
šfo
è

	)

150 
	#INTEL_IVB_M_IDS
(
šfo
) \

151 
	`INTEL_IVB_M_GT1_IDS
(
šfo
), \

152 
	`INTEL_IVB_M_GT2_IDS
(
šfo
)

	)

154 
	#INTEL_IVB_D_GT1_IDS
(
šfo
) \

155 
	`INTEL_VGA_DEVICE
(0x0152, 
šfo
), \

156 
	`INTEL_VGA_DEVICE
(0x015a, 
šfo
è

	)

158 
	#INTEL_IVB_D_GT2_IDS
(
šfo
) \

159 
	`INTEL_VGA_DEVICE
(0x0162, 
šfo
), \

160 
	`INTEL_VGA_DEVICE
(0x016a, 
šfo
è

	)

162 
	#INTEL_IVB_D_IDS
(
šfo
) \

163 
	`INTEL_IVB_D_GT1_IDS
(
šfo
), \

164 
	`INTEL_IVB_D_GT2_IDS
(
šfo
)

	)

166 
	#INTEL_IVB_Q_IDS
(
šfo
) \

167 
	`INTEL_QUANTA_VGA_DEVICE
(
šfo
è

	)

169 
	#INTEL_HSW_GT1_IDS
(
šfo
) \

170 
	`INTEL_VGA_DEVICE
(0x0402, 
šfo
), \

171 
	`INTEL_VGA_DEVICE
(0x040a, 
šfo
), \

172 
	`INTEL_VGA_DEVICE
(0x040B, 
šfo
), \

173 
	`INTEL_VGA_DEVICE
(0x040E, 
šfo
), \

174 
	`INTEL_VGA_DEVICE
(0x0C02, 
šfo
), \

175 
	`INTEL_VGA_DEVICE
(0x0C0A, 
šfo
), \

176 
	`INTEL_VGA_DEVICE
(0x0C0B, 
šfo
), \

177 
	`INTEL_VGA_DEVICE
(0x0C0E, 
šfo
), \

178 
	`INTEL_VGA_DEVICE
(0x0A02, 
šfo
), \

179 
	`INTEL_VGA_DEVICE
(0x0A0A, 
šfo
), \

180 
	`INTEL_VGA_DEVICE
(0x0A0B, 
šfo
), \

181 
	`INTEL_VGA_DEVICE
(0x0D02, 
šfo
), \

182 
	`INTEL_VGA_DEVICE
(0x0D0A, 
šfo
), \

183 
	`INTEL_VGA_DEVICE
(0x0D0B, 
šfo
), \

184 
	`INTEL_VGA_DEVICE
(0x0D0E, 
šfo
), \

185 
	`INTEL_VGA_DEVICE
(0x0406, 
šfo
), \

186 
	`INTEL_VGA_DEVICE
(0x0C06, 
šfo
), \

187 
	`INTEL_VGA_DEVICE
(0x0A06, 
šfo
), \

188 
	`INTEL_VGA_DEVICE
(0x0A0E, 
šfo
), \

189 
	`INTEL_VGA_DEVICE
(0x0D06, 
šfo
è

	)

191 
	#INTEL_HSW_GT2_IDS
(
šfo
) \

192 
	`INTEL_VGA_DEVICE
(0x0412, 
šfo
), \

193 
	`INTEL_VGA_DEVICE
(0x041a, 
šfo
), \

194 
	`INTEL_VGA_DEVICE
(0x041B, 
šfo
), \

195 
	`INTEL_VGA_DEVICE
(0x041E, 
šfo
), \

196 
	`INTEL_VGA_DEVICE
(0x0C12, 
šfo
), \

197 
	`INTEL_VGA_DEVICE
(0x0C1A, 
šfo
), \

198 
	`INTEL_VGA_DEVICE
(0x0C1B, 
šfo
), \

199 
	`INTEL_VGA_DEVICE
(0x0C1E, 
šfo
), \

200 
	`INTEL_VGA_DEVICE
(0x0A12, 
šfo
), \

201 
	`INTEL_VGA_DEVICE
(0x0A1A, 
šfo
), \

202 
	`INTEL_VGA_DEVICE
(0x0A1B, 
šfo
), \

203 
	`INTEL_VGA_DEVICE
(0x0D12, 
šfo
), \

204 
	`INTEL_VGA_DEVICE
(0x0D1A, 
šfo
), \

205 
	`INTEL_VGA_DEVICE
(0x0D1B, 
šfo
), \

206 
	`INTEL_VGA_DEVICE
(0x0D1E, 
šfo
), \

207 
	`INTEL_VGA_DEVICE
(0x0416, 
šfo
), \

208 
	`INTEL_VGA_DEVICE
(0x0426, 
šfo
), \

209 
	`INTEL_VGA_DEVICE
(0x0C16, 
šfo
), \

210 
	`INTEL_VGA_DEVICE
(0x0A16, 
šfo
), \

211 
	`INTEL_VGA_DEVICE
(0x0A1E, 
šfo
), \

212 
	`INTEL_VGA_DEVICE
(0x0D16, 
šfo
è

	)

214 
	#INTEL_HSW_GT3_IDS
(
šfo
) \

215 
	`INTEL_VGA_DEVICE
(0x0422, 
šfo
), \

216 
	`INTEL_VGA_DEVICE
(0x042a, 
šfo
), \

217 
	`INTEL_VGA_DEVICE
(0x042B, 
šfo
), \

218 
	`INTEL_VGA_DEVICE
(0x042E, 
šfo
), \

219 
	`INTEL_VGA_DEVICE
(0x0C22, 
šfo
), \

220 
	`INTEL_VGA_DEVICE
(0x0C2A, 
šfo
), \

221 
	`INTEL_VGA_DEVICE
(0x0C2B, 
šfo
), \

222 
	`INTEL_VGA_DEVICE
(0x0C2E, 
šfo
), \

223 
	`INTEL_VGA_DEVICE
(0x0A22, 
šfo
), \

224 
	`INTEL_VGA_DEVICE
(0x0A2A, 
šfo
), \

225 
	`INTEL_VGA_DEVICE
(0x0A2B, 
šfo
), \

226 
	`INTEL_VGA_DEVICE
(0x0D22, 
šfo
), \

227 
	`INTEL_VGA_DEVICE
(0x0D2A, 
šfo
), \

228 
	`INTEL_VGA_DEVICE
(0x0D2B, 
šfo
), \

229 
	`INTEL_VGA_DEVICE
(0x0D2E, 
šfo
), \

230 
	`INTEL_VGA_DEVICE
(0x0C26, 
šfo
), \

231 
	`INTEL_VGA_DEVICE
(0x0A26, 
šfo
), \

232 
	`INTEL_VGA_DEVICE
(0x0A2E, 
šfo
), \

233 
	`INTEL_VGA_DEVICE
(0x0D26, 
šfo
è

	)

235 
	#INTEL_HSW_IDS
(
šfo
) \

236 
	`INTEL_HSW_GT1_IDS
(
šfo
), \

237 
	`INTEL_HSW_GT2_IDS
(
šfo
), \

238 
	`INTEL_HSW_GT3_IDS
(
šfo
)

	)

240 
	#INTEL_VLV_IDS
(
šfo
) \

241 
	`INTEL_VGA_DEVICE
(0x0f30, 
šfo
), \

242 
	`INTEL_VGA_DEVICE
(0x0f31, 
šfo
), \

243 
	`INTEL_VGA_DEVICE
(0x0f32, 
šfo
), \

244 
	`INTEL_VGA_DEVICE
(0x0f33, 
šfo
), \

245 
	`INTEL_VGA_DEVICE
(0x0157, 
šfo
), \

246 
	`INTEL_VGA_DEVICE
(0x0155, 
šfo
)

	)

248 
	#INTEL_BDW_GT1_IDS
(
šfo
) \

249 
	`INTEL_VGA_DEVICE
(0x1602, 
šfo
), \

250 
	`INTEL_VGA_DEVICE
(0x1606, 
šfo
), \

251 
	`INTEL_VGA_DEVICE
(0x160B, 
šfo
), \

252 
	`INTEL_VGA_DEVICE
(0x160E, 
šfo
), \

253 
	`INTEL_VGA_DEVICE
(0x160A, 
šfo
), \

254 
	`INTEL_VGA_DEVICE
(0x160D, 
šfo
è

	)

256 
	#INTEL_BDW_GT2_IDS
(
šfo
) \

257 
	`INTEL_VGA_DEVICE
(0x1612, 
šfo
), \

258 
	`INTEL_VGA_DEVICE
(0x1616, 
šfo
), \

259 
	`INTEL_VGA_DEVICE
(0x161B, 
šfo
), \

260 
	`INTEL_VGA_DEVICE
(0x161E, 
šfo
), \

261 
	`INTEL_VGA_DEVICE
(0x161A, 
šfo
), \

262 
	`INTEL_VGA_DEVICE
(0x161D, 
šfo
è

	)

264 
	#INTEL_BDW_GT3_IDS
(
šfo
) \

265 
	`INTEL_VGA_DEVICE
(0x1622, 
šfo
), \

266 
	`INTEL_VGA_DEVICE
(0x1626, 
šfo
), \

267 
	`INTEL_VGA_DEVICE
(0x162B, 
šfo
), \

268 
	`INTEL_VGA_DEVICE
(0x162E, 
šfo
), \

269 
	`INTEL_VGA_DEVICE
(0x162A, 
šfo
), \

270 
	`INTEL_VGA_DEVICE
(0x162D, 
šfo
è

	)

272 
	#INTEL_BDW_RSVD_IDS
(
šfo
) \

273 
	`INTEL_VGA_DEVICE
(0x1632, 
šfo
), \

274 
	`INTEL_VGA_DEVICE
(0x1636, 
šfo
), \

275 
	`INTEL_VGA_DEVICE
(0x163B, 
šfo
), \

276 
	`INTEL_VGA_DEVICE
(0x163E, 
šfo
), \

277 
	`INTEL_VGA_DEVICE
(0x163A, 
šfo
), \

278 
	`INTEL_VGA_DEVICE
(0x163D, 
šfo
è

	)

280 
	#INTEL_BDW_IDS
(
šfo
) \

281 
	`INTEL_BDW_GT1_IDS
(
šfo
), \

282 
	`INTEL_BDW_GT2_IDS
(
šfo
), \

283 
	`INTEL_BDW_GT3_IDS
(
šfo
), \

284 
	`INTEL_BDW_RSVD_IDS
(
šfo
)

	)

286 
	#INTEL_CHV_IDS
(
šfo
) \

287 
	`INTEL_VGA_DEVICE
(0x22b0, 
šfo
), \

288 
	`INTEL_VGA_DEVICE
(0x22b1, 
šfo
), \

289 
	`INTEL_VGA_DEVICE
(0x22b2, 
šfo
), \

290 
	`INTEL_VGA_DEVICE
(0x22b3, 
šfo
)

	)

292 
	#INTEL_SKL_GT1_IDS
(
šfo
) \

293 
	`INTEL_VGA_DEVICE
(0x1906, 
šfo
), \

294 
	`INTEL_VGA_DEVICE
(0x190E, 
šfo
), \

295 
	`INTEL_VGA_DEVICE
(0x1902, 
šfo
), \

296 
	`INTEL_VGA_DEVICE
(0x190B, 
šfo
), \

297 
	`INTEL_VGA_DEVICE
(0x190A, 
šfo
è

	)

299 
	#INTEL_SKL_GT2_IDS
(
šfo
) \

300 
	`INTEL_VGA_DEVICE
(0x1916, 
šfo
), \

301 
	`INTEL_VGA_DEVICE
(0x1921, 
šfo
), \

302 
	`INTEL_VGA_DEVICE
(0x191E, 
šfo
), \

303 
	`INTEL_VGA_DEVICE
(0x1912, 
šfo
), \

304 
	`INTEL_VGA_DEVICE
(0x191B, 
šfo
), \

305 
	`INTEL_VGA_DEVICE
(0x191A, 
šfo
), \

306 
	`INTEL_VGA_DEVICE
(0x191D, 
šfo
è

	)

308 
	#INTEL_SKL_GT3_IDS
(
šfo
) \

309 
	`INTEL_VGA_DEVICE
(0x1923, 
šfo
), \

310 
	`INTEL_VGA_DEVICE
(0x1926, 
šfo
), \

311 
	`INTEL_VGA_DEVICE
(0x1927, 
šfo
), \

312 
	`INTEL_VGA_DEVICE
(0x192B, 
šfo
), \

313 
	`INTEL_VGA_DEVICE
(0x192D, 
šfo
è

	)

315 
	#INTEL_SKL_GT4_IDS
(
šfo
) \

316 
	`INTEL_VGA_DEVICE
(0x1932, 
šfo
), \

317 
	`INTEL_VGA_DEVICE
(0x193B, 
šfo
), \

318 
	`INTEL_VGA_DEVICE
(0x193D, 
šfo
), \

319 
	`INTEL_VGA_DEVICE
(0x192A, 
šfo
), \

320 
	`INTEL_VGA_DEVICE
(0x193A, 
šfo
è

	)

322 
	#INTEL_SKL_IDS
(
šfo
) \

323 
	`INTEL_SKL_GT1_IDS
(
šfo
), \

324 
	`INTEL_SKL_GT2_IDS
(
šfo
), \

325 
	`INTEL_SKL_GT3_IDS
(
šfo
), \

326 
	`INTEL_SKL_GT4_IDS
(
šfo
)

	)

328 
	#INTEL_BXT_IDS
(
šfo
) \

329 
	`INTEL_VGA_DEVICE
(0x0A84, 
šfo
), \

330 
	`INTEL_VGA_DEVICE
(0x1A84, 
šfo
), \

331 
	`INTEL_VGA_DEVICE
(0x1A85, 
šfo
), \

332 
	`INTEL_VGA_DEVICE
(0x5A84, 
šfo
), \

333 
	`INTEL_VGA_DEVICE
(0x5A85, 
šfo
è

	)

335 
	#INTEL_GLK_IDS
(
šfo
) \

336 
	`INTEL_VGA_DEVICE
(0x3184, 
šfo
), \

337 
	`INTEL_VGA_DEVICE
(0x3185, 
šfo
)

	)

339 
	#INTEL_KBL_GT1_IDS
(
šfo
) \

340 
	`INTEL_VGA_DEVICE
(0x5913, 
šfo
), \

341 
	`INTEL_VGA_DEVICE
(0x5915, 
šfo
), \

342 
	`INTEL_VGA_DEVICE
(0x5906, 
šfo
), \

343 
	`INTEL_VGA_DEVICE
(0x590E, 
šfo
), \

344 
	`INTEL_VGA_DEVICE
(0x5902, 
šfo
), \

345 
	`INTEL_VGA_DEVICE
(0x5908, 
šfo
), \

346 
	`INTEL_VGA_DEVICE
(0x590B, 
šfo
), \

347 
	`INTEL_VGA_DEVICE
(0x590A, 
šfo
è

	)

349 
	#INTEL_KBL_GT2_IDS
(
šfo
) \

350 
	`INTEL_VGA_DEVICE
(0x5916, 
šfo
), \

351 
	`INTEL_VGA_DEVICE
(0x5917, 
šfo
), \

352 
	`INTEL_VGA_DEVICE
(0x5921, 
šfo
), \

353 
	`INTEL_VGA_DEVICE
(0x591E, 
šfo
), \

354 
	`INTEL_VGA_DEVICE
(0x5912, 
šfo
), \

355 
	`INTEL_VGA_DEVICE
(0x591B, 
šfo
), \

356 
	`INTEL_VGA_DEVICE
(0x591A, 
šfo
), \

357 
	`INTEL_VGA_DEVICE
(0x591D, 
šfo
è

	)

359 
	#INTEL_KBL_GT3_IDS
(
šfo
) \

360 
	`INTEL_VGA_DEVICE
(0x5923, 
šfo
), \

361 
	`INTEL_VGA_DEVICE
(0x5926, 
šfo
), \

362 
	`INTEL_VGA_DEVICE
(0x5927, 
šfo
è

	)

364 
	#INTEL_KBL_GT4_IDS
(
šfo
) \

365 
	`INTEL_VGA_DEVICE
(0x593B, 
šfo
è

	)

367 
	#INTEL_KBL_IDS
(
šfo
) \

368 
	`INTEL_KBL_GT1_IDS
(
šfo
), \

369 
	`INTEL_KBL_GT2_IDS
(
šfo
), \

370 
	`INTEL_KBL_GT3_IDS
(
šfo
), \

371 
	`INTEL_KBL_GT4_IDS
(
šfo
)

	)

374 
	#INTEL_CFL_S_GT1_IDS
(
šfo
) \

375 
	`INTEL_VGA_DEVICE
(0x3E90, 
šfo
), \

376 
	`INTEL_VGA_DEVICE
(0x3E93, 
šfo
), \

377 
	`INTEL_VGA_DEVICE
(0x3E99, 
šfo
è

	)

379 
	#INTEL_CFL_S_GT2_IDS
(
šfo
) \

380 
	`INTEL_VGA_DEVICE
(0x3E91, 
šfo
), \

381 
	`INTEL_VGA_DEVICE
(0x3E92, 
šfo
), \

382 
	`INTEL_VGA_DEVICE
(0x3E96, 
šfo
), \

383 
	`INTEL_VGA_DEVICE
(0x3E9A, 
šfo
è

	)

386 
	#INTEL_CFL_H_GT2_IDS
(
šfo
) \

387 
	`INTEL_VGA_DEVICE
(0x3E9B, 
šfo
), \

388 
	`INTEL_VGA_DEVICE
(0x3E94, 
šfo
è

	)

391 
	#INTEL_CFL_U_GT1_IDS
(
šfo
) \

392 
	`INTEL_VGA_DEVICE
(0x3EA1, 
šfo
), \

393 
	`INTEL_VGA_DEVICE
(0x3EA4, 
šfo
)

	)

396 
	#INTEL_CFL_U_GT2_IDS
(
šfo
) \

397 
	`INTEL_VGA_DEVICE
(0x3EA0, 
šfo
), \

398 
	`INTEL_VGA_DEVICE
(0x3EA3, 
šfo
), \

399 
	`INTEL_VGA_DEVICE
(0x3EA9, 
šfo
)

	)

402 
	#INTEL_CFL_U_GT3_IDS
(
šfo
) \

403 
	`INTEL_VGA_DEVICE
(0x3EA2, 
šfo
), \

404 
	`INTEL_VGA_DEVICE
(0x3EA5, 
šfo
), \

405 
	`INTEL_VGA_DEVICE
(0x3EA6, 
šfo
), \

406 
	`INTEL_VGA_DEVICE
(0x3EA7, 
šfo
), \

407 
	`INTEL_VGA_DEVICE
(0x3EA8, 
šfo
è

	)

409 
	#INTEL_CFL_IDS
(
šfo
) \

410 
	`INTEL_CFL_S_GT1_IDS
(
šfo
), \

411 
	`INTEL_CFL_S_GT2_IDS
(
šfo
), \

412 
	`INTEL_CFL_H_GT2_IDS
(
šfo
), \

413 
	`INTEL_CFL_U_GT1_IDS
(
šfo
), \

414 
	`INTEL_CFL_U_GT2_IDS
(
šfo
), \

415 
	`INTEL_CFL_U_GT3_IDS
(
šfo
)

	)

418 
	#INTEL_CNL_U_GT2_IDS
(
šfo
) \

419 
	`INTEL_VGA_DEVICE
(0x5A52, 
šfo
), \

420 
	`INTEL_VGA_DEVICE
(0x5A5A, 
šfo
), \

421 
	`INTEL_VGA_DEVICE
(0x5A42, 
šfo
), \

422 
	`INTEL_VGA_DEVICE
(0x5A4A, 
šfo
)

	)

425 
	#INTEL_CNL_Y_GT2_IDS
(
šfo
) \

426 
	`INTEL_VGA_DEVICE
(0x5A51, 
šfo
), \

427 
	`INTEL_VGA_DEVICE
(0x5A59, 
šfo
), \

428 
	`INTEL_VGA_DEVICE
(0x5A41, 
šfo
), \

429 
	`INTEL_VGA_DEVICE
(0x5A49, 
šfo
), \

430 
	`INTEL_VGA_DEVICE
(0x5A71, 
šfo
), \

431 
	`INTEL_VGA_DEVICE
(0x5A79, 
šfo
)

	)

433 
	#INTEL_CNL_IDS
(
šfo
) \

434 
	`INTEL_CNL_U_GT2_IDS
(
šfo
), \

435 
	`INTEL_CNL_Y_GT2_IDS
(
šfo
)

	)

	@src/common/linuxkpi/include/drm/intel-gtt.h

4 #iâdeà
_DRM_INTEL_GTT_H


5 
	#_DRM_INTEL_GTT_H


	)

7 
	gagp_bridge_d©a
;

9 #iâdeà
__lšux__


10 
	gš‹l_g‰
;

11 
š‹l_g‰
 *
š‹l_g‰_g‘
();

13 
š‹l_g‰_g‘
(
u64
 *
g‰_tÙ®
,

14 
phys_addr_t
 *
m­·bË_ba£
,

15 
»sourû_size_t
 *
m­·bË_’d
);

18 
š‹l_gmch_´obe
(
pci_dev
 *
bridge_pdev
, pci_dev *
gpu_pdev
,

19 
agp_bridge_d©a
 *
bridge
);

20 
š‹l_gmch_»move
();

22 
boÞ
 
š‹l_’abË_g‰
();

24 #iâdeà
__lšux__


25 
š‹l_g‰_ch£t_æush
();

27 
š‹l_g‰_ch£t_æush
();

29 
š‹l_g‰_š£¹_·ge
(
dma_addr_t
 
addr
,

30 
pg
,

31 
æags
);

32 
lšux_š‹l_g‰_š£¹_sg_’Œ›s
(
sg_bË
 *
¡
,

33 
pg_¡¬t
, 
æags
);

34 
š‹l_g‰_þ—r_¿nge
(
fœ¡_’Œy
, 
num_’Œ›s
);

37 
	#AGP_DCACHE_MEMORY
 1

	)

38 
	#AGP_PHYS_MEMORY
 2

	)

41 
	#AGP_USER_CACHED_MEMORY_GFDT
 (1 << 3)

	)

43 #ifdeà
CONFIG_INTEL_IOMMU


44 
š‹l_iommu_gfx_m­³d
;

	@src/common/linuxkpi/include/drm/intel_lpe_audio.h

24 #iâdeà
_INTEL_LPE_AUDIO_H_


25 
	#_INTEL_LPE_AUDIO_H_


	)

27 
	~<lšux/ty³s.h
>

30 
	g¶©fÜm_deviû
;

32 
	#HDMI_MAX_ELD_BYTES
 128

	)

34 
	sš‹l_hdmi_Íe_audio_pÜt_pd©a
 {

35 
u8
 
	m–d
[
HDMI_MAX_ELD_BYTES
];

36 
	mpÜt
;

37 
	mpe
;

38 
	mls_þock
;

39 
boÞ
 
	mdp_ouut
;

42 
	sš‹l_hdmi_Íe_audio_pd©a
 {

43 
š‹l_hdmi_Íe_audio_pÜt_pd©a
 
	mpÜt
[3];

44 
	mnum_pÜts
;

45 
	mnum_pes
;

47 (*
	mnÙify_audio_Íe
)(
¶©fÜm_deviû
 *
	mpdev
, 
	mpÜt
);

48 
¥šlock_t
 
	mÍe_audio_¦ock
;

	@src/common/linuxkpi/include/drm/spsc_queue.h

24 #iâdeà
DRM_SCHEDULER_SPSC_QUEUE_H_


25 
	#DRM_SCHEDULER_SPSC_QUEUE_H_


	)

27 
	~<lšux/©omic.h
>

28 
	~<lšux/´“m±.h
>

32 
	s¥sc_node
 {

35 
¥sc_node
 *
	mÃxt
;

38 
	s¥sc_queue
 {

40 
¥sc_node
 *
	mh—d
;

43 
©omic_lÚg_t
 
	mž
;

45 
©omic_t
 
	mjob_couÁ
;

48 
šlše
 
	$¥sc_queue_š™
(
¥sc_queue
 *
queue
)

50 
queue
->
h—d
 = 
NULL
;

51 
	`©omic_lÚg_£t
(&
queue
->
ž
, ()&queue->
h—d
);

52 
	`©omic_£t
(&
queue
->
job_couÁ
, 0);

53 
	}
}

55 
šlše
 
¥sc_node
 *
	$¥sc_queue_³ek
(
¥sc_queue
 *
queue
)

57  
queue
->
h—d
;

58 
	}
}

60 
šlše
 
	$¥sc_queue_couÁ
(
¥sc_queue
 *
queue
)

62  
	`©omic_»ad
(&
queue
->
job_couÁ
);

63 
	}
}

65 
šlše
 
boÞ
 
	$¥sc_queue_push
(
¥sc_queue
 *
queue
, 
¥sc_node
 *
node
)

67 
¥sc_node
 **
ž
;

69 
node
->
Ãxt
 = 
NULL
;

71 
	`´“m±_di§bË
();

73 
ž
 = (
¥sc_node
 **)
	`©omic_lÚg_xchg
(&
queue
->ž, ()&
node
->
Ãxt
);

74 
	`WRITE_ONCE
(*
ž
, 
node
);

75 
	`©omic_šc
(&
queue
->
job_couÁ
);

81 
	`smp_wmb
();

83 
	`´“m±_’abË
();

85  
ž
 =ð&
queue
->
h—d
;

86 
	}
}

89 
šlše
 
¥sc_node
 *
	$¥sc_queue_pÝ
(
¥sc_queue
 *
queue
)

91 
¥sc_node
 *
Ãxt
, *
node
;

94 
	`smp_rmb
();

96 
node
 = 
	`READ_ONCE
(
queue
->
h—d
);

98 ià(!
node
)

99  
NULL
;

101 
Ãxt
 = 
	`READ_ONCE
(
node
->next);

102 
	`WRITE_ONCE
(
queue
->
h—d
, 
Ãxt
);

104 ià(
	`uÆik–y
(!
Ãxt
)) {

107 ià(
	`©omic_lÚg_cmpxchg
(&
queue
->
ž
,

108 ()&
node
->
Ãxt
, (è&
queue
->
h—d
) != ()&node->next) {

111 
	`smp_rmb
();

112 } 
	`uÆik–y
(!(
queue
->
h—d
 = 
	`READ_ONCE
(
node
->
Ãxt
))));

116 
	`©omic_dec
(&
queue
->
job_couÁ
);

117  
node
;

118 
	}
}

	@src/common/linuxkpi/include/drm/tinydrm/ili9341.h

12 #iâdeà
__LINUX_ILI9341_H


13 
	#__LINUX_ILI9341_H


	)

15 
	#ILI9341_FRMCTR1
 0xb1

	)

16 
	#ILI9341_FRMCTR2
 0xb2

	)

17 
	#ILI9341_FRMCTR3
 0xb3

	)

18 
	#ILI9341_INVTR
 0xb4

	)

19 
	#ILI9341_PRCTR
 0xb5

	)

20 
	#ILI9341_DISCTRL
 0xb6

	)

21 
	#ILI9341_ETMOD
 0xb7

	)

23 
	#ILI9341_PWCTRL1
 0xc0

	)

24 
	#ILI9341_PWCTRL2
 0xc1

	)

25 
	#ILI9341_VMCTRL1
 0xc5

	)

26 
	#ILI9341_VMCTRL2
 0xc7

	)

27 
	#ILI9341_PWCTRLA
 0xcb

	)

28 
	#ILI9341_PWCTRLB
 0xcf

	)

30 
	#ILI9341_RDID1
 0xda

	)

31 
	#ILI9341_RDID2
 0xdb

	)

32 
	#ILI9341_RDID3
 0xdc

	)

33 
	#ILI9341_RDID4
 0xd3

	)

35 
	#ILI9341_PGAMCTRL
 0xe0

	)

36 
	#ILI9341_NGAMCTRL
 0xe1

	)

37 
	#ILI9341_DGAMCTRL1
 0xe2

	)

38 
	#ILI9341_DGAMCTRL2
 0xe3

	)

39 
	#ILI9341_DTCTRLA
 0xe8

	)

40 
	#ILI9341_DTCTRLB
 0x—

	)

41 
	#ILI9341_PWRSEQ
 0xed

	)

43 
	#ILI9341_EN3GAM
 0xf2

	)

44 
	#ILI9341_IFCTRL
 0xf6

	)

45 
	#ILI9341_PUMPCTRL
 0xf7

	)

47 
	#ILI9341_MADCTL_MH
 
	`BIT
(2)

	)

48 
	#ILI9341_MADCTL_BGR
 
	`BIT
(3)

	)

49 
	#ILI9341_MADCTL_ML
 
	`BIT
(4)

	)

50 
	#ILI9341_MADCTL_MV
 
	`BIT
(5)

	)

51 
	#ILI9341_MADCTL_MX
 
	`BIT
(6)

	)

52 
	#ILI9341_MADCTL_MY
 
	`BIT
(7)

	)

	@src/common/linuxkpi/include/drm/tinydrm/mipi-dbi.h

12 #iâdeà
__LINUX_MIPI_DBI_H


13 
	#__LINUX_MIPI_DBI_H


	)

15 
	~<drm/tšydrm/tšydrm.h
>

17 
	g¥i_deviû
;

18 
	ggpio_desc
;

19 
	g»guÏtÜ
;

40 
	smi_dbi
 {

41 
tšydrm_deviû
 
	mtšydrm
;

42 
¥i_deviû
 *
	m¥i
;

43 
boÞ
 
	m’abËd
;

44 
mu‹x
 
	mcmdlock
;

45 (*
	mcommªd
)(
mi_dbi
 *
	mmi
, 
u8
 
	mcmd
, u8 *
	m·¿m
, 
size_t
 
	mnum
);

46 cÚ¡ 
u8
 *
	m»ad_commªds
;

47 
gpio_desc
 *
	mdc
;

48 
u16
 *
	mtx_buf
;

49 *
	mtx_buf9
;

50 
size_t
 
	mtx_buf9_Ën
;

51 
boÞ
 
	msw­_by‹s
;

52 
gpio_desc
 *
	m»£t
;

53 
	mrÙ©iÚ
;

54 
backlight_deviû
 *
	mbacklight
;

55 
»guÏtÜ
 *
	m»guÏtÜ
;

58 
šlše
 
mi_dbi
 *

59 
	$mi_dbi_äom_tšydrm
(
tšydrm_deviû
 *
tdev
)

61  
	`cÚš”_of
(
tdev
, 
mi_dbi
, 
tšydrm
);

62 
	}
}

64 
mi_dbi_¥i_š™
(
¥i_deviû
 *
¥i
, 
mi_dbi
 *
mi
,

65 
gpio_desc
 *
dc
);

66 
mi_dbi_š™
(
deviû
 *
dev
, 
mi_dbi
 *
mi
,

67 cÚ¡ 
drm_sim¶e_di¥Ïy_pe_funcs
 *
pe_funcs
,

68 
drm_driv”
 *
driv”
,

69 cÚ¡ 
drm_di¥Ïy_mode
 *
mode
, 
rÙ©iÚ
);

70 
mi_dbi_pe_’abË
(
drm_sim¶e_di¥Ïy_pe
 *
pe
,

71 
drm_ütc_¡©e
 *
ütc_¡©e
);

72 
mi_dbi_pe_di§bË
(
drm_sim¶e_di¥Ïy_pe
 *
pe
);

73 
mi_dbi_hw_»£t
(
mi_dbi
 *
mi
);

74 
boÞ
 
mi_dbi_di¥Ïy_is_Ú
(
mi_dbi
 *
mi
);

75 
u32
 
mi_dbi_¥i_cmd_max_¥“d
(
¥i_deviû
 *
¥i
, 
size_t
 
Ën
);

77 
mi_dbi_commªd_»ad
(
mi_dbi
 *
mi
, 
u8
 
cmd
, u8 *
v®
);

78 
mi_dbi_commªd_buf
(
mi_dbi
 *
mi
, 
u8
 
cmd
, u8 *
d©a
, 
size_t
 
Ën
);

79 
mi_dbi_buf_cÝy
(*
d¡
, 
drm_äamebufãr
 *
fb
,

80 
drm_þ_»ù
 *
þ
, 
boÞ
 
sw­
);

93 
	#mi_dbi_commªd
(
mi
, 
cmd
, 
£q
...) \

95 
u8
 
d
[] = { 
£q
 }; \

96 
	`mi_dbi_commªd_buf
(
mi
, 
cmd
, 
d
, 
	`ARRAY_SIZE
(d)); \

97 })

	)

99 #ifdeà
CONFIG_DEBUG_FS


100 
mi_dbi_debugfs_š™
(
drm_mšÜ
 *
mšÜ
);

102 
	#mi_dbi_debugfs_š™
 
NULL


	)

	@src/common/linuxkpi/include/drm/tinydrm/tinydrm-helpers.h

10 #iâdeà
__LINUX_TINYDRM_HELPERS_H


11 
	#__LINUX_TINYDRM_HELPERS_H


	)

13 
	gbacklight_deviû
;

14 
	gtšydrm_deviû
;

15 
	gdrm_þ_»ù
;

16 
	g¥i_Œªsãr
;

17 
	g¥i_mes§ge
;

18 
	g¥i_deviû
;

19 
	gdeviû
;

27 
šlše
 
boÞ
 
	$tšydrm_machše_l™Že_’dŸn
()

29 #ià
	`defšed
(
__LITTLE_ENDIAN
)

30  
Œue
;

32  
çl£
;

34 
	}
}

36 
boÞ
 
tšydrm_m”ge_þs
(
drm_þ_»ù
 *
d¡
,

37 
drm_þ_»ù
 *
¤c
, 
num_þs
,

38 
æags
, 
u32
 
max_width
, u32 
max_height
);

39 
tšydrm_memýy
(*
d¡
, *
vaddr
, 
drm_äamebufãr
 *
fb
,

40 
drm_þ_»ù
 *
þ
);

41 
tšydrm_swab16
(
u16
 *
d¡
, *
vaddr
, 
drm_äamebufãr
 *
fb
,

42 
drm_þ_»ù
 *
þ
);

43 
tšydrm_xrgb8888_to_rgb565
(
u16
 *
d¡
, *
vaddr
,

44 
drm_äamebufãr
 *
fb
,

45 
drm_þ_»ù
 *
þ
, 
boÞ
 
sw­
);

46 
tšydrm_xrgb8888_to_g¿y8
(
u8
 *
d¡
, *
vaddr
, 
drm_äamebufãr
 *
fb
,

47 
drm_þ_»ù
 *
þ
);

49 
backlight_deviû
 *
tšydrm_of_fšd_backlight
(
deviû
 *
dev
);

50 
tšydrm_’abË_backlight
(
backlight_deviû
 *
backlight
);

51 
tšydrm_di§bË_backlight
(
backlight_deviû
 *
backlight
);

53 
size_t
 
tšydrm_¥i_max_Œªsãr_size
(
¥i_deviû
 *
¥i
, size_ˆ
max_Ën
);

54 
boÞ
 
tšydrm_¥i_bpw_suµÜ‹d
(
¥i_deviû
 *
¥i
, 
u8
 
bpw
);

55 
tšydrm_¥i_Œªsãr
(
¥i_deviû
 *
¥i
, 
u32
 
¥“d_hz
,

56 
¥i_Œªsãr
 *
h—d”
, 
u8
 
bpw
, cÚ¡ *
buf
,

57 
size_t
 
Ën
);

58 
_tšydrm_dbg_¥i_mes§ge
(
¥i_deviû
 *
¥i
, 
¥i_mes§ge
 *
m
);

60 #ifdeà
DEBUG


70 
šlše
 
	$tšydrm_dbg_¥i_mes§ge
(
¥i_deviû
 *
¥i
,

71 
¥i_mes§ge
 *
m
)

73 ià(
drm_debug
 & 
DRM_UT_DRIVER
)

74 
	`_tšydrm_dbg_¥i_mes§ge
(
¥i
, 
m
);

75 
	}
}

77 
šlše
 
	$tšydrm_dbg_¥i_mes§ge
(
¥i_deviû
 *
¥i
,

78 
¥i_mes§ge
 *
m
)

80 
	}
}

	@src/common/linuxkpi/include/drm/tinydrm/tinydrm.h

10 #iâdeà
__LINUX_TINYDRM_H


11 
	#__LINUX_TINYDRM_H


	)

13 
	~<drm/drm_gem_cma_h–³r.h
>

14 
	~<drm/drm_fb_cma_h–³r.h
>

15 
	~<drm/drm_sim¶e_kms_h–³r.h
>

24 
	stšydrm_deviû
 {

25 
drm_deviû
 *
	mdrm
;

26 
drm_sim¶e_di¥Ïy_pe
 
	mpe
;

27 
mu‹x
 
	mdœty_lock
;

28 cÚ¡ 
drm_äamebufãr_funcs
 *
	mfb_funcs
;

31 
šlše
 
tšydrm_deviû
 *

32 
	$pe_to_tšydrm
(
drm_sim¶e_di¥Ïy_pe
 *
pe
)

34  
	`cÚš”_of
(
pe
, 
tšydrm_deviû
,…ipe);

35 
	}
}

43 
	#TINYDRM_GEM_DRIVER_OPS
 \

44 .
gem_ä“_objeù
 = 
tšydrm_gem_cma_ä“_objeù
, \

45 .
gem_´št_šfo
 = 
drm_gem_cma_´št_šfo
, \

46 .
gem_vm_Ýs
 = &
drm_gem_cma_vm_Ýs
, \

47 .
´ime_hªdË_to_fd
 = 
drm_gem_´ime_hªdË_to_fd
, \

48 .
´ime_fd_to_hªdË
 = 
drm_gem_´ime_fd_to_hªdË
, \

49 .
gem_´ime_impÜt
 = 
drm_gem_´ime_impÜt
, \

50 .
gem_´ime_expÜt
 = 
drm_gem_´ime_expÜt
, \

51 .
gem_´ime_g‘_sg_bË
 = 
drm_gem_cma_´ime_g‘_sg_bË
, \

52 .
gem_´ime_impÜt_sg_bË
 = 
tšydrm_gem_cma_´ime_impÜt_sg_bË
, \

53 .
gem_´ime_vm­
 = 
drm_gem_cma_´ime_vm­
, \

54 .
gem_´ime_vunm­
 = 
drm_gem_cma_´ime_vunm­
, \

55 .
gem_´ime_mm­
 = 
drm_gem_cma_´ime_mm­
, \

56 .
dumb_ü—‹
 = 
drm_gem_cma_dumb_ü—‹


	)

67 
	#TINYDRM_MODE
(
hd
, 
vd
, 
hd_mm
, 
vd_mm
) \

68 .
hdi¥Ïy
 = (
hd
), \

69 .
hsync_¡¬t
 = (
hd
), \

70 .
hsync_’d
 = (
hd
), \

71 .
htÙ®
 = (
hd
), \

72 .
vdi¥Ïy
 = (
vd
), \

73 .
vsync_¡¬t
 = (
vd
), \

74 .
vsync_’d
 = (
vd
), \

75 .
vtÙ®
 = (
vd
), \

76 .
width_mm
 = (
hd_mm
), \

77 .
height_mm
 = (
vd_mm
), \

78 .
ty³
 = 
DRM_MODE_TYPE_DRIVER
, \

79 .
þock
 = 1

	)

81 
tšydrm_gem_cma_ä“_objeù
(
drm_gem_objeù
 *
gem_obj
);

82 
drm_gem_objeù
 *

83 
tšydrm_gem_cma_´ime_impÜt_sg_bË
(
drm_deviû
 *
drm
,

84 
dma_buf_©chm’t
 *
©ch
,

85 
sg_bË
 *
sgt
);

86 
devm_tšydrm_š™
(
deviû
 *
·»Á
, 
tšydrm_deviû
 *
tdev
,

87 cÚ¡ 
drm_äamebufãr_funcs
 *
fb_funcs
,

88 
drm_driv”
 *
driv”
);

89 
devm_tšydrm_»gi¡”
(
tšydrm_deviû
 *
tdev
);

90 
tšydrm_shutdown
(
tšydrm_deviû
 *
tdev
);

92 
tšydrm_di¥Ïy_pe_upd©e
(
drm_sim¶e_di¥Ïy_pe
 *
pe
,

93 
drm_¶ªe_¡©e
 *
Þd_¡©e
);

94 
tšydrm_di¥Ïy_pe_´•¬e_fb
(
drm_sim¶e_di¥Ïy_pe
 *
pe
,

95 
drm_¶ªe_¡©e
 *
¶ªe_¡©e
);

97 
tšydrm_di¥Ïy_pe_š™
(
tšydrm_deviû
 *
tdev
,

98 cÚ¡ 
drm_sim¶e_di¥Ïy_pe_funcs
 *
funcs
,

99 
cÚÃùÜ_ty³
,

100 cÚ¡ 
ušt32_t
 *
fÜm©s
,

101 
fÜm©_couÁ
,

102 cÚ¡ 
drm_di¥Ïy_mode
 *
mode
,

103 
rÙ©iÚ
);

	@src/common/linuxkpi/include/drm/ttm/ttm_bo_api.h

32 #iâdeà
_TTM_BO_API_H_


33 
	#_TTM_BO_API_H_


	)

35 
	~<drm/drm_hashb.h
>

36 
	~<drm/drm_vma_mªag”.h
>

37 
	~<lšux/k»f.h
>

38 
	~<lšux/li¡.h
>

39 
	~<lšux/wa™.h
>

40 
	~<lšux/mu‹x.h
>

41 
	~<lšux/mm.h
>

42 
	~<lšux/b™m­.h
>

43 
	~<lšux/»£rv©iÚ.h
>

45 
	g‰m_bo_deviû
;

47 
	gdrm_mm_node
;

49 
	g‰m_¶aûm’t
;

51 
	g‰m_¶aû
;

66 
	s‰m_bus_¶aûm’t
 {

67 *
	maddr
;

68 
phys_addr_t
 
	mba£
;

69 
	msize
;

70 
	moff£t
;

71 
boÞ
 
	mis_iomem
;

72 
boÞ
 
	mio_»£rved_vm
;

73 
ušt64_t
 
	mio_»£rved_couÁ
;

91 
	s‰m_mem_»g
 {

92 *
	mmm_node
;

93 
	m¡¬t
;

94 
	msize
;

95 
	mnum_·ges
;

96 
ušt32_t
 
	m·ge_®ignm’t
;

97 
ušt32_t
 
	mmem_ty³
;

98 
ušt32_t
 
	m¶aûm’t
;

99 
‰m_bus_¶aûm’t
 
	mbus
;

116 
	e‰m_bo_ty³
 {

117 
	m‰m_bo_ty³_deviû
,

118 
	m‰m_bo_ty³_k”Ãl
,

119 
	m‰m_bo_ty³_sg


122 
	g‰m_‰
;

168 
	s‰m_bufãr_objeù
 {

173 
‰m_bo_glob®
 *
	mglob
;

174 
‰m_bo_deviû
 *
	mbdev
;

175 
‰m_bo_ty³
 
	mty³
;

176 (*
	mde¡roy
è(
	m‰m_bufãr_objeù
 *);

177 
	mnum_·ges
;

178 
size_t
 
	macc_size
;

184 
k»f
 
	mk»f
;

185 
k»f
 
	mli¡_k»f
;

191 
‰m_mem_»g
 
	mmem
;

192 
fže
 *
	m³rsi¡’t_sw­_¡Üage
;

193 
‰m_‰
 *
	m‰m
;

194 
boÞ
 
	meviùed
;

200 
©omic_t
 
	mýu_wr™”s
;

206 
li¡_h—d
 
	mÌu
;

207 
li¡_h—d
 
	mdde¡roy
;

208 
li¡_h—d
 
	msw­
;

209 
li¡_h—d
 
	mio_»£rve_Ìu
;

215 
dma_ãnû
 *
	mmovšg
;

217 
drm_vma_off£t_node
 
	mvma_node
;

219 
	m´iÜ™y
;

227 
ušt64_t
 
	moff£t
;

229 
sg_bË
 *
	msg
;

231 
»£rv©iÚ_objeù
 *
	m»sv
;

232 
»£rv©iÚ_objeù
 
	m‰m_»sv
;

233 
mu‹x
 
	mwu_mu‹x
;

249 
	#TTM_BO_MAP_IOMEM_MASK
 0x80

	)

250 
	s‰m_bo_km­_obj
 {

251 *
	mvœtu®
;

252 
·ge
 *
	m·ge
;

254 
	m‰m_bo_m­_iom­
 = 1 | 
TTM_BO_MAP_IOMEM_MASK
,

255 
	m‰m_bo_m­_vm­
 = 2,

256 
	m‰m_bo_m­_km­
 = 3,

257 
	m‰m_bo_m­_´em­³d
 = 4 | 
TTM_BO_MAP_IOMEM_MASK
,

258 } 
	mbo_km­_ty³
;

259 
‰m_bufãr_objeù
 *
	mbo
;

273 
	s‰m_Ý”©iÚ_ùx
 {

274 
boÞ
 
	mš‹¼u±ibË
;

275 
boÞ
 
	mno_wa™_gpu
;

276 
boÞ
 
	m®low_»£rved_eviùiÚ
;

277 
»£rv©iÚ_objeù
 *
	m»sv
;

278 
ušt64_t
 
	mby‹s_moved
;

289 
šlše
 
‰m_bufãr_objeù
 *

290 
	$‰m_bo_»ã»nû
(
‰m_bufãr_objeù
 *
bo
)

292 
	`k»f_g‘
(&
bo
->
k»f
);

293  
bo
;

294 
	}
}

310 
‰m_bo_wa™
(
‰m_bufãr_objeù
 *
bo
, 
boÞ
 
š‹¼u±ibË
, boÞ 
no_wa™
);

321 
boÞ
 
‰m_bo_mem_com·t
(
‰m_¶aûm’t
 *
¶aûm’t
, 
‰m_mem_»g
 *
mem
,

322 
ušt32_t
 *
Ãw_æags
);

339 
‰m_bo_v®id©e
(
‰m_bufãr_objeù
 *
bo
,

340 
‰m_¶aûm’t
 *
¶aûm’t
,

341 
‰m_Ý”©iÚ_ùx
 *
ùx
);

350 
‰m_bo_uÄef
(
‰m_bufãr_objeù
 **
bo
);

362 
‰m_bo_add_to_Ìu
(
‰m_bufãr_objeù
 *
bo
);

374 
‰m_bo_d–_äom_Ìu
(
‰m_bufãr_objeù
 *
bo
);

385 
‰m_bo_move_to_Ìu_ž
(
‰m_bufãr_objeù
 *
bo
);

394 
‰m_bo_lock_d–ayed_wÜkqueue
(
‰m_bo_deviû
 *
bdev
);

401 
‰m_bo_uÆock_d–ayed_wÜkqueue
(
‰m_bo_deviû
 *
bdev
, 
»sched
);

411 
boÞ
 
‰m_bo_eviùiÚ_v®uabË
(
‰m_bufãr_objeù
 *
bo
,

412 cÚ¡ 
‰m_¶aû
 *
¶aû
);

428 
‰m_bo_syncýu_wr™e_g¿b
(
‰m_bufãr_objeù
 *
bo
, 
boÞ
 
no_wa™
);

437 
‰m_bo_syncýu_wr™e_»Ëa£
(
‰m_bufãr_objeù
 *
bo
);

448 
size_t
 
‰m_bo_acc_size
(
‰m_bo_deviû
 *
bdev
,

449 
bo_size
,

450 
¡ruù_size
);

451 
size_t
 
‰m_bo_dma_acc_size
(
‰m_bo_deviû
 *
bdev
,

452 
bo_size
,

453 
¡ruù_size
);

495 
‰m_bo_š™_»£rved
(
‰m_bo_deviû
 *
bdev
,

496 
‰m_bufãr_objeù
 *
bo
,

497 
size
,

498 
‰m_bo_ty³
 
ty³
,

499 
‰m_¶aûm’t
 *
¶aûm’t
,

500 
ušt32_t
 
·ge_®ignm’t
,

501 
‰m_Ý”©iÚ_ùx
 *
ùx
,

502 
fže
 *
³rsi¡’t_sw­_¡Üage
,

503 
size_t
 
acc_size
,

504 
sg_bË
 *
sg
,

505 
»£rv©iÚ_objeù
 *
»sv
,

506 (*
de¡roy
è(
‰m_bufãr_objeù
 *));

546 
	`‰m_bo_š™
(
‰m_bo_deviû
 *
bdev
, 
‰m_bufãr_objeù
 *
bo
,

547 
size
, 
‰m_bo_ty³
 
ty³
,

548 
‰m_¶aûm’t
 *
¶aûm’t
,

549 
ušt32_t
 
·ge_®ignm’t
, 
boÞ
 
š‹¼ubtibË
,

550 
fže
 *
³rsi¡’t_sw­_¡Üage
, 
size_t
 
acc_size
,

551 
sg_bË
 *
sg
, 
»£rv©iÚ_objeù
 *
»sv
,

552 (*
de¡roy
è(
‰m_bufãr_objeù
 *));

578 
	`‰m_bo_ü—‹
(
‰m_bo_deviû
 *
bdev
, 
size
,

579 
‰m_bo_ty³
 
ty³
, 
‰m_¶aûm’t
 *
¶aûm’t
,

580 
ušt32_t
 
·ge_®ignm’t
, 
boÞ
 
š‹¼u±ibË
,

581 
fže
 *
³rsi¡’t_sw­_¡Üage
,

582 
‰m_bufãr_objeù
 **
p_bo
);

599 
	`‰m_bo_š™_mm
(
‰m_bo_deviû
 *
bdev
, 
ty³
,

600 
p_size
);

628 
	`‰m_bo_þ—n_mm
(
‰m_bo_deviû
 *
bdev
, 
mem_ty³
);

648 
	`‰m_bo_eviù_mm
(
‰m_bo_deviû
 *
bdev
, 
mem_ty³
);

661 
šlše
 *
	$‰m_km­_obj_vœtu®
(
‰m_bo_km­_obj
 *
m­
,

662 
boÞ
 *
is_iomem
)

664 *
is_iomem
 = !!(
m­
->
bo_km­_ty³
 & 
TTM_BO_MAP_IOMEM_MASK
);

665  
m­
->
vœtu®
;

666 
	}
}

684 
‰m_bo_km­
(
‰m_bufãr_objeù
 *
bo
, 
¡¬t_·ge
,

685 
num_·ges
, 
‰m_bo_km­_obj
 *
m­
);

694 
‰m_bo_kunm­
(
‰m_bo_km­_obj
 *
m­
);

706 
‰m_fbdev_mm­
(
vm_¬—_¡ruù
 *
vma
, 
‰m_bufãr_objeù
 *
bo
);

718 
‰m_bo_mm­
(
fže
 *
fžp
, 
vm_¬—_¡ruù
 *
vma
,

719 
‰m_bo_deviû
 *
bdev
);

741 
ssize_t
 
‰m_bo_io
(
‰m_bo_deviû
 *
bdev
, 
fže
 *
fžp
,

742 cÚ¡ 
__u£r
 *
wbuf
, __u£¸*
rbuf
,

743 
size_t
 
couÁ
, 
loff_t
 *
f_pos
, 
boÞ
 
wr™e
);

745 
‰m_bo_sw­out
(
‰m_bo_glob®
 *
glob
,

746 
‰m_Ý”©iÚ_ùx
 *
ùx
);

747 
‰m_bo_sw­out_®l
(
‰m_bo_deviû
 *
bdev
);

748 
‰m_bo_wa™_uÄe£rved
(
‰m_bufãr_objeù
 *
bo
);

	@src/common/linuxkpi/include/drm/ttm/ttm_bo_driver.h

32 #iâdeà
_TTM_BO_DRIVER_H_


33 
	#_TTM_BO_DRIVER_H_


	)

36 #iâdeà
__lšux__


37 
	~<drm/drmP.h
>

39 
	~<drm/drm_mm.h
>

40 
	~<drm/drm_glob®.h
>

41 
	~<drm/drm_vma_mªag”.h
>

42 
	~<lšux/wÜkqueue.h
>

43 
	~<lšux/fs.h
>

44 
	~<lšux/¥šlock.h
>

45 
	~<lšux/»£rv©iÚ.h
>

47 #iâdeà
__lšux__


48 
	~<sys/rwlock.h
>

49 
	~<sys/Œ“.h
>

51 
	~"‰m_bo_­i.h
"

52 
	~"‰m_memÜy.h
"

53 
	~"‰m_moduË.h
"

54 
	~"‰m_¶aûm’t.h
"

56 
	#TTM_MAX_BO_PRIORITY
 4U

	)

58 
	s‰m_back’d_func
 {

70 (*
	mbšd
è(
‰m_‰
 *
	m‰m
, 
‰m_mem_»g
 *
	mbo_mem
);

80 (*
	munbšd
è(
‰m_‰
 *
	m‰m
);

90 (*
	mde¡roy
è(
‰m_‰
 *
	m‰m
);

93 
	#TTM_PAGE_FLAG_WRITE
 (1 << 3)

	)

94 
	#TTM_PAGE_FLAG_SWAPPED
 (1 << 4)

	)

95 
	#TTM_PAGE_FLAG_PERSISTENT_SWAP
 (1 << 5)

	)

96 
	#TTM_PAGE_FLAG_ZERO_ALLOC
 (1 << 6)

	)

97 
	#TTM_PAGE_FLAG_DMA32
 (1 << 7)

	)

98 
	#TTM_PAGE_FLAG_SG
 (1 << 8)

	)

100 
	e‰m_ÿchšg_¡©e
 {

101 
	m‰_unÿched
,

102 
	m‰_wc
,

103 
	m‰_ÿched


127 
	s‰m_‰
 {

128 
‰m_bo_deviû
 *
	mbdev
;

129 
‰m_back’d_func
 *
	mfunc
;

130 
·ge
 *
	mdummy_»ad_·ge
;

131 
·ge
 **
	m·ges
;

132 
ušt32_t
 
	m·ge_æags
;

133 
	mnum_·ges
;

134 
sg_bË
 *
	msg
;

135 
‰m_bo_glob®
 *
	mglob
;

136 
fže
 *
	msw­_¡Üage
;

137 
‰m_ÿchšg_¡©e
 
	mÿchšg_¡©e
;

139 
	m‰_bound
,

140 
	m‰_unbound
,

141 
	m‰_uÅÝuÏ‹d
,

142 } 
	m¡©e
;

156 
	s‰m_dma_‰
 {

157 
‰m_‰
 
	m‰m
;

158 
dma_addr_t
 *
	mdma_add»ss
;

159 
li¡_h—d
 
	m·ges_li¡
;

162 
	#TTM_MEMTYPE_FLAG_FIXED
 (1 << 0è

	)

163 
	#TTM_MEMTYPE_FLAG_MAPPABLE
 (1 << 1è

	)

164 
	#TTM_MEMTYPE_FLAG_CMA
 (1 << 3è

	)

166 
	g‰m_mem_ty³_mªag”
;

168 
	s‰m_mem_ty³_mªag”_func
 {

180 (*
	mš™
)(
‰m_mem_ty³_mªag”
 *
	mmª
, 
	mp_size
);

190 (*
	mkedown
)(
‰m_mem_ty³_mªag”
 *
	mmª
);

220 (*
	mg‘_node
)(
‰m_mem_ty³_mªag”
 *
	mmª
,

221 
‰m_bufãr_objeù
 *
	mbo
,

222 cÚ¡ 
‰m_¶aû
 *
	m¶aû
,

223 
‰m_mem_»g
 *
	mmem
);

235 (*
	mput_node
)(
‰m_mem_ty³_mªag”
 *
	mmª
,

236 
‰m_mem_»g
 *
	mmem
);

248 (*
	mdebug
)(
‰m_mem_ty³_mªag”
 *
	mmª
,

249 
drm_´š‹r
 *
	m´š‹r
);

284 
	s‰m_mem_ty³_mªag”
 {

285 
‰m_bo_deviû
 *
	mbdev
;

291 
boÞ
 
	mhas_ty³
;

292 
boÞ
 
	mu£_ty³
;

293 
ušt32_t
 
	mæags
;

294 
ušt64_t
 
	mgpu_off£t
;

295 
ušt64_t
 
	msize
;

296 
ušt32_t
 
	mavažabË_ÿchšg
;

297 
ušt32_t
 
	mdeçuÉ_ÿchšg
;

298 cÚ¡ 
‰m_mem_ty³_mªag”_func
 *
	mfunc
;

299 *
	m´iv
;

300 
mu‹x
 
	mio_»£rve_mu‹x
;

301 
boÞ
 
	mu£_io_»£rve_Ìu
;

302 
boÞ
 
	mio_»£rve_ç¡·th
;

303 
¥šlock_t
 
	mmove_lock
;

309 
li¡_h—d
 
	mio_»£rve_Ìu
;

315 
li¡_h—d
 
	mÌu
[
TTM_MAX_BO_PRIORITY
];

320 
dma_ãnû
 *
	mmove
;

337 
	s‰m_bo_driv”
 {

351 
	m‰m_‰
 *(*
	m‰m_‰_ü—‹
)(
‰m_bo_deviû
 *
	mbdev
,

352 
	msize
,

353 
ušt32_t
 
	m·ge_æags
,

354 
·ge
 *
	mdummy_»ad_·ge
);

365 (*
	m‰m_‰_pÝuÏ‹
)(
‰m_‰
 *
	m‰m
,

366 
‰m_Ý”©iÚ_ùx
 *
	mùx
);

375 (*
	m‰m_‰_uÅÝuÏ‹
)(
‰m_‰
 *
	m‰m
);

389 (*
	mšv®id©e_ÿches
)(
‰m_bo_deviû
 *
	mbdev
, 
ušt32_t
 
	mæags
);

390 (*
	mš™_mem_ty³
)(
‰m_bo_deviû
 *
	mbdev
, 
ušt32_t
 
	mty³
,

391 
‰m_mem_ty³_mªag”
 *
	mmª
);

402 
boÞ
 (*
eviùiÚ_v®uabË
)(
‰m_bufãr_objeù
 *
	mbo
,

403 cÚ¡ 
‰m_¶aû
 *
	m¶aû
);

414 (*
	meviù_æags
)(
‰m_bufãr_objeù
 *
	mbo
,

415 
‰m_¶aûm’t
 *
	m¶aûm’t
);

428 (*
	mmove
)(
‰m_bufãr_objeù
 *
	mbo
, 
boÞ
 
	meviù
,

429 
‰m_Ý”©iÚ_ùx
 *
	mùx
,

430 
‰m_mem_»g
 *
	mÃw_mem
);

445 (*
	mv”ify_acûss
)(
‰m_bufãr_objeù
 *
	mbo
,

446 
fže
 *
	mfžp
);

455 (*
	mmove_nÙify
)(
‰m_bufãr_objeù
 *
	mbo
,

456 
boÞ
 
	meviù
,

457 
‰m_mem_»g
 *
	mÃw_mem
);

460 (*
	mçuÉ_»£rve_nÙify
)(
‰m_bufãr_objeù
 *
	mbo
);

465 (*
	msw­_nÙify
)(
‰m_bufãr_objeù
 *
	mbo
);

473 (*
	mio_mem_»£rve
)(
‰m_bo_deviû
 *
	mbdev
,

474 
‰m_mem_»g
 *
	mmem
);

475 (*
	mio_mem_ä“
)(
‰m_bo_deviû
 *
	mbdev
,

476 
‰m_mem_»g
 *
	mmem
);

484 (*
	mio_mem_pâ
)(
‰m_bufãr_objeù
 *
	mbo
,

485 
	m·ge_off£t
);

501 (*
	macûss_memÜy
)(
‰m_bufãr_objeù
 *
	mbo
, 
	moff£t
,

502 *
	mbuf
, 
	mËn
, 
	mwr™e
);

509 
	s‰m_bo_glob®_»f
 {

510 
drm_glob®_»ã»nû
 
	m»f
;

511 
‰m_mem_glob®
 *
	mmem_glob
;

528 
	s‰m_bo_glob®
 {

534 
kobjeù
 
	mkobj
;

535 
‰m_mem_glob®
 *
	mmem_glob
;

536 
·ge
 *
	mdummy_»ad_·ge
;

537 
mu‹x
 
	mdeviû_li¡_mu‹x
;

538 
¥šlock_t
 
	mÌu_lock
;

543 
li¡_h—d
 
	mdeviû_li¡
;

548 
li¡_h—d
 
	msw­_Ìu
[
TTM_MAX_BO_PRIORITY
];

553 
©omic_t
 
	mbo_couÁ
;

557 
	#TTM_NUM_MEM_TYPES
 8

	)

573 
	s‰m_bo_deviû
 {

578 
li¡_h—d
 
	mdeviû_li¡
;

579 
‰m_bo_glob®
 *
	mglob
;

580 
‰m_bo_driv”
 *
	mdriv”
;

581 
‰m_mem_ty³_mªag”
 
	mmª
[
TTM_NUM_MEM_TYPES
];

582 #iâdeà
__lšux__


583 
rwlock_t
 
	mvm_lock
;

584 
¥šlock_t
 
	mãnû_lock
;

589 
drm_vma_off£t_mªag”
 
	mvma_mªag”
;

594 
li¡_h—d
 
	mdde¡roy
;

596 #ifdeà
__lšux__


601 
add»ss_¥aû
 *
	mdev_m­pšg
;

608 
d–ayed_wÜk
 
	mwq
;

610 
boÞ
 
	mÃed_dma32
;

623 
šlše
 
ušt32_t


624 
	$‰m_æag_masked
(
ušt32_t
 *
Þd
, ušt32_ˆ
Ãw
, ušt32_ˆ
mask
)

626 *
Þd
 ^ð(*Þd ^ 
Ãw
è& 
mask
;

627  *
Þd
;

628 
	}
}

644 
‰m_‰_š™
(
‰m_‰
 *
‰m
, 
‰m_bo_deviû
 *
bdev
,

645 
size
, 
ušt32_t
 
·ge_æags
,

646 
·ge
 *
dummy_»ad_·ge
);

647 
‰m_dma_‰_š™
(
‰m_dma_‰
 *
‰m_dma
, 
‰m_bo_deviû
 *
bdev
,

648 
size
, 
ušt32_t
 
·ge_æags
,

649 
·ge
 *
dummy_»ad_·ge
);

658 
‰m_‰_fši
(
‰m_‰
 *
‰m
);

659 
‰m_dma_‰_fši
(
‰m_dma_‰
 *
‰m_dma
);

669 
‰m_‰_bšd
(
‰m_‰
 *
‰m
, 
‰m_mem_»g
 *
bo_mem
,

670 
‰m_Ý”©iÚ_ùx
 *
ùx
);

679 
‰m_‰_de¡roy
(
‰m_‰
 *
‰m
);

688 
‰m_‰_unbšd
(
‰m_‰
 *
‰m
);

697 
‰m_‰_sw­š
(
‰m_‰
 *
‰m
);

712 
‰m_‰_£t_¶aûm’t_ÿchšg
(
‰m_‰
 *
‰m
, 
ušt32_t
 
¶aûm’t
);

713 
‰m_‰_sw­out
(
‰m_‰
 *
‰m
, 
fže
 *
³rsi¡’t_sw­_¡Üage
);

722 
‰m_‰_uÅÝuÏ‹
(
‰m_‰
 *
‰m
);

737 
boÞ
 
‰m_mem_»g_is_pci
(
‰m_bo_deviû
 *
bdev
, 
‰m_mem_»g
 *
mem
);

758 
‰m_bo_mem_¥aû
(
‰m_bufãr_objeù
 *
bo
,

759 
‰m_¶aûm’t
 *
¶aûm’t
,

760 
‰m_mem_»g
 *
mem
,

761 
‰m_Ý”©iÚ_ùx
 *
ùx
);

763 
‰m_bo_mem_put
(
‰m_bufãr_objeù
 *
bo
, 
‰m_mem_»g
 *
mem
);

764 
‰m_bo_mem_put_locked
(
‰m_bufãr_objeù
 *
bo
,

765 
‰m_mem_»g
 *
mem
);

767 
‰m_bo_glob®_»Ëa£
(
drm_glob®_»ã»nû
 *
»f
);

768 
‰m_bo_glob®_š™
(
drm_glob®_»ã»nû
 *
»f
);

770 
‰m_bo_deviû_»Ëa£
(
‰m_bo_deviû
 *
bdev
);

787 
‰m_bo_deviû_š™
(
‰m_bo_deviû
 *
bdev
,

788 
‰m_bo_glob®
 *
glob
,

789 
‰m_bo_driv”
 *
driv”
,

790 #iâdeà
__lšux__


791 *
dummy
,

793 
add»ss_¥aû
 *
m­pšg
,

795 
ušt64_t
 
fže_·ge_off£t
, 
boÞ
 
Ãed_dma32
);

802 
‰m_bo_unm­_vœtu®
(
‰m_bufãr_objeù
 *
bo
);

811 
‰m_bo_unm­_vœtu®_locked
(
‰m_bufãr_objeù
 *
bo
);

813 
‰m_mem_io_»£rve_vm
(
‰m_bufãr_objeù
 *
bo
);

814 
‰m_mem_io_ä“_vm
(
‰m_bufãr_objeù
 *
bo
);

815 
‰m_mem_io_lock
(
‰m_mem_ty³_mªag”
 *
mª
, 
boÞ
 
š‹¼u±ibË
);

816 
‰m_mem_io_uÆock
(
‰m_mem_ty³_mªag”
 *
mª
);

818 
‰m_bo_d–_sub_äom_Ìu
(
‰m_bufãr_objeù
 *
bo
);

819 
‰m_bo_add_to_Ìu
(
‰m_bufãr_objeù
 *
bo
);

842 
šlše
 
	$__‰m_bo_»£rve
(
‰m_bufãr_objeù
 *
bo
,

843 
boÞ
 
š‹¼u±ibË
, boÞ 
no_wa™
,

844 
ww_acquœe_ùx
 *
tick‘
)

846 
»t
 = 0;

848 ià(
no_wa™
) {

849 
boÞ
 
sucûss
;

850 ià(
	`WARN_ON
(
tick‘
))

851  -
EBUSY
;

853 
sucûss
 = 
	`»£rv©iÚ_objeù_Œylock
(
bo
->
»sv
);

854  
sucûss
 ? 0 : -
EBUSY
;

857 ià(
š‹¼u±ibË
)

858 
»t
 = 
	`»£rv©iÚ_objeù_lock_š‹¼u±ibË
(
bo
->
»sv
, 
tick‘
);

860 
»t
 = 
	`»£rv©iÚ_objeù_lock
(
bo
->
»sv
, 
tick‘
);

861 ià(
»t
 =ð-
EINTR
)

862  -
ERESTARTSYS
;

863  
»t
;

864 
	}
}

910 
šlše
 
	$‰m_bo_»£rve
(
‰m_bufãr_objeù
 *
bo
,

911 
boÞ
 
š‹¼u±ibË
, boÞ 
no_wa™
,

912 
ww_acquœe_ùx
 *
tick‘
)

914 
»t
;

916 
	`WARN_ON
(!
	`k»f_»ad
(&
bo
->
k»f
));

918 
»t
 = 
	`__‰m_bo_»£rve
(
bo
, 
š‹¼u±ibË
, 
no_wa™
, 
tick‘
);

919 ià(
	`lik–y
(
»t
 == 0))

920 
	`‰m_bo_d–_sub_äom_Ìu
(
bo
);

922  
»t
;

923 
	}
}

935 
šlše
 
	$‰m_bo_»£rve_¦ow·th
(
‰m_bufãr_objeù
 *
bo
,

936 
boÞ
 
š‹¼u±ibË
,

937 
ww_acquœe_ùx
 *
tick‘
)

939 
»t
 = 0;

941 
	`WARN_ON
(!
	`k»f_»ad
(&
bo
->
k»f
));

943 ià(
š‹¼u±ibË
)

944 
»t
 = 
	`ww_mu‹x_lock_¦ow_š‹¼u±ibË
(&
bo
->
»sv
->
lock
,

945 
tick‘
);

947 
	`ww_mu‹x_lock_¦ow
(&
bo
->
»sv
->
lock
, 
tick‘
);

949 ià(
	`lik–y
(
»t
 == 0))

950 
	`‰m_bo_d–_sub_äom_Ìu
(
bo
);

951 ià(
»t
 =ð-
EINTR
)

952 
»t
 = -
ERESTARTSYS
;

954  
»t
;

955 
	}
}

964 
šlše
 
	$‰m_bo_uÄe£rve
(
‰m_bufãr_objeù
 *
bo
)

966 ià(!(
bo
->
mem
.
¶aûm’t
 & 
TTM_PL_FLAG_NO_EVICT
)) {

967 
	`¥š_lock
(&
bo
->
glob
->
Ìu_lock
);

968 
	`‰m_bo_add_to_Ìu
(
bo
);

969 
	`¥š_uÆock
(&
bo
->
glob
->
Ìu_lock
);

971 
	`»£rv©iÚ_objeù_uÆock
(
bo
->
»sv
);

972 
	}
}

978 
‰m_mem_io_»£rve
(
‰m_bo_deviû
 *
bdev
,

979 
‰m_mem_»g
 *
mem
);

980 
‰m_mem_io_ä“
(
‰m_bo_deviû
 *
bdev
,

981 
‰m_mem_»g
 *
mem
);

1000 
‰m_bo_move_‰m
(
‰m_bufãr_objeù
 *
bo
,

1001 
‰m_Ý”©iÚ_ùx
 *
ùx
,

1002 
‰m_mem_»g
 *
Ãw_mem
);

1022 
‰m_bo_move_memýy
(
‰m_bufãr_objeù
 *
bo
,

1023 
‰m_Ý”©iÚ_ùx
 *
ùx
,

1024 
‰m_mem_»g
 *
Ãw_mem
);

1033 
‰m_bo_ä“_Þd_node
(
‰m_bufãr_objeù
 *
bo
);

1050 
‰m_bo_move_acûl_þ—nup
(
‰m_bufãr_objeù
 *
bo
,

1051 
dma_ãnû
 *
ãnû
, 
boÞ
 
eviù
,

1052 
‰m_mem_»g
 *
Ãw_mem
);

1065 
‰m_bo_p–še_move
(
‰m_bufãr_objeù
 *
bo
,

1066 
dma_ãnû
 *
ãnû
, 
boÞ
 
eviù
,

1067 
‰m_mem_»g
 *
Ãw_mem
);

1078 
pg´Ù_t
 
‰m_io_´Ù
(
ušt32_t
 
ÿchšg_æags
,…g´Ù_ˆ
tmp
);

1080 cÚ¡ 
‰m_mem_ty³_mªag”_func
 
‰m_bo_mªag”_func
;

1082 #ià
__OS_HAS_AGP


1083 
	#TTM_HAS_AGP


	)

1099 
‰m_‰
 *
‰m_agp_‰_ü—‹
(
‰m_bo_deviû
 *
bdev
,

1100 #ifdeà
__lšux__


1101 
agp_bridge_d©a
 *
bridge
,

1103 
deviû_t
 
bridge
,

1105 
size
, 
ušt32_t
 
·ge_æags
,

1106 
·ge
 *
dummy_»ad_·ge
);

1107 
‰m_agp_‰_pÝuÏ‹
(
‰m_‰
 *
‰m
, 
‰m_Ý”©iÚ_ùx
 *
ùx
);

1108 
‰m_agp_‰_uÅÝuÏ‹
(
‰m_‰
 *
‰m
);

	@src/common/linuxkpi/include/drm/ttm/ttm_debug.h

30 #ifdeà
__lšux__


32 
‰m_Œaû_dma_m­
(
deviû
 *
dev
, 
‰m_dma_‰
 *
‰
);

33 
‰m_Œaû_dma_unm­
(
deviû
 *
dev
, 
‰m_dma_‰
 *
‰
);

37 
	~<drm/drmP.h
>

38 
	~"‰m_bo_driv”.h
"

40 
šlše
 

41 
	$‰m_Œaû_dma_m­
(
deviû
 *
dev
, 
‰m_dma_‰
 *
‰
){

42 
	`CTR2
(
KTR_DRM
, "‰m_dma_m­ dev %p,tm_dma_‰ %p", 
dev
, 
‰
);

43 
	}
}

45 
šlše
 

46 
	$‰m_Œaû_dma_unm­
(
deviû
 *
dev
, 
‰m_dma_‰
 *
‰
){

47 
	`CTR2
(
KTR_DRM
, "‰m_dma_unm­ dev %p,tm_dma_‰ %p", 
dev
, 
‰
);

48 
	}
}

	@src/common/linuxkpi/include/drm/ttm/ttm_execbuf_util.h

31 #iâdeà
_TTM_EXECBUF_UTIL_H_


32 
	#_TTM_EXECBUF_UTIL_H_


	)

34 
	~<lšux/li¡.h
>

36 
	~"‰m_bo_­i.h
"

46 
	s‰m_v®id©e_bufãr
 {

47 
li¡_h—d
 
	mh—d
;

48 
‰m_bufãr_objeù
 *
	mbo
;

49 
boÞ
 
	msh¬ed
;

62 
‰m_eu_backoff_»£rv©iÚ
(
ww_acquœe_ùx
 *
tick‘
,

63 
li¡_h—d
 *
li¡
);

99 
‰m_eu_»£rve_bufãrs
(
ww_acquœe_ùx
 *
tick‘
,

100 
li¡_h—d
 *
li¡
, 
boÞ
 
šŒ
,

101 
li¡_h—d
 *
dups
);

116 
‰m_eu_ãnû_bufãr_objeùs
(
ww_acquœe_ùx
 *
tick‘
,

117 
li¡_h—d
 *
li¡
,

118 
dma_ãnû
 *
ãnû
);

	@src/common/linuxkpi/include/drm/ttm/ttm_lock.h

50 #iâdeà
_TTM_LOCK_H_


51 
	#_TTM_LOCK_H_


	)

53 
	~<lšux/wa™.h
>

54 
	~<lšux/©omic.h
>

56 
	~"‰m_objeù.h
"

71 
	s‰m_lock
 {

72 
‰m_ba£_objeù
 
	mba£
;

73 
wa™_queue_h—d_t
 
	mqueue
;

74 
¥šlock_t
 
	mlock
;

75 
št32_t
 
	mrw
;

76 
ušt32_t
 
	mæags
;

77 
boÞ
 
	mkžl_k”s
;

78 
	msigÇl
;

79 
‰m_objeù_fže
 *
	mvt_hÞd”
;

89 
‰m_lock_š™
(
‰m_lock
 *
lock
);

98 
‰m_»ad_uÆock
(
‰m_lock
 *
lock
);

110 
‰m_»ad_lock
(
‰m_lock
 *
lock
, 
boÞ
 
š‹¼u±ibË
);

127 
‰m_»ad_Œylock
(
‰m_lock
 *
lock
, 
boÞ
 
š‹¼u±ibË
);

136 
‰m_wr™e_uÆock
(
‰m_lock
 *
lock
);

148 
‰m_wr™e_lock
(
‰m_lock
 *
lock
, 
boÞ
 
š‹¼u±ibË
);

157 
‰m_lock_downg¿de
(
‰m_lock
 *
lock
);

166 
‰m_su¥’d_lock
(
‰m_lock
 *
lock
);

175 
‰m_su¥’d_uÆock
(
‰m_lock
 *
lock
);

189 
‰m_vt_lock
(
‰m_lock
 *
lock
, 
boÞ
 
š‹¼u±ibË
,

190 
‰m_objeù_fže
 *
tfže
);

201 
‰m_vt_uÆock
(
‰m_lock
 *
lock
);

210 
‰m_wr™e_uÆock
(
‰m_lock
 *
lock
);

222 
‰m_wr™e_lock
(
‰m_lock
 *
lock
, 
boÞ
 
š‹¼u±ibË
);

241 
šlše
 
	$‰m_lock_£t_kžl
(
‰m_lock
 *
lock
, 
boÞ
 
v®
,

242 
sigÇl
)

244 
lock
->
kžl_k”s
 = 
v®
;

245 ià(
v®
)

246 
lock
->
sigÇl
 = signal;

247 
	}
}

	@src/common/linuxkpi/include/drm/ttm/ttm_memory.h

29 #iâdeà
TTM_MEMORY_H


30 
	#TTM_MEMORY_H


	)

32 
	~<lšux/wÜkqueue.h
>

33 
	~<lšux/¥šlock.h
>

34 
	~<lšux/bug.h
>

35 
	~<lšux/wa™.h
>

36 
	~<lšux/”ºo.h
>

37 
	~<lšux/kobjeù.h
>

38 
	~<lšux/mm.h
>

39 
	~"‰m_bo_­i.h
"

63 
	#TTM_MEM_MAX_ZONES
 2

	)

64 
	g‰m_mem_zÚe
;

65 
	s‰m_mem_glob®
 {

66 
kobjeù
 
	mkobj
;

67 
‰m_bo_glob®
 *
	mbo_glob
;

68 
wÜkqueue_¡ruù
 *
	msw­_queue
;

69 
wÜk_¡ruù
 
	mwÜk
;

70 
¥šlock_t
 
	mlock
;

71 
‰m_mem_zÚe
 *
	mzÚes
[
TTM_MEM_MAX_ZONES
];

72 
	mnum_zÚes
;

73 
‰m_mem_zÚe
 *
	mzÚe_k”Ãl
;

74 #ifdeà
CONFIG_HIGHMEM


75 
‰m_mem_zÚe
 *
	mzÚe_highmem
;

77 
‰m_mem_zÚe
 *
	mzÚe_dma32
;

81 
‰m_mem_glob®_š™
(
‰m_mem_glob®
 *
glob
);

82 
‰m_mem_glob®_»Ëa£
(
‰m_mem_glob®
 *
glob
);

83 
‰m_mem_glob®_®loc
(
‰m_mem_glob®
 *
glob
, 
ušt64_t
 
memÜy
,

84 
‰m_Ý”©iÚ_ùx
 *
ùx
);

85 
‰m_mem_glob®_ä“
(
‰m_mem_glob®
 *
glob
,

86 
ušt64_t
 
amouÁ
);

87 
‰m_mem_glob®_®loc_·ge
(
‰m_mem_glob®
 *
glob
,

88 
·ge
 *·ge, 
ušt64_t
 
size
,

89 
‰m_Ý”©iÚ_ùx
 *
ùx
);

90 
‰m_mem_glob®_ä“_·ge
(
‰m_mem_glob®
 *
glob
,

91 
·ge
 *·ge, 
ušt64_t
 
size
);

92 
size_t
 
‰m_round_pÙ
(size_ˆ
size
);

93 
ušt64_t
 
‰m_g‘_k”Ãl_zÚe_memÜy_size
(
‰m_mem_glob®
 *
glob
);

	@src/common/linuxkpi/include/drm/ttm/ttm_module.h

31 #iâdeà
_TTM_MODULE_H_


32 
	#_TTM_MODULE_H_


	)

34 
	~<lšux/k”Ãl.h
>

35 
	gkobjeù
;

37 
	#TTM_PFX
 "[TTM] "

	)

38 
kobjeù
 *
‰m_g‘_kobj
();

	@src/common/linuxkpi/include/drm/ttm/ttm_object.h

38 #iâdeà
_TTM_OBJECT_H_


39 
	#_TTM_OBJECT_H_


	)

41 
	~<lšux/li¡.h
>

42 
	~<drm/drm_hashb.h
>

43 
	~<lšux/k»f.h
>

44 
	~<lšux/rcupd©e.h
>

45 
	~<lšux/dma-buf.h
>

47 
	~"‰m_memÜy.h
"

64 
	e‰m_»f_ty³
 {

65 
	mTTM_REF_USAGE
,

66 
	mTTM_REF_SYNCCPU_READ
,

67 
	mTTM_REF_SYNCCPU_WRITE
,

68 
	mTTM_REF_NUM


79 
	e‰m_objeù_ty³
 {

80 
	m‰m_ãnû_ty³
,

81 
	m‰m_bufãr_ty³
,

82 
	m‰m_lock_ty³
,

83 
	m‰m_´ime_ty³
,

84 
	m‰m_driv”_ty³0
 = 256,

85 
	m‰m_driv”_ty³1
,

86 
	m‰m_driv”_ty³2
,

87 
	m‰m_driv”_ty³3
,

88 
	m‰m_driv”_ty³4
,

89 
	m‰m_driv”_ty³5


92 
	g‰m_objeù_fže
;

93 
	g‰m_objeù_deviû
;

127 
	s‰m_ba£_objeù
 {

128 
rcu_h—d
 
	mrh—d
;

129 
drm_hash_™em
 
	mhash
;

130 
‰m_objeù_ty³
 
	mobjeù_ty³
;

131 
boÞ
 
	msh¬—bË
;

132 
‰m_objeù_fže
 *
	mtfže
;

133 
k»f
 
	m»fcouÁ
;

134 (*
	m»fcouÁ_»Ëa£
è(
‰m_ba£_objeù
 **
	mba£
);

135 (*
	m»f_obj_»Ëa£
è(
‰m_ba£_objeù
 *
	mba£
,

136 
‰m_»f_ty³
 
	m»f_ty³
);

154 
	s‰m_´ime_objeù
 {

155 
‰m_ba£_objeù
 
	mba£
;

156 
mu‹x
 
	mmu‹x
;

157 
size_t
 
	msize
;

158 
‰m_objeù_ty³
 
	m»®_ty³
;

159 
dma_buf
 *
	mdma_buf
;

160 (*
	m»fcouÁ_»Ëa£
è(
	m‰m_ba£_objeù
 **);

177 
‰m_ba£_objeù_š™
(
‰m_objeù_fže
 *
tfže
,

178 
‰m_ba£_objeù
 *
ba£
,

179 
boÞ
 
sh¬—bË
,

180 
‰m_objeù_ty³
 
ty³
,

181 (*
»fcouÁ_»Ëa£
è(
‰m_ba£_objeù


183 (*
»f_obj_»Ëa£
è(
‰m_ba£_objeù


185 
‰m_»f_ty³


186 
»f_ty³
));

197 
‰m_ba£_objeù
 *
	`‰m_ba£_objeù_lookup
(
‰m_objeù_fže


198 *
tfže
, 
ušt32_t
 
key
);

211 
‰m_ba£_objeù
 *

212 
	`‰m_ba£_objeù_lookup_fÜ_»f
(
‰m_objeù_deviû
 *
tdev
, 
ušt32_t
 
key
);

223 
	`‰m_ba£_objeù_uÄef
(
‰m_ba£_objeù
 **
p_ba£
);

248 
	`‰m_»f_objeù_add
(
‰m_objeù_fže
 *
tfže
,

249 
‰m_ba£_objeù
 *
ba£
,

250 
‰m_»f_ty³
 
»f_ty³
, 
boÞ
 *
exi¡ed
,

251 
boÞ
 
»quœe_exi¡ed
);

253 
boÞ
 
	`‰m_»f_objeù_exi¡s
(
‰m_objeù_fže
 *
tfže
,

254 
‰m_ba£_objeù
 *
ba£
);

267 
	`‰m_»f_objeù_ba£_uÄef
(
‰m_objeù_fže
 *
tfže
,

268 
key
,

269 
‰m_»f_ty³
 
»f_ty³
);

280 
‰m_objeù_fže
 *
	`‰m_objeù_fže_š™
(
‰m_objeù_deviû


281 *
tdev
,

282 
hash_Üd”
);

295 
	`‰m_objeù_fže_»Ëa£
(
‰m_objeù_fže
 **
p_tfže
);

308 
‰m_objeù_deviû
 *

309 
	`‰m_objeù_deviû_š™
(
‰m_mem_glob®
 *
mem_glob
,

310 
hash_Üd”
,

311 cÚ¡ 
dma_buf_Ýs
 *
Ýs
);

324 
	`‰m_objeù_deviû_»Ëa£
(
‰m_objeù_deviû
 **
p_tdev
);

326 
	#‰m_ba£_objeù_kä“
(
__objeù
, 
__ba£
)\

327 
	`kä“_rcu
(
__objeù
, 
__ba£
.
rh—d
)

	)

329 
	`‰m_´ime_objeù_š™
(
‰m_objeù_fže
 *
tfže
,

330 
size_t
 
size
,

331 
‰m_´ime_objeù
 *
´ime
,

332 
boÞ
 
sh¬—bË
,

333 
‰m_objeù_ty³
 
ty³
,

334 (*
»fcouÁ_»Ëa£
)

335 (
‰m_ba£_objeù
 **),

336 (*
»f_obj_»Ëa£
)

337 (
‰m_ba£_objeù
 *,

338 
‰m_»f_ty³
 
»f_ty³
));

340 
šlše
 
‰m_objeù_ty³


341 
	$‰m_ba£_objeù_ty³
(
‰m_ba£_objeù
 *
ba£
)

343  (
ba£
->
objeù_ty³
 =ð
‰m_´ime_ty³
) ?

344 
	`cÚš”_of
(
ba£
, 
‰m_´ime_objeù
, ba£)->
»®_ty³
 :

345 
ba£
->
objeù_ty³
;

346 
	}
}

347 
‰m_´ime_fd_to_hªdË
(
‰m_objeù_fže
 *
tfže
,

348 
fd
, 
u32
 *
hªdË
);

349 
‰m_´ime_hªdË_to_fd
(
‰m_objeù_fže
 *
tfže
,

350 
ušt32_t
 
hªdË
, ušt32_ˆ
æags
,

351 *
´ime_fd
);

353 
	#‰m_´ime_objeù_kä“
(
__obj
, 
__´ime
) \

354 
	`kä“_rcu
(
__obj
, 
__´ime
.
ba£
.
rh—d
)

	)

	@src/common/linuxkpi/include/drm/ttm/ttm_page_alloc.h

27 #iâdeà
TTM_PAGE_ALLOC


28 
	#TTM_PAGE_ALLOC


	)

30 
	~<drm/‰m/‰m_bo_driv”.h
>

31 
	~<drm/‰m/‰m_memÜy.h
>

33 
	gdeviû
;

38 
‰m_·ge_®loc_š™
(
‰m_mem_glob®
 *
glob
, 
max_·ges
);

42 
‰m_·ge_®loc_fši
();

51 
‰m_poÞ_pÝuÏ‹
(
‰m_‰
 *
‰m
, 
‰m_Ý”©iÚ_ùx
 *
ùx
);

60 
‰m_poÞ_uÅÝuÏ‹
(
‰m_‰
 *
‰m
);

65 
‰m_pÝuÏ‹_ªd_m­_·ges
(
deviû
 *
dev
, 
‰m_dma_‰
 *
‰
,

66 
‰m_Ý”©iÚ_ùx
 *
ùx
);

71 
‰m_unm­_ªd_uÅÝuÏ‹_·ges
(
deviû
 *
dev
, 
‰m_dma_‰
 *
‰
);

76 
‰m_·ge_®loc_debugfs
(
£q_fže
 *
m
, *
d©a
);

78 #ià
defšed
(
CONFIG_SWIOTLB
è|| defšed(
CONFIG_INTEL_IOMMU
)

82 
‰m_dma_·ge_®loc_š™
(
‰m_mem_glob®
 *
glob
, 
max_·ges
);

87 
‰m_dma_·ge_®loc_fši
();

92 
‰m_dma_·ge_®loc_debugfs
(
£q_fže
 *
m
, *
d©a
);

94 
‰m_dma_pÝuÏ‹
(
‰m_dma_‰
 *
‰m_dma
, 
deviû
 *
dev
,

95 
‰m_Ý”©iÚ_ùx
 *
ùx
);

96 
‰m_dma_uÅÝuÏ‹
(
‰m_dma_‰
 *
‰m_dma
, 
deviû
 *
dev
);

99 
šlše
 
	$‰m_dma_·ge_®loc_š™
(
‰m_mem_glob®
 *
glob
,

100 
max_·ges
)

102  -
ENODEV
;

103 
	}
}

105 
šlše
 
	$‰m_dma_·ge_®loc_fši
(è{ ; 
	}
}

107 
šlše
 
	$‰m_dma_·ge_®loc_debugfs
(
£q_fže
 *
m
, *
d©a
)

110 
	}
}

111 
šlše
 
	$‰m_dma_pÝuÏ‹
(
‰m_dma_‰
 *
‰m_dma
,

112 
deviû
 *
dev
,

113 
‰m_Ý”©iÚ_ùx
 *
ùx
)

115  -
ENOMEM
;

116 
	}
}

117 
šlše
 
	$‰m_dma_uÅÝuÏ‹
(
‰m_dma_‰
 *
‰m_dma
,

118 
deviû
 *
dev
)

120 
	}
}

	@src/common/linuxkpi/include/drm/ttm/ttm_placement.h

31 #iâdeà
_TTM_PLACEMENT_H_


32 
	#_TTM_PLACEMENT_H_


	)

34 
	~<lšux/ty³s.h
>

40 
	#TTM_PL_SYSTEM
 0

	)

41 
	#TTM_PL_TT
 1

	)

42 
	#TTM_PL_VRAM
 2

	)

43 
	#TTM_PL_PRIV
 3

	)

45 
	#TTM_PL_FLAG_SYSTEM
 (1 << 
TTM_PL_SYSTEM
)

	)

46 
	#TTM_PL_FLAG_TT
 (1 << 
TTM_PL_TT
)

	)

47 
	#TTM_PL_FLAG_VRAM
 (1 << 
TTM_PL_VRAM
)

	)

48 
	#TTM_PL_FLAG_PRIV
 (1 << 
TTM_PL_PRIV
)

	)

49 
	#TTM_PL_MASK_MEM
 0x0000FFFF

	)

63 
	#TTM_PL_FLAG_CACHED
 (1 << 16)

	)

64 
	#TTM_PL_FLAG_UNCACHED
 (1 << 17)

	)

65 
	#TTM_PL_FLAG_WC
 (1 << 18)

	)

66 
	#TTM_PL_FLAG_CONTIGUOUS
 (1 << 19)

	)

67 
	#TTM_PL_FLAG_NO_EVICT
 (1 << 21)

	)

68 
	#TTM_PL_FLAG_TOPDOWN
 (1 << 22)

	)

70 
	#TTM_PL_MASK_CACHING
 (
TTM_PL_FLAG_CACHED
 | \

71 
TTM_PL_FLAG_UNCACHED
 | \

72 
TTM_PL_FLAG_WC
)

	)

74 
	#TTM_PL_MASK_MEMTYPE
 (
TTM_PL_MASK_MEM
 | 
TTM_PL_MASK_CACHING
)

	)

85 
	s‰m_¶aû
 {

86 
	måâ
;

87 
	mÍâ
;

88 
ušt32_t
 
	mæags
;

101 
	s‰m_¶aûm’t
 {

102 
	mnum_¶aûm’t
;

103 cÚ¡ 
‰m_¶aû
 *
	m¶aûm’t
;

104 
	mnum_busy_¶aûm’t
;

105 cÚ¡ 
‰m_¶aû
 *
	mbusy_¶aûm’t
;

	@src/common/linuxkpi/include/uapi/drm/amdgpu_drm.h

32 #iâdeà
__AMDGPU_DRM_H__


33 
	#__AMDGPU_DRM_H__


	)

35 
	~"drm.h
"

37 #ià
defšed
(
__ýlu¥lus
)

41 
	#DRM_AMDGPU_GEM_CREATE
 0x00

	)

42 
	#DRM_AMDGPU_GEM_MMAP
 0x01

	)

43 
	#DRM_AMDGPU_CTX
 0x02

	)

44 
	#DRM_AMDGPU_BO_LIST
 0x03

	)

45 
	#DRM_AMDGPU_CS
 0x04

	)

46 
	#DRM_AMDGPU_INFO
 0x05

	)

47 
	#DRM_AMDGPU_GEM_METADATA
 0x06

	)

48 
	#DRM_AMDGPU_GEM_WAIT_IDLE
 0x07

	)

49 
	#DRM_AMDGPU_GEM_VA
 0x08

	)

50 
	#DRM_AMDGPU_WAIT_CS
 0x09

	)

51 
	#DRM_AMDGPU_GEM_OP
 0x10

	)

52 
	#DRM_AMDGPU_GEM_USERPTR
 0x11

	)

53 
	#DRM_AMDGPU_WAIT_FENCES
 0x12

	)

54 
	#DRM_AMDGPU_VM
 0x13

	)

55 
	#DRM_AMDGPU_FENCE_TO_HANDLE
 0x14

	)

56 
	#DRM_AMDGPU_SCHED
 0x15

	)

58 
	#DRM_IOCTL_AMDGPU_GEM_CREATE
 
	`DRM_IOWR
(
DRM_COMMAND_BASE
 + 
DRM_AMDGPU_GEM_CREATE
, 
drm_amdgpu_gem_ü—‹
)

	)

59 
	#DRM_IOCTL_AMDGPU_GEM_MMAP
 
	`DRM_IOWR
(
DRM_COMMAND_BASE
 + 
DRM_AMDGPU_GEM_MMAP
, 
drm_amdgpu_gem_mm­
)

	)

60 
	#DRM_IOCTL_AMDGPU_CTX
 
	`DRM_IOWR
(
DRM_COMMAND_BASE
 + 
DRM_AMDGPU_CTX
, 
drm_amdgpu_ùx
)

	)

61 
	#DRM_IOCTL_AMDGPU_BO_LIST
 
	`DRM_IOWR
(
DRM_COMMAND_BASE
 + 
DRM_AMDGPU_BO_LIST
, 
drm_amdgpu_bo_li¡
)

	)

62 
	#DRM_IOCTL_AMDGPU_CS
 
	`DRM_IOWR
(
DRM_COMMAND_BASE
 + 
DRM_AMDGPU_CS
, 
drm_amdgpu_cs
)

	)

63 
	#DRM_IOCTL_AMDGPU_INFO
 
	`DRM_IOW
(
DRM_COMMAND_BASE
 + 
DRM_AMDGPU_INFO
, 
drm_amdgpu_šfo
)

	)

64 
	#DRM_IOCTL_AMDGPU_GEM_METADATA
 
	`DRM_IOWR
(
DRM_COMMAND_BASE
 + 
DRM_AMDGPU_GEM_METADATA
, 
drm_amdgpu_gem_m‘ad©a
)

	)

65 
	#DRM_IOCTL_AMDGPU_GEM_WAIT_IDLE
 
	`DRM_IOWR
(
DRM_COMMAND_BASE
 + 
DRM_AMDGPU_GEM_WAIT_IDLE
, 
drm_amdgpu_gem_wa™_idË
)

	)

66 
	#DRM_IOCTL_AMDGPU_GEM_VA
 
	`DRM_IOW
(
DRM_COMMAND_BASE
 + 
DRM_AMDGPU_GEM_VA
, 
drm_amdgpu_gem_va
)

	)

67 
	#DRM_IOCTL_AMDGPU_WAIT_CS
 
	`DRM_IOWR
(
DRM_COMMAND_BASE
 + 
DRM_AMDGPU_WAIT_CS
, 
drm_amdgpu_wa™_cs
)

	)

68 
	#DRM_IOCTL_AMDGPU_GEM_OP
 
	`DRM_IOWR
(
DRM_COMMAND_BASE
 + 
DRM_AMDGPU_GEM_OP
, 
drm_amdgpu_gem_Ý
)

	)

69 
	#DRM_IOCTL_AMDGPU_GEM_USERPTR
 
	`DRM_IOWR
(
DRM_COMMAND_BASE
 + 
DRM_AMDGPU_GEM_USERPTR
, 
drm_amdgpu_gem_u£½Œ
)

	)

70 
	#DRM_IOCTL_AMDGPU_WAIT_FENCES
 
	`DRM_IOWR
(
DRM_COMMAND_BASE
 + 
DRM_AMDGPU_WAIT_FENCES
, 
drm_amdgpu_wa™_ãnûs
)

	)

71 
	#DRM_IOCTL_AMDGPU_VM
 
	`DRM_IOWR
(
DRM_COMMAND_BASE
 + 
DRM_AMDGPU_VM
, 
drm_amdgpu_vm
)

	)

72 
	#DRM_IOCTL_AMDGPU_FENCE_TO_HANDLE
 
	`DRM_IOWR
(
DRM_COMMAND_BASE
 + 
DRM_AMDGPU_FENCE_TO_HANDLE
, 
drm_amdgpu_ãnû_to_hªdË
)

	)

73 
	#DRM_IOCTL_AMDGPU_SCHED
 
	`DRM_IOW
(
DRM_COMMAND_BASE
 + 
DRM_AMDGPU_SCHED
, 
drm_amdgpu_sched
)

	)

75 
	#AMDGPU_GEM_DOMAIN_CPU
 0x1

	)

76 
	#AMDGPU_GEM_DOMAIN_GTT
 0x2

	)

77 
	#AMDGPU_GEM_DOMAIN_VRAM
 0x4

	)

78 
	#AMDGPU_GEM_DOMAIN_GDS
 0x8

	)

79 
	#AMDGPU_GEM_DOMAIN_GWS
 0x10

	)

80 
	#AMDGPU_GEM_DOMAIN_OA
 0x20

	)

83 
	#AMDGPU_GEM_CREATE_CPU_ACCESS_REQUIRED
 (1 << 0)

	)

85 
	#AMDGPU_GEM_CREATE_NO_CPU_ACCESS
 (1 << 1)

	)

87 
	#AMDGPU_GEM_CREATE_CPU_GTT_USWC
 (1 << 2)

	)

89 
	#AMDGPU_GEM_CREATE_VRAM_CLEARED
 (1 << 3)

	)

91 
	#AMDGPU_GEM_CREATE_SHADOW
 (1 << 4)

	)

93 
	#AMDGPU_GEM_CREATE_VRAM_CONTIGUOUS
 (1 << 5)

	)

95 
	#AMDGPU_GEM_CREATE_VM_ALWAYS_VALID
 (1 << 6)

	)

97 
	#AMDGPU_GEM_CREATE_EXPLICIT_SYNC
 (1 << 7)

	)

99 
	sdrm_amdgpu_gem_ü—‹_š
 {

101 
__u64
 
bo_size
;

103 
__u64
 
®ignm’t
;

105 
__u64
 
domašs
;

107 
__u64
 
domaš_æags
;

110 
	sdrm_amdgpu_gem_ü—‹_out
 {

112 
__u32
 
hªdË
;

113 
__u32
 
_·d
;

116 
	udrm_amdgpu_gem_ü—‹
 {

117 
drm_amdgpu_gem_ü—‹_š
 
š
;

118 
drm_amdgpu_gem_ü—‹_out
 
out
;

122 
	#AMDGPU_BO_LIST_OP_CREATE
 0

	)

124 
	#AMDGPU_BO_LIST_OP_DESTROY
 1

	)

126 
	#AMDGPU_BO_LIST_OP_UPDATE
 2

	)

128 
	sdrm_amdgpu_bo_li¡_š
 {

130 
__u32
 
Ý”©iÚ
;

132 
__u32
 
li¡_hªdË
;

134 
__u32
 
bo_numb”
;

136 
__u32
 
bo_šfo_size
;

138 
__u64
 
bo_šfo_±r
;

141 
	sdrm_amdgpu_bo_li¡_’Œy
 {

143 
__u32
 
bo_hªdË
;

145 
__u32
 
bo_´iÜ™y
;

148 
	sdrm_amdgpu_bo_li¡_out
 {

150 
__u32
 
li¡_hªdË
;

151 
__u32
 
_·d
;

154 
	udrm_amdgpu_bo_li¡
 {

155 
drm_amdgpu_bo_li¡_š
 
š
;

156 
drm_amdgpu_bo_li¡_out
 
out
;

160 
	#AMDGPU_CTX_OP_ALLOC_CTX
 1

	)

161 
	#AMDGPU_CTX_OP_FREE_CTX
 2

	)

162 
	#AMDGPU_CTX_OP_QUERY_STATE
 3

	)

163 
	#AMDGPU_CTX_OP_QUERY_STATE2
 4

	)

166 
	#AMDGPU_CTX_NO_RESET
 0

	)

168 
	#AMDGPU_CTX_GUILTY_RESET
 1

	)

170 
	#AMDGPU_CTX_INNOCENT_RESET
 2

	)

172 
	#AMDGPU_CTX_UNKNOWN_RESET
 3

	)

175 
	#AMDGPU_CTX_QUERY2_FLAGS_RESET
 (1<<0)

	)

177 
	#AMDGPU_CTX_QUERY2_FLAGS_VRAMLOST
 (1<<1)

	)

179 
	#AMDGPU_CTX_QUERY2_FLAGS_GUILTY
 (1<<2)

	)

182 
	#AMDGPU_CTX_PRIORITY_UNSET
 -2048

	)

183 
	#AMDGPU_CTX_PRIORITY_VERY_LOW
 -1023

	)

184 
	#AMDGPU_CTX_PRIORITY_LOW
 -512

	)

185 
	#AMDGPU_CTX_PRIORITY_NORMAL
 0

	)

187 
	#AMDGPU_CTX_PRIORITY_HIGH
 512

	)

188 
	#AMDGPU_CTX_PRIORITY_VERY_HIGH
 1023

	)

190 
	sdrm_amdgpu_ùx_š
 {

192 
__u32
 
Ý
;

194 
__u32
 
æags
;

195 
__u32
 
ùx_id
;

196 
__s32
 
´iÜ™y
;

199 
	udrm_amdgpu_ùx_out
 {

201 
__u32
 
ùx_id
;

202 
__u32
 
_·d
;

203 } 
®loc
;

207 
__u64
 
æags
;

209 
__u32
 
hªgs
;

211 
__u32
 
»£t_¡©us
;

212 } 
¡©e
;

215 
	udrm_amdgpu_ùx
 {

216 
drm_amdgpu_ùx_š
 
š
;

217 
drm_amdgpu_ùx_out
 
out
;

221 
	#AMDGPU_VM_OP_RESERVE_VMID
 1

	)

222 
	#AMDGPU_VM_OP_UNRESERVE_VMID
 2

	)

224 
	sdrm_amdgpu_vm_š
 {

226 
__u32
 
Ý
;

227 
__u32
 
æags
;

230 
	sdrm_amdgpu_vm_out
 {

232 
__u64
 
æags
;

235 
	udrm_amdgpu_vm
 {

236 
drm_amdgpu_vm_š
 
š
;

237 
drm_amdgpu_vm_out
 
out
;

241 
	#AMDGPU_SCHED_OP_PROCESS_PRIORITY_OVERRIDE
 1

	)

243 
	sdrm_amdgpu_sched_š
 {

245 
__u32
 
Ý
;

246 
__u32
 
fd
;

247 
__s32
 
´iÜ™y
;

248 
__u32
 
æags
;

251 
	udrm_amdgpu_sched
 {

252 
drm_amdgpu_sched_š
 
š
;

260 
	#AMDGPU_GEM_USERPTR_READONLY
 (1 << 0)

	)

261 
	#AMDGPU_GEM_USERPTR_ANONONLY
 (1 << 1)

	)

262 
	#AMDGPU_GEM_USERPTR_VALIDATE
 (1 << 2)

	)

263 
	#AMDGPU_GEM_USERPTR_REGISTER
 (1 << 3)

	)

265 
	sdrm_amdgpu_gem_u£½Œ
 {

266 
__u64
 
addr
;

267 
__u64
 
size
;

269 
__u32
 
æags
;

271 
__u32
 
hªdË
;

276 
	#AMDGPU_TILING_ARRAY_MODE_SHIFT
 0

	)

277 
	#AMDGPU_TILING_ARRAY_MODE_MASK
 0xf

	)

278 
	#AMDGPU_TILING_PIPE_CONFIG_SHIFT
 4

	)

279 
	#AMDGPU_TILING_PIPE_CONFIG_MASK
 0x1f

	)

280 
	#AMDGPU_TILING_TILE_SPLIT_SHIFT
 9

	)

281 
	#AMDGPU_TILING_TILE_SPLIT_MASK
 0x7

	)

282 
	#AMDGPU_TILING_MICRO_TILE_MODE_SHIFT
 12

	)

283 
	#AMDGPU_TILING_MICRO_TILE_MODE_MASK
 0x7

	)

284 
	#AMDGPU_TILING_BANK_WIDTH_SHIFT
 15

	)

285 
	#AMDGPU_TILING_BANK_WIDTH_MASK
 0x3

	)

286 
	#AMDGPU_TILING_BANK_HEIGHT_SHIFT
 17

	)

287 
	#AMDGPU_TILING_BANK_HEIGHT_MASK
 0x3

	)

288 
	#AMDGPU_TILING_MACRO_TILE_ASPECT_SHIFT
 19

	)

289 
	#AMDGPU_TILING_MACRO_TILE_ASPECT_MASK
 0x3

	)

290 
	#AMDGPU_TILING_NUM_BANKS_SHIFT
 21

	)

291 
	#AMDGPU_TILING_NUM_BANKS_MASK
 0x3

	)

294 
	#AMDGPU_TILING_SWIZZLE_MODE_SHIFT
 0

	)

295 
	#AMDGPU_TILING_SWIZZLE_MODE_MASK
 0x1f

	)

298 
	#AMDGPU_TILING_SET
(
f›ld
, 
v®ue
) \

299 (((
__u64
)(
v®ue
è& 
AMDGPU_TILING_
##
f›ld
##
_MASK
è<< AMDGPU_TILING_##f›ld##
_SHIFT
)

	)

300 
	#AMDGPU_TILING_GET
(
v®ue
, 
f›ld
) \

301 (((
__u64
)(
v®ue
è>> 
AMDGPU_TILING_
##
f›ld
##
_SHIFT
è& AMDGPU_TILING_##f›ld##
_MASK
)

	)

303 
	#AMDGPU_GEM_METADATA_OP_SET_METADATA
 1

	)

304 
	#AMDGPU_GEM_METADATA_OP_GET_METADATA
 2

	)

307 
	sdrm_amdgpu_gem_m‘ad©a
 {

309 
__u32
 
hªdË
;

311 
__u32
 
Ý
;

314 
__u64
 
æags
;

316 
__u64
 
tžšg_šfo
;

317 
__u32
 
d©a_size_by‹s
;

318 
__u32
 
d©a
[64];

319 } 
d©a
;

322 
	sdrm_amdgpu_gem_mm­_š
 {

324 
__u32
 
hªdË
;

325 
__u32
 
_·d
;

328 
	sdrm_amdgpu_gem_mm­_out
 {

330 
__u64
 
addr_±r
;

333 
	udrm_amdgpu_gem_mm­
 {

334 
drm_amdgpu_gem_mm­_š
 
š
;

335 
drm_amdgpu_gem_mm­_out
 
out
;

338 
	sdrm_amdgpu_gem_wa™_idË_š
 {

340 
__u32
 
hªdË
;

342 
__u32
 
æags
;

344 
__u64
 
timeout
;

347 
	sdrm_amdgpu_gem_wa™_idË_out
 {

349 
__u32
 
¡©us
;

351 
__u32
 
domaš
;

354 
	udrm_amdgpu_gem_wa™_idË
 {

355 
drm_amdgpu_gem_wa™_idË_š
 
š
;

356 
drm_amdgpu_gem_wa™_idË_out
 
out
;

359 
	sdrm_amdgpu_wa™_cs_š
 {

364 
__u64
 
hªdË
;

366 
__u64
 
timeout
;

367 
__u32
 
_ty³
;

368 
__u32
 
_š¡ªû
;

369 
__u32
 
ršg
;

370 
__u32
 
ùx_id
;

373 
	sdrm_amdgpu_wa™_cs_out
 {

375 
__u64
 
¡©us
;

378 
	udrm_amdgpu_wa™_cs
 {

379 
drm_amdgpu_wa™_cs_š
 
š
;

380 
drm_amdgpu_wa™_cs_out
 
out
;

383 
	sdrm_amdgpu_ãnû
 {

384 
__u32
 
ùx_id
;

385 
__u32
 
_ty³
;

386 
__u32
 
_š¡ªû
;

387 
__u32
 
ršg
;

388 
__u64
 
£q_no
;

391 
	sdrm_amdgpu_wa™_ãnûs_š
 {

393 
__u64
 
ãnûs
;

394 
__u32
 
ãnû_couÁ
;

395 
__u32
 
wa™_®l
;

396 
__u64
 
timeout_ns
;

399 
	sdrm_amdgpu_wa™_ãnûs_out
 {

400 
__u32
 
¡©us
;

401 
__u32
 
fœ¡_sigÇËd
;

404 
	udrm_amdgpu_wa™_ãnûs
 {

405 
drm_amdgpu_wa™_ãnûs_š
 
š
;

406 
drm_amdgpu_wa™_ãnûs_out
 
out
;

409 
	#AMDGPU_GEM_OP_GET_GEM_CREATE_INFO
 0

	)

410 
	#AMDGPU_GEM_OP_SET_PLACEMENT
 1

	)

413 
	sdrm_amdgpu_gem_Ý
 {

415 
__u32
 
hªdË
;

417 
__u32
 
Ý
;

419 
__u64
 
v®ue
;

422 
	#AMDGPU_VA_OP_MAP
 1

	)

423 
	#AMDGPU_VA_OP_UNMAP
 2

	)

424 
	#AMDGPU_VA_OP_CLEAR
 3

	)

425 
	#AMDGPU_VA_OP_REPLACE
 4

	)

428 
	#AMDGPU_VM_DELAY_UPDATE
 (1 << 0)

	)

432 
	#AMDGPU_VM_PAGE_READABLE
 (1 << 1)

	)

434 
	#AMDGPU_VM_PAGE_WRITEABLE
 (1 << 2)

	)

436 
	#AMDGPU_VM_PAGE_EXECUTABLE
 (1 << 3)

	)

438 
	#AMDGPU_VM_PAGE_PRT
 (1 << 4)

	)

440 
	#AMDGPU_VM_MTYPE_MASK
 (0xà<< 5)

	)

442 
	#AMDGPU_VM_MTYPE_DEFAULT
 (0 << 5)

	)

444 
	#AMDGPU_VM_MTYPE_NC
 (1 << 5)

	)

446 
	#AMDGPU_VM_MTYPE_WC
 (2 << 5)

	)

448 
	#AMDGPU_VM_MTYPE_CC
 (3 << 5)

	)

450 
	#AMDGPU_VM_MTYPE_UC
 (4 << 5)

	)

452 
	sdrm_amdgpu_gem_va
 {

454 
__u32
 
hªdË
;

455 
__u32
 
_·d
;

457 
__u32
 
Ý”©iÚ
;

459 
__u32
 
æags
;

461 
__u64
 
va_add»ss
;

463 
__u64
 
off£t_š_bo
;

465 
__u64
 
m­_size
;

468 
	#AMDGPU_HW_IP_GFX
 0

	)

469 
	#AMDGPU_HW_IP_COMPUTE
 1

	)

470 
	#AMDGPU_HW_IP_DMA
 2

	)

471 
	#AMDGPU_HW_IP_UVD
 3

	)

472 
	#AMDGPU_HW_IP_VCE
 4

	)

473 
	#AMDGPU_HW_IP_UVD_ENC
 5

	)

474 
	#AMDGPU_HW_IP_VCN_DEC
 6

	)

475 
	#AMDGPU_HW_IP_VCN_ENC
 7

	)

476 
	#AMDGPU_HW_IP_NUM
 8

	)

478 
	#AMDGPU_HW_IP_INSTANCE_MAX_COUNT
 1

	)

480 
	#AMDGPU_CHUNK_ID_IB
 0x01

	)

481 
	#AMDGPU_CHUNK_ID_FENCE
 0x02

	)

482 
	#AMDGPU_CHUNK_ID_DEPENDENCIES
 0x03

	)

483 
	#AMDGPU_CHUNK_ID_SYNCOBJ_IN
 0x04

	)

484 
	#AMDGPU_CHUNK_ID_SYNCOBJ_OUT
 0x05

	)

486 
	sdrm_amdgpu_cs_chunk
 {

487 
__u32
 
chunk_id
;

488 
__u32
 
Ëngth_dw
;

489 
__u64
 
chunk_d©a
;

492 
	sdrm_amdgpu_cs_š
 {

494 
__u32
 
ùx_id
;

496 
__u32
 
bo_li¡_hªdË
;

497 
__u32
 
num_chunks
;

498 
__u32
 
_·d
;

500 
__u64
 
chunks
;

503 
	sdrm_amdgpu_cs_out
 {

504 
__u64
 
hªdË
;

507 
	udrm_amdgpu_cs
 {

508 
drm_amdgpu_cs_š
 
š
;

509 
drm_amdgpu_cs_out
 
out
;

515 
	#AMDGPU_IB_FLAG_CE
 (1<<0)

	)

518 
	#AMDGPU_IB_FLAG_PREAMBLE
 (1<<1)

	)

521 
	#AMDGPU_IB_FLAG_PREEMPT
 (1<<2)

	)

523 
	sdrm_amdgpu_cs_chunk_ib
 {

524 
__u32
 
_·d
;

526 
__u32
 
æags
;

528 
__u64
 
va_¡¬t
;

530 
__u32
 
ib_by‹s
;

532 
__u32
 
_ty³
;

534 
__u32
 
_š¡ªû
;

536 
__u32
 
ršg
;

539 
	sdrm_amdgpu_cs_chunk_d•
 {

540 
__u32
 
_ty³
;

541 
__u32
 
_š¡ªû
;

542 
__u32
 
ršg
;

543 
__u32
 
ùx_id
;

544 
__u64
 
hªdË
;

547 
	sdrm_amdgpu_cs_chunk_ãnû
 {

548 
__u32
 
hªdË
;

549 
__u32
 
off£t
;

552 
	sdrm_amdgpu_cs_chunk_£m
 {

553 
__u32
 
hªdË
;

556 
	#AMDGPU_FENCE_TO_HANDLE_GET_SYNCOBJ
 0

	)

557 
	#AMDGPU_FENCE_TO_HANDLE_GET_SYNCOBJ_FD
 1

	)

558 
	#AMDGPU_FENCE_TO_HANDLE_GET_SYNC_FILE_FD
 2

	)

560 
	udrm_amdgpu_ãnû_to_hªdË
 {

562 
drm_amdgpu_ãnû
 
ãnû
;

563 
__u32
 
wh©
;

564 
__u32
 
·d
;

565 } 
š
;

567 
__u32
 
hªdË
;

568 } 
out
;

571 
	sdrm_amdgpu_cs_chunk_d©a
 {

573 
drm_amdgpu_cs_chunk_ib
 
ib_d©a
;

574 
drm_amdgpu_cs_chunk_ãnû
 
ãnû_d©a
;

582 
	#AMDGPU_IDS_FLAGS_FUSION
 0x1

	)

583 
	#AMDGPU_IDS_FLAGS_PREEMPTION
 0x2

	)

586 
	#AMDGPU_INFO_ACCEL_WORKING
 0x00

	)

588 
	#AMDGPU_INFO_CRTC_FROM_ID
 0x01

	)

590 
	#AMDGPU_INFO_HW_IP_INFO
 0x02

	)

592 
	#AMDGPU_INFO_HW_IP_COUNT
 0x03

	)

594 
	#AMDGPU_INFO_TIMESTAMP
 0x05

	)

596 
	#AMDGPU_INFO_FW_VERSION
 0x0e

	)

598 
	#AMDGPU_INFO_FW_VCE
 0x1

	)

600 
	#AMDGPU_INFO_FW_UVD
 0x2

	)

602 
	#AMDGPU_INFO_FW_GMC
 0x03

	)

604 
	#AMDGPU_INFO_FW_GFX_ME
 0x04

	)

606 
	#AMDGPU_INFO_FW_GFX_PFP
 0x05

	)

608 
	#AMDGPU_INFO_FW_GFX_CE
 0x06

	)

610 
	#AMDGPU_INFO_FW_GFX_RLC
 0x07

	)

612 
	#AMDGPU_INFO_FW_GFX_MEC
 0x08

	)

614 
	#AMDGPU_INFO_FW_SMC
 0x0a

	)

616 
	#AMDGPU_INFO_FW_SDMA
 0x0b

	)

618 
	#AMDGPU_INFO_FW_SOS
 0x0c

	)

620 
	#AMDGPU_INFO_FW_ASD
 0x0d

	)

622 
	#AMDGPU_INFO_NUM_BYTES_MOVED
 0x0f

	)

624 
	#AMDGPU_INFO_VRAM_USAGE
 0x10

	)

626 
	#AMDGPU_INFO_GTT_USAGE
 0x11

	)

628 
	#AMDGPU_INFO_GDS_CONFIG
 0x13

	)

630 
	#AMDGPU_INFO_VRAM_GTT
 0x14

	)

632 
	#AMDGPU_INFO_READ_MMR_REG
 0x15

	)

634 
	#AMDGPU_INFO_DEV_INFO
 0x16

	)

636 
	#AMDGPU_INFO_VIS_VRAM_USAGE
 0x17

	)

638 
	#AMDGPU_INFO_NUM_EVICTIONS
 0x18

	)

640 
	#AMDGPU_INFO_MEMORY
 0x19

	)

642 
	#AMDGPU_INFO_VCE_CLOCK_TABLE
 0x1A

	)

644 
	#AMDGPU_INFO_VBIOS
 0x1B

	)

646 
	#AMDGPU_INFO_VBIOS_SIZE
 0x1

	)

648 
	#AMDGPU_INFO_VBIOS_IMAGE
 0x2

	)

650 
	#AMDGPU_INFO_NUM_HANDLES
 0x1C

	)

652 
	#AMDGPU_INFO_SENSOR
 0x1D

	)

654 
	#AMDGPU_INFO_SENSOR_GFX_SCLK
 0x1

	)

656 
	#AMDGPU_INFO_SENSOR_GFX_MCLK
 0x2

	)

658 
	#AMDGPU_INFO_SENSOR_GPU_TEMP
 0x3

	)

660 
	#AMDGPU_INFO_SENSOR_GPU_LOAD
 0x4

	)

662 
	#AMDGPU_INFO_SENSOR_GPU_AVG_POWER
 0x5

	)

664 
	#AMDGPU_INFO_SENSOR_VDDNB
 0x6

	)

666 
	#AMDGPU_INFO_SENSOR_VDDGFX
 0x7

	)

668 
	#AMDGPU_INFO_NUM_VRAM_CPU_PAGE_FAULTS
 0x1E

	)

669 
	#AMDGPU_INFO_VRAM_LOST_COUNTER
 0x1F

	)

671 
	#AMDGPU_INFO_MMR_SE_INDEX_SHIFT
 0

	)

672 
	#AMDGPU_INFO_MMR_SE_INDEX_MASK
 0xff

	)

673 
	#AMDGPU_INFO_MMR_SH_INDEX_SHIFT
 8

	)

674 
	#AMDGPU_INFO_MMR_SH_INDEX_MASK
 0xff

	)

676 
	sdrm_amdgpu_qu”y_fw
 {

678 
__u32
 
fw_ty³
;

683 
__u32
 
_š¡ªû
;

688 
__u32
 
šdex
;

689 
__u32
 
_·d
;

693 
	sdrm_amdgpu_šfo
 {

695 
__u64
 
»tuº_poš‹r
;

698 
__u32
 
»tuº_size
;

700 
__u32
 
qu”y
;

704 
__u32
 
id
;

705 
__u32
 
_·d
;

706 } 
mode_ütc
;

710 
__u32
 
ty³
;

715 
__u32
 
_š¡ªû
;

716 } 
qu”y_hw_
;

719 
__u32
 
dwÜd_off£t
;

721 
__u32
 
couÁ
;

722 
__u32
 
š¡ªû
;

724 
__u32
 
æags
;

725 } 
»ad_mmr_»g
;

727 
drm_amdgpu_qu”y_fw
 
qu”y_fw
;

730 
__u32
 
ty³
;

731 
__u32
 
off£t
;

732 } 
vbios_šfo
;

735 
__u32
 
ty³
;

736 } 
£nsÜ_šfo
;

740 
	sdrm_amdgpu_šfo_gds
 {

742 
__u32
 
gds_gfx_·¹™iÚ_size
;

744 
__u32
 
compu‹_·¹™iÚ_size
;

746 
__u32
 
gds_tÙ®_size
;

748 
__u32
 
gws_³r_gfx_·¹™iÚ
;

750 
__u32
 
gws_³r_compu‹_·¹™iÚ
;

752 
__u32
 
ß_³r_gfx_·¹™iÚ
;

754 
__u32
 
ß_³r_compu‹_·¹™iÚ
;

755 
__u32
 
_·d
;

758 
	sdrm_amdgpu_šfo_v¿m_g‰
 {

759 
__u64
 
v¿m_size
;

760 
__u64
 
v¿m_ýu_acûssibË_size
;

761 
__u64
 
g‰_size
;

764 
	sdrm_amdgpu_h—p_šfo
 {

766 
__u64
 
tÙ®_h—p_size
;

769 
__u64
 
u§bË_h—p_size
;

777 
__u64
 
h—p_u§ge
;

783 
__u64
 
max_®loÿtiÚ
;

786 
	sdrm_amdgpu_memÜy_šfo
 {

787 
drm_amdgpu_h—p_šfo
 
v¿m
;

788 
drm_amdgpu_h—p_šfo
 
ýu_acûssibË_v¿m
;

789 
drm_amdgpu_h—p_šfo
 
g‰
;

792 
	sdrm_amdgpu_šfo_fœmw¬e
 {

793 
__u32
 
v”
;

794 
__u32
 
ã©u»
;

797 
	#AMDGPU_VRAM_TYPE_UNKNOWN
 0

	)

798 
	#AMDGPU_VRAM_TYPE_GDDR1
 1

	)

799 
	#AMDGPU_VRAM_TYPE_DDR2
 2

	)

800 
	#AMDGPU_VRAM_TYPE_GDDR3
 3

	)

801 
	#AMDGPU_VRAM_TYPE_GDDR4
 4

	)

802 
	#AMDGPU_VRAM_TYPE_GDDR5
 5

	)

803 
	#AMDGPU_VRAM_TYPE_HBM
 6

	)

804 
	#AMDGPU_VRAM_TYPE_DDR3
 7

	)

806 
	sdrm_amdgpu_šfo_deviû
 {

808 
__u32
 
deviû_id
;

810 
__u32
 
ch_»v
;

811 
__u32
 
ex‹º®_»v
;

813 
__u32
 
pci_»v
;

814 
__u32
 
çmžy
;

815 
__u32
 
num_shad”_’gšes
;

816 
__u32
 
num_shad”_¬¿ys_³r_’gše
;

818 
__u32
 
gpu_couÁ”_äeq
;

819 
__u64
 
max_’gše_þock
;

820 
__u64
 
max_memÜy_þock
;

822 
__u32
 
cu_aùive_numb”
;

824 
__u32
 
cu_ao_mask
;

825 
__u32
 
cu_b™m­
[4][4];

827 
__u32
 
’abËd_rb_pes_mask
;

828 
__u32
 
num_rb_pes
;

829 
__u32
 
num_hw_gfx_cÚ‹xts
;

830 
__u32
 
_·d
;

831 
__u64
 
ids_æags
;

833 
__u64
 
vœtu®_add»ss_off£t
;

835 
__u64
 
vœtu®_add»ss_max
;

837 
__u32
 
vœtu®_add»ss_®ignm’t
;

839 
__u32
 
±e_äagm’t_size
;

840 
__u32
 
g¬t_·ge_size
;

842 
__u32
 
û_¿m_size
;

844 
__u32
 
v¿m_ty³
;

846 
__u32
 
v¿m_b™_width
;

848 
__u32
 
vû_h¬ve¡_cÚfig
;

850 
__u32
 
gc_doubË_offch_lds_buf
;

852 
__u64
 
´im_buf_gpu_addr
;

854 
__u64
 
pos_buf_gpu_addr
;

856 
__u64
 
úŽ_sb_buf_gpu_addr
;

858 
__u64
 
·¿m_buf_gpu_addr
;

859 
__u32
 
´im_buf_size
;

860 
__u32
 
pos_buf_size
;

861 
__u32
 
úŽ_sb_buf_size
;

862 
__u32
 
·¿m_buf_size
;

864 
__u32
 
wave_äÚt_size
;

866 
__u32
 
num_shad”_visibË_vg´s
;

868 
__u32
 
num_cu_³r_sh
;

870 
__u32
 
num_tcc_blocks
;

872 
__u32
 
gs_vgt_bË_d•th
;

874 
__u32
 
gs_´im_bufãr_d•th
;

876 
__u32
 
max_gs_waves_³r_vgt
;

877 
__u32
 
_·d1
;

879 
__u32
 
cu_ao_b™m­
[4][4];

881 
__u64
 
high_va_off£t
;

883 
__u64
 
high_va_max
;

886 
	sdrm_amdgpu_šfo_hw_
 {

888 
__u32
 
hw__v”siÚ_majÜ
;

889 
__u32
 
hw__v”siÚ_mšÜ
;

891 
__u64
 
ÿ·bž™›s_æags
;

893 
__u32
 
ib_¡¬t_®ignm’t
;

895 
__u32
 
ib_size_®ignm’t
;

897 
__u32
 
avažabË_ršgs
;

898 
__u32
 
_·d
;

901 
	sdrm_amdgpu_šfo_num_hªdËs
 {

903 
__u32
 
uvd_max_hªdËs
;

905 
__u32
 
uvd_u£d_hªdËs
;

908 
	#AMDGPU_VCE_CLOCK_TABLE_ENTRIES
 6

	)

910 
	sdrm_amdgpu_šfo_vû_þock_bË_’Œy
 {

912 
__u32
 
sþk
;

914 
__u32
 
mþk
;

916 
__u32
 
eþk
;

917 
__u32
 
·d
;

920 
	sdrm_amdgpu_šfo_vû_þock_bË
 {

921 
drm_amdgpu_šfo_vû_þock_bË_’Œy
 
’Œ›s
[
AMDGPU_VCE_CLOCK_TABLE_ENTRIES
];

922 
__u32
 
num_v®id_’Œ›s
;

923 
__u32
 
·d
;

929 
	#AMDGPU_FAMILY_UNKNOWN
 0

	)

930 
	#AMDGPU_FAMILY_SI
 110

	)

931 
	#AMDGPU_FAMILY_CI
 120

	)

932 
	#AMDGPU_FAMILY_KV
 125

	)

933 
	#AMDGPU_FAMILY_VI
 130

	)

934 
	#AMDGPU_FAMILY_CZ
 135

	)

935 
	#AMDGPU_FAMILY_AI
 141

	)

936 
	#AMDGPU_FAMILY_RV
 142

	)

938 #ià
defšed
(
__ýlu¥lus
)

	@src/common/linuxkpi/include/uapi/drm/armada_drm.h

10 #iâdeà
DRM_ARMADA_IOCTL_H


11 
	#DRM_ARMADA_IOCTL_H


	)

13 
	~"drm.h
"

15 #ià
defšed
(
__ýlu¥lus
)

19 
	#DRM_ARMADA_GEM_CREATE
 0x00

	)

20 
	#DRM_ARMADA_GEM_MMAP
 0x02

	)

21 
	#DRM_ARMADA_GEM_PWRITE
 0x03

	)

23 
	#ARMADA_IOCTL
(
dœ
, 
Çme
, 
¡r
) \

24 
DRM_
##
	`dœ
(
DRM_COMMAND_BASE
 + 
DRM_ARMADA_
##
Çme
, 
drm_¬mada_
##
¡r
)

	)

26 
	sdrm_¬mada_gem_ü—‹
 {

27 
__u32
 
hªdË
;

28 
__u32
 
size
;

30 
	#DRM_IOCTL_ARMADA_GEM_CREATE
 \

31 
	`ARMADA_IOCTL
(
IOWR
, 
GEM_CREATE
, 
gem_ü—‹
)

	)

33 
	sdrm_¬mada_gem_mm­
 {

34 
__u32
 
hªdË
;

35 
__u32
 
·d
;

36 
__u64
 
off£t
;

37 
__u64
 
size
;

38 
__u64
 
addr
;

40 
	#DRM_IOCTL_ARMADA_GEM_MMAP
 \

41 
	`ARMADA_IOCTL
(
IOWR
, 
GEM_MMAP
, 
gem_mm­
)

	)

43 
	sdrm_¬mada_gem_pwr™e
 {

44 
__u64
 
±r
;

45 
__u32
 
hªdË
;

46 
__u32
 
off£t
;

47 
__u32
 
size
;

49 
	#DRM_IOCTL_ARMADA_GEM_PWRITE
 \

50 
	`ARMADA_IOCTL
(
IOW
, 
GEM_PWRITE
, 
gem_pwr™e
)

	)

52 #ià
defšed
(
__ýlu¥lus
)

	@src/common/linuxkpi/include/uapi/drm/drm.h

36 #iâdeà
_DRM_H_


37 
	#_DRM_H_


	)

39 #ià
defšed
(
__KERNEL__
)

41 
	~<lšux/ty³s.h
>

42 
	~<asm/ioùl.h
>

43 
	tdrm_hªdË_t
;

45 #–ià
defšed
(
__lšux__
)

47 
	~<lšux/ty³s.h
>

48 
	~<asm/ioùl.h
>

49 
	tdrm_hªdË_t
;

53 
	~<sys/ioccom.h
>

54 
	~<sys/ty³s.h
>

56 
št8_t
 
	t__s8
;

57 
ušt8_t
 
	t__u8
;

58 
št16_t
 
	t__s16
;

59 
ušt16_t
 
	t__u16
;

60 
št32_t
 
	t__s32
;

61 
ušt32_t
 
	t__u32
;

62 
št64_t
 
	t__s64
;

63 
ušt64_t
 
	t__u64
;

64 
size_t
 
	t__k”Ãl_size_t
;

66 
	tdrm_hªdË_t
;

67 
	~<drm/drm_os_ä“bsd.h
>

70 #ià
defšed
(
__ýlu¥lus
)

74 
	#DRM_NAME
 "drm"

	)

75 
	#DRM_MIN_ORDER
 5

	)

76 
	#DRM_MAX_ORDER
 22

	)

77 
	#DRM_RAM_PERCENT
 10

	)

79 
	#_DRM_LOCK_HELD
 0x80000000U

	)

80 
	#_DRM_LOCK_CONT
 0x40000000U

	)

81 
	#_DRM_LOCK_IS_HELD
(
lock
è(Öockè& 
_DRM_LOCK_HELD
)

	)

82 
	#_DRM_LOCK_IS_CONT
(
lock
è(Öockè& 
_DRM_LOCK_CONT
)

	)

83 
	#_DRM_LOCKING_CONTEXT
(
lock
è(Öockè& ~(
_DRM_LOCK_HELD
|
_DRM_LOCK_CONT
))

	)

85 
	tdrm_cÚ‹xt_t
;

86 
	tdrm_d¿wabË_t
;

87 
	tdrm_magic_t
;

98 
	sdrm_þ_»ù
 {

99 
x1
;

100 
y1
;

101 
x2
;

102 
y2
;

108 
	sdrm_d¿wabË_šfo
 {

109 
num_»ùs
;

110 
drm_þ_»ù
 *
»ùs
;

116 
	sdrm_‹x_»giÚ
 {

117 
Ãxt
;

118 
´ev
;

119 
š_u£
;

120 
·ddšg
;

121 
age
;

131 
	sdrm_hw_lock
 {

132 
__vÞ©že__
 
lock
;

133 
·ddšg
[60];

141 
	sdrm_v”siÚ
 {

142 
v”siÚ_majÜ
;

143 
v”siÚ_mšÜ
;

144 
v”siÚ_·tchËv–
;

145 
__k”Ãl_size_t
 
Çme_Ën
;

146 
__u£r
 *
Çme
;

147 
__k”Ãl_size_t
 
d©e_Ën
;

148 
__u£r
 *
d©e
;

149 
__k”Ãl_size_t
 
desc_Ën
;

150 
__u£r
 *
desc
;

158 
	sdrm_unique
 {

159 
__k”Ãl_size_t
 
unique_Ën
;

160 
__u£r
 *
unique
;

163 
	sdrm_li¡
 {

164 
couÁ
;

165 
drm_v”siÚ
 
__u£r
 *
v”siÚ
;

168 
	sdrm_block
 {

169 
unu£d
;

177 
	sdrm_cÚŒÞ
 {

179 
DRM_ADD_COMMAND
,

180 
DRM_RM_COMMAND
,

181 
DRM_INST_HANDLER
,

182 
DRM_UNINST_HANDLER


183 } 
func
;

184 
œq
;

190 
	edrm_m­_ty³
 {

191 
_DRM_FRAME_BUFFER
 = 0,

192 
_DRM_REGISTERS
 = 1,

193 
_DRM_SHM
 = 2,

194 
_DRM_AGP
 = 3,

195 
_DRM_SCATTER_GATHER
 = 4,

196 
_DRM_CONSISTENT
 = 5

202 
	edrm_m­_æags
 {

203 
_DRM_RESTRICTED
 = 0x01,

204 
_DRM_READ_ONLY
 = 0x02,

205 
_DRM_LOCKED
 = 0x04,

206 
_DRM_KERNEL
 = 0x08,

207 
_DRM_WRITE_COMBINING
 = 0x10,

208 
_DRM_CONTAINS_LOCK
 = 0x20,

209 
_DRM_REMOVABLE
 = 0x40,

210 
_DRM_DRIVER
 = 0x80

213 
	sdrm_ùx_´iv_m­
 {

214 
ùx_id
;

215 *
hªdË
;

224 
	sdrm_m­
 {

225 
off£t
;

226 
size
;

227 
drm_m­_ty³
 
ty³
;

228 
drm_m­_æags
 
æags
;

229 *
hªdË
;

231 
mŒr
;

238 
	sdrm_þ›Á
 {

239 
idx
;

240 
auth
;

241 
pid
;

242 
uid
;

243 
magic
;

244 
iocs
;

247 
	edrm_¡©_ty³
 {

248 
_DRM_STAT_LOCK
,

249 
_DRM_STAT_OPENS
,

250 
_DRM_STAT_CLOSES
,

251 
_DRM_STAT_IOCTLS
,

252 
_DRM_STAT_LOCKS
,

253 
_DRM_STAT_UNLOCKS
,

254 
_DRM_STAT_VALUE
,

255 
_DRM_STAT_BYTE
,

256 
_DRM_STAT_COUNT
,

258 
_DRM_STAT_IRQ
,

259 
_DRM_STAT_PRIMARY
,

260 
_DRM_STAT_SECONDARY
,

261 
_DRM_STAT_DMA
,

262 
_DRM_STAT_SPECIAL
,

263 
_DRM_STAT_MISSED


270 
	sdrm_¡©s
 {

271 
couÁ
;

273 
v®ue
;

274 
drm_¡©_ty³
 
ty³
;

275 } 
d©a
[15];

281 
	edrm_lock_æags
 {

282 
_DRM_LOCK_READY
 = 0x01,

283 
_DRM_LOCK_QUIESCENT
 = 0x02,

284 
_DRM_LOCK_FLUSH
 = 0x04,

285 
_DRM_LOCK_FLUSH_ALL
 = 0x08,

289 
_DRM_HALT_ALL_QUEUES
 = 0x10,

290 
_DRM_HALT_CUR_QUEUES
 = 0x20

298 
	sdrm_lock
 {

299 
cÚ‹xt
;

300 
drm_lock_æags
 
æags
;

311 
	edrm_dma_æags
 {

313 
_DRM_DMA_BLOCK
 = 0x01,

323 
_DRM_DMA_WHILE_LOCKED
 = 0x02,

324 
_DRM_DMA_PRIORITY
 = 0x04,

327 
_DRM_DMA_WAIT
 = 0x10,

328 
_DRM_DMA_SMALLER_OK
 = 0x20,

329 
_DRM_DMA_LARGER_OK
 = 0x40

337 
	sdrm_buf_desc
 {

338 
couÁ
;

339 
size
;

340 
low_m¬k
;

341 
high_m¬k
;

343 
_DRM_PAGE_ALIGN
 = 0x01,

344 
_DRM_AGP_BUFFER
 = 0x02,

345 
_DRM_SG_BUFFER
 = 0x04,

346 
_DRM_FB_BUFFER
 = 0x08,

347 
_DRM_PCI_BUFFER_RO
 = 0x10

348 } 
æags
;

349 
agp_¡¬t
;

358 
	sdrm_buf_šfo
 {

359 
couÁ
;

360 
drm_buf_desc
 
__u£r
 *
li¡
;

366 
	sdrm_buf_ä“
 {

367 
couÁ
;

368 
__u£r
 *
li¡
;

376 
	sdrm_buf_pub
 {

377 
idx
;

378 
tÙ®
;

379 
u£d
;

380 
__u£r
 *
add»ss
;

386 
	sdrm_buf_m­
 {

387 
couÁ
;

388 #ifdeà
__ýlu¥lus


389 
__u£r
 *
vœt
;

391 
__u£r
 *
vœtu®
;

393 
drm_buf_pub
 
__u£r
 *
li¡
;

403 
	sdrm_dma
 {

404 
cÚ‹xt
;

405 
£nd_couÁ
;

406 
__u£r
 *
£nd_šdiûs
;

407 
__u£r
 *
£nd_sizes
;

408 
drm_dma_æags
 
æags
;

409 
»que¡_couÁ
;

410 
»que¡_size
;

411 
__u£r
 *
»que¡_šdiûs
;

412 
__u£r
 *
»que¡_sizes
;

413 
g¿Áed_couÁ
;

416 
	edrm_ùx_æags
 {

417 
_DRM_CONTEXT_PRESERVED
 = 0x01,

418 
_DRM_CONTEXT_2DONLY
 = 0x02

426 
	sdrm_ùx
 {

427 
drm_cÚ‹xt_t
 
hªdË
;

428 
drm_ùx_æags
 
æags
;

434 
	sdrm_ùx_»s
 {

435 
couÁ
;

436 
drm_ùx
 
__u£r
 *
cÚ‹xts
;

442 
	sdrm_d¿w
 {

443 
drm_d¿wabË_t
 
hªdË
;

450 
DRM_DRAWABLE_CLIPRECTS


451 } 
	tdrm_d¿wabË_šfo_ty³_t
;

453 
	sdrm_upd©e_d¿w
 {

454 
drm_d¿wabË_t
 
hªdË
;

455 
ty³
;

456 
num
;

457 
d©a
;

463 
	sdrm_auth
 {

464 
drm_magic_t
 
magic
;

472 
	sdrm_œq_busid
 {

473 
œq
;

474 
bu¢um
;

475 
devnum
;

476 
funúum
;

479 
	edrm_vbÏnk_£q_ty³
 {

480 
_DRM_VBLANK_ABSOLUTE
 = 0x0,

481 
_DRM_VBLANK_RELATIVE
 = 0x1,

483 
_DRM_VBLANK_HIGH_CRTC_MASK
 = 0x0000003e,

484 
_DRM_VBLANK_EVENT
 = 0x4000000,

485 
_DRM_VBLANK_FLIP
 = 0x8000000,

486 
_DRM_VBLANK_NEXTONMISS
 = 0x10000000,

487 
_DRM_VBLANK_SECONDARY
 = 0x20000000,

488 
_DRM_VBLANK_SIGNAL
 = 0x40000000

490 
	#_DRM_VBLANK_HIGH_CRTC_SHIFT
 1

	)

492 
	#_DRM_VBLANK_TYPES_MASK
 (
_DRM_VBLANK_ABSOLUTE
 | 
_DRM_VBLANK_RELATIVE
)

	)

493 
	#_DRM_VBLANK_FLAGS_MASK
 (
_DRM_VBLANK_EVENT
 | 
_DRM_VBLANK_SIGNAL
 | \

494 
_DRM_VBLANK_SECONDARY
 | 
_DRM_VBLANK_NEXTONMISS
)

	)

496 
	sdrm_wa™_vbÏnk_»que¡
 {

497 
drm_vbÏnk_£q_ty³
 
ty³
;

498 
£qu’û
;

499 
sigÇl
;

502 
	sdrm_wa™_vbÏnk_»¶y
 {

503 
drm_vbÏnk_£q_ty³
 
ty³
;

504 
£qu’û
;

505 
tv®_£c
;

506 
tv®_u£c
;

514 
	udrm_wa™_vbÏnk
 {

515 
drm_wa™_vbÏnk_»que¡
 
»que¡
;

516 
drm_wa™_vbÏnk_»¶y
 
»¶y
;

519 
	#_DRM_PRE_MODESET
 1

	)

520 
	#_DRM_POST_MODESET
 2

	)

527 
	sdrm_mode£t_ùl
 {

528 
__u32
 
ütc
;

529 
__u32
 
cmd
;

537 
	sdrm_agp_mode
 {

538 
mode
;

546 
	sdrm_agp_bufãr
 {

547 
size
;

548 
hªdË
;

549 
ty³
;

550 
physiÿl
;

558 
	sdrm_agp_bšdšg
 {

559 
hªdË
;

560 
off£t
;

570 
	sdrm_agp_šfo
 {

571 
agp_v”siÚ_majÜ
;

572 
agp_v”siÚ_mšÜ
;

573 
mode
;

574 
­”tu»_ba£
;

575 
­”tu»_size
;

576 
memÜy_®lowed
;

577 
memÜy_u£d
;

580 
id_v’dÜ
;

581 
id_deviû
;

587 
	sdrm_sÿ‰”_g©h”
 {

588 
size
;

589 
hªdË
;

595 
	sdrm_£t_v”siÚ
 {

596 
drm_di_majÜ
;

597 
drm_di_mšÜ
;

598 
drm_dd_majÜ
;

599 
drm_dd_mšÜ
;

603 
	sdrm_gem_þo£
 {

605 
__u32
 
hªdË
;

606 
__u32
 
·d
;

610 
	sdrm_gem_æšk
 {

612 
__u32
 
hªdË
;

615 
__u32
 
Çme
;

619 
	sdrm_gem_Ý’
 {

621 
__u32
 
Çme
;

624 
__u32
 
hªdË
;

627 
__u64
 
size
;

630 
	#DRM_CAP_DUMB_BUFFER
 0x1

	)

631 
	#DRM_CAP_VBLANK_HIGH_CRTC
 0x2

	)

632 
	#DRM_CAP_DUMB_PREFERRED_DEPTH
 0x3

	)

633 
	#DRM_CAP_DUMB_PREFER_SHADOW
 0x4

	)

634 
	#DRM_CAP_PRIME
 0x5

	)

635 
	#DRM_PRIME_CAP_IMPORT
 0x1

	)

636 
	#DRM_PRIME_CAP_EXPORT
 0x2

	)

637 
	#DRM_CAP_TIMESTAMP_MONOTONIC
 0x6

	)

638 
	#DRM_CAP_ASYNC_PAGE_FLIP
 0x7

	)

648 
	#DRM_CAP_CURSOR_WIDTH
 0x8

	)

649 
	#DRM_CAP_CURSOR_HEIGHT
 0x9

	)

650 
	#DRM_CAP_ADDFB2_MODIFIERS
 0x10

	)

651 
	#DRM_CAP_PAGE_FLIP_TARGET
 0x11

	)

652 
	#DRM_CAP_CRTC_IN_VBLANK_EVENT
 0x12

	)

653 
	#DRM_CAP_SYNCOBJ
 0x13

	)

656 
	sdrm_g‘_ÿp
 {

657 
__u64
 
ÿ·bž™y
;

658 
__u64
 
v®ue
;

668 
	#DRM_CLIENT_CAP_STEREO_3D
 1

	)

676 
	#DRM_CLIENT_CAP_UNIVERSAL_PLANES
 2

	)

683 
	#DRM_CLIENT_CAP_ATOMIC
 3

	)

686 
	sdrm_£t_þ›Á_ÿp
 {

687 
__u64
 
ÿ·bž™y
;

688 
__u64
 
v®ue
;

691 
	#DRM_RDWR
 
O_RDWR


	)

692 
	#DRM_CLOEXEC
 
O_CLOEXEC


	)

693 
	sdrm_´ime_hªdË
 {

694 
__u32
 
hªdË
;

697 
__u32
 
æags
;

700 
__s32
 
fd
;

703 
	sdrm_syncobj_ü—‹
 {

704 
__u32
 
hªdË
;

705 
	#DRM_SYNCOBJ_CREATE_SIGNALED
 (1 << 0)

	)

706 
__u32
 
æags
;

709 
	sdrm_syncobj_de¡roy
 {

710 
__u32
 
hªdË
;

711 
__u32
 
·d
;

714 
	#DRM_SYNCOBJ_FD_TO_HANDLE_FLAGS_IMPORT_SYNC_FILE
 (1 << 0)

	)

715 
	#DRM_SYNCOBJ_HANDLE_TO_FD_FLAGS_EXPORT_SYNC_FILE
 (1 << 0)

	)

716 
	sdrm_syncobj_hªdË
 {

717 
__u32
 
hªdË
;

718 
__u32
 
æags
;

720 
__s32
 
fd
;

721 
__u32
 
·d
;

724 
	#DRM_SYNCOBJ_WAIT_FLAGS_WAIT_ALL
 (1 << 0)

	)

725 
	#DRM_SYNCOBJ_WAIT_FLAGS_WAIT_FOR_SUBMIT
 (1 << 1)

	)

726 
	sdrm_syncobj_wa™
 {

727 
__u64
 
hªdËs
;

729 
__s64
 
timeout_n£c
;

730 
__u32
 
couÁ_hªdËs
;

731 
__u32
 
æags
;

732 
__u32
 
fœ¡_sigÇËd
;

733 
__u32
 
·d
;

736 
	sdrm_syncobj_¬¿y
 {

737 
__u64
 
hªdËs
;

738 
__u32
 
couÁ_hªdËs
;

739 
__u32
 
·d
;

743 
	sdrm_ütc_g‘_£qu’û
 {

744 
__u32
 
ütc_id
;

745 
__u32
 
aùive
;

746 
__u64
 
£qu’û
;

747 
__s64
 
£qu’û_ns
;

754 
	#DRM_CRTC_SEQUENCE_RELATIVE
 0x00000001

	)

755 
	#DRM_CRTC_SEQUENCE_NEXT_ON_MISS
 0x00000002

	)

757 
	sdrm_ütc_queue_£qu’û
 {

758 
__u32
 
ütc_id
;

759 
__u32
 
æags
;

760 
__u64
 
£qu’û
;

761 
__u64
 
u£r_d©a
;

764 #ià
defšed
(
__ýlu¥lus
)

768 
	~"drm_mode.h
"

770 #ià
defšed
(
__ýlu¥lus
)

774 
	#DRM_IOCTL_BASE
 'd'

	)

775 
	#DRM_IO
(
Ä
è
	`_IO
(
DRM_IOCTL_BASE
,Ä)

	)

776 
	#DRM_IOR
(
Ä
,
ty³
è
	`_IOR
(
DRM_IOCTL_BASE
,Ä,ty³)

	)

777 
	#DRM_IOW
(
Ä
,
ty³
è
	`_IOW
(
DRM_IOCTL_BASE
,Ä,ty³)

	)

778 
	#DRM_IOWR
(
Ä
,
ty³
è
	`_IOWR
(
DRM_IOCTL_BASE
,Ä,ty³)

	)

780 
	#DRM_IOCTL_VERSION
 
	`DRM_IOWR
(0x00, 
drm_v”siÚ
)

	)

781 
	#DRM_IOCTL_GET_UNIQUE
 
	`DRM_IOWR
(0x01, 
drm_unique
)

	)

782 
	#DRM_IOCTL_GET_MAGIC
 
	`DRM_IOR
Ð0x02, 
drm_auth
)

	)

783 
	#DRM_IOCTL_IRQ_BUSID
 
	`DRM_IOWR
(0x03, 
drm_œq_busid
)

	)

784 
	#DRM_IOCTL_GET_MAP
 
	`DRM_IOWR
(0x04, 
drm_m­
)

	)

785 
	#DRM_IOCTL_GET_CLIENT
 
	`DRM_IOWR
(0x05, 
drm_þ›Á
)

	)

786 
	#DRM_IOCTL_GET_STATS
 
	`DRM_IOR
Ð0x06, 
drm_¡©s
)

	)

787 
	#DRM_IOCTL_SET_VERSION
 
	`DRM_IOWR
(0x07, 
drm_£t_v”siÚ
)

	)

788 
	#DRM_IOCTL_MODESET_CTL
 
	`DRM_IOW
(0x08, 
drm_mode£t_ùl
)

	)

789 
	#DRM_IOCTL_GEM_CLOSE
 
	`DRM_IOW
 (0x09, 
drm_gem_þo£
)

	)

790 
	#DRM_IOCTL_GEM_FLINK
 
	`DRM_IOWR
(0x0a, 
drm_gem_æšk
)

	)

791 
	#DRM_IOCTL_GEM_OPEN
 
	`DRM_IOWR
(0x0b, 
drm_gem_Ý’
)

	)

792 
	#DRM_IOCTL_GET_CAP
 
	`DRM_IOWR
(0x0c, 
drm_g‘_ÿp
)

	)

793 
	#DRM_IOCTL_SET_CLIENT_CAP
 
	`DRM_IOW
Ð0x0d, 
drm_£t_þ›Á_ÿp
)

	)

795 
	#DRM_IOCTL_SET_UNIQUE
 
	`DRM_IOW
Ð0x10, 
drm_unique
)

	)

796 
	#DRM_IOCTL_AUTH_MAGIC
 
	`DRM_IOW
Ð0x11, 
drm_auth
)

	)

797 
	#DRM_IOCTL_BLOCK
 
	`DRM_IOWR
(0x12, 
drm_block
)

	)

798 
	#DRM_IOCTL_UNBLOCK
 
	`DRM_IOWR
(0x13, 
drm_block
)

	)

799 
	#DRM_IOCTL_CONTROL
 
	`DRM_IOW
Ð0x14, 
drm_cÚŒÞ
)

	)

800 
	#DRM_IOCTL_ADD_MAP
 
	`DRM_IOWR
(0x15, 
drm_m­
)

	)

801 
	#DRM_IOCTL_ADD_BUFS
 
	`DRM_IOWR
(0x16, 
drm_buf_desc
)

	)

802 
	#DRM_IOCTL_MARK_BUFS
 
	`DRM_IOW
Ð0x17, 
drm_buf_desc
)

	)

803 
	#DRM_IOCTL_INFO_BUFS
 
	`DRM_IOWR
(0x18, 
drm_buf_šfo
)

	)

804 
	#DRM_IOCTL_MAP_BUFS
 
	`DRM_IOWR
(0x19, 
drm_buf_m­
)

	)

805 
	#DRM_IOCTL_FREE_BUFS
 
	`DRM_IOW
Ð0x1a, 
drm_buf_ä“
)

	)

807 
	#DRM_IOCTL_RM_MAP
 
	`DRM_IOW
Ð0x1b, 
drm_m­
)

	)

809 
	#DRM_IOCTL_SET_SAREA_CTX
 
	`DRM_IOW
Ð0x1c, 
drm_ùx_´iv_m­
)

	)

810 
	#DRM_IOCTL_GET_SAREA_CTX
 
	`DRM_IOWR
(0x1d, 
drm_ùx_´iv_m­
)

	)

812 
	#DRM_IOCTL_SET_MASTER
 
	`DRM_IO
(0x1e)

	)

813 
	#DRM_IOCTL_DROP_MASTER
 
	`DRM_IO
(0x1f)

	)

815 
	#DRM_IOCTL_ADD_CTX
 
	`DRM_IOWR
(0x20, 
drm_ùx
)

	)

816 
	#DRM_IOCTL_RM_CTX
 
	`DRM_IOWR
(0x21, 
drm_ùx
)

	)

817 
	#DRM_IOCTL_MOD_CTX
 
	`DRM_IOW
Ð0x22, 
drm_ùx
)

	)

818 
	#DRM_IOCTL_GET_CTX
 
	`DRM_IOWR
(0x23, 
drm_ùx
)

	)

819 
	#DRM_IOCTL_SWITCH_CTX
 
	`DRM_IOW
Ð0x24, 
drm_ùx
)

	)

820 
	#DRM_IOCTL_NEW_CTX
 
	`DRM_IOW
Ð0x25, 
drm_ùx
)

	)

821 
	#DRM_IOCTL_RES_CTX
 
	`DRM_IOWR
(0x26, 
drm_ùx_»s
)

	)

822 
	#DRM_IOCTL_ADD_DRAW
 
	`DRM_IOWR
(0x27, 
drm_d¿w
)

	)

823 
	#DRM_IOCTL_RM_DRAW
 
	`DRM_IOWR
(0x28, 
drm_d¿w
)

	)

824 
	#DRM_IOCTL_DMA
 
	`DRM_IOWR
(0x29, 
drm_dma
)

	)

825 
	#DRM_IOCTL_LOCK
 
	`DRM_IOW
Ð0x2a, 
drm_lock
)

	)

826 
	#DRM_IOCTL_UNLOCK
 
	`DRM_IOW
Ð0x2b, 
drm_lock
)

	)

827 
	#DRM_IOCTL_FINISH
 
	`DRM_IOW
Ð0x2c, 
drm_lock
)

	)

829 
	#DRM_IOCTL_PRIME_HANDLE_TO_FD
 
	`DRM_IOWR
(0x2d, 
drm_´ime_hªdË
)

	)

830 
	#DRM_IOCTL_PRIME_FD_TO_HANDLE
 
	`DRM_IOWR
(0x2e, 
drm_´ime_hªdË
)

	)

832 
	#DRM_IOCTL_AGP_ACQUIRE
 
	`DRM_IO
Ð0x30)

	)

833 
	#DRM_IOCTL_AGP_RELEASE
 
	`DRM_IO
Ð0x31)

	)

834 
	#DRM_IOCTL_AGP_ENABLE
 
	`DRM_IOW
Ð0x32, 
drm_agp_mode
)

	)

835 
	#DRM_IOCTL_AGP_INFO
 
	`DRM_IOR
Ð0x33, 
drm_agp_šfo
)

	)

836 
	#DRM_IOCTL_AGP_ALLOC
 
	`DRM_IOWR
(0x34, 
drm_agp_bufãr
)

	)

837 
	#DRM_IOCTL_AGP_FREE
 
	`DRM_IOW
Ð0x35, 
drm_agp_bufãr
)

	)

838 
	#DRM_IOCTL_AGP_BIND
 
	`DRM_IOW
Ð0x36, 
drm_agp_bšdšg
)

	)

839 
	#DRM_IOCTL_AGP_UNBIND
 
	`DRM_IOW
Ð0x37, 
drm_agp_bšdšg
)

	)

841 
	#DRM_IOCTL_SG_ALLOC
 
	`DRM_IOWR
(0x38, 
drm_sÿ‰”_g©h”
)

	)

842 
	#DRM_IOCTL_SG_FREE
 
	`DRM_IOW
Ð0x39, 
drm_sÿ‰”_g©h”
)

	)

844 
	#DRM_IOCTL_WAIT_VBLANK
 
	`DRM_IOWR
(0x3a, 
drm_wa™_vbÏnk
)

	)

846 
	#DRM_IOCTL_CRTC_GET_SEQUENCE
 
	`DRM_IOWR
(0x3b, 
drm_ütc_g‘_£qu’û
)

	)

847 
	#DRM_IOCTL_CRTC_QUEUE_SEQUENCE
 
	`DRM_IOWR
(0x3c, 
drm_ütc_queue_£qu’û
)

	)

849 
	#DRM_IOCTL_UPDATE_DRAW
 
	`DRM_IOW
(0x3f, 
drm_upd©e_d¿w
)

	)

851 
	#DRM_IOCTL_MODE_GETRESOURCES
 
	`DRM_IOWR
(0xA0, 
drm_mode_ÿrd_»s
)

	)

852 
	#DRM_IOCTL_MODE_GETCRTC
 
	`DRM_IOWR
(0xA1, 
drm_mode_ütc
)

	)

853 
	#DRM_IOCTL_MODE_SETCRTC
 
	`DRM_IOWR
(0xA2, 
drm_mode_ütc
)

	)

854 
	#DRM_IOCTL_MODE_CURSOR
 
	`DRM_IOWR
(0xA3, 
drm_mode_cursÜ
)

	)

855 
	#DRM_IOCTL_MODE_GETGAMMA
 
	`DRM_IOWR
(0xA4, 
drm_mode_ütc_lut
)

	)

856 
	#DRM_IOCTL_MODE_SETGAMMA
 
	`DRM_IOWR
(0xA5, 
drm_mode_ütc_lut
)

	)

857 
	#DRM_IOCTL_MODE_GETENCODER
 
	`DRM_IOWR
(0xA6, 
drm_mode_g‘_’cod”
)

	)

858 
	#DRM_IOCTL_MODE_GETCONNECTOR
 
	`DRM_IOWR
(0xA7, 
drm_mode_g‘_cÚÃùÜ
)

	)

859 
	#DRM_IOCTL_MODE_ATTACHMODE
 
	`DRM_IOWR
(0xA8, 
drm_mode_mode_cmd
è

	)

860 
	#DRM_IOCTL_MODE_DETACHMODE
 
	`DRM_IOWR
(0xA9, 
drm_mode_mode_cmd
è

	)

862 
	#DRM_IOCTL_MODE_GETPROPERTY
 
	`DRM_IOWR
(0xAA, 
drm_mode_g‘_´Ý”ty
)

	)

863 
	#DRM_IOCTL_MODE_SETPROPERTY
 
	`DRM_IOWR
(0xAB, 
drm_mode_cÚÃùÜ_£t_´Ý”ty
)

	)

864 
	#DRM_IOCTL_MODE_GETPROPBLOB
 
	`DRM_IOWR
(0xAC, 
drm_mode_g‘_blob
)

	)

865 
	#DRM_IOCTL_MODE_GETFB
 
	`DRM_IOWR
(0xAD, 
drm_mode_fb_cmd
)

	)

866 
	#DRM_IOCTL_MODE_ADDFB
 
	`DRM_IOWR
(0xAE, 
drm_mode_fb_cmd
)

	)

867 
	#DRM_IOCTL_MODE_RMFB
 
	`DRM_IOWR
(0xAF, )

	)

868 
	#DRM_IOCTL_MODE_PAGE_FLIP
 
	`DRM_IOWR
(0xB0, 
drm_mode_ütc_·ge_æ
)

	)

869 
	#DRM_IOCTL_MODE_DIRTYFB
 
	`DRM_IOWR
(0xB1, 
drm_mode_fb_dœty_cmd
)

	)

871 
	#DRM_IOCTL_MODE_CREATE_DUMB
 
	`DRM_IOWR
(0xB2, 
drm_mode_ü—‹_dumb
)

	)

872 
	#DRM_IOCTL_MODE_MAP_DUMB
 
	`DRM_IOWR
(0xB3, 
drm_mode_m­_dumb
)

	)

873 
	#DRM_IOCTL_MODE_DESTROY_DUMB
 
	`DRM_IOWR
(0xB4, 
drm_mode_de¡roy_dumb
)

	)

874 
	#DRM_IOCTL_MODE_GETPLANERESOURCES
 
	`DRM_IOWR
(0xB5, 
drm_mode_g‘_¶ªe_»s
)

	)

875 
	#DRM_IOCTL_MODE_GETPLANE
 
	`DRM_IOWR
(0xB6, 
drm_mode_g‘_¶ªe
)

	)

876 
	#DRM_IOCTL_MODE_SETPLANE
 
	`DRM_IOWR
(0xB7, 
drm_mode_£t_¶ªe
)

	)

877 
	#DRM_IOCTL_MODE_ADDFB2
 
	`DRM_IOWR
(0xB8, 
drm_mode_fb_cmd2
)

	)

878 
	#DRM_IOCTL_MODE_OBJ_GETPROPERTIES
 
	`DRM_IOWR
(0xB9, 
drm_mode_obj_g‘_´Ý”t›s
)

	)

879 
	#DRM_IOCTL_MODE_OBJ_SETPROPERTY
 
	`DRM_IOWR
(0xBA, 
drm_mode_obj_£t_´Ý”ty
)

	)

880 
	#DRM_IOCTL_MODE_CURSOR2
 
	`DRM_IOWR
(0xBB, 
drm_mode_cursÜ2
)

	)

881 
	#DRM_IOCTL_MODE_ATOMIC
 
	`DRM_IOWR
(0xBC, 
drm_mode_©omic
)

	)

882 
	#DRM_IOCTL_MODE_CREATEPROPBLOB
 
	`DRM_IOWR
(0xBD, 
drm_mode_ü—‹_blob
)

	)

883 
	#DRM_IOCTL_MODE_DESTROYPROPBLOB
 
	`DRM_IOWR
(0xBE, 
drm_mode_de¡roy_blob
)

	)

885 
	#DRM_IOCTL_SYNCOBJ_CREATE
 
	`DRM_IOWR
(0xBF, 
drm_syncobj_ü—‹
)

	)

886 
	#DRM_IOCTL_SYNCOBJ_DESTROY
 
	`DRM_IOWR
(0xC0, 
drm_syncobj_de¡roy
)

	)

887 
	#DRM_IOCTL_SYNCOBJ_HANDLE_TO_FD
 
	`DRM_IOWR
(0xC1, 
drm_syncobj_hªdË
)

	)

888 
	#DRM_IOCTL_SYNCOBJ_FD_TO_HANDLE
 
	`DRM_IOWR
(0xC2, 
drm_syncobj_hªdË
)

	)

889 
	#DRM_IOCTL_SYNCOBJ_WAIT
 
	`DRM_IOWR
(0xC3, 
drm_syncobj_wa™
)

	)

890 
	#DRM_IOCTL_SYNCOBJ_RESET
 
	`DRM_IOWR
(0xC4, 
drm_syncobj_¬¿y
)

	)

891 
	#DRM_IOCTL_SYNCOBJ_SIGNAL
 
	`DRM_IOWR
(0xC5, 
drm_syncobj_¬¿y
)

	)

893 
	#DRM_IOCTL_MODE_CREATE_LEASE
 
	`DRM_IOWR
(0xC6, 
drm_mode_ü—‹_Ëa£
)

	)

894 
	#DRM_IOCTL_MODE_LIST_LESSEES
 
	`DRM_IOWR
(0xC7, 
drm_mode_li¡_Ës£es
)

	)

895 
	#DRM_IOCTL_MODE_GET_LEASE
 
	`DRM_IOWR
(0xC8, 
drm_mode_g‘_Ëa£
)

	)

896 
	#DRM_IOCTL_MODE_REVOKE_LEASE
 
	`DRM_IOWR
(0xC9, 
drm_mode_»voke_Ëa£
)

	)

906 
	#DRM_COMMAND_BASE
 0x40

	)

907 
	#DRM_COMMAND_END
 0xA0

	)

921 
	sdrm_ev’t
 {

922 
__u32
 
ty³
;

923 
__u32
 
Ëngth
;

926 
	#DRM_EVENT_VBLANK
 0x01

	)

927 
	#DRM_EVENT_FLIP_COMPLETE
 0x02

	)

928 
	#DRM_EVENT_CRTC_SEQUENCE
 0x03

	)

930 
	sdrm_ev’t_vbÏnk
 {

931 
drm_ev’t
 
ba£
;

932 
__u64
 
u£r_d©a
;

933 
__u32
 
tv_£c
;

934 
__u32
 
tv_u£c
;

935 
__u32
 
£qu’û
;

936 
__u32
 
ütc_id
;

942 
	sdrm_ev’t_ütc_£qu’û
 {

943 
drm_ev’t
 
ba£
;

944 
__u64
 
u£r_d©a
;

945 
__s64
 
time_ns
;

946 
__u64
 
£qu’û
;

950 #iâdeà
__KERNEL__


951 
drm_þ_»ù
 
	tdrm_þ_»ù_t
;

952 
drm_d¿wabË_šfo
 
	tdrm_d¿wabË_šfo_t
;

953 
drm_‹x_»giÚ
 
	tdrm_‹x_»giÚ_t
;

954 
drm_hw_lock
 
	tdrm_hw_lock_t
;

955 
drm_v”siÚ
 
	tdrm_v”siÚ_t
;

956 
drm_unique
 
	tdrm_unique_t
;

957 
drm_li¡
 
	tdrm_li¡_t
;

958 
drm_block
 
	tdrm_block_t
;

959 
drm_cÚŒÞ
 
	tdrm_cÚŒÞ_t
;

960 
drm_m­_ty³
 
	tdrm_m­_ty³_t
;

961 
drm_m­_æags
 
	tdrm_m­_æags_t
;

962 
drm_ùx_´iv_m­
 
	tdrm_ùx_´iv_m­_t
;

963 
drm_m­
 
	tdrm_m­_t
;

964 
drm_þ›Á
 
	tdrm_þ›Á_t
;

965 
drm_¡©_ty³
 
	tdrm_¡©_ty³_t
;

966 
drm_¡©s
 
	tdrm_¡©s_t
;

967 
drm_lock_æags
 
	tdrm_lock_æags_t
;

968 
drm_lock
 
	tdrm_lock_t
;

969 
drm_dma_æags
 
	tdrm_dma_æags_t
;

970 
drm_buf_desc
 
	tdrm_buf_desc_t
;

971 
drm_buf_šfo
 
	tdrm_buf_šfo_t
;

972 
drm_buf_ä“
 
	tdrm_buf_ä“_t
;

973 
drm_buf_pub
 
	tdrm_buf_pub_t
;

974 
drm_buf_m­
 
	tdrm_buf_m­_t
;

975 
drm_dma
 
	tdrm_dma_t
;

976 
drm_wa™_vbÏnk
 
	tdrm_wa™_vbÏnk_t
;

977 
drm_agp_mode
 
	tdrm_agp_mode_t
;

978 
drm_ùx_æags
 
	tdrm_ùx_æags_t
;

979 
drm_ùx
 
	tdrm_ùx_t
;

980 
drm_ùx_»s
 
	tdrm_ùx_»s_t
;

981 
drm_d¿w
 
	tdrm_d¿w_t
;

982 
drm_upd©e_d¿w
 
	tdrm_upd©e_d¿w_t
;

983 
drm_auth
 
	tdrm_auth_t
;

984 
drm_œq_busid
 
	tdrm_œq_busid_t
;

985 
drm_vbÏnk_£q_ty³
 
	tdrm_vbÏnk_£q_ty³_t
;

987 
drm_agp_bufãr
 
	tdrm_agp_bufãr_t
;

988 
drm_agp_bšdšg
 
	tdrm_agp_bšdšg_t
;

989 
drm_agp_šfo
 
	tdrm_agp_šfo_t
;

990 
drm_sÿ‰”_g©h”
 
	tdrm_sÿ‰”_g©h”_t
;

991 
drm_£t_v”siÚ
 
	tdrm_£t_v”siÚ_t
;

994 #ià
defšed
(
__ýlu¥lus
)

	@src/common/linuxkpi/include/uapi/drm/drm_fourcc.h

24 #iâdeà
DRM_FOURCC_H


25 
	#DRM_FOURCC_H


	)

27 
	~"drm.h
"

29 #ià
defšed
(
__ýlu¥lus
)

33 
	#fourcc_code
(
a
, 
b
, 
c
, 
d
è((
__u32
)(a) | ((__u32)(b) << 8) | \

34 ((
__u32
)(
c
è<< 16è| ((__u32)(
d
è<< 24))

	)

36 
	#DRM_FORMAT_BIG_ENDIAN
 (1<<31è

	)

39 
	#DRM_FORMAT_C8
 
	`fourcc_code
('C', '8', ' ', ' 'è

	)

42 
	#DRM_FORMAT_R8
 
	`fourcc_code
('R', '8', ' ', ' 'è

	)

45 
	#DRM_FORMAT_R16
 
	`fourcc_code
('R', '1', '6', ' 'è

	)

48 
	#DRM_FORMAT_RG88
 
	`fourcc_code
('R', 'G', '8', '8'è

	)

49 
	#DRM_FORMAT_GR88
 
	`fourcc_code
('G', 'R', '8', '8'è

	)

52 
	#DRM_FORMAT_RG1616
 
	`fourcc_code
('R', 'G', '3', '2'è

	)

53 
	#DRM_FORMAT_GR1616
 
	`fourcc_code
('G', 'R', '3', '2'è

	)

56 
	#DRM_FORMAT_RGB332
 
	`fourcc_code
('R', 'G', 'B', '8'è

	)

57 
	#DRM_FORMAT_BGR233
 
	`fourcc_code
('B', 'G', 'R', '8'è

	)

60 
	#DRM_FORMAT_XRGB4444
 
	`fourcc_code
('X', 'R', '1', '2'è

	)

61 
	#DRM_FORMAT_XBGR4444
 
	`fourcc_code
('X', 'B', '1', '2'è

	)

62 
	#DRM_FORMAT_RGBX4444
 
	`fourcc_code
('R', 'X', '1', '2'è

	)

63 
	#DRM_FORMAT_BGRX4444
 
	`fourcc_code
('B', 'X', '1', '2'è

	)

65 
	#DRM_FORMAT_ARGB4444
 
	`fourcc_code
('A', 'R', '1', '2'è

	)

66 
	#DRM_FORMAT_ABGR4444
 
	`fourcc_code
('A', 'B', '1', '2'è

	)

67 
	#DRM_FORMAT_RGBA4444
 
	`fourcc_code
('R', 'A', '1', '2'è

	)

68 
	#DRM_FORMAT_BGRA4444
 
	`fourcc_code
('B', 'A', '1', '2'è

	)

70 
	#DRM_FORMAT_XRGB1555
 
	`fourcc_code
('X', 'R', '1', '5'è

	)

71 
	#DRM_FORMAT_XBGR1555
 
	`fourcc_code
('X', 'B', '1', '5'è

	)

72 
	#DRM_FORMAT_RGBX5551
 
	`fourcc_code
('R', 'X', '1', '5'è

	)

73 
	#DRM_FORMAT_BGRX5551
 
	`fourcc_code
('B', 'X', '1', '5'è

	)

75 
	#DRM_FORMAT_ARGB1555
 
	`fourcc_code
('A', 'R', '1', '5'è

	)

76 
	#DRM_FORMAT_ABGR1555
 
	`fourcc_code
('A', 'B', '1', '5'è

	)

77 
	#DRM_FORMAT_RGBA5551
 
	`fourcc_code
('R', 'A', '1', '5'è

	)

78 
	#DRM_FORMAT_BGRA5551
 
	`fourcc_code
('B', 'A', '1', '5'è

	)

80 
	#DRM_FORMAT_RGB565
 
	`fourcc_code
('R', 'G', '1', '6'è

	)

81 
	#DRM_FORMAT_BGR565
 
	`fourcc_code
('B', 'G', '1', '6'è

	)

84 
	#DRM_FORMAT_RGB888
 
	`fourcc_code
('R', 'G', '2', '4'è

	)

85 
	#DRM_FORMAT_BGR888
 
	`fourcc_code
('B', 'G', '2', '4'è

	)

88 
	#DRM_FORMAT_XRGB8888
 
	`fourcc_code
('X', 'R', '2', '4'è

	)

89 
	#DRM_FORMAT_XBGR8888
 
	`fourcc_code
('X', 'B', '2', '4'è

	)

90 
	#DRM_FORMAT_RGBX8888
 
	`fourcc_code
('R', 'X', '2', '4'è

	)

91 
	#DRM_FORMAT_BGRX8888
 
	`fourcc_code
('B', 'X', '2', '4'è

	)

93 
	#DRM_FORMAT_ARGB8888
 
	`fourcc_code
('A', 'R', '2', '4'è

	)

94 
	#DRM_FORMAT_ABGR8888
 
	`fourcc_code
('A', 'B', '2', '4'è

	)

95 
	#DRM_FORMAT_RGBA8888
 
	`fourcc_code
('R', 'A', '2', '4'è

	)

96 
	#DRM_FORMAT_BGRA8888
 
	`fourcc_code
('B', 'A', '2', '4'è

	)

98 
	#DRM_FORMAT_XRGB2101010
 
	`fourcc_code
('X', 'R', '3', '0'è

	)

99 
	#DRM_FORMAT_XBGR2101010
 
	`fourcc_code
('X', 'B', '3', '0'è

	)

100 
	#DRM_FORMAT_RGBX1010102
 
	`fourcc_code
('R', 'X', '3', '0'è

	)

101 
	#DRM_FORMAT_BGRX1010102
 
	`fourcc_code
('B', 'X', '3', '0'è

	)

103 
	#DRM_FORMAT_ARGB2101010
 
	`fourcc_code
('A', 'R', '3', '0'è

	)

104 
	#DRM_FORMAT_ABGR2101010
 
	`fourcc_code
('A', 'B', '3', '0'è

	)

105 
	#DRM_FORMAT_RGBA1010102
 
	`fourcc_code
('R', 'A', '3', '0'è

	)

106 
	#DRM_FORMAT_BGRA1010102
 
	`fourcc_code
('B', 'A', '3', '0'è

	)

109 
	#DRM_FORMAT_YUYV
 
	`fourcc_code
('Y', 'U', 'Y', 'V'è

	)

110 
	#DRM_FORMAT_YVYU
 
	`fourcc_code
('Y', 'V', 'Y', 'U'è

	)

111 
	#DRM_FORMAT_UYVY
 
	`fourcc_code
('U', 'Y', 'V', 'Y'è

	)

112 
	#DRM_FORMAT_VYUY
 
	`fourcc_code
('V', 'Y', 'U', 'Y'è

	)

114 
	#DRM_FORMAT_AYUV
 
	`fourcc_code
('A', 'Y', 'U', 'V'è

	)

121 
	#DRM_FORMAT_XRGB8888_A8
 
	`fourcc_code
('X', 'R', 'A', '8')

	)

122 
	#DRM_FORMAT_XBGR8888_A8
 
	`fourcc_code
('X', 'B', 'A', '8')

	)

123 
	#DRM_FORMAT_RGBX8888_A8
 
	`fourcc_code
('R', 'X', 'A', '8')

	)

124 
	#DRM_FORMAT_BGRX8888_A8
 
	`fourcc_code
('B', 'X', 'A', '8')

	)

125 
	#DRM_FORMAT_RGB888_A8
 
	`fourcc_code
('R', '8', 'A', '8')

	)

126 
	#DRM_FORMAT_BGR888_A8
 
	`fourcc_code
('B', '8', 'A', '8')

	)

127 
	#DRM_FORMAT_RGB565_A8
 
	`fourcc_code
('R', '5', 'A', '8')

	)

128 
	#DRM_FORMAT_BGR565_A8
 
	`fourcc_code
('B', '5', 'A', '8')

	)

137 
	#DRM_FORMAT_NV12
 
	`fourcc_code
('N', 'V', '1', '2'è

	)

138 
	#DRM_FORMAT_NV21
 
	`fourcc_code
('N', 'V', '2', '1'è

	)

139 
	#DRM_FORMAT_NV16
 
	`fourcc_code
('N', 'V', '1', '6'è

	)

140 
	#DRM_FORMAT_NV61
 
	`fourcc_code
('N', 'V', '6', '1'è

	)

141 
	#DRM_FORMAT_NV24
 
	`fourcc_code
('N', 'V', '2', '4'è

	)

142 
	#DRM_FORMAT_NV42
 
	`fourcc_code
('N', 'V', '4', '2'è

	)

153 
	#DRM_FORMAT_YUV410
 
	`fourcc_code
('Y', 'U', 'V', '9'è

	)

154 
	#DRM_FORMAT_YVU410
 
	`fourcc_code
('Y', 'V', 'U', '9'è

	)

155 
	#DRM_FORMAT_YUV411
 
	`fourcc_code
('Y', 'U', '1', '1'è

	)

156 
	#DRM_FORMAT_YVU411
 
	`fourcc_code
('Y', 'V', '1', '1'è

	)

157 
	#DRM_FORMAT_YUV420
 
	`fourcc_code
('Y', 'U', '1', '2'è

	)

158 
	#DRM_FORMAT_YVU420
 
	`fourcc_code
('Y', 'V', '1', '2'è

	)

159 
	#DRM_FORMAT_YUV422
 
	`fourcc_code
('Y', 'U', '1', '6'è

	)

160 
	#DRM_FORMAT_YVU422
 
	`fourcc_code
('Y', 'V', '1', '6'è

	)

161 
	#DRM_FORMAT_YUV444
 
	`fourcc_code
('Y', 'U', '2', '4'è

	)

162 
	#DRM_FORMAT_YVU444
 
	`fourcc_code
('Y', 'V', '2', '4'è

	)

177 
	#DRM_FORMAT_MOD_NONE
 0

	)

178 
	#DRM_FORMAT_MOD_VENDOR_NONE
 0

	)

179 
	#DRM_FORMAT_MOD_VENDOR_INTEL
 0x01

	)

180 
	#DRM_FORMAT_MOD_VENDOR_AMD
 0x02

	)

181 
	#DRM_FORMAT_MOD_VENDOR_NVIDIA
 0x03

	)

182 
	#DRM_FORMAT_MOD_VENDOR_SAMSUNG
 0x04

	)

183 
	#DRM_FORMAT_MOD_VENDOR_QCOM
 0x05

	)

184 
	#DRM_FORMAT_MOD_VENDOR_VIVANTE
 0x06

	)

185 
	#DRM_FORMAT_MOD_VENDOR_BROADCOM
 0x07

	)

188 
	#DRM_FORMAT_RESERVED
 ((1ULL << 56è- 1)

	)

190 
	#fourcc_mod_code
(
v’dÜ
, 
v®
) \

191 ((((
__u64
)
DRM_FORMAT_MOD_VENDOR_
## 
v’dÜ
è<< 56è| ((
v®
è& 0x00ffffffffffffffULL))

	)

208 
	#DRM_FORMAT_MOD_INVALID
 
	`fourcc_mod_code
(
NONE
, 
DRM_FORMAT_RESERVED
)

	)

218 
	#DRM_FORMAT_MOD_LINEAR
 
	`fourcc_mod_code
(
NONE
, 0)

	)

234 
	#I915_FORMAT_MOD_X_TILED
 
	`fourcc_mod_code
(
INTEL
, 1)

	)

249 
	#I915_FORMAT_MOD_Y_TILED
 
	`fourcc_mod_code
(
INTEL
, 2)

	)

264 
	#I915_FORMAT_MOD_Yf_TILED
 
	`fourcc_mod_code
(
INTEL
, 3)

	)

283 
	#I915_FORMAT_MOD_Y_TILED_CCS
 
	`fourcc_mod_code
(
INTEL
, 4)

	)

284 
	#I915_FORMAT_MOD_Yf_TILED_CCS
 
	`fourcc_mod_code
(
INTEL
, 5)

	)

299 
	#DRM_FORMAT_MOD_SAMSUNG_64_32_TILE
 
	`fourcc_mod_code
(
SAMSUNG
, 1)

	)

309 
	#DRM_FORMAT_MOD_VIVANTE_TILED
 
	`fourcc_mod_code
(
VIVANTE
, 1)

	)

321 
	#DRM_FORMAT_MOD_VIVANTE_SUPER_TILED
 
	`fourcc_mod_code
(
VIVANTE
, 2)

	)

330 
	#DRM_FORMAT_MOD_VIVANTE_SPLIT_TILED
 
	`fourcc_mod_code
(
VIVANTE
, 3)

	)

339 
	#DRM_FORMAT_MOD_VIVANTE_SPLIT_SUPER_TILED
 
	`fourcc_mod_code
(
VIVANTE
, 4)

	)

348 
	#DRM_FORMAT_MOD_NVIDIA_TEGRA_TILED
 
	`fourcc_mod_code
(
NVIDIA
, 1)

	)

371 
	#DRM_FORMAT_MOD_NVIDIA_16BX2_BLOCK
(
v
) \

372 
	`fourcc_mod_code
(
NVIDIA
, 0x10 | ((
v
è& 0xf))

	)

374 
	#DRM_FORMAT_MOD_NVIDIA_16BX2_BLOCK_ONE_GOB
 \

375 
	`fourcc_mod_code
(
NVIDIA
, 0x10)

	)

376 
	#DRM_FORMAT_MOD_NVIDIA_16BX2_BLOCK_TWO_GOB
 \

377 
	`fourcc_mod_code
(
NVIDIA
, 0x11)

	)

378 
	#DRM_FORMAT_MOD_NVIDIA_16BX2_BLOCK_FOUR_GOB
 \

379 
	`fourcc_mod_code
(
NVIDIA
, 0x12)

	)

380 
	#DRM_FORMAT_MOD_NVIDIA_16BX2_BLOCK_EIGHT_GOB
 \

381 
	`fourcc_mod_code
(
NVIDIA
, 0x13)

	)

382 
	#DRM_FORMAT_MOD_NVIDIA_16BX2_BLOCK_SIXTEEN_GOB
 \

383 
	`fourcc_mod_code
(
NVIDIA
, 0x14)

	)

384 
	#DRM_FORMAT_MOD_NVIDIA_16BX2_BLOCK_THIRTYTWO_GOB
 \

385 
	`fourcc_mod_code
(
NVIDIA
, 0x15)

	)

406 
	#DRM_FORMAT_MOD_BROADCOM_VC4_T_TILED
 
	`fourcc_mod_code
(
BROADCOM
, 1)

	)

408 #ià
defšed
(
__ýlu¥lus
)

	@src/common/linuxkpi/include/uapi/drm/drm_mode.h

27 #iâdeà
_DRM_MODE_H


28 
	#_DRM_MODE_H


	)

30 
	~"drm.h
"

32 #ià
defšed
(
__ýlu¥lus
)

36 
	#DRM_DISPLAY_INFO_LEN
 32

	)

37 
	#DRM_CONNECTOR_NAME_LEN
 32

	)

38 
	#DRM_DISPLAY_MODE_LEN
 32

	)

39 
	#DRM_PROP_NAME_LEN
 32

	)

41 
	#DRM_MODE_TYPE_BUILTIN
 (1<<0)

	)

42 
	#DRM_MODE_TYPE_CLOCK_C
 ((1<<1è| 
DRM_MODE_TYPE_BUILTIN
)

	)

43 
	#DRM_MODE_TYPE_CRTC_C
 ((1<<2è| 
DRM_MODE_TYPE_BUILTIN
)

	)

44 
	#DRM_MODE_TYPE_PREFERRED
 (1<<3)

	)

45 
	#DRM_MODE_TYPE_DEFAULT
 (1<<4)

	)

46 
	#DRM_MODE_TYPE_USERDEF
 (1<<5)

	)

47 
	#DRM_MODE_TYPE_DRIVER
 (1<<6)

	)

59 
	#DRM_MODE_FLAG_PHSYNC
 (1<<0)

	)

60 
	#DRM_MODE_FLAG_NHSYNC
 (1<<1)

	)

61 
	#DRM_MODE_FLAG_PVSYNC
 (1<<2)

	)

62 
	#DRM_MODE_FLAG_NVSYNC
 (1<<3)

	)

63 
	#DRM_MODE_FLAG_INTERLACE
 (1<<4)

	)

64 
	#DRM_MODE_FLAG_DBLSCAN
 (1<<5)

	)

65 
	#DRM_MODE_FLAG_CSYNC
 (1<<6)

	)

66 
	#DRM_MODE_FLAG_PCSYNC
 (1<<7)

	)

67 
	#DRM_MODE_FLAG_NCSYNC
 (1<<8)

	)

68 
	#DRM_MODE_FLAG_HSKEW
 (1<<9è

	)

69 
	#DRM_MODE_FLAG_BCAST
 (1<<10)

	)

70 
	#DRM_MODE_FLAG_PIXMUX
 (1<<11)

	)

71 
	#DRM_MODE_FLAG_DBLCLK
 (1<<12)

	)

72 
	#DRM_MODE_FLAG_CLKDIV2
 (1<<13)

	)

77 
	#DRM_MODE_FLAG_3D_MASK
 (0x1f<<14)

	)

78 
	#DRM_MODE_FLAG_3D_NONE
 (0<<14)

	)

79 
	#DRM_MODE_FLAG_3D_FRAME_PACKING
 (1<<14)

	)

80 
	#DRM_MODE_FLAG_3D_FIELD_ALTERNATIVE
 (2<<14)

	)

81 
	#DRM_MODE_FLAG_3D_LINE_ALTERNATIVE
 (3<<14)

	)

82 
	#DRM_MODE_FLAG_3D_SIDE_BY_SIDE_FULL
 (4<<14)

	)

83 
	#DRM_MODE_FLAG_3D_L_DEPTH
 (5<<14)

	)

84 
	#DRM_MODE_FLAG_3D_L_DEPTH_GFX_GFX_DEPTH
 (6<<14)

	)

85 
	#DRM_MODE_FLAG_3D_TOP_AND_BOTTOM
 (7<<14)

	)

86 
	#DRM_MODE_FLAG_3D_SIDE_BY_SIDE_HALF
 (8<<14)

	)

89 
	#DRM_MODE_PICTURE_ASPECT_NONE
 0

	)

90 
	#DRM_MODE_PICTURE_ASPECT_4_3
 1

	)

91 
	#DRM_MODE_PICTURE_ASPECT_16_9
 2

	)

94 
	#DRM_MODE_FLAG_PIC_AR_MASK
 (0x0F<<19)

	)

95 
	#DRM_MODE_FLAG_PIC_AR_NONE
 \

96 (
DRM_MODE_PICTURE_ASPECT_NONE
<<19)

	)

97 
	#DRM_MODE_FLAG_PIC_AR_4_3
 \

98 (
DRM_MODE_PICTURE_ASPECT_4_3
<<19)

	)

99 
	#DRM_MODE_FLAG_PIC_AR_16_9
 \

100 (
DRM_MODE_PICTURE_ASPECT_16_9
<<19)

	)

104 
	#DRM_MODE_DPMS_ON
 0

	)

105 
	#DRM_MODE_DPMS_STANDBY
 1

	)

106 
	#DRM_MODE_DPMS_SUSPEND
 2

	)

107 
	#DRM_MODE_DPMS_OFF
 3

	)

110 
	#DRM_MODE_SCALE_NONE
 0

	)

112 
	#DRM_MODE_SCALE_FULLSCREEN
 1

	)

113 
	#DRM_MODE_SCALE_CENTER
 2

	)

114 
	#DRM_MODE_SCALE_ASPECT
 3

	)

117 
	#DRM_MODE_DITHERING_OFF
 0

	)

118 
	#DRM_MODE_DITHERING_ON
 1

	)

119 
	#DRM_MODE_DITHERING_AUTO
 2

	)

122 
	#DRM_MODE_DIRTY_OFF
 0

	)

123 
	#DRM_MODE_DIRTY_ON
 1

	)

124 
	#DRM_MODE_DIRTY_ANNOTATE
 2

	)

127 
	#DRM_MODE_LINK_STATUS_GOOD
 0

	)

128 
	#DRM_MODE_LINK_STATUS_BAD
 1

	)

139 
	#DRM_MODE_ROTATE_0
 (1<<0)

	)

140 
	#DRM_MODE_ROTATE_90
 (1<<1)

	)

141 
	#DRM_MODE_ROTATE_180
 (1<<2)

	)

142 
	#DRM_MODE_ROTATE_270
 (1<<3)

	)

149 
	#DRM_MODE_ROTATE_MASK
 (\

150 
DRM_MODE_ROTATE_0
 | \

151 
DRM_MODE_ROTATE_90
 | \

152 
DRM_MODE_ROTATE_180
 | \

153 
DRM_MODE_ROTATE_270
)

	)

164 
	#DRM_MODE_REFLECT_X
 (1<<4)

	)

165 
	#DRM_MODE_REFLECT_Y
 (1<<5)

	)

172 
	#DRM_MODE_REFLECT_MASK
 (\

173 
DRM_MODE_REFLECT_X
 | \

174 
DRM_MODE_REFLECT_Y
)

	)

177 
	sdrm_mode_modešfo
 {

178 
__u32
 
þock
;

179 
__u16
 
hdi¥Ïy
;

180 
__u16
 
hsync_¡¬t
;

181 
__u16
 
hsync_’d
;

182 
__u16
 
htÙ®
;

183 
__u16
 
hskew
;

184 
__u16
 
vdi¥Ïy
;

185 
__u16
 
vsync_¡¬t
;

186 
__u16
 
vsync_’d
;

187 
__u16
 
vtÙ®
;

188 
__u16
 
vsÿn
;

190 
__u32
 
v»äesh
;

192 
__u32
 
æags
;

193 
__u32
 
ty³
;

194 
Çme
[
DRM_DISPLAY_MODE_LEN
];

197 
	sdrm_mode_ÿrd_»s
 {

198 
__u64
 
fb_id_±r
;

199 
__u64
 
ütc_id_±r
;

200 
__u64
 
cÚÃùÜ_id_±r
;

201 
__u64
 
’cod”_id_±r
;

202 
__u32
 
couÁ_fbs
;

203 
__u32
 
couÁ_ütcs
;

204 
__u32
 
couÁ_cÚÃùÜs
;

205 
__u32
 
couÁ_’cod”s
;

206 
__u32
 
mš_width
;

207 
__u32
 
max_width
;

208 
__u32
 
mš_height
;

209 
__u32
 
max_height
;

212 
	sdrm_mode_ütc
 {

213 
__u64
 
£t_cÚÃùÜs_±r
;

214 
__u32
 
couÁ_cÚÃùÜs
;

216 
__u32
 
ütc_id
;

217 
__u32
 
fb_id
;

219 
__u32
 
x
;

220 
__u32
 
y
;

222 
__u32
 
gamma_size
;

223 
__u32
 
mode_v®id
;

224 
drm_mode_modešfo
 
mode
;

227 
	#DRM_MODE_PRESENT_TOP_FIELD
 (1<<0)

	)

228 
	#DRM_MODE_PRESENT_BOTTOM_FIELD
 (1<<1)

	)

231 
	sdrm_mode_£t_¶ªe
 {

232 
__u32
 
¶ªe_id
;

233 
__u32
 
ütc_id
;

234 
__u32
 
fb_id
;

235 
__u32
 
æags
;

238 
__s32
 
ütc_x
;

239 
__s32
 
ütc_y
;

240 
__u32
 
ütc_w
;

241 
__u32
 
ütc_h
;

244 
__u32
 
¤c_x
;

245 
__u32
 
¤c_y
;

246 
__u32
 
¤c_h
;

247 
__u32
 
¤c_w
;

250 
	sdrm_mode_g‘_¶ªe
 {

251 
__u32
 
¶ªe_id
;

253 
__u32
 
ütc_id
;

254 
__u32
 
fb_id
;

256 
__u32
 
possibË_ütcs
;

257 
__u32
 
gamma_size
;

259 
__u32
 
couÁ_fÜm©_ty³s
;

260 
__u64
 
fÜm©_ty³_±r
;

263 
	sdrm_mode_g‘_¶ªe_»s
 {

264 
__u64
 
¶ªe_id_±r
;

265 
__u32
 
couÁ_¶ªes
;

268 
	#DRM_MODE_ENCODER_NONE
 0

	)

269 
	#DRM_MODE_ENCODER_DAC
 1

	)

270 
	#DRM_MODE_ENCODER_TMDS
 2

	)

271 
	#DRM_MODE_ENCODER_LVDS
 3

	)

272 
	#DRM_MODE_ENCODER_TVDAC
 4

	)

273 
	#DRM_MODE_ENCODER_VIRTUAL
 5

	)

274 
	#DRM_MODE_ENCODER_DSI
 6

	)

275 
	#DRM_MODE_ENCODER_DPMST
 7

	)

276 
	#DRM_MODE_ENCODER_DPI
 8

	)

278 
	sdrm_mode_g‘_’cod”
 {

279 
__u32
 
’cod”_id
;

280 
__u32
 
’cod”_ty³
;

282 
__u32
 
ütc_id
;

284 
__u32
 
possibË_ütcs
;

285 
__u32
 
possibË_þÚes
;

290 
	edrm_mode_subcÚÃùÜ
 {

291 
DRM_MODE_SUBCONNECTOR_Autom©ic
 = 0,

292 
DRM_MODE_SUBCONNECTOR_Unknown
 = 0,

293 
DRM_MODE_SUBCONNECTOR_DVID
 = 3,

294 
DRM_MODE_SUBCONNECTOR_DVIA
 = 4,

295 
DRM_MODE_SUBCONNECTOR_Compos™e
 = 5,

296 
DRM_MODE_SUBCONNECTOR_SVIDEO
 = 6,

297 
DRM_MODE_SUBCONNECTOR_CompÚ’t
 = 8,

298 
DRM_MODE_SUBCONNECTOR_SCART
 = 9,

301 
	#DRM_MODE_CONNECTOR_Unknown
 0

	)

302 
	#DRM_MODE_CONNECTOR_VGA
 1

	)

303 
	#DRM_MODE_CONNECTOR_DVII
 2

	)

304 
	#DRM_MODE_CONNECTOR_DVID
 3

	)

305 
	#DRM_MODE_CONNECTOR_DVIA
 4

	)

306 
	#DRM_MODE_CONNECTOR_Compos™e
 5

	)

307 
	#DRM_MODE_CONNECTOR_SVIDEO
 6

	)

308 
	#DRM_MODE_CONNECTOR_LVDS
 7

	)

309 
	#DRM_MODE_CONNECTOR_CompÚ’t
 8

	)

310 
	#DRM_MODE_CONNECTOR_9PšDIN
 9

	)

311 
	#DRM_MODE_CONNECTOR_Di¥ÏyPÜt
 10

	)

312 
	#DRM_MODE_CONNECTOR_HDMIA
 11

	)

313 
	#DRM_MODE_CONNECTOR_HDMIB
 12

	)

314 
	#DRM_MODE_CONNECTOR_TV
 13

	)

315 
	#DRM_MODE_CONNECTOR_eDP
 14

	)

316 
	#DRM_MODE_CONNECTOR_VIRTUAL
 15

	)

317 
	#DRM_MODE_CONNECTOR_DSI
 16

	)

318 
	#DRM_MODE_CONNECTOR_DPI
 17

	)

320 
	sdrm_mode_g‘_cÚÃùÜ
 {

322 
__u64
 
’cod”s_±r
;

323 
__u64
 
modes_±r
;

324 
__u64
 
´Ýs_±r
;

325 
__u64
 
´Ý_v®ues_±r
;

327 
__u32
 
couÁ_modes
;

328 
__u32
 
couÁ_´Ýs
;

329 
__u32
 
couÁ_’cod”s
;

331 
__u32
 
’cod”_id
;

332 
__u32
 
cÚÃùÜ_id
;

333 
__u32
 
cÚÃùÜ_ty³
;

334 
__u32
 
cÚÃùÜ_ty³_id
;

336 
__u32
 
cÚÃùiÚ
;

337 
__u32
 
mm_width
;

338 
__u32
 
mm_height
;

339 
__u32
 
subpix–
;

341 
__u32
 
·d
;

344 
	#DRM_MODE_PROP_PENDING
 (1<<0)

	)

345 
	#DRM_MODE_PROP_RANGE
 (1<<1)

	)

346 
	#DRM_MODE_PROP_IMMUTABLE
 (1<<2)

	)

347 
	#DRM_MODE_PROP_ENUM
 (1<<3è

	)

348 
	#DRM_MODE_PROP_BLOB
 (1<<4)

	)

349 
	#DRM_MODE_PROP_BITMASK
 (1<<5è

	)

352 
	#DRM_MODE_PROP_LEGACY_TYPE
 ( \

353 
DRM_MODE_PROP_RANGE
 | \

354 
DRM_MODE_PROP_ENUM
 | \

355 
DRM_MODE_PROP_BLOB
 | \

356 
DRM_MODE_PROP_BITMASK
)

	)

361 
	#DRM_MODE_PROP_EXTENDED_TYPE
 0x0000ffc0

	)

362 
	#DRM_MODE_PROP_TYPE
(
n
è(Òè<< 6)

	)

363 
	#DRM_MODE_PROP_OBJECT
 
	`DRM_MODE_PROP_TYPE
(1)

	)

364 
	#DRM_MODE_PROP_SIGNED_RANGE
 
	`DRM_MODE_PROP_TYPE
(2)

	)

371 
	#DRM_MODE_PROP_ATOMIC
 0x80000000

	)

373 
	sdrm_mode_´Ý”ty_’um
 {

374 
__u64
 
v®ue
;

375 
Çme
[
DRM_PROP_NAME_LEN
];

378 
	sdrm_mode_g‘_´Ý”ty
 {

379 
__u64
 
v®ues_±r
;

380 
__u64
 
’um_blob_±r
;

382 
__u32
 
´Ý_id
;

383 
__u32
 
æags
;

384 
Çme
[
DRM_PROP_NAME_LEN
];

386 
__u32
 
couÁ_v®ues
;

389 
__u32
 
couÁ_’um_blobs
;

392 
	sdrm_mode_cÚÃùÜ_£t_´Ý”ty
 {

393 
__u64
 
v®ue
;

394 
__u32
 
´Ý_id
;

395 
__u32
 
cÚÃùÜ_id
;

398 
	#DRM_MODE_OBJECT_CRTC
 0xcccccccc

	)

399 
	#DRM_MODE_OBJECT_CONNECTOR
 0xc0c0c0c0

	)

400 
	#DRM_MODE_OBJECT_ENCODER
 0xe0e0e0e0

	)

401 
	#DRM_MODE_OBJECT_MODE
 0xdededede

	)

402 
	#DRM_MODE_OBJECT_PROPERTY
 0xb0b0b0b0

	)

403 
	#DRM_MODE_OBJECT_FB
 0xfbfbfbfb

	)

404 
	#DRM_MODE_OBJECT_BLOB
 0xbbbbbbbb

	)

405 
	#DRM_MODE_OBJECT_PLANE
 0x““““

	)

406 
	#DRM_MODE_OBJECT_ANY
 0

	)

408 
	sdrm_mode_obj_g‘_´Ý”t›s
 {

409 
__u64
 
´Ýs_±r
;

410 
__u64
 
´Ý_v®ues_±r
;

411 
__u32
 
couÁ_´Ýs
;

412 
__u32
 
obj_id
;

413 
__u32
 
obj_ty³
;

416 
	sdrm_mode_obj_£t_´Ý”ty
 {

417 
__u64
 
v®ue
;

418 
__u32
 
´Ý_id
;

419 
__u32
 
obj_id
;

420 
__u32
 
obj_ty³
;

423 
	sdrm_mode_g‘_blob
 {

424 
__u32
 
blob_id
;

425 
__u32
 
Ëngth
;

426 
__u64
 
d©a
;

429 
	sdrm_mode_fb_cmd
 {

430 
__u32
 
fb_id
;

431 
__u32
 
width
;

432 
__u32
 
height
;

433 
__u32
 
p™ch
;

434 
__u32
 
bµ
;

435 
__u32
 
d•th
;

437 
__u32
 
hªdË
;

440 
	#DRM_MODE_FB_INTERLACED
 (1<<0è

	)

441 
	#DRM_MODE_FB_MODIFIERS
 (1<<1è

	)

443 
	sdrm_mode_fb_cmd2
 {

444 
__u32
 
fb_id
;

445 
__u32
 
width
;

446 
__u32
 
height
;

447 
__u32
 
pix–_fÜm©
;

448 
__u32
 
æags
;

474 
__u32
 
hªdËs
[4];

475 
__u32
 
p™ches
[4];

476 
__u32
 
off£ts
[4];

477 
__u64
 
modif›r
[4];

480 
	#DRM_MODE_FB_DIRTY_ANNOTATE_COPY
 0x01

	)

481 
	#DRM_MODE_FB_DIRTY_ANNOTATE_FILL
 0x02

	)

482 
	#DRM_MODE_FB_DIRTY_FLAGS
 0x03

	)

484 
	#DRM_MODE_FB_DIRTY_MAX_CLIPS
 256

	)

513 
	sdrm_mode_fb_dœty_cmd
 {

514 
__u32
 
fb_id
;

515 
__u32
 
æags
;

516 
__u32
 
cÞÜ
;

517 
__u32
 
num_þs
;

518 
__u64
 
þs_±r
;

521 
	sdrm_mode_mode_cmd
 {

522 
__u32
 
cÚÃùÜ_id
;

523 
drm_mode_modešfo
 
mode
;

526 
	#DRM_MODE_CURSOR_BO
 0x01

	)

527 
	#DRM_MODE_CURSOR_MOVE
 0x02

	)

528 
	#DRM_MODE_CURSOR_FLAGS
 0x03

	)

544 
	sdrm_mode_cursÜ
 {

545 
__u32
 
æags
;

546 
__u32
 
ütc_id
;

547 
__s32
 
x
;

548 
__s32
 
y
;

549 
__u32
 
width
;

550 
__u32
 
height
;

552 
__u32
 
hªdË
;

555 
	sdrm_mode_cursÜ2
 {

556 
__u32
 
æags
;

557 
__u32
 
ütc_id
;

558 
__s32
 
x
;

559 
__s32
 
y
;

560 
__u32
 
width
;

561 
__u32
 
height
;

563 
__u32
 
hªdË
;

564 
__s32
 
hÙ_x
;

565 
__s32
 
hÙ_y
;

568 
	sdrm_mode_ütc_lut
 {

569 
__u32
 
ütc_id
;

570 
__u32
 
gamma_size
;

573 
__u64
 
»d
;

574 
__u64
 
g»’
;

575 
__u64
 
blue
;

578 
	sdrm_cÞÜ_ùm
 {

580 
__s64
 
m©rix
[9];

583 
	sdrm_cÞÜ_lut
 {

587 
__u16
 
»d
;

588 
__u16
 
g»’
;

589 
__u16
 
blue
;

590 
__u16
 
»£rved
;

593 
	#DRM_MODE_PAGE_FLIP_EVENT
 0x01

	)

594 
	#DRM_MODE_PAGE_FLIP_ASYNC
 0x02

	)

595 
	#DRM_MODE_PAGE_FLIP_TARGET_ABSOLUTE
 0x4

	)

596 
	#DRM_MODE_PAGE_FLIP_TARGET_RELATIVE
 0x8

	)

597 
	#DRM_MODE_PAGE_FLIP_TARGET
 (
DRM_MODE_PAGE_FLIP_TARGET_ABSOLUTE
 | \

598 
DRM_MODE_PAGE_FLIP_TARGET_RELATIVE
)

	)

599 
	#DRM_MODE_PAGE_FLIP_FLAGS
 (
DRM_MODE_PAGE_FLIP_EVENT
 | \

600 
DRM_MODE_PAGE_FLIP_ASYNC
 | \

601 
DRM_MODE_PAGE_FLIP_TARGET
)

	)

627 
	sdrm_mode_ütc_·ge_æ
 {

628 
__u32
 
ütc_id
;

629 
__u32
 
fb_id
;

630 
__u32
 
æags
;

631 
__u32
 
»£rved
;

632 
__u64
 
u£r_d©a
;

655 
	sdrm_mode_ütc_·ge_æ_rg‘
 {

656 
__u32
 
ütc_id
;

657 
__u32
 
fb_id
;

658 
__u32
 
æags
;

659 
__u32
 
£qu’û
;

660 
__u64
 
u£r_d©a
;

664 
	sdrm_mode_ü—‹_dumb
 {

665 
__u32
 
height
;

666 
__u32
 
width
;

667 
__u32
 
bµ
;

668 
__u32
 
æags
;

670 
__u32
 
hªdË
;

671 
__u32
 
p™ch
;

672 
__u64
 
size
;

676 
	sdrm_mode_m­_dumb
 {

678 
__u32
 
hªdË
;

679 
__u32
 
·d
;

685 
__u64
 
off£t
;

688 
	sdrm_mode_de¡roy_dumb
 {

689 
__u32
 
hªdË
;

693 
	#DRM_MODE_ATOMIC_TEST_ONLY
 0x0100

	)

694 
	#DRM_MODE_ATOMIC_NONBLOCK
 0x0200

	)

695 
	#DRM_MODE_ATOMIC_ALLOW_MODESET
 0x0400

	)

697 
	#DRM_MODE_ATOMIC_FLAGS
 (\

698 
DRM_MODE_PAGE_FLIP_EVENT
 |\

699 
DRM_MODE_PAGE_FLIP_ASYNC
 |\

700 
DRM_MODE_ATOMIC_TEST_ONLY
 |\

701 
DRM_MODE_ATOMIC_NONBLOCK
 |\

702 
DRM_MODE_ATOMIC_ALLOW_MODESET
)

	)

704 
	sdrm_mode_©omic
 {

705 
__u32
 
æags
;

706 
__u32
 
couÁ_objs
;

707 
__u64
 
objs_±r
;

708 
__u64
 
couÁ_´Ýs_±r
;

709 
__u64
 
´Ýs_±r
;

710 
__u64
 
´Ý_v®ues_±r
;

711 
__u64
 
»£rved
;

712 
__u64
 
u£r_d©a
;

715 
	sdrm_fÜm©_modif›r_blob
 {

716 
	#FORMAT_BLOB_CURRENT
 1

	)

718 
__u32
 
v”siÚ
;

721 
__u32
 
æags
;

724 
__u32
 
couÁ_fÜm©s
;

727 
__u32
 
fÜm©s_off£t
;

730 
__u32
 
couÁ_modif›rs
;

733 
__u32
 
modif›rs_off£t
;

739 
	sdrm_fÜm©_modif›r
 {

757 
__u64
 
fÜm©s
;

758 
__u32
 
off£t
;

759 
__u32
 
·d
;

762 
__u64
 
modif›r
;

769 
	sdrm_mode_ü—‹_blob
 {

771 
__u64
 
d©a
;

773 
__u32
 
Ëngth
;

775 
__u32
 
blob_id
;

781 
	sdrm_mode_de¡roy_blob
 {

782 
__u32
 
blob_id
;

788 
	sdrm_mode_ü—‹_Ëa£
 {

790 
__u64
 
objeù_ids
;

792 
__u32
 
objeù_couÁ
;

794 
__u32
 
æags
;

797 
__u32
 
Ës£e_id
;

799 
__u32
 
fd
;

805 
	sdrm_mode_li¡_Ës£es
 {

813 
__u32
 
couÁ_Ës£es
;

814 
__u32
 
·d
;

819 
__u64
 
Ës£es_±r
;

825 
	sdrm_mode_g‘_Ëa£
 {

833 
__u32
 
couÁ_objeùs
;

834 
__u32
 
·d
;

839 
__u64
 
objeùs_±r
;

845 
	sdrm_mode_»voke_Ëa£
 {

848 
__u32
 
Ës£e_id
;

851 #ià
defšed
(
__ýlu¥lus
)

	@src/common/linuxkpi/include/uapi/drm/drm_sarea.h

32 #iâdeà
_DRM_SAREA_H_


33 
	#_DRM_SAREA_H_


	)

35 
	~"drm.h
"

37 #ià
defšed
(
__ýlu¥lus
)

42 #ià
defšed
(
__®pha__
)

43 
	#SAREA_MAX
 0x2000U

	)

44 #–ià
defšed
(
__ms__
)

45 
	#SAREA_MAX
 0x4000U

	)

46 #–ià
defšed
(
__Ÿ64__
)

47 
	#SAREA_MAX
 0x10000U

	)

50 
	#SAREA_MAX
 0x2000U

	)

54 
	#SAREA_MAX_DRAWABLES
 256

	)

56 
	#SAREA_DRAWABLE_CLAIMED_ENTRY
 0x80000000

	)

59 
	sdrm_§»a_d¿wabË
 {

60 
¡amp
;

61 
æags
;

65 
	sdrm_§»a_äame
 {

66 
x
;

67 
y
;

68 
width
;

69 
height
;

70 
fuÎsü“n
;

74 
	sdrm_§»a
 {

76 
drm_hw_lock
 
lock
;

78 
drm_hw_lock
 
d¿wabË_lock
;

79 
drm_§»a_d¿wabË
 
d¿wabËTabË
[
SAREA_MAX_DRAWABLES
];

80 
drm_§»a_äame
 
äame
;

81 
drm_cÚ‹xt_t
 
dummy_cÚ‹xt
;

84 #iâdeà
__KERNEL__


85 
drm_§»a_d¿wabË
 
	tdrm_§»a_d¿wabË_t
;

86 
drm_§»a_äame
 
	tdrm_§»a_äame_t
;

87 
drm_§»a
 
	tdrm_§»a_t
;

90 #ià
defšed
(
__ýlu¥lus
)

	@src/common/linuxkpi/include/uapi/drm/etnaviv_drm.h

18 #iâdeà
__ETNAVIV_DRM_H__


19 
	#__ETNAVIV_DRM_H__


	)

21 
	~"drm.h
"

23 #ià
defšed
(
__ýlu¥lus
)

44 
	sdrm_‘Çviv_time¥ec
 {

45 
__s64
 
tv_£c
;

46 
__s64
 
tv_n£c
;

49 
	#ETNAVIV_PARAM_GPU_MODEL
 0x01

	)

50 
	#ETNAVIV_PARAM_GPU_REVISION
 0x02

	)

51 
	#ETNAVIV_PARAM_GPU_FEATURES_0
 0x03

	)

52 
	#ETNAVIV_PARAM_GPU_FEATURES_1
 0x04

	)

53 
	#ETNAVIV_PARAM_GPU_FEATURES_2
 0x05

	)

54 
	#ETNAVIV_PARAM_GPU_FEATURES_3
 0x06

	)

55 
	#ETNAVIV_PARAM_GPU_FEATURES_4
 0x07

	)

56 
	#ETNAVIV_PARAM_GPU_FEATURES_5
 0x08

	)

57 
	#ETNAVIV_PARAM_GPU_FEATURES_6
 0x09

	)

59 
	#ETNAVIV_PARAM_GPU_STREAM_COUNT
 0x10

	)

60 
	#ETNAVIV_PARAM_GPU_REGISTER_MAX
 0x11

	)

61 
	#ETNAVIV_PARAM_GPU_THREAD_COUNT
 0x12

	)

62 
	#ETNAVIV_PARAM_GPU_VERTEX_CACHE_SIZE
 0x13

	)

63 
	#ETNAVIV_PARAM_GPU_SHADER_CORE_COUNT
 0x14

	)

64 
	#ETNAVIV_PARAM_GPU_PIXEL_PIPES
 0x15

	)

65 
	#ETNAVIV_PARAM_GPU_VERTEX_OUTPUT_BUFFER_SIZE
 0x16

	)

66 
	#ETNAVIV_PARAM_GPU_BUFFER_SIZE
 0x17

	)

67 
	#ETNAVIV_PARAM_GPU_INSTRUCTION_COUNT
 0x18

	)

68 
	#ETNAVIV_PARAM_GPU_NUM_CONSTANTS
 0x19

	)

69 
	#ETNAVIV_PARAM_GPU_NUM_VARYINGS
 0x1a

	)

71 
	#ETNA_MAX_PIPES
 4

	)

73 
	sdrm_‘Çviv_·¿m
 {

74 
__u32
 
pe
;

75 
__u32
 
·¿m
;

76 
__u64
 
v®ue
;

83 
	#ETNA_BO_CACHE_MASK
 0x000f0000

	)

85 
	#ETNA_BO_CACHED
 0x00010000

	)

86 
	#ETNA_BO_WC
 0x00020000

	)

87 
	#ETNA_BO_UNCACHED
 0x00040000

	)

89 
	#ETNA_BO_FORCE_MMU
 0x00100000

	)

91 
	sdrm_‘Çviv_gem_Ãw
 {

92 
__u64
 
size
;

93 
__u32
 
æags
;

94 
__u32
 
hªdË
;

97 
	sdrm_‘Çviv_gem_šfo
 {

98 
__u32
 
hªdË
;

99 
__u32
 
·d
;

100 
__u64
 
off£t
;

103 
	#ETNA_PREP_READ
 0x01

	)

104 
	#ETNA_PREP_WRITE
 0x02

	)

105 
	#ETNA_PREP_NOSYNC
 0x04

	)

107 
	sdrm_‘Çviv_gem_ýu_´•
 {

108 
__u32
 
hªdË
;

109 
__u32
 
Ý
;

110 
drm_‘Çviv_time¥ec
 
timeout
;

113 
	sdrm_‘Çviv_gem_ýu_fši
 {

114 
__u32
 
hªdË
;

115 
__u32
 
æags
;

128 
	sdrm_‘Çviv_gem_subm™_»loc
 {

129 
__u32
 
subm™_off£t
;

130 
__u32
 
»loc_idx
;

131 
__u64
 
»loc_off£t
;

132 
__u32
 
æags
;

146 
	#ETNA_SUBMIT_BO_READ
 0x0001

	)

147 
	#ETNA_SUBMIT_BO_WRITE
 0x0002

	)

148 
	sdrm_‘Çviv_gem_subm™_bo
 {

149 
__u32
 
æags
;

150 
__u32
 
hªdË
;

151 
__u64
 
´esumed
;

155 
	#ETNA_PM_PROCESS_PRE
 0x0001

	)

156 
	#ETNA_PM_PROCESS_POST
 0x0002

	)

157 
	sdrm_‘Çviv_gem_subm™_pmr
 {

158 
__u32
 
æags
;

159 
__u8
 
domaš
;

160 
__u8
 
·d
;

161 
__u16
 
sigÇl
;

162 
__u32
 
£qu’û
;

163 
__u32
 
»ad_off£t
;

164 
__u32
 
»ad_idx
;

171 
	#ETNA_SUBMIT_NO_IMPLICIT
 0x0001

	)

172 
	#ETNA_SUBMIT_FENCE_FD_IN
 0x0002

	)

173 
	#ETNA_SUBMIT_FENCE_FD_OUT
 0x0004

	)

174 
	#ETNA_SUBMIT_FLAGS
 (
ETNA_SUBMIT_NO_IMPLICIT
 | \

175 
ETNA_SUBMIT_FENCE_FD_IN
 | \

176 
ETNA_SUBMIT_FENCE_FD_OUT
)

	)

177 
	#ETNA_PIPE_3D
 0x00

	)

178 
	#ETNA_PIPE_2D
 0x01

	)

179 
	#ETNA_PIPE_VG
 0x02

	)

180 
	sdrm_‘Çviv_gem_subm™
 {

181 
__u32
 
ãnû
;

182 
__u32
 
pe
;

183 
__u32
 
exec_¡©e
;

184 
__u32
 
Ä_bos
;

185 
__u32
 
Ä_»locs
;

186 
__u32
 
¡»am_size
;

187 
__u64
 
bos
;

188 
__u64
 
»locs
;

189 
__u64
 
¡»am
;

190 
__u32
 
æags
;

191 
__s32
 
ãnû_fd
;

192 
__u64
 
pmrs
;

193 
__u32
 
Ä_pmrs
;

194 
__u32
 
·d
;

204 
	#ETNA_WAIT_NONBLOCK
 0x01

	)

205 
	sdrm_‘Çviv_wa™_ãnû
 {

206 
__u32
 
pe
;

207 
__u32
 
ãnû
;

208 
__u32
 
æags
;

209 
__u32
 
·d
;

210 
drm_‘Çviv_time¥ec
 
timeout
;

213 
	#ETNA_USERPTR_READ
 0x01

	)

214 
	#ETNA_USERPTR_WRITE
 0x02

	)

215 
	sdrm_‘Çviv_gem_u£½Œ
 {

216 
__u64
 
u£r_±r
;

217 
__u64
 
u£r_size
;

218 
__u32
 
æags
;

219 
__u32
 
hªdË
;

222 
	sdrm_‘Çviv_gem_wa™
 {

223 
__u32
 
pe
;

224 
__u32
 
hªdË
;

225 
__u32
 
æags
;

226 
__u32
 
·d
;

227 
drm_‘Çviv_time¥ec
 
timeout
;

234 
	sdrm_‘Çviv_pm_domaš
 {

235 
__u32
 
pe
;

236 
__u8
 
™”
;

237 
__u8
 
id
;

238 
__u16
 
Ä_sigÇls
;

239 
Çme
[64];

242 
	sdrm_‘Çviv_pm_sigÇl
 {

243 
__u32
 
pe
;

244 
__u8
 
domaš
;

245 
__u8
 
·d
;

246 
__u16
 
™”
;

247 
__u16
 
id
;

248 
Çme
[64];

251 
	#DRM_ETNAVIV_GET_PARAM
 0x00

	)

255 
	#DRM_ETNAVIV_GEM_NEW
 0x02

	)

256 
	#DRM_ETNAVIV_GEM_INFO
 0x03

	)

257 
	#DRM_ETNAVIV_GEM_CPU_PREP
 0x04

	)

258 
	#DRM_ETNAVIV_GEM_CPU_FINI
 0x05

	)

259 
	#DRM_ETNAVIV_GEM_SUBMIT
 0x06

	)

260 
	#DRM_ETNAVIV_WAIT_FENCE
 0x07

	)

261 
	#DRM_ETNAVIV_GEM_USERPTR
 0x08

	)

262 
	#DRM_ETNAVIV_GEM_WAIT
 0x09

	)

263 
	#DRM_ETNAVIV_PM_QUERY_DOM
 0x0a

	)

264 
	#DRM_ETNAVIV_PM_QUERY_SIG
 0x0b

	)

265 
	#DRM_ETNAVIV_NUM_IOCTLS
 0x0c

	)

267 
	#DRM_IOCTL_ETNAVIV_GET_PARAM
 
	`DRM_IOWR
(
DRM_COMMAND_BASE
 + 
DRM_ETNAVIV_GET_PARAM
, 
drm_‘Çviv_·¿m
)

	)

268 
	#DRM_IOCTL_ETNAVIV_GEM_NEW
 
	`DRM_IOWR
(
DRM_COMMAND_BASE
 + 
DRM_ETNAVIV_GEM_NEW
, 
drm_‘Çviv_gem_Ãw
)

	)

269 
	#DRM_IOCTL_ETNAVIV_GEM_INFO
 
	`DRM_IOWR
(
DRM_COMMAND_BASE
 + 
DRM_ETNAVIV_GEM_INFO
, 
drm_‘Çviv_gem_šfo
)

	)

270 
	#DRM_IOCTL_ETNAVIV_GEM_CPU_PREP
 
	`DRM_IOW
(
DRM_COMMAND_BASE
 + 
DRM_ETNAVIV_GEM_CPU_PREP
, 
drm_‘Çviv_gem_ýu_´•
)

	)

271 
	#DRM_IOCTL_ETNAVIV_GEM_CPU_FINI
 
	`DRM_IOW
(
DRM_COMMAND_BASE
 + 
DRM_ETNAVIV_GEM_CPU_FINI
, 
drm_‘Çviv_gem_ýu_fši
)

	)

272 
	#DRM_IOCTL_ETNAVIV_GEM_SUBMIT
 
	`DRM_IOWR
(
DRM_COMMAND_BASE
 + 
DRM_ETNAVIV_GEM_SUBMIT
, 
drm_‘Çviv_gem_subm™
)

	)

273 
	#DRM_IOCTL_ETNAVIV_WAIT_FENCE
 
	`DRM_IOW
(
DRM_COMMAND_BASE
 + 
DRM_ETNAVIV_WAIT_FENCE
, 
drm_‘Çviv_wa™_ãnû
)

	)

274 
	#DRM_IOCTL_ETNAVIV_GEM_USERPTR
 
	`DRM_IOWR
(
DRM_COMMAND_BASE
 + 
DRM_ETNAVIV_GEM_USERPTR
, 
drm_‘Çviv_gem_u£½Œ
)

	)

275 
	#DRM_IOCTL_ETNAVIV_GEM_WAIT
 
	`DRM_IOW
(
DRM_COMMAND_BASE
 + 
DRM_ETNAVIV_GEM_WAIT
, 
drm_‘Çviv_gem_wa™
)

	)

276 
	#DRM_IOCTL_ETNAVIV_PM_QUERY_DOM
 
	`DRM_IOWR
(
DRM_COMMAND_BASE
 + 
DRM_ETNAVIV_PM_QUERY_DOM
, 
drm_‘Çviv_pm_domaš
)

	)

277 
	#DRM_IOCTL_ETNAVIV_PM_QUERY_SIG
 
	`DRM_IOWR
(
DRM_COMMAND_BASE
 + 
DRM_ETNAVIV_PM_QUERY_SIG
, 
drm_‘Çviv_pm_sigÇl
)

	)

279 #ià
defšed
(
__ýlu¥lus
)

	@src/common/linuxkpi/include/uapi/drm/exynos_drm.h

16 #iâdeà
_UAPI_EXYNOS_DRM_H_


17 
	#_UAPI_EXYNOS_DRM_H_


	)

19 
	~"drm.h
"

21 #ià
defšed
(
__ýlu¥lus
)

34 
	sdrm_exynos_gem_ü—‹
 {

35 
__u64
 
size
;

36 
__u32
 
æags
;

37 
__u32
 
hªdË
;

47 
	sdrm_exynos_gem_m­
 {

48 
__u32
 
hªdË
;

49 
__u32
 
»£rved
;

50 
__u64
 
off£t
;

62 
	sdrm_exynos_gem_šfo
 {

63 
__u32
 
hªdË
;

64 
__u32
 
æags
;

65 
__u64
 
size
;

76 
	sdrm_exynos_vidi_cÚÃùiÚ
 {

77 
__u32
 
cÚÃùiÚ
;

78 
__u32
 
ex‹nsiÚs
;

79 
__u64
 
edid
;

83 
	ee_drm_exynos_gem_mem_ty³
 {

85 
EXYNOS_BO_CONTIG
 = 0 << 0,

87 
EXYNOS_BO_NONCONTIG
 = 1 << 0,

89 
EXYNOS_BO_NONCACHABLE
 = 0 << 1,

91 
EXYNOS_BO_CACHABLE
 = 1 << 1,

93 
EXYNOS_BO_WC
 = 1 << 2,

94 
EXYNOS_BO_MASK
 = 
EXYNOS_BO_NONCONTIG
 | 
EXYNOS_BO_CACHABLE
 |

95 
EXYNOS_BO_WC


98 
	sdrm_exynos_g2d_g‘_v”
 {

99 
__u32
 
majÜ
;

100 
__u32
 
mšÜ
;

103 
	sdrm_exynos_g2d_cmd
 {

104 
__u32
 
off£t
;

105 
__u32
 
d©a
;

108 
	edrm_exynos_g2d_buf_ty³
 {

109 
G2D_BUF_USERPTR
 = 1 << 31,

112 
	edrm_exynos_g2d_ev’t_ty³
 {

113 
G2D_EVENT_NOT
,

114 
G2D_EVENT_NONSTOP
,

115 
G2D_EVENT_STOP
,

118 
	sdrm_exynos_g2d_u£½Œ
 {

119 
u£½Œ
;

120 
size
;

123 
	sdrm_exynos_g2d_£t_cmdli¡
 {

124 
__u64
 
cmd
;

125 
__u64
 
cmd_buf
;

126 
__u32
 
cmd_Ä
;

127 
__u32
 
cmd_buf_Ä
;

130 
__u64
 
ev’t_ty³
;

131 
__u64
 
u£r_d©a
;

134 
	sdrm_exynos_g2d_exec
 {

135 
__u64
 
async
;

138 
	#DRM_EXYNOS_GEM_CREATE
 0x00

	)

139 
	#DRM_EXYNOS_GEM_MAP
 0x01

	)

141 
	#DRM_EXYNOS_GEM_GET
 0x04

	)

142 
	#DRM_EXYNOS_VIDI_CONNECTION
 0x07

	)

145 
	#DRM_EXYNOS_G2D_GET_VER
 0x20

	)

146 
	#DRM_EXYNOS_G2D_SET_CMDLIST
 0x21

	)

147 
	#DRM_EXYNOS_G2D_EXEC
 0x22

	)

151 
	#DRM_IOCTL_EXYNOS_GEM_CREATE
 
	`DRM_IOWR
(
DRM_COMMAND_BASE
 + \

152 
DRM_EXYNOS_GEM_CREATE
, 
drm_exynos_gem_ü—‹
)

	)

153 
	#DRM_IOCTL_EXYNOS_GEM_MAP
 
	`DRM_IOWR
(
DRM_COMMAND_BASE
 + \

154 
DRM_EXYNOS_GEM_MAP
, 
drm_exynos_gem_m­
)

	)

155 
	#DRM_IOCTL_EXYNOS_GEM_GET
 
	`DRM_IOWR
(
DRM_COMMAND_BASE
 + \

156 
DRM_EXYNOS_GEM_GET
, 
drm_exynos_gem_šfo
)

	)

158 
	#DRM_IOCTL_EXYNOS_VIDI_CONNECTION
 
	`DRM_IOWR
(
DRM_COMMAND_BASE
 + \

159 
DRM_EXYNOS_VIDI_CONNECTION
, 
drm_exynos_vidi_cÚÃùiÚ
)

	)

161 
	#DRM_IOCTL_EXYNOS_G2D_GET_VER
 
	`DRM_IOWR
(
DRM_COMMAND_BASE
 + \

162 
DRM_EXYNOS_G2D_GET_VER
, 
drm_exynos_g2d_g‘_v”
)

	)

163 
	#DRM_IOCTL_EXYNOS_G2D_SET_CMDLIST
 
	`DRM_IOWR
(
DRM_COMMAND_BASE
 + \

164 
DRM_EXYNOS_G2D_SET_CMDLIST
, 
drm_exynos_g2d_£t_cmdli¡
)

	)

165 
	#DRM_IOCTL_EXYNOS_G2D_EXEC
 
	`DRM_IOWR
(
DRM_COMMAND_BASE
 + \

166 
DRM_EXYNOS_G2D_EXEC
, 
drm_exynos_g2d_exec
)

	)

169 
	#DRM_EXYNOS_G2D_EVENT
 0x80000000

	)

171 
	sdrm_exynos_g2d_ev’t
 {

172 
drm_ev’t
 
ba£
;

173 
__u64
 
u£r_d©a
;

174 
__u32
 
tv_£c
;

175 
__u32
 
tv_u£c
;

176 
__u32
 
cmdli¡_no
;

177 
__u32
 
»£rved
;

180 #ià
defšed
(
__ýlu¥lus
)

	@src/common/linuxkpi/include/uapi/drm/i810_drm.h

2 #iâdeà
_I810_DRM_H_


3 
	#_I810_DRM_H_


	)

5 
	~"drm.h
"

7 #ià
defšed
(
__ýlu¥lus
)

15 #iâdeà
_I810_DEFINES_


16 
	#_I810_DEFINES_


	)

18 
	#I810_DMA_BUF_ORDER
 12

	)

19 
	#I810_DMA_BUF_SZ
 (1<<
I810_DMA_BUF_ORDER
)

	)

20 
	#I810_DMA_BUF_NR
 256

	)

21 
	#I810_NR_SAREA_CLIPRECTS
 8

	)

25 
	#I810_NR_TEX_REGIONS
 64

	)

26 
	#I810_LOG_MIN_TEX_REGION_SIZE
 16

	)

29 
	#I810_UPLOAD_TEX0IMAGE
 0x1

	)

30 
	#I810_UPLOAD_TEX1IMAGE
 0x2

	)

31 
	#I810_UPLOAD_CTX
 0x4

	)

32 
	#I810_UPLOAD_BUFFERS
 0x8

	)

33 
	#I810_UPLOAD_TEX0
 0x10

	)

34 
	#I810_UPLOAD_TEX1
 0x20

	)

35 
	#I810_UPLOAD_CLIPRECTS
 0x40

	)

50 
	#I810_DESTREG_DI0
 0

	)

51 
	#I810_DESTREG_DI1
 1

	)

52 
	#I810_DESTREG_DV0
 2

	)

53 
	#I810_DESTREG_DV1
 3

	)

54 
	#I810_DESTREG_DR0
 4

	)

55 
	#I810_DESTREG_DR1
 5

	)

56 
	#I810_DESTREG_DR2
 6

	)

57 
	#I810_DESTREG_DR3
 7

	)

58 
	#I810_DESTREG_DR4
 8

	)

59 
	#I810_DEST_SETUP_SIZE
 10

	)

63 
	#I810_CTXREG_CF0
 0

	)

64 
	#I810_CTXREG_CF1
 1

	)

65 
	#I810_CTXREG_ST0
 2

	)

66 
	#I810_CTXREG_ST1
 3

	)

67 
	#I810_CTXREG_VF
 4

	)

68 
	#I810_CTXREG_MT
 5

	)

69 
	#I810_CTXREG_MC0
 6

	)

70 
	#I810_CTXREG_MC1
 7

	)

71 
	#I810_CTXREG_MC2
 8

	)

72 
	#I810_CTXREG_MA0
 9

	)

73 
	#I810_CTXREG_MA1
 10

	)

74 
	#I810_CTXREG_MA2
 11

	)

75 
	#I810_CTXREG_SDM
 12

	)

76 
	#I810_CTXREG_FOG
 13

	)

77 
	#I810_CTXREG_B1
 14

	)

78 
	#I810_CTXREG_B2
 15

	)

79 
	#I810_CTXREG_LCS
 16

	)

80 
	#I810_CTXREG_PV
 17

	)

81 
	#I810_CTXREG_ZA
 18

	)

82 
	#I810_CTXREG_AA
 19

	)

83 
	#I810_CTX_SETUP_SIZE
 20

	)

87 
	#I810_TEXREG_MI0
 0

	)

88 
	#I810_TEXREG_MI1
 1

	)

89 
	#I810_TEXREG_MI2
 2

	)

90 
	#I810_TEXREG_MI3
 3

	)

91 
	#I810_TEXREG_MF
 4

	)

92 
	#I810_TEXREG_MLC
 5

	)

93 
	#I810_TEXREG_MLL
 6

	)

94 
	#I810_TEXREG_MCS
 7

	)

95 
	#I810_TEX_SETUP_SIZE
 8

	)

99 
	#I810_FRONT
 0x1

	)

100 
	#I810_BACK
 0x2

	)

101 
	#I810_DEPTH
 0x4

	)

103 
	e_drm_i810_š™_func
 {

104 
I810_INIT_DMA
 = 0x01,

105 
I810_CLEANUP_DMA
 = 0x02,

106 
I810_INIT_DMA_1_4
 = 0x03

107 } 
	tdrm_i810_š™_func_t
;

110 
	s_drm_i810_š™
 {

111 
drm_i810_š™_func_t
 
func
;

112 
mmio_off£t
;

113 
bufãrs_off£t
;

114 
§»a_´iv_off£t
;

115 
ršg_¡¬t
;

116 
ršg_’d
;

117 
ršg_size
;

118 
äÚt_off£t
;

119 
back_off£t
;

120 
d•th_off£t
;

121 
ov”Ïy_off£t
;

122 
ov”Ïy_physiÿl
;

123 
w
;

124 
h
;

125 
p™ch
;

126 
p™ch_b™s
;

127 } 
	tdrm_i810_š™_t
;

130 
	s_drm_i810_´e12_š™
 {

131 
drm_i810_š™_func_t
 
func
;

132 
mmio_off£t
;

133 
bufãrs_off£t
;

134 
§»a_´iv_off£t
;

135 
ršg_¡¬t
;

136 
ršg_’d
;

137 
ršg_size
;

138 
äÚt_off£t
;

139 
back_off£t
;

140 
d•th_off£t
;

141 
w
;

142 
h
;

143 
p™ch
;

144 
p™ch_b™s
;

145 } 
	tdrm_i810_´e12_š™_t
;

150 
	s_drm_i810_‹x_»giÚ
 {

151 
Ãxt
, 
´ev
;

152 
š_u£
;

153 
age
;

154 } 
	tdrm_i810_‹x_»giÚ_t
;

156 
	s_drm_i810_§»a
 {

157 
CÚ‹xtS‹
[
I810_CTX_SETUP_SIZE
];

158 
BufãrS‹
[
I810_DEST_SETUP_SIZE
];

159 
TexS‹
[2][
I810_TEX_SETUP_SIZE
];

160 
dœty
;

162 
nbox
;

163 
drm_þ_»ù
 
boxes
[
I810_NR_SAREA_CLIPRECTS
];

181 
drm_i810_‹x_»giÚ_t
 
‹xLi¡
[
I810_NR_TEX_REGIONS
 + 1];

183 
‹xAge
;

184 
Ï¡_’queue
;

185 
Ï¡_di¥©ch
;

186 
Ï¡_qu›sûÁ
;

187 
ùxOwÃr
;

189 
v”‹x_´im
;

191 
pf_’abËd
;

192 
pf_aùive
;

193 
pf_cu¼’t_·ge
;

194 } 
	tdrm_i810_§»a_t
;

203 
	#DRM_I810_INIT
 0x00

	)

204 
	#DRM_I810_VERTEX
 0x01

	)

205 
	#DRM_I810_CLEAR
 0x02

	)

206 
	#DRM_I810_FLUSH
 0x03

	)

207 
	#DRM_I810_GETAGE
 0x04

	)

208 
	#DRM_I810_GETBUF
 0x05

	)

209 
	#DRM_I810_SWAP
 0x06

	)

210 
	#DRM_I810_COPY
 0x07

	)

211 
	#DRM_I810_DOCOPY
 0x08

	)

212 
	#DRM_I810_OV0INFO
 0x09

	)

213 
	#DRM_I810_FSTATUS
 0x0a

	)

214 
	#DRM_I810_OV0FLIP
 0x0b

	)

215 
	#DRM_I810_MC
 0x0c

	)

216 
	#DRM_I810_RSTATUS
 0x0d

	)

217 
	#DRM_I810_FLIP
 0x0e

	)

219 
	#DRM_IOCTL_I810_INIT
 
	`DRM_IOW
Ð
DRM_COMMAND_BASE
 + 
DRM_I810_INIT
, 
drm_i810_š™_t
)

	)

220 
	#DRM_IOCTL_I810_VERTEX
 
	`DRM_IOW
Ð
DRM_COMMAND_BASE
 + 
DRM_I810_VERTEX
, 
drm_i810_v”‹x_t
)

	)

221 
	#DRM_IOCTL_I810_CLEAR
 
	`DRM_IOW
Ð
DRM_COMMAND_BASE
 + 
DRM_I810_CLEAR
, 
drm_i810_þ—r_t
)

	)

222 
	#DRM_IOCTL_I810_FLUSH
 
	`DRM_IO
Ð
DRM_COMMAND_BASE
 + 
DRM_I810_FLUSH
)

	)

223 
	#DRM_IOCTL_I810_GETAGE
 
	`DRM_IO
Ð
DRM_COMMAND_BASE
 + 
DRM_I810_GETAGE
)

	)

224 
	#DRM_IOCTL_I810_GETBUF
 
	`DRM_IOWR
(
DRM_COMMAND_BASE
 + 
DRM_I810_GETBUF
, 
drm_i810_dma_t
)

	)

225 
	#DRM_IOCTL_I810_SWAP
 
	`DRM_IO
Ð
DRM_COMMAND_BASE
 + 
DRM_I810_SWAP
)

	)

226 
	#DRM_IOCTL_I810_COPY
 
	`DRM_IOW
Ð
DRM_COMMAND_BASE
 + 
DRM_I810_COPY
, 
drm_i810_cÝy_t
)

	)

227 
	#DRM_IOCTL_I810_DOCOPY
 
	`DRM_IO
Ð
DRM_COMMAND_BASE
 + 
DRM_I810_DOCOPY
)

	)

228 
	#DRM_IOCTL_I810_OV0INFO
 
	`DRM_IOR
Ð
DRM_COMMAND_BASE
 + 
DRM_I810_OV0INFO
, 
drm_i810_ov”Ïy_t
)

	)

229 
	#DRM_IOCTL_I810_FSTATUS
 
	`DRM_IO
 ( 
DRM_COMMAND_BASE
 + 
DRM_I810_FSTATUS
)

	)

230 
	#DRM_IOCTL_I810_OV0FLIP
 
	`DRM_IO
 ( 
DRM_COMMAND_BASE
 + 
DRM_I810_OV0FLIP
)

	)

231 
	#DRM_IOCTL_I810_MC
 
	`DRM_IOW
Ð
DRM_COMMAND_BASE
 + 
DRM_I810_MC
, 
drm_i810_mc_t
)

	)

232 
	#DRM_IOCTL_I810_RSTATUS
 
	`DRM_IO
 ( 
DRM_COMMAND_BASE
 + 
DRM_I810_RSTATUS
)

	)

233 
	#DRM_IOCTL_I810_FLIP
 
	`DRM_IO
 ( 
DRM_COMMAND_BASE
 + 
DRM_I810_FLIP
)

	)

235 
	s_drm_i810_þ—r
 {

236 
þ—r_cÞÜ
;

237 
þ—r_d•th
;

238 
æags
;

239 } 
	tdrm_i810_þ—r_t
;

246 
	s_drm_i810_v”‹x
 {

247 
idx
;

248 
u£d
;

249 
disÿrd
;

250 } 
	tdrm_i810_v”‹x_t
;

252 
	s_drm_i810_cÝy_t
 {

253 
idx
;

254 
u£d
;

255 *
add»ss
;

256 } 
	tdrm_i810_cÝy_t
;

258 
	#PR_TRIANGLES
 (0x0<<18)

	)

259 
	#PR_TRISTRIP_0
 (0x1<<18)

	)

260 
	#PR_TRISTRIP_1
 (0x2<<18)

	)

261 
	#PR_TRIFAN
 (0x3<<18)

	)

262 
	#PR_POLYGON
 (0x4<<18)

	)

263 
	#PR_LINES
 (0x5<<18)

	)

264 
	#PR_LINESTRIP
 (0x6<<18)

	)

265 
	#PR_RECTS
 (0x7<<18)

	)

266 
	#PR_MASK
 (0x7<<18)

	)

268 
	sdrm_i810_dma
 {

269 *
vœtu®
;

270 
»que¡_idx
;

271 
»que¡_size
;

272 
g¿Áed
;

273 } 
	tdrm_i810_dma_t
;

275 
	s_drm_i810_ov”Ïy_t
 {

276 
off£t
;

277 
physiÿl
;

278 } 
	tdrm_i810_ov”Ïy_t
;

280 
	s_drm_i810_mc
 {

281 
idx
;

282 
u£d
;

283 
num_blocks
;

284 *
Ëngth
;

285 
Ï¡_»nd”
;

286 } 
	tdrm_i810_mc_t
;

288 #ià
defšed
(
__ýlu¥lus
)

	@src/common/linuxkpi/include/uapi/drm/i915_drm.h

27 #iâdeà
_UAPI_I915_DRM_H_


28 
	#_UAPI_I915_DRM_H_


	)

30 
	~"drm.h
"

32 #ià
defšed
(
__ýlu¥lus
)

61 
	#I915_L3_PARITY_UEVENT
 "L3_PARITY_ERROR"

	)

62 
	#I915_ERROR_UEVENT
 "ERROR"

	)

63 
	#I915_RESET_UEVENT
 "RESET"

	)

69 
	ei915_mocs_bË_šdex
 {

74 
I915_MOCS_UNCACHED
,

80 
I915_MOCS_PTE
,

86 
I915_MOCS_CACHED
,

96 
	edrm_i915_gem_’gše_þass
 {

97 
I915_ENGINE_CLASS_RENDER
 = 0,

98 
I915_ENGINE_CLASS_COPY
 = 1,

99 
I915_ENGINE_CLASS_VIDEO
 = 2,

100 
I915_ENGINE_CLASS_VIDEO_ENHANCE
 = 3,

102 
I915_ENGINE_CLASS_INVALID
 = -1

110 
	edrm_i915_pmu_’gše_§m¶e
 {

111 
I915_SAMPLE_BUSY
 = 0,

112 
I915_SAMPLE_WAIT
 = 1,

113 
I915_SAMPLE_SEMA
 = 2

116 
	#I915_PMU_SAMPLE_BITS
 (4)

	)

117 
	#I915_PMU_SAMPLE_MASK
 (0xf)

	)

118 
	#I915_PMU_SAMPLE_INSTANCE_BITS
 (8)

	)

119 
	#I915_PMU_CLASS_SHIFT
 \

120 (
I915_PMU_SAMPLE_BITS
 + 
I915_PMU_SAMPLE_INSTANCE_BITS
)

	)

122 
	#__I915_PMU_ENGINE
(
þass
, 
š¡ªû
, 
§m¶e
) \

123 ((
þass
è<< 
I915_PMU_CLASS_SHIFT
 | \

124 (
š¡ªû
è<< 
I915_PMU_SAMPLE_BITS
 | \

125 (
§m¶e
))

	)

127 
	#I915_PMU_ENGINE_BUSY
(
þass
, 
š¡ªû
) \

128 
	`__I915_PMU_ENGINE
(
þass
, 
š¡ªû
, 
I915_SAMPLE_BUSY
)

	)

130 
	#I915_PMU_ENGINE_WAIT
(
þass
, 
š¡ªû
) \

131 
	`__I915_PMU_ENGINE
(
þass
, 
š¡ªû
, 
I915_SAMPLE_WAIT
)

	)

133 
	#I915_PMU_ENGINE_SEMA
(
þass
, 
š¡ªû
) \

134 
	`__I915_PMU_ENGINE
(
þass
, 
š¡ªû
, 
I915_SAMPLE_SEMA
)

	)

136 
	#__I915_PMU_OTHER
(
x
è(
	`__I915_PMU_ENGINE
(0xff, 0xff, 0xfè+ 1 + (x))

	)

138 
	#I915_PMU_ACTUAL_FREQUENCY
 
	`__I915_PMU_OTHER
(0)

	)

139 
	#I915_PMU_REQUESTED_FREQUENCY
 
	`__I915_PMU_OTHER
(1)

	)

140 
	#I915_PMU_INTERRUPTS
 
	`__I915_PMU_OTHER
(2)

	)

141 
	#I915_PMU_RC6_RESIDENCY
 
	`__I915_PMU_OTHER
(3)

	)

143 
	#I915_PMU_LAST
 
I915_PMU_RC6_RESIDENCY


	)

147 
	#I915_NR_TEX_REGIONS
 255

	)

149 
	#I915_LOG_MIN_TEX_REGION_SIZE
 14

	)

151 
	s_drm_i915_š™
 {

153 
I915_INIT_DMA
 = 0x01,

154 
I915_CLEANUP_DMA
 = 0x02,

155 
I915_RESUME_DMA
 = 0x03

156 } 
func
;

157 
mmio_off£t
;

158 
§»a_´iv_off£t
;

159 
ršg_¡¬t
;

160 
ršg_’d
;

161 
ršg_size
;

162 
äÚt_off£t
;

163 
back_off£t
;

164 
d•th_off£t
;

165 
w
;

166 
h
;

167 
p™ch
;

168 
p™ch_b™s
;

169 
back_p™ch
;

170 
d•th_p™ch
;

171 
ýp
;

172 
ch£t
;

173 } 
	tdrm_i915_š™_t
;

175 
	s_drm_i915_§»a
 {

176 
drm_‹x_»giÚ
 
‹xLi¡
[
I915_NR_TEX_REGIONS
 + 1];

177 
Ï¡_u¶ßd
;

178 
Ï¡_’queue
;

179 
Ï¡_di¥©ch
;

180 
ùxOwÃr
;

181 
‹xAge
;

182 
pf_’abËd
;

183 
pf_aùive
;

184 
pf_cu¼’t_·ge
;

185 
³rf_boxes
;

186 
width
, 
height
;

188 
drm_hªdË_t
 
äÚt_hªdË
;

189 
äÚt_off£t
;

190 
äÚt_size
;

192 
drm_hªdË_t
 
back_hªdË
;

193 
back_off£t
;

194 
back_size
;

196 
drm_hªdË_t
 
d•th_hªdË
;

197 
d•th_off£t
;

198 
d•th_size
;

200 
drm_hªdË_t
 
‹x_hªdË
;

201 
‹x_off£t
;

202 
‹x_size
;

203 
log_‹x_g¿nuÏr™y
;

204 
p™ch
;

205 
rÙ©iÚ
;

206 
rÙ©ed_off£t
;

207 
rÙ©ed_size
;

208 
rÙ©ed_p™ch
;

209 
vœtu®X
, 
vœtu®Y
;

211 
äÚt_tžed
;

212 
back_tžed
;

213 
d•th_tžed
;

214 
rÙ©ed_tžed
;

215 
rÙ©ed2_tžed
;

217 
peA_x
;

218 
peA_y
;

219 
peA_w
;

220 
peA_h
;

221 
peB_x
;

222 
peB_y
;

223 
peB_w
;

224 
peB_h
;

227 
drm_hªdË_t
 
unu£d_hªdË
;

228 
__u32
 
unu£d1
, 
unu£d2
, 
unu£d3
;

233 
__u32
 
äÚt_bo_hªdË
;

234 
__u32
 
back_bo_hªdË
;

235 
__u32
 
unu£d_bo_hªdË
;

236 
__u32
 
d•th_bo_hªdË
;

238 } 
	tdrm_i915_§»a_t
;

241 
	#¶ªeA_x
 
peA_x


	)

242 
	#¶ªeA_y
 
peA_y


	)

243 
	#¶ªeA_w
 
peA_w


	)

244 
	#¶ªeA_h
 
peA_h


	)

245 
	#¶ªeB_x
 
peB_x


	)

246 
	#¶ªeB_y
 
peB_y


	)

247 
	#¶ªeB_w
 
peB_w


	)

248 
	#¶ªeB_h
 
peB_h


	)

252 
	#I915_BOX_RING_EMPTY
 0x1

	)

253 
	#I915_BOX_FLIP
 0x2

	)

254 
	#I915_BOX_WAIT
 0x4

	)

255 
	#I915_BOX_TEXTURE_LOAD
 0x8

	)

256 
	#I915_BOX_LOST_CONTEXT
 0x10

	)

265 
	#DRM_I915_INIT
 0x00

	)

266 
	#DRM_I915_FLUSH
 0x01

	)

267 
	#DRM_I915_FLIP
 0x02

	)

268 
	#DRM_I915_BATCHBUFFER
 0x03

	)

269 
	#DRM_I915_IRQ_EMIT
 0x04

	)

270 
	#DRM_I915_IRQ_WAIT
 0x05

	)

271 
	#DRM_I915_GETPARAM
 0x06

	)

272 
	#DRM_I915_SETPARAM
 0x07

	)

273 
	#DRM_I915_ALLOC
 0x08

	)

274 
	#DRM_I915_FREE
 0x09

	)

275 
	#DRM_I915_INIT_HEAP
 0x0a

	)

276 
	#DRM_I915_CMDBUFFER
 0x0b

	)

277 
	#DRM_I915_DESTROY_HEAP
 0x0c

	)

278 
	#DRM_I915_SET_VBLANK_PIPE
 0x0d

	)

279 
	#DRM_I915_GET_VBLANK_PIPE
 0x0e

	)

280 
	#DRM_I915_VBLANK_SWAP
 0x0f

	)

281 
	#DRM_I915_HWS_ADDR
 0x11

	)

282 
	#DRM_I915_GEM_INIT
 0x13

	)

283 
	#DRM_I915_GEM_EXECBUFFER
 0x14

	)

284 
	#DRM_I915_GEM_PIN
 0x15

	)

285 
	#DRM_I915_GEM_UNPIN
 0x16

	)

286 
	#DRM_I915_GEM_BUSY
 0x17

	)

287 
	#DRM_I915_GEM_THROTTLE
 0x18

	)

288 
	#DRM_I915_GEM_ENTERVT
 0x19

	)

289 
	#DRM_I915_GEM_LEAVEVT
 0x1a

	)

290 
	#DRM_I915_GEM_CREATE
 0x1b

	)

291 
	#DRM_I915_GEM_PREAD
 0x1c

	)

292 
	#DRM_I915_GEM_PWRITE
 0x1d

	)

293 
	#DRM_I915_GEM_MMAP
 0x1e

	)

294 
	#DRM_I915_GEM_SET_DOMAIN
 0x1f

	)

295 
	#DRM_I915_GEM_SW_FINISH
 0x20

	)

296 
	#DRM_I915_GEM_SET_TILING
 0x21

	)

297 
	#DRM_I915_GEM_GET_TILING
 0x22

	)

298 
	#DRM_I915_GEM_GET_APERTURE
 0x23

	)

299 
	#DRM_I915_GEM_MMAP_GTT
 0x24

	)

300 
	#DRM_I915_GET_PIPE_FROM_CRTC_ID
 0x25

	)

301 
	#DRM_I915_GEM_MADVISE
 0x26

	)

302 
	#DRM_I915_OVERLAY_PUT_IMAGE
 0x27

	)

303 
	#DRM_I915_OVERLAY_ATTRS
 0x28

	)

304 
	#DRM_I915_GEM_EXECBUFFER2
 0x29

	)

305 
	#DRM_I915_GEM_EXECBUFFER2_WR
 
DRM_I915_GEM_EXECBUFFER2


	)

306 
	#DRM_I915_GET_SPRITE_COLORKEY
 0x2a

	)

307 
	#DRM_I915_SET_SPRITE_COLORKEY
 0x2b

	)

308 
	#DRM_I915_GEM_WAIT
 0x2c

	)

309 
	#DRM_I915_GEM_CONTEXT_CREATE
 0x2d

	)

310 
	#DRM_I915_GEM_CONTEXT_DESTROY
 0x2e

	)

311 
	#DRM_I915_GEM_SET_CACHING
 0x2f

	)

312 
	#DRM_I915_GEM_GET_CACHING
 0x30

	)

313 
	#DRM_I915_REG_READ
 0x31

	)

314 
	#DRM_I915_GET_RESET_STATS
 0x32

	)

315 
	#DRM_I915_GEM_USERPTR
 0x33

	)

316 
	#DRM_I915_GEM_CONTEXT_GETPARAM
 0x34

	)

317 
	#DRM_I915_GEM_CONTEXT_SETPARAM
 0x35

	)

318 
	#DRM_I915_PERF_OPEN
 0x36

	)

319 
	#DRM_I915_PERF_ADD_CONFIG
 0x37

	)

320 
	#DRM_I915_PERF_REMOVE_CONFIG
 0x38

	)

322 
	#DRM_IOCTL_I915_INIT
 
	`DRM_IOW
Ð
DRM_COMMAND_BASE
 + 
DRM_I915_INIT
, 
drm_i915_š™_t
)

	)

323 
	#DRM_IOCTL_I915_FLUSH
 
	`DRM_IO
 ( 
DRM_COMMAND_BASE
 + 
DRM_I915_FLUSH
)

	)

324 
	#DRM_IOCTL_I915_FLIP
 
	`DRM_IO
 ( 
DRM_COMMAND_BASE
 + 
DRM_I915_FLIP
)

	)

325 
	#DRM_IOCTL_I915_BATCHBUFFER
 
	`DRM_IOW
Ð
DRM_COMMAND_BASE
 + 
DRM_I915_BATCHBUFFER
, 
drm_i915_b©chbufãr_t
)

	)

326 
	#DRM_IOCTL_I915_IRQ_EMIT
 
	`DRM_IOWR
(
DRM_COMMAND_BASE
 + 
DRM_I915_IRQ_EMIT
, 
drm_i915_œq_em™_t
)

	)

327 
	#DRM_IOCTL_I915_IRQ_WAIT
 
	`DRM_IOW
Ð
DRM_COMMAND_BASE
 + 
DRM_I915_IRQ_WAIT
, 
drm_i915_œq_wa™_t
)

	)

328 
	#DRM_IOCTL_I915_GETPARAM
 
	`DRM_IOWR
(
DRM_COMMAND_BASE
 + 
DRM_I915_GETPARAM
, 
drm_i915_g‘·¿m_t
)

	)

329 
	#DRM_IOCTL_I915_SETPARAM
 
	`DRM_IOW
Ð
DRM_COMMAND_BASE
 + 
DRM_I915_SETPARAM
, 
drm_i915_£¬am_t
)

	)

330 
	#DRM_IOCTL_I915_ALLOC
 
	`DRM_IOWR
(
DRM_COMMAND_BASE
 + 
DRM_I915_ALLOC
, 
drm_i915_mem_®loc_t
)

	)

331 
	#DRM_IOCTL_I915_FREE
 
	`DRM_IOW
Ð
DRM_COMMAND_BASE
 + 
DRM_I915_FREE
, 
drm_i915_mem_ä“_t
)

	)

332 
	#DRM_IOCTL_I915_INIT_HEAP
 
	`DRM_IOW
Ð
DRM_COMMAND_BASE
 + 
DRM_I915_INIT_HEAP
, 
drm_i915_mem_š™_h—p_t
)

	)

333 
	#DRM_IOCTL_I915_CMDBUFFER
 
	`DRM_IOW
Ð
DRM_COMMAND_BASE
 + 
DRM_I915_CMDBUFFER
, 
drm_i915_cmdbufãr_t
)

	)

334 
	#DRM_IOCTL_I915_DESTROY_HEAP
 
	`DRM_IOW
Ð
DRM_COMMAND_BASE
 + 
DRM_I915_DESTROY_HEAP
, 
drm_i915_mem_de¡roy_h—p_t
)

	)

335 
	#DRM_IOCTL_I915_SET_VBLANK_PIPE
 
	`DRM_IOW
Ð
DRM_COMMAND_BASE
 + 
DRM_I915_SET_VBLANK_PIPE
, 
drm_i915_vbÏnk_pe_t
)

	)

336 
	#DRM_IOCTL_I915_GET_VBLANK_PIPE
 
	`DRM_IOR
Ð
DRM_COMMAND_BASE
 + 
DRM_I915_GET_VBLANK_PIPE
, 
drm_i915_vbÏnk_pe_t
)

	)

337 
	#DRM_IOCTL_I915_VBLANK_SWAP
 
	`DRM_IOWR
(
DRM_COMMAND_BASE
 + 
DRM_I915_VBLANK_SWAP
, 
drm_i915_vbÏnk_sw­_t
)

	)

338 
	#DRM_IOCTL_I915_HWS_ADDR
 
	`DRM_IOW
(
DRM_COMMAND_BASE
 + 
DRM_I915_HWS_ADDR
, 
drm_i915_gem_š™
)

	)

339 
	#DRM_IOCTL_I915_GEM_INIT
 
	`DRM_IOW
(
DRM_COMMAND_BASE
 + 
DRM_I915_GEM_INIT
, 
drm_i915_gem_š™
)

	)

340 
	#DRM_IOCTL_I915_GEM_EXECBUFFER
 
	`DRM_IOW
(
DRM_COMMAND_BASE
 + 
DRM_I915_GEM_EXECBUFFER
, 
drm_i915_gem_execbufãr
)

	)

341 
	#DRM_IOCTL_I915_GEM_EXECBUFFER2
 
	`DRM_IOW
(
DRM_COMMAND_BASE
 + 
DRM_I915_GEM_EXECBUFFER2
, 
drm_i915_gem_execbufãr2
)

	)

342 
	#DRM_IOCTL_I915_GEM_EXECBUFFER2_WR
 
	`DRM_IOWR
(
DRM_COMMAND_BASE
 + 
DRM_I915_GEM_EXECBUFFER2_WR
, 
drm_i915_gem_execbufãr2
)

	)

343 
	#DRM_IOCTL_I915_GEM_PIN
 
	`DRM_IOWR
(
DRM_COMMAND_BASE
 + 
DRM_I915_GEM_PIN
, 
drm_i915_gem_pš
)

	)

344 
	#DRM_IOCTL_I915_GEM_UNPIN
 
	`DRM_IOW
(
DRM_COMMAND_BASE
 + 
DRM_I915_GEM_UNPIN
, 
drm_i915_gem_uÅš
)

	)

345 
	#DRM_IOCTL_I915_GEM_BUSY
 
	`DRM_IOWR
(
DRM_COMMAND_BASE
 + 
DRM_I915_GEM_BUSY
, 
drm_i915_gem_busy
)

	)

346 
	#DRM_IOCTL_I915_GEM_SET_CACHING
 
	`DRM_IOW
(
DRM_COMMAND_BASE
 + 
DRM_I915_GEM_SET_CACHING
, 
drm_i915_gem_ÿchšg
)

	)

347 
	#DRM_IOCTL_I915_GEM_GET_CACHING
 
	`DRM_IOWR
(
DRM_COMMAND_BASE
 + 
DRM_I915_GEM_GET_CACHING
, 
drm_i915_gem_ÿchšg
)

	)

348 
	#DRM_IOCTL_I915_GEM_THROTTLE
 
	`DRM_IO
 ( 
DRM_COMMAND_BASE
 + 
DRM_I915_GEM_THROTTLE
)

	)

349 
	#DRM_IOCTL_I915_GEM_ENTERVT
 
	`DRM_IO
(
DRM_COMMAND_BASE
 + 
DRM_I915_GEM_ENTERVT
)

	)

350 
	#DRM_IOCTL_I915_GEM_LEAVEVT
 
	`DRM_IO
(
DRM_COMMAND_BASE
 + 
DRM_I915_GEM_LEAVEVT
)

	)

351 
	#DRM_IOCTL_I915_GEM_CREATE
 
	`DRM_IOWR
(
DRM_COMMAND_BASE
 + 
DRM_I915_GEM_CREATE
, 
drm_i915_gem_ü—‹
)

	)

352 
	#DRM_IOCTL_I915_GEM_PREAD
 
	`DRM_IOW
 (
DRM_COMMAND_BASE
 + 
DRM_I915_GEM_PREAD
, 
drm_i915_gem_´—d
)

	)

353 
	#DRM_IOCTL_I915_GEM_PWRITE
 
	`DRM_IOW
 (
DRM_COMMAND_BASE
 + 
DRM_I915_GEM_PWRITE
, 
drm_i915_gem_pwr™e
)

	)

354 
	#DRM_IOCTL_I915_GEM_MMAP
 
	`DRM_IOWR
(
DRM_COMMAND_BASE
 + 
DRM_I915_GEM_MMAP
, 
drm_i915_gem_mm­
)

	)

355 
	#DRM_IOCTL_I915_GEM_MMAP_GTT
 
	`DRM_IOWR
(
DRM_COMMAND_BASE
 + 
DRM_I915_GEM_MMAP_GTT
, 
drm_i915_gem_mm­_g‰
)

	)

356 
	#DRM_IOCTL_I915_GEM_SET_DOMAIN
 
	`DRM_IOW
 (
DRM_COMMAND_BASE
 + 
DRM_I915_GEM_SET_DOMAIN
, 
drm_i915_gem_£t_domaš
)

	)

357 
	#DRM_IOCTL_I915_GEM_SW_FINISH
 
	`DRM_IOW
 (
DRM_COMMAND_BASE
 + 
DRM_I915_GEM_SW_FINISH
, 
drm_i915_gem_sw_fšish
)

	)

358 
	#DRM_IOCTL_I915_GEM_SET_TILING
 
	`DRM_IOWR
 (
DRM_COMMAND_BASE
 + 
DRM_I915_GEM_SET_TILING
, 
drm_i915_gem_£t_tžšg
)

	)

359 
	#DRM_IOCTL_I915_GEM_GET_TILING
 
	`DRM_IOWR
 (
DRM_COMMAND_BASE
 + 
DRM_I915_GEM_GET_TILING
, 
drm_i915_gem_g‘_tžšg
)

	)

360 
	#DRM_IOCTL_I915_GEM_GET_APERTURE
 
	`DRM_IOR
 (
DRM_COMMAND_BASE
 + 
DRM_I915_GEM_GET_APERTURE
, 
drm_i915_gem_g‘_­”tu»
)

	)

361 
	#DRM_IOCTL_I915_GET_PIPE_FROM_CRTC_ID
 
	`DRM_IOWR
(
DRM_COMMAND_BASE
 + 
DRM_I915_GET_PIPE_FROM_CRTC_ID
, 
drm_i915_g‘_pe_äom_ütc_id
)

	)

362 
	#DRM_IOCTL_I915_GEM_MADVISE
 
	`DRM_IOWR
(
DRM_COMMAND_BASE
 + 
DRM_I915_GEM_MADVISE
, 
drm_i915_gem_madvi£
)

	)

363 
	#DRM_IOCTL_I915_OVERLAY_PUT_IMAGE
 
	`DRM_IOW
(
DRM_COMMAND_BASE
 + 
DRM_I915_OVERLAY_PUT_IMAGE
, 
drm_š‹l_ov”Ïy_put_image
)

	)

364 
	#DRM_IOCTL_I915_OVERLAY_ATTRS
 
	`DRM_IOWR
(
DRM_COMMAND_BASE
 + 
DRM_I915_OVERLAY_ATTRS
, 
drm_š‹l_ov”Ïy_©Œs
)

	)

365 
	#DRM_IOCTL_I915_SET_SPRITE_COLORKEY
 
	`DRM_IOWR
(
DRM_COMMAND_BASE
 + 
DRM_I915_SET_SPRITE_COLORKEY
, 
drm_š‹l_¥r™e_cÞÜkey
)

	)

366 
	#DRM_IOCTL_I915_GET_SPRITE_COLORKEY
 
	`DRM_IOWR
(
DRM_COMMAND_BASE
 + 
DRM_I915_GET_SPRITE_COLORKEY
, 
drm_š‹l_¥r™e_cÞÜkey
)

	)

367 
	#DRM_IOCTL_I915_GEM_WAIT
 
	`DRM_IOWR
(
DRM_COMMAND_BASE
 + 
DRM_I915_GEM_WAIT
, 
drm_i915_gem_wa™
)

	)

368 
	#DRM_IOCTL_I915_GEM_CONTEXT_CREATE
 
	`DRM_IOWR
 (
DRM_COMMAND_BASE
 + 
DRM_I915_GEM_CONTEXT_CREATE
, 
drm_i915_gem_cÚ‹xt_ü—‹
)

	)

369 
	#DRM_IOCTL_I915_GEM_CONTEXT_DESTROY
 
	`DRM_IOW
 (
DRM_COMMAND_BASE
 + 
DRM_I915_GEM_CONTEXT_DESTROY
, 
drm_i915_gem_cÚ‹xt_de¡roy
)

	)

370 
	#DRM_IOCTL_I915_REG_READ
 
	`DRM_IOWR
 (
DRM_COMMAND_BASE
 + 
DRM_I915_REG_READ
, 
drm_i915_»g_»ad
)

	)

371 
	#DRM_IOCTL_I915_GET_RESET_STATS
 
	`DRM_IOWR
 (
DRM_COMMAND_BASE
 + 
DRM_I915_GET_RESET_STATS
, 
drm_i915_»£t_¡©s
)

	)

372 
	#DRM_IOCTL_I915_GEM_USERPTR
 
	`DRM_IOWR
 (
DRM_COMMAND_BASE
 + 
DRM_I915_GEM_USERPTR
, 
drm_i915_gem_u£½Œ
)

	)

373 
	#DRM_IOCTL_I915_GEM_CONTEXT_GETPARAM
 
	`DRM_IOWR
 (
DRM_COMMAND_BASE
 + 
DRM_I915_GEM_CONTEXT_GETPARAM
, 
drm_i915_gem_cÚ‹xt_·¿m
)

	)

374 
	#DRM_IOCTL_I915_GEM_CONTEXT_SETPARAM
 
	`DRM_IOWR
 (
DRM_COMMAND_BASE
 + 
DRM_I915_GEM_CONTEXT_SETPARAM
, 
drm_i915_gem_cÚ‹xt_·¿m
)

	)

375 
	#DRM_IOCTL_I915_PERF_OPEN
 
	`DRM_IOW
(
DRM_COMMAND_BASE
 + 
DRM_I915_PERF_OPEN
, 
drm_i915_³rf_Ý’_·¿m
)

	)

376 
	#DRM_IOCTL_I915_PERF_ADD_CONFIG
 
	`DRM_IOW
(
DRM_COMMAND_BASE
 + 
DRM_I915_PERF_ADD_CONFIG
, 
drm_i915_³rf_ß_cÚfig
)

	)

377 
	#DRM_IOCTL_I915_PERF_REMOVE_CONFIG
 
	`DRM_IOW
(
DRM_COMMAND_BASE
 + 
DRM_I915_PERF_REMOVE_CONFIG
, 
__u64
)

	)

382 
	sdrm_i915_b©chbufãr
 {

383 
¡¬t
;

384 
u£d
;

385 
DR1
;

386 
DR4
;

387 
num_þ»ùs
;

388 
drm_þ_»ù
 
__u£r
 *
þ»ùs
;

389 } 
	tdrm_i915_b©chbufãr_t
;

394 
	s_drm_i915_cmdbufãr
 {

395 
__u£r
 *
buf
;

396 
sz
;

397 
DR1
;

398 
DR4
;

399 
num_þ»ùs
;

400 
drm_þ_»ù
 
__u£r
 *
þ»ùs
;

401 } 
	tdrm_i915_cmdbufãr_t
;

405 
	sdrm_i915_œq_em™
 {

406 
__u£r
 *
œq_£q
;

407 } 
	tdrm_i915_œq_em™_t
;

409 
	sdrm_i915_œq_wa™
 {

410 
œq_£q
;

411 } 
	tdrm_i915_œq_wa™_t
;

415 
	#I915_PARAM_IRQ_ACTIVE
 1

	)

416 
	#I915_PARAM_ALLOW_BATCHBUFFER
 2

	)

417 
	#I915_PARAM_LAST_DISPATCH
 3

	)

418 
	#I915_PARAM_CHIPSET_ID
 4

	)

419 
	#I915_PARAM_HAS_GEM
 5

	)

420 
	#I915_PARAM_NUM_FENCES_AVAIL
 6

	)

421 
	#I915_PARAM_HAS_OVERLAY
 7

	)

422 
	#I915_PARAM_HAS_PAGEFLIPPING
 8

	)

423 
	#I915_PARAM_HAS_EXECBUF2
 9

	)

424 
	#I915_PARAM_HAS_BSD
 10

	)

425 
	#I915_PARAM_HAS_BLT
 11

	)

426 
	#I915_PARAM_HAS_RELAXED_FENCING
 12

	)

427 
	#I915_PARAM_HAS_COHERENT_RINGS
 13

	)

428 
	#I915_PARAM_HAS_EXEC_CONSTANTS
 14

	)

429 
	#I915_PARAM_HAS_RELAXED_DELTA
 15

	)

430 
	#I915_PARAM_HAS_GEN7_SOL_RESET
 16

	)

431 
	#I915_PARAM_HAS_LLC
 17

	)

432 
	#I915_PARAM_HAS_ALIASING_PPGTT
 18

	)

433 
	#I915_PARAM_HAS_WAIT_TIMEOUT
 19

	)

434 
	#I915_PARAM_HAS_SEMAPHORES
 20

	)

435 
	#I915_PARAM_HAS_PRIME_VMAP_FLUSH
 21

	)

436 
	#I915_PARAM_HAS_VEBOX
 22

	)

437 
	#I915_PARAM_HAS_SECURE_BATCHES
 23

	)

438 
	#I915_PARAM_HAS_PINNED_BATCHES
 24

	)

439 
	#I915_PARAM_HAS_EXEC_NO_RELOC
 25

	)

440 
	#I915_PARAM_HAS_EXEC_HANDLE_LUT
 26

	)

441 
	#I915_PARAM_HAS_WT
 27

	)

442 
	#I915_PARAM_CMD_PARSER_VERSION
 28

	)

443 
	#I915_PARAM_HAS_COHERENT_PHYS_GTT
 29

	)

444 
	#I915_PARAM_MMAP_VERSION
 30

	)

445 
	#I915_PARAM_HAS_BSD2
 31

	)

446 
	#I915_PARAM_REVISION
 32

	)

447 
	#I915_PARAM_SUBSLICE_TOTAL
 33

	)

448 
	#I915_PARAM_EU_TOTAL
 34

	)

449 
	#I915_PARAM_HAS_GPU_RESET
 35

	)

450 
	#I915_PARAM_HAS_RESOURCE_STREAMER
 36

	)

451 
	#I915_PARAM_HAS_EXEC_SOFTPIN
 37

	)

452 
	#I915_PARAM_HAS_POOLED_EU
 38

	)

453 
	#I915_PARAM_MIN_EU_IN_POOL
 39

	)

454 
	#I915_PARAM_MMAP_GTT_VERSION
 40

	)

465 
	#I915_PARAM_HAS_SCHEDULER
 41

	)

466 
	#I915_SCHEDULER_CAP_ENABLED
 (1uÈ<< 0)

	)

467 
	#I915_SCHEDULER_CAP_PRIORITY
 (1uÈ<< 1)

	)

468 
	#I915_SCHEDULER_CAP_PREEMPTION
 (1uÈ<< 2)

	)

470 
	#I915_PARAM_HUC_STATUS
 42

	)

476 
	#I915_PARAM_HAS_EXEC_ASYNC
 43

	)

483 
	#I915_PARAM_HAS_EXEC_FENCE
 44

	)

489 
	#I915_PARAM_HAS_EXEC_CAPTURE
 45

	)

491 
	#I915_PARAM_SLICE_MASK
 46

	)

496 
	#I915_PARAM_SUBSLICE_MASK
 47

	)

502 
	#I915_PARAM_HAS_EXEC_BATCH_FIRST
 48

	)

507 
	#I915_PARAM_HAS_EXEC_FENCE_ARRAY
 49

	)

522 
	#I915_PARAM_HAS_CONTEXT_ISOLATION
 50

	)

528 
	#I915_PARAM_CS_TIMESTAMP_FREQUENCY
 51

	)

530 
	sdrm_i915_g‘·¿m
 {

531 
__s32
 
·¿m
;

536 
__u£r
 *
v®ue
;

537 } 
	tdrm_i915_g‘·¿m_t
;

541 
	#I915_SETPARAM_USE_MI_BATCHBUFFER_START
 1

	)

542 
	#I915_SETPARAM_TEX_LRU_LOG_GRANULARITY
 2

	)

543 
	#I915_SETPARAM_ALLOW_BATCHBUFFER
 3

	)

544 
	#I915_SETPARAM_NUM_USED_FENCES
 4

	)

546 
	sdrm_i915_£¬am
 {

547 
·¿m
;

548 
v®ue
;

549 } 
	tdrm_i915_£¬am_t
;

553 
	#I915_MEM_REGION_AGP
 1

	)

555 
	sdrm_i915_mem_®loc
 {

556 
»giÚ
;

557 
®ignm’t
;

558 
size
;

559 
__u£r
 *
»giÚ_off£t
;

560 } 
	tdrm_i915_mem_®loc_t
;

562 
	sdrm_i915_mem_ä“
 {

563 
»giÚ
;

564 
»giÚ_off£t
;

565 } 
	tdrm_i915_mem_ä“_t
;

567 
	sdrm_i915_mem_š™_h—p
 {

568 
»giÚ
;

569 
size
;

570 
¡¬t
;

571 } 
	tdrm_i915_mem_š™_h—p_t
;

576 
	sdrm_i915_mem_de¡roy_h—p
 {

577 
»giÚ
;

578 } 
	tdrm_i915_mem_de¡roy_h—p_t
;

582 
	#DRM_I915_VBLANK_PIPE_A
 1

	)

583 
	#DRM_I915_VBLANK_PIPE_B
 2

	)

585 
	sdrm_i915_vbÏnk_pe
 {

586 
pe
;

587 } 
	tdrm_i915_vbÏnk_pe_t
;

591 
	sdrm_i915_vbÏnk_sw­
 {

592 
drm_d¿wabË_t
 
d¿wabË
;

593 
drm_vbÏnk_£q_ty³
 
£qty³
;

594 
£qu’û
;

595 } 
	tdrm_i915_vbÏnk_sw­_t
;

597 
	sdrm_i915_hws_addr
 {

598 
__u64
 
addr
;

599 } 
	tdrm_i915_hws_addr_t
;

601 
	sdrm_i915_gem_š™
 {

606 
__u64
 
g‰_¡¬t
;

611 
__u64
 
g‰_’d
;

614 
	sdrm_i915_gem_ü—‹
 {

620 
__u64
 
size
;

626 
__u32
 
hªdË
;

627 
__u32
 
·d
;

630 
	sdrm_i915_gem_´—d
 {

632 
__u32
 
hªdË
;

633 
__u32
 
·d
;

635 
__u64
 
off£t
;

637 
__u64
 
size
;

643 
__u64
 
d©a_±r
;

646 
	sdrm_i915_gem_pwr™e
 {

648 
__u32
 
hªdË
;

649 
__u32
 
·d
;

651 
__u64
 
off£t
;

653 
__u64
 
size
;

659 
__u64
 
d©a_±r
;

662 
	sdrm_i915_gem_mm­
 {

664 
__u32
 
hªdË
;

665 
__u32
 
·d
;

667 
__u64
 
off£t
;

673 
__u64
 
size
;

679 
__u64
 
addr_±r
;

686 
__u64
 
æags
;

687 
	#I915_MMAP_WC
 0x1

	)

690 
	sdrm_i915_gem_mm­_g‰
 {

692 
__u32
 
hªdË
;

693 
__u32
 
·d
;

699 
__u64
 
off£t
;

702 
	sdrm_i915_gem_£t_domaš
 {

704 
__u32
 
hªdË
;

707 
__u32
 
»ad_domašs
;

710 
__u32
 
wr™e_domaš
;

713 
	sdrm_i915_gem_sw_fšish
 {

715 
__u32
 
hªdË
;

718 
	sdrm_i915_gem_»loÿtiÚ_’Œy
 {

727 
__u32
 
rg‘_hªdË
;

733 
__u32
 
d–
;

736 
__u64
 
off£t
;

746 
__u64
 
´esumed_off£t
;

751 
__u32
 
»ad_domašs
;

760 
__u32
 
wr™e_domaš
;

771 
	#I915_GEM_DOMAIN_CPU
 0x00000001

	)

773 
	#I915_GEM_DOMAIN_RENDER
 0x00000002

	)

775 
	#I915_GEM_DOMAIN_SAMPLER
 0x00000004

	)

777 
	#I915_GEM_DOMAIN_COMMAND
 0x00000008

	)

779 
	#I915_GEM_DOMAIN_INSTRUCTION
 0x00000010

	)

781 
	#I915_GEM_DOMAIN_VERTEX
 0x00000020

	)

783 
	#I915_GEM_DOMAIN_GTT
 0x00000040

	)

785 
	#I915_GEM_DOMAIN_WC
 0x00000080

	)

788 
	sdrm_i915_gem_exec_objeù
 {

793 
__u32
 
hªdË
;

796 
__u32
 
»loÿtiÚ_couÁ
;

801 
__u64
 
»locs_±r
;

804 
__u64
 
®ignm’t
;

810 
__u64
 
off£t
;

813 
	sdrm_i915_gem_execbufãr
 {

824 
__u64
 
bufãrs_±r
;

825 
__u32
 
bufãr_couÁ
;

828 
__u32
 
b©ch_¡¬t_off£t
;

830 
__u32
 
b©ch_Ën
;

831 
__u32
 
DR1
;

832 
__u32
 
DR4
;

833 
__u32
 
num_þ»ùs
;

835 
__u64
 
þ»ùs_±r
;

838 
	sdrm_i915_gem_exec_objeù2
 {

843 
__u32
 
hªdË
;

846 
__u32
 
»loÿtiÚ_couÁ
;

851 
__u64
 
»locs_±r
;

854 
__u64
 
®ignm’t
;

864 
__u64
 
off£t
;

866 
	#EXEC_OBJECT_NEEDS_FENCE
 (1<<0)

	)

867 
	#EXEC_OBJECT_NEEDS_GTT
 (1<<1)

	)

868 
	#EXEC_OBJECT_WRITE
 (1<<2)

	)

869 
	#EXEC_OBJECT_SUPPORTS_48B_ADDRESS
 (1<<3)

	)

870 
	#EXEC_OBJECT_PINNED
 (1<<4)

	)

871 
	#EXEC_OBJECT_PAD_TO_SIZE
 (1<<5)

	)

892 
	#EXEC_OBJECT_ASYNC
 (1<<6)

	)

899 
	#EXEC_OBJECT_CAPTURE
 (1<<7)

	)

901 
	#__EXEC_OBJECT_UNKNOWN_FLAGS
 -(
EXEC_OBJECT_CAPTURE
<<1)

	)

902 
__u64
 
æags
;

905 
__u64
 
rsvd1
;

906 
__u64
 
·d_to_size
;

908 
__u64
 
rsvd2
;

911 
	sdrm_i915_gem_exec_ãnû
 {

915 
__u32
 
hªdË
;

917 
	#I915_EXEC_FENCE_WAIT
 (1<<0)

	)

918 
	#I915_EXEC_FENCE_SIGNAL
 (1<<1)

	)

919 
	#__I915_EXEC_FENCE_UNKNOWN_FLAGS
 (-(
I915_EXEC_FENCE_SIGNAL
 << 1))

	)

920 
__u32
 
æags
;

923 
	sdrm_i915_gem_execbufãr2
 {

927 
__u64
 
bufãrs_±r
;

928 
__u32
 
bufãr_couÁ
;

931 
__u32
 
b©ch_¡¬t_off£t
;

933 
__u32
 
b©ch_Ën
;

934 
__u32
 
DR1
;

935 
__u32
 
DR4
;

936 
__u32
 
num_þ»ùs
;

942 
__u64
 
þ»ùs_±r
;

943 
	#I915_EXEC_RING_MASK
 (7<<0)

	)

944 
	#I915_EXEC_DEFAULT
 (0<<0)

	)

945 
	#I915_EXEC_RENDER
 (1<<0)

	)

946 
	#I915_EXEC_BSD
 (2<<0)

	)

947 
	#I915_EXEC_BLT
 (3<<0)

	)

948 
	#I915_EXEC_VEBOX
 (4<<0)

	)

956 
	#I915_EXEC_CONSTANTS_MASK
 (3<<6)

	)

957 
	#I915_EXEC_CONSTANTS_REL_GENERAL
 (0<<6è

	)

958 
	#I915_EXEC_CONSTANTS_ABSOLUTE
 (1<<6)

	)

959 
	#I915_EXEC_CONSTANTS_REL_SURFACE
 (2<<6è

	)

960 
__u64
 
æags
;

961 
__u64
 
rsvd1
;

962 
__u64
 
rsvd2
;

966 
	#I915_EXEC_GEN7_SOL_RESET
 (1<<8)

	)

971 
	#I915_EXEC_SECURE
 (1<<9)

	)

980 
	#I915_EXEC_IS_PINNED
 (1<<10)

	)

987 
	#I915_EXEC_NO_RELOC
 (1<<11)

	)

992 
	#I915_EXEC_HANDLE_LUT
 (1<<12)

	)

995 
	#I915_EXEC_BSD_SHIFT
 (13)

	)

996 
	#I915_EXEC_BSD_MASK
 (3 << 
I915_EXEC_BSD_SHIFT
)

	)

998 
	#I915_EXEC_BSD_DEFAULT
 (0 << 
I915_EXEC_BSD_SHIFT
)

	)

999 
	#I915_EXEC_BSD_RING1
 (1 << 
I915_EXEC_BSD_SHIFT
)

	)

1000 
	#I915_EXEC_BSD_RING2
 (2 << 
I915_EXEC_BSD_SHIFT
)

	)

1005 
	#I915_EXEC_RESOURCE_STREAMER
 (1<<15)

	)

1013 
	#I915_EXEC_FENCE_IN
 (1<<16)

	)

1030 
	#I915_EXEC_FENCE_OUT
 (1<<17)

	)

1041 
	#I915_EXEC_BATCH_FIRST
 (1<<18)

	)

1047 
	#I915_EXEC_FENCE_ARRAY
 (1<<19)

	)

1049 
	#__I915_EXEC_UNKNOWN_FLAGS
 (-(
I915_EXEC_FENCE_ARRAY
<<1))

	)

1051 
	#I915_EXEC_CONTEXT_ID_MASK
 (0xffffffff)

	)

1052 
	#i915_execbufãr2_£t_cÚ‹xt_id
(
eb2
, 
cÚ‹xt
) \

1053 (
eb2
).
rsvd1
 = 
cÚ‹xt
 & 
I915_EXEC_CONTEXT_ID_MASK


	)

1054 
	#i915_execbufãr2_g‘_cÚ‹xt_id
(
eb2
) \

1055 ((
eb2
).
rsvd1
 & 
I915_EXEC_CONTEXT_ID_MASK
)

	)

1057 
	sdrm_i915_gem_pš
 {

1059 
__u32
 
hªdË
;

1060 
__u32
 
·d
;

1063 
__u64
 
®ignm’t
;

1066 
__u64
 
off£t
;

1069 
	sdrm_i915_gem_uÅš
 {

1071 
__u32
 
hªdË
;

1072 
__u32
 
·d
;

1075 
	sdrm_i915_gem_busy
 {

1077 
__u32
 
hªdË
;

1123 
__u32
 
busy
;

1132 
	#I915_CACHING_NONE
 0

	)

1140 
	#I915_CACHING_CACHED
 1

	)

1151 
	#I915_CACHING_DISPLAY
 2

	)

1153 
	sdrm_i915_gem_ÿchšg
 {

1156 
__u32
 
hªdË
;

1164 
__u32
 
ÿchšg
;

1167 
	#I915_TILING_NONE
 0

	)

1168 
	#I915_TILING_X
 1

	)

1169 
	#I915_TILING_Y
 2

	)

1170 
	#I915_TILING_LAST
 
I915_TILING_Y


	)

1172 
	#I915_BIT_6_SWIZZLE_NONE
 0

	)

1173 
	#I915_BIT_6_SWIZZLE_9
 1

	)

1174 
	#I915_BIT_6_SWIZZLE_9_10
 2

	)

1175 
	#I915_BIT_6_SWIZZLE_9_11
 3

	)

1176 
	#I915_BIT_6_SWIZZLE_9_10_11
 4

	)

1178 
	#I915_BIT_6_SWIZZLE_UNKNOWN
 5

	)

1180 
	#I915_BIT_6_SWIZZLE_9_17
 6

	)

1181 
	#I915_BIT_6_SWIZZLE_9_10_17
 7

	)

1183 
	sdrm_i915_gem_£t_tžšg
 {

1185 
__u32
 
hªdË
;

1199 
__u32
 
tžšg_mode
;

1205 
__u32
 
¡ride
;

1211 
__u32
 
swizzË_mode
;

1214 
	sdrm_i915_gem_g‘_tžšg
 {

1216 
__u32
 
hªdË
;

1222 
__u32
 
tžšg_mode
;

1228 
__u32
 
swizzË_mode
;

1234 
__u32
 
phys_swizzË_mode
;

1237 
	sdrm_i915_gem_g‘_­”tu»
 {

1239 
__u64
 
­”_size
;

1245 
__u64
 
­”_avažabË_size
;

1248 
	sdrm_i915_g‘_pe_äom_ütc_id
 {

1250 
__u32
 
ütc_id
;

1253 
__u32
 
pe
;

1256 
	#I915_MADV_WILLNEED
 0

	)

1257 
	#I915_MADV_DONTNEED
 1

	)

1258 
	#__I915_MADV_PURGED
 2

	)

1260 
	sdrm_i915_gem_madvi£
 {

1262 
__u32
 
hªdË
;

1267 
__u32
 
madv
;

1270 
__u32
 
»šed
;

1274 
	#I915_OVERLAY_TYPE_MASK
 0xff

	)

1275 
	#I915_OVERLAY_YUV_PLANAR
 0x01

	)

1276 
	#I915_OVERLAY_YUV_PACKED
 0x02

	)

1277 
	#I915_OVERLAY_RGB
 0x03

	)

1279 
	#I915_OVERLAY_DEPTH_MASK
 0xff00

	)

1280 
	#I915_OVERLAY_RGB24
 0x1000

	)

1281 
	#I915_OVERLAY_RGB16
 0x2000

	)

1282 
	#I915_OVERLAY_RGB15
 0x3000

	)

1283 
	#I915_OVERLAY_YUV422
 0x0100

	)

1284 
	#I915_OVERLAY_YUV411
 0x0200

	)

1285 
	#I915_OVERLAY_YUV420
 0x0300

	)

1286 
	#I915_OVERLAY_YUV410
 0x0400

	)

1288 
	#I915_OVERLAY_SWAP_MASK
 0xff0000

	)

1289 
	#I915_OVERLAY_NO_SWAP
 0x000000

	)

1290 
	#I915_OVERLAY_UV_SWAP
 0x010000

	)

1291 
	#I915_OVERLAY_Y_SWAP
 0x020000

	)

1292 
	#I915_OVERLAY_Y_AND_UV_SWAP
 0x030000

	)

1294 
	#I915_OVERLAY_FLAGS_MASK
 0xff000000

	)

1295 
	#I915_OVERLAY_ENABLE
 0x01000000

	)

1297 
	sdrm_š‹l_ov”Ïy_put_image
 {

1299 
__u32
 
æags
;

1301 
__u32
 
bo_hªdË
;

1303 
__u16
 
¡ride_Y
;

1304 
__u16
 
¡ride_UV
;

1305 
__u32
 
off£t_Y
;

1306 
__u32
 
off£t_U
;

1307 
__u32
 
off£t_V
;

1309 
__u16
 
¤c_width
;

1310 
__u16
 
¤c_height
;

1312 
__u16
 
¤c_sÿn_width
;

1313 
__u16
 
¤c_sÿn_height
;

1315 
__u32
 
ütc_id
;

1316 
__u16
 
d¡_x
;

1317 
__u16
 
d¡_y
;

1318 
__u16
 
d¡_width
;

1319 
__u16
 
d¡_height
;

1323 
	#I915_OVERLAY_UPDATE_ATTRS
 (1<<0)

	)

1324 
	#I915_OVERLAY_UPDATE_GAMMA
 (1<<1)

	)

1325 
	#I915_OVERLAY_DISABLE_DEST_COLORKEY
 (1<<2)

	)

1326 
	sdrm_š‹l_ov”Ïy_©Œs
 {

1327 
__u32
 
æags
;

1328 
__u32
 
cÞÜ_key
;

1329 
__s32
 
brighŠess
;

1330 
__u32
 
cÚŒa¡
;

1331 
__u32
 
§tu¿tiÚ
;

1332 
__u32
 
gamma0
;

1333 
__u32
 
gamma1
;

1334 
__u32
 
gamma2
;

1335 
__u32
 
gamma3
;

1336 
__u32
 
gamma4
;

1337 
__u32
 
gamma5
;

1361 
	#I915_SET_COLORKEY_NONE
 (1<<0è

	)

1362 
	#I915_SET_COLORKEY_DESTINATION
 (1<<1)

	)

1363 
	#I915_SET_COLORKEY_SOURCE
 (1<<2)

	)

1364 
	sdrm_š‹l_¥r™e_cÞÜkey
 {

1365 
__u32
 
¶ªe_id
;

1366 
__u32
 
mš_v®ue
;

1367 
__u32
 
chªÃl_mask
;

1368 
__u32
 
max_v®ue
;

1369 
__u32
 
æags
;

1372 
	sdrm_i915_gem_wa™
 {

1374 
__u32
 
bo_hªdË
;

1375 
__u32
 
æags
;

1377 
__s64
 
timeout_ns
;

1380 
	sdrm_i915_gem_cÚ‹xt_ü—‹
 {

1382 
__u32
 
ùx_id
;

1383 
__u32
 
·d
;

1386 
	sdrm_i915_gem_cÚ‹xt_de¡roy
 {

1387 
__u32
 
ùx_id
;

1388 
__u32
 
·d
;

1391 
	sdrm_i915_»g_»ad
 {

1398 
__u64
 
off£t
;

1399 
	#I915_REG_READ_8B_WA
 (1uÈ<< 0)

	)

1401 
__u64
 
v®
;

1412 
	sdrm_i915_»£t_¡©s
 {

1413 
__u32
 
ùx_id
;

1414 
__u32
 
æags
;

1417 
__u32
 
»£t_couÁ
;

1420 
__u32
 
b©ch_aùive
;

1423 
__u32
 
b©ch_³ndšg
;

1425 
__u32
 
·d
;

1428 
	sdrm_i915_gem_u£½Œ
 {

1429 
__u64
 
u£r_±r
;

1430 
__u64
 
u£r_size
;

1431 
__u32
 
æags
;

1432 
	#I915_USERPTR_READ_ONLY
 0x1

	)

1433 
	#I915_USERPTR_UNSYNCHRONIZED
 0x80000000

	)

1439 
__u32
 
hªdË
;

1442 
	sdrm_i915_gem_cÚ‹xt_·¿m
 {

1443 
__u32
 
ùx_id
;

1444 
__u32
 
size
;

1445 
__u64
 
·¿m
;

1446 
	#I915_CONTEXT_PARAM_BAN_PERIOD
 0x1

	)

1447 
	#I915_CONTEXT_PARAM_NO_ZEROMAP
 0x2

	)

1448 
	#I915_CONTEXT_PARAM_GTT_SIZE
 0x3

	)

1449 
	#I915_CONTEXT_PARAM_NO_ERROR_CAPTURE
 0x4

	)

1450 
	#I915_CONTEXT_PARAM_BANNABLE
 0x5

	)

1451 
	#I915_CONTEXT_PARAM_PRIORITY
 0x6

	)

1452 
	#I915_CONTEXT_MAX_USER_PRIORITY
 1023

	)

1453 
	#I915_CONTEXT_DEFAULT_PRIORITY
 0

	)

1454 
	#I915_CONTEXT_MIN_USER_PRIORITY
 -1023

	)

1455 
__u64
 
v®ue
;

1458 
	edrm_i915_ß_fÜm©
 {

1459 
I915_OA_FORMAT_A13
 = 1,

1460 
I915_OA_FORMAT_A29
,

1461 
I915_OA_FORMAT_A13_B8_C8
,

1462 
I915_OA_FORMAT_B4_C8
,

1463 
I915_OA_FORMAT_A45_B8_C8
,

1464 
I915_OA_FORMAT_B4_C8_A16
,

1465 
I915_OA_FORMAT_C4_B8
,

1468 
I915_OA_FORMAT_A12
,

1469 
I915_OA_FORMAT_A12_B8_C8
,

1470 
I915_OA_FORMAT_A32u40_A4u32_B8_C8
,

1472 
I915_OA_FORMAT_MAX


1475 
	edrm_i915_³rf_´Ý”ty_id
 {

1481 
DRM_I915_PERF_PROP_CTX_HANDLE
 = 1,

1487 
DRM_I915_PERF_PROP_SAMPLE_OA
,

1493 
DRM_I915_PERF_PROP_OA_METRICS_SET
,

1498 
DRM_I915_PERF_PROP_OA_FORMAT
,

1507 
DRM_I915_PERF_PROP_OA_EXPONENT
,

1509 
DRM_I915_PERF_PROP_MAX


1512 
	sdrm_i915_³rf_Ý’_·¿m
 {

1513 
__u32
 
æags
;

1514 
	#I915_PERF_FLAG_FD_CLOEXEC
 (1<<0)

	)

1515 
	#I915_PERF_FLAG_FD_NONBLOCK
 (1<<1)

	)

1516 
	#I915_PERF_FLAG_DISABLED
 (1<<2)

	)

1519 
__u32
 
num_´Ý”t›s
;

1525 
__u64
 
´Ý”t›s_±r
;

1538 
	#I915_PERF_IOCTL_ENABLE
 
	`_IO
('i', 0x0)

	)

1545 
	#I915_PERF_IOCTL_DISABLE
 
	`_IO
('i', 0x1)

	)

1550 
	sdrm_i915_³rf_»cÜd_h—d”
 {

1551 
__u32
 
ty³
;

1552 
__u16
 
·d
;

1553 
__u16
 
size
;

1556 
	edrm_i915_³rf_»cÜd_ty³
 {

1577 
DRM_I915_PERF_RECORD_SAMPLE
 = 1,

1585 
DRM_I915_PERF_RECORD_OA_REPORT_LOST
 = 2,

1590 
DRM_I915_PERF_RECORD_OA_BUFFER_LOST
 = 3,

1592 
DRM_I915_PERF_RECORD_MAX


1598 
	sdrm_i915_³rf_ß_cÚfig
 {

1600 
uuid
[36];

1602 
__u32
 
n_mux_»gs
;

1603 
__u32
 
n_boÞ—n_»gs
;

1604 
__u32
 
n_æex_»gs
;

1611 
__u64
 
mux_»gs_±r
;

1612 
__u64
 
boÞ—n_»gs_±r
;

1613 
__u64
 
æex_»gs_±r
;

1616 #ià
defšed
(
__ýlu¥lus
)

	@src/common/linuxkpi/include/uapi/drm/mga_drm.h

35 #iâdeà
__MGA_DRM_H__


36 
	#__MGA_DRM_H__


	)

38 
	~"drm.h
"

40 #ià
defšed
(
__ýlu¥lus
)

48 #iâdeà
__MGA_SAREA_DEFINES__


49 
	#__MGA_SAREA_DEFINES__


	)

53 
	#MGA_F
 0x1

	)

54 
	#MGA_A
 0x2

	)

55 
	#MGA_S
 0x4

	)

56 
	#MGA_T2
 0x8

	)

58 
	#MGA_WARP_TGZ
 0

	)

59 
	#MGA_WARP_TGZF
 (
MGA_F
)

	)

60 
	#MGA_WARP_TGZA
 (
MGA_A
)

	)

61 
	#MGA_WARP_TGZAF
 (
MGA_F
|
MGA_A
)

	)

62 
	#MGA_WARP_TGZS
 (
MGA_S
)

	)

63 
	#MGA_WARP_TGZSF
 (
MGA_S
|
MGA_F
)

	)

64 
	#MGA_WARP_TGZSA
 (
MGA_S
|
MGA_A
)

	)

65 
	#MGA_WARP_TGZSAF
 (
MGA_S
|
MGA_F
|
MGA_A
)

	)

66 
	#MGA_WARP_T2GZ
 (
MGA_T2
)

	)

67 
	#MGA_WARP_T2GZF
 (
MGA_T2
|
MGA_F
)

	)

68 
	#MGA_WARP_T2GZA
 (
MGA_T2
|
MGA_A
)

	)

69 
	#MGA_WARP_T2GZAF
 (
MGA_T2
|
MGA_A
|
MGA_F
)

	)

70 
	#MGA_WARP_T2GZS
 (
MGA_T2
|
MGA_S
)

	)

71 
	#MGA_WARP_T2GZSF
 (
MGA_T2
|
MGA_S
|
MGA_F
)

	)

72 
	#MGA_WARP_T2GZSA
 (
MGA_T2
|
MGA_S
|
MGA_A
)

	)

73 
	#MGA_WARP_T2GZSAF
 (
MGA_T2
|
MGA_S
|
MGA_F
|
MGA_A
)

	)

75 
	#MGA_MAX_G200_PIPES
 8

	)

76 
	#MGA_MAX_G400_PIPES
 16

	)

77 
	#MGA_MAX_WARP_PIPES
 
MGA_MAX_G400_PIPES


	)

78 
	#MGA_WARP_UCODE_SIZE
 32768

	)

80 
	#MGA_CARD_TYPE_G200
 1

	)

81 
	#MGA_CARD_TYPE_G400
 2

	)

82 
	#MGA_CARD_TYPE_G450
 3

	)

83 
	#MGA_CARD_TYPE_G550
 4

	)

85 
	#MGA_FRONT
 0x1

	)

86 
	#MGA_BACK
 0x2

	)

87 
	#MGA_DEPTH
 0x4

	)

91 
	#MGA_UPLOAD_CONTEXT
 0x1

	)

92 
	#MGA_UPLOAD_TEX0
 0x2

	)

93 
	#MGA_UPLOAD_TEX1
 0x4

	)

94 
	#MGA_UPLOAD_PIPE
 0x8

	)

95 
	#MGA_UPLOAD_TEX0IMAGE
 0x10

	)

96 
	#MGA_UPLOAD_TEX1IMAGE
 0x20

	)

97 
	#MGA_UPLOAD_2D
 0x40

	)

98 
	#MGA_WAIT_AGE
 0x80

	)

99 
	#MGA_UPLOAD_CLIPRECTS
 0x100

	)

101 
	#MGA_DMA_FLUSH
 0x200

	)

107 
	#MGA_BUFFER_SIZE
 (1 << 16)

	)

108 
	#MGA_NUM_BUFFERS
 128

	)

112 
	#MGA_NR_SAREA_CLIPRECTS
 8

	)

121 
	#MGA_CARD_HEAP
 0

	)

122 
	#MGA_AGP_HEAP
 1

	)

123 
	#MGA_NR_TEX_HEAPS
 2

	)

124 
	#MGA_NR_TEX_REGIONS
 16

	)

125 
	#MGA_LOG_MIN_TEX_REGION_SIZE
 16

	)

127 
	#DRM_MGA_IDLE_RETRY
 2048

	)

134 
d¡Üg
;

135 
macûss
;

136 
¶nwt
;

137 
dwgùl
;

138 
®phaù¾
;

139 
fogcÞÜ
;

140 
wæag
;

141 
tdu®¡age0
;

142 
tdu®¡age1
;

143 
fcÞ
;

144 
¡’cž
;

145 
¡’cžùl
;

146 } 
	tdrm_mga_cÚ‹xt_»gs_t
;

151 
p™ch
;

152 } 
	tdrm_mga_£rv”_»gs_t
;

157 
‹xùl
;

158 
‹xùl2
;

159 
‹xfž‹r
;

160 
‹xbÜd”cÞ
;

161 
‹xÜg
;

162 
‹xwidth
;

163 
‹xheight
;

164 
‹xÜg1
;

165 
‹xÜg2
;

166 
‹xÜg3
;

167 
‹xÜg4
;

168 } 
	tdrm_mga_‹xtu»_»gs_t
;

173 
h—d
;

174 
w¿p
;

175 } 
	tdrm_mga_age_t
;

177 
	s_drm_mga_§»a
 {

181 
drm_mga_cÚ‹xt_»gs_t
 
cÚ‹xt_¡©e
;

182 
drm_mga_£rv”_»gs_t
 
£rv”_¡©e
;

183 
drm_mga_‹xtu»_»gs_t
 
‹x_¡©e
[2];

184 
w¬p_pe
;

185 
dœty
;

186 
v”tsize
;

190 
drm_þ_»ù
 
boxes
[
MGA_NR_SAREA_CLIPRECTS
];

191 
nbox
;

200 
»q_d¿wabË
;

201 
»q_d¿w_bufãr
;

203 
expÜ‹d_d¿wabË
;

204 
expÜ‹d_šdex
;

205 
expÜ‹d_¡amp
;

206 
expÜ‹d_bufãrs
;

207 
expÜ‹d_näÚt
;

208 
expÜ‹d_nback
;

209 
expÜ‹d_back_x
, 
expÜ‹d_äÚt_x
, 
expÜ‹d_w
;

210 
expÜ‹d_back_y
, 
expÜ‹d_äÚt_y
, 
expÜ‹d_h
;

211 
drm_þ_»ù
 
expÜ‹d_boxes
[
MGA_NR_SAREA_CLIPRECTS
];

215 
¡©us
[4];

216 
Ï¡_w¿p
;

218 
drm_mga_age_t
 
Ï¡_äame
;

219 
Ï¡_’queue
;

220 
Ï¡_di¥©ch
;

221 
Ï¡_qu›sûÁ
;

225 
drm_‹x_»giÚ
 
‹xLi¡
[
MGA_NR_TEX_HEAPS
][
MGA_NR_TEX_REGIONS
 + 1];

226 
‹xAge
[
MGA_NR_TEX_HEAPS
];

230 
ùxOwÃr
;

231 } 
	tdrm_mga_§»a_t
;

236 
	#DRM_MGA_INIT
 0x00

	)

237 
	#DRM_MGA_FLUSH
 0x01

	)

238 
	#DRM_MGA_RESET
 0x02

	)

239 
	#DRM_MGA_SWAP
 0x03

	)

240 
	#DRM_MGA_CLEAR
 0x04

	)

241 
	#DRM_MGA_VERTEX
 0x05

	)

242 
	#DRM_MGA_INDICES
 0x06

	)

243 
	#DRM_MGA_ILOAD
 0x07

	)

244 
	#DRM_MGA_BLIT
 0x08

	)

245 
	#DRM_MGA_GETPARAM
 0x09

	)

250 
	#DRM_MGA_SET_FENCE
 0x0a

	)

251 
	#DRM_MGA_WAIT_FENCE
 0x0b

	)

252 
	#DRM_MGA_DMA_BOOTSTRAP
 0x0c

	)

254 
	#DRM_IOCTL_MGA_INIT
 
	`DRM_IOW
Ð
DRM_COMMAND_BASE
 + 
DRM_MGA_INIT
, 
drm_mga_š™_t
)

	)

255 
	#DRM_IOCTL_MGA_FLUSH
 
	`DRM_IOW
Ð
DRM_COMMAND_BASE
 + 
DRM_MGA_FLUSH
, 
drm_lock
)

	)

256 
	#DRM_IOCTL_MGA_RESET
 
	`DRM_IO
Ð
DRM_COMMAND_BASE
 + 
DRM_MGA_RESET
)

	)

257 
	#DRM_IOCTL_MGA_SWAP
 
	`DRM_IO
Ð
DRM_COMMAND_BASE
 + 
DRM_MGA_SWAP
)

	)

258 
	#DRM_IOCTL_MGA_CLEAR
 
	`DRM_IOW
Ð
DRM_COMMAND_BASE
 + 
DRM_MGA_CLEAR
, 
drm_mga_þ—r_t
)

	)

259 
	#DRM_IOCTL_MGA_VERTEX
 
	`DRM_IOW
Ð
DRM_COMMAND_BASE
 + 
DRM_MGA_VERTEX
, 
drm_mga_v”‹x_t
)

	)

260 
	#DRM_IOCTL_MGA_INDICES
 
	`DRM_IOW
Ð
DRM_COMMAND_BASE
 + 
DRM_MGA_INDICES
, 
drm_mga_šdiûs_t
)

	)

261 
	#DRM_IOCTL_MGA_ILOAD
 
	`DRM_IOW
Ð
DRM_COMMAND_BASE
 + 
DRM_MGA_ILOAD
, 
drm_mga_žßd_t
)

	)

262 
	#DRM_IOCTL_MGA_BLIT
 
	`DRM_IOW
Ð
DRM_COMMAND_BASE
 + 
DRM_MGA_BLIT
, 
drm_mga_bl™_t
)

	)

263 
	#DRM_IOCTL_MGA_GETPARAM
 
	`DRM_IOWR
(
DRM_COMMAND_BASE
 + 
DRM_MGA_GETPARAM
, 
drm_mga_g‘·¿m_t
)

	)

264 
	#DRM_IOCTL_MGA_SET_FENCE
 
	`DRM_IOW
Ð
DRM_COMMAND_BASE
 + 
DRM_MGA_SET_FENCE
, 
__u32
)

	)

265 
	#DRM_IOCTL_MGA_WAIT_FENCE
 
	`DRM_IOWR
(
DRM_COMMAND_BASE
 + 
DRM_MGA_WAIT_FENCE
, 
__u32
)

	)

266 
	#DRM_IOCTL_MGA_DMA_BOOTSTRAP
 
	`DRM_IOWR
(
DRM_COMMAND_BASE
 + 
DRM_MGA_DMA_BOOTSTRAP
, 
drm_mga_dma_boÙ¡¿p_t
)

	)

268 
	s_drm_mga_w¬p_šdex
 {

269 
š¡®Ëd
;

270 
phys_addr
;

271 
size
;

272 } 
	tdrm_mga_w¬p_šdex_t
;

274 
	sdrm_mga_š™
 {

276 
MGA_INIT_DMA
 = 0x01,

277 
MGA_CLEANUP_DMA
 = 0x02

278 } 
func
;

280 
§»a_´iv_off£t
;

282 
ch£t
;

283 
sg¿m
;

285 
macûss
;

287 
fb_ýp
;

288 
äÚt_off£t
, 
äÚt_p™ch
;

289 
back_off£t
, 
back_p™ch
;

291 
d•th_ýp
;

292 
d•th_off£t
, 
d•th_p™ch
;

294 
‹xtu»_off£t
[
MGA_NR_TEX_HEAPS
];

295 
‹xtu»_size
[
MGA_NR_TEX_HEAPS
];

297 
fb_off£t
;

298 
mmio_off£t
;

299 
¡©us_off£t
;

300 
w¬p_off£t
;

301 
´im¬y_off£t
;

302 
bufãrs_off£t
;

303 } 
	tdrm_mga_š™_t
;

305 
	sdrm_mga_dma_boÙ¡¿p
 {

318 
‹xtu»_hªdË
;

319 
__u32
 
‹xtu»_size
;

328 
__u32
 
´im¬y_size
;

338 
__u32
 
£cÚd¬y_bš_couÁ
;

347 
__u32
 
£cÚd¬y_bš_size
;

359 
__u32
 
agp_mode
;

364 
__u8
 
agp_size
;

365 } 
	tdrm_mga_dma_boÙ¡¿p_t
;

367 
	sdrm_mga_þ—r
 {

368 
æags
;

369 
þ—r_cÞÜ
;

370 
þ—r_d•th
;

371 
cÞÜ_mask
;

372 
d•th_mask
;

373 } 
	tdrm_mga_þ—r_t
;

375 
	sdrm_mga_v”‹x
 {

376 
idx
;

377 
u£d
;

378 
disÿrd
;

379 } 
	tdrm_mga_v”‹x_t
;

381 
	sdrm_mga_šdiûs
 {

382 
idx
;

383 
¡¬t
;

384 
’d
;

385 
disÿrd
;

386 } 
	tdrm_mga_šdiûs_t
;

388 
	sdrm_mga_žßd
 {

389 
idx
;

390 
d¡Üg
;

391 
Ëngth
;

392 } 
	tdrm_mga_žßd_t
;

394 
	s_drm_mga_bl™
 {

395 
¶ªemask
;

396 
¤cÜg
;

397 
d¡Üg
;

398 
¤c_p™ch
, 
d¡_p™ch
;

399 
d–_sx
, 
d–_sy
;

400 
d–_dx
, 
d–_dy
;

401 
height
, 
ydœ
;

402 
sourû_p™ch
, 
de¡_p™ch
;

403 } 
	tdrm_mga_bl™_t
;

408 
	#MGA_PARAM_IRQ_NR
 1

	)

416 
	#MGA_PARAM_CARD_TYPE
 2

	)

418 
	sdrm_mga_g‘·¿m
 {

419 
·¿m
;

420 
__u£r
 *
v®ue
;

421 } 
	tdrm_mga_g‘·¿m_t
;

423 #ià
defšed
(
__ýlu¥lus
)

	@src/common/linuxkpi/include/uapi/drm/msm_drm.h

25 #iâdeà
__MSM_DRM_H__


26 
	#__MSM_DRM_H__


	)

28 
	~"drm.h
"

30 #ià
defšed
(
__ýlu¥lus
)

47 
	#MSM_PIPE_NONE
 0x00

	)

48 
	#MSM_PIPE_2D0
 0x01

	)

49 
	#MSM_PIPE_2D1
 0x02

	)

50 
	#MSM_PIPE_3D0
 0x10

	)

57 
	#MSM_PIPE_ID_MASK
 0xffff

	)

58 
	#MSM_PIPE_ID
(
x
è((xè& 
MSM_PIPE_ID_MASK
)

	)

59 
	#MSM_PIPE_FLAGS
(
x
è((xè& ~
MSM_PIPE_ID_MASK
)

	)

65 
	sdrm_msm_time¥ec
 {

66 
__s64
 
tv_£c
;

67 
__s64
 
tv_n£c
;

70 
	#MSM_PARAM_GPU_ID
 0x01

	)

71 
	#MSM_PARAM_GMEM_SIZE
 0x02

	)

72 
	#MSM_PARAM_CHIP_ID
 0x03

	)

73 
	#MSM_PARAM_MAX_FREQ
 0x04

	)

74 
	#MSM_PARAM_TIMESTAMP
 0x05

	)

75 
	#MSM_PARAM_GMEM_BASE
 0x06

	)

76 
	#MSM_PARAM_NR_RINGS
 0x07

	)

78 
	sdrm_msm_·¿m
 {

79 
__u32
 
pe
;

80 
__u32
 
·¿m
;

81 
__u64
 
v®ue
;

88 
	#MSM_BO_SCANOUT
 0x00000001

	)

89 
	#MSM_BO_GPU_READONLY
 0x00000002

	)

90 
	#MSM_BO_CACHE_MASK
 0x000f0000

	)

92 
	#MSM_BO_CACHED
 0x00010000

	)

93 
	#MSM_BO_WC
 0x00020000

	)

94 
	#MSM_BO_UNCACHED
 0x00040000

	)

96 
	#MSM_BO_FLAGS
 (
MSM_BO_SCANOUT
 | \

97 
MSM_BO_GPU_READONLY
 | \

98 
MSM_BO_CACHED
 | \

99 
MSM_BO_WC
 | \

100 
MSM_BO_UNCACHED
)

	)

102 
	sdrm_msm_gem_Ãw
 {

103 
__u64
 
size
;

104 
__u32
 
æags
;

105 
__u32
 
hªdË
;

108 
	#MSM_INFO_IOVA
 0x01

	)

110 
	#MSM_INFO_FLAGS
 (
MSM_INFO_IOVA
)

	)

112 
	sdrm_msm_gem_šfo
 {

113 
__u32
 
hªdË
;

114 
__u32
 
æags
;

115 
__u64
 
off£t
;

118 
	#MSM_PREP_READ
 0x01

	)

119 
	#MSM_PREP_WRITE
 0x02

	)

120 
	#MSM_PREP_NOSYNC
 0x04

	)

122 
	#MSM_PREP_FLAGS
 (
MSM_PREP_READ
 | 
MSM_PREP_WRITE
 | 
MSM_PREP_NOSYNC
)

	)

124 
	sdrm_msm_gem_ýu_´•
 {

125 
__u32
 
hªdË
;

126 
__u32
 
Ý
;

127 
drm_msm_time¥ec
 
timeout
;

130 
	sdrm_msm_gem_ýu_fši
 {

131 
__u32
 
hªdË
;

149 
	sdrm_msm_gem_subm™_»loc
 {

150 
__u32
 
subm™_off£t
;

151 
__u32
 
Ü
;

152 
__s32
 
shiá
;

153 
__u32
 
»loc_idx
;

154 
__u64
 
»loc_off£t
;

165 
	#MSM_SUBMIT_CMD_BUF
 0x0001

	)

166 
	#MSM_SUBMIT_CMD_IB_TARGET_BUF
 0x0002

	)

167 
	#MSM_SUBMIT_CMD_CTX_RESTORE_BUF
 0x0003

	)

168 
	sdrm_msm_gem_subm™_cmd
 {

169 
__u32
 
ty³
;

170 
__u32
 
subm™_idx
;

171 
__u32
 
subm™_off£t
;

172 
__u32
 
size
;

173 
__u32
 
·d
;

174 
__u32
 
Ä_»locs
;

175 
__u64
 
»locs
;

189 
	#MSM_SUBMIT_BO_READ
 0x0001

	)

190 
	#MSM_SUBMIT_BO_WRITE
 0x0002

	)

192 
	#MSM_SUBMIT_BO_FLAGS
 (
MSM_SUBMIT_BO_READ
 | 
MSM_SUBMIT_BO_WRITE
)

	)

194 
	sdrm_msm_gem_subm™_bo
 {

195 
__u32
 
æags
;

196 
__u32
 
hªdË
;

197 
__u64
 
´esumed
;

201 
	#MSM_SUBMIT_NO_IMPLICIT
 0x80000000

	)

202 
	#MSM_SUBMIT_FENCE_FD_IN
 0x40000000

	)

203 
	#MSM_SUBMIT_FENCE_FD_OUT
 0x20000000

	)

204 
	#MSM_SUBMIT_FLAGS
 ( \

205 
MSM_SUBMIT_NO_IMPLICIT
 | \

206 
MSM_SUBMIT_FENCE_FD_IN
 | \

207 
MSM_SUBMIT_FENCE_FD_OUT
 | \

208 0)

	)

214 
	sdrm_msm_gem_subm™
 {

215 
__u32
 
æags
;

216 
__u32
 
ãnû
;

217 
__u32
 
Ä_bos
;

218 
__u32
 
Ä_cmds
;

219 
__u64
 
bos
;

220 
__u64
 
cmds
;

221 
__s32
 
ãnû_fd
;

222 
__u32
 
queueid
;

232 
	sdrm_msm_wa™_ãnû
 {

233 
__u32
 
ãnû
;

234 
__u32
 
·d
;

235 
drm_msm_time¥ec
 
timeout
;

236 
__u32
 
queueid
;

250 
	#MSM_MADV_WILLNEED
 0

	)

251 
	#MSM_MADV_DONTNEED
 1

	)

252 
	#__MSM_MADV_PURGED
 2

	)

254 
	sdrm_msm_gem_madvi£
 {

255 
__u32
 
hªdË
;

256 
__u32
 
madv
;

257 
__u32
 
»šed
;

266 
	#MSM_SUBMITQUEUE_FLAGS
 (0)

	)

268 
	sdrm_msm_subm™queue
 {

269 
__u32
 
æags
;

270 
__u32
 
´io
;

271 
__u32
 
id
;

274 
	#DRM_MSM_GET_PARAM
 0x00

	)

278 
	#DRM_MSM_GEM_NEW
 0x02

	)

279 
	#DRM_MSM_GEM_INFO
 0x03

	)

280 
	#DRM_MSM_GEM_CPU_PREP
 0x04

	)

281 
	#DRM_MSM_GEM_CPU_FINI
 0x05

	)

282 
	#DRM_MSM_GEM_SUBMIT
 0x06

	)

283 
	#DRM_MSM_WAIT_FENCE
 0x07

	)

284 
	#DRM_MSM_GEM_MADVISE
 0x08

	)

288 
	#DRM_MSM_SUBMITQUEUE_NEW
 0x0A

	)

289 
	#DRM_MSM_SUBMITQUEUE_CLOSE
 0x0B

	)

291 
	#DRM_IOCTL_MSM_GET_PARAM
 
	`DRM_IOWR
(
DRM_COMMAND_BASE
 + 
DRM_MSM_GET_PARAM
, 
drm_msm_·¿m
)

	)

292 
	#DRM_IOCTL_MSM_GEM_NEW
 
	`DRM_IOWR
(
DRM_COMMAND_BASE
 + 
DRM_MSM_GEM_NEW
, 
drm_msm_gem_Ãw
)

	)

293 
	#DRM_IOCTL_MSM_GEM_INFO
 
	`DRM_IOWR
(
DRM_COMMAND_BASE
 + 
DRM_MSM_GEM_INFO
, 
drm_msm_gem_šfo
)

	)

294 
	#DRM_IOCTL_MSM_GEM_CPU_PREP
 
	`DRM_IOW
 (
DRM_COMMAND_BASE
 + 
DRM_MSM_GEM_CPU_PREP
, 
drm_msm_gem_ýu_´•
)

	)

295 
	#DRM_IOCTL_MSM_GEM_CPU_FINI
 
	`DRM_IOW
 (
DRM_COMMAND_BASE
 + 
DRM_MSM_GEM_CPU_FINI
, 
drm_msm_gem_ýu_fši
)

	)

296 
	#DRM_IOCTL_MSM_GEM_SUBMIT
 
	`DRM_IOWR
(
DRM_COMMAND_BASE
 + 
DRM_MSM_GEM_SUBMIT
, 
drm_msm_gem_subm™
)

	)

297 
	#DRM_IOCTL_MSM_WAIT_FENCE
 
	`DRM_IOW
 (
DRM_COMMAND_BASE
 + 
DRM_MSM_WAIT_FENCE
, 
drm_msm_wa™_ãnû
)

	)

298 
	#DRM_IOCTL_MSM_GEM_MADVISE
 
	`DRM_IOWR
(
DRM_COMMAND_BASE
 + 
DRM_MSM_GEM_MADVISE
, 
drm_msm_gem_madvi£
)

	)

299 
	#DRM_IOCTL_MSM_SUBMITQUEUE_NEW
 
	`DRM_IOWR
(
DRM_COMMAND_BASE
 + 
DRM_MSM_SUBMITQUEUE_NEW
, 
drm_msm_subm™queue
)

	)

300 
	#DRM_IOCTL_MSM_SUBMITQUEUE_CLOSE
 
	`DRM_IOW
 (
DRM_COMMAND_BASE
 + 
DRM_MSM_SUBMITQUEUE_CLOSE
, 
__u32
)

	)

302 #ià
defšed
(
__ýlu¥lus
)

	@src/common/linuxkpi/include/uapi/drm/nouveau_drm.h

25 #iâdeà
__NOUVEAU_DRM_H__


26 
	#__NOUVEAU_DRM_H__


	)

28 
	#DRM_NOUVEAU_EVENT_NVIF
 0x80000000

	)

30 
	~"drm.h
"

32 #ià
defšed
(
__ýlu¥lus
)

36 
	#NOUVEAU_GEM_DOMAIN_CPU
 (1 << 0)

	)

37 
	#NOUVEAU_GEM_DOMAIN_VRAM
 (1 << 1)

	)

38 
	#NOUVEAU_GEM_DOMAIN_GART
 (1 << 2)

	)

39 
	#NOUVEAU_GEM_DOMAIN_MAPPABLE
 (1 << 3)

	)

40 
	#NOUVEAU_GEM_DOMAIN_COHERENT
 (1 << 4)

	)

42 
	#NOUVEAU_GEM_TILE_COMP
 0x00030000

	)

43 
	#NOUVEAU_GEM_TILE_LAYOUT_MASK
 0x0000ff00

	)

44 
	#NOUVEAU_GEM_TILE_16BPP
 0x00000001

	)

45 
	#NOUVEAU_GEM_TILE_32BPP
 0x00000002

	)

46 
	#NOUVEAU_GEM_TILE_ZETA
 0x00000004

	)

47 
	#NOUVEAU_GEM_TILE_NONCONTIG
 0x00000008

	)

49 
	sdrm_nouv—u_gem_šfo
 {

50 
__u32
 
hªdË
;

51 
__u32
 
domaš
;

52 
__u64
 
size
;

53 
__u64
 
off£t
;

54 
__u64
 
m­_hªdË
;

55 
__u32
 
tže_mode
;

56 
__u32
 
tže_æags
;

59 
	sdrm_nouv—u_gem_Ãw
 {

60 
drm_nouv—u_gem_šfo
 
šfo
;

61 
__u32
 
chªÃl_hšt
;

62 
__u32
 
®ign
;

65 
	#NOUVEAU_GEM_MAX_BUFFERS
 1024

	)

66 
	sdrm_nouv—u_gem_pushbuf_bo_´esumed
 {

67 
__u32
 
v®id
;

68 
__u32
 
domaš
;

69 
__u64
 
off£t
;

72 
	sdrm_nouv—u_gem_pushbuf_bo
 {

73 
__u64
 
u£r_´iv
;

74 
__u32
 
hªdË
;

75 
__u32
 
»ad_domašs
;

76 
__u32
 
wr™e_domašs
;

77 
__u32
 
v®id_domašs
;

78 
drm_nouv—u_gem_pushbuf_bo_´esumed
 
´esumed
;

81 
	#NOUVEAU_GEM_RELOC_LOW
 (1 << 0)

	)

82 
	#NOUVEAU_GEM_RELOC_HIGH
 (1 << 1)

	)

83 
	#NOUVEAU_GEM_RELOC_OR
 (1 << 2)

	)

84 
	#NOUVEAU_GEM_MAX_RELOCS
 1024

	)

85 
	sdrm_nouv—u_gem_pushbuf_»loc
 {

86 
__u32
 
»loc_bo_šdex
;

87 
__u32
 
»loc_bo_off£t
;

88 
__u32
 
bo_šdex
;

89 
__u32
 
æags
;

90 
__u32
 
d©a
;

91 
__u32
 
vÜ
;

92 
__u32
 
tÜ
;

95 
	#NOUVEAU_GEM_MAX_PUSH
 512

	)

96 
	sdrm_nouv—u_gem_pushbuf_push
 {

97 
__u32
 
bo_šdex
;

98 
__u32
 
·d
;

99 
__u64
 
off£t
;

100 
__u64
 
Ëngth
;

103 
	sdrm_nouv—u_gem_pushbuf
 {

104 
__u32
 
chªÃl
;

105 
__u32
 
Ä_bufãrs
;

106 
__u64
 
bufãrs
;

107 
__u32
 
Ä_»locs
;

108 
__u32
 
Ä_push
;

109 
__u64
 
»locs
;

110 
__u64
 
push
;

111 
__u32
 
suffix0
;

112 
__u32
 
suffix1
;

113 
__u64
 
v¿m_avažabË
;

114 
__u64
 
g¬t_avažabË
;

117 
	#NOUVEAU_GEM_CPU_PREP_NOWAIT
 0x00000001

	)

118 
	#NOUVEAU_GEM_CPU_PREP_WRITE
 0x00000004

	)

119 
	sdrm_nouv—u_gem_ýu_´•
 {

120 
__u32
 
hªdË
;

121 
__u32
 
æags
;

124 
	sdrm_nouv—u_gem_ýu_fši
 {

125 
__u32
 
hªdË
;

128 
	#DRM_NOUVEAU_GETPARAM
 0x00

	)

129 
	#DRM_NOUVEAU_SETPARAM
 0x01

	)

130 
	#DRM_NOUVEAU_CHANNEL_ALLOC
 0x02

	)

131 
	#DRM_NOUVEAU_CHANNEL_FREE
 0x03

	)

132 
	#DRM_NOUVEAU_GROBJ_ALLOC
 0x04

	)

133 
	#DRM_NOUVEAU_NOTIFIEROBJ_ALLOC
 0x05

	)

134 
	#DRM_NOUVEAU_GPUOBJ_FREE
 0x06

	)

135 
	#DRM_NOUVEAU_NVIF
 0x07

	)

136 
	#DRM_NOUVEAU_GEM_NEW
 0x40

	)

137 
	#DRM_NOUVEAU_GEM_PUSHBUF
 0x41

	)

138 
	#DRM_NOUVEAU_GEM_CPU_PREP
 0x42

	)

139 
	#DRM_NOUVEAU_GEM_CPU_FINI
 0x43

	)

140 
	#DRM_NOUVEAU_GEM_INFO
 0x44

	)

142 
	#DRM_IOCTL_NOUVEAU_GEM_NEW
 
	`DRM_IOWR
(
DRM_COMMAND_BASE
 + 
DRM_NOUVEAU_GEM_NEW
, 
drm_nouv—u_gem_Ãw
)

	)

143 
	#DRM_IOCTL_NOUVEAU_GEM_PUSHBUF
 
	`DRM_IOWR
(
DRM_COMMAND_BASE
 + 
DRM_NOUVEAU_GEM_PUSHBUF
, 
drm_nouv—u_gem_pushbuf
)

	)

144 
	#DRM_IOCTL_NOUVEAU_GEM_CPU_PREP
 
	`DRM_IOW
 (
DRM_COMMAND_BASE
 + 
DRM_NOUVEAU_GEM_CPU_PREP
, 
drm_nouv—u_gem_ýu_´•
)

	)

145 
	#DRM_IOCTL_NOUVEAU_GEM_CPU_FINI
 
	`DRM_IOW
 (
DRM_COMMAND_BASE
 + 
DRM_NOUVEAU_GEM_CPU_FINI
, 
drm_nouv—u_gem_ýu_fši
)

	)

146 
	#DRM_IOCTL_NOUVEAU_GEM_INFO
 
	`DRM_IOWR
(
DRM_COMMAND_BASE
 + 
DRM_NOUVEAU_GEM_INFO
, 
drm_nouv—u_gem_šfo
)

	)

148 #ià
defšed
(
__ýlu¥lus
)

	@src/common/linuxkpi/include/uapi/drm/omap_drm.h

21 #iâdeà
__OMAP_DRM_H__


22 
	#__OMAP_DRM_H__


	)

24 
	~"drm.h
"

26 #ià
defšed
(
__ýlu¥lus
)

34 
	#OMAP_PARAM_CHIPSET_ID
 1

	)

36 
	sdrm_om­_·¿m
 {

37 
__u64
 
·¿m
;

38 
__u64
 
v®ue
;

41 
	#OMAP_BO_SCANOUT
 0x00000001

	)

42 
	#OMAP_BO_CACHE_MASK
 0x00000006

	)

43 
	#OMAP_BO_TILED_MASK
 0x00000f00

	)

46 
	#OMAP_BO_CACHED
 0x00000000

	)

47 
	#OMAP_BO_WC
 0x00000002

	)

48 
	#OMAP_BO_UNCACHED
 0x00000004

	)

51 
	#OMAP_BO_TILED_8
 0x00000100

	)

52 
	#OMAP_BO_TILED_16
 0x00000200

	)

53 
	#OMAP_BO_TILED_32
 0x00000300

	)

54 
	#OMAP_BO_TILED
 (
OMAP_BO_TILED_8
 | 
OMAP_BO_TILED_16
 | 
OMAP_BO_TILED_32
)

	)

56 
	uom­_gem_size
 {

57 
__u32
 
by‹s
;

59 
__u16
 
width
;

60 
__u16
 
height
;

61 } 
tžed
;

64 
	sdrm_om­_gem_Ãw
 {

65 
om­_gem_size
 
size
;

66 
__u32
 
æags
;

67 
__u32
 
hªdË
;

68 
__u32
 
__·d
;

72 
	eom­_gem_Ý
 {

73 
OMAP_GEM_READ
 = 0x01,

74 
OMAP_GEM_WRITE
 = 0x02,

77 
	sdrm_om­_gem_ýu_´•
 {

78 
__u32
 
hªdË
;

79 
__u32
 
Ý
;

82 
	sdrm_om­_gem_ýu_fši
 {

83 
__u32
 
hªdË
;

84 
__u32
 
Ý
;

89 
__u32
 
ÄegiÚs
;

90 
__u32
 
__·d
;

93 
	sdrm_om­_gem_šfo
 {

94 
__u32
 
hªdË
;

95 
__u32
 
·d
;

96 
__u64
 
off£t
;

103 
__u32
 
size
;

104 
__u32
 
__·d
;

107 
	#DRM_OMAP_GET_PARAM
 0x00

	)

108 
	#DRM_OMAP_SET_PARAM
 0x01

	)

109 
	#DRM_OMAP_GEM_NEW
 0x03

	)

110 
	#DRM_OMAP_GEM_CPU_PREP
 0x04

	)

111 
	#DRM_OMAP_GEM_CPU_FINI
 0x05

	)

112 
	#DRM_OMAP_GEM_INFO
 0x06

	)

113 
	#DRM_OMAP_NUM_IOCTLS
 0x07

	)

115 
	#DRM_IOCTL_OMAP_GET_PARAM
 
	`DRM_IOWR
(
DRM_COMMAND_BASE
 + 
DRM_OMAP_GET_PARAM
, 
drm_om­_·¿m
)

	)

116 
	#DRM_IOCTL_OMAP_SET_PARAM
 
	`DRM_IOW
 (
DRM_COMMAND_BASE
 + 
DRM_OMAP_SET_PARAM
, 
drm_om­_·¿m
)

	)

117 
	#DRM_IOCTL_OMAP_GEM_NEW
 
	`DRM_IOWR
(
DRM_COMMAND_BASE
 + 
DRM_OMAP_GEM_NEW
, 
drm_om­_gem_Ãw
)

	)

118 
	#DRM_IOCTL_OMAP_GEM_CPU_PREP
 
	`DRM_IOW
 (
DRM_COMMAND_BASE
 + 
DRM_OMAP_GEM_CPU_PREP
, 
drm_om­_gem_ýu_´•
)

	)

119 
	#DRM_IOCTL_OMAP_GEM_CPU_FINI
 
	`DRM_IOW
 (
DRM_COMMAND_BASE
 + 
DRM_OMAP_GEM_CPU_FINI
, 
drm_om­_gem_ýu_fši
)

	)

120 
	#DRM_IOCTL_OMAP_GEM_INFO
 
	`DRM_IOWR
(
DRM_COMMAND_BASE
 + 
DRM_OMAP_GEM_INFO
, 
drm_om­_gem_šfo
)

	)

122 #ià
defšed
(
__ýlu¥lus
)

	@src/common/linuxkpi/include/uapi/drm/qxl_drm.h

24 #iâdeà
QXL_DRM_H


25 
	#QXL_DRM_H


	)

27 
	~"drm.h
"

29 #ià
defšed
(
__ýlu¥lus
)

40 
	#QXL_GEM_DOMAIN_CPU
 0

	)

41 
	#QXL_GEM_DOMAIN_VRAM
 1

	)

42 
	#QXL_GEM_DOMAIN_SURFACE
 2

	)

44 
	#DRM_QXL_ALLOC
 0x00

	)

45 
	#DRM_QXL_MAP
 0x01

	)

46 
	#DRM_QXL_EXECBUFFER
 0x02

	)

47 
	#DRM_QXL_UPDATE_AREA
 0x03

	)

48 
	#DRM_QXL_GETPARAM
 0x04

	)

49 
	#DRM_QXL_CLIENTCAP
 0x05

	)

51 
	#DRM_QXL_ALLOC_SURF
 0x06

	)

53 
	sdrm_qxl_®loc
 {

54 
__u32
 
size
;

55 
__u32
 
hªdË
;

58 
	sdrm_qxl_m­
 {

59 
__u64
 
off£t
;

60 
__u32
 
hªdË
;

61 
__u32
 
·d
;

70 
	#QXL_RELOC_TYPE_BO
 1

	)

71 
	#QXL_RELOC_TYPE_SURF
 2

	)

73 
	sdrm_qxl_»loc
 {

74 
__u64
 
¤c_off£t
;

75 
__u64
 
d¡_off£t
;

76 
__u32
 
¤c_hªdË
;

77 
__u32
 
d¡_hªdË
;

78 
__u32
 
»loc_ty³
;

79 
__u32
 
·d
;

82 
	sdrm_qxl_commªd
 {

83 
__u64
 
commªd
;

84 
__u64
 
»locs
;

85 
__u32
 
ty³
;

86 
__u32
 
commªd_size
;

87 
__u32
 
»locs_num
;

88 
__u32
 
·d
;

91 
	sdrm_qxl_execbufãr
 {

92 
__u32
 
æags
;

93 
__u32
 
commªds_num
;

94 
__u64
 
commªds
;

97 
	sdrm_qxl_upd©e_¬—
 {

98 
__u32
 
hªdË
;

99 
__u32
 
tÝ
;

100 
__u32
 
Ëá
;

101 
__u32
 
bÙtom
;

102 
__u32
 
right
;

103 
__u32
 
·d
;

106 
	#QXL_PARAM_NUM_SURFACES
 1

	)

107 
	#QXL_PARAM_MAX_RELOCS
 2

	)

108 
	sdrm_qxl_g‘·¿m
 {

109 
__u64
 
·¿m
;

110 
__u64
 
v®ue
;

114 
	sdrm_qxl_þ›Áÿp
 {

115 
__u32
 
šdex
;

116 
__u32
 
·d
;

119 
	sdrm_qxl_®loc_surf
 {

120 
__u32
 
fÜm©
;

121 
__u32
 
width
;

122 
__u32
 
height
;

123 
__s32
 
¡ride
;

124 
__u32
 
hªdË
;

125 
__u32
 
·d
;

128 
	#DRM_IOCTL_QXL_ALLOC
 \

129 
	`DRM_IOWR
(
DRM_COMMAND_BASE
 + 
DRM_QXL_ALLOC
, 
drm_qxl_®loc
)

	)

131 
	#DRM_IOCTL_QXL_MAP
 \

132 
	`DRM_IOWR
(
DRM_COMMAND_BASE
 + 
DRM_QXL_MAP
, 
drm_qxl_m­
)

	)

134 
	#DRM_IOCTL_QXL_EXECBUFFER
 \

135 
	`DRM_IOW
(
DRM_COMMAND_BASE
 + 
DRM_QXL_EXECBUFFER
,\

136 
drm_qxl_execbufãr
)

	)

138 
	#DRM_IOCTL_QXL_UPDATE_AREA
 \

139 
	`DRM_IOW
(
DRM_COMMAND_BASE
 + 
DRM_QXL_UPDATE_AREA
,\

140 
drm_qxl_upd©e_¬—
)

	)

142 
	#DRM_IOCTL_QXL_GETPARAM
 \

143 
	`DRM_IOWR
(
DRM_COMMAND_BASE
 + 
DRM_QXL_GETPARAM
,\

144 
drm_qxl_g‘·¿m
)

	)

146 
	#DRM_IOCTL_QXL_CLIENTCAP
 \

147 
	`DRM_IOW
(
DRM_COMMAND_BASE
 + 
DRM_QXL_CLIENTCAP
,\

148 
drm_qxl_þ›Áÿp
)

	)

150 
	#DRM_IOCTL_QXL_ALLOC_SURF
 \

151 
	`DRM_IOWR
(
DRM_COMMAND_BASE
 + 
DRM_QXL_ALLOC_SURF
,\

152 
drm_qxl_®loc_surf
)

	)

154 #ià
defšed
(
__ýlu¥lus
)

	@src/common/linuxkpi/include/uapi/drm/r128_drm.h

33 #iâdeà
__R128_DRM_H__


34 
	#__R128_DRM_H__


	)

36 
	~"drm.h
"

38 #ià
defšed
(
__ýlu¥lus
)

45 #iâdeà
__R128_SAREA_DEFINES__


46 
	#__R128_SAREA_DEFINES__


	)

50 
	#R128_UPLOAD_CONTEXT
 0x001

	)

51 
	#R128_UPLOAD_SETUP
 0x002

	)

52 
	#R128_UPLOAD_TEX0
 0x004

	)

53 
	#R128_UPLOAD_TEX1
 0x008

	)

54 
	#R128_UPLOAD_TEX0IMAGES
 0x010

	)

55 
	#R128_UPLOAD_TEX1IMAGES
 0x020

	)

56 
	#R128_UPLOAD_CORE
 0x040

	)

57 
	#R128_UPLOAD_MASKS
 0x080

	)

58 
	#R128_UPLOAD_WINDOW
 0x100

	)

59 
	#R128_UPLOAD_CLIPRECTS
 0x200

	)

60 
	#R128_REQUIRE_QUIESCENCE
 0x400

	)

61 
	#R128_UPLOAD_ALL
 0x7ff

	)

63 
	#R128_FRONT
 0x1

	)

64 
	#R128_BACK
 0x2

	)

65 
	#R128_DEPTH
 0x4

	)

69 
	#R128_POINTS
 0x1

	)

70 
	#R128_LINES
 0x2

	)

71 
	#R128_LINE_STRIP
 0x3

	)

72 
	#R128_TRIANGLES
 0x4

	)

73 
	#R128_TRIANGLE_FAN
 0x5

	)

74 
	#R128_TRIANGLE_STRIP
 0x6

	)

78 
	#R128_BUFFER_SIZE
 16384

	)

82 
	#R128_INDEX_PRIM_OFFSET
 20

	)

83 
	#R128_HOSTDATA_BLIT_OFFSET
 32

	)

87 
	#R128_NR_SAREA_CLIPRECTS
 12

	)

92 
	#R128_LOCAL_TEX_HEAP
 0

	)

93 
	#R128_AGP_TEX_HEAP
 1

	)

94 
	#R128_NR_TEX_HEAPS
 2

	)

95 
	#R128_NR_TEX_REGIONS
 64

	)

96 
	#R128_LOG_TEX_GRANULARITY
 16

	)

98 
	#R128_NR_CONTEXT_REGS
 12

	)

100 
	#R128_MAX_TEXTURE_LEVELS
 11

	)

101 
	#R128_MAX_TEXTURE_UNITS
 2

	)

107 
d¡_p™ch_off£t_c
;

108 
dp_gui_ma¡”_úŽ_c
;

109 
sc_tÝ_Ëá_c
;

110 
sc_bÙtom_right_c
;

111 
z_off£t_c
;

112 
z_p™ch_c
;

113 
z_¡’_úŽ_c
;

114 
‹x_úŽ_c
;

115 
misc_3d_¡©e_úŽ_»g
;

116 
‹xtu»_þr_cmp_þr_c
;

117 
‹xtu»_þr_cmp_msk_c
;

118 
fog_cÞÜ_c
;

121 
‹x_size_p™ch_c
;

122 
cÚ¡ªt_cÞÜ_c
;

125 
pm4_vc_åu_£tup
;

126 
£tup_úŽ
;

129 
dp_wr™e_mask
;

130 
¡’_»f_mask_c
;

131 
¶ªe_3d_mask_c
;

134 
wšdow_xy_off£t
;

137 
sÿË_3d_úŽ
;

138 } 
	tdrm_r128_cÚ‹xt_»gs_t
;

143 
‹x_úŽ
;

144 
‹x_combše_úŽ
;

145 
‹x_size_p™ch
;

146 
‹x_off£t
[
R128_MAX_TEXTURE_LEVELS
];

147 
‹x_bÜd”_cÞÜ
;

148 } 
	tdrm_r128_‹xtu»_»gs_t
;

150 
	sdrm_r128_§»a
 {

154 
drm_r128_cÚ‹xt_»gs_t
 
cÚ‹xt_¡©e
;

155 
drm_r128_‹xtu»_»gs_t
 
‹x_¡©e
[
R128_MAX_TEXTURE_UNITS
];

156 
dœty
;

157 
v”tsize
;

158 
vc_fÜm©
;

162 
drm_þ_»ù
 
boxes
[
R128_NR_SAREA_CLIPRECTS
];

163 
nbox
;

167 
Ï¡_äame
;

168 
Ï¡_di¥©ch
;

170 
drm_‹x_»giÚ
 
‹x_li¡
[
R128_NR_TEX_HEAPS
][
R128_NR_TEX_REGIONS
 + 1];

171 
‹x_age
[
R128_NR_TEX_HEAPS
];

172 
ùx_owÃr
;

173 
pfAÎowPageFl
;

174 
pfCu¼’tPage
;

175 } 
	tdrm_r128_§»a_t
;

184 
	#DRM_R128_INIT
 0x00

	)

185 
	#DRM_R128_CCE_START
 0x01

	)

186 
	#DRM_R128_CCE_STOP
 0x02

	)

187 
	#DRM_R128_CCE_RESET
 0x03

	)

188 
	#DRM_R128_CCE_IDLE
 0x04

	)

190 
	#DRM_R128_RESET
 0x06

	)

191 
	#DRM_R128_SWAP
 0x07

	)

192 
	#DRM_R128_CLEAR
 0x08

	)

193 
	#DRM_R128_VERTEX
 0x09

	)

194 
	#DRM_R128_INDICES
 0x0a

	)

195 
	#DRM_R128_BLIT
 0x0b

	)

196 
	#DRM_R128_DEPTH
 0x0c

	)

197 
	#DRM_R128_STIPPLE
 0x0d

	)

199 
	#DRM_R128_INDIRECT
 0x0f

	)

200 
	#DRM_R128_FULLSCREEN
 0x10

	)

201 
	#DRM_R128_CLEAR2
 0x11

	)

202 
	#DRM_R128_GETPARAM
 0x12

	)

203 
	#DRM_R128_FLIP
 0x13

	)

205 
	#DRM_IOCTL_R128_INIT
 
	`DRM_IOW
Ð
DRM_COMMAND_BASE
 + 
DRM_R128_INIT
, 
drm_r128_š™_t
)

	)

206 
	#DRM_IOCTL_R128_CCE_START
 
	`DRM_IO
Ð
DRM_COMMAND_BASE
 + 
DRM_R128_CCE_START
)

	)

207 
	#DRM_IOCTL_R128_CCE_STOP
 
	`DRM_IOW
Ð
DRM_COMMAND_BASE
 + 
DRM_R128_CCE_STOP
, 
drm_r128_cû_¡Ý_t
)

	)

208 
	#DRM_IOCTL_R128_CCE_RESET
 
	`DRM_IO
Ð
DRM_COMMAND_BASE
 + 
DRM_R128_CCE_RESET
)

	)

209 
	#DRM_IOCTL_R128_CCE_IDLE
 
	`DRM_IO
Ð
DRM_COMMAND_BASE
 + 
DRM_R128_CCE_IDLE
)

	)

211 
	#DRM_IOCTL_R128_RESET
 
	`DRM_IO
Ð
DRM_COMMAND_BASE
 + 
DRM_R128_RESET
)

	)

212 
	#DRM_IOCTL_R128_SWAP
 
	`DRM_IO
Ð
DRM_COMMAND_BASE
 + 
DRM_R128_SWAP
)

	)

213 
	#DRM_IOCTL_R128_CLEAR
 
	`DRM_IOW
Ð
DRM_COMMAND_BASE
 + 
DRM_R128_CLEAR
, 
drm_r128_þ—r_t
)

	)

214 
	#DRM_IOCTL_R128_VERTEX
 
	`DRM_IOW
Ð
DRM_COMMAND_BASE
 + 
DRM_R128_VERTEX
, 
drm_r128_v”‹x_t
)

	)

215 
	#DRM_IOCTL_R128_INDICES
 
	`DRM_IOW
Ð
DRM_COMMAND_BASE
 + 
DRM_R128_INDICES
, 
drm_r128_šdiûs_t
)

	)

216 
	#DRM_IOCTL_R128_BLIT
 
	`DRM_IOW
Ð
DRM_COMMAND_BASE
 + 
DRM_R128_BLIT
, 
drm_r128_bl™_t
)

	)

217 
	#DRM_IOCTL_R128_DEPTH
 
	`DRM_IOW
Ð
DRM_COMMAND_BASE
 + 
DRM_R128_DEPTH
, 
drm_r128_d•th_t
)

	)

218 
	#DRM_IOCTL_R128_STIPPLE
 
	`DRM_IOW
Ð
DRM_COMMAND_BASE
 + 
DRM_R128_STIPPLE
, 
drm_r128_¡¶e_t
)

	)

220 
	#DRM_IOCTL_R128_INDIRECT
 
	`DRM_IOWR
(
DRM_COMMAND_BASE
 + 
DRM_R128_INDIRECT
, 
drm_r128_šdœeù_t
)

	)

221 
	#DRM_IOCTL_R128_FULLSCREEN
 
	`DRM_IOW
Ð
DRM_COMMAND_BASE
 + 
DRM_R128_FULLSCREEN
, 
drm_r128_fuÎsü“n_t
)

	)

222 
	#DRM_IOCTL_R128_CLEAR2
 
	`DRM_IOW
Ð
DRM_COMMAND_BASE
 + 
DRM_R128_CLEAR2
, 
drm_r128_þ—r2_t
)

	)

223 
	#DRM_IOCTL_R128_GETPARAM
 
	`DRM_IOWR
Ð
DRM_COMMAND_BASE
 + 
DRM_R128_GETPARAM
, 
drm_r128_g‘·¿m_t
)

	)

224 
	#DRM_IOCTL_R128_FLIP
 
	`DRM_IO
Ð
DRM_COMMAND_BASE
 + 
DRM_R128_FLIP
)

	)

226 
	sdrm_r128_š™
 {

228 
R128_INIT_CCE
 = 0x01,

229 
R128_CLEANUP_CCE
 = 0x02

230 } 
func
;

231 
§»a_´iv_off£t
;

232 
is_pci
;

233 
cû_mode
;

234 
cû_£cu»
;

235 
ršg_size
;

236 
u£c_timeout
;

238 
fb_bµ
;

239 
äÚt_off£t
, 
äÚt_p™ch
;

240 
back_off£t
, 
back_p™ch
;

241 
d•th_bµ
;

242 
d•th_off£t
, 
d•th_p™ch
;

243 
¥ª_off£t
;

245 
fb_off£t
;

246 
mmio_off£t
;

247 
ršg_off£t
;

248 
ršg_½Œ_off£t
;

249 
bufãrs_off£t
;

250 
agp_‹xtu»s_off£t
;

251 } 
	tdrm_r128_š™_t
;

253 
	sdrm_r128_cû_¡Ý
 {

254 
æush
;

255 
idË
;

256 } 
	tdrm_r128_cû_¡Ý_t
;

258 
	sdrm_r128_þ—r
 {

259 
æags
;

260 
þ—r_cÞÜ
;

261 
þ—r_d•th
;

262 
cÞÜ_mask
;

263 
d•th_mask
;

264 } 
	tdrm_r128_þ—r_t
;

266 
	sdrm_r128_v”‹x
 {

267 
´im
;

268 
idx
;

269 
couÁ
;

270 
disÿrd
;

271 } 
	tdrm_r128_v”‹x_t
;

273 
	sdrm_r128_šdiûs
 {

274 
´im
;

275 
idx
;

276 
¡¬t
;

277 
’d
;

278 
disÿrd
;

279 } 
	tdrm_r128_šdiûs_t
;

281 
	sdrm_r128_bl™
 {

282 
idx
;

283 
p™ch
;

284 
off£t
;

285 
fÜm©
;

286 
x
, 
y
;

287 
width
, 
height
;

288 } 
	tdrm_r128_bl™_t
;

290 
	sdrm_r128_d•th
 {

292 
R128_WRITE_SPAN
 = 0x01,

293 
R128_WRITE_PIXELS
 = 0x02,

294 
R128_READ_SPAN
 = 0x03,

295 
R128_READ_PIXELS
 = 0x04

296 } 
func
;

297 
n
;

298 
__u£r
 *
x
;

299 
__u£r
 *
y
;

300 
__u£r
 *
bufãr
;

301 
__u£r
 *
mask
;

302 } 
	tdrm_r128_d•th_t
;

304 
	sdrm_r128_¡¶e
 {

305 
__u£r
 *
mask
;

306 } 
	tdrm_r128_¡¶e_t
;

308 
	sdrm_r128_šdœeù
 {

309 
idx
;

310 
¡¬t
;

311 
’d
;

312 
disÿrd
;

313 } 
	tdrm_r128_šdœeù_t
;

315 
	sdrm_r128_fuÎsü“n
 {

317 
R128_INIT_FULLSCREEN
 = 0x01,

318 
R128_CLEANUP_FULLSCREEN
 = 0x02

319 } 
func
;

320 } 
	tdrm_r128_fuÎsü“n_t
;

325 
	#R128_PARAM_IRQ_NR
 1

	)

327 
	sdrm_r128_g‘·¿m
 {

328 
·¿m
;

329 
__u£r
 *
v®ue
;

330 } 
	tdrm_r128_g‘·¿m_t
;

332 #ià
defšed
(
__ýlu¥lus
)

	@src/common/linuxkpi/include/uapi/drm/radeon_drm.h

33 #iâdeà
__RADEON_DRM_H__


34 
	#__RADEON_DRM_H__


	)

36 
	~"drm.h
"

38 #ià
defšed
(
__ýlu¥lus
)

45 #iâdeà
__RADEON_SAREA_DEFINES__


46 
	#__RADEON_SAREA_DEFINES__


	)

51 
	#RADEON_UPLOAD_CONTEXT
 0x00000001

	)

52 
	#RADEON_UPLOAD_VERTFMT
 0x00000002

	)

53 
	#RADEON_UPLOAD_LINE
 0x00000004

	)

54 
	#RADEON_UPLOAD_BUMPMAP
 0x00000008

	)

55 
	#RADEON_UPLOAD_MASKS
 0x00000010

	)

56 
	#RADEON_UPLOAD_VIEWPORT
 0x00000020

	)

57 
	#RADEON_UPLOAD_SETUP
 0x00000040

	)

58 
	#RADEON_UPLOAD_TCL
 0x00000080

	)

59 
	#RADEON_UPLOAD_MISC
 0x00000100

	)

60 
	#RADEON_UPLOAD_TEX0
 0x00000200

	)

61 
	#RADEON_UPLOAD_TEX1
 0x00000400

	)

62 
	#RADEON_UPLOAD_TEX2
 0x00000800

	)

63 
	#RADEON_UPLOAD_TEX0IMAGES
 0x00001000

	)

64 
	#RADEON_UPLOAD_TEX1IMAGES
 0x00002000

	)

65 
	#RADEON_UPLOAD_TEX2IMAGES
 0x00004000

	)

66 
	#RADEON_UPLOAD_CLIPRECTS
 0x00008000

	)

67 
	#RADEON_REQUIRE_QUIESCENCE
 0x00010000

	)

68 
	#RADEON_UPLOAD_ZBIAS
 0x00020000

	)

69 
	#RADEON_UPLOAD_ALL
 0x003effff

	)

70 
	#RADEON_UPLOAD_CONTEXT_ALL
 0x003e01ff

	)

76 
	#RADEON_EMIT_PP_MISC
 0

	)

77 
	#RADEON_EMIT_PP_CNTL
 1

	)

78 
	#RADEON_EMIT_RB3D_COLORPITCH
 2

	)

79 
	#RADEON_EMIT_RE_LINE_PATTERN
 3

	)

80 
	#RADEON_EMIT_SE_LINE_WIDTH
 4

	)

81 
	#RADEON_EMIT_PP_LUM_MATRIX
 5

	)

82 
	#RADEON_EMIT_PP_ROT_MATRIX_0
 6

	)

83 
	#RADEON_EMIT_RB3D_STENCILREFMASK
 7

	)

84 
	#RADEON_EMIT_SE_VPORT_XSCALE
 8

	)

85 
	#RADEON_EMIT_SE_CNTL
 9

	)

86 
	#RADEON_EMIT_SE_CNTL_STATUS
 10

	)

87 
	#RADEON_EMIT_RE_MISC
 11

	)

88 
	#RADEON_EMIT_PP_TXFILTER_0
 12

	)

89 
	#RADEON_EMIT_PP_BORDER_COLOR_0
 13

	)

90 
	#RADEON_EMIT_PP_TXFILTER_1
 14

	)

91 
	#RADEON_EMIT_PP_BORDER_COLOR_1
 15

	)

92 
	#RADEON_EMIT_PP_TXFILTER_2
 16

	)

93 
	#RADEON_EMIT_PP_BORDER_COLOR_2
 17

	)

94 
	#RADEON_EMIT_SE_ZBIAS_FACTOR
 18

	)

95 
	#RADEON_EMIT_SE_TCL_OUTPUT_VTX_FMT
 19

	)

96 
	#RADEON_EMIT_SE_TCL_MATERIAL_EMMISSIVE_RED
 20

	)

97 
	#R200_EMIT_PP_TXCBLEND_0
 21

	)

98 
	#R200_EMIT_PP_TXCBLEND_1
 22

	)

99 
	#R200_EMIT_PP_TXCBLEND_2
 23

	)

100 
	#R200_EMIT_PP_TXCBLEND_3
 24

	)

101 
	#R200_EMIT_PP_TXCBLEND_4
 25

	)

102 
	#R200_EMIT_PP_TXCBLEND_5
 26

	)

103 
	#R200_EMIT_PP_TXCBLEND_6
 27

	)

104 
	#R200_EMIT_PP_TXCBLEND_7
 28

	)

105 
	#R200_EMIT_TCL_LIGHT_MODEL_CTL_0
 29

	)

106 
	#R200_EMIT_TFACTOR_0
 30

	)

107 
	#R200_EMIT_VTX_FMT_0
 31

	)

108 
	#R200_EMIT_VAP_CTL
 32

	)

109 
	#R200_EMIT_MATRIX_SELECT_0
 33

	)

110 
	#R200_EMIT_TEX_PROC_CTL_2
 34

	)

111 
	#R200_EMIT_TCL_UCP_VERT_BLEND_CTL
 35

	)

112 
	#R200_EMIT_PP_TXFILTER_0
 36

	)

113 
	#R200_EMIT_PP_TXFILTER_1
 37

	)

114 
	#R200_EMIT_PP_TXFILTER_2
 38

	)

115 
	#R200_EMIT_PP_TXFILTER_3
 39

	)

116 
	#R200_EMIT_PP_TXFILTER_4
 40

	)

117 
	#R200_EMIT_PP_TXFILTER_5
 41

	)

118 
	#R200_EMIT_PP_TXOFFSET_0
 42

	)

119 
	#R200_EMIT_PP_TXOFFSET_1
 43

	)

120 
	#R200_EMIT_PP_TXOFFSET_2
 44

	)

121 
	#R200_EMIT_PP_TXOFFSET_3
 45

	)

122 
	#R200_EMIT_PP_TXOFFSET_4
 46

	)

123 
	#R200_EMIT_PP_TXOFFSET_5
 47

	)

124 
	#R200_EMIT_VTE_CNTL
 48

	)

125 
	#R200_EMIT_OUTPUT_VTX_COMP_SEL
 49

	)

126 
	#R200_EMIT_PP_TAM_DEBUG3
 50

	)

127 
	#R200_EMIT_PP_CNTL_X
 51

	)

128 
	#R200_EMIT_RB3D_DEPTHXY_OFFSET
 52

	)

129 
	#R200_EMIT_RE_AUX_SCISSOR_CNTL
 53

	)

130 
	#R200_EMIT_RE_SCISSOR_TL_0
 54

	)

131 
	#R200_EMIT_RE_SCISSOR_TL_1
 55

	)

132 
	#R200_EMIT_RE_SCISSOR_TL_2
 56

	)

133 
	#R200_EMIT_SE_VAP_CNTL_STATUS
 57

	)

134 
	#R200_EMIT_SE_VTX_STATE_CNTL
 58

	)

135 
	#R200_EMIT_RE_POINTSIZE
 59

	)

136 
	#R200_EMIT_TCL_INPUT_VTX_VECTOR_ADDR_0
 60

	)

137 
	#R200_EMIT_PP_CUBIC_FACES_0
 61

	)

138 
	#R200_EMIT_PP_CUBIC_OFFSETS_0
 62

	)

139 
	#R200_EMIT_PP_CUBIC_FACES_1
 63

	)

140 
	#R200_EMIT_PP_CUBIC_OFFSETS_1
 64

	)

141 
	#R200_EMIT_PP_CUBIC_FACES_2
 65

	)

142 
	#R200_EMIT_PP_CUBIC_OFFSETS_2
 66

	)

143 
	#R200_EMIT_PP_CUBIC_FACES_3
 67

	)

144 
	#R200_EMIT_PP_CUBIC_OFFSETS_3
 68

	)

145 
	#R200_EMIT_PP_CUBIC_FACES_4
 69

	)

146 
	#R200_EMIT_PP_CUBIC_OFFSETS_4
 70

	)

147 
	#R200_EMIT_PP_CUBIC_FACES_5
 71

	)

148 
	#R200_EMIT_PP_CUBIC_OFFSETS_5
 72

	)

149 
	#RADEON_EMIT_PP_TEX_SIZE_0
 73

	)

150 
	#RADEON_EMIT_PP_TEX_SIZE_1
 74

	)

151 
	#RADEON_EMIT_PP_TEX_SIZE_2
 75

	)

152 
	#R200_EMIT_RB3D_BLENDCOLOR
 76

	)

153 
	#R200_EMIT_TCL_POINT_SPRITE_CNTL
 77

	)

154 
	#RADEON_EMIT_PP_CUBIC_FACES_0
 78

	)

155 
	#RADEON_EMIT_PP_CUBIC_OFFSETS_T0
 79

	)

156 
	#RADEON_EMIT_PP_CUBIC_FACES_1
 80

	)

157 
	#RADEON_EMIT_PP_CUBIC_OFFSETS_T1
 81

	)

158 
	#RADEON_EMIT_PP_CUBIC_FACES_2
 82

	)

159 
	#RADEON_EMIT_PP_CUBIC_OFFSETS_T2
 83

	)

160 
	#R200_EMIT_PP_TRI_PERF_CNTL
 84

	)

161 
	#R200_EMIT_PP_AFS_0
 85

	)

162 
	#R200_EMIT_PP_AFS_1
 86

	)

163 
	#R200_EMIT_ATF_TFACTOR
 87

	)

164 
	#R200_EMIT_PP_TXCTLALL_0
 88

	)

165 
	#R200_EMIT_PP_TXCTLALL_1
 89

	)

166 
	#R200_EMIT_PP_TXCTLALL_2
 90

	)

167 
	#R200_EMIT_PP_TXCTLALL_3
 91

	)

168 
	#R200_EMIT_PP_TXCTLALL_4
 92

	)

169 
	#R200_EMIT_PP_TXCTLALL_5
 93

	)

170 
	#R200_EMIT_VAP_PVS_CNTL
 94

	)

171 
	#RADEON_MAX_STATE_PACKETS
 95

	)

176 
	#RADEON_CMD_PACKET
 1

	)

177 
	#RADEON_CMD_SCALARS
 2

	)

178 
	#RADEON_CMD_VECTORS
 3

	)

179 
	#RADEON_CMD_DMA_DISCARD
 4

	)

180 
	#RADEON_CMD_PACKET3
 5

	)

181 
	#RADEON_CMD_PACKET3_CLIP
 6

	)

182 
	#RADEON_CMD_SCALARS2
 7

	)

183 
	#RADEON_CMD_WAIT
 8

	)

186 
	#RADEON_CMD_VECLINEAR
 9

	)

189 
i
;

191 
cmd_ty³
, 
·d0
, 
·d1
, 
·d2
;

192 } 
h—d”
;

194 
cmd_ty³
, 
·ck‘_id
, 
·d0
, 
·d1
;

195 } 
·ck‘
;

197 
cmd_ty³
, 
off£t
, 
¡ride
, 
couÁ
;

198 } 
sÿÏrs
;

200 
cmd_ty³
, 
off£t
, 
¡ride
, 
couÁ
;

201 } 
veùÜs
;

203 
cmd_ty³
, 
addr_lo
, 
addr_hi
, 
couÁ
;

204 } 
veþš—r
;

206 
cmd_ty³
, 
buf_idx
, 
·d0
, 
·d1
;

207 } 
dma
;

209 
cmd_ty³
, 
æags
, 
·d0
, 
·d1
;

210 } 
wa™
;

211 } 
	tdrm_¿deÚ_cmd_h—d”_t
;

213 
	#RADEON_WAIT_2D
 0x1

	)

214 
	#RADEON_WAIT_3D
 0x2

	)

218 
	#R300_CMD_PACKET3_CLEAR
 0

	)

219 
	#R300_CMD_PACKET3_RAW
 1

	)

225 
	#R300_CMD_PACKET0
 1

	)

226 
	#R300_CMD_VPU
 2

	)

227 
	#R300_CMD_PACKET3
 3

	)

228 
	#R300_CMD_END3D
 4

	)

229 
	#R300_CMD_CP_DELAY
 5

	)

230 
	#R300_CMD_DMA_DISCARD
 6

	)

231 
	#R300_CMD_WAIT
 7

	)

232 
	#R300_WAIT_2D
 0x1

	)

233 
	#R300_WAIT_3D
 0x2

	)

240 
	#R300_WAIT_2D_CLEAN
 0x3

	)

241 
	#R300_WAIT_3D_CLEAN
 0x4

	)

243 
	#R300_NEW_WAIT_2D_3D
 0x3

	)

244 
	#R300_NEW_WAIT_2D_2D_CLEAN
 0x4

	)

245 
	#R300_NEW_WAIT_3D_3D_CLEAN
 0x6

	)

246 
	#R300_NEW_WAIT_2D_2D_CLEAN_3D_3D_CLEAN
 0x8

	)

248 
	#R300_CMD_SCRATCH
 8

	)

249 
	#R300_CMD_R500FP
 9

	)

252 
	mu
;

254 
	mcmd_ty³
, 
	m·d0
, 
	m·d1
, 
	m·d2
;

255 } 
	mh—d”
;

257 
	mcmd_ty³
, 
	mcouÁ
, 
	m»glo
, 
	m»ghi
;

258 } 
	m·ck‘0
;

260 
	mcmd_ty³
, 
	mcouÁ
, 
	mad¾o
, 
	madrhi
;

261 } 
	mvpu
;

263 
	mcmd_ty³
, 
	m·ck‘
, 
	m·d0
, 
	m·d1
;

264 } 
	m·ck‘3
;

266 
	mcmd_ty³
, 
	m·ck‘
;

267 
	mcouÁ
;

268 } 
	md–ay
;

270 
	mcmd_ty³
, 
	mbuf_idx
, 
	m·d0
, 
	m·d1
;

271 } 
	mdma
;

273 
	mcmd_ty³
, 
	mæags
, 
	m·d0
, 
	m·d1
;

274 } 
	mwa™
;

276 
	mcmd_ty³
, 
	m»g
, 
	mn_bufs
, 
	mæags
;

277 } 
	msü©ch
;

279 
	mcmd_ty³
, 
	mcouÁ
, 
	mad¾o
, 
	madrhi_æags
;

280 } 
	mr500å
;

281 } 
	tdrm_r300_cmd_h—d”_t
;

283 
	#RADEON_FRONT
 0x1

	)

284 
	#RADEON_BACK
 0x2

	)

285 
	#RADEON_DEPTH
 0x4

	)

286 
	#RADEON_STENCIL
 0x8

	)

287 
	#RADEON_CLEAR_FASTZ
 0x80000000

	)

288 
	#RADEON_USE_HIERZ
 0x40000000

	)

289 
	#RADEON_USE_COMP_ZBUF
 0x20000000

	)

291 
	#R500FP_CONSTANT_TYPE
 (1 << 1)

	)

292 
	#R500FP_CONSTANT_CLAMP
 (1 << 2)

	)

296 
	#RADEON_POINTS
 0x1

	)

297 
	#RADEON_LINES
 0x2

	)

298 
	#RADEON_LINE_STRIP
 0x3

	)

299 
	#RADEON_TRIANGLES
 0x4

	)

300 
	#RADEON_TRIANGLE_FAN
 0x5

	)

301 
	#RADEON_TRIANGLE_STRIP
 0x6

	)

305 
	#RADEON_BUFFER_SIZE
 65536

	)

309 
	#RADEON_INDEX_PRIM_OFFSET
 20

	)

311 
	#RADEON_SCRATCH_REG_OFFSET
 32

	)

313 
	#R600_SCRATCH_REG_OFFSET
 256

	)

315 
	#RADEON_NR_SAREA_CLIPRECTS
 12

	)

320 
	#RADEON_LOCAL_TEX_HEAP
 0

	)

321 
	#RADEON_GART_TEX_HEAP
 1

	)

322 
	#RADEON_NR_TEX_HEAPS
 2

	)

323 
	#RADEON_NR_TEX_REGIONS
 64

	)

324 
	#RADEON_LOG_TEX_GRANULARITY
 16

	)

326 
	#RADEON_MAX_TEXTURE_LEVELS
 12

	)

327 
	#RADEON_MAX_TEXTURE_UNITS
 3

	)

329 
	#RADEON_MAX_SURFACES
 8

	)

334 
	#RADEON_OFFSET_SHIFT
 10

	)

335 
	#RADEON_OFFSET_ALIGN
 (1 << 
RADEON_OFFSET_SHIFT
)

	)

336 
	#RADEON_OFFSET_MASK
 (
RADEON_OFFSET_ALIGN
 - 1)

	)

341 
	g»d
;

342 
	gg»’
;

343 
	gblue
;

344 
	g®pha
;

345 } 
	t¿deÚ_cÞÜ_»gs_t
;

349 
	gµ_misc
;

350 
	gµ_fog_cÞÜ
;

351 
	g»_sÞid_cÞÜ
;

352 
	grb3d_bËndúŽ
;

353 
	grb3d_d•thoff£t
;

354 
	grb3d_d•thp™ch
;

355 
	grb3d_z¡’cžúŽ
;

357 
	gµ_úŽ
;

358 
	grb3d_úŽ
;

359 
	grb3d_cÞÜoff£t
;

360 
	g»_width_height
;

361 
	grb3d_cÞÜp™ch
;

362 
	g£_úŽ
;

365 
	g£_coÜd_fmt
;

368 
	g»_lše_·‰”n
;

369 
	g»_lše_¡©e
;

371 
	g£_lše_width
;

374 
	gµ_lum_m©rix
;

376 
	gµ_rÙ_m©rix_0
;

377 
	gµ_rÙ_m©rix_1
;

380 
	grb3d_¡’cž»fmask
;

381 
	grb3d_rÝúŽ
;

382 
	grb3d_¶ªemask
;

385 
	g£_vpÜt_xsÿË
;

386 
	g£_vpÜt_xoff£t
;

387 
	g£_vpÜt_ysÿË
;

388 
	g£_vpÜt_yoff£t
;

389 
	g£_vpÜt_zsÿË
;

390 
	g£_vpÜt_zoff£t
;

393 
	g£_úŽ_¡©us
;

396 
	g»_tÝ_Ëá
;

397 
	g»_misc
;

398 } 
	tdrm_¿deÚ_cÚ‹xt_»gs_t
;

402 
	g£_zbŸs_çùÜ
;

403 
	g£_zbŸs_cÚ¡ªt
;

404 } 
	tdrm_¿deÚ_cÚ‹xt2_»gs_t
;

409 
	gµ_txfž‹r
;

410 
	gµ_txfÜm©
;

411 
	gµ_txoff£t
;

412 
	gµ_txcbËnd
;

413 
	gµ_txabËnd
;

414 
	gµ_tçùÜ
;

415 
	gµ_bÜd”_cÞÜ
;

416 } 
	tdrm_¿deÚ_‹xtu»_»gs_t
;

419 
	g¡¬t
;

420 
	gfšish
;

421 
	g´im
:8;

422 
	g¡©eidx
:8;

423 
	gnumv”ts
:16;

424 
	gvc_fÜm©
;

425 } 
	tdrm_¿deÚ_´im_t
;

428 
drm_¿deÚ_cÚ‹xt_»gs_t
 
	gcÚ‹xt
;

429 
drm_¿deÚ_‹xtu»_»gs_t
 
	g‹x
[
RADEON_MAX_TEXTURE_UNITS
];

430 
drm_¿deÚ_cÚ‹xt2_»gs_t
 
	gcÚ‹xt2
;

431 
	gdœty
;

432 } 
	tdrm_¿deÚ_¡©e_t
;

439 
drm_¿deÚ_cÚ‹xt_»gs_t
 
	gcÚ‹xt_¡©e
;

440 
drm_¿deÚ_‹xtu»_»gs_t
 
	g‹x_¡©e
[
RADEON_MAX_TEXTURE_UNITS
];

441 
	gdœty
;

442 
	gv”tsize
;

443 
	gvc_fÜm©
;

447 
drm_þ_»ù
 
	gboxes
[
RADEON_NR_SAREA_CLIPRECTS
];

448 
	gnbox
;

452 
	gÏ¡_äame
;

453 
	gÏ¡_di¥©ch
;

454 
	gÏ¡_þ—r
;

456 
drm_‹x_»giÚ
 
	g‹x_li¡
[
RADEON_NR_TEX_HEAPS
][
RADEON_NR_TEX_REGIONS
 +

458 
	g‹x_age
[
RADEON_NR_TEX_HEAPS
];

459 
	gùx_owÃr
;

460 
	gpfS‹
;

461 
	gpfCu¼’tPage
;

462 
	gütc2_ba£
;

463 
	gtžšg_’abËd
;

464 } 
	tdrm_¿deÚ_§»a_t
;

475 
	#DRM_RADEON_CP_INIT
 0x00

	)

476 
	#DRM_RADEON_CP_START
 0x01

	)

477 
	#DRM_RADEON_CP_STOP
 0x02

	)

478 
	#DRM_RADEON_CP_RESET
 0x03

	)

479 
	#DRM_RADEON_CP_IDLE
 0x04

	)

480 
	#DRM_RADEON_RESET
 0x05

	)

481 
	#DRM_RADEON_FULLSCREEN
 0x06

	)

482 
	#DRM_RADEON_SWAP
 0x07

	)

483 
	#DRM_RADEON_CLEAR
 0x08

	)

484 
	#DRM_RADEON_VERTEX
 0x09

	)

485 
	#DRM_RADEON_INDICES
 0x0A

	)

486 
	#DRM_RADEON_NOT_USED


	)

487 
	#DRM_RADEON_STIPPLE
 0x0C

	)

488 
	#DRM_RADEON_INDIRECT
 0x0D

	)

489 
	#DRM_RADEON_TEXTURE
 0x0E

	)

490 
	#DRM_RADEON_VERTEX2
 0x0F

	)

491 
	#DRM_RADEON_CMDBUF
 0x10

	)

492 
	#DRM_RADEON_GETPARAM
 0x11

	)

493 
	#DRM_RADEON_FLIP
 0x12

	)

494 
	#DRM_RADEON_ALLOC
 0x13

	)

495 
	#DRM_RADEON_FREE
 0x14

	)

496 
	#DRM_RADEON_INIT_HEAP
 0x15

	)

497 
	#DRM_RADEON_IRQ_EMIT
 0x16

	)

498 
	#DRM_RADEON_IRQ_WAIT
 0x17

	)

499 
	#DRM_RADEON_CP_RESUME
 0x18

	)

500 
	#DRM_RADEON_SETPARAM
 0x19

	)

501 
	#DRM_RADEON_SURF_ALLOC
 0x1a

	)

502 
	#DRM_RADEON_SURF_FREE
 0x1b

	)

504 
	#DRM_RADEON_GEM_INFO
 0x1c

	)

505 
	#DRM_RADEON_GEM_CREATE
 0x1d

	)

506 
	#DRM_RADEON_GEM_MMAP
 0x1e

	)

507 
	#DRM_RADEON_GEM_PREAD
 0x21

	)

508 
	#DRM_RADEON_GEM_PWRITE
 0x22

	)

509 
	#DRM_RADEON_GEM_SET_DOMAIN
 0x23

	)

510 
	#DRM_RADEON_GEM_WAIT_IDLE
 0x24

	)

511 
	#DRM_RADEON_CS
 0x26

	)

512 
	#DRM_RADEON_INFO
 0x27

	)

513 
	#DRM_RADEON_GEM_SET_TILING
 0x28

	)

514 
	#DRM_RADEON_GEM_GET_TILING
 0x29

	)

515 
	#DRM_RADEON_GEM_BUSY
 0x2a

	)

516 
	#DRM_RADEON_GEM_VA
 0x2b

	)

517 
	#DRM_RADEON_GEM_OP
 0x2c

	)

518 
	#DRM_RADEON_GEM_USERPTR
 0x2d

	)

520 
	#DRM_IOCTL_RADEON_CP_INIT
 
	`DRM_IOW
Ð
DRM_COMMAND_BASE
 + 
DRM_RADEON_CP_INIT
, 
drm_¿deÚ_š™_t
)

	)

521 
	#DRM_IOCTL_RADEON_CP_START
 
	`DRM_IO
Ð
DRM_COMMAND_BASE
 + 
DRM_RADEON_CP_START
)

	)

522 
	#DRM_IOCTL_RADEON_CP_STOP
 
	`DRM_IOW
Ð
DRM_COMMAND_BASE
 + 
DRM_RADEON_CP_STOP
, 
drm_¿deÚ_ý_¡Ý_t
)

	)

523 
	#DRM_IOCTL_RADEON_CP_RESET
 
	`DRM_IO
Ð
DRM_COMMAND_BASE
 + 
DRM_RADEON_CP_RESET
)

	)

524 
	#DRM_IOCTL_RADEON_CP_IDLE
 
	`DRM_IO
Ð
DRM_COMMAND_BASE
 + 
DRM_RADEON_CP_IDLE
)

	)

525 
	#DRM_IOCTL_RADEON_RESET
 
	`DRM_IO
Ð
DRM_COMMAND_BASE
 + 
DRM_RADEON_RESET
)

	)

526 
	#DRM_IOCTL_RADEON_FULLSCREEN
 
	`DRM_IOW
Ð
DRM_COMMAND_BASE
 + 
DRM_RADEON_FULLSCREEN
, 
drm_¿deÚ_fuÎsü“n_t
)

	)

527 
	#DRM_IOCTL_RADEON_SWAP
 
	`DRM_IO
Ð
DRM_COMMAND_BASE
 + 
DRM_RADEON_SWAP
)

	)

528 
	#DRM_IOCTL_RADEON_CLEAR
 
	`DRM_IOW
Ð
DRM_COMMAND_BASE
 + 
DRM_RADEON_CLEAR
, 
drm_¿deÚ_þ—r_t
)

	)

529 
	#DRM_IOCTL_RADEON_VERTEX
 
	`DRM_IOW
Ð
DRM_COMMAND_BASE
 + 
DRM_RADEON_VERTEX
, 
drm_¿deÚ_v”‹x_t
)

	)

530 
	#DRM_IOCTL_RADEON_INDICES
 
	`DRM_IOW
Ð
DRM_COMMAND_BASE
 + 
DRM_RADEON_INDICES
, 
drm_¿deÚ_šdiûs_t
)

	)

531 
	#DRM_IOCTL_RADEON_STIPPLE
 
	`DRM_IOW
Ð
DRM_COMMAND_BASE
 + 
DRM_RADEON_STIPPLE
, 
drm_¿deÚ_¡¶e_t
)

	)

532 
	#DRM_IOCTL_RADEON_INDIRECT
 
	`DRM_IOWR
(
DRM_COMMAND_BASE
 + 
DRM_RADEON_INDIRECT
, 
drm_¿deÚ_šdœeù_t
)

	)

533 
	#DRM_IOCTL_RADEON_TEXTURE
 
	`DRM_IOWR
(
DRM_COMMAND_BASE
 + 
DRM_RADEON_TEXTURE
, 
drm_¿deÚ_‹xtu»_t
)

	)

534 
	#DRM_IOCTL_RADEON_VERTEX2
 
	`DRM_IOW
Ð
DRM_COMMAND_BASE
 + 
DRM_RADEON_VERTEX2
, 
drm_¿deÚ_v”‹x2_t
)

	)

535 
	#DRM_IOCTL_RADEON_CMDBUF
 
	`DRM_IOW
Ð
DRM_COMMAND_BASE
 + 
DRM_RADEON_CMDBUF
, 
drm_¿deÚ_cmd_bufãr_t
)

	)

536 
	#DRM_IOCTL_RADEON_GETPARAM
 
	`DRM_IOWR
(
DRM_COMMAND_BASE
 + 
DRM_RADEON_GETPARAM
, 
drm_¿deÚ_g‘·¿m_t
)

	)

537 
	#DRM_IOCTL_RADEON_FLIP
 
	`DRM_IO
Ð
DRM_COMMAND_BASE
 + 
DRM_RADEON_FLIP
)

	)

538 
	#DRM_IOCTL_RADEON_ALLOC
 
	`DRM_IOWR
(
DRM_COMMAND_BASE
 + 
DRM_RADEON_ALLOC
, 
drm_¿deÚ_mem_®loc_t
)

	)

539 
	#DRM_IOCTL_RADEON_FREE
 
	`DRM_IOW
Ð
DRM_COMMAND_BASE
 + 
DRM_RADEON_FREE
, 
drm_¿deÚ_mem_ä“_t
)

	)

540 
	#DRM_IOCTL_RADEON_INIT_HEAP
 
	`DRM_IOW
Ð
DRM_COMMAND_BASE
 + 
DRM_RADEON_INIT_HEAP
, 
drm_¿deÚ_mem_š™_h—p_t
)

	)

541 
	#DRM_IOCTL_RADEON_IRQ_EMIT
 
	`DRM_IOWR
(
DRM_COMMAND_BASE
 + 
DRM_RADEON_IRQ_EMIT
, 
drm_¿deÚ_œq_em™_t
)

	)

542 
	#DRM_IOCTL_RADEON_IRQ_WAIT
 
	`DRM_IOW
Ð
DRM_COMMAND_BASE
 + 
DRM_RADEON_IRQ_WAIT
, 
drm_¿deÚ_œq_wa™_t
)

	)

543 
	#DRM_IOCTL_RADEON_CP_RESUME
 
	`DRM_IO
Ð
DRM_COMMAND_BASE
 + 
DRM_RADEON_CP_RESUME
)

	)

544 
	#DRM_IOCTL_RADEON_SETPARAM
 
	`DRM_IOW
Ð
DRM_COMMAND_BASE
 + 
DRM_RADEON_SETPARAM
, 
drm_¿deÚ_£¬am_t
)

	)

545 
	#DRM_IOCTL_RADEON_SURF_ALLOC
 
	`DRM_IOW
Ð
DRM_COMMAND_BASE
 + 
DRM_RADEON_SURF_ALLOC
, 
drm_¿deÚ_surçû_®loc_t
)

	)

546 
	#DRM_IOCTL_RADEON_SURF_FREE
 
	`DRM_IOW
Ð
DRM_COMMAND_BASE
 + 
DRM_RADEON_SURF_FREE
, 
drm_¿deÚ_surçû_ä“_t
)

	)

548 
	#DRM_IOCTL_RADEON_GEM_INFO
 
	`DRM_IOWR
(
DRM_COMMAND_BASE
 + 
DRM_RADEON_GEM_INFO
, 
drm_¿deÚ_gem_šfo
)

	)

549 
	#DRM_IOCTL_RADEON_GEM_CREATE
 
	`DRM_IOWR
(
DRM_COMMAND_BASE
 + 
DRM_RADEON_GEM_CREATE
, 
drm_¿deÚ_gem_ü—‹
)

	)

550 
	#DRM_IOCTL_RADEON_GEM_MMAP
 
	`DRM_IOWR
(
DRM_COMMAND_BASE
 + 
DRM_RADEON_GEM_MMAP
, 
drm_¿deÚ_gem_mm­
)

	)

551 
	#DRM_IOCTL_RADEON_GEM_PREAD
 
	`DRM_IOWR
(
DRM_COMMAND_BASE
 + 
DRM_RADEON_GEM_PREAD
, 
drm_¿deÚ_gem_´—d
)

	)

552 
	#DRM_IOCTL_RADEON_GEM_PWRITE
 
	`DRM_IOWR
(
DRM_COMMAND_BASE
 + 
DRM_RADEON_GEM_PWRITE
, 
drm_¿deÚ_gem_pwr™e
)

	)

553 
	#DRM_IOCTL_RADEON_GEM_SET_DOMAIN
 
	`DRM_IOWR
(
DRM_COMMAND_BASE
 + 
DRM_RADEON_GEM_SET_DOMAIN
, 
drm_¿deÚ_gem_£t_domaš
)

	)

554 
	#DRM_IOCTL_RADEON_GEM_WAIT_IDLE
 
	`DRM_IOW
(
DRM_COMMAND_BASE
 + 
DRM_RADEON_GEM_WAIT_IDLE
, 
drm_¿deÚ_gem_wa™_idË
)

	)

555 
	#DRM_IOCTL_RADEON_CS
 
	`DRM_IOWR
(
DRM_COMMAND_BASE
 + 
DRM_RADEON_CS
, 
drm_¿deÚ_cs
)

	)

556 
	#DRM_IOCTL_RADEON_INFO
 
	`DRM_IOWR
(
DRM_COMMAND_BASE
 + 
DRM_RADEON_INFO
, 
drm_¿deÚ_šfo
)

	)

557 
	#DRM_IOCTL_RADEON_GEM_SET_TILING
 
	`DRM_IOWR
(
DRM_COMMAND_BASE
 + 
DRM_RADEON_GEM_SET_TILING
, 
drm_¿deÚ_gem_£t_tžšg
)

	)

558 
	#DRM_IOCTL_RADEON_GEM_GET_TILING
 
	`DRM_IOWR
(
DRM_COMMAND_BASE
 + 
DRM_RADEON_GEM_GET_TILING
, 
drm_¿deÚ_gem_g‘_tžšg
)

	)

559 
	#DRM_IOCTL_RADEON_GEM_BUSY
 
	`DRM_IOWR
(
DRM_COMMAND_BASE
 + 
DRM_RADEON_GEM_BUSY
, 
drm_¿deÚ_gem_busy
)

	)

560 
	#DRM_IOCTL_RADEON_GEM_VA
 
	`DRM_IOWR
(
DRM_COMMAND_BASE
 + 
DRM_RADEON_GEM_VA
, 
drm_¿deÚ_gem_va
)

	)

561 
	#DRM_IOCTL_RADEON_GEM_OP
 
	`DRM_IOWR
(
DRM_COMMAND_BASE
 + 
DRM_RADEON_GEM_OP
, 
drm_¿deÚ_gem_Ý
)

	)

562 
	#DRM_IOCTL_RADEON_GEM_USERPTR
 
	`DRM_IOWR
(
DRM_COMMAND_BASE
 + 
DRM_RADEON_GEM_USERPTR
, 
drm_¿deÚ_gem_u£½Œ
)

	)

564 
	sdrm_¿deÚ_š™
 {

566 
	gRADEON_INIT_CP
 = 0x01,

567 
	gRADEON_CLEANUP_CP
 = 0x02,

568 
	gRADEON_INIT_R200_CP
 = 0x03,

569 
	gRADEON_INIT_R300_CP
 = 0x04,

570 
	gRADEON_INIT_R600_CP
 = 0x05

571 } 
	gfunc
;

572 
	g§»a_´iv_off£t
;

573 
	gis_pci
;

574 
	gý_mode
;

575 
	gg¬t_size
;

576 
	gršg_size
;

577 
	gu£c_timeout
;

579 
	gfb_bµ
;

580 
	gäÚt_off£t
, 
	gäÚt_p™ch
;

581 
	gback_off£t
, 
	gback_p™ch
;

582 
	gd•th_bµ
;

583 
	gd•th_off£t
, 
	gd•th_p™ch
;

585 
	gfb_off£t
;

586 
	gmmio_off£t
;

587 
	gršg_off£t
;

588 
	gršg_½Œ_off£t
;

589 
	gbufãrs_off£t
;

590 
	gg¬t_‹xtu»s_off£t
;

591 } 
	tdrm_¿deÚ_š™_t
;

593 
	sdrm_¿deÚ_ý_¡Ý
 {

594 
	gæush
;

595 
	gidË
;

596 } 
	tdrm_¿deÚ_ý_¡Ý_t
;

598 
	sdrm_¿deÚ_fuÎsü“n
 {

600 
	gRADEON_INIT_FULLSCREEN
 = 0x01,

601 
	gRADEON_CLEANUP_FULLSCREEN
 = 0x02

602 } 
	gfunc
;

603 } 
	tdrm_¿deÚ_fuÎsü“n_t
;

605 
	#CLEAR_X1
 0

	)

606 
	#CLEAR_Y1
 1

	)

607 
	#CLEAR_X2
 2

	)

608 
	#CLEAR_Y2
 3

	)

609 
	#CLEAR_DEPTH
 4

	)

611 
	udrm_¿deÚ_þ—r_»ù
 {

612 
	gf
[5];

613 
	gui
[5];

614 } 
	tdrm_¿deÚ_þ—r_»ù_t
;

616 
	sdrm_¿deÚ_þ—r
 {

617 
	gæags
;

618 
	gþ—r_cÞÜ
;

619 
	gþ—r_d•th
;

620 
	gcÞÜ_mask
;

621 
	gd•th_mask
;

622 
drm_¿deÚ_þ—r_»ù_t
 
__u£r
 *
	gd•th_boxes
;

623 } 
	tdrm_¿deÚ_þ—r_t
;

625 
	sdrm_¿deÚ_v”‹x
 {

626 
	g´im
;

627 
	gidx
;

628 
	gcouÁ
;

629 
	gdisÿrd
;

630 } 
	tdrm_¿deÚ_v”‹x_t
;

632 
	sdrm_¿deÚ_šdiûs
 {

633 
	g´im
;

634 
	gidx
;

635 
	g¡¬t
;

636 
	g’d
;

637 
	gdisÿrd
;

638 } 
	tdrm_¿deÚ_šdiûs_t
;

644 
	sdrm_¿deÚ_v”‹x2
 {

645 
	gidx
;

646 
	gdisÿrd
;

647 
	gÄ_¡©es
;

648 
drm_¿deÚ_¡©e_t
 
__u£r
 *
	g¡©e
;

649 
	gÄ_´ims
;

650 
drm_¿deÚ_´im_t
 
__u£r
 *
	g´im
;

651 } 
	tdrm_¿deÚ_v”‹x2_t
;

663 
	sdrm_¿deÚ_cmd_bufãr
 {

664 
	gbufsz
;

665 
__u£r
 *
	gbuf
;

666 
	gnbox
;

667 
drm_þ_»ù
 
__u£r
 *
	gboxes
;

668 } 
	tdrm_¿deÚ_cmd_bufãr_t
;

670 
	sdrm_¿deÚ_‹x_image
 {

671 
	gx
, 
	gy
;

672 
	gwidth
, 
	gheight
;

673 cÚ¡ 
__u£r
 *
	gd©a
;

674 } 
	tdrm_¿deÚ_‹x_image_t
;

676 
	sdrm_¿deÚ_‹xtu»
 {

677 
	goff£t
;

678 
	gp™ch
;

679 
	gfÜm©
;

680 
	gwidth
;

681 
	gheight
;

682 
drm_¿deÚ_‹x_image_t
 
__u£r
 *
	gimage
;

683 } 
	tdrm_¿deÚ_‹xtu»_t
;

685 
	sdrm_¿deÚ_¡¶e
 {

686 
__u£r
 *
	gmask
;

687 } 
	tdrm_¿deÚ_¡¶e_t
;

689 
	sdrm_¿deÚ_šdœeù
 {

690 
	gidx
;

691 
	g¡¬t
;

692 
	g’d
;

693 
	gdisÿrd
;

694 } 
	tdrm_¿deÚ_šdœeù_t
;

697 
	#RADEON_CARD_PCI
 0

	)

698 
	#RADEON_CARD_AGP
 1

	)

699 
	#RADEON_CARD_PCIE
 2

	)

704 
	#RADEON_PARAM_GART_BUFFER_OFFSET
 1

	)

705 
	#RADEON_PARAM_LAST_FRAME
 2

	)

706 
	#RADEON_PARAM_LAST_DISPATCH
 3

	)

707 
	#RADEON_PARAM_LAST_CLEAR
 4

	)

709 
	#RADEON_PARAM_IRQ_NR
 5

	)

710 
	#RADEON_PARAM_GART_BASE
 6

	)

712 
	#RADEON_PARAM_REGISTER_HANDLE
 7

	)

713 
	#RADEON_PARAM_STATUS_HANDLE
 8

	)

714 
	#RADEON_PARAM_SAREA_HANDLE
 9

	)

715 
	#RADEON_PARAM_GART_TEX_HANDLE
 10

	)

716 
	#RADEON_PARAM_SCRATCH_OFFSET
 11

	)

717 
	#RADEON_PARAM_CARD_TYPE
 12

	)

718 
	#RADEON_PARAM_VBLANK_CRTC
 13

	)

719 
	#RADEON_PARAM_FB_LOCATION
 14

	)

720 
	#RADEON_PARAM_NUM_GB_PIPES
 15

	)

721 
	#RADEON_PARAM_DEVICE_ID
 16

	)

722 
	#RADEON_PARAM_NUM_Z_PIPES
 17

	)

724 
	sdrm_¿deÚ_g‘·¿m
 {

725 
	g·¿m
;

726 
__u£r
 *
	gv®ue
;

727 } 
	tdrm_¿deÚ_g‘·¿m_t
;

731 
	#RADEON_MEM_REGION_GART
 1

	)

732 
	#RADEON_MEM_REGION_FB
 2

	)

734 
	sdrm_¿deÚ_mem_®loc
 {

735 
	g»giÚ
;

736 
	g®ignm’t
;

737 
	gsize
;

738 
__u£r
 *
	g»giÚ_off£t
;

739 } 
	tdrm_¿deÚ_mem_®loc_t
;

741 
	sdrm_¿deÚ_mem_ä“
 {

742 
	g»giÚ
;

743 
	g»giÚ_off£t
;

744 } 
	tdrm_¿deÚ_mem_ä“_t
;

746 
	sdrm_¿deÚ_mem_š™_h—p
 {

747 
	g»giÚ
;

748 
	gsize
;

749 
	g¡¬t
;

750 } 
	tdrm_¿deÚ_mem_š™_h—p_t
;

754 
	sdrm_¿deÚ_œq_em™
 {

755 
__u£r
 *
	gœq_£q
;

756 } 
	tdrm_¿deÚ_œq_em™_t
;

758 
	sdrm_¿deÚ_œq_wa™
 {

759 
	gœq_£q
;

760 } 
	tdrm_¿deÚ_œq_wa™_t
;

766 
	sdrm_¿deÚ_£¬am
 {

767 
	g·¿m
;

768 
__s64
 
	gv®ue
;

769 } 
	tdrm_¿deÚ_£¬am_t
;

771 
	#RADEON_SETPARAM_FB_LOCATION
 1

	)

772 
	#RADEON_SETPARAM_SWITCH_TILING
 2

	)

773 
	#RADEON_SETPARAM_PCIGART_LOCATION
 3

	)

774 
	#RADEON_SETPARAM_NEW_MEMMAP
 4

	)

775 
	#RADEON_SETPARAM_PCIGART_TABLE_SIZE
 5

	)

776 
	#RADEON_SETPARAM_VBLANK_CRTC
 6

	)

779 
	sdrm_¿deÚ_surçû_®loc
 {

780 
	gadd»ss
;

781 
	gsize
;

782 
	gæags
;

783 } 
	tdrm_¿deÚ_surçû_®loc_t
;

785 
	sdrm_¿deÚ_surçû_ä“
 {

786 
	gadd»ss
;

787 } 
	tdrm_¿deÚ_surçû_ä“_t
;

789 
	#DRM_RADEON_VBLANK_CRTC1
 1

	)

790 
	#DRM_RADEON_VBLANK_CRTC2
 2

	)

795 
	#RADEON_GEM_DOMAIN_CPU
 0x1

	)

796 
	#RADEON_GEM_DOMAIN_GTT
 0x2

	)

797 
	#RADEON_GEM_DOMAIN_VRAM
 0x4

	)

799 
	sdrm_¿deÚ_gem_šfo
 {

800 
__u64
 
	gg¬t_size
;

801 
__u64
 
	gv¿m_size
;

802 
__u64
 
	gv¿m_visibË
;

805 
	#RADEON_GEM_NO_BACKING_STORE
 (1 << 0)

	)

806 
	#RADEON_GEM_GTT_UC
 (1 << 1)

	)

807 
	#RADEON_GEM_GTT_WC
 (1 << 2)

	)

809 
	#RADEON_GEM_CPU_ACCESS
 (1 << 3)

	)

811 
	#RADEON_GEM_NO_CPU_ACCESS
 (1 << 4)

	)

813 
	sdrm_¿deÚ_gem_ü—‹
 {

814 
__u64
 
	gsize
;

815 
__u64
 
	g®ignm’t
;

816 
__u32
 
	ghªdË
;

817 
__u32
 
	gš™Ÿl_domaš
;

818 
__u32
 
	gæags
;

826 
	#RADEON_GEM_USERPTR_READONLY
 (1 << 0)

	)

827 
	#RADEON_GEM_USERPTR_ANONONLY
 (1 << 1)

	)

828 
	#RADEON_GEM_USERPTR_VALIDATE
 (1 << 2)

	)

829 
	#RADEON_GEM_USERPTR_REGISTER
 (1 << 3)

	)

831 
	sdrm_¿deÚ_gem_u£½Œ
 {

832 
__u64
 
	gaddr
;

833 
__u64
 
	gsize
;

834 
__u32
 
	gæags
;

835 
__u32
 
	ghªdË
;

838 
	#RADEON_TILING_MACRO
 0x1

	)

839 
	#RADEON_TILING_MICRO
 0x2

	)

840 
	#RADEON_TILING_SWAP_16BIT
 0x4

	)

841 
	#RADEON_TILING_SWAP_32BIT
 0x8

	)

843 
	#RADEON_TILING_SURFACE
 0x10

	)

844 
	#RADEON_TILING_MICRO_SQUARE
 0x20

	)

845 
	#RADEON_TILING_EG_BANKW_SHIFT
 8

	)

846 
	#RADEON_TILING_EG_BANKW_MASK
 0xf

	)

847 
	#RADEON_TILING_EG_BANKH_SHIFT
 12

	)

848 
	#RADEON_TILING_EG_BANKH_MASK
 0xf

	)

849 
	#RADEON_TILING_EG_MACRO_TILE_ASPECT_SHIFT
 16

	)

850 
	#RADEON_TILING_EG_MACRO_TILE_ASPECT_MASK
 0xf

	)

851 
	#RADEON_TILING_EG_TILE_SPLIT_SHIFT
 24

	)

852 
	#RADEON_TILING_EG_TILE_SPLIT_MASK
 0xf

	)

853 
	#RADEON_TILING_EG_STENCIL_TILE_SPLIT_SHIFT
 28

	)

854 
	#RADEON_TILING_EG_STENCIL_TILE_SPLIT_MASK
 0xf

	)

856 
	sdrm_¿deÚ_gem_£t_tžšg
 {

857 
__u32
 
	ghªdË
;

858 
__u32
 
	gtžšg_æags
;

859 
__u32
 
	gp™ch
;

862 
	sdrm_¿deÚ_gem_g‘_tžšg
 {

863 
__u32
 
	ghªdË
;

864 
__u32
 
	gtžšg_æags
;

865 
__u32
 
	gp™ch
;

868 
	sdrm_¿deÚ_gem_mm­
 {

869 
__u32
 
	ghªdË
;

870 
__u32
 
	g·d
;

871 
__u64
 
	goff£t
;

872 
__u64
 
	gsize
;

873 
__u64
 
	gaddr_±r
;

876 
	sdrm_¿deÚ_gem_£t_domaš
 {

877 
__u32
 
	ghªdË
;

878 
__u32
 
	g»ad_domašs
;

879 
__u32
 
	gwr™e_domaš
;

882 
	sdrm_¿deÚ_gem_wa™_idË
 {

883 
__u32
 
	ghªdË
;

884 
__u32
 
	g·d
;

887 
	sdrm_¿deÚ_gem_busy
 {

888 
__u32
 
	ghªdË
;

889 
__u32
 
	gdomaš
;

892 
	sdrm_¿deÚ_gem_´—d
 {

894 
__u32
 
	ghªdË
;

895 
__u32
 
	g·d
;

897 
__u64
 
	goff£t
;

899 
__u64
 
	gsize
;

902 
__u64
 
	gd©a_±r
;

905 
	sdrm_¿deÚ_gem_pwr™e
 {

907 
__u32
 
	ghªdË
;

908 
__u32
 
	g·d
;

910 
__u64
 
	goff£t
;

912 
__u64
 
	gsize
;

915 
__u64
 
	gd©a_±r
;

919 
	sdrm_¿deÚ_gem_Ý
 {

920 
__u32
 
	ghªdË
;

921 
__u32
 
	gÝ
;

922 
__u64
 
	gv®ue
;

925 
	#RADEON_GEM_OP_GET_INITIAL_DOMAIN
 0

	)

926 
	#RADEON_GEM_OP_SET_INITIAL_DOMAIN
 1

	)

928 
	#RADEON_VA_MAP
 1

	)

929 
	#RADEON_VA_UNMAP
 2

	)

931 
	#RADEON_VA_RESULT_OK
 0

	)

932 
	#RADEON_VA_RESULT_ERROR
 1

	)

933 
	#RADEON_VA_RESULT_VA_EXIST
 2

	)

935 
	#RADEON_VM_PAGE_VALID
 (1 << 0)

	)

936 
	#RADEON_VM_PAGE_READABLE
 (1 << 1)

	)

937 
	#RADEON_VM_PAGE_WRITEABLE
 (1 << 2)

	)

938 
	#RADEON_VM_PAGE_SYSTEM
 (1 << 3)

	)

939 
	#RADEON_VM_PAGE_SNOOPED
 (1 << 4)

	)

941 
	sdrm_¿deÚ_gem_va
 {

942 
__u32
 
	ghªdË
;

943 
__u32
 
	gÝ”©iÚ
;

944 
__u32
 
	gvm_id
;

945 
__u32
 
	gæags
;

946 
__u64
 
	goff£t
;

949 
	#RADEON_CHUNK_ID_RELOCS
 0x01

	)

950 
	#RADEON_CHUNK_ID_IB
 0x02

	)

951 
	#RADEON_CHUNK_ID_FLAGS
 0x03

	)

952 
	#RADEON_CHUNK_ID_CONST_IB
 0x04

	)

955 
	#RADEON_CS_KEEP_TILING_FLAGS
 0x01

	)

956 
	#RADEON_CS_USE_VM
 0x02

	)

957 
	#RADEON_CS_END_OF_FRAME
 0x04

	)

959 
	#RADEON_CS_RING_GFX
 0

	)

960 
	#RADEON_CS_RING_COMPUTE
 1

	)

961 
	#RADEON_CS_RING_DMA
 2

	)

962 
	#RADEON_CS_RING_UVD
 3

	)

963 
	#RADEON_CS_RING_VCE
 4

	)

967 
	sdrm_¿deÚ_cs_chunk
 {

968 
__u32
 
	gchunk_id
;

969 
__u32
 
	gËngth_dw
;

970 
__u64
 
	gchunk_d©a
;

974 
	#RADEON_RELOC_PRIO_MASK
 (0xà<< 0)

	)

976 
	sdrm_¿deÚ_cs_»loc
 {

977 
__u32
 
	ghªdË
;

978 
__u32
 
	g»ad_domašs
;

979 
__u32
 
	gwr™e_domaš
;

980 
__u32
 
	gæags
;

983 
	sdrm_¿deÚ_cs
 {

984 
__u32
 
	gnum_chunks
;

985 
__u32
 
	gcs_id
;

987 
__u64
 
	gchunks
;

989 
__u64
 
	gg¬t_lim™
;

990 
__u64
 
	gv¿m_lim™
;

993 
	#RADEON_INFO_DEVICE_ID
 0x00

	)

994 
	#RADEON_INFO_NUM_GB_PIPES
 0x01

	)

995 
	#RADEON_INFO_NUM_Z_PIPES
 0x02

	)

996 
	#RADEON_INFO_ACCEL_WORKING
 0x03

	)

997 
	#RADEON_INFO_CRTC_FROM_ID
 0x04

	)

998 
	#RADEON_INFO_ACCEL_WORKING2
 0x05

	)

999 
	#RADEON_INFO_TILING_CONFIG
 0x06

	)

1000 
	#RADEON_INFO_WANT_HYPERZ
 0x07

	)

1001 
	#RADEON_INFO_WANT_CMASK
 0x08

	)

1002 
	#RADEON_INFO_CLOCK_CRYSTAL_FREQ
 0x09

	)

1003 
	#RADEON_INFO_NUM_BACKENDS
 0x0¨

	)

1004 
	#RADEON_INFO_NUM_TILE_PIPES
 0x0b

	)

1005 
	#RADEON_INFO_FUSION_GART_WORKING
 0x0ø

	)

1006 
	#RADEON_INFO_BACKEND_MAP
 0x0d

	)

1008 
	#RADEON_INFO_VA_START
 0x0e

	)

1010 
	#RADEON_INFO_IB_VM_MAX_SIZE
 0x0f

	)

1012 
	#RADEON_INFO_MAX_PIPES
 0x10

	)

1014 
	#RADEON_INFO_TIMESTAMP
 0x11

	)

1016 
	#RADEON_INFO_MAX_SE
 0x12

	)

1018 
	#RADEON_INFO_MAX_SH_PER_SE
 0x13

	)

1020 
	#RADEON_INFO_FASTFB_WORKING
 0x14

	)

1022 
	#RADEON_INFO_RING_WORKING
 0x15

	)

1024 
	#RADEON_INFO_SI_TILE_MODE_ARRAY
 0x16

	)

1026 
	#RADEON_INFO_SI_CP_DMA_COMPUTE
 0x17

	)

1028 
	#RADEON_INFO_CIK_MACROTILE_MODE_ARRAY
 0x18

	)

1030 
	#RADEON_INFO_SI_BACKEND_ENABLED_MASK
 0x19

	)

1032 
	#RADEON_INFO_MAX_SCLK
 0x1a

	)

1034 
	#RADEON_INFO_VCE_FW_VERSION
 0x1b

	)

1036 
	#RADEON_INFO_VCE_FB_VERSION
 0x1c

	)

1037 
	#RADEON_INFO_NUM_BYTES_MOVED
 0x1d

	)

1038 
	#RADEON_INFO_VRAM_USAGE
 0x1e

	)

1039 
	#RADEON_INFO_GTT_USAGE
 0x1f

	)

1040 
	#RADEON_INFO_ACTIVE_CU_COUNT
 0x20

	)

1041 
	#RADEON_INFO_CURRENT_GPU_TEMP
 0x21

	)

1042 
	#RADEON_INFO_CURRENT_GPU_SCLK
 0x22

	)

1043 
	#RADEON_INFO_CURRENT_GPU_MCLK
 0x23

	)

1044 
	#RADEON_INFO_READ_REG
 0x24

	)

1045 
	#RADEON_INFO_VA_UNMAP_WORKING
 0x25

	)

1046 
	#RADEON_INFO_GPU_RESET_COUNTER
 0x26

	)

1048 
	sdrm_¿deÚ_šfo
 {

1049 
__u32
 
	g»que¡
;

1050 
__u32
 
	g·d
;

1051 
__u64
 
	gv®ue
;

1057 
	#SI_TILE_MODE_COLOR_LINEAR_ALIGNED
 8

	)

1058 
	#SI_TILE_MODE_COLOR_1D
 13

	)

1059 
	#SI_TILE_MODE_COLOR_1D_SCANOUT
 9

	)

1060 
	#SI_TILE_MODE_COLOR_2D_8BPP
 14

	)

1061 
	#SI_TILE_MODE_COLOR_2D_16BPP
 15

	)

1062 
	#SI_TILE_MODE_COLOR_2D_32BPP
 16

	)

1063 
	#SI_TILE_MODE_COLOR_2D_64BPP
 17

	)

1064 
	#SI_TILE_MODE_COLOR_2D_SCANOUT_16BPP
 11

	)

1065 
	#SI_TILE_MODE_COLOR_2D_SCANOUT_32BPP
 12

	)

1066 
	#SI_TILE_MODE_DEPTH_STENCIL_1D
 4

	)

1067 
	#SI_TILE_MODE_DEPTH_STENCIL_2D
 0

	)

1068 
	#SI_TILE_MODE_DEPTH_STENCIL_2D_2AA
 3

	)

1069 
	#SI_TILE_MODE_DEPTH_STENCIL_2D_4AA
 3

	)

1070 
	#SI_TILE_MODE_DEPTH_STENCIL_2D_8AA
 2

	)

1072 
	#CIK_TILE_MODE_DEPTH_STENCIL_1D
 5

	)

1074 #ià
defšed
(
__ýlu¥lus
)

	@src/common/linuxkpi/include/uapi/drm/savage_drm.h

26 #iâdeà
__SAVAGE_DRM_H__


27 
	#__SAVAGE_DRM_H__


	)

29 
	~"drm.h
"

31 #ià
defšed
(
__ýlu¥lus
)

35 #iâdeà
__SAVAGE_SAREA_DEFINES__


36 
	#__SAVAGE_SAREA_DEFINES__


	)

45 
	#SAVAGE_CARD_HEAP
 0

	)

46 
	#SAVAGE_AGP_HEAP
 1

	)

47 
	#SAVAGE_NR_TEX_HEAPS
 2

	)

48 
	#SAVAGE_NR_TEX_REGIONS
 16

	)

49 
	#SAVAGE_LOG_MIN_TEX_REGION_SIZE
 16

	)

53 
	s_drm_§vage_§»a
 {

56 
drm_‹x_»giÚ
 
‹xLi¡
[
SAVAGE_NR_TEX_HEAPS
][
SAVAGE_NR_TEX_REGIONS
 +

58 
‹xAge
[
SAVAGE_NR_TEX_HEAPS
];

62 
ùxOwÃr
;

63 } 
	tdrm_§vage_§»a_t
, *
	tdrm_§vage_§»a_±r
;

67 
	#DRM_SAVAGE_BCI_INIT
 0x00

	)

68 
	#DRM_SAVAGE_BCI_CMDBUF
 0x01

	)

69 
	#DRM_SAVAGE_BCI_EVENT_EMIT
 0x02

	)

70 
	#DRM_SAVAGE_BCI_EVENT_WAIT
 0x03

	)

72 
	#DRM_IOCTL_SAVAGE_BCI_INIT
 
	`DRM_IOW
Ð
DRM_COMMAND_BASE
 + 
DRM_SAVAGE_BCI_INIT
, 
drm_§vage_š™_t
)

	)

73 
	#DRM_IOCTL_SAVAGE_BCI_CMDBUF
 
	`DRM_IOW
Ð
DRM_COMMAND_BASE
 + 
DRM_SAVAGE_BCI_CMDBUF
, 
drm_§vage_cmdbuf_t
)

	)

74 
	#DRM_IOCTL_SAVAGE_BCI_EVENT_EMIT
 
	`DRM_IOWR
(
DRM_COMMAND_BASE
 + 
DRM_SAVAGE_BCI_EVENT_EMIT
, 
drm_§vage_ev’t_em™_t
)

	)

75 
	#DRM_IOCTL_SAVAGE_BCI_EVENT_WAIT
 
	`DRM_IOW
Ð
DRM_COMMAND_BASE
 + 
DRM_SAVAGE_BCI_EVENT_WAIT
, 
drm_§vage_ev’t_wa™_t
)

	)

77 
	#SAVAGE_DMA_PCI
 1

	)

78 
	#SAVAGE_DMA_AGP
 3

	)

79 
	sdrm_§vage_š™
 {

81 
SAVAGE_INIT_BCI
 = 1,

82 
SAVAGE_CLEANUP_BCI
 = 2

83 } 
func
;

84 
§»a_´iv_off£t
;

87 
cob_size
;

88 
bci_th»shÞd_lo
, 
bci_th»shÞd_hi
;

89 
dma_ty³
;

92 
fb_bµ
;

93 
äÚt_off£t
, 
äÚt_p™ch
;

94 
back_off£t
, 
back_p™ch
;

95 
d•th_bµ
;

96 
d•th_off£t
, 
d•th_p™ch
;

99 
‹xtu»_off£t
;

100 
‹xtu»_size
;

103 
¡©us_off£t
;

104 
bufãrs_off£t
;

105 
agp_‹xtu»s_off£t
;

106 
cmd_dma_off£t
;

107 } 
	tdrm_§vage_š™_t
;

109 
drm_§vage_cmd_h—d”
 
	tdrm_§vage_cmd_h—d”_t
;

110 
	sdrm_§vage_cmdbuf
 {

112 
drm_§vage_cmd_h—d”_t
 
__u£r
 *
cmd_addr
;

113 
size
;

115 
dma_idx
;

116 
disÿrd
;

118 
__u£r
 *
vb_addr
;

119 
vb_size
;

120 
vb_¡ride
;

122 
drm_þ_»ù
 
__u£r
 *
box_addr
;

123 
nbox
;

124 } 
	tdrm_§vage_cmdbuf_t
;

126 
	#SAVAGE_WAIT_2D
 0x1

	)

127 
	#SAVAGE_WAIT_3D
 0x2

	)

128 
	#SAVAGE_WAIT_IRQ
 0x4

	)

129 
	sdrm_§vage_ev’t
 {

130 
couÁ
;

131 
æags
;

132 } 
	tdrm_§vage_ev’t_em™_t
, 
	tdrm_§vage_ev’t_wa™_t
;

136 
	#SAVAGE_CMD_STATE
 0

	)

137 
	#SAVAGE_CMD_DMA_PRIM
 1

	)

138 
	#SAVAGE_CMD_VB_PRIM
 2

	)

139 
	#SAVAGE_CMD_DMA_IDX
 3

	)

140 
	#SAVAGE_CMD_VB_IDX
 4

	)

141 
	#SAVAGE_CMD_CLEAR
 5

	)

142 
	#SAVAGE_CMD_SWAP
 6

	)

146 
	#SAVAGE_PRIM_TRILIST
 0

	)

147 
	#SAVAGE_PRIM_TRISTRIP
 1

	)

148 
	#SAVAGE_PRIM_TRIFAN
 2

	)

149 
	#SAVAGE_PRIM_TRILIST_201
 3

	)

154 
	#SAVAGE_SKIP_Z
 0x01

	)

155 
	#SAVAGE_SKIP_W
 0x02

	)

156 
	#SAVAGE_SKIP_C0
 0x04

	)

157 
	#SAVAGE_SKIP_C1
 0x08

	)

158 
	#SAVAGE_SKIP_S0
 0x10

	)

159 
	#SAVAGE_SKIP_T0
 0x20

	)

160 
	#SAVAGE_SKIP_ST0
 0x30

	)

161 
	#SAVAGE_SKIP_S1
 0x40

	)

162 
	#SAVAGE_SKIP_T1
 0x80

	)

163 
	#SAVAGE_SKIP_ST1
 0xc0

	)

164 
	#SAVAGE_SKIP_ALL_S3D
 0x3f

	)

165 
	#SAVAGE_SKIP_ALL_S4
 0xff

	)

169 
	#SAVAGE_FRONT
 0x1

	)

170 
	#SAVAGE_BACK
 0x2

	)

171 
	#SAVAGE_DEPTH
 0x4

	)

175 
	udrm_§vage_cmd_h—d”
 {

177 
cmd
;

178 
·d0
;

179 
·d1
;

180 
·d2
;

181 
·d3
;

182 } 
cmd
;

184 
cmd
;

185 
glob®
;

186 
couÁ
;

187 
¡¬t
;

188 
·d3
;

189 } 
¡©e
;

191 
cmd
;

192 
´im
;

193 
sk
;

194 
couÁ
;

195 
¡¬t
;

196 } 
´im
;

198 
cmd
;

199 
´im
;

200 
sk
;

201 
couÁ
;

202 
·d3
;

203 } 
idx
;

205 
cmd
;

206 
·d0
;

207 
·d1
;

208 
æags
;

209 } 
þ—r0
;

211 
mask
;

212 
v®ue
;

213 } 
þ—r1
;

216 #ià
defšed
(
__ýlu¥lus
)

	@src/common/linuxkpi/include/uapi/drm/sis_drm.h

27 #iâdeà
__SIS_DRM_H__


28 
	#__SIS_DRM_H__


	)

30 
	~"drm.h
"

32 #ià
defšed
(
__ýlu¥lus
)

37 
	#NOT_USED_0_3


	)

38 
	#DRM_SIS_FB_ALLOC
 0x04

	)

39 
	#DRM_SIS_FB_FREE
 0x05

	)

40 
	#NOT_USED_6_12


	)

41 
	#DRM_SIS_AGP_INIT
 0x13

	)

42 
	#DRM_SIS_AGP_ALLOC
 0x14

	)

43 
	#DRM_SIS_AGP_FREE
 0x15

	)

44 
	#DRM_SIS_FB_INIT
 0x16

	)

46 
	#DRM_IOCTL_SIS_FB_ALLOC
 
	`DRM_IOWR
(
DRM_COMMAND_BASE
 + 
DRM_SIS_FB_ALLOC
, 
drm_sis_mem_t
)

	)

47 
	#DRM_IOCTL_SIS_FB_FREE
 
	`DRM_IOW
Ð
DRM_COMMAND_BASE
 + 
DRM_SIS_FB_FREE
, 
drm_sis_mem_t
)

	)

48 
	#DRM_IOCTL_SIS_AGP_INIT
 
	`DRM_IOWR
(
DRM_COMMAND_BASE
 + 
DRM_SIS_AGP_INIT
, 
drm_sis_agp_t
)

	)

49 
	#DRM_IOCTL_SIS_AGP_ALLOC
 
	`DRM_IOWR
(
DRM_COMMAND_BASE
 + 
DRM_SIS_AGP_ALLOC
, 
drm_sis_mem_t
)

	)

50 
	#DRM_IOCTL_SIS_AGP_FREE
 
	`DRM_IOW
Ð
DRM_COMMAND_BASE
 + 
DRM_SIS_AGP_FREE
, 
drm_sis_mem_t
)

	)

51 
	#DRM_IOCTL_SIS_FB_INIT
 
	`DRM_IOW
Ð
DRM_COMMAND_BASE
 + 
DRM_SIS_FB_INIT
, 
drm_sis_fb_t
)

	)

59 
cÚ‹xt
;

60 
off£t
;

61 
size
;

62 
ä“
;

63 } 
	tdrm_sis_mem_t
;

66 
off£t
, 
size
;

67 } 
	tdrm_sis_agp_t
;

70 
off£t
, 
size
;

71 } 
	tdrm_sis_fb_t
;

73 #ià
defšed
(
__ýlu¥lus
)

	@src/common/linuxkpi/include/uapi/drm/tegra_drm.h

23 #iâdeà
_UAPI_TEGRA_DRM_H_


24 
	#_UAPI_TEGRA_DRM_H_


	)

26 
	~"drm.h
"

28 #ià
defšed
(
__ýlu¥lus
)

32 
	#DRM_TEGRA_GEM_CREATE_TILED
 (1 << 0)

	)

33 
	#DRM_TEGRA_GEM_CREATE_BOTTOM_UP
 (1 << 1)

	)

35 
	sdrm_‹g¿_gem_ü—‹
 {

36 
__u64
 
size
;

37 
__u32
 
æags
;

38 
__u32
 
hªdË
;

41 
	sdrm_‹g¿_gem_mm­
 {

42 
__u32
 
hªdË
;

43 
__u32
 
·d
;

44 
__u64
 
off£t
;

47 
	sdrm_‹g¿_synýt_»ad
 {

48 
__u32
 
id
;

49 
__u32
 
v®ue
;

52 
	sdrm_‹g¿_synýt_šü
 {

53 
__u32
 
id
;

54 
__u32
 
·d
;

57 
	sdrm_‹g¿_synýt_wa™
 {

58 
__u32
 
id
;

59 
__u32
 
th»sh
;

60 
__u32
 
timeout
;

61 
__u32
 
v®ue
;

64 
	#DRM_TEGRA_NO_TIMEOUT
 (0xffffffff)

	)

66 
	sdrm_‹g¿_Ý’_chªÃl
 {

67 
__u32
 
þ›Á
;

68 
__u32
 
·d
;

69 
__u64
 
cÚ‹xt
;

72 
	sdrm_‹g¿_þo£_chªÃl
 {

73 
__u64
 
cÚ‹xt
;

76 
	sdrm_‹g¿_g‘_synýt
 {

77 
__u64
 
cÚ‹xt
;

78 
__u32
 
šdex
;

79 
__u32
 
id
;

82 
	sdrm_‹g¿_g‘_synýt_ba£
 {

83 
__u64
 
cÚ‹xt
;

84 
__u32
 
synýt
;

85 
__u32
 
id
;

88 
	sdrm_‹g¿_synýt
 {

89 
__u32
 
id
;

90 
__u32
 
šüs
;

93 
	sdrm_‹g¿_cmdbuf
 {

94 
__u32
 
hªdË
;

95 
__u32
 
off£t
;

96 
__u32
 
wÜds
;

97 
__u32
 
·d
;

100 
	sdrm_‹g¿_»loc
 {

102 
__u32
 
hªdË
;

103 
__u32
 
off£t
;

104 } 
cmdbuf
;

106 
__u32
 
hªdË
;

107 
__u32
 
off£t
;

108 } 
rg‘
;

109 
__u32
 
shiá
;

110 
__u32
 
·d
;

113 
	sdrm_‹g¿_wa™chk
 {

114 
__u32
 
hªdË
;

115 
__u32
 
off£t
;

116 
__u32
 
synýt
;

117 
__u32
 
th»sh
;

120 
	sdrm_‹g¿_subm™
 {

121 
__u64
 
cÚ‹xt
;

122 
__u32
 
num_synýts
;

123 
__u32
 
num_cmdbufs
;

124 
__u32
 
num_»locs
;

125 
__u32
 
num_wa™chks
;

126 
__u32
 
wa™chk_mask
;

127 
__u32
 
timeout
;

128 
__u64
 
synýts
;

129 
__u64
 
cmdbufs
;

130 
__u64
 
»locs
;

131 
__u64
 
wa™chks
;

132 
__u32
 
ãnû
;

134 
__u32
 
»£rved
[5];

137 
	#DRM_TEGRA_GEM_TILING_MODE_PITCH
 0

	)

138 
	#DRM_TEGRA_GEM_TILING_MODE_TILED
 1

	)

139 
	#DRM_TEGRA_GEM_TILING_MODE_BLOCK
 2

	)

141 
	sdrm_‹g¿_gem_£t_tžšg
 {

143 
__u32
 
hªdË
;

144 
__u32
 
mode
;

145 
__u32
 
v®ue
;

146 
__u32
 
·d
;

149 
	sdrm_‹g¿_gem_g‘_tžšg
 {

151 
__u32
 
hªdË
;

153 
__u32
 
mode
;

154 
__u32
 
v®ue
;

155 
__u32
 
·d
;

158 
	#DRM_TEGRA_GEM_BOTTOM_UP
 (1 << 0)

	)

159 
	#DRM_TEGRA_GEM_FLAGS
 (
DRM_TEGRA_GEM_BOTTOM_UP
)

	)

161 
	sdrm_‹g¿_gem_£t_æags
 {

163 
__u32
 
hªdË
;

165 
__u32
 
æags
;

168 
	sdrm_‹g¿_gem_g‘_æags
 {

170 
__u32
 
hªdË
;

172 
__u32
 
æags
;

175 
	#DRM_TEGRA_GEM_CREATE
 0x00

	)

176 
	#DRM_TEGRA_GEM_MMAP
 0x01

	)

177 
	#DRM_TEGRA_SYNCPT_READ
 0x02

	)

178 
	#DRM_TEGRA_SYNCPT_INCR
 0x03

	)

179 
	#DRM_TEGRA_SYNCPT_WAIT
 0x04

	)

180 
	#DRM_TEGRA_OPEN_CHANNEL
 0x05

	)

181 
	#DRM_TEGRA_CLOSE_CHANNEL
 0x06

	)

182 
	#DRM_TEGRA_GET_SYNCPT
 0x07

	)

183 
	#DRM_TEGRA_SUBMIT
 0x08

	)

184 
	#DRM_TEGRA_GET_SYNCPT_BASE
 0x09

	)

185 
	#DRM_TEGRA_GEM_SET_TILING
 0x0a

	)

186 
	#DRM_TEGRA_GEM_GET_TILING
 0x0b

	)

187 
	#DRM_TEGRA_GEM_SET_FLAGS
 0x0c

	)

188 
	#DRM_TEGRA_GEM_GET_FLAGS
 0x0d

	)

190 
	#DRM_IOCTL_TEGRA_GEM_CREATE
 
	`DRM_IOWR
(
DRM_COMMAND_BASE
 + 
DRM_TEGRA_GEM_CREATE
, 
drm_‹g¿_gem_ü—‹
)

	)

191 
	#DRM_IOCTL_TEGRA_GEM_MMAP
 
	`DRM_IOWR
(
DRM_COMMAND_BASE
 + 
DRM_TEGRA_GEM_MMAP
, 
drm_‹g¿_gem_mm­
)

	)

192 
	#DRM_IOCTL_TEGRA_SYNCPT_READ
 
	`DRM_IOWR
(
DRM_COMMAND_BASE
 + 
DRM_TEGRA_SYNCPT_READ
, 
drm_‹g¿_synýt_»ad
)

	)

193 
	#DRM_IOCTL_TEGRA_SYNCPT_INCR
 
	`DRM_IOWR
(
DRM_COMMAND_BASE
 + 
DRM_TEGRA_SYNCPT_INCR
, 
drm_‹g¿_synýt_šü
)

	)

194 
	#DRM_IOCTL_TEGRA_SYNCPT_WAIT
 
	`DRM_IOWR
(
DRM_COMMAND_BASE
 + 
DRM_TEGRA_SYNCPT_WAIT
, 
drm_‹g¿_synýt_wa™
)

	)

195 
	#DRM_IOCTL_TEGRA_OPEN_CHANNEL
 
	`DRM_IOWR
(
DRM_COMMAND_BASE
 + 
DRM_TEGRA_OPEN_CHANNEL
, 
drm_‹g¿_Ý’_chªÃl
)

	)

196 
	#DRM_IOCTL_TEGRA_CLOSE_CHANNEL
 
	`DRM_IOWR
(
DRM_COMMAND_BASE
 + 
DRM_TEGRA_CLOSE_CHANNEL
, 
drm_‹g¿_Ý’_chªÃl
)

	)

197 
	#DRM_IOCTL_TEGRA_GET_SYNCPT
 
	`DRM_IOWR
(
DRM_COMMAND_BASE
 + 
DRM_TEGRA_GET_SYNCPT
, 
drm_‹g¿_g‘_synýt
)

	)

198 
	#DRM_IOCTL_TEGRA_SUBMIT
 
	`DRM_IOWR
(
DRM_COMMAND_BASE
 + 
DRM_TEGRA_SUBMIT
, 
drm_‹g¿_subm™
)

	)

199 
	#DRM_IOCTL_TEGRA_GET_SYNCPT_BASE
 
	`DRM_IOWR
(
DRM_COMMAND_BASE
 + 
DRM_TEGRA_GET_SYNCPT_BASE
, 
drm_‹g¿_g‘_synýt_ba£
)

	)

200 
	#DRM_IOCTL_TEGRA_GEM_SET_TILING
 
	`DRM_IOWR
(
DRM_COMMAND_BASE
 + 
DRM_TEGRA_GEM_SET_TILING
, 
drm_‹g¿_gem_£t_tžšg
)

	)

201 
	#DRM_IOCTL_TEGRA_GEM_GET_TILING
 
	`DRM_IOWR
(
DRM_COMMAND_BASE
 + 
DRM_TEGRA_GEM_GET_TILING
, 
drm_‹g¿_gem_g‘_tžšg
)

	)

202 
	#DRM_IOCTL_TEGRA_GEM_SET_FLAGS
 
	`DRM_IOWR
(
DRM_COMMAND_BASE
 + 
DRM_TEGRA_GEM_SET_FLAGS
, 
drm_‹g¿_gem_£t_æags
)

	)

203 
	#DRM_IOCTL_TEGRA_GEM_GET_FLAGS
 
	`DRM_IOWR
(
DRM_COMMAND_BASE
 + 
DRM_TEGRA_GEM_GET_FLAGS
, 
drm_‹g¿_gem_g‘_æags
)

	)

205 #ià
defšed
(
__ýlu¥lus
)

	@src/common/linuxkpi/include/uapi/drm/vc4_drm.h

24 #iâdeà
_UAPI_VC4_DRM_H_


25 
	#_UAPI_VC4_DRM_H_


	)

27 
	~"drm.h
"

29 #ià
defšed
(
__ýlu¥lus
)

33 
	#DRM_VC4_SUBMIT_CL
 0x00

	)

34 
	#DRM_VC4_WAIT_SEQNO
 0x01

	)

35 
	#DRM_VC4_WAIT_BO
 0x02

	)

36 
	#DRM_VC4_CREATE_BO
 0x03

	)

37 
	#DRM_VC4_MMAP_BO
 0x04

	)

38 
	#DRM_VC4_CREATE_SHADER_BO
 0x05

	)

39 
	#DRM_VC4_GET_HANG_STATE
 0x06

	)

40 
	#DRM_VC4_GET_PARAM
 0x07

	)

41 
	#DRM_VC4_SET_TILING
 0x08

	)

42 
	#DRM_VC4_GET_TILING
 0x09

	)

43 
	#DRM_VC4_LABEL_BO
 0x0a

	)

44 
	#DRM_VC4_GEM_MADVISE
 0x0b

	)

46 
	#DRM_IOCTL_VC4_SUBMIT_CL
 
	`DRM_IOWR
(
DRM_COMMAND_BASE
 + 
DRM_VC4_SUBMIT_CL
, 
drm_vc4_subm™_þ
)

	)

47 
	#DRM_IOCTL_VC4_WAIT_SEQNO
 
	`DRM_IOWR
(
DRM_COMMAND_BASE
 + 
DRM_VC4_WAIT_SEQNO
, 
drm_vc4_wa™_£qno
)

	)

48 
	#DRM_IOCTL_VC4_WAIT_BO
 
	`DRM_IOWR
(
DRM_COMMAND_BASE
 + 
DRM_VC4_WAIT_BO
, 
drm_vc4_wa™_bo
)

	)

49 
	#DRM_IOCTL_VC4_CREATE_BO
 
	`DRM_IOWR
(
DRM_COMMAND_BASE
 + 
DRM_VC4_CREATE_BO
, 
drm_vc4_ü—‹_bo
)

	)

50 
	#DRM_IOCTL_VC4_MMAP_BO
 
	`DRM_IOWR
(
DRM_COMMAND_BASE
 + 
DRM_VC4_MMAP_BO
, 
drm_vc4_mm­_bo
)

	)

51 
	#DRM_IOCTL_VC4_CREATE_SHADER_BO
 
	`DRM_IOWR
(
DRM_COMMAND_BASE
 + 
DRM_VC4_CREATE_SHADER_BO
, 
drm_vc4_ü—‹_shad”_bo
)

	)

52 
	#DRM_IOCTL_VC4_GET_HANG_STATE
 
	`DRM_IOWR
(
DRM_COMMAND_BASE
 + 
DRM_VC4_GET_HANG_STATE
, 
drm_vc4_g‘_hªg_¡©e
)

	)

53 
	#DRM_IOCTL_VC4_GET_PARAM
 
	`DRM_IOWR
(
DRM_COMMAND_BASE
 + 
DRM_VC4_GET_PARAM
, 
drm_vc4_g‘_·¿m
)

	)

54 
	#DRM_IOCTL_VC4_SET_TILING
 
	`DRM_IOWR
(
DRM_COMMAND_BASE
 + 
DRM_VC4_SET_TILING
, 
drm_vc4_£t_tžšg
)

	)

55 
	#DRM_IOCTL_VC4_GET_TILING
 
	`DRM_IOWR
(
DRM_COMMAND_BASE
 + 
DRM_VC4_GET_TILING
, 
drm_vc4_g‘_tžšg
)

	)

56 
	#DRM_IOCTL_VC4_LABEL_BO
 
	`DRM_IOWR
(
DRM_COMMAND_BASE
 + 
DRM_VC4_LABEL_BO
, 
drm_vc4_Ïb–_bo
)

	)

57 
	#DRM_IOCTL_VC4_GEM_MADVISE
 
	`DRM_IOWR
(
DRM_COMMAND_BASE
 + 
DRM_VC4_GEM_MADVISE
, 
drm_vc4_gem_madvi£
)

	)

59 
	sdrm_vc4_subm™_rþ_surçû
 {

60 
__u32
 
hšdex
;

61 
__u32
 
off£t
;

66 
__u16
 
b™s
;

68 
	#VC4_SUBMIT_RCL_SURFACE_READ_IS_FULL_RES
 (1 << 0)

	)

69 
__u16
 
æags
;

85 
	sdrm_vc4_subm™_þ
 {

93 
__u64
 
bš_þ
;

104 
__u64
 
shad”_»c
;

120 
__u64
 
unifÜms
;

121 
__u64
 
bo_hªdËs
;

124 
__u32
 
bš_þ_size
;

126 
__u32
 
shad”_»c_size
;

133 
__u32
 
shad”_»c_couÁ
;

135 
__u32
 
unifÜms_size
;

138 
__u32
 
bo_hªdË_couÁ
;

141 
__u16
 
width
;

142 
__u16
 
height
;

143 
__u8
 
mš_x_tže
;

144 
__u8
 
mš_y_tže
;

145 
__u8
 
max_x_tže
;

146 
__u8
 
max_y_tže
;

147 
drm_vc4_subm™_rþ_surçû
 
cÞÜ_»ad
;

148 
drm_vc4_subm™_rþ_surçû
 
cÞÜ_wr™e
;

149 
drm_vc4_subm™_rþ_surçû
 
zs_»ad
;

150 
drm_vc4_subm™_rþ_surçû
 
zs_wr™e
;

151 
drm_vc4_subm™_rþ_surçû
 
m§a_cÞÜ_wr™e
;

152 
drm_vc4_subm™_rþ_surçû
 
m§a_zs_wr™e
;

153 
__u32
 
þ—r_cÞÜ
[2];

154 
__u32
 
þ—r_z
;

155 
__u8
 
þ—r_s
;

157 
__u32
 
·d
:24;

159 
	#VC4_SUBMIT_CL_USE_CLEAR_COLOR
 (1 << 0)

	)

167 
	#VC4_SUBMIT_CL_FIXED_RCL_ORDER
 (1 << 1)

	)

168 
	#VC4_SUBMIT_CL_RCL_ORDER_INCREASING_X
 (1 << 2)

	)

169 
	#VC4_SUBMIT_CL_RCL_ORDER_INCREASING_Y
 (1 << 3)

	)

170 
__u32
 
æags
;

175 
__u64
 
£qno
;

185 
	sdrm_vc4_wa™_£qno
 {

186 
__u64
 
£qno
;

187 
__u64
 
timeout_ns
;

198 
	sdrm_vc4_wa™_bo
 {

199 
__u32
 
hªdË
;

200 
__u32
 
·d
;

201 
__u64
 
timeout_ns
;

210 
	sdrm_vc4_ü—‹_bo
 {

211 
__u32
 
size
;

212 
__u32
 
æags
;

214 
__u32
 
hªdË
;

215 
__u32
 
·d
;

229 
	sdrm_vc4_mm­_bo
 {

231 
__u32
 
hªdË
;

232 
__u32
 
æags
;

234 
__u64
 
off£t
;

245 
	sdrm_vc4_ü—‹_shad”_bo
 {

247 
__u32
 
size
;

249 
__u32
 
æags
;

252 
__u64
 
d©a
;

255 
__u32
 
hªdË
;

257 
__u32
 
·d
;

260 
	sdrm_vc4_g‘_hªg_¡©e_bo
 {

261 
__u32
 
hªdË
;

262 
__u32
 
·ddr
;

263 
__u32
 
size
;

264 
__u32
 
·d
;

271 
	sdrm_vc4_g‘_hªg_¡©e
 {

273 
__u64
 
bo
;

278 
__u32
 
bo_couÁ
;

280 
__u32
 
¡¬t_bš
, 
¡¬t_»nd”
;

282 
__u32
 
ù0ÿ
, 
ù0—
;

283 
__u32
 
ù1ÿ
, 
ù1—
;

284 
__u32
 
ù0cs
, 
ù1cs
;

285 
__u32
 
ù0¿0
, 
ù1¿0
;

287 
__u32
 
bpÿ
, 
bpcs
;

288 
__u32
 
bpß
, 
bpos
;

290 
__u32
 
vpmba£
;

292 
__u32
 
dbge
;

293 
__u32
 
fdbgo
;

294 
__u32
 
fdbgb
;

295 
__u32
 
fdbgr
;

296 
__u32
 
fdbgs
;

297 
__u32
 
”r¡©
;

300 
__u32
 
·d
[16];

303 
	#DRM_VC4_PARAM_V3D_IDENT0
 0

	)

304 
	#DRM_VC4_PARAM_V3D_IDENT1
 1

	)

305 
	#DRM_VC4_PARAM_V3D_IDENT2
 2

	)

306 
	#DRM_VC4_PARAM_SUPPORTS_BRANCHES
 3

	)

307 
	#DRM_VC4_PARAM_SUPPORTS_ETC1
 4

	)

308 
	#DRM_VC4_PARAM_SUPPORTS_THREADED_FS
 5

	)

309 
	#DRM_VC4_PARAM_SUPPORTS_FIXED_RCL_ORDER
 6

	)

310 
	#DRM_VC4_PARAM_SUPPORTS_MADVISE
 7

	)

312 
	sdrm_vc4_g‘_·¿m
 {

313 
__u32
 
·¿m
;

314 
__u32
 
·d
;

315 
__u64
 
v®ue
;

318 
	sdrm_vc4_g‘_tžšg
 {

319 
__u32
 
hªdË
;

320 
__u32
 
æags
;

321 
__u64
 
modif›r
;

324 
	sdrm_vc4_£t_tžšg
 {

325 
__u32
 
hªdË
;

326 
__u32
 
æags
;

327 
__u64
 
modif›r
;

333 
	sdrm_vc4_Ïb–_bo
 {

334 
__u32
 
hªdË
;

335 
__u32
 
Ën
;

336 
__u64
 
Çme
;

343 
	#VC4_MADV_WILLNEED
 0

	)

344 
	#VC4_MADV_DONTNEED
 1

	)

345 
	#__VC4_MADV_PURGED
 2

	)

346 
	#__VC4_MADV_NOTSUPP
 3

	)

348 
	sdrm_vc4_gem_madvi£
 {

349 
__u32
 
hªdË
;

350 
__u32
 
madv
;

351 
__u32
 
»šed
;

352 
__u32
 
·d
;

355 #ià
defšed
(
__ýlu¥lus
)

	@src/common/linuxkpi/include/uapi/drm/vgem_drm.h

27 #iâdeà
_UAPI_VGEM_DRM_H_


28 
	#_UAPI_VGEM_DRM_H_


	)

30 
	~"drm.h
"

32 #ià
defšed
(
__ýlu¥lus
)

39 
	#DRM_VGEM_FENCE_ATTACH
 0x1

	)

40 
	#DRM_VGEM_FENCE_SIGNAL
 0x2

	)

42 
	#DRM_IOCTL_VGEM_FENCE_ATTACH
 
	`DRM_IOWR
Ð
DRM_COMMAND_BASE
 + 
DRM_VGEM_FENCE_ATTACH
, 
drm_vgem_ãnû_©ch
)

	)

43 
	#DRM_IOCTL_VGEM_FENCE_SIGNAL
 
	`DRM_IOW
Ð
DRM_COMMAND_BASE
 + 
DRM_VGEM_FENCE_SIGNAL
, 
drm_vgem_ãnû_sigÇl
)

	)

45 
	sdrm_vgem_ãnû_©ch
 {

46 
__u32
 
hªdË
;

47 
__u32
 
æags
;

48 
	#VGEM_FENCE_WRITE
 0x1

	)

49 
__u32
 
out_ãnû
;

50 
__u32
 
·d
;

53 
	sdrm_vgem_ãnû_sigÇl
 {

54 
__u32
 
ãnû
;

55 
__u32
 
æags
;

58 #ià
defšed
(
__ýlu¥lus
)

	@src/common/linuxkpi/include/uapi/drm/via_drm.h

24 #iâdeà
_VIA_DRM_H_


25 
	#_VIA_DRM_H_


	)

27 
	~"drm.h
"

29 #ià
defšed
(
__ýlu¥lus
)

37 #iâdeà
_VIA_DEFINES_


38 
	#_VIA_DEFINES_


	)

41 
	#VIA_NR_SAREA_CLIPRECTS
 8

	)

42 
	#VIA_NR_XVMC_PORTS
 10

	)

43 
	#VIA_NR_XVMC_LOCKS
 5

	)

44 
	#VIA_MAX_CACHELINE_SIZE
 64

	)

45 
	#XVMCLOCKPTR
(
§Priv
,
lockNo
) \

46 ((vÞ©ž
drm_hw_lock
 *)(((((è(
§Priv
)->
XvMCLockA»a
) + \

47 (
VIA_MAX_CACHELINE_SIZE
 - 1)) & \

48 ~(
VIA_MAX_CACHELINE_SIZE
 - 1)) + \

49 
VIA_MAX_CACHELINE_SIZE
*(
lockNo
)))

	)

53 
	#VIA_NR_TEX_REGIONS
 64

	)

54 
	#VIA_LOG_MIN_TEX_REGION_SIZE
 16

	)

57 
	#VIA_UPLOAD_TEX0IMAGE
 0x1

	)

58 
	#VIA_UPLOAD_TEX1IMAGE
 0x2

	)

59 
	#VIA_UPLOAD_CTX
 0x4

	)

60 
	#VIA_UPLOAD_BUFFERS
 0x8

	)

61 
	#VIA_UPLOAD_TEX0
 0x10

	)

62 
	#VIA_UPLOAD_TEX1
 0x20

	)

63 
	#VIA_UPLOAD_CLIPRECTS
 0x40

	)

64 
	#VIA_UPLOAD_ALL
 0xff

	)

67 
	#DRM_VIA_ALLOCMEM
 0x00

	)

68 
	#DRM_VIA_FREEMEM
 0x01

	)

69 
	#DRM_VIA_AGP_INIT
 0x02

	)

70 
	#DRM_VIA_FB_INIT
 0x03

	)

71 
	#DRM_VIA_MAP_INIT
 0x04

	)

72 
	#DRM_VIA_DEC_FUTEX
 0x05

	)

73 
	#NOT_USED


	)

74 
	#DRM_VIA_DMA_INIT
 0x07

	)

75 
	#DRM_VIA_CMDBUFFER
 0x08

	)

76 
	#DRM_VIA_FLUSH
 0x09

	)

77 
	#DRM_VIA_PCICMD
 0x0a

	)

78 
	#DRM_VIA_CMDBUF_SIZE
 0x0b

	)

79 
	#NOT_USED


	)

80 
	#DRM_VIA_WAIT_IRQ
 0x0d

	)

81 
	#DRM_VIA_DMA_BLIT
 0x0e

	)

82 
	#DRM_VIA_BLIT_SYNC
 0x0f

	)

84 
	#DRM_IOCTL_VIA_ALLOCMEM
 
	`DRM_IOWR
(
DRM_COMMAND_BASE
 + 
DRM_VIA_ALLOCMEM
, 
drm_vŸ_mem_t
)

	)

85 
	#DRM_IOCTL_VIA_FREEMEM
 
	`DRM_IOW
Ð
DRM_COMMAND_BASE
 + 
DRM_VIA_FREEMEM
, 
drm_vŸ_mem_t
)

	)

86 
	#DRM_IOCTL_VIA_AGP_INIT
 
	`DRM_IOWR
(
DRM_COMMAND_BASE
 + 
DRM_VIA_AGP_INIT
, 
drm_vŸ_agp_t
)

	)

87 
	#DRM_IOCTL_VIA_FB_INIT
 
	`DRM_IOWR
(
DRM_COMMAND_BASE
 + 
DRM_VIA_FB_INIT
, 
drm_vŸ_fb_t
)

	)

88 
	#DRM_IOCTL_VIA_MAP_INIT
 
	`DRM_IOWR
(
DRM_COMMAND_BASE
 + 
DRM_VIA_MAP_INIT
, 
drm_vŸ_š™_t
)

	)

89 
	#DRM_IOCTL_VIA_DEC_FUTEX
 
	`DRM_IOW
Ð
DRM_COMMAND_BASE
 + 
DRM_VIA_DEC_FUTEX
, 
drm_vŸ_fu‹x_t
)

	)

90 
	#DRM_IOCTL_VIA_DMA_INIT
 
	`DRM_IOWR
(
DRM_COMMAND_BASE
 + 
DRM_VIA_DMA_INIT
, 
drm_vŸ_dma_š™_t
)

	)

91 
	#DRM_IOCTL_VIA_CMDBUFFER
 
	`DRM_IOW
Ð
DRM_COMMAND_BASE
 + 
DRM_VIA_CMDBUFFER
, 
drm_vŸ_cmdbufãr_t
)

	)

92 
	#DRM_IOCTL_VIA_FLUSH
 
	`DRM_IO
Ð
DRM_COMMAND_BASE
 + 
DRM_VIA_FLUSH
)

	)

93 
	#DRM_IOCTL_VIA_PCICMD
 
	`DRM_IOW
Ð
DRM_COMMAND_BASE
 + 
DRM_VIA_PCICMD
, 
drm_vŸ_cmdbufãr_t
)

	)

94 
	#DRM_IOCTL_VIA_CMDBUF_SIZE
 
	`DRM_IOWR
Ð
DRM_COMMAND_BASE
 + 
DRM_VIA_CMDBUF_SIZE
, \

95 
drm_vŸ_cmdbuf_size_t
)

	)

96 
	#DRM_IOCTL_VIA_WAIT_IRQ
 
	`DRM_IOWR
Ð
DRM_COMMAND_BASE
 + 
DRM_VIA_WAIT_IRQ
, 
drm_vŸ_œqwa™_t
)

	)

97 
	#DRM_IOCTL_VIA_DMA_BLIT
 
	`DRM_IOW
(
DRM_COMMAND_BASE
 + 
DRM_VIA_DMA_BLIT
, 
drm_vŸ_dmabl™_t
)

	)

98 
	#DRM_IOCTL_VIA_BLIT_SYNC
 
	`DRM_IOW
(
DRM_COMMAND_BASE
 + 
DRM_VIA_BLIT_SYNC
, 
drm_vŸ_bl™sync_t
)

	)

105 
	#VIA_TEX_SETUP_SIZE
 8

	)

109 
	#VIA_FRONT
 0x1

	)

110 
	#VIA_BACK
 0x2

	)

111 
	#VIA_DEPTH
 0x4

	)

112 
	#VIA_STENCIL
 0x8

	)

113 
	#VIA_MEM_VIDEO
 0

	)

114 
	#VIA_MEM_AGP
 1

	)

115 
	#VIA_MEM_SYSTEM
 2

	)

116 
	#VIA_MEM_MIXED
 3

	)

117 
	#VIA_MEM_UNKNOWN
 4

	)

120 
__u32
 
off£t
;

121 
__u32
 
size
;

122 } 
	tdrm_vŸ_agp_t
;

125 
__u32
 
off£t
;

126 
__u32
 
size
;

127 } 
	tdrm_vŸ_fb_t
;

130 
__u32
 
cÚ‹xt
;

131 
__u32
 
ty³
;

132 
__u32
 
size
;

133 
šdex
;

134 
off£t
;

135 } 
	tdrm_vŸ_mem_t
;

137 
	s_drm_vŸ_š™
 {

139 
VIA_INIT_MAP
 = 0x01,

140 
VIA_CLEANUP_MAP
 = 0x02

141 } 
func
;

143 
§»a_´iv_off£t
;

144 
fb_off£t
;

145 
mmio_off£t
;

146 
agpAddr
;

147 } 
	tdrm_vŸ_š™_t
;

149 
	s_drm_vŸ_fu‹x
 {

151 
VIA_FUTEX_WAIT
 = 0x00,

152 
VIA_FUTEX_WAKE
 = 0X01

153 } 
func
;

154 
__u32
 
ms
;

155 
__u32
 
lock
;

156 
__u32
 
v®
;

157 } 
	tdrm_vŸ_fu‹x_t
;

159 
	s_drm_vŸ_dma_š™
 {

161 
VIA_INIT_DMA
 = 0x01,

162 
VIA_CLEANUP_DMA
 = 0x02,

163 
VIA_DMA_INITIALIZED
 = 0x03

164 } 
func
;

166 
off£t
;

167 
size
;

168 
»g_·u£_addr
;

169 } 
	tdrm_vŸ_dma_š™_t
;

171 
	s_drm_vŸ_cmdbufãr
 {

172 
__u£r
 *
buf
;

173 
size
;

174 } 
	tdrm_vŸ_cmdbufãr_t
;

179 
	s_drm_vŸ_‹x_»giÚ
 {

180 
Ãxt
, 
´ev
;

181 
šU£
;

182 
age
;

183 } 
	tdrm_vŸ_‹x_»giÚ_t
;

185 
	s_drm_vŸ_§»a
 {

186 
dœty
;

187 
nbox
;

188 
drm_þ_»ù
 
boxes
[
VIA_NR_SAREA_CLIPRECTS
];

189 
drm_vŸ_‹x_»giÚ_t
 
‹xLi¡
[
VIA_NR_TEX_REGIONS
 + 1];

190 
‹xAge
;

191 
ùxOwÃr
;

192 
v”‹xPrim
;

200 
XvMCLockA»a
[
VIA_MAX_CACHELINE_SIZE
 * (
VIA_NR_XVMC_LOCKS
 + 1)];

202 
XvMCDi¥Ïyšg
[
VIA_NR_XVMC_PORTS
];

203 
XvMCSubPicOn
[
VIA_NR_XVMC_PORTS
];

204 
XvMCCtxNoG¿bbed
;

208 
pfCu¼’tOff£t
;

209 } 
	tdrm_vŸ_§»a_t
;

211 
	s_drm_vŸ_cmdbuf_size
 {

213 
VIA_CMDBUF_SPACE
 = 0x01,

214 
VIA_CMDBUF_LAG
 = 0x02

215 } 
func
;

216 
wa™
;

217 
__u32
 
size
;

218 } 
	tdrm_vŸ_cmdbuf_size_t
;

221 
VIA_IRQ_ABSOLUTE
 = 0x0,

222 
VIA_IRQ_RELATIVE
 = 0x1,

223 
VIA_IRQ_SIGNAL
 = 0x10000000,

224 
VIA_IRQ_FORCE_SEQUENCE
 = 0x20000000

225 } 
	tvŸ_œq_£q_ty³_t
;

227 
	#VIA_IRQ_FLAGS_MASK
 0xF0000000

	)

229 
	edrm_vŸ_œqs
 {

230 
drm_vŸ_œq_hqv0
 = 0,

231 
drm_vŸ_œq_hqv1
,

232 
drm_vŸ_œq_dma0_dd
,

233 
drm_vŸ_œq_dma0_td
,

234 
drm_vŸ_œq_dma1_dd
,

235 
drm_vŸ_œq_dma1_td
,

236 
drm_vŸ_œq_num


239 
	sdrm_vŸ_wa™_œq_»que¡
 {

240 
œq
;

241 
vŸ_œq_£q_ty³_t
 
ty³
;

242 
__u32
 
£qu’û
;

243 
__u32
 
sigÇl
;

246 
	udrm_vŸ_œqwa™
 {

247 
drm_vŸ_wa™_œq_»que¡
 
»que¡
;

248 
drm_wa™_vbÏnk_»¶y
 
»¶y
;

249 } 
	tdrm_vŸ_œqwa™_t
;

251 
	sdrm_vŸ_bl™sync
 {

252 
__u32
 
sync_hªdË
;

253 
’gše
;

254 } 
	tdrm_vŸ_bl™sync_t
;

262 
	sdrm_vŸ_dmabl™
 {

263 
__u32
 
num_lšes
;

264 
__u32
 
lše_Ëngth
;

266 
__u32
 
fb_addr
;

267 
__u32
 
fb_¡ride
;

269 *
mem_addr
;

270 
__u32
 
mem_¡ride
;

272 
__u32
 
æags
;

273 
to_fb
;

275 
drm_vŸ_bl™sync_t
 
sync
;

276 } 
	tdrm_vŸ_dmabl™_t
;

278 #ià
defšed
(
__ýlu¥lus
)

	@src/common/linuxkpi/include/uapi/drm/virtgpu_drm.h

24 #iâdeà
VIRTGPU_DRM_H


25 
	#VIRTGPU_DRM_H


	)

27 
	~"drm.h
"

29 #ià
defšed
(
__ýlu¥lus
)

40 
	#DRM_VIRTGPU_MAP
 0x01

	)

41 
	#DRM_VIRTGPU_EXECBUFFER
 0x02

	)

42 
	#DRM_VIRTGPU_GETPARAM
 0x03

	)

43 
	#DRM_VIRTGPU_RESOURCE_CREATE
 0x04

	)

44 
	#DRM_VIRTGPU_RESOURCE_INFO
 0x05

	)

45 
	#DRM_VIRTGPU_TRANSFER_FROM_HOST
 0x06

	)

46 
	#DRM_VIRTGPU_TRANSFER_TO_HOST
 0x07

	)

47 
	#DRM_VIRTGPU_WAIT
 0x08

	)

48 
	#DRM_VIRTGPU_GET_CAPS
 0x09

	)

50 
	sdrm_vœtgpu_m­
 {

51 
__u64
 
off£t
;

52 
__u32
 
hªdË
;

53 
__u32
 
·d
;

56 
	sdrm_vœtgpu_execbufãr
 {

57 
__u32
 
æags
;

58 
__u32
 
size
;

59 
__u64
 
commªd
;

60 
__u64
 
bo_hªdËs
;

61 
__u32
 
num_bo_hªdËs
;

62 
__u32
 
·d
;

65 
	#VIRTGPU_PARAM_3D_FEATURES
 1

	)

66 
	#VIRTGPU_PARAM_CAPSET_QUERY_FIX
 2

	)

68 
	sdrm_vœtgpu_g‘·¿m
 {

69 
__u64
 
·¿m
;

70 
__u64
 
v®ue
;

75 
	sdrm_vœtgpu_»sourû_ü—‹
 {

76 
__u32
 
rg‘
;

77 
__u32
 
fÜm©
;

78 
__u32
 
bšd
;

79 
__u32
 
width
;

80 
__u32
 
height
;

81 
__u32
 
d•th
;

82 
__u32
 
¬¿y_size
;

83 
__u32
 
Ï¡_Ëv–
;

84 
__u32
 
Ä_§m¶es
;

85 
__u32
 
æags
;

86 
__u32
 
bo_hªdË
;

87 
__u32
 
»s_hªdË
;

88 
__u32
 
size
;

89 
__u32
 
¡ride
;

92 
	sdrm_vœtgpu_»sourû_šfo
 {

93 
__u32
 
bo_hªdË
;

94 
__u32
 
»s_hªdË
;

95 
__u32
 
size
;

96 
__u32
 
¡ride
;

99 
	sdrm_vœtgpu_3d_box
 {

100 
__u32
 
x
;

101 
__u32
 
y
;

102 
__u32
 
z
;

103 
__u32
 
w
;

104 
__u32
 
h
;

105 
__u32
 
d
;

108 
	sdrm_vœtgpu_3d_Œªsãr_to_ho¡
 {

109 
__u32
 
bo_hªdË
;

110 
drm_vœtgpu_3d_box
 
box
;

111 
__u32
 
Ëv–
;

112 
__u32
 
off£t
;

115 
	sdrm_vœtgpu_3d_Œªsãr_äom_ho¡
 {

116 
__u32
 
bo_hªdË
;

117 
drm_vœtgpu_3d_box
 
box
;

118 
__u32
 
Ëv–
;

119 
__u32
 
off£t
;

122 
	#VIRTGPU_WAIT_NOWAIT
 1

	)

123 
	sdrm_vœtgpu_3d_wa™
 {

124 
__u32
 
hªdË
;

125 
__u32
 
æags
;

128 
	sdrm_vœtgpu_g‘_ÿps
 {

129 
__u32
 
ÿp_£t_id
;

130 
__u32
 
ÿp_£t_v”
;

131 
__u64
 
addr
;

132 
__u32
 
size
;

133 
__u32
 
·d
;

136 
	#DRM_IOCTL_VIRTGPU_MAP
 \

137 
	`DRM_IOWR
(
DRM_COMMAND_BASE
 + 
DRM_VIRTGPU_MAP
, 
drm_vœtgpu_m­
)

	)

139 
	#DRM_IOCTL_VIRTGPU_EXECBUFFER
 \

140 
	`DRM_IOW
(
DRM_COMMAND_BASE
 + 
DRM_VIRTGPU_EXECBUFFER
,\

141 
drm_vœtgpu_execbufãr
)

	)

143 
	#DRM_IOCTL_VIRTGPU_GETPARAM
 \

144 
	`DRM_IOWR
(
DRM_COMMAND_BASE
 + 
DRM_VIRTGPU_GETPARAM
,\

145 
drm_vœtgpu_g‘·¿m
)

	)

147 
	#DRM_IOCTL_VIRTGPU_RESOURCE_CREATE
 \

148 
	`DRM_IOWR
(
DRM_COMMAND_BASE
 + 
DRM_VIRTGPU_RESOURCE_CREATE
, \

149 
drm_vœtgpu_»sourû_ü—‹
)

	)

151 
	#DRM_IOCTL_VIRTGPU_RESOURCE_INFO
 \

152 
	`DRM_IOWR
(
DRM_COMMAND_BASE
 + 
DRM_VIRTGPU_RESOURCE_INFO
, \

153 
drm_vœtgpu_»sourû_šfo
)

	)

155 
	#DRM_IOCTL_VIRTGPU_TRANSFER_FROM_HOST
 \

156 
	`DRM_IOWR
(
DRM_COMMAND_BASE
 + 
DRM_VIRTGPU_TRANSFER_FROM_HOST
, \

157 
drm_vœtgpu_3d_Œªsãr_äom_ho¡
)

	)

159 
	#DRM_IOCTL_VIRTGPU_TRANSFER_TO_HOST
 \

160 
	`DRM_IOWR
(
DRM_COMMAND_BASE
 + 
DRM_VIRTGPU_TRANSFER_TO_HOST
, \

161 
drm_vœtgpu_3d_Œªsãr_to_ho¡
)

	)

163 
	#DRM_IOCTL_VIRTGPU_WAIT
 \

164 
	`DRM_IOWR
(
DRM_COMMAND_BASE
 + 
DRM_VIRTGPU_WAIT
, \

165 
drm_vœtgpu_3d_wa™
)

	)

167 
	#DRM_IOCTL_VIRTGPU_GET_CAPS
 \

168 
	`DRM_IOWR
(
DRM_COMMAND_BASE
 + 
DRM_VIRTGPU_GET_CAPS
, \

169 
drm_vœtgpu_g‘_ÿps
)

	)

171 #ià
defšed
(
__ýlu¥lus
)

	@src/common/linuxkpi/include/uapi/drm/vmwgfx_drm.h

28 #iâdeà
__VMWGFX_DRM_H__


29 
	#__VMWGFX_DRM_H__


	)

31 
	~"drm.h
"

33 #ià
defšed
(
__ýlu¥lus
)

37 
	#DRM_VMW_MAX_SURFACE_FACES
 6

	)

38 
	#DRM_VMW_MAX_MIP_LEVELS
 24

	)

41 
	#DRM_VMW_GET_PARAM
 0

	)

42 
	#DRM_VMW_ALLOC_DMABUF
 1

	)

43 
	#DRM_VMW_UNREF_DMABUF
 2

	)

44 
	#DRM_VMW_HANDLE_CLOSE
 2

	)

45 
	#DRM_VMW_CURSOR_BYPASS
 3

	)

47 
	#DRM_VMW_CONTROL_STREAM
 4

	)

48 
	#DRM_VMW_CLAIM_STREAM
 5

	)

49 
	#DRM_VMW_UNREF_STREAM
 6

	)

51 
	#DRM_VMW_CREATE_CONTEXT
 7

	)

52 
	#DRM_VMW_UNREF_CONTEXT
 8

	)

53 
	#DRM_VMW_CREATE_SURFACE
 9

	)

54 
	#DRM_VMW_UNREF_SURFACE
 10

	)

55 
	#DRM_VMW_REF_SURFACE
 11

	)

56 
	#DRM_VMW_EXECBUF
 12

	)

57 
	#DRM_VMW_GET_3D_CAP
 13

	)

58 
	#DRM_VMW_FENCE_WAIT
 14

	)

59 
	#DRM_VMW_FENCE_SIGNALED
 15

	)

60 
	#DRM_VMW_FENCE_UNREF
 16

	)

61 
	#DRM_VMW_FENCE_EVENT
 17

	)

62 
	#DRM_VMW_PRESENT
 18

	)

63 
	#DRM_VMW_PRESENT_READBACK
 19

	)

64 
	#DRM_VMW_UPDATE_LAYOUT
 20

	)

65 
	#DRM_VMW_CREATE_SHADER
 21

	)

66 
	#DRM_VMW_UNREF_SHADER
 22

	)

67 
	#DRM_VMW_GB_SURFACE_CREATE
 23

	)

68 
	#DRM_VMW_GB_SURFACE_REF
 24

	)

69 
	#DRM_VMW_SYNCCPU
 25

	)

70 
	#DRM_VMW_CREATE_EXTENDED_CONTEXT
 26

	)

84 
	#DRM_VMW_PARAM_NUM_STREAMS
 0

	)

85 
	#DRM_VMW_PARAM_NUM_FREE_STREAMS
 1

	)

86 
	#DRM_VMW_PARAM_3D
 2

	)

87 
	#DRM_VMW_PARAM_HW_CAPS
 3

	)

88 
	#DRM_VMW_PARAM_FIFO_CAPS
 4

	)

89 
	#DRM_VMW_PARAM_MAX_FB_SIZE
 5

	)

90 
	#DRM_VMW_PARAM_FIFO_HW_VERSION
 6

	)

91 
	#DRM_VMW_PARAM_MAX_SURF_MEMORY
 7

	)

92 
	#DRM_VMW_PARAM_3D_CAPS_SIZE
 8

	)

93 
	#DRM_VMW_PARAM_MAX_MOB_MEMORY
 9

	)

94 
	#DRM_VMW_PARAM_MAX_MOB_SIZE
 10

	)

95 
	#DRM_VMW_PARAM_SCREEN_TARGET
 11

	)

96 
	#DRM_VMW_PARAM_DX
 12

	)

102 
	edrm_vmw_hªdË_ty³
 {

103 
DRM_VMW_HANDLE_LEGACY
 = 0,

104 
DRM_VMW_HANDLE_PRIME
 = 1

116 
	sdrm_vmw_g‘·¿m_¬g
 {

117 
__u64
 
v®ue
;

118 
__u32
 
·¿m
;

119 
__u32
 
·d64
;

139 
	sdrm_vmw_cÚ‹xt_¬g
 {

140 
__s32
 
cid
;

141 
__u32
 
·d64
;

182 
	sdrm_vmw_surçû_ü—‹_»q
 {

183 
__u32
 
æags
;

184 
__u32
 
fÜm©
;

185 
__u32
 
m_Ëv–s
[
DRM_VMW_MAX_SURFACE_FACES
];

186 
__u64
 
size_addr
;

187 
__s32
 
sh¬—bË
;

188 
__s32
 
sÿnout
;

202 
	sdrm_vmw_surçû_¬g
 {

203 
__s32
 
sid
;

204 
drm_vmw_hªdË_ty³
 
hªdË_ty³
;

218 
	sdrm_vmw_size
 {

219 
__u32
 
width
;

220 
__u32
 
height
;

221 
__u32
 
d•th
;

222 
__u32
 
·d64
;

234 
	udrm_vmw_surçû_ü—‹_¬g
 {

235 
drm_vmw_surçû_¬g
 
»p
;

236 
drm_vmw_surçû_ü—‹_»q
 
»q
;

262 
	udrm_vmw_surçû_»ã»nû_¬g
 {

263 
drm_vmw_surçû_ü—‹_»q
 
»p
;

264 
drm_vmw_surçû_¬g
 
»q
;

306 
	#DRM_VMW_EXECBUF_VERSION
 2

	)

308 
	#DRM_VMW_EXECBUF_FLAG_IMPORT_FENCE_FD
 (1 << 0)

	)

309 
	#DRM_VMW_EXECBUF_FLAG_EXPORT_FENCE_FD
 (1 << 1)

	)

311 
	sdrm_vmw_execbuf_¬g
 {

312 
__u64
 
commªds
;

313 
__u32
 
commªd_size
;

314 
__u32
 
thrÙŽe_us
;

315 
__u64
 
ãnû_»p
;

316 
__u32
 
v”siÚ
;

317 
__u32
 
æags
;

318 
__u32
 
cÚ‹xt_hªdË
;

319 
__s32
 
impÜ‹d_ãnû_fd
;

348 
	sdrm_vmw_ãnû_»p
 {

349 
__u32
 
hªdË
;

350 
__u32
 
mask
;

351 
__u32
 
£qno
;

352 
__u32
 
·s£d_£qno
;

353 
__s32
 
fd
;

354 
__s32
 
”rÜ
;

383 
	sdrm_vmw_®loc_dmabuf_»q
 {

384 
__u32
 
size
;

385 
__u32
 
·d64
;

401 
	sdrm_vmw_dmabuf_»p
 {

402 
__u64
 
m­_hªdË
;

403 
__u32
 
hªdË
;

404 
__u32
 
cur_gmr_id
;

405 
__u32
 
cur_gmr_off£t
;

406 
__u32
 
·d64
;

418 
	udrm_vmw_®loc_dmabuf_¬g
 {

419 
drm_vmw_®loc_dmabuf_»q
 
»q
;

420 
drm_vmw_dmabuf_»p
 
»p
;

438 
	sdrm_vmw_uÄef_dmabuf_¬g
 {

439 
__u32
 
hªdË
;

440 
__u32
 
·d64
;

462 
	sdrm_vmw_»ù
 {

463 
__s32
 
x
;

464 
__s32
 
y
;

465 
__u32
 
w
;

466 
__u32
 
h
;

487 
	sdrm_vmw_cÚŒÞ_¡»am_¬g
 {

488 
__u32
 
¡»am_id
;

489 
__u32
 
’abËd
;

491 
__u32
 
æags
;

492 
__u32
 
cÞÜ_key
;

494 
__u32
 
hªdË
;

495 
__u32
 
off£t
;

496 
__s32
 
fÜm©
;

497 
__u32
 
size
;

498 
__u32
 
width
;

499 
__u32
 
height
;

500 
__u32
 
p™ch
[3];

502 
__u32
 
·d64
;

503 
drm_vmw_»ù
 
¤c
;

504 
drm_vmw_»ù
 
d¡
;

513 
	#DRM_VMW_CURSOR_BYPASS_ALL
 (1 << 0)

	)

514 
	#DRM_VMW_CURSOR_BYPASS_FLAGS
 (1)

	)

529 
	sdrm_vmw_cursÜ_by·ss_¬g
 {

530 
__u32
 
æags
;

531 
__u32
 
ütc_id
;

532 
__s32
 
xpos
;

533 
__s32
 
ypos
;

534 
__s32
 
xhÙ
;

535 
__s32
 
yhÙ
;

552 
	sdrm_vmw_¡»am_¬g
 {

553 
__u32
 
¡»am_id
;

554 
__u32
 
·d64
;

583 
	sdrm_vmw_g‘_3d_ÿp_¬g
 {

584 
__u64
 
bufãr
;

585 
__u32
 
max_size
;

586 
__u32
 
·d64
;

614 
	#DRM_VMW_FENCE_FLAG_EXEC
 (1 << 0)

	)

615 
	#DRM_VMW_FENCE_FLAG_QUERY
 (1 << 1)

	)

617 
	#DRM_VMW_WAIT_OPTION_UNREF
 (1 << 0)

	)

634 
	sdrm_vmw_ãnû_wa™_¬g
 {

635 
__u32
 
hªdË
;

636 
__s32
 
cook›_v®id
;

637 
__u64
 
k”Ãl_cook›
;

638 
__u64
 
timeout_us
;

639 
__s32
 
Ïzy
;

640 
__s32
 
æags
;

641 
__s32
 
wa™_ÝtiÚs
;

642 
__s32
 
·d64
;

665 
	sdrm_vmw_ãnû_sigÇËd_¬g
 {

666 
__u32
 
hªdË
;

667 
__u32
 
æags
;

668 
__s32
 
sigÇËd
;

669 
__u32
 
·s£d_£qno
;

670 
__u32
 
sigÇËd_æags
;

671 
__u32
 
·d64
;

691 
	sdrm_vmw_ãnû_¬g
 {

692 
__u32
 
hªdË
;

693 
__u32
 
·d64
;

710 
	#DRM_VMW_EVENT_FENCE_SIGNALED
 0x80000000

	)

712 
	sdrm_vmw_ev’t_ãnû
 {

713 
drm_ev’t
 
ba£
;

714 
__u64
 
u£r_d©a
;

715 
__u32
 
tv_£c
;

716 
__u32
 
tv_u£c
;

723 
	#DRM_VMW_FE_FLAG_REQ_TIME
 (1 << 0)

	)

734 
	sdrm_vmw_ãnû_ev’t_¬g
 {

735 
__u64
 
ãnû_»p
;

736 
__u64
 
u£r_d©a
;

737 
__u32
 
hªdË
;

738 
__u32
 
æags
;

766 
	sdrm_vmw_´e£Á_¬g
 {

767 
__u32
 
fb_id
;

768 
__u32
 
sid
;

769 
__s32
 
de¡_x
;

770 
__s32
 
de¡_y
;

771 
__u64
 
þs_±r
;

772 
__u32
 
num_þs
;

773 
__u32
 
·d64
;

796 
	sdrm_vmw_´e£Á_»adback_¬g
 {

797 
__u32
 
fb_id
;

798 
__u32
 
num_þs
;

799 
__u64
 
þs_±r
;

800 
__u64
 
ãnû_»p
;

820 
	sdrm_vmw_upd©e_Ïyout_¬g
 {

821 
__u32
 
num_ouuts
;

822 
__u32
 
·d64
;

823 
__u64
 
»ùs
;

838 
	edrm_vmw_shad”_ty³
 {

839 
drm_vmw_shad”_ty³_vs
 = 0,

840 
drm_vmw_shad”_ty³_ps
,

858 
	sdrm_vmw_shad”_ü—‹_¬g
 {

859 
drm_vmw_shad”_ty³
 
shad”_ty³
;

860 
__u32
 
size
;

861 
__u32
 
bufãr_hªdË
;

862 
__u32
 
shad”_hªdË
;

863 
__u64
 
off£t
;

881 
	sdrm_vmw_shad”_¬g
 {

882 
__u32
 
hªdË
;

883 
__u32
 
·d64
;

904 
	edrm_vmw_surçû_æags
 {

905 
drm_vmw_surçû_æag_sh¬—bË
 = (1 << 0),

906 
drm_vmw_surçû_æag_sÿnout
 = (1 << 1),

907 
drm_vmw_surçû_æag_ü—‹_bufãr
 = (1 << 2)

928 
	sdrm_vmw_gb_surçû_ü—‹_»q
 {

929 
__u32
 
svga3d_æags
;

930 
__u32
 
fÜm©
;

931 
__u32
 
m_Ëv–s
;

932 
drm_vmw_surçû_æags
 
drm_surçû_æags
;

933 
__u32
 
muÉi§m¶e_couÁ
;

934 
__u32
 
autog’_fž‹r
;

935 
__u32
 
bufãr_hªdË
;

936 
__u32
 
¬¿y_size
;

937 
drm_vmw_size
 
ba£_size
;

954 
	sdrm_vmw_gb_surçû_ü—‹_»p
 {

955 
__u32
 
hªdË
;

956 
__u32
 
backup_size
;

957 
__u32
 
bufãr_hªdË
;

958 
__u32
 
bufãr_size
;

959 
__u64
 
bufãr_m­_hªdË
;

970 
	udrm_vmw_gb_surçû_ü—‹_¬g
 {

971 
drm_vmw_gb_surçû_ü—‹_»p
 
»p
;

972 
drm_vmw_gb_surçû_ü—‹_»q
 
»q
;

999 
	sdrm_vmw_gb_surçû_»f_»p
 {

1000 
drm_vmw_gb_surçû_ü—‹_»q
 
üeq
;

1001 
drm_vmw_gb_surçû_ü—‹_»p
 
ü•
;

1012 
	udrm_vmw_gb_surçû_»ã»nû_¬g
 {

1013 
drm_vmw_gb_surçû_»f_»p
 
»p
;

1014 
drm_vmw_surçû_¬g
 
»q
;

1044 
	edrm_vmw_syncýu_æags
 {

1045 
drm_vmw_syncýu_»ad
 = (1 << 0),

1046 
drm_vmw_syncýu_wr™e
 = (1 << 1),

1047 
drm_vmw_syncýu_dÚtblock
 = (1 << 2),

1048 
drm_vmw_syncýu_®low_cs
 = (1 << 3)

1057 
	edrm_vmw_syncýu_Ý
 {

1058 
drm_vmw_syncýu_g¿b
,

1059 
drm_vmw_syncýu_»Ëa£


1069 
	sdrm_vmw_syncýu_¬g
 {

1070 
drm_vmw_syncýu_Ý
 
Ý
;

1071 
drm_vmw_syncýu_æags
 
æags
;

1072 
__u32
 
hªdË
;

1073 
__u32
 
·d64
;

1083 
	edrm_vmw_ex‹nded_cÚ‹xt
 {

1084 
drm_vmw_cÚ‹xt_Ëgacy
,

1085 
drm_vmw_cÚ‹xt_dx


1096 
	udrm_vmw_ex‹nded_cÚ‹xt_¬g
 {

1097 
drm_vmw_ex‹nded_cÚ‹xt
 
»q
;

1098 
drm_vmw_cÚ‹xt_¬g
 
»p
;

1118 
	sdrm_vmw_hªdË_þo£_¬g
 {

1119 
__u32
 
hªdË
;

1120 
__u32
 
·d64
;

1124 #ià
defšed
(
__ýlu¥lus
)

	@src/common/linuxkpi/include/uapi/linux/kfd_ioctl.h

23 #iâdeà
KFD_IOCTL_H_INCLUDED


24 
	#KFD_IOCTL_H_INCLUDED


	)

26 
	~<drm/drm.h
>

27 
	~<lšux/ioùl.h
>

29 
	#KFD_IOCTL_MAJOR_VERSION
 1

	)

30 
	#KFD_IOCTL_MINOR_VERSION
 1

	)

32 
	skfd_ioùl_g‘_v”siÚ_¬gs
 {

33 
__u32
 
	mmajÜ_v”siÚ
;

34 
__u32
 
	mmšÜ_v”siÚ
;

38 
	#KFD_IOC_QUEUE_TYPE_COMPUTE
 0

	)

39 
	#KFD_IOC_QUEUE_TYPE_SDMA
 1

	)

40 
	#KFD_IOC_QUEUE_TYPE_COMPUTE_AQL
 2

	)

42 
	#KFD_MAX_QUEUE_PERCENTAGE
 100

	)

43 
	#KFD_MAX_QUEUE_PRIORITY
 15

	)

45 
	skfd_ioùl_ü—‹_queue_¬gs
 {

46 
__u64
 
	mršg_ba£_add»ss
;

47 
__u64
 
	mwr™e_poš‹r_add»ss
;

48 
__u64
 
	m»ad_poš‹r_add»ss
;

49 
__u64
 
	mdoÜb–l_off£t
;

51 
__u32
 
	mršg_size
;

52 
__u32
 
	mgpu_id
;

53 
__u32
 
	mqueue_ty³
;

54 
__u32
 
	mqueue_³rûÁage
;

55 
__u32
 
	mqueue_´iÜ™y
;

56 
__u32
 
	mqueue_id
;

58 
__u64
 
	meÝ_bufãr_add»ss
;

59 
__u64
 
	meÝ_bufãr_size
;

60 
__u64
 
	mùx_§ve_»¡Üe_add»ss
;

61 
__u64
 
	mùx_§ve_»¡Üe_size
;

64 
	skfd_ioùl_de¡roy_queue_¬gs
 {

65 
__u32
 
	mqueue_id
;

66 
__u32
 
	m·d
;

69 
	skfd_ioùl_upd©e_queue_¬gs
 {

70 
__u64
 
	mršg_ba£_add»ss
;

72 
__u32
 
	mqueue_id
;

73 
__u32
 
	mršg_size
;

74 
__u32
 
	mqueue_³rûÁage
;

75 
__u32
 
	mqueue_´iÜ™y
;

79 
	#KFD_IOC_CACHE_POLICY_COHERENT
 0

	)

80 
	#KFD_IOC_CACHE_POLICY_NONCOHERENT
 1

	)

82 
	skfd_ioùl_£t_memÜy_pÞicy_¬gs
 {

83 
__u64
 
	m®‹º©e_­”tu»_ba£
;

84 
__u64
 
	m®‹º©e_­”tu»_size
;

86 
__u32
 
	mgpu_id
;

87 
__u32
 
	mdeçuÉ_pÞicy
;

88 
__u32
 
	m®‹º©e_pÞicy
;

89 
__u32
 
	m·d
;

99 
	skfd_ioùl_g‘_þock_couÁ”s_¬gs
 {

100 
__u64
 
	mgpu_þock_couÁ”
;

101 
__u64
 
	mýu_þock_couÁ”
;

102 
__u64
 
	msy¡em_þock_couÁ”
;

103 
__u64
 
	msy¡em_þock_äeq
;

105 
__u32
 
	mgpu_id
;

106 
__u32
 
	m·d
;

109 
	#NUM_OF_SUPPORTED_GPUS
 7

	)

111 
	skfd_´oûss_deviû_­”tu»s
 {

112 
__u64
 
	mlds_ba£
;

113 
__u64
 
	mlds_lim™
;

114 
__u64
 
	msü©ch_ba£
;

115 
__u64
 
	msü©ch_lim™
;

116 
__u64
 
	mgpuvm_ba£
;

117 
__u64
 
	mgpuvm_lim™
;

118 
__u32
 
	mgpu_id
;

119 
__u32
 
	m·d
;

122 
	skfd_ioùl_g‘_´oûss_­”tu»s_¬gs
 {

123 
kfd_´oûss_deviû_­”tu»s


124 
	m´oûss_­”tu»s
[
NUM_OF_SUPPORTED_GPUS
];

127 
__u32
 
	mnum_of_nodes
;

128 
__u32
 
	m·d
;

131 
	#MAX_ALLOWED_NUM_POINTS
 100

	)

132 
	#MAX_ALLOWED_AW_BUFF_SIZE
 4096

	)

133 
	#MAX_ALLOWED_WAC_BUFF_SIZE
 128

	)

135 
	skfd_ioùl_dbg_»gi¡”_¬gs
 {

136 
__u32
 
	mgpu_id
;

137 
__u32
 
	m·d
;

140 
	skfd_ioùl_dbg_uÄegi¡”_¬gs
 {

141 
__u32
 
	mgpu_id
;

142 
__u32
 
	m·d
;

145 
	skfd_ioùl_dbg_add»ss_w©ch_¬gs
 {

146 
__u64
 
	mcÚ‹Á_±r
;

147 
__u32
 
	mgpu_id
;

148 
__u32
 
	mbuf_size_š_by‹s
;

151 
	skfd_ioùl_dbg_wave_cÚŒÞ_¬gs
 {

152 
__u64
 
	mcÚ‹Á_±r
;

153 
__u32
 
	mgpu_id
;

154 
__u32
 
	mbuf_size_š_by‹s
;

158 
	#KFD_IOC_EVENT_SIGNAL
 0

	)

159 
	#KFD_IOC_EVENT_NODECHANGE
 1

	)

160 
	#KFD_IOC_EVENT_DEVICESTATECHANGE
 2

	)

161 
	#KFD_IOC_EVENT_HW_EXCEPTION
 3

	)

162 
	#KFD_IOC_EVENT_SYSTEM_EVENT
 4

	)

163 
	#KFD_IOC_EVENT_DEBUG_EVENT
 5

	)

164 
	#KFD_IOC_EVENT_PROFILE_EVENT
 6

	)

165 
	#KFD_IOC_EVENT_QUEUE_EVENT
 7

	)

166 
	#KFD_IOC_EVENT_MEMORY
 8

	)

168 
	#KFD_IOC_WAIT_RESULT_COMPLETE
 0

	)

169 
	#KFD_IOC_WAIT_RESULT_TIMEOUT
 1

	)

170 
	#KFD_IOC_WAIT_RESULT_FAIL
 2

	)

172 
	#KFD_SIGNAL_EVENT_LIMIT
 256

	)

174 
	skfd_ioùl_ü—‹_ev’t_¬gs
 {

175 
__u64
 
	mev’t_·ge_off£t
;

176 
__u32
 
	mev’t_Œigg”_d©a
;

177 
__u32
 
	mev’t_ty³
;

178 
__u32
 
	mauto_»£t
;

179 
__u32
 
	mnode_id
;

181 
__u32
 
	mev’t_id
;

182 
__u32
 
	mev’t_¦Ù_šdex
;

185 
	skfd_ioùl_de¡roy_ev’t_¬gs
 {

186 
__u32
 
	mev’t_id
;

187 
__u32
 
	m·d
;

190 
	skfd_ioùl_£t_ev’t_¬gs
 {

191 
__u32
 
	mev’t_id
;

192 
__u32
 
	m·d
;

195 
	skfd_ioùl_»£t_ev’t_¬gs
 {

196 
__u32
 
	mev’t_id
;

197 
__u32
 
	m·d
;

200 
	skfd_memÜy_exû±iÚ_çžu»
 {

201 
__u32
 
	mNÙP»£Á
;

202 
__u32
 
	mR—dOÆy
;

203 
__u32
 
	mNoExecu‹
;

204 
__u32
 
	m·d
;

208 
	skfd_h§_memÜy_exû±iÚ_d©a
 {

209 
kfd_memÜy_exû±iÚ_çžu»
 
	mçžu»
;

210 
__u64
 
	mva
;

211 
__u32
 
	mgpu_id
;

212 
__u32
 
	m·d
;

216 
	skfd_ev’t_d©a
 {

218 
kfd_h§_memÜy_exû±iÚ_d©a
 
	mmemÜy_exû±iÚ_d©a
;

220 
__u64
 
	mkfd_ev’t_d©a_ext
;

222 
__u32
 
	mev’t_id
;

223 
__u32
 
	m·d
;

226 
	skfd_ioùl_wa™_ev’ts_¬gs
 {

227 
__u64
 
	mev’ts_±r
;

229 
__u32
 
	mnum_ev’ts
;

230 
__u32
 
	mwa™_fÜ_®l
;

231 
__u32
 
	mtimeout
;

232 
__u32
 
	mwa™_»suÉ
;

235 
	skfd_ioùl_£t_sü©ch_backšg_va_¬gs
 {

236 
ušt64_t
 
	mva_addr
;

237 
ušt32_t
 
	mgpu_id
;

238 
ušt32_t
 
	m·d
;

241 
	skfd_ioùl_g‘_tže_cÚfig_¬gs
 {

243 
ušt64_t
 
	mtže_cÚfig_±r
;

245 
ušt64_t
 
	mmaüo_tže_cÚfig_±r
;

249 
ušt32_t
 
	mnum_tže_cÚfigs
;

253 
ušt32_t
 
	mnum_maüo_tže_cÚfigs
;

255 
ušt32_t
 
	mgpu_id
;

256 
ušt32_t
 
	mgb_addr_cÚfig
;

257 
ušt32_t
 
	mnum_bªks
;

258 
ušt32_t
 
	mnum_¿nks
;

264 
	#AMDKFD_IOCTL_BASE
 'K'

	)

265 
	#AMDKFD_IO
(
Ä
è
	`_IO
(
AMDKFD_IOCTL_BASE
,‚r)

	)

266 
	#AMDKFD_IOR
(
Ä
, 
ty³
è
	`_IOR
(
AMDKFD_IOCTL_BASE
,‚r,y³)

	)

267 
	#AMDKFD_IOW
(
Ä
, 
ty³
è
	`_IOW
(
AMDKFD_IOCTL_BASE
,‚r,y³)

	)

268 
	#AMDKFD_IOWR
(
Ä
, 
ty³
è
	`_IOWR
(
AMDKFD_IOCTL_BASE
,‚r,y³)

	)

270 
	#AMDKFD_IOC_GET_VERSION
 \

271 
	`AMDKFD_IOR
(0x01, 
kfd_ioùl_g‘_v”siÚ_¬gs
)

	)

273 
	#AMDKFD_IOC_CREATE_QUEUE
 \

274 
	`AMDKFD_IOWR
(0x02, 
kfd_ioùl_ü—‹_queue_¬gs
)

	)

276 
	#AMDKFD_IOC_DESTROY_QUEUE
 \

277 
	`AMDKFD_IOWR
(0x03, 
kfd_ioùl_de¡roy_queue_¬gs
)

	)

279 
	#AMDKFD_IOC_SET_MEMORY_POLICY
 \

280 
	`AMDKFD_IOW
(0x04, 
kfd_ioùl_£t_memÜy_pÞicy_¬gs
)

	)

282 
	#AMDKFD_IOC_GET_CLOCK_COUNTERS
 \

283 
	`AMDKFD_IOWR
(0x05, 
kfd_ioùl_g‘_þock_couÁ”s_¬gs
)

	)

285 
	#AMDKFD_IOC_GET_PROCESS_APERTURES
 \

286 
	`AMDKFD_IOR
(0x06, 
kfd_ioùl_g‘_´oûss_­”tu»s_¬gs
)

	)

288 
	#AMDKFD_IOC_UPDATE_QUEUE
 \

289 
	`AMDKFD_IOW
(0x07, 
kfd_ioùl_upd©e_queue_¬gs
)

	)

291 
	#AMDKFD_IOC_CREATE_EVENT
 \

292 
	`AMDKFD_IOWR
(0x08, 
kfd_ioùl_ü—‹_ev’t_¬gs
)

	)

294 
	#AMDKFD_IOC_DESTROY_EVENT
 \

295 
	`AMDKFD_IOW
(0x09, 
kfd_ioùl_de¡roy_ev’t_¬gs
)

	)

297 
	#AMDKFD_IOC_SET_EVENT
 \

298 
	`AMDKFD_IOW
(0x0A, 
kfd_ioùl_£t_ev’t_¬gs
)

	)

300 
	#AMDKFD_IOC_RESET_EVENT
 \

301 
	`AMDKFD_IOW
(0x0B, 
kfd_ioùl_»£t_ev’t_¬gs
)

	)

303 
	#AMDKFD_IOC_WAIT_EVENTS
 \

304 
	`AMDKFD_IOWR
(0x0C, 
kfd_ioùl_wa™_ev’ts_¬gs
)

	)

306 
	#AMDKFD_IOC_DBG_REGISTER
 \

307 
	`AMDKFD_IOW
(0x0D, 
kfd_ioùl_dbg_»gi¡”_¬gs
)

	)

309 
	#AMDKFD_IOC_DBG_UNREGISTER
 \

310 
	`AMDKFD_IOW
(0x0E, 
kfd_ioùl_dbg_uÄegi¡”_¬gs
)

	)

312 
	#AMDKFD_IOC_DBG_ADDRESS_WATCH
 \

313 
	`AMDKFD_IOW
(0x0F, 
kfd_ioùl_dbg_add»ss_w©ch_¬gs
)

	)

315 
	#AMDKFD_IOC_DBG_WAVE_CONTROL
 \

316 
	`AMDKFD_IOW
(0x10, 
kfd_ioùl_dbg_wave_cÚŒÞ_¬gs
)

	)

318 
	#AMDKFD_IOC_SET_SCRATCH_BACKING_VA
 \

319 
	`AMDKFD_IOWR
(0x11, 
kfd_ioùl_£t_sü©ch_backšg_va_¬gs
)

	)

321 
	#AMDKFD_IOC_GET_TILE_CONFIG
 \

322 
	`AMDKFD_IOWR
(0x12, 
kfd_ioùl_g‘_tže_cÚfig_¬gs
)

	)

324 
	#AMDKFD_COMMAND_START
 0x01

	)

325 
	#AMDKFD_COMMAND_END
 0x13

	)

	@src/nvidia-drm/bus_if.h

20 #iâdeà
_bus_if_h_


21 
	#_bus_if_h_


	)

24 
kobjÝ_desc
 
bus_´št_chžd_desc
;

26 
	tbus_´št_chžd_t
(
	tdeviû_t
 
	t_dev
, deviû_ˆ
	t_chžd
);

42 
__šlše
 
	$BUS_PRINT_CHILD
(
deviû_t
 
_dev
, deviû_ˆ
_chžd
)

44 
kobjÝ_t
 
_m
;

45 
rc
;

46 
	`KOBJOPLOOKUP
(((
kobj_t
)
_dev
)->
Ýs
,
bus_´št_chžd
);

47 
rc
 = ((
bus_´št_chžd_t
 *è
_m
)(
_dev
, 
_chžd
);

48  (
rc
);

49 
	}
}

52 
kobjÝ_desc
 
bus_´obe_nom©ch_desc
;

54 
	tbus_´obe_nom©ch_t
(
	tdeviû_t
 
	t_dev
, deviû_ˆ
	t_chžd
);

65 
__šlše
 
	$BUS_PROBE_NOMATCH
(
deviû_t
 
_dev
, deviû_ˆ
_chžd
)

67 
kobjÝ_t
 
_m
;

68 
	`KOBJOPLOOKUP
(((
kobj_t
)
_dev
)->
Ýs
,
bus_´obe_nom©ch
);

69 ((
bus_´obe_nom©ch_t
 *è
_m
)(
_dev
, 
_chžd
);

70 
	}
}

73 
kobjÝ_desc
 
bus_»ad_iv¬_desc
;

75 
	tbus_»ad_iv¬_t
(
	tdeviû_t
 
	t_dev
, deviû_ˆ
	t_chžd
, 
	t_šdex
,

76 
	tušŒ_t
 *
	t_»suÉ
);

105 
__šlše
 
	$BUS_READ_IVAR
(
deviû_t
 
_dev
, deviû_ˆ
_chžd
, 
_šdex
,

106 
ušŒ_t
 *
_»suÉ
)

108 
kobjÝ_t
 
_m
;

109 
rc
;

110 
	`KOBJOPLOOKUP
(((
kobj_t
)
_dev
)->
Ýs
,
bus_»ad_iv¬
);

111 
rc
 = ((
bus_»ad_iv¬_t
 *è
_m
)(
_dev
, 
_chžd
, 
_šdex
, 
_»suÉ
);

112  (
rc
);

113 
	}
}

116 
kobjÝ_desc
 
bus_wr™e_iv¬_desc
;

118 
	tbus_wr™e_iv¬_t
(
	tdeviû_t
 
	t_dev
, deviû_ˆ
	t_chžd
, 
	t_šdx
,

119 
	tušŒ_t
 
	t_v®ue
);

138 
__šlše
 
	$BUS_WRITE_IVAR
(
deviû_t
 
_dev
, deviû_ˆ
_chžd
, 
_šdx
,

139 
ušŒ_t
 
_v®ue
)

141 
kobjÝ_t
 
_m
;

142 
rc
;

143 
	`KOBJOPLOOKUP
(((
kobj_t
)
_dev
)->
Ýs
,
bus_wr™e_iv¬
);

144 
rc
 = ((
bus_wr™e_iv¬_t
 *è
_m
)(
_dev
, 
_chžd
, 
_šdx
, 
_v®ue
);

145  (
rc
);

146 
	}
}

149 
kobjÝ_desc
 
bus_chžd_d–‘ed_desc
;

151 
	tbus_chžd_d–‘ed_t
(
	tdeviû_t
 
	t_dev
, deviû_ˆ
	t_chžd
);

162 
__šlše
 
	$BUS_CHILD_DELETED
(
deviû_t
 
_dev
, deviû_ˆ
_chžd
)

164 
kobjÝ_t
 
_m
;

165 
	`KOBJOPLOOKUP
(((
kobj_t
)
_dev
)->
Ýs
,
bus_chžd_d–‘ed
);

166 ((
bus_chžd_d–‘ed_t
 *è
_m
)(
_dev
, 
_chžd
);

167 
	}
}

170 
kobjÝ_desc
 
bus_chžd_d‘ached_desc
;

172 
	tbus_chžd_d‘ached_t
(
	tdeviû_t
 
	t_dev
, deviû_ˆ
	t_chžd
);

183 
__šlše
 
	$BUS_CHILD_DETACHED
(
deviû_t
 
_dev
, deviû_ˆ
_chžd
)

185 
kobjÝ_t
 
_m
;

186 
	`KOBJOPLOOKUP
(((
kobj_t
)
_dev
)->
Ýs
,
bus_chžd_d‘ached
);

187 ((
bus_chžd_d‘ached_t
 *è
_m
)(
_dev
, 
_chžd
);

188 
	}
}

191 
kobjÝ_desc
 
bus_driv”_added_desc
;

193 
	tbus_driv”_added_t
(
	tdeviû_t
 
	t_dev
, 
	tdriv”_t
 *
	t_driv”
);

206 
__šlše
 
	$BUS_DRIVER_ADDED
(
deviû_t
 
_dev
, 
driv”_t
 *
_driv”
)

208 
kobjÝ_t
 
_m
;

209 
	`KOBJOPLOOKUP
(((
kobj_t
)
_dev
)->
Ýs
,
bus_driv”_added
);

210 ((
bus_driv”_added_t
 *è
_m
)(
_dev
, 
_driv”
);

211 
	}
}

214 
kobjÝ_desc
 
bus_add_chžd_desc
;

216 
deviû_t
 
	tbus_add_chžd_t
(
	tdeviû_t
 
	t_dev
, 
	tu_št
 
	t_Üd”
, cÚ¡ *
	t_Çme
,

217 
	t_un™
);

240 
__šlše
 
deviû_t
 
	$BUS_ADD_CHILD
(
deviû_t
 
_dev
, 
u_št
 
_Üd”
,

241 cÚ¡ *
_Çme
, 
_un™
)

243 
kobjÝ_t
 
_m
;

244 
deviû_t
 
rc
;

245 
	`KOBJOPLOOKUP
(((
kobj_t
)
_dev
)->
Ýs
,
bus_add_chžd
);

246 
rc
 = ((
bus_add_chžd_t
 *è
_m
)(
_dev
, 
_Üd”
, 
_Çme
, 
_un™
);

247  (
rc
);

248 
	}
}

251 
kobjÝ_desc
 
bus_»sÿn_desc
;

253 
	tbus_»sÿn_t
(
	tdeviû_t
 
	t_dev
);

264 
__šlše
 
	$BUS_RESCAN
(
deviû_t
 
_dev
)

266 
kobjÝ_t
 
_m
;

267 
rc
;

268 
	`KOBJOPLOOKUP
(((
kobj_t
)
_dev
)->
Ýs
,
bus_»sÿn
);

269 
rc
 = ((
bus_»sÿn_t
 *è
_m
)(
_dev
);

270  (
rc
);

271 
	}
}

274 
kobjÝ_desc
 
bus_®loc_»sourû_desc
;

276 
»sourû
 * 
	tbus_®loc_»sourû_t
(
	tdeviû_t
 
	t_dev
, deviû_ˆ
	t_chžd
,

277 
	t_ty³
, *
	t_rid
,

278 
	trmª_»s_t
 
	t_¡¬t
,

279 
	trmª_»s_t
 
	t_’d
,

280 
	trmª_»s_t
 
	t_couÁ
, 
	tu_št
 
	t_æags
);

310 
__šlše
 
»sourû
 * 
	$BUS_ALLOC_RESOURCE
(
deviû_t
 
_dev
,

311 
deviû_t
 
_chžd
, 
_ty³
,

312 *
_rid
,

313 
rmª_»s_t
 
_¡¬t
,

314 
rmª_»s_t
 
_’d
,

315 
rmª_»s_t
 
_couÁ
,

316 
u_št
 
_æags
)

318 
kobjÝ_t
 
_m
;

319 
»sourû
 * 
rc
;

320 
	`KOBJOPLOOKUP
(((
kobj_t
)
_dev
)->
Ýs
,
bus_®loc_»sourû
);

321 
rc
 = ((
bus_®loc_»sourû_t
 *è
_m
)(
_dev
, 
_chžd
, 
_ty³
, 
_rid
, 
_¡¬t
, 
_’d
, 
_couÁ
, 
_æags
);

322  (
rc
);

323 
	}
}

326 
kobjÝ_desc
 
bus_aùiv©e_»sourû_desc
;

328 
	tbus_aùiv©e_»sourû_t
(
	tdeviû_t
 
	t_dev
, deviû_ˆ
	t_chžd
, 
	t_ty³
,

329 
	t_rid
, 
	t»sourû
 *
	t_r
);

345 
__šlše
 
	$BUS_ACTIVATE_RESOURCE
(
deviû_t
 
_dev
, deviû_ˆ
_chžd
,

346 
_ty³
, 
_rid
,

347 
»sourû
 *
_r
)

349 
kobjÝ_t
 
_m
;

350 
rc
;

351 
	`KOBJOPLOOKUP
(((
kobj_t
)
_dev
)->
Ýs
,
bus_aùiv©e_»sourû
);

352 
rc
 = ((
bus_aùiv©e_»sourû_t
 *è
_m
)(
_dev
, 
_chžd
, 
_ty³
, 
_rid
, 
_r
);

353  (
rc
);

354 
	}
}

357 
kobjÝ_desc
 
bus_m­_»sourû_desc
;

359 
	tbus_m­_»sourû_t
(
	tdeviû_t
 
	t_dev
, deviû_ˆ
	t_chžd
, 
	t_ty³
,

360 
	t»sourû
 *
	t_r
,

361 
	t»sourû_m­_»que¡
 *
	t_¬gs
,

362 
	t»sourû_m­
 *
	t_m­
);

378 
__šlše
 
	$BUS_MAP_RESOURCE
(
deviû_t
 
_dev
, deviû_ˆ
_chžd
, 
_ty³
,

379 
»sourû
 *
_r
,

380 
»sourû_m­_»que¡
 *
_¬gs
,

381 
»sourû_m­
 *
_m­
)

383 
kobjÝ_t
 
_m
;

384 
rc
;

385 
	`KOBJOPLOOKUP
(((
kobj_t
)
_dev
)->
Ýs
,
bus_m­_»sourû
);

386 
rc
 = ((
bus_m­_»sourû_t
 *è
_m
)(
_dev
, 
_chžd
, 
_ty³
, 
_r
, 
_¬gs
, 
_m­
);

387  (
rc
);

388 
	}
}

391 
kobjÝ_desc
 
bus_unm­_»sourû_desc
;

393 
	tbus_unm­_»sourû_t
(
	tdeviû_t
 
	t_dev
, deviû_ˆ
	t_chžd
, 
	t_ty³
,

394 
	t»sourû
 *
	t_r
,

395 
	t»sourû_m­
 *
	t_m­
);

410 
__šlše
 
	$BUS_UNMAP_RESOURCE
(
deviû_t
 
_dev
, deviû_ˆ
_chžd
,

411 
_ty³
, 
»sourû
 *
_r
,

412 
»sourû_m­
 *
_m­
)

414 
kobjÝ_t
 
_m
;

415 
rc
;

416 
	`KOBJOPLOOKUP
(((
kobj_t
)
_dev
)->
Ýs
,
bus_unm­_»sourû
);

417 
rc
 = ((
bus_unm­_»sourû_t
 *è
_m
)(
_dev
, 
_chžd
, 
_ty³
, 
_r
, 
_m­
);

418  (
rc
);

419 
	}
}

422 
kobjÝ_desc
 
bus_d—ùiv©e_»sourû_desc
;

424 
	tbus_d—ùiv©e_»sourû_t
(
	tdeviû_t
 
	t_dev
, deviû_ˆ
	t_chžd
, 
	t_ty³
,

425 
	t_rid
, 
	t»sourû
 *
	t_r
);

439 
__šlše
 
	$BUS_DEACTIVATE_RESOURCE
(
deviû_t
 
_dev
, deviû_ˆ
_chžd
,

440 
_ty³
, 
_rid
,

441 
»sourû
 *
_r
)

443 
kobjÝ_t
 
_m
;

444 
rc
;

445 
	`KOBJOPLOOKUP
(((
kobj_t
)
_dev
)->
Ýs
,
bus_d—ùiv©e_»sourû
);

446 
rc
 = ((
bus_d—ùiv©e_»sourû_t
 *è
_m
)(
_dev
, 
_chžd
, 
_ty³
, 
_rid
, 
_r
);

447  (
rc
);

448 
	}
}

451 
kobjÝ_desc
 
bus_adju¡_»sourû_desc
;

453 
	tbus_adju¡_»sourû_t
(
	tdeviû_t
 
	t_dev
, deviû_ˆ
	t_chžd
, 
	t_ty³
,

454 
	t»sourû
 *
	t_»s
, 
	trmª_»s_t
 
	t_¡¬t
,

455 
	trmª_»s_t
 
	t_’d
);

472 
__šlše
 
	$BUS_ADJUST_RESOURCE
(
deviû_t
 
_dev
, deviû_ˆ
_chžd
,

473 
_ty³
, 
»sourû
 *
_»s
,

474 
rmª_»s_t
 
_¡¬t
,„mª_»s_ˆ
_’d
)

476 
kobjÝ_t
 
_m
;

477 
rc
;

478 
	`KOBJOPLOOKUP
(((
kobj_t
)
_dev
)->
Ýs
,
bus_adju¡_»sourû
);

479 
rc
 = ((
bus_adju¡_»sourû_t
 *è
_m
)(
_dev
, 
_chžd
, 
_ty³
, 
_»s
, 
_¡¬t
, 
_’d
);

480  (
rc
);

481 
	}
}

484 
kobjÝ_desc
 
bus_»Ëa£_»sourû_desc
;

486 
	tbus_»Ëa£_»sourû_t
(
	tdeviû_t
 
	t_dev
, deviû_ˆ
	t_chžd
, 
	t_ty³
,

487 
	t_rid
, 
	t»sourû
 *
	t_»s
);

502 
__šlše
 
	$BUS_RELEASE_RESOURCE
(
deviû_t
 
_dev
, deviû_ˆ
_chžd
,

503 
_ty³
, 
_rid
,

504 
»sourû
 *
_»s
)

506 
kobjÝ_t
 
_m
;

507 
rc
;

508 
	`KOBJOPLOOKUP
(((
kobj_t
)
_dev
)->
Ýs
,
bus_»Ëa£_»sourû
);

509 
rc
 = ((
bus_»Ëa£_»sourû_t
 *è
_m
)(
_dev
, 
_chžd
, 
_ty³
, 
_rid
, 
_»s
);

510  (
rc
);

511 
	}
}

514 
kobjÝ_desc
 
bus_£tup_šŒ_desc
;

516 
	tbus_£tup_šŒ_t
(
	tdeviû_t
 
	t_dev
, deviû_ˆ
	t_chžd
,

517 
	t»sourû
 *
	t_œq
, 
	t_æags
,

518 
	tdriv”_fž‹r_t
 *
	t_fž‹r
, 
	tdriv”_šŒ_t
 *
	t_šŒ
,

519 *
	t_¬g
, **
	t_cook›p
);

544 
__šlše
 
	$BUS_SETUP_INTR
(
deviû_t
 
_dev
, deviû_ˆ
_chžd
,

545 
»sourû
 *
_œq
, 
_æags
,

546 
driv”_fž‹r_t
 *
_fž‹r
,

547 
driv”_šŒ_t
 *
_šŒ
, *
_¬g
,

548 **
_cook›p
)

550 
kobjÝ_t
 
_m
;

551 
rc
;

552 
	`KOBJOPLOOKUP
(((
kobj_t
)
_dev
)->
Ýs
,
bus_£tup_šŒ
);

553 
rc
 = ((
bus_£tup_šŒ_t
 *è
_m
)(
_dev
, 
_chžd
, 
_œq
, 
_æags
, 
_fž‹r
, 
_šŒ
, 
_¬g
, 
_cook›p
);

554  (
rc
);

555 
	}
}

558 
kobjÝ_desc
 
bus_‹¬down_šŒ_desc
;

560 
	tbus_‹¬down_šŒ_t
(
	tdeviû_t
 
	t_dev
, deviû_ˆ
	t_chžd
,

561 
	t»sourû
 *
	t_œq
, *
	t_cook›
);

576 
__šlše
 
	$BUS_TEARDOWN_INTR
(
deviû_t
 
_dev
, deviû_ˆ
_chžd
,

577 
»sourû
 *
_œq
, *
_cook›
)

579 
kobjÝ_t
 
_m
;

580 
rc
;

581 
	`KOBJOPLOOKUP
(((
kobj_t
)
_dev
)->
Ýs
,
bus_‹¬down_šŒ
);

582 
rc
 = ((
bus_‹¬down_šŒ_t
 *è
_m
)(
_dev
, 
_chžd
, 
_œq
, 
_cook›
);

583  (
rc
);

584 
	}
}

587 
kobjÝ_desc
 
bus_£t_»sourû_desc
;

589 
	tbus_£t_»sourû_t
(
	tdeviû_t
 
	t_dev
, deviû_ˆ
	t_chžd
, 
	t_ty³
,

590 
	t_rid
, 
	trmª_»s_t
 
	t_¡¬t
,„mª_»s_ˆ
	t_couÁ
);

609 
__šlše
 
	$BUS_SET_RESOURCE
(
deviû_t
 
_dev
, deviû_ˆ
_chžd
, 
_ty³
,

610 
_rid
, 
rmª_»s_t
 
_¡¬t
,

611 
rmª_»s_t
 
_couÁ
)

613 
kobjÝ_t
 
_m
;

614 
rc
;

615 
	`KOBJOPLOOKUP
(((
kobj_t
)
_dev
)->
Ýs
,
bus_£t_»sourû
);

616 
rc
 = ((
bus_£t_»sourû_t
 *è
_m
)(
_dev
, 
_chžd
, 
_ty³
, 
_rid
, 
_¡¬t
, 
_couÁ
);

617  (
rc
);

618 
	}
}

621 
kobjÝ_desc
 
bus_g‘_»sourû_desc
;

623 
	tbus_g‘_»sourû_t
(
	tdeviû_t
 
	t_dev
, deviû_ˆ
	t_chžd
, 
	t_ty³
,

624 
	t_rid
, 
	trmª_»s_t
 *
	t_¡¬
,

625 
	trmª_»s_t
 *
	t_couÁp
);

642 
__šlše
 
	$BUS_GET_RESOURCE
(
deviû_t
 
_dev
, deviû_ˆ
_chžd
, 
_ty³
,

643 
_rid
, 
rmª_»s_t
 *
_¡¬
,

644 
rmª_»s_t
 *
_couÁp
)

646 
kobjÝ_t
 
_m
;

647 
rc
;

648 
	`KOBJOPLOOKUP
(((
kobj_t
)
_dev
)->
Ýs
,
bus_g‘_»sourû
);

649 
rc
 = ((
bus_g‘_»sourû_t
 *è
_m
)(
_dev
, 
_chžd
, 
_ty³
, 
_rid
, 
_¡¬
, 
_couÁp
);

650  (
rc
);

651 
	}
}

654 
kobjÝ_desc
 
bus_d–‘e_»sourû_desc
;

656 
	tbus_d–‘e_»sourû_t
(
	tdeviû_t
 
	t_dev
, deviû_ˆ
	t_chžd
, 
	t_ty³
,

657 
	t_rid
);

670 
__šlše
 
	$BUS_DELETE_RESOURCE
(
deviû_t
 
_dev
, deviû_ˆ
_chžd
,

671 
_ty³
, 
_rid
)

673 
kobjÝ_t
 
_m
;

674 
	`KOBJOPLOOKUP
(((
kobj_t
)
_dev
)->
Ýs
,
bus_d–‘e_»sourû
);

675 ((
bus_d–‘e_»sourû_t
 *è
_m
)(
_dev
, 
_chžd
, 
_ty³
, 
_rid
);

676 
	}
}

679 
kobjÝ_desc
 
bus_g‘_»sourû_li¡_desc
;

681 
»sourû_li¡
 * 
	tbus_g‘_»sourû_li¡_t
(
	tdeviû_t
 
	t_dev
,

682 
	tdeviû_t
 
	t_chžd
);

694 
__šlše
 
»sourû_li¡
 * 
	$BUS_GET_RESOURCE_LIST
(
deviû_t
 
_dev
,

695 
deviû_t
 
_chžd
)

697 
kobjÝ_t
 
_m
;

698 
»sourû_li¡
 * 
rc
;

699 
	`KOBJOPLOOKUP
(((
kobj_t
)
_dev
)->
Ýs
,
bus_g‘_»sourû_li¡
);

700 
rc
 = ((
bus_g‘_»sourû_li¡_t
 *è
_m
)(
_dev
, 
_chžd
);

701  (
rc
);

702 
	}
}

705 
kobjÝ_desc
 
bus_chžd_´e£Á_desc
;

707 
	tbus_chžd_´e£Á_t
(
	tdeviû_t
 
	t_dev
, deviû_ˆ
	t_chžd
);

724 
__šlše
 
	$BUS_CHILD_PRESENT
(
deviû_t
 
_dev
, deviû_ˆ
_chžd
)

726 
kobjÝ_t
 
_m
;

727 
rc
;

728 
	`KOBJOPLOOKUP
(((
kobj_t
)
_dev
)->
Ýs
,
bus_chžd_´e£Á
);

729 
rc
 = ((
bus_chžd_´e£Á_t
 *è
_m
)(
_dev
, 
_chžd
);

730  (
rc
);

731 
	}
}

734 
kobjÝ_desc
 
bus_chžd_²pšfo_¡r_desc
;

736 
	tbus_chžd_²pšfo_¡r_t
(
	tdeviû_t
 
	t_dev
, deviû_ˆ
	t_chžd
, *
	t_buf
,

737 
	tsize_t
 
	t_buæ’
);

758 
__šlše
 
	$BUS_CHILD_PNPINFO_STR
(
deviû_t
 
_dev
, deviû_ˆ
_chžd
,

759 *
_buf
, 
size_t
 
_buæ’
)

761 
kobjÝ_t
 
_m
;

762 
rc
;

763 
	`KOBJOPLOOKUP
(((
kobj_t
)
_dev
)->
Ýs
,
bus_chžd_²pšfo_¡r
);

764 
rc
 = ((
bus_chžd_²pšfo_¡r_t
 *è
_m
)(
_dev
, 
_chžd
, 
_buf
, 
_buæ’
);

765  (
rc
);

766 
	}
}

769 
kobjÝ_desc
 
bus_chžd_loÿtiÚ_¡r_desc
;

771 
	tbus_chžd_loÿtiÚ_¡r_t
(
	tdeviû_t
 
	t_dev
, deviû_ˆ
	t_chžd
, *
	t_buf
,

772 
	tsize_t
 
	t_buæ’
);

793 
__šlše
 
	$BUS_CHILD_LOCATION_STR
(
deviû_t
 
_dev
, deviû_ˆ
_chžd
,

794 *
_buf
, 
size_t
 
_buæ’
)

796 
kobjÝ_t
 
_m
;

797 
rc
;

798 
	`KOBJOPLOOKUP
(((
kobj_t
)
_dev
)->
Ýs
,
bus_chžd_loÿtiÚ_¡r
);

799 
rc
 = ((
bus_chžd_loÿtiÚ_¡r_t
 *è
_m
)(
_dev
, 
_chžd
, 
_buf
, 
_buæ’
);

800  (
rc
);

801 
	}
}

804 
kobjÝ_desc
 
bus_bšd_šŒ_desc
;

806 
	tbus_bšd_šŒ_t
(
	tdeviû_t
 
	t_dev
, deviû_ˆ
	t_chžd
,

807 
	t»sourû
 *
	t_œq
, 
	t_ýu
);

818 
__šlše
 
	$BUS_BIND_INTR
(
deviû_t
 
_dev
, deviû_ˆ
_chžd
,

819 
»sourû
 *
_œq
, 
_ýu
)

821 
kobjÝ_t
 
_m
;

822 
rc
;

823 
	`KOBJOPLOOKUP
(((
kobj_t
)
_dev
)->
Ýs
,
bus_bšd_šŒ
);

824 
rc
 = ((
bus_bšd_šŒ_t
 *è
_m
)(
_dev
, 
_chžd
, 
_œq
, 
_ýu
);

825  (
rc
);

826 
	}
}

829 
kobjÝ_desc
 
bus_cÚfig_šŒ_desc
;

831 
	tbus_cÚfig_šŒ_t
(
	tdeviû_t
 
	t_dev
, 
	t_œq
, 
	tšŒ_Œigg”
 
	t_Œig
,

832 
	tšŒ_pÞ¬™y
 
	t_pÞ
);

843 
__šlše
 
	$BUS_CONFIG_INTR
(
deviû_t
 
_dev
, 
_œq
,

844 
šŒ_Œigg”
 
_Œig
,

845 
šŒ_pÞ¬™y
 
_pÞ
)

847 
kobjÝ_t
 
_m
;

848 
rc
;

849 
	`KOBJOPLOOKUP
(((
kobj_t
)
_dev
)->
Ýs
,
bus_cÚfig_šŒ
);

850 
rc
 = ((
bus_cÚfig_šŒ_t
 *è
_m
)(
_dev
, 
_œq
, 
_Œig
, 
_pÞ
);

851  (
rc
);

852 
	}
}

855 
kobjÝ_desc
 
bus_desüibe_šŒ_desc
;

857 
	tbus_desüibe_šŒ_t
(
	tdeviû_t
 
	t_dev
, deviû_ˆ
	t_chžd
,

858 
	t»sourû
 *
	t_œq
, *
	t_cook›
,

859 cÚ¡ *
	t_desü
);

872 
__šlše
 
	$BUS_DESCRIBE_INTR
(
deviû_t
 
_dev
, deviû_ˆ
_chžd
,

873 
»sourû
 *
_œq
, *
_cook›
,

874 cÚ¡ *
_desü
)

876 
kobjÝ_t
 
_m
;

877 
rc
;

878 
	`KOBJOPLOOKUP
(((
kobj_t
)
_dev
)->
Ýs
,
bus_desüibe_šŒ
);

879 
rc
 = ((
bus_desüibe_šŒ_t
 *è
_m
)(
_dev
, 
_chžd
, 
_œq
, 
_cook›
, 
_desü
);

880  (
rc
);

881 
	}
}

884 
kobjÝ_desc
 
bus_hš‹d_chžd_desc
;

886 
	tbus_hš‹d_chžd_t
(
	tdeviû_t
 
	t_dev
, cÚ¡ *
	t_dÇme
, 
	t_dun™
);

904 
__šlše
 
	$BUS_HINTED_CHILD
(
deviû_t
 
_dev
, cÚ¡ *
_dÇme
,

905 
_dun™
)

907 
kobjÝ_t
 
_m
;

908 
	`KOBJOPLOOKUP
(((
kobj_t
)
_dev
)->
Ýs
,
bus_hš‹d_chžd
);

909 ((
bus_hš‹d_chžd_t
 *è
_m
)(
_dev
, 
_dÇme
, 
_dun™
);

910 
	}
}

913 
kobjÝ_desc
 
bus_g‘_dma_g_desc
;

915 
bus_dma_g_t
 
	tbus_g‘_dma_g_t
(
	tdeviû_t
 
	t_dev
, deviû_ˆ
	t_chžd
);

923 
__šlše
 
bus_dma_g_t
 
	$BUS_GET_DMA_TAG
(
deviû_t
 
_dev
, deviû_ˆ
_chžd
)

925 
kobjÝ_t
 
_m
;

926 
bus_dma_g_t
 
rc
;

927 
	`KOBJOPLOOKUP
(((
kobj_t
)
_dev
)->
Ýs
,
bus_g‘_dma_g
);

928 
rc
 = ((
bus_g‘_dma_g_t
 *è
_m
)(
_dev
, 
_chžd
);

929  (
rc
);

930 
	}
}

933 
kobjÝ_desc
 
bus_g‘_bus_g_desc
;

935 
bus_¥aû_g_t
 
	tbus_g‘_bus_g_t
(
	tdeviû_t
 
	t_dev
, deviû_ˆ
	t_chžd
);

943 
__šlše
 
bus_¥aû_g_t
 
	$BUS_GET_BUS_TAG
(
deviû_t
 
_dev
, deviû_ˆ
_chžd
)

945 
kobjÝ_t
 
_m
;

946 
bus_¥aû_g_t
 
rc
;

947 
	`KOBJOPLOOKUP
(((
kobj_t
)
_dev
)->
Ýs
,
bus_g‘_bus_g
);

948 
rc
 = ((
bus_g‘_bus_g_t
 *è
_m
)(
_dev
, 
_chžd
);

949  (
rc
);

950 
	}
}

953 
kobjÝ_desc
 
bus_hšt_deviû_un™_desc
;

955 
	tbus_hšt_deviû_un™_t
(
	tdeviû_t
 
	t_dev
, deviû_ˆ
	t_chžd
,

956 cÚ¡ *
	t_Çme
, *
	t_un™p
);

966 
__šlše
 
	$BUS_HINT_DEVICE_UNIT
(
deviû_t
 
_dev
, deviû_ˆ
_chžd
,

967 cÚ¡ *
_Çme
, *
_un™p
)

969 
kobjÝ_t
 
_m
;

970 
	`KOBJOPLOOKUP
(((
kobj_t
)
_dev
)->
Ýs
,
bus_hšt_deviû_un™
);

971 ((
bus_hšt_deviû_un™_t
 *è
_m
)(
_dev
, 
_chžd
, 
_Çme
, 
_un™p
);

972 
	}
}

975 
kobjÝ_desc
 
bus_Ãw_·ss_desc
;

977 
	tbus_Ãw_·ss_t
(
	tdeviû_t
 
	t_dev
);

984 
__šlše
 
	$BUS_NEW_PASS
(
deviû_t
 
_dev
)

986 
kobjÝ_t
 
_m
;

987 
	`KOBJOPLOOKUP
(((
kobj_t
)
_dev
)->
Ýs
,
bus_Ãw_·ss
);

988 ((
bus_Ãw_·ss_t
 *è
_m
)(
_dev
);

989 
	}
}

992 
kobjÝ_desc
 
bus_»m­_šŒ_desc
;

994 
	tbus_»m­_šŒ_t
(
	tdeviû_t
 
	t_dev
, deviû_ˆ
	t_chžd
, 
	tu_št
 
	t_œq
);

1003 
__šlše
 
	$BUS_REMAP_INTR
(
deviû_t
 
_dev
, deviû_ˆ
_chžd
, 
u_št
 
_œq
)

1005 
kobjÝ_t
 
_m
;

1006 
rc
;

1007 
	`KOBJOPLOOKUP
(((
kobj_t
)
_dev
)->
Ýs
,
bus_»m­_šŒ
);

1008 
rc
 = ((
bus_»m­_šŒ_t
 *è
_m
)(
_dev
, 
_chžd
, 
_œq
);

1009  (
rc
);

1010 
	}
}

1013 
kobjÝ_desc
 
bus_su¥’d_chžd_desc
;

1015 
	tbus_su¥’d_chžd_t
(
	tdeviû_t
 
	t_dev
, deviû_ˆ
	t_chžd
);

1023 
__šlše
 
	$BUS_SUSPEND_CHILD
(
deviû_t
 
_dev
, deviû_ˆ
_chžd
)

1025 
kobjÝ_t
 
_m
;

1026 
rc
;

1027 
	`KOBJOPLOOKUP
(((
kobj_t
)
_dev
)->
Ýs
,
bus_su¥’d_chžd
);

1028 
rc
 = ((
bus_su¥’d_chžd_t
 *è
_m
)(
_dev
, 
_chžd
);

1029  (
rc
);

1030 
	}
}

1033 
kobjÝ_desc
 
bus_»sume_chžd_desc
;

1035 
	tbus_»sume_chžd_t
(
	tdeviû_t
 
	t_dev
, deviû_ˆ
	t_chžd
);

1043 
__šlše
 
	$BUS_RESUME_CHILD
(
deviû_t
 
_dev
, deviû_ˆ
_chžd
)

1045 
kobjÝ_t
 
_m
;

1046 
rc
;

1047 
	`KOBJOPLOOKUP
(((
kobj_t
)
_dev
)->
Ýs
,
bus_»sume_chžd
);

1048 
rc
 = ((
bus_»sume_chžd_t
 *è
_m
)(
_dev
, 
_chžd
);

1049  (
rc
);

1050 
	}
}

1053 
kobjÝ_desc
 
bus_g‘_domaš_desc
;

1055 
	tbus_g‘_domaš_t
(
	tdeviû_t
 
	t_dev
, deviû_ˆ
	t_chžd
, *
	t_domaš
);

1064 
__šlše
 
	$BUS_GET_DOMAIN
(
deviû_t
 
_dev
, deviû_ˆ
_chžd
, *
_domaš
)

1066 
kobjÝ_t
 
_m
;

1067 
rc
;

1068 
	`KOBJOPLOOKUP
(((
kobj_t
)
_dev
)->
Ýs
,
bus_g‘_domaš
);

1069 
rc
 = ((
bus_g‘_domaš_t
 *è
_m
)(
_dev
, 
_chžd
, 
_domaš
);

1070  (
rc
);

1071 
	}
}

1074 
kobjÝ_desc
 
bus_g‘_ýus_desc
;

1076 
	tbus_g‘_ýus_t
(
	tdeviû_t
 
	t_dev
, deviû_ˆ
	t_chžd
, 
	týu_£ts
 
	t_Ý
,

1077 
	tsize_t
 
	t_£tsize
, 
	týu£t_t
 *
	t_ýu£t
);

1089 
__šlše
 
	$BUS_GET_CPUS
(
deviû_t
 
_dev
, deviû_ˆ
_chžd
,

1090 
ýu_£ts
 
_Ý
, 
size_t
 
_£tsize
,

1091 
ýu£t_t
 *
_ýu£t
)

1093 
kobjÝ_t
 
_m
;

1094 
rc
;

1095 
	`KOBJOPLOOKUP
(((
kobj_t
)
_dev
)->
Ýs
,
bus_g‘_ýus
);

1096 
rc
 = ((
bus_g‘_ýus_t
 *è
_m
)(
_dev
, 
_chžd
, 
_Ý
, 
_£tsize
, 
_ýu£t
);

1097  (
rc
);

1098 
	}
}

	@src/nvidia-drm/device_if.h

23 #iâdeà
_deviû_if_h_


24 
	#_deviû_if_h_


	)

27 
	~<sys/t¦og.h
>

30 
kobjÝ_desc
 
deviû_´obe_desc
;

32 
	tdeviû_´obe_t
(
	tdeviû_t
 
	tdev
);

107 
__šlše
 
	$DEVICE_PROBE
(
deviû_t
 
dev
)

109 
kobjÝ_t
 
_m
;

110 
rc
;

112 
	`TSENTER2
(
	`deviû_g‘_Çme
(
dev
));

114 
	`KOBJOPLOOKUP
(((
kobj_t
)
dev
)->
Ýs
,
deviû_´obe
);

115 
rc
 = ((
deviû_´obe_t
 *è
_m
)(
dev
);

117 
	`TSEXIT2
(
	`deviû_g‘_Çme
(
dev
));

119  (
rc
);

120 
	}
}

123 
kobjÝ_desc
 
deviû_id’tify_desc
;

125 
	tdeviû_id’tify_t
(
	tdriv”_t
 *
	tdriv”
, 
	tdeviû_t
 
	t·»Á
);

152 
__šlše
 
	$DEVICE_IDENTIFY
(
driv”_t
 *
driv”
, 
deviû_t
 
·»Á
)

154 
kobjÝ_t
 
_m
;

155 
	`KOBJOPLOOKUP
(
driv”
->
Ýs
,
deviû_id’tify
);

156 ((
deviû_id’tify_t
 *è
_m
)(
driv”
, 
·»Á
);

157 
	}
}

160 
kobjÝ_desc
 
deviû_©ch_desc
;

162 
	tdeviû_©ch_t
(
	tdeviû_t
 
	tdev
);

187 
__šlše
 
	$DEVICE_ATTACH
(
deviû_t
 
dev
)

189 
kobjÝ_t
 
_m
;

190 
rc
;

192 
	`TSENTER2
(
	`deviû_g‘_Çme
(
dev
));

194 
	`KOBJOPLOOKUP
(((
kobj_t
)
dev
)->
Ýs
,
deviû_©ch
);

195 
rc
 = ((
deviû_©ch_t
 *è
_m
)(
dev
);

197 
	`TSEXIT2
(
	`deviû_g‘_Çme
(
dev
));

199  (
rc
);

200 
	}
}

203 
kobjÝ_desc
 
deviû_d‘ach_desc
;

205 
	tdeviû_d‘ach_t
(
	tdeviû_t
 
	tdev
);

229 
__šlše
 
	$DEVICE_DETACH
(
deviû_t
 
dev
)

231 
kobjÝ_t
 
_m
;

232 
rc
;

233 
	`KOBJOPLOOKUP
(((
kobj_t
)
dev
)->
Ýs
,
deviû_d‘ach
);

234 
rc
 = ((
deviû_d‘ach_t
 *è
_m
)(
dev
);

235  (
rc
);

236 
	}
}

239 
kobjÝ_desc
 
deviû_shutdown_desc
;

241 
	tdeviû_shutdown_t
(
	tdeviû_t
 
	tdev
);

257 
__šlše
 
	$DEVICE_SHUTDOWN
(
deviû_t
 
dev
)

259 
kobjÝ_t
 
_m
;

260 
rc
;

261 
	`KOBJOPLOOKUP
(((
kobj_t
)
dev
)->
Ýs
,
deviû_shutdown
);

262 
rc
 = ((
deviû_shutdown_t
 *è
_m
)(
dev
);

263  (
rc
);

264 
	}
}

267 
kobjÝ_desc
 
deviû_su¥’d_desc
;

269 
	tdeviû_su¥’d_t
(
	tdeviû_t
 
	tdev
);

294 
__šlše
 
	$DEVICE_SUSPEND
(
deviû_t
 
dev
)

296 
kobjÝ_t
 
_m
;

297 
rc
;

298 
	`KOBJOPLOOKUP
(((
kobj_t
)
dev
)->
Ýs
,
deviû_su¥’d
);

299 
rc
 = ((
deviû_su¥’d_t
 *è
_m
)(
dev
);

300  (
rc
);

301 
	}
}

304 
kobjÝ_desc
 
deviû_»sume_desc
;

306 
	tdeviû_»sume_t
(
	tdeviû_t
 
	tdev
);

326 
__šlše
 
	$DEVICE_RESUME
(
deviû_t
 
dev
)

328 
kobjÝ_t
 
_m
;

329 
rc
;

330 
	`KOBJOPLOOKUP
(((
kobj_t
)
dev
)->
Ýs
,
deviû_»sume
);

331 
rc
 = ((
deviû_»sume_t
 *è
_m
)(
dev
);

332  (
rc
);

333 
	}
}

336 
kobjÝ_desc
 
deviû_qu›sû_desc
;

338 
	tdeviû_qu›sû_t
(
	tdeviû_t
 
	tdev
);

362 
__šlše
 
	$DEVICE_QUIESCE
(
deviû_t
 
dev
)

364 
kobjÝ_t
 
_m
;

365 
rc
;

366 
	`KOBJOPLOOKUP
(((
kobj_t
)
dev
)->
Ýs
,
deviû_qu›sû
);

367 
rc
 = ((
deviû_qu›sû_t
 *è
_m
)(
dev
);

368  (
rc
);

369 
	}
}

372 
kobjÝ_desc
 
deviû_»gi¡”_desc
;

374 * 
	tdeviû_»gi¡”_t
(
	tdeviû_t
 
	tdev
);

393 
__šlše
 * 
	$DEVICE_REGISTER
(
deviû_t
 
dev
)

395 
kobjÝ_t
 
_m
;

396 * 
rc
;

397 
	`KOBJOPLOOKUP
(((
kobj_t
)
dev
)->
Ýs
,
deviû_»gi¡”
);

398 
rc
 = ((
deviû_»gi¡”_t
 *è
_m
)(
dev
);

399  (
rc
);

400 
	}
}

	@src/nvidia-drm/machine/_align.h

6 
	~<x86/_®ign.h
>

	@src/nvidia-drm/machine/_bus.h

33 #iâdeà
AMD64_INCLUDE__BUS_H


34 
	#AMD64_INCLUDE__BUS_H


	)

39 
ušt64_t
 
	tbus_addr_t
;

40 
ušt64_t
 
	tbus_size_t
;

45 
ušt64_t
 
	tbus_¥aû_g_t
;

46 
ušt64_t
 
	tbus_¥aû_hªdË_t
;

	@src/nvidia-drm/machine/_inttypes.h

6 
	~<x86/_š‰y³s.h
>

	@src/nvidia-drm/machine/_limits.h

6 
	~<x86/_lim™s.h
>

	@src/nvidia-drm/machine/_stdint.h

6 
	~<x86/_¡dšt.h
>

	@src/nvidia-drm/machine/_types.h

6 
	~<x86/_ty³s.h
>

	@src/nvidia-drm/machine/acpica_machdep.h

6 
	~<x86/aýiÿ_machd•.h
>

	@src/nvidia-drm/machine/apm_bios.h

6 
	~<x86/­m_bios.h
>

	@src/nvidia-drm/machine/asm.h

38 #iâdeà
_MACHINE_ASM_H_


39 
	#_MACHINE_ASM_H_


	)

41 
	~<sys/cdefs.h
>

43 #ifdeà
PIC


44 
	#PIC_PLT
(
x
èx@
PLT


	)

45 
	#PIC_GOT
(
x
èx@
	`GOTPCREL
(%
r
)

	)

47 
	#PIC_PLT
(
x
è
	)
x

57 
	#CNAME
(
csym
è
	)
csym

58 
	#HIDENAME
(
asmsym
è.
	)
asmsym

60 
	#_START_ENTRY
 .
‹xt
; .
p2®ign
 4,0x90

	)

62 
	#_ENTRY
(
x
è
_START_ENTRY
; \

63 .
globl
 
	`CNAME
(
x
); .
ty³
 CNAME(x),@
funùiÚ
; CNAME(x):

	)

65 #ifdeà
PROF


66 
	#ALTENTRY
(
x
è
	`_ENTRY
(x); \

67 
pushq
 %
rbp
; 
movq
 %
r¥
,%rbp; \

68 
ÿÎ
 
	`PIC_PLT
(
	`HIDENAME
(
mcouÁ
)); \

69 
pÝq
 %
rbp
; \

70 
jmp
 9f

	)

71 
	#ENTRY
(
x
è
	`_ENTRY
(x); \

72 
pushq
 %
rbp
; 
movq
 %
r¥
,%rbp; \

73 
ÿÎ
 
	`PIC_PLT
(
	`HIDENAME
(
mcouÁ
)); \

74 
pÝq
 %
rbp
; \

75 9:

	)

77 
	#ALTENTRY
(
x
è
	`_ENTRY
(x)

	)

78 
	#ENTRY
(
x
è
	`_ENTRY
(x)

	)

81 
	#END
(
x
è.
size
 x, . - 
	)
x

88 
	#WEAK_REFERENCE
(
sym
, 
®Ÿs
) \

89 .
w—k
 
	`CNAME
(
®Ÿs
); \

90 .
equ
 
	`CNAME
(
®Ÿs
),CNAME(
sym
)

	)

92 
	#RCSID
(
x
è.
‹xt
; .
asciz
 
	)
x

94 #undeà
__FBSDID


95 #ià!
defšed
(
STRIP_FBSDID
)

96 
	#__FBSDID
(
s
è.
id’t
 
	)
s

98 
	#__FBSDID
(
s
è

	)

	@src/nvidia-drm/machine/asmacros.h

42 #iâdeà
_MACHINE_ASMACROS_H_


43 
	#_MACHINE_ASMACROS_H_


	)

45 
	~<sys/cdefs.h
>

55 
	#CNAME
(
csym
è
	)
csym

57 
	#ALIGN_DATA
 .
p2®ign
 3

	)

58 #ifdeà
GPROF


59 
	#ALIGN_TEXT
 .
p2®ign
 4,0x90

	)

61 
	#ALIGN_TEXT
 .
p2®ign
 4,0x90

	)

63 
	#SUPERALIGN_TEXT
 .
p2®ign
 4,0x90

	)

65 
	#GEN_ENTRY
(
Çme
è
ALIGN_TEXT
; .
globl
 
	`CNAME
(name); \

66 .
ty³
 
	`CNAME
(
Çme
),@
funùiÚ
; CNAMEÒame):

	)

67 
	#NON_GPROF_ENTRY
(
Çme
è
	`GEN_ENTRY
Òame)

	)

68 
	#NON_GPROF_RET
 .
by‹
 0xc3

	)

70 
	#END
(
Çme
è.
size
‚ame, . - 
	)
Çme

72 #ifdeà
GPROF


112 
	#ALTENTRY
(
Çme
è
	`GEN_ENTRY
Òameè; 
MCOUNT
 ; 
MEXITCOUNT
 ; 
jmp
 9f

	)

113 
	#CROSSJUMP
(
jŒue
, 
Ïb–
, 
jçl£
) \

114 
jçl£
 8f; 
MEXITCOUNT
; 
jmp
 
	`__CONCAT
(
to
,
Ïb–
); 8:

	)

115 
	#CROSSJUMPTARGET
(
Ïb–
) \

116 
ALIGN_TEXT
; 
	`__CONCAT
(
to
,
Ïb–
): ; 
MCOUNT
; 
jmp
 
	)
Ïb–

117 
	#ENTRY
(
Çme
è
	`GEN_ENTRY
Òameè; 9: ; 
MCOUNT


	)

118 
	#FAKE_MCOUNT
(
ÿÎ”
è
pushq
 c®Ë¸; 
ÿÎ
 
__mcouÁ
 ; 
pÝq
 %
rcx


	)

119 
	#MCOUNT
 
ÿÎ
 
__mcouÁ


	)

120 
	#MCOUNT_LABEL
(
Çme
è
	`GEN_ENTRY
Òameè; 
nÝ
 ; 
ALIGN_TEXT


	)

121 #ifdeà
GUPROF


122 
	#MEXITCOUNT
 
ÿÎ
 .
mex™couÁ


	)

123 
	#»t
 
MEXITCOUNT
 ; 
NON_GPROF_RET


	)

125 
	#MEXITCOUNT


	)

135 
	#ALTENTRY
(
Çme
è
	`GEN_ENTRY
Òame)

	)

136 
	#CROSSJUMP
(
jŒue
, 
Ïb–
, 
jçl£
èjŒu
	)
Ïb–

137 
	#CROSSJUMPTARGET
(
Ïb–
)

	)

138 
	#ENTRY
(
Çme
è
	`GEN_ENTRY
Òame)

	)

139 
	#FAKE_MCOUNT
(
ÿÎ”
)

	)

140 
	#MCOUNT


	)

141 
	#MCOUNT_LABEL
(
Çme
)

	)

142 
	#MEXITCOUNT


	)

149 
	#PUSH_FRAME_POINTER
 \

150 
pushq
 %
rbp
 ; \

151 
movq
 %
r¥
, %
rbp
 ;

	)

152 
	#POP_FRAME_POINTER
 \

153 
pÝq
 %
rbp


	)

155 #ifdeà
LOCORE


159 
	#PCPU
(
memb”
è%
gs
:
PC_
 ## 
	)
memb”

160 
	#PCPU_ADDR
(
memb”
, 
»g
) \

161 
movq
 %
gs
:
PC_PRVSPACE
, 
»g
 ; \

162 
addq
 
$PC_
 ## 
memb”
, 
»g


	)

167 
	#IDTVEC
(
Çme
è
ALIGN_TEXT
; .
globl
 
	`__CONCAT
(
X
,name); \

168 .
ty³
 
	`__CONCAT
(
X
,
Çme
),@
funùiÚ
; __CONCAT(X,Çme):

	)

170 .
maüo
 
SAVE_SEGS


171 
	gmovw
 %
	gfs
,
TF_FS
(%
r¥
)

172 
	gmovw
 %
	ggs
,
TF_GS
(%
r¥
)

173 
	gmovw
 %
	ges
,
TF_ES
(%
r¥
)

174 
	gmovw
 %
	gds
,
TF_DS
(%
r¥
)

175 .
	g’dm


177 .
maüo
 
MOVE_STACKS
 
	gqw


178 .
	gL
.
	goff£t
=0

179 .
»±
 \
qw


180 
movq
 .
L
.
off£t
(%
r¥
),%
rdx


181 
	gmovq
 %
	grdx
,.
	gL
.
off£t
(%
¿x
)

182 .
	gL
.
	goff£t
=.
L
.
off£t
+8

183 .
’dr


184 .
’dm


186 .
maüo
 
PTI_UUENTRY
 
has_”r


187 
movq
 
PCPU
(
KCR3
),%
¿x


188 
	gmovq
 %
	g¿x
,%
ü3


189 
movq
 
PCPU
(
RSP0
),%
¿x


190 
subq
 
	g$PTI_SIZE
 - 8 * (1 - \
	ghas_”r
),%
¿x


191 
MOVE_STACKS
 ((
PTI_SIZE
 / 8è- 1 + \
has_”r
)

192 
	gmovq
 %
	g¿x
,%
r¥


193 
	gpÝq
 %
rdx


194 
	gpÝq
 %
	g¿x


195 .
	g’dm


197 .
maüo
 
PTI_UENTRY
 
has_”r


198 
sw­gs


199 
cmpq
 
	g$
~0,
	$PCPU
(
UCR3
)

200 
je
 1f

201 
pushq
 %
¿x


202 
pushq
 %
rdx


203 
PTI_UUENTRY
 \
has_”r


205 .
’dm


207 .
maüo
 
PTI_ENTRY
 
Çme
, 
cÚt
, 
has_”r
=0

208 
ALIGN_TEXT


209 .
globl
 
X
\
Çme
\()
_±i


210 .
ty³
 
X
\
Çme
\()
_±i
,@
funùiÚ


211 
X
\
Çme
\()
_±i
:

213 
‹¡b
 
$SEL_RPL_MASK
,
PTI_CS
-(2+1-\
has_”r
)*8(%
r¥
)

214 
jz
 \
cÚt


215 
PTI_UENTRY
 \
has_”r


216 
sw­gs


217 
jmp
 \
cÚt


218 .
’dm


220 .
maüo
 
PTI_INTRENTRY
 
vec_Çme


221 
SUPERALIGN_TEXT


222 .
globl
 
X
\
vec_Çme
\()
_±i


223 .
ty³
 
X
\
vec_Çme
\()
_±i
,@
funùiÚ


224 
X
\
vec_Çme
\()
_±i
:

225 
‹¡b
 
$SEL_RPL_MASK
,
PTI_CS
-3*8(%
r¥
)

226 
jz
 .
L
\
vec_Çme
\()
_u


227 
PTI_UENTRY
 
has_”r
=0

228 
jmp
 .
L
\
vec_Çme
\()
_u


229 .
’dm


231 .
maüo
 
INTR_PUSH_FRAME
 
vec_Çme


232 
SUPERALIGN_TEXT


233 .
globl
 
X
\
vec_Çme


234 .
ty³
 
X
\
vec_Çme
,@
funùiÚ


235 
X
\
vec_Çme
:

236 
‹¡b
 
$SEL_RPL_MASK
,
PTI_CS
-3*8(%
r¥
)

237 
jz
 .
L
\
vec_Çme
\()
_u


238 
sw­gs


239 .
L
\
vec_Çme
\()
_u
:

240 
subq
 
$TF_RIP
,%
r¥


241 
movq
 %
rdi
,
	`TF_RDI
(%
r¥
)

242 
movq
 %
rsi
,
	`TF_RSI
(%
r¥
)

243 
movq
 %
rdx
,
	`TF_RDX
(%
r¥
)

244 
movq
 %
rcx
,
	`TF_RCX
(%
r¥
)

245 
movq
 %
r8
,
	`TF_R8
(%
r¥
)

246 
movq
 %
r9
,
	`TF_R9
(%
r¥
)

247 
movq
 %
¿x
,
	`TF_RAX
(%
r¥
)

248 
movq
 %
rbx
,
	`TF_RBX
(%
r¥
)

249 
movq
 %
rbp
,
	`TF_RBP
(%
r¥
)

250 
movq
 %
r10
,
	`TF_R10
(%
r¥
)

251 
movq
 %
r11
,
	`TF_R11
(%
r¥
)

252 
movq
 %
r12
,
	`TF_R12
(%
r¥
)

253 
movq
 %
r13
,
	`TF_R13
(%
r¥
)

254 
movq
 %
r14
,
	`TF_R14
(%
r¥
)

255 
movq
 %
r15
,
	`TF_R15
(%
r¥
)

256 
SAVE_SEGS


257 
movl
 
$TF_HASSEGS
,
	`TF_FLAGS
(%
r¥
)

258 
pushfq


259 
ªdq
 
$
~(
PSL_D
|
PSL_AC
),(%
r¥
)

260 
pÝfq


261 
‹¡b
 
$SEL_RPL_MASK
,
	`TF_CS
(%
r¥
)

262 
jz
 1f

263 
movq
 
	`PCPU
(
CURPCB
),%
r8


264 
ªdl
 
$
~
PCB_FULL_IRET
,
	`PCB_FLAGS
(%
r8
)

265 
ÿÎ
 
hªdË_ibrs_’Œy


267 .
’dm


269 .
maüo
 
INTR_HANDLER
 
vec_Çme


270 .
‹xt


271 
PTI_INTRENTRY
 \
vec_Çme


272 
INTR_PUSH_FRAME
 \
vec_Çme


273 .
’dm


275 .
maüo
 
RESTORE_REGS


276 
movq
 
	`TF_RDI
(%
r¥
),%
rdi


277 
movq
 
	`TF_RSI
(%
r¥
),%
rsi


278 
movq
 
	`TF_RDX
(%
r¥
),%
rdx


279 
movq
 
	`TF_RCX
(%
r¥
),%
rcx


280 
movq
 
	`TF_R8
(%
r¥
),%
r8


281 
movq
 
	`TF_R9
(%
r¥
),%
r9


282 
movq
 
	`TF_RAX
(%
r¥
),%
¿x


283 
movq
 
	`TF_RBX
(%
r¥
),%
rbx


284 
movq
 
	`TF_RBP
(%
r¥
),%
rbp


285 
movq
 
	`TF_R10
(%
r¥
),%
r10


286 
movq
 
	`TF_R11
(%
r¥
),%
r11


287 
movq
 
	`TF_R12
(%
r¥
),%
r12


288 
movq
 
	`TF_R13
(%
r¥
),%
r13


289 
movq
 
	`TF_R14
(%
r¥
),%
r14


290 
movq
 
	`TF_R15
(%
r¥
),%
r15


291 .
’dm


295 #ifdeà
__STDC__


296 
	#ELFNOTE
(
Çme
, 
ty³
, 
desùy³
, 
descd©a
...) \

297 .
push£ùiÚ
 .
nÙe
.
Çme
 ; \

298 .
®ign
 4 ; \

301 .
ty³
 ; \

302 1:.
asciz
 #name ; \

303 2:.
®ign
 4 ; \

304 3:
desùy³
 
descd©a
 ; \

305 4:.
®ign
 4 ; \

306 .
pÝ£ùiÚ


	)

308 
	#ELFNOTE
(
Çme
, 
ty³
, 
desùy³
, 
descd©a
) \

309 .
push£ùiÚ
 .
nÙe
.
Çme
 ; \

310 .
®ign
 4 ; \

313 .
ty³
 ; \

314 1:.
asciz
 "name" ; \

315 2:.
®ign
 4 ; \

316 3:
desùy³
 
descd©a
 ; \

317 4:.
®ign
 4 ; \

318 .
pÝ£ùiÚ


	)

	@src/nvidia-drm/machine/atomic.h

30 #iâdeà
_MACHINE_ATOMIC_H_


31 
	#_MACHINE_ATOMIC_H_


	)

33 #iâdeà
_SYS_CDEFS_H_


34 #”rÜ 
this
 
fže
 
Ãeds
 
sys
/
cdefs
.
h
 
as
 
a
 
´”equis™e


56 
	#mb
(è
__asm
 
	`__vÞ©že
("mãnû;" : : : "memÜy")

	)

57 
	#wmb
(è
__asm
 
	`__vÞ©že
("sãnû;" : : : "memÜy")

	)

58 
	#rmb
(è
__asm
 
	`__vÞ©že
("lãnû;" : : : "memÜy")

	)

60 
	~<sys/©omic_commÚ.h
>

99 #ià!
defšed
(
__GNUCLIKE_ASM
)

100 
	#ATOMIC_ASM
(
NAME
, 
TYPE
, 
OP
, 
CONS
, 
V
) \

101 
©omic_
##
NAME
##
_
##
	`TYPE
(vÞ©ž
u_
##
TYPE
 *
p
, u_##TYPE 
v
); \

102 
©omic_
##
NAME
##
_b¬r_
##
	`TYPE
(vÞ©ž
u_
##
TYPE
 *
p
, u_##TYPE 
v
)

	)

104 
©omic_cmp£t_ch¬
(vÞ©ž
u_ch¬
 *
d¡
, u_ch¬ 
ex³ù
, u_ch¬ 
¤c
);

105 
©omic_cmp£t_shÜt
(vÞ©ž
u_shÜt
 *
d¡
, u_shÜˆ
ex³ù
, u_shÜˆ
¤c
);

106 
©omic_cmp£t_št
(vÞ©ž
u_št
 *
d¡
, u_šˆ
ex³ù
, u_šˆ
¤c
);

107 
©omic_cmp£t_lÚg
(vÞ©ž
u_lÚg
 *
d¡
, u_lÚg 
ex³ù
, u_lÚg 
¤c
);

108 
©omic_fcmp£t_ch¬
(vÞ©ž
u_ch¬
 *
d¡
, u_ch¬ *
ex³ù
, u_ch¬ 
¤c
);

109 
©omic_fcmp£t_shÜt
(vÞ©ž
u_shÜt
 *
d¡
, u_shÜˆ*
ex³ù
,

110 
u_shÜt
 
¤c
);

111 
©omic_fcmp£t_št
(vÞ©ž
u_št
 *
d¡
, u_šˆ*
ex³ù
, u_šˆ
¤c
);

112 
©omic_fcmp£t_lÚg
(vÞ©ž
u_lÚg
 *
d¡
, u_lÚg *
ex³ù
, u_lÚg 
¤c
);

113 
u_št
 
©omic_ãtchadd_št
(vÞ©žu_šˆ*
p
, u_šˆ
v
);

114 
u_lÚg
 
©omic_ãtchadd_lÚg
(vÞ©žu_lÚg *
p
, u_lÚg 
v
);

115 
©omic_‹¡ªd£t_št
(vÞ©ž
u_št
 *
p
, u_šˆ
v
);

116 
©omic_‹¡ªd£t_lÚg
(vÞ©ž
u_lÚg
 *
p
, 
u_št
 
v
);

117 
©omic_‹¡ªdþ—r_št
(vÞ©ž
u_št
 *
p
, u_šˆ
v
);

118 
©omic_‹¡ªdþ—r_lÚg
(vÞ©ž
u_lÚg
 *
p
, 
u_št
 
v
);

119 
©omic_th»ad_ãnû_acq
();

120 
©omic_th»ad_ãnû_acq_»l
();

121 
©omic_th»ad_ãnû_»l
();

122 
©omic_th»ad_ãnû_£q_c¡
();

124 
	#ATOMIC_LOAD
(
TYPE
) \

125 
u_
##
TYPE
 
©omic_lßd_acq_
##
	`TYPE
(vÞ©žu_##TYPE *
p
)

	)

126 
	#ATOMIC_STORE
(
TYPE
) \

127 
©omic_¡Üe_»l_
##
	`TYPE
(vÞ©ž
u_
##
TYPE
 *
p
, u_##TYPE 
v
)

	)

135 #ià
defšed
(
SMP
è|| !defšed(
_KERNEL
è|| defšed(
KLD_MODULE
)

136 
	#MPLOCKED
 "lock ; "

	)

138 
	#MPLOCKED


	)

146 
	#ATOMIC_ASM
(
NAME
, 
TYPE
, 
OP
, 
CONS
, 
V
) \

147 
__šlše
 \

148 
©omic_
##
NAME
##
_
##
	`TYPE
(vÞ©ž
u_
##
TYPE
 *
p
, u_##TYPE 
v
)\

150 
__asm
 
	`__vÞ©že
(
MPLOCKED
 
OP
 \

151 : "+m" (*
p
) \

152 : 
	`CONS
 (
V
) \

156 
__šlše
 \

157 
©omic_
##
NAME
##
_b¬r_
##
	`TYPE
(vÞ©ž
u_
##
TYPE
 *
p
, u_##TYPE 
v
)\

159 
__asm
 
	`__vÞ©že
(
MPLOCKED
 
OP
 \

160 : "+m" (*
p
) \

161 : 
	`CONS
 (
V
) \

164 
__hack


	)

181 
	#ATOMIC_CMPSET
(
TYPE
) \

182 
__šlše
 \

183 
©omic_cmp£t_
##
	`TYPE
(vÞ©ž
u_
##
TYPE
 *
d¡
, u_##TYPE 
ex³ù
, u_##TYPE 
¤c
) \

185 
u_ch¬
 
»s
; \

187 
__asm
 
	`__vÞ©že
( \

188 " " 
MPLOCKED
 " " \

192 : "=q" (
»s
), \

193 "+m" (*
d¡
), \

194 "+a" (
ex³ù
) \

195 : "r" (
¤c
) \

197  (
»s
); \

200 
__šlše
 \

201 
©omic_fcmp£t_
##
	`TYPE
(vÞ©ž
u_
##
TYPE
 *
d¡
, u_##TYPE *
ex³ù
, u_##TYPE 
¤c
) \

203 
u_ch¬
 
»s
; \

205 
__asm
 
	`__vÞ©že
( \

206 " " 
MPLOCKED
 " " \

210 : "=q" (
»s
), \

211 "+m" (*
d¡
), \

212 "+a" (*
ex³ù
) \

213 : "r" (
¤c
) \

215  (
»s
); \

216 }

	)

218 
ATOMIC_CMPSET
();

219 
ATOMIC_CMPSET
();

220 
ATOMIC_CMPSET
();

221 
ATOMIC_CMPSET
();

227 
__šlše
 
u_št


228 
	$©omic_ãtchadd_št
(vÞ©ž
u_št
 *
p
, u_šˆ
v
)

231 
__asm
 
	`__vÞ©že
(

232 " " 
MPLOCKED
 " "

235 : "+r" (
v
),

236 "+m" (*
p
)

238  (
v
);

239 
	}
}

245 
__šlše
 
u_lÚg


246 
	$©omic_ãtchadd_lÚg
(vÞ©ž
u_lÚg
 *
p
, u_lÚg 
v
)

249 
__asm
 
	`__vÞ©že
(

250 " " 
MPLOCKED
 " "

253 : "+r" (
v
),

254 "+m" (*
p
)

256  (
v
);

257 
	}
}

259 
__šlše
 

260 
	$©omic_‹¡ªd£t_št
(vÞ©ž
u_št
 *
p
, u_šˆ
v
)

262 
u_ch¬
 
»s
;

264 
__asm
 
	`__vÞ©že
(

265 " " 
MPLOCKED
 " "

269 : "=q" (
»s
),

270 "+m" (*
p
)

271 : "Ir" (
v
 & 0x1f)

273  (
»s
);

274 
	}
}

276 
__šlše
 

277 
	$©omic_‹¡ªd£t_lÚg
(vÞ©ž
u_lÚg
 *
p
, 
u_št
 
v
)

279 
u_ch¬
 
»s
;

281 
__asm
 
	`__vÞ©že
(

282 " " 
MPLOCKED
 " "

286 : "=q" (
»s
),

287 "+m" (*
p
)

288 : "Jr" ((
u_lÚg
)(
v
 & 0x3f))

290  (
»s
);

291 
	}
}

293 
__šlše
 

294 
	$©omic_‹¡ªdþ—r_št
(vÞ©ž
u_št
 *
p
, u_šˆ
v
)

296 
u_ch¬
 
»s
;

298 
__asm
 
	`__vÞ©že
(

299 " " 
MPLOCKED
 " "

303 : "=q" (
»s
),

304 "+m" (*
p
)

305 : "Ir" (
v
 & 0x1f)

307  (
»s
);

308 
	}
}

310 
__šlše
 

311 
	$©omic_‹¡ªdþ—r_lÚg
(vÞ©ž
u_lÚg
 *
p
, 
u_št
 
v
)

313 
u_ch¬
 
»s
;

315 
__asm
 
	`__vÞ©že
(

316 " " 
MPLOCKED
 " "

320 : "=q" (
»s
),

321 "+m" (*
p
)

322 : "Jr" ((
u_lÚg
)(
v
 & 0x3f))

324  (
»s
);

325 
	}
}

346 #ià
defšed
(
_KERNEL
)

355 
	#OFFSETOF_MONITORBUF
 0x100

	)

357 #ià
defšed
(
SMP
è|| defšed(
KLD_MODULE
)

358 
__šlše
 

359 
	$__¡Ü–ßd_b¬r›r
()

362 
__asm
 
	`__vÞ©že
("lock;‡ddl $0,%%gs:%0"

363 : "+m" (*(
u_št
 *)
OFFSETOF_MONITORBUF
) : : "memory", "cc");

364 
	}
}

366 
__šlše
 

367 
	$__¡Ü–ßd_b¬r›r
()

370 
	`__compž”_memb¬
();

371 
	}
}

374 
__šlše
 

375 
	$__¡Ü–ßd_b¬r›r
()

378 
__asm
 
	`__vÞ©že
("lock;‡ddl $0,-8(%%rsp)" : : : "memory", "cc");

379 
	}
}

382 
	#ATOMIC_LOAD
(
TYPE
) \

383 
__šlše
 
u_
##
TYPE
 \

384 
©omic_lßd_acq_
##
	`TYPE
(vÞ©ž
u_
##
TYPE
 *
p
) \

386 
u_
##
TYPE
 
»s
; \

388 
»s
 = *
p
; \

389 
	`__compž”_memb¬
(); \

390  (
»s
); \

392 
__hack


	)

394 
	#ATOMIC_STORE
(
TYPE
) \

395 
__šlše
 \

396 
©omic_¡Üe_»l_
##
	`TYPE
(vÞ©ž
u_
##
TYPE
 *
p
, u_##TYPE 
v
) \

399 
	`__compž”_memb¬
(); \

400 *
p
 = 
v
; \

402 
__hack


	)

404 
__šlše
 

405 
	$©omic_th»ad_ãnû_acq
()

408 
	`__compž”_memb¬
();

409 
	}
}

411 
__šlše
 

412 
	$©omic_th»ad_ãnû_»l
()

415 
	`__compž”_memb¬
();

416 
	}
}

418 
__šlše
 

419 
	$©omic_th»ad_ãnû_acq_»l
()

422 
	`__compž”_memb¬
();

423 
	}
}

425 
__šlše
 

426 
	$©omic_th»ad_ãnû_£q_c¡
()

429 
	`__¡Ü–ßd_b¬r›r
();

430 
	}
}

434 
ATOMIC_ASM
(
£t
, , "Üb %b1,%0", "iq", 
v
);

435 
ATOMIC_ASM
(
þ—r
, , "ªdb %b1,%0", "iq", ~
v
);

436 
ATOMIC_ASM
(
add
, , "addb %b1,%0", "iq", 
v
);

437 
ATOMIC_ASM
(
subŒaù
, , "subb %b1,%0", "iq", 
v
);

439 
ATOMIC_ASM
(
£t
, , "Üw %w1,%0", "œ", 
v
);

440 
ATOMIC_ASM
(
þ—r
, , "ªdw %w1,%0", "œ", ~
v
);

441 
ATOMIC_ASM
(
add
, , "addw %w1,%0", "œ", 
v
);

442 
ATOMIC_ASM
(
subŒaù
, , "subw %w1,%0", "œ", 
v
);

444 
ATOMIC_ASM
(
£t
, , "ÜÈ%1,%0", "œ", 
v
);

445 
ATOMIC_ASM
(
þ—r
, , "ªdÈ%1,%0", "œ", ~
v
);

446 
ATOMIC_ASM
(
add
, , "addÈ%1,%0", "œ", 
v
);

447 
ATOMIC_ASM
(
subŒaù
, , "subÈ%1,%0", "œ", 
v
);

449 
ATOMIC_ASM
(
£t
, , "Üq %1,%0", "”", 
v
);

450 
ATOMIC_ASM
(
þ—r
, , "ªdq %1,%0", "”", ~
v
);

451 
ATOMIC_ASM
(
add
, , "addq %1,%0", "”", 
v
);

452 
ATOMIC_ASM
(
subŒaù
, , "subq %1,%0", "”", 
v
);

454 
	#ATOMIC_LOADSTORE
(
TYPE
) \

455 
	`ATOMIC_LOAD
(
TYPE
); \

456 
	`ATOMIC_STORE
(
TYPE
)

	)

458 
ATOMIC_LOADSTORE
();

459 
ATOMIC_LOADSTORE
();

460 
ATOMIC_LOADSTORE
();

461 
ATOMIC_LOADSTORE
();

463 #undeà
ATOMIC_ASM


464 #undeà
ATOMIC_LOAD


465 #undeà
ATOMIC_STORE


466 #undeà
ATOMIC_LOADSTORE


467 #iâdeà
WANT_FUNCTIONS


470 #ifdeà
__GNUCLIKE_ASM


472 
__šlše
 
u_št


473 
	$©omic_sw­_št
(vÞ©ž
u_št
 *
p
, u_šˆ
v
)

476 
__asm
 
	`__vÞ©že
(

479 : "+r" (
v
),

480 "+m" (*
p
));

481  (
v
);

482 
	}
}

484 
__šlše
 
u_lÚg


485 
	$©omic_sw­_lÚg
(vÞ©ž
u_lÚg
 *
p
, u_lÚg 
v
)

488 
__asm
 
	`__vÞ©že
(

491 : "+r" (
v
),

492 "+m" (*
p
));

493  (
v
);

494 
	}
}

498 
u_št
 
©omic_sw­_št
(vÞ©žu_šˆ*
p
, u_šˆ
v
);

499 
u_lÚg
 
©omic_sw­_lÚg
(vÞ©žu_lÚg *
p
, u_lÚg 
v
);

503 
	#©omic_£t_acq_ch¬
 
©omic_£t_b¬r_ch¬


	)

504 
	#©omic_£t_»l_ch¬
 
©omic_£t_b¬r_ch¬


	)

505 
	#©omic_þ—r_acq_ch¬
 
©omic_þ—r_b¬r_ch¬


	)

506 
	#©omic_þ—r_»l_ch¬
 
©omic_þ—r_b¬r_ch¬


	)

507 
	#©omic_add_acq_ch¬
 
©omic_add_b¬r_ch¬


	)

508 
	#©omic_add_»l_ch¬
 
©omic_add_b¬r_ch¬


	)

509 
	#©omic_subŒaù_acq_ch¬
 
©omic_subŒaù_b¬r_ch¬


	)

510 
	#©omic_subŒaù_»l_ch¬
 
©omic_subŒaù_b¬r_ch¬


	)

511 
	#©omic_cmp£t_acq_ch¬
 
©omic_cmp£t_ch¬


	)

512 
	#©omic_cmp£t_»l_ch¬
 
©omic_cmp£t_ch¬


	)

513 
	#©omic_fcmp£t_acq_ch¬
 
©omic_fcmp£t_ch¬


	)

514 
	#©omic_fcmp£t_»l_ch¬
 
©omic_fcmp£t_ch¬


	)

516 
	#©omic_£t_acq_shÜt
 
©omic_£t_b¬r_shÜt


	)

517 
	#©omic_£t_»l_shÜt
 
©omic_£t_b¬r_shÜt


	)

518 
	#©omic_þ—r_acq_shÜt
 
©omic_þ—r_b¬r_shÜt


	)

519 
	#©omic_þ—r_»l_shÜt
 
©omic_þ—r_b¬r_shÜt


	)

520 
	#©omic_add_acq_shÜt
 
©omic_add_b¬r_shÜt


	)

521 
	#©omic_add_»l_shÜt
 
©omic_add_b¬r_shÜt


	)

522 
	#©omic_subŒaù_acq_shÜt
 
©omic_subŒaù_b¬r_shÜt


	)

523 
	#©omic_subŒaù_»l_shÜt
 
©omic_subŒaù_b¬r_shÜt


	)

524 
	#©omic_cmp£t_acq_shÜt
 
©omic_cmp£t_shÜt


	)

525 
	#©omic_cmp£t_»l_shÜt
 
©omic_cmp£t_shÜt


	)

526 
	#©omic_fcmp£t_acq_shÜt
 
©omic_fcmp£t_shÜt


	)

527 
	#©omic_fcmp£t_»l_shÜt
 
©omic_fcmp£t_shÜt


	)

529 
	#©omic_£t_acq_št
 
©omic_£t_b¬r_št


	)

530 
	#©omic_£t_»l_št
 
©omic_£t_b¬r_št


	)

531 
	#©omic_þ—r_acq_št
 
©omic_þ—r_b¬r_št


	)

532 
	#©omic_þ—r_»l_št
 
©omic_þ—r_b¬r_št


	)

533 
	#©omic_add_acq_št
 
©omic_add_b¬r_št


	)

534 
	#©omic_add_»l_št
 
©omic_add_b¬r_št


	)

535 
	#©omic_subŒaù_acq_št
 
©omic_subŒaù_b¬r_št


	)

536 
	#©omic_subŒaù_»l_št
 
©omic_subŒaù_b¬r_št


	)

537 
	#©omic_cmp£t_acq_št
 
©omic_cmp£t_št


	)

538 
	#©omic_cmp£t_»l_št
 
©omic_cmp£t_št


	)

539 
	#©omic_fcmp£t_acq_št
 
©omic_fcmp£t_št


	)

540 
	#©omic_fcmp£t_»l_št
 
©omic_fcmp£t_št


	)

542 
	#©omic_£t_acq_lÚg
 
©omic_£t_b¬r_lÚg


	)

543 
	#©omic_£t_»l_lÚg
 
©omic_£t_b¬r_lÚg


	)

544 
	#©omic_þ—r_acq_lÚg
 
©omic_þ—r_b¬r_lÚg


	)

545 
	#©omic_þ—r_»l_lÚg
 
©omic_þ—r_b¬r_lÚg


	)

546 
	#©omic_add_acq_lÚg
 
©omic_add_b¬r_lÚg


	)

547 
	#©omic_add_»l_lÚg
 
©omic_add_b¬r_lÚg


	)

548 
	#©omic_subŒaù_acq_lÚg
 
©omic_subŒaù_b¬r_lÚg


	)

549 
	#©omic_subŒaù_»l_lÚg
 
©omic_subŒaù_b¬r_lÚg


	)

550 
	#©omic_cmp£t_acq_lÚg
 
©omic_cmp£t_lÚg


	)

551 
	#©omic_cmp£t_»l_lÚg
 
©omic_cmp£t_lÚg


	)

552 
	#©omic_fcmp£t_acq_lÚg
 
©omic_fcmp£t_lÚg


	)

553 
	#©omic_fcmp£t_»l_lÚg
 
©omic_fcmp£t_lÚg


	)

555 
	#©omic_»adªdþ—r_št
(
p
è
	`©omic_sw­_št
Õ, 0)

	)

556 
	#©omic_»adªdþ—r_lÚg
(
p
è
	`©omic_sw­_lÚg
Õ, 0)

	)

559 
	#©omic_£t_8
 
©omic_£t_ch¬


	)

560 
	#©omic_£t_acq_8
 
©omic_£t_acq_ch¬


	)

561 
	#©omic_£t_»l_8
 
©omic_£t_»l_ch¬


	)

562 
	#©omic_þ—r_8
 
©omic_þ—r_ch¬


	)

563 
	#©omic_þ—r_acq_8
 
©omic_þ—r_acq_ch¬


	)

564 
	#©omic_þ—r_»l_8
 
©omic_þ—r_»l_ch¬


	)

565 
	#©omic_add_8
 
©omic_add_ch¬


	)

566 
	#©omic_add_acq_8
 
©omic_add_acq_ch¬


	)

567 
	#©omic_add_»l_8
 
©omic_add_»l_ch¬


	)

568 
	#©omic_subŒaù_8
 
©omic_subŒaù_ch¬


	)

569 
	#©omic_subŒaù_acq_8
 
©omic_subŒaù_acq_ch¬


	)

570 
	#©omic_subŒaù_»l_8
 
©omic_subŒaù_»l_ch¬


	)

571 
	#©omic_lßd_acq_8
 
©omic_lßd_acq_ch¬


	)

572 
	#©omic_¡Üe_»l_8
 
©omic_¡Üe_»l_ch¬


	)

573 
	#©omic_cmp£t_8
 
©omic_cmp£t_ch¬


	)

574 
	#©omic_cmp£t_acq_8
 
©omic_cmp£t_acq_ch¬


	)

575 
	#©omic_cmp£t_»l_8
 
©omic_cmp£t_»l_ch¬


	)

576 
	#©omic_fcmp£t_8
 
©omic_fcmp£t_ch¬


	)

577 
	#©omic_fcmp£t_acq_8
 
©omic_fcmp£t_acq_ch¬


	)

578 
	#©omic_fcmp£t_»l_8
 
©omic_fcmp£t_»l_ch¬


	)

581 
	#©omic_£t_16
 
©omic_£t_shÜt


	)

582 
	#©omic_£t_acq_16
 
©omic_£t_acq_shÜt


	)

583 
	#©omic_£t_»l_16
 
©omic_£t_»l_shÜt


	)

584 
	#©omic_þ—r_16
 
©omic_þ—r_shÜt


	)

585 
	#©omic_þ—r_acq_16
 
©omic_þ—r_acq_shÜt


	)

586 
	#©omic_þ—r_»l_16
 
©omic_þ—r_»l_shÜt


	)

587 
	#©omic_add_16
 
©omic_add_shÜt


	)

588 
	#©omic_add_acq_16
 
©omic_add_acq_shÜt


	)

589 
	#©omic_add_»l_16
 
©omic_add_»l_shÜt


	)

590 
	#©omic_subŒaù_16
 
©omic_subŒaù_shÜt


	)

591 
	#©omic_subŒaù_acq_16
 
©omic_subŒaù_acq_shÜt


	)

592 
	#©omic_subŒaù_»l_16
 
©omic_subŒaù_»l_shÜt


	)

593 
	#©omic_lßd_acq_16
 
©omic_lßd_acq_shÜt


	)

594 
	#©omic_¡Üe_»l_16
 
©omic_¡Üe_»l_shÜt


	)

595 
	#©omic_cmp£t_16
 
©omic_cmp£t_shÜt


	)

596 
	#©omic_cmp£t_acq_16
 
©omic_cmp£t_acq_shÜt


	)

597 
	#©omic_cmp£t_»l_16
 
©omic_cmp£t_»l_shÜt


	)

598 
	#©omic_fcmp£t_16
 
©omic_fcmp£t_shÜt


	)

599 
	#©omic_fcmp£t_acq_16
 
©omic_fcmp£t_acq_shÜt


	)

600 
	#©omic_fcmp£t_»l_16
 
©omic_fcmp£t_»l_shÜt


	)

603 
	#©omic_£t_32
 
©omic_£t_št


	)

604 
	#©omic_£t_acq_32
 
©omic_£t_acq_št


	)

605 
	#©omic_£t_»l_32
 
©omic_£t_»l_št


	)

606 
	#©omic_þ—r_32
 
©omic_þ—r_št


	)

607 
	#©omic_þ—r_acq_32
 
©omic_þ—r_acq_št


	)

608 
	#©omic_þ—r_»l_32
 
©omic_þ—r_»l_št


	)

609 
	#©omic_add_32
 
©omic_add_št


	)

610 
	#©omic_add_acq_32
 
©omic_add_acq_št


	)

611 
	#©omic_add_»l_32
 
©omic_add_»l_št


	)

612 
	#©omic_subŒaù_32
 
©omic_subŒaù_št


	)

613 
	#©omic_subŒaù_acq_32
 
©omic_subŒaù_acq_št


	)

614 
	#©omic_subŒaù_»l_32
 
©omic_subŒaù_»l_št


	)

615 
	#©omic_lßd_acq_32
 
©omic_lßd_acq_št


	)

616 
	#©omic_¡Üe_»l_32
 
©omic_¡Üe_»l_št


	)

617 
	#©omic_cmp£t_32
 
©omic_cmp£t_št


	)

618 
	#©omic_cmp£t_acq_32
 
©omic_cmp£t_acq_št


	)

619 
	#©omic_cmp£t_»l_32
 
©omic_cmp£t_»l_št


	)

620 
	#©omic_fcmp£t_32
 
©omic_fcmp£t_št


	)

621 
	#©omic_fcmp£t_acq_32
 
©omic_fcmp£t_acq_št


	)

622 
	#©omic_fcmp£t_»l_32
 
©omic_fcmp£t_»l_št


	)

623 
	#©omic_sw­_32
 
©omic_sw­_št


	)

624 
	#©omic_»adªdþ—r_32
 
©omic_»adªdþ—r_št


	)

625 
	#©omic_ãtchadd_32
 
©omic_ãtchadd_št


	)

626 
	#©omic_‹¡ªd£t_32
 
©omic_‹¡ªd£t_št


	)

627 
	#©omic_‹¡ªdþ—r_32
 
©omic_‹¡ªdþ—r_št


	)

630 
	#©omic_£t_64
 
©omic_£t_lÚg


	)

631 
	#©omic_£t_acq_64
 
©omic_£t_acq_lÚg


	)

632 
	#©omic_£t_»l_64
 
©omic_£t_»l_lÚg


	)

633 
	#©omic_þ—r_64
 
©omic_þ—r_lÚg


	)

634 
	#©omic_þ—r_acq_64
 
©omic_þ—r_acq_lÚg


	)

635 
	#©omic_þ—r_»l_64
 
©omic_þ—r_»l_lÚg


	)

636 
	#©omic_add_64
 
©omic_add_lÚg


	)

637 
	#©omic_add_acq_64
 
©omic_add_acq_lÚg


	)

638 
	#©omic_add_»l_64
 
©omic_add_»l_lÚg


	)

639 
	#©omic_subŒaù_64
 
©omic_subŒaù_lÚg


	)

640 
	#©omic_subŒaù_acq_64
 
©omic_subŒaù_acq_lÚg


	)

641 
	#©omic_subŒaù_»l_64
 
©omic_subŒaù_»l_lÚg


	)

642 
	#©omic_lßd_acq_64
 
©omic_lßd_acq_lÚg


	)

643 
	#©omic_¡Üe_»l_64
 
©omic_¡Üe_»l_lÚg


	)

644 
	#©omic_cmp£t_64
 
©omic_cmp£t_lÚg


	)

645 
	#©omic_cmp£t_acq_64
 
©omic_cmp£t_acq_lÚg


	)

646 
	#©omic_cmp£t_»l_64
 
©omic_cmp£t_»l_lÚg


	)

647 
	#©omic_fcmp£t_64
 
©omic_fcmp£t_lÚg


	)

648 
	#©omic_fcmp£t_acq_64
 
©omic_fcmp£t_acq_lÚg


	)

649 
	#©omic_fcmp£t_»l_64
 
©omic_fcmp£t_»l_lÚg


	)

650 
	#©omic_sw­_64
 
©omic_sw­_lÚg


	)

651 
	#©omic_»adªdþ—r_64
 
©omic_»adªdþ—r_lÚg


	)

652 
	#©omic_ãtchadd_64
 
©omic_ãtchadd_lÚg


	)

653 
	#©omic_‹¡ªd£t_64
 
©omic_‹¡ªd£t_lÚg


	)

654 
	#©omic_‹¡ªdþ—r_64
 
©omic_‹¡ªdþ—r_lÚg


	)

657 
	#©omic_£t_±r
 
©omic_£t_lÚg


	)

658 
	#©omic_£t_acq_±r
 
©omic_£t_acq_lÚg


	)

659 
	#©omic_£t_»l_±r
 
©omic_£t_»l_lÚg


	)

660 
	#©omic_þ—r_±r
 
©omic_þ—r_lÚg


	)

661 
	#©omic_þ—r_acq_±r
 
©omic_þ—r_acq_lÚg


	)

662 
	#©omic_þ—r_»l_±r
 
©omic_þ—r_»l_lÚg


	)

663 
	#©omic_add_±r
 
©omic_add_lÚg


	)

664 
	#©omic_add_acq_±r
 
©omic_add_acq_lÚg


	)

665 
	#©omic_add_»l_±r
 
©omic_add_»l_lÚg


	)

666 
	#©omic_subŒaù_±r
 
©omic_subŒaù_lÚg


	)

667 
	#©omic_subŒaù_acq_±r
 
©omic_subŒaù_acq_lÚg


	)

668 
	#©omic_subŒaù_»l_±r
 
©omic_subŒaù_»l_lÚg


	)

669 
	#©omic_lßd_acq_±r
 
©omic_lßd_acq_lÚg


	)

670 
	#©omic_¡Üe_»l_±r
 
©omic_¡Üe_»l_lÚg


	)

671 
	#©omic_cmp£t_±r
 
©omic_cmp£t_lÚg


	)

672 
	#©omic_cmp£t_acq_±r
 
©omic_cmp£t_acq_lÚg


	)

673 
	#©omic_cmp£t_»l_±r
 
©omic_cmp£t_»l_lÚg


	)

674 
	#©omic_fcmp£t_±r
 
©omic_fcmp£t_lÚg


	)

675 
	#©omic_fcmp£t_acq_±r
 
©omic_fcmp£t_acq_lÚg


	)

676 
	#©omic_fcmp£t_»l_±r
 
©omic_fcmp£t_»l_lÚg


	)

677 
	#©omic_sw­_±r
 
©omic_sw­_lÚg


	)

678 
	#©omic_»adªdþ—r_±r
 
©omic_»adªdþ—r_lÚg


	)

	@src/nvidia-drm/machine/bus.h

6 
	~<x86/bus.h
>

	@src/nvidia-drm/machine/bus_dma.h

31 #iâdeà
_AMD64_BUS_DMA_H_


32 
	#_AMD64_BUS_DMA_H_


	)

34 
	~<x86/bus_dma.h
>

	@src/nvidia-drm/machine/clock.h

9 #iâdeà
_MACHINE_CLOCK_H_


10 
	#_MACHINE_CLOCK_H_


	)

12 #ifdeà
_KERNEL


17 
þkšŒ_³ndšg
;

18 
u_št
 
i8254_äeq
;

19 
i8254_max_couÁ
;

20 
ušt64_t
 
tsc_äeq
;

21 
tsc_is_šv¬ŸÁ
;

22 
tsc_³rf_¡©
;

23 #ifdeà
SMP


24 
smp_tsc
;

27 
i8254_š™
();

28 
i8254_d–ay
();

29 
þock_š™
();

35 
¡¬Œtþock
();

36 
š™_TSC
();

37 
»sume_TSC
();

39 
	#HAS_TIMER_SPKR
 1

	)

40 
tim”_¥kr_acquœe
();

41 
tim”_¥kr_»Ëa£
();

42 
tim”_¥kr_£täeq
(
äeq
);

	@src/nvidia-drm/machine/counter.h

31 #iâdeà
__MACHINE_COUNTER_H__


32 
	#__MACHINE_COUNTER_H__


	)

34 
	~<sys/pýu.h
>

36 
pýu
 
__pýu
[];

38 
	#EARLY_COUNTER
 &
__pýu
[0].
pc_—¾y_dummy_couÁ”


	)

40 
	#couÁ”_’‹r
(èdØ{} 0)

	)

41 
	#couÁ”_ex™
(èdØ{} 0)

	)

43 #ifdeà
IN_SUBR_COUNTER_C


44 
šlše
 
ušt64_t


45 
	$couÁ”_u64_»ad_Úe
(
ušt64_t
 *
p
, 
ýu
)

48  (*(
ušt64_t
 *)((*)
p
 + 
UMA_PCPU_ALLOC_SIZE
 * 
ýu
));

49 
	}
}

51 
šlše
 
ušt64_t


52 
	$couÁ”_u64_ãtch_šlše
(
ušt64_t
 *
p
)

54 
ušt64_t
 
r
;

55 
i
;

57 
r
 = 0;

58 
	`CPU_FOREACH
(
i
)

59 
r
 +ð
	`couÁ”_u64_»ad_Úe
((
ušt64_t
 *)
p
, 
i
);

61  (
r
);

62 
	}
}

65 
	$couÁ”_u64_z”o_Úe_ýu
(*
¬g
)

68 *((
ušt64_t
 *)((*)
¬g
 + 
UMA_PCPU_ALLOC_SIZE
 *

69 
	`PCPU_GET
(
ýuid
))) = 0;

70 
	}
}

72 
šlše
 

73 
	$couÁ”_u64_z”o_šlše
(
couÁ”_u64_t
 
c
)

76 
	`smp_»ndezvous
(
smp_no_»ndezvous_b¬r›r
, 
couÁ”_u64_z”o_Úe_ýu
,

77 
smp_no_»ndezvous_b¬r›r
, 
c
);

78 
	}
}

81 
	#couÁ”_u64_add_´Ùeùed
(
c
, 
i
è
	`couÁ”_u64_add
(c, i)

	)

83 
šlše
 

84 
	$couÁ”_u64_add
(
couÁ”_u64_t
 
c
, 
št64_t
 
šc
)

87 
__asm
 
	`__vÞ©že
("addq\t%1,%%gs:(%0)"

89 : "r" ((*)
c
 - (*)&
__pýu
[0]), "ri" (
šc
)

91 
	}
}

	@src/nvidia-drm/machine/cpu.h

38 #iâdeà
_MACHINE_CPU_H_


39 
	#_MACHINE_CPU_H_


	)

44 
	~<machše/p¦.h
>

45 
	~<machše/äame.h
>

46 
	~<machše/£gm’ts.h
>

48 
	#ýu_exec
(
p
è

	)

49 
	#ýu_sw­š
(
p
è

	)

50 
	#ýu_g‘¡ack
(
td
è(Ñd)->
td_äame
->
tf_r¥
)

	)

51 
	#ýu_£t¡ack
(
td
, 
­
è(Ñd)->
td_äame
->
tf_r¥
 = (­))

	)

52 
	#ýu_¥šwa™
(è
	`Ÿ32_·u£
()

	)

54 
	#TRAPF_USERMODE
(
äam•
) \

55 (
	`ISPL
((
äam•
)->
tf_cs
è=ð
SEL_UPL
)

	)

56 
	#TRAPF_PC
(
äam•
è((äam•)->
tf_r
)

	)

58 #ifdeà
_KERNEL


65 
	sýu_Ýs
 {

66 (*
	mýu_š™
)();

67 (*
	mýu_»sume
)();

70 
ýu_Ýs
 cpu_ops;

71 
brw£ùiÚ
[];

72 
b‹xt
[];

73 
_’d
[];

74 
‘ext
[];

77 (*
vmm_»sume_p
)();

79 
	`ýu_h®t
();

80 
	`ýu_lock_d–ay
();

81 
	`ýu_»£t
();

82 
	`fÜk_ŒampÞše
();

83 
	`swi_vm
(*);

89 
__šlše
 
u_št64_t


90 
	$g‘_cyþecouÁ
()

93  (
	`rdtsc
());

94 
	}
}

96 
	#MEMSET_EARLY_FUNC
 
mem£t_¡d


	)

97 
	#MEMCPY_EARLY_FUNC
 
memýy_¡d


	)

98 
	#MEMMOVE_EARLY_FUNC
 
memmove_¡d


	)

	@src/nvidia-drm/machine/cpufunc.h

41 #iâdeà
_MACHINE_CPUFUNC_H_


42 
	#_MACHINE_CPUFUNC_H_


	)

44 #iâdeà
_SYS_CDEFS_H_


45 #”rÜ 
this
 
fže
 
Ãeds
 
sys
/
cdefs
.
h
 
as
 
a
 
´”equis™e


48 
	g»giÚ_desütÜ
;

50 
	#»adb
(
va
è(*(vÞ©ž
ušt8_t
 *è(va))

	)

51 
	#»adw
(
va
è(*(vÞ©ž
ušt16_t
 *è(va))

	)

52 
	#»adl
(
va
è(*(vÞ©ž
ušt32_t
 *è(va))

	)

53 
	#»adq
(
va
è(*(vÞ©ž
ušt64_t
 *è(va))

	)

55 
	#wr™eb
(
va
, 
d
è(*(vÞ©ž
ušt8_t
 *è(vaèð(d))

	)

56 
	#wr™ew
(
va
, 
d
è(*(vÞ©ž
ušt16_t
 *è(vaèð(d))

	)

57 
	#wr™–
(
va
, 
d
è(*(vÞ©ž
ušt32_t
 *è(vaèð(d))

	)

58 
	#wr™eq
(
va
, 
d
è(*(vÞ©ž
ušt64_t
 *è(vaèð(d))

	)

60 #ià
defšed
(
__GNUCLIKE_ASM
è&& defšed(
__CC_SUPPORTS___INLINE
)

62 
__šlše
 

63 
	$b»akpošt
()

65 
__asm
 
	`__vÞ©že
("int $3");

66 
	}
}

68 
__šlše
 
__pu»2
 
u_št


69 
	$bsæ
(
u_št
 
mask
)

71 
u_št
 
»suÉ
;

73 
__asm
 
	`__vÞ©že
("bsæ %1,%0" : "ô" (
»suÉ
è: "rm" (
mask
));

74  (
»suÉ
);

75 
	}
}

77 
__šlše
 
__pu»2
 
u_lÚg


78 
	$bsfq
(
u_lÚg
 
mask
)

80 
u_lÚg
 
»suÉ
;

82 
__asm
 
	`__vÞ©že
("bsfq %1,%0" : "ô" (
»suÉ
è: "rm" (
mask
));

83  (
»suÉ
);

84 
	}
}

86 
__šlše
 
__pu»2
 
u_št


87 
	$b¤l
(
u_št
 
mask
)

89 
u_št
 
»suÉ
;

91 
__asm
 
	`__vÞ©že
("b¤È%1,%0" : "ô" (
»suÉ
è: "rm" (
mask
));

92  (
»suÉ
);

93 
	}
}

95 
__šlše
 
__pu»2
 
u_lÚg


96 
	$b¤q
(
u_lÚg
 
mask
)

98 
u_lÚg
 
»suÉ
;

100 
__asm
 
	`__vÞ©že
("b¤q %1,%0" : "ô" (
»suÉ
è: "rm" (
mask
));

101  (
»suÉ
);

102 
	}
}

104 
__šlše
 

105 
	$þæush
(
u_lÚg
 
addr
)

108 
__asm
 
	`__vÞ©že
("þæush %0" : : "m" (*(*)
addr
));

109 
	}
}

111 
__šlše
 

112 
	$þæushÝt
(
u_lÚg
 
addr
)

115 
__asm
 
	`__vÞ©že
(".by‹ 0x66;þæush %0" : : "m" (*(*)
addr
));

116 
	}
}

118 
__šlše
 

119 
	$þwb
(
u_lÚg
 
addr
)

122 
__asm
 
	`__vÞ©že
("þwb %0" : : "m" (*(*)
addr
));

123 
	}
}

125 
__šlše
 

126 
	$þts
()

129 
__asm
 
	`__vÞ©že
("clts");

130 
	}
}

132 
__šlše
 

133 
	$di§bË_šŒ
()

135 
__asm
 
	`__vÞ©že
("cli" : : : "memory");

136 
	}
}

138 
__šlše
 

139 
	$do_ýuid
(
u_št
 
ax
, u_šˆ*
p
)

141 
__asm
 
	`__vÞ©že
("cpuid"

142 : "÷" (
p
[0]), "=b" (p[1]), "=c" (p[2]), "=d" (p[3])

143 : "0" (
ax
));

144 
	}
}

146 
__šlše
 

147 
	$ýuid_couÁ
(
u_št
 
ax
, u_šˆ
cx
, u_šˆ*
p
)

149 
__asm
 
	`__vÞ©že
("cpuid"

150 : "÷" (
p
[0]), "=b" (p[1]), "=c" (p[2]), "=d" (p[3])

151 : "0" (
ax
), "c" (
cx
));

152 
	}
}

154 
__šlše
 

155 
	$’abË_šŒ
()

157 
__asm
 
	`__vÞ©že
("sti");

158 
	}
}

160 #ifdeà
_KERNEL


162 
	#HAVE_INLINE_FFS


	)

163 
	#ffs
(
x
è
	`__bužtš_ffs
(x)

	)

165 
	#HAVE_INLINE_FFSL


	)

167 
__šlše
 
__pu»2
 

168 
	$ff¦
(
mask
)

170  (
mask
 =ð0 ? mask : ()
	`bsfq
((
u_lÚg
)mask) + 1);

171 
	}
}

173 
	#HAVE_INLINE_FFSLL


	)

175 
__šlše
 
__pu»2
 

176 
	$ff¦l
(
mask
)

178  (
	`ff¦
(()
mask
));

179 
	}
}

181 
	#HAVE_INLINE_FLS


	)

183 
__šlše
 
__pu»2
 

184 
	$æs
(
mask
)

186  (
mask
 =ð0 ? mask : ()
	`b¤l
((
u_št
)mask) + 1);

187 
	}
}

189 
	#HAVE_INLINE_FLSL


	)

191 
__šlše
 
__pu»2
 

192 
	$æ¦
(
mask
)

194  (
mask
 =ð0 ? mask : ()
	`b¤q
((
u_lÚg
)mask) + 1);

195 
	}
}

197 
	#HAVE_INLINE_FLSLL


	)

199 
__šlše
 
__pu»2
 

200 
	$æ¦l
(
mask
)

202  (
	`æ¦
(()
mask
));

203 
	}
}

207 
__šlše
 

208 
	$h®t
()

210 
__asm
 
	`__vÞ©že
("hlt");

211 
	}
}

213 
__šlše
 
u_ch¬


214 
	$šb
(
u_št
 
pÜt
)

216 
u_ch¬
 
d©a
;

218 
__asm
 
	`__vÞ©že
("šb %w1, %0" : "÷" (
d©a
è: "Nd" (
pÜt
));

219  (
d©a
);

220 
	}
}

222 
__šlše
 
u_št


223 
	$šl
(
u_št
 
pÜt
)

225 
u_št
 
d©a
;

227 
__asm
 
	`__vÞ©že
("šÈ%w1, %0" : "÷" (
d©a
è: "Nd" (
pÜt
));

228  (
d©a
);

229 
	}
}

231 
__šlše
 

232 
	$šsb
(
u_št
 
pÜt
, *
addr
, 
size_t
 
couÁ
)

234 
__asm
 
	`__vÞ©že
("cld;„ep; insb"

235 : "+D" (
addr
), "+c" (
couÁ
)

236 : "d" (
pÜt
)

238 
	}
}

240 
__šlše
 

241 
	$šsw
(
u_št
 
pÜt
, *
addr
, 
size_t
 
couÁ
)

243 
__asm
 
	`__vÞ©že
("cld;„ep; insw"

244 : "+D" (
addr
), "+c" (
couÁ
)

245 : "d" (
pÜt
)

247 
	}
}

249 
__šlše
 

250 
	$š¦
(
u_št
 
pÜt
, *
addr
, 
size_t
 
couÁ
)

252 
__asm
 
	`__vÞ©že
("cld;„ep; insl"

253 : "+D" (
addr
), "+c" (
couÁ
)

254 : "d" (
pÜt
)

256 
	}
}

258 
__šlše
 

259 
	$švd
()

261 
__asm
 
	`__vÞ©že
("invd");

262 
	}
}

264 
__šlše
 
u_shÜt


265 
	$šw
(
u_št
 
pÜt
)

267 
u_shÜt
 
d©a
;

269 
__asm
 
	`__vÞ©že
("šw %w1, %0" : "÷" (
d©a
è: "Nd" (
pÜt
));

270  (
d©a
);

271 
	}
}

273 
__šlše
 

274 
	$outb
(
u_št
 
pÜt
, 
u_ch¬
 
d©a
)

276 
__asm
 
	`__vÞ©že
("outb %0, %w1" : : "a" (
d©a
), "Nd" (
pÜt
));

277 
	}
}

279 
__šlše
 

280 
	$ouŽ
(
u_št
 
pÜt
, u_šˆ
d©a
)

282 
__asm
 
	`__vÞ©že
("ouŽ %0, %w1" : : "a" (
d©a
), "Nd" (
pÜt
));

283 
	}
}

285 
__šlše
 

286 
	$outsb
(
u_št
 
pÜt
, cÚ¡ *
addr
, 
size_t
 
couÁ
)

288 
__asm
 
	`__vÞ©že
("cld;„ep; outsb"

289 : "+S" (
addr
), "+c" (
couÁ
)

290 : "d" (
pÜt
));

291 
	}
}

293 
__šlše
 

294 
	$outsw
(
u_št
 
pÜt
, cÚ¡ *
addr
, 
size_t
 
couÁ
)

296 
__asm
 
	`__vÞ©že
("cld;„ep; outsw"

297 : "+S" (
addr
), "+c" (
couÁ
)

298 : "d" (
pÜt
));

299 
	}
}

301 
__šlše
 

302 
	$out¦
(
u_št
 
pÜt
, cÚ¡ *
addr
, 
size_t
 
couÁ
)

304 
__asm
 
	`__vÞ©že
("cld;„ep; outsl"

305 : "+S" (
addr
), "+c" (
couÁ
)

306 : "d" (
pÜt
));

307 
	}
}

309 
__šlše
 

310 
	$outw
(
u_št
 
pÜt
, 
u_shÜt
 
d©a
)

312 
__asm
 
	`__vÞ©že
("outw %0, %w1" : : "a" (
d©a
), "Nd" (
pÜt
));

313 
	}
}

315 
__šlše
 
u_lÚg


316 
	$pÝútq
(
u_lÚg
 
mask
)

318 
u_lÚg
 
»suÉ
;

320 
__asm
 
	`__vÞ©že
("pÝútq %1,%0" : "ô" (
»suÉ
è: "rm" (
mask
));

321  (
»suÉ
);

322 
	}
}

324 
__šlše
 

325 
	$lãnû
()

328 
__asm
 
	`__vÞ©že
("lfence" : : : "memory");

329 
	}
}

331 
__šlše
 

332 
	$mãnû
()

335 
__asm
 
	`__vÞ©že
("mfence" : : : "memory");

336 
	}
}

338 
__šlše
 

339 
	$sãnû
()

342 
__asm
 
	`__vÞ©že
("sfence" : : : "memory");

343 
	}
}

345 
__šlše
 

346 
	$Ÿ32_·u£
()

348 
__asm
 
	`__vÞ©že
("pause");

349 
	}
}

351 
__šlše
 
u_lÚg


352 
	$»ad_ræags
()

354 
u_lÚg
 
rf
;

356 
__asm
 
	`__vÞ©že
("pushfq;…Ýq %0" : "ô" (
rf
));

357  (
rf
);

358 
	}
}

360 
__šlše
 
ušt64_t


361 
	$rdm¤
(
u_št
 
m¤
)

363 
ušt32_t
 
low
, 
high
;

365 
__asm
 
	`__vÞ©že
("rdm¤" : "÷" (
low
), "=d" (
high
è: "c" (
m¤
));

366  (
low
 | ((
ušt64_t
)
high
 << 32));

367 
	}
}

369 
__šlše
 
ušt32_t


370 
	$rdm¤32
(
u_št
 
m¤
)

372 
ušt32_t
 
low
;

374 
__asm
 
	`__vÞ©že
("rdm¤" : "÷" (
low
è: "c" (
m¤
) : "rdx");

375  (
low
);

376 
	}
}

378 
__šlše
 
ušt64_t


379 
	$rdpmc
(
u_št
 
pmc
)

381 
ušt32_t
 
low
, 
high
;

383 
__asm
 
	`__vÞ©že
("rdpmc" : "÷" (
low
), "=d" (
high
è: "c" (
pmc
));

384  (
low
 | ((
ušt64_t
)
high
 << 32));

385 
	}
}

387 
__šlše
 
ušt64_t


388 
	$rdtsc
()

390 
ušt32_t
 
low
, 
high
;

392 
__asm
 
	`__vÞ©že
("rdtsc" : "÷" (
low
), "=d" (
high
));

393  (
low
 | ((
ušt64_t
)
high
 << 32));

394 
	}
}

396 
__šlše
 
ušt64_t


397 
	$rdtsý
()

399 
ušt32_t
 
low
, 
high
;

401 
__asm
 
	`__vÞ©že
("rdtsý" : "÷" (
low
), "=d" (
high
) : : "ecx");

402  (
low
 | ((
ušt64_t
)
high
 << 32));

403 
	}
}

405 
__šlše
 
ušt32_t


406 
	$rdtsc32
()

408 
ušt32_t
 
rv
;

410 
__asm
 
	`__vÞ©že
("rdtsc" : "÷" (
rv
) : : "edx");

411  (
rv
);

412 
	}
}

414 
__šlše
 

415 
	$wbšvd
()

417 
__asm
 
	`__vÞ©že
("wbinvd");

418 
	}
}

420 
__šlše
 

421 
	$wr™e_ræags
(
u_lÚg
 
rf
)

423 
__asm
 
	`__vÞ©že
("pushq %0;…Ýfq" : : "r" (
rf
));

424 
	}
}

426 
__šlše
 

427 
	$wrm¤
(
u_št
 
m¤
, 
ušt64_t
 
Ãwv®
)

429 
ušt32_t
 
low
, 
high
;

431 
low
 = 
Ãwv®
;

432 
high
 = 
Ãwv®
 >> 32;

433 
__asm
 
	`__vÞ©že
("wrm¤" : : "a" (
low
), "d" (
high
), "c" (
m¤
));

434 
	}
}

436 
__šlše
 

437 
	$lßd_ü0
(
u_lÚg
 
d©a
)

440 
__asm
 
	`__vÞ©že
("movq %0,%%ü0" : : "r" (
d©a
));

441 
	}
}

443 
__šlše
 
u_lÚg


444 
	$rü0
()

446 
u_lÚg
 
d©a
;

448 
__asm
 
	`__vÞ©že
("movq %%ü0,%0" : "ô" (
d©a
));

449  (
d©a
);

450 
	}
}

452 
__šlše
 
u_lÚg


453 
	$rü2
()

455 
u_lÚg
 
d©a
;

457 
__asm
 
	`__vÞ©že
("movq %%ü2,%0" : "ô" (
d©a
));

458  (
d©a
);

459 
	}
}

461 
__šlše
 

462 
	$lßd_ü3
(
u_lÚg
 
d©a
)

465 
__asm
 
	`__vÞ©že
("movq %0,%%ü3" : : "r" (
d©a
) : "memory");

466 
	}
}

468 
__šlše
 
u_lÚg


469 
	$rü3
()

471 
u_lÚg
 
d©a
;

473 
__asm
 
	`__vÞ©že
("movq %%ü3,%0" : "ô" (
d©a
));

474  (
d©a
);

475 
	}
}

477 
__šlše
 

478 
	$lßd_ü4
(
u_lÚg
 
d©a
)

480 
__asm
 
	`__vÞ©že
("movq %0,%%ü4" : : "r" (
d©a
));

481 
	}
}

483 
__šlše
 
u_lÚg


484 
	$rü4
()

486 
u_lÚg
 
d©a
;

488 
__asm
 
	`__vÞ©že
("movq %%ü4,%0" : "ô" (
d©a
));

489  (
d©a
);

490 
	}
}

492 
__šlše
 
u_lÚg


493 
	$rxü
(
u_št
 
»g
)

495 
u_št
 
low
, 
high
;

497 
__asm
 
	`__vÞ©že
("xg‘bv" : "÷" (
low
), "=d" (
high
è: "c" (
»g
));

498  (
low
 | ((
ušt64_t
)
high
 << 32));

499 
	}
}

501 
__šlše
 

502 
	$lßd_xü
(
u_št
 
»g
, 
u_lÚg
 
v®
)

504 
u_št
 
low
, 
high
;

506 
low
 = 
v®
;

507 
high
 = 
v®
 >> 32;

508 
__asm
 
	`__vÞ©že
("x£tbv" : : "c" (
»g
), "a" (
low
), "d" (
high
));

509 
	}
}

514 
__šlše
 

515 
	$švÉlb
()

518 
	`lßd_ü3
(
	`rü3
());

519 
	}
}

521 #iâdeà
CR4_PGE


522 
	#CR4_PGE
 0x00000080

	)

532 
__šlše
 

533 
	$švÉlb_glob
()

535 
ušt64_t
 
ü4
;

537 
ü4
 = 
	`rü4
();

538 
	`lßd_ü4
(
ü4
 & ~
CR4_PGE
);

546 
	`lßd_ü4
(
ü4
 | 
CR4_PGE
);

547 
	}
}

553 
__šlše
 

554 
	$švÍg
(
u_lÚg
 
addr
)

557 
__asm
 
	`__vÞ©že
("švÍg %0" : : "m" (*(*)
addr
) : "memory");

558 
	}
}

560 
	#INVPCID_ADDR
 0

	)

561 
	#INVPCID_CTX
 1

	)

562 
	#INVPCID_CTXGLOB
 2

	)

563 
	#INVPCID_ALLCTX
 3

	)

565 
	sšvpcid_desü
 {

566 
ušt64_t
 
	mpcid
:12 
__·cked
;

567 
ušt64_t
 
	m·d
:52 
__·cked
;

568 
ušt64_t
 
	maddr
;

569 } 
	g__·cked
;

571 
__šlše
 

572 
	$švpcid
(
švpcid_desü
 *
d
, 
ty³
)

575 
__asm
 
	`__vÞ©že
("invpcid (%0),%1"

576 : : "r" (
d
), "r" ((
u_lÚg
)
ty³
) : "memory");

577 
	}
}

579 
__šlše
 
u_shÜt


580 
	$rfs
()

582 
u_shÜt
 
£l
;

583 
__asm
 
	`__vÞ©že
("movw %%fs,%0" : "ôm" (
£l
));

584  (
£l
);

585 
	}
}

587 
__šlše
 
u_shÜt


588 
	$rgs
()

590 
u_shÜt
 
£l
;

591 
__asm
 
	`__vÞ©že
("movw %%gs,%0" : "ôm" (
£l
));

592  (
£l
);

593 
	}
}

595 
__šlše
 
u_shÜt


596 
	$rss
()

598 
u_shÜt
 
£l
;

599 
__asm
 
	`__vÞ©že
("movw %%ss,%0" : "ôm" (
£l
));

600  (
£l
);

601 
	}
}

603 
__šlše
 

604 
	$lßd_ds
(
u_shÜt
 
£l
)

606 
__asm
 
	`__vÞ©že
("movw %0,%%ds" : : "rm" (
£l
));

607 
	}
}

609 
__šlše
 

610 
	$lßd_es
(
u_shÜt
 
£l
)

612 
__asm
 
	`__vÞ©že
("movw %0,%%es" : : "rm" (
£l
));

613 
	}
}

615 
__šlše
 

616 
	$ýu_mÚ™Ü
(cÚ¡ *
addr
, 
u_lÚg
 
ex‹nsiÚs
, 
u_št
 
hšts
)

619 
__asm
 
	`__vÞ©že
("monitor"

620 : : "a" (
addr
), "c" (
ex‹nsiÚs
), "d" (
hšts
));

621 
	}
}

623 
__šlše
 

624 
	$ýu_mwa™
(
u_lÚg
 
ex‹nsiÚs
, 
u_št
 
hšts
)

627 
__asm
 
	`__vÞ©že
("mwa™" : : "a" (
hšts
), "c" (
ex‹nsiÚs
));

628 
	}
}

630 #ifdeà
_KERNEL


632 #iâdef 
MSR_FSBASE


633 
	#MSR_FSBASE
 0xc0000100

	)

635 
__šlše
 

636 
	$lßd_fs
(
u_shÜt
 
£l
)

639 
__asm
 
	`__vÞ©že
("rdmsr; movw %0,%%fs; wrmsr"

640 : : "rm" (
£l
), "c" (
MSR_FSBASE
) : "eax", "edx");

641 
	}
}

643 #iâdef 
MSR_GSBASE


644 
	#MSR_GSBASE
 0xc0000101

	)

646 
__šlše
 

647 
	$lßd_gs
(
u_shÜt
 
£l
)

654 
__asm
 
	`__vÞ©že
("pushfq; cli;„dmsr; movw %0,%%gs; wrmsr;…opfq"

655 : : "rm" (
£l
), "c" (
MSR_GSBASE
) : "eax", "edx");

656 
	}
}

659 
__šlše
 

660 
	$lßd_fs
(
u_shÜt
 
£l
)

662 
__asm
 
	`__vÞ©že
("movw %0,%%fs" : : "rm" (
£l
));

663 
	}
}

665 
__šlše
 

666 
	$lßd_gs
(
u_shÜt
 
£l
)

668 
__asm
 
	`__vÞ©že
("movw %0,%%gs" : : "rm" (
£l
));

669 
	}
}

672 
__šlše
 
ušt64_t


673 
	$rdfsba£
()

675 
ušt64_t
 
x
;

677 
__asm
 
	`__vÞ©že
("rdfsba£ %0" : "ô" (
x
));

678  (
x
);

679 
	}
}

681 
__šlše
 

682 
	$wrfsba£
(
ušt64_t
 
x
)

685 
__asm
 
	`__vÞ©že
("wrfsba£ %0" : : "r" (
x
));

686 
	}
}

688 
__šlše
 
ušt64_t


689 
	$rdgsba£
()

691 
ušt64_t
 
x
;

693 
__asm
 
	`__vÞ©že
("rdgsba£ %0" : "ô" (
x
));

694  (
x
);

695 
	}
}

697 
__šlše
 

698 
	$wrgsba£
(
ušt64_t
 
x
)

701 
__asm
 
	`__vÞ©že
("wrgsba£ %0" : : "r" (
x
));

702 
	}
}

704 
__šlše
 

705 
	$b¬e_lgdt
(
»giÚ_desütÜ
 *
addr
)

707 
__asm
 
	`__vÞ©že
("lgdˆ(%0)" : : "r" (
addr
));

708 
	}
}

710 
__šlše
 

711 
	$sgdt
(
»giÚ_desütÜ
 *
addr
)

713 *
loc
;

715 
loc
 = (*)
addr
;

716 
__asm
 
	`__vÞ©že
("sgdˆ%0" : "=m" (*
loc
) : : "memory");

717 
	}
}

719 
__šlše
 

720 
	$lidt
(
»giÚ_desütÜ
 *
addr
)

722 
__asm
 
	`__vÞ©že
("lidˆ(%0)" : : "r" (
addr
));

723 
	}
}

725 
__šlše
 

726 
	$sidt
(
»giÚ_desütÜ
 *
addr
)

728 *
loc
;

730 
loc
 = (*)
addr
;

731 
__asm
 
	`__vÞ©že
("sidˆ%0" : "=m" (*
loc
) : : "memory");

732 
	}
}

734 
__šlše
 

735 
	$Îdt
(
u_shÜt
 
£l
)

737 
__asm
 
	`__vÞ©že
("Îdˆ%0" : : "r" (
£l
));

738 
	}
}

740 
__šlše
 
u_shÜt


741 
	$¦dt
()

743 
u_shÜt
 
£l
;

745 
__asm
 
	`__vÞ©že
("¦dˆ%0" : "ô" (
£l
));

746  (
£l
);

747 
	}
}

749 
__šlše
 

750 
	$Ér
(
u_shÜt
 
£l
)

752 
__asm
 
	`__vÞ©že
("É¸%0" : : "r" (
£l
));

753 
	}
}

755 
__šlše
 
ušt32_t


756 
	$»ad_Œ
()

758 
u_shÜt
 
£l
;

760 
__asm
 
	`__vÞ©že
("¡¸%0" : "ô" (
£l
));

761  (
£l
);

762 
	}
}

764 
__šlše
 
ušt64_t


765 
	$rdr0
()

767 
ušt64_t
 
d©a
;

768 
__asm
 
	`__vÞ©že
("movq %%dr0,%0" : "ô" (
d©a
));

769  (
d©a
);

770 
	}
}

772 
__šlše
 

773 
	$lßd_dr0
(
ušt64_t
 
dr0
)

775 
__asm
 
	`__vÞ©že
("movq %0,%%dr0" : : "r" (
dr0
));

776 
	}
}

778 
__šlše
 
ušt64_t


779 
	$rdr1
()

781 
ušt64_t
 
d©a
;

782 
__asm
 
	`__vÞ©že
("movq %%dr1,%0" : "ô" (
d©a
));

783  (
d©a
);

784 
	}
}

786 
__šlše
 

787 
	$lßd_dr1
(
ušt64_t
 
dr1
)

789 
__asm
 
	`__vÞ©že
("movq %0,%%dr1" : : "r" (
dr1
));

790 
	}
}

792 
__šlše
 
ušt64_t


793 
	$rdr2
()

795 
ušt64_t
 
d©a
;

796 
__asm
 
	`__vÞ©že
("movq %%dr2,%0" : "ô" (
d©a
));

797  (
d©a
);

798 
	}
}

800 
__šlše
 

801 
	$lßd_dr2
(
ušt64_t
 
dr2
)

803 
__asm
 
	`__vÞ©že
("movq %0,%%dr2" : : "r" (
dr2
));

804 
	}
}

806 
__šlše
 
ušt64_t


807 
	$rdr3
()

809 
ušt64_t
 
d©a
;

810 
__asm
 
	`__vÞ©že
("movq %%dr3,%0" : "ô" (
d©a
));

811  (
d©a
);

812 
	}
}

814 
__šlše
 

815 
	$lßd_dr3
(
ušt64_t
 
dr3
)

817 
__asm
 
	`__vÞ©že
("movq %0,%%dr3" : : "r" (
dr3
));

818 
	}
}

820 
__šlše
 
ušt64_t


821 
	$rdr6
()

823 
ušt64_t
 
d©a
;

824 
__asm
 
	`__vÞ©že
("movq %%dr6,%0" : "ô" (
d©a
));

825  (
d©a
);

826 
	}
}

828 
__šlše
 

829 
	$lßd_dr6
(
ušt64_t
 
dr6
)

831 
__asm
 
	`__vÞ©že
("movq %0,%%dr6" : : "r" (
dr6
));

832 
	}
}

834 
__šlše
 
ušt64_t


835 
	$rdr7
()

837 
ušt64_t
 
d©a
;

838 
__asm
 
	`__vÞ©že
("movq %%dr7,%0" : "ô" (
d©a
));

839  (
d©a
);

840 
	}
}

842 
__šlše
 

843 
	$lßd_dr7
(
ušt64_t
 
dr7
)

845 
__asm
 
	`__vÞ©že
("movq %0,%%dr7" : : "r" (
dr7
));

846 
	}
}

848 
__šlše
 
»gi¡”_t


849 
	$šŒ_di§bË
()

851 
»gi¡”_t
 
ræags
;

853 
ræags
 = 
	`»ad_ræags
();

854 
	`di§bË_šŒ
();

855  (
ræags
);

856 
	}
}

858 
__šlše
 

859 
	$šŒ_»¡Üe
(
»gi¡”_t
 
ræags
)

861 
	`wr™e_ræags
(
ræags
);

862 
	}
}

864 
__šlše
 

865 
	$¡ac
()

868 
__asm
 
	`__vÞ©že
("stac" : : : "cc");

869 
	}
}

871 
__šlše
 

872 
	$þac
()

875 
__asm
 
	`__vÞ©že
("clac" : : : "cc");

876 
	}
}

879 
	mSGX_ECREATE
 = 0x0,

880 
	mSGX_EADD
 = 0x1,

881 
	mSGX_EINIT
 = 0x2,

882 
	mSGX_EREMOVE
 = 0x3,

883 
	mSGX_EDGBRD
 = 0x4,

884 
	mSGX_EDGBWR
 = 0x5,

885 
	mSGX_EEXTEND
 = 0x6,

886 
	mSGX_ELDU
 = 0x8,

887 
	mSGX_EBLOCK
 = 0x9,

888 
	mSGX_EPA
 = 0xA,

889 
	mSGX_EWB
 = 0xB,

890 
	mSGX_ETRACK
 = 0xC,

894 
	mSGX_PT_SECS
 = 0x00,

895 
	mSGX_PT_TCS
 = 0x01,

896 
	mSGX_PT_REG
 = 0x02,

897 
	mSGX_PT_VA
 = 0x03,

898 
	mSGX_PT_TRIM
 = 0x04,

901 
sgx_’þs
(
ušt32_t
 
—x
, 
ušt64_t
 
rbx
, ušt64_ˆ
rcx
, ušt64_ˆ
rdx
);

903 
__šlše
 

904 
	$sgx_eü—‹
(*
pgšfo
, *
£cs
)

907  (
	`sgx_’þs
(
SGX_ECREATE
, (
ušt64_t
)
pgšfo
,

908 (
ušt64_t
)
£cs
, 0));

909 
	}
}

911 
__šlše
 

912 
	$sgx_—dd
(*
pgšfo
, *
•c
)

915  (
	`sgx_’þs
(
SGX_EADD
, (
ušt64_t
)
pgšfo
,

916 (
ušt64_t
)
•c
, 0));

917 
	}
}

919 
__šlše
 

920 
	$sgx_eš™
(*
sig¡ruù
, *
£cs
, *
eš™tok’
)

923  (
	`sgx_’þs
(
SGX_EINIT
, (
ušt64_t
)
sig¡ruù
,

924 (
ušt64_t
)
£cs
, (ušt64_t)
eš™tok’
));

925 
	}
}

927 
__šlše
 

928 
	$sgx_“x‹nd
(*
£cs
, *
•c
)

931  (
	`sgx_’þs
(
SGX_EEXTEND
, (
ušt64_t
)
£cs
,

932 (
ušt64_t
)
•c
, 0));

933 
	}
}

935 
__šlše
 

936 
	$sgx_•a
(*
•c
)

939  (
	`sgx_’þs
(
SGX_EPA
, 
SGX_PT_VA
, (
ušt64_t
)
•c
, 0));

940 
	}
}

942 
__šlše
 

943 
	$sgx_–du
(
ušt64_t
 
rbx
, ušt64_ˆ
rcx
,

944 
ušt64_t
 
rdx
)

947  (
	`sgx_’þs
(
SGX_ELDU
, 
rbx
, 
rcx
, 
rdx
));

948 
	}
}

950 
__šlše
 

951 
	$sgx_”emove
(*
•c
)

954  (
	`sgx_’þs
(
SGX_EREMOVE
, 0, (
ušt64_t
)
•c
, 0));

955 
	}
}

959 
b»akpošt
();

960 
u_št
 
bsæ
(u_šˆ
mask
);

961 
u_št
 
b¤l
(u_šˆ
mask
);

962 
þæush
(
u_lÚg
 
addr
);

963 
þts
();

964 
ýuid_couÁ
(
u_št
 
ax
, u_šˆ
cx
, u_šˆ*
p
);

965 
di§bË_šŒ
();

966 
do_ýuid
(
u_št
 
ax
, u_šˆ*
p
);

967 
’abË_šŒ
();

968 
h®t
();

969 
Ÿ32_·u£
();

970 
u_ch¬
 
šb
(
u_št
 
pÜt
);

971 
u_št
 
šl
(u_šˆ
pÜt
);

972 
šsb
(
u_št
 
pÜt
, *
addr
, 
size_t
 
couÁ
);

973 
š¦
(
u_št
 
pÜt
, *
addr
, 
size_t
 
couÁ
);

974 
šsw
(
u_št
 
pÜt
, *
addr
, 
size_t
 
couÁ
);

975 
»gi¡”_t
 
šŒ_di§bË
();

976 
šŒ_»¡Üe
(
»gi¡”_t
 
rf
);

977 
švd
();

978 
švÍg
(
u_št
 
addr
);

979 
švÉlb
();

980 
u_shÜt
 
šw
(
u_št
 
pÜt
);

981 
lidt
(
»giÚ_desütÜ
 *
addr
);

982 
Îdt
(
u_shÜt
 
£l
);

983 
lßd_ü0
(
u_lÚg
 
ü0
);

984 
lßd_ü3
(
u_lÚg
 
ü3
);

985 
lßd_ü4
(
u_lÚg
 
ü4
);

986 
lßd_dr0
(
ušt64_t
 
dr0
);

987 
lßd_dr1
(
ušt64_t
 
dr1
);

988 
lßd_dr2
(
ušt64_t
 
dr2
);

989 
lßd_dr3
(
ušt64_t
 
dr3
);

990 
lßd_dr6
(
ušt64_t
 
dr6
);

991 
lßd_dr7
(
ušt64_t
 
dr7
);

992 
lßd_fs
(
u_shÜt
 
£l
);

993 
lßd_gs
(
u_shÜt
 
£l
);

994 
Ér
(
u_shÜt
 
£l
);

995 
outb
(
u_št
 
pÜt
, 
u_ch¬
 
d©a
);

996 
ouŽ
(
u_št
 
pÜt
, u_šˆ
d©a
);

997 
outsb
(
u_št
 
pÜt
, cÚ¡ *
addr
, 
size_t
 
couÁ
);

998 
out¦
(
u_št
 
pÜt
, cÚ¡ *
addr
, 
size_t
 
couÁ
);

999 
outsw
(
u_št
 
pÜt
, cÚ¡ *
addr
, 
size_t
 
couÁ
);

1000 
outw
(
u_št
 
pÜt
, 
u_shÜt
 
d©a
);

1001 
u_lÚg
 
rü0
();

1002 
u_lÚg
 
rü2
();

1003 
u_lÚg
 
rü3
();

1004 
u_lÚg
 
rü4
();

1005 
ušt64_t
 
rdm¤
(
u_št
 
m¤
);

1006 
ušt32_t
 
rdm¤32
(
u_št
 
m¤
);

1007 
ušt64_t
 
rdpmc
(
u_št
 
pmc
);

1008 
ušt64_t
 
rdr0
();

1009 
ušt64_t
 
rdr1
();

1010 
ušt64_t
 
rdr2
();

1011 
ušt64_t
 
rdr3
();

1012 
ušt64_t
 
rdr6
();

1013 
ušt64_t
 
rdr7
();

1014 
ušt64_t
 
rdtsc
();

1015 
u_lÚg
 
»ad_ræags
();

1016 
u_št
 
rfs
();

1017 
u_št
 
rgs
();

1018 
wbšvd
();

1019 
wr™e_ræags
(
u_št
 
rf
);

1020 
wrm¤
(
u_št
 
m¤
, 
ušt64_t
 
Ãwv®
);

1024 
»£t_db»gs
();

1026 #ifdeà
_KERNEL


1027 
rdm¤_§ã
(
u_št
 
m¤
, 
ušt64_t
 *
v®
);

1028 
wrm¤_§ã
(
u_št
 
m¤
, 
ušt64_t
 
Ãwv®
);

	@src/nvidia-drm/machine/cputypes.h

6 
	~<x86/ýuty³s.h
>

	@src/nvidia-drm/machine/db_machdep.h

29 #iâdeà
_MACHINE_DB_MACHDEP_H_


30 
	#_MACHINE_DB_MACHDEP_H_


	)

32 
	~<machše/äame.h
>

33 
	~<machše/»g.h
>

34 
	~<machše/Œ­.h
>

36 
vm_off£t_t
 
	tdb_addr_t
;

37 
	tdb_ex´_t
;

39 
	#PC_REGS
(è((
db_addr_t
)
kdb_thrùx
->
pcb_r
)

	)

41 
	#BKPT_INST
 0xcø

	)

42 
	#BKPT_SIZE
 (1è

	)

43 
	#BKPT_SET
(
š¡
è(
BKPT_INST
)

	)

45 
	#BKPT_SKIP
 \

47 
kdb_äame
->
tf_r
 += 1; \

48 
kdb_thrùx
->
pcb_r
 += 1; \

49 } 0)

	)

51 
	#FIXUP_PC_AFTER_BREAK
 \

53 
kdb_äame
->
tf_r
 -= 1; \

54 
kdb_thrùx
->
pcb_r
 -= 1; \

55 } 0);

	)

57 
	#db_þ—r_sšgË_¡•
 
kdb_ýu_þ—r_sšgË¡•


	)

58 
	#db_£t_sšgË_¡•
 
kdb_ýu_£t_sšgË¡•


	)

67 
	#IS_BREAKPOINT_TRAP
(
ty³
, 
code
è(Ñy³è=ð
T_BPTFLT
)

	)

68 
	#IS_SSTEP_TRAP
(
ty³
, 
code
) \

69 ((
ty³
è=ð
T_TRCTRAP
 && (
code
è& 
DBREG_DR6_BS
)

	)

70 
	#IS_WATCHPOINT_TRAP
(
ty³
, 
code
è0

	)

72 
	#I_CALL
 0xe8

	)

73 
	#I_CALLI
 0xff

	)

74 
	#i_ÿÎi
(
šs
è(((šs)&0xffè=ð
I_CALLI
 && ((šs)&0x3800è=ð0x1000)

	)

75 
	#I_RET
 0xc3

	)

76 
	#I_IRET
 0xcf

	)

77 
	#i_»x
(
šs
è(((šsè& 0xffè=ð0x41 || ((šsè& 0xffè=ð0x43)

	)

79 
	#š¡_Œ­_»tuº
(
šs
è(((šs)&0xffè=ð
I_IRET
)

	)

80 
	#š¡_»tuº
(
šs
è(((šs)&0xffè=ð
I_RET
)

	)

81 
	#š¡_ÿÎ
(
šs
è(((šs)&0xffè=ð
I_CALL
 || 
	`i_ÿÎi
(ins) || \

82 (
	`i_ÿÎi
((
šs
è>> 8è&& 
	`i_»x
(šs)))

	)

83 
	#š¡_lßd
(
šs
è0

	)

84 
	#š¡_¡Üe
(
šs
è0

	)

	@src/nvidia-drm/machine/dump.h

6 
	~<x86/dump.h
>

	@src/nvidia-drm/machine/efi.h

32 #iâdeà
__AMD64_INCLUDE_EFI_H_


33 
	#__AMD64_INCLUDE_EFI_H_


	)

43 #ià
defšed
(
__þªg__
è|| defšed(
__GNUC__
) && \

44 (
	g__GNUC__
 > 4 || __GNUC__ =ð4 && 
__GNUC_MINOR__
 >= 4)

45 
	#EFIABI_ATTR
 
	`__©Œibu‹__
((
ms_abi
))

	)

48 #ifdeà
_KERNEL


49 
	~<i§/¹c.h
>

51 
	#EFI_TIME_LOCK
(è
	`mtx_lock
(&
©¹c_time_lock
)

	)

52 
	#EFI_TIME_UNLOCK
(è
	`mtx_uÆock
(&
©¹c_time_lock
)

	)

53 
	#EFI_TIME_OWNED
(è
	`mtx_as£¹
(&
©¹c_time_lock
, 
MA_OWNED
)

	)

55 
	#EFI_RT_HANDLE_FAULTS_DEFAULT
 1

	)

58 
	sefœt_ÿÎšfo
 {

59 cÚ¡ *
	mec_Çme
;

60 
»gi¡”_t
 
	mec_efi_¡©us
;

61 
»gi¡”_t
 
	mec_åŒ
;

62 
»gi¡”_t
 
	mec_¬gút
;

63 
»gi¡”_t
 
	mec_¬g1
;

64 
»gi¡”_t
 
	mec_¬g2
;

65 
»gi¡”_t
 
	mec_¬g3
;

66 
»gi¡”_t
 
	mec_¬g4
;

67 
»gi¡”_t
 
	mec_¬g5
;

68 
»gi¡”_t
 
	mec_rbx
;

69 
»gi¡”_t
 
	mec_r¥
;

70 
»gi¡”_t
 
	mec_rbp
;

71 
»gi¡”_t
 
	mec_r12
;

72 
»gi¡”_t
 
	mec_r13
;

73 
»gi¡”_t
 
	mec_r14
;

74 
»gi¡”_t
 
	mec_r15
;

	@src/nvidia-drm/machine/elf.h

6 
	~<x86/–f.h
>

	@src/nvidia-drm/machine/endian.h

6 
	~<x86/’dŸn.h
>

	@src/nvidia-drm/machine/exec.h

35 #iâdef 
_MACHINE_EXEC_H_


36 
	#_MACHINE_EXEC_H_


	)

38 
	#__LDPGSZ
 4096

	)

	@src/nvidia-drm/machine/fdt.h

6 
	~<x86/fdt.h
>

	@src/nvidia-drm/machine/float.h

6 
	~<x86/æßt.h
>

	@src/nvidia-drm/machine/floatingpoint.h

39 #iâdeà
_FLOATINGPOINT_H_


40 
	#_FLOATINGPOINT_H_


	)

42 
	~<sys/cdefs.h
>

43 
	~<machše/›“å.h
>

	@src/nvidia-drm/machine/fpu.h

43 #iâdeà
_MACHINE_FPU_H_


44 
	#_MACHINE_FPU_H_


	)

46 
	~<x86/åu.h
>

48 #ifdeà
_KERNEL


50 
	gåu_k”n_ùx
;

52 
	#PCB_USER_FPU
(
pcb
è((Õcb)->
pcb_æags
 & 
PCB_KERNFPU
è=ð0)

	)

54 
	#XSAVE_AREA_ALIGN
 64

	)

56 
åudÇ
();

57 
åudrÝ
();

58 
åuex™
(
th»ad
 *
td
);

59 
åufÜm©
();

60 
åug‘»gs
(
th»ad
 *
td
);

61 
åuš™
();

62 
åu»¡Üe
(*
addr
);

63 
åu»sume
(*
addr
);

64 
åu§ve
(*
addr
);

65 
åu£Œegs
(
th»ad
 *
td
, 
§veåu
 *
addr
,

66 *
xåu¡©e
, 
size_t
 
xåu¡©e_size
);

67 
åu£tx¡©e
(
th»ad
 *
td
, *
xåu¡©e
,

68 
size_t
 
xåu¡©e_size
);

69 
åusu¥’d
(*
addr
);

70 
åuŒ­_s£
();

71 
åuŒ­_x87
();

72 
åuu£rš™ed
(
th»ad
 *
td
);

73 
åu_k”n_ùx
 *
åu_k”n_®loc_ùx
(
u_št
 
æags
);

74 
åu_k”n_ä“_ùx
(
åu_k”n_ùx
 *
ùx
);

75 
åu_k”n_’‹r
(
th»ad
 *
td
, 
åu_k”n_ùx
 *
ùx
,

76 
u_št
 
æags
);

77 
åu_k”n_Ëave
(
th»ad
 *
td
, 
åu_k”n_ùx
 *
ùx
);

78 
åu_k”n_th»ad
(
u_št
 
æags
);

79 
is_åu_k”n_th»ad
(
u_št
 
æags
);

81 
§veåu
 *
åu_§ve_¬—_®loc
();

82 
åu_§ve_¬—_ä“
(
§veåu
 *
f§
);

83 
åu_§ve_¬—_»£t
(
§veåu
 *
f§
);

88 
	#FPU_KERN_NORMAL
 0x0000

	)

89 
	#FPU_KERN_NOWAIT
 0x0001

	)

90 
	#FPU_KERN_KTHR
 0x0002

	)

91 
	#FPU_KERN_NOCTX
 0x0004

	)

	@src/nvidia-drm/machine/frame.h

34 #iâdef 
_AMD64_FRAME_H


35 
	#_AMD64_FRAME_H


	)

37 
	~<x86/äame.h
>

39 
	s±i_äame
 {

40 
»gi¡”_t
 
	m±i_rdx
;

41 
»gi¡”_t
 
	m±i_¿x
;

42 
»gi¡”_t
 
	m±i_”r
;

43 
»gi¡”_t
 
	m±i_r
;

44 
»gi¡”_t
 
	m±i_cs
;

45 
»gi¡”_t
 
	m±i_ræags
;

46 
»gi¡”_t
 
	m±i_r¥
;

47 
»gi¡”_t
 
	m±i_ss
;

	@src/nvidia-drm/machine/gdb_machdep.h

31 #iâdeà
_MACHINE_GDB_MACHDEP_H_


32 
	#_MACHINE_GDB_MACHDEP_H_


	)

34 
	#GDB_BUFSZ
 (
GDB_NREGS
 * 16)

	)

35 
	#GDB_NREGS
 56

	)

36 
	#GDB_REG_PC
 16

	)

38 
__šlše
 
size_t


39 
	$gdb_ýu_»gsz
(
»gnum
)

41  ((
»gnum
 > 16 &&„egnum < 24) ? 4 : 8);

42 
	}
}

44 
__šlše
 

45 
	$gdb_ýu_qu”y
()

48 
	}
}

50 *
gdb_begš_wr™e
();

51 *
gdb_ýu_g‘»g
(, 
size_t
 *);

52 
gdb_ýu_£Œeg
(, *);

53 
gdb_ýu_sigÇl
(, );

54 
gdb_’d_wr™e
(*);

	@src/nvidia-drm/machine/ieeefp.h

40 #iâdeà
_MACHINE_IEEEFP_H_


41 
	#_MACHINE_IEEEFP_H_


	)

50 #iâdeà
_SYS_CDEFS_H_


51 #”rÜ 
this
 
fže
 
Ãeds
 
sys
/
cdefs
.
h
 
as
 
a
 
´”equis™e


58 
	mFP_RN
=0,

59 
	mFP_RM
,

60 
	mFP_RP
,

61 
	mFP_RZ


62 } 
	tå_ºd_t
;

68 
	mFP_PS
=0,

69 
	mFP_PRS
,

70 
	mFP_PD
,

71 
	mFP_PE


72 } 
	tå_´ec_t
;

74 
	#å_exû±_t
 

	)

79 
	#FP_X_INV
 0x01

	)

80 
	#FP_X_DNML
 0x02

	)

81 
	#FP_X_DZ
 0x04

	)

82 
	#FP_X_OFL
 0x08

	)

83 
	#FP_X_UFL
 0x10

	)

84 
	#FP_X_IMP
 0x20

	)

85 
	#FP_X_STK
 0x40

	)

90 
	#FP_MSKS_FLD
 0x3à

	)

91 
	#FP_PRC_FLD
 0x300

	)

92 
	#FP_RND_FLD
 0xc00

	)

97 
	#FP_STKY_FLD
 0x3à

	)

102 
	#SSE_STKY_FLD
 0x3à

	)

103 
	#SSE_DAZ_FLD
 0x40

	)

104 
	#SSE_MSKS_FLD
 0x1f80

	)

105 
	#SSE_RND_FLD
 0x6000

	)

106 
	#SSE_FZ_FLD
 0x8000

	)

111 
	#FP_MSKS_OFF
 0

	)

112 
	#FP_PRC_OFF
 8

	)

113 
	#FP_RND_OFF
 10

	)

118 
	#FP_STKY_OFF
 0

	)

123 
	#SSE_STKY_OFF
 0

	)

124 
	#SSE_DAZ_OFF
 6

	)

125 
	#SSE_MSKS_OFF
 7

	)

126 
	#SSE_RND_OFF
 13

	)

127 
	#SSE_FZ_OFF
 15

	)

129 #ifdeà
__GNUCLIKE_ASM


131 
	#__ædcw
(
addr
è
__asm
 
	`__vÞ©že
("ædcw %0" : : "m" (*×ddr)))

	)

132 
	#__æd’v
(
addr
è
__asm
 
	`__vÞ©že
("æd’v %0" : : "m" (*×ddr)))

	)

133 
	#__âþex
(è
__asm
 
	`__vÞ©že
("âþex")

	)

134 
	#__â¡cw
(
addr
è
__asm
 
	`__vÞ©že
("â¡cw %0" : "=m" (*×ddr)))

	)

135 
	#__â¡’v
(
addr
è
__asm
 
	`__vÞ©že
("â¡’v %0" : "=m" (*×ddr)))

	)

136 
	#__â¡sw
(
addr
è
__asm
 
	`__vÞ©že
("â¡sw %0" : "=m" (*×ddr)))

	)

137 
	#__ldmxc¤
(
addr
è
__asm
 
	`__vÞ©že
("ldmxc¤ %0" : : "m" (*×ddr)))

	)

138 
	#__¡mxc¤
(
addr
è
__asm
 
	`__vÞ©že
("¡mxc¤ %0" : "=m" (*×ddr)))

	)

147 
__šlše
 

148 
	$__âldcw
(
_cw
, 
_Ãwcw
)

151 
_cw
;

152 
_Ùh”
[6];

153 } 
_’v
;

154 
_sw
;

156 ià((
_cw
 & 
FP_MSKS_FLD
) != FP_MSKS_FLD) {

157 
	`__â¡sw
(&
_sw
);

158 ià(((
_sw
 & ~
_cw
è& 
FP_STKY_FLD
) != 0) {

159 
	`__â¡’v
(&
_’v
);

160 
_’v
.
_cw
 = 
_Ãwcw
;

161 
	`__æd’v
(&
_’v
);

165 
	`__ædcw
(&
_Ãwcw
);

166 
	}
}

179 
__šlše
 
å_ºd_t


180 
	$__åg‘round
()

182 
_cw
;

184 
	`__â¡cw
(&
_cw
);

185  ((
å_ºd_t
)((
_cw
 & 
FP_RND_FLD
è>> 
FP_RND_OFF
));

186 
	}
}

188 
__šlše
 
å_ºd_t


189 
	$__å£Œound
(
å_ºd_t
 
_m
)

191 
å_ºd_t
 
_p
;

192 
_mxc¤
;

193 
_cw
, 
_Ãwcw
;

195 
	`__â¡cw
(&
_cw
);

196 
_p
 = (
å_ºd_t
)((
_cw
 & 
FP_RND_FLD
è>> 
FP_RND_OFF
);

197 
_Ãwcw
 = 
_cw
 & ~
FP_RND_FLD
;

198 
_Ãwcw
 |ð(
_m
 << 
FP_RND_OFF
è& 
FP_RND_FLD
;

199 
	`__âldcw
(
_cw
, 
_Ãwcw
);

200 
	`__¡mxc¤
(&
_mxc¤
);

201 
_mxc¤
 &ð~
SSE_RND_FLD
;

202 
_mxc¤
 |ð(
_m
 << 
SSE_RND_OFF
è& 
SSE_RND_FLD
;

203 
	`__ldmxc¤
(&
_mxc¤
);

204  (
_p
);

205 
	}
}

212 
__šlše
 
å_´ec_t


213 
	$__åg‘´ec
()

215 
_cw
;

217 
	`__â¡cw
(&
_cw
);

218  ((
å_´ec_t
)((
_cw
 & 
FP_PRC_FLD
è>> 
FP_PRC_OFF
));

219 
	}
}

221 
__šlše
 
å_´ec_t


222 
	$__å£»c
(
å_´ec_t
 
_m
)

224 
å_´ec_t
 
_p
;

225 
_cw
, 
_Ãwcw
;

227 
	`__â¡cw
(&
_cw
);

228 
_p
 = (
å_´ec_t
)((
_cw
 & 
FP_PRC_FLD
è>> 
FP_PRC_OFF
);

229 
_Ãwcw
 = 
_cw
 & ~
FP_PRC_FLD
;

230 
_Ãwcw
 |ð(
_m
 << 
FP_PRC_OFF
è& 
FP_PRC_FLD
;

231 
	`__âldcw
(
_cw
, 
_Ãwcw
);

232  (
_p
);

233 
	}
}

241 
__šlše
 
å_exû±_t


242 
	$__åg‘mask
()

244 
_cw
;

246 
	`__â¡cw
(&
_cw
);

247  ((~
_cw
 & 
FP_MSKS_FLD
è>> 
FP_MSKS_OFF
);

248 
	}
}

250 
__šlše
 
å_exû±_t


251 
	$__å£tmask
(
å_exû±_t
 
_m
)

253 
å_exû±_t
 
_p
;

254 
_mxc¤
;

255 
_cw
, 
_Ãwcw
;

257 
	`__â¡cw
(&
_cw
);

258 
_p
 = (~
_cw
 & 
FP_MSKS_FLD
è>> 
FP_MSKS_OFF
;

259 
_Ãwcw
 = 
_cw
 & ~
FP_MSKS_FLD
;

260 
_Ãwcw
 |ð(~
_m
 << 
FP_MSKS_OFF
è& 
FP_MSKS_FLD
;

261 
	`__âldcw
(
_cw
, 
_Ãwcw
);

262 
	`__¡mxc¤
(&
_mxc¤
);

264 
_mxc¤
 &ð~
SSE_MSKS_FLD
;

265 
_mxc¤
 |ð(~
_m
 << 
SSE_MSKS_OFF
è& 
SSE_MSKS_FLD
;

266 
	`__ldmxc¤
(&
_mxc¤
);

267  (
_p
);

268 
	}
}

270 
__šlše
 
å_exû±_t


271 
	$__åg‘¡icky
()

273 
_ex
, 
_mxc¤
;

274 
_sw
;

276 
	`__â¡sw
(&
_sw
);

277 
_ex
 = (
_sw
 & 
FP_STKY_FLD
è>> 
FP_STKY_OFF
;

278 
	`__¡mxc¤
(&
_mxc¤
);

279 
_ex
 |ð(
_mxc¤
 & 
SSE_STKY_FLD
è>> 
SSE_STKY_OFF
;

280  ((
å_exû±_t
)
_ex
);

281 
	}
}

285 #ià!
defšed
(
__IEEEFP_NOINLINES__
è&& defšed(
__GNUCLIKE_ASM
)

287 
	#åg‘mask
(è
	`__åg‘mask
()

	)

288 
	#åg‘´ec
(è
	`__åg‘´ec
()

	)

289 
	#åg‘round
(è
	`__åg‘round
()

	)

290 
	#åg‘¡icky
(è
	`__åg‘¡icky
()

	)

291 
	#å£tmask
(
m
è
	`__å£tmask
(m)

	)

292 
	#å£»c
(
m
è
	`__å£»c
(m)

	)

293 
	#å£Œound
(
m
è
	`__å£Œound
(m)

	)

298 
__BEGIN_DECLS


299 
å_ºd_t
 
åg‘round
();

300 
å_ºd_t
 
å£Œound
(fp_rnd_t);

301 
å_exû±_t
 
åg‘mask
();

302 
å_exû±_t
 
å£tmask
(fp_except_t);

303 
å_exû±_t
 
åg‘¡icky
();

304 
å_exû±_t
 
å£t¡icky
(fp_except_t);

305 
å_´ec_t
 
åg‘´ec
();

306 
å_´ec_t
 
å£»c
(fp_prec_t);

307 
	g__END_DECLS


	@src/nvidia-drm/machine/in_cksum.h

37 #iâdeà
_MACHINE_IN_CKSUM_H_


38 
	#_MACHINE_IN_CKSUM_H_
 1

	)

40 #iâdeà
_SYS_CDEFS_H_


41 #”rÜ 
this
 
fže
 
Ãeds
 
sys
/
cdefs
.
h
 
as
 
a
 
´”equis™e


44 
	~<sys/cdefs.h
>

46 
	#š_cksum
(
m
, 
Ën
è
	`š_cksum_sk
(m,†’, 0)

	)

48 #ià
defšed
(
IPVERSION
) && (IPVERSION == 4)

55 #ifdeà
__CC_SUPPORTS___INLINE


57 
__šlše
 

58 
	$š_cksum_upd©e
(

 *ip)

60 
__tmpsum
;

61 
__tmpsum
 = ()
	`Áohs
(

->
_sum
) + 256;

62 

->
_sum
 = 
	`htÚs
(
__tmpsum
 + (__tmpsum >> 16));

63 
	}
}

67 
	#š_cksum_upd©e
(

) \

69 
__tmpsum
; \

70 
__tmpsum
 = ()
	`Áohs
(

->
_sum
) + 256; \

71 

->
_sum
 = 
	`htÚs
(
__tmpsum
 + (__tmpsum >> 16)); \

72 } 0)

	)

77 #ifdeà
_KERNEL


78 #ià
defšed
(
IPVERSION
) && (IPVERSION == 4)

79 
u_št
 
š_cksum_hdr
(cÚ¡ 

 *ip);

81 
u_shÜt
 
š_addwÜd
(u_shÜˆ
sum
, u_shÜˆ
b
);

82 
u_shÜt
 
š_p£udo
(
u_št
 
sum
, u_šˆ
b
, u_šˆ
c
);

83 
u_shÜt
 
š_cksum_sk
(
mbuf
 *
m
, 
Ën
, 
sk
);

	@src/nvidia-drm/machine/intr_machdep.h

31 #iâdeà
__MACHINE_INTR_MACHDEP_H__


32 
	#__MACHINE_INTR_MACHDEP_H__


	)

34 
	~<x86/šŒ_machd•.h
>

40 
	snmi_pýu
 {

41 
»gi¡”_t
 
	mÅ_pýu
;

42 
»gi¡”_t
 
	m__·ddšg
;

	@src/nvidia-drm/machine/iodev.h

30 #iâdeà
_MACHINE_IODEV_H_


31 
	#_MACHINE_IODEV_H_


	)

33 #ifdeà
_KERNEL


34 
	~<machše/ýufunc.h
>

36 
	#iodev_»ad_1
 
šb


	)

37 
	#iodev_»ad_2
 
šw


	)

38 
	#iodev_»ad_4
 
šl


	)

39 
	#iodev_wr™e_1
 
outb


	)

40 
	#iodev_wr™e_2
 
outw


	)

41 
	#iodev_wr™e_4
 
ouŽ


	)

43 
iodev_Ý’
(
th»ad
 *
td
);

44 
iodev_þo£
(
th»ad
 *
td
);

45 
iodev_ioùl
(
u_lÚg
 
cmd
, 
ÿddr_t
 
d©a
);

	@src/nvidia-drm/machine/kdb.h

31 #iâdeà
_MACHINE_KDB_H_


32 
	#_MACHINE_KDB_H_


	)

34 
	~<machše/äame.h
>

35 
	~<machše/p¦.h
>

37 
	#KDB_STOPPEDPCB
(
pc
è&
¡Ýpcbs
[pc->
pc_ýuid
]

	)

39 
__šlše
 

40 
	$kdb_ýu_þ—r_sšgË¡•
()

42 
kdb_äame
->
tf_ræags
 &ð~
PSL_T
;

43 
	}
}

45 
__šlše
 

46 
	$kdb_ýu_£t_sšgË¡•
()

48 
kdb_äame
->
tf_ræags
 |ð
PSL_T
;

49 
	}
}

51 
__šlše
 

52 
	$kdb_ýu_sync_iÿche
(*
addr
, 
size_t
 
size
)

54 
	}
}

56 
__šlše
 

57 
	$kdb_ýu_Œ­
(
ty³
, 
code
)

59 
	}
}

	@src/nvidia-drm/machine/limits.h

35 #iâdeà
_MACHINE_LIMITS_H_


36 
	#_MACHINE_LIMITS_H_


	)

38 
	~<sys/cdefs.h
>

40 #ifdeà
__CC_SUPPORTS_WARNING


44 
	~<sys/lim™s.h
>

	@src/nvidia-drm/machine/md_var.h

34 #iâdeà
_MACHINE_MD_VAR_H_


35 
	#_MACHINE_MD_VAR_H_


	)

37 
	~<x86/x86_v¬.h
>

39 
ušt64_t
 *
vm_·ge_dump
;

40 
hw_low”_amd64_sh¬ed·ge
;

41 
hw_ibrs_di§bË
;

42 
hw_ssb_di§bË
;

43 
nmi_æush_l1d_sw
;

45 
vm_·ddr_t
 
š‹l_g¿phics_¡Þ’_ba£
;

46 
vm_·ddr_t
 
š‹l_g¿phics_¡Þ’_size
;

52 
k”Åhys
[];

54 
	g§veåu
;

55 
	gsy£Ávec
;

57 
amd64_cÚf_ç¡_sysÿÎ
();

58 
amd64_db_»sume_db»g
();

59 
amd64_low”_sh¬ed_·ge
(
sy£Ávec
 *);

60 
amd64_sysÿÎ
(
th»ad
 *
td
, 
Œaûd
);

61 
	$dÜ‘i_œ‘
(è
	`__asm
(
	`__STRING
(
dÜ‘i_œ‘
));

62 
	$dÜ‘i_œ‘_çuÉ
(è
	`__asm
(
	`__STRING
(
dÜ‘i_œ‘_çuÉ
));

63 
	$ld_ds
(è
	`__asm
(
	`__STRING
(
ld_ds
));

64 
	$ld_es
(è
	`__asm
(
	`__STRING
(
ld_es
));

65 
	$ld_fs
(è
	`__asm
(
	`__STRING
(
ld_fs
));

66 
	$ld_gs
(è
	`__asm
(
	`__STRING
(
ld_gs
));

67 
	$ld_fsba£
(è
	`__asm
(
	`__STRING
(
ld_fsba£
));

68 
	$ld_gsba£
(è
	`__asm
(
	`__STRING
(
ld_gsba£
));

69 
	$ds_lßd_çuÉ
(è
	`__asm
(
	`__STRING
(
ds_lßd_çuÉ
));

70 
	$es_lßd_çuÉ
(è
	`__asm
(
	`__STRING
(
es_lßd_çuÉ
));

71 
	$fs_lßd_çuÉ
(è
	`__asm
(
	`__STRING
(
fs_lßd_çuÉ
));

72 
	$gs_lßd_çuÉ
(è
	`__asm
(
	`__STRING
(
gs_lßd_çuÉ
));

73 
	$fsba£_lßd_çuÉ
(è
	`__asm
(
	`__STRING
(
fsba£_lßd_çuÉ
));

74 
	$gsba£_lßd_çuÉ
(è
	`__asm
(
	`__STRING
(
gsba£_lßd_çuÉ
));

75 
	`å¡©e_drÝ
(
th»ad
 *
td
);

76 
	`·gez”o
(*
addr
);

77 
	`£tidt
(
idx
, 
®Ÿs_fÜ_šthªd_t
 *
func
, 
typ
, 
d¶
, 
i¡
);

78 
	`s£2_·gez”o
(*
addr
);

79 
§veåu
 *
	`g‘_pcb_u£r_§ve_td
(
th»ad
 *
td
);

80 
§veåu
 *
	`g‘_pcb_u£r_§ve_pcb
(
pcb
 *pcb);

81 
	`pci_—¾y_quœks
();

	@src/nvidia-drm/machine/memdev.h

31 #iâdeà
_MACHINE_MEMDEV_H_


32 
	#_MACHINE_MEMDEV_H_


	)

34 
	#CDEV_MINOR_MEM
 0

	)

35 
	#CDEV_MINOR_KMEM
 1

	)

37 
d_Ý’_t
 
	gmemÝ’
;

38 
d_»ad_t
 
	gmemrw
;

39 
d_ioùl_t
 
	gmemioùl
;

40 
d_mm­_t
 
	gmemmm­
;

	@src/nvidia-drm/machine/metadata.h

6 
	~<x86/m‘ad©a.h
>

	@src/nvidia-drm/machine/minidump.h

31 #iâdef 
_MACHINE_MINIDUMP_H_


32 
	#_MACHINE_MINIDUMP_H_
 1

	)

34 
	#MINIDUMP_MAGIC
 "mšidum°F»eBSD/amd64"

	)

35 
	#MINIDUMP_VERSION
 2

	)

37 
	smšidumphdr
 {

38 
	mmagic
[24];

39 
ušt32_t
 
	mv”siÚ
;

40 
ušt32_t
 
	mmsgbufsize
;

41 
ušt32_t
 
	mb™m­size
;

42 
ušt32_t
 
	mpm­size
;

43 
ušt64_t
 
	mk”nba£
;

44 
ušt64_t
 
	mdm­ba£
;

45 
ušt64_t
 
	mdm­’d
;

	@src/nvidia-drm/machine/mp_watchdog.h

31 #iâdef 
_MACHINE_MP_WATCHDOG_H_


32 
	#_MACHINE_MP_WATCHDOG_H_


	)

34 
­_w©chdog
(
u_št
 
ýuid
);

	@src/nvidia-drm/machine/nexusvar.h

32 #iâdeà
_MACHINE_NEXUSVAR_H_


33 
	#_MACHINE_NEXUSVAR_H_


	)

35 
	sÃxus_deviû
 {

36 
»sourû_li¡
 
	mnx_»sourûs
;

39 
DECLARE_CLASS
(
Ãxus_driv”
);

41 
rmª
 
œq_rmª
, 
drq_rmª
, 
pÜt_rmª
, 
mem_rmª
;

43 
Ãxus_š™_»sourûs
();

	@src/nvidia-drm/machine/npx.h

6 
	~<x86/åu.h
>

	@src/nvidia-drm/machine/ofw_machdep.h

6 
	~<x86/ofw_machd•.h
>

	@src/nvidia-drm/machine/param.h

45 #iâdeà
_AMD64_INCLUDE_PARAM_H_


46 
	#_AMD64_INCLUDE_PARAM_H_


	)

48 
	~<machše/_®ign.h
>

55 
	#__HAVE_ACPI


	)

56 
	#__PCI_REROUTE_INTERRUPT


	)

58 #iâdeà
MACHINE


59 
	#MACHINE
 "amd64"

	)

61 #iâdeà
MACHINE_ARCH


62 
	#MACHINE_ARCH
 "amd64"

	)

64 #iâdeà
MACHINE_ARCH32


65 
	#MACHINE_ARCH32
 "i386"

	)

68 #ià
defšed
(
SMP
è|| defšed(
KLD_MODULE
)

69 #iâdeà
MAXCPU


70 
	#MAXCPU
 256

	)

73 
	#MAXCPU
 1

	)

76 #iâdeà
MAXMEMDOM


77 
	#MAXMEMDOM
 8

	)

80 
	#ALIGNBYTES
 
_ALIGNBYTES


	)

81 
	#ALIGN
(
p
è
	`_ALIGN
Õ)

	)

88 
	#ALIGNED_POINTER
(
p
, 
t
è1

	)

94 
	#CACHE_LINE_SHIFT
 6

	)

95 
	#CACHE_LINE_SIZE
 (1 << 
CACHE_LINE_SHIFT
)

	)

98 
	#NPTEPG
 (
PAGE_SIZE
/( (
±_’Œy_t
)))

	)

99 
	#NPTEPGSHIFT
 9

	)

100 
	#PAGE_SHIFT
 12

	)

101 
	#PAGE_SIZE
 (1<<
PAGE_SHIFT
è

	)

102 
	#PAGE_MASK
 (
PAGE_SIZE
-1)

	)

104 
	#NPDEPG
 (
PAGE_SIZE
/( (
pd_’Œy_t
)))

	)

105 
	#NPDEPGSHIFT
 9

	)

106 
	#PDRSHIFT
 21

	)

107 
	#NBPDR
 (1<<
PDRSHIFT
è

	)

108 
	#PDRMASK
 (
NBPDR
-1)

	)

110 
	#NPDPEPG
 (
PAGE_SIZE
/( (
pdp_’Œy_t
)))

	)

111 
	#NPDPEPGSHIFT
 9

	)

112 
	#PDPSHIFT
 30

	)

113 
	#NBPDP
 (1<<
PDPSHIFT
è

	)

114 
	#PDPMASK
 (
NBPDP
-1)

	)

116 
	#NPML4EPG
 (
PAGE_SIZE
/( (
pml4_’Œy_t
)))

	)

117 
	#NPML4EPGSHIFT
 9

	)

118 
	#PML4SHIFT
 39

	)

119 
	#NBPML4
 (1UL<<
PML4SHIFT
)

	)

120 
	#PML4MASK
 (
NBPML4
-1)

	)

122 
	#MAXPAGESIZES
 3

	)

124 
	#IOPAGES
 2

	)

130 
	#IOPERM_BITMAP_SIZE
 (
IOPAGES
 * 
PAGE_SIZE
 + 1)

	)

132 #iâdef 
KSTACK_PAGES


133 
	#KSTACK_PAGES
 4

	)

135 
	#KSTACK_GUARD_PAGES
 1

	)

140 
	#round_·ge
(
x
è(((()(x)è+ 
PAGE_MASK
è& ~(PAGE_MASK))

	)

141 
	#Œunc_·ge
(
x
è(()(xè& ~(
PAGE_MASK
))

	)

142 
	#Œunc_2m·ge
(
x
è(()(xè& ~
PDRMASK
)

	)

143 
	#round_2m·ge
(
x
è(((()(x)è+ 
PDRMASK
è& ~PDRMASK)

	)

144 
	#Œunc_1g·ge
(
x
è(()(xè& ~
PDPMASK
)

	)

146 
	#©Ý
(
x
è(()(xè>> 
PAGE_SHIFT
)

	)

147 
	#±ß
(
x
è(()(xè<< 
PAGE_SHIFT
)

	)

149 
	#amd64_btÝ
(
x
è(()(xè>> 
PAGE_SHIFT
)

	)

150 
	#amd64_±ob
(
x
è(()(xè<< 
PAGE_SHIFT
)

	)

152 
	#pgtok
(
x
è(()(xè* (
PAGE_SIZE
 / 1024))

	)

154 
	#INKERNEL
(
va
è(((vaè>ð
DMAP_MIN_ADDRESS
 && (vaè< 
DMAP_MAX_ADDRESS
) \

155 || ((
va
è>ð
VM_MIN_KERNEL_ADDRESS
 && (vaè< 
VM_MAX_KERNEL_ADDRESS
))

	)

157 #ifdeà
SMP


158 
	#SC_TABLESIZE
 1024

	)

	@src/nvidia-drm/machine/pc/bios.h

32 #iâdeà
_MACHINE_PC_BIOS_H_


33 
	#_MACHINE_PC_BIOS_H_


	)

38 
	#SMAP_SIG
 0x534D4150

	)

40 
	#SMAP_TYPE_MEMORY
 1

	)

41 
	#SMAP_TYPE_RESERVED
 2

	)

42 
	#SMAP_TYPE_ACPI_RECLAIM
 3

	)

43 
	#SMAP_TYPE_ACPI_NVS
 4

	)

44 
	#SMAP_TYPE_ACPI_ERROR
 5

	)

45 
	#SMAP_TYPE_DISABLED
 6

	)

46 
	#SMAP_TYPE_PMEM
 7

	)

47 
	#SMAP_TYPE_PRAM
 12

	)

49 
	#SMAP_XATTR_ENABLED
 0x00000001

	)

50 
	#SMAP_XATTR_NON_VOLATILE
 0x00000002

	)

51 
	#SMAP_XATTR_MASK
 (
SMAP_XATTR_ENABLED
 | 
SMAP_XATTR_NON_VOLATILE
)

	)

53 
	sbios_sm­
 {

54 
u_št64_t
 
	mba£
;

55 
u_št64_t
 
	mËngth
;

56 
u_št32_t
 
	mty³
;

57 } 
	g__·cked
;

60 
	sbios_sm­_x©Œ
 {

61 
u_št64_t
 
	mba£
;

62 
u_št64_t
 
	mËngth
;

63 
u_št32_t
 
	mty³
;

64 
u_št32_t
 
	mx©Œ
;

65 } 
	g__·cked
;

70 
	#SMBIOS_START
 0xf0000

	)

71 
	#SMBIOS_STEP
 0x10

	)

72 
	#SMBIOS_OFF
 0

	)

73 
	#SMBIOS_LEN
 4

	)

74 
	#SMBIOS_SIG
 "_SM_"

	)

76 
	ssmbios_•s
 {

77 
ušt8_t
 
	mªchÜ_¡ršg
[4];

78 
ušt8_t
 
	mchecksum
;

79 
ušt8_t
 
	mËngth
;

80 
ušt8_t
 
	mmajÜ_v”siÚ
;

81 
ušt8_t
 
	mmšÜ_v”siÚ
;

82 
ušt16_t
 
	mmaximum_¡ruùu»_size
;

83 
ušt8_t
 
	m’Œy_pošt_»visiÚ
;

84 
ušt8_t
 
	mfÜm©‹d_¬—
[5];

85 
ušt8_t
 
	mš‹rmedŸ‹_ªchÜ_¡ršg
[5];

86 
ušt8_t
 
	mš‹rmedŸ‹_checksum
;

87 
ušt16_t
 
	m¡ruùu»_bË_Ëngth
;

88 
ušt32_t
 
	m¡ruùu»_bË_add»ss
;

89 
ušt16_t
 
	mnumb”_¡ruùu»s
;

90 
ušt8_t
 
	mBCD_»visiÚ
;

93 
	ssmbios_¡ruùu»_h—d”
 {

94 
ušt8_t
 
	mty³
;

95 
ušt8_t
 
	mËngth
;

96 
ušt16_t
 
	mhªdË
;

99 #ifdeà
_KERNEL


100 
	#BIOS_PADDRTOVADDR
(
x
è((xè+ 
KERNBASE
)

	)

101 
	#BIOS_VADDRTOPADDR
(
x
è((xè- 
KERNBASE
)

	)

103 
	sbios_Ûm_sigÇtu»
 {

104 * 
	mªchÜ
;

105 
size_t
 
	moff£t
;

106 
size_t
 
	mtÙËn
;

107 } 
	g__·cked
;

109 
	sbios_Ûm_¿nge
 {

110 
u_št
 
	mäom
;

111 
u_št
 
	mto
;

112 } 
	g__·cked
;

114 
	sbios_Ûm
 {

115 
bios_Ûm_¿nge
 
	m¿nge
;

116 
bios_Ûm_sigÇtu»
 
	msigÇtu»
[];

117 } 
	g__·cked
;

119 
bios_Ûm_¡ršgs
(
bios_Ûm
 *
Ûm
, 
u_ch¬
 *
bufãr
, 
size_t
 
maxËn
);

120 
ušt32_t
 
bios_sig£¬ch
(ušt32_ˆ
¡¬t
, 
u_ch¬
 *
sig
, 
sigËn
, 
·¿Ën
,

121 
sigofs
);

122 
bios_add_sm­_’Œ›s
(
bios_sm­
 *
sm­ba£
, 
u_št32_t
 
sm­size
,

123 
vm_·ddr_t
 *
physm­
, *
physm­_idx
);

	@src/nvidia-drm/machine/pc/display.h

9 
	#FG_BLACK
 0

	)

10 
	#FG_BLUE
 1

	)

11 
	#FG_GREEN
 2

	)

12 
	#FG_CYAN
 3

	)

13 
	#FG_RED
 4

	)

14 
	#FG_MAGENTA
 5

	)

15 
	#FG_BROWN
 6

	)

16 
	#FG_LIGHTGREY
 7

	)

17 
	#FG_DARKGREY
 8

	)

18 
	#FG_LIGHTBLUE
 9

	)

19 
	#FG_LIGHTGREEN
 10

	)

20 
	#FG_LIGHTCYAN
 11

	)

21 
	#FG_LIGHTRED
 12

	)

22 
	#FG_LIGHTMAGENTA
 13

	)

23 
	#FG_YELLOW
 14

	)

24 
	#FG_WHITE
 15

	)

25 
	#FG_BLINK
 0x80

	)

29 
	#BG_BLACK
 0x00

	)

30 
	#BG_BLUE
 0x10

	)

31 
	#BG_GREEN
 0x20

	)

32 
	#BG_CYAN
 0x30

	)

33 
	#BG_RED
 0x40

	)

34 
	#BG_MAGENTA
 0x50

	)

35 
	#BG_BROWN
 0x60

	)

36 
	#BG_LIGHTGREY
 0x70

	)

40 
	#FG_UNDERLINE
 0x01

	)

41 
	#FG_INTENSE
 0x08

	)

45 
	#BG_INTENSE
 0x10

	)

	@src/nvidia-drm/machine/pcb.h

39 #iâdeà
_AMD64_PCB_H_


40 
	#_AMD64_PCB_H_


	)

45 
	~<machše/åu.h
>

46 
	~<machše/£gm’ts.h
>

48 #ifdeà
__amd64__


53 
	spcb
 {

54 
»gi¡”_t
 
	mpcb_r15
;

55 
»gi¡”_t
 
	mpcb_r14
;

56 
»gi¡”_t
 
	mpcb_r13
;

57 
»gi¡”_t
 
	mpcb_r12
;

58 
»gi¡”_t
 
	mpcb_rbp
;

59 
»gi¡”_t
 
	mpcb_r¥
;

60 
»gi¡”_t
 
	mpcb_rbx
;

61 
»gi¡”_t
 
	mpcb_r
;

62 
»gi¡”_t
 
	mpcb_fsba£
;

63 
»gi¡”_t
 
	mpcb_gsba£
;

64 
»gi¡”_t
 
	mpcb_kgsba£
;

65 
»gi¡”_t
 
	mpcb_ü0
;

66 
»gi¡”_t
 
	mpcb_ü2
;

67 
»gi¡”_t
 
	mpcb_ü3
;

68 
»gi¡”_t
 
	mpcb_ü4
;

69 
»gi¡”_t
 
	mpcb_dr0
;

70 
»gi¡”_t
 
	mpcb_dr1
;

71 
»gi¡”_t
 
	mpcb_dr2
;

72 
»gi¡”_t
 
	mpcb_dr3
;

73 
»gi¡”_t
 
	mpcb_dr6
;

74 
»gi¡”_t
 
	mpcb_dr7
;

76 
»giÚ_desütÜ
 
	mpcb_gdt
;

77 
»giÚ_desütÜ
 
	mpcb_idt
;

78 
»giÚ_desütÜ
 
	mpcb_ldt
;

79 
ušt16_t
 
	mpcb_Œ
;

81 
u_št
 
	mpcb_æags
;

82 
	#PCB_FULL_IRET
 0x01

	)

83 
	#PCB_DBREGS
 0x02

	)

84 
	#PCB_KERNFPU
 0x04

	)

85 
	#PCB_FPUINITDONE
 0x08

	)

86 
	#PCB_USERFPUINITDONE
 0x10

	)

87 
	#PCB_32BIT
 0x40

	)

88 
	#PCB_FPUNOSAVE
 0x80

	)

90 
ušt16_t
 
	mpcb_š™Ÿl_åucw
;

93 
ÿddr_t
 
	mpcb_ÚçuÉ
;

95 
ušt64_t
 
	mpcb_§ved_uü3
;

98 
amd64tss
 *
	mpcb_ts¥
;

101 
»gi¡”_t
 
	mpcb_eãr
;

102 
»gi¡”_t
 
	mpcb_¡¬
;

103 
»gi¡”_t
 
	mpcb_l¡¬
;

104 
»gi¡”_t
 
	mpcb_c¡¬
;

105 
»gi¡”_t
 
	mpcb_sfmask
;

107 
§veåu
 *
	mpcb_§ve
;

109 
ušt64_t
 
	mpcb_·d
[5];

113 
	ssu¥pcb
 {

114 
pcb
 
	m¥_pcb
;

117 *
	m¥_åusu¥’d
;

121 #ifdeà
_KERNEL


122 
	gŒ­äame
;

124 
þ—r_pcb_æags
(
pcb
 *pcb, cÚ¡ 
u_št
 
æags
);

125 
makeùx
(
Œ­äame
 *, 
pcb
 *);

126 
£t_pcb_æags
(
pcb
 *pcb, cÚ¡ 
u_št
 
æags
);

127 
£t_pcb_æags_¿w
(
pcb
 *pcb, cÚ¡ 
u_št
 
æags
);

128 
	$§veùx
(
pcb
 *è
__»tuºs_twiû
;

129 
	`»sumeùx
(
pcb
 *);

132 
	#upd©e_pcb_ba£s
(
pcb
è
	`£t_pcb_æags
(Õcb), 
PCB_FULL_IRET
)

	)

	@src/nvidia-drm/machine/pci_cfgreg.h

6 
	~<x86/pci_cfg»g.h
>

	@src/nvidia-drm/machine/pcpu.h

31 #iâdeà
_MACHINE_PCPU_H_


32 
	#_MACHINE_PCPU_H_


	)

34 #iâdeà
_SYS_CDEFS_H_


38 
	#PC_PTI_STACK_SZ
 16

	)

46 
	#PCPU_MD_FIELDS
 \

47 
pc_mÚ™Übuf
[128] 
	`__®igÃd
(128); \

48 
pýu
 *
pc_´v¥aû
; \

49 
pm­
 *
pc_cu½m­
; \

50 
amd64tss
 *
pc_ts¥
; \

51 
amd64tss
 *
pc_commÚts¥
; \

52 
ušt64_t
 
pc_kü3
; \

53 
ušt64_t
 
pc_uü3
; \

54 
ušt64_t
 
pc_§ved_uü3
; \

55 
»gi¡”_t
 
pc_r¥0
; \

56 
»gi¡”_t
 
pc_sü©ch_r¥
; \

57 
»gi¡”_t
 
pc_sü©ch_¿x
; \

58 
u_št
 
pc_­ic_id
; \

59 
u_št
 
pc_aýi_id
; \

61 
u£r_£gm’t_desütÜ
 *
pc_fs32p
; \

63 
u£r_£gm’t_desütÜ
 *
pc_gs32p
; \

65 
sy¡em_£gm’t_desütÜ
 *
pc_ldt
; \

67 
sy¡em_£gm’t_desütÜ
 *
pc_tss
; \

68 
ušt64_t
 
pc_pm_§ve_út
; \

69 
u_št
 
pc_cmci_mask
; \

70 
ušt64_t
 
pc_db»g
[16]; \

71 
ušt64_t
 
pc_±i_¡ack
[
PC_PTI_STACK_SZ
]; \

72 
»gi¡”_t
 
pc_±i_r¥0
; \

73 
pc_db»g_cmd
; \

74 
u_št
 
pc_výu_id
; \

75 
ušt32_t
 
pc_pcid_Ãxt
; \

76 
ušt32_t
 
pc_pcid_g’
; \

77 
ušt32_t
 
pc_smp_Žb_dÚe
; \

78 
ušt32_t
 
pc_ibpb_£t
; \

79 
__·d
[3288]

	)

81 
	#PC_DBREG_CMD_NONE
 0

	)

82 
	#PC_DBREG_CMD_LOAD
 1

	)

84 #ifdeà
_KERNEL


86 #ià
defšed
(
__GNUCLIKE_ASM
è&& defšed(
__GNUCLIKE___TYPEOF
)

91 
	#__pýu_off£t
(
Çme
) \

92 
	`__off£tof
(
pýu
, 
Çme
)

	)

97 
	#__pýu_ty³
(
Çme
) \

98 
	`__ty³of
(((
pýu
 *)0)->
Çme
)

	)

103 
	#__PCPU_PTR
(
Çme
è
	`__ex‹nsiÚ__
 ({ \

104 
	`__pýu_ty³
(
Çme
è*
__p
; \

106 
__asm
 
	`__vÞ©že
("movq %%gs:%1,%0;‡ddq %2,%0" \

107 : "ô" (
__p
) \

108 : "m" (*(
pýu
 *)(
	`__pýu_off£t
(
pc_´v¥aû
))), \

109 "i" (
	`__pýu_off£t
(
Çme
))); \

111 
__p
; \

112 })

	)

117 
	#__PCPU_GET
(
Çme
è
	`__ex‹nsiÚ__
 ({ \

118 
	`__pýu_ty³
(
Çme
è
__»s
; \

119 
	s__s
 { \

120 
u_ch¬
 
__b
[
	`MIN
((
	`__pýu_ty³
(
Çme
)), 8)]; \

121 } 
__s
; \

123 ià((
__»s
) == 1 || (__res) == 2 || \

124 (
__»s
) == 4 || (__res) == 8) { \

125 
__asm
 
	`__vÞ©že
("mov %%gs:%1,%0" \

126 : "ô" (
__s
) \

127 : "m" (*(
__s
 *)(
	`__pýu_off£t
(
Çme
)))); \

128 *(
__s
 *)(*)&
__»s
 = __s; \

130 
__»s
 = *
	`__PCPU_PTR
(
Çme
); \

132 
__»s
; \

133 })

	)

139 
	#__PCPU_ADD
(
Çme
, 
v®
) do { \

140 
	`__pýu_ty³
(
Çme
è
__v®
; \

141 
	s__s
 { \

142 
u_ch¬
 
__b
[
	`MIN
((
	`__pýu_ty³
(
Çme
)), 8)]; \

143 } 
__s
; \

145 
__v®
 = (
v®
); \

146 ià((
__v®
) == 1 || (__val) == 2 || \

147 (
__v®
) == 4 || (__val) == 8) { \

148 
__s
 = *(__ *)(*)&
__v®
; \

149 
__asm
 
	`__vÞ©že
("add %1,%%gs:%0" \

150 : "=m" (*(
__s
 *)(
	`__pýu_off£t
(
Çme
))) \

151 : "r" (
__s
)); \

153 *
	`__PCPU_PTR
(
Çme
è+ð
__v®
; \

154 } 0)

	)

160 
	#__PCPU_INC
(
Çme
) do { \

161 
	`CTASSERT
((
	`__pýu_ty³
(
Çme
)) == 1 || \

162 (
	`__pýu_ty³
(
Çme
)) == 2 || \

163 (
	`__pýu_ty³
(
Çme
)) == 4 || \

164 (
	`__pýu_ty³
(
Çme
)) == 8); \

165 ià((
	`__pýu_ty³
(
Çme
)) == 1) { \

166 
__asm
 
	`__vÞ©že
("incb %%gs:%0" \

167 : "=m" (*(
	`__pýu_ty³
(
Çme
è*)(
	`__pýu_off£t
(name)))\

168 : "m" (*(
	`__pýu_ty³
(
Çme
è*)(
	`__pýu_off£t
(name))));\

169 } ià((
	`__pýu_ty³
(
Çme
)) == 2) { \

170 
__asm
 
	`__vÞ©že
("incw %%gs:%0" \

171 : "=m" (*(
	`__pýu_ty³
(
Çme
è*)(
	`__pýu_off£t
(name)))\

172 : "m" (*(
	`__pýu_ty³
(
Çme
è*)(
	`__pýu_off£t
(name))));\

173 } ià((
	`__pýu_ty³
(
Çme
)) == 4) { \

174 
__asm
 
	`__vÞ©že
("incl %%gs:%0" \

175 : "=m" (*(
	`__pýu_ty³
(
Çme
è*)(
	`__pýu_off£t
(name)))\

176 : "m" (*(
	`__pýu_ty³
(
Çme
è*)(
	`__pýu_off£t
(name))));\

177 } ià((
	`__pýu_ty³
(
Çme
)) == 8) { \

178 
__asm
 
	`__vÞ©že
("incq %%gs:%0" \

179 : "=m" (*(
	`__pýu_ty³
(
Çme
è*)(
	`__pýu_off£t
(name)))\

180 : "m" (*(
	`__pýu_ty³
(
Çme
è*)(
	`__pýu_off£t
(name))));\

182 } 0)

	)

187 
	#__PCPU_SET
(
Çme
, 
v®
) { \

188 
	`__pýu_ty³
(
Çme
è
__v®
; \

189 
	s__s
 { \

190 
u_ch¬
 
__b
[
	`MIN
((
	`__pýu_ty³
(
Çme
)), 8)]; \

191 } 
__s
; \

193 
__v®
 = (
v®
); \

194 ià((
__v®
) == 1 || (__val) == 2 || \

195 (
__v®
) == 4 || (__val) == 8) { \

196 
__s
 = *(__ *)(*)&
__v®
; \

197 
__asm
 
	`__vÞ©že
("mov %1,%%gs:%0" \

198 : "=m" (*(
__s
 *)(
	`__pýu_off£t
(
Çme
))) \

199 : "r" (
__s
)); \

201 *
	`__PCPU_PTR
(
Çme
èð
__v®
; \

203 }

	)

205 
	#g‘_pýu
(è
	`__ex‹nsiÚ__
 ({ \

206 
pýu
 *
__pc
; \

208 
__asm
 
	`__vÞ©že
("movq %%gs:%1,%0" \

209 : "ô" (
__pc
) \

210 : "m" (*(
pýu
 *)(
	`__pýu_off£t
(
pc_´v¥aû
)))); \

211 
__pc
; \

212 })

	)

214 
	#PCPU_GET
(
memb”
è
	`__PCPU_GET
(
pc_
 ## memb”)

	)

215 
	#PCPU_ADD
(
memb”
, 
v®
è
	`__PCPU_ADD
(
pc_
 ## memb”, v®)

	)

216 
	#PCPU_INC
(
memb”
è
	`__PCPU_INC
(
pc_
 ## memb”)

	)

217 
	#PCPU_PTR
(
memb”
è
	`__PCPU_PTR
(
pc_
 ## memb”)

	)

218 
	#PCPU_SET
(
memb”
, 
v®
è
	`__PCPU_SET
(
pc_
 ## memb”, v®)

	)

220 
	#OFFSETOF_CURTHREAD
 0

	)

221 #ifdeà
__þªg__


222 #´agm¨
þªg
 
dŸgno¡ic
 
push


223 #´agm¨
þªg
 
dŸgno¡ic
 
ignÜed
 "-Wnull-dereference"

225 
__šlše
 
__pu»2
 
th»ad
 *

226 
	$__cu¹h»ad
()

228 
th»ad
 *
td
;

230 
	`__asm
("movq %%gs:%1,%0" : "ô" (
td
)

231 : "m" (*(*)
OFFSETOF_CURTHREAD
));

232  (
td
);

233 
	}
}

234 #ifdeà
__þªg__


235 #´agm¨
þªg
 
dŸgno¡ic
 
pÝ


237 
	#cu¹h»ad
 (
	`__cu¹h»ad
())

	)

239 
	#OFFSETOF_CURPCB
 32

	)

240 
__šlše
 
__pu»2
 
pcb
 *

241 
	$__cu½cb
()

243 
pcb
 *pcb;

245 
	`__asm
("movq %%gs:%1,%0" : "ô" (
pcb
è: "m" (*(*)
OFFSETOF_CURPCB
));

246  (
pcb
);

247 
	}
}

248 
	#cu½cb
 (
	`__cu½cb
())

	)

250 
	#IS_BSP
(è(
	`PCPU_GET
(
ýuid
è=ð0)

	)

	@src/nvidia-drm/machine/pmap.h

47 #iâdeà
_MACHINE_PMAP_H_


48 
	#_MACHINE_PMAP_H_


	)

55 
	#X86_PG_V
 0x001

	)

56 
	#X86_PG_RW
 0x002

	)

57 
	#X86_PG_U
 0x004

	)

58 
	#X86_PG_NC_PWT
 0x008

	)

59 
	#X86_PG_NC_PCD
 0x010

	)

60 
	#X86_PG_A
 0x020

	)

61 
	#X86_PG_M
 0x040

	)

62 
	#X86_PG_PS
 0x080

	)

63 
	#X86_PG_PTE_PAT
 0x080

	)

64 
	#X86_PG_G
 0x100

	)

65 
	#X86_PG_AVAIL1
 0x200

	)

66 
	#X86_PG_AVAIL2
 0x400

	)

67 
	#X86_PG_AVAIL3
 0x800

	)

68 
	#X86_PG_PDE_PAT
 0x1000

	)

69 
	#X86_PG_NX
 (1ul<<63è

	)

70 
	#X86_PG_AVAIL
(
x
è(1uÈ<< (x))

	)

73 
	#X86_PG_PDE_CACHE
 (
X86_PG_PDE_PAT
 | 
X86_PG_NC_PWT
 | 
X86_PG_NC_PCD
)

	)

74 
	#X86_PG_PTE_CACHE
 (
X86_PG_PTE_PAT
 | 
X86_PG_NC_PWT
 | 
X86_PG_NC_PCD
)

	)

79 
	#EPT_PG_READ
 0x001

	)

80 
	#EPT_PG_WRITE
 0x002

	)

81 
	#EPT_PG_EXECUTE
 0x004

	)

82 
	#EPT_PG_IGNORE_PAT
 0x040

	)

83 
	#EPT_PG_PS
 0x080

	)

84 
	#EPT_PG_A
 0x100

	)

85 
	#EPT_PG_M
 0x200

	)

86 
	#EPT_PG_MEMORY_TYPE
(
x
è((xè<< 3è

	)

91 
	#PG_V
 
X86_PG_V


	)

92 
	#PG_RW
 
X86_PG_RW


	)

93 
	#PG_U
 
X86_PG_U


	)

94 
	#PG_NC_PWT
 
X86_PG_NC_PWT


	)

95 
	#PG_NC_PCD
 
X86_PG_NC_PCD


	)

96 
	#PG_A
 
X86_PG_A


	)

97 
	#PG_M
 
X86_PG_M


	)

98 
	#PG_PS
 
X86_PG_PS


	)

99 
	#PG_PTE_PAT
 
X86_PG_PTE_PAT


	)

100 
	#PG_G
 
X86_PG_G


	)

101 
	#PG_AVAIL1
 
X86_PG_AVAIL1


	)

102 
	#PG_AVAIL2
 
X86_PG_AVAIL2


	)

103 
	#PG_AVAIL3
 
X86_PG_AVAIL3


	)

104 
	#PG_PDE_PAT
 
X86_PG_PDE_PAT


	)

105 
	#PG_NX
 
X86_PG_NX


	)

106 
	#PG_PDE_CACHE
 
X86_PG_PDE_CACHE


	)

107 
	#PG_PTE_CACHE
 
X86_PG_PTE_CACHE


	)

110 
	#PG_W
 
X86_PG_AVAIL3


	)

111 
	#PG_MANAGED
 
X86_PG_AVAIL2


	)

112 
	#EPT_PG_EMUL_V
 
	`X86_PG_AVAIL
(52)

	)

113 
	#EPT_PG_EMUL_RW
 
	`X86_PG_AVAIL
(53)

	)

114 
	#PG_PROMOTED
 
	`X86_PG_AVAIL
(54è

	)

115 
	#PG_FRAME
 (0x000ffffffffff000ul)

	)

116 
	#PG_PS_FRAME
 (0x000ffffffã00000ul)

	)

122 
	#PG_PTE_PROMOTE
 (
PG_NX
 | 
PG_MANAGED
 | 
PG_W
 | 
PG_G
 | 
PG_PTE_CACHE
 | \

123 
PG_M
 | 
PG_A
 | 
PG_U
 | 
PG_RW
 | 
PG_V
)

	)

129 
	#PGEX_P
 0x01

	)

130 
	#PGEX_W
 0x02

	)

131 
	#PGEX_U
 0x04

	)

132 
	#PGEX_RSV
 0x08

	)

133 
	#PGEX_I
 0x10

	)

144 #ifdeà
AMD64_NPT_AWARE


145 #undeà
PG_AVAIL1


146 #undeà
PG_G


147 #undeà
PG_A


148 #undeà
PG_M


149 #undeà
PG_PDE_PAT


150 #undeà
PG_PDE_CACHE


151 #undeà
PG_PTE_PAT


152 #undeà
PG_PTE_CACHE


153 #undeà
PG_RW


154 #undeà
PG_V


161 
	#KVADDR
(
l4
, 
l3
, 
l2
, 
l1
) ( \

163 (()(
l4
è<< 
PML4SHIFT
) | \

164 (()(
l3
è<< 
PDPSHIFT
) | \

165 (()(
l2
è<< 
PDRSHIFT
) | \

166 (()(
l1
è<< 
PAGE_SHIFT
))

	)

168 
	#UVADDR
(
l4
, 
l3
, 
l2
, 
l1
) ( \

169 (()(
l4
è<< 
PML4SHIFT
) | \

170 (()(
l3
è<< 
PDPSHIFT
) | \

171 (()(
l2
è<< 
PDRSHIFT
) | \

172 (()(
l1
è<< 
PAGE_SHIFT
))

	)

180 
	#NKPML4E
 4

	)

182 
	#NUPML4E
 (
NPML4EPG
/2è

	)

183 
	#NUPDPE
 (
NUPML4E
*
NPDPEPG
)

	)

184 
	#NUPDE
 (
NUPDPE
*
NPDEPG
è

	)

193 
	#NDMPML4E
 8

	)

211 
	#PML4PML4I
 (
NPML4EPG
/2è

	)

213 
	#KPML4BASE
 (
NPML4EPG
-
NKPML4E
è

	)

214 
	#DMPML4I
 
	`rounddown
(
KPML4BASE
-
NDMPML4E
, NDMPML4Eè

	)

216 
	#KPML4I
 (
NPML4EPG
-1)

	)

217 
	#KPDPI
 (
NPDPEPG
-2è

	)

220 
	#LMSPML4I
 (
PML4PML4I
 + 1)

	)

221 
	#LMEPML4I
 (
DMPML4I
 - 1)

	)

226 
	#ISA_HOLE_START
 0xa0000

	)

227 
	#ISA_HOLE_LENGTH
 (0x100000-
ISA_HOLE_START
)

	)

229 
	#PMAP_PCID_NONE
 0xffffffff

	)

230 
	#PMAP_PCID_KERN
 0

	)

231 
	#PMAP_PCID_OVERMAX
 0x1000

	)

232 
	#PMAP_PCID_OVERMAX_KERN
 0x800

	)

233 
	#PMAP_PCID_USER_PT
 0x800

	)

235 
	#PMAP_NO_CR3
 (~0UL)

	)

237 #iâdeà
LOCORE


239 
	~<sys/queue.h
>

240 
	~<sys/_ýu£t.h
>

241 
	~<sys/_lock.h
>

242 
	~<sys/_mu‹x.h
>

244 
	~<vm/_vm_¿dix.h
>

246 
u_št64_t
 
	tpd_’Œy_t
;

247 
u_št64_t
 
	t±_’Œy_t
;

248 
u_št64_t
 
	tpdp_’Œy_t
;

249 
u_št64_t
 
	tpml4_’Œy_t
;

254 #ifdeà
_KERNEL


255 
	#addr_PTm­
 (
	`KVADDR
(
PML4PML4I
, 0, 0, 0))

	)

256 
	#addr_PDm­
 (
	`KVADDR
(
PML4PML4I
, PML4PML4I, 0, 0))

	)

257 
	#addr_PDPm­
 (
	`KVADDR
(
PML4PML4I
, PML4PML4I, PML4PML4I, 0))

	)

258 
	#addr_PML4m­
 (
	`KVADDR
(
PML4PML4I
, PML4PML4I, PML4PML4I, PML4PML4I))

	)

259 
	#addr_PML4pml4e
 (
addr_PML4m­
 + (
PML4PML4I
 * (
pml4_’Œy_t
)))

	)

260 
	#PTm­
 ((
±_’Œy_t
 *)(
addr_PTm­
))

	)

261 
	#PDm­
 ((
pd_’Œy_t
 *)(
addr_PDm­
))

	)

262 
	#PDPm­
 ((
pd_’Œy_t
 *)(
addr_PDPm­
))

	)

263 
	#PML4m­
 ((
pd_’Œy_t
 *)(
addr_PML4m­
))

	)

264 
	#PML4pml4e
 ((
pd_’Œy_t
 *)(
addr_PML4pml4e
))

	)

266 
nk±
;

267 
u_št64_t
 
KPDPphys
;

268 
u_št64_t
 
KPML4phys
;

276 
±_’Œy_t
 *
vtÝ‹
(
vm_off£t_t
);

277 
	#vtÝhys
(
va
è
	`pm­_kexŒaù
(((
vm_off£t_t
è(va)))

	)

279 
	#±e_lßd_¡Üe
(
±•
, 
±e
è
	`©omic_sw­_lÚg
Õ‹p,…‹)

	)

280 
	#±e_lßd_þ—r
(
±•
è
	`©omic_sw­_lÚg
Õ‹p, 0)

	)

281 
	#±e_¡Üe
(
±•
, 
±e
) do { \

282 *(
u_lÚg
 *)(
±•
èð(u_lÚg)(
±e
); \

283 } 0)

	)

284 
	#±e_þ—r
(
±•
è
	`±e_¡Üe
Õ‹p, 0)

	)

286 
	#pde_¡Üe
(
pd•
, 
pde
è
	`±e_¡Üe
Õd•,…de)

	)

288 
±_’Œy_t
 
pg_nx
;

295 
	gpv_’Œy
;

296 
	gpv_chunk
;

302 
	smd_·ge
 {

303 
TAILQ_HEAD
(, 
pv_’Œy
è
	mpv_li¡
;

304 
	mpv_g’
;

305 
	m·t_mode
;

308 
	epm­_ty³
 {

309 
	mPT_X86
,

310 
	mPT_EPT
,

311 
	mPT_RVI
,

314 
	spm­_pcids
 {

315 
ušt32_t
 
	mpm_pcid
;

316 
ušt32_t
 
	mpm_g’
;

323 
	spm­
 {

324 
mtx
 
	mpm_mtx
;

325 
pml4_’Œy_t
 *
	mpm_pml4
;

326 
pml4_’Œy_t
 *
	mpm_pml4u
;

327 
ušt64_t
 
	mpm_ü3
;

328 
ušt64_t
 
	mpm_uü3
;

329 
TAILQ_HEAD
(,
pv_chunk
è
	mpm_pvchunk
;

330 
ýu£t_t
 
	mpm_aùive
;

331 
pm­_ty³
 
	mpm_ty³
;

332 
pm­_¡©i¡ics
 
	mpm_¡©s
;

333 
vm_¿dix
 
	mpm_roÙ
;

334 
	mpm_•tg’
;

335 
	mpm_æags
;

336 
pm­_pcids
 
	mpm_pcids
[
MAXCPU
];

340 
	#PMAP_NESTED_IPIMASK
 0xff

	)

341 
	#PMAP_PDE_SUPERPAGE
 (1 << 8è

	)

342 
	#PMAP_EMULATE_AD_BITS
 (1 << 9è

	)

343 
	#PMAP_SUPPORTS_EXEC_ONLY
 (1 << 10è

	)

345 
pm­
 *
	tpm­_t
;

347 #ifdeà
_KERNEL


348 
pm­
 
k”Ãl_pm­_¡Üe
;

349 
	#k”Ãl_pm­
 (&
k”Ãl_pm­_¡Üe
)

	)

351 
	#PMAP_LOCK
(
pm­
è
	`mtx_lock
(&Õm­)->
pm_mtx
)

	)

352 
	#PMAP_LOCK_ASSERT
(
pm­
, 
ty³
) \

353 
	`mtx_as£¹
(&(
pm­
)->
pm_mtx
, (
ty³
))

	)

354 
	#PMAP_LOCK_DESTROY
(
pm­
è
	`mtx_de¡roy
(&Õm­)->
pm_mtx
)

	)

355 
	#PMAP_LOCK_INIT
(
pm­
è
	`mtx_š™
(&Õm­)->
pm_mtx
, "pmap", \

356 
NULL
, 
MTX_DEF
 | 
MTX_DUPOK
)

	)

357 
	#PMAP_LOCKED
(
pm­
è
	`mtx_owÃd
(&Õm­)->
pm_mtx
)

	)

358 
	#PMAP_MTX
(
pm­
è(&Õm­)->
pm_mtx
)

	)

359 
	#PMAP_TRYLOCK
(
pm­
è
	`mtx_Œylock
(&Õm­)->
pm_mtx
)

	)

360 
	#PMAP_UNLOCK
(
pm­
è
	`mtx_uÆock
(&Õm­)->
pm_mtx
)

	)

362 
pm­_pš™_ty³
(
pm­_t
 
pm­
, 
pm­_ty³
 
pm_ty³
, 
æags
);

363 
pm­_emuÏ‹_acûs£d_dœty
(
pm­_t
 
pm­
, 
vm_off£t_t
 
va
, 
áy³
);

370 
	spv_’Œy
 {

371 
vm_off£t_t
 
	mpv_va
;

372 
TAILQ_ENTRY
(
pv_’Œy
è
	mpv_Ãxt
;

373 } *
	tpv_’Œy_t
;

379 
	#_NPCM
 3

	)

380 
	#_NPCPV
 168

	)

381 
	#PV_CHUNK_HEADER
 \

382 
pm­_t
 
pc_pm­
; \

383 
	`TAILQ_ENTRY
(
pv_chunk
è
pc_li¡
; \

384 
ušt64_t
 
pc_m­
[
_NPCM
]; \

385 
	`TAILQ_ENTRY
(
pv_chunk
è
pc_Ìu
;

	)

387 
	spv_chunk_h—d”
 {

388 
	mPV_CHUNK_HEADER


391 
	spv_chunk
 {

392 
PV_CHUNK_HEADER


393 
pv_’Œy
 
	mpc_pv’Œy
[
_NPCPV
];

396 #ifdef 
_KERNEL


398 
ÿddr_t
 
CADDR1
;

399 
±_’Œy_t
 *
CMAP1
;

400 
vm_·ddr_t
 
phys_avaž
[];

401 
vm_·ddr_t
 
dump_avaž
[];

402 
vm_off£t_t
 
vœtu®_avaž
;

403 
vm_off£t_t
 
vœtu®_’d
;

404 
vm_·ddr_t
 
dm­lim™
;

405 
pm­_pcid_’abËd
;

406 
švpcid_wÜks
;

408 
	#pm­_·ge_g‘_mem©Œ
(
m
è((
vm_mem©Œ_t
)(m)->
md
.
·t_mode
)

	)

409 
	#pm­_·ge_is_wr™e_m­³d
(
m
è(((m)->
aæags
 & 
PGA_WRITEABLE
è!ð0)

	)

410 
	#pm­_unm­bios
(
va
, 
sz
è
	`pm­_unm­dev
((va), (sz))

	)

412 
	gth»ad
;

414 
pm­_aùiv©e_boÙ
(
pm­_t
 
pm­
);

415 
pm­_aùiv©e_sw
(
th»ad
 *);

416 
pm­_boÙ¡¿p
(
vm_·ddr_t
 *);

417 
pm­_ÿche_b™s
(
pm­_t
 
pm­
, 
mode
, 
boÞ—n_t
 
is_pde
);

418 
pm­_chªge_©Œ
(
vm_off£t_t
, 
vm_size_t
, );

419 
pm­_demÙe_DMAP
(
vm_·ddr_t
 
ba£
, 
vm_size_t
 
Ën
, 
boÞ—n_t
 
šv®id©e
);

420 
pm­_æush_ÿche_¿nge
(
vm_off£t_t
, vm_offset_t);

421 
pm­_æush_ÿche_phys_¿nge
(
vm_·ddr_t
, vm_·ddr_t, 
vm_mem©Œ_t
);

422 
pm­_š™_·t
();

423 
pm­_k’‹r
(
vm_off£t_t
 
va
, 
vm_·ddr_t
 
·
);

424 *
pm­_k’‹r_‹mpÜ¬y
(
vm_·ddr_t
 
·
, 
i
);

425 
vm_·ddr_t
 
pm­_kexŒaù
(
vm_off£t_t
);

426 
pm­_k»move
(
vm_off£t_t
);

427 
pm­_Ïrge_m­
(
vm_·ddr_t
, 
vm_size_t
, **, 
vm_mem©Œ_t
);

428 
pm­_Ïrge_m­_wb
(*
sva
, 
vm_size_t
 
Ën
);

429 
pm­_Ïrge_unm­
(*
sva
, 
vm_size_t
 
Ën
);

430 *
pm­_m­bios
(
vm_·ddr_t
, 
vm_size_t
);

431 *
pm­_m­dev
(
vm_·ddr_t
, 
vm_size_t
);

432 *
pm­_m­dev_©Œ
(
vm_·ddr_t
, 
vm_size_t
, );

433 *
pm­_m­dev_pc›cfg
(
vm_·ddr_t
 
·
, 
vm_size_t
 
size
);

434 
boÞ—n_t
 
pm­_·ge_is_m­³d
(
vm_·ge_t
 
m
);

435 
pm­_·ge_£t_mem©Œ
(
vm_·ge_t
 
m
, 
vm_mem©Œ_t
 
ma
);

436 
pm­_pš™_pml4
(
vm_·ge_t
);

437 
boÞ
 
pm­_ps_’abËd
(
pm­_t
 
pm­
);

438 
pm­_unm­dev
(
vm_off£t_t
, 
vm_size_t
);

439 
pm­_šv®id©e_·ge
(
pm­_t
, 
vm_off£t_t
);

440 
pm­_šv®id©e_¿nge
(
pm­_t
, 
vm_off£t_t
, vm_offset_t);

441 
pm­_šv®id©e_®l
(
pm­_t
);

442 
pm­_šv®id©e_ÿche
();

443 
pm­_šv®id©e_ÿche_·ges
(
vm_·ge_t
 *
·ges
, 
couÁ
);

444 
pm­_šv®id©e_ÿche_¿nge
(
vm_off£t_t
 
sva
, vm_off£t_ˆ
eva
);

445 
pm­_fÜû_šv®id©e_ÿche_¿nge
(
vm_off£t_t
 
sva
, vm_off£t_ˆ
eva
);

446 
pm­_g‘_m­pšg
(
pm­_t
 
pm­
, 
vm_off£t_t
 
va
, 
ušt64_t
 *
±r
, *
num
);

447 
boÞ—n_t
 
pm­_m­_io_Œªs›Á
(
vm_·ge_t
 *, 
vm_off£t_t
 *, , boolean_t);

448 
pm­_unm­_io_Œªs›Á
(
vm_·ge_t
 *, 
vm_off£t_t
 *, , 
boÞ—n_t
);

449 
pm­_±i_add_kva
(
vm_off£t_t
 
sva
, vm_off£t_ˆ
eva
, 
boÞ
 
exec
);

450 
pm­_±i_»move_kva
(
vm_off£t_t
 
sva
, vm_off£t_ˆ
eva
);

451 
pm­_±i_pcid_šv®id©e
(
ušt64_t
 
uü3
, ušt64_ˆ
kü3
);

452 
pm­_±i_pcid_švÍg
(
ušt64_t
 
uü3
, ušt64_ˆ
kü3
, 
vm_off£t_t
 
va
);

453 
pm­_±i_pcid_švÌng
(
ušt64_t
 
uü3
, ušt64_ˆ
kü3
, 
vm_off£t_t
 
sva
,

454 
vm_off£t_t
 
eva
);

458 
__šlše
 
vm_pšdex_t


459 
	$pm­_±e_šdex
(
vm_off£t_t
 
va
)

462  ((
va
 >> 
PAGE_SHIFT
è& ((1uÈ<< 
NPTEPGSHIFT
) - 1));

463 
	}
}

465 
__šlše
 
vm_pšdex_t


466 
	$pm­_pde_šdex
(
vm_off£t_t
 
va
)

469  ((
va
 >> 
PDRSHIFT
è& ((1uÈ<< 
NPDEPGSHIFT
) - 1));

470 
	}
}

472 
__šlše
 
vm_pšdex_t


473 
	$pm­_pd³_šdex
(
vm_off£t_t
 
va
)

476  ((
va
 >> 
PDPSHIFT
è& ((1uÈ<< 
NPDPEPGSHIFT
) - 1));

477 
	}
}

479 
__šlše
 
vm_pšdex_t


480 
	$pm­_pml4e_šdex
(
vm_off£t_t
 
va
)

483  ((
va
 >> 
PML4SHIFT
è& ((1uÈ<< 
NPML4EPGSHIFT
) - 1));

484 
	}
}

	@src/nvidia-drm/machine/pmc_mdep.h

37 #iâdeà
_MACHINE_PMC_MDEP_H


38 
	#_MACHINE_PMC_MDEP_H
 1

	)

40 #ifdef 
_KERNEL


41 
	gpmc_md•
;

44 
	~<dev/hwpmc/hwpmc_amd.h
>

45 
	~<dev/hwpmc/hwpmc_cÜe.h
>

46 
	~<dev/hwpmc/hwpmc_tsc.h
>

47 
	~<dev/hwpmc/hwpmc_uncÜe.h
>

54 
	#PMC_MDEP_CLASS_INDEX_TSC
 1

	)

55 
	#PMC_MDEP_CLASS_INDEX_K8
 2

	)

56 
	#PMC_MDEP_CLASS_INDEX_P4
 2

	)

57 
	#PMC_MDEP_CLASS_INDEX_IAP
 2

	)

58 
	#PMC_MDEP_CLASS_INDEX_IAF
 3

	)

59 
	#PMC_MDEP_CLASS_INDEX_UCP
 4

	)

60 
	#PMC_MDEP_CLASS_INDEX_UCF
 5

	)

74 
	upmc_md_Ý_pmÿÎoÿ‹
 {

75 
pmc_md_amd_Ý_pmÿÎoÿ‹
 
	mpm_amd
;

76 
pmc_md_Ÿp_Ý_pmÿÎoÿ‹
 
	mpm_Ÿp
;

77 
pmc_md_ucf_Ý_pmÿÎoÿ‹
 
	mpm_ucf
;

78 
pmc_md_uý_Ý_pmÿÎoÿ‹
 
	mpm_uý
;

79 
ušt64_t
 
	m__·d
[4];

83 
	#PMCLOG_READADDR
 
PMCLOG_READ64


	)

84 
	#PMCLOG_EMITADDR
 
PMCLOG_EMIT64


	)

86 #ifdef 
_KERNEL


88 
	upmc_md_pmc
 {

89 
pmc_md_amd_pmc
 
	mpm_amd
;

90 
pmc_md_Ÿf_pmc
 
	mpm_Ÿf
;

91 
pmc_md_Ÿp_pmc
 
	mpm_Ÿp
;

92 
pmc_md_ucf_pmc
 
	mpm_ucf
;

93 
pmc_md_uý_pmc
 
	mpm_uý
;

96 
	#PMC_TRAPFRAME_TO_PC
(
TF
è((TF)->
tf_r
)

	)

97 
	#PMC_TRAPFRAME_TO_FP
(
TF
è((TF)->
tf_rbp
)

	)

98 
	#PMC_TRAPFRAME_TO_USER_SP
(
TF
è((TF)->
tf_r¥
)

	)

99 
	#PMC_TRAPFRAME_TO_KERNEL_SP
(
TF
è((TF)->
tf_r¥
)

	)

101 
	#PMC_AT_FUNCTION_PROLOGUE_PUSH_BP
(
I
) \

102 (((
I
è& 0xffffffffè=ð0xe5894855è

	)

103 
	#PMC_AT_FUNCTION_PROLOGUE_MOV_SP_BP
(
I
) \

104 (((
I
è& 0x00ffffffè=ð0x00e58948è

	)

105 
	#PMC_AT_FUNCTION_EPILOGUE_RET
(
I
) \

106 (((
I
è& 0xFFè=ð0xC3è

	)

108 
	#PMC_IN_TRAP_HANDLER
(
PC
) \

109 ((
PC
è>ð(
ušŒ_t
è
¡¬t_exû±iÚs
 && \

110 (
PC
è< (
ušŒ_t
è
’d_exû±iÚs
)

	)

112 
	#PMC_IN_KERNEL_STACK
(
S
,
START
,
END
) \

113 ((
S
è>ð(
START
è&& (Sè< (
END
))

	)

114 
	#PMC_IN_KERNEL
(
va
è
	`INKERNEL
(va)

	)

116 
	#PMC_IN_USERSPACE
(
va
è((vaè<ð
VM_MAXUSER_ADDRESS
)

	)

119 
	#PMC_FAKE_TRAPFRAME
(
TF
) \

121 (
TF
)->
tf_cs
 = 0; (TF)->
tf_ræags
 = 0; \

122 
__asm
 
	`__vÞ©že
("movq %%rbp,%0" : "ô" ((
TF
)->
tf_rbp
)); \

123 
__asm
 
	`__vÞ©že
("movq %%r¥,%0" : "ô" ((
TF
)->
tf_r¥
)); \

124 
__asm
 
	`__vÞ©že
("ÿÎ 1à\n\t1:…Ý %0" : "ô"((
TF
)->
tf_r
)); \

125 } 0)

	)

131 
¡¬t_exû±iÚs
(), 
’d_exû±iÚs
();

133 
pmc_md•
 *
pmc_amd_š™Ÿlize
();

134 
pmc_amd_fš®ize
(
pmc_md•
 *
_md
);

135 
pmc_md•
 *
pmc_š‹l_š™Ÿlize
();

136 
pmc_š‹l_fš®ize
(
pmc_md•
 *
_md
);

	@src/nvidia-drm/machine/ppireg.h

30 #iâdeà
_MACHINE_PPIREG_H_


31 
	#_MACHINE_PPIREG_H_


	)

33 #ifdeà
_KERNEL


35 
	#IO_PPI
 0x61

	)

41 
	#PIT_ENABLETMR2
 0x01

	)

42 
	#PIT_SPKRDATA
 0x02

	)

44 
	#PIT_SPKR
 (
PIT_ENABLETMR2
 | 
PIT_SPKRDATA
)

	)

46 
	#µi_¥kr_Ú
(è
	`outb
(
IO_PPI
, 
	`šb
(IO_PPIè| 
PIT_SPKR
)

	)

47 
	#µi_¥kr_off
(è
	`outb
(
IO_PPI
, 
	`šb
(IO_PPIè& ~
PIT_SPKR
)

	)

	@src/nvidia-drm/machine/proc.h

35 #iâdeà
_MACHINE_PROC_H_


36 
	#_MACHINE_PROC_H_


	)

38 
	~<sys/queue.h
>

39 
	~<machše/£gm’ts.h
>

47 
	s´oc_ldt
 {

48 
ÿddr_t
 
	mldt_ba£
;

49 
	mldt_»fút
;

52 
	spm­_švl_g’
 {

53 
u_lÚg
 
	mg’
;

54 
LIST_ENTRY
(
pm­_švl_g’
è
	mlšk
;

60 
	smdth»ad
 {

61 
	mmd_¥šlock_couÁ
;

62 
»gi¡”_t
 
	mmd_§ved_æags
;

63 
»gi¡”_t
 
	mmd_¥uræt_addr
;

64 
pm­_švl_g’
 
	mmd_švl_g’
;

65 
»gi¡”_t
 
	mmd_efœt_tmp
;

66 
	mmd_efœt_dis_pf
;

69 
	smd´oc
 {

70 
´oc_ldt
 *
	mmd_ldt
;

71 
sy¡em_£gm’t_desütÜ
 
	mmd_ldt_sd
;

74 
	#KINFO_PROC_SIZE
 1088

	)

75 
	#KINFO_PROC32_SIZE
 768

	)

77 
	ssysÿÎ_¬gs
 {

78 
u_št
 
	mcode
;

79 
sy£Á
 *
	mÿÎp
;

80 
»gi¡”_t
 
	m¬gs
[8];

81 
	mÇrg
;

84 #ifdef 
_KERNEL


87 
	#GET_STACK_USAGE
(
tÙ®
, 
u£d
) do { \

88 
th»ad
 *
td
 = 
cu¹h»ad
; \

89 (
tÙ®
èð
td
->
td_k¡ack_·ges
 * 
PAGE_SIZE
; \

90 (
u£d
èð(*)
td
->
td_k¡ack
 + \

91 
td
->
td_k¡ack_·ges
 * 
PAGE_SIZE
 - \

92 (*)&
td
; \

93 } 0)

	)

95 
´oc_ldt
 *
u£r_ldt_®loc
(
´oc
 *, );

96 
u£r_ldt_ä“
(
th»ad
 *);

97 
	gsy§rch_¬gs
;

98 
sy§rch_ldt
(
th»ad
 *
td
, 
sy§rch_¬gs
 *
u­
, 
u­_¥aû
);

99 
amd64_£t_ldt_d©a
(
th»ad
 *
td
, 
¡¬t
, 
num
,

100 
u£r_£gm’t_desütÜ
 *
descs
);

102 
mtx
 
dt_lock
;

103 
max_ldt_£gm’t
;

105 
	#NARGREGS
 6

	)

	@src/nvidia-drm/machine/profile.h

35 #iâdeà
_MACHINE_PROFILE_H_


36 
	#_MACHINE_PROFILE_H_


	)

38 #iâdeà
_SYS_CDEFS_H_


39 #”rÜ 
this
 
fže
 
Ãeds
 
sys
/
cdefs
.
h
 
as
 
a
 
´”equis™e


42 #ifdeà
_KERNEL


48 
	#FUNCTION_ALIGNMENT
 16

	)

55 
	#_MCOUNT_DECL
 
mcouÁ


	)

56 
	#MCOUNT


	)

58 #ifdeà
GUPROF


59 
	#MCOUNT_DECL
(
s
)

	)

60 
	#MCOUNT_ENTER
(
s
)

	)

61 
	#MCOUNT_EXIT
(
s
)

	)

62 #ifdeà
__GNUCLIKE_ASM


63 
	#MCOUNT_OVERHEAD
(
Ïb–
) \

64 
__asm
 
	`__vÞ©že
("pushq %0; call __mcount;…opq %%rcx" \

66 : "i" (
Ïb–
) \

67 : "cx", "r10", "r11", "memÜy")

	)

68 
	#MEXITCOUNT_OVERHEAD
() \

69 
__asm
 
	`__vÞ©že
("call .mexitcount; 1:" \

71 : "r10", "r11", "memÜy")

	)

72 
	#MEXITCOUNT_OVERHEAD_GETLABEL
(
Ïb–p
) \

73 
__asm
 
	`__vÞ©že
("movq $1b,%0" : "ôm" (
Ïb–p
))

	)

75 #”rÜ 
this
 
fže
 
Ãeds
 
to
 
be
 
pÜ‹d
Ø
your
 
compž”


78 
	#MCOUNT_DECL
(
s
è
»gi¡”_t
 s;

	)

79 #ifdeà
SMP


80 
mcouÁ_lock
;

81 
	#MCOUNT_ENTER
(
s
è{ s = 
	`šŒ_di§bË
(); \

82 !
	`©omic_cmp£t_acq_št
(&
mcouÁ_lock
, 0, 1)) \

83  ; }

	)

84 
	#MCOUNT_EXIT
(
s
è{ 
	`©omic_¡Üe_»l_št
(&
mcouÁ_lock
, 0); \

85 
	`šŒ_»¡Üe
(
s
); }

	)

87 
	#MCOUNT_ENTER
(
s
è{ s = 
	`šŒ_di§bË
(); }

	)

88 
	#MCOUNT_EXIT
(
s
è(
	`šŒ_»¡Üe
(s))

	)

92 
bšŒ
();

93 
bŒ­
();

94 
ešŒ
();

95 
u£r
();

97 
	#MCOUNT_FROMPC_USER
(
pc
) \

98 ((
pc
 < (
uštåŒ_t
)
VM_MAXUSER_ADDRESS
è? (uštåŒ_t)
u£r
 :…c)

	)

100 
	#MCOUNT_FROMPC_INTR
(
pc
) \

101 ((
pc
 >ð(
uštåŒ_t
)
bŒ­
 &&…ø< (uštåŒ_t)
ešŒ
) ? \

102 ((
pc
 >ð(
uštåŒ_t
)
bšŒ
) ? (uintfptr_t)bintr : \

103 (
uštåŒ_t
)
bŒ­
è: ~0UL)

	)

107 
	#FUNCTION_ALIGNMENT
 4

	)

109 
	#_MCOUNT_DECL
 \

110 
	`_mcouÁ
(
uštåŒ_t
 
äompc
, uštåŒ_ˆ
£låc
è
__u£d
; \

111 
_mcouÁ


	)

113 #ifdeà
__GNUCLIKE_ASM


114 
	#MCOUNT
 
	`__asm
(" \n\
.‹xt \n\
.p2®igÀ4,0x90 \n\
.globl .mcouÁ \n\
.ty³ .mcouÁ,@funùiÚ \n\
.mcouÁ: \n\
 %rdi \n\
 %rsi \n\
 %rdx \n\
 %rcx \n\
 %r8 \n\
 %r9 \n\
 %¿x \n\
 8(%rbp),%rdi \n\
 7*8(%r¥),%rsi \n\
 _mcouÁ \n\
 %¿x \n\
 %r9 \n\
 %r8 \n\
 %rcx \n\
 %rdx \n\
 %rsi \n\
 %rdi \n\
 \n\
.size .mcouÁ, . - .mcouÁ");

	)

146 
	#MCOUNT
 \

148 
	`mcouÁ
() \

150 
uštåŒ_t
 
£låc
, 
äompc
; \

157 
	`__asm
("movq 8(%%rbp),%0" : "ô" (
£låc
)); \

164 
	`__asm
("movq (%%rbp),%0" : "ô" (
äompc
)); \

165 
äompc
 = ((
uštåŒ_t
 *)frompc)[1]; \

166 
	`_mcouÁ
(
äompc
, 
£låc
); \

167 }

	)

170 
	#MCOUNT


	)

173 
u_lÚg
 
	tuštåŒ_t
;

181 
u_lÚg
 
	tåŒdiff_t
;

183 #ifdeà
_KERNEL


185 
mcouÁ
(
uštåŒ_t
 
äompc
, uštåŒ_ˆ
£låc
);

189 
	~<sys/cdefs.h
>

191 
	g__BEGIN_DECLS


192 #ifdeà
__GNUCLIKE_ASM


193 
	$mcouÁ
(è
	`__asm
(".mcount");

195 
__END_DECLS


	@src/nvidia-drm/machine/psl.h

6 
	~<x86/p¦.h
>

	@src/nvidia-drm/machine/ptrace.h

6 
	~<x86/±¿û.h
>

	@src/nvidia-drm/machine/pvclock.h

6 
	~<x86/pvþock.h
>

	@src/nvidia-drm/machine/reg.h

6 
	~<x86/»g.h
>

	@src/nvidia-drm/machine/reloc.h

35 #iâdeà
_I386_MACHINE_RELOC_H_


36 
	#_I386_MACHINE_RELOC_H_


	)

39 
	s»loÿtiÚ_šfo
 {

40 
	mr_add»ss
;

41 
	mr_symbÞnum
 : 24,

42 
	mr_pü–
 : 1,

43 
	mr_Ëngth
 : 2,

44 
	mr_ex‹º
 : 1,

45 
	mr_ba£»l
 : 1,

46 
	mr_jm±abË
 : 1,

47 
	mr_»Ïtive
 : 1,

48 
	mr_cÝy
 : 1;

	@src/nvidia-drm/machine/resource.h

31 #iâdeà
_MACHINE_RESOURCE_H_


32 
	#_MACHINE_RESOURCE_H_
 1

	)

39 
	#SYS_RES_IRQ
 1

	)

40 
	#SYS_RES_DRQ
 2

	)

41 
	#SYS_RES_MEMORY
 3

	)

42 
	#SYS_RES_IOPORT
 4

	)

43 #ifdeà
NEW_PCIB


44 
	#PCI_RES_BUS
 5

	)

	@src/nvidia-drm/machine/runq.h

31 #iâdef 
_MACHINE_RUNQ_H_


32 
	#_MACHINE_RUNQ_H_


	)

34 
	#RQB_LEN
 (1è

	)

35 
	#RQB_L2BPW
 (6è

	)

36 
	#RQB_BPW
 (1<<
RQB_L2BPW
è

	)

38 
	#RQB_BIT
(
´i
è(1uÈ<< (Õriè& (
RQB_BPW
 - 1)))

	)

39 
	#RQB_WORD
(
´i
è(Õriè>> 
RQB_L2BPW
)

	)

41 
	#RQB_FFS
(
wÜd
è(
	`bsfq
(wÜd))

	)

46 
u_št64_t
 
	trqb_wÜd_t
;

	@src/nvidia-drm/machine/segments.h

39 #iâdeà
_MACHINE_SEGMENTS_H_


40 
	#_MACHINE_SEGMENTS_H_


	)

46 
	~<x86/£gm’ts.h
>

51 
	ssy¡em_£gm’t_desütÜ
 {

52 
u_št64_t
 
	msd_lÞim™
:16;

53 
u_št64_t
 
	msd_loba£
:24;

54 
u_št64_t
 
	msd_ty³
:5;

55 
u_št64_t
 
	msd_d¶
:2;

56 
u_št64_t
 
	msd_p
:1;

57 
u_št64_t
 
	msd_hžim™
:4;

58 
u_št64_t
 
	msd_xx0
:3;

59 
u_št64_t
 
	msd_g¿n
:1;

60 
u_št64_t
 
	msd_hiba£
:40 
__·cked
;

61 
u_št64_t
 
	msd_xx1
:8;

62 
u_št64_t
 
	msd_mbz
:5;

63 
u_št64_t
 
	msd_xx2
:19;

64 } 
	g__·cked
;

72 
	ssoá_£gm’t_desütÜ
 {

73 
	mssd_ba£
;

74 
	mssd_lim™
;

75 
	mssd_ty³
:5;

76 
	mssd_d¶
:2;

77 
	mssd_p
:1;

78 
	mssd_lÚg
:1;

79 
	mssd_def32
:1;

80 
	mssd_g¿n
:1;

81 } 
	g__·cked
;

86 
	s»giÚ_desütÜ
 {

87 
ušt64_t
 
	mrd_lim™
:16;

88 
ušt64_t
 
	mrd_ba£
:64 
__·cked
;

89 } 
	g__·cked
;

91 #ifdeà
_KERNEL


92 
u£r_£gm’t_desütÜ
 
gdt
[];

93 
soá_£gm’t_desütÜ
 
gdt_£gs
[];

94 
g©e_desütÜ
 *
idt
;

95 
»giÚ_desütÜ
 
r_gdt
, 
r_idt
;

97 
lgdt
(
»giÚ_desütÜ
 *
rdp
);

98 
sdtossd
(
u£r_£gm’t_desütÜ
 *
sdp
,

99 
soá_£gm’t_desütÜ
 *
ssdp
);

100 
ssdtosd
(
soá_£gm’t_desütÜ
 *
ssdp
,

101 
u£r_£gm’t_desütÜ
 *
sdp
);

102 
ssdtosyssd
(
soá_£gm’t_desütÜ
 *
ssdp
,

103 
sy¡em_£gm’t_desütÜ
 *
sdp
);

104 
upd©e_gdt_gsba£
(
th»ad
 *
td
, 
ušt32_t
 
ba£
);

105 
upd©e_gdt_fsba£
(
th»ad
 *
td
, 
ušt32_t
 
ba£
);

	@src/nvidia-drm/machine/setjmp.h

6 
	~<x86/£tjmp.h
>

	@src/nvidia-drm/machine/sf_buf.h

31 #iâdeà
_MACHINE_SF_BUF_H_


32 
	#_MACHINE_SF_BUF_H_


	)

40 
šlše
 
vm_off£t_t


41 
	$sf_buf_kva
(
sf_buf
 *
sf
)

44  (
	`PHYS_TO_DMAP
(
	`VM_PAGE_TO_PHYS
((
vm_·ge_t
)
sf
)));

45 
	}
}

47 
šlše
 
vm_·ge_t


48 
	$sf_buf_·ge
(
sf_buf
 *
sf
)

51  ((
vm_·ge_t
)
sf
);

52 
	}
}

	@src/nvidia-drm/machine/sgx.h

36 #iâdeà
_MACHINE_SGX_H_


37 
	#_MACHINE_SGX_H_


	)

39 
	#SGX_MAGIC
 0xA4

	)

40 
	#SGX_IOC_ENCLAVE_CREATE
 \

41 
	`_IOW
(
SGX_MAGIC
, 0x00, 
sgx_’þave_ü—‹
)

	)

42 
	#SGX_IOC_ENCLAVE_ADD_PAGE
 \

43 
	`_IOW
(
SGX_MAGIC
, 0x01, 
sgx_’þave_add_·ge
)

	)

44 
	#SGX_IOC_ENCLAVE_INIT
 \

45 
	`_IOW
(
SGX_MAGIC
, 0x02, 
sgx_’þave_š™
)

	)

47 
	ssgx_’þave_ü—‹
 {

48 
ušt64_t
 
	m¤c
;

49 } 
	g__·cked
;

51 
	ssgx_’þave_add_·ge
 {

52 
ušt64_t
 
	maddr
;

53 
ušt64_t
 
	m¤c
;

54 
ušt64_t
 
	m£cšfo
;

55 
ušt16_t
 
	mmrmask
;

56 } 
	g__·cked
;

58 
	ssgx_’þave_š™
 {

59 
ušt64_t
 
	maddr
;

60 
ušt64_t
 
	msig¡ruù
;

61 
ušt64_t
 
	meš™tok’
;

62 } 
	g__·cked
;

	@src/nvidia-drm/machine/sgxreg.h

36 #iâdeà
_MACHINE_SGXREG_H_


37 
	#_MACHINE_SGXREG_H_


	)

40 
	#SGX_SUCCESS
 0

	)

41 
	#SGX_INVALID_SIG_STRUCT
 1

	)

42 
	#SGX_INVALID_ATTRIBUTE
 2

	)

43 
	#SGX_BLSTATE
 3

	)

44 
	#SGX_INVALID_MEASUREMENT
 4

	)

45 
	#SGX_NOTBLOCKABLE
 5

	)

46 
	#SGX_PG_INVLD
 6

	)

47 
	#SGX_LOCKFAIL
 7

	)

48 
	#SGX_INVALID_SIGNATURE
 8

	)

49 
	#SGX_MAC_COMPARE_FAIL
 9

	)

50 
	#SGX_PAGE_NOT_BLOCKED
 10

	)

51 
	#SGX_NOT_TRACKED
 11

	)

52 
	#SGX_VA_SLOT_OCCUPIED
 12

	)

53 
	#SGX_CHILD_PRESENT
 13

	)

54 
	#SGX_ENCLAVE_ACT
 14

	)

55 
	#SGX_ENTRYEPOCH_LOCKED
 15

	)

56 
	#SGX_INVALID_EINIT_TOKEN
 16

	)

57 
	#SGX_PREV_TRK_INCMPL
 17

	)

58 
	#SGX_PG_IS_SECS
 18

	)

59 
	#SGX_PAGE_ATTRIBUTES_MISMATCH
 19

	)

60 
	#SGX_PAGE_NOT_MODIFIABLE
 20

	)

61 
	#SGX_INVALID_CPUSVN
 32

	)

62 
	#SGX_INVALID_ISVSVN
 64

	)

63 
	#SGX_UNMASKED_EVENT
 128

	)

64 
	#SGX_INVALID_KEYNAME
 256

	)

71 
	s·ge_šfo
 {

72 
ušt64_t
 
	mlšaddr
;

73 
ušt64_t
 
	m¤ýge
;

75 
£cšfo
 *
	m£cšfo
;

76 
ušt64_t
 
	mpcmd
;

78 
ušt64_t
 
	m£cs
;

79 } 
__®igÃd
(32);

85 
	s£cšfo
 {

86 
ušt64_t
 
	mæags
;

87 
	#SECINFO_FLAGS_PT_S
 8

	)

88 
	#SECINFO_FLAGS_PT_M
 (0xfà<< 
SECINFO_FLAGS_PT_S
)

	)

89 
ušt64_t
 
	m»£rved
[7];

90 } 
__®igÃd
(64);

98 
	s£cs_©Œ
 {

99 
ušt8_t
 
	m»£rved1
: 1;

100 
ušt8_t
 
	mdebug
: 1;

101 
ušt8_t
 
	mmode64b™
: 1;

102 
ušt8_t
 
	m»£rved2
: 1;

103 
ušt8_t
 
	m´ovisiÚkey
: 1;

104 
ušt8_t
 
	meš™tok’key
: 1;

105 
ušt8_t
 
	m»£rved3
: 2;

106 
	#SECS_ATTR_RSV4_SIZE
 7

	)

107 
ušt8_t
 
	m»£rved4
[
SECS_ATTR_RSV4_SIZE
];

108 
ušt64_t
 
	mxäm
;

115 
	s£cs
 {

116 
ušt64_t
 
	msize
;

117 
ušt64_t
 
	mba£
;

118 
ušt32_t
 
	ms§_äame_size
;

119 
ušt32_t
 
	mmisc_£Ëù
;

120 
	#SECS_RSV1_SIZE
 24

	)

121 
ušt8_t
 
	m»£rved1
[
SECS_RSV1_SIZE
];

122 
£cs_©Œ
 
	m©Œibu‹s
;

123 
ušt8_t
 
	mmr_’þave
[32];

124 
	#SECS_RSV2_SIZE
 32

	)

125 
ušt8_t
 
	m»£rved2
[
SECS_RSV2_SIZE
];

126 
ušt8_t
 
	mmr_sigÃr
[32];

127 
	#SECS_RSV3_SIZE
 96

	)

128 
ušt8_t
 
	m»£rved3
[
SECS_RSV3_SIZE
];

129 
ušt16_t
 
	misv_´od_id
;

130 
ušt16_t
 
	misv_svn
;

131 
	#SECS_RSV4_SIZE
 3836

	)

132 
ušt8_t
 
	m»£rved4
[
SECS_RSV4_SIZE
];

140 
	stcs
 {

141 
ušt64_t
 
	m»£rved1
;

142 
ušt64_t
 
	mæags
;

143 
ušt64_t
 
	mos§
;

144 
ušt32_t
 
	mcs§
;

145 
ušt32_t
 
	mns§
;

146 
ušt64_t
 
	mÛÁry
;

147 
ušt64_t
 
	m»£rved2
;

148 
ušt64_t
 
	mofsbasgx
;

149 
ušt64_t
 
	mogsbasgx
;

150 
ušt32_t
 
	mf¦im™
;

151 
ušt32_t
 
	mg¦im™
;

152 
ušt64_t
 
	m»£rved3
[503];

	@src/nvidia-drm/machine/sigframe.h

6 
	~<x86/sigäame.h
>

	@src/nvidia-drm/machine/signal.h

6 
	~<x86/sigÇl.h
>

	@src/nvidia-drm/machine/smp.h

13 #iâdeà
_MACHINE_SMP_H_


14 
	#_MACHINE_SMP_H_


	)

16 #ifdeà
_KERNEL


18 #ifdeà
SMP


20 #iâdeà
LOCORE


22 
	~<x86/x86_smp.h
>

25 
m±¿mp_¡¬t
[];

26 
u_št32_t
 
m±¿mp_·g‘abËs
;

29 
šthªd_t


30 
IDTVEC
(
ju¡»tuº
),

31 
IDTVEC
(
ju¡»tuº1_±i
),

32 
IDTVEC
(
švÉlb_±i
),

33 
IDTVEC
(
švÉlb_pcid_±i
),

34 
IDTVEC
(
švÉlb_pcid
),

35 
IDTVEC
(
švÉlb_švpcid_±i_±i
),

36 
IDTVEC
(
švÉlb_švpcid_nÝti
),

37 
IDTVEC
(
švÍg_±i
),

38 
IDTVEC
(
švÍg_švpcid_±i
),

39 
IDTVEC
(
švÍg_švpcid
),

40 
IDTVEC
(
švÍg_pcid_±i
),

41 
IDTVEC
(
švÍg_pcid
),

42 
IDTVEC
(
švÌng_±i
),

43 
IDTVEC
(
švÌng_švpcid_±i
),

44 
IDTVEC
(
švÌng_švpcid
),

45 
IDTVEC
(
švÌng_pcid_±i
),

46 
IDTVEC
(
švÌng_pcid
),

47 
IDTVEC
(
švlÿche_±i
),

48 
IDTVEC
(
i_šŒ_b™m­_hªdËr_±i
),

49 
IDTVEC
(
ýu¡Ý_±i
),

50 
IDTVEC
(
ýusu¥’d_±i
),

51 
IDTVEC
(
»ndezvous_±i
);

53 
švÉlb_pcid_hªdËr
();

54 
švÉlb_švpcid_hªdËr
();

55 
švÉlb_švpcid_±i_hªdËr
();

56 
švÍg_švpcid_hªdËr
();

57 
švÍg_pcid_hªdËr
();

58 
švÌng_švpcid_hªdËr
();

59 
švÌng_pcid_hªdËr
();

60 
Çtive_¡¬t_®l_­s
();

61 
mp_boÙadd»ss
(
vm_·ddr_t
 *, *);

	@src/nvidia-drm/machine/specialreg.h

6 
	~<x86/¥ecŸÌeg.h
>

	@src/nvidia-drm/machine/stack.h

6 
	~<x86/¡ack.h
>

	@src/nvidia-drm/machine/stdarg.h

6 
	~<x86/¡d¬g.h
>

	@src/nvidia-drm/machine/sysarch.h

6 
	~<x86/sy§rch.h
>

	@src/nvidia-drm/machine/timerreg.h

41 #iâdeà
_MACHINE_TIMERREG_H_


42 
	#_MACHINE_TIMERREG_H_


	)

44 #ifdeà
_KERNEL


46 
	~<dev/ic/i8253»g.h
>

48 
	#IO_TIMER1
 0x40

	)

49 
	#TIMER_CNTR0
 (
IO_TIMER1
 + 
TIMER_REG_CNTR0
)

	)

50 
	#TIMER_CNTR1
 (
IO_TIMER1
 + 
TIMER_REG_CNTR1
)

	)

51 
	#TIMER_CNTR2
 (
IO_TIMER1
 + 
TIMER_REG_CNTR2
)

	)

52 
	#TIMER_MODE
 (
IO_TIMER1
 + 
TIMER_REG_MODE
)

	)

	@src/nvidia-drm/machine/trap.h

6 
	~<x86/Œ­.h
>

	@src/nvidia-drm/machine/tss.h

38 #iâdeà
_MACHINE_TSS_H_


39 
	#_MACHINE_TSS_H_
 1

	)

48 
	samd64tss
 {

49 
u_št32_t
 
	mtss_rsvd0
;

50 
u_št64_t
 
tss_r¥0
 
	m__·cked
;

51 
u_št64_t
 
tss_r¥1
 
	m__·cked
;

52 
u_št64_t
 
tss_r¥2
 
	m__·cked
;

53 
u_št32_t
 
	mtss_rsvd1
;

54 
u_št32_t
 
	mtss_rsvd2
;

55 
u_št64_t
 
tss_i¡1
 
	m__·cked
;

56 
u_št64_t
 
tss_i¡2
 
	m__·cked
;

57 
u_št64_t
 
tss_i¡3
 
	m__·cked
;

58 
u_št64_t
 
tss_i¡4
 
	m__·cked
;

59 
u_št64_t
 
tss_i¡5
 
	m__·cked
;

60 
u_št64_t
 
tss_i¡6
 
	m__·cked
;

61 
u_št64_t
 
tss_i¡7
 
	m__·cked
;

62 
u_št32_t
 
	mtss_rsvd3
;

63 
u_št32_t
 
	mtss_rsvd4
;

64 
u_št16_t
 
	mtss_rsvd5
;

65 
u_št16_t
 
	mtss_ioba£
;

68 #ifdeà
_KERNEL


69 
amd64tss
 
commÚ_tss
[];

	@src/nvidia-drm/machine/ucontext.h

6 
	~<x86/ucÚ‹xt.h
>

	@src/nvidia-drm/machine/vdso.h

6 
	~<x86/vdso.h
>

	@src/nvidia-drm/machine/vm.h

32 #iâdeà
_MACHINE_VM_H_


33 
	#_MACHINE_VM_H_


	)

35 
	~<machše/¥ecŸÌeg.h
>

38 
	#VM_MEMATTR_UNCACHEABLE
 ((
vm_mem©Œ_t
)
PAT_UNCACHEABLE
)

	)

39 
	#VM_MEMATTR_WRITE_COMBINING
 ((
vm_mem©Œ_t
)
PAT_WRITE_COMBINING
)

	)

40 
	#VM_MEMATTR_WRITE_THROUGH
 ((
vm_mem©Œ_t
)
PAT_WRITE_THROUGH
)

	)

41 
	#VM_MEMATTR_WRITE_PROTECTED
 ((
vm_mem©Œ_t
)
PAT_WRITE_PROTECTED
)

	)

42 
	#VM_MEMATTR_WRITE_BACK
 ((
vm_mem©Œ_t
)
PAT_WRITE_BACK
)

	)

43 
	#VM_MEMATTR_WEAK_UNCACHEABLE
 ((
vm_mem©Œ_t
)
PAT_UNCACHED
)

	)

45 
	#VM_MEMATTR_DEFAULT
 
VM_MEMATTR_WRITE_BACK


	)

	@src/nvidia-drm/machine/vmm.h

31 #iâdeà
_VMM_H_


32 
	#_VMM_H_


	)

34 
	~<sys/sdt.h
>

35 
	~<x86/£gm’ts.h
>

37 #ifdeà
_KERNEL


38 
SDT_PROVIDER_DECLARE
(
vmm
);

41 
	evm_su¥’d_how
 {

42 
	mVM_SUSPEND_NONE
,

43 
	mVM_SUSPEND_RESET
,

44 
	mVM_SUSPEND_POWEROFF
,

45 
	mVM_SUSPEND_HALT
,

46 
	mVM_SUSPEND_TRIPLEFAULT
,

47 
	mVM_SUSPEND_LAST


53 
	evm_»g_Çme
 {

54 
	mVM_REG_GUEST_RAX
,

55 
	mVM_REG_GUEST_RBX
,

56 
	mVM_REG_GUEST_RCX
,

57 
	mVM_REG_GUEST_RDX
,

58 
	mVM_REG_GUEST_RSI
,

59 
	mVM_REG_GUEST_RDI
,

60 
	mVM_REG_GUEST_RBP
,

61 
	mVM_REG_GUEST_R8
,

62 
	mVM_REG_GUEST_R9
,

63 
	mVM_REG_GUEST_R10
,

64 
	mVM_REG_GUEST_R11
,

65 
	mVM_REG_GUEST_R12
,

66 
	mVM_REG_GUEST_R13
,

67 
	mVM_REG_GUEST_R14
,

68 
	mVM_REG_GUEST_R15
,

69 
	mVM_REG_GUEST_CR0
,

70 
	mVM_REG_GUEST_CR3
,

71 
	mVM_REG_GUEST_CR4
,

72 
	mVM_REG_GUEST_DR7
,

73 
	mVM_REG_GUEST_RSP
,

74 
	mVM_REG_GUEST_RIP
,

75 
	mVM_REG_GUEST_RFLAGS
,

76 
	mVM_REG_GUEST_ES
,

77 
	mVM_REG_GUEST_CS
,

78 
	mVM_REG_GUEST_SS
,

79 
	mVM_REG_GUEST_DS
,

80 
	mVM_REG_GUEST_FS
,

81 
	mVM_REG_GUEST_GS
,

82 
	mVM_REG_GUEST_LDTR
,

83 
	mVM_REG_GUEST_TR
,

84 
	mVM_REG_GUEST_IDTR
,

85 
	mVM_REG_GUEST_GDTR
,

86 
	mVM_REG_GUEST_EFER
,

87 
	mVM_REG_GUEST_CR2
,

88 
	mVM_REG_GUEST_PDPTE0
,

89 
	mVM_REG_GUEST_PDPTE1
,

90 
	mVM_REG_GUEST_PDPTE2
,

91 
	mVM_REG_GUEST_PDPTE3
,

92 
	mVM_REG_GUEST_INTR_SHADOW
,

93 
	mVM_REG_GUEST_DR0
,

94 
	mVM_REG_GUEST_DR1
,

95 
	mVM_REG_GUEST_DR2
,

96 
	mVM_REG_GUEST_DR3
,

97 
	mVM_REG_GUEST_DR6
,

98 
	mVM_REG_LAST


101 
	ex2­ic_¡©e
 {

102 
	mX2APIC_DISABLED
,

103 
	mX2APIC_ENABLED
,

104 
	mX2APIC_STATE_LAST


107 
	#VM_INTINFO_VECTOR
(
šfo
è((šfoè& 0xff)

	)

108 
	#VM_INTINFO_DEL_ERRCODE
 0x800

	)

109 
	#VM_INTINFO_RSVD
 0x7ffff000

	)

110 
	#VM_INTINFO_VALID
 0x80000000

	)

111 
	#VM_INTINFO_TYPE
 0x700

	)

112 
	#VM_INTINFO_HWINTR
 (0 << 8)

	)

113 
	#VM_INTINFO_NMI
 (2 << 8)

	)

114 
	#VM_INTINFO_HWEXCEPTION
 (3 << 8)

	)

115 
	#VM_INTINFO_SWINTR
 (4 << 8)

	)

117 #ifdeà
_KERNEL


119 
	#VM_MAX_NAMELEN
 32

	)

121 
	gvm
;

122 
	gvm_exû±iÚ
;

123 
	g£g_desc
;

124 
	gvm_ex™
;

125 
	gvm_run
;

126 
	gvh³t
;

127 
	gvißpic
;

128 
	gvÏpic
;

129 
	gvm¥aû
;

130 
	gvm_objeù
;

131 
	gvm_gue¡_·gšg
;

132 
	gpm­
;

134 
	svm_ev’tšfo
 {

135 *
	m½Œ
;

136 *
	m¥Œ
;

137 *
	mŒ
;

140 (*
	tvmm_š™_func_t
)(
	tšum
);

141 (*
	tvmm_þ—nup_func_t
)();

142 (*
	tvmm_»sume_func_t
)();

143 * (*
	tvmi_š™_func_t
)(
	tvm
 *vm, 
	tpm­
 *pmap);

144 (*
	tvmi_run_func_t
)(*
	tvmi
, 
	tvýu
, 
	t»gi¡”_t
 
	tr
,

145 
	tpm­
 *pm­, 
	tvm_ev’tšfo
 *
	tšfo
);

146 (*
	tvmi_þ—nup_func_t
)(*
	tvmi
);

147 (*
	tvmi_g‘_»gi¡”_t
)(*
	tvmi
, 
	tvýu
, 
	tnum
,

148 
	tušt64_t
 *
	t»tv®
);

149 (*
	tvmi_£t_»gi¡”_t
)(*
	tvmi
, 
	tvýu
, 
	tnum
,

150 
	tušt64_t
 
	tv®
);

151 (*
	tvmi_g‘_desc_t
)(*
	tvmi
, 
	tvýu
, 
	tnum
,

152 
	t£g_desc
 *
	tdesc
);

153 (*
	tvmi_£t_desc_t
)(*
	tvmi
, 
	tvýu
, 
	tnum
,

154 
	t£g_desc
 *
	tdesc
);

155 (*
	tvmi_g‘_ÿp_t
)(*
	tvmi
, 
	tvýu
, 
	tnum
, *
	t»tv®
);

156 (*
	tvmi_£t_ÿp_t
)(*
	tvmi
, 
	tvýu
, 
	tnum
, 
	tv®
);

157 
vm¥aû
 * (*
	tvmi_vm¥aû_®loc
)(
	tvm_off£t_t
 
	tmš
, vm_off£t_ˆ
	tmax
);

158 (*
	tvmi_vm¥aû_ä“
)(
	tvm¥aû
 *vmspace);

159 
vÏpic
 * (*
	tvmi_vÏpic_š™
)(*
	tvmi
, 
	tvýu
);

160 (*
	tvmi_vÏpic_þ—nup
)(*
	tvmi
, 
	tvÏpic
 *vlapic);

162 
	svmm_Ýs
 {

163 
vmm_š™_func_t
 
š™
;

164 
vmm_þ—nup_func_t
 
þ—nup
;

165 
vmm_»sume_func_t
 
»sume
;

167 
vmi_š™_func_t
 
vmš™
;

168 
vmi_run_func_t
 
vmrun
;

169 
vmi_þ—nup_func_t
 
vmþ—nup
;

170 
vmi_g‘_»gi¡”_t
 
vmg‘»g
;

171 
vmi_£t_»gi¡”_t
 
vm£Œeg
;

172 
vmi_g‘_desc_t
 
vmg‘desc
;

173 
vmi_£t_desc_t
 
vm£tdesc
;

174 
vmi_g‘_ÿp_t
 
vmg‘ÿp
;

175 
vmi_£t_ÿp_t
 
vm£tÿp
;

176 
vmi_vm¥aû_®loc
 
vm¥aû_®loc
;

177 
vmi_vm¥aû_ä“
 
vm¥aû_ä“
;

178 
vmi_vÏpic_š™
 
vÏpic_š™
;

179 
vmi_vÏpic_þ—nup
 
vÏpic_þ—nup
;

182 
vmm_Ýs
 
vmm_Ýs_š‹l
;

183 
vmm_Ýs
 
vmm_Ýs_amd
;

185 
	`vm_ü—‹
(cÚ¡ *
Çme
, 
vm
 **
»tvm
);

186 
	`vm_de¡roy
(
vm
 *vm);

187 
	`vm_»š™
(
vm
 *vm);

188 cÚ¡ *
	`vm_Çme
(
vm
 *vm);

189 
	`vm_g‘_tÝÞogy
(
vm
 *vm, 
ušt16_t
 *
sock‘s
, ušt16_ˆ*
cÜes
,

190 
ušt16_t
 *
th»ads
, ušt16_ˆ*
maxýus
);

191 
	`vm_£t_tÝÞogy
(
vm
 *vm, 
ušt16_t
 
sock‘s
, ušt16_ˆ
cÜes
,

192 
ušt16_t
 
th»ads
, ušt16_ˆ
maxýus
);

197 
	`vm_mm­_mem£g
(
vm
 *vm, 
vm_·ddr_t
 
g·
, 
£gid
, 
vm_ooff£t_t
 
off
,

198 
size_t
 
Ën
, 
´Ù
, 
æags
);

199 
	`vm_®loc_mem£g
(
vm
 *vm, 
id’t
, 
size_t
 
Ën
, 
boÞ
 
sysmem
);

200 
	`vm_ä“_mem£g
(
vm
 *vm, 
id’t
);

201 
	`vm_m­_mmio
(
vm
 *vm, 
vm_·ddr_t
 
g·
, 
size_t
 
Ën
, vm_·ddr_ˆ
h·
);

202 
	`vm_unm­_mmio
(
vm
 *vm, 
vm_·ddr_t
 
g·
, 
size_t
 
Ën
);

203 
	`vm_assign_µtdev
(
vm
 *vm, 
bus
, 
¦Ù
, 
func
);

204 
	`vm_uÇssign_µtdev
(
vm
 *vm, 
bus
, 
¦Ù
, 
func
);

211 
	`vm_mm­_g‘Ãxt
(
vm
 *vm, 
vm_·ddr_t
 *
g·
, *
£gid
,

212 
vm_ooff£t_t
 *
£goff
, 
size_t
 *
Ën
, *
´Ù
, *
æags
);

213 
	`vm_g‘_mem£g
(
vm
 *vm, 
id’t
, 
size_t
 *
Ën
, 
boÞ
 *
sysmem
,

214 
vm_objeù
 **
obj±r
);

215 
vm_·ddr_t
 
	`vmm_sysmem_maxaddr
(
vm
 *vm);

216 *
	`vm_g·_hÞd
(
vm
 *, 
výuid
, 
vm_·ddr_t
 
g·
, 
size_t
 
Ën
,

217 
´Ù
, **
cook›
);

218 
	`vm_g·_»Ëa£
(*
cook›
);

219 
boÞ
 
	`vm_mem_®loÿ‹d
(
vm
 *vm, 
výuid
, 
vm_·ddr_t
 
g·
);

221 
	`vm_g‘_»gi¡”
(
vm
 *vm, 
výu
, 
»g
, 
ušt64_t
 *
»tv®
);

222 
	`vm_£t_»gi¡”
(
vm
 *vm, 
výu
, 
»g
, 
ušt64_t
 
v®
);

223 
	`vm_g‘_£g_desc
(
vm
 *vm, 
výu
, 
»g
,

224 
£g_desc
 *
»t_desc
);

225 
	`vm_£t_£g_desc
(
vm
 *vm, 
výu
, 
»g
,

226 
£g_desc
 *
desc
);

227 
	`vm_run
(
vm
 *vm, 
vm_run
 *
vmrun
);

228 
	`vm_su¥’d
(
vm
 *vm, 
vm_su¥’d_how
 
how
);

229 
	`vm_šjeù_nmi
(
vm
 *vm, 
výu
);

230 
	`vm_nmi_³ndšg
(
vm
 *vm, 
výuid
);

231 
	`vm_nmi_þ—r
(
vm
 *vm, 
výuid
);

232 
	`vm_šjeù_extšt
(
vm
 *vm, 
výu
);

233 
	`vm_extšt_³ndšg
(
vm
 *vm, 
výuid
);

234 
	`vm_extšt_þ—r
(
vm
 *vm, 
výuid
);

235 
vÏpic
 *
	`vm_Ïpic
(
vm
 *vm, 
ýu
);

236 
vißpic
 *
	`vm_ißpic
(
vm
 *vm);

237 
vh³t
 *
	`vm_h³t
(
vm
 *vm);

238 
	`vm_g‘_ÿ·bž™y
(
vm
 *vm, 
výu
, 
ty³
, *
v®
);

239 
	`vm_£t_ÿ·bž™y
(
vm
 *vm, 
výu
, 
ty³
, 
v®
);

240 
	`vm_g‘_x2­ic_¡©e
(
vm
 *vm, 
výu
, 
x2­ic_¡©e
 *
¡©e
);

241 
	`vm_£t_x2­ic_¡©e
(
vm
 *vm, 
výu
, 
x2­ic_¡©e
 
¡©e
);

242 
	`vm_­icid2výuid
(
vm
 *vm, 
­icid
);

243 
	`vm_aùiv©e_ýu
(
vm
 *vm, 
výu
);

244 
	`vm_su¥’d_ýu
(
vm
 *vm, 
výu
);

245 
	`vm_»sume_ýu
(
vm
 *vm, 
výu
);

246 
vm_ex™
 *
	`vm_ex™šfo
(
vm
 *vm, 
výuid
);

247 
	`vm_ex™_su¥’ded
(
vm
 *vm, 
výuid
, 
ušt64_t
 
r
);

248 
	`vm_ex™_debug
(
vm
 *vm, 
výuid
, 
ušt64_t
 
r
);

249 
	`vm_ex™_»ndezvous
(
vm
 *vm, 
výuid
, 
ušt64_t
 
r
);

250 
	`vm_ex™_a¡³ndšg
(
vm
 *vm, 
výuid
, 
ušt64_t
 
r
);

251 
	`vm_ex™_»qidË
(
vm
 *vm, 
výuid
, 
ušt64_t
 
r
);

253 #ifdeà
_SYS__CPUSET_H_


268 (*
	tvm_»ndezvous_func_t
)(
	tvm
 *vm, 
	tvýuid
, *
	t¬g
);

269 
	`vm_smp_»ndezvous
(
vm
 *vm, 
výuid
, 
ýu£t_t
 
de¡
,

270 
vm_»ndezvous_func_t
 
func
, *
¬g
);

271 
ýu£t_t
 
	`vm_aùive_ýus
(
vm
 *vm);

272 
ýu£t_t
 
	`vm_debug_ýus
(
vm
 *vm);

273 
ýu£t_t
 
	`vm_su¥’ded_ýus
(
vm
 *vm);

276 
__šlše
 

277 
	$výu_»ndezvous_³ndšg
(
vm_ev’tšfo
 *
šfo
)

280  (*((
ušŒ_t
 *)(
šfo
->
½Œ
)) != 0);

281 
	}
}

283 
__šlše
 

284 
	$výu_su¥’ded
(
vm_ev’tšfo
 *
šfo
)

287  (*
šfo
->
¥Œ
);

288 
	}
}

290 
__šlše
 

291 
	$výu_»qidË
(
vm_ev’tšfo
 *
šfo
)

294  (*
šfo
->
Œ
);

295 
	}
}

297 
výu_debugged
(
vm
 *vm, 
výuid
);

305 
vmm_is_µtdev
(
bus
, 
¦Ù
, 
func
);

307 *
vm_iommu_domaš
(
vm
 *vm);

309 
	evýu_¡©e
 {

310 
	mVCPU_IDLE
,

311 
	mVCPU_FROZEN
,

312 
	mVCPU_RUNNING
,

313 
	mVCPU_SLEEPING
,

316 
výu_£t_¡©e
(
vm
 *vm, 
výu
, 
výu_¡©e
 
¡©e
,

317 
boÞ
 
äom_idË
);

318 
výu_¡©e
 
výu_g‘_¡©e
(
vm
 *vm, 
výu
, *
ho¡ýu
);

320 
__šlše


321 
	$výu_is_ruÂšg
(
vm
 *vm, 
výu
, *
ho¡ýu
)

323  (
	`výu_g‘_¡©e
(
vm
, 
výu
, 
ho¡ýu
è=ð
VCPU_RUNNING
);

324 
	}
}

326 #ifdeà
_SYS_PROC_H_


327 
__šlše


328 
	$výu_should_y›ld
(
vm
 *vm, 
výu
)

331 ià(
cu¹h»ad
->
td_æags
 & (
TDF_ASTPENDING
 | 
TDF_NEEDRESCHED
))

333 ià(
cu¹h»ad
->
td_ow•»em±
)

337 
	}
}

340 *
výu_¡©s
(
vm
 *vm, 
výu
);

341 
výu_nÙify_ev’t
(
vm
 *vm, 
výuid
, 
boÞ
 
Ïpic_šŒ
);

342 
vm¥aû
 *
vm_g‘_vm¥aû
(
vm
 *vm);

343 
v©pic
 *
vm_©pic
(
vm
 *vm);

344 
v©p™
 *
vm_©p™
(
vm
 *vm);

345 
vpmtmr
 *
vm_pmtmr
(
vm
 *vm);

346 
v¹c
 *
vm_¹c
(
vm
 *vm);

359 
vm_šjeù_exû±iÚ
(
vm
 *vm, 
výuid
, 
veùÜ
, 
”r_v®id
,

360 
ušt32_t
 
”rcode
, 
»¡¬t_š¡ruùiÚ
);

375 
vm_ex™_štšfo
(
vm
 *vm, 
výuid
, 
ušt64_t
 
štšfo
);

385 
vm_’Œy_štšfo
(
vm
 *vm, 
výuid
, 
ušt64_t
 *
šfo
);

387 
vm_g‘_štšfo
(
vm
 *vm, 
výuid
, 
ušt64_t
 *
šfo1
, ušt64_ˆ*
šfo2
);

389 
vm_»g_Çme
 
vm_£gm’t_Çme
(
£g_’codšg
);

391 
	svm_cÝyšfo
 {

392 
ušt64_t
 
	mg·
;

393 
size_t
 
	mËn
;

394 *
	mhva
;

395 *
	mcook›
;

412 
vm_cÝy_£tup
(
vm
 *vm, 
výuid
, 
vm_gue¡_·gšg
 *
·gšg
,

413 
ušt64_t
 
gÏ
, 
size_t
 
Ën
, 
´Ù
, 
vm_cÝyšfo
 *
cÝyšfo
,

414 
num_cÝyšfo
, *
is_çuÉ
);

415 
vm_cÝy_‹¬down
(
vm
 *vm, 
výuid
, 
vm_cÝyšfo
 *
cÝyšfo
,

416 
num_cÝyšfo
);

417 
vm_cÝyš
(
vm
 *vm, 
výuid
, 
vm_cÝyšfo
 *
cÝyšfo
,

418 *
kaddr
, 
size_t
 
Ën
);

419 
vm_cÝyout
(
vm
 *vm, 
výuid
, cÚ¡ *
kaddr
,

420 
vm_cÝyšfo
 *
cÝyšfo
, 
size_t
 
Ën
);

422 
výu_Œaû_exû±iÚs
(
vm
 *vm, 
výuid
);

425 
	#VM_MAXCPU
 16

	)

430 
	evm_ÿp_ty³
 {

431 
	mVM_CAP_HALT_EXIT
,

432 
	mVM_CAP_MTRAP_EXIT
,

433 
	mVM_CAP_PAUSE_EXIT
,

434 
	mVM_CAP_UNRESTRICTED_GUEST
,

435 
	mVM_CAP_ENABLE_INVPCID
,

436 
	mVM_CAP_MAX


439 
	evm_šŒ_Œigg”
 {

440 
	mEDGE_TRIGGER
,

441 
	mLEVEL_TRIGGER


451 
	s£g_desc
 {

452 
ušt64_t
 
	mba£
;

453 
ušt32_t
 
	mlim™
;

454 
ušt32_t
 
	macûss
;

456 
	#SEG_DESC_TYPE
(
acûss
è(×cûssè& 0x001f)

	)

457 
	#SEG_DESC_DPL
(
acûss
è((×cûssè>> 5è& 0x3)

	)

458 
	#SEG_DESC_PRESENT
(
acûss
è((×cûssè& 0x0080è? 1 : 0)

	)

459 
	#SEG_DESC_DEF32
(
acûss
è((×cûssè& 0x4000è? 1 : 0)

	)

460 
	#SEG_DESC_GRANULARITY
(
acûss
è((×cûssè& 0x8000è? 1 : 0)

	)

461 
	#SEG_DESC_UNUSABLE
(
acûss
è((×cûssè& 0x10000è? 1 : 0)

	)

463 
	evm_ýu_mode
 {

464 
	mCPU_MODE_REAL
,

465 
	mCPU_MODE_PROTECTED
,

466 
	mCPU_MODE_COMPATIBILITY
,

467 
	mCPU_MODE_64BIT
,

470 
	evm_·gšg_mode
 {

471 
	mPAGING_MODE_FLAT
,

472 
	mPAGING_MODE_32
,

473 
	mPAGING_MODE_PAE
,

474 
	mPAGING_MODE_64
,

477 
	svm_gue¡_·gšg
 {

478 
ušt64_t
 
	mü3
;

479 
	mýl
;

480 
vm_ýu_mode
 
	mýu_mode
;

481 
vm_·gšg_mode
 
	m·gšg_mode
;

489 
	sv›_Ý
 {

490 
ušt8_t
 
	mÝ_by‹
;

491 
ušt8_t
 
	mÝ_ty³
;

492 
ušt16_t
 
	mÝ_æags
;

495 
	#VIE_INST_SIZE
 15

	)

496 
	sv›
 {

497 
ušt8_t
 
	mš¡
[
VIE_INST_SIZE
];

498 
ušt8_t
 
	mnum_v®id
;

499 
ušt8_t
 
	mnum_´oûs£d
;

501 
ušt8_t
 
	maddrsize
:4, 
	mÝsize
:4;

502 
ušt8_t
 
	m»x_w
:1,

503 
	m»x_r
:1,

504 
	m»x_x
:1,

505 
	m»x_b
:1,

506 
	m»x_´e£Á
:1,

507 
	m»pz_´e£Á
:1,

508 
	m»²z_´e£Á
:1,

509 
	mÝsize_ov”ride
:1,

510 
	maddrsize_ov”ride
:1,

511 
	m£gm’t_ov”ride
:1;

513 
ušt8_t
 
	mmod
:2,

514 
	m»g
:4,

515 
	mrm
:4;

517 
ušt8_t
 
	mss
:2,

518 
	mšdex
:4,

519 
	mba£
:4;

521 
ušt8_t
 
	mdi¥_by‹s
;

522 
ušt8_t
 
	mimm_by‹s
;

524 
ušt8_t
 
	msÿË
;

525 
	mba£_»gi¡”
;

526 
	mšdex_»gi¡”
;

527 
	m£gm’t_»gi¡”
;

529 
št64_t
 
	mdi¥Ïûm’t
;

530 
št64_t
 
	mimmedŸ‹
;

532 
ušt8_t
 
	mdecoded
;

534 
v›_Ý
 
	mÝ
;

537 
	evm_ex™code
 {

538 
	mVM_EXITCODE_INOUT
,

539 
	mVM_EXITCODE_VMX
,

540 
	mVM_EXITCODE_BOGUS
,

541 
	mVM_EXITCODE_RDMSR
,

542 
	mVM_EXITCODE_WRMSR
,

543 
	mVM_EXITCODE_HLT
,

544 
	mVM_EXITCODE_MTRAP
,

545 
	mVM_EXITCODE_PAUSE
,

546 
	mVM_EXITCODE_PAGING
,

547 
	mVM_EXITCODE_INST_EMUL
,

548 
	mVM_EXITCODE_SPINUP_AP
,

549 
	mVM_EXITCODE_DEPRECATED1
,

550 
	mVM_EXITCODE_RENDEZVOUS
,

551 
	mVM_EXITCODE_IOAPIC_EOI
,

552 
	mVM_EXITCODE_SUSPENDED
,

553 
	mVM_EXITCODE_INOUT_STR
,

554 
	mVM_EXITCODE_TASK_SWITCH
,

555 
	mVM_EXITCODE_MONITOR
,

556 
	mVM_EXITCODE_MWAIT
,

557 
	mVM_EXITCODE_SVM
,

558 
	mVM_EXITCODE_REQIDLE
,

559 
	mVM_EXITCODE_DEBUG
,

560 
	mVM_EXITCODE_VMINSN
,

561 
	mVM_EXITCODE_MAX


564 
	svm_šout
 {

565 
ušt16_t
 
	mby‹s
:3;

566 
ušt16_t
 
	mš
:1;

567 
ušt16_t
 
	m¡ršg
:1;

568 
ušt16_t
 
	m»p
:1;

569 
ušt16_t
 
	mpÜt
;

570 
ušt32_t
 
	m—x
;

573 
	svm_šout_¡r
 {

574 
vm_šout
 
	mšout
;

575 
vm_gue¡_·gšg
 
	m·gšg
;

576 
ušt64_t
 
	mræags
;

577 
ušt64_t
 
	mü0
;

578 
ušt64_t
 
	mšdex
;

579 
ušt64_t
 
	mcouÁ
;

580 
	maddrsize
;

581 
vm_»g_Çme
 
	m£g_Çme
;

582 
£g_desc
 
	m£g_desc
;

585 
	esk_sw™ch_»asÚ
 {

586 
	mTSR_CALL
,

587 
	mTSR_IRET
,

588 
	mTSR_JMP
,

589 
	mTSR_IDT_GATE
,

592 
	svm_sk_sw™ch
 {

593 
ušt16_t
 
	mtss£l
;

594 
	mext
;

595 
ušt32_t
 
	m”rcode
;

596 
	m”rcode_v®id
;

597 
sk_sw™ch_»asÚ
 
	m»asÚ
;

598 
vm_gue¡_·gšg
 
	m·gšg
;

601 
	svm_ex™
 {

602 
vm_ex™code
 
	mex™code
;

603 
	mš¡_Ëngth
;

604 
ušt64_t
 
	mr
;

606 
vm_šout
 
	mšout
;

607 
vm_šout_¡r
 
	mšout_¡r
;

609 
ušt64_t
 
	mg·
;

610 
	mçuÉ_ty³
;

611 } 
	m·gšg
;

613 
ušt64_t
 
	mg·
;

614 
ušt64_t
 
	mgÏ
;

615 
ušt64_t
 
	mcs_ba£
;

616 
	mcs_d
;

617 
vm_gue¡_·gšg
 
	m·gšg
;

618 
v›
 
	mv›
;

619 } 
	mš¡_emul
;

625 
	m¡©us
;

630 
ušt32_t
 
	mex™_»asÚ
;

631 
ušt64_t
 
	mex™_qu®ifiÿtiÚ
;

636 
	mš¡_ty³
;

637 
	mš¡_”rÜ
;

638 } 
	mvmx
;

643 
ušt64_t
 
	mex™code
;

644 
ušt64_t
 
	mex™šfo1
;

645 
ušt64_t
 
	mex™šfo2
;

646 } 
	msvm
;

648 
ušt32_t
 
	mcode
;

649 
ušt64_t
 
	mwv®
;

650 } 
	mm¤
;

652 
	mvýu
;

653 
ušt64_t
 
	mr
;

654 } 
	m¥šup_­
;

656 
ušt64_t
 
	mræags
;

657 
ušt64_t
 
	mšŒ_¡©us
;

658 } 
	mhÉ
;

660 
	mveùÜ
;

661 } 
	mißpic_eoi
;

663 
vm_su¥’d_how
 
	mhow
;

664 } 
	msu¥’ded
;

665 
vm_sk_sw™ch
 
	msk_sw™ch
;

666 } 
	mu
;

670 
vm_šjeù_çuÉ
(*
vm
, 
výuid
, 
veùÜ
, 
”rcode_v®id
,

671 
”rcode
);

673 
__šlše
 

674 
	$vm_šjeù_ud
(*
vm
, 
výuid
)

676 
	`vm_šjeù_çuÉ
(
vm
, 
výuid
, 
IDT_UD
, 0, 0);

677 
	}
}

679 
__šlše
 

680 
	$vm_šjeù_gp
(*
vm
, 
výuid
)

682 
	`vm_šjeù_çuÉ
(
vm
, 
výuid
, 
IDT_GP
, 1, 0);

683 
	}
}

685 
__šlše
 

686 
	$vm_šjeù_ac
(*
vm
, 
výuid
, 
”rcode
)

688 
	`vm_šjeù_çuÉ
(
vm
, 
výuid
, 
IDT_AC
, 1, 
”rcode
);

689 
	}
}

691 
__šlše
 

692 
	$vm_šjeù_ss
(*
vm
, 
výuid
, 
”rcode
)

694 
	`vm_šjeù_çuÉ
(
vm
, 
výuid
, 
IDT_SS
, 1, 
”rcode
);

695 
	}
}

697 
vm_šjeù_pf
(*
vm
, 
výuid
, 
”rÜ_code
, 
ušt64_t
 
ü2
);

699 
vm_»¡¬t_š¡ruùiÚ
(*
vm
, 
výuid
);

	@src/nvidia-drm/machine/vmm_dev.h

31 #iâdef 
_VMM_DEV_H_


32 
	#_VMM_DEV_H_


	)

34 #ifdeà
_KERNEL


35 
vmmdev_š™
();

36 
vmmdev_þ—nup
();

39 
	svm_memm­
 {

40 
vm_·ddr_t
 
	mg·
;

41 
	m£gid
;

42 
vm_ooff£t_t
 
	m£goff
;

43 
size_t
 
	mËn
;

44 
	m´Ù
;

45 
	mæags
;

47 
	#VM_MEMMAP_F_WIRED
 0x01

	)

48 
	#VM_MEMMAP_F_IOMMU
 0x02

	)

50 
	#VM_MEMSEG_NAME
(
m
è((m)->
Çme
[0] !ð'\0' ? (m)->Çm: 
NULL
)

	)

51 
	svm_mem£g
 {

52 
	m£gid
;

53 
size_t
 
	mËn
;

54 
	mÇme
[
SPECNAMELEN
 + 1];

57 
	svm_»gi¡”
 {

58 
	mýuid
;

59 
	m»gnum
;

60 
ušt64_t
 
	m»gv®
;

63 
	svm_£g_desc
 {

64 
	mýuid
;

65 
	m»gnum
;

66 
£g_desc
 
	mdesc
;

69 
	svm_»gi¡”_£t
 {

70 
	mýuid
;

71 
	mcouÁ
;

72 cÚ¡ *
	m»gnums
;

73 
ušt64_t
 *
	m»gv®s
;

76 
	svm_run
 {

77 
	mýuid
;

78 
vm_ex™
 
	mvm_ex™
;

81 
	svm_exû±iÚ
 {

82 
	mýuid
;

83 
	mveùÜ
;

84 
ušt32_t
 
	m”rÜ_code
;

85 
	m”rÜ_code_v®id
;

86 
	m»¡¬t_š¡ruùiÚ
;

89 
	svm_Ïpic_msi
 {

90 
ušt64_t
 
	mmsg
;

91 
ušt64_t
 
	maddr
;

94 
	svm_Ïpic_œq
 {

95 
	mýuid
;

96 
	mveùÜ
;

99 
	svm_ißpic_œq
 {

100 
	mœq
;

103 
	svm_i§_œq
 {

104 
	m©pic_œq
;

105 
	mißpic_œq
;

108 
	svm_i§_œq_Œigg”
 {

109 
	m©pic_œq
;

110 
vm_šŒ_Œigg”
 
	mŒigg”
;

113 
	svm_ÿ·bž™y
 {

114 
	mýuid
;

115 
vm_ÿp_ty³
 
	mÿ±y³
;

116 
	mÿpv®
;

117 
	m®lýus
;

120 
	svm_µtdev
 {

121 
	mbus
;

122 
	m¦Ù
;

123 
	mfunc
;

126 
	svm_µtdev_mmio
 {

127 
	mbus
;

128 
	m¦Ù
;

129 
	mfunc
;

130 
vm_·ddr_t
 
	mg·
;

131 
vm_·ddr_t
 
	mh·
;

132 
size_t
 
	mËn
;

135 
	svm_µtdev_msi
 {

136 
	mvýu
;

137 
	mbus
;

138 
	m¦Ù
;

139 
	mfunc
;

140 
	mnumvec
;

141 
ušt64_t
 
	mmsg
;

142 
ušt64_t
 
	maddr
;

145 
	svm_µtdev_msix
 {

146 
	mvýu
;

147 
	mbus
;

148 
	m¦Ù
;

149 
	mfunc
;

150 
	midx
;

151 
ušt64_t
 
	mmsg
;

152 
ušt32_t
 
	mveùÜ_cÚŒÞ
;

153 
ušt64_t
 
	maddr
;

156 
	svm_nmi
 {

157 
	mýuid
;

160 
	#MAX_VM_STATS
 64

	)

161 
	svm_¡©s
 {

162 
	mýuid
;

163 
	mnum_’Œ›s
;

164 
timev®
 
	mtv
;

165 
ušt64_t
 
	m¡©buf
[
MAX_VM_STATS
];

168 
	svm_¡©_desc
 {

169 
	mšdex
;

170 
	mdesc
[128];

173 
	svm_x2­ic
 {

174 
	mýuid
;

175 
x2­ic_¡©e
 
	m¡©e
;

178 
	svm_g·_±e
 {

179 
ušt64_t
 
	mg·
;

180 
ušt64_t
 
	m±e
[4];

181 
	m±’um
;

184 
	svm_h³t_ÿp
 {

185 
ušt32_t
 
	mÿ·bž™›s
;

188 
	svm_su¥’d
 {

189 
vm_su¥’d_how
 
	mhow
;

192 
	svm_gÏ2g·
 {

193 
	mvýuid
;

194 
	m´Ù
;

195 
ušt64_t
 
	mgÏ
;

196 
vm_gue¡_·gšg
 
	m·gšg
;

197 
	mçuÉ
;

198 
ušt64_t
 
	mg·
;

201 
	svm_aùiv©e_ýu
 {

202 
	mvýuid
;

205 
	svm_ýu£t
 {

206 
	mwhich
;

207 
	mýu£tsize
;

208 
ýu£t_t
 *
	mýus
;

210 
	#VM_ACTIVE_CPUS
 0

	)

211 
	#VM_SUSPENDED_CPUS
 1

	)

212 
	#VM_DEBUG_CPUS
 2

	)

214 
	svm_štšfo
 {

215 
	mvýuid
;

216 
ušt64_t
 
	mšfo1
;

217 
ušt64_t
 
	mšfo2
;

220 
	svm_¹c_time
 {

221 
time_t
 
	m£cs
;

224 
	svm_¹c_d©a
 {

225 
	moff£t
;

226 
ušt8_t
 
	mv®ue
;

229 
	svm_ýu_tÝÞogy
 {

230 
ušt16_t
 
	msock‘s
;

231 
ušt16_t
 
	mcÜes
;

232 
ušt16_t
 
	mth»ads
;

233 
ušt16_t
 
	mmaxýus
;

238 
	mIOCNUM_ABIVERS
 = 0,

239 
	mIOCNUM_RUN
 = 1,

240 
	mIOCNUM_SET_CAPABILITY
 = 2,

241 
	mIOCNUM_GET_CAPABILITY
 = 3,

242 
	mIOCNUM_SUSPEND
 = 4,

243 
	mIOCNUM_REINIT
 = 5,

246 
	mIOCNUM_MAP_MEMORY
 = 10,

247 
	mIOCNUM_GET_MEMORY_SEG
 = 11,

248 
	mIOCNUM_GET_GPA_PMAP
 = 12,

249 
	mIOCNUM_GLA2GPA
 = 13,

250 
	mIOCNUM_ALLOC_MEMSEG
 = 14,

251 
	mIOCNUM_GET_MEMSEG
 = 15,

252 
	mIOCNUM_MMAP_MEMSEG
 = 16,

253 
	mIOCNUM_MMAP_GETNEXT
 = 17,

254 
	mIOCNUM_GLA2GPA_NOFAULT
 = 18,

257 
	mIOCNUM_SET_REGISTER
 = 20,

258 
	mIOCNUM_GET_REGISTER
 = 21,

259 
	mIOCNUM_SET_SEGMENT_DESCRIPTOR
 = 22,

260 
	mIOCNUM_GET_SEGMENT_DESCRIPTOR
 = 23,

261 
	mIOCNUM_SET_REGISTER_SET
 = 24,

262 
	mIOCNUM_GET_REGISTER_SET
 = 25,

265 
	mIOCNUM_GET_INTINFO
 = 28,

266 
	mIOCNUM_SET_INTINFO
 = 29,

267 
	mIOCNUM_INJECT_EXCEPTION
 = 30,

268 
	mIOCNUM_LAPIC_IRQ
 = 31,

269 
	mIOCNUM_INJECT_NMI
 = 32,

270 
	mIOCNUM_IOAPIC_ASSERT_IRQ
 = 33,

271 
	mIOCNUM_IOAPIC_DEASSERT_IRQ
 = 34,

272 
	mIOCNUM_IOAPIC_PULSE_IRQ
 = 35,

273 
	mIOCNUM_LAPIC_MSI
 = 36,

274 
	mIOCNUM_LAPIC_LOCAL_IRQ
 = 37,

275 
	mIOCNUM_IOAPIC_PINCOUNT
 = 38,

276 
	mIOCNUM_RESTART_INSTRUCTION
 = 39,

279 
	mIOCNUM_BIND_PPTDEV
 = 40,

280 
	mIOCNUM_UNBIND_PPTDEV
 = 41,

281 
	mIOCNUM_MAP_PPTDEV_MMIO
 = 42,

282 
	mIOCNUM_PPTDEV_MSI
 = 43,

283 
	mIOCNUM_PPTDEV_MSIX
 = 44,

286 
	mIOCNUM_VM_STATS
 = 50,

287 
	mIOCNUM_VM_STAT_DESC
 = 51,

290 
	mIOCNUM_SET_X2APIC_STATE
 = 60,

291 
	mIOCNUM_GET_X2APIC_STATE
 = 61,

292 
	mIOCNUM_GET_HPET_CAPABILITIES
 = 62,

295 
	mIOCNUM_SET_TOPOLOGY
 = 63,

296 
	mIOCNUM_GET_TOPOLOGY
 = 64,

299 
	mIOCNUM_ISA_ASSERT_IRQ
 = 80,

300 
	mIOCNUM_ISA_DEASSERT_IRQ
 = 81,

301 
	mIOCNUM_ISA_PULSE_IRQ
 = 82,

302 
	mIOCNUM_ISA_SET_IRQ_TRIGGER
 = 83,

305 
	mIOCNUM_ACTIVATE_CPU
 = 90,

306 
	mIOCNUM_GET_CPUSET
 = 91,

307 
	mIOCNUM_SUSPEND_CPU
 = 92,

308 
	mIOCNUM_RESUME_CPU
 = 93,

311 
	mIOCNUM_RTC_READ
 = 100,

312 
	mIOCNUM_RTC_WRITE
 = 101,

313 
	mIOCNUM_RTC_SETTIME
 = 102,

314 
	mIOCNUM_RTC_GETTIME
 = 103,

317 
	#VM_RUN
 \

318 
	`_IOWR
('v', 
IOCNUM_RUN
, 
vm_run
)

	)

319 
	#VM_SUSPEND
 \

320 
	`_IOW
('v', 
IOCNUM_SUSPEND
, 
vm_su¥’d
)

	)

321 
	#VM_REINIT
 \

322 
	`_IO
('v', 
IOCNUM_REINIT
)

	)

323 
	#VM_ALLOC_MEMSEG
 \

324 
	`_IOW
('v', 
IOCNUM_ALLOC_MEMSEG
, 
vm_mem£g
)

	)

325 
	#VM_GET_MEMSEG
 \

326 
	`_IOWR
('v', 
IOCNUM_GET_MEMSEG
, 
vm_mem£g
)

	)

327 
	#VM_MMAP_MEMSEG
 \

328 
	`_IOW
('v', 
IOCNUM_MMAP_MEMSEG
, 
vm_memm­
)

	)

329 
	#VM_MMAP_GETNEXT
 \

330 
	`_IOWR
('v', 
IOCNUM_MMAP_GETNEXT
, 
vm_memm­
)

	)

331 
	#VM_SET_REGISTER
 \

332 
	`_IOW
('v', 
IOCNUM_SET_REGISTER
, 
vm_»gi¡”
)

	)

333 
	#VM_GET_REGISTER
 \

334 
	`_IOWR
('v', 
IOCNUM_GET_REGISTER
, 
vm_»gi¡”
)

	)

335 
	#VM_SET_SEGMENT_DESCRIPTOR
 \

336 
	`_IOW
('v', 
IOCNUM_SET_SEGMENT_DESCRIPTOR
, 
vm_£g_desc
)

	)

337 
	#VM_GET_SEGMENT_DESCRIPTOR
 \

338 
	`_IOWR
('v', 
IOCNUM_GET_SEGMENT_DESCRIPTOR
, 
vm_£g_desc
)

	)

339 
	#VM_SET_REGISTER_SET
 \

340 
	`_IOW
('v', 
IOCNUM_SET_REGISTER_SET
, 
vm_»gi¡”_£t
)

	)

341 
	#VM_GET_REGISTER_SET
 \

342 
	`_IOWR
('v', 
IOCNUM_GET_REGISTER_SET
, 
vm_»gi¡”_£t
)

	)

343 
	#VM_INJECT_EXCEPTION
 \

344 
	`_IOW
('v', 
IOCNUM_INJECT_EXCEPTION
, 
vm_exû±iÚ
)

	)

345 
	#VM_LAPIC_IRQ
 \

346 
	`_IOW
('v', 
IOCNUM_LAPIC_IRQ
, 
vm_Ïpic_œq
)

	)

347 
	#VM_LAPIC_LOCAL_IRQ
 \

348 
	`_IOW
('v', 
IOCNUM_LAPIC_LOCAL_IRQ
, 
vm_Ïpic_œq
)

	)

349 
	#VM_LAPIC_MSI
 \

350 
	`_IOW
('v', 
IOCNUM_LAPIC_MSI
, 
vm_Ïpic_msi
)

	)

351 
	#VM_IOAPIC_ASSERT_IRQ
 \

352 
	`_IOW
('v', 
IOCNUM_IOAPIC_ASSERT_IRQ
, 
vm_ißpic_œq
)

	)

353 
	#VM_IOAPIC_DEASSERT_IRQ
 \

354 
	`_IOW
('v', 
IOCNUM_IOAPIC_DEASSERT_IRQ
, 
vm_ißpic_œq
)

	)

355 
	#VM_IOAPIC_PULSE_IRQ
 \

356 
	`_IOW
('v', 
IOCNUM_IOAPIC_PULSE_IRQ
, 
vm_ißpic_œq
)

	)

357 
	#VM_IOAPIC_PINCOUNT
 \

358 
	`_IOR
('v', 
IOCNUM_IOAPIC_PINCOUNT
, )

	)

359 
	#VM_ISA_ASSERT_IRQ
 \

360 
	`_IOW
('v', 
IOCNUM_ISA_ASSERT_IRQ
, 
vm_i§_œq
)

	)

361 
	#VM_ISA_DEASSERT_IRQ
 \

362 
	`_IOW
('v', 
IOCNUM_ISA_DEASSERT_IRQ
, 
vm_i§_œq
)

	)

363 
	#VM_ISA_PULSE_IRQ
 \

364 
	`_IOW
('v', 
IOCNUM_ISA_PULSE_IRQ
, 
vm_i§_œq
)

	)

365 
	#VM_ISA_SET_IRQ_TRIGGER
 \

366 
	`_IOW
('v', 
IOCNUM_ISA_SET_IRQ_TRIGGER
, 
vm_i§_œq_Œigg”
)

	)

367 
	#VM_SET_CAPABILITY
 \

368 
	`_IOW
('v', 
IOCNUM_SET_CAPABILITY
, 
vm_ÿ·bž™y
)

	)

369 
	#VM_GET_CAPABILITY
 \

370 
	`_IOWR
('v', 
IOCNUM_GET_CAPABILITY
, 
vm_ÿ·bž™y
)

	)

371 
	#VM_BIND_PPTDEV
 \

372 
	`_IOW
('v', 
IOCNUM_BIND_PPTDEV
, 
vm_µtdev
)

	)

373 
	#VM_UNBIND_PPTDEV
 \

374 
	`_IOW
('v', 
IOCNUM_UNBIND_PPTDEV
, 
vm_µtdev
)

	)

375 
	#VM_MAP_PPTDEV_MMIO
 \

376 
	`_IOW
('v', 
IOCNUM_MAP_PPTDEV_MMIO
, 
vm_µtdev_mmio
)

	)

377 
	#VM_PPTDEV_MSI
 \

378 
	`_IOW
('v', 
IOCNUM_PPTDEV_MSI
, 
vm_µtdev_msi
)

	)

379 
	#VM_PPTDEV_MSIX
 \

380 
	`_IOW
('v', 
IOCNUM_PPTDEV_MSIX
, 
vm_µtdev_msix
)

	)

381 
	#VM_INJECT_NMI
 \

382 
	`_IOW
('v', 
IOCNUM_INJECT_NMI
, 
vm_nmi
)

	)

383 
	#VM_STATS
 \

384 
	`_IOWR
('v', 
IOCNUM_VM_STATS
, 
vm_¡©s
)

	)

385 
	#VM_STAT_DESC
 \

386 
	`_IOWR
('v', 
IOCNUM_VM_STAT_DESC
, 
vm_¡©_desc
)

	)

387 
	#VM_SET_X2APIC_STATE
 \

388 
	`_IOW
('v', 
IOCNUM_SET_X2APIC_STATE
, 
vm_x2­ic
)

	)

389 
	#VM_GET_X2APIC_STATE
 \

390 
	`_IOWR
('v', 
IOCNUM_GET_X2APIC_STATE
, 
vm_x2­ic
)

	)

391 
	#VM_GET_HPET_CAPABILITIES
 \

392 
	`_IOR
('v', 
IOCNUM_GET_HPET_CAPABILITIES
, 
vm_h³t_ÿp
)

	)

393 
	#VM_SET_TOPOLOGY
 \

394 
	`_IOW
('v', 
IOCNUM_SET_TOPOLOGY
, 
vm_ýu_tÝÞogy
)

	)

395 
	#VM_GET_TOPOLOGY
 \

396 
	`_IOR
('v', 
IOCNUM_GET_TOPOLOGY
, 
vm_ýu_tÝÞogy
)

	)

397 
	#VM_GET_GPA_PMAP
 \

398 
	`_IOWR
('v', 
IOCNUM_GET_GPA_PMAP
, 
vm_g·_±e
)

	)

399 
	#VM_GLA2GPA
 \

400 
	`_IOWR
('v', 
IOCNUM_GLA2GPA
, 
vm_gÏ2g·
)

	)

401 
	#VM_GLA2GPA_NOFAULT
 \

402 
	`_IOWR
('v', 
IOCNUM_GLA2GPA_NOFAULT
, 
vm_gÏ2g·
)

	)

403 
	#VM_ACTIVATE_CPU
 \

404 
	`_IOW
('v', 
IOCNUM_ACTIVATE_CPU
, 
vm_aùiv©e_ýu
)

	)

405 
	#VM_GET_CPUS
 \

406 
	`_IOW
('v', 
IOCNUM_GET_CPUSET
, 
vm_ýu£t
)

	)

407 
	#VM_SUSPEND_CPU
 \

408 
	`_IOW
('v', 
IOCNUM_SUSPEND_CPU
, 
vm_aùiv©e_ýu
)

	)

409 
	#VM_RESUME_CPU
 \

410 
	`_IOW
('v', 
IOCNUM_RESUME_CPU
, 
vm_aùiv©e_ýu
)

	)

411 
	#VM_SET_INTINFO
 \

412 
	`_IOW
('v', 
IOCNUM_SET_INTINFO
, 
vm_štšfo
)

	)

413 
	#VM_GET_INTINFO
 \

414 
	`_IOWR
('v', 
IOCNUM_GET_INTINFO
, 
vm_štšfo
)

	)

415 
	#VM_RTC_WRITE
 \

416 
	`_IOW
('v', 
IOCNUM_RTC_WRITE
, 
vm_¹c_d©a
)

	)

417 
	#VM_RTC_READ
 \

418 
	`_IOWR
('v', 
IOCNUM_RTC_READ
, 
vm_¹c_d©a
)

	)

419 
	#VM_RTC_SETTIME
 \

420 
	`_IOW
('v', 
IOCNUM_RTC_SETTIME
, 
vm_¹c_time
)

	)

421 
	#VM_RTC_GETTIME
 \

422 
	`_IOR
('v', 
IOCNUM_RTC_GETTIME
, 
vm_¹c_time
)

	)

423 
	#VM_RESTART_INSTRUCTION
 \

424 
	`_IOW
('v', 
IOCNUM_RESTART_INSTRUCTION
, )

	)

	@src/nvidia-drm/machine/vmm_instruction_emul.h

31 #iâdef 
_VMM_INSTRUCTION_EMUL_H_


32 
	#_VMM_INSTRUCTION_EMUL_H_


	)

34 
	~<sys/mmª.h
>

39 (*
	tmem_»giÚ_»ad_t
)(*
	tvm
, 
	týuid
, 
	tušt64_t
 
	tg·
,

40 
	tušt64_t
 *
	trv®
, 
	trsize
, *
	t¬g
);

42 (*
	tmem_»giÚ_wr™e_t
)(*
	tvm
, 
	týuid
, 
	tušt64_t
 
	tg·
,

43 
	tušt64_t
 
	twv®
, 
	twsize
, *
	t¬g
);

56 
	`vmm_emuÏ‹_š¡ruùiÚ
(*
vm
, 
ýuid
, 
ušt64_t
 
g·
, 
v›
 *vie,

57 
vm_gue¡_·gšg
 *
·gšg
, 
mem_»giÚ_»ad_t
 
m¼
,

58 
mem_»giÚ_wr™e_t
 
mrw
, *
m¿rg
);

60 
	`v›_upd©e_»gi¡”
(*
vm
, 
výuid
, 
vm_»g_Çme
 
»g
,

61 
ušt64_t
 
v®
, 
size
);

66 
	`v›_®ignm’t_check
(
ýl
, 
Ý”ªd_size
, 
ušt64_t
 
ü0
,

67 
ušt64_t
 
ræags
, ušt64_ˆ
gÏ
);

70 
	`v›_ÿnÚiÿl_check
(
vm_ýu_mode
 
ýu_mode
, 
ušt64_t
 
gÏ
);

72 
ušt64_t
 
	`v›_size2mask
(
size
);

74 
	`v›_ÿlcuÏ‹_gÏ
(
vm_ýu_mode
 
ýu_mode
, 
vm_»g_Çme
 
£g
,

75 
£g_desc
 *
desc
, 
ušt64_t
 
off
, 
Ëngth
, 
addrsize
, 
´Ù
,

76 
ušt64_t
 *
gÏ
);

78 #ifdeà
_KERNEL


84 
	`vmm_ãtch_š¡ruùiÚ
(
vm
 *vm, 
ýuid
,

85 
vm_gue¡_·gšg
 *
gue¡_·gšg
,

86 
ušt64_t
 
r
, 
š¡_Ëngth
, 
v›
 *vie,

87 *
is_çuÉ
);

97 
	`vm_gÏ2g·
(
vm
 *vm, 
výuid
, 
vm_gue¡_·gšg
 *
·gšg
,

98 
ušt64_t
 
gÏ
, 
´Ù
, ušt64_ˆ*
g·
, *
is_çuÉ
);

104 
	`vm_gÏ2g·_noçuÉ
(
vm
 *vm, 
výuid
, 
vm_gue¡_·gšg
 *
·gšg
,

105 
ušt64_t
 
gÏ
, 
´Ù
, ušt64_ˆ*
g·
, *
is_çuÉ
);

107 
	`v›_š™
(
v›
 *v›, cÚ¡ *
š¡_by‹s
, 
š¡_Ëngth
);

120 
	#VIE_INVALID_GLA
 (1UL << 63è

	)

121 
	`vmm_decode_š¡ruùiÚ
(
vm
 *vm, 
ýuid
, 
ušt64_t
 
gÏ
,

122 
vm_ýu_mode
 
ýu_mode
, 
csd
, 
v›
 *vie);

	@src/nvidia-drm/machine/vmparam.h

47 #iâdeà
_MACHINE_VMPARAM_H_


48 
	#_MACHINE_VMPARAM_H_
 1

	)

57 
	#MAXTSIZ
 (32768UL*1024*1024è

	)

58 #iâdeà
DFLDSIZ


59 
	#DFLDSIZ
 (32768UL*1024*1024è

	)

61 #iâdeà
MAXDSIZ


62 
	#MAXDSIZ
 (32768UL*1024*1024è

	)

64 #iâdef 
DFLSSIZ


65 
	#DFLSSIZ
 (8UL*1024*1024è

	)

67 #iâdef 
MAXSSIZ


68 
	#MAXSSIZ
 (512UL*1024*1024è

	)

70 #iâdeà
SGROWSIZ


71 
	#SGROWSIZ
 (128UL*1024è

	)

79 
	#UMA_MD_SMALL_ALLOC


	)

84 
	#VM_PHYSSEG_DENSE


	)

92 
	#VM_PHYSSEG_MAX
 63

	)

100 
	#VM_NFREEPOOL
 2

	)

101 
	#VM_FREEPOOL_DEFAULT
 0

	)

102 
	#VM_FREEPOOL_DIRECT
 1

	)

110 
	#VM_NFREELIST
 3

	)

111 
	#VM_FREELIST_DEFAULT
 0

	)

112 
	#VM_FREELIST_DMA32
 1

	)

113 
	#VM_FREELIST_LOWMEM
 2

	)

115 
	#VM_LOWMEM_BOUNDARY
 (16 << 20è

	)

122 
	#VM_DMA32_NPAGES_THRESHOLD
 16777216

	)

132 
	#VM_NFREEORDER
 13

	)

137 #iâdef 
VM_NRESERVLEVEL


138 
	#VM_NRESERVLEVEL
 1

	)

144 #iâdef 
VM_LEVEL_0_ORDER


145 
	#VM_LEVEL_0_ORDER
 9

	)

148 #ifdef 
SMP


149 
	#PA_LOCK_COUNT
 256

	)

171 
	#VM_MIN_KERNEL_ADDRESS
 
	`KVADDR
(
KPML4BASE
, 0, 0, 0)

	)

172 
	#VM_MAX_KERNEL_ADDRESS
 
	`KVADDR
(
KPML4BASE
 + 
NKPML4E
 - 1, \

173 
NPDPEPG
-1, 
NPDEPG
-1, 
NPTEPG
-1)

	)

175 
	#DMAP_MIN_ADDRESS
 
	`KVADDR
(
DMPML4I
, 0, 0, 0)

	)

176 
	#DMAP_MAX_ADDRESS
 
	`KVADDR
(
DMPML4I
 + 
NDMPML4E
, 0, 0, 0)

	)

178 
	#LARGEMAP_MIN_ADDRESS
 
	`KVADDR
(
LMSPML4I
, 0, 0, 0)

	)

179 
	#LARGEMAP_MAX_ADDRESS
 
	`KVADDR
(
LMEPML4I
 + 1, 0, 0, 0)

	)

181 
	#KERNBASE
 
	`KVADDR
(
KPML4I
, 
KPDPI
, 0, 0)

	)

183 
	#UPT_MAX_ADDRESS
 
	`KVADDR
(
PML4PML4I
, PML4PML4I, PML4PML4I, PML4PML4I)

	)

184 
	#UPT_MIN_ADDRESS
 
	`KVADDR
(
PML4PML4I
, 0, 0, 0)

	)

186 
	#VM_MAXUSER_ADDRESS
 
	`UVADDR
(
NUPML4E
, 0, 0, 0)

	)

188 
	#SHAREDPAGE
 (
VM_MAXUSER_ADDRESS
 - 
PAGE_SIZE
)

	)

189 
	#USRSTACK
 
SHAREDPAGE


	)

191 
	#VM_MAX_ADDRESS
 
UPT_MAX_ADDRESS


	)

192 
	#VM_MIN_ADDRESS
 (0)

	)

200 
	#PMAP_HAS_DMAP
 1

	)

201 
	#PHYS_TO_DMAP
(
x
) ({ \

202 
	`KASSERT
(
dm­lim™
 =ð0 || (
x
) < dmaplimit, \

204 (
uštmax_t
)
x
)); \

205 (
x
è| 
DMAP_MIN_ADDRESS
; })

	)

207 
	#DMAP_TO_PHYS
(
x
) ({ \

208 
	`KASSERT
((
x
è< (
DMAP_MIN_ADDRESS
 + 
dm­lim™
) && \

209 (
x
è>ð
DMAP_MIN_ADDRESS
, \

211 (
uštmax_t
)
x
)); \

212 (
x
è& ~
DMAP_MIN_ADDRESS
; })

	)

217 #iâdeà
VM_KMEM_SIZE_SCALE


218 
	#VM_KMEM_SIZE_SCALE
 (1)

	)

225 #iâdeà
VM_KMEM_SIZE_MAX


226 
	#VM_KMEM_SIZE_MAX
 ((
VM_MAX_KERNEL_ADDRESS
 - \

227 
VM_MIN_KERNEL_ADDRESS
 + 1è* 3 / 5)

	)

231 #iâdeà
VM_INITIAL_PAGEIN


232 
	#VM_INITIAL_PAGEIN
 16

	)

235 
	#ZERO_REGION_SIZE
 (2 * 1024 * 1024è

	)

241 
	#VM_BATCHQUEUE_SIZE
 31

	)

	@src/nvidia-drm/machine/xen/hypercall.h

39 #iâdeà
__MACHINE_XEN_HYPERCALL_H__


40 
	#__MACHINE_XEN_HYPERCALL_H__


	)

42 
	~<sys/sy¡m.h
>

44 #iâdeà
__XEN_HYPERVISOR_H__


48 *
hy³rÿÎ_·ge
;

50 
	#__STR
(
x
è#x

	)

51 
	#STR
(
x
è
	`__STR
(x)

	)

52 
	#ENOXENSYS
 38

	)

53 
	#CONFIG_XEN_COMPAT
 0x030002

	)

54 
	#__mu¡_check


	)

56 
	#HYPERCALL_STR
(
Çme
) \

57 "ÿÎ hy³rÿÎ_·g+ ("
	`STR
(
__HYPERVISOR_
##
Çme
)" * 32)"

	)

59 
	#_hy³rÿÎ0
(
ty³
, 
Çme
) \

61 
ty³
 
__»s
; \

62 
__asm__
 volatile ( \

63 
	`HYPERCALL_STR
(
Çme
) \

64 : "÷" (
__»s
) \

67 
__»s
; \

68 })

	)

70 
	#_hy³rÿÎ1
(
ty³
, 
Çme
, 
a1
) \

72 
ty³
 
__»s
; \

73 
__ign1
; \

74 
__asm__
 volatile ( \

75 
	`HYPERCALL_STR
(
Çme
) \

76 : "÷" (
__»s
), "=D" (
__ign1
) \

77 : "1" (()(
a1
)) \

79 
__»s
; \

80 })

	)

82 
	#_hy³rÿÎ2
(
ty³
, 
Çme
, 
a1
, 
a2
) \

84 
ty³
 
__»s
; \

85 
__ign1
, 
__ign2
; \

86 
__asm__
 volatile ( \

87 
	`HYPERCALL_STR
(
Çme
) \

88 : "÷" (
__»s
), "=D" (
__ign1
), "=S" (
__ign2
) \

89 : "1" (()(
a1
)), "2" (()(
a2
)) \

91 
__»s
; \

92 })

	)

94 
	#_hy³rÿÎ3
(
ty³
, 
Çme
, 
a1
, 
a2
, 
a3
) \

96 
ty³
 
__»s
; \

97 
__ign1
, 
__ign2
, 
__ign3
; \

98 
__asm__
 volatile ( \

99 
	`HYPERCALL_STR
(
Çme
) \

100 : "÷" (
__»s
), "=D" (
__ign1
), "=S" (
__ign2
), \

101 "=d" (
__ign3
) \

102 : "1" (()(
a1
)), "2" (()(
a2
)), \

103 "3" (()(
a3
)) \

105 
__»s
; \

106 })

	)

108 
	#_hy³rÿÎ4
(
ty³
, 
Çme
, 
a1
, 
a2
, 
a3
, 
a4
) \

110 
ty³
 
__»s
; \

111 
__ign1
, 
__ign2
, 
__ign3
; \

112 
__¬g4
 
	`__asm__
("r10"èð()(
a4
); \

113 
__asm__
 volatile ( \

114 
	`HYPERCALL_STR
(
Çme
) \

115 : "÷" (
__»s
), "=D" (
__ign1
), "=S" (
__ign2
), \

116 "=d" (
__ign3
), "+r" (
__¬g4
) \

117 : "1" (()(
a1
)), "2" (()(
a2
)), \

118 "3" (()(
a3
)) \

120 
__»s
; \

121 })

	)

123 
	#_hy³rÿÎ5
(
ty³
, 
Çme
, 
a1
, 
a2
, 
a3
, 
a4
, 
a5
) \

125 
ty³
 
__»s
; \

126 
__ign1
, 
__ign2
, 
__ign3
; \

127 
__¬g4
 
	`__asm__
("r10"èð()(
a4
); \

128 
__¬g5
 
	`__asm__
("r8"èð()(
a5
); \

129 
__asm__
 volatile ( \

130 
	`HYPERCALL_STR
(
Çme
) \

131 : "÷" (
__»s
), "=D" (
__ign1
), "=S" (
__ign2
), \

132 "=d" (
__ign3
), "+r" (
__¬g4
), "+r" (
__¬g5
) \

133 : "1" (()(
a1
)), "2" (()(
a2
)), \

134 "3" (()(
a3
)) \

136 
__»s
; \

137 })

	)

139 
šlše
 

140 
	$´ivcmd_hy³rÿÎ
(
Ý
, 
a1
, 
a2
, 
a3
, 
a4
, 
a5
)

142 
__»s
;

143 
__ign1
, 
__ign2
, 
__ign3
;

144 
__¬g4
 
	`__asm__
("r10"èð()(
a4
);

145 
__¬g5
 
	`__asm__
("r8"èð()(
a5
);

146 
__ÿÎ
 = ()&
hy³rÿÎ_·ge
 + (
Ý
 * 32);

148 
__asm__
 volatile (

150 : "÷" (
__»s
), "=D" (
__ign1
), "=S" (
__ign2
),

151 "=d" (
__ign3
), "+r" (
__¬g4
), "+r" (
__¬g5
)

152 : "1" (()(
a1
)), "2" (()(
a2
)),

153 "3" (()(
a3
)), [
ÿÎ
] "a" (
__ÿÎ
)

156  (
__»s
);

157 
	}
}

159 
šlše
 
__mu¡_check


160 
	$HYPERVISOR_£t_Œ­_bË
(

161 cÚ¡ 
Œ­_šfo_t
 *
bË
)

163  
	`_hy³rÿÎ1
(, 
£t_Œ­_bË
, 
bË
);

164 
	}
}

166 
šlše
 
__mu¡_check


167 
	$HYPERVISOR_mmu_upd©e
(

168 
mmu_upd©e_t
 *
»q
, 
couÁ
, *
sucûss_couÁ
,

169 
domid_t
 
domid
)

171  
	`_hy³rÿÎ4
(, 
mmu_upd©e
, 
»q
, 
couÁ
, 
sucûss_couÁ
, 
domid
);

172 
	}
}

174 
šlše
 
__mu¡_check


175 
	$HYPERVISOR_mmuext_Ý
(

176 
mmuext_Ý
 *
Ý
, 
couÁ
, *
sucûss_couÁ
,

177 
domid_t
 
domid
)

179  
	`_hy³rÿÎ4
(, 
mmuext_Ý
, 
Ý
, 
couÁ
, 
sucûss_couÁ
, 
domid
);

180 
	}
}

182 
šlše
 
__mu¡_check


183 
	$HYPERVISOR_£t_gdt
(

184 *
äame_li¡
, 
’Œ›s
)

186  
	`_hy³rÿÎ2
(, 
£t_gdt
, 
äame_li¡
, 
’Œ›s
);

187 
	}
}

189 
šlše
 
__mu¡_check


190 
	$HYPERVISOR_¡ack_sw™ch
(

191 
ss
, 
e¥
)

193  
	`_hy³rÿÎ2
(, 
¡ack_sw™ch
, 
ss
, 
e¥
);

194 
	}
}

196 
šlše
 
__mu¡_check


197 
	$HYPERVISOR_£t_ÿÎbacks
(

198 
ev’t_add»ss
, 
çž§ã_add»ss
,

199 
sysÿÎ_add»ss
)

201  
	`_hy³rÿÎ3
(, 
£t_ÿÎbacks
,

202 
ev’t_add»ss
, 
çž§ã_add»ss
, 
sysÿÎ_add»ss
);

203 
	}
}

205 
šlše
 

206 
	$HYPERVISOR_åu_sksw™ch
(

207 
£t
)

209  
	`_hy³rÿÎ1
(, 
åu_sksw™ch
, 
£t
);

210 
	}
}

212 
šlše
 
__mu¡_check


213 
	$HYPERVISOR_sched_Ý_com·t
(

214 
cmd
, 
¬g
)

216  
	`_hy³rÿÎ2
(, 
sched_Ý_com·t
, 
cmd
, 
¬g
);

217 
	}
}

219 
šlše
 
__mu¡_check


220 
	$HYPERVISOR_sched_Ý
(

221 
cmd
, *
¬g
)

223  
	`_hy³rÿÎ2
(, 
sched_Ý
, 
cmd
, 
¬g
);

224 
	}
}

226 
šlše
 
__mu¡_check


227 
	$HYPERVISOR_£t_tim”_Ý
(

228 
ušt64_t
 
timeout
)

230  
	`_hy³rÿÎ1
(, 
£t_tim”_Ý
, 
timeout
);

231 
	}
}

233 
šlše
 
__mu¡_check


234 
	$HYPERVISOR_¶©fÜm_Ý
(

235 
x’_¶©fÜm_Ý
 *
¶©fÜm_Ý
)

237 
¶©fÜm_Ý
->
š‹rçû_v”siÚ
 = 
XENPF_INTERFACE_VERSION
;

238  
	`_hy³rÿÎ1
(, 
¶©fÜm_Ý
,…latform_op);

239 
	}
}

241 
šlše
 
__mu¡_check


242 
	$HYPERVISOR_£t_debug»g
(

243 
»g
, 
v®ue
)

245  
	`_hy³rÿÎ2
(, 
£t_debug»g
, 
»g
, 
v®ue
);

246 
	}
}

248 
šlše
 
__mu¡_check


249 
	$HYPERVISOR_g‘_debug»g
(

250 
»g
)

252  
	`_hy³rÿÎ1
(, 
g‘_debug»g
, 
»g
);

253 
	}
}

255 
šlše
 
__mu¡_check


256 
	$HYPERVISOR_upd©e_desütÜ
(

257 
ma
, 
wÜd
)

259  
	`_hy³rÿÎ2
(, 
upd©e_desütÜ
, 
ma
, 
wÜd
);

260 
	}
}

262 
šlše
 
__mu¡_check


263 
	$HYPERVISOR_memÜy_Ý
(

264 
cmd
, *
¬g
)

266  
	`_hy³rÿÎ2
(, 
memÜy_Ý
, 
cmd
, 
¬g
);

267 
	}
}

269 
šlše
 
__mu¡_check


270 
	$HYPERVISOR_muÉiÿÎ
(

271 
muÉiÿÎ_’Œy_t
 *
ÿÎ_li¡
, 
Ä_ÿÎs
)

273  
	`_hy³rÿÎ2
(, 
muÉiÿÎ
, 
ÿÎ_li¡
, 
Ä_ÿÎs
);

274 
	}
}

276 
šlše
 
__mu¡_check


277 
	$HYPERVISOR_upd©e_va_m­pšg
(

278 
va
, 
ušt64_t
 
Ãw_v®
, 
æags
)

280  
	`_hy³rÿÎ3
(, 
upd©e_va_m­pšg
, 
va
, 
Ãw_v®
, 
æags
);

281 
	}
}

283 
šlše
 
__mu¡_check


284 
	$HYPERVISOR_ev’t_chªÃl_Ý
(

285 
cmd
, *
¬g
)

287 
rc
 = 
	`_hy³rÿÎ2
(, 
ev’t_chªÃl_Ý
, 
cmd
, 
¬g
);

289 #ià
CONFIG_XEN_COMPAT
 <= 0x030002

290 ià(
	`__´ediù_çl£
(
rc
 =ð-
ENOXENSYS
)) {

291 
evtchn_Ý
 
Ý
;

292 
Ý
.
cmd
 = cmd;

293 
	`memýy
(&
Ý
.
u
, 
¬g
, (op.u));

294 
rc
 = 
	`_hy³rÿÎ1
(, 
ev’t_chªÃl_Ý_com·t
, &
Ý
);

295 
	`memýy
(
¬g
, &
Ý
.
u
, (op.u));

299  
rc
;

300 
	}
}

302 
šlše
 
__mu¡_check


303 
	$HYPERVISOR_x’_v”siÚ
(

304 
cmd
, *
¬g
)

306  
	`_hy³rÿÎ2
(, 
x’_v”siÚ
, 
cmd
, 
¬g
);

307 
	}
}

309 
šlše
 
__mu¡_check


310 
	$HYPERVISOR_cÚsÞe_io
(

311 
cmd
, 
couÁ
, cÚ¡ *
¡r
)

313  
	`_hy³rÿÎ3
(, 
cÚsÞe_io
, 
cmd
, 
couÁ
, 
¡r
);

314 
	}
}

316 
šlše
 
__mu¡_check


317 
	$HYPERVISOR_physdev_Ý
(

318 
cmd
, *
¬g
)

320 
rc
 = 
	`_hy³rÿÎ2
(, 
physdev_Ý
, 
cmd
, 
¬g
);

322 #ià
CONFIG_XEN_COMPAT
 <= 0x030002

323 ià(
	`__´ediù_çl£
(
rc
 =ð-
ENOXENSYS
)) {

324 
physdev_Ý
 
Ý
;

325 
Ý
.
cmd
 = cmd;

326 
	`memýy
(&
Ý
.
u
, 
¬g
, (op.u));

327 
rc
 = 
	`_hy³rÿÎ1
(, 
physdev_Ý_com·t
, &
Ý
);

328 
	`memýy
(
¬g
, &
Ý
.
u
, (op.u));

332  
rc
;

333 
	}
}

335 
šlše
 
__mu¡_check


336 
	$HYPERVISOR_g¿Á_bË_Ý
(

337 
cmd
, *
uÝ
, 
couÁ
)

339  
	`_hy³rÿÎ3
(, 
g¿Á_bË_Ý
, 
cmd
, 
uÝ
, 
couÁ
);

340 
	}
}

342 
šlše
 
__mu¡_check


343 
	$HYPERVISOR_upd©e_va_m­pšg_Ùh”domaš
(

344 
va
, 
ušt64_t
 
Ãw_v®
, 
æags
, 
domid_t
 
domid
)

346  
	`_hy³rÿÎ4
(, 
upd©e_va_m­pšg_Ùh”domaš
, 
va
,

347 
Ãw_v®
, 
æags
, 
domid
);

348 
	}
}

350 
šlše
 
__mu¡_check


351 
	$HYPERVISOR_vm_assi¡
(

352 
cmd
, 
ty³
)

354  
	`_hy³rÿÎ2
(, 
vm_assi¡
, 
cmd
, 
ty³
);

355 
	}
}

357 
šlše
 
__mu¡_check


358 
	$HYPERVISOR_výu_Ý
(

359 
cmd
, 
výuid
, *
exŒa_¬gs
)

361  
	`_hy³rÿÎ3
(, 
výu_Ý
, 
cmd
, 
výuid
, 
exŒa_¬gs
);

362 
	}
}

364 
šlše
 
__mu¡_check


365 
	$HYPERVISOR_£t_£gm’t_ba£
(

366 
»g
, 
v®ue
)

368  
	`_hy³rÿÎ2
(, 
£t_£gm’t_ba£
, 
»g
, 
v®ue
);

369 
	}
}

371 
šlše
 
__mu¡_check


372 
	$HYPERVISOR_su¥’d
(

373 
¤ec
)

375 
sched_shutdown
 sched_shutdown = {

376 .
»asÚ
 = 
SHUTDOWN_su¥’d


379 
rc
 = 
	`_hy³rÿÎ3
(, 
sched_Ý
, 
SCHEDOP_shutdown
,

380 &
sched_shutdown
, 
¤ec
);

382 #ià
CONFIG_XEN_COMPAT
 <= 0x030002

383 ià(
rc
 =ð-
ENOXENSYS
)

384 
rc
 = 
	`_hy³rÿÎ3
(, 
sched_Ý_com·t
, 
SCHEDOP_shutdown
,

385 
SHUTDOWN_su¥’d
, 
¤ec
);

388  
rc
;

389 
	}
}

391 #ià
CONFIG_XEN_COMPAT
 <= 0x030002

392 
šlše
 

393 
	$HYPERVISOR_nmi_Ý
(

394 
Ý
, *
¬g
)

396  
	`_hy³rÿÎ2
(, 
nmi_Ý
, 
Ý
, 
¬g
);

397 
	}
}

400 #iâdeà
CONFIG_XEN


401 
šlše
 
__mu¡_check


402 
	$HYPERVISOR_hvm_Ý
(

403 
Ý
, *
¬g
)

405  
	`_hy³rÿÎ2
(, 
hvm_Ý
, 
Ý
, 
¬g
);

406 
	}
}

409 
šlše
 
__mu¡_check


410 
	$HYPERVISOR_ÿÎback_Ý
(

411 
cmd
, cÚ¡ *
¬g
)

413  
	`_hy³rÿÎ2
(, 
ÿÎback_Ý
, 
cmd
, 
¬g
);

414 
	}
}

416 
šlše
 
__mu¡_check


417 
	$HYPERVISOR_x’Ýrof_Ý
(

418 
Ý
, *
¬g
)

420  
	`_hy³rÿÎ2
(, 
x’Ýrof_Ý
, 
Ý
, 
¬g
);

421 
	}
}

423 
šlše
 
__mu¡_check


424 
	$HYPERVISOR_kexec_Ý
(

425 
Ý
, *
¬gs
)

427  
	`_hy³rÿÎ2
(, 
kexec_Ý
, 
Ý
, 
¬gs
);

428 
	}
}

430 #undeà
__mu¡_check


	@src/nvidia-drm/machine/xen/synch_bitops.h

1 #iâdeà
__XEN_SYNCH_BITOPS_H__


2 
	#__XEN_SYNCH_BITOPS_H__


	)

11 
	#ADDR
 (*(vÞ©ž*è
addr
)

	)

13 
__šlše__
 
	$synch_£t_b™
(
Ä
, vÞ©ž* 
addr
)

15 
__asm__
 
	`__vÞ©že__
 (

17 : "=m" (
ADDR
è: "Ir" (
Ä
) : "memory" );

18 
	}
}

20 
__šlše__
 
	$synch_þ—r_b™
(
Ä
, vÞ©ž* 
addr
)

22 
__asm__
 
	`__vÞ©že__
 (

24 : "=m" (
ADDR
è: "Ir" (
Ä
) : "memory" );

25 
	}
}

27 
__šlše__
 
	$synch_chªge_b™
(
Ä
, vÞ©ž* 
addr
)

29 
__asm__
 
	`__vÞ©že__
 (

31 : "=m" (
ADDR
è: "Ir" (
Ä
) : "memory" );

32 
	}
}

34 
__šlše__
 
	$synch_‹¡_ªd_£t_b™
(
Ä
, vÞ©ž* 
addr
)

36 
Þdb™
;

37 
__asm__
 
	`__vÞ©že__
 (

39 : "ô" (
Þdb™
), "=m" (
ADDR
è: "Ir" (
Ä
) : "memory");

40  
Þdb™
;

41 
	}
}

43 
__šlše__
 
	$synch_‹¡_ªd_þ—r_b™
(
Ä
, vÞ©ž* 
addr
)

45 
Þdb™
;

46 
__asm__
 
	`__vÞ©že__
 (

48 : "ô" (
Þdb™
), "=m" (
ADDR
è: "Ir" (
Ä
) : "memory");

49  
Þdb™
;

50 
	}
}

52 
__šlše__
 
	$synch_‹¡_ªd_chªge_b™
(
Ä
, vÞ©ž* 
addr
)

54 
Þdb™
;

56 
__asm__
 
	`__vÞ©že__
 (

58 : "ô" (
Þdb™
), "=m" (
ADDR
è: "Ir" (
Ä
) : "memory");

59  
Þdb™
;

60 
	}
}

62 
	s__synch_xchg_dummy
 { 
	ma
[100]; };

63 
	#__synch_xg
(
x
è((vÞ©ž
__synch_xchg_dummy
 *)(x))

	)

65 
	#synch_cmpxchg
(
±r
, 
Þd
, 
Ãw
) \

66 ((
	`__ty³of__
(*(
±r
)))
	`__synch_cmpxchg
((ptr),\

67 ()(
Þd
), \

68 ()(
Ãw
), \

69 (*(
±r
))))

	)

71 
šlše
 
	$__synch_cmpxchg
(vÞ©ž*
±r
,

72 
Þd
,

73 
Ãw
, 
size
)

75 
´ev
;

76 
size
) {

78 
__asm__
 
	`__vÞ©že__
("lock; cmpxchgb %b1,%2"

79 : "÷"(
´ev
)

80 : "q"(
Ãw
), "m"(*
	`__synch_xg
(
±r
)),

81 "0"(
Þd
)

83  
´ev
;

85 
__asm__
 
	`__vÞ©že__
("lock; cmpxchgw %w1,%2"

86 : "÷"(
´ev
)

87 : "q"(
Ãw
), "m"(*
	`__synch_xg
(
±r
)),

88 "0"(
Þd
)

90  
´ev
;

92 
__asm__
 
	`__vÞ©že__
("lock; cmpxchgl %k1,%2"

93 : "÷"(
´ev
)

94 : "q"(
Ãw
), "m"(*
	`__synch_xg
(
±r
)),

95 "0"(
Þd
)

97  
´ev
;

99 
__asm__
 
	`__vÞ©že__
("lock; cmpxchgq %1,%2"

100 : "÷"(
´ev
)

101 : "q"(
Ãw
), "m"(*
	`__synch_xg
(
±r
)),

102 "0"(
Þd
)

104  
´ev
;

106  
Þd
;

107 
	}
}

109 
__šlše__
 
	$synch_cÚ¡_‹¡_b™
(
Ä
, cÚ¡ vÞ©ž* 
addr
)

111  ((1UL << (
Ä
 & 31)) &

112 (((cÚ¡ vÞ©ž*è
addr
)[
Ä
 >> 5])) != 0;

113 
	}
}

115 
__šlše__
 
	$synch_v¬_‹¡_b™
(
Ä
, vÞ©ž* 
addr
)

117 
Þdb™
;

118 
__asm__
 
	`__vÞ©že__
 (

120 : "ô" (
Þdb™
è: "m" (
ADDR
), "Ir" (
Ä
) );

121  
Þdb™
;

122 
	}
}

124 
	#synch_‹¡_b™
(
Ä
,
addr
) \

125 (
	`__bužtš_cÚ¡ªt_p
(
Ä
) ? \

126 
	`synch_cÚ¡_‹¡_b™
((
Ä
),(
addr
)) : \

127 
	`synch_v¬_‹¡_b™
((
Ä
),(
addr
)))

	)

	@src/nvidia-drm/machine/xen/xen-os.h

6 
	~<x86/x’/x’-os.h
>

	@src/nvidia-drm/nv-mm.h

23 #iâdeà
__NV_MM_H__


24 
	#__NV_MM_H__


	)

26 #ifdeà
__lšux__


27 
	~"cÚáe¡.h
"

44 #ià
defšed
(
NV_GET_USER_PAGES_HAS_TASK_STRUCT
)

45 
	#NV_GET_USER_PAGES
(
¡¬t
, 
Ä_·ges
, 
wr™e
, 
fÜû
, 
·ges
, 
vmas
) \

46 
	`g‘_u£r_·ges
(
cu¼’t
, cu¼’t->
mm
, 
¡¬t
, 
Ä_·ges
, 
wr™e
, 
fÜû
, 
·ges
, 
vmas
)

	)

48 #ià
defšed
(
NV_GET_USER_PAGES_HAS_WRITE_AND_FORCE_ARGS
)

49 
	#NV_GET_USER_PAGES
 
g‘_u£r_·ges


	)

51 
	~<lšux/mm.h
>

53 
šlše
 
	$NV_GET_USER_PAGES
(
¡¬t
,

54 
Ä_·ges
,

55 
wr™e
,

56 
fÜû
,

57 
·ge
 **
·ges
,

58 
vm_¬—_¡ruù
 **
vmas
)

60 
æags
 = 0;

62 ià(
wr™e
)

63 
æags
 |ð
FOLL_WRITE
;

64 ià(
fÜû
)

65 
æags
 |ð
FOLL_FORCE
;

67  
	`g‘_u£r_·ges
(
¡¬t
, 
Ä_·ges
, 
æags
, 
·ges
, 
vmas
);

68 
	}
}

93 #ià
defšed
(
NV_GET_USER_PAGES_REMOTE_PRESENT
)

94 #ià
defšed
(
NV_GET_USER_PAGES_REMOTE_HAS_WRITE_AND_FORCE_ARGS
)

95 
	#NV_GET_USER_PAGES_REMOTE
 
g‘_u£r_·ges_»mÙe


	)

97 
šlše
 
	$NV_GET_USER_PAGES_REMOTE
(
sk_¡ruù
 *
tsk
,

98 
mm_¡ruù
 *
mm
,

99 
¡¬t
,

100 
Ä_·ges
,

101 
wr™e
,

102 
fÜû
,

103 
·ge
 **
·ges
,

104 
vm_¬—_¡ruù
 **
vmas
)

106 
æags
 = 0;

108 ià(
wr™e
)

109 
æags
 |ð
FOLL_WRITE
;

110 ià(
fÜû
)

111 
æags
 |ð
FOLL_FORCE
;

113 #ià
	`defšed
(
NV_GET_USER_PAGES_REMOTE_HAS_LOCKED_ARG
)

115  
	`g‘_u£r_·ges_»mÙe
(
tsk
, 
mm
, 
¡¬t
, 
Ä_·ges
, 
æags
,

116 
·ges
, 
vmas
, 
NULL
);

120  
	`g‘_u£r_·ges_»mÙe
(
tsk
, 
mm
, 
¡¬t
, 
Ä_·ges
, 
æags
,

121 
·ges
, 
vmas
);

125 
	}
}

128 
	#NV_GET_USER_PAGES_REMOTE
 
g‘_u£r_·ges


	)

152 #ià
defšed
(
NV_VM_FAULT_PRESENT
)

153 
šlše
 
	$nv_·ge_çuÉ_va
(
vm_çuÉ
 *
vmf
)

155 #ià
	`defšed
(
NV_VM_FAULT_HAS_ADDRESS
)

156  
vmf
->
add»ss
;

158  ()(
vmf
->
vœtu®_add»ss
);

160 
	}
}

	@src/nvidia-drm/nvidia-dma-fence-helper.h

23 #iâdeà
__NVIDIA_DMA_FENCE_HELPER_H__


24 
	#__NVIDIA_DMA_FENCE_HELPER_H__


	)

26 
	~"nvidŸ-drm-cÚáe¡.h
"

28 #ià
defšed
(
NV_DRM_DRIVER_HAS_GEM_PRIME_RES_OBJ
)

37 #ià
defšed
(
NV_LINUX_FENCE_H_PRESENT
)

38 
	~<lšux/ãnû.h
>

40 
	~<lšux/dma-ãnû.h
>

43 
	~<lšux/»£rv©iÚ.h
>

45 #ià
defšed
(
NV_LINUX_FENCE_H_PRESENT
)

46 
ãnû
 
	tnv_dma_ãnû_t
;

47 
ãnû_Ýs
 
	tnv_dma_ãnû_Ýs_t
;

49 
dma_ãnû
 
	tnv_dma_ãnû_t
;

50 
dma_ãnû_Ýs
 
	tnv_dma_ãnû_Ýs_t
;

53 #ià
defšed
(
NV_LINUX_FENCE_H_PRESENT
)

54 
	#NV_DMA_FENCE_FLAG_ENABLE_SIGNAL_BIT
 
FENCE_FLAG_ENABLE_SIGNAL_BIT


	)

56 
	#NV_DMA_FENCE_FLAG_ENABLE_SIGNAL_BIT
 
DMA_FENCE_FLAG_ENABLE_SIGNAL_BIT


	)

59 
šlše
 
boÞ
 
	$nv_dma_ãnû_is_sigÇËd
(
nv_dma_ãnû_t
 *
ãnû
) {

60 #ià
	`defšed
(
NV_LINUX_FENCE_H_PRESENT
)

61  
	`ãnû_is_sigÇËd
(
ãnû
);

63  
	`dma_ãnû_is_sigÇËd
(
ãnû
);

65 
	}
}

67 
šlše
 
nv_dma_ãnû_t
 *
	$nv_dma_ãnû_g‘
(
nv_dma_ãnû_t
 *
ãnû
)

69 #ià
	`defšed
(
NV_LINUX_FENCE_H_PRESENT
)

70  
	`ãnû_g‘
(
ãnû
);

72  
	`dma_ãnû_g‘
(
ãnû
);

74 
	}
}

76 
šlše
 
	$nv_dma_ãnû_put
(
nv_dma_ãnû_t
 *
ãnû
) {

77 #ià
	`defšed
(
NV_LINUX_FENCE_H_PRESENT
)

78 
	`ãnû_put
(
ãnû
);

80 
	`dma_ãnû_put
(
ãnû
);

82 
	}
}

84 
šlše
 signed 

85 
	$nv_dma_ãnû_deçuÉ_wa™
(
nv_dma_ãnû_t
 *
ãnû
,

86 
boÞ
 
šŒ
, sigÃd 
timeout
) {

87 #ià
	`defšed
(
NV_LINUX_FENCE_H_PRESENT
)

88  
	`ãnû_deçuÉ_wa™
(
ãnû
, 
šŒ
, 
timeout
);

90  
	`dma_ãnû_deçuÉ_wa™
(
ãnû
, 
šŒ
, 
timeout
);

92 
	}
}

94 
šlše
 
	$nv_dma_ãnû_sigÇl
(
nv_dma_ãnû_t
 *
ãnû
) {

95 #ià
	`defšed
(
NV_LINUX_FENCE_H_PRESENT
)

96  
	`ãnû_sigÇl
(
ãnû
);

98  
	`dma_ãnû_sigÇl
(
ãnû
);

100 
	}
}

102 
šlše
 
u64
 
	$nv_dma_ãnû_cÚ‹xt_®loc
(
num
) {

103 #ià
	`defšed
(
NV_LINUX_FENCE_H_PRESENT
)

104  
	`ãnû_cÚ‹xt_®loc
(
num
);

106  
	`dma_ãnû_cÚ‹xt_®loc
(
num
);

108 
	}
}

110 
šlše
 

111 
	$nv_dma_ãnû_š™
(
nv_dma_ãnû_t
 *
ãnû
,

112 cÚ¡ 
nv_dma_ãnû_Ýs_t
 *
Ýs
,

113 
¥šlock_t
 *
lock
, 
u64
 
cÚ‹xt
, 
£qno
) {

114 #ià
	`defšed
(
NV_LINUX_FENCE_H_PRESENT
)

115 
	`ãnû_š™
(
ãnû
, 
Ýs
, 
lock
, 
cÚ‹xt
, 
£qno
);

117 
	`dma_ãnû_š™
(
ãnû
, 
Ýs
, 
lock
, 
cÚ‹xt
, 
£qno
);

119 
	}
}

	@src/nvidia-drm/nvidia-drm-conftest.h

23 #iâdeà
__NVIDIA_DRM_CONFTEST_H__


24 
	#__NVIDIA_DRM_CONFTEST_H__


	)

29 #ifdeà
__lšux__


31 
	~"cÚáe¡.h
"

43 
	~<lšux/»fcouÁ.h
>

45 
	#»fcouÁ_šc
(
__±r
) \

47 
	`©omic_šc
(&(
__±r
)->
»fs
); \

48 } 0)

	)

51 
	#»fcouÁ_dec_ªd_‹¡
(
__±r
è
	`©omic_dec_ªd_‹¡
(&(__±r)->
»fs
)

	)

56 
	~<drm/drm_gem.h
>

57 
	~<drm/drm_’cod”.h
>

58 
	~<lšux/idr.h
>

59 
	~<drm/drm_auth.h
>

60 
	#NV_VM_FAULT_PRESENT


	)

61 
	~"nv-mm.h
"

62 
	~<lšux/mm.h
>

64 
	~<lšux/li¡.h
>

66 
	#LIST_HEAD_INIT
(
Çme
è
	`LINUX_LIST_HEAD_INIT
Òame)

	)

74 
	#NV_DRM_AVAILABLE


	)

75 
	#NV_DRM_ATOMIC_MODESET_AVAILABLE


	)

77 
	#NV_DRM_DEV_UNREF_PRESENT


	)

78 
	#NV_DRM_ATOMIC_HELPER_SET_CONFIG_PRESENT


	)

79 
	#NV_DRM_ATOMIC_HELPER_SET_CONFIG_HAS_CTX_ARG


	)

80 
	#NV_DRM_MODE_OBJECT_FIND_HAS_FILE_PRIV_ARG


	)

81 
	#NV_DRM_CONNECTOR_FUNCS_HAVE_MODE_IN_NAME


	)

82 
	#NV_DRM_GEM_OBJECT_LOOKUP_PRESENT


	)

83 
	#NV_DRM_GEM_OBJECT_LOOKUP_ARGUMENT_COUNT
 2

	)

84 
	#NV_DRM_CRTC_HELPER_FUNCS_HAS_ATOMIC_ENABLE


	)

85 
	#NV_DRM_UNIVERSAL_PLANE_INIT_HAS_FORMAT_MODIFIERS_ARG


	)

86 
	#NV_DRM_UNIVERSAL_PLANE_INIT_HAS_NAME_ARG


	)

87 
	#NV_DRM_ATOMIC_MODESET_NONBLOCKING_COMMIT_AVAILABLE


	)

88 
	#NV_DRM_CRTC_INIT_WITH_PLANES_HAS_NAME_ARG


	)

89 
	#NV_DRM_HELPER_MODE_FILL_FB_STRUCT_HAS_CONST_MODE_CMD_ARG


	)

90 
	#NV_DRM_DRIVER_HAS_LEGACY_DEV_LIST


	)

91 
	#NV_DRM_ENCODER_INIT_HAS_NAME_ARG


	)

92 
	#NV_DRM_HELPER_MODE_FILL_FB_STRUCT_HAS_DEV_ARG


	)

	@src/nvidia-drm/nvidia-drm-connector.c

23 
	~"nvidŸ-drm-cÚáe¡.h
"

25 #ià
defšed
(
NV_DRM_ATOMIC_MODESET_AVAILABLE
)

27 
	~"nvidŸ-drm-h–³r.h
"

28 
	~"nvidŸ-drm-´iv.h
"

29 
	~"nvidŸ-drm-cÚÃùÜ.h
"

30 
	~"nvidŸ-drm-utžs.h
"

31 
	~"nvidŸ-drm-’cod”.h
"

33 
	~<drm/drm_ütc_h–³r.h
>

35 
	~<drm/drm_©omic.h
>

36 
	~<drm/drm_©omic_h–³r.h
>

38 
	$nv_drm_cÚÃùÜ_de¡roy
(
drm_cÚÃùÜ
 *
cÚÃùÜ
)

40 
nv_drm_cÚÃùÜ
 *
nv_cÚÃùÜ
 = 
	`to_nv_cÚÃùÜ
(
cÚÃùÜ
);

42 
	`drm_cÚÃùÜ_uÄegi¡”
(
cÚÃùÜ
);

44 
	`drm_cÚÃùÜ_þ—nup
(
cÚÃùÜ
);

46 ià(
nv_cÚÃùÜ
->
edid
 !ð
NULL
) {

47 
	`nv_drm_ä“
(
nv_cÚÃùÜ
->
edid
);

50 
	`nv_drm_ä“
(
nv_cÚÃùÜ
);

51 
	}
}

53 
drm_cÚÃùÜ_¡©us
 
	$__nv_drm_cÚÃùÜ_d‘eù_š‹º®
(

54 
drm_cÚÃùÜ
 *
cÚÃùÜ
)

56 
drm_deviû
 *
dev
 = 
cÚÃùÜ
->dev;

57 
nv_drm_deviû
 *
nv_dev
 = 
	`to_nv_deviû
(
dev
);

58 
nv_drm_cÚÃùÜ
 *
nv_cÚÃùÜ
 = 
	`to_nv_cÚÃùÜ
(
cÚÃùÜ
);

60 
drm_cÚÃùÜ_¡©us
 
¡©us
 = 
cÚÃùÜ_¡©us_discÚÃùed
;

62 
drm_’cod”
 *
d‘eùed_’cod”
 = 
NULL
;

63 
nv_drm_’cod”
 *
nv_d‘eùed_’cod”
 = 
NULL
;

65 
NvKmsK­iDyÇmicDi¥ÏyP¬ams
 *
pD‘eùP¬ams
 = 
NULL
;

66 
i
;

68 
	`BUG_ON
(!
	`mu‹x_is_locked
(&
dev
->
mode_cÚfig
.
mu‹x
));

70 ià(
nv_cÚÃùÜ
->
edid
 !ð
NULL
) {

71 
	`nv_drm_ä“
(
nv_cÚÃùÜ
->
edid
);

72 
nv_cÚÃùÜ
->
edid
 = 
NULL
;

75 ià((
pD‘eùP¬ams
 = 
	`nv_drm_ÿÎoc
(

77 (*
pD‘eùP¬ams
))è=ð
NULL
) {

78 
	`WARN_ON
(
pD‘eùP¬ams
 =ð
NULL
);

79 
dÚe
;

82 
i
 = 0;

83 
i
 < 
DRM_CONNECTOR_MAX_ENCODER
 && 
d‘eùed_’cod”
 =ð
NULL
; i++) {

84 
drm_’cod”
 *
’cod”
;

85 
nv_drm_’cod”
 *
nv_’cod”
;

87 ià(
cÚÃùÜ
->
’cod”_ids
[
i
] == 0) {

91 
’cod”
 = 
	`nv_drm_’cod”_fšd
(
dev
, 
cÚÃùÜ
->
’cod”_ids
[
i
]);

93 ià(
’cod”
 =ð
NULL
) {

94 
	`BUG_ON
(
’cod”
 !ð
NULL
);

104 ià(
cÚÃùÜ
->
cÚÃùÜ_ty³
 =ð
DRM_MODE_CONNECTOR_DVII
 &&

105 
cÚÃùÜ
->
fÜû
 =ð
DRM_FORCE_ON_DIGITAL
 &&

106 
’cod”
->
’cod”_ty³
 =ð
DRM_MODE_ENCODER_DAC
) {

110 
nv_’cod”
 = 
	`to_nv_’cod”
(
’cod”
);

112 
	`mem£t
(
pD‘eùP¬ams
, 0, (*pDetectParams));

114 
pD‘eùP¬ams
->
hªdË
 = 
nv_’cod”
->
hDi¥Ïy
;

116 
cÚÃùÜ
->
fÜû
) {

117 
DRM_FORCE_ON
:

118 
DRM_FORCE_ON_DIGITAL
:

119 
pD‘eùP¬ams
->
fÜûCÚÃùed
 = 
NV_TRUE
;

121 
DRM_FORCE_OFF
:

122 
pD‘eùP¬ams
->
fÜûDiscÚÃùed
 = 
NV_TRUE
;

124 
DRM_FORCE_UNSPECIFIED
:

128 ià(
cÚÃùÜ
->
ov”ride_edid
) {

129 cÚ¡ 
drm_´Ý”ty_blob
 *
edid
 = 
cÚÃùÜ
->
edid_blob_±r
;

131 ià(
edid
->
Ëngth
 <ð(
pD‘eùP¬ams
->edid.
bufãr
)) {

132 
	`memýy
(
pD‘eùP¬ams
->
edid
.
bufãr
,ƒdid->
d©a
,ƒdid->
Ëngth
);

133 
pD‘eùP¬ams
->
edid
.
bufãrSize
 =ƒdid->
Ëngth
;

134 
pD‘eùP¬ams
->
ov”rideEdid
 = 
NV_TRUE
;

136 
	`WARN_ON
(
edid
->
Ëngth
 >

137 (
pD‘eùP¬ams
->
edid
.
bufãr
));

141 ià(!
nvKms
->
	`g‘DyÇmicDi¥ÏyInfo
(
nv_dev
->
pDeviû
, 
pD‘eùP¬ams
)) {

142 
	`NV_DRM_DEV_LOG_ERR
(

143 
nv_dev
,

148 ià(
pD‘eùP¬ams
->
cÚÃùed
) {

149 ià(!
pD‘eùP¬ams
->
ov”rideEdid
 &&…D‘eùP¬ams->
edid
.
bufãrSize
) {

151 ià((
nv_cÚÃùÜ
->
edid
 = 
	`nv_drm_ÿÎoc
(

153 
pD‘eùP¬ams
->
edid
.
bufãrSize
)è!ð
NULL
) {

155 
	`memýy
(
nv_cÚÃùÜ
->
edid
,

156 
pD‘eùP¬ams
->
edid
.
bufãr
,

157 
pD‘eùP¬ams
->
edid
.
bufãrSize
);

159 
	`NV_DRM_LOG_ERR
("Out of Memory");

163 
d‘eùed_’cod”
 = 
’cod”
;

167 ià(
d‘eùed_’cod”
 =ð
NULL
) {

168 
dÚe
;

171 
nv_d‘eùed_’cod”
 = 
	`to_nv_’cod”
(
d‘eùed_’cod”
);

173 
¡©us
 = 
cÚÃùÜ_¡©us_cÚÃùed
;

175 
nv_cÚÃùÜ
->
nv_d‘eùed_’cod”
 =‚v_detected_encoder;

177 ià(
nv_cÚÃùÜ
->
ty³
 =ð
NVKMS_CONNECTOR_TYPE_DVI_I
) {

178 
	`drm_objeù_´Ý”ty_£t_v®ue
(

179 &
cÚÃùÜ
->
ba£
,

180 
dev
->
mode_cÚfig
.
dvi_i_subcÚÃùÜ_´Ý”ty
,

181 
d‘eùed_’cod”
->
’cod”_ty³
 =ð
DRM_MODE_ENCODER_DAC
 ?

182 
DRM_MODE_SUBCONNECTOR_DVIA
 :

183 
DRM_MODE_SUBCONNECTOR_DVID
);

186 
dÚe
:

188 
	`nv_drm_ä“
(
pD‘eùP¬ams
);

190  
¡©us
;

191 
	}
}

193 
	$__nv_drm_cÚÃùÜ_fÜû
(
drm_cÚÃùÜ
 *
cÚÃùÜ
)

195 
	`__nv_drm_cÚÃùÜ_d‘eù_š‹º®
(
cÚÃùÜ
);

196 
	}
}

198 
drm_cÚÃùÜ_¡©us


199 
	$nv_drm_cÚÃùÜ_d‘eù
(
drm_cÚÃùÜ
 *
cÚÃùÜ
, 
boÞ
 
fÜû
)

201  
	`__nv_drm_cÚÃùÜ_d‘eù_š‹º®
(
cÚÃùÜ
);

202 
	}
}

204 
drm_cÚÃùÜ_funcs
 
	gnv_cÚÃùÜ_funcs
 = {

205 #ià
defšed
 
NV_DRM_ATOMIC_HELPER_CONNECTOR_DPMS_PRESENT


206 .
dpms
 = 
drm_©omic_h–³r_cÚÃùÜ_dpms
,

208 .
	gde¡roy
 = 
nv_drm_cÚÃùÜ_de¡roy
,

209 .
	g»£t
 = 
drm_©omic_h–³r_cÚÃùÜ_»£t
,

210 .
	gfÜû
 = 
__nv_drm_cÚÃùÜ_fÜû
,

211 .
	gd‘eù
 = 
nv_drm_cÚÃùÜ_d‘eù
,

212 .
	gfžl_modes
 = 
drm_h–³r_´obe_sšgË_cÚÃùÜ_modes
,

213 .
	g©omic_du¶iÿ‹_¡©e
 = 
drm_©omic_h–³r_cÚÃùÜ_du¶iÿ‹_¡©e
,

214 .
	g©omic_de¡roy_¡©e
 = 
drm_©omic_h–³r_cÚÃùÜ_de¡roy_¡©e
,

217 
	$nv_drm_cÚÃùÜ_g‘_modes
(
drm_cÚÃùÜ
 *
cÚÃùÜ
)

219 
drm_deviû
 *
dev
 = 
cÚÃùÜ
->dev;

220 
nv_drm_deviû
 *
nv_dev
 = 
	`to_nv_deviû
(
dev
);

221 
nv_drm_cÚÃùÜ
 *
nv_cÚÃùÜ
 = 
	`to_nv_cÚÃùÜ
(
cÚÃùÜ
);

222 
nv_drm_’cod”
 *
nv_d‘eùed_’cod”
 =

223 
nv_cÚÃùÜ
->
nv_d‘eùed_’cod”
;

224 
NvU32
 
modeIndex
 = 0;

225 
couÁ
 = 0;

228 ià(
nv_cÚÃùÜ
->
edid
 !ð
NULL
) {

229 
	`nv_drm_cÚÃùÜ_upd©e_edid_´Ý”ty
(
cÚÃùÜ
, 
nv_cÚÃùÜ
->
edid
);

233 
drm_di¥Ïy_mode
 *
mode
;

234 
NvKmsK­iDi¥ÏyMode
 
di¥ÏyMode
;

235 
NvBoÞ
 
v®id
 = 0;

236 
»t
;

238 
»t
 = 
nvKms
->
	`g‘Di¥ÏyMode
(
nv_dev
->
pDeviû
,

239 
nv_d‘eùed_’cod”
->
hDi¥Ïy
,

240 
modeIndex
++, &
di¥ÏyMode
, &
v®id
);

242 ià(
»t
 < 0) {

243 
	`NV_DRM_DEV_LOG_ERR
(

244 
nv_dev
,

246 
modeIndex
, 
nv_d‘eùed_’cod”
->
hDi¥Ïy
);

252 ià(
»t
 == 0) {

258 ià(!
v®id
) {

262 
mode
 = 
	`drm_mode_ü—‹
(
cÚÃùÜ
->
dev
);

264 ià(
mode
 =ð
NULL
) {

265 
	`NV_DRM_DEV_LOG_ERR
(

266 
nv_dev
,

268 
nv_d‘eùed_’cod”
->
hDi¥Ïy
);

272 
	`nvkms_di¥Ïy_mode_to_drm_mode
(&
di¥ÏyMode
, 
mode
);

276 
	`drm_mode_´obed_add
(
cÚÃùÜ
, 
mode
);

278 
couÁ
++;

281  
couÁ
;

282 
	}
}

284 
	$nv_drm_cÚÃùÜ_mode_v®id
(
drm_cÚÃùÜ
 *
cÚÃùÜ
,

285 
drm_di¥Ïy_mode
 *
mode
)

287 
drm_deviû
 *
dev
 = 
cÚÃùÜ
->dev;

288 
nv_drm_deviû
 *
nv_dev
 = 
	`to_nv_deviû
(
dev
);

289 
nv_drm_’cod”
 *
nv_d‘eùed_’cod”
 =

290 
	`to_nv_cÚÃùÜ
(
cÚÃùÜ
)->
nv_d‘eùed_’cod”
;

291 
NvKmsK­iDi¥ÏyMode
 
di¥ÏyMode
;

293 ià(
nv_d‘eùed_’cod”
 =ð
NULL
) {

294  
MODE_BAD
;

297 
	`drm_mode_to_nvkms_di¥Ïy_mode
(
mode
, &
di¥ÏyMode
);

299 ià(!
nvKms
->
	`v®id©eDi¥ÏyMode
(
nv_dev
->
pDeviû
,

300 
nv_d‘eùed_’cod”
->
hDi¥Ïy
,

301 &
di¥ÏyMode
)) {

302  
MODE_BAD
;

305  
MODE_OK
;

306 
	}
}

308 
drm_’cod”
*

309 
	$nv_drm_cÚÃùÜ_be¡_’cod”
(
drm_cÚÃùÜ
 *
cÚÃùÜ
)

311 
nv_drm_cÚÃùÜ
 *
nv_cÚÃùÜ
 = 
	`to_nv_cÚÃùÜ
(
cÚÃùÜ
);

313 ià(
nv_cÚÃùÜ
->
nv_d‘eùed_’cod”
 !ð
NULL
) {

314  &
nv_cÚÃùÜ
->
nv_d‘eùed_’cod”
->
ba£
;

317  
NULL
;

318 
	}
}

320 cÚ¡ 
drm_cÚÃùÜ_h–³r_funcs
 
	gnv_cÚÃùÜ_h–³r_funcs
 = {

321 .
g‘_modes
 = 
nv_drm_cÚÃùÜ_g‘_modes
,

322 .
	gmode_v®id
 = 
nv_drm_cÚÃùÜ_mode_v®id
,

323 .
	gbe¡_’cod”
 = 
nv_drm_cÚÃùÜ_be¡_’cod”
,

326 
drm_cÚÃùÜ
*

327 
	$nv_drm_cÚÃùÜ_Ãw
(
drm_deviû
 *
dev
,

328 
NvU32
 
physiÿlIndex
, 
NvKmsCÚÃùÜTy³
 
ty³
,

329 
NvBoÞ
 
š‹º®
,

330 
dpAdd»ss
[
NVKMS_DP_ADDRESS_STRING_LENGTH
])

332 
nv_drm_deviû
 *
nv_dev
 = 
	`to_nv_deviû
(
dev
);

333 
nv_drm_cÚÃùÜ
 *
nv_cÚÃùÜ
 = 
NULL
;

334 
»t
 = -
ENOMEM
;

336 ià((
nv_cÚÃùÜ
 = 
	`nv_drm_ÿÎoc
(1, (*nv_cÚÃùÜ))è=ð
NULL
) {

337 
çžed
;

340 ià((
nv_cÚÃùÜ
->
ba£
.
¡©e
 =

341 
	`nv_drm_ÿÎoc
(1, (*
nv_cÚÃùÜ
->
ba£
.
¡©e
))è=ð
NULL
) {

342 
çžed_¡©e_®loc
;

344 
nv_cÚÃùÜ
->
ba£
.
¡©e
->
cÚÃùÜ
 = &nv_connector->base;

346 
nv_cÚÃùÜ
->
physiÿlIndex
 =…hysicalIndex;

347 
nv_cÚÃùÜ
->
ty³
 =ype;

348 
nv_cÚÃùÜ
->
š‹º®
 = internal;

350 
	`¡rýy
(
nv_cÚÃùÜ
->
dpAdd»ss
, dpAddress);

352 
»t
 = 
	`drm_cÚÃùÜ_š™
(

353 
dev
,

354 &
nv_cÚÃùÜ
->
ba£
, &
nv_cÚÃùÜ_funcs
,

355 
	`nvkms_cÚÃùÜ_ty³_to_drm_cÚÃùÜ_ty³
(
ty³
, 
š‹º®
));

357 ià(
»t
 != 0) {

358 
	`NV_DRM_DEV_LOG_ERR
(

359 
nv_dev
,

361 
nv_cÚÃùÜ
->
physiÿlIndex
);

362 
çžed_cÚÃùÜ_š™
;

365 
	`drm_cÚÃùÜ_h–³r_add
(&
nv_cÚÃùÜ
->
ba£
, &
nv_cÚÃùÜ_h–³r_funcs
);

367 
nv_cÚÃùÜ
->
ba£
.
pÞËd
 = 
DRM_CONNECTOR_POLL_HPD
;

369 ià(
nv_cÚÃùÜ
->
ty³
 =ð
NVKMS_CONNECTOR_TYPE_VGA
) {

370 
nv_cÚÃùÜ
->
ba£
.
pÞËd
 =

371 
DRM_CONNECTOR_POLL_CONNECT
 | 
DRM_CONNECTOR_POLL_DISCONNECT
;

376 
»t
 = 
	`drm_cÚÃùÜ_»gi¡”
(&
nv_cÚÃùÜ
->
ba£
);

378 ià(
»t
 != 0) {

379 
	`NV_DRM_DEV_LOG_ERR
(

380 
nv_dev
,

382 
nv_cÚÃùÜ
->
physiÿlIndex
);

383 
çžed_cÚÃùÜ_»gi¡”
;

386  &
nv_cÚÃùÜ
->
ba£
;

388 
çžed_cÚÃùÜ_»gi¡”
:

389 
	`drm_cÚÃùÜ_þ—nup
(&
nv_cÚÃùÜ
->
ba£
);

391 
çžed_cÚÃùÜ_š™
:

392 
	`nv_drm_ä“
(
nv_cÚÃùÜ
->
ba£
.
¡©e
);

394 
çžed_¡©e_®loc
:

395 
	`nv_drm_ä“
(
nv_cÚÃùÜ
);

397 
çžed
:

398  
	`ERR_PTR
(
»t
);

399 
	}
}

405 
drm_cÚÃùÜ
*

406 
	$nv_drm_g‘_cÚÃùÜ
(
drm_deviû
 *
dev
,

407 
NvU32
 
physiÿlIndex
, 
NvKmsCÚÃùÜTy³
 
ty³
,

408 
NvBoÞ
 
š‹º®
,

409 
dpAdd»ss
[
NVKMS_DP_ADDRESS_STRING_LENGTH
])

411 
drm_cÚÃùÜ
 *
cÚÃùÜ
 = 
NULL
;

415 
	`li¡_fÜ_—ch_’Œy
(
cÚÃùÜ
, &
dev
->
mode_cÚfig
.
cÚÃùÜ_li¡
, 
h—d
) {

416 
nv_drm_cÚÃùÜ
 *
nv_cÚÃùÜ
 = 
	`to_nv_cÚÃùÜ
(
cÚÃùÜ
);

418 ià(
nv_cÚÃùÜ
->
physiÿlIndex
 ==…hysicalIndex) {

419 
	`BUG_ON
(
nv_cÚÃùÜ
->
ty³
 !=ype ||

420 
nv_cÚÃùÜ
->
š‹º®
 != internal);

422 ià(
	`¡rcmp
(
nv_cÚÃùÜ
->
dpAdd»ss
, dpAddress) == 0) {

423  
cÚÃùÜ
;

428  
	`nv_drm_cÚÃùÜ_Ãw
(
dev
, 
physiÿlIndex
, 
ty³
, 
š‹º®
, 
dpAdd»ss
);

429 
	}
}

	@src/nvidia-drm/nvidia-drm-connector.h

23 #iâdeà
__NVIDIA_DRM_CONNECTOR_H__


24 
	#__NVIDIA_DRM_CONNECTOR_H__


	)

26 
	~"nvidŸ-drm-cÚáe¡.h
"

28 #ià
defšed
(
NV_DRM_ATOMIC_MODESET_AVAILABLE
)

30 
	~<drm/drmP.h
>

32 
	~"nvty³s.h
"

33 
	~"nvkms-­i-ty³s.h
"

35 
	snv_drm_cÚÃùÜ
 {

36 
NvU32
 
	mphysiÿlIndex
;

38 
NvBoÞ
 
	mš‹º®
;

39 
NvKmsCÚÃùÜTy³
 
	mty³
;

41 
	mdpAdd»ss
[
NVKMS_DP_ADDRESS_STRING_LENGTH
];

43 
nv_drm_’cod”
 *
	mnv_d‘eùed_’cod”
;

44 
edid
 *
	medid
;

46 
©omic_t
 
	mcÚÃùiÚ_¡©us_dœty
;

48 
drm_cÚÃùÜ
 
	mba£
;

51 
šlše
 
nv_drm_cÚÃùÜ
 *
	$to_nv_cÚÃùÜ
(

52 
drm_cÚÃùÜ
 *
cÚÃùÜ
)

54 ià(
cÚÃùÜ
 =ð
NULL
) {

55  
NULL
;

57  
	`cÚš”_of
(
cÚÃùÜ
, 
nv_drm_cÚÃùÜ
, 
ba£
);

58 
	}
}

60 
šlše
 
	$nv_drm_cÚÃùÜ_m¬k_cÚÃùiÚ_¡©us_dœty
(

61 
nv_drm_cÚÃùÜ
 *
nv_cÚÃùÜ
)

63 
	`©omic_cmpxchg
(&
nv_cÚÃùÜ
->
cÚÃùiÚ_¡©us_dœty
, 
çl£
, 
Œue
);

64 
	}
}

66 
šlše
 
boÞ
 
	$nv_drm_cÚÃùÜ_check_cÚÃùiÚ_¡©us_dœty_ªd_þ—r
(

67 
nv_drm_cÚÃùÜ
 *
nv_cÚÃùÜ
)

69  
	`©omic_cmpxchg
(

70 &
nv_cÚÃùÜ
->
cÚÃùiÚ_¡©us_dœty
,

71 
Œue
,

72 
çl£
è=ð
Œue
;

73 
	}
}

75 
drm_cÚÃùÜ
*

76 
nv_drm_g‘_cÚÃùÜ
(
drm_deviû
 *
dev
,

77 
NvU32
 
physiÿlIndex
, 
NvKmsCÚÃùÜTy³
 
ty³
,

78 
NvBoÞ
 
š‹º®
,

79 
dpAdd»ss
[
NVKMS_DP_ADDRESS_STRING_LENGTH
]);

	@src/nvidia-drm/nvidia-drm-crtc.c

23 
	~"nvidŸ-drm-cÚáe¡.h
"

25 #ià
defšed
(
NV_DRM_ATOMIC_MODESET_AVAILABLE
)

27 
	~"nvidŸ-drm-h–³r.h
"

28 
	~"nvidŸ-drm-´iv.h
"

29 
	~"nvidŸ-drm-ütc.h
"

30 
	~"nvidŸ-drm-cÚÃùÜ.h
"

31 
	~"nvidŸ-drm-’cod”.h
"

32 
	~"nvidŸ-drm-utžs.h
"

33 
	~"nvidŸ-drm-fb.h
"

34 
	~"nvidŸ-drm-ioùl.h
"

36 
	~<drm/drm_ütc_h–³r.h
>

37 
	~<drm/drm_¶ªe_h–³r.h
>

39 
	~<drm/drm_©omic.h
>

40 
	~<drm/drm_©omic_h–³r.h
>

42 cÚ¡ 
u32
 
	gnv_deçuÉ_suµÜ‹d_¶ªe_drm_fÜm©s
[] = {

43 
DRM_FORMAT_ARGB1555
,

44 
DRM_FORMAT_XRGB1555
,

45 
DRM_FORMAT_RGB565
,

46 
DRM_FORMAT_ARGB8888
,

47 
DRM_FORMAT_XRGB8888
,

48 
DRM_FORMAT_ABGR2101010
,

49 
DRM_FORMAT_XBGR2101010
,

52 cÚ¡ 
u32
 
	gnv_suµÜ‹d_cursÜ_¶ªe_drm_fÜm©s
[] = {

53 
DRM_FORMAT_ARGB1555
,

54 
DRM_FORMAT_ARGB8888
,

57 
	$nv_drm_¶ªe_de¡roy
(
drm_¶ªe
 *
¶ªe
)

60 
	`drm_¶ªe_þ—nup
(
¶ªe
);

62 
	`nv_drm_ä“
(
¶ªe
);

63 
	}
}

65 
šlše
 

66 
	$¶ªe_»q_cÚfig_di§bË
(
NvKmsK­iPÏÃReque¡edCÚfig
 *
»q_cÚfig
)

68 
»q_cÚfig
->
cÚfig
.
surçû
 = 
NULL
;

69 
»q_cÚfig
->
æags
.
surçûChªged
 = 
NV_TRUE
;

70 
	}
}

73 
	$¶ªe_»q_cÚfig_upd©e
(
drm_¶ªe_¡©e
 *
¶ªe_¡©e
,

74 
NvKmsK­iPÏÃReque¡edCÚfig
 *
»q_cÚfig
)

76 
NvKmsK­iPÏÃCÚfig
 
Þd_cÚfig
 = 
»q_cÚfig
->
cÚfig
;

78 ià(
¶ªe_¡©e
->
fb
 =ð
NULL
) {

79 
	`¶ªe_»q_cÚfig_di§bË
(
»q_cÚfig
);

83 *
»q_cÚfig
 = (
NvKmsK­iPÏÃReque¡edCÚfig
) {

84 .
cÚfig
 = {

85 .
surçû
 = 
	`to_nv_äamebufãr
(
¶ªe_¡©e
->
fb
)->
pSurçû
,

88 .
¤cX
 = 
¶ªe_¡©e
->
¤c_x
 >> 16,

89 .
¤cY
 = 
¶ªe_¡©e
->
¤c_y
 >> 16,

90 .
¤cWidth
 = 
¶ªe_¡©e
->
¤c_w
 >> 16,

91 .
¤cHeight
 = 
¶ªe_¡©e
->
¤c_h
 >> 16,

93 .
d¡X
 = 
¶ªe_¡©e
->
ütc_x
,

94 .
d¡Y
 = 
¶ªe_¡©e
->
ütc_y
,

95 .
d¡Width
 = 
¶ªe_¡©e
->
ütc_w
,

96 .
d¡Height
 = 
¶ªe_¡©e
->
ütc_h
,

105 
»q_cÚfig
->
æags
.
surçûChªged
 = 
NV_TRUE
;

107 ià(
Þd_cÚfig
.
surçû
 =ð
NULL
 &&

108 
Þd_cÚfig
.
surçû
 !ð
»q_cÚfig
->
cÚfig
.surface) {

109 
»q_cÚfig
->
æags
.
¤cXYChªged
 = 
NV_TRUE
;

110 
»q_cÚfig
->
æags
.
¤cWHChªged
 = 
NV_TRUE
;

111 
»q_cÚfig
->
æags
.
d¡XYChªged
 = 
NV_TRUE
;

112 
»q_cÚfig
->
æags
.
d¡WHChªged
 = 
NV_TRUE
;

116 
»q_cÚfig
->
æags
.
¤cXYChªged
 =

117 
Þd_cÚfig
.
¤cX
 !ð
»q_cÚfig
->
cÚfig
.srcX ||

118 
Þd_cÚfig
.
¤cY
 !ð
»q_cÚfig
->
cÚfig
.srcY;

120 
»q_cÚfig
->
æags
.
¤cWHChªged
 =

121 
Þd_cÚfig
.
¤cWidth
 !ð
»q_cÚfig
->
cÚfig
.srcWidth ||

122 
Þd_cÚfig
.
¤cHeight
 !ð
»q_cÚfig
->
cÚfig
.srcHeight;

124 
»q_cÚfig
->
æags
.
d¡XYChªged
 =

125 
Þd_cÚfig
.
d¡X
 !ð
»q_cÚfig
->
cÚfig
.dstX ||

126 
Þd_cÚfig
.
d¡Y
 !ð
»q_cÚfig
->
cÚfig
.dstY;

128 
»q_cÚfig
->
æags
.
d¡WHChªged
 =

129 
Þd_cÚfig
.
d¡Width
 !ð
»q_cÚfig
->
cÚfig
.dstWidth ||

130 
Þd_cÚfig
.
d¡Height
 !ð
»q_cÚfig
->
cÚfig
.dstHeight;

131 
	}
}

133 
	$nv_drm_¶ªe_©omic_check
(
drm_¶ªe
 *
¶ªe
,

134 
drm_¶ªe_¡©e
 *
¶ªe_¡©e
)

136 
i
;

137 
drm_ütc
 *
ütc
;

138 
drm_ütc_¡©e
 *
ütc_¡©e
;

139 
NvKmsK­iPÏÃTy³
 
ty³
;

141 ià(
	`NV_DRM_WARN
(!
	`drm_¶ªe_ty³_to_nvkms_¶ªe_ty³
(
¶ªe
->
ty³
, &type))) {

142 
dÚe
;

145 
	`nv_drm_fÜ_—ch_ütc_š_¡©e
(
¶ªe_¡©e
->
¡©e
, 
ütc
, 
ütc_¡©e
, 
i
) {

146 
nv_drm_ütc_¡©e
 *
nv_ütc_¡©e
 = 
	`to_nv_ütc_¡©e
(
ütc_¡©e
);

147 
NvKmsK­iH—dReque¡edCÚfig
 *
h—d_»q_cÚfig
 =

148 &
nv_ütc_¡©e
->
»q_cÚfig
;

149 
NvKmsK­iPÏÃReque¡edCÚfig
 *
¶ªe_»que¡ed_cÚfig
 =

150 &
h—d_»q_cÚfig
->
¶ªeReque¡edCÚfig
[
ty³
];

152 ià(
¶ªe
->
¡©e
->
ütc
 == crtc &&

153 
¶ªe
->
¡©e
->
ütc
 !ð
¶ªe_¡©e
->crtc) {

154 
	`¶ªe_»q_cÚfig_di§bË
(
¶ªe_»que¡ed_cÚfig
);

158 ià(
¶ªe_¡©e
->
ütc
 == crtc) {

159 
	`¶ªe_»q_cÚfig_upd©e
(
¶ªe_¡©e
,

160 
¶ªe_»que¡ed_cÚfig
);

164 
dÚe
:

166 
	}
}

168 
	$nv_drm_¶ªe_©omic_upd©e
(
drm_¶ªe
 *
¶ªe
,

169 
drm_¶ªe_¡©e
 *
Þd_¡©e
)

171 
	}
}

173 
	$nv_drm_¶ªe_©omic_di§bË
(
drm_¶ªe
 *
¶ªe
,

174 
drm_¶ªe_¡©e
 *
Þd_¡©e
)

176 
	}
}

178 cÚ¡ 
drm_¶ªe_funcs
 
	gnv_¶ªe_funcs
 = {

179 .
upd©e_¶ªe
 = 
drm_©omic_h–³r_upd©e_¶ªe
,

180 .
	gdi§bË_¶ªe
 = 
drm_©omic_h–³r_di§bË_¶ªe
,

181 .
	gde¡roy
 = 
nv_drm_¶ªe_de¡roy
,

182 .
	g»£t
 = 
drm_©omic_h–³r_¶ªe_»£t
,

183 .
	g©omic_du¶iÿ‹_¡©e
 = 
drm_©omic_h–³r_¶ªe_du¶iÿ‹_¡©e
,

184 .
	g©omic_de¡roy_¡©e
 = 
drm_©omic_h–³r_¶ªe_de¡roy_¡©e
,

187 cÚ¡ 
drm_¶ªe_h–³r_funcs
 
	gnv_¶ªe_h–³r_funcs
 = {

188 .
©omic_check
 = 
nv_drm_¶ªe_©omic_check
,

189 .
	g©omic_upd©e
 = 
nv_drm_¶ªe_©omic_upd©e
,

190 .
	g©omic_di§bË
 = 
nv_drm_¶ªe_©omic_di§bË
,

193 
	$nv_drm_ütc_de¡roy
(
drm_ütc
 *
ütc
)

195 
nv_drm_ütc
 *
nv_ütc
 = 
	`to_nv_ütc
(
ütc
);

197 
	`drm_ütc_þ—nup
(
ütc
);

199 
	`nv_drm_ä“
(
nv_ütc
);

200 
	}
}

202 
šlše
 

203 
	$__nv_drm_©omic_h–³r_ütc_de¡roy_¡©e
(
drm_ütc
 *
ütc
,

204 
drm_ütc_¡©e
 *
ütc_¡©e
)

206 #ià
	`defšed
(
NV_DRM_ATOMIC_HELPER_CRTC_DESTROY_STATE_HAS_CRTC_ARG
)

207 
	`__drm_©omic_h–³r_ütc_de¡roy_¡©e
(
ütc
, 
ütc_¡©e
);

209 
	`__drm_©omic_h–³r_ütc_de¡roy_¡©e
(
ütc_¡©e
);

211 
	}
}

213 
šlše
 
	$nv_drm_ütc_du¶iÿ‹_»q_h—d_mode£t_cÚfig
(

214 cÚ¡ 
NvKmsK­iH—dReque¡edCÚfig
 *
Þd
,

215 
NvKmsK­iH—dReque¡edCÚfig
 *
Ãw
)

217 
ušt32_t
 
i
;

225 *
Ãw
 = (
NvKmsK­iH—dReque¡edCÚfig
) {

226 .
modeS‘CÚfig
 = 
Þd
->modeSetConfig,

229 
i
 = 0; i < 
	`ARRAY_SIZE
(
Þd
->
¶ªeReque¡edCÚfig
); i++) {

230 
Ãw
->
¶ªeReque¡edCÚfig
[
i
] = (
NvKmsK­iPÏÃReque¡edCÚfig
) {

231 .
cÚfig
 = 
Þd
->
¶ªeReque¡edCÚfig
[
i
].config,

234 
	}
}

244 
drm_ütc_¡©e
*

245 
	$nv_drm_©omic_ütc_du¶iÿ‹_¡©e
(
drm_ütc
 *
ütc
)

247 
nv_drm_ütc_¡©e
 *
nv_¡©e
 = 
	`nv_drm_ÿÎoc
(1, (*nv_state));

249 ià(
nv_¡©e
 =ð
NULL
) {

250  
NULL
;

253 
	`__drm_©omic_h–³r_ütc_du¶iÿ‹_¡©e
(
ütc
, &
nv_¡©e
->
ba£
);

255 #ià
	`defšed
(
NV_DRM_ATOMIC_MODESET_NONBLOCKING_COMMIT_AVAILABLE
)

256 ià((
nv_¡©e
->
nv_æ
 =

257 
	`nv_drm_ÿÎoc
(1, (*(
nv_¡©e
->
nv_æ
)))è=ð
NULL
) {

258 
	`__nv_drm_©omic_h–³r_ütc_de¡roy_¡©e
(
ütc
, &
nv_¡©e
->
ba£
);

259 
	`nv_drm_ä“
(
nv_¡©e
);

260  
NULL
;

263 
	`INIT_LIST_HEAD
(&
nv_¡©e
->
nv_æ
->
li¡_’Œy
);

266 
	`nv_drm_ütc_du¶iÿ‹_»q_h—d_mode£t_cÚfig
(

267 &(
	`to_nv_ütc_¡©e
(
ütc
->
¡©e
)->
»q_cÚfig
),

268 &
nv_¡©e
->
»q_cÚfig
);

270  &
nv_¡©e
->
ba£
;

271 
	}
}

281 
	$nv_drm_©omic_ütc_de¡roy_¡©e
(
drm_ütc
 *
ütc
,

282 
drm_ütc_¡©e
 *
¡©e
)

284 
nv_drm_ütc_¡©e
 *
nv_¡©e
 = 
	`to_nv_ütc_¡©e
(
¡©e
);

286 #ià
	`defšed
(
NV_DRM_ATOMIC_MODESET_NONBLOCKING_COMMIT_AVAILABLE
)

287 ià(
nv_¡©e
->
nv_æ
 !ð
NULL
) {

288 
	`nv_drm_ä“
(
nv_¡©e
->
nv_æ
);

289 
nv_¡©e
->
nv_æ
 = 
NULL
;

293 
	`__nv_drm_©omic_h–³r_ütc_de¡roy_¡©e
(
ütc
, &
nv_¡©e
->
ba£
);

295 
	`nv_drm_ä“
(
nv_¡©e
);

296 
	}
}

298 
drm_ütc_funcs
 
	gnv_ütc_funcs
 = {

299 .
£t_cÚfig
 = 
drm_©omic_h–³r_£t_cÚfig
,

300 .
	g·ge_æ
 = 
drm_©omic_h–³r_·ge_æ
,

301 .
	g»£t
 = 
drm_©omic_h–³r_ütc_»£t
,

302 .
	gde¡roy
 = 
nv_drm_ütc_de¡roy
,

303 .
	g©omic_du¶iÿ‹_¡©e
 = 
nv_drm_©omic_ütc_du¶iÿ‹_¡©e
,

304 .
	g©omic_de¡roy_¡©e
 = 
nv_drm_©omic_ütc_de¡roy_¡©e
,

312 
šlše
 
boÞ


313 
	$nv_drm_ütc_¡©e_cÚÃùÜs_chªged
(
drm_ütc_¡©e
 *
ütc_¡©e
)

315 #ià
	`defšed
(
NV_DRM_CRTC_STATE_HAS_CONNECTORS_CHANGED
)

316  
ütc_¡©e
->
cÚÃùÜs_chªged
;

318  
ütc_¡©e
->
mode_chªged
;

320 
	}
}

322 
	$h—d_mode£t_cÚfig_©ch_cÚÃùÜ
(

323 
nv_drm_cÚÃùÜ
 *
nv_cÚÃùÜ
,

324 
NvKmsK­iH—dModeS‘CÚfig
 *
h—d_mode£t_cÚfig
)

326 
nv_drm_’cod”
 *
nv_’cod”
 = 
nv_cÚÃùÜ
->
nv_d‘eùed_’cod”
;

328 ià(
	`NV_DRM_WARN
(
nv_’cod”
 =ð
NULL
 ||

329 
h—d_mode£t_cÚfig
->
numDi¥Ïys
 >=

330 
	`ARRAY_SIZE
(
h—d_mode£t_cÚfig
->
di¥Ïys
))) {

331  -
EINVAL
;

333 
h—d_mode£t_cÚfig
->
di¥Ïys
[h—d_mode£t_cÚfig->
numDi¥Ïys
++] =

334 
nv_’cod”
->
hDi¥Ïy
;

336 
	}
}

343 
	$nv_drm_ütc_©omic_check
(
drm_ütc
 *
ütc
,

344 
drm_ütc_¡©e
 *
ütc_¡©e
)

346 
nv_drm_ütc_¡©e
 *
nv_ütc_¡©e
 = 
	`to_nv_ütc_¡©e
(
ütc_¡©e
);

347 
NvKmsK­iH—dReque¡edCÚfig
 *
»q_cÚfig
 =

348 &
nv_ütc_¡©e
->
»q_cÚfig
;

349 
»t
 = 0;

351 ià(
ütc_¡©e
->
mode_chªged
) {

352 
	`drm_mode_to_nvkms_di¥Ïy_mode
(&
ütc_¡©e
->
mode
,

353 &
»q_cÚfig
->
modeS‘CÚfig
.
mode
);

354 
»q_cÚfig
->
æags
.
modeChªged
 = 
NV_TRUE
;

357 ià(
	`nv_drm_ütc_¡©e_cÚÃùÜs_chªged
(
ütc_¡©e
)) {

358 
NvKmsK­iH—dModeS‘CÚfig
 *
cÚfig
 = &
»q_cÚfig
->
modeS‘CÚfig
;

359 
drm_cÚÃùÜ
 *
cÚÃùÜ
;

360 
drm_cÚÃùÜ_¡©e
 *
cÚÃùÜ_¡©e
;

361 
j
;

363 
cÚfig
->
numDi¥Ïys
 = 0;

365 
	`mem£t
(
cÚfig
->
di¥Ïys
, 0, (config->displays));

367 
»q_cÚfig
->
æags
.
di¥ÏysChªged
 = 
NV_TRUE
;

369 
	`nv_drm_fÜ_—ch_cÚÃùÜ_š_¡©e
(
ütc_¡©e
->
¡©e
,

370 
cÚÃùÜ
, 
cÚÃùÜ_¡©e
, 
j
) {

371 ià(
cÚÃùÜ_¡©e
->
ütc
 != crtc) {

375 ià((
»t
 = 
	`h—d_mode£t_cÚfig_©ch_cÚÃùÜ
(

376 
	`to_nv_cÚÃùÜ
(
cÚÃùÜ
),

377 
cÚfig
)) != 0) {

378  
»t
;

383 ià(
ütc_¡©e
->
aùive_chªged
) {

384 
»q_cÚfig
->
modeS‘CÚfig
.
bAùive
 = 
ütc_¡©e
->
aùive
;

385 
»q_cÚfig
->
æags
.
aùiveChªged
 = 
NV_TRUE
;

388  
»t
;

389 
	}
}

391 
boÞ


392 
	$nv_drm_ütc_mode_fixup
(
drm_ütc
 *
ütc
,

393 cÚ¡ 
drm_di¥Ïy_mode
 *
mode
,

394 
drm_di¥Ïy_mode
 *
adju¡ed_mode
)

396  
Œue
;

397 
	}
}

399 
	$nv_drm_ütc_´•¬e
(
drm_ütc
 *
ütc
)

402 
	}
}

404 
	$nv_drm_ütc_comm™
(
drm_ütc
 *
ütc
)

407 
	}
}

409 
	$nv_drm_ütc_di§bË
(
drm_ütc
 *
ütc
)

412 
	}
}

414 #ifdeà
NV_DRM_CRTC_HELPER_FUNCS_HAS_ATOMIC_ENABLE


415 
	$nv_drm_ütc_©omic_’abË
(
drm_ütc
 *
ütc
,

416 
drm_ütc_¡©e
 *
Þd_ütc_¡©e
)

419 
	}
}

421 
	$nv_drm_ütc_’abË
(
drm_ütc
 *
ütc
)

424 
	}
}

427 cÚ¡ 
drm_ütc_h–³r_funcs
 
	gnv_ütc_h–³r_funcs
 = {

428 .
©omic_check
 = 
nv_drm_ütc_©omic_check
,

429 .
	g´•¬e
 = 
nv_drm_ütc_´•¬e
,

430 .
	gcomm™
 = 
nv_drm_ütc_comm™
,

431 #ifdeà
NV_DRM_CRTC_HELPER_FUNCS_HAS_ATOMIC_ENABLE


432 .
	g©omic_’abË
 = 
nv_drm_ütc_©omic_’abË
,

434 .
	g’abË
 = 
nv_drm_ütc_’abË
,

436 .
	gdi§bË
 = 
nv_drm_ütc_di§bË
,

437 .
	gmode_fixup
 = 
nv_drm_ütc_mode_fixup
,

440 
drm_¶ªe
*

441 
	$nv_drm_¶ªe_ü—‹
(
drm_deviû
 *
dev
,

442 
drm_¶ªe_ty³
 
¶ªe_ty³
,

443 cÚ¡ 
u32
 
fÜm©s
[], 
fÜm©s_couÁ
)

445 
drm_¶ªe
 *
¶ªe
 = 
NULL
;

446 
»t
 = -
ENOMEM
;

448 ià((
¶ªe
 = 
	`nv_drm_ÿÎoc
(1, (*¶ªe))è=ð
NULL
) {

449 
çžed
;

452 
¶ªe
->
¡©e
 = 
	`nv_drm_ÿÎoc
(1, (*plane->state));

453 ià(
¶ªe
->
¡©e
 =ð
NULL
) {

454 
çžed_¡©e_®loc
;

457 
¶ªe
->
¡©e
->plane =…lane;

464 
»t
 = 
	`drm_univ”§l_¶ªe_š™
(

465 
dev
,

466 
¶ªe
, 0 , &
nv_¶ªe_funcs
,

467 
fÜm©s
, 
fÜm©s_couÁ
,

468 #ià
	`defšed
(
NV_DRM_UNIVERSAL_PLANE_INIT_HAS_FORMAT_MODIFIERS_ARG
)

469 
NULL
,

471 
¶ªe_ty³


472 #ià
	`defšed
(
NV_DRM_UNIVERSAL_PLANE_INIT_HAS_NAME_ARG
)

473 , 
NULL


477 ià(
»t
 != 0) {

478 
çžed_¶ªe_š™
;

481 
	`drm_¶ªe_h–³r_add
(
¶ªe
, &
nv_¶ªe_h–³r_funcs
);

483  
¶ªe
;

485 
çžed_¶ªe_š™
:

486 
	`nv_drm_ä“
(
¶ªe
->
¡©e
);

488 
çžed_¡©e_®loc
:

489 
	`nv_drm_ä“
(
¶ªe
);

491 
çžed
:

492  
	`ERR_PTR
(
»t
);

493 
	}
}

498 
drm_ütc
 *
	$__nv_drm_ütc_ü—‹
(
nv_drm_deviû
 *
nv_dev
,

499 
drm_¶ªe
 *
´im¬y_¶ªe
,

500 
drm_¶ªe
 *
cursÜ_¶ªe
,

501 
h—d
)

503 
nv_drm_ütc
 *
nv_ütc
 = 
NULL
;

504 
»t
 = -
ENOMEM
;

506 ià((
nv_ütc
 = 
	`nv_drm_ÿÎoc
(1, (*nv_ütc))è=ð
NULL
) {

507 
çžed
;

510 
nv_ütc
->
ba£
.
¡©e
 = 
	`nv_drm_ÿÎoc
(1, (*nv_crtc->base.state));

511 ià(
nv_ütc
->
ba£
.
¡©e
 =ð
NULL
) {

512 
çžed_¡©e_®loc
;

514 
nv_ütc
->
ba£
.
¡©e
->
ütc
 = &nv_crtc->base;

516 
nv_ütc
->
h—d
 = head;

517 #ià
	`defšed
(
NV_DRM_ATOMIC_MODESET_NONBLOCKING_COMMIT_AVAILABLE
)

518 
	`INIT_LIST_HEAD
(&
nv_ütc
->
æ_li¡
);

519 
	`¥š_lock_š™
(&
nv_ütc
->
æ_lock
);

522 
»t
 = 
	`drm_ütc_š™_w™h_¶ªes
(
nv_dev
->
dev
,

523 &
nv_ütc
->
ba£
,

524 
´im¬y_¶ªe
, 
cursÜ_¶ªe
,

525 &
nv_ütc_funcs


526 #ià
	`defšed
(
NV_DRM_CRTC_INIT_WITH_PLANES_HAS_NAME_ARG
)

527 , 
NULL


531 ià(
»t
 != 0) {

532 
	`NV_DRM_DEV_LOG_ERR
(

533 
nv_dev
,

534 "FažedØš™ c¹øfÜ h—d %u w™h…ÏÃs", 
h—d
);

535 
çžed_š™_ütc
;

540 
	`drm_ütc_h–³r_add
(&
nv_ütc
->
ba£
, &
nv_ütc_h–³r_funcs
);

542  &
nv_ütc
->
ba£
;

544 
çžed_š™_ütc
:

545 
	`nv_drm_ä“
(
nv_ütc
->
ba£
.
¡©e
);

547 
çžed_¡©e_®loc
:

548 
	`nv_drm_ä“
(
nv_ütc
);

550 
çžed
:

551  
	`ERR_PTR
(
»t
);

552 
	}
}

554 
	$nv_drm_’um”©e_ütcs_ªd_¶ªes
(
nv_drm_deviû
 *
nv_dev
,

555 
num_h—ds
)

557 
i
;

559 
i
 = 0; i < 
num_h—ds
; i++) {

560 
drm_¶ªe
 *
´im¬y_¶ªe
 = 
NULL
, *
cursÜ_¶ªe
 = NULL;

562 
´im¬y_¶ªe
 = 
	`nv_drm_¶ªe_ü—‹
(

563 
nv_dev
->
dev
,

564 
DRM_PLANE_TYPE_PRIMARY
,

565 
nv_deçuÉ_suµÜ‹d_¶ªe_drm_fÜm©s
,

566 
	`ARRAY_SIZE
(
nv_deçuÉ_suµÜ‹d_¶ªe_drm_fÜm©s
));

568 ià(
	`IS_ERR
(
´im¬y_¶ªe
)) {

569 
	`NV_DRM_DEV_LOG_ERR
(

570 
nv_dev
,

572 
i
, 
	`PTR_ERR
(
´im¬y_¶ªe
));

575 
cursÜ_¶ªe
 = 
	`nv_drm_¶ªe_ü—‹
(

576 
nv_dev
->
dev
,

577 
DRM_PLANE_TYPE_CURSOR
,

578 
nv_suµÜ‹d_cursÜ_¶ªe_drm_fÜm©s
,

579 
	`ARRAY_SIZE
(
nv_suµÜ‹d_cursÜ_¶ªe_drm_fÜm©s
));

581 ià(
	`IS_ERR
(
cursÜ_¶ªe
)) {

582 
	`NV_DRM_DEV_LOG_ERR
(

583 
nv_dev
,

585 
i
, 
	`PTR_ERR
(
cursÜ_¶ªe
));

588 ià(
´im¬y_¶ªe
 !ð
NULL
) {

589 
drm_ütc
 *
ütc
 =

590 
	`__nv_drm_ütc_ü—‹
(
nv_dev
,

591 
´im¬y_¶ªe
, 
cursÜ_¶ªe
,

592 
i
);

594 ià(
	`IS_ERR
(
ütc
)) {

595 
	`NV_DRM_DEV_LOG_ERR
(

596 
nv_dev
,

598 
i
, 
	`PTR_ERR
(
ütc
));

602 
	}
}

604 
	$nv_drm_g‘_ütc_üc32_ioùl
(
drm_deviû
 *
dev
,

605 *
d©a
, 
drm_fže
 *
fž•
)

607 
drm_nvidŸ_g‘_ütc_üc32_·¿ms
 *
·¿ms
 = 
d©a
;

608 
nv_drm_deviû
 *
nv_dev
 = 
	`to_nv_deviû
(
dev
);

609 
drm_ütc
 *
ütc
 = 
NULL
;

610 
nv_drm_ütc
 *
nv_ütc
 = 
NULL
;

611 
NvU32
 
üc32
 = 0;

612 
»t
 = 0;

614 ià(!
	`drm_cÜe_check_ã©u»
(
dev
, 
DRIVER_MODESET
)) {

615 
»t
 = -
ENOENT
;

616 
dÚe
;

619 
ütc
 = 
	`nv_drm_ütc_fšd
(
dev
, 
·¿ms
->
ütc_id
);

620 ià(!
ütc
) {

621 
»t
 = -
ENOENT
;

622 
dÚe
;

625 
nv_ütc
 = 
	`to_nv_ütc
(
ütc
);

627 ià(!
nvKms
->
	`g‘CRC32
(
nv_dev
->
pDeviû
, 
nv_ütc
->
h—d
, &
üc32
)) {

628 
»t
 = -
ENODEV
;

631 
·¿ms
->
üc32
 = crc32;

633 
dÚe
:

634  
»t
;

635 
	}
}

	@src/nvidia-drm/nvidia-drm-crtc.h

23 #iâdeà
__NVIDIA_DRM_CRTC_H__


24 
	#__NVIDIA_DRM_CRTC_H__


	)

26 
	~"nvidŸ-drm-cÚáe¡.h
"

28 #ià
defšed
(
NV_DRM_ATOMIC_MODESET_AVAILABLE
)

30 
	~<drm/drmP.h
>

31 
	~"nvty³s.h
"

32 
	~"nvkms-k­i.h
"

34 
	snv_drm_ütc
 {

35 
NvU32
 
	mh—d
;

37 #ià
defšed
(
NV_DRM_ATOMIC_MODESET_NONBLOCKING_COMMIT_AVAILABLE
)

44 
li¡_h—d
 
	mæ_li¡
;

51 
¥šlock_t
 
	mæ_lock
;

53 
©omic_t
 
	mhas_³ndšg_comm™
;

54 
©omic_t
 
	mhas_³ndšg_æ_ev’t
;

57 
drm_ütc
 
	mba£
;

60 #ià
defšed
(
NV_DRM_ATOMIC_MODESET_NONBLOCKING_COMMIT_AVAILABLE
)

71 
	snv_drm_æ
 {

78 
drm_³ndšg_vbÏnk_ev’t
 *
	mev’t
;

86 
li¡_h—d
 
	mli¡_’Œy
;

90 
	snv_drm_ütc_¡©e
 {

96 
drm_ütc_¡©e
 
	mba£
;

103 
NvKmsK­iH—dReque¡edCÚfig
 
	m»q_cÚfig
;

105 #ià
defšed
(
NV_DRM_ATOMIC_MODESET_NONBLOCKING_COMMIT_AVAILABLE
)

118 
nv_drm_æ
 *
	mnv_æ
;

122 
šlše
 
nv_drm_ütc_¡©e
 *
	$to_nv_ütc_¡©e
(
drm_ütc_¡©e
 *
¡©e
)

124  
	`cÚš”_of
(
¡©e
, 
nv_drm_ütc_¡©e
, 
ba£
);

125 
	}
}

127 
šlše
 
nv_drm_ütc
 *
	$to_nv_ütc
(
drm_ütc
 *
ütc
)

129 ià(
ütc
 =ð
NULL
) {

130  
NULL
;

132  
	`cÚš”_of
(
ütc
, 
nv_drm_ütc
, 
ba£
);

133 
	}
}

140 
šlše


141 
nv_drm_ütc
 *
	$nv_drm_ütc_lookup
(
nv_drm_deviû
 *
nv_dev
, 
NvU32
 
h—d
)

143 
drm_ütc
 *
ütc
;

144 
	`li¡_fÜ_—ch_’Œy
(
ütc
, &
nv_dev
->
dev
->
mode_cÚfig
.
ütc_li¡
, 
h—d
) {

145 
nv_drm_ütc
 *
nv_ütc
 = 
	`to_nv_ütc
(
ütc
);

147 ià(
nv_ütc
->
h—d
 == head) {

148  
nv_ütc
;

151  
NULL
;

152 
	}
}

154 
nv_drm_’um”©e_ütcs_ªd_¶ªes
(
nv_drm_deviû
 *
nv_dev
,

155 
num_h—ds
);

157 
nv_drm_g‘_ütc_üc32_ioùl
(
drm_deviû
 *
dev
,

158 *
d©a
, 
drm_fže
 *
fž•
);

	@src/nvidia-drm/nvidia-drm-drv.c

23 
	~"nvidŸ-drm-cÚáe¡.h
"

25 #iâdeà
__lšux__


26 
	~"nvidŸ-drm.h
"

27 
	~<drm/drm.h
>

30 
	~"nvidŸ-drm-´iv.h
"

31 
	~"nvidŸ-drm-drv.h
"

32 
	~"nvidŸ-drm-fb.h
"

33 
	~"nvidŸ-drm-mode£t.h
"

34 
	~"nvidŸ-drm-’cod”.h
"

35 
	~"nvidŸ-drm-cÚÃùÜ.h
"

36 
	~"nvidŸ-drm-gem.h
"

37 
	~"nvidŸ-drm-ütc.h
"

38 
	~"nvidŸ-drm-´ime-ãnû.h
"

39 
	~"nvidŸ-drm-h–³r.h
"

40 
	~"nvidŸ-drm-gem-nvkms-memÜy.h
"

41 
	~"nvidŸ-drm-gem-u£r-memÜy.h
"

43 #ià
defšed
(
NV_DRM_AVAILABLE
)

45 
	~"nvidŸ-drm-ioùl.h
"

47 
	~<drm/drmP.h
>

49 
	~<drm/drm_ütc_h–³r.h
>

51 #ià
defšed
(
NV_DRM_DRM_GEM_H_PRESENT
)

52 
	~<drm/drm_gem.h
>

55 #ià
defšed
(
NV_DRM_DRM_AUTH_H_PRESENT
)

56 
	~<drm/drm_auth.h
>

59 #ià
defšed
(
NV_DRM_ATOMIC_MODESET_AVAILABLE
)

60 
	~<drm/drm_©omic_h–³r.h
>

63 
nv_drm_deviû
 *
	gdev_li¡
 = 
NULL
;

65 #ià
defšed
(
NV_DRM_ATOMIC_MODESET_AVAILABLE
)

67 
	$nv_drm_ouut_pÞl_chªged
(
drm_deviû
 *
dev
)

69 
drm_cÚÃùÜ
 *
cÚÃùÜ
 = 
NULL
;

71 
	`mu‹x_lock
(&
dev
->
mode_cÚfig
.
mu‹x
);

73 
	`li¡_fÜ_—ch_’Œy
(
cÚÃùÜ
, &
dev
->
mode_cÚfig
.
cÚÃùÜ_li¡
, 
h—d
) {

75 
nv_drm_cÚÃùÜ
 *
nv_cÚÃùÜ
 = 
	`to_nv_cÚÃùÜ
(
cÚÃùÜ
);

77 ià(!
	`nv_drm_cÚÃùÜ_check_cÚÃùiÚ_¡©us_dœty_ªd_þ—r
(

78 
nv_cÚÃùÜ
)) {

82 
cÚÃùÜ
->
funcs
->
	`fžl_modes
(

83 
cÚÃùÜ
,

84 
dev
->
mode_cÚfig
.
max_width
, dev->mode_cÚfig.
max_height
);

87 
	`mu‹x_uÆock
(&
dev
->
mode_cÚfig
.
mu‹x
);

88 
	}
}

90 
drm_äamebufãr
 *
nv_drm_äamebufãr_ü—‹
(

91 
drm_deviû
 *
dev
,

92 
drm_fže
 *
fže
,

93 #ià
defšed
(
NV_DRM_HELPER_MODE_FILL_FB_STRUCT_HAS_CONST_MODE_CMD_ARG
)

94 cÚ¡ 
drm_mode_fb_cmd2
 *
cmd


96 
drm_mode_fb_cmd2
 *
cmd


100 
drm_mode_fb_cmd2
 
	gloÿl_cmd
;

101 
drm_äamebufãr
 *
	gfb
;

103 
	gloÿl_cmd
 = *
cmd
;

105 
	gfb
 = 
nv_drm_š‹º®_äamebufãr_ü—‹
(

106 
dev
,

107 
fže
,

108 &
loÿl_cmd
);

110 #ià!
defšed
(
NV_DRM_HELPER_MODE_FILL_FB_STRUCT_HAS_CONST_MODE_CMD_ARG
)

111 *
	gcmd
 = 
loÿl_cmd
;

114  
	gfb
;

117 cÚ¡ 
drm_mode_cÚfig_funcs
 
	gnv_mode_cÚfig_funcs
 = {

118 .
fb_ü—‹
 = 
nv_drm_äamebufãr_ü—‹
,

120 .
	g©omic_¡©e_®loc
 = 
nv_drm_©omic_¡©e_®loc
,

121 .
	g©omic_¡©e_þ—r
 = 
nv_drm_©omic_¡©e_þ—r
,

122 .
	g©omic_¡©e_ä“
 = 
nv_drm_©omic_¡©e_ä“
,

123 .
	g©omic_check
 = 
nv_drm_©omic_check
,

124 .
	g©omic_comm™
 = 
nv_drm_©omic_comm™
,

126 .
	gouut_pÞl_chªged
 = 
nv_drm_ouut_pÞl_chªged
,

129 
	$nv_drm_ev’t_ÿÎback
(cÚ¡ 
NvKmsK­iEv’t
 *
ev’t
)

131 
nv_drm_deviû
 *
nv_dev
 = 
ev’t
->
´iv©eD©a
;

133 
	`mu‹x_lock
(&
nv_dev
->
lock
);

135 ià(!
	`©omic_»ad
(&
nv_dev
->
’abË_ev’t_hªdlšg
)) {

136 
dÚe
;

139 
ev’t
->
ty³
) {

140 
NVKMS_EVENT_TYPE_DPY_CHANGED
:

141 
	`nv_drm_hªdË_di¥Ïy_chªge
(

142 
nv_dev
,

143 
ev’t
->
u
.
di¥ÏyChªged
.
di¥Ïy
);

146 
NVKMS_EVENT_TYPE_DYNAMIC_DPY_CONNECTED
:

147 
	`nv_drm_hªdË_dyÇmic_di¥Ïy_cÚÃùed
(

148 
nv_dev
,

149 
ev’t
->
u
.
dyÇmicDi¥ÏyCÚÃùed
.
di¥Ïy
);

151 
NVKMS_EVENT_TYPE_FLIP_OCCURRED
:

152 
	`nv_drm_hªdË_æ_occu¼ed
(

153 
nv_dev
,

154 
ev’t
->
u
.
æOccu¼ed
.
h—d
,

155 
ev’t
->
u
.
æOccu¼ed
.
¶ªe
);

161 
dÚe
:

163 
	`mu‹x_uÆock
(&
nv_dev
->
lock
);

164 
	}
}

171 
	$nv_drm_š™_mode_cÚfig
(
nv_drm_deviû
 *
nv_dev
,

172 cÚ¡ 
NvKmsK­iDeviûResourûsInfo
 *
pResInfo
)

174 #ià
	`defšed
(
NV_DRM_ATOMIC_MODESET_NONBLOCKING_COMMIT_AVAILABLE
)

175 
drm_mode_cÚfig_h–³r_funcs
 
nv_mode_cÚfig_h–³r
 = {

176 .
©omic_comm™_ž
 = 
nv_drm_©omic_h–³r_comm™_ž
,

179 
drm_deviû
 *
dev
 = 
nv_dev
->dev;

181 
	`drm_mode_cÚfig_š™
(
dev
);

182 
	`drm_mode_ü—‹_dvi_i_´Ý”t›s
(
dev
);

184 
dev
->
mode_cÚfig
.
funcs
 = &
nv_mode_cÚfig_funcs
;

186 
dev
->
mode_cÚfig
.
mš_width
 = 
pResInfo
->
ÿps
.
mšWidthInPix–s
;

187 
dev
->
mode_cÚfig
.
mš_height
 = 
pResInfo
->
ÿps
.
mšHeightInPix–s
;

189 
dev
->
mode_cÚfig
.
max_width
 = 
pResInfo
->
ÿps
.
maxWidthInPix–s
;

190 
dev
->
mode_cÚfig
.
max_height
 = 
pResInfo
->
ÿps
.
maxHeightInPix–s
;

192 
dev
->
mode_cÚfig
.
cursÜ_width
 = 
pResInfo
->
ÿps
.
maxCursÜSizeInPix–s
;

193 
dev
->
mode_cÚfig
.
cursÜ_height
 = 
pResInfo
->
ÿps
.
maxCursÜSizeInPix–s
;

200 
dev
->
mode_cÚfig
.
´eã¼ed_d•th
 = 24;

201 
dev
->
mode_cÚfig
.
´eãr_shadow
 = 1;

205 
dev
->
mode_cÚfig
.
fb_ba£
 = 0;

207 
dev
->
mode_cÚfig
.
async_·ge_æ
 = 
çl£
;

209 #ià
	`defšed
(
NV_DRM_ATOMIC_MODESET_NONBLOCKING_COMMIT_AVAILABLE
)

210 
dev
->
mode_cÚfig
.
h–³r_´iv©e
 = &
nv_mode_cÚfig_h–³r
;

215 
	`drm_kms_h–³r_pÞl_š™
(
dev
);

219 
	`drm_kms_h–³r_pÞl_di§bË
(
dev
);

220 
	}
}

225 
	gnv_drm_’um”©e_’cod”s_ªd_cÚÃùÜs


227 
nv_drm_deviû
 *
	gnv_dev


230 
drm_deviû
 *
	gdev
 = 
nv_dev
->
dev
;

231 
NvU32
 
	gnDi¥Ïys
 = 0;

233 ià(!
	gnvKms
->
g‘Di¥Ïys
(
nv_dev
->
pDeviû
, &
nDi¥Ïys
, 
NULL
)) {

234 
NV_DRM_DEV_LOG_ERR
(

235 
nv_dev
,

239 ià(
	gnDi¥Ïys
 != 0) {

240 
NvKmsK­iDi¥Ïy
 *
hDi¥Ïys
 =

241 
nv_drm_ÿÎoc
(
nDi¥Ïys
, (*
hDi¥Ïys
));

243 ià(
	ghDi¥Ïys
 !ð
NULL
) {

244 ià(!
nvKms
->
g‘Di¥Ïys
(
nv_dev
->
pDeviû
, &
nDi¥Ïys
, 
hDi¥Ïys
)) {

245 
NV_DRM_DEV_LOG_ERR
(

246 
nv_dev
,

249 
NvU32
 
	gi
;

251 
	gi
 = 0; i < 
	gnDi¥Ïys
; i++) {

252 
drm_’cod”
 *
	g’cod”
 =

253 
nv_drm_add_’cod”
(
dev
, 
hDi¥Ïys
[
i
]);

255 ià(
IS_ERR
(
’cod”
)) {

256 
NV_DRM_DEV_LOG_ERR
(

257 
nv_dev
,

259 
hDi¥Ïys
[
i
]);

264 
nv_drm_ä“
(
hDi¥Ïys
);

266 
NV_DRM_DEV_LOG_ERR
(

267 
nv_dev
,

275 
	$nv_drm_lßd
(
drm_deviû
 *
dev
, 
æags
)

277 #ià
	`defšed
(
NV_DRM_ATOMIC_MODESET_AVAILABLE
)

278 
NvKmsK­iDeviû
 *
pDeviû
;

280 
NvKmsK­iAÎoÿ‹DeviûP¬ams
 
®loÿ‹DeviûP¬ams
;

281 
NvKmsK­iDeviûResourûsInfo
 
»sInfo
;

284 
nv_drm_deviû
 *
nv_dev
 = 
	`to_nv_deviû
(
dev
);

286 
	`NV_DRM_DEV_LOG_INFO
(
nv_dev
, "Loading driver");

288 #ià
	`defšed
(
NV_DRM_ATOMIC_MODESET_AVAILABLE
)

290 ià(!
	`drm_cÜe_check_ã©u»
(
dev
, 
DRIVER_MODESET
)) {

296 
	`mem£t
(&
®loÿ‹DeviûP¬ams
, 0, (allocateDeviceParams));

298 
®loÿ‹DeviûP¬ams
.
gpuId
 = 
nv_dev
->
gpu_šfo
.
gpu_id
;

300 
®loÿ‹DeviûP¬ams
.
´iv©eD©a
 = 
nv_dev
;

301 
®loÿ‹DeviûP¬ams
.
ev’tC®lback
 = 
nv_drm_ev’t_ÿÎback
;

303 
pDeviû
 = 
nvKms
->
	`®loÿ‹Deviû
(&
®loÿ‹DeviûP¬ams
);

305 ià(
pDeviû
 =ð
NULL
) {

306 
	`NV_DRM_DEV_LOG_ERR
(
nv_dev
, "Failedo‡llocate NvKmsKapiDevice");

307  -
ENODEV
;

312 ià(!
nvKms
->
	`g‘DeviûResourûsInfo
(
pDeviû
, &
»sInfo
)) {

314 
nvKms
->
	`ä“Deviû
(
pDeviû
);

316 
	`NV_DRM_DEV_LOG_ERR
(

317 
nv_dev
,

319  -
ENODEV
;

322 
	`mu‹x_lock
(&
nv_dev
->
lock
);

326 
nv_dev
->
pDeviû
 =…Device;

328 
nv_dev
->
p™chAlignm’t
 = 
»sInfo
.
ÿps
.pitchAlignment;

332 
	`nv_drm_š™_mode_cÚfig
(
nv_dev
, &
»sInfo
);

334 ià(!
nvKms
->
	`deþ¬eEv’tIÁ”e¡
(

335 
nv_dev
->
pDeviû
,

336 ((1 << 
NVKMS_EVENT_TYPE_DPY_CHANGED
) |

337 (1 << 
NVKMS_EVENT_TYPE_DYNAMIC_DPY_CONNECTED
) |

338 (1 << 
NVKMS_EVENT_TYPE_FLIP_OCCURRED
)))) {

339 
	`NV_DRM_DEV_LOG_ERR
(
nv_dev
, "Failedo„egisterƒvent mask");

344 
	`nv_drm_’um”©e_ütcs_ªd_¶ªes
(
nv_dev
, 
»sInfo
.
numH—ds
);

348 
	`nv_drm_’um”©e_’cod”s_ªd_cÚÃùÜs
(
nv_dev
);

350 
	`drm_vbÏnk_š™
(
dev
, dev->
mode_cÚfig
.
num_ütc
);

357 
	`drm_h–³r_hpd_œq_ev’t
(
dev
);

361 
	`©omic_£t
(&
nv_dev
->
’abË_ev’t_hªdlšg
, 
Œue
);

363 #ià!
	`defšed
(
NV_DRM_ATOMIC_MODESET_NONBLOCKING_COMMIT_AVAILABLE
)

364 
	`š™_wa™queue_h—d
(&
nv_dev
->
³ndšg_comm™_queue
);

365 
	`š™_wa™queue_h—d
(&
nv_dev
->
³ndšg_æ_queue
);

368 
	`mu‹x_uÆock
(&
nv_dev
->
lock
);

373 
	}
}

375 
	$__nv_drm_uÆßd
(
drm_deviû
 *
dev
)

377 #ià
	`defšed
(
NV_DRM_ATOMIC_MODESET_AVAILABLE
)

378 
NvKmsK­iDeviû
 *
pDeviû
 = 
NULL
;

381 
nv_drm_deviû
 *
nv_dev
 = 
	`to_nv_deviû
(
dev
);

383 
	`NV_DRM_DEV_LOG_INFO
(
nv_dev
, "Unloading driver");

385 #ià
	`defšed
(
NV_DRM_ATOMIC_MODESET_AVAILABLE
)

387 ià(!
	`drm_cÜe_check_ã©u»
(
dev
, 
DRIVER_MODESET
)) {

391 
	`mu‹x_lock
(&
nv_dev
->
lock
);

395 
	`©omic_£t
(&
nv_dev
->
’abË_ev’t_hªdlšg
, 
çl£
);

399 
	`drm_kms_h–³r_pÞl_fši
(
dev
);

403 
	`drm_mode_cÚfig_þ—nup
(
dev
);

405 ià(!
nvKms
->
	`deþ¬eEv’tIÁ”e¡
(
nv_dev
->
pDeviû
, 0x0)) {

406 
	`NV_DRM_DEV_LOG_ERR
(
nv_dev
, "Failedo stopƒvent†istening");

411 
pDeviû
 = 
nv_dev
->pDevice;

412 
nv_dev
->
pDeviû
 = 
NULL
;

414 
	`mu‹x_uÆock
(&
nv_dev
->
lock
);

416 
nvKms
->
	`ä“Deviû
(
pDeviû
);

419 
	}
}

421 #ià
defšed
(
NV_DRM_DRIVER_UNLOAD_HAS_INT_RETURN_TYPE
)

422 
	$nv_drm_uÆßd
(
drm_deviû
 *
dev
)

424 
	`__nv_drm_uÆßd
(
dev
);

427 
	}
}

429 
	$nv_drm_uÆßd
(
drm_deviû
 *
dev
)

431 
	`__nv_drm_uÆßd
(
dev
);

432 
	}
}

435 #ià
defšed
(
NV_DRM_ATOMIC_MODESET_AVAILABLE
)

437 
	$nv_drm_ma¡”_£t
(
drm_deviû
 *
dev
,

438 
drm_fže
 *
fže_´iv
, 
boÞ
 
äom_Ý’
)

440 
nv_drm_deviû
 *
nv_dev
 = 
	`to_nv_deviû
(
dev
);

442 ià(!
nvKms
->
	`g¿bOwÃrsh
(
nv_dev
->
pDeviû
)) {

443  -
EINVAL
;

447 
	}
}

449 #ià
defšed
(
NV_DRM_MASTER_DROP_HAS_FROM_RELEASE_ARG
)

451 
	$nv_drm_ma¡”_drÝ
(
drm_deviû
 *
dev
,

452 
drm_fže
 *
fže_´iv
, 
boÞ
 
äom_»Ëa£
)

455 
	$nv_drm_ma¡”_drÝ
(
drm_deviû
 *
dev
, 
drm_fže
 *
fže_´iv
)

458 
nv_drm_deviû
 *
nv_dev
 = 
	`to_nv_deviû
(
dev
);

459 
drm_¶ªe
 *
¶ªe
;

460 
¶ªe_mask
;

461 
drm_ütc
 *
ütc
;

462 
”r
;

474 
	`drm_mode£t_lock_®l
(
dev
);

476 
¶ªe_mask
 = 0x0;

477 
	`li¡_fÜ_—ch_’Œy
(
¶ªe
, &
dev
->
mode_cÚfig
.
¶ªe_li¡
, 
h—d
) {

478 
¶ªe
->
Þd_fb
 =…ÏÃ->
fb
;

479 
¶ªe_mask
 |ð1 << 
	`drm_¶ªe_šdex
(
¶ªe
);

482 ià((
”r
 = 
	`nv_drm_©omic_h–³r_di§bË_®l
(

483 
dev
,

484 
dev
->
mode_cÚfig
.
acquœe_ùx
)) != 0) {

486 
	`NV_DRM_DEV_LOG_ERR
(

487 
nv_dev
,

489 
”r
);

492 
	`nv_drm_©omic_þ—n_Þd_fb
(
dev
, 
¶ªe_mask
, 
”r
);

494 
	`li¡_fÜ_—ch_’Œy
(
ütc
, &
dev
->
mode_cÚfig
.
ütc_li¡
, 
h—d
) {

495 
drm_mode_£t
 
£t
 = {

496 .
ütc
 = crtc,

499 
¶ªe_mask
 = 0x0;

500 
	`li¡_fÜ_—ch_’Œy
(
¶ªe
, &
dev
->
mode_cÚfig
.
¶ªe_li¡
, 
h—d
) {

501 
¶ªe
->
Þd_fb
 =…ÏÃ->
fb
;

502 
¶ªe_mask
 |ð1 << 
	`drm_¶ªe_šdex
(
¶ªe
);

505 ià((
”r
 = 
	`nv_drm_©omic_h–³r_£t_cÚfig
(

506 &
£t
,

507 
dev
->
mode_cÚfig
.
acquœe_ùx
)) != 0) {

508 
	`NV_DRM_DEV_LOG_ERR
(

509 
nv_dev
,

511 
”r
);

514 
	`nv_drm_©omic_þ—n_Þd_fb
(
dev
, 
¶ªe_mask
, 
”r
);

517 
	`drm_mode£t_uÆock_®l
(
dev
);

519 
nvKms
->
	`»Ëa£OwÃrsh
(
nv_dev
->
pDeviû
);

520 
	}
}

523 #ià
defšed
(
NV_DRM_BUS_PRESENT
è|| defšed(
NV_DRM_DRIVER_HAS_SET_BUSID
)

524 
	$nv_drm_pci_£t_busid
(
drm_deviû
 *
dev
,

525 
drm_ma¡”
 *
ma¡”
)

527 
nv_drm_deviû
 *
nv_dev
 = 
	`to_nv_deviû
(
dev
);

529 
ma¡”
->
unique
 = 
	`nv_drm_a¥rštf
("pci:%04x:%02x:%02x.%d",

530 
nv_dev
->
gpu_šfo
.
pci_šfo
.
domaš
,

531 
nv_dev
->
gpu_šfo
.
pci_šfo
.
bus
,

532 
nv_dev
->
gpu_šfo
.
pci_šfo
.
¦Ù
,

533 
nv_dev
->
gpu_šfo
.
pci_šfo
.
funùiÚ
);

535 ià(
ma¡”
->
unique
 =ð
NULL
) {

536  -
ENOMEM
;

539 
ma¡”
->
unique_Ën
 = 
	`¡¾’
(ma¡”->
unique
);

542 
	}
}

545 
	$nv_drm_g‘_dev_šfo_ioùl
(
drm_deviû
 *
dev
,

546 *
d©a
, 
drm_fže
 *
fž•
)

548 
nv_drm_deviû
 *
nv_dev
 = 
	`to_nv_deviû
(
dev
);

549 
drm_nvidŸ_g‘_dev_šfo_·¿ms
 *
·¿ms
 = 
d©a
;

551 ià(
dev
->
´im¬y
 =ð
NULL
) {

552  -
ENOENT
;

555 
·¿ms
->
gpu_id
 = 
nv_dev
->
gpu_šfo
.gpu_id;

556 
·¿ms
->
´im¬y_šdex
 = 
dev
->
´im¬y
->
šdex
;

559 
	}
}

562 
	$nv_drm_g‘_þ›Á_ÿ·bž™y_ioùl
(
drm_deviû
 *
dev
,

563 *
d©a
, 
drm_fže
 *
fž•
)

565 
drm_nvidŸ_g‘_þ›Á_ÿ·bž™y_·¿ms
 *
·¿ms
 = 
d©a
;

567 
·¿ms
->
ÿ·bž™y
) {

568 #ià
	`defšed
(
DRM_CLIENT_CAP_STEREO_3D
)

569 
DRM_CLIENT_CAP_STEREO_3D
:

570 
·¿ms
->
v®ue
 = 
fž•
->
¡”eo_®lowed
;

573 #ià
	`defšed
(
DRM_CLIENT_CAP_UNIVERSAL_PLANES
)

574 
DRM_CLIENT_CAP_UNIVERSAL_PLANES
:

575 
·¿ms
->
v®ue
 = 
fž•
->
univ”§l_¶ªes
;

578 #ià
	`defšed
(
DRM_CLIENT_CAP_ATOMIC
)

579 
DRM_CLIENT_CAP_ATOMIC
:

580 
·¿ms
->
v®ue
 = 
fž•
->
©omic
;

584  -
EINVAL
;

588 
	}
}

590 #ià
defšed
(
NV_DRM_BUS_PRESENT
)

592 #ià
defšed
(
NV_DRM_BUS_HAS_GET_IRQ
)

593 
	$nv_drm_bus_g‘_œq
(
drm_deviû
 *
dev
)

596 
	}
}

599 #ià
defšed
(
NV_DRM_BUS_HAS_GET_NAME
)

600 cÚ¡ *
	$nv_drm_bus_g‘_Çme
(
drm_deviû
 *
dev
)

603 
	}
}

606 
drm_bus
 
	gnv_drm_bus
 = {

607 #ià
defšed
(
NV_DRM_BUS_HAS_BUS_TYPE
)

608 .
bus_ty³
 = 
DRIVER_BUS_PCI
,

610 #ià
defšed
(
NV_DRM_BUS_HAS_GET_IRQ
)

611 .
	gg‘_œq
 = 
nv_drm_bus_g‘_œq
,

613 #ià
defšed
(
NV_DRM_BUS_HAS_GET_NAME
)

614 .
	gg‘_Çme
 = 
nv_drm_bus_g‘_Çme
,

616 .
	g£t_busid
 = 
nv_drm_pci_£t_busid
,

621 cÚ¡ 
fže_Ý”©iÚs
 
	gnv_drm_fÝs
 = {

622 .
owÃr
 = 
THIS_MODULE
,

624 .
	gÝ’
 = 
drm_Ý’
,

625 .
	g»Ëa£
 = 
drm_»Ëa£
,

626 .
	guÆocked_ioùl
 = 
drm_ioùl
,

628 #ià
defšed
(
NV_DRM_ATOMIC_MODESET_AVAILABLE
)

629 .
	gmm­
 = 
drm_gem_mm­
,

632 .
	gpÞl
 = 
drm_pÞl
,

633 .
	g»ad
 = 
drm_»ad
,

635 .
	gÎ£ek
 = 
noÝ_Î£ek
,

638 cÚ¡ 
drm_ioùl_desc
 
	gnv_drm_ioùls
[] = {

639 #ià
defšed
(
NV_DRM_ATOMIC_MODESET_AVAILABLE
)

640 
DRM_IOCTL_DEF_DRV
(
NVIDIA_GEM_IMPORT_NVKMS_MEMORY
,

641 
nv_drm_gem_impÜt_nvkms_memÜy_ioùl
,

642 
DRM_RENDER_ALLOW
|
DRM_UNLOCKED
),

645 
DRM_IOCTL_DEF_DRV
(
NVIDIA_GEM_IMPORT_USERSPACE_MEMORY
,

646 
nv_drm_gem_impÜt_u£r¥aû_memÜy_ioùl
,

647 
DRM_RENDER_ALLOW
|
DRM_UNLOCKED
),

648 
DRM_IOCTL_DEF_DRV
(
NVIDIA_GET_DEV_INFO
,

649 
nv_drm_g‘_dev_šfo_ioùl
,

650 
DRM_RENDER_ALLOW
|
DRM_UNLOCKED
),

652 #ià
defšed
(
NV_DRM_DRIVER_HAS_GEM_PRIME_RES_OBJ
)

653 
DRM_IOCTL_DEF_DRV
(
NVIDIA_FENCE_SUPPORTED
,

654 
nv_drm_ãnû_suµÜ‹d_ioùl
,

655 
DRM_RENDER_ALLOW
|
DRM_UNLOCKED
),

656 
DRM_IOCTL_DEF_DRV
(
NVIDIA_FENCE_CONTEXT_CREATE
,

657 
nv_drm_ãnû_cÚ‹xt_ü—‹_ioùl
,

658 
DRM_RENDER_ALLOW
|
DRM_UNLOCKED
),

659 
DRM_IOCTL_DEF_DRV
(
NVIDIA_GEM_FENCE_ATTACH
,

660 
nv_drm_gem_ãnû_©ch_ioùl
,

661 
DRM_RENDER_ALLOW
|
DRM_UNLOCKED
),

664 
DRM_IOCTL_DEF_DRV
(
NVIDIA_GET_CLIENT_CAPABILITY
,

665 
nv_drm_g‘_þ›Á_ÿ·bž™y_ioùl
,

667 #ià
defšed
(
NV_DRM_ATOMIC_MODESET_AVAILABLE
)

668 
DRM_IOCTL_DEF_DRV
(
NVIDIA_GET_CRTC_CRC32
,

669 
nv_drm_g‘_ütc_üc32_ioùl
,

670 
DRM_RENDER_ALLOW
|
DRM_UNLOCKED
),

671 
DRM_IOCTL_DEF_DRV
(
NVIDIA_GEM_EXPORT_NVKMS_MEMORY
,

672 
nv_drm_gem_expÜt_nvkms_memÜy_ioùl
,

673 
DRM_RENDER_ALLOW
|
DRM_UNLOCKED
),

677 
drm_driv”
 
	gnv_drm_driv”
 = {

679 .
driv”_ã©u»s
 = 
DRIVER_GEM
 | 
DRIVER_PRIME
 | 
DRIVER_RENDER
,

681 .
	ggem_ä“_objeù
 = 
nv_drm_gem_ä“
,

683 .
	gioùls
 = 
nv_drm_ioùls
,

684 .
	gnum_ioùls
 = 
ARRAY_SIZE
(
nv_drm_ioùls
),

686 .
	g´ime_hªdË_to_fd
 = 
drm_gem_´ime_hªdË_to_fd
,

687 .
	g´ime_fd_to_hªdË
 = 
drm_gem_´ime_fd_to_hªdË
,

688 .
	ggem_´ime_expÜt
 = 
drm_gem_´ime_expÜt
,

689 .
	ggem_´ime_impÜt
 = 
nv_drm_gem_´ime_impÜt
,

690 .
	ggem_´ime_g‘_sg_bË
 = 
nv_drm_gem_´ime_g‘_sg_bË
,

691 .
	ggem_´ime_vm­
 = 
nv_drm_gem_´ime_vm­
,

692 .
	ggem_´ime_vunm­
 = 
nv_drm_gem_´ime_vunm­
,

694 #ià
defšed
(
NV_DRM_DRIVER_HAS_GEM_PRIME_RES_OBJ
)

695 .
	ggem_´ime_»s_obj
 = 
nv_drm_gem_´ime_»s_obj
,

698 #ià
defšed
(
NV_DRM_DRIVER_HAS_SET_BUSID
)

699 .
	g£t_busid
 = 
nv_drm_pci_£t_busid
,

702 .
	glßd
 = 
nv_drm_lßd
,

703 .
	guÆßd
 = 
nv_drm_uÆßd
,

705 .
	gfÝs
 = &
nv_drm_fÝs
,

707 #ià
defšed
(
NV_DRM_BUS_PRESENT
)

708 .
	gbus
 = &
nv_drm_bus
,

711 .
	gÇme
 = "nvidia-drm",

713 .
	gdesc
 = "NVIDIA DRM driver",

714 .
	gd©e
 = "20160202",

716 #ià
defšed
(
NV_DRM_DRIVER_HAS_LEGACY_DEV_LIST
)

717 .
	gËgacy_dev_li¡
 = 
LIST_HEAD_INIT
(
nv_drm_driv”
.
Ëgacy_dev_li¡
),

719 .
	gdeviû_li¡
 = 
LIST_HEAD_INIT
(
nv_drm_driv”
.
deviû_li¡
),

731 #ifdeà
__lšux__


732 
	$nv_drm_upd©e_drm_driv”_ã©u»s
()

734 
	$nv_drm_upd©e_drm_driv”_ã©u»s
()

737 #ià
	`defšed
(
NV_DRM_ATOMIC_MODESET_AVAILABLE
)

739 ià(!
nv_drm_mode£t_moduË_·¿m
) {

743 
nv_drm_driv”
.
driv”_ã©u»s
 |ð
DRIVER_MODESET
 | 
DRIVER_ATOMIC
;

745 
nv_drm_driv”
.
ma¡”_£t
 = 
nv_drm_ma¡”_£t
;

746 
nv_drm_driv”
.
ma¡”_drÝ
 = 
nv_drm_ma¡”_drÝ
;

748 
nv_drm_driv”
.
dumb_ü—‹
 = 
nv_drm_dumb_ü—‹
;

749 
nv_drm_driv”
.
dumb_m­_off£t
 = 
nv_drm_dumb_m­_off£t
;

750 
nv_drm_driv”
.
dumb_de¡roy
 = 
drm_gem_dumb_de¡roy
;

752 
nv_drm_driv”
.
gem_vm_Ýs
 = &
nv_drm_gem_vma_Ýs
;

755 
	`NV_DRM_LOG_INFO
("nv_drm_driv”.driv”_ã©u» ð%x", 
nv_drm_driv”
.
driv”_ã©u»s
);

758 
	}
}

763 #ifdeà
__lšux__


766 
	$nv_drm_»gi¡”_drm_deviû
(cÚ¡ 
nv_gpu_šfo_t
 *
gpu_šfo
)

768 
nv_drm_deviû
 *
nv_dev
 = 
NULL
;

769 
drm_deviû
 *
dev
 = 
NULL
;

770 
pci_dev
 *
pdev
 = 
gpu_šfo
->
os_dev_±r
;

772 
	`DRM_DEBUG
(

774 
gpu_šfo
->
gpu_id
);

778 
nv_dev
 = 
	`nv_drm_ÿÎoc
(1, (*nv_dev));

780 ià(
nv_dev
 =ð
NULL
) {

781 
	`NV_DRM_LOG_ERR
(

786 
nv_dev
->
gpu_šfo
 = *gpu_info;

788 #ià
	`defšed
(
NV_DRM_ATOMIC_MODESET_AVAILABLE
)

789 
	`mu‹x_š™
(&
nv_dev
->
lock
);

794 
dev
 = 
	`drm_dev_®loc
(&
nv_drm_driv”
, &
pdev
->dev);

796 ià(
dev
 =ð
NULL
) {

797 
	`NV_DRM_DEV_LOG_ERR
(
nv_dev
, "Failedo‡llocate device");

798 
çžed_drm_®loc
;

801 
dev
->
dev_´iv©e
 = 
nv_dev
;

802 
nv_dev
->
dev
 = dev;

803 
dev
->
pdev
 =…dev;

807 ià(
	`drm_dev_»gi¡”
(
dev
, 0) != 0) {

808 
	`NV_DRM_DEV_LOG_ERR
(
nv_dev
, "Failedo„egister device");

809 
çžed_drm_»gi¡”
;

814 
nv_dev
->
Ãxt
 = 
dev_li¡
;

815 
dev_li¡
 = 
nv_dev
;

819 
çžed_drm_»gi¡”
:

821 
	`nv_drm_dev_ä“
(
dev
);

823 
çžed_drm_®loc
:

825 
	`nv_drm_ä“
(
nv_dev
);

826 
	}
}

831 
	$nv_drm_´obe_deviûs
()

833 
nv_gpu_šfo_t
 *
gpu_šfo
 = 
NULL
;

834 
NvU32
 
gpu_couÁ
 = 0;

835 
NvU32
 
i
;

837 
»t
 = 0;

839 
	`nv_drm_upd©e_drm_driv”_ã©u»s
();

843 
gpu_šfo
 = 
	`nv_drm_ÿÎoc
(
NV_MAX_GPUS
, (*gpu_info));

845 ià(
gpu_šfo
 =ð
NULL
) {

846 
»t
 = -
ENOMEM
;

848 
	`NV_DRM_LOG_ERR
("Failedo‡llocate gpu ids‡rrays");

849 
dÚe
;

852 
gpu_couÁ
 = 
nvKms
->
	`’um”©eGpus
(
gpu_šfo
);

854 ià(
gpu_couÁ
 == 0) {

855 
	`NV_DRM_LOG_INFO
("Not found NVIDIA GPUs");

856 
dÚe
;

859 
	`WARN_ON
(
gpu_couÁ
 > 
NV_MAX_GPUS
);

863 
i
 = 0; i < 
gpu_couÁ
; i++) {

864 
	`nv_drm_»gi¡”_drm_deviû
(&
gpu_šfo
[
i
]);

867 
dÚe
:

869 
	`nv_drm_ä“
(
gpu_šfo
);

871  
»t
;

872 
	}
}

877 
	$nv_drm_»move_deviûs
()

879 
dev_li¡
 !ð
NULL
) {

880 
nv_drm_deviû
 *
Ãxt
 = 
dev_li¡
->next;

882 
	`drm_dev_uÄegi¡”
(
dev_li¡
->
dev
);

884 
	`nv_drm_dev_ä“
(
dev_li¡
->
dev
);

886 
	`nv_drm_ä“
(
dev_li¡
);

888 
dev_li¡
 = 
Ãxt
;

890 
	}
}

	@src/nvidia-drm/nvidia-drm-drv.h

23 #iâdeà
__NVIDIA_DRM_DRV_H__


24 
	#__NVIDIA_DRM_DRV_H__


	)

26 
	~"nvidŸ-drm-cÚáe¡.h
"

28 #ià
defšed
(
NV_DRM_AVAILABLE
)

30 
nv_drm_´obe_deviûs
();

32 
nv_drm_»move_deviûs
();

35 #iâdeà
__lšux__


36 
nv_drm_»gi¡”_drm_deviû
(cÚ¡ 
nv_gpu_šfo_t
 *);

	@src/nvidia-drm/nvidia-drm-encoder.c

23 
	~"nvidŸ-drm-cÚáe¡.h
"

25 #ià
defšed
(
NV_DRM_ATOMIC_MODESET_AVAILABLE
)

27 
	~"nvidŸ-drm-´iv.h
"

28 
	~"nvidŸ-drm-’cod”.h
"

29 
	~"nvidŸ-drm-utžs.h
"

30 
	~"nvidŸ-drm-cÚÃùÜ.h
"

31 
	~"nvidŸ-drm-ütc.h
"

32 
	~"nvidŸ-drm-h–³r.h
"

34 
	~<drm/drm_ütc_h–³r.h
>

36 
	~<drm/drm_©omic.h
>

37 
	~<drm/drm_©omic_h–³r.h
>

39 
	$nv_drm_’cod”_de¡roy
(
drm_’cod”
 *
’cod”
)

41 
nv_drm_’cod”
 *
nv_’cod”
 = 
	`to_nv_’cod”
(
’cod”
);

43 
	`drm_’cod”_þ—nup
(
’cod”
);

45 
	`nv_drm_ä“
(
nv_’cod”
);

46 
	}
}

48 cÚ¡ 
drm_’cod”_funcs
 
	gnv_’cod”_funcs
 = {

49 .
de¡roy
 = 
nv_drm_’cod”_de¡roy
,

52 
boÞ
 
	$nv_drm_’cod”_mode_fixup
(
drm_’cod”
 *
’cod”
,

53 cÚ¡ 
drm_di¥Ïy_mode
 *
mode
,

54 
drm_di¥Ïy_mode
 *
adju¡ed_mode
)

56  
Œue
;

57 
	}
}

59 
	$nv_drm_’cod”_´•¬e
(
drm_’cod”
 *
’cod”
)

62 
	}
}

64 
	$nv_drm_’cod”_comm™
(
drm_’cod”
 *
’cod”
)

67 
	}
}

69 
	$nv_drm_’cod”_mode_£t
(
drm_’cod”
 *
’cod”
,

70 
drm_di¥Ïy_mode
 *
mode
,

71 
drm_di¥Ïy_mode
 *
adju¡ed_mode
)

74 
	}
}

76 cÚ¡ 
drm_’cod”_h–³r_funcs
 
	gnv_’cod”_h–³r_funcs
 = {

77 .
mode_fixup
 = 
nv_drm_’cod”_mode_fixup
,

78 .
	g´•¬e
 = 
nv_drm_’cod”_´•¬e
,

79 .
	gcomm™
 = 
nv_drm_’cod”_comm™
,

80 .
	gmode_£t
 = 
nv_drm_’cod”_mode_£t
,

83 
ušt32_t
 
	$g‘_ütc_mask
(
drm_deviû
 *
dev
, 
ušt32_t
 
h—dMask
)

85 
drm_ütc
 *
ütc
 = 
NULL
;

86 
ušt32_t
 
ütc_mask
 = 0x0;

88 
	`li¡_fÜ_—ch_’Œy
(
ütc
, &
dev
->
mode_cÚfig
.
ütc_li¡
, 
h—d
) {

89 
nv_drm_ütc
 *
nv_ütc
 = 
	`to_nv_ütc
(
ütc
);

91 ià(
h—dMask
 & 
	`BIT
(
nv_ütc
->
h—d
)) {

92 
ütc_mask
 |ð
	`drm_ütc_mask
(
ütc
);

96  
ütc_mask
;

97 
	}
}

103 
drm_’cod”
*

104 
	$nv_drm_’cod”_Ãw
(
drm_deviû
 *
dev
,

105 
NvKmsK­iDi¥Ïy
 
hDi¥Ïy
,

106 
NvKmsCÚÃùÜSigÇlFÜm©
 
fÜm©
,

107 
ütc_mask
)

109 
nv_drm_deviû
 *
nv_dev
 = 
	`to_nv_deviû
(
dev
);

111 
nv_drm_’cod”
 *
nv_’cod”
 = 
NULL
;

113 
»t
 = 0;

117 
nv_’cod”
 = 
	`nv_drm_ÿÎoc
(1, (*nv_encoder));

119 ià(
nv_’cod”
 =ð
NULL
) {

120 
	`NV_DRM_DEV_LOG_ERR
(

121 
nv_dev
,

123  
	`ERR_PTR
(-
ENOMEM
);

126 
nv_’cod”
->
hDi¥Ïy
 = hDisplay;

130 
»t
 = 
	`drm_’cod”_š™
(
dev
,

131 &
nv_’cod”
->
ba£
, &
nv_’cod”_funcs
,

132 
	`nvkms_cÚÃùÜ_sigÇl_to_drm_’cod”_sigÇl
(
fÜm©
)

133 #ià
	`defšed
(
NV_DRM_ENCODER_INIT_HAS_NAME_ARG
)

134 , 
NULL


138 ià(
»t
 != 0) {

139 
	`nv_drm_ä“
(
nv_’cod”
);

141 
	`NV_DRM_DEV_LOG_ERR
(

142 
nv_dev
,

144 
hDi¥Ïy
);

145  
	`ERR_PTR
(
»t
);

148 
nv_’cod”
->
ba£
.
possibË_ütcs
 = 
ütc_mask
;

150 
	`drm_’cod”_h–³r_add
(&
nv_’cod”
->
ba£
, &
nv_’cod”_h–³r_funcs
);

152  &
nv_’cod”
->
ba£
;

153 
	}
}

158 
drm_’cod”
*

159 
	$nv_drm_add_’cod”
(
drm_deviû
 *
dev
, 
NvKmsK­iDi¥Ïy
 
hDi¥Ïy
)

161 
nv_drm_deviû
 *
nv_dev
 = 
	`to_nv_deviû
(
dev
);

163 
NvKmsK­iSticDi¥ÏyInfo
 *
di¥ÏyInfo
 = 
NULL
;

164 
NvKmsK­iCÚÃùÜInfo
 *
cÚÃùÜInfo
 = 
NULL
;

166 
drm_’cod”
 *
’cod”
 = 
NULL
;

167 
nv_drm_’cod”
 *
nv_’cod”
 = 
NULL
;

169 
drm_cÚÃùÜ
 *
cÚÃùÜ
 = 
NULL
;

171 
»t
 = 0;

175 ià((
di¥ÏyInfo
 = 
	`nv_drm_ÿÎoc
(1, (*di¥ÏyInfo))è=ð
NULL
) {

176 
»t
 = -
ENOMEM
;

177 
dÚe
;

180 ià(!
nvKms
->
	`g‘SticDi¥ÏyInfo
(
nv_dev
->
pDeviû
, 
hDi¥Ïy
, 
di¥ÏyInfo
)) {

181 
»t
 = -
EINVAL
;

182 
dÚe
;

185 
cÚÃùÜInfo
 = 
	`nvkms_g‘_cÚÃùÜ_šfo
(
nv_dev
->
pDeviû
,

186 
di¥ÏyInfo
->
cÚÃùÜHªdË
);

188 ià(
	`IS_ERR
(
cÚÃùÜInfo
)) {

189 
»t
 = 
	`PTR_ERR
(
cÚÃùÜInfo
);

190 
dÚe
;

195 
’cod”
 = 
	`nv_drm_’cod”_Ãw
(
dev
,

196 
di¥ÏyInfo
->
hªdË
,

197 
cÚÃùÜInfo
->
sigÇlFÜm©
,

198 
	`g‘_ütc_mask
(
dev
, 
cÚÃùÜInfo
->
h—dMask
));

200 ià(
	`IS_ERR
(
’cod”
)) {

201 
»t
 = 
	`PTR_ERR
(
’cod”
);

202 
dÚe
;

207 
cÚÃùÜ
 =

208 
	`nv_drm_g‘_cÚÃùÜ
(
dev
,

209 
cÚÃùÜInfo
->
physiÿlIndex
,

210 
cÚÃùÜInfo
->
ty³
,

211 
di¥ÏyInfo
->
š‹º®
, di¥ÏyInfo->
dpAdd»ss
);

213 ià(
	`IS_ERR
(
cÚÃùÜ
)) {

214 
»t
 = 
	`PTR_ERR
(
cÚÃùÜ
);

215 
çžed_cÚÃùÜ_’cod”_©ch
;

220 
»t
 = 
	`nv_drm_cÚÃùÜ_©ch_’cod”
(
cÚÃùÜ
, 
’cod”
);

222 ià(
»t
 != 0) {

223 
	`NV_DRM_DEV_LOG_ERR
(

224 
nv_dev
,

227 
hDi¥Ïy
);

228 
çžed_cÚÃùÜ_’cod”_©ch
;

231 
nv_’cod”
 = 
	`to_nv_’cod”
(
’cod”
);

233 
	`mu‹x_lock
(&
dev
->
mode_cÚfig
.
mu‹x
);

235 
nv_’cod”
->
nv_cÚÃùÜ
 = 
	`to_nv_cÚÃùÜ
(
cÚÃùÜ
);

237 
	`nv_drm_cÚÃùÜ_m¬k_cÚÃùiÚ_¡©us_dœty
(
nv_’cod”
->
nv_cÚÃùÜ
);

239 
	`mu‹x_uÆock
(&
dev
->
mode_cÚfig
.
mu‹x
);

241 
dÚe
;

243 
çžed_cÚÃùÜ_’cod”_©ch
:

245 
	`drm_’cod”_þ—nup
(
’cod”
);

247 
	`nv_drm_ä“
(
’cod”
);

249 
dÚe
:

251 
	`nv_drm_ä“
(
di¥ÏyInfo
);

253 
	`nv_drm_ä“
(
cÚÃùÜInfo
);

255  
»t
 !ð0 ? 
	`ERR_PTR
Ô‘è: 
’cod”
;

256 
	}
}

258 
šlše
 
nv_drm_’cod”
*

259 
	$g‘_nv_’cod”_äom_nvkms_di¥Ïy
(
drm_deviû
 *
dev
,

260 
NvKmsK­iDi¥Ïy
 
hDi¥Ïy
)

262 
drm_’cod”
 *
’cod”
;

264 
	`li¡_fÜ_—ch_’Œy
(
’cod”
, &
dev
->
mode_cÚfig
.
’cod”_li¡
, 
h—d
) {

265 
nv_drm_’cod”
 *
nv_’cod”
 = 
	`to_nv_’cod”
(
’cod”
);

267 ià(
nv_’cod”
->
hDi¥Ïy
 == hDisplay) {

268  
nv_’cod”
;

272  
NULL
;

273 
	}
}

275 
	$nv_drm_hªdË_di¥Ïy_chªge
(
nv_drm_deviû
 *
nv_dev
,

276 
NvKmsK­iDi¥Ïy
 
hDi¥Ïy
)

278 
drm_deviû
 *
dev
 = 
nv_dev
->dev;

279 
nv_drm_’cod”
 *
nv_’cod”
 = 
NULL
;

281 
	`mu‹x_lock
(&
dev
->
mode_cÚfig
.
mu‹x
);

283 
nv_’cod”
 = 
	`g‘_nv_’cod”_äom_nvkms_di¥Ïy
(
dev
, 
hDi¥Ïy
);

285 
	`mu‹x_uÆock
(&
dev
->
mode_cÚfig
.
mu‹x
);

287 ià(
nv_’cod”
 =ð
NULL
) {

291 
	`nv_drm_cÚÃùÜ_m¬k_cÚÃùiÚ_¡©us_dœty
(
nv_’cod”
->
nv_cÚÃùÜ
);

293 
	`drm_kms_h–³r_hÙ¶ug_ev’t
(
dev
);

294 
	}
}

296 
	$nv_drm_hªdË_dyÇmic_di¥Ïy_cÚÃùed
(
nv_drm_deviû
 *
nv_dev
,

297 
NvKmsK­iDi¥Ïy
 
hDi¥Ïy
)

299 
drm_deviû
 *
dev
 = 
nv_dev
->dev;

301 
drm_’cod”
 *
’cod”
 = 
NULL
;

302 
nv_drm_’cod”
 *
nv_’cod”
 = 
NULL
;

309 
nv_’cod”
 = 
	`g‘_nv_’cod”_äom_nvkms_di¥Ïy
(
dev
, 
hDi¥Ïy
);

311 ià(
nv_’cod”
 !ð
NULL
) {

312 
	`NV_DRM_DEV_LOG_ERR
(

313 
nv_dev
,

315 
hDi¥Ïy
);

319 
’cod”
 = 
	`nv_drm_add_’cod”
(
dev
, 
hDi¥Ïy
);

321 ià(
	`IS_ERR
(
’cod”
)) {

322 
	`NV_DRM_DEV_LOG_ERR
(

323 
nv_dev
,

325 
hDi¥Ïy
);

336 #ià
	`defšed
(
NV_DRM_REINIT_PRIMARY_MODE_GROUP_PRESENT
)

337 
	`drm_»š™_´im¬y_mode_group
(
dev
);

340 
	`drm_kms_h–³r_hÙ¶ug_ev’t
(
dev
);

341 
	}
}

	@src/nvidia-drm/nvidia-drm-encoder.h

23 #iâdeà
__NVIDIA_DRM_ENCODER_H__


24 
	#__NVIDIA_DRM_ENCODER_H__


	)

26 
	~"nvidŸ-drm-cÚáe¡.h
"

28 #ià
defšed
(
NV_DRM_ATOMIC_MODESET_AVAILABLE
)

30 
	~"nvidŸ-drm-´iv.h
"

32 #ià
defšed
(
NV_DRM_DRM_ENCODER_H_PRESENT
)

33 
	~<drm/drm_’cod”.h
>

35 
	~<drm/drmP.h
>

38 
	~"nvkms-k­i.h
"

40 
	snv_drm_’cod”
 {

41 
NvKmsK­iDi¥Ïy
 
	mhDi¥Ïy
;

43 
nv_drm_cÚÃùÜ
 *
	mnv_cÚÃùÜ
;

45 
drm_’cod”
 
	mba£
;

48 
šlše
 
nv_drm_’cod”
 *
	$to_nv_’cod”
(

49 
drm_’cod”
 *
’cod”
)

51 ià(
’cod”
 =ð
NULL
) {

52  
NULL
;

54  
	`cÚš”_of
(
’cod”
, 
nv_drm_’cod”
, 
ba£
);

55 
	}
}

57 
drm_’cod”
*

58 
nv_drm_add_’cod”
(
drm_deviû
 *
dev
, 
NvKmsK­iDi¥Ïy
 
hDi¥Ïy
);

60 
nv_drm_hªdË_di¥Ïy_chªge
(
nv_drm_deviû
 *
nv_dev
,

61 
NvKmsK­iDi¥Ïy
 
hDi¥Ïy
);

63 
nv_drm_hªdË_dyÇmic_di¥Ïy_cÚÃùed
(
nv_drm_deviû
 *
nv_dev
,

64 
NvKmsK­iDi¥Ïy
 
hDi¥Ïy
);

	@src/nvidia-drm/nvidia-drm-fb.c

23 
	~"nvidŸ-drm-cÚáe¡.h
"

25 #ià
defšed
(
NV_DRM_ATOMIC_MODESET_AVAILABLE
)

27 
	~"nvidŸ-drm-´iv.h
"

28 
	~"nvidŸ-drm-ioùl.h
"

29 
	~"nvidŸ-drm-fb.h
"

30 
	~"nvidŸ-drm-utžs.h
"

31 
	~"nvidŸ-drm-gem.h
"

33 
	~<drm/drm_ütc_h–³r.h
>

35 
	$nv_drm_äamebufãr_de¡roy
(
drm_äamebufãr
 *
fb
)

37 
nv_drm_deviû
 *
nv_dev
 = 
	`to_nv_deviû
(
fb
->
dev
);

39 
nv_drm_äamebufãr
 *
nv_fb
 = 
	`to_nv_äamebufãr
(
fb
);

43 
	`nv_drm_gem_objeù_uÄeã»nû_uÆocked
(&
nv_fb
->
nv_nvkms_memÜy
->
ba£
);

47 
	`drm_äamebufãr_þ—nup
(
fb
);

51 
nvKms
->
	`de¡roySurçû
(
nv_dev
->
pDeviû
, 
nv_fb
->
pSurçû
);

55 
	`nv_drm_ä“
(
nv_fb
);

56 
	}
}

59 
	$nv_drm_äamebufãr_ü—‹_hªdË
(
drm_äamebufãr
 *
fb
,

60 
drm_fže
 *
fže
, *
hªdË
)

62 
nv_drm_äamebufãr
 *
nv_fb
 = 
	`to_nv_äamebufãr
(
fb
);

64  
	`nv_drm_gem_hªdË_ü—‹
(
fže
,

65 &
nv_fb
->
nv_nvkms_memÜy
->
ba£
,

66 
hªdË
);

67 
	}
}

69 
drm_äamebufãr_funcs
 
	gnv_äamebufãr_funcs
 = {

70 .
de¡roy
 = 
nv_drm_äamebufãr_de¡roy
,

71 .
	gü—‹_hªdË
 = 
nv_drm_äamebufãr_ü—‹_hªdË
,

74 
nv_drm_äamebufãr
 *
	$nv_drm_äamebufãr_®loc
(

75 
drm_deviû
 *
dev
,

76 
drm_fže
 *
fže
,

77 
NvU32
 
hªdË
,

78 
NvU32
 
pix–_fÜm©
)

80 
nv_drm_deviû
 *
nv_dev
 = 
	`to_nv_deviû
(
dev
);

81 
nv_drm_äamebufãr
 *
nv_fb
;

82 
nv_drm_gem_nvkms_memÜy
 *
nv_nvkms_memÜy
;

83 
NvKmsSurçûMemÜyFÜm©
 
fÜm©
;

87 ià(!
	`drm_fÜm©_to_nvkms_fÜm©
(
pix–_fÜm©
, &
fÜm©
)) {

88 
	`NV_DRM_DEV_LOG_ERR
(

89 
nv_dev
,

90 "UnsuµÜ‹d drm…ix– fÜm© 0x%08x", 
pix–_fÜm©
);

91  
	`ERR_PTR
(-
EINVAL
);

94 ià((
nv_nvkms_memÜy
 = 
	`nv_drm_gem_objeù_nvkms_memÜy_lookup
(

95 
dev
,

96 
fže
,

97 
hªdË
)è=ð
NULL
) {

98 
	`NV_DRM_DEV_LOG_ERR
(

99 
nv_dev
,

101  
	`ERR_PTR
(-
ENOENT
);

106 
nv_fb
 = 
	`nv_drm_ÿÎoc
(1, (*nv_fb));

108 ià(
nv_fb
 =ð
NULL
) {

109 
	`NV_DRM_DEV_LOG_ERR
(

110 
nv_dev
,

112 
	`nv_drm_gem_objeù_uÄeã»nû_uÆocked
(&
nv_nvkms_memÜy
->
ba£
);

113  
	`ERR_PTR
(-
ENOMEM
);

116 
nv_fb
->
nv_nvkms_memÜy
 =‚v_nvkms_memory;

118  
nv_fb
;

119 
	}
}

121 
	$nv_drm_äamebufãr_š™
(

122 
drm_deviû
 *
dev
,

123 
nv_drm_äamebufãr
 *
nv_fb
,

124 
NvU32
 
pix–_fÜm©
)

126 
nv_drm_deviû
 *
nv_dev
 = 
	`to_nv_deviû
(
dev
);

127 
NvKmsSurçûMemÜyFÜm©
 
fÜm©
;

128 
»t
;

130 
	`NV_DRM_WARN
(!
	`drm_fÜm©_to_nvkms_fÜm©
(
pix–_fÜm©
, &
fÜm©
));

134 
»t
 = 
	`drm_äamebufãr_š™
(
dev
, &
nv_fb
->
ba£
, &
nv_äamebufãr_funcs
);

136 ià(
»t
 != 0) {

137 
	`NV_DRM_DEV_LOG_ERR
(
nv_dev
, "Failedo initialize framebuffer object");

138  
»t
;

143 
nv_fb
->
pSurçû
 = 
nvKms
->
	`ü—‹Surçû
(

144 
nv_dev
->
pDeviû
, 
nv_fb
->
nv_nvkms_memÜy
->
pMemÜy
,

145 
fÜm©
, 
nv_fb
->
ba£
.
width
,‚v_fb->ba£.
height
,‚v_fb->ba£.
p™ches
[0]);

147 ià(
nv_fb
->
pSurçû
 =ð
NULL
) {

148 
	`NV_DRM_DEV_LOG_ERR
(
nv_dev
, "Failedo create NvKmsKapiSurface");

149 
	`drm_äamebufãr_þ—nup
(&
nv_fb
->
ba£
);

150  -
EINVAL
;

154 
	}
}

156 
drm_äamebufãr
 *
	$nv_drm_š‹º®_äamebufãr_ü—‹
(

157 
drm_deviû
 *
dev
,

158 
drm_fže
 *
fže
,

159 
drm_mode_fb_cmd2
 *
cmd
)

161 
nv_drm_äamebufãr
 *
nv_fb
;

162 
»t
;

171 
nv_fb
 = 
	`nv_drm_äamebufãr_®loc
(
dev
, 
fže
, 
cmd
->
hªdËs
[0],

172 
cmd
->
pix–_fÜm©
);

174 ià(
	`IS_ERR
(
nv_fb
)) {

175  (
drm_äamebufãr
 *)
nv_fb
;

180 
	`drm_h–³r_mode_fžl_fb_¡ruù
(

181 #ià
	`defšed
(
NV_DRM_HELPER_MODE_FILL_FB_STRUCT_HAS_DEV_ARG
)

182 
dev
,

184 &
nv_fb
->
ba£
,

185 
cmd
);

192 
»t
 = 
	`nv_drm_äamebufãr_š™
(
dev
, 
nv_fb
, 
cmd
->
pix–_fÜm©
);

194 ià(
»t
 != 0) {

195 
	`nv_drm_gem_objeù_uÄeã»nû_uÆocked
(&
nv_fb
->
nv_nvkms_memÜy
->
ba£
);

196 
	`nv_drm_ä“
(
nv_fb
);

197  
	`ERR_PTR
(
»t
);

200  &
nv_fb
->
ba£
;

201 
	}
}

	@src/nvidia-drm/nvidia-drm-fb.h

23 #iâdeà
__NVIDIA_DRM_FB_H__


24 
	#__NVIDIA_DRM_FB_H__


	)

26 
	~"nvidŸ-drm-cÚáe¡.h
"

28 #ià
defšed
(
NV_DRM_ATOMIC_MODESET_AVAILABLE
)

30 
	~<drm/drmP.h
>

31 
	~"nvidŸ-drm-gem-nvkms-memÜy.h
"

32 
	~"nvkms-k­i.h
"

34 
	snv_drm_äamebufãr
 {

35 
NvKmsK­iSurçû
 *
	mpSurçû
;

37 
nv_drm_gem_nvkms_memÜy
 *
	mnv_nvkms_memÜy
;

39 
drm_äamebufãr
 
	mba£
;

42 
šlše
 
nv_drm_äamebufãr
 *
	$to_nv_äamebufãr
(

43 
drm_äamebufãr
 *
fb
)

45 ià(
fb
 =ð
NULL
) {

46  
NULL
;

48  
	`cÚš”_of
(
fb
, 
nv_drm_äamebufãr
, 
ba£
);

49 
	}
}

51 
drm_äamebufãr
 *
nv_drm_š‹º®_äamebufãr_ü—‹
(

52 
drm_deviû
 *
dev
,

53 
drm_fže
 *
fže
,

54 
drm_mode_fb_cmd2
 *
cmd
);

	@src/nvidia-drm/nvidia-drm-freebsd-lkpi.c

24 #iâdeà
__lšux__


29 
	~"../nvidŸ/nv-misc.h
"

30 
	~"../nvidŸ/os-š‹rçû.h
"

31 
	#NVRM


	)

32 
	~"../nvidŸ/nv.h
"

33 
	~"../nvidŸ/nv-ä“bsd.h
"

36 
	~<lšux/moduË.h
>

37 
	~<lšux/¦ab.h
>

38 
	~<lšux/”r.h
>

40 
	~"nvidŸ-drm-os-š‹rçû.h
"

41 
	~"nvidŸ-drm.h
"

43 
	~"nvidŸ-drm-cÚáe¡.h
"

45 #ià
defšed
(
NV_DRM_AVAILABLE
)

47 
	~"nv-mm.h
"

49 #iâdeà
__lšux__


50 
	~"nv-gpu-šfo.h
"

51 
	~"nvidŸ-drm-drv.h
"

52 
	~"nvidŸ-drm-´iv.h
"

55 
MODULE_PARM_DESC
(

56 
mode£t
,

58 
boÞ
 
	gnv_drm_mode£t_moduË_·¿m
 = 
çl£
;

59 
moduË_·¿m_Çmed
(
mode£t
, 
nv_drm_mode£t_moduË_·¿m
, 
boÞ
, 0400);

61 *
	$nv_drm_ÿÎoc
(
size_t
 
nmemb
, size_ˆ
size
)

63  
	`kz®loc
(
nmemb
 * 
size
, 
GFP_KERNEL
);

64 
	}
}

66 
	$nv_drm_ä“
(*
±r
)

68 ià(
	`IS_ERR
(
±r
)) {

72 
	`kä“
(
±r
);

73 
	}
}

75 *
	$nv_drm_a¥rštf
(cÚ¡ *
fmt
, ...)

77 
va_li¡
 
­
;

78 *
p
;

80 
	`va_¡¬t
(
­
, 
fmt
);

81 
p
 = 
	`kva¥rštf
(
GFP_KERNEL
, 
fmt
, 
­
);

82 
	`va_’d
(
­
);

84  
p
;

85 
	}
}

87 #ià
defšed
(
NVCPU_X86
è|| defšed(
NVCPU_X86_64
)

88 #ifdeà
__lšux__


89 
	#WRITE_COMBINE_FLUSH
(è
asm
 vÞ©že("sãnû":::"memÜy")

	)

91 
	#WRITE_COMBINE_FLUSH
(è
	`sãnû
()

	)

93 #–ià
defšed
(
NVCPU_FAMILY_ARM
)

94 #ià
defšed
(
NVCPU_ARM
)

95 
	#WRITE_COMBINE_FLUSH
(è{ 
	`dsb
(); 
	`ou‹r_sync
(); }

	)

96 #–ià
defšed
(
NVCPU_AARCH64
)

97 
	#WRITE_COMBINE_FLUSH
(è
	`mb
()

	)

99 #–ià
defšed
(
NVCPU_PPC64LE
)

100 #ifdeà
__lšux__


101 
	#WRITE_COMBINE_FLUSH
(è
asm
 vÞ©že("sync":::"memÜy")

	)

104 
	#WRITE_COMBINE_FLUSH
(è
__asm
 
	`__vÞ©že
("sync":::"memÜy")

	)

108 
	$nv_drm_wr™e_combše_æush
()

110 
	`WRITE_COMBINE_FLUSH
();

111 
	}
}

113 
	$nv_drm_lock_u£r_·ges
(
add»ss
,

114 
·ges_couÁ
, 
·ge
 ***
·ges
)

116 
mm_¡ruù
 *
mm
 = 
cu¼’t
->mm;

117 
·ge
 **
u£r_·ges
;

118 cÚ¡ 
wr™e
 = 1;

119 cÚ¡ 
fÜû
 = 0;

120 
·ges_pšÃd
;

122 
u£r_·ges
 = 
	`nv_drm_ÿÎoc
(
·ges_couÁ
, (*user_pages));

124 ià(
u£r_·ges
 =ð
NULL
) {

125  -
ENOMEM
;

128 
	`down_»ad
(&
mm
->
mm­_£m
);

130 
·ges_pšÃd
 = 
	`NV_GET_USER_PAGES
(
add»ss
, 
·ges_couÁ
, 
wr™e
, 
fÜû
,

131 
u£r_·ges
, 
NULL
);

132 
	`up_»ad
(&
mm
->
mm­_£m
);

134 ià(
·ges_pšÃd
 < 0 || (íages_pšÃd < 
·ges_couÁ
) {

135 
çžed
;

138 *
·ges
 = 
u£r_·ges
;

142 
çžed
:

144 ià(
·ges_pšÃd
 > 0) {

145 
i
;

147 
i
 = 0; i < 
·ges_pšÃd
; i++) {

148 
	`put_·ge
(
u£r_·ges
[
i
]);

152 
	`nv_drm_ä“
(
u£r_·ges
);

154  (
·ges_pšÃd
 < 0è?…ages_pšÃd : -
EINVAL
;

155 
	}
}

157 
	$nv_drm_uÆock_u£r_·ges
(
·ges_couÁ
, 
·ge
 **
·ges
)

159 
i
;

161 
i
 = 0; i < 
·ges_couÁ
; i++) {

162 
	`£t_·ge_dœty_lock
(
·ges
[
i
]);

164 
	`put_·ge
(
·ges
[
i
]);

167 
	`nv_drm_ä“
(
·ges
);

168 
	}
}

170 *
	$nv_drm_vm­
(
·ge
 **
·ges
, 
·ges_couÁ
)

172  
	`vm­
(
·ges
, 
·ges_couÁ
, 
VM_USERMAP
, 
PAGE_KERNEL
);

173 
	}
}

175 
	$nv_drm_vunm­
(*
add»ss
)

177 
	`vunm­
(
add»ss
);

178 
	}
}

180 
ušt64_t
 
	$nv_drm_g‘_time_u£c
()

182 
timev®
 
tv
;

184 #ifdeà
__lšux__


185 
	`do_g‘timeofday
(&
tv
);

187 
	`miüÙime
(&
tv
);

190  (((
ušt64_t
)
tv
.
tv_£c
è* 1000000è+v.
tv_u£c
;

191 
	}
}

195 #ifdeà
__lšux__


200 
__š™
 
	$nv_lšux_drm_š™
()

202  
	`nv_drm_š™
();

203 
	}
}

205 
__ex™
 
	$nv_lšux_drm_ex™
()

207 
	`nv_drm_ex™
();

208 
	}
}

210 
moduË_š™
(
nv_lšux_drm_š™
);

211 
moduË_ex™
(
nv_lšux_drm_ex™
);

213 #ià
defšed
(
MODULE_LICENSE
)

214 
MODULE_LICENSE
("MIT");

216 #ià
defšed
(
MODULE_INFO
)

217 
MODULE_INFO
(
suµÜ‹d
, "external");

219 #ià
defšed
(
MODULE_VERSION
)

220 
MODULE_VERSION
(
NV_VERSION_STRING
);

231 
devþass_t
 
	gnv_drm_devþass
;

232 
pci_driv”
 
	gnv_drm_pci_driv”
 = {

233 .
Çme
 = "nvidia-drm-pci",

234 .
	gid_bË
 = 
nv_pci_bË
,

235 .
	g´obe
 = 
nv_drm_bsd_´obe
,

252 
	gnv_glob®_majÜ_numb”
;

253 
	$nv_drm_bsd_´obe
(
pci_dev
 *
dev
,

254 cÚ¡ 
pci_deviû_id
 *
’t
)

256 
nv_gpu_šfo_t
 
gpu_šfo
;

257 
nvidŸ_soác
 *
sc
;

258 
nv_¡©e_t
 *
nv
;

260 
	`NV_DRM_LOG_INFO
("pci_dev %lx ------------------------", ()
dev
);

261 
	`NV_DRM_LOG_INFO
("->v’dÜ = %d", 
dev
->
v’dÜ
);

262 
	`NV_DRM_LOG_INFO
("->deviû = %d", 
dev
->
deviû
);

263 
	`NV_DRM_LOG_INFO
("->driv” = 0x%lx", ()
dev
->
pdrv
);

270 
i
 = 0; i < 
NV_MAX_DEVICES
; i++) {

271 
sc
 = 
	`devþass_g‘_soác
(
nvidŸ_devþass
, 
i
);

272 ià(!
sc
)

274 
nv
 = 
sc
->
nv_¡©e
;

277 
	`NV_DRM_LOG_INFO
("nv->v’dÜ = 0x%lx,ƒÁ->v’dÜ = 0x%lx", ()
nv
->
pci_šfo
.
v’dÜ_id
, ()
’t
->
v’dÜ
);

278 
	`NV_DRM_LOG_INFO
("nv->v’dÜ = 0x%lx,ƒÁ->v’dÜ = 0x%lx", ()
nv
->
pci_šfo
.
deviû_id
, ()
’t
->
deviû
);

279 ià(
nv
->
pci_šfo
.
v’dÜ_id
 =ð
’t
->
v’dÜ


280 && 
nv
->
pci_šfo
.
deviû_id
 =ð
’t
->
deviû
) {

284 ià(!
nv
)

287 
	`NV_DRM_LOG_INFO
("nv = 0x%lx", ()
nv
);

288 
	`NV_DRM_LOG_INFO
("nv->gpu_id = 0x%lx", ()
nv
->
gpu_id
);

289 
gpu_šfo
.
gpu_id
 = 
nv
->gpu_id;

290 
gpu_šfo
.
os_dev_±r
 = 
dev
;

292 
	`nv_drm_»gi¡”_drm_deviû
(&
gpu_šfo
);

295 
	}
}

297 
LKPI_DRIVER_MODULE
(
nvidŸ_drm
, 
nv_drm_š™
, 
nv_drm_ex™
);

298 
MODULE_DEPEND
(
nvidŸ_drm
, 
lšuxkpi
, 1, 1, 1);

299 
MODULE_DEPEND
(
nvidŸ_drm
, 
drmn
, 2, 2, 2);

300 
MODULE_DEPEND
(
nvidŸ_drm
, 
nvidŸ
, 1, 1, 1);

301 
MODULE_DEPEND
(
nvidŸ_drm
, 
nvidŸ_mode£t
, 1, 1, 1);

	@src/nvidia-drm/nvidia-drm-gem-nvkms-memory.c

23 
	~"nvidŸ-drm-cÚáe¡.h
"

25 #ià
defšed
(
NV_DRM_ATOMIC_MODESET_AVAILABLE
)

27 
	~"nvidŸ-drm-gem-nvkms-memÜy.h
"

28 
	~"nvidŸ-drm-ioùl.h
"

30 
	~"nv-mm.h
"

32 
	$__nv_drm_gem_nvkms_memÜy_ä“
(
nv_drm_gem_objeù
 *
nv_gem
)

34 
nv_drm_deviû
 *
nv_dev
 = 
nv_gem
->nv_dev;

35 
nv_drm_gem_nvkms_memÜy
 *
nv_nvkms_memÜy
 =

36 
	`to_nv_nvkms_memÜy
(
nv_gem
);

38 ià(
nv_nvkms_memÜy
->
dumb_bufãr
) {

39 ià(
nv_nvkms_memÜy
->
pWr™eCombšedIORem­Add»ss
 !ð
NULL
) {

40 
	`iounm­
(
nv_nvkms_memÜy
->
pWr™eCombšedIORem­Add»ss
);

43 
nvKms
->
	`unm­MemÜy
(
nv_dev
->
pDeviû
,

44 
nv_nvkms_memÜy
->
pMemÜy
,

45 
NVKMS_KAPI_MAPPING_TYPE_USER
,

46 
nv_nvkms_memÜy
->
pPhysiÿlAdd»ss
);

51 
nvKms
->
	`ä“MemÜy
(
nv_dev
->
pDeviû
, 
nv_nvkms_memÜy
->
pMemÜy
);

53 
	`nv_drm_ä“
(
nv_nvkms_memÜy
);

54 
	}
}

56 
drm_gem_objeù
 *
__nv_drm_gem_nvkms_´ime_dup
(

57 
drm_deviû
 *
dev
,

58 cÚ¡ 
nv_drm_gem_objeù
 *
nv_gem_¤c
);

60 cÚ¡ 
nv_drm_gem_objeù_funcs
 
	gnv_gem_nvkms_memÜy_Ýs
 = {

61 .
ä“
 = 
__nv_drm_gem_nvkms_memÜy_ä“
,

62 .
	g´ime_dup
 = 
__nv_drm_gem_nvkms_´ime_dup
,

65 
	$nv_drm_dumb_ü—‹
(

66 
drm_fže
 *
fže_´iv
,

67 
drm_deviû
 *
dev
, 
drm_mode_ü—‹_dumb
 *
¬gs
)

69 
nv_drm_deviû
 *
nv_dev
 = 
	`to_nv_deviû
(
dev
);

70 
nv_drm_gem_nvkms_memÜy
 *
nv_nvkms_memÜy
;

71 
»t
 = 0;

73 
¬gs
->
p™ch
 = 
	`roundup
×rgs->
width
 * (×rgs->
bµ
 + 7) >> 3),

74 
nv_dev
->
p™chAlignm’t
);

76 
¬gs
->
size
 =‡rgs->
height
 *‡rgs->
p™ch
;

80 
¬gs
->
size
 = 
	`roundup
×rgs->size, 
PAGE_SIZE
);

82 ià((
nv_nvkms_memÜy
 =

83 
	`nv_drm_ÿÎoc
(1, (*
nv_nvkms_memÜy
))è=ð
NULL
) {

84 
»t
 = -
ENOMEM
;

85 
çž
;

88 ià((
nv_nvkms_memÜy
->
pMemÜy
 =

89 
nvKms
->
	`®loÿ‹MemÜy
(
nv_dev
->
pDeviû
, 
¬gs
->
size
)è=ð
NULL
) {

90 
»t
 = -
ENOMEM
;

91 
	`NV_DRM_DEV_LOG_ERR
(

92 
nv_dev
,

93 #ifdeà
__lšux__


98 
¬gs
->
size
);

99 
nvkms_®loc_memÜy_çžed
;

102 ià(!
nvKms
->
	`m­MemÜy
(
nv_dev
->
pDeviû
,

103 
nv_nvkms_memÜy
->
pMemÜy
,

104 
NVKMS_KAPI_MAPPING_TYPE_USER
,

105 &
nv_nvkms_memÜy
->
pPhysiÿlAdd»ss
)) {

106 
»t
 = -
ENOMEM
;

108 
	`NV_DRM_DEV_LOG_ERR
(

109 
nv_dev
,

111 
nv_nvkms_memÜy
->
pMemÜy
);

112 
nvkms_m­_memÜy_çžed
;

115 
nv_nvkms_memÜy
->
pWr™eCombšedIORem­Add»ss
 = 
	`iÜem­_wc
(

116 (
ušŒ_t
)
nv_nvkms_memÜy
->
pPhysiÿlAdd»ss
,

117 
¬gs
->
size
);

119 
nv_nvkms_memÜy
->
dumb_bufãr
 = 
Œue
;

121 
	`nv_drm_gem_objeù_š™
(
nv_dev
,

122 &
nv_nvkms_memÜy
->
ba£
,

123 &
nv_gem_nvkms_memÜy_Ýs
,

124 
¬gs
->
size
);

126  
	`nv_drm_gem_hªdË_ü—‹_drÝ_»ã»nû
(
fže_´iv
,

127 &
nv_nvkms_memÜy
->
ba£
,

128 &
¬gs
->
hªdË
);

130 
nvkms_m­_memÜy_çžed
:

132 
nvKms
->
	`ä“MemÜy
(
nv_dev
->
pDeviû
, 
nv_nvkms_memÜy
->
pMemÜy
);

134 
nvkms_®loc_memÜy_çžed
:

135 
	`nv_drm_ä“
(
nv_nvkms_memÜy
);

137 
çž
:

138  
»t
;

139 
	}
}

141 
	$__nv_drm_nvkms_gem_obj_š™
(

142 
nv_drm_deviû
 *
nv_dev
,

143 
nv_drm_gem_nvkms_memÜy
 *
nv_nvkms_memÜy
,

144 
NvKmsK­iMemÜy
 *
pMemÜy
,

145 
ušt64_t
 
size
)

147 
nv_nvkms_memÜy
->
pMemÜy
 =…Memory;

149 
nv_nvkms_memÜy
->
pPhysiÿlAdd»ss
 = 
NULL
;

150 
nv_nvkms_memÜy
->
pWr™eCombšedIORem­Add»ss
 = 
NULL
;

152 
	`nv_drm_gem_objeù_š™
(
nv_dev
,

153 &
nv_nvkms_memÜy
->
ba£
,

154 &
nv_gem_nvkms_memÜy_Ýs
,

155 
size
);

156 
	}
}

158 
	$nv_drm_gem_impÜt_nvkms_memÜy_ioùl
(
drm_deviû
 *
dev
,

159 *
d©a
, 
drm_fže
 *
fž•
)

161 
nv_drm_deviû
 *
nv_dev
 = 
	`to_nv_deviû
(
dev
);

162 
drm_nvidŸ_gem_impÜt_nvkms_memÜy_·¿ms
 *
p
 = 
d©a
;

163 
nv_drm_gem_nvkms_memÜy
 *
nv_nvkms_memÜy
;

164 
NvKmsK­iMemÜy
 *
pMemÜy
;

165 
»t
;

167 ià(!
	`drm_cÜe_check_ã©u»
(
dev
, 
DRIVER_MODESET
)) {

168 
»t
 = -
EINVAL
;

169 
çžed
;

172 ià((
nv_nvkms_memÜy
 =

173 
	`nv_drm_ÿÎoc
(1, (*
nv_nvkms_memÜy
))è=ð
NULL
) {

174 
»t
 = -
ENOMEM
;

175 
çžed
;

178 
pMemÜy
 = 
nvKms
->
	`impÜtMemÜy
(
nv_dev
->
pDeviû
,

179 
p
->
mem_size
,

180 
p
->
nvkms_·¿ms_±r
,

181 
p
->
nvkms_·¿ms_size
);

183 ià(
pMemÜy
 =ð
NULL
) {

184 
»t
 = -
EINVAL
;

185 
	`NV_DRM_DEV_LOG_ERR
(

186 
nv_dev
,

188 
nvkms_impÜt_memÜy_çžed
;

191 
	`__nv_drm_nvkms_gem_obj_š™
(
nv_dev
, 
nv_nvkms_memÜy
, 
pMemÜy
, 
p
->
mem_size
);

193  
	`nv_drm_gem_hªdË_ü—‹_drÝ_»ã»nû
(
fž•
,

194 &
nv_nvkms_memÜy
->
ba£
,

195 &
p
->
hªdË
);

197 
nvkms_impÜt_memÜy_çžed
:

198 
	`nv_drm_ä“
(
nv_nvkms_memÜy
);

200 
çžed
:

201  
»t
;

202 
	}
}

204 
	$nv_drm_gem_expÜt_nvkms_memÜy_ioùl
(
drm_deviû
 *
dev
,

205 *
d©a
, 
drm_fže
 *
fž•
)

207 
nv_drm_deviû
 *
nv_dev
 = 
	`to_nv_deviû
(
dev
);

208 
drm_nvidŸ_gem_expÜt_nvkms_memÜy_·¿ms
 *
p
 = 
d©a
;

209 
nv_drm_gem_nvkms_memÜy
 *
nv_nvkms_memÜy
 = 
NULL
;

210 
»t
 = 0;

212 ià(!
	`drm_cÜe_check_ã©u»
(
dev
, 
DRIVER_MODESET
)) {

213 
»t
 = -
EINVAL
;

214 
dÚe
;

217 ià(
p
->
__·d
 != 0) {

218 
»t
 = -
EINVAL
;

219 
	`NV_DRM_DEV_LOG_ERR
(
nv_dev
, "Padding fields must be zeroed");

220 
dÚe
;

223 ià((
nv_nvkms_memÜy
 = 
	`nv_drm_gem_objeù_nvkms_memÜy_lookup
(

224 
dev
,

225 
fž•
,

226 
p
->
hªdË
)è=ð
NULL
) {

227 
»t
 = -
EINVAL
;

228 
	`NV_DRM_DEV_LOG_ERR
(

229 
nv_dev
,

231 
p
->
hªdË
);

232 
dÚe
;

235 ià(!
nvKms
->
	`expÜtMemÜy
(
nv_dev
->
pDeviû
,

236 
nv_nvkms_memÜy
->
pMemÜy
,

237 
p
->
nvkms_·¿ms_±r
,

238 
p
->
nvkms_·¿ms_size
)) {

239 
»t
 = -
EINVAL
;

240 
	`NV_DRM_DEV_LOG_ERR
(

241 
nv_dev
,

242 "FažedØexpÜˆmemÜy from GEM objeù: 0x%08x", 
p
->
hªdË
);

243 
dÚe
;

246 
dÚe
:

247 ià(
nv_nvkms_memÜy
 !ð
NULL
) {

248 
	`nv_drm_gem_objeù_uÄeã»nû_uÆocked
(&
nv_nvkms_memÜy
->
ba£
);

251  
»t
;

252 
	}
}

254 
drm_gem_objeù
 *
	$__nv_drm_gem_nvkms_´ime_dup
(

255 
drm_deviû
 *
dev
,

256 cÚ¡ 
nv_drm_gem_objeù
 *
nv_gem_¤c
)

258 
nv_drm_deviû
 *
nv_dev
 = 
	`to_nv_deviû
(
dev
);

259 cÚ¡ 
nv_drm_deviû
 *
nv_dev_¤c
;

260 cÚ¡ 
nv_drm_gem_nvkms_memÜy
 *
nv_nvkms_memÜy_¤c
;

261 
nv_drm_gem_nvkms_memÜy
 *
nv_nvkms_memÜy
;

262 
NvKmsK­iMemÜy
 *
pMemÜy
;

264 
	`BUG_ON
(
nv_gem_¤c
 =ð
NULL
 ||‚v_gem_¤c->
Ýs
 !ð&
nv_gem_nvkms_memÜy_Ýs
);

266 
nv_dev_¤c
 = 
	`to_nv_deviû
(
nv_gem_¤c
->
ba£
.
dev
);

267 
nv_nvkms_memÜy_¤c
 = 
	`to_nv_nvkms_memÜy_cÚ¡
(
nv_gem_¤c
);

269 ià((
nv_nvkms_memÜy
 =

270 
	`nv_drm_ÿÎoc
(1, (*
nv_nvkms_memÜy
))è=ð
NULL
) {

271  
NULL
;

274 
pMemÜy
 = 
nvKms
->
	`dupMemÜy
(
nv_dev
->
pDeviû
,

275 
nv_dev_¤c
->
pDeviû
,

276 
nv_nvkms_memÜy_¤c
->
pMemÜy
);

278 ià(
pMemÜy
 =ð
NULL
) {

279 
	`NV_DRM_DEV_LOG_ERR
(

280 
nv_dev
,

282 
nvkms_dup_memÜy_çžed
;

285 
	`__nv_drm_nvkms_gem_obj_š™
(
nv_dev
,

286 
nv_nvkms_memÜy
,

287 
pMemÜy
,

288 
nv_gem_¤c
->
ba£
.
size
);

290  &
nv_nvkms_memÜy
->
ba£
.base;

292 
nvkms_dup_memÜy_çžed
:

293 
	`nv_drm_ä“
(
nv_nvkms_memÜy
);

295  
NULL
;

296 
	}
}

298 
	$nv_drm_dumb_m­_off£t
(
drm_fže
 *
fže
,

299 
drm_deviû
 *
dev
, 
ušt32_t
 
hªdË
,

300 
ušt64_t
 *
off£t
)

302 
nv_drm_deviû
 *
nv_dev
 = 
	`to_nv_deviû
(
dev
);

303 
nv_drm_gem_nvkms_memÜy
 *
nv_nvkms_memÜy
;

304 
»t
 = -
EINVAL
;

306 ià((
nv_nvkms_memÜy
 = 
	`nv_drm_gem_objeù_nvkms_memÜy_lookup
(

307 
dev
,

308 
fže
,

309 
hªdË
)è=ð
NULL
) {

310 
	`NV_DRM_DEV_LOG_ERR
(

311 
nv_dev
,

313 
hªdË
);

314 
dÚe
;

317 ià(!
nv_nvkms_memÜy
->
dumb_bufãr
) {

318 
	`NV_DRM_DEV_LOG_ERR
(

319 
nv_dev
,

321 
hªdË
);

322 
dÚe
;

325 
»t
 = 
	`nv_drm_gem_ü—‹_mm­_off£t
(&
nv_nvkms_memÜy
->
ba£
, 
off£t
);

327 
dÚe
:

328 ià(
nv_nvkms_memÜy
 !ð
NULL
) {

329 
	`nv_drm_gem_objeù_uÄeã»nû_uÆocked
(&
nv_nvkms_memÜy
->
ba£
);

332  
»t
;

333 
	}
}

337 
	$__nv_drm_vma_çuÉ
(
vm_¬—_¡ruù
 *
vma
,

338 
vm_çuÉ
 *
vmf
)

340 
add»ss
 = 
	`nv_·ge_çuÉ_va
(
vmf
);

341 
drm_gem_objeù
 *
gem
 = 
vma
->
vm_´iv©e_d©a
;

342 
nv_drm_gem_nvkms_memÜy
 *
nv_nvkms_memÜy
 = 
	`to_nv_nvkms_memÜy
(

343 
	`to_nv_gem_objeù
(
gem
));

344 
·ge_off£t
, 
pâ
;

345 
»t
 = -
EINVAL
;

347 
pâ
 = ()(
ušŒ_t
)
nv_nvkms_memÜy
->
pPhysiÿlAdd»ss
;

348 
pâ
 >>ð
PAGE_SHIFT
;

350 
·ge_off£t
 = 
vmf
->
pgoff
 - 
	`drm_vma_node_¡¬t
(&
gem
->
vma_node
);

351 #ifdeà
__lšux__


352 #ià
	`defšed
(
NV_VMF_INSERT_PFN_PRESENT
)

353 ()
»t
;

354  
	`vmf_š£¹_pâ
(
vma
, 
add»ss
, 
pâ
 + 
·ge_off£t
);

356 
»t
 = 
	`vm_š£¹_pâ
(
vma
, 
add»ss
, 
pâ
 + 
·ge_off£t
);

358 
»t
) {

360 -
EBUSY
:

365  
VM_FAULT_NOPAGE
;

366 -
ENOMEM
:

367  
VM_FAULT_OOM
;

369 
	`WARN_ONCE
(1, "UnhªdËdƒ¼Ü iÀ%s: %d\n", 
__FUNCTION__
, 
»t
);

373  
VM_FAULT_SIGBUS
;

376 
	`NV_DRM_LOG_INFO
("__nv_drm_vma_çuÉ: (Üigš®èpâ = 0x%lx,…age_off£ˆð0x%lx", 
pâ
, 
·ge_off£t
);

379 
·ge_off£t
 = 
add»ss
 + 
	`drm_vma_node_¡¬t
(&
gem
->
vma_node
);

380 
vm_·ge_t
 
·ge
 = 
	`PHYS_TO_VM_PAGE
(
	`IDX_TO_OFF
(
pâ
è+ 
·ge_off£t
);

381 
vm_objeù_t
 
obj
 = 
vma
->
vm_obj
;

382 
vm_pšdex_t
 
pidx
 = 
	`OFF_TO_IDX
(
add»ss
);

384 
	`NV_DRM_LOG_INFO
("__nv_drm_vma_çuÉ:…â = 0x%lx,…age_off£ˆð0x%lx", 
pâ
, 
·ge_off£t
);

385 
	`NV_DRM_LOG_INFO
("__nv_drm_vma_çuÉ:‚v_nvkms_memÜy->pPhysiÿlAdd»s ð0x%lx", ()
nv_nvkms_memÜy
->
pPhysiÿlAdd»ss
);

386 
	`NV_DRM_LOG_INFO
("__nv_drm_vma_çuÉ: IDX_TO_OFF = 0x%lx", ()
	`IDX_TO_OFF
(
pâ
 + 
·ge_off£t
));

387 
	`NV_DRM_LOG_INFO
("__nv_drm_vma_çuÉ:…agð0x%lx", ()
·ge
);

388 
	`NV_DRM_LOG_INFO
("__nv_drm_vma_çuÉ: obj = 0x%lx", ()
obj
);

389 
	`NV_DRM_LOG_INFO
("__nv_drm_vma_çuÉ:…idx = 0x%lx", ()
pidx
);

390 
	`NV_DRM_LOG_INFO
("__nv_drm_vma_çuÉ:‡dd»s ð0x%lx", 
add»ss
);

392 ià(!
·ge
 || !
obj
) {

393 
	`NV_DRM_LOG_INFO
("__nv_drm_vma_fault:…age was busy,…robably gothe wrong one");

394  
VM_FAULT_OOM
;

397 ià(
	`vm_·ge_bus›d
(
·ge
)) {

398 
	`NV_DRM_LOG_INFO
("__nv_drm_vma_fault:…age was busy,…robably gothe wrong one");

399  
VM_FAULT_OOM
;

401 ià(
	`vm_·ge_š£¹
(
·ge
, 
obj
, 
pidx
)) {

402 
	`NV_DRM_LOG_INFO
("__nv_drm_vma_fault: Could‚ot inserthe…age");

403  
VM_FAULT_OOM
;

406 
·ge
->
v®id
 = 
VM_PAGE_BITS_ALL
;

407 
	`vm_·ge_xbusy
(
·ge
);

409 
»t
 = 
VM_FAULT_NOPAGE
;

410 
vma
->
vm_pâ_couÁ
++;

411  
»t
;

413 
	}
}

420 #ià
defšed
(
NV_VM_OPS_FAULT_REMOVED_VMA_ARG
)

421 
	$nv_drm_vma_çuÉ
(
vm_çuÉ
 *
vmf
)

423  
	`__nv_drm_vma_çuÉ
(
vmf
->
vma
, vmf);

424 
	}
}

426 
	$nv_drm_vma_çuÉ
(
vm_¬—_¡ruù
 *
vma
,

427 
vm_çuÉ
 *
vmf
)

429  
	`__nv_drm_vma_çuÉ
(
vma
, 
vmf
);

430 
	}
}

433 cÚ¡ 
vm_Ý”©iÚs_¡ruù
 
	gnv_drm_gem_vma_Ýs
 = {

434 .
Ý’
 = 
drm_gem_vm_Ý’
,

435 .
	gçuÉ
 = 
nv_drm_vma_çuÉ
,

436 .
	gþo£
 = 
drm_gem_vm_þo£
,

	@src/nvidia-drm/nvidia-drm-gem-nvkms-memory.h

23 #iâdeà
__NVIDIA_DRM_GEM_NVKMS_MEMORY_H__


24 
	#__NVIDIA_DRM_GEM_NVKMS_MEMORY_H__


	)

26 
	~"nvidŸ-drm-cÚáe¡.h
"

28 #ià
defšed
(
NV_DRM_ATOMIC_MODESET_AVAILABLE
)

30 
	~"nvidŸ-drm-gem.h
"

32 
	snv_drm_gem_nvkms_memÜy
 {

33 
nv_drm_gem_objeù
 
	mba£
;

35 
NvKmsK­iMemÜy
 *
	mpMemÜy
;

37 
boÞ
 
	mdumb_bufãr
;

39 *
	mpPhysiÿlAdd»ss
;

40 *
	mpWr™eCombšedIORem­Add»ss
;

43 
šlše
 
nv_drm_gem_nvkms_memÜy
 *
	$to_nv_nvkms_memÜy
(

44 
nv_drm_gem_objeù
 *
nv_gem
)

46 ià(
nv_gem
 !ð
NULL
) {

47  
	`cÚš”_of
(
nv_gem
, 
nv_drm_gem_nvkms_memÜy
, 
ba£
);

50  
NULL
;

51 
	}
}

53 
šlše
 
nv_drm_gem_nvkms_memÜy
 *
	$to_nv_nvkms_memÜy_cÚ¡
(

54 cÚ¡ 
nv_drm_gem_objeù
 *
nv_gem
)

56 ià(
nv_gem
 !ð
NULL
) {

57  
	`cÚš”_of
(
nv_gem
, 
nv_drm_gem_nvkms_memÜy
, 
ba£
);

60  
NULL
;

61 
	}
}

63 
šlše


64 
nv_drm_gem_nvkms_memÜy
 *
	$nv_drm_gem_objeù_nvkms_memÜy_lookup
(

65 
drm_deviû
 *
dev
,

66 
drm_fže
 *
fžp
,

67 
u32
 
hªdË
)

69 cÚ¡ 
nv_drm_gem_objeù_funcs
 
nv_gem_nvkms_memÜy_Ýs
;

70 
nv_drm_gem_objeù
 *
nv_gem
 =

71 
	`nv_drm_gem_objeù_lookup
(
dev
, 
fžp
, 
hªdË
);

73 ià(
nv_gem
 !ð
NULL
 &&‚v_gem->
Ýs
 !ð&
nv_gem_nvkms_memÜy_Ýs
) {

74 
	`nv_drm_gem_objeù_uÄeã»nû_uÆocked
(
nv_gem
);

75  
NULL
;

78  
	`to_nv_nvkms_memÜy
(
nv_gem
);

79 
	}
}

81 
nv_drm_dumb_ü—‹
(

82 
drm_fže
 *
fže_´iv
,

83 
drm_deviû
 *
dev
, 
drm_mode_ü—‹_dumb
 *
¬gs
);

85 
nv_drm_gem_impÜt_nvkms_memÜy_ioùl
(
drm_deviû
 *
dev
,

86 *
d©a
, 
drm_fže
 *
fž•
);

88 
nv_drm_gem_expÜt_nvkms_memÜy_ioùl
(
drm_deviû
 *
dev
,

89 *
d©a
, 
drm_fže
 *
fž•
);

91 
nv_drm_dumb_m­_off£t
(
drm_fže
 *
fže
,

92 
drm_deviû
 *
dev
, 
ušt32_t
 
hªdË
,

93 
ušt64_t
 *
off£t
);

95 
drm_gem_objeù
 *
nv_drm_gem_nvkms_´ime_impÜt
(

96 
drm_deviû
 *
dev
,

97 
drm_gem_objeù
 *
gem
);

99 cÚ¡ 
vm_Ý”©iÚs_¡ruù
 
nv_drm_gem_vma_Ýs
;

	@src/nvidia-drm/nvidia-drm-gem-user-memory.c

23 
	~"nvidŸ-drm-cÚáe¡.h
"

25 #ià
defšed
(
NV_DRM_AVAILABLE
)

27 
	~"nvidŸ-drm-gem-u£r-memÜy.h
"

28 
	~"nvidŸ-drm-ioùl.h
"

30 
šlše


31 
	$__nv_drm_gem_u£r_memÜy_ä“
(
nv_drm_gem_objeù
 *
nv_gem
)

33 
nv_drm_gem_u£r_memÜy
 *
nv_u£r_memÜy
 = 
	`to_nv_u£r_memÜy
(
nv_gem
);

35 
	`nv_drm_uÆock_u£r_·ges
(
nv_u£r_memÜy
->
·ges_couÁ
,

36 
nv_u£r_memÜy
->
·ges
);

38 
	`nv_drm_ä“
(
nv_u£r_memÜy
);

39 
	}
}

41 
sg_bË
 *
	$__nv_drm_gem_u£r_memÜy_´ime_g‘_sg_bË
(

42 
nv_drm_gem_objeù
 *
nv_gem
)

44 
nv_drm_gem_u£r_memÜy
 *
nv_u£r_memÜy
 = 
	`to_nv_u£r_memÜy
(
nv_gem
);

46  
	`drm_´ime_·ges_to_sg
(
nv_u£r_memÜy
->
·ges
,

47 
nv_u£r_memÜy
->
·ges_couÁ
);

48 
	}
}

50 *
	$__nv_drm_gem_u£r_memÜy_´ime_vm­
(

51 
nv_drm_gem_objeù
 *
nv_gem
)

53 
nv_drm_gem_u£r_memÜy
 *
nv_u£r_memÜy
 = 
	`to_nv_u£r_memÜy
(
nv_gem
);

55  
	`nv_drm_vm­
(
nv_u£r_memÜy
->
·ges
,

56 
nv_u£r_memÜy
->
·ges_couÁ
);

57 
	}
}

59 
	$__nv_drm_gem_u£r_memÜy_´ime_vunm­
(

60 
nv_drm_gem_objeù
 *
gem
,

61 *
add»ss
)

63 
	`nv_drm_vunm­
(
add»ss
);

64 
	}
}

66 
nv_drm_gem_objeù_funcs
 
	g__nv_gem_u£r_memÜy_Ýs
 = {

67 .
ä“
 = 
__nv_drm_gem_u£r_memÜy_ä“
,

68 .
	g´ime_g‘_sg_bË
 = 
__nv_drm_gem_u£r_memÜy_´ime_g‘_sg_bË
,

69 .
	g´ime_vm­
 = 
__nv_drm_gem_u£r_memÜy_´ime_vm­
,

70 .
	g´ime_vunm­
 = 
__nv_drm_gem_u£r_memÜy_´ime_vunm­
,

73 
	$nv_drm_gem_impÜt_u£r¥aû_memÜy_ioùl
(
drm_deviû
 *
dev
,

74 *
d©a
, 
drm_fže
 *
fž•
)

76 
nv_drm_deviû
 *
nv_dev
 = 
	`to_nv_deviû
(
dev
);

78 
drm_nvidŸ_gem_impÜt_u£r¥aû_memÜy_·¿ms
 *
·¿ms
 = 
d©a
;

79 
nv_drm_gem_u£r_memÜy
 *
nv_u£r_memÜy
;

81 
·ge
 **
·ges
 = 
NULL
;

82 
·ges_couÁ
 = 0;

84 
»t
 = 0;

86 ià((
·¿ms
->
size
 % 
PAGE_SIZE
) != 0) {

87 
	`NV_DRM_DEV_LOG_ERR
(

88 
nv_dev
,

89 #ifdeà
__lšux__


95 
·¿ms
->
add»ss
);

96  -
EINVAL
;

99 
·ges_couÁ
 = 
·¿ms
->
size
 / 
PAGE_SIZE
;

101 
»t
 = 
	`nv_drm_lock_u£r_·ges
(
·¿ms
->
add»ss
, 
·ges_couÁ
, &
·ges
);

103 ià(
»t
 != 0) {

104 
	`NV_DRM_DEV_LOG_ERR
(

105 
nv_dev
,

106 #ifdeà
__lšux__


111 
·¿ms
->
add»ss
, 
»t
);

112  
»t
;

115 ià((
nv_u£r_memÜy
 =

116 
	`nv_drm_ÿÎoc
(1, (*
nv_u£r_memÜy
))è=ð
NULL
) {

117 
»t
 = -
ENOMEM
;

118 
çžed
;

121 
nv_u£r_memÜy
->
·ges
 =…ages;

122 
nv_u£r_memÜy
->
·ges_couÁ
 =…ages_count;

124 
	`nv_drm_gem_objeù_š™
(
nv_dev
,

125 &
nv_u£r_memÜy
->
ba£
,

126 &
__nv_gem_u£r_memÜy_Ýs
,

127 
·¿ms
->
size
);

129  
	`nv_drm_gem_hªdË_ü—‹_drÝ_»ã»nû
(
fž•
,

130 &
nv_u£r_memÜy
->
ba£
,

131 &
·¿ms
->
hªdË
);

133 
çžed
:

134 
	`nv_drm_uÆock_u£r_·ges
(
·ges_couÁ
, 
·ges
);

136  
»t
;

137 
	}
}

	@src/nvidia-drm/nvidia-drm-gem-user-memory.h

23 #iâdeà
__NVIDIA_DRM_GEM_USER_MEMORY_H__


24 
	#__NVIDIA_DRM_GEM_USER_MEMORY_H__


	)

26 
	~"nvidŸ-drm-cÚáe¡.h
"

28 #ià
defšed
(
NV_DRM_AVAILABLE
)

30 
	~"nvidŸ-drm-gem.h
"

32 
	snv_drm_gem_u£r_memÜy
 {

33 
nv_drm_gem_objeù
 
	mba£
;

34 
·ge
 **
	m·ges
;

35 
	m·ges_couÁ
;

38 
šlše
 
nv_drm_gem_u£r_memÜy
 *
	$to_nv_u£r_memÜy
(

39 
nv_drm_gem_objeù
 *
nv_gem
)

41 ià(
nv_gem
 !ð
NULL
) {

42  
	`cÚš”_of
(
nv_gem
, 
nv_drm_gem_u£r_memÜy
, 
ba£
);

45  
NULL
;

46 
	}
}

48 
nv_drm_gem_impÜt_u£r¥aû_memÜy_ioùl
(
drm_deviû
 *
dev
,

49 *
d©a
, 
drm_fže
 *
fž•
);

	@src/nvidia-drm/nvidia-drm-gem.c

23 
	~"nvidŸ-drm-cÚáe¡.h
"

25 #ià
defšed
(
NV_DRM_AVAILABLE
)

27 
	~"nvidŸ-drm-´iv.h
"

28 
	~"nvidŸ-drm-ioùl.h
"

29 
	~"nvidŸ-drm-´ime-ãnû.h
"

30 
	~"nvidŸ-drm-gem.h
"

31 
	~"nvidŸ-drm-gem-nvkms-memÜy.h
"

33 #ià
defšed
(
NV_DMA_BUF_OWNER_PRESENT
)

34 
	~"lšux/dma-buf.h
"

37 
	$nv_drm_gem_ä“
(
drm_gem_objeù
 *
gem
)

39 
drm_deviû
 *
dev
 = 
gem
->dev;

40 
nv_drm_gem_objeù
 *
nv_gem
 = 
	`to_nv_gem_objeù
(
gem
);

42 
	`WARN_ON
(!
	`mu‹x_is_locked
(&
dev
->
¡ruù_mu‹x
));

46 
	`drm_gem_objeù_»Ëa£
(&
nv_gem
->
ba£
);

48 #ià
	`defšed
(
NV_DRM_DRIVER_HAS_GEM_PRIME_RES_OBJ
)

49 
	`»£rv©iÚ_objeù_fši
(&
nv_gem
->
»sv
);

52 
nv_gem
->
Ýs
->
	`ä“
(nv_gem);

53 
	}
}

55 
drm_gem_objeù
 *
	$nv_drm_gem_´ime_impÜt
(
drm_deviû
 *
dev
,

56 
dma_buf
 *dma_buf)

58 #ià
	`defšed
(
NV_DMA_BUF_OWNER_PRESENT
)

59 
drm_gem_objeù
 *
gem_d¡
;

60 
nv_drm_gem_objeù
 *
nv_gem_¤c
;

62 ià(
dma_buf
->
owÃr
 =ð
dev
->
driv”
->
fÝs
->owner) {

63 
nv_gem_¤c
 = 
	`to_nv_gem_objeù
(
dma_buf
->
´iv
);

65 ià(
nv_gem_¤c
->
ba£
.
dev
 != dev &&

66 
nv_gem_¤c
->
Ýs
->
´ime_dup
 !ð
NULL
) {

73 
gem_d¡
 = 
nv_gem_¤c
->
Ýs
->
	`´ime_dup
(
dev
,‚v_gem_src);

75 ià(
gem_d¡
)

76  
gem_d¡
;

81  
	`drm_gem_´ime_impÜt
(
dev
, 
dma_buf
);

82 
	}
}

84 
sg_bË
 *
	$nv_drm_gem_´ime_g‘_sg_bË
(
drm_gem_objeù
 *
gem
)

86 
nv_drm_gem_objeù
 *
nv_gem
 = 
	`to_nv_gem_objeù
(
gem
);

88 ià(
nv_gem
->
Ýs
->
´ime_g‘_sg_bË
 !ð
NULL
) {

89  
nv_gem
->
Ýs
->
	`´ime_g‘_sg_bË
(nv_gem);

92  
	`ERR_PTR
(-
ENOTSUPP
);

93 
	}
}

95 *
	$nv_drm_gem_´ime_vm­
(
drm_gem_objeù
 *
gem
)

97 
nv_drm_gem_objeù
 *
nv_gem
 = 
	`to_nv_gem_objeù
(
gem
);

99 ià(
nv_gem
->
Ýs
->
´ime_vm­
 !ð
NULL
) {

100  
nv_gem
->
Ýs
->
	`´ime_vm­
(nv_gem);

103  
	`ERR_PTR
(-
ENOTSUPP
);

104 
	}
}

106 
	$nv_drm_gem_´ime_vunm­
(
drm_gem_objeù
 *
gem
, *
add»ss
)

108 
nv_drm_gem_objeù
 *
nv_gem
 = 
	`to_nv_gem_objeù
(
gem
);

110 ià(
nv_gem
->
Ýs
->
´ime_vunm­
 !ð
NULL
) {

111 
nv_gem
->
Ýs
->
	`´ime_vunm­
Òv_gem, 
add»ss
);

113 
	}
}

115 #ià
defšed
(
NV_DRM_DRIVER_HAS_GEM_PRIME_RES_OBJ
)

116 
»£rv©iÚ_objeù
* 
	$nv_drm_gem_´ime_»s_obj
(
drm_gem_objeù
 *
obj
)

118 
nv_drm_gem_objeù
 *
nv_gem
 = 
	`to_nv_gem_objeù
(
obj
);

120  &
nv_gem
->
»sv
;

121 
	}
}

	@src/nvidia-drm/nvidia-drm-gem.h

23 #iâdeà
__NVIDIA_DRM_GEM_H__


24 
	#__NVIDIA_DRM_GEM_H__


	)

26 
	~"nvidŸ-drm-cÚáe¡.h
"

28 #ià
defšed
(
NV_DRM_AVAILABLE
)

30 
	~"nvidŸ-drm-´iv.h
"

32 
	~<drm/drmP.h
>

33 
	~"nvkms-k­i.h
"

35 #ià
defšed
(
NV_DRM_DRIVER_HAS_GEM_PRIME_RES_OBJ
)

37 
	~"nvidŸ-dma-ãnû-h–³r.h
"

41 
	gnv_drm_gem_objeù
;

43 
	snv_drm_gem_objeù_funcs
 {

44 (*
	mä“
)(
nv_drm_gem_objeù
 *
	mnv_gem
);

45 
	msg_bË
 *(*
	m´ime_g‘_sg_bË
)(
nv_drm_gem_objeù
 *
	mnv_gem
);

46 *(*
	m´ime_vm­
)(
nv_drm_gem_objeù
 *
	mnv_gem
);

47 (*
	m´ime_vunm­
)(
nv_drm_gem_objeù
 *
	mnv_gem
, *
	madd»ss
);

48 
	mdrm_gem_objeù
 *(*
	m´ime_dup
)(
drm_deviû
 *
	mdev
,

49 cÚ¡ 
nv_drm_gem_objeù
 *
	mnv_gem_¤c
);

52 
	snv_drm_gem_objeù
 {

53 
drm_gem_objeù
 
	mba£
;

55 
nv_drm_deviû
 *
	mnv_dev
;

56 cÚ¡ 
nv_drm_gem_objeù_funcs
 *
	mÝs
;

58 #ià
defšed
(
NV_DRM_DRIVER_HAS_GEM_PRIME_RES_OBJ
)

59 
»£rv©iÚ_objeù
 
	m»sv
;

63 
šlše
 
nv_drm_gem_objeù
 *
	$to_nv_gem_objeù
(

64 
drm_gem_objeù
 *
gem
)

66 ià(
gem
 !ð
NULL
) {

67  
	`cÚš”_of
(
gem
, 
nv_drm_gem_objeù
, 
ba£
);

70  
NULL
;

71 
	}
}

73 
šlše
 
	$nv_drm_gem_hªdË_ü—‹_drÝ_»ã»nû
(

74 
drm_fže
 *
fže_´iv
,

75 
nv_drm_gem_objeù
 *
nv_gem
,

76 
ušt32_t
 *
hªdË
)

78 
»t
 = 
	`drm_gem_hªdË_ü—‹
(
fže_´iv
, &
nv_gem
->
ba£
, 
hªdË
);

82 
	`drm_gem_objeù_uÄeã»nû_uÆocked
(&
nv_gem
->
ba£
);

84  
»t
;

85 
	}
}

87 
šlše


88 
	$nv_drm_gem_objeù_š™
(
nv_drm_deviû
 *
nv_dev
,

89 
nv_drm_gem_objeù
 *
nv_gem
,

90 cÚ¡ 
nv_drm_gem_objeù_funcs
 * cÚ¡ 
Ýs
,

91 
size_t
 
size
)

93 
drm_deviû
 *
dev
 = 
nv_dev
->dev;

95 
nv_gem
->
nv_dev
 =‚v_dev;

96 
nv_gem
->
Ýs
 = ops;

100 
	`drm_gem_´iv©e_objeù_š™
(
dev
, &
nv_gem
->
ba£
, 
size
);

102 #ià
	`defšed
(
NV_DRM_DRIVER_HAS_GEM_PRIME_RES_OBJ
)

103 
	`»£rv©iÚ_objeù_š™
(&
nv_gem
->
»sv
);

105 
	}
}

107 
šlše
 
	$nv_drm_gem_ü—‹_mm­_off£t
(

108 
nv_drm_gem_objeù
 *
nv_gem
,

109 
ušt64_t
 *
off£t
)

111 
»t
;

113 ià((
»t
 = 
	`drm_gem_ü—‹_mm­_off£t
(&
nv_gem
->
ba£
)) < 0) {

114 
	`NV_DRM_DEV_LOG_ERR
(

115 
nv_gem
->
nv_dev
,

117 
»t
);

118 
dÚe
;

121 *
off£t
 = 
	`drm_vma_node_off£t_addr
(&
nv_gem
->
ba£
.
vma_node
);

123 
dÚe
:

125  
»t
;

126 
	}
}

128 
nv_drm_gem_ä“
(
drm_gem_objeù
 *
gem
);

130 
šlše
 
nv_drm_gem_objeù
 *
	$nv_drm_gem_objeù_lookup
(

131 
drm_deviû
 *
dev
,

132 
drm_fže
 *
fžp
,

133 
u32
 
hªdË
)

135 #ià
	`defšed
(
NV_DRM_GEM_OBJECT_LOOKUP_PRESENT
)

136 #ià(
NV_DRM_GEM_OBJECT_LOOKUP_ARGUMENT_COUNT
 == 3)

137  
	`to_nv_gem_objeù
(
	`drm_gem_objeù_lookup
(
dev
, 
fžp
, 
hªdË
));

138 #–ià(
NV_DRM_GEM_OBJECT_LOOKUP_ARGUMENT_COUNT
 == 2)

139  
	`to_nv_gem_objeù
(
	`drm_gem_objeù_lookup
(
fžp
, 
hªdË
));

146 
	}
}

148 
šlše
 

149 
	$nv_drm_gem_objeù_uÄeã»nû_uÆocked
(
nv_drm_gem_objeù
 *
nv_gem
)

151 
	`drm_gem_objeù_uÄeã»nû_uÆocked
(&
nv_gem
->
ba£
);

152 
	}
}

154 
šlše
 

155 
	$nv_drm_gem_objeù_uÄeã»nû
(
nv_drm_gem_objeù
 *
nv_gem
)

157 
	`drm_gem_objeù_uÄeã»nû
(&
nv_gem
->
ba£
);

158 
	}
}

160 
šlše
 
	$nv_drm_gem_hªdË_ü—‹
(
drm_fže
 *
fžp
,

161 
nv_drm_gem_objeù
 *
nv_gem
,

162 
ušt32_t
 *
hªdË
)

164  
	`drm_gem_hªdË_ü—‹
(
fžp
, &
nv_gem
->
ba£
, 
hªdË
);

165 
	}
}

167 
drm_gem_objeù
 *
nv_drm_gem_´ime_impÜt
(
drm_deviû
 *
dev
,

168 
dma_buf
 *dma_buf);

170 
sg_bË
 *
nv_drm_gem_´ime_g‘_sg_bË
(
drm_gem_objeù
 *
gem
);

172 *
nv_drm_gem_´ime_vm­
(
drm_gem_objeù
 *
gem
);

174 
nv_drm_gem_´ime_vunm­
(
drm_gem_objeù
 *
gem
, *
add»ss
);

176 #ià
defšed
(
NV_DRM_DRIVER_HAS_GEM_PRIME_RES_OBJ
)

177 
»£rv©iÚ_objeù
* 
nv_drm_gem_´ime_»s_obj
(
drm_gem_objeù
 *
obj
);

	@src/nvidia-drm/nvidia-drm-helper.c

30 
	~"nvidŸ-drm-h–³r.h
"

32 #ià
defšed
(
NV_DRM_ATOMIC_MODESET_AVAILABLE
)

34 
	~<drm/drmP.h
>

72 
	$nv_drm_©omic_£t_mode_fÜ_ütc
(
drm_ütc_¡©e
 *
¡©e
,

73 
drm_di¥Ïy_mode
 *
mode
)

75 #ià
	`defšed
(
NV_DRM_ATOMIC_SET_MODE_FOR_CRTC
)

76  
	`drm_©omic_£t_mode_fÜ_ütc
(
¡©e
, 
mode
);

79 ià(
mode
 && 
	`memcmp
(&
¡©e
->mode, mode, (*mode)) == 0)

82 ià(
mode
) {

83 
	`drm_mode_cÝy
(&
¡©e
->
mode
, mode);

84 
¡©e
->
’abË
 = 
Œue
;

85 
	`DRM_DEBUG_ATOMIC
("Set [MODE:%s] for CRTC state %p\n",

86 
mode
->
Çme
, 
¡©e
);

88 
	`mem£t
(&
¡©e
->
mode
, 0, (state->mode));

89 
¡©e
->
’abË
 = 
çl£
;

90 
	`DRM_DEBUG_ATOMIC
("Set [NOMODE] for CRTC state %p\n",

91 
¡©e
);

96 
	}
}

134 
	$nv_drm_©omic_þ—n_Þd_fb
(
drm_deviû
 *
dev
,

135 
¶ªe_mask
,

136 
»t
)

138 #ià
	`defšed
(
NV_DRM_ATOMIC_CLEAN_OLD_FB
)

139  
	`drm_©omic_þ—n_Þd_fb
(
dev
, 
¶ªe_mask
, 
»t
);

141 
drm_¶ªe
 *
¶ªe
;

148 
	`drm_fÜ_—ch_¶ªe_mask
(
¶ªe
, 
dev
, 
¶ªe_mask
) {

149 ià(
»t
 == 0) {

150 
drm_äamebufãr
 *
Ãw_fb
 = 
¶ªe
->
¡©e
->
fb
;

151 ià(
Ãw_fb
)

152 
	`drm_äamebufãr_»ã»nû
(
Ãw_fb
);

153 
¶ªe
->
fb
 = 
Ãw_fb
;

154 
¶ªe
->
ütc
 =…ÏÃ->
¡©e
->crtc;

156 ià(
¶ªe
->
Þd_fb
)

157 
	`drm_äamebufãr_uÄeã»nû
(
¶ªe
->
Þd_fb
);

159 
¶ªe
->
Þd_fb
 = 
NULL
;

162 
	}
}

205 
	$nv_drm_©omic_h–³r_di§bË_®l
(
drm_deviû
 *
dev
,

206 
drm_mode£t_acquœe_ùx
 *
ùx
)

208 #ià
	`defšed
(
NV_DRM_ATOMIC_HELPER_DISABLE_ALL_PRESENT
)

209  
	`drm_©omic_h–³r_di§bË_®l
(
dev
, 
ùx
);

211 
drm_©omic_¡©e
 *
¡©e
;

212 
drm_cÚÃùÜ
 *
cÚn
;

213 
”r
;

215 
¡©e
 = 
	`drm_©omic_¡©e_®loc
(
dev
);

216 ià(!
¡©e
)

217  -
ENOMEM
;

219 
¡©e
->
acquœe_ùx
 = 
ùx
;

221 
	`li¡_fÜ_—ch_’Œy
(
cÚn
, &
dev
->
mode_cÚfig
.
cÚÃùÜ_li¡
, 
h—d
) {

222 
drm_ütc
 *
ütc
 = 
cÚn
->
¡©e
->crtc;

223 
drm_ütc_¡©e
 *
ütc_¡©e
;

225 ià(!
ütc
 || 
cÚn
->
dpms
 !ð
DRM_MODE_DPMS_ON
)

228 
ütc_¡©e
 = 
	`drm_©omic_g‘_ütc_¡©e
(
¡©e
, 
ütc
);

229 ià(
	`IS_ERR
(
ütc_¡©e
)) {

230 
”r
 = 
	`PTR_ERR
(
ütc_¡©e
);

231 
ä“
;

234 
ütc_¡©e
->
aùive
 = 
çl£
;

237 
”r
 = 
	`drm_©omic_comm™
(
¡©e
);

239 
ä“
:

240 ià(
”r
 < 0)

241 #ifdeà
__lšux__


242 
	`drm_©omic_¡©e_ä“
(
¡©e
);

244 
	`drm_©omic_¡©e_put
(
¡©e
);

246  
”r
;

248 
	}
}

	@src/nvidia-drm/nvidia-drm-helper.h

23 #iâdeà
__NVIDIA_DRM_HELPER_H__


24 
	#__NVIDIA_DRM_HELPER_H__


	)

26 
	~"nvidŸ-drm-cÚáe¡.h
"

28 #ià
defšed
(
NV_DRM_AVAILABLE
)

30 
	~<drm/drmP.h
>

37 
šlše
 
	$nv_drm_dev_ä“
(
drm_deviû
 *
dev
)

39 #ià
	`defšed
(
NV_DRM_DEV_UNREF_PRESENT
)

40 
	`drm_dev_uÄef
(
dev
);

42 
	`drm_dev_ä“
(
dev
);

44 
	}
}

46 #ià
defšed
(
NV_DRM_ATOMIC_MODESET_AVAILABLE
)

48 
	~<drm/drm_©omic.h
>

49 
	~<drm/drm_©omic_h–³r.h
>

51 
nv_drm_©omic_£t_mode_fÜ_ütc
(
drm_ütc_¡©e
 *
¡©e
,

52 
drm_di¥Ïy_mode
 *
mode
);

54 
nv_drm_©omic_þ—n_Þd_fb
(
drm_deviû
 *
dev
,

55 
¶ªe_mask
,

56 
»t
);

58 
nv_drm_©omic_h–³r_di§bË_®l
(
drm_deviû
 *
dev
,

59 
drm_mode£t_acquœe_ùx
 *
ùx
);

61 
šlše
 
	$nv_drm_©omic_h–³r_£t_cÚfig
(

62 
drm_mode_£t
 *
£t
,

63 
drm_mode£t_acquœe_ùx
 *
ùx
)

65 #ià
	`defšed
(
NV_DRM_ATOMIC_HELPER_SET_CONFIG_PRESENT
)

66 #ià
	`defšed
(
NV_DRM_ATOMIC_HELPER_SET_CONFIG_HAS_CTX_ARG
)

67  
	`drm_©omic_h–³r_£t_cÚfig
(
£t
, 
ùx
);

69  
	`drm_©omic_h–³r_£t_cÚfig
(
£t
);

74 
	}
}

128 #ià!
defšed
(
NV_DRM_OLD_ATOMIC_STATE_ITERATORS_PRESENT
)

129 
	#nv_drm_fÜ_—ch_cÚÃùÜ_š_¡©e
(
__¡©e
, \

130 
cÚÃùÜ
, 
cÚÃùÜ_¡©e
, 
__i
) \

131 (
__i
) = 0; \

132 (
__i
è< (
__¡©e
)->
num_cÚÃùÜ
 && \

133 ((
cÚÃùÜ
èð(
__¡©e
)->
cÚÃùÜs
[
__i
].
±r
, \

134 (
cÚÃùÜ_¡©e
èð(
__¡©e
)->
cÚÃùÜs
[
__i
].
¡©e
, 1); \

135 (
__i
)++) \

136 
	`fÜ_—ch_if
 (
cÚÃùÜ
)

	)

138 
	#nv_drm_fÜ_—ch_cÚÃùÜ_š_¡©e
(
__¡©e
, \

139 
cÚÃùÜ
, 
cÚÃùÜ_¡©e
, 
__i
) \

140 
	`fÜ_—ch_cÚÃùÜ_š_¡©e
(
__¡©e
, 
cÚÃùÜ
, 
cÚÃùÜ_¡©e
, 
__i
)

	)

156 #ià!
defšed
(
NV_DRM_OLD_ATOMIC_STATE_ITERATORS_PRESENT
)

157 
	#nv_drm_fÜ_—ch_ütc_š_¡©e
(
__¡©e
, 
ütc
, 
ütc_¡©e
, 
__i
) \

158 (
__i
) = 0; \

159 (
__i
è< (
__¡©e
)->
dev
->
mode_cÚfig
.
num_ütc
 && \

160 ((
ütc
èð(
__¡©e
)->
ütcs
[
__i
].
±r
, \

161 (
ütc_¡©e
èð(
__¡©e
)->
ütcs
[
__i
].
¡©e
, 1); \

162 (
__i
)++) \

163 
	`fÜ_—ch_if
 (
ütc_¡©e
)

	)

165 
	#nv_drm_fÜ_—ch_ütc_š_¡©e
(
__¡©e
, 
ütc
, 
ütc_¡©e
, 
__i
) \

166 
	`fÜ_—ch_ütc_š_¡©e
(
__¡©e
, 
ütc
, 
ütc_¡©e
, 
__i
)

	)

181 #ià!
defšed
(
NV_DRM_OLD_ATOMIC_STATE_ITERATORS_PRESENT
)

182 
	#nv_drm_fÜ_—ch_¶ªe_š_¡©e
(
__¡©e
, 
¶ªe
, 
¶ªe_¡©e
, 
__i
) \

183 (
__i
) = 0; \

184 (
__i
è< (
__¡©e
)->
dev
->
mode_cÚfig
.
num_tÙ®_¶ªe
 && \

185 ((
¶ªe
èð(
__¡©e
)->
¶ªes
[
__i
].
±r
, \

186 (
¶ªe_¡©e
èð(
__¡©e
)->
¶ªes
[
__i
].
¡©e
, 1); \

187 (
__i
)++) \

188 
	`fÜ_—ch_if
 (
¶ªe_¡©e
)

	)

190 
	#nv_drm_fÜ_—ch_¶ªe_š_¡©e
(
__¡©e
, 
¶ªe
, 
¶ªe_¡©e
, 
__i
) \

191 
	`fÜ_—ch_¶ªe_š_¡©e
(
__¡©e
, 
¶ªe
, 
¶ªe_¡©e
, 
__i
)

	)

194 
šlše
 
drm_ütc
 *
	$nv_drm_ütc_fšd
(
drm_deviû
 *
dev
,

195 
ušt32_t
 
id
)

197 #ià
	`defšed
(
NV_DRM_MODE_OBJECT_FIND_HAS_FILE_PRIV_ARG
)

198  
	`drm_ütc_fšd
(
dev
, 
NULL
 , 
id
);

200  
	`drm_ütc_fšd
(
dev
, 
id
);

202 
	}
}

204 
šlše
 
drm_’cod”
 *
	$nv_drm_’cod”_fšd
(
drm_deviû
 *
dev
,

205 
ušt32_t
 
id
)

207 #ià
	`defšed
(
NV_DRM_MODE_OBJECT_FIND_HAS_FILE_PRIV_ARG
)

208  
	`drm_’cod”_fšd
(
dev
, 
NULL
 , 
id
);

210  
	`drm_’cod”_fšd
(
dev
, 
id
);

212 
	}
}

214 
šlše
 

215 
	$nv_drm_cÚÃùÜ_©ch_’cod”
(
drm_cÚÃùÜ
 *
cÚÃùÜ
,

216 
drm_’cod”
 *
’cod”
)

218 #ià
	`defšed
(
NV_DRM_CONNECTOR_FUNCS_HAVE_MODE_IN_NAME
)

219  
	`drm_mode_cÚÃùÜ_©ch_’cod”
(
cÚÃùÜ
, 
’cod”
);

221  
	`drm_cÚÃùÜ_©ch_’cod”
(
cÚÃùÜ
, 
’cod”
);

223 
	}
}

225 
šlše
 

226 
	$nv_drm_cÚÃùÜ_upd©e_edid_´Ý”ty
(
drm_cÚÃùÜ
 *
cÚÃùÜ
,

227 cÚ¡ 
edid
 *edid)

229 #ià
	`defšed
(
NV_DRM_CONNECTOR_FUNCS_HAVE_MODE_IN_NAME
)

230  
	`drm_mode_cÚÃùÜ_upd©e_edid_´Ý”ty
(
cÚÃùÜ
, 
edid
);

232  
	`drm_cÚÃùÜ_upd©e_edid_´Ý”ty
(
cÚÃùÜ
, 
edid
);

234 
	}
}

	@src/nvidia-drm/nvidia-drm-ioctl.h

23 #iâdeà
_UAPI_NVIDIA_DRM_IOCTL_H_


24 
	#_UAPI_NVIDIA_DRM_IOCTL_H_


	)

26 
	~<drm/drm.h
>

32 
	#DRM_NVIDIA_GET_CRTC_CRC32
 0x00

	)

33 
	#DRM_NVIDIA_GEM_IMPORT_NVKMS_MEMORY
 0x01

	)

34 
	#DRM_NVIDIA_GEM_IMPORT_USERSPACE_MEMORY
 0x02

	)

35 
	#DRM_NVIDIA_GET_DEV_INFO
 0x03

	)

36 
	#DRM_NVIDIA_FENCE_SUPPORTED
 0x04

	)

37 
	#DRM_NVIDIA_FENCE_CONTEXT_CREATE
 0x05

	)

38 
	#DRM_NVIDIA_GEM_FENCE_ATTACH
 0x06

	)

39 
	#DRM_NVIDIA_GET_CLIENT_CAPABILITY
 0x08

	)

40 
	#DRM_NVIDIA_GEM_EXPORT_NVKMS_MEMORY
 0x09

	)

42 
	#DRM_IOCTL_NVIDIA_GEM_IMPORT_NVKMS_MEMORY
 \

43 
	`DRM_IOWR
((
DRM_COMMAND_BASE
 + 
DRM_NVIDIA_GEM_IMPORT_NVKMS_MEMORY
), \

44 
drm_nvidŸ_gem_impÜt_nvkms_memÜy_·¿ms
)

	)

46 
	#DRM_IOCTL_NVIDIA_GEM_IMPORT_USERSPACE_MEMORY
 \

47 
	`DRM_IOWR
((
DRM_COMMAND_BASE
 + 
DRM_NVIDIA_GEM_IMPORT_USERSPACE_MEMORY
), \

48 
drm_nvidŸ_gem_impÜt_u£r¥aû_memÜy_·¿ms
)

	)

50 
	#DRM_IOCTL_NVIDIA_GET_DEV_INFO
 \

51 
	`DRM_IOWR
((
DRM_COMMAND_BASE
 + 
DRM_NVIDIA_GET_DEV_INFO
), \

52 
drm_nvidŸ_g‘_dev_šfo_·¿ms
)

	)

60 #ià
defšed
(
NV_LINUX
)

61 
	#DRM_IOCTL_NVIDIA_FENCE_SUPPORTED
 \

62 
	`DRM_IO
(
DRM_COMMAND_BASE
 + 
DRM_NVIDIA_FENCE_SUPPORTED
)

	)

64 
	#DRM_IOCTL_NVIDIA_FENCE_SUPPORTED
 0

	)

67 
	#DRM_IOCTL_NVIDIA_FENCE_CONTEXT_CREATE
 \

68 
	`DRM_IOWR
((
DRM_COMMAND_BASE
 + 
DRM_NVIDIA_FENCE_CONTEXT_CREATE
), \

69 
drm_nvidŸ_ãnû_cÚ‹xt_ü—‹_·¿ms
)

	)

71 
	#DRM_IOCTL_NVIDIA_GEM_FENCE_ATTACH
 \

72 
	`DRM_IOW
((
DRM_COMMAND_BASE
 + 
DRM_NVIDIA_GEM_FENCE_ATTACH
), \

73 
drm_nvidŸ_gem_ãnû_©ch_·¿ms
)

	)

75 
	#DRM_IOCTL_NVIDIA_GET_CLIENT_CAPABILITY
 \

76 
	`DRM_IOWR
((
DRM_COMMAND_BASE
 + 
DRM_NVIDIA_GET_CLIENT_CAPABILITY
), \

77 
drm_nvidŸ_g‘_þ›Á_ÿ·bž™y_·¿ms
)

	)

79 
	#DRM_IOCTL_NVIDIA_GET_CRTC_CRC32
 \

80 
	`DRM_IOWR
((
DRM_COMMAND_BASE
 + 
DRM_NVIDIA_GET_CRTC_CRC32
), \

81 
drm_nvidŸ_g‘_ütc_üc32_·¿ms
)

	)

83 
	#DRM_IOCTL_NVIDIA_GEM_EXPORT_NVKMS_MEMORY
 \

84 
	`DRM_IOWR
((
DRM_COMMAND_BASE
 + 
DRM_NVIDIA_GEM_EXPORT_NVKMS_MEMORY
), \

85 
drm_nvidŸ_gem_expÜt_nvkms_memÜy_·¿ms
)

	)

87 
	sdrm_nvidŸ_gem_impÜt_nvkms_memÜy_·¿ms
 {

88 
ušt64_t
 
	mmem_size
;

90 
ušt64_t
 
	mnvkms_·¿ms_±r
;

91 
ušt64_t
 
	mnvkms_·¿ms_size
;

93 
ušt32_t
 
	mhªdË
;

95 
ušt32_t
 
	m__·d
;

98 
	sdrm_nvidŸ_gem_impÜt_u£r¥aû_memÜy_·¿ms
 {

99 
ušt64_t
 
	msize
;

100 
ušt64_t
 
	madd»ss
;

101 
ušt32_t
 
	mhªdË
;

104 
	sdrm_nvidŸ_g‘_dev_šfo_·¿ms
 {

105 
ušt32_t
 
	mgpu_id
;

106 
ušt32_t
 
	m´im¬y_šdex
;

109 
	sdrm_nvidŸ_ãnû_cÚ‹xt_ü—‹_·¿ms
 {

110 
ušt32_t
 
	mhªdË
;

112 
ušt32_t
 
	mšdex
;

113 
ušt64_t
 
	msize
;

116 
ušt64_t
 
	mimpÜt_mem_nvkms_·¿ms_±r
;

117 
ušt64_t
 
	mimpÜt_mem_nvkms_·¿ms_size
;

120 
ušt64_t
 
	mev’t_nvkms_·¿ms_±r
;

121 
ušt64_t
 
	mev’t_nvkms_·¿ms_size
;

124 
	sdrm_nvidŸ_gem_ãnû_©ch_·¿ms
 {

125 
ušt32_t
 
	mhªdË
;

126 
ušt32_t
 
	mãnû_cÚ‹xt_hªdË
;

127 
ušt32_t
 
	m£m_th»sh
;

130 
	sdrm_nvidŸ_g‘_þ›Á_ÿ·bž™y_·¿ms
 {

131 
ušt64_t
 
	mÿ·bž™y
;

132 
ušt64_t
 
	mv®ue
;

135 
	sdrm_nvidŸ_g‘_ütc_üc32_·¿ms
 {

136 
ušt32_t
 
	mütc_id
;

137 
ušt32_t
 
	müc32
;

140 
	sdrm_nvidŸ_gem_expÜt_nvkms_memÜy_·¿ms
 {

141 
ušt32_t
 
	mhªdË
;

142 
ušt32_t
 
	m__·d
;

144 
ušt64_t
 
	mnvkms_·¿ms_±r
;

145 
ušt64_t
 
	mnvkms_·¿ms_size
;

	@src/nvidia-drm/nvidia-drm-linux.c

23 
	~<lšux/moduË.h
>

24 
	~<lšux/¦ab.h
>

25 
	~<lšux/”r.h
>

27 
	~"nvidŸ-drm-os-š‹rçû.h
"

28 
	~"nvidŸ-drm.h
"

30 
	~"nvidŸ-drm-cÚáe¡.h
"

32 #ià
defšed
(
NV_DRM_AVAILABLE
)

34 
	~"nv-mm.h
"

36 
MODULE_PARM_DESC
(

37 
mode£t
,

39 
boÞ
 
	gnv_drm_mode£t_moduË_·¿m
 = 
çl£
;

40 
moduË_·¿m_Çmed
(
mode£t
, 
nv_drm_mode£t_moduË_·¿m
, 
boÞ
, 0400);

42 *
	$nv_drm_ÿÎoc
(
size_t
 
nmemb
, size_ˆ
size
)

44  
	`kz®loc
(
nmemb
 * 
size
, 
GFP_KERNEL
);

45 
	}
}

47 
	$nv_drm_ä“
(*
±r
)

49 ià(
	`IS_ERR
(
±r
)) {

53 
	`kä“
(
±r
);

54 
	}
}

56 *
	$nv_drm_a¥rštf
(cÚ¡ *
fmt
, ...)

58 
va_li¡
 
­
;

59 *
p
;

61 
	`va_¡¬t
(
­
, 
fmt
);

62 
p
 = 
	`kva¥rštf
(
GFP_KERNEL
, 
fmt
, 
­
);

63 
	`va_’d
(
­
);

65  
p
;

66 
	}
}

68 #ià
defšed
(
NVCPU_X86
è|| defšed(
NVCPU_X86_64
)

69 
	#WRITE_COMBINE_FLUSH
(è
asm
 vÞ©že("sãnû":::"memÜy")

	)

70 #–ià
defšed
(
NVCPU_FAMILY_ARM
)

71 #ià
defšed
(
NVCPU_ARM
)

72 
	#WRITE_COMBINE_FLUSH
(è{ 
	`dsb
(); 
	`ou‹r_sync
(); }

	)

73 #–ià
defšed
(
NVCPU_AARCH64
)

74 
	#WRITE_COMBINE_FLUSH
(è
	`mb
()

	)

76 #–ià
defšed
(
NVCPU_PPC64LE
)

77 
	#WRITE_COMBINE_FLUSH
(è
asm
 vÞ©že("sync":::"memÜy")

	)

80 
	$nv_drm_wr™e_combše_æush
()

82 
	`WRITE_COMBINE_FLUSH
();

83 
	}
}

85 
	$nv_drm_lock_u£r_·ges
(
add»ss
,

86 
·ges_couÁ
, 
·ge
 ***
·ges
)

88 
mm_¡ruù
 *
mm
 = 
cu¼’t
->mm;

89 
·ge
 **
u£r_·ges
;

90 cÚ¡ 
wr™e
 = 1;

91 cÚ¡ 
fÜû
 = 0;

92 
·ges_pšÃd
;

94 
u£r_·ges
 = 
	`nv_drm_ÿÎoc
(
·ges_couÁ
, (*user_pages));

96 ià(
u£r_·ges
 =ð
NULL
) {

97  -
ENOMEM
;

100 
	`down_»ad
(&
mm
->
mm­_£m
);

102 
·ges_pšÃd
 = 
	`NV_GET_USER_PAGES
(
add»ss
, 
·ges_couÁ
, 
wr™e
, 
fÜû
,

103 
u£r_·ges
, 
NULL
);

104 
	`up_»ad
(&
mm
->
mm­_£m
);

106 ià(
·ges_pšÃd
 < 0 || (íages_pšÃd < 
·ges_couÁ
) {

107 
çžed
;

110 *
·ges
 = 
u£r_·ges
;

114 
çžed
:

116 ià(
·ges_pšÃd
 > 0) {

117 
i
;

119 
i
 = 0; i < 
·ges_pšÃd
; i++) {

120 
	`put_·ge
(
u£r_·ges
[
i
]);

124 
	`nv_drm_ä“
(
u£r_·ges
);

126  (
·ges_pšÃd
 < 0è?…ages_pšÃd : -
EINVAL
;

127 
	}
}

129 
	$nv_drm_uÆock_u£r_·ges
(
·ges_couÁ
, 
·ge
 **
·ges
)

131 
i
;

133 
i
 = 0; i < 
·ges_couÁ
; i++) {

134 
	`£t_·ge_dœty_lock
(
·ges
[
i
]);

136 
	`put_·ge
(
·ges
[
i
]);

139 
	`nv_drm_ä“
(
·ges
);

140 
	}
}

142 *
	$nv_drm_vm­
(
·ge
 **
·ges
, 
·ges_couÁ
)

144  
	`vm­
(
·ges
, 
·ges_couÁ
, 
VM_USERMAP
, 
PAGE_KERNEL
);

145 
	}
}

147 
	$nv_drm_vunm­
(*
add»ss
)

149 
	`vunm­
(
add»ss
);

150 
	}
}

152 
ušt64_t
 
	$nv_drm_g‘_time_u£c
()

154 
timev®
 
tv
;

156 
	`do_g‘timeofday
(&
tv
);

158  (((
ušt64_t
)
tv
.
tv_£c
è* 1000000è+v.
tv_u£c
;

159 
	}
}

167 
__š™
 
	$nv_lšux_drm_š™
()

169  
	`nv_drm_š™
();

170 
	}
}

172 
__ex™
 
	$nv_lšux_drm_ex™
()

174 
	`nv_drm_ex™
();

175 
	}
}

177 
moduË_š™
(
nv_lšux_drm_š™
);

178 
moduË_ex™
(
nv_lšux_drm_ex™
);

180 #ià
defšed
(
MODULE_LICENSE
)

181 
MODULE_LICENSE
("MIT");

183 #ià
defšed
(
MODULE_INFO
)

184 
MODULE_INFO
(
suµÜ‹d
, "external");

186 #ià
defšed
(
MODULE_VERSION
)

187 
MODULE_VERSION
(
NV_VERSION_STRING
);

	@src/nvidia-drm/nvidia-drm-modeset.c

23 
	~"nvidŸ-drm-cÚáe¡.h
"

25 #ià
defšed
(
NV_DRM_ATOMIC_MODESET_AVAILABLE
)

27 
	~"nvidŸ-drm-´iv.h
"

28 
	~"nvidŸ-drm-mode£t.h
"

29 
	~"nvidŸ-drm-ütc.h
"

30 
	~"nvidŸ-drm-os-š‹rçû.h
"

31 
	~"nvidŸ-drm-h–³r.h
"

33 
	~<drm/drm_©omic.h
>

34 
	~<drm/drm_©omic_h–³r.h
>

35 
	~<drm/drm_ütc.h
>

37 
	snv_drm_©omic_¡©e
 {

38 
NvKmsK­iReque¡edModeS‘CÚfig
 
	mcÚfig
;

39 
drm_©omic_¡©e
 
	mba£
;

42 
šlše
 
nv_drm_©omic_¡©e
 *
	$to_nv_©omic_¡©e
(

43 
drm_©omic_¡©e
 *
¡©e
)

45  
	`cÚš”_of
(
¡©e
, 
nv_drm_©omic_¡©e
, 
ba£
);

46 
	}
}

48 
drm_©omic_¡©e
 *
	$nv_drm_©omic_¡©e_®loc
(
drm_deviû
 *
dev
)

50 
nv_drm_©omic_¡©e
 *
nv_¡©e
 =

51 
	`nv_drm_ÿÎoc
(1, (*
nv_¡©e
));

53 ià(
nv_¡©e
 =ð
NULL
 || 
	`drm_©omic_¡©e_š™
(
dev
, &nv_¡©e->
ba£
) < 0) {

54 
	`nv_drm_ä“
(
nv_¡©e
);

55  
NULL
;

58  &
nv_¡©e
->
ba£
;

59 
	}
}

61 
	$nv_drm_©omic_¡©e_þ—r
(
drm_©omic_¡©e
 *
¡©e
)

63 
	`drm_©omic_¡©e_deçuÉ_þ—r
(
¡©e
);

64 
	}
}

66 
	$nv_drm_©omic_¡©e_ä“
(
drm_©omic_¡©e
 *
¡©e
)

68 
nv_drm_©omic_¡©e
 *
nv_¡©e
 =

69 
	`to_nv_©omic_¡©e
(
¡©e
);

70 
	`drm_©omic_¡©e_deçuÉ_»Ëa£
(
¡©e
);

71 
	`nv_drm_ä“
(
nv_¡©e
);

72 
	}
}

99 
	$nv_drm_©omic_­¶y_mode£t_cÚfig
(
drm_deviû
 *
dev
,

100 
drm_©omic_¡©e
 *
¡©e
,

101 
boÞ
 
comm™
)

103 
nv_drm_deviû
 *
nv_dev
 = 
	`to_nv_deviû
(
dev
);

104 
NvKmsK­iReque¡edModeS‘CÚfig
 *
»que¡ed_cÚfig
 =

105 &(
	`to_nv_©omic_¡©e
(
¡©e
)->
cÚfig
);

106 
drm_ütc
 *
ütc
;

107 
drm_ütc_¡©e
 *
ütc_¡©e
;

108 
i
;

110 
	`mem£t
(
»que¡ed_cÚfig
, 0, (*requested_config));

113 
	`nv_drm_fÜ_—ch_ütc_š_¡©e
(
¡©e
, 
ütc
, 
ütc_¡©e
, 
i
) {

119 
drm_ütc_¡©e
 *
Ãw_ütc_¡©e
 =

120 
comm™
 ? 
ütc
->
¡©e
 : 
ütc_¡©e
;

121 
nv_drm_ütc
 *
nv_ütc
 = 
	`to_nv_ütc
(
ütc
);

123 
»que¡ed_cÚfig
->
h—dReque¡edCÚfig
[
nv_ütc
->
h—d
] =

124 
	`to_nv_ütc_¡©e
(
Ãw_ütc_¡©e
)->
»q_cÚfig
;

126 
»que¡ed_cÚfig
->
h—dsMask
 |ð1 << 
nv_ütc
->
h—d
;

129 ià(!
nvKms
->
	`­¶yModeS‘CÚfig
(
nv_dev
->
pDeviû
,

130 
»que¡ed_cÚfig
, 
comm™
)) {

131  -
EINVAL
;

135 
	}
}

137 
	$nv_drm_©omic_check
(
drm_deviû
 *
dev
,

138 
drm_©omic_¡©e
 *
¡©e
)

140 
»t
 = 0;

142 ià((
»t
 = 
	`drm_©omic_h–³r_check
(
dev
, 
¡©e
)) != 0) {

143 
dÚe
;

146 
»t
 = 
	`nv_drm_©omic_­¶y_mode£t_cÚfig
(
dev
,

147 
¡©e
, 
çl£
 );

149 
dÚe
:

150  
»t
;

151 
	}
}

153 #ià
defšed
(
NV_DRM_ATOMIC_MODESET_NONBLOCKING_COMMIT_AVAILABLE
)

163 
	$nv_drm_©omic_h–³r_comm™_ž
(
drm_©omic_¡©e
 *
¡©e
)

165 
drm_deviû
 *
dev
 = 
¡©e
->dev;

166 
nv_drm_deviû
 *
nv_dev
 = 
	`to_nv_deviû
(
dev
);

168 
i
;

169 
drm_ütc
 *
ütc
;

170 
drm_ütc_¡©e
 *
ütc_¡©e
;

171 
»t
;

173 ià(
nvKms
->
sy¡emInfo
.
bAÎowWr™eCombššg
) {

178 
	`nv_drm_wr™e_combše_æush
();

181 
	`nv_drm_fÜ_—ch_ütc_š_¡©e
(
¡©e
, 
ütc
, 
ütc_¡©e
, 
i
) {

182 
nv_drm_ütc
 *
nv_ütc
 = 
	`to_nv_ütc
(
ütc
);

183 
nv_drm_ütc_¡©e
 *
nv_ütc_¡©e
 = 
	`to_nv_ütc_¡©e
(
ütc
->
¡©e
);

184 
nv_drm_æ
 *
nv_æ
 = 
nv_ütc_¡©e
->nv_flip;

186 
nv_ütc_¡©e
->
nv_æ
 = 
NULL
;

188 ià(!
ütc
->
¡©e
->
aùive
 && !
ütc_¡©e
->active) {

189 
	`nv_drm_ä“
(
nv_æ
);

193 
nv_æ
->
ev’t
 = 
ütc
->
¡©e
->event;

194 
ütc
->
¡©e
->
ev’t
 = 
NULL
;

196 
	`¥š_lock
(&
nv_ütc
->
æ_lock
);

197 
	`li¡_add
(&
nv_æ
->
li¡_’Œy
, &
nv_ütc
->
æ_li¡
);

198 
	`¥š_uÆock
(&
nv_ütc
->
æ_lock
);

201 ià((
»t
 = 
	`nv_drm_©omic_­¶y_mode£t_cÚfig
(

202 
dev
,

203 
¡©e
, 
Œue
 )) != 0) {

204 
	`NV_DRM_DEV_LOG_ERR
(

205 
nv_dev
,

207 
»t
);

210 
	`drm_©omic_h–³r_comm™_hw_dÚe
(
¡©e
);

211 
	}
}

220 
	$__nv_drm_hªdË_æ_ev’t
(
nv_drm_ütc
 *
nv_ütc
)

222 
drm_ütc
 *
ütc
 = &
nv_ütc
->
ba£
;

223 
drm_deviû
 *
dev
 = 
ütc
->dev;

225 
nv_drm_æ
 *
nv_æ
 = 
NULL
;

227 
	`¥š_lock
(&
nv_ütc
->
æ_lock
);

228 ià((
nv_æ
 =

229 
	`li¡_fœ¡_’Œy_Ü_nuÎ
(&
nv_ütc
->
æ_li¡
,

230 
nv_drm_æ
, 
li¡_’Œy
)è=ð
NULL
) {

231 
	`¥š_uÆock
(&
nv_ütc
->
æ_lock
);

232 
	`WARN_ON
(1);

235 
	`li¡_d–
(&
nv_æ
->
li¡_’Œy
);

236 
	`¥š_uÆock
(&
nv_ütc
->
æ_lock
);

238 
	`¥š_lock
(&
dev
->
ev’t_lock
);

239 ià(
nv_æ
->
ev’t
 !ð
NULL
) {

240 
	`drm_ütc_£nd_vbÏnk_ev’t
(
ütc
, 
nv_æ
->
ev’t
);

242 
	`¥š_uÆock
(&
dev
->
ev’t_lock
);

244 
	`nv_drm_ä“
(
nv_æ
);

245 
	}
}

249 
	snv_drm_©omic_comm™_sk
 {

250 
drm_deviû
 *
	mdev
;

251 
drm_©omic_¡©e
 *
	m¡©e
;

253 
wÜk_¡ruù
 
	mwÜk
;

256 
	$nv_drm_©omic_comm™_sk_ÿÎback
(
wÜk_¡ruù
 *
wÜk
)

258 
nv_drm_©omic_comm™_sk
 *
nv_comm™_sk
 =

259 
	`cÚš”_of
(
wÜk
, 
nv_drm_©omic_comm™_sk
, work);

260 
drm_deviû
 *
dev
 = 
nv_comm™_sk
->dev;

261 
drm_©omic_¡©e
 *
¡©e
 = 
nv_comm™_sk
->state;

262 
nv_drm_deviû
 *
nv_dev
 = 
	`to_nv_deviû
(
dev
);

263 
i
;

264 
drm_ütc
 *
ütc
;

265 
drm_ütc_¡©e
 *
ütc_¡©e
;

266 
»t
;

268 ià(
nvKms
->
sy¡emInfo
.
bAÎowWr™eCombššg
) {

273 
	`nv_drm_wr™e_combše_æush
();

276 ià((
»t
 = 
	`nv_drm_©omic_­¶y_mode£t_cÚfig
(

277 
dev
,

278 
¡©e
, 
Œue
 )) != 0) {

279 
	`NV_DRM_DEV_LOG_ERR
(

280 
nv_dev
,

282 
»t
);

285 
	`nv_drm_fÜ_—ch_ütc_š_¡©e
(
¡©e
, 
ütc
, 
ütc_¡©e
, 
i
) {

286 
nv_drm_ütc
 *
nv_ütc
 = 
	`to_nv_ütc
(
ütc
);

288 ià(
	`wa™_ev’t_timeout
(

289 
nv_dev
->
³ndšg_æ_queue
,

290 !
	`©omic_»ad
(&
nv_ütc
->
has_³ndšg_æ_ev’t
),

291 3 * 
HZ
 ) == 0) {

292 
	`NV_DRM_DEV_LOG_ERR
(

293 
nv_dev
,

294 "Flƒv’ˆtimeouˆÚ h—d %u", 
nv_ütc
->
h—d
);

297 
	`©omic_£t
(&
nv_ütc
->
has_³ndšg_comm™
, 
çl£
);

298 
	`wake_up_®l
(&
nv_dev
->
³ndšg_comm™_queue
);

301 #ià
	`defšed
(
NV_DRM_ATOMIC_STATE_FREE
)

302 
	`drm_©omic_¡©e_ä“
(
¡©e
);

304 
	`drm_©omic_¡©e_put
(
¡©e
);

307 
	`nv_drm_ä“
(
nv_comm™_sk
);

308 
	}
}

310 
	$nv_drm_©omic_comm™_š‹º®
(

311 
drm_deviû
 *
dev
,

312 
drm_©omic_¡©e
 *
¡©e
,

313 
boÞ
 
nÚblock
)

315 
»t
 = 0;

317 
i
;

318 
drm_ütc
 *
ütc
 = 
NULL
;

319 
drm_ütc_¡©e
 *
ütc_¡©e
 = 
NULL
;

321 
nv_drm_©omic_comm™_sk
 *
nv_comm™_sk
 = 
NULL
;

323 
NvKmsK­iReque¡edModeS‘CÚfig
 *
»que¡ed_cÚfig
 = 
NULL
;

325 
nv_comm™_sk
 = 
	`nv_drm_ÿÎoc
(1, (*nv_commit_task));

327 ià(
nv_comm™_sk
 =ð
NULL
) {

328 
»t
 = -
ENOMEM
;

329 
çžed
;

340 
»que¡ed_cÚfig
 = &(
	`to_nv_©omic_¡©e
(
¡©e
)->
cÚfig
);

348 ià(!
nÚblock
) {

354 
	`nv_drm_fÜ_—ch_ütc_š_¡©e
(
¡©e
, 
ütc
, 
ütc_¡©e
, 
i
) {

355 
nv_drm_deviû
 *
nv_dev
 = 
	`to_nv_deviû
(
dev
);

356 
nv_drm_ütc
 *
nv_ütc
 = 
	`to_nv_ütc
(
ütc
);

358 ià(
	`wa™_ev’t_timeout
(

359 
nv_dev
->
³ndšg_æ_queue
,

360 !
	`©omic_»ad
(&
nv_ütc
->
has_³ndšg_æ_ev’t
),

361 3 * 
HZ
 ) == 0) {

362 
»t
 = -
EBUSY
;

363 
çžed
;

366 ià(
	`wa™_ev’t_timeout
(

367 
nv_dev
->
³ndšg_comm™_queue
,

368 !
	`©omic_»ad
(&
nv_ütc
->
has_³ndšg_comm™
),

369 3 * 
HZ
 ) == 0) {

370 
»t
 = -
EBUSY
;

371 
çžed
;

375 
	`nv_drm_fÜ_—ch_ütc_š_¡©e
(
¡©e
, 
ütc
, 
ütc_¡©e
, 
i
) {

376 
nv_drm_ütc
 *
nv_ütc
 = 
	`to_nv_ütc
(
ütc
);

378 ià(
	`©omic_»ad
(&
nv_ütc
->
has_³ndšg_comm™
) ||

379 
	`©omic_»ad
(&
nv_ütc
->
has_³ndšg_æ_ev’t
)) {

380 
»t
 = -
EBUSY
;

381 
çžed
;

391 
	`nv_drm_fÜ_—ch_ütc_š_¡©e
(
¡©e
, 
ütc
, 
ütc_¡©e
, 
i
) {

392 
nv_drm_ütc
 *
nv_ütc
 = 
	`to_nv_ütc
(
ütc
);

394 
	`©omic_£t
(&
nv_ütc
->
has_³ndšg_comm™
, 
Œue
);

396 ià(!
ütc
->
¡©e
->
aùive
 && !
ütc_¡©e
->active) {

400 
	`©omic_£t
(&
nv_ütc
->
has_³ndšg_æ_ev’t
, 
Œue
);

403 
	`drm_©omic_h–³r_sw­_¡©e
(
dev
, 
¡©e
);

405 
	`INIT_WORK
(&
nv_comm™_sk
->
wÜk
,

406 
nv_drm_©omic_comm™_sk_ÿÎback
);

408 
nv_comm™_sk
->
dev
 = dev;

409 
nv_comm™_sk
->
¡©e
 = state;

411 ià(
nÚblock
) {

412 
	`scheduË_wÜk
(&
nv_comm™_sk
->
wÜk
);

414 
	`nv_drm_©omic_comm™_sk_ÿÎback
(&
nv_comm™_sk
->
wÜk
);

419 
çžed
:

421 
	`nv_drm_ä“
(
nv_comm™_sk
);

423  
»t
;

424 
	}
}

426 
	$__nv_drm_hªdË_æ_ev’t
(
nv_drm_ütc
 *
nv_ütc
)

428 
drm_ütc
 *
ütc
 = &
nv_ütc
->
ba£
;

429 
drm_ütc_¡©e
 *
ütc_¡©e
 = 
ütc
->
¡©e
;

431 
drm_deviû
 *
dev
 = 
ütc
->dev;

432 
nv_drm_deviû
 *
nv_dev
 = 
	`to_nv_deviû
(
dev
);

434 
	`¥š_lock
(&
dev
->
ev’t_lock
);

435 ià(
ütc_¡©e
->
ev’t
 !ð
NULL
) {

436 
	`drm_ütc_£nd_vbÏnk_ev’t
(
ütc
, 
ütc_¡©e
->
ev’t
);

438 
ütc_¡©e
->
ev’t
 = 
NULL
;

439 
	`¥š_uÆock
(&
dev
->
ev’t_lock
);

441 
	`WARN_ON
(!
	`©omic_»ad
(&
nv_ütc
->
has_³ndšg_æ_ev’t
));

442 
	`©omic_£t
(&
nv_ütc
->
has_³ndšg_æ_ev’t
, 
çl£
);

443 
	`wake_up_®l
(&
nv_dev
->
³ndšg_æ_queue
);

444 
	}
}

448 
	$nv_drm_©omic_comm™
(
drm_deviû
 *
dev
,

449 
drm_©omic_¡©e
 *
¡©e
, 
boÞ
 
nÚblock
)

451 #ià
	`defšed
(
NV_DRM_ATOMIC_MODESET_NONBLOCKING_COMMIT_AVAILABLE
)

452  
	`drm_©omic_h–³r_comm™
(
dev
, 
¡©e
, 
nÚblock
);

454  
	`nv_drm_©omic_comm™_š‹º®
(
dev
, 
¡©e
, 
nÚblock
);

456 
	}
}

458 
	$nv_drm_hªdË_æ_occu¼ed
(
nv_drm_deviû
 *
nv_dev
,

459 
NvU32
 
h—d
, 
NvKmsK­iPÏÃTy³
 
¶ªe
)

461 
nv_drm_ütc
 *
nv_ütc
 = 
	`nv_drm_ütc_lookup
(
nv_dev
, 
h—d
);

463 ià(
	`NV_DRM_WARN
(
nv_ütc
 =ð
NULL
)) {

467 
¶ªe
) {

468 
NVKMS_KAPI_PLANE_PRIMARY
:

469 
	`__nv_drm_hªdË_æ_ev’t
(
nv_ütc
);

471 
NVKMS_KAPI_PLANE_OVERLAY
:

473 
NVKMS_KAPI_PLANE_CURSOR
:

475 
	`BUG_ON
(1);

477 
	}
}

	@src/nvidia-drm/nvidia-drm-modeset.h

23 #iâdeà
__NVIDIA_DRM_MODESET_H__


24 
	#__NVIDIA_DRM_MODESET_H__


	)

26 
	~"nvidŸ-drm-cÚáe¡.h
"

28 #ià
defšed
(
NV_DRM_ATOMIC_MODESET_AVAILABLE
)

30 
	~<drm/drmP.h
>

32 
drm_©omic_¡©e
 *
nv_drm_©omic_¡©e_®loc
(
drm_deviû
 *
dev
);

33 
nv_drm_©omic_¡©e_þ—r
(
drm_©omic_¡©e
 *
¡©e
);

34 
nv_drm_©omic_¡©e_ä“
(
drm_©omic_¡©e
 *
¡©e
);

36 #ià
defšed
(
NV_DRM_ATOMIC_MODESET_NONBLOCKING_COMMIT_AVAILABLE
)

37 
nv_drm_©omic_h–³r_comm™_ž
(
drm_©omic_¡©e
 *
¡©e
);

40 
nv_drm_©omic_check
(
drm_deviû
 *
dev
,

41 
drm_©omic_¡©e
 *
¡©e
);

43 
nv_drm_©omic_comm™
(
drm_deviû
 *
dev
,

44 
drm_©omic_¡©e
 *
¡©e
, 
boÞ
 
nÚblock
);

47 
nv_drm_hªdË_æ_occu¼ed
(
nv_drm_deviû
 *
nv_dev
,

48 
NvU32
 
h—d
,

49 
NvKmsK­iPÏÃTy³
 
¶ªe
);

51 
nv_drm_shut_down_®l_ütcs
(
drm_deviû
 *
dev
);

	@src/nvidia-drm/nvidia-drm-os-interface.h

23 #iâdeà
__NVIDIA_DRM_OS_INTERFACE_H__


24 
	#__NVIDIA_DRM_OS_INTERFACE_H__


	)

26 
	~"nvidŸ-drm-cÚáe¡.h
"

28 
	~"nvty³s.h
"

30 #ià
defšed
(
NV_DRM_AVAILABLE
)

32 
	~<drm/drmP.h
>

35 
boÞ
 
nv_drm_mode£t_moduË_·¿m
;

37 *
nv_drm_ÿÎoc
(
size_t
 
nmemb
, size_ˆ
size
);

39 
nv_drm_ä“
(*
±r
);

41 *
nv_drm_a¥rštf
(cÚ¡ *
fmt
, ...);

43 
nv_drm_wr™e_combše_æush
();

45 
nv_drm_lock_u£r_·ges
(
add»ss
,

46 
·ges_couÁ
, 
·ge
 ***
·ges
);

48 
nv_drm_uÆock_u£r_·ges
(
·ges_couÁ
, 
·ge
 **
·ges
);

50 *
nv_drm_vm­
(
·ge
 **
·ges
, 
·ges_couÁ
);

52 
nv_drm_vunm­
(*
add»ss
);

54 
ušt64_t
 
nv_drm_g‘_time_u£c
();

	@src/nvidia-drm/nvidia-drm-prime-fence.c

23 
	~"nvidŸ-drm-cÚáe¡.h
"

25 #ià
defšed
(
NV_DRM_AVAILABLE
)

27 
	~"nvidŸ-drm-´iv.h
"

28 
	~"nvidŸ-drm-ioùl.h
"

29 
	~"nvidŸ-drm-gem.h
"

30 
	~"nvidŸ-drm-´ime-ãnû.h
"

32 #ià
defšed
(
NV_DRM_DRIVER_HAS_GEM_PRIME_RES_OBJ
)

34 
	~"nvidŸ-dma-ãnû-h–³r.h
"

36 
	snv_drm_ãnû_cÚ‹xt
 {

37 
nv_drm_deviû
 *
	mnv_dev
;

39 
ušt32_t
 
	mcÚ‹xt
;

41 
NvU64
 
	mãnûSemIndex
;

44 
NvKmsK­iMemÜy
 *
	mpSemSurçû
;

45 
NvU32
 *
	mpLš—rAdd»ss
;

48 
¥šlock_t
 
	mlock
;

54 
boÞ
 
	md—d
;

57 
NvKmsK­iChªÃlEv’t
 *
	mcb
;

60 
li¡_h—d
 
	m³ndšg
;

62 
	mÏ¡_£qno
;

65 
	snv_drm_´ime_ãnû
 {

66 
li¡_h—d
 
	mli¡_’Œy
;

67 
nv_dma_ãnû_t
 
	mba£
;

68 
¥šlock_t
 
	mlock
;

71 
šlše


72 
nv_drm_´ime_ãnû
 *
	$to_nv_drm_´ime_ãnû
(
nv_dma_ãnû_t
 *
ãnû
)

74  
	`cÚš”_of
(
ãnû
, 
nv_drm_´ime_ãnû
, 
ba£
);

75 
	}
}

78 
	$nv_drm_gem_´ime_ãnû_Ý_g‘_driv”_Çme
(
nv_dma_ãnû_t
 *
ãnû
)

81 
	}
}

84 
	$nv_drm_gem_´ime_ãnû_Ý_g‘_tim–še_Çme
(
nv_dma_ãnû_t
 *
ãnû
)

87 
	}
}

89 
boÞ
 
	$nv_drm_gem_´ime_ãnû_Ý_’abË_sigÇlšg
(
nv_dma_ãnû_t
 *
ãnû
)

92  
Œue
;

93 
	}
}

95 
	$nv_drm_gem_´ime_ãnû_Ý_»Ëa£
(
nv_dma_ãnû_t
 *
ãnû
)

97 
nv_drm_´ime_ãnû
 *
nv_ãnû
 = 
	`to_nv_drm_´ime_ãnû
(
ãnû
);

98 
	`nv_drm_ä“
(
nv_ãnû
);

99 
	}
}

102 
	$nv_drm_gem_´ime_ãnû_Ý_wa™
(
nv_dma_ãnû_t
 *
ãnû
,

103 
boÞ
 
šŒ
, sigÃd 
timeout
)

115  
	`nv_dma_ãnû_deçuÉ_wa™
(
ãnû
, 
šŒ
,

116 (
timeout
 =ð
MAX_SCHEDULE_TIMEOUT
) ?

117 
	`m£cs_to_jiff›s
(96è: 
timeout
);

118 
	}
}

120 cÚ¡ 
nv_dma_ãnû_Ýs_t
 
	gnv_drm_gem_´ime_ãnû_Ýs
 = {

121 .
g‘_driv”_Çme
 = 
nv_drm_gem_´ime_ãnû_Ý_g‘_driv”_Çme
,

122 .
	gg‘_tim–še_Çme
 = 
nv_drm_gem_´ime_ãnû_Ý_g‘_tim–še_Çme
,

123 .
	g’abË_sigÇlšg
 = 
nv_drm_gem_´ime_ãnû_Ý_’abË_sigÇlšg
,

124 .
	g»Ëa£
 = 
nv_drm_gem_´ime_ãnû_Ý_»Ëa£
,

125 .
	gwa™
 = 
nv_drm_gem_´ime_ãnû_Ý_wa™
,

128 
šlše
 

129 
	$__nv_drm_´ime_ãnû_sigÇl
(
nv_drm_´ime_ãnû
 *
nv_ãnû
)

131 
	`li¡_d–
(&
nv_ãnû
->
li¡_’Œy
);

132 
	`nv_dma_ãnû_sigÇl
(&
nv_ãnû
->
ba£
);

133 
	`nv_dma_ãnû_put
(&
nv_ãnû
->
ba£
);

134 
	}
}

136 
	$nv_drm_gem_´ime_fÜû_ãnû_sigÇl
(

137 
nv_drm_ãnû_cÚ‹xt
 *
nv_ãnû_cÚ‹xt
)

139 
	`WARN_ON
(!
	`¥š_is_locked
(&
nv_ãnû_cÚ‹xt
->
lock
));

141 
	`WARN_ON
(
nv_ãnû_cÚ‹xt
->
d—d
);

143 !
	`li¡_em±y
(&
nv_ãnû_cÚ‹xt
->
³ndšg
)) {

144 
nv_drm_´ime_ãnû
 *
nv_ãnû
 = 
	`li¡_fœ¡_’Œy
(

145 &
nv_ãnû_cÚ‹xt
->
³ndšg
,

146 
	`ty³of
(*
nv_ãnû
),

147 
li¡_’Œy
);

149 
	`__nv_drm_´ime_ãnû_sigÇl
(
nv_ãnû
);

151 
	}
}

153 
NVKMS_KAPI_CALL
 
	gnv_drm_gem_´ime_ãnû_ev’t


155 *
	gd©aPŒ
,

156 
NvU32
 
	gd©aU32


159 
nv_drm_ãnû_cÚ‹xt
 *
	gnv_ãnû_cÚ‹xt
 = 
d©aPŒ
;

161 
¥š_lock
(&
nv_ãnû_cÚ‹xt
->
lock
);

163 ià(
	gnv_ãnû_cÚ‹xt
->
	gd—d
) {

164 
WARN_ON
(!
li¡_em±y
(&
nv_ãnû_cÚ‹xt
->
³ndšg
));

165 
	guÆock_ªd_out
;

168 !
li¡_em±y
(&
nv_ãnû_cÚ‹xt
->
³ndšg
)) {

169 
nv_drm_´ime_ãnû
 *
	gnv_ãnû
 = 
li¡_fœ¡_’Œy
(

170 &
nv_ãnû_cÚ‹xt
->
³ndšg
,

171 
ty³of
(*
nv_ãnû
),

172 
li¡_’Œy
);

175 
	g£qno
 = *((
nv_ãnû_cÚ‹xt
->
pLš—rAdd»ss
) +

176 (
nv_ãnû_cÚ‹xt
->
ãnûSemIndex
 * 4));

178 ià(
	gnv_ãnû
->
	gba£
.
	g£qno
 > seqno) {

187 
__nv_drm_´ime_ãnû_sigÇl
(
nv_ãnû
);

190 
	guÆock_ªd_out
:

191 
¥š_uÆock
(&
nv_ãnû_cÚ‹xt
->
lock
);

194 
šlše
 
nv_drm_ãnû_cÚ‹xt
 *
	$__nv_drm_ãnû_cÚ‹xt_Ãw
(

195 
nv_drm_deviû
 *
nv_dev
,

196 
drm_nvidŸ_ãnû_cÚ‹xt_ü—‹_·¿ms
 *
p
)

198 
nv_drm_ãnû_cÚ‹xt
 *
nv_ãnû_cÚ‹xt
;

199 
NvKmsK­iMemÜy
 *
pSemSurçû
;

200 
NvKmsK­iChªÃlEv’t
 *
cb
;

201 
NvU32
 *
pLš—rAdd»ss
;

205 
pSemSurçû
 = 
nvKms
->
	`impÜtMemÜy
(
nv_dev
->
pDeviû
,

206 
p
->
size
,

207 
p
->
impÜt_mem_nvkms_·¿ms_±r
,

208 
p
->
impÜt_mem_nvkms_·¿ms_size
);

209 ià(!
pSemSurçû
) {

210 
	`NV_DRM_DEV_LOG_ERR
(

211 
nv_dev
,

214 
çžed
;

217 ià(!
nvKms
->
	`m­MemÜy
(
nv_dev
->
pDeviû
,

218 
pSemSurçû
,

219 
NVKMS_KAPI_MAPPING_TYPE_KERNEL
,

220 (**è&
pLš—rAdd»ss
)) {

221 
	`NV_DRM_DEV_LOG_ERR
(

222 
nv_dev
,

225 
çžed_to_m­_memÜy
;

233 ià((
nv_ãnû_cÚ‹xt
 = 
	`nv_drm_ÿÎoc
(

235 (*
nv_ãnû_cÚ‹xt
))è=ð
NULL
) {

236 
çžed_®loc_ãnû_cÚ‹xt
;

244 *
nv_ãnû_cÚ‹xt
 = (
nv_drm_ãnû_cÚ‹xt
) {

245 .
nv_dev
 =‚v_dev,

246 .
cÚ‹xt
 = 
	`nv_dma_ãnû_cÚ‹xt_®loc
(1),

247 .
pSemSurçû
 =…SemSurface,

248 .
pLš—rAdd»ss
 =…LinearAddress,

249 .
ãnûSemIndex
 = 
p
->
šdex
,

252 
	`INIT_LIST_HEAD
(&
nv_ãnû_cÚ‹xt
->
³ndšg
);

254 
	`¥š_lock_š™
(&
nv_ãnû_cÚ‹xt
->
lock
);

261 
	`¥š_lock
(&
nv_ãnû_cÚ‹xt
->
lock
);

263 
cb
 = 
nvKms
->
	`®loÿ‹ChªÃlEv’t
(
nv_dev
->
pDeviû
,

264 
nv_drm_gem_´ime_ãnû_ev’t
,

265 
nv_ãnû_cÚ‹xt
,

266 
p
->
ev’t_nvkms_·¿ms_±r
,

267 
p
->
ev’t_nvkms_·¿ms_size
);

268 ià(!
cb
) {

269 
	`NV_DRM_DEV_LOG_ERR
(
nv_dev
,

272 
çžed_to_®loÿ‹_chªÃl_ev’t
;

275 
nv_ãnû_cÚ‹xt
->
cb
 = cb;

277 
	`¥š_uÆock
(&
nv_ãnû_cÚ‹xt
->
lock
);

279  
nv_ãnû_cÚ‹xt
;

281 
çžed_to_®loÿ‹_chªÃl_ev’t
:

282 
	`nv_drm_ä“
(
nv_ãnû_cÚ‹xt
);

284 
çžed_®loc_ãnû_cÚ‹xt
:

286 
nvKms
->
	`unm­MemÜy
(
nv_dev
->
pDeviû
,

287 
pSemSurçû
,

288 
NVKMS_KAPI_MAPPING_TYPE_KERNEL
,

289 (*è
pLš—rAdd»ss
);

291 
çžed_to_m­_memÜy
:

292 
nvKms
->
	`ä“MemÜy
(
nv_dev
->
pDeviû
, 
pSemSurçû
);

294 
çžed
:

295  
NULL
;

296 
	}
}

298 
	$__nv_drm_ãnû_cÚ‹xt_de¡roy
(

299 
nv_drm_ãnû_cÚ‹xt
 *
nv_ãnû_cÚ‹xt
)

301 
nv_drm_deviû
 *
nv_dev
 = 
nv_ãnû_cÚ‹xt
->nv_dev;

308 
	`¥š_lock
(&
nv_ãnû_cÚ‹xt
->
lock
);

310 
	`nv_drm_gem_´ime_fÜû_ãnû_sigÇl
(
nv_ãnû_cÚ‹xt
);

312 
nvKms
->
	`ä“ChªÃlEv’t
(
nv_dev
->
pDeviû
, 
nv_ãnû_cÚ‹xt
->
cb
);

314 
nv_ãnû_cÚ‹xt
->
d—d
 = 
Œue
;

316 
	`¥š_uÆock
(&
nv_ãnû_cÚ‹xt
->
lock
);

320 
	`æush_scheduËd_wÜk
();

324 
nvKms
->
	`unm­MemÜy
(
nv_dev
->
pDeviû
,

325 
nv_ãnû_cÚ‹xt
->
pSemSurçû
,

326 
NVKMS_KAPI_MAPPING_TYPE_KERNEL
,

327 (*è
nv_ãnû_cÚ‹xt
->
pLš—rAdd»ss
);

329 
nvKms
->
	`ä“MemÜy
(
nv_dev
->
pDeviû
, 
nv_ãnû_cÚ‹xt
->
pSemSurçû
);

331 
	`nv_drm_ä“
(
nv_ãnû_cÚ‹xt
);

332 
	}
}

334 
nv_dma_ãnû_t
 *
	$__nv_drm_ãnû_cÚ‹xt_ü—‹_ãnû
(

335 
nv_drm_ãnû_cÚ‹xt
 *
nv_ãnû_cÚ‹xt
,

336 
£qno
)

338 
nv_drm_´ime_ãnû
 *
nv_ãnû
;

339 
»t
 = 0;

341 ià((
nv_ãnû
 = 
	`nv_drm_ÿÎoc
(1, (*nv_ãnû))è=ð
NULL
) {

342 
»t
 = -
ENOMEM
;

343 
out
;

346 
	`¥š_lock
(&
nv_ãnû_cÚ‹xt
->
lock
);

348 ià(
nv_ãnû_cÚ‹xt
->
d—d
) {

349 
»t
 = -
EINVAL
;

350 
uÆock_ªd_out
;

357 ià(
£qno
 < 
nv_ãnû_cÚ‹xt
->
Ï¡_£qno
) {

358 
	`nv_drm_gem_´ime_fÜû_ãnû_sigÇl
(
nv_ãnû_cÚ‹xt
);

361 
	`INIT_LIST_HEAD
(&
nv_ãnû
->
li¡_’Œy
);

363 
	`¥š_lock_š™
(&
nv_ãnû
->
lock
);

365 
	`nv_dma_ãnû_š™
(&
nv_ãnû
->
ba£
, &
nv_drm_gem_´ime_ãnû_Ýs
,

366 &
nv_ãnû
->
lock
, 
nv_ãnû_cÚ‹xt
->
cÚ‹xt
,

367 
£qno
);

369 
	`li¡_add_ž
(&
nv_ãnû
->
li¡_’Œy
, &
nv_ãnû_cÚ‹xt
->
³ndšg
);

371 
nv_ãnû_cÚ‹xt
->
Ï¡_£qno
 = 
£qno
;

373 
uÆock_ªd_out
:

374 
	`¥š_uÆock
(&
nv_ãnû_cÚ‹xt
->
lock
);

376 
out
:

377  
»t
 !ð0 ? 
	`ERR_PTR
Ô‘è: &
nv_ãnû
->
ba£
;

378 
	}
}

380 
	$nv_drm_ãnû_suµÜ‹d_ioùl
(
drm_deviû
 *
dev
,

381 *
d©a
, 
drm_fže
 *
fž•
)

383 
nv_drm_deviû
 *
nv_dev
 = 
	`to_nv_deviû
(
dev
);

384  
nv_dev
->
pDeviû
 ? 0 : -
EINVAL
;

385 
	}
}

387 
	snv_drm_gem_ãnû_cÚ‹xt
 {

388 
nv_drm_gem_objeù
 
	mba£
;

389 
nv_drm_ãnû_cÚ‹xt
 *
	mnv_ãnû_cÚ‹xt
;

392 
šlše
 
nv_drm_gem_ãnû_cÚ‹xt
 *
	$to_gem_ãnû_cÚ‹xt
(

393 
nv_drm_gem_objeù
 *
nv_gem
)

395 ià(
nv_gem
 !ð
NULL
) {

396  
	`cÚš”_of
(
nv_gem
, 
nv_drm_gem_ãnû_cÚ‹xt
, 
ba£
);

399  
NULL
;

400 
	}
}

408 
	$__nv_drm_gem_ãnû_cÚ‹xt_ä“
(
nv_drm_gem_objeù
 *
nv_gem
)

410 
nv_drm_gem_ãnû_cÚ‹xt
 *
nv_gem_ãnû_cÚ‹xt
 =

411 
	`to_gem_ãnû_cÚ‹xt
(
nv_gem
);

413 
	`__nv_drm_ãnû_cÚ‹xt_de¡roy
(
nv_gem_ãnû_cÚ‹xt
->
nv_ãnû_cÚ‹xt
);

415 
	`nv_drm_ä“
(
nv_gem_ãnû_cÚ‹xt
);

416 
	}
}

418 cÚ¡ 
nv_drm_gem_objeù_funcs
 
	gnv_gem_ãnû_cÚ‹xt_Ýs
 = {

419 .
ä“
 = 
__nv_drm_gem_ãnû_cÚ‹xt_ä“
,

422 
šlše


423 
nv_drm_gem_ãnû_cÚ‹xt
 *
	$__nv_drm_gem_objeù_ãnû_cÚ‹xt_lookup
(

424 
drm_deviû
 *
dev
,

425 
drm_fže
 *
fžp
,

426 
u32
 
hªdË
)

428 
nv_drm_gem_objeù
 *
nv_gem
 =

429 
	`nv_drm_gem_objeù_lookup
(
dev
, 
fžp
, 
hªdË
);

431 ià(
nv_gem
 !ð
NULL
 &&‚v_gem->
Ýs
 !ð&
nv_gem_ãnû_cÚ‹xt_Ýs
) {

432 
	`nv_drm_gem_objeù_uÄeã»nû_uÆocked
(
nv_gem
);

433  
NULL
;

436  
	`to_gem_ãnû_cÚ‹xt
(
nv_gem
);

437 
	}
}

439 
	$nv_drm_ãnû_cÚ‹xt_ü—‹_ioùl
(
drm_deviû
 *
dev
,

440 *
d©a
, 
drm_fže
 *
fž•
)

442 
nv_drm_deviû
 *
nv_dev
 = 
	`to_nv_deviû
(
dev
);

443 
drm_nvidŸ_ãnû_cÚ‹xt_ü—‹_·¿ms
 *
p
 = 
d©a
;

444 
nv_drm_gem_ãnû_cÚ‹xt
 *
nv_gem_ãnû_cÚ‹xt
 = 
NULL
;

446 ià((
nv_gem_ãnû_cÚ‹xt
 = 
	`nv_drm_ÿÎoc
(

448 (
nv_drm_gem_ãnû_cÚ‹xt
))è=ð
NULL
) {

449 
dÚe
;

452 ià((
nv_gem_ãnû_cÚ‹xt
->
nv_ãnû_cÚ‹xt
 =

453 
	`__nv_drm_ãnû_cÚ‹xt_Ãw
(
nv_dev
, 
p
)è=ð
NULL
) {

454 
ãnû_cÚ‹xt_Ãw_çžed
;

457 
	`nv_drm_gem_objeù_š™
(
nv_dev
,

458 &
nv_gem_ãnû_cÚ‹xt
->
ba£
,

459 &
nv_gem_ãnû_cÚ‹xt_Ýs
,

462  
	`nv_drm_gem_hªdË_ü—‹_drÝ_»ã»nû
(
fž•
,

463 &
nv_gem_ãnû_cÚ‹xt
->
ba£
,

464 &
p
->
hªdË
);

466 
ãnû_cÚ‹xt_Ãw_çžed
:

467 
	`nv_drm_ä“
(
nv_gem_ãnû_cÚ‹xt
);

469 
dÚe
:

470  -
ENOMEM
;

471 
	}
}

473 
	$nv_drm_gem_ãnû_©ch_ioùl
(
drm_deviû
 *
dev
,

474 *
d©a
, 
drm_fže
 *
fž•
)

476 
»t
 = -
EINVAL
;

477 
nv_drm_deviû
 *
nv_dev
 = 
	`to_nv_deviû
(
dev
);

478 
drm_nvidŸ_gem_ãnû_©ch_·¿ms
 *
p
 = 
d©a
;

480 
nv_drm_gem_objeù
 *
nv_gem
;

481 
nv_drm_gem_ãnû_cÚ‹xt
 *
nv_gem_ãnû_cÚ‹xt
;

483 
nv_dma_ãnû_t
 *
ãnû
;

485 
nv_gem
 = 
	`nv_drm_gem_objeù_lookup
(
nv_dev
->
dev
, 
fž•
, 
p
->
hªdË
);

487 ià(!
nv_gem
) {

488 
	`NV_DRM_DEV_LOG_ERR
(

489 
nv_dev
,

491 
p
->
hªdË
);

493 
dÚe
;

496 if((
nv_gem_ãnû_cÚ‹xt
 = 
	`__nv_drm_gem_objeù_ãnû_cÚ‹xt_lookup
(

497 
nv_dev
->
dev
,

498 
fž•
,

499 
p
->
ãnû_cÚ‹xt_hªdË
)è=ð
NULL
) {

501 
	`NV_DRM_DEV_LOG_ERR
(

502 
nv_dev
,

504 
p
->
ãnû_cÚ‹xt_hªdË
);

506 
ãnû_cÚ‹xt_lookup_çžed
;

509 ià(
	`IS_ERR
(
ãnû
 = 
	`__nv_drm_ãnû_cÚ‹xt_ü—‹_ãnû
(

510 
nv_gem_ãnû_cÚ‹xt
->
nv_ãnû_cÚ‹xt
,

511 
p
->
£m_th»sh
))) {

512 
»t
 = 
	`PTR_ERR
(
ãnû
);

514 
	`NV_DRM_DEV_LOG_ERR
(

515 
nv_dev
,

516 "FažedØ®loÿ‹ f’û: 0x%08x", 
p
->
hªdË
);

518 
ãnû_cÚ‹xt_ü—‹_ãnû_çžed
;

521 
	`»£rv©iÚ_objeù_add_exþ_ãnû
(&
nv_gem
->
»sv
, 
ãnû
);

523 
»t
 = 0;

525 
ãnû_cÚ‹xt_ü—‹_ãnû_çžed
:

526 
	`nv_drm_gem_objeù_uÄeã»nû_uÆocked
(&
nv_gem_ãnû_cÚ‹xt
->
ba£
);

528 
ãnû_cÚ‹xt_lookup_çžed
:

529 
	`nv_drm_gem_objeù_uÄeã»nû_uÆocked
(
nv_gem
);

531 
dÚe
:

532  
»t
;

533 
	}
}

	@src/nvidia-drm/nvidia-drm-prime-fence.h

23 #iâdeà
__NVIDIA_DRM_PRIME_FENCE_H__


24 
	#__NVIDIA_DRM_PRIME_FENCE_H__


	)

26 
	~"nvidŸ-drm-cÚáe¡.h
"

28 #ià
defšed
(
NV_DRM_AVAILABLE
)

30 
	~<drm/drmP.h
>

32 #ià
defšed
(
NV_DRM_DRIVER_HAS_GEM_PRIME_RES_OBJ
)

34 
nv_drm_ãnû_suµÜ‹d_ioùl
(
drm_deviû
 *
dev
,

35 *
d©a
, 
drm_fže
 *
fž•
);

37 
nv_drm_ãnû_cÚ‹xt_ü—‹_ioùl
(
drm_deviû
 *
dev
,

38 *
d©a
, 
drm_fže
 *
fž•
);

40 
nv_drm_gem_ãnû_©ch_ioùl
(
drm_deviû
 *
dev
,

41 *
d©a
, 
drm_fže
 *
fž•
);

	@src/nvidia-drm/nvidia-drm-priv.h

23 #iâdeà
__NVIDIA_DRM_PRIV_H__


24 
	#__NVIDIA_DRM_PRIV_H__


	)

26 
	~"nvidŸ-drm-cÚáe¡.h
"

28 #ià
defšed
(
NV_DRM_AVAILABLE
)

30 
	~<drm/drmP.h
>

32 #ià
defšed
(
NV_DRM_DRM_GEM_H_PRESENT
)

33 
	~<drm/drm_gem.h
>

36 
	~"nvidŸ-drm-os-š‹rçû.h
"

38 
	~"nvkms-k­i.h
"

40 
	#NV_DRM_LOG_ERR
(
__fmt
, ...) \

41 
	`DRM_ERROR
("[nvidŸ-drm] " 
__fmt
 "\n", ##
__VA_ARGS__
)

	)

43 
	#NV_DRM_LOG_INFO
(
__fmt
, ...) \

44 
	`DRM_INFO
("[nvidŸ-drm] " 
__fmt
 "\n", ##
__VA_ARGS__
)

	)

46 
	#NV_DRM_DEV_LOG_INFO
(
__dev
, 
__fmt
, ...) \

47 
	`NV_DRM_LOG_INFO
("[GPU ID 0x%08x] " 
__fmt
, 
__dev
->
gpu_šfo
.
gpu_id
, ##
__VA_ARGS__
)

	)

49 
	#NV_DRM_DEV_LOG_ERR
(
__dev
, 
__fmt
, ...) \

50 
	`NV_DRM_LOG_ERR
("[GPU ID 0x%08x] " 
__fmt
, 
__dev
->
gpu_šfo
.
gpu_id
, ##
__VA_ARGS__
)

	)

52 
	#NV_DRM_WARN
(
__cÚd™iÚ
è
	`WARN_ON
((__cÚd™iÚ))

	)

54 
	snv_drm_deviû
 {

55 
nv_gpu_šfo_t
 
	mgpu_šfo
;

57 
drm_deviû
 *
	mdev
;

59 
NvKmsK­iDeviû
 *
	mpDeviû
;

61 #ià
defšed
(
NV_DRM_ATOMIC_MODESET_AVAILABLE
)

84 
mu‹x
 
	mlock
;

86 
NvU32
 
	mp™chAlignm’t
;

88 
©omic_t
 
	m’abË_ev’t_hªdlšg
;

90 #ià!
defšed
(
NV_DRM_ATOMIC_MODESET_NONBLOCKING_COMMIT_AVAILABLE
)

92 
wa™_queue_h—d_t
 
	m³ndšg_comm™_queue
;

93 
wa™_queue_h—d_t
 
	m³ndšg_æ_queue
;

98 
nv_drm_deviû
 *
	mÃxt
;

101 
šlše
 
nv_drm_deviû
 *
	$to_nv_deviû
(

102 
drm_deviû
 *
dev
)

104  
dev
->
dev_´iv©e
;

105 
	}
}

107 cÚ¡ 
NvKmsK­iFunùiÚsTabË
* cÚ¡ 
nvKms
;

	@src/nvidia-drm/nvidia-drm-utils.c

23 
	~"nvidŸ-drm-cÚáe¡.h
"

25 #ià
defšed
(
NV_DRM_ATOMIC_MODESET_AVAILABLE
)

27 
	~"nvidŸ-drm-´iv.h
"

28 
	~"nvidŸ-drm-utžs.h
"

30 
NvKmsK­iCÚÃùÜInfo
*

31 
	$nvkms_g‘_cÚÃùÜ_šfo
(
NvKmsK­iDeviû
 *
pDeviû
,

32 
NvKmsK­iCÚÃùÜ
 
hCÚÃùÜ
)

34 
NvKmsK­iCÚÃùÜInfo
 *
cÚÃùÜInfo
 =

35 
	`nv_drm_ÿÎoc
(1, (*
cÚÃùÜInfo
));

37 ià(
cÚÃùÜInfo
 =ð
NULL
) {

38  
	`ERR_PTR
(-
ENOMEM
);

41 ià(!
nvKms
->
	`g‘CÚÃùÜInfo
(
pDeviû
, 
hCÚÃùÜ
, 
cÚÃùÜInfo
)) {

42 
	`nv_drm_ä“
(
cÚÃùÜInfo
);

44  
	`ERR_PTR
(-
EINVAL
);

47  
cÚÃùÜInfo
;

48 
	}
}

51 
	$nvkms_cÚÃùÜ_sigÇl_to_drm_’cod”_sigÇl
(
NvKmsCÚÃùÜSigÇlFÜm©
 
fÜm©
)

53 
fÜm©
) {

55 
NVKMS_CONNECTOR_SIGNAL_FORMAT_UNKNOWN
:

56  
DRM_MODE_ENCODER_NONE
;

57 
NVKMS_CONNECTOR_SIGNAL_FORMAT_TMDS
:

58 
NVKMS_CONNECTOR_SIGNAL_FORMAT_DP
:

59  
DRM_MODE_ENCODER_TMDS
;

60 
NVKMS_CONNECTOR_SIGNAL_FORMAT_LVDS
:

61  
DRM_MODE_ENCODER_LVDS
;

62 
NVKMS_CONNECTOR_SIGNAL_FORMAT_VGA
:

63  
DRM_MODE_ENCODER_DAC
;

65 
	}
}

67 
	$nvkms_cÚÃùÜ_ty³_to_drm_cÚÃùÜ_ty³
(
NvKmsCÚÃùÜTy³
 
ty³
,

68 
NvBoÞ
 
š‹º®
)

70 
ty³
) {

72 
NVKMS_CONNECTOR_TYPE_UNKNOWN
:

73  
DRM_MODE_CONNECTOR_Unknown
;

74 
NVKMS_CONNECTOR_TYPE_DP
:

76 
š‹º®
 ?

77 
DRM_MODE_CONNECTOR_eDP
 : 
DRM_MODE_CONNECTOR_Di¥ÏyPÜt
;

78 
NVKMS_CONNECTOR_TYPE_HDMI
:

79  
DRM_MODE_CONNECTOR_HDMIA
;

80 
NVKMS_CONNECTOR_TYPE_DVI_D
:

81  
DRM_MODE_CONNECTOR_DVID
;

82 
NVKMS_CONNECTOR_TYPE_DVI_I
:

83  
DRM_MODE_CONNECTOR_DVII
;

84 
NVKMS_CONNECTOR_TYPE_LVDS
:

85  
DRM_MODE_CONNECTOR_LVDS
;

86 
NVKMS_CONNECTOR_TYPE_VGA
:

87  
DRM_MODE_CONNECTOR_VGA
;

89 
	}
}

92 
	$nvkms_di¥Ïy_mode_to_drm_mode
(cÚ¡ 
NvKmsK­iDi¥ÏyMode
 *
di¥ÏyMode
,

93 
drm_di¥Ïy_mode
 *
mode
)

95 
mode
->
v»äesh
 = (
di¥ÏyMode
->
timšgs
.
»äeshR©e
 + 500) / 1000;

97 
mode
->
þock
 = (
di¥ÏyMode
->
timšgs
.
pix–ClockHz
 + 500) / 1000;

99 
mode
->
hdi¥Ïy
 = 
di¥ÏyMode
->
timšgs
.
hVisibË
;

100 
mode
->
hsync_¡¬t
 = 
di¥ÏyMode
->
timšgs
.
hSyncS¹
;

101 
mode
->
hsync_’d
 = 
di¥ÏyMode
->
timšgs
.
hSyncEnd
;

102 
mode
->
htÙ®
 = 
di¥ÏyMode
->
timšgs
.
hTÙ®
;

103 
mode
->
hskew
 = 
di¥ÏyMode
->
timšgs
.
hSkew
;

105 
mode
->
vdi¥Ïy
 = 
di¥ÏyMode
->
timšgs
.
vVisibË
;

106 
mode
->
vsync_¡¬t
 = 
di¥ÏyMode
->
timšgs
.
vSyncS¹
;

107 
mode
->
vsync_’d
 = 
di¥ÏyMode
->
timšgs
.
vSyncEnd
;

108 
mode
->
vtÙ®
 = 
di¥ÏyMode
->
timšgs
.
vTÙ®
;

110 ià(
di¥ÏyMode
->
timšgs
.
æags
.
š‹¾aûd
) {

111 
mode
->
æags
 |ð
DRM_MODE_FLAG_INTERLACE
;

114 ià(
di¥ÏyMode
->
timšgs
.
æags
.
doubËSÿn
) {

115 
mode
->
æags
 |ð
DRM_MODE_FLAG_DBLSCAN
;

118 ià(
di¥ÏyMode
->
timšgs
.
æags
.
hSyncPos
) {

119 
mode
->
æags
 |ð
DRM_MODE_FLAG_PHSYNC
;

122 ià(
di¥ÏyMode
->
timšgs
.
æags
.
hSyncNeg
) {

123 
mode
->
æags
 |ð
DRM_MODE_FLAG_NHSYNC
;

126 ià(
di¥ÏyMode
->
timšgs
.
æags
.
vSyncPos
) {

127 
mode
->
æags
 |ð
DRM_MODE_FLAG_PVSYNC
;

130 ià(
di¥ÏyMode
->
timšgs
.
æags
.
vSyncNeg
) {

131 
mode
->
æags
 |ð
DRM_MODE_FLAG_NVSYNC
;

134 
mode
->
width_mm
 = 
di¥ÏyMode
->
timšgs
.
widthMM
;

135 
mode
->
height_mm
 = 
di¥ÏyMode
->
timšgs
.
heightMM
;

137 ià(
	`¡¾’
(
di¥ÏyMode
->
Çme
) != 0) {

138 
	`memýy
(

139 
mode
->
Çme
, 
di¥ÏyMode
->name,

140 
	`mš
((
mode
->
Çme
), (
di¥ÏyMode
->name)));

142 
mode
->
Çme
[(mode->name) - 1] = '\0';

144 
	`drm_mode_£t_Çme
(
mode
);

146 
	}
}

148 
boÞ
 
	$drm_fÜm©_to_nvkms_fÜm©
(
u32
 
fÜm©
,

149 
NvKmsSurçûMemÜyFÜm©
 *
nvkms_fÜm©
)

151 
fÜm©
) {

152 
DRM_FORMAT_ARGB1555
:

153 *
nvkms_fÜm©
 = 
NvKmsSurçûMemÜyFÜm©A1R5G5B5
;

154  
Œue
;

155 
DRM_FORMAT_XRGB1555
:

156 *
nvkms_fÜm©
 = 
NvKmsSurçûMemÜyFÜm©X1R5G5B5
;

157  
Œue
;

158 
DRM_FORMAT_RGB565
:

159 *
nvkms_fÜm©
 = 
NvKmsSurçûMemÜyFÜm©R5G6B5
;

160  
Œue
;

161 
DRM_FORMAT_ARGB8888
:

162 *
nvkms_fÜm©
 = 
NvKmsSurçûMemÜyFÜm©A8R8G8B8
;

163  
Œue
;

164 
DRM_FORMAT_XRGB8888
:

165 *
nvkms_fÜm©
 = 
NvKmsSurçûMemÜyFÜm©X8R8G8B8
;

166  
Œue
;

167 
DRM_FORMAT_ABGR2101010
:

168 *
nvkms_fÜm©
 = 
NvKmsSurçûMemÜyFÜm©A2B10G10R10
;

169  
Œue
;

170 
DRM_FORMAT_XBGR2101010
:

171 *
nvkms_fÜm©
 = 
NvKmsSurçûMemÜyFÜm©X2B10G10R10
;

172  
Œue
;

175  
çl£
;

176 
	}
}

178 
	$drm_mode_to_nvkms_di¥Ïy_mode
(cÚ¡ 
drm_di¥Ïy_mode
 *
¤c
,

179 
NvKmsK­iDi¥ÏyMode
 *
d¡
)

181 
d¡
->
timšgs
.
»äeshR©e
 = 
¤c
->
v»äesh
 * 1000;

183 
d¡
->
timšgs
.
pix–ClockHz
 = 
¤c
->
þock
 * 1000;

185 
d¡
->
timšgs
.
hVisibË
 = 
¤c
->
hdi¥Ïy
;

186 
d¡
->
timšgs
.
hSyncS¹
 = 
¤c
->
hsync_¡¬t
;

187 
d¡
->
timšgs
.
hSyncEnd
 = 
¤c
->
hsync_’d
;

188 
d¡
->
timšgs
.
hTÙ®
 = 
¤c
->
htÙ®
;

189 
d¡
->
timšgs
.
hSkew
 = 
¤c
->
hskew
;

191 
d¡
->
timšgs
.
vVisibË
 = 
¤c
->
vdi¥Ïy
;

192 
d¡
->
timšgs
.
vSyncS¹
 = 
¤c
->
vsync_¡¬t
;

193 
d¡
->
timšgs
.
vSyncEnd
 = 
¤c
->
vsync_’d
;

194 
d¡
->
timšgs
.
vTÙ®
 = 
¤c
->
vtÙ®
;

196 ià(
¤c
->
æags
 & 
DRM_MODE_FLAG_INTERLACE
) {

197 
d¡
->
timšgs
.
æags
.
š‹¾aûd
 = 
NV_TRUE
;

199 
d¡
->
timšgs
.
æags
.
š‹¾aûd
 = 
NV_FALSE
;

202 ià(
¤c
->
æags
 & 
DRM_MODE_FLAG_DBLSCAN
) {

203 
d¡
->
timšgs
.
æags
.
doubËSÿn
 = 
NV_TRUE
;

205 
d¡
->
timšgs
.
æags
.
doubËSÿn
 = 
NV_FALSE
;

208 ià(
¤c
->
æags
 & 
DRM_MODE_FLAG_PHSYNC
) {

209 
d¡
->
timšgs
.
æags
.
hSyncPos
 = 
NV_TRUE
;

211 
d¡
->
timšgs
.
æags
.
hSyncPos
 = 
NV_FALSE
;

214 ià(
¤c
->
æags
 & 
DRM_MODE_FLAG_NHSYNC
) {

215 
d¡
->
timšgs
.
æags
.
hSyncNeg
 = 
NV_TRUE
;

217 
d¡
->
timšgs
.
æags
.
hSyncNeg
 = 
NV_FALSE
;

220 ià(
¤c
->
æags
 & 
DRM_MODE_FLAG_PVSYNC
) {

221 
d¡
->
timšgs
.
æags
.
vSyncPos
 = 
NV_TRUE
;

223 
d¡
->
timšgs
.
æags
.
vSyncPos
 = 
NV_FALSE
;

226 ià(
¤c
->
æags
 & 
DRM_MODE_FLAG_NVSYNC
) {

227 
d¡
->
timšgs
.
æags
.
vSyncNeg
 = 
NV_TRUE
;

229 
d¡
->
timšgs
.
æags
.
vSyncNeg
 = 
NV_FALSE
;

232 
d¡
->
timšgs
.
widthMM
 = 
¤c
->
width_mm
;

233 
d¡
->
timšgs
.
heightMM
 = 
¤c
->
height_mm
;

235 
	`memýy
(
d¡
->
Çme
, 
¤c
->Çme, 
	`mš
((dst->name), (src->name)));

236 
	}
}

238 
boÞ
 
	$drm_¶ªe_ty³_to_nvkms_¶ªe_ty³
(
drm_¶ªe_ty³
 
¤c
,

239 
NvKmsK­iPÏÃTy³
 *
ty³
)

241 
¤c
) {

243  
çl£
;

244 
DRM_PLANE_TYPE_OVERLAY
:

245 *
ty³
 = 
NVKMS_KAPI_PLANE_OVERLAY
;

247 
DRM_PLANE_TYPE_PRIMARY
:

248 *
ty³
 = 
NVKMS_KAPI_PLANE_PRIMARY
;

250 
DRM_PLANE_TYPE_CURSOR
:

251 *
ty³
 = 
NVKMS_KAPI_PLANE_CURSOR
;

255  
Œue
;

256 
	}
}

	@src/nvidia-drm/nvidia-drm-utils.h

23 #iâdeà
__NVIDIA_DRM_UTILS_H__


24 
	#__NVIDIA_DRM_UTILS_H__


	)

26 
	~"nvidŸ-drm-cÚáe¡.h
"

28 #ià
defšed
(
NV_DRM_ATOMIC_MODESET_AVAILABLE
)

30 
	~<drm/drmP.h
>

31 
	~"nvkms-k­i.h
"

33 
NvKmsK­iCÚÃùÜInfo
*

34 
nvkms_g‘_cÚÃùÜ_šfo
(
NvKmsK­iDeviû
 *
pDeviû
,

35 
NvKmsK­iCÚÃùÜ
 
hCÚÃùÜ
);

37 
nvkms_cÚÃùÜ_sigÇl_to_drm_’cod”_sigÇl
(

38 
NvKmsCÚÃùÜSigÇlFÜm©
 
fÜm©
);

40 
nvkms_cÚÃùÜ_ty³_to_drm_cÚÃùÜ_ty³
(
NvKmsCÚÃùÜTy³
 
ty³
,

41 
NvBoÞ
 
š‹º®
);

43 
nvkms_di¥Ïy_mode_to_drm_mode
(

44 cÚ¡ 
NvKmsK­iDi¥ÏyMode
 *
di¥ÏyMode
,

45 
drm_di¥Ïy_mode
 *
mode
);

47 
boÞ
 
drm_fÜm©_to_nvkms_fÜm©
(
u32
 
fÜm©
,

48 
NvKmsSurçûMemÜyFÜm©
 *
nvkms_fÜm©
);

50 
drm_mode_to_nvkms_di¥Ïy_mode
(cÚ¡ 
drm_di¥Ïy_mode
 *
¤c
,

51 
NvKmsK­iDi¥ÏyMode
 *
d¡
);

53 
boÞ
 
drm_¶ªe_ty³_to_nvkms_¶ªe_ty³
(
drm_¶ªe_ty³
 
¤c
,

54 
NvKmsK­iPÏÃTy³
 *
ty³
);

	@src/nvidia-drm/nvidia-drm.c

23 
	~"nvidŸ-drm.h
"

25 #ià
defšed
(
NV_DRM_AVAILABLE
)

27 
	~"nvidŸ-drm-´iv.h
"

28 
	~"nvidŸ-drm-drv.h
"

30 
NvKmsK­iFunùiÚsTabË
 
	gnvKmsFuncsTabË
 = {

31 .
v”siÚSŒšg
 = 
NV_VERSION_STRING
,

34 cÚ¡ 
NvKmsK­iFunùiÚsTabË
* cÚ¡ 
	gnvKms
 = &
nvKmsFuncsTabË
;

38 
	$nv_drm_š™
()

40 #ià
	`defšed
(
NV_DRM_AVAILABLE
)

41 ià(!
	`nvKmsK­iG‘FunùiÚsTabË
(&
nvKmsFuncsTabË
)) {

42 
	`NV_DRM_LOG_ERR
(

44 
nvKmsFuncsTabË
.
v”siÚSŒšg
, 
NV_VERSION_STRING
);

45  -
EINVAL
;

49 #ifdeà
__lšux__


51  
	`nv_drm_´obe_deviûs
();

54 
	`NV_DRM_LOG_INFO
("nvKms:--------------");

55 
	`NV_DRM_LOG_INFO
("nvKms->’um”©eGpu ð%lx", ()
nvKms
->
’um”©eGpus
);

62 
nv_drm_mode£t_moduË_·¿m
 = 
Œue
;

63 
	`nv_drm_upd©e_drm_driv”_ã©u»s
();

71 
nv_drm_devþass
 = 
	`devþass_ü—‹
("nvidia-drm");

72 
nv_drm_pci_driv”
.
bsdþass
 = 
nv_drm_devþass
;

73 
»t
 = 
	`lšux_pci_»gi¡”_drm_driv”
(&
nv_drm_pci_driv”
);

74 
	`NV_DRM_LOG_INFO
("Regi¡”ed…c˜driv” w™h„‘: %d", 
»t
);

76  
»t
;

79 
	}
}

81 
	$nv_drm_ex™
()

83 #ià
	`defšed
(
NV_DRM_AVAILABLE
)

84 
	`NV_DRM_LOG_INFO
("nv_drm_remove_devices--");

85 
	`nv_drm_»move_deviûs
();

87 
	}
}

	@src/nvidia-drm/nvidia-drm.h

23 #iâdeà
__NVIDIA_DRM_H__


24 
	#__NVIDIA_DRM_H__


	)

26 
	~"nvidŸ-drm-cÚáe¡.h
"

33 #iâdeà
__lšux__


36 
	~<lšux/deviû.h
>

37 
	~<lšux/vm®loc.h
>

39 
	~"nv-pci-bË.h
"

41 
nv_drm_bsd_´obe
(
pci_dev
 *
dev
,

42 cÚ¡ 
pci_deviû_id
 *
’t
);

44 
pci_driv”
 
nv_drm_pci_driv”
;

46 
	~<ýufunc.h
>

49 *
nv_drm_ÿÎoc
(
size_t
, size_t);

50 
nv_drm_ä“
(*);

51 *
nv_drm_a¥rštf
(const *, ...);

52 
nv_drm_wr™e_combše_æush
();

53 
nv_drm_lock_u£r_·ges
(,

54 , 
·ge
 ***);

55 
nv_drm_uÆock_u£r_·ges
(, 
·ge
 **);

56 *
nv_drm_vm­
(
·ge
 **, );

57 
nv_drm_vunm­
(*);

58 
ušt64_t
 
nv_drm_g‘_time_u£c
();

59 
nv_drm_upd©e_drm_driv”_ã©u»s
();

62 
devþass_t
 
nv_drm_devþass
;

71 
	#VM_USERMAP
 0

	)

75 
nv_drm_š™
();

76 
nv_drm_ex™
();

	@src/nvidia-drm/opt_compat.h

	@src/nvidia-drm/opt_drm.h

	@src/nvidia-drm/opt_stack.h

	@src/nvidia-drm/opt_syscons.h

	@src/nvidia-drm/opt_usb.h

	@src/nvidia-drm/pci_if.h

14 #iâdeà
_pci_if_h_


15 
	#_pci_if_h_


	)

18 
	gnvli¡
;

20 
	epci_id_ty³
 {

21 
	mPCI_ID_RID
,

22 
	mPCI_ID_MSI
,

25 
	epci_ã©u»
 {

26 
	mPCI_FEATURE_HP
,

27 
	mPCI_FEATURE_AER
,

31 
kobjÝ_desc
 
pci_»ad_cÚfig_desc
;

33 
u_št32_t
 
	tpci_»ad_cÚfig_t
(
	tdeviû_t
 
	tdev
, deviû_ˆ
	tchžd
, 
	t»g
,

34 
	twidth
);

36 
__šlše
 
u_št32_t
 
	$PCI_READ_CONFIG
(
deviû_t
 
dev
, deviû_ˆ
chžd
, 
»g
,

37 
width
)

39 
kobjÝ_t
 
_m
;

40 
u_št32_t
 
rc
;

41 
	`KOBJOPLOOKUP
(((
kobj_t
)
dev
)->
Ýs
,
pci_»ad_cÚfig
);

42 
rc
 = ((
pci_»ad_cÚfig_t
 *è
_m
)(
dev
, 
chžd
, 
»g
, 
width
);

43  (
rc
);

44 
	}
}

47 
kobjÝ_desc
 
pci_wr™e_cÚfig_desc
;

49 
	tpci_wr™e_cÚfig_t
(
	tdeviû_t
 
	tdev
, deviû_ˆ
	tchžd
, 
	t»g
,

50 
	tu_št32_t
 
	tv®
, 
	twidth
);

52 
__šlše
 
	$PCI_WRITE_CONFIG
(
deviû_t
 
dev
, deviû_ˆ
chžd
, 
»g
,

53 
u_št32_t
 
v®
, 
width
)

55 
kobjÝ_t
 
_m
;

56 
	`KOBJOPLOOKUP
(((
kobj_t
)
dev
)->
Ýs
,
pci_wr™e_cÚfig
);

57 ((
pci_wr™e_cÚfig_t
 *è
_m
)(
dev
, 
chžd
, 
»g
, 
v®
, 
width
);

58 
	}
}

61 
kobjÝ_desc
 
pci_g‘_pow”¡©e_desc
;

63 
	tpci_g‘_pow”¡©e_t
(
	tdeviû_t
 
	tdev
, deviû_ˆ
	tchžd
);

65 
__šlše
 
	$PCI_GET_POWERSTATE
(
deviû_t
 
dev
, deviû_ˆ
chžd
)

67 
kobjÝ_t
 
_m
;

68 
rc
;

69 
	`KOBJOPLOOKUP
(((
kobj_t
)
dev
)->
Ýs
,
pci_g‘_pow”¡©e
);

70 
rc
 = ((
pci_g‘_pow”¡©e_t
 *è
_m
)(
dev
, 
chžd
);

71  (
rc
);

72 
	}
}

75 
kobjÝ_desc
 
pci_£t_pow”¡©e_desc
;

77 
	tpci_£t_pow”¡©e_t
(
	tdeviû_t
 
	tdev
, deviû_ˆ
	tchžd
, 
	t¡©e
);

79 
__šlše
 
	$PCI_SET_POWERSTATE
(
deviû_t
 
dev
, deviû_ˆ
chžd
, 
¡©e
)

81 
kobjÝ_t
 
_m
;

82 
rc
;

83 
	`KOBJOPLOOKUP
(((
kobj_t
)
dev
)->
Ýs
,
pci_£t_pow”¡©e
);

84 
rc
 = ((
pci_£t_pow”¡©e_t
 *è
_m
)(
dev
, 
chžd
, 
¡©e
);

85  (
rc
);

86 
	}
}

89 
kobjÝ_desc
 
pci_g‘_vpd_id’t_desc
;

91 
	tpci_g‘_vpd_id’t_t
(
	tdeviû_t
 
	tdev
, deviû_ˆ
	tchžd
,

92 cÚ¡ **
	tid’Œ
);

94 
__šlše
 
	$PCI_GET_VPD_IDENT
(
deviû_t
 
dev
, deviû_ˆ
chžd
,

95 cÚ¡ **
id’Œ
)

97 
kobjÝ_t
 
_m
;

98 
rc
;

99 
	`KOBJOPLOOKUP
(((
kobj_t
)
dev
)->
Ýs
,
pci_g‘_vpd_id’t
);

100 
rc
 = ((
pci_g‘_vpd_id’t_t
 *è
_m
)(
dev
, 
chžd
, 
id’Œ
);

101  (
rc
);

102 
	}
}

105 
kobjÝ_desc
 
pci_g‘_vpd_»adÚly_desc
;

107 
	tpci_g‘_vpd_»adÚly_t
(
	tdeviû_t
 
	tdev
, deviû_ˆ
	tchžd
, cÚ¡ *
	tkw
,

108 cÚ¡ **
	tv±r
);

110 
__šlše
 
	$PCI_GET_VPD_READONLY
(
deviû_t
 
dev
, deviû_ˆ
chžd
,

111 cÚ¡ *
kw
, cÚ¡ **
v±r
)

113 
kobjÝ_t
 
_m
;

114 
rc
;

115 
	`KOBJOPLOOKUP
(((
kobj_t
)
dev
)->
Ýs
,
pci_g‘_vpd_»adÚly
);

116 
rc
 = ((
pci_g‘_vpd_»adÚly_t
 *è
_m
)(
dev
, 
chžd
, 
kw
, 
v±r
);

117  (
rc
);

118 
	}
}

121 
kobjÝ_desc
 
pci_’abË_busma¡”_desc
;

123 
	tpci_’abË_busma¡”_t
(
	tdeviû_t
 
	tdev
, deviû_ˆ
	tchžd
);

125 
__šlše
 
	$PCI_ENABLE_BUSMASTER
(
deviû_t
 
dev
, deviû_ˆ
chžd
)

127 
kobjÝ_t
 
_m
;

128 
rc
;

129 
	`KOBJOPLOOKUP
(((
kobj_t
)
dev
)->
Ýs
,
pci_’abË_busma¡”
);

130 
rc
 = ((
pci_’abË_busma¡”_t
 *è
_m
)(
dev
, 
chžd
);

131  (
rc
);

132 
	}
}

135 
kobjÝ_desc
 
pci_di§bË_busma¡”_desc
;

137 
	tpci_di§bË_busma¡”_t
(
	tdeviû_t
 
	tdev
, deviû_ˆ
	tchžd
);

139 
__šlše
 
	$PCI_DISABLE_BUSMASTER
(
deviû_t
 
dev
, deviû_ˆ
chžd
)

141 
kobjÝ_t
 
_m
;

142 
rc
;

143 
	`KOBJOPLOOKUP
(((
kobj_t
)
dev
)->
Ýs
,
pci_di§bË_busma¡”
);

144 
rc
 = ((
pci_di§bË_busma¡”_t
 *è
_m
)(
dev
, 
chžd
);

145  (
rc
);

146 
	}
}

149 
kobjÝ_desc
 
pci_’abË_io_desc
;

151 
	tpci_’abË_io_t
(
	tdeviû_t
 
	tdev
, deviû_ˆ
	tchžd
, 
	t¥aû
);

153 
__šlše
 
	$PCI_ENABLE_IO
(
deviû_t
 
dev
, deviû_ˆ
chžd
, 
¥aû
)

155 
kobjÝ_t
 
_m
;

156 
rc
;

157 
	`KOBJOPLOOKUP
(((
kobj_t
)
dev
)->
Ýs
,
pci_’abË_io
);

158 
rc
 = ((
pci_’abË_io_t
 *è
_m
)(
dev
, 
chžd
, 
¥aû
);

159  (
rc
);

160 
	}
}

163 
kobjÝ_desc
 
pci_di§bË_io_desc
;

165 
	tpci_di§bË_io_t
(
	tdeviû_t
 
	tdev
, deviû_ˆ
	tchžd
, 
	t¥aû
);

167 
__šlše
 
	$PCI_DISABLE_IO
(
deviû_t
 
dev
, deviû_ˆ
chžd
, 
¥aû
)

169 
kobjÝ_t
 
_m
;

170 
rc
;

171 
	`KOBJOPLOOKUP
(((
kobj_t
)
dev
)->
Ýs
,
pci_di§bË_io
);

172 
rc
 = ((
pci_di§bË_io_t
 *è
_m
)(
dev
, 
chžd
, 
¥aû
);

173  (
rc
);

174 
	}
}

177 
kobjÝ_desc
 
pci_assign_š‹¼u±_desc
;

179 
	tpci_assign_š‹¼u±_t
(
	tdeviû_t
 
	tdev
, deviû_ˆ
	tchžd
);

181 
__šlše
 
	$PCI_ASSIGN_INTERRUPT
(
deviû_t
 
dev
, deviû_ˆ
chžd
)

183 
kobjÝ_t
 
_m
;

184 
rc
;

185 
	`KOBJOPLOOKUP
(((
kobj_t
)
dev
)->
Ýs
,
pci_assign_š‹¼u±
);

186 
rc
 = ((
pci_assign_š‹¼u±_t
 *è
_m
)(
dev
, 
chžd
);

187  (
rc
);

188 
	}
}

191 
kobjÝ_desc
 
pci_fšd_ÿp_desc
;

193 
	tpci_fšd_ÿp_t
(
	tdeviû_t
 
	tdev
, deviû_ˆ
	tchžd
, 
	tÿ·bž™y
,

194 *
	tÿ´eg
);

196 
__šlše
 
	$PCI_FIND_CAP
(
deviû_t
 
dev
, deviû_ˆ
chžd
, 
ÿ·bž™y
,

197 *
ÿ´eg
)

199 
kobjÝ_t
 
_m
;

200 
rc
;

201 
	`KOBJOPLOOKUP
(((
kobj_t
)
dev
)->
Ýs
,
pci_fšd_ÿp
);

202 
rc
 = ((
pci_fšd_ÿp_t
 *è
_m
)(
dev
, 
chžd
, 
ÿ·bž™y
, 
ÿ´eg
);

203  (
rc
);

204 
	}
}

207 
kobjÝ_desc
 
pci_fšd_Ãxt_ÿp_desc
;

209 
	tpci_fšd_Ãxt_ÿp_t
(
	tdeviû_t
 
	tdev
, deviû_ˆ
	tchžd
, 
	tÿ·bž™y
,

210 
	t¡¬t
, *
	tÿ´eg
);

212 
__šlše
 
	$PCI_FIND_NEXT_CAP
(
deviû_t
 
dev
, deviû_ˆ
chžd
,

213 
ÿ·bž™y
, 
¡¬t
, *
ÿ´eg
)

215 
kobjÝ_t
 
_m
;

216 
rc
;

217 
	`KOBJOPLOOKUP
(((
kobj_t
)
dev
)->
Ýs
,
pci_fšd_Ãxt_ÿp
);

218 
rc
 = ((
pci_fšd_Ãxt_ÿp_t
 *è
_m
)(
dev
, 
chžd
, 
ÿ·bž™y
, 
¡¬t
, 
ÿ´eg
);

219  (
rc
);

220 
	}
}

223 
kobjÝ_desc
 
pci_fšd_extÿp_desc
;

225 
	tpci_fšd_extÿp_t
(
	tdeviû_t
 
	tdev
, deviû_ˆ
	tchžd
, 
	tÿ·bž™y
,

226 *
	tÿ´eg
);

228 
__šlše
 
	$PCI_FIND_EXTCAP
(
deviû_t
 
dev
, deviû_ˆ
chžd
,

229 
ÿ·bž™y
, *
ÿ´eg
)

231 
kobjÝ_t
 
_m
;

232 
rc
;

233 
	`KOBJOPLOOKUP
(((
kobj_t
)
dev
)->
Ýs
,
pci_fšd_extÿp
);

234 
rc
 = ((
pci_fšd_extÿp_t
 *è
_m
)(
dev
, 
chžd
, 
ÿ·bž™y
, 
ÿ´eg
);

235  (
rc
);

236 
	}
}

239 
kobjÝ_desc
 
pci_fšd_Ãxt_extÿp_desc
;

241 
	tpci_fšd_Ãxt_extÿp_t
(
	tdeviû_t
 
	tdev
, deviû_ˆ
	tchžd
, 
	tÿ·bž™y
,

242 
	t¡¬t
, *
	tÿ´eg
);

244 
__šlše
 
	$PCI_FIND_NEXT_EXTCAP
(
deviû_t
 
dev
, deviû_ˆ
chžd
,

245 
ÿ·bž™y
, 
¡¬t
, *
ÿ´eg
)

247 
kobjÝ_t
 
_m
;

248 
rc
;

249 
	`KOBJOPLOOKUP
(((
kobj_t
)
dev
)->
Ýs
,
pci_fšd_Ãxt_extÿp
);

250 
rc
 = ((
pci_fšd_Ãxt_extÿp_t
 *è
_m
)(
dev
, 
chžd
, 
ÿ·bž™y
, 
¡¬t
, 
ÿ´eg
);

251  (
rc
);

252 
	}
}

255 
kobjÝ_desc
 
pci_fšd_htÿp_desc
;

257 
	tpci_fšd_htÿp_t
(
	tdeviû_t
 
	tdev
, deviû_ˆ
	tchžd
, 
	tÿ·bž™y
,

258 *
	tÿ´eg
);

260 
__šlše
 
	$PCI_FIND_HTCAP
(
deviû_t
 
dev
, deviû_ˆ
chžd
, 
ÿ·bž™y
,

261 *
ÿ´eg
)

263 
kobjÝ_t
 
_m
;

264 
rc
;

265 
	`KOBJOPLOOKUP
(((
kobj_t
)
dev
)->
Ýs
,
pci_fšd_htÿp
);

266 
rc
 = ((
pci_fšd_htÿp_t
 *è
_m
)(
dev
, 
chžd
, 
ÿ·bž™y
, 
ÿ´eg
);

267  (
rc
);

268 
	}
}

271 
kobjÝ_desc
 
pci_fšd_Ãxt_htÿp_desc
;

273 
	tpci_fšd_Ãxt_htÿp_t
(
	tdeviû_t
 
	tdev
, deviû_ˆ
	tchžd
, 
	tÿ·bž™y
,

274 
	t¡¬t
, *
	tÿ´eg
);

276 
__šlše
 
	$PCI_FIND_NEXT_HTCAP
(
deviû_t
 
dev
, deviû_ˆ
chžd
,

277 
ÿ·bž™y
, 
¡¬t
, *
ÿ´eg
)

279 
kobjÝ_t
 
_m
;

280 
rc
;

281 
	`KOBJOPLOOKUP
(((
kobj_t
)
dev
)->
Ýs
,
pci_fšd_Ãxt_htÿp
);

282 
rc
 = ((
pci_fšd_Ãxt_htÿp_t
 *è
_m
)(
dev
, 
chžd
, 
ÿ·bž™y
, 
¡¬t
, 
ÿ´eg
);

283  (
rc
);

284 
	}
}

287 
kobjÝ_desc
 
pci_®loc_msi_desc
;

289 
	tpci_®loc_msi_t
(
	tdeviû_t
 
	tdev
, deviû_ˆ
	tchžd
, *
	tcouÁ
);

291 
__šlše
 
	$PCI_ALLOC_MSI
(
deviû_t
 
dev
, deviû_ˆ
chžd
, *
couÁ
)

293 
kobjÝ_t
 
_m
;

294 
rc
;

295 
	`KOBJOPLOOKUP
(((
kobj_t
)
dev
)->
Ýs
,
pci_®loc_msi
);

296 
rc
 = ((
pci_®loc_msi_t
 *è
_m
)(
dev
, 
chžd
, 
couÁ
);

297  (
rc
);

298 
	}
}

301 
kobjÝ_desc
 
pci_®loc_msix_desc
;

303 
	tpci_®loc_msix_t
(
	tdeviû_t
 
	tdev
, deviû_ˆ
	tchžd
, *
	tcouÁ
);

305 
__šlše
 
	$PCI_ALLOC_MSIX
(
deviû_t
 
dev
, deviû_ˆ
chžd
, *
couÁ
)

307 
kobjÝ_t
 
_m
;

308 
rc
;

309 
	`KOBJOPLOOKUP
(((
kobj_t
)
dev
)->
Ýs
,
pci_®loc_msix
);

310 
rc
 = ((
pci_®loc_msix_t
 *è
_m
)(
dev
, 
chžd
, 
couÁ
);

311  (
rc
);

312 
	}
}

315 
kobjÝ_desc
 
pci_’abË_msi_desc
;

317 
	tpci_’abË_msi_t
(
	tdeviû_t
 
	tdev
, deviû_ˆ
	tchžd
, 
	tušt64_t
 
	tadd»ss
,

318 
	tušt16_t
 
	td©a
);

320 
__šlše
 
	$PCI_ENABLE_MSI
(
deviû_t
 
dev
, deviû_ˆ
chžd
,

321 
ušt64_t
 
add»ss
, 
ušt16_t
 
d©a
)

323 
kobjÝ_t
 
_m
;

324 
	`KOBJOPLOOKUP
(((
kobj_t
)
dev
)->
Ýs
,
pci_’abË_msi
);

325 ((
pci_’abË_msi_t
 *è
_m
)(
dev
, 
chžd
, 
add»ss
, 
d©a
);

326 
	}
}

329 
kobjÝ_desc
 
pci_’abË_msix_desc
;

331 
	tpci_’abË_msix_t
(
	tdeviû_t
 
	tdev
, deviû_ˆ
	tchžd
, 
	tu_št
 
	tšdex
,

332 
	tušt64_t
 
	tadd»ss
, 
	tušt32_t
 
	td©a
);

334 
__šlše
 
	$PCI_ENABLE_MSIX
(
deviû_t
 
dev
, deviû_ˆ
chžd
, 
u_št
 
šdex
,

335 
ušt64_t
 
add»ss
, 
ušt32_t
 
d©a
)

337 
kobjÝ_t
 
_m
;

338 
	`KOBJOPLOOKUP
(((
kobj_t
)
dev
)->
Ýs
,
pci_’abË_msix
);

339 ((
pci_’abË_msix_t
 *è
_m
)(
dev
, 
chžd
, 
šdex
, 
add»ss
, 
d©a
);

340 
	}
}

343 
kobjÝ_desc
 
pci_di§bË_msi_desc
;

345 
	tpci_di§bË_msi_t
(
	tdeviû_t
 
	tdev
, deviû_ˆ
	tchžd
);

347 
__šlše
 
	$PCI_DISABLE_MSI
(
deviû_t
 
dev
, deviû_ˆ
chžd
)

349 
kobjÝ_t
 
_m
;

350 
	`KOBJOPLOOKUP
(((
kobj_t
)
dev
)->
Ýs
,
pci_di§bË_msi
);

351 ((
pci_di§bË_msi_t
 *è
_m
)(
dev
, 
chžd
);

352 
	}
}

355 
kobjÝ_desc
 
pci_»m­_msix_desc
;

357 
	tpci_»m­_msix_t
(
	tdeviû_t
 
	tdev
, deviû_ˆ
	tchžd
, 
	tcouÁ
,

358 cÚ¡ 
	tu_št
 *
	tveùÜs
);

360 
__šlše
 
	$PCI_REMAP_MSIX
(
deviû_t
 
dev
, deviû_ˆ
chžd
, 
couÁ
,

361 cÚ¡ 
u_št
 *
veùÜs
)

363 
kobjÝ_t
 
_m
;

364 
rc
;

365 
	`KOBJOPLOOKUP
(((
kobj_t
)
dev
)->
Ýs
,
pci_»m­_msix
);

366 
rc
 = ((
pci_»m­_msix_t
 *è
_m
)(
dev
, 
chžd
, 
couÁ
, 
veùÜs
);

367  (
rc
);

368 
	}
}

371 
kobjÝ_desc
 
pci_»Ëa£_msi_desc
;

373 
	tpci_»Ëa£_msi_t
(
	tdeviû_t
 
	tdev
, deviû_ˆ
	tchžd
);

375 
__šlše
 
	$PCI_RELEASE_MSI
(
deviû_t
 
dev
, deviû_ˆ
chžd
)

377 
kobjÝ_t
 
_m
;

378 
rc
;

379 
	`KOBJOPLOOKUP
(((
kobj_t
)
dev
)->
Ýs
,
pci_»Ëa£_msi
);

380 
rc
 = ((
pci_»Ëa£_msi_t
 *è
_m
)(
dev
, 
chžd
);

381  (
rc
);

382 
	}
}

385 
kobjÝ_desc
 
pci_msi_couÁ_desc
;

387 
	tpci_msi_couÁ_t
(
	tdeviû_t
 
	tdev
, deviû_ˆ
	tchžd
);

389 
__šlše
 
	$PCI_MSI_COUNT
(
deviû_t
 
dev
, deviû_ˆ
chžd
)

391 
kobjÝ_t
 
_m
;

392 
rc
;

393 
	`KOBJOPLOOKUP
(((
kobj_t
)
dev
)->
Ýs
,
pci_msi_couÁ
);

394 
rc
 = ((
pci_msi_couÁ_t
 *è
_m
)(
dev
, 
chžd
);

395  (
rc
);

396 
	}
}

399 
kobjÝ_desc
 
pci_msix_couÁ_desc
;

401 
	tpci_msix_couÁ_t
(
	tdeviû_t
 
	tdev
, deviû_ˆ
	tchžd
);

403 
__šlše
 
	$PCI_MSIX_COUNT
(
deviû_t
 
dev
, deviû_ˆ
chžd
)

405 
kobjÝ_t
 
_m
;

406 
rc
;

407 
	`KOBJOPLOOKUP
(((
kobj_t
)
dev
)->
Ýs
,
pci_msix_couÁ
);

408 
rc
 = ((
pci_msix_couÁ_t
 *è
_m
)(
dev
, 
chžd
);

409  (
rc
);

410 
	}
}

413 
kobjÝ_desc
 
pci_msix_pba_b¬_desc
;

415 
	tpci_msix_pba_b¬_t
(
	tdeviû_t
 
	tdev
, deviû_ˆ
	tchžd
);

417 
__šlše
 
	$PCI_MSIX_PBA_BAR
(
deviû_t
 
dev
, deviû_ˆ
chžd
)

419 
kobjÝ_t
 
_m
;

420 
rc
;

421 
	`KOBJOPLOOKUP
(((
kobj_t
)
dev
)->
Ýs
,
pci_msix_pba_b¬
);

422 
rc
 = ((
pci_msix_pba_b¬_t
 *è
_m
)(
dev
, 
chžd
);

423  (
rc
);

424 
	}
}

427 
kobjÝ_desc
 
pci_msix_bË_b¬_desc
;

429 
	tpci_msix_bË_b¬_t
(
	tdeviû_t
 
	tdev
, deviû_ˆ
	tchžd
);

431 
__šlše
 
	$PCI_MSIX_TABLE_BAR
(
deviû_t
 
dev
, deviû_ˆ
chžd
)

433 
kobjÝ_t
 
_m
;

434 
rc
;

435 
	`KOBJOPLOOKUP
(((
kobj_t
)
dev
)->
Ýs
,
pci_msix_bË_b¬
);

436 
rc
 = ((
pci_msix_bË_b¬_t
 *è
_m
)(
dev
, 
chžd
);

437  (
rc
);

438 
	}
}

441 
kobjÝ_desc
 
pci_g‘_id_desc
;

443 
	tpci_g‘_id_t
(
	tdeviû_t
 
	tdev
, deviû_ˆ
	tchžd
, 
	tpci_id_ty³
 
	tty³
,

444 
	tušŒ_t
 *
	tid
);

446 
__šlše
 
	$PCI_GET_ID
(
deviû_t
 
dev
, deviû_ˆ
chžd
,

447 
pci_id_ty³
 
ty³
, 
ušŒ_t
 *
id
)

449 
kobjÝ_t
 
_m
;

450 
rc
;

451 
	`KOBJOPLOOKUP
(((
kobj_t
)
dev
)->
Ýs
,
pci_g‘_id
);

452 
rc
 = ((
pci_g‘_id_t
 *è
_m
)(
dev
, 
chžd
, 
ty³
, 
id
);

453  (
rc
);

454 
	}
}

457 
kobjÝ_desc
 
pci_®loc_devšfo_desc
;

459 
pci_devšfo
 * 
	tpci_®loc_devšfo_t
(
	tdeviû_t
 
	tdev
);

461 
__šlše
 
pci_devšfo
 * 
	$PCI_ALLOC_DEVINFO
(
deviû_t
 
dev
)

463 
kobjÝ_t
 
_m
;

464 
pci_devšfo
 * 
rc
;

465 
	`KOBJOPLOOKUP
(((
kobj_t
)
dev
)->
Ýs
,
pci_®loc_devšfo
);

466 
rc
 = ((
pci_®loc_devšfo_t
 *è
_m
)(
dev
);

467  (
rc
);

468 
	}
}

471 
kobjÝ_desc
 
pci_chžd_added_desc
;

473 
	tpci_chžd_added_t
(
	tdeviû_t
 
	tdev
, deviû_ˆ
	tchžd
);

475 
__šlše
 
	$PCI_CHILD_ADDED
(
deviû_t
 
dev
, deviû_ˆ
chžd
)

477 
kobjÝ_t
 
_m
;

478 
	`KOBJOPLOOKUP
(((
kobj_t
)
dev
)->
Ýs
,
pci_chžd_added
);

479 ((
pci_chžd_added_t
 *è
_m
)(
dev
, 
chžd
);

480 
	}
}

483 
kobjÝ_desc
 
pci_iov_©ch_desc
;

485 
	tpci_iov_©ch_t
(
	tdeviû_t
 
	tdev
, deviû_ˆ
	tchžd
,

486 
	tnvli¡
 *
	tpf_schema
, nvli¡ *
	tvf_schema
,

487 cÚ¡ *
	tÇme
);

489 
__šlše
 
	$PCI_IOV_ATTACH
(
deviû_t
 
dev
, deviû_ˆ
chžd
,

490 
nvli¡
 *
pf_schema
,

491 
nvli¡
 *
vf_schema
, cÚ¡ *
Çme
)

493 
kobjÝ_t
 
_m
;

494 
rc
;

495 
	`KOBJOPLOOKUP
(((
kobj_t
)
dev
)->
Ýs
,
pci_iov_©ch
);

496 
rc
 = ((
pci_iov_©ch_t
 *è
_m
)(
dev
, 
chžd
, 
pf_schema
, 
vf_schema
, 
Çme
);

497  (
rc
);

498 
	}
}

501 
kobjÝ_desc
 
pci_iov_d‘ach_desc
;

503 
	tpci_iov_d‘ach_t
(
	tdeviû_t
 
	tdev
, deviû_ˆ
	tchžd
);

505 
__šlše
 
	$PCI_IOV_DETACH
(
deviû_t
 
dev
, deviû_ˆ
chžd
)

507 
kobjÝ_t
 
_m
;

508 
rc
;

509 
	`KOBJOPLOOKUP
(((
kobj_t
)
dev
)->
Ýs
,
pci_iov_d‘ach
);

510 
rc
 = ((
pci_iov_d‘ach_t
 *è
_m
)(
dev
, 
chžd
);

511  (
rc
);

512 
	}
}

515 
kobjÝ_desc
 
pci_ü—‹_iov_chžd_desc
;

517 
deviû_t
 
	tpci_ü—‹_iov_chžd_t
(
	tdeviû_t
 
	tbus
, deviû_ˆ
	tpf
, 
	tušt16_t
 
	trid
,

518 
	tušt16_t
 
	tvid
, ušt16_ˆ
	tdid
);

520 
__šlše
 
deviû_t
 
	$PCI_CREATE_IOV_CHILD
(
deviû_t
 
bus
, deviû_ˆ
pf
,

521 
ušt16_t
 
rid
, ušt16_ˆ
vid
,

522 
ušt16_t
 
did
)

524 
kobjÝ_t
 
_m
;

525 
deviû_t
 
rc
;

526 
	`KOBJOPLOOKUP
(((
kobj_t
)
bus
)->
Ýs
,
pci_ü—‹_iov_chžd
);

527 
rc
 = ((
pci_ü—‹_iov_chžd_t
 *è
_m
)(
bus
, 
pf
, 
rid
, 
vid
, 
did
);

528  (
rc
);

529 
	}
}

	@src/nvidia-drm/usb_if.h

14 #iâdeà
_usb_if_h_


15 
	#_usb_if_h_


	)

18 
kobjÝ_desc
 
usb_hªdË_»que¡_desc
;

20 
	tusb_hªdË_»que¡_t
(
	tdeviû_t
 
	tdev
, cÚ¡ *
	t»q
,

21  **
	tµŒ
, 
	tušt16_t
 *
	t¶’
, ušt16_ˆ
	toff£t
, 
	tušt8_t
 *
	tp¡©e
);

23 
__šlše
 
	$USB_HANDLE_REQUEST
(
deviû_t
 
dev
, cÚ¡ *
»q
,

24  **
µŒ
, 
ušt16_t
 *
¶’
, ušt16_ˆ
off£t
, 
ušt8_t
 *
p¡©e
)

26 
kobjÝ_t
 
_m
;

27 
rc
;

28 
	`KOBJOPLOOKUP
(((
kobj_t
)
dev
)->
Ýs
,
usb_hªdË_»que¡
);

29 
rc
 = ((
usb_hªdË_»que¡_t
 *è
_m
)(
dev
, 
»q
, 
µŒ
, 
¶’
, 
off£t
, 
p¡©e
);

30  (
rc
);

31 
	}
}

34 
kobjÝ_desc
 
usb_ke_cÚŒÞËr_desc
;

36 
	tusb_ke_cÚŒÞËr_t
(
	tdeviû_t
 
	tdev
);

38 
__šlše
 
	$USB_TAKE_CONTROLLER
(
deviû_t
 
dev
)

40 
kobjÝ_t
 
_m
;

41 
rc
;

42 
	`KOBJOPLOOKUP
(((
kobj_t
)
dev
)->
Ýs
,
usb_ke_cÚŒÞËr
);

43 
rc
 = ((
usb_ke_cÚŒÞËr_t
 *è
_m
)(
dev
);

44  (
rc
);

45 
	}
}

	@src/nvidia-drm/vnode_if.h

8 
vnodeÝ_desc
 
vÝ_deçuÉ_desc
;

9 
	~"vnode_if_ty³def.h
"

10 
	~"vnode_if_Ãw´Ùo.h
"

11 
	svÝ_i¦ocked_¬gs
 {

12 
vÝ_g’”ic_¬gs
 
	ma_g’
;

13 
vnode
 *
	ma_vp
;

16 
vnodeÝ_desc
 
vÝ_i¦ocked_desc
;

18 
VOP_ISLOCKED_AP
(
vÝ_i¦ocked_¬gs
 *);

19 
VOP_ISLOCKED_APV
(
vÝ_veùÜ
 *
vÝ
, 
vÝ_i¦ocked_¬gs
 *);

21 
__šlše
 
	$VOP_ISLOCKED
(

22 
vnode
 *
vp
)

24 
vÝ_i¦ocked_¬gs
 
a
;

26 
a
.
a_g’
.
a_desc
 = &
vÝ_i¦ocked_desc
;

27 
a
.
a_vp
 = 
vp
;

28  (
	`VOP_ISLOCKED_APV
(
vp
->
v_Ý
, &
a
));

29 
	}
}

31 
	svÝ_lookup_¬gs
 {

32 
vÝ_g’”ic_¬gs
 
	ma_g’
;

33 
vnode
 *
	ma_dvp
;

34 
vnode
 **
	ma_vµ
;

35 
compÚ’Šame
 *
	ma_úp
;

38 
vnodeÝ_desc
 
vÝ_lookup_desc
;

40 
VOP_LOOKUP_AP
(
vÝ_lookup_¬gs
 *);

41 
VOP_LOOKUP_APV
(
vÝ_veùÜ
 *
vÝ
, 
vÝ_lookup_¬gs
 *);

43 
__šlše
 
	$VOP_LOOKUP
(

44 
vnode
 *
dvp
,

45 
vnode
 **
vµ
,

46 
compÚ’Šame
 *
úp
)

48 
vÝ_lookup_¬gs
 
a
;

50 
a
.
a_g’
.
a_desc
 = &
vÝ_lookup_desc
;

51 
a
.
a_dvp
 = 
dvp
;

52 
a
.
a_vµ
 = 
vµ
;

53 
a
.
a_úp
 = 
úp
;

54  (
	`VOP_LOOKUP_APV
(
dvp
->
v_Ý
, &
a
));

55 
	}
}

57 
	svÝ_ÿchedlookup_¬gs
 {

58 
vÝ_g’”ic_¬gs
 
	ma_g’
;

59 
vnode
 *
	ma_dvp
;

60 
vnode
 **
	ma_vµ
;

61 
compÚ’Šame
 *
	ma_úp
;

64 
vnodeÝ_desc
 
vÝ_ÿchedlookup_desc
;

66 
VOP_CACHEDLOOKUP_AP
(
vÝ_ÿchedlookup_¬gs
 *);

67 
VOP_CACHEDLOOKUP_APV
(
vÝ_veùÜ
 *
vÝ
, 
vÝ_ÿchedlookup_¬gs
 *);

69 
__šlše
 
	$VOP_CACHEDLOOKUP
(

70 
vnode
 *
dvp
,

71 
vnode
 **
vµ
,

72 
compÚ’Šame
 *
úp
)

74 
vÝ_ÿchedlookup_¬gs
 
a
;

76 
a
.
a_g’
.
a_desc
 = &
vÝ_ÿchedlookup_desc
;

77 
a
.
a_dvp
 = 
dvp
;

78 
a
.
a_vµ
 = 
vµ
;

79 
a
.
a_úp
 = 
úp
;

80  (
	`VOP_CACHEDLOOKUP_APV
(
dvp
->
v_Ý
, &
a
));

81 
	}
}

83 
	svÝ_ü—‹_¬gs
 {

84 
vÝ_g’”ic_¬gs
 
	ma_g’
;

85 
vnode
 *
	ma_dvp
;

86 
vnode
 **
	ma_vµ
;

87 
compÚ’Šame
 *
	ma_úp
;

88 
v©Œ
 *
	ma_v­
;

91 
vnodeÝ_desc
 
vÝ_ü—‹_desc
;

93 
VOP_CREATE_AP
(
vÝ_ü—‹_¬gs
 *);

94 
VOP_CREATE_APV
(
vÝ_veùÜ
 *
vÝ
, 
vÝ_ü—‹_¬gs
 *);

96 
__šlše
 
	$VOP_CREATE
(

97 
vnode
 *
dvp
,

98 
vnode
 **
vµ
,

99 
compÚ’Šame
 *
úp
,

100 
v©Œ
 *
v­
)

102 
vÝ_ü—‹_¬gs
 
a
;

104 
a
.
a_g’
.
a_desc
 = &
vÝ_ü—‹_desc
;

105 
a
.
a_dvp
 = 
dvp
;

106 
a
.
a_vµ
 = 
vµ
;

107 
a
.
a_úp
 = 
úp
;

108 
a
.
a_v­
 = 
v­
;

109  (
	`VOP_CREATE_APV
(
dvp
->
v_Ý
, &
a
));

110 
	}
}

112 
	svÝ_wh™eout_¬gs
 {

113 
vÝ_g’”ic_¬gs
 
	ma_g’
;

114 
vnode
 *
	ma_dvp
;

115 
compÚ’Šame
 *
	ma_úp
;

116 
	ma_æags
;

119 
vnodeÝ_desc
 
vÝ_wh™eout_desc
;

121 
VOP_WHITEOUT_AP
(
vÝ_wh™eout_¬gs
 *);

122 
VOP_WHITEOUT_APV
(
vÝ_veùÜ
 *
vÝ
, 
vÝ_wh™eout_¬gs
 *);

124 
__šlše
 
	$VOP_WHITEOUT
(

125 
vnode
 *
dvp
,

126 
compÚ’Šame
 *
úp
,

127 
æags
)

129 
vÝ_wh™eout_¬gs
 
a
;

131 
a
.
a_g’
.
a_desc
 = &
vÝ_wh™eout_desc
;

132 
a
.
a_dvp
 = 
dvp
;

133 
a
.
a_úp
 = 
úp
;

134 
a
.
a_æags
 = 
æags
;

135  (
	`VOP_WHITEOUT_APV
(
dvp
->
v_Ý
, &
a
));

136 
	}
}

138 
	svÝ_mknod_¬gs
 {

139 
vÝ_g’”ic_¬gs
 
	ma_g’
;

140 
vnode
 *
	ma_dvp
;

141 
vnode
 **
	ma_vµ
;

142 
compÚ’Šame
 *
	ma_úp
;

143 
v©Œ
 *
	ma_v­
;

146 
vnodeÝ_desc
 
vÝ_mknod_desc
;

148 
VOP_MKNOD_AP
(
vÝ_mknod_¬gs
 *);

149 
VOP_MKNOD_APV
(
vÝ_veùÜ
 *
vÝ
, 
vÝ_mknod_¬gs
 *);

151 
__šlše
 
	$VOP_MKNOD
(

152 
vnode
 *
dvp
,

153 
vnode
 **
vµ
,

154 
compÚ’Šame
 *
úp
,

155 
v©Œ
 *
v­
)

157 
vÝ_mknod_¬gs
 
a
;

159 
a
.
a_g’
.
a_desc
 = &
vÝ_mknod_desc
;

160 
a
.
a_dvp
 = 
dvp
;

161 
a
.
a_vµ
 = 
vµ
;

162 
a
.
a_úp
 = 
úp
;

163 
a
.
a_v­
 = 
v­
;

164  (
	`VOP_MKNOD_APV
(
dvp
->
v_Ý
, &
a
));

165 
	}
}

167 
	svÝ_Ý’_¬gs
 {

168 
vÝ_g’”ic_¬gs
 
	ma_g’
;

169 
vnode
 *
	ma_vp
;

170 
	ma_mode
;

171 
uüed
 *
	ma_üed
;

172 
th»ad
 *
	ma_td
;

173 
fže
 *
	ma_å
;

176 
vnodeÝ_desc
 
vÝ_Ý’_desc
;

178 
VOP_OPEN_AP
(
vÝ_Ý’_¬gs
 *);

179 
VOP_OPEN_APV
(
vÝ_veùÜ
 *
vÝ
, 
vÝ_Ý’_¬gs
 *);

181 
__šlše
 
	$VOP_OPEN
(

182 
vnode
 *
vp
,

183 
mode
,

184 
uüed
 *
üed
,

185 
th»ad
 *
td
,

186 
fže
 *
å
)

188 
vÝ_Ý’_¬gs
 
a
;

190 
a
.
a_g’
.
a_desc
 = &
vÝ_Ý’_desc
;

191 
a
.
a_vp
 = 
vp
;

192 
a
.
a_mode
 = 
mode
;

193 
a
.
a_üed
 = 
üed
;

194 
a
.
a_td
 = 
td
;

195 
a
.
a_å
 = 
å
;

196  (
	`VOP_OPEN_APV
(
vp
->
v_Ý
, &
a
));

197 
	}
}

199 
	svÝ_þo£_¬gs
 {

200 
vÝ_g’”ic_¬gs
 
	ma_g’
;

201 
vnode
 *
	ma_vp
;

202 
	ma_fæag
;

203 
uüed
 *
	ma_üed
;

204 
th»ad
 *
	ma_td
;

207 
vnodeÝ_desc
 
vÝ_þo£_desc
;

209 
VOP_CLOSE_AP
(
vÝ_þo£_¬gs
 *);

210 
VOP_CLOSE_APV
(
vÝ_veùÜ
 *
vÝ
, 
vÝ_þo£_¬gs
 *);

212 
__šlše
 
	$VOP_CLOSE
(

213 
vnode
 *
vp
,

214 
fæag
,

215 
uüed
 *
üed
,

216 
th»ad
 *
td
)

218 
vÝ_þo£_¬gs
 
a
;

220 
a
.
a_g’
.
a_desc
 = &
vÝ_þo£_desc
;

221 
a
.
a_vp
 = 
vp
;

222 
a
.
a_fæag
 = 
fæag
;

223 
a
.
a_üed
 = 
üed
;

224 
a
.
a_td
 = 
td
;

225  (
	`VOP_CLOSE_APV
(
vp
->
v_Ý
, &
a
));

226 
	}
}

228 
	svÝ_acûss_¬gs
 {

229 
vÝ_g’”ic_¬gs
 
	ma_g’
;

230 
vnode
 *
	ma_vp
;

231 
accmode_t
 
	ma_accmode
;

232 
uüed
 *
	ma_üed
;

233 
th»ad
 *
	ma_td
;

236 
vnodeÝ_desc
 
vÝ_acûss_desc
;

238 
VOP_ACCESS_AP
(
vÝ_acûss_¬gs
 *);

239 
VOP_ACCESS_APV
(
vÝ_veùÜ
 *
vÝ
, 
vÝ_acûss_¬gs
 *);

241 
__šlše
 
	$VOP_ACCESS
(

242 
vnode
 *
vp
,

243 
accmode_t
 
accmode
,

244 
uüed
 *
üed
,

245 
th»ad
 *
td
)

247 
vÝ_acûss_¬gs
 
a
;

249 
a
.
a_g’
.
a_desc
 = &
vÝ_acûss_desc
;

250 
a
.
a_vp
 = 
vp
;

251 
a
.
a_accmode
 = 
accmode
;

252 
a
.
a_üed
 = 
üed
;

253 
a
.
a_td
 = 
td
;

254  (
	`VOP_ACCESS_APV
(
vp
->
v_Ý
, &
a
));

255 
	}
}

257 
	svÝ_acûssx_¬gs
 {

258 
vÝ_g’”ic_¬gs
 
	ma_g’
;

259 
vnode
 *
	ma_vp
;

260 
accmode_t
 
	ma_accmode
;

261 
uüed
 *
	ma_üed
;

262 
th»ad
 *
	ma_td
;

265 
vnodeÝ_desc
 
vÝ_acûssx_desc
;

267 
VOP_ACCESSX_AP
(
vÝ_acûssx_¬gs
 *);

268 
VOP_ACCESSX_APV
(
vÝ_veùÜ
 *
vÝ
, 
vÝ_acûssx_¬gs
 *);

270 
__šlše
 
	$VOP_ACCESSX
(

271 
vnode
 *
vp
,

272 
accmode_t
 
accmode
,

273 
uüed
 *
üed
,

274 
th»ad
 *
td
)

276 
vÝ_acûssx_¬gs
 
a
;

278 
a
.
a_g’
.
a_desc
 = &
vÝ_acûssx_desc
;

279 
a
.
a_vp
 = 
vp
;

280 
a
.
a_accmode
 = 
accmode
;

281 
a
.
a_üed
 = 
üed
;

282 
a
.
a_td
 = 
td
;

283  (
	`VOP_ACCESSX_APV
(
vp
->
v_Ý
, &
a
));

284 
	}
}

286 
	svÝ_g‘©Œ_¬gs
 {

287 
vÝ_g’”ic_¬gs
 
	ma_g’
;

288 
vnode
 *
	ma_vp
;

289 
v©Œ
 *
	ma_v­
;

290 
uüed
 *
	ma_üed
;

293 
vnodeÝ_desc
 
vÝ_g‘©Œ_desc
;

295 
VOP_GETATTR_AP
(
vÝ_g‘©Œ_¬gs
 *);

296 
VOP_GETATTR_APV
(
vÝ_veùÜ
 *
vÝ
, 
vÝ_g‘©Œ_¬gs
 *);

298 
__šlše
 
	$VOP_GETATTR
(

299 
vnode
 *
vp
,

300 
v©Œ
 *
v­
,

301 
uüed
 *
üed
)

303 
vÝ_g‘©Œ_¬gs
 
a
;

305 
a
.
a_g’
.
a_desc
 = &
vÝ_g‘©Œ_desc
;

306 
a
.
a_vp
 = 
vp
;

307 
a
.
a_v­
 = 
v­
;

308 
a
.
a_üed
 = 
üed
;

309  (
	`VOP_GETATTR_APV
(
vp
->
v_Ý
, &
a
));

310 
	}
}

312 
	svÝ_£‰r_¬gs
 {

313 
vÝ_g’”ic_¬gs
 
	ma_g’
;

314 
vnode
 *
	ma_vp
;

315 
v©Œ
 *
	ma_v­
;

316 
uüed
 *
	ma_üed
;

319 
vnodeÝ_desc
 
vÝ_£‰r_desc
;

321 
VOP_SETATTR_AP
(
vÝ_£‰r_¬gs
 *);

322 
VOP_SETATTR_APV
(
vÝ_veùÜ
 *
vÝ
, 
vÝ_£‰r_¬gs
 *);

324 
__šlše
 
	$VOP_SETATTR
(

325 
vnode
 *
vp
,

326 
v©Œ
 *
v­
,

327 
uüed
 *
üed
)

329 
vÝ_£‰r_¬gs
 
a
;

331 
a
.
a_g’
.
a_desc
 = &
vÝ_£‰r_desc
;

332 
a
.
a_vp
 = 
vp
;

333 
a
.
a_v­
 = 
v­
;

334 
a
.
a_üed
 = 
üed
;

335  (
	`VOP_SETATTR_APV
(
vp
->
v_Ý
, &
a
));

336 
	}
}

338 
	svÝ_m¬k©ime_¬gs
 {

339 
vÝ_g’”ic_¬gs
 
	ma_g’
;

340 
vnode
 *
	ma_vp
;

343 
vnodeÝ_desc
 
vÝ_m¬k©ime_desc
;

345 
VOP_MARKATIME_AP
(
vÝ_m¬k©ime_¬gs
 *);

346 
VOP_MARKATIME_APV
(
vÝ_veùÜ
 *
vÝ
, 
vÝ_m¬k©ime_¬gs
 *);

348 
__šlše
 
	$VOP_MARKATIME
(

349 
vnode
 *
vp
)

351 
vÝ_m¬k©ime_¬gs
 
a
;

353 
a
.
a_g’
.
a_desc
 = &
vÝ_m¬k©ime_desc
;

354 
a
.
a_vp
 = 
vp
;

355  (
	`VOP_MARKATIME_APV
(
vp
->
v_Ý
, &
a
));

356 
	}
}

358 
	svÝ_»ad_¬gs
 {

359 
vÝ_g’”ic_¬gs
 
	ma_g’
;

360 
vnode
 *
	ma_vp
;

361 
uio
 *
	ma_uio
;

362 
	ma_ioæag
;

363 
uüed
 *
	ma_üed
;

366 
vnodeÝ_desc
 
vÝ_»ad_desc
;

368 
VOP_READ_AP
(
vÝ_»ad_¬gs
 *);

369 
VOP_READ_APV
(
vÝ_veùÜ
 *
vÝ
, 
vÝ_»ad_¬gs
 *);

371 
__šlše
 
	$VOP_READ
(

372 
vnode
 *
vp
,

373 
uio
 *uio,

374 
ioæag
,

375 
uüed
 *
üed
)

377 
vÝ_»ad_¬gs
 
a
;

379 
a
.
a_g’
.
a_desc
 = &
vÝ_»ad_desc
;

380 
a
.
a_vp
 = 
vp
;

381 
a
.
a_uio
 = 
uio
;

382 
a
.
a_ioæag
 = 
ioæag
;

383 
a
.
a_üed
 = 
üed
;

384  (
	`VOP_READ_APV
(
vp
->
v_Ý
, &
a
));

385 
	}
}

387 
	svÝ_wr™e_¬gs
 {

388 
vÝ_g’”ic_¬gs
 
	ma_g’
;

389 
vnode
 *
	ma_vp
;

390 
uio
 *
	ma_uio
;

391 
	ma_ioæag
;

392 
uüed
 *
	ma_üed
;

395 
vnodeÝ_desc
 
vÝ_wr™e_desc
;

397 
VOP_WRITE_AP
(
vÝ_wr™e_¬gs
 *);

398 
VOP_WRITE_APV
(
vÝ_veùÜ
 *
vÝ
, 
vÝ_wr™e_¬gs
 *);

400 
__šlše
 
	$VOP_WRITE
(

401 
vnode
 *
vp
,

402 
uio
 *uio,

403 
ioæag
,

404 
uüed
 *
üed
)

406 
vÝ_wr™e_¬gs
 
a
;

408 
a
.
a_g’
.
a_desc
 = &
vÝ_wr™e_desc
;

409 
a
.
a_vp
 = 
vp
;

410 
a
.
a_uio
 = 
uio
;

411 
a
.
a_ioæag
 = 
ioæag
;

412 
a
.
a_üed
 = 
üed
;

413  (
	`VOP_WRITE_APV
(
vp
->
v_Ý
, &
a
));

414 
	}
}

416 
	svÝ_ioùl_¬gs
 {

417 
vÝ_g’”ic_¬gs
 
	ma_g’
;

418 
vnode
 *
	ma_vp
;

419 
u_lÚg
 
	ma_commªd
;

420 *
	ma_d©a
;

421 
	ma_fæag
;

422 
uüed
 *
	ma_üed
;

423 
th»ad
 *
	ma_td
;

426 
vnodeÝ_desc
 
vÝ_ioùl_desc
;

428 
VOP_IOCTL_AP
(
vÝ_ioùl_¬gs
 *);

429 
VOP_IOCTL_APV
(
vÝ_veùÜ
 *
vÝ
, 
vÝ_ioùl_¬gs
 *);

431 
__šlše
 
	$VOP_IOCTL
(

432 
vnode
 *
vp
,

433 
u_lÚg
 
commªd
,

434 *
d©a
,

435 
fæag
,

436 
uüed
 *
üed
,

437 
th»ad
 *
td
)

439 
vÝ_ioùl_¬gs
 
a
;

441 
a
.
a_g’
.
a_desc
 = &
vÝ_ioùl_desc
;

442 
a
.
a_vp
 = 
vp
;

443 
a
.
a_commªd
 = 
commªd
;

444 
a
.
a_d©a
 = 
d©a
;

445 
a
.
a_fæag
 = 
fæag
;

446 
a
.
a_üed
 = 
üed
;

447 
a
.
a_td
 = 
td
;

448  (
	`VOP_IOCTL_APV
(
vp
->
v_Ý
, &
a
));

449 
	}
}

451 
	svÝ_pÞl_¬gs
 {

452 
vÝ_g’”ic_¬gs
 
	ma_g’
;

453 
vnode
 *
	ma_vp
;

454 
	ma_ev’ts
;

455 
uüed
 *
	ma_üed
;

456 
th»ad
 *
	ma_td
;

459 
vnodeÝ_desc
 
vÝ_pÞl_desc
;

461 
VOP_POLL_AP
(
vÝ_pÞl_¬gs
 *);

462 
VOP_POLL_APV
(
vÝ_veùÜ
 *
vÝ
, 
vÝ_pÞl_¬gs
 *);

464 
__šlše
 
	$VOP_POLL
(

465 
vnode
 *
vp
,

466 
ev’ts
,

467 
uüed
 *
üed
,

468 
th»ad
 *
td
)

470 
vÝ_pÞl_¬gs
 
a
;

472 
a
.
a_g’
.
a_desc
 = &
vÝ_pÞl_desc
;

473 
a
.
a_vp
 = 
vp
;

474 
a
.
a_ev’ts
 = 
ev’ts
;

475 
a
.
a_üed
 = 
üed
;

476 
a
.
a_td
 = 
td
;

477  (
	`VOP_POLL_APV
(
vp
->
v_Ý
, &
a
));

478 
	}
}

480 
	svÝ_kqfž‹r_¬gs
 {

481 
vÝ_g’”ic_¬gs
 
	ma_g’
;

482 
vnode
 *
	ma_vp
;

483 
knÙe
 *
	ma_kn
;

486 
vnodeÝ_desc
 
vÝ_kqfž‹r_desc
;

488 
VOP_KQFILTER_AP
(
vÝ_kqfž‹r_¬gs
 *);

489 
VOP_KQFILTER_APV
(
vÝ_veùÜ
 *
vÝ
, 
vÝ_kqfž‹r_¬gs
 *);

491 
__šlše
 
	$VOP_KQFILTER
(

492 
vnode
 *
vp
,

493 
knÙe
 *
kn
)

495 
vÝ_kqfž‹r_¬gs
 
a
;

497 
a
.
a_g’
.
a_desc
 = &
vÝ_kqfž‹r_desc
;

498 
a
.
a_vp
 = 
vp
;

499 
a
.
a_kn
 = 
kn
;

500  (
	`VOP_KQFILTER_APV
(
vp
->
v_Ý
, &
a
));

501 
	}
}

503 
	svÝ_»voke_¬gs
 {

504 
vÝ_g’”ic_¬gs
 
	ma_g’
;

505 
vnode
 *
	ma_vp
;

506 
	ma_æags
;

509 
vnodeÝ_desc
 
vÝ_»voke_desc
;

511 
VOP_REVOKE_AP
(
vÝ_»voke_¬gs
 *);

512 
VOP_REVOKE_APV
(
vÝ_veùÜ
 *
vÝ
, 
vÝ_»voke_¬gs
 *);

514 
__šlše
 
	$VOP_REVOKE
(

515 
vnode
 *
vp
,

516 
æags
)

518 
vÝ_»voke_¬gs
 
a
;

520 
a
.
a_g’
.
a_desc
 = &
vÝ_»voke_desc
;

521 
a
.
a_vp
 = 
vp
;

522 
a
.
a_æags
 = 
æags
;

523  (
	`VOP_REVOKE_APV
(
vp
->
v_Ý
, &
a
));

524 
	}
}

526 
	svÝ_fsync_¬gs
 {

527 
vÝ_g’”ic_¬gs
 
	ma_g’
;

528 
vnode
 *
	ma_vp
;

529 
	ma_wa™fÜ
;

530 
th»ad
 *
	ma_td
;

533 
vnodeÝ_desc
 
vÝ_fsync_desc
;

535 
VOP_FSYNC_AP
(
vÝ_fsync_¬gs
 *);

536 
VOP_FSYNC_APV
(
vÝ_veùÜ
 *
vÝ
, 
vÝ_fsync_¬gs
 *);

538 
__šlše
 
	$VOP_FSYNC
(

539 
vnode
 *
vp
,

540 
wa™fÜ
,

541 
th»ad
 *
td
)

543 
vÝ_fsync_¬gs
 
a
;

545 
a
.
a_g’
.
a_desc
 = &
vÝ_fsync_desc
;

546 
a
.
a_vp
 = 
vp
;

547 
a
.
a_wa™fÜ
 = 
wa™fÜ
;

548 
a
.
a_td
 = 
td
;

549  (
	`VOP_FSYNC_APV
(
vp
->
v_Ý
, &
a
));

550 
	}
}

552 
	svÝ_»move_¬gs
 {

553 
vÝ_g’”ic_¬gs
 
	ma_g’
;

554 
vnode
 *
	ma_dvp
;

555 
vnode
 *
	ma_vp
;

556 
compÚ’Šame
 *
	ma_úp
;

559 
vnodeÝ_desc
 
vÝ_»move_desc
;

561 
VOP_REMOVE_AP
(
vÝ_»move_¬gs
 *);

562 
VOP_REMOVE_APV
(
vÝ_veùÜ
 *
vÝ
, 
vÝ_»move_¬gs
 *);

564 
__šlše
 
	$VOP_REMOVE
(

565 
vnode
 *
dvp
,

566 
vnode
 *
vp
,

567 
compÚ’Šame
 *
úp
)

569 
vÝ_»move_¬gs
 
a
;

571 
a
.
a_g’
.
a_desc
 = &
vÝ_»move_desc
;

572 
a
.
a_dvp
 = 
dvp
;

573 
a
.
a_vp
 = 
vp
;

574 
a
.
a_úp
 = 
úp
;

575  (
	`VOP_REMOVE_APV
(
dvp
->
v_Ý
, &
a
));

576 
	}
}

578 
	svÝ_lšk_¬gs
 {

579 
vÝ_g’”ic_¬gs
 
	ma_g’
;

580 
vnode
 *
	ma_tdvp
;

581 
vnode
 *
	ma_vp
;

582 
compÚ’Šame
 *
	ma_úp
;

585 
vnodeÝ_desc
 
vÝ_lšk_desc
;

587 
VOP_LINK_AP
(
vÝ_lšk_¬gs
 *);

588 
VOP_LINK_APV
(
vÝ_veùÜ
 *
vÝ
, 
vÝ_lšk_¬gs
 *);

590 
__šlše
 
	$VOP_LINK
(

591 
vnode
 *
tdvp
,

592 
vnode
 *
vp
,

593 
compÚ’Šame
 *
úp
)

595 
vÝ_lšk_¬gs
 
a
;

597 
a
.
a_g’
.
a_desc
 = &
vÝ_lšk_desc
;

598 
a
.
a_tdvp
 = 
tdvp
;

599 
a
.
a_vp
 = 
vp
;

600 
a
.
a_úp
 = 
úp
;

601  (
	`VOP_LINK_APV
(
tdvp
->
v_Ý
, &
a
));

602 
	}
}

604 
	svÝ_»Çme_¬gs
 {

605 
vÝ_g’”ic_¬gs
 
	ma_g’
;

606 
vnode
 *
	ma_fdvp
;

607 
vnode
 *
	ma_fvp
;

608 
compÚ’Šame
 *
	ma_fúp
;

609 
vnode
 *
	ma_tdvp
;

610 
vnode
 *
	ma_tvp
;

611 
compÚ’Šame
 *
	ma_túp
;

614 
vnodeÝ_desc
 
vÝ_»Çme_desc
;

616 
VOP_RENAME_AP
(
vÝ_»Çme_¬gs
 *);

617 
VOP_RENAME_APV
(
vÝ_veùÜ
 *
vÝ
, 
vÝ_»Çme_¬gs
 *);

619 
__šlše
 
	$VOP_RENAME
(

620 
vnode
 *
fdvp
,

621 
vnode
 *
fvp
,

622 
compÚ’Šame
 *
fúp
,

623 
vnode
 *
tdvp
,

624 
vnode
 *
tvp
,

625 
compÚ’Šame
 *
túp
)

627 
vÝ_»Çme_¬gs
 
a
;

629 
a
.
a_g’
.
a_desc
 = &
vÝ_»Çme_desc
;

630 
a
.
a_fdvp
 = 
fdvp
;

631 
a
.
a_fvp
 = 
fvp
;

632 
a
.
a_fúp
 = 
fúp
;

633 
a
.
a_tdvp
 = 
tdvp
;

634 
a
.
a_tvp
 = 
tvp
;

635 
a
.
a_túp
 = 
túp
;

636  (
	`VOP_RENAME_APV
(
fdvp
->
v_Ý
, &
a
));

637 
	}
}

639 
	svÝ_mkdœ_¬gs
 {

640 
vÝ_g’”ic_¬gs
 
	ma_g’
;

641 
vnode
 *
	ma_dvp
;

642 
vnode
 **
	ma_vµ
;

643 
compÚ’Šame
 *
	ma_úp
;

644 
v©Œ
 *
	ma_v­
;

647 
vnodeÝ_desc
 
vÝ_mkdœ_desc
;

649 
VOP_MKDIR_AP
(
vÝ_mkdœ_¬gs
 *);

650 
VOP_MKDIR_APV
(
vÝ_veùÜ
 *
vÝ
, 
vÝ_mkdœ_¬gs
 *);

652 
__šlše
 
	$VOP_MKDIR
(

653 
vnode
 *
dvp
,

654 
vnode
 **
vµ
,

655 
compÚ’Šame
 *
úp
,

656 
v©Œ
 *
v­
)

658 
vÝ_mkdœ_¬gs
 
a
;

660 
a
.
a_g’
.
a_desc
 = &
vÝ_mkdœ_desc
;

661 
a
.
a_dvp
 = 
dvp
;

662 
a
.
a_vµ
 = 
vµ
;

663 
a
.
a_úp
 = 
úp
;

664 
a
.
a_v­
 = 
v­
;

665  (
	`VOP_MKDIR_APV
(
dvp
->
v_Ý
, &
a
));

666 
	}
}

668 
	svÝ_rmdœ_¬gs
 {

669 
vÝ_g’”ic_¬gs
 
	ma_g’
;

670 
vnode
 *
	ma_dvp
;

671 
vnode
 *
	ma_vp
;

672 
compÚ’Šame
 *
	ma_úp
;

675 
vnodeÝ_desc
 
vÝ_rmdœ_desc
;

677 
VOP_RMDIR_AP
(
vÝ_rmdœ_¬gs
 *);

678 
VOP_RMDIR_APV
(
vÝ_veùÜ
 *
vÝ
, 
vÝ_rmdœ_¬gs
 *);

680 
__šlše
 
	$VOP_RMDIR
(

681 
vnode
 *
dvp
,

682 
vnode
 *
vp
,

683 
compÚ’Šame
 *
úp
)

685 
vÝ_rmdœ_¬gs
 
a
;

687 
a
.
a_g’
.
a_desc
 = &
vÝ_rmdœ_desc
;

688 
a
.
a_dvp
 = 
dvp
;

689 
a
.
a_vp
 = 
vp
;

690 
a
.
a_úp
 = 
úp
;

691  (
	`VOP_RMDIR_APV
(
dvp
->
v_Ý
, &
a
));

692 
	}
}

694 
	svÝ_symlšk_¬gs
 {

695 
vÝ_g’”ic_¬gs
 
	ma_g’
;

696 
vnode
 *
	ma_dvp
;

697 
vnode
 **
	ma_vµ
;

698 
compÚ’Šame
 *
	ma_úp
;

699 
v©Œ
 *
	ma_v­
;

700 *
	ma_rg‘
;

703 
vnodeÝ_desc
 
vÝ_symlšk_desc
;

705 
VOP_SYMLINK_AP
(
vÝ_symlšk_¬gs
 *);

706 
VOP_SYMLINK_APV
(
vÝ_veùÜ
 *
vÝ
, 
vÝ_symlšk_¬gs
 *);

708 
__šlše
 
	$VOP_SYMLINK
(

709 
vnode
 *
dvp
,

710 
vnode
 **
vµ
,

711 
compÚ’Šame
 *
úp
,

712 
v©Œ
 *
v­
,

713 *
rg‘
)

715 
vÝ_symlšk_¬gs
 
a
;

717 
a
.
a_g’
.
a_desc
 = &
vÝ_symlšk_desc
;

718 
a
.
a_dvp
 = 
dvp
;

719 
a
.
a_vµ
 = 
vµ
;

720 
a
.
a_úp
 = 
úp
;

721 
a
.
a_v­
 = 
v­
;

722 
a
.
a_rg‘
 = 
rg‘
;

723  (
	`VOP_SYMLINK_APV
(
dvp
->
v_Ý
, &
a
));

724 
	}
}

726 
	svÝ_»addœ_¬gs
 {

727 
vÝ_g’”ic_¬gs
 
	ma_g’
;

728 
vnode
 *
	ma_vp
;

729 
uio
 *
	ma_uio
;

730 
uüed
 *
	ma_üed
;

731 *
	ma_eofæag
;

732 *
	ma_ncook›s
;

733 
u_lÚg
 **
	ma_cook›s
;

736 
vnodeÝ_desc
 
vÝ_»addœ_desc
;

738 
VOP_READDIR_AP
(
vÝ_»addœ_¬gs
 *);

739 
VOP_READDIR_APV
(
vÝ_veùÜ
 *
vÝ
, 
vÝ_»addœ_¬gs
 *);

741 
__šlše
 
	$VOP_READDIR
(

742 
vnode
 *
vp
,

743 
uio
 *uio,

744 
uüed
 *
üed
,

745 *
eofæag
,

746 *
ncook›s
,

747 
u_lÚg
 **
cook›s
)

749 
vÝ_»addœ_¬gs
 
a
;

751 
a
.
a_g’
.
a_desc
 = &
vÝ_»addœ_desc
;

752 
a
.
a_vp
 = 
vp
;

753 
a
.
a_uio
 = 
uio
;

754 
a
.
a_üed
 = 
üed
;

755 
a
.
a_eofæag
 = 
eofæag
;

756 
a
.
a_ncook›s
 = 
ncook›s
;

757 
a
.
a_cook›s
 = 
cook›s
;

758  (
	`VOP_READDIR_APV
(
vp
->
v_Ý
, &
a
));

759 
	}
}

761 
	svÝ_»adlšk_¬gs
 {

762 
vÝ_g’”ic_¬gs
 
	ma_g’
;

763 
vnode
 *
	ma_vp
;

764 
uio
 *
	ma_uio
;

765 
uüed
 *
	ma_üed
;

768 
vnodeÝ_desc
 
vÝ_»adlšk_desc
;

770 
VOP_READLINK_AP
(
vÝ_»adlšk_¬gs
 *);

771 
VOP_READLINK_APV
(
vÝ_veùÜ
 *
vÝ
, 
vÝ_»adlšk_¬gs
 *);

773 
__šlše
 
	$VOP_READLINK
(

774 
vnode
 *
vp
,

775 
uio
 *uio,

776 
uüed
 *
üed
)

778 
vÝ_»adlšk_¬gs
 
a
;

780 
a
.
a_g’
.
a_desc
 = &
vÝ_»adlšk_desc
;

781 
a
.
a_vp
 = 
vp
;

782 
a
.
a_uio
 = 
uio
;

783 
a
.
a_üed
 = 
üed
;

784  (
	`VOP_READLINK_APV
(
vp
->
v_Ý
, &
a
));

785 
	}
}

787 
	svÝ_šaùive_¬gs
 {

788 
vÝ_g’”ic_¬gs
 
	ma_g’
;

789 
vnode
 *
	ma_vp
;

790 
th»ad
 *
	ma_td
;

793 
vnodeÝ_desc
 
vÝ_šaùive_desc
;

795 
VOP_INACTIVE_AP
(
vÝ_šaùive_¬gs
 *);

796 
VOP_INACTIVE_APV
(
vÝ_veùÜ
 *
vÝ
, 
vÝ_šaùive_¬gs
 *);

798 
__šlše
 
	$VOP_INACTIVE
(

799 
vnode
 *
vp
,

800 
th»ad
 *
td
)

802 
vÝ_šaùive_¬gs
 
a
;

804 
a
.
a_g’
.
a_desc
 = &
vÝ_šaùive_desc
;

805 
a
.
a_vp
 = 
vp
;

806 
a
.
a_td
 = 
td
;

807  (
	`VOP_INACTIVE_APV
(
vp
->
v_Ý
, &
a
));

808 
	}
}

810 
	svÝ_»þaim_¬gs
 {

811 
vÝ_g’”ic_¬gs
 
	ma_g’
;

812 
vnode
 *
	ma_vp
;

813 
th»ad
 *
	ma_td
;

816 
vnodeÝ_desc
 
vÝ_»þaim_desc
;

818 
VOP_RECLAIM_AP
(
vÝ_»þaim_¬gs
 *);

819 
VOP_RECLAIM_APV
(
vÝ_veùÜ
 *
vÝ
, 
vÝ_»þaim_¬gs
 *);

821 
__šlše
 
	$VOP_RECLAIM
(

822 
vnode
 *
vp
,

823 
th»ad
 *
td
)

825 
vÝ_»þaim_¬gs
 
a
;

827 
a
.
a_g’
.
a_desc
 = &
vÝ_»þaim_desc
;

828 
a
.
a_vp
 = 
vp
;

829 
a
.
a_td
 = 
td
;

830  (
	`VOP_RECLAIM_APV
(
vp
->
v_Ý
, &
a
));

831 
	}
}

833 
	svÝ_lock1_¬gs
 {

834 
vÝ_g’”ic_¬gs
 
	ma_g’
;

835 
vnode
 *
	ma_vp
;

836 
	ma_æags
;

837 *
	ma_fže
;

838 
	ma_lše
;

841 
vnodeÝ_desc
 
vÝ_lock1_desc
;

843 
VOP_LOCK1_AP
(
vÝ_lock1_¬gs
 *);

844 
VOP_LOCK1_APV
(
vÝ_veùÜ
 *
vÝ
, 
vÝ_lock1_¬gs
 *);

846 
__šlše
 
	$VOP_LOCK1
(

847 
vnode
 *
vp
,

848 
æags
,

849 *
fže
,

850 
lše
)

852 
vÝ_lock1_¬gs
 
a
;

854 
a
.
a_g’
.
a_desc
 = &
vÝ_lock1_desc
;

855 
a
.
a_vp
 = 
vp
;

856 
a
.
a_æags
 = 
æags
;

857 
a
.
a_fže
 = 
fže
;

858 
a
.
a_lše
 = 
lše
;

859  (
	`VOP_LOCK1_APV
(
vp
->
v_Ý
, &
a
));

860 
	}
}

862 
	svÝ_uÆock_¬gs
 {

863 
vÝ_g’”ic_¬gs
 
	ma_g’
;

864 
vnode
 *
	ma_vp
;

865 
	ma_æags
;

868 
vnodeÝ_desc
 
vÝ_uÆock_desc
;

870 
VOP_UNLOCK_AP
(
vÝ_uÆock_¬gs
 *);

871 
VOP_UNLOCK_APV
(
vÝ_veùÜ
 *
vÝ
, 
vÝ_uÆock_¬gs
 *);

873 
__šlše
 
	$VOP_UNLOCK
(

874 
vnode
 *
vp
,

875 
æags
)

877 
vÝ_uÆock_¬gs
 
a
;

879 
a
.
a_g’
.
a_desc
 = &
vÝ_uÆock_desc
;

880 
a
.
a_vp
 = 
vp
;

881 
a
.
a_æags
 = 
æags
;

882  (
	`VOP_UNLOCK_APV
(
vp
->
v_Ý
, &
a
));

883 
	}
}

885 
	svÝ_bm­_¬gs
 {

886 
vÝ_g’”ic_¬gs
 
	ma_g’
;

887 
vnode
 *
	ma_vp
;

888 
daddr_t
 
	ma_bn
;

889 
bufobj
 **
	ma_bÝ
;

890 
daddr_t
 *
	ma_bÅ
;

891 *
	ma_ruÅ
;

892 *
	ma_runb
;

895 
vnodeÝ_desc
 
vÝ_bm­_desc
;

897 
VOP_BMAP_AP
(
vÝ_bm­_¬gs
 *);

898 
VOP_BMAP_APV
(
vÝ_veùÜ
 *
vÝ
, 
vÝ_bm­_¬gs
 *);

900 
__šlše
 
	$VOP_BMAP
(

901 
vnode
 *
vp
,

902 
daddr_t
 
bn
,

903 
bufobj
 **
bÝ
,

904 
daddr_t
 *
bÅ
,

905 *
ruÅ
,

906 *
runb
)

908 
vÝ_bm­_¬gs
 
a
;

910 
a
.
a_g’
.
a_desc
 = &
vÝ_bm­_desc
;

911 
a
.
a_vp
 = 
vp
;

912 
a
.
a_bn
 = 
bn
;

913 
a
.
a_bÝ
 = 
bÝ
;

914 
a
.
a_bÅ
 = 
bÅ
;

915 
a
.
a_ruÅ
 = 
ruÅ
;

916 
a
.
a_runb
 = 
runb
;

917  (
	`VOP_BMAP_APV
(
vp
->
v_Ý
, &
a
));

918 
	}
}

920 
	svÝ_¡¿‹gy_¬gs
 {

921 
vÝ_g’”ic_¬gs
 
	ma_g’
;

922 
vnode
 *
	ma_vp
;

923 
buf
 *
	ma_bp
;

926 
vnodeÝ_desc
 
vÝ_¡¿‹gy_desc
;

928 
VOP_STRATEGY_AP
(
vÝ_¡¿‹gy_¬gs
 *);

929 
VOP_STRATEGY_APV
(
vÝ_veùÜ
 *
vÝ
, 
vÝ_¡¿‹gy_¬gs
 *);

931 
__šlše
 
	$VOP_STRATEGY
(

932 
vnode
 *
vp
,

933 
buf
 *
bp
)

935 
vÝ_¡¿‹gy_¬gs
 
a
;

937 
a
.
a_g’
.
a_desc
 = &
vÝ_¡¿‹gy_desc
;

938 
a
.
a_vp
 = 
vp
;

939 
a
.
a_bp
 = 
bp
;

940  (
	`VOP_STRATEGY_APV
(
vp
->
v_Ý
, &
a
));

941 
	}
}

943 
	svÝ_g‘wr™emouÁ_¬gs
 {

944 
vÝ_g’”ic_¬gs
 
	ma_g’
;

945 
vnode
 *
	ma_vp
;

946 
mouÁ
 **
	ma_mµ
;

949 
vnodeÝ_desc
 
vÝ_g‘wr™emouÁ_desc
;

951 
VOP_GETWRITEMOUNT_AP
(
vÝ_g‘wr™emouÁ_¬gs
 *);

952 
VOP_GETWRITEMOUNT_APV
(
vÝ_veùÜ
 *
vÝ
, 
vÝ_g‘wr™emouÁ_¬gs
 *);

954 
__šlše
 
	$VOP_GETWRITEMOUNT
(

955 
vnode
 *
vp
,

956 
mouÁ
 **
mµ
)

958 
vÝ_g‘wr™emouÁ_¬gs
 
a
;

960 
a
.
a_g’
.
a_desc
 = &
vÝ_g‘wr™emouÁ_desc
;

961 
a
.
a_vp
 = 
vp
;

962 
a
.
a_mµ
 = 
mµ
;

963  (
	`VOP_GETWRITEMOUNT_APV
(
vp
->
v_Ý
, &
a
));

964 
	}
}

966 
	svÝ_´št_¬gs
 {

967 
vÝ_g’”ic_¬gs
 
	ma_g’
;

968 
vnode
 *
	ma_vp
;

971 
vnodeÝ_desc
 
vÝ_´št_desc
;

973 
VOP_PRINT_AP
(
vÝ_´št_¬gs
 *);

974 
VOP_PRINT_APV
(
vÝ_veùÜ
 *
vÝ
, 
vÝ_´št_¬gs
 *);

976 
__šlše
 
	$VOP_PRINT
(

977 
vnode
 *
vp
)

979 
vÝ_´št_¬gs
 
a
;

981 
a
.
a_g’
.
a_desc
 = &
vÝ_´št_desc
;

982 
a
.
a_vp
 = 
vp
;

983  (
	`VOP_PRINT_APV
(
vp
->
v_Ý
, &
a
));

984 
	}
}

986 
	svÝ_·thcÚf_¬gs
 {

987 
vÝ_g’”ic_¬gs
 
	ma_g’
;

988 
vnode
 *
	ma_vp
;

989 
	ma_Çme
;

990 *
	ma_»tv®
;

993 
vnodeÝ_desc
 
vÝ_·thcÚf_desc
;

995 
VOP_PATHCONF_AP
(
vÝ_·thcÚf_¬gs
 *);

996 
VOP_PATHCONF_APV
(
vÝ_veùÜ
 *
vÝ
, 
vÝ_·thcÚf_¬gs
 *);

998 
__šlše
 
	$VOP_PATHCONF
(

999 
vnode
 *
vp
,

1000 
Çme
,

1001 *
»tv®
)

1003 
vÝ_·thcÚf_¬gs
 
a
;

1005 
a
.
a_g’
.
a_desc
 = &
vÝ_·thcÚf_desc
;

1006 
a
.
a_vp
 = 
vp
;

1007 
a
.
a_Çme
 = 
Çme
;

1008 
a
.
a_»tv®
 = 
»tv®
;

1009  (
	`VOP_PATHCONF_APV
(
vp
->
v_Ý
, &
a
));

1010 
	}
}

1012 
	svÝ_advlock_¬gs
 {

1013 
vÝ_g’”ic_¬gs
 
	ma_g’
;

1014 
vnode
 *
	ma_vp
;

1015 *
	ma_id
;

1016 
	ma_Ý
;

1017 
æock
 *
	ma_æ
;

1018 
	ma_æags
;

1021 
vnodeÝ_desc
 
vÝ_advlock_desc
;

1023 
VOP_ADVLOCK_AP
(
vÝ_advlock_¬gs
 *);

1024 
VOP_ADVLOCK_APV
(
vÝ_veùÜ
 *
vÝ
, 
vÝ_advlock_¬gs
 *);

1026 
__šlše
 
	$VOP_ADVLOCK
(

1027 
vnode
 *
vp
,

1028 *
id
,

1029 
Ý
,

1030 
æock
 *
æ
,

1031 
æags
)

1033 
vÝ_advlock_¬gs
 
a
;

1035 
a
.
a_g’
.
a_desc
 = &
vÝ_advlock_desc
;

1036 
a
.
a_vp
 = 
vp
;

1037 
a
.
a_id
 = 
id
;

1038 
a
.
a_Ý
 = 
Ý
;

1039 
a
.
a_æ
 = 
æ
;

1040 
a
.
a_æags
 = 
æags
;

1041  (
	`VOP_ADVLOCK_APV
(
vp
->
v_Ý
, &
a
));

1042 
	}
}

1044 
	svÝ_advlockasync_¬gs
 {

1045 
vÝ_g’”ic_¬gs
 
	ma_g’
;

1046 
vnode
 *
	ma_vp
;

1047 *
	ma_id
;

1048 
	ma_Ý
;

1049 
æock
 *
	ma_æ
;

1050 
	ma_æags
;

1051 
sk
 *
	ma_sk
;

1052 **
	ma_cook›p
;

1055 
vnodeÝ_desc
 
vÝ_advlockasync_desc
;

1057 
VOP_ADVLOCKASYNC_AP
(
vÝ_advlockasync_¬gs
 *);

1058 
VOP_ADVLOCKASYNC_APV
(
vÝ_veùÜ
 *
vÝ
, 
vÝ_advlockasync_¬gs
 *);

1060 
__šlše
 
	$VOP_ADVLOCKASYNC
(

1061 
vnode
 *
vp
,

1062 *
id
,

1063 
Ý
,

1064 
æock
 *
æ
,

1065 
æags
,

1066 
sk
 *task,

1067 **
cook›p
)

1069 
vÝ_advlockasync_¬gs
 
a
;

1071 
a
.
a_g’
.
a_desc
 = &
vÝ_advlockasync_desc
;

1072 
a
.
a_vp
 = 
vp
;

1073 
a
.
a_id
 = 
id
;

1074 
a
.
a_Ý
 = 
Ý
;

1075 
a
.
a_æ
 = 
æ
;

1076 
a
.
a_æags
 = 
æags
;

1077 
a
.
a_sk
 = 
sk
;

1078 
a
.
a_cook›p
 = 
cook›p
;

1079  (
	`VOP_ADVLOCKASYNC_APV
(
vp
->
v_Ý
, &
a
));

1080 
	}
}

1082 
	svÝ_advlockpurge_¬gs
 {

1083 
vÝ_g’”ic_¬gs
 
	ma_g’
;

1084 
vnode
 *
	ma_vp
;

1087 
vnodeÝ_desc
 
vÝ_advlockpurge_desc
;

1089 
VOP_ADVLOCKPURGE_AP
(
vÝ_advlockpurge_¬gs
 *);

1090 
VOP_ADVLOCKPURGE_APV
(
vÝ_veùÜ
 *
vÝ
, 
vÝ_advlockpurge_¬gs
 *);

1092 
__šlše
 
	$VOP_ADVLOCKPURGE
(

1093 
vnode
 *
vp
)

1095 
vÝ_advlockpurge_¬gs
 
a
;

1097 
a
.
a_g’
.
a_desc
 = &
vÝ_advlockpurge_desc
;

1098 
a
.
a_vp
 = 
vp
;

1099  (
	`VOP_ADVLOCKPURGE_APV
(
vp
->
v_Ý
, &
a
));

1100 
	}
}

1102 
	svÝ_»®locblks_¬gs
 {

1103 
vÝ_g’”ic_¬gs
 
	ma_g’
;

1104 
vnode
 *
	ma_vp
;

1105 
þu¡”_§ve
 *
	ma_buæi¡
;

1108 
vnodeÝ_desc
 
vÝ_»®locblks_desc
;

1110 
VOP_REALLOCBLKS_AP
(
vÝ_»®locblks_¬gs
 *);

1111 
VOP_REALLOCBLKS_APV
(
vÝ_veùÜ
 *
vÝ
, 
vÝ_»®locblks_¬gs
 *);

1113 
__šlše
 
	$VOP_REALLOCBLKS
(

1114 
vnode
 *
vp
,

1115 
þu¡”_§ve
 *
buæi¡
)

1117 
vÝ_»®locblks_¬gs
 
a
;

1119 
a
.
a_g’
.
a_desc
 = &
vÝ_»®locblks_desc
;

1120 
a
.
a_vp
 = 
vp
;

1121 
a
.
a_buæi¡
 = 
buæi¡
;

1122  (
	`VOP_REALLOCBLKS_APV
(
vp
->
v_Ý
, &
a
));

1123 
	}
}

1125 
	svÝ_g‘·ges_¬gs
 {

1126 
vÝ_g’”ic_¬gs
 
	ma_g’
;

1127 
vnode
 *
	ma_vp
;

1128 
vm_·ge_t
 *
	ma_m
;

1129 
	ma_couÁ
;

1130 *
	ma_rbehšd
;

1131 *
	ma_¿h—d
;

1134 
vnodeÝ_desc
 
vÝ_g‘·ges_desc
;

1136 
VOP_GETPAGES_AP
(
vÝ_g‘·ges_¬gs
 *);

1137 
VOP_GETPAGES_APV
(
vÝ_veùÜ
 *
vÝ
, 
vÝ_g‘·ges_¬gs
 *);

1139 
__šlše
 
	$VOP_GETPAGES
(

1140 
vnode
 *
vp
,

1141 
vm_·ge_t
 *
m
,

1142 
couÁ
,

1143 *
rbehšd
,

1144 *
¿h—d
)

1146 
vÝ_g‘·ges_¬gs
 
a
;

1148 
a
.
a_g’
.
a_desc
 = &
vÝ_g‘·ges_desc
;

1149 
a
.
a_vp
 = 
vp
;

1150 
a
.
a_m
 = 
m
;

1151 
a
.
a_couÁ
 = 
couÁ
;

1152 
a
.
a_rbehšd
 = 
rbehšd
;

1153 
a
.
a_¿h—d
 = 
¿h—d
;

1154  (
	`VOP_GETPAGES_APV
(
vp
->
v_Ý
, &
a
));

1155 
	}
}

1157 
	svÝ_g‘·ges_async_¬gs
 {

1158 
vÝ_g’”ic_¬gs
 
	ma_g’
;

1159 
vnode
 *
	ma_vp
;

1160 
vm_·ge_t
 *
	ma_m
;

1161 
	ma_couÁ
;

1162 *
	ma_rbehšd
;

1163 *
	ma_¿h—d
;

1164 
vÝ_g‘·ges_iodÚe_t
 *
	ma_iodÚe
;

1165 *
	ma_¬g
;

1168 
vnodeÝ_desc
 
vÝ_g‘·ges_async_desc
;

1170 
VOP_GETPAGES_ASYNC_AP
(
vÝ_g‘·ges_async_¬gs
 *);

1171 
VOP_GETPAGES_ASYNC_APV
(
vÝ_veùÜ
 *
vÝ
, 
vÝ_g‘·ges_async_¬gs
 *);

1173 
__šlše
 
	$VOP_GETPAGES_ASYNC
(

1174 
vnode
 *
vp
,

1175 
vm_·ge_t
 *
m
,

1176 
couÁ
,

1177 *
rbehšd
,

1178 *
¿h—d
,

1179 
vÝ_g‘·ges_iodÚe_t
 *
iodÚe
,

1180 *
¬g
)

1182 
vÝ_g‘·ges_async_¬gs
 
a
;

1184 
a
.
a_g’
.
a_desc
 = &
vÝ_g‘·ges_async_desc
;

1185 
a
.
a_vp
 = 
vp
;

1186 
a
.
a_m
 = 
m
;

1187 
a
.
a_couÁ
 = 
couÁ
;

1188 
a
.
a_rbehšd
 = 
rbehšd
;

1189 
a
.
a_¿h—d
 = 
¿h—d
;

1190 
a
.
a_iodÚe
 = 
iodÚe
;

1191 
a
.
a_¬g
 = 
¬g
;

1192  (
	`VOP_GETPAGES_ASYNC_APV
(
vp
->
v_Ý
, &
a
));

1193 
	}
}

1195 
	svÝ_puages_¬gs
 {

1196 
vÝ_g’”ic_¬gs
 
	ma_g’
;

1197 
vnode
 *
	ma_vp
;

1198 
vm_·ge_t
 *
	ma_m
;

1199 
	ma_couÁ
;

1200 
	ma_sync
;

1201 *
	ma_¹v®s
;

1204 
vnodeÝ_desc
 
vÝ_puages_desc
;

1206 
VOP_PUTPAGES_AP
(
vÝ_puages_¬gs
 *);

1207 
VOP_PUTPAGES_APV
(
vÝ_veùÜ
 *
vÝ
, 
vÝ_puages_¬gs
 *);

1209 
__šlše
 
	$VOP_PUTPAGES
(

1210 
vnode
 *
vp
,

1211 
vm_·ge_t
 *
m
,

1212 
couÁ
,

1213 
sync
,

1214 *
¹v®s
)

1216 
vÝ_puages_¬gs
 
a
;

1218 
a
.
a_g’
.
a_desc
 = &
vÝ_puages_desc
;

1219 
a
.
a_vp
 = 
vp
;

1220 
a
.
a_m
 = 
m
;

1221 
a
.
a_couÁ
 = 
couÁ
;

1222 
a
.
a_sync
 = 
sync
;

1223 
a
.
a_¹v®s
 = 
¹v®s
;

1224  (
	`VOP_PUTPAGES_APV
(
vp
->
v_Ý
, &
a
));

1225 
	}
}

1227 
	svÝ_g‘aþ_¬gs
 {

1228 
vÝ_g’”ic_¬gs
 
	ma_g’
;

1229 
vnode
 *
	ma_vp
;

1230 
aþ_ty³_t
 
	ma_ty³
;

1231 
aþ
 *
	ma_aþp
;

1232 
uüed
 *
	ma_üed
;

1233 
th»ad
 *
	ma_td
;

1236 
vnodeÝ_desc
 
vÝ_g‘aþ_desc
;

1238 
VOP_GETACL_AP
(
vÝ_g‘aþ_¬gs
 *);

1239 
VOP_GETACL_APV
(
vÝ_veùÜ
 *
vÝ
, 
vÝ_g‘aþ_¬gs
 *);

1241 
__šlše
 
	$VOP_GETACL
(

1242 
vnode
 *
vp
,

1243 
aþ_ty³_t
 
ty³
,

1244 
aþ
 *
aþp
,

1245 
uüed
 *
üed
,

1246 
th»ad
 *
td
)

1248 
vÝ_g‘aþ_¬gs
 
a
;

1250 
a
.
a_g’
.
a_desc
 = &
vÝ_g‘aþ_desc
;

1251 
a
.
a_vp
 = 
vp
;

1252 
a
.
a_ty³
 = 
ty³
;

1253 
a
.
a_aþp
 = 
aþp
;

1254 
a
.
a_üed
 = 
üed
;

1255 
a
.
a_td
 = 
td
;

1256  (
	`VOP_GETACL_APV
(
vp
->
v_Ý
, &
a
));

1257 
	}
}

1259 
	svÝ_£þ_¬gs
 {

1260 
vÝ_g’”ic_¬gs
 
	ma_g’
;

1261 
vnode
 *
	ma_vp
;

1262 
aþ_ty³_t
 
	ma_ty³
;

1263 
aþ
 *
	ma_aþp
;

1264 
uüed
 *
	ma_üed
;

1265 
th»ad
 *
	ma_td
;

1268 
vnodeÝ_desc
 
vÝ_£þ_desc
;

1270 
VOP_SETACL_AP
(
vÝ_£þ_¬gs
 *);

1271 
VOP_SETACL_APV
(
vÝ_veùÜ
 *
vÝ
, 
vÝ_£þ_¬gs
 *);

1273 
__šlše
 
	$VOP_SETACL
(

1274 
vnode
 *
vp
,

1275 
aþ_ty³_t
 
ty³
,

1276 
aþ
 *
aþp
,

1277 
uüed
 *
üed
,

1278 
th»ad
 *
td
)

1280 
vÝ_£þ_¬gs
 
a
;

1282 
a
.
a_g’
.
a_desc
 = &
vÝ_£þ_desc
;

1283 
a
.
a_vp
 = 
vp
;

1284 
a
.
a_ty³
 = 
ty³
;

1285 
a
.
a_aþp
 = 
aþp
;

1286 
a
.
a_üed
 = 
üed
;

1287 
a
.
a_td
 = 
td
;

1288  (
	`VOP_SETACL_APV
(
vp
->
v_Ý
, &
a
));

1289 
	}
}

1291 
	svÝ_aþcheck_¬gs
 {

1292 
vÝ_g’”ic_¬gs
 
	ma_g’
;

1293 
vnode
 *
	ma_vp
;

1294 
aþ_ty³_t
 
	ma_ty³
;

1295 
aþ
 *
	ma_aþp
;

1296 
uüed
 *
	ma_üed
;

1297 
th»ad
 *
	ma_td
;

1300 
vnodeÝ_desc
 
vÝ_aþcheck_desc
;

1302 
VOP_ACLCHECK_AP
(
vÝ_aþcheck_¬gs
 *);

1303 
VOP_ACLCHECK_APV
(
vÝ_veùÜ
 *
vÝ
, 
vÝ_aþcheck_¬gs
 *);

1305 
__šlše
 
	$VOP_ACLCHECK
(

1306 
vnode
 *
vp
,

1307 
aþ_ty³_t
 
ty³
,

1308 
aþ
 *
aþp
,

1309 
uüed
 *
üed
,

1310 
th»ad
 *
td
)

1312 
vÝ_aþcheck_¬gs
 
a
;

1314 
a
.
a_g’
.
a_desc
 = &
vÝ_aþcheck_desc
;

1315 
a
.
a_vp
 = 
vp
;

1316 
a
.
a_ty³
 = 
ty³
;

1317 
a
.
a_aþp
 = 
aþp
;

1318 
a
.
a_üed
 = 
üed
;

1319 
a
.
a_td
 = 
td
;

1320  (
	`VOP_ACLCHECK_APV
(
vp
->
v_Ý
, &
a
));

1321 
	}
}

1323 
	svÝ_þo£ex‰r_¬gs
 {

1324 
vÝ_g’”ic_¬gs
 
	ma_g’
;

1325 
vnode
 *
	ma_vp
;

1326 
	ma_comm™
;

1327 
uüed
 *
	ma_üed
;

1328 
th»ad
 *
	ma_td
;

1331 
vnodeÝ_desc
 
vÝ_þo£ex‰r_desc
;

1333 
VOP_CLOSEEXTATTR_AP
(
vÝ_þo£ex‰r_¬gs
 *);

1334 
VOP_CLOSEEXTATTR_APV
(
vÝ_veùÜ
 *
vÝ
, 
vÝ_þo£ex‰r_¬gs
 *);

1336 
__šlše
 
	$VOP_CLOSEEXTATTR
(

1337 
vnode
 *
vp
,

1338 
comm™
,

1339 
uüed
 *
üed
,

1340 
th»ad
 *
td
)

1342 
vÝ_þo£ex‰r_¬gs
 
a
;

1344 
a
.
a_g’
.
a_desc
 = &
vÝ_þo£ex‰r_desc
;

1345 
a
.
a_vp
 = 
vp
;

1346 
a
.
a_comm™
 = 
comm™
;

1347 
a
.
a_üed
 = 
üed
;

1348 
a
.
a_td
 = 
td
;

1349  (
	`VOP_CLOSEEXTATTR_APV
(
vp
->
v_Ý
, &
a
));

1350 
	}
}

1352 
	svÝ_g‘ex‰r_¬gs
 {

1353 
vÝ_g’”ic_¬gs
 
	ma_g’
;

1354 
vnode
 *
	ma_vp
;

1355 
	ma_©ŒÇme¥aû
;

1356 cÚ¡ *
	ma_Çme
;

1357 
uio
 *
	ma_uio
;

1358 
size_t
 *
	ma_size
;

1359 
uüed
 *
	ma_üed
;

1360 
th»ad
 *
	ma_td
;

1363 
vnodeÝ_desc
 
vÝ_g‘ex‰r_desc
;

1365 
VOP_GETEXTATTR_AP
(
vÝ_g‘ex‰r_¬gs
 *);

1366 
VOP_GETEXTATTR_APV
(
vÝ_veùÜ
 *
vÝ
, 
vÝ_g‘ex‰r_¬gs
 *);

1368 
__šlše
 
	$VOP_GETEXTATTR
(

1369 
vnode
 *
vp
,

1370 
©ŒÇme¥aû
,

1371 cÚ¡ *
Çme
,

1372 
uio
 *uio,

1373 
size_t
 *
size
,

1374 
uüed
 *
üed
,

1375 
th»ad
 *
td
)

1377 
vÝ_g‘ex‰r_¬gs
 
a
;

1379 
a
.
a_g’
.
a_desc
 = &
vÝ_g‘ex‰r_desc
;

1380 
a
.
a_vp
 = 
vp
;

1381 
a
.
a_©ŒÇme¥aû
 = 
©ŒÇme¥aû
;

1382 
a
.
a_Çme
 = 
Çme
;

1383 
a
.
a_uio
 = 
uio
;

1384 
a
.
a_size
 = 
size
;

1385 
a
.
a_üed
 = 
üed
;

1386 
a
.
a_td
 = 
td
;

1387  (
	`VOP_GETEXTATTR_APV
(
vp
->
v_Ý
, &
a
));

1388 
	}
}

1390 
	svÝ_li¡ex‰r_¬gs
 {

1391 
vÝ_g’”ic_¬gs
 
	ma_g’
;

1392 
vnode
 *
	ma_vp
;

1393 
	ma_©ŒÇme¥aû
;

1394 
uio
 *
	ma_uio
;

1395 
size_t
 *
	ma_size
;

1396 
uüed
 *
	ma_üed
;

1397 
th»ad
 *
	ma_td
;

1400 
vnodeÝ_desc
 
vÝ_li¡ex‰r_desc
;

1402 
VOP_LISTEXTATTR_AP
(
vÝ_li¡ex‰r_¬gs
 *);

1403 
VOP_LISTEXTATTR_APV
(
vÝ_veùÜ
 *
vÝ
, 
vÝ_li¡ex‰r_¬gs
 *);

1405 
__šlše
 
	$VOP_LISTEXTATTR
(

1406 
vnode
 *
vp
,

1407 
©ŒÇme¥aû
,

1408 
uio
 *uio,

1409 
size_t
 *
size
,

1410 
uüed
 *
üed
,

1411 
th»ad
 *
td
)

1413 
vÝ_li¡ex‰r_¬gs
 
a
;

1415 
a
.
a_g’
.
a_desc
 = &
vÝ_li¡ex‰r_desc
;

1416 
a
.
a_vp
 = 
vp
;

1417 
a
.
a_©ŒÇme¥aû
 = 
©ŒÇme¥aû
;

1418 
a
.
a_uio
 = 
uio
;

1419 
a
.
a_size
 = 
size
;

1420 
a
.
a_üed
 = 
üed
;

1421 
a
.
a_td
 = 
td
;

1422  (
	`VOP_LISTEXTATTR_APV
(
vp
->
v_Ý
, &
a
));

1423 
	}
}

1425 
	svÝ_Ý’ex‰r_¬gs
 {

1426 
vÝ_g’”ic_¬gs
 
	ma_g’
;

1427 
vnode
 *
	ma_vp
;

1428 
uüed
 *
	ma_üed
;

1429 
th»ad
 *
	ma_td
;

1432 
vnodeÝ_desc
 
vÝ_Ý’ex‰r_desc
;

1434 
VOP_OPENEXTATTR_AP
(
vÝ_Ý’ex‰r_¬gs
 *);

1435 
VOP_OPENEXTATTR_APV
(
vÝ_veùÜ
 *
vÝ
, 
vÝ_Ý’ex‰r_¬gs
 *);

1437 
__šlše
 
	$VOP_OPENEXTATTR
(

1438 
vnode
 *
vp
,

1439 
uüed
 *
üed
,

1440 
th»ad
 *
td
)

1442 
vÝ_Ý’ex‰r_¬gs
 
a
;

1444 
a
.
a_g’
.
a_desc
 = &
vÝ_Ý’ex‰r_desc
;

1445 
a
.
a_vp
 = 
vp
;

1446 
a
.
a_üed
 = 
üed
;

1447 
a
.
a_td
 = 
td
;

1448  (
	`VOP_OPENEXTATTR_APV
(
vp
->
v_Ý
, &
a
));

1449 
	}
}

1451 
	svÝ_d–‘“x‰r_¬gs
 {

1452 
vÝ_g’”ic_¬gs
 
	ma_g’
;

1453 
vnode
 *
	ma_vp
;

1454 
	ma_©ŒÇme¥aû
;

1455 cÚ¡ *
	ma_Çme
;

1456 
uüed
 *
	ma_üed
;

1457 
th»ad
 *
	ma_td
;

1460 
vnodeÝ_desc
 
vÝ_d–‘“x‰r_desc
;

1462 
VOP_DELETEEXTATTR_AP
(
vÝ_d–‘“x‰r_¬gs
 *);

1463 
VOP_DELETEEXTATTR_APV
(
vÝ_veùÜ
 *
vÝ
, 
vÝ_d–‘“x‰r_¬gs
 *);

1465 
__šlše
 
	$VOP_DELETEEXTATTR
(

1466 
vnode
 *
vp
,

1467 
©ŒÇme¥aû
,

1468 cÚ¡ *
Çme
,

1469 
uüed
 *
üed
,

1470 
th»ad
 *
td
)

1472 
vÝ_d–‘“x‰r_¬gs
 
a
;

1474 
a
.
a_g’
.
a_desc
 = &
vÝ_d–‘“x‰r_desc
;

1475 
a
.
a_vp
 = 
vp
;

1476 
a
.
a_©ŒÇme¥aû
 = 
©ŒÇme¥aû
;

1477 
a
.
a_Çme
 = 
Çme
;

1478 
a
.
a_üed
 = 
üed
;

1479 
a
.
a_td
 = 
td
;

1480  (
	`VOP_DELETEEXTATTR_APV
(
vp
->
v_Ý
, &
a
));

1481 
	}
}

1483 
	svÝ_£‹x‰r_¬gs
 {

1484 
vÝ_g’”ic_¬gs
 
	ma_g’
;

1485 
vnode
 *
	ma_vp
;

1486 
	ma_©ŒÇme¥aû
;

1487 cÚ¡ *
	ma_Çme
;

1488 
uio
 *
	ma_uio
;

1489 
uüed
 *
	ma_üed
;

1490 
th»ad
 *
	ma_td
;

1493 
vnodeÝ_desc
 
vÝ_£‹x‰r_desc
;

1495 
VOP_SETEXTATTR_AP
(
vÝ_£‹x‰r_¬gs
 *);

1496 
VOP_SETEXTATTR_APV
(
vÝ_veùÜ
 *
vÝ
, 
vÝ_£‹x‰r_¬gs
 *);

1498 
__šlše
 
	$VOP_SETEXTATTR
(

1499 
vnode
 *
vp
,

1500 
©ŒÇme¥aû
,

1501 cÚ¡ *
Çme
,

1502 
uio
 *uio,

1503 
uüed
 *
üed
,

1504 
th»ad
 *
td
)

1506 
vÝ_£‹x‰r_¬gs
 
a
;

1508 
a
.
a_g’
.
a_desc
 = &
vÝ_£‹x‰r_desc
;

1509 
a
.
a_vp
 = 
vp
;

1510 
a
.
a_©ŒÇme¥aû
 = 
©ŒÇme¥aû
;

1511 
a
.
a_Çme
 = 
Çme
;

1512 
a
.
a_uio
 = 
uio
;

1513 
a
.
a_üed
 = 
üed
;

1514 
a
.
a_td
 = 
td
;

1515  (
	`VOP_SETEXTATTR_APV
(
vp
->
v_Ý
, &
a
));

1516 
	}
}

1518 
	svÝ_£Žab–_¬gs
 {

1519 
vÝ_g’”ic_¬gs
 
	ma_g’
;

1520 
vnode
 *
	ma_vp
;

1521 
Ïb–
 *
	ma_Ïb–
;

1522 
uüed
 *
	ma_üed
;

1523 
th»ad
 *
	ma_td
;

1526 
vnodeÝ_desc
 
vÝ_£Žab–_desc
;

1528 
VOP_SETLABEL_AP
(
vÝ_£Žab–_¬gs
 *);

1529 
VOP_SETLABEL_APV
(
vÝ_veùÜ
 *
vÝ
, 
vÝ_£Žab–_¬gs
 *);

1531 
__šlše
 
	$VOP_SETLABEL
(

1532 
vnode
 *
vp
,

1533 
Ïb–
 *label,

1534 
uüed
 *
üed
,

1535 
th»ad
 *
td
)

1537 
vÝ_£Žab–_¬gs
 
a
;

1539 
a
.
a_g’
.
a_desc
 = &
vÝ_£Žab–_desc
;

1540 
a
.
a_vp
 = 
vp
;

1541 
a
.
a_Ïb–
 = 
Ïb–
;

1542 
a
.
a_üed
 = 
üed
;

1543 
a
.
a_td
 = 
td
;

1544  (
	`VOP_SETLABEL_APV
(
vp
->
v_Ý
, &
a
));

1545 
	}
}

1547 
	svÝ_v±ofh_¬gs
 {

1548 
vÝ_g’”ic_¬gs
 
	ma_g’
;

1549 
vnode
 *
	ma_vp
;

1550 
fid
 *
	ma_fhp
;

1553 
vnodeÝ_desc
 
vÝ_v±ofh_desc
;

1555 
VOP_VPTOFH_AP
(
vÝ_v±ofh_¬gs
 *);

1556 
VOP_VPTOFH_APV
(
vÝ_veùÜ
 *
vÝ
, 
vÝ_v±ofh_¬gs
 *);

1558 
__šlše
 
	$VOP_VPTOFH
(

1559 
vnode
 *
vp
,

1560 
fid
 *
fhp
)

1562 
vÝ_v±ofh_¬gs
 
a
;

1564 
a
.
a_g’
.
a_desc
 = &
vÝ_v±ofh_desc
;

1565 
a
.
a_vp
 = 
vp
;

1566 
a
.
a_fhp
 = 
fhp
;

1567  (
	`VOP_VPTOFH_APV
(
vp
->
v_Ý
, &
a
));

1568 
	}
}

1570 
	svÝ_v±oúp_¬gs
 {

1571 
vÝ_g’”ic_¬gs
 
	ma_g’
;

1572 
vnode
 *
	ma_vp
;

1573 
vnode
 **
	ma_vµ
;

1574 
uüed
 *
	ma_üed
;

1575 *
	ma_buf
;

1576 *
	ma_buæ’
;

1579 
vnodeÝ_desc
 
vÝ_v±oúp_desc
;

1581 
VOP_VPTOCNP_AP
(
vÝ_v±oúp_¬gs
 *);

1582 
VOP_VPTOCNP_APV
(
vÝ_veùÜ
 *
vÝ
, 
vÝ_v±oúp_¬gs
 *);

1584 
__šlše
 
	$VOP_VPTOCNP
(

1585 
vnode
 *
vp
,

1586 
vnode
 **
vµ
,

1587 
uüed
 *
üed
,

1588 *
buf
,

1589 *
buæ’
)

1591 
vÝ_v±oúp_¬gs
 
a
;

1593 
a
.
a_g’
.
a_desc
 = &
vÝ_v±oúp_desc
;

1594 
a
.
a_vp
 = 
vp
;

1595 
a
.
a_vµ
 = 
vµ
;

1596 
a
.
a_üed
 = 
üed
;

1597 
a
.
a_buf
 = 
buf
;

1598 
a
.
a_buæ’
 = 
buæ’
;

1599  (
	`VOP_VPTOCNP_APV
(
vp
->
v_Ý
, &
a
));

1600 
	}
}

1602 
	svÝ_®loÿ‹_¬gs
 {

1603 
vÝ_g’”ic_¬gs
 
	ma_g’
;

1604 
vnode
 *
	ma_vp
;

1605 
off_t
 *
	ma_off£t
;

1606 
off_t
 *
	ma_Ën
;

1609 
vnodeÝ_desc
 
vÝ_®loÿ‹_desc
;

1611 
VOP_ALLOCATE_AP
(
vÝ_®loÿ‹_¬gs
 *);

1612 
VOP_ALLOCATE_APV
(
vÝ_veùÜ
 *
vÝ
, 
vÝ_®loÿ‹_¬gs
 *);

1614 
__šlše
 
	$VOP_ALLOCATE
(

1615 
vnode
 *
vp
,

1616 
off_t
 *
off£t
,

1617 
off_t
 *
Ën
)

1619 
vÝ_®loÿ‹_¬gs
 
a
;

1621 
a
.
a_g’
.
a_desc
 = &
vÝ_®loÿ‹_desc
;

1622 
a
.
a_vp
 = 
vp
;

1623 
a
.
a_off£t
 = 
off£t
;

1624 
a
.
a_Ën
 = 
Ën
;

1625  (
	`VOP_ALLOCATE_APV
(
vp
->
v_Ý
, &
a
));

1626 
	}
}

1628 
	svÝ_advi£_¬gs
 {

1629 
vÝ_g’”ic_¬gs
 
	ma_g’
;

1630 
vnode
 *
	ma_vp
;

1631 
off_t
 
	ma_¡¬t
;

1632 
off_t
 
	ma_’d
;

1633 
	ma_adviû
;

1636 
vnodeÝ_desc
 
vÝ_advi£_desc
;

1638 
VOP_ADVISE_AP
(
vÝ_advi£_¬gs
 *);

1639 
VOP_ADVISE_APV
(
vÝ_veùÜ
 *
vÝ
, 
vÝ_advi£_¬gs
 *);

1641 
__šlše
 
	$VOP_ADVISE
(

1642 
vnode
 *
vp
,

1643 
off_t
 
¡¬t
,

1644 
off_t
 
’d
,

1645 
adviû
)

1647 
vÝ_advi£_¬gs
 
a
;

1649 
a
.
a_g’
.
a_desc
 = &
vÝ_advi£_desc
;

1650 
a
.
a_vp
 = 
vp
;

1651 
a
.
a_¡¬t
 = 
¡¬t
;

1652 
a
.
a_’d
 = 
’d
;

1653 
a
.
a_adviû
 = 
adviû
;

1654  (
	`VOP_ADVISE_APV
(
vp
->
v_Ý
, &
a
));

1655 
	}
}

1657 
	svÝ_uÅ_bšd_¬gs
 {

1658 
vÝ_g’”ic_¬gs
 
	ma_g’
;

1659 
vnode
 *
	ma_vp
;

1660 
uÅcb
 *
	ma_uÅcb
;

1663 
vnodeÝ_desc
 
vÝ_uÅ_bšd_desc
;

1665 
VOP_UNP_BIND_AP
(
vÝ_uÅ_bšd_¬gs
 *);

1666 
VOP_UNP_BIND_APV
(
vÝ_veùÜ
 *
vÝ
, 
vÝ_uÅ_bšd_¬gs
 *);

1668 
__šlše
 
	$VOP_UNP_BIND
(

1669 
vnode
 *
vp
,

1670 
uÅcb
 *unpcb)

1672 
vÝ_uÅ_bšd_¬gs
 
a
;

1674 
a
.
a_g’
.
a_desc
 = &
vÝ_uÅ_bšd_desc
;

1675 
a
.
a_vp
 = 
vp
;

1676 
a
.
a_uÅcb
 = 
uÅcb
;

1677  (
	`VOP_UNP_BIND_APV
(
vp
->
v_Ý
, &
a
));

1678 
	}
}

1680 
	svÝ_uÅ_cÚÃù_¬gs
 {

1681 
vÝ_g’”ic_¬gs
 
	ma_g’
;

1682 
vnode
 *
	ma_vp
;

1683 
uÅcb
 **
	ma_uÅcb
;

1686 
vnodeÝ_desc
 
vÝ_uÅ_cÚÃù_desc
;

1688 
VOP_UNP_CONNECT_AP
(
vÝ_uÅ_cÚÃù_¬gs
 *);

1689 
VOP_UNP_CONNECT_APV
(
vÝ_veùÜ
 *
vÝ
, 
vÝ_uÅ_cÚÃù_¬gs
 *);

1691 
__šlše
 
	$VOP_UNP_CONNECT
(

1692 
vnode
 *
vp
,

1693 
uÅcb
 **unpcb)

1695 
vÝ_uÅ_cÚÃù_¬gs
 
a
;

1697 
a
.
a_g’
.
a_desc
 = &
vÝ_uÅ_cÚÃù_desc
;

1698 
a
.
a_vp
 = 
vp
;

1699 
a
.
a_uÅcb
 = 
uÅcb
;

1700  (
	`VOP_UNP_CONNECT_APV
(
vp
->
v_Ý
, &
a
));

1701 
	}
}

1703 
	svÝ_uÅ_d‘ach_¬gs
 {

1704 
vÝ_g’”ic_¬gs
 
	ma_g’
;

1705 
vnode
 *
	ma_vp
;

1708 
vnodeÝ_desc
 
vÝ_uÅ_d‘ach_desc
;

1710 
VOP_UNP_DETACH_AP
(
vÝ_uÅ_d‘ach_¬gs
 *);

1711 
VOP_UNP_DETACH_APV
(
vÝ_veùÜ
 *
vÝ
, 
vÝ_uÅ_d‘ach_¬gs
 *);

1713 
__šlše
 
	$VOP_UNP_DETACH
(

1714 
vnode
 *
vp
)

1716 
vÝ_uÅ_d‘ach_¬gs
 
a
;

1718 
a
.
a_g’
.
a_desc
 = &
vÝ_uÅ_d‘ach_desc
;

1719 
a
.
a_vp
 = 
vp
;

1720  (
	`VOP_UNP_DETACH_APV
(
vp
->
v_Ý
, &
a
));

1721 
	}
}

1723 
	svÝ_is_‹xt_¬gs
 {

1724 
vÝ_g’”ic_¬gs
 
	ma_g’
;

1725 
vnode
 *
	ma_vp
;

1728 
vnodeÝ_desc
 
vÝ_is_‹xt_desc
;

1730 
VOP_IS_TEXT_AP
(
vÝ_is_‹xt_¬gs
 *);

1731 
VOP_IS_TEXT_APV
(
vÝ_veùÜ
 *
vÝ
, 
vÝ_is_‹xt_¬gs
 *);

1733 
__šlše
 
	$VOP_IS_TEXT
(

1734 
vnode
 *
vp
)

1736 
vÝ_is_‹xt_¬gs
 
a
;

1738 
a
.
a_g’
.
a_desc
 = &
vÝ_is_‹xt_desc
;

1739 
a
.
a_vp
 = 
vp
;

1740  (
	`VOP_IS_TEXT_APV
(
vp
->
v_Ý
, &
a
));

1741 
	}
}

1743 
	svÝ_£t_‹xt_¬gs
 {

1744 
vÝ_g’”ic_¬gs
 
	ma_g’
;

1745 
vnode
 *
	ma_vp
;

1748 
vnodeÝ_desc
 
vÝ_£t_‹xt_desc
;

1750 
VOP_SET_TEXT_AP
(
vÝ_£t_‹xt_¬gs
 *);

1751 
VOP_SET_TEXT_APV
(
vÝ_veùÜ
 *
vÝ
, 
vÝ_£t_‹xt_¬gs
 *);

1753 
__šlše
 
	$VOP_SET_TEXT
(

1754 
vnode
 *
vp
)

1756 
vÝ_£t_‹xt_¬gs
 
a
;

1758 
a
.
a_g’
.
a_desc
 = &
vÝ_£t_‹xt_desc
;

1759 
a
.
a_vp
 = 
vp
;

1760  (
	`VOP_SET_TEXT_APV
(
vp
->
v_Ý
, &
a
));

1761 
	}
}

1763 
	svÝ_un£t_‹xt_¬gs
 {

1764 
vÝ_g’”ic_¬gs
 
	ma_g’
;

1765 
vnode
 *
	ma_vp
;

1768 
vnodeÝ_desc
 
vÝ_un£t_‹xt_desc
;

1770 
VOP_UNSET_TEXT_AP
(
vÝ_un£t_‹xt_¬gs
 *);

1771 
VOP_UNSET_TEXT_APV
(
vÝ_veùÜ
 *
vÝ
, 
vÝ_un£t_‹xt_¬gs
 *);

1773 
__šlše
 
	$VOP_UNSET_TEXT
(

1774 
vnode
 *
vp
)

1776 
vÝ_un£t_‹xt_¬gs
 
a
;

1778 
a
.
a_g’
.
a_desc
 = &
vÝ_un£t_‹xt_desc
;

1779 
a
.
a_vp
 = 
vp
;

1780  (
	`VOP_UNSET_TEXT_APV
(
vp
->
v_Ý
, &
a
));

1781 
	}
}

1783 
	svÝ_g‘_wr™ecouÁ_¬gs
 {

1784 
vÝ_g’”ic_¬gs
 
	ma_g’
;

1785 
vnode
 *
	ma_vp
;

1786 *
	ma_wr™ecouÁ
;

1789 
vnodeÝ_desc
 
vÝ_g‘_wr™ecouÁ_desc
;

1791 
VOP_GET_WRITECOUNT_AP
(
vÝ_g‘_wr™ecouÁ_¬gs
 *);

1792 
VOP_GET_WRITECOUNT_APV
(
vÝ_veùÜ
 *
vÝ
, 
vÝ_g‘_wr™ecouÁ_¬gs
 *);

1794 
__šlše
 
	$VOP_GET_WRITECOUNT
(

1795 
vnode
 *
vp
,

1796 *
wr™ecouÁ
)

1798 
vÝ_g‘_wr™ecouÁ_¬gs
 
a
;

1800 
a
.
a_g’
.
a_desc
 = &
vÝ_g‘_wr™ecouÁ_desc
;

1801 
a
.
a_vp
 = 
vp
;

1802 
a
.
a_wr™ecouÁ
 = 
wr™ecouÁ
;

1803  (
	`VOP_GET_WRITECOUNT_APV
(
vp
->
v_Ý
, &
a
));

1804 
	}
}

1806 
	svÝ_add_wr™ecouÁ_¬gs
 {

1807 
vÝ_g’”ic_¬gs
 
	ma_g’
;

1808 
vnode
 *
	ma_vp
;

1809 
	ma_šc
;

1812 
vnodeÝ_desc
 
vÝ_add_wr™ecouÁ_desc
;

1814 
VOP_ADD_WRITECOUNT_AP
(
vÝ_add_wr™ecouÁ_¬gs
 *);

1815 
VOP_ADD_WRITECOUNT_APV
(
vÝ_veùÜ
 *
vÝ
, 
vÝ_add_wr™ecouÁ_¬gs
 *);

1817 
__šlše
 
	$VOP_ADD_WRITECOUNT
(

1818 
vnode
 *
vp
,

1819 
šc
)

1821 
vÝ_add_wr™ecouÁ_¬gs
 
a
;

1823 
a
.
a_g’
.
a_desc
 = &
vÝ_add_wr™ecouÁ_desc
;

1824 
a
.
a_vp
 = 
vp
;

1825 
a
.
a_šc
 = 
šc
;

1826  (
	`VOP_ADD_WRITECOUNT_APV
(
vp
->
v_Ý
, &
a
));

1827 
	}
}

1829 
	svÝ_fd©async_¬gs
 {

1830 
vÝ_g’”ic_¬gs
 
	ma_g’
;

1831 
vnode
 *
	ma_vp
;

1832 
th»ad
 *
	ma_td
;

1835 
vnodeÝ_desc
 
vÝ_fd©async_desc
;

1837 
VOP_FDATASYNC_AP
(
vÝ_fd©async_¬gs
 *);

1838 
VOP_FDATASYNC_APV
(
vÝ_veùÜ
 *
vÝ
, 
vÝ_fd©async_¬gs
 *);

1840 
__šlše
 
	$VOP_FDATASYNC
(

1841 
vnode
 *
vp
,

1842 
th»ad
 *
td
)

1844 
vÝ_fd©async_¬gs
 
a
;

1846 
a
.
a_g’
.
a_desc
 = &
vÝ_fd©async_desc
;

1847 
a
.
a_vp
 = 
vp
;

1848 
a
.
a_td
 = 
td
;

1849  (
	`VOP_FDATASYNC_APV
(
vp
->
v_Ý
, &
a
));

1850 
	}
}

1852 
	svÝ_¥¬e1_¬gs
 {

1853 
vÝ_g’”ic_¬gs
 
	ma_g’
;

1854 
vnode
 *
	ma_vp
;

1857 
vnodeÝ_desc
 
vÝ_¥¬e1_desc
;

1859 
VOP_SPARE1_AP
(
vÝ_¥¬e1_¬gs
 *);

1860 
VOP_SPARE1_APV
(
vÝ_veùÜ
 *
vÝ
, 
vÝ_¥¬e1_¬gs
 *);

1862 
__šlše
 
	$VOP_SPARE1
(

1863 
vnode
 *
vp
)

1865 
vÝ_¥¬e1_¬gs
 
a
;

1867 
a
.
a_g’
.
a_desc
 = &
vÝ_¥¬e1_desc
;

1868 
a
.
a_vp
 = 
vp
;

1869  (
	`VOP_SPARE1_APV
(
vp
->
v_Ý
, &
a
));

1870 
	}
}

1872 
	svÝ_¥¬e2_¬gs
 {

1873 
vÝ_g’”ic_¬gs
 
	ma_g’
;

1874 
vnode
 *
	ma_vp
;

1877 
vnodeÝ_desc
 
vÝ_¥¬e2_desc
;

1879 
VOP_SPARE2_AP
(
vÝ_¥¬e2_¬gs
 *);

1880 
VOP_SPARE2_APV
(
vÝ_veùÜ
 *
vÝ
, 
vÝ_¥¬e2_¬gs
 *);

1882 
__šlše
 
	$VOP_SPARE2
(

1883 
vnode
 *
vp
)

1885 
vÝ_¥¬e2_¬gs
 
a
;

1887 
a
.
a_g’
.
a_desc
 = &
vÝ_¥¬e2_desc
;

1888 
a
.
a_vp
 = 
vp
;

1889  (
	`VOP_SPARE2_APV
(
vp
->
v_Ý
, &
a
));

1890 
	}
}

1892 
	svÝ_¥¬e3_¬gs
 {

1893 
vÝ_g’”ic_¬gs
 
	ma_g’
;

1894 
vnode
 *
	ma_vp
;

1897 
vnodeÝ_desc
 
vÝ_¥¬e3_desc
;

1899 
VOP_SPARE3_AP
(
vÝ_¥¬e3_¬gs
 *);

1900 
VOP_SPARE3_APV
(
vÝ_veùÜ
 *
vÝ
, 
vÝ_¥¬e3_¬gs
 *);

1902 
__šlše
 
	$VOP_SPARE3
(

1903 
vnode
 *
vp
)

1905 
vÝ_¥¬e3_¬gs
 
a
;

1907 
a
.
a_g’
.
a_desc
 = &
vÝ_¥¬e3_desc
;

1908 
a
.
a_vp
 = 
vp
;

1909  (
	`VOP_SPARE3_APV
(
vp
->
v_Ý
, &
a
));

1910 
	}
}

1912 
	svÝ_¥¬e4_¬gs
 {

1913 
vÝ_g’”ic_¬gs
 
	ma_g’
;

1914 
vnode
 *
	ma_vp
;

1917 
vnodeÝ_desc
 
vÝ_¥¬e4_desc
;

1919 
VOP_SPARE4_AP
(
vÝ_¥¬e4_¬gs
 *);

1920 
VOP_SPARE4_APV
(
vÝ_veùÜ
 *
vÝ
, 
vÝ_¥¬e4_¬gs
 *);

1922 
__šlše
 
	$VOP_SPARE4
(

1923 
vnode
 *
vp
)

1925 
vÝ_¥¬e4_¬gs
 
a
;

1927 
a
.
a_g’
.
a_desc
 = &
vÝ_¥¬e4_desc
;

1928 
a
.
a_vp
 = 
vp
;

1929  (
	`VOP_SPARE4_APV
(
vp
->
v_Ý
, &
a
));

1930 
	}
}

1932 
	svÝ_¥¬e5_¬gs
 {

1933 
vÝ_g’”ic_¬gs
 
	ma_g’
;

1934 
vnode
 *
	ma_vp
;

1937 
vnodeÝ_desc
 
vÝ_¥¬e5_desc
;

1939 
VOP_SPARE5_AP
(
vÝ_¥¬e5_¬gs
 *);

1940 
VOP_SPARE5_APV
(
vÝ_veùÜ
 *
vÝ
, 
vÝ_¥¬e5_¬gs
 *);

1942 
__šlše
 
	$VOP_SPARE5
(

1943 
vnode
 *
vp
)

1945 
vÝ_¥¬e5_¬gs
 
a
;

1947 
a
.
a_g’
.
a_desc
 = &
vÝ_¥¬e5_desc
;

1948 
a
.
a_vp
 = 
vp
;

1949  (
	`VOP_SPARE5_APV
(
vp
->
v_Ý
, &
a
));

1950 
	}
}

	@src/nvidia-drm/vnode_if_newproto.h

9 
	svÝ_veùÜ
 {

10 
vÝ_veùÜ
 *
	mvÝ_deçuÉ
;

11 
vÝ_by·ss_t
 *
	mvÝ_by·ss
;

12 
vÝ_i¦ocked_t
 *
	mvÝ_i¦ocked
;

13 
vÝ_lookup_t
 *
	mvÝ_lookup
;

14 
vÝ_ÿchedlookup_t
 *
	mvÝ_ÿchedlookup
;

15 
vÝ_ü—‹_t
 *
	mvÝ_ü—‹
;

16 
vÝ_wh™eout_t
 *
	mvÝ_wh™eout
;

17 
vÝ_mknod_t
 *
	mvÝ_mknod
;

18 
vÝ_Ý’_t
 *
	mvÝ_Ý’
;

19 
vÝ_þo£_t
 *
	mvÝ_þo£
;

20 
vÝ_acûss_t
 *
	mvÝ_acûss
;

21 
vÝ_acûssx_t
 *
	mvÝ_acûssx
;

22 
vÝ_g‘©Œ_t
 *
	mvÝ_g‘©Œ
;

23 
vÝ_£‰r_t
 *
	mvÝ_£‰r
;

24 
vÝ_m¬k©ime_t
 *
	mvÝ_m¬k©ime
;

25 
vÝ_»ad_t
 *
	mvÝ_»ad
;

26 
vÝ_wr™e_t
 *
	mvÝ_wr™e
;

27 
vÝ_ioùl_t
 *
	mvÝ_ioùl
;

28 
vÝ_pÞl_t
 *
	mvÝ_pÞl
;

29 
vÝ_kqfž‹r_t
 *
	mvÝ_kqfž‹r
;

30 
vÝ_»voke_t
 *
	mvÝ_»voke
;

31 
vÝ_fsync_t
 *
	mvÝ_fsync
;

32 
vÝ_»move_t
 *
	mvÝ_»move
;

33 
vÝ_lšk_t
 *
	mvÝ_lšk
;

34 
vÝ_»Çme_t
 *
	mvÝ_»Çme
;

35 
vÝ_mkdœ_t
 *
	mvÝ_mkdœ
;

36 
vÝ_rmdœ_t
 *
	mvÝ_rmdœ
;

37 
vÝ_symlšk_t
 *
	mvÝ_symlšk
;

38 
vÝ_»addœ_t
 *
	mvÝ_»addœ
;

39 
vÝ_»adlšk_t
 *
	mvÝ_»adlšk
;

40 
vÝ_šaùive_t
 *
	mvÝ_šaùive
;

41 
vÝ_»þaim_t
 *
	mvÝ_»þaim
;

42 
vÝ_lock1_t
 *
	mvÝ_lock1
;

43 
vÝ_uÆock_t
 *
	mvÝ_uÆock
;

44 
vÝ_bm­_t
 *
	mvÝ_bm­
;

45 
vÝ_¡¿‹gy_t
 *
	mvÝ_¡¿‹gy
;

46 
vÝ_g‘wr™emouÁ_t
 *
	mvÝ_g‘wr™emouÁ
;

47 
vÝ_´št_t
 *
	mvÝ_´št
;

48 
vÝ_·thcÚf_t
 *
	mvÝ_·thcÚf
;

49 
vÝ_advlock_t
 *
	mvÝ_advlock
;

50 
vÝ_advlockasync_t
 *
	mvÝ_advlockasync
;

51 
vÝ_advlockpurge_t
 *
	mvÝ_advlockpurge
;

52 
vÝ_»®locblks_t
 *
	mvÝ_»®locblks
;

53 
vÝ_g‘·ges_t
 *
	mvÝ_g‘·ges
;

54 
vÝ_g‘·ges_async_t
 *
	mvÝ_g‘·ges_async
;

55 
vÝ_puages_t
 *
	mvÝ_puages
;

56 
vÝ_g‘aþ_t
 *
	mvÝ_g‘aþ
;

57 
vÝ_£þ_t
 *
	mvÝ_£þ
;

58 
vÝ_aþcheck_t
 *
	mvÝ_aþcheck
;

59 
vÝ_þo£ex‰r_t
 *
	mvÝ_þo£ex‰r
;

60 
vÝ_g‘ex‰r_t
 *
	mvÝ_g‘ex‰r
;

61 
vÝ_li¡ex‰r_t
 *
	mvÝ_li¡ex‰r
;

62 
vÝ_Ý’ex‰r_t
 *
	mvÝ_Ý’ex‰r
;

63 
vÝ_d–‘“x‰r_t
 *
	mvÝ_d–‘“x‰r
;

64 
vÝ_£‹x‰r_t
 *
	mvÝ_£‹x‰r
;

65 
vÝ_£Žab–_t
 *
	mvÝ_£Žab–
;

66 
vÝ_v±ofh_t
 *
	mvÝ_v±ofh
;

67 
vÝ_v±oúp_t
 *
	mvÝ_v±oúp
;

68 
vÝ_®loÿ‹_t
 *
	mvÝ_®loÿ‹
;

69 
vÝ_advi£_t
 *
	mvÝ_advi£
;

70 
vÝ_uÅ_bšd_t
 *
	mvÝ_uÅ_bšd
;

71 
vÝ_uÅ_cÚÃù_t
 *
	mvÝ_uÅ_cÚÃù
;

72 
vÝ_uÅ_d‘ach_t
 *
	mvÝ_uÅ_d‘ach
;

73 
vÝ_is_‹xt_t
 *
	mvÝ_is_‹xt
;

74 
vÝ_£t_‹xt_t
 *
	mvÝ_£t_‹xt
;

75 
vÝ_un£t_‹xt_t
 *
	mvÝ_un£t_‹xt
;

76 
vÝ_g‘_wr™ecouÁ_t
 *
	mvÝ_g‘_wr™ecouÁ
;

77 
vÝ_add_wr™ecouÁ_t
 *
	mvÝ_add_wr™ecouÁ
;

78 
vÝ_fd©async_t
 *
	mvÝ_fd©async
;

79 
vÝ_¥¬e1_t
 *
	mvÝ_¥¬e1
;

80 
vÝ_¥¬e2_t
 *
	mvÝ_¥¬e2
;

81 
vÝ_¥¬e3_t
 *
	mvÝ_¥¬e3
;

82 
vÝ_¥¬e4_t
 *
	mvÝ_¥¬e4
;

83 
vÝ_¥¬e5_t
 *
	mvÝ_¥¬e5
;

	@src/nvidia-drm/vnode_if_typedef.h

9 
	gvÝ_i¦ocked_¬gs
;

10 
	tvÝ_i¦ocked_t
(
	tvÝ_i¦ocked_¬gs
 *);

12 
	gvÝ_lookup_¬gs
;

13 
	tvÝ_lookup_t
(
	tvÝ_lookup_¬gs
 *);

15 
	gvÝ_ÿchedlookup_¬gs
;

16 
	tvÝ_ÿchedlookup_t
(
	tvÝ_ÿchedlookup_¬gs
 *);

18 
	gvÝ_ü—‹_¬gs
;

19 
	tvÝ_ü—‹_t
(
	tvÝ_ü—‹_¬gs
 *);

21 
	gvÝ_wh™eout_¬gs
;

22 
	tvÝ_wh™eout_t
(
	tvÝ_wh™eout_¬gs
 *);

24 
	gvÝ_mknod_¬gs
;

25 
	tvÝ_mknod_t
(
	tvÝ_mknod_¬gs
 *);

27 
	gvÝ_Ý’_¬gs
;

28 
	tvÝ_Ý’_t
(
	tvÝ_Ý’_¬gs
 *);

30 
	gvÝ_þo£_¬gs
;

31 
	tvÝ_þo£_t
(
	tvÝ_þo£_¬gs
 *);

33 
	gvÝ_acûss_¬gs
;

34 
	tvÝ_acûss_t
(
	tvÝ_acûss_¬gs
 *);

36 
	gvÝ_acûssx_¬gs
;

37 
	tvÝ_acûssx_t
(
	tvÝ_acûssx_¬gs
 *);

39 
	gvÝ_g‘©Œ_¬gs
;

40 
	tvÝ_g‘©Œ_t
(
	tvÝ_g‘©Œ_¬gs
 *);

42 
	gvÝ_£‰r_¬gs
;

43 
	tvÝ_£‰r_t
(
	tvÝ_£‰r_¬gs
 *);

45 
	gvÝ_m¬k©ime_¬gs
;

46 
	tvÝ_m¬k©ime_t
(
	tvÝ_m¬k©ime_¬gs
 *);

48 
	gvÝ_»ad_¬gs
;

49 
	tvÝ_»ad_t
(
	tvÝ_»ad_¬gs
 *);

51 
	gvÝ_wr™e_¬gs
;

52 
	tvÝ_wr™e_t
(
	tvÝ_wr™e_¬gs
 *);

54 
	gvÝ_ioùl_¬gs
;

55 
	tvÝ_ioùl_t
(
	tvÝ_ioùl_¬gs
 *);

57 
	gvÝ_pÞl_¬gs
;

58 
	tvÝ_pÞl_t
(
	tvÝ_pÞl_¬gs
 *);

60 
	gvÝ_kqfž‹r_¬gs
;

61 
	tvÝ_kqfž‹r_t
(
	tvÝ_kqfž‹r_¬gs
 *);

63 
	gvÝ_»voke_¬gs
;

64 
	tvÝ_»voke_t
(
	tvÝ_»voke_¬gs
 *);

66 
	gvÝ_fsync_¬gs
;

67 
	tvÝ_fsync_t
(
	tvÝ_fsync_¬gs
 *);

69 
	gvÝ_»move_¬gs
;

70 
	tvÝ_»move_t
(
	tvÝ_»move_¬gs
 *);

72 
	gvÝ_lšk_¬gs
;

73 
	tvÝ_lšk_t
(
	tvÝ_lšk_¬gs
 *);

75 
	gvÝ_»Çme_¬gs
;

76 
	tvÝ_»Çme_t
(
	tvÝ_»Çme_¬gs
 *);

78 
	gvÝ_mkdœ_¬gs
;

79 
	tvÝ_mkdœ_t
(
	tvÝ_mkdœ_¬gs
 *);

81 
	gvÝ_rmdœ_¬gs
;

82 
	tvÝ_rmdœ_t
(
	tvÝ_rmdœ_¬gs
 *);

84 
	gvÝ_symlšk_¬gs
;

85 
	tvÝ_symlšk_t
(
	tvÝ_symlšk_¬gs
 *);

87 
	gvÝ_»addœ_¬gs
;

88 
	tvÝ_»addœ_t
(
	tvÝ_»addœ_¬gs
 *);

90 
	gvÝ_»adlšk_¬gs
;

91 
	tvÝ_»adlšk_t
(
	tvÝ_»adlšk_¬gs
 *);

93 
	gvÝ_šaùive_¬gs
;

94 
	tvÝ_šaùive_t
(
	tvÝ_šaùive_¬gs
 *);

96 
	gvÝ_»þaim_¬gs
;

97 
	tvÝ_»þaim_t
(
	tvÝ_»þaim_¬gs
 *);

99 
	gvÝ_lock1_¬gs
;

100 
	tvÝ_lock1_t
(
	tvÝ_lock1_¬gs
 *);

102 
	gvÝ_uÆock_¬gs
;

103 
	tvÝ_uÆock_t
(
	tvÝ_uÆock_¬gs
 *);

105 
	gvÝ_bm­_¬gs
;

106 
	tvÝ_bm­_t
(
	tvÝ_bm­_¬gs
 *);

108 
	gvÝ_¡¿‹gy_¬gs
;

109 
	tvÝ_¡¿‹gy_t
(
	tvÝ_¡¿‹gy_¬gs
 *);

111 
	gvÝ_g‘wr™emouÁ_¬gs
;

112 
	tvÝ_g‘wr™emouÁ_t
(
	tvÝ_g‘wr™emouÁ_¬gs
 *);

114 
	gvÝ_´št_¬gs
;

115 
	tvÝ_´št_t
(
	tvÝ_´št_¬gs
 *);

117 
	gvÝ_·thcÚf_¬gs
;

118 
	tvÝ_·thcÚf_t
(
	tvÝ_·thcÚf_¬gs
 *);

120 
	gvÝ_advlock_¬gs
;

121 
	tvÝ_advlock_t
(
	tvÝ_advlock_¬gs
 *);

123 
	gvÝ_advlockasync_¬gs
;

124 
	tvÝ_advlockasync_t
(
	tvÝ_advlockasync_¬gs
 *);

126 
	gvÝ_advlockpurge_¬gs
;

127 
	tvÝ_advlockpurge_t
(
	tvÝ_advlockpurge_¬gs
 *);

129 
	gvÝ_»®locblks_¬gs
;

130 
	tvÝ_»®locblks_t
(
	tvÝ_»®locblks_¬gs
 *);

132 
	gvÝ_g‘·ges_¬gs
;

133 
	tvÝ_g‘·ges_t
(
	tvÝ_g‘·ges_¬gs
 *);

135 
	gvÝ_g‘·ges_async_¬gs
;

136 
	tvÝ_g‘·ges_async_t
(
	tvÝ_g‘·ges_async_¬gs
 *);

138 
	gvÝ_puages_¬gs
;

139 
	tvÝ_puages_t
(
	tvÝ_puages_¬gs
 *);

141 
	gvÝ_g‘aþ_¬gs
;

142 
	tvÝ_g‘aþ_t
(
	tvÝ_g‘aþ_¬gs
 *);

144 
	gvÝ_£þ_¬gs
;

145 
	tvÝ_£þ_t
(
	tvÝ_£þ_¬gs
 *);

147 
	gvÝ_aþcheck_¬gs
;

148 
	tvÝ_aþcheck_t
(
	tvÝ_aþcheck_¬gs
 *);

150 
	gvÝ_þo£ex‰r_¬gs
;

151 
	tvÝ_þo£ex‰r_t
(
	tvÝ_þo£ex‰r_¬gs
 *);

153 
	gvÝ_g‘ex‰r_¬gs
;

154 
	tvÝ_g‘ex‰r_t
(
	tvÝ_g‘ex‰r_¬gs
 *);

156 
	gvÝ_li¡ex‰r_¬gs
;

157 
	tvÝ_li¡ex‰r_t
(
	tvÝ_li¡ex‰r_¬gs
 *);

159 
	gvÝ_Ý’ex‰r_¬gs
;

160 
	tvÝ_Ý’ex‰r_t
(
	tvÝ_Ý’ex‰r_¬gs
 *);

162 
	gvÝ_d–‘“x‰r_¬gs
;

163 
	tvÝ_d–‘“x‰r_t
(
	tvÝ_d–‘“x‰r_¬gs
 *);

165 
	gvÝ_£‹x‰r_¬gs
;

166 
	tvÝ_£‹x‰r_t
(
	tvÝ_£‹x‰r_¬gs
 *);

168 
	gvÝ_£Žab–_¬gs
;

169 
	tvÝ_£Žab–_t
(
	tvÝ_£Žab–_¬gs
 *);

171 
	gvÝ_v±ofh_¬gs
;

172 
	tvÝ_v±ofh_t
(
	tvÝ_v±ofh_¬gs
 *);

174 
	gvÝ_v±oúp_¬gs
;

175 
	tvÝ_v±oúp_t
(
	tvÝ_v±oúp_¬gs
 *);

177 
	gvÝ_®loÿ‹_¬gs
;

178 
	tvÝ_®loÿ‹_t
(
	tvÝ_®loÿ‹_¬gs
 *);

180 
	gvÝ_advi£_¬gs
;

181 
	tvÝ_advi£_t
(
	tvÝ_advi£_¬gs
 *);

183 
	gvÝ_uÅ_bšd_¬gs
;

184 
	tvÝ_uÅ_bšd_t
(
	tvÝ_uÅ_bšd_¬gs
 *);

186 
	gvÝ_uÅ_cÚÃù_¬gs
;

187 
	tvÝ_uÅ_cÚÃù_t
(
	tvÝ_uÅ_cÚÃù_¬gs
 *);

189 
	gvÝ_uÅ_d‘ach_¬gs
;

190 
	tvÝ_uÅ_d‘ach_t
(
	tvÝ_uÅ_d‘ach_¬gs
 *);

192 
	gvÝ_is_‹xt_¬gs
;

193 
	tvÝ_is_‹xt_t
(
	tvÝ_is_‹xt_¬gs
 *);

195 
	gvÝ_£t_‹xt_¬gs
;

196 
	tvÝ_£t_‹xt_t
(
	tvÝ_£t_‹xt_¬gs
 *);

198 
	gvÝ_un£t_‹xt_¬gs
;

199 
	tvÝ_un£t_‹xt_t
(
	tvÝ_un£t_‹xt_¬gs
 *);

201 
	gvÝ_g‘_wr™ecouÁ_¬gs
;

202 
	tvÝ_g‘_wr™ecouÁ_t
(
	tvÝ_g‘_wr™ecouÁ_¬gs
 *);

204 
	gvÝ_add_wr™ecouÁ_¬gs
;

205 
	tvÝ_add_wr™ecouÁ_t
(
	tvÝ_add_wr™ecouÁ_¬gs
 *);

207 
	gvÝ_fd©async_¬gs
;

208 
	tvÝ_fd©async_t
(
	tvÝ_fd©async_¬gs
 *);

210 
	gvÝ_¥¬e1_¬gs
;

211 
	tvÝ_¥¬e1_t
(
	tvÝ_¥¬e1_¬gs
 *);

213 
	gvÝ_¥¬e2_¬gs
;

214 
	tvÝ_¥¬e2_t
(
	tvÝ_¥¬e2_¬gs
 *);

216 
	gvÝ_¥¬e3_¬gs
;

217 
	tvÝ_¥¬e3_t
(
	tvÝ_¥¬e3_¬gs
 *);

219 
	gvÝ_¥¬e4_¬gs
;

220 
	tvÝ_¥¬e4_t
(
	tvÝ_¥¬e4_¬gs
 *);

222 
	gvÝ_¥¬e5_¬gs
;

223 
	tvÝ_¥¬e5_t
(
	tvÝ_¥¬e5_¬gs
 *);

	@src/nvidia-drm/x86/_align.h

43 #iâdeà
_X86_INCLUDE__ALIGN_H_


44 
	#_X86_INCLUDE__ALIGN_H_


	)

51 
	#_ALIGNBYTES
 ((
__»gi¡”_t
è- 1)

	)

52 
	#_ALIGN
(
p
è(((
__ušŒ_t
)Õè+ 
_ALIGNBYTES
è& ~_ALIGNBYTES)

	)

	@src/nvidia-drm/x86/_inttypes.h

35 #iâdeà
_MACHINE_INTTYPES_H_


36 
	#_MACHINE_INTTYPES_H_


	)

42 #ifdeà
__LP64__


43 
	#__PRI64
 "l"

	)

44 
	#__PRI±r
 "l"

	)

46 
	#__PRI64
 "Î"

	)

47 
	#__PRI±r


	)

52 
	#PRId8
 "d"

	)

53 
	#PRId16
 "d"

	)

54 
	#PRId32
 "d"

	)

55 
	#PRId64
 
__PRI64
"d"

	)

56 
	#PRIdLEAST8
 "d"

	)

57 
	#PRIdLEAST16
 "d"

	)

58 
	#PRIdLEAST32
 "d"

	)

59 
	#PRIdLEAST64
 
__PRI64
"d"

	)

60 
	#PRIdFAST8
 "d"

	)

61 
	#PRIdFAST16
 "d"

	)

62 
	#PRIdFAST32
 "d"

	)

63 
	#PRIdFAST64
 
__PRI64
"d"

	)

64 
	#PRIdMAX
 "jd"

	)

65 
	#PRIdPTR
 
__PRI±r
"d"

	)

67 
	#PRIi8
 "i"

	)

68 
	#PRIi16
 "i"

	)

69 
	#PRIi32
 "i"

	)

70 
	#PRIi64
 
__PRI64
"i"

	)

71 
	#PRIiLEAST8
 "i"

	)

72 
	#PRIiLEAST16
 "i"

	)

73 
	#PRIiLEAST32
 "i"

	)

74 
	#PRIiLEAST64
 
__PRI64
"i"

	)

75 
	#PRIiFAST8
 "i"

	)

76 
	#PRIiFAST16
 "i"

	)

77 
	#PRIiFAST32
 "i"

	)

78 
	#PRIiFAST64
 
__PRI64
"i"

	)

79 
	#PRIiMAX
 "ji"

	)

80 
	#PRIiPTR
 
__PRI±r
"i"

	)

84 
	#PRIo8
 "o"

	)

85 
	#PRIo16
 "o"

	)

86 
	#PRIo32
 "o"

	)

87 
	#PRIo64
 
__PRI64
"o"

	)

88 
	#PRIoLEAST8
 "o"

	)

89 
	#PRIoLEAST16
 "o"

	)

90 
	#PRIoLEAST32
 "o"

	)

91 
	#PRIoLEAST64
 
__PRI64
"o"

	)

92 
	#PRIoFAST8
 "o"

	)

93 
	#PRIoFAST16
 "o"

	)

94 
	#PRIoFAST32
 "o"

	)

95 
	#PRIoFAST64
 
__PRI64
"o"

	)

96 
	#PRIoMAX
 "jo"

	)

97 
	#PRIoPTR
 
__PRI±r
"o"

	)

99 
	#PRIu8
 "u"

	)

100 
	#PRIu16
 "u"

	)

101 
	#PRIu32
 "u"

	)

102 
	#PRIu64
 
__PRI64
"u"

	)

103 
	#PRIuLEAST8
 "u"

	)

104 
	#PRIuLEAST16
 "u"

	)

105 
	#PRIuLEAST32
 "u"

	)

106 
	#PRIuLEAST64
 
__PRI64
"u"

	)

107 
	#PRIuFAST8
 "u"

	)

108 
	#PRIuFAST16
 "u"

	)

109 
	#PRIuFAST32
 "u"

	)

110 
	#PRIuFAST64
 
__PRI64
"u"

	)

111 
	#PRIuMAX
 "ju"

	)

112 
	#PRIuPTR
 
__PRI±r
"u"

	)

114 
	#PRIx8
 "x"

	)

115 
	#PRIx16
 "x"

	)

116 
	#PRIx32
 "x"

	)

117 
	#PRIx64
 
__PRI64
"x"

	)

118 
	#PRIxLEAST8
 "x"

	)

119 
	#PRIxLEAST16
 "x"

	)

120 
	#PRIxLEAST32
 "x"

	)

121 
	#PRIxLEAST64
 
__PRI64
"x"

	)

122 
	#PRIxFAST8
 "x"

	)

123 
	#PRIxFAST16
 "x"

	)

124 
	#PRIxFAST32
 "x"

	)

125 
	#PRIxFAST64
 
__PRI64
"x"

	)

126 
	#PRIxMAX
 "jx"

	)

127 
	#PRIxPTR
 
__PRI±r
"x"

	)

129 
	#PRIX8
 "X"

	)

130 
	#PRIX16
 "X"

	)

131 
	#PRIX32
 "X"

	)

132 
	#PRIX64
 
__PRI64
"X"

	)

133 
	#PRIXLEAST8
 "X"

	)

134 
	#PRIXLEAST16
 "X"

	)

135 
	#PRIXLEAST32
 "X"

	)

136 
	#PRIXLEAST64
 
__PRI64
"X"

	)

137 
	#PRIXFAST8
 "X"

	)

138 
	#PRIXFAST16
 "X"

	)

139 
	#PRIXFAST32
 "X"

	)

140 
	#PRIXFAST64
 
__PRI64
"X"

	)

141 
	#PRIXMAX
 "jX"

	)

142 
	#PRIXPTR
 
__PRI±r
"X"

	)

146 
	#SCNd8
 "hhd"

	)

147 
	#SCNd16
 "hd"

	)

148 
	#SCNd32
 "d"

	)

149 
	#SCNd64
 
__PRI64
"d"

	)

150 
	#SCNdLEAST8
 "hhd"

	)

151 
	#SCNdLEAST16
 "hd"

	)

152 
	#SCNdLEAST32
 "d"

	)

153 
	#SCNdLEAST64
 
__PRI64
"d"

	)

154 
	#SCNdFAST8
 "d"

	)

155 
	#SCNdFAST16
 "d"

	)

156 
	#SCNdFAST32
 "d"

	)

157 
	#SCNdFAST64
 
__PRI64
"d"

	)

158 
	#SCNdMAX
 "jd"

	)

159 
	#SCNdPTR
 
__PRI±r
"d"

	)

161 
	#SCNi8
 "hhi"

	)

162 
	#SCNi16
 "hi"

	)

163 
	#SCNi32
 "i"

	)

164 
	#SCNi64
 
__PRI64
"i"

	)

165 
	#SCNiLEAST8
 "hhi"

	)

166 
	#SCNiLEAST16
 "hi"

	)

167 
	#SCNiLEAST32
 "i"

	)

168 
	#SCNiLEAST64
 
__PRI64
"i"

	)

169 
	#SCNiFAST8
 "i"

	)

170 
	#SCNiFAST16
 "i"

	)

171 
	#SCNiFAST32
 "i"

	)

172 
	#SCNiFAST64
 
__PRI64
"i"

	)

173 
	#SCNiMAX
 "ji"

	)

174 
	#SCNiPTR
 
__PRI±r
"i"

	)

178 
	#SCNo8
 "hho"

	)

179 
	#SCNo16
 "ho"

	)

180 
	#SCNo32
 "o"

	)

181 
	#SCNo64
 
__PRI64
"o"

	)

182 
	#SCNoLEAST8
 "hho"

	)

183 
	#SCNoLEAST16
 "ho"

	)

184 
	#SCNoLEAST32
 "o"

	)

185 
	#SCNoLEAST64
 
__PRI64
"o"

	)

186 
	#SCNoFAST8
 "o"

	)

187 
	#SCNoFAST16
 "o"

	)

188 
	#SCNoFAST32
 "o"

	)

189 
	#SCNoFAST64
 
__PRI64
"o"

	)

190 
	#SCNoMAX
 "jo"

	)

191 
	#SCNoPTR
 
__PRI±r
"o"

	)

193 
	#SCNu8
 "hhu"

	)

194 
	#SCNu16
 "hu"

	)

195 
	#SCNu32
 "u"

	)

196 
	#SCNu64
 
__PRI64
"u"

	)

197 
	#SCNuLEAST8
 "hhu"

	)

198 
	#SCNuLEAST16
 "hu"

	)

199 
	#SCNuLEAST32
 "u"

	)

200 
	#SCNuLEAST64
 
__PRI64
"u"

	)

201 
	#SCNuFAST8
 "u"

	)

202 
	#SCNuFAST16
 "u"

	)

203 
	#SCNuFAST32
 "u"

	)

204 
	#SCNuFAST64
 
__PRI64
"u"

	)

205 
	#SCNuMAX
 "ju"

	)

206 
	#SCNuPTR
 
__PRI±r
"u"

	)

208 
	#SCNx8
 "hhx"

	)

209 
	#SCNx16
 "hx"

	)

210 
	#SCNx32
 "x"

	)

211 
	#SCNx64
 
__PRI64
"x"

	)

212 
	#SCNxLEAST8
 "hhx"

	)

213 
	#SCNxLEAST16
 "hx"

	)

214 
	#SCNxLEAST32
 "x"

	)

215 
	#SCNxLEAST64
 
__PRI64
"x"

	)

216 
	#SCNxFAST8
 "x"

	)

217 
	#SCNxFAST16
 "x"

	)

218 
	#SCNxFAST32
 "x"

	)

219 
	#SCNxFAST64
 
__PRI64
"x"

	)

220 
	#SCNxMAX
 "jx"

	)

221 
	#SCNxPTR
 
__PRI±r
"x"

	)

	@src/nvidia-drm/x86/_limits.h

35 #iâdef 
_MACHINE__LIMITS_H_


36 
	#_MACHINE__LIMITS_H_


	)

47 
	#__CHAR_BIT
 8

	)

49 
	#__SCHAR_MAX
 0x7à

	)

50 
	#__SCHAR_MIN
 (-0x7à- 1è

	)

52 
	#__UCHAR_MAX
 0xfà

	)

54 
	#__USHRT_MAX
 0xfffà

	)

55 
	#__SHRT_MAX
 0x7ffà

	)

56 
	#__SHRT_MIN
 (-0x7ffà- 1è

	)

58 
	#__UINT_MAX
 0xfffffffà

	)

59 
	#__INT_MAX
 0x7ffffffà

	)

60 
	#__INT_MIN
 (-0x7ffffffà- 1è

	)

62 #ifdef 
__LP64__


63 
	#__ULONG_MAX
 0xfffffffffffffffà

	)

64 
	#__LONG_MAX
 0x7ffffffffffffffà

	)

65 
	#__LONG_MIN
 (-0x7ffffffffffffffà- 1è

	)

67 
	#__ULONG_MAX
 0xffffffffUL

	)

68 
	#__LONG_MAX
 0x7fffffffL

	)

69 
	#__LONG_MIN
 (-0x7fffffffL - 1)

	)

73 
	#__ULLONG_MAX
 0xffffffffffffffffULL

	)

74 
	#__LLONG_MAX
 0x7fffffffffffffffLL

	)

75 
	#__LLONG_MIN
 (-0x7fffffffffffffffLL - 1è

	)

77 #ifdef 
__LP64__


78 
	#__SSIZE_MAX
 
__LONG_MAX


	)

79 
	#__SIZE_T_MAX
 
__ULONG_MAX


	)

80 
	#__OFF_MAX
 
__LONG_MAX


	)

81 
	#__OFF_MIN
 
__LONG_MIN


	)

83 
	#__UQUAD_MAX
 
__ULONG_MAX


	)

84 
	#__QUAD_MAX
 
__LONG_MAX


	)

85 
	#__QUAD_MIN
 
__LONG_MIN


	)

86 
	#__LONG_BIT
 64

	)

88 
	#__SSIZE_MAX
 
__INT_MAX


	)

89 
	#__SIZE_T_MAX
 
__UINT_MAX


	)

90 
	#__OFF_MAX
 
__LLONG_MAX


	)

91 
	#__OFF_MIN
 
__LLONG_MIN


	)

92 
	#__UQUAD_MAX
 
__ULLONG_MAX


	)

93 
	#__QUAD_MAX
 
__LLONG_MAX


	)

94 
	#__QUAD_MIN
 
__LLONG_MIN


	)

95 
	#__LONG_BIT
 32

	)

98 
	#__WORD_BIT
 32

	)

101 
	#__MINSIGSTKSZ
 (512 * 4)

	)

	@src/nvidia-drm/x86/_stdint.h

42 #iâdeà
_MACHINE__STDINT_H_


43 
	#_MACHINE__STDINT_H_


	)

45 
	~<machše/_lim™s.h
>

47 #ià!
defšed
(
__ýlu¥lus
è|| defšed(
__STDC_CONSTANT_MACROS
)

49 
	#INT8_C
(
c
è(c)

	)

50 
	#INT16_C
(
c
è(c)

	)

51 
	#INT32_C
(
c
è(c)

	)

53 
	#UINT8_C
(
c
è(c)

	)

54 
	#UINT16_C
(
c
è(c)

	)

55 
	#UINT32_C
(
c
è(ø## 
U
)

	)

57 #ifdef 
__LP64__


58 
	#INT64_C
(
c
è(ø## 
L
)

	)

59 
	#UINT64_C
(
c
è(ø## 
UL
)

	)

61 
	#INT64_C
(
c
è(ø## 
LL
)

	)

62 
	#UINT64_C
(
c
è(ø## 
ULL
)

	)

65 
	#INTMAX_C
(
c
è
	`INT64_C
(c)

	)

66 
	#UINTMAX_C
(
c
è
	`UINT64_C
(c)

	)

70 #ià!
defšed
(
__ýlu¥lus
è|| defšed(
__STDC_LIMIT_MACROS
)

76 
	#INT8_MIN
 (-0x7f-1)

	)

77 
	#INT16_MIN
 (-0x7fff-1)

	)

78 
	#INT32_MIN
 (-0x7fffffff-1)

	)

80 
	#INT8_MAX
 0x7f

	)

81 
	#INT16_MAX
 0x7fff

	)

82 
	#INT32_MAX
 0x7fffffff

	)

84 
	#UINT8_MAX
 0xff

	)

85 
	#UINT16_MAX
 0xffff

	)

86 
	#UINT32_MAX
 0xffffffffU

	)

88 #ifdeà
__LP64__


89 
	#INT64_MIN
 (-0x7fffffffffffffff-1)

	)

90 
	#INT64_MAX
 0x7fffffffffffffff

	)

91 
	#UINT64_MAX
 0xffffffffffffffff

	)

93 
	#INT64_MIN
 (-0x7fffffffffffffffLL-1)

	)

94 
	#INT64_MAX
 0x7fffffffffffffffLL

	)

95 
	#UINT64_MAX
 0xffffffffffffffffULL

	)

103 
	#INT_LEAST8_MIN
 
INT8_MIN


	)

104 
	#INT_LEAST16_MIN
 
INT16_MIN


	)

105 
	#INT_LEAST32_MIN
 
INT32_MIN


	)

106 
	#INT_LEAST64_MIN
 
INT64_MIN


	)

109 
	#INT_LEAST8_MAX
 
INT8_MAX


	)

110 
	#INT_LEAST16_MAX
 
INT16_MAX


	)

111 
	#INT_LEAST32_MAX
 
INT32_MAX


	)

112 
	#INT_LEAST64_MAX
 
INT64_MAX


	)

115 
	#UINT_LEAST8_MAX
 
UINT8_MAX


	)

116 
	#UINT_LEAST16_MAX
 
UINT16_MAX


	)

117 
	#UINT_LEAST32_MAX
 
UINT32_MAX


	)

118 
	#UINT_LEAST64_MAX
 
UINT64_MAX


	)

125 
	#INT_FAST8_MIN
 
INT32_MIN


	)

126 
	#INT_FAST16_MIN
 
INT32_MIN


	)

127 
	#INT_FAST32_MIN
 
INT32_MIN


	)

128 
	#INT_FAST64_MIN
 
INT64_MIN


	)

131 
	#INT_FAST8_MAX
 
INT32_MAX


	)

132 
	#INT_FAST16_MAX
 
INT32_MAX


	)

133 
	#INT_FAST32_MAX
 
INT32_MAX


	)

134 
	#INT_FAST64_MAX
 
INT64_MAX


	)

137 
	#UINT_FAST8_MAX
 
UINT32_MAX


	)

138 
	#UINT_FAST16_MAX
 
UINT32_MAX


	)

139 
	#UINT_FAST32_MAX
 
UINT32_MAX


	)

140 
	#UINT_FAST64_MAX
 
UINT64_MAX


	)

146 #ifdef 
__LP64__


147 
	#INTPTR_MIN
 
INT64_MIN


	)

148 
	#INTPTR_MAX
 
INT64_MAX


	)

149 
	#UINTPTR_MAX
 
UINT64_MAX


	)

151 
	#INTPTR_MIN
 
INT32_MIN


	)

152 
	#INTPTR_MAX
 
INT32_MAX


	)

153 
	#UINTPTR_MAX
 
UINT32_MAX


	)

160 
	#INTMAX_MIN
 
INT64_MIN


	)

161 
	#INTMAX_MAX
 
INT64_MAX


	)

162 
	#UINTMAX_MAX
 
UINT64_MAX


	)

168 #ifdef 
__LP64__


170 
	#PTRDIFF_MIN
 
INT64_MIN


	)

171 
	#PTRDIFF_MAX
 
INT64_MAX


	)

174 
	#SIG_ATOMIC_MIN
 
__LONG_MIN


	)

175 
	#SIG_ATOMIC_MAX
 
__LONG_MAX


	)

178 
	#SIZE_MAX
 
UINT64_MAX


	)

180 
	#PTRDIFF_MIN
 
INT32_MIN


	)

181 
	#PTRDIFF_MAX
 
INT32_MAX


	)

182 
	#SIG_ATOMIC_MIN
 
INT32_MIN


	)

183 
	#SIG_ATOMIC_MAX
 
INT32_MAX


	)

184 
	#SIZE_MAX
 
UINT32_MAX


	)

188 
	#WINT_MIN
 
INT32_MIN


	)

189 
	#WINT_MAX
 
INT32_MAX


	)

	@src/nvidia-drm/x86/_types.h

41 #iâdeà
_MACHINE__TYPES_H_


42 
	#_MACHINE__TYPES_H_


	)

44 #iâdeà
_SYS_CDEFS_H_


45 #”rÜ 
this
 
fže
 
Ãeds
 
sys
/
cdefs
.
h
 
as
 
a
 
´”equis™e


48 
	~<machše/_lim™s.h
>

50 
	#__NO_STRICT_ALIGNMENT


	)

55 sigÃd 
	t__št8_t
;

56 
	t__ušt8_t
;

57 
	t__št16_t
;

58 
	t__ušt16_t
;

59 
	t__št32_t
;

60 
	t__ušt32_t
;

61 #ifdef 
__LP64__


62 
	t__št64_t
;

63 
	t__ušt64_t
;

65 
__ex‹nsiÚ__


66 
	t__št64_t
;

67 
__ex‹nsiÚ__


68 
	t__ušt64_t
;

74 #ifdef 
__LP64__


75 
__št32_t
 
	t__þock_t
;

76 
__št64_t
 
	t__ü™iÿl_t
;

77 #iâdeà
_STANDALONE


78 
	t__doubË_t
;

79 
	t__æßt_t
;

81 
__št64_t
 
	t__štåŒ_t
;

82 
__št64_t
 
	t__šŒ_t
;

84 
	t__þock_t
;

85 
__št32_t
 
	t__ü™iÿl_t
;

86 #iâdeà
_STANDALONE


87 
	t__doubË_t
;

88 
	t__æßt_t
;

90 
__št32_t
 
	t__štåŒ_t
;

91 
__št32_t
 
	t__šŒ_t
;

93 
__št64_t
 
	t__štmax_t
;

94 
__št32_t
 
	t__št_ç¡8_t
;

95 
__št32_t
 
	t__št_ç¡16_t
;

96 
__št32_t
 
	t__št_ç¡32_t
;

97 
__št64_t
 
	t__št_ç¡64_t
;

98 
__št8_t
 
	t__št_Ëa¡8_t
;

99 
__št16_t
 
	t__št_Ëa¡16_t
;

100 
__št32_t
 
	t__št_Ëa¡32_t
;

101 
__št64_t
 
	t__št_Ëa¡64_t
;

102 #ifdef 
__LP64__


103 
__št64_t
 
	t__±rdiff_t
;

104 
__št64_t
 
	t__»gi¡”_t
;

105 
__št64_t
 
	t__£gsz_t
;

106 
__ušt64_t
 
	t__size_t
;

107 
__št64_t
 
	t__ssize_t
;

108 
__št64_t
 
	t__time_t
;

109 
__ušt64_t
 
	t__uštåŒ_t
;

110 
__ušt64_t
 
	t__ušŒ_t
;

112 
__št32_t
 
	t__±rdiff_t
;

113 
__št32_t
 
	t__»gi¡”_t
;

114 
__št32_t
 
	t__£gsz_t
;

115 
__ušt32_t
 
	t__size_t
;

116 
__št32_t
 
	t__ssize_t
;

117 
__št32_t
 
	t__time_t
;

118 
__ušt32_t
 
	t__uštåŒ_t
;

119 
__ušt32_t
 
	t__ušŒ_t
;

121 
__ušt64_t
 
	t__uštmax_t
;

122 
__ušt32_t
 
	t__ušt_ç¡8_t
;

123 
__ušt32_t
 
	t__ušt_ç¡16_t
;

124 
__ušt32_t
 
	t__ušt_ç¡32_t
;

125 
__ušt64_t
 
	t__ušt_ç¡64_t
;

126 
__ušt8_t
 
	t__ušt_Ëa¡8_t
;

127 
__ušt16_t
 
	t__ušt_Ëa¡16_t
;

128 
__ušt32_t
 
	t__ušt_Ëa¡32_t
;

129 
__ušt64_t
 
	t__ušt_Ëa¡64_t
;

130 #ifdef 
__LP64__


131 
__ušt64_t
 
	t__u_»gi¡”_t
;

132 
__ušt64_t
 
	t__vm_off£t_t
;

133 
__ušt64_t
 
	t__vm_·ddr_t
;

134 
__ušt64_t
 
	t__vm_size_t
;

136 
__ušt32_t
 
	t__u_»gi¡”_t
;

137 
__ušt32_t
 
	t__vm_off£t_t
;

138 #ifdeà
PAE


139 
__ušt64_t
 
	t__vm_·ddr_t
;

141 
__ušt32_t
 
	t__vm_·ddr_t
;

143 
__ušt32_t
 
	t__vm_size_t
;

145 
	t___wch¬_t
;

147 
	#__WCHAR_MIN
 
__INT_MIN


	)

148 
	#__WCHAR_MAX
 
__INT_MAX


	)

	@src/nvidia-drm/x86/acpica_machdep.h

38 #iâdeà
__ACPICA_MACHDEP_H__


39 
	#__ACPICA_MACHDEP_H__


	)

41 #ifdeà
_KERNEL


50 
	#ACPI_SYSTEM_XFACE


	)

51 
	#ACPI_EXTERNAL_XFACE


	)

52 
	#ACPI_INTERNAL_XFACE


	)

53 
	#ACPI_INTERNAL_VAR_XFACE


	)

57 
	#ACPI_ASM_MACROS


	)

58 
	#BREAKPOINT3


	)

59 
	#ACPI_DISABLE_IRQS
(è
	`di§bË_šŒ
()

	)

60 
	#ACPI_ENABLE_IRQS
(è
	`’abË_šŒ
()

	)

62 
	#ACPI_FLUSH_CPU_CACHE
(è
	`wbšvd
()

	)

65 
aýi_acquœe_glob®_lock
(vÞ©ž
ušt32_t
 *);

66 
aýi_»Ëa£_glob®_lock
(vÞ©ž
ušt32_t
 *);

67 
	#ACPI_ACQUIRE_GLOBAL_LOCK
(
GL±r
, 
Acq
) do { \

68 (
Acq
èð
	`aýi_acquœe_glob®_lock
(&((
GL±r
)->
Glob®Lock
)); \

69 } 0)

	)

70 
	#ACPI_RELEASE_GLOBAL_LOCK
(
GL±r
, 
Acq
) do { \

71 (
Acq
èð
	`aýi_»Ëa£_glob®_lock
(&((
GL±r
)->
Glob®Lock
)); \

72 } 0)

	)

74 
	gšŒ_Œigg”
;

75 
	gšŒ_pÞ¬™y
;

77 
aýi_S‘DeçuÉIÁrMod–
(
mod–
);

78 
aýi_ýu_c1
();

79 
aýi_ýu_idË_mwa™
(
ušt32_t
 
mwa™_hšt
);

80 *
aýi_m­_bË
(
vm_·ddr_t
 
·
, cÚ¡ *
sig
);

81 
aýi_unm­_bË
(*
bË
);

82 
vm_·ddr_t
 
aýi_fšd_bË
(cÚ¡ *
sig
);

83 
madt_·r£_š‹¼u±_v®ues
(*
’Œy
,

84 
šŒ_Œigg”
 *
Œig
, 
šŒ_pÞ¬™y
 *
pÞ
);

86 
madt_found_sci_ov”ride
;

	@src/nvidia-drm/x86/apicreg.h

30 #iâdeà
_X86_APICREG_H_


31 
	#_X86_APICREG_H_


	)

123 #iâdeà
LOCORE


124 
	~<sys/ty³s.h
>

126 
	#PAD3
 : 32; : 32; : 32

	)

127 
	#PAD4
 : 32; : 32; : 32; : 32

	)

129 
	sLAPIC
 {

130  
	mPAD4
;

131  
	mPAD4
;

132 
u_št32_t
 
	mid
; 
	mPAD3
;

133 
u_št32_t
 
	mv”siÚ
; 
	mPAD3
;

134  
	mPAD4
;

135  
	mPAD4
;

136  
	mPAD4
;

137  
	mPAD4
;

138 
u_št32_t
 
	mr
; 
	mPAD3
;

139 
u_št32_t
 
	m­r
; 
	mPAD3
;

140 
u_št32_t
 
	mµr
; 
	mPAD3
;

141 
u_št32_t
 
	meoi
; 
	mPAD3
;

142  
	mPAD4
;

143 
u_št32_t
 
	mldr
; 
	mPAD3
;

144 
u_št32_t
 
	mdä
; 
	mPAD3
;

145 
u_št32_t
 
	msvr
; 
	mPAD3
;

146 
u_št32_t
 
	mi¤0
; 
	mPAD3
;

147 
u_št32_t
 
	mi¤1
; 
	mPAD3
;

148 
u_št32_t
 
	mi¤2
; 
	mPAD3
;

149 
u_št32_t
 
	mi¤3
; 
	mPAD3
;

150 
u_št32_t
 
	mi¤4
; 
	mPAD3
;

151 
u_št32_t
 
	mi¤5
; 
	mPAD3
;

152 
u_št32_t
 
	mi¤6
; 
	mPAD3
;

153 
u_št32_t
 
	mi¤7
; 
	mPAD3
;

154 
u_št32_t
 
	mtmr0
; 
	mPAD3
;

155 
u_št32_t
 
	mtmr1
; 
	mPAD3
;

156 
u_št32_t
 
	mtmr2
; 
	mPAD3
;

157 
u_št32_t
 
	mtmr3
; 
	mPAD3
;

158 
u_št32_t
 
	mtmr4
; 
	mPAD3
;

159 
u_št32_t
 
	mtmr5
; 
	mPAD3
;

160 
u_št32_t
 
	mtmr6
; 
	mPAD3
;

161 
u_št32_t
 
	mtmr7
; 
	mPAD3
;

162 
u_št32_t
 
	mœr0
; 
	mPAD3
;

163 
u_št32_t
 
	mœr1
; 
	mPAD3
;

164 
u_št32_t
 
	mœr2
; 
	mPAD3
;

165 
u_št32_t
 
	mœr3
; 
	mPAD3
;

166 
u_št32_t
 
	mœr4
; 
	mPAD3
;

167 
u_št32_t
 
	mœr5
; 
	mPAD3
;

168 
u_št32_t
 
	mœr6
; 
	mPAD3
;

169 
u_št32_t
 
	mœr7
; 
	mPAD3
;

170 
u_št32_t
 
	me¤
; 
	mPAD3
;

171  
	mPAD4
;

172  
	mPAD4
;

173  
	mPAD4
;

174  
	mPAD4
;

175  
	mPAD4
;

176  
	mPAD4
;

177 
u_št32_t
 
	mlvt_cmci
; 
	mPAD3
;

178 
u_št32_t
 
	miü_lo
; 
	mPAD3
;

179 
u_št32_t
 
	miü_hi
; 
	mPAD3
;

180 
u_št32_t
 
	mlvt_tim”
; 
	mPAD3
;

181 
u_št32_t
 
	mlvt_th”m®
; 
	mPAD3
;

182 
u_št32_t
 
	mlvt_pcšt
; 
	mPAD3
;

183 
u_št32_t
 
	mlvt_lšt0
; 
	mPAD3
;

184 
u_št32_t
 
	mlvt_lšt1
; 
	mPAD3
;

185 
u_št32_t
 
	mlvt_”rÜ
; 
	mPAD3
;

186 
u_št32_t
 
	miü_tim”
; 
	mPAD3
;

187 
u_št32_t
 
	mcü_tim”
; 
	mPAD3
;

188  
	mPAD4
;

189  
	mPAD4
;

190  
	mPAD4
;

191  
	mPAD4
;

192 
u_št32_t
 
	mdü_tim”
; 
	mPAD3
;

193  
	mPAD4
;

196 
LAPIC
 
	tÏpic_t
;

198 
	eLAPIC_REGISTERS
 {

199 
	mLAPIC_ID
 = 0x2,

200 
	mLAPIC_VERSION
 = 0x3,

201 
	mLAPIC_TPR
 = 0x8,

202 
	mLAPIC_APR
 = 0x9,

203 
	mLAPIC_PPR
 = 0xa,

204 
	mLAPIC_EOI
 = 0xb,

205 
	mLAPIC_LDR
 = 0xd,

206 
	mLAPIC_DFR
 = 0xe,

207 
	mLAPIC_SVR
 = 0xf,

208 
	mLAPIC_ISR0
 = 0x10,

209 
	mLAPIC_ISR1
 = 0x11,

210 
	mLAPIC_ISR2
 = 0x12,

211 
	mLAPIC_ISR3
 = 0x13,

212 
	mLAPIC_ISR4
 = 0x14,

213 
	mLAPIC_ISR5
 = 0x15,

214 
	mLAPIC_ISR6
 = 0x16,

215 
	mLAPIC_ISR7
 = 0x17,

216 
	mLAPIC_TMR0
 = 0x18,

217 
	mLAPIC_TMR1
 = 0x19,

218 
	mLAPIC_TMR2
 = 0x1a,

219 
	mLAPIC_TMR3
 = 0x1b,

220 
	mLAPIC_TMR4
 = 0x1c,

221 
	mLAPIC_TMR5
 = 0x1d,

222 
	mLAPIC_TMR6
 = 0x1e,

223 
	mLAPIC_TMR7
 = 0x1f,

224 
	mLAPIC_IRR0
 = 0x20,

225 
	mLAPIC_IRR1
 = 0x21,

226 
	mLAPIC_IRR2
 = 0x22,

227 
	mLAPIC_IRR3
 = 0x23,

228 
	mLAPIC_IRR4
 = 0x24,

229 
	mLAPIC_IRR5
 = 0x25,

230 
	mLAPIC_IRR6
 = 0x26,

231 
	mLAPIC_IRR7
 = 0x27,

232 
	mLAPIC_ESR
 = 0x28,

233 
	mLAPIC_LVT_CMCI
 = 0x2f,

234 
	mLAPIC_ICR_LO
 = 0x30,

235 
	mLAPIC_ICR_HI
 = 0x31,

236 
	mLAPIC_LVT_TIMER
 = 0x32,

237 
	mLAPIC_LVT_THERMAL
 = 0x33,

238 
	mLAPIC_LVT_PCINT
 = 0x34,

239 
	mLAPIC_LVT_LINT0
 = 0x35,

240 
	mLAPIC_LVT_LINT1
 = 0x36,

241 
	mLAPIC_LVT_ERROR
 = 0x37,

242 
	mLAPIC_ICR_TIMER
 = 0x38,

243 
	mLAPIC_CCR_TIMER
 = 0x39,

244 
	mLAPIC_DCR_TIMER
 = 0x3e,

245 
	mLAPIC_SELF_IPI
 = 0x3f,

246 
	mLAPIC_EXT_FEATURES
 = 0x40,

247 
	mLAPIC_EXT_CTRL
 = 0x41,

248 
	mLAPIC_EXT_SEOI
 = 0x42,

249 
	mLAPIC_EXT_IER0
 = 0x48,

250 
	mLAPIC_EXT_IER1
 = 0x49,

251 
	mLAPIC_EXT_IER2
 = 0x4a,

252 
	mLAPIC_EXT_IER3
 = 0x4b,

253 
	mLAPIC_EXT_IER4
 = 0x4c,

254 
	mLAPIC_EXT_IER5
 = 0x4d,

255 
	mLAPIC_EXT_IER6
 = 0x4e,

256 
	mLAPIC_EXT_IER7
 = 0x4f,

257 
	mLAPIC_EXT_LVT0
 = 0x50,

258 
	mLAPIC_EXT_LVT1
 = 0x51,

259 
	mLAPIC_EXT_LVT2
 = 0x52,

260 
	mLAPIC_EXT_LVT3
 = 0x53,

263 
	#LAPIC_MEM_MUL
 0x10

	)

271 
	#LAPIC_MEM_REGION
 ((
LAPIC_EXT_LVT3
 + 1è* 
LAPIC_MEM_MUL
)

	)

277 
	sIOAPIC
 {

278 
u_št32_t
 
	miÜeg£l
; 
	mPAD3
;

279 
u_št32_t
 
	miowš
; 
	mPAD3
;

282 
IOAPIC
 
	tißpic_t
;

284 #undeà
PAD4


285 #undeà
PAD3


299 
	#DEFAULT_APIC_BASE
 0xãe00000

	)

302 
	#APIC_ID_MASK
 0xff000000

	)

303 
	#APIC_ID_SHIFT
 24

	)

304 
	#APIC_ID_CLUSTER
 0xf0

	)

305 
	#APIC_ID_CLUSTER_ID
 0x0f

	)

306 
	#APIC_MAX_CLUSTER
 0xe

	)

307 
	#APIC_MAX_INTRACLUSTER_ID
 3

	)

308 
	#APIC_ID_CLUSTER_SHIFT
 4

	)

311 
	#APIC_VER_VERSION
 0x000000ff

	)

312 
	#APIC_VER_MAXLVT
 0x00ff0000

	)

313 
	#MAXLVTSHIFT
 16

	)

314 
	#APIC_VER_EOI_SUPPRESSION
 0x01000000

	)

315 
	#APIC_VER_AMD_EXT_SPACE
 0x80000000

	)

318 
	#APIC_LDR_RESERVED
 0x00ffffff

	)

321 
	#APIC_DFR_RESERVED
 0x0fffffff

	)

322 
	#APIC_DFR_MODEL_MASK
 0xf0000000

	)

323 
	#APIC_DFR_MODEL_FLAT
 0xf0000000

	)

324 
	#APIC_DFR_MODEL_CLUSTER
 0x00000000

	)

327 
	#APIC_SVR_VECTOR
 0x000000ff

	)

328 
	#APIC_SVR_VEC_PROG
 0x000000f0

	)

329 
	#APIC_SVR_VEC_FIX
 0x0000000f

	)

330 
	#APIC_SVR_ENABLE
 0x00000100

	)

331 
	#APIC_SVR_SWDIS
 0x00000000

	)

332 
	#APIC_SVR_SWEN
 0x00000100

	)

333 
	#APIC_SVR_FOCUS
 0x00000200

	)

334 
	#APIC_SVR_FEN
 0x00000000

	)

335 
	#APIC_SVR_FDIS
 0x00000200

	)

336 
	#APIC_SVR_EOI_SUPPRESSION
 0x00001000

	)

339 
	#APIC_TPR_PRIO
 0x000000ff

	)

340 
	#APIC_TPR_INT
 0x000000f0

	)

341 
	#APIC_TPR_SUB
 0x0000000f

	)

344 
	#APIC_ESR_SEND_CS_ERROR
 0x00000001

	)

345 
	#APIC_ESR_RECEIVE_CS_ERROR
 0x00000002

	)

346 
	#APIC_ESR_SEND_ACCEPT
 0x00000004

	)

347 
	#APIC_ESR_RECEIVE_ACCEPT
 0x00000008

	)

348 
	#APIC_ESR_SEND_ILLEGAL_VECTOR
 0x00000020

	)

349 
	#APIC_ESR_RECEIVE_ILLEGAL_VECTOR
 0x00000040

	)

350 
	#APIC_ESR_ILLEGAL_REGISTER
 0x00000080

	)

353 
	#APIC_VECTOR_MASK
 0x000000ff

	)

355 
	#APIC_DELMODE_MASK
 0x00000700

	)

356 
	#APIC_DELMODE_FIXED
 0x00000000

	)

357 
	#APIC_DELMODE_LOWPRIO
 0x00000100

	)

358 
	#APIC_DELMODE_SMI
 0x00000200

	)

359 
	#APIC_DELMODE_RR
 0x00000300

	)

360 
	#APIC_DELMODE_NMI
 0x00000400

	)

361 
	#APIC_DELMODE_INIT
 0x00000500

	)

362 
	#APIC_DELMODE_STARTUP
 0x00000600

	)

363 
	#APIC_DELMODE_RESV
 0x00000700

	)

365 
	#APIC_DESTMODE_MASK
 0x00000800

	)

366 
	#APIC_DESTMODE_PHY
 0x00000000

	)

367 
	#APIC_DESTMODE_LOG
 0x00000800

	)

369 
	#APIC_DELSTAT_MASK
 0x00001000

	)

370 
	#APIC_DELSTAT_IDLE
 0x00000000

	)

371 
	#APIC_DELSTAT_PEND
 0x00001000

	)

373 
	#APIC_RESV1_MASK
 0x00002000

	)

375 
	#APIC_LEVEL_MASK
 0x00004000

	)

376 
	#APIC_LEVEL_DEASSERT
 0x00000000

	)

377 
	#APIC_LEVEL_ASSERT
 0x00004000

	)

379 
	#APIC_TRIGMOD_MASK
 0x00008000

	)

380 
	#APIC_TRIGMOD_EDGE
 0x00000000

	)

381 
	#APIC_TRIGMOD_LEVEL
 0x00008000

	)

383 
	#APIC_RRSTAT_MASK
 0x00030000

	)

384 
	#APIC_RRSTAT_INVALID
 0x00000000

	)

385 
	#APIC_RRSTAT_INPROG
 0x00010000

	)

386 
	#APIC_RRSTAT_VALID
 0x00020000

	)

387 
	#APIC_RRSTAT_RESV
 0x00030000

	)

389 
	#APIC_DEST_MASK
 0x000c0000

	)

390 
	#APIC_DEST_DESTFLD
 0x00000000

	)

391 
	#APIC_DEST_SELF
 0x00040000

	)

392 
	#APIC_DEST_ALLISELF
 0x00080000

	)

393 
	#APIC_DEST_ALLESELF
 0x000c0000

	)

395 
	#APIC_RESV2_MASK
 0xfff00000

	)

397 
	#APIC_ICRLO_RESV_MASK
 (
APIC_RESV1_MASK
 | 
APIC_RESV2_MASK
)

	)

400 
	#APIC_LVT_VECTOR
 0x000000ff

	)

401 
	#APIC_LVT_DM
 0x00000700

	)

402 
	#APIC_LVT_DM_FIXED
 0x00000000

	)

403 
	#APIC_LVT_DM_SMI
 0x00000200

	)

404 
	#APIC_LVT_DM_NMI
 0x00000400

	)

405 
	#APIC_LVT_DM_INIT
 0x00000500

	)

406 
	#APIC_LVT_DM_EXTINT
 0x00000700

	)

407 
	#APIC_LVT_DS
 0x00001000

	)

408 
	#APIC_LVT_IIPP
 0x00002000

	)

409 
	#APIC_LVT_IIPP_INTALO
 0x00002000

	)

410 
	#APIC_LVT_IIPP_INTAHI
 0x00000000

	)

411 
	#APIC_LVT_RIRR
 0x00004000

	)

412 
	#APIC_LVT_TM
 0x00008000

	)

413 
	#APIC_LVT_M
 0x00010000

	)

417 
	#APIC_LVTT_VECTOR
 0x000000ff

	)

418 
	#APIC_LVTT_DS
 0x00001000

	)

419 
	#APIC_LVTT_M
 0x00010000

	)

420 
	#APIC_LVTT_TM
 0x00060000

	)

421 
	#APIC_LVTT_TM_ONE_SHOT
 0x00000000

	)

422 
	#APIC_LVTT_TM_PERIODIC
 0x00020000

	)

423 
	#APIC_LVTT_TM_TSCDLT
 0x00040000

	)

424 
	#APIC_LVTT_TM_RSRV
 0x00060000

	)

427 
	#APIC_TIMER_MAX_COUNT
 0xffffffff

	)

430 
	#APIC_TDCR_2
 0x00

	)

431 
	#APIC_TDCR_4
 0x01

	)

432 
	#APIC_TDCR_8
 0x02

	)

433 
	#APIC_TDCR_16
 0x03

	)

434 
	#APIC_TDCR_32
 0x08

	)

435 
	#APIC_TDCR_64
 0x09

	)

436 
	#APIC_TDCR_128
 0x0a

	)

437 
	#APIC_TDCR_1
 0x0b

	)

440 
	#APIC_EXTF_ELVT_MASK
 0x00ff0000

	)

441 
	#APIC_EXTF_ELVT_SHIFT
 16

	)

442 
	#APIC_EXTF_EXTID_CAP
 0x00000004

	)

443 
	#APIC_EXTF_SEIO_CAP
 0x00000002

	)

444 
	#APIC_EXTF_IER_CAP
 0x00000001

	)

447 
	#APIC_LVT_LINT0
 0

	)

448 
	#APIC_LVT_LINT1
 1

	)

449 
	#APIC_LVT_TIMER
 2

	)

450 
	#APIC_LVT_ERROR
 3

	)

451 
	#APIC_LVT_PMC
 4

	)

452 
	#APIC_LVT_THERMAL
 5

	)

453 
	#APIC_LVT_CMCI
 6

	)

454 
	#APIC_LVT_MAX
 
APIC_LVT_CMCI


	)

457 
	#APIC_ELVT_IBS
 0

	)

458 
	#APIC_ELVT_MCA
 1

	)

459 
	#APIC_ELVT_DEI
 2

	)

460 
	#APIC_ELVT_SBI
 3

	)

461 
	#APIC_ELVT_MAX
 
APIC_ELVT_SBI


	)

468 
	#DEFAULT_IO_APIC_BASE
 0xãc00000

	)

471 
	#IOAPIC_WINDOW
 0x10

	)

472 
	#IOAPIC_EOIR
 0x40

	)

474 
	#IOAPIC_WND_SIZE
 0x50

	)

477 
	#IOAPIC_ID
 0x00

	)

478 
	#IOAPIC_VER
 0x01

	)

479 
	#IOAPIC_ARB
 0x02

	)

480 
	#IOAPIC_REDTBL
 0x10

	)

481 
	#IOAPIC_REDTBL0
 
IOAPIC_REDTBL


	)

482 
	#IOAPIC_REDTBL1
 (
IOAPIC_REDTBL
+0x02)

	)

483 
	#IOAPIC_REDTBL2
 (
IOAPIC_REDTBL
+0x04)

	)

484 
	#IOAPIC_REDTBL3
 (
IOAPIC_REDTBL
+0x06)

	)

485 
	#IOAPIC_REDTBL4
 (
IOAPIC_REDTBL
+0x08)

	)

486 
	#IOAPIC_REDTBL5
 (
IOAPIC_REDTBL
+0x0a)

	)

487 
	#IOAPIC_REDTBL6
 (
IOAPIC_REDTBL
+0x0c)

	)

488 
	#IOAPIC_REDTBL7
 (
IOAPIC_REDTBL
+0x0e)

	)

489 
	#IOAPIC_REDTBL8
 (
IOAPIC_REDTBL
+0x10)

	)

490 
	#IOAPIC_REDTBL9
 (
IOAPIC_REDTBL
+0x12)

	)

491 
	#IOAPIC_REDTBL10
 (
IOAPIC_REDTBL
+0x14)

	)

492 
	#IOAPIC_REDTBL11
 (
IOAPIC_REDTBL
+0x16)

	)

493 
	#IOAPIC_REDTBL12
 (
IOAPIC_REDTBL
+0x18)

	)

494 
	#IOAPIC_REDTBL13
 (
IOAPIC_REDTBL
+0x1a)

	)

495 
	#IOAPIC_REDTBL14
 (
IOAPIC_REDTBL
+0x1c)

	)

496 
	#IOAPIC_REDTBL15
 (
IOAPIC_REDTBL
+0x1e)

	)

497 
	#IOAPIC_REDTBL16
 (
IOAPIC_REDTBL
+0x20)

	)

498 
	#IOAPIC_REDTBL17
 (
IOAPIC_REDTBL
+0x22)

	)

499 
	#IOAPIC_REDTBL18
 (
IOAPIC_REDTBL
+0x24)

	)

500 
	#IOAPIC_REDTBL19
 (
IOAPIC_REDTBL
+0x26)

	)

501 
	#IOAPIC_REDTBL20
 (
IOAPIC_REDTBL
+0x28)

	)

502 
	#IOAPIC_REDTBL21
 (
IOAPIC_REDTBL
+0x2a)

	)

503 
	#IOAPIC_REDTBL22
 (
IOAPIC_REDTBL
+0x2c)

	)

504 
	#IOAPIC_REDTBL23
 (
IOAPIC_REDTBL
+0x2e)

	)

507 
	#IOART_VER_VERSION
 0x000000ff

	)

508 
	#IOART_VER_MAXREDIR
 0x00ff0000

	)

509 
	#MAXREDIRSHIFT
 16

	)

514 
	#IOART_DEST
 
APIC_ID_MASK


	)

516 
	#IOART_RESV
 0x00ã0000

	)

518 
	#IOART_INTMASK
 0x00010000

	)

519 
	#IOART_INTMCLR
 0x00000000

	)

520 
	#IOART_INTMSET
 0x00010000

	)

522 
	#IOART_TRGRMOD
 0x00008000

	)

523 
	#IOART_TRGREDG
 0x00000000

	)

524 
	#IOART_TRGRLVL
 0x00008000

	)

526 
	#IOART_REM_IRR
 0x00004000

	)

528 
	#IOART_INTPOL
 0x00002000

	)

529 
	#IOART_INTAHI
 0x00000000

	)

530 
	#IOART_INTALO
 0x00002000

	)

532 
	#IOART_DELIVS
 0x00001000

	)

534 
	#IOART_DESTMOD
 0x00000800

	)

535 
	#IOART_DESTPHY
 0x00000000

	)

536 
	#IOART_DESTLOG
 0x00000800

	)

538 
	#IOART_DELMOD
 0x00000700

	)

539 
	#IOART_DELFIXED
 0x00000000

	)

540 
	#IOART_DELLOPRI
 0x00000100

	)

541 
	#IOART_DELSMI
 0x00000200

	)

542 
	#IOART_DELRSV1
 0x00000300

	)

543 
	#IOART_DELNMI
 0x00000400

	)

544 
	#IOART_DELINIT
 0x00000500

	)

545 
	#IOART_DELRSV2
 0x00000600

	)

546 
	#IOART_DELEXINT
 0x00000700

	)

548 
	#IOART_INTVEC
 0x000000fà

	)

	@src/nvidia-drm/x86/apicvar.h

31 #iâdeà
_X86_APICVAR_H_


32 
	#_X86_APICVAR_H_


	)

79 
	#xAPIC_MAX_APIC_ID
 0xã

	)

80 
	#xAPIC_ID_ALL
 0xff

	)

81 
	#MAX_APIC_ID
 0x200

	)

82 
	#APIC_ID_ALL
 0xffffffff

	)

84 
	#IOAPIC_MAX_ID
 
xAPIC_MAX_APIC_ID


	)

87 
	#APIC_IO_INTS
 (
IDT_IO_INTS
 + 16)

	)

88 
	#APIC_NUM_IOINTS
 191

	)

91 
	#APIC_TIMER_INT
 (
APIC_IO_INTS
 + 
APIC_NUM_IOINTS
)

	)

109 
	#APIC_LOCAL_INTS
 240

	)

110 
	#APIC_ERROR_INT
 
APIC_LOCAL_INTS


	)

111 
	#APIC_THERMAL_INT
 (
APIC_LOCAL_INTS
 + 1)

	)

112 
	#APIC_CMC_INT
 (
APIC_LOCAL_INTS
 + 2)

	)

113 
	#APIC_IPI_INTS
 (
APIC_LOCAL_INTS
 + 3)

	)

115 
	#IPI_RENDEZVOUS
 (
APIC_IPI_INTS
è

	)

116 
	#IPI_INVLTLB
 (
APIC_IPI_INTS
 + 1è

	)

117 
	#IPI_INVLPG
 (
APIC_IPI_INTS
 + 2)

	)

118 
	#IPI_INVLRNG
 (
APIC_IPI_INTS
 + 3)

	)

119 
	#IPI_INVLCACHE
 (
APIC_IPI_INTS
 + 4)

	)

121 
	#IPI_BITMAP_VECTOR
 (
APIC_IPI_INTS
 + 5)

	)

124 
	#IPI_AST
 0

	)

125 
	#IPI_PREEMPT
 1

	)

126 
	#IPI_HARDCLOCK
 2

	)

127 
	#IPI_BITMAP_LAST
 
IPI_HARDCLOCK


	)

128 
	#IPI_IS_BITMAPED
(
x
è((xè<ð
IPI_BITMAP_LAST
)

	)

130 
	#IPI_STOP
 (
APIC_IPI_INTS
 + 6è

	)

131 
	#IPI_SUSPEND
 (
APIC_IPI_INTS
 + 7è

	)

132 
	#IPI_DYN_FIRST
 (
APIC_IPI_INTS
 + 8)

	)

133 
	#IPI_DYN_LAST
 (253è

	)

139 
	#IPI_NMI_FIRST
 254

	)

140 
	#IPI_TRACE
 254

	)

141 
	#IPI_STOP_HARD
 255

	)

147 
	#APIC_SPURIOUS_INT
 255

	)

149 #iâdeà
LOCORE


151 
	#APIC_IPI_DEST_SELF
 -1

	)

152 
	#APIC_IPI_DEST_ALL
 -2

	)

153 
	#APIC_IPI_DEST_OTHERS
 -3

	)

155 
	#APIC_BUS_UNKNOWN
 -1

	)

156 
	#APIC_BUS_ISA
 0

	)

157 
	#APIC_BUS_EISA
 1

	)

158 
	#APIC_BUS_PCI
 2

	)

159 
	#APIC_BUS_MAX
 
APIC_BUS_PCI


	)

161 
	#IRQ_EXTINT
 -1

	)

162 
	#IRQ_NMI
 -2

	)

163 
	#IRQ_SMI
 -3

	)

164 
	#IRQ_DISABLED
 -4

	)

170 
	s­ic_’um”©Ü
 {

171 cÚ¡ *
	m­ic_Çme
;

172 (*
	m­ic_´obe
)();

173 (*
	m­ic_´obe_ýus
)();

174 (*
	m­ic_£tup_loÿl
)();

175 (*
	m­ic_£tup_io
)();

176 
SLIST_ENTRY
(
­ic_’um”©Ü
è
	m­ic_Ãxt
;

179 
šthªd_t


180 
IDTVEC
(
­ic_i¤1
), IDTVEC(
­ic_i¤2
), IDTVEC(
­ic_i¤3
),

181 
IDTVEC
(
­ic_i¤4
), IDTVEC(
­ic_i¤5
), IDTVEC(
­ic_i¤6
),

182 
IDTVEC
(
­ic_i¤7
), IDTVEC(
cmcšt
), IDTVEC(
”rÜšt
),

183 
IDTVEC
(
¥uriousšt
), IDTVEC(
tim”št
),

184 
IDTVEC
(
­ic_i¤1_±i
), IDTVEC(
­ic_i¤2_±i
), IDTVEC(
­ic_i¤3_±i
),

185 
IDTVEC
(
­ic_i¤4_±i
), IDTVEC(
­ic_i¤5_±i
), IDTVEC(
­ic_i¤6_±i
),

186 
IDTVEC
(
­ic_i¤7_±i
), IDTVEC(
cmcšt_±i
), IDTVEC(
”rÜšt_±i
),

187 
IDTVEC
(
¥uriousšt_±i
), IDTVEC(
tim”št_±i
);

189 
vm_·ddr_t
 
Ïpic_·ddr
;

190 *
­ic_ýuids
;

192 
­ic_»gi¡”_’um”©Ü
(
­ic_’um”©Ü
 *
’um”©Ü
);

193 *
ißpic_ü—‹
(
vm_·ddr_t
 
addr
, 
št32_t
 
­ic_id
, 
štba£
);

194 
ißpic_di§bË_pš
(*
cook›
, 
u_št
 
pš
);

195 
ißpic_g‘_veùÜ
(*
cook›
, 
u_št
 
pš
);

196 
ißpic_»gi¡”
(*
cook›
);

197 
ißpic_»m­_veùÜ
(*
cook›
, 
u_št
 
pš
, 
veùÜ
);

198 
ißpic_£t_bus
(*
cook›
, 
u_št
 
pš
, 
bus_ty³
);

199 
ißpic_£t_extšt
(*
cook›
, 
u_št
 
pš
);

200 
ißpic_£t_nmi
(*
cook›
, 
u_št
 
pš
);

201 
ißpic_£t_pÞ¬™y
(*
cook›
, 
u_št
 
pš
, 
šŒ_pÞ¬™y
 
pÞ
);

202 
ißpic_£t_Œigg”mode
(*
cook›
, 
u_št
 
pš
,

203 
šŒ_Œigg”
 
Œigg”
);

204 
ißpic_£t_smi
(*
cook›
, 
u_št
 
pš
);

210 
	s­ic_Ýs
 {

211 (*
	mü—‹
)(
	mu_št
, );

212 (*
	mš™
)(
	mvm_·ddr_t
);

213 (*
	mx­ic_mode
)();

214 
boÞ
 (*
is_x2­ic
)();

215 (*
	m£tup
)();

216 (*
	mdump
)(const *);

217 (*
	mdi§bË
)();

218 (*
	meoi
)();

219 (*
	mid
)();

220 (*
	mšŒ_³ndšg
)(
	mu_št
);

221 (*
	m£t_logiÿl_id
)(
	mu_št
, u_int, u_int);

222 
u_št
 (*
ýuid
)(
	mu_št
);

225 
u_št
 (*
®loc_veùÜ
)(
	mu_št
, u_int);

226 
u_št
 (*
®loc_veùÜs
)(
	mu_št
, u_int *, u_int, u_int);

227 (*
	m’abË_veùÜ
)(
	mu_št
, u_int);

228 (*
	mdi§bË_veùÜ
)(
	mu_št
, u_int);

229 (*
	mä“_veùÜ
)(
	mu_št
, u_int, u_int);

233 (*
	m’abË_pmc
)();

234 (*
	mdi§bË_pmc
)();

235 (*
	m»’abË_pmc
)();

238 (*
	m’abË_cmc
)();

241 (*
	m’abË_mÿ_–vt
)();

244 (*
	mi_¿w
)(
	m»gi¡”_t
, 
	mu_št
);

245 (*
	mi_veùÜed
)(
	mu_št
, );

246 (*
	mi_wa™
)();

247 (*
	mi_®loc
)(
šthªd_t
 *
	mifunc
);

248 (*
	mi_ä“
)(
	mveùÜ
);

251 (*
	m£t_lvt_mask
)(
	mu_št
, u_št, 
	mu_ch¬
);

252 (*
	m£t_lvt_mode
)(
	mu_št
, u_št, 
	mu_št32_t
);

253 (*
	m£t_lvt_pÞ¬™y
)(
	mu_št
, u_št, 
	mšŒ_pÞ¬™y
);

254 (*
	m£t_lvt_Œigg”mode
)(
	mu_št
, u_št, 
	mšŒ_Œigg”
);

257 
­ic_Ýs
‡pic_ops;

259 
šlše
 

260 
	$Ïpic_ü—‹
(
u_št
 
­ic_id
, 
boÙ_ýu
)

263 
­ic_Ýs
.
	`ü—‹
(
­ic_id
, 
boÙ_ýu
);

264 
	}
}

266 
šlše
 

267 
	$Ïpic_š™
(
vm_·ddr_t
 
addr
)

270 
­ic_Ýs
.
	`š™
(
addr
);

271 
	}
}

273 
šlše
 

274 
	$Ïpic_x­ic_mode
()

277 
­ic_Ýs
.
	`x­ic_mode
();

278 
	}
}

280 
šlše
 
boÞ


281 
	$Ïpic_is_x2­ic
()

284  (
­ic_Ýs
.
	`is_x2­ic
());

285 
	}
}

287 
šlše
 

288 
	$Ïpic_£tup
(
boÙ
)

291 
­ic_Ýs
.
	`£tup
(
boÙ
);

292 
	}
}

294 
šlše
 

295 
	$Ïpic_dump
(cÚ¡ *
¡r
)

298 
­ic_Ýs
.
	`dump
(
¡r
);

299 
	}
}

301 
šlše
 

302 
	$Ïpic_di§bË
()

305 
­ic_Ýs
.
	`di§bË
();

306 
	}
}

308 
šlše
 

309 
	$Ïpic_eoi
()

312 
­ic_Ýs
.
	`eoi
();

313 
	}
}

315 
šlše
 

316 
	$Ïpic_id
()

319  (
­ic_Ýs
.
	`id
());

320 
	}
}

322 
šlše
 

323 
	$Ïpic_šŒ_³ndšg
(
u_št
 
veùÜ
)

326  (
­ic_Ýs
.
	`šŒ_³ndšg
(
veùÜ
));

327 
	}
}

330 
šlše
 

331 
	$Ïpic_£t_logiÿl_id
(
u_št
 
­ic_id
, u_šˆ
þu¡”
, u_šˆ
þu¡”_id
)

334 
­ic_Ýs
.
	`£t_logiÿl_id
(
­ic_id
, 
þu¡”
, 
þu¡”_id
);

335 
	}
}

337 
šlše
 
u_št


338 
	$­ic_ýuid
(
u_št
 
­ic_id
)

341  (
­ic_Ýs
.
	`ýuid
(
­ic_id
));

342 
	}
}

344 
šlše
 
u_št


345 
	$­ic_®loc_veùÜ
(
u_št
 
­ic_id
, u_šˆ
œq
)

348  (
­ic_Ýs
.
	`®loc_veùÜ
(
­ic_id
, 
œq
));

349 
	}
}

351 
šlše
 
u_št


352 
	$­ic_®loc_veùÜs
(
u_št
 
­ic_id
, u_šˆ*
œqs
, u_šˆ
couÁ
, u_šˆ
®ign
)

355  (
­ic_Ýs
.
	`®loc_veùÜs
(
­ic_id
, 
œqs
, 
couÁ
, 
®ign
));

356 
	}
}

358 
šlše
 

359 
	$­ic_’abË_veùÜ
(
u_št
 
­ic_id
, u_šˆ
veùÜ
)

362 
­ic_Ýs
.
	`’abË_veùÜ
(
­ic_id
, 
veùÜ
);

363 
	}
}

365 
šlše
 

366 
	$­ic_di§bË_veùÜ
(
u_št
 
­ic_id
, u_šˆ
veùÜ
)

369 
­ic_Ýs
.
	`di§bË_veùÜ
(
­ic_id
, 
veùÜ
);

370 
	}
}

372 
šlše
 

373 
	$­ic_ä“_veùÜ
(
u_št
 
­ic_id
, u_šˆ
veùÜ
, u_šˆ
œq
)

376 
­ic_Ýs
.
	`ä“_veùÜ
(
­ic_id
, 
veùÜ
, 
œq
);

377 
	}
}

379 
šlše
 

380 
	$Ïpic_’abË_pmc
()

383  (
­ic_Ýs
.
	`’abË_pmc
());

384 
	}
}

386 
šlše
 

387 
	$Ïpic_di§bË_pmc
()

390 
­ic_Ýs
.
	`di§bË_pmc
();

391 
	}
}

393 
šlše
 

394 
	$Ïpic_»’abË_pmc
()

397 
­ic_Ýs
.
	`»’abË_pmc
();

398 
	}
}

400 
šlše
 

401 
	$Ïpic_’abË_cmc
()

404 
­ic_Ýs
.
	`’abË_cmc
();

405 
	}
}

407 
šlše
 

408 
	$Ïpic_’abË_mÿ_–vt
()

411  (
­ic_Ýs
.
	`’abË_mÿ_–vt
());

412 
	}
}

414 
šlše
 

415 
	$Ïpic_i_¿w
(
»gi¡”_t
 
iülo
, 
u_št
 
de¡
)

418 
­ic_Ýs
.
	`i_¿w
(
iülo
, 
de¡
);

419 
	}
}

421 
šlše
 

422 
	$Ïpic_i_veùÜed
(
u_št
 
veùÜ
, 
de¡
)

425 
­ic_Ýs
.
	`i_veùÜed
(
veùÜ
, 
de¡
);

426 
	}
}

428 
šlše
 

429 
	$Ïpic_i_wa™
(
d–ay
)

432  (
­ic_Ýs
.
	`i_wa™
(
d–ay
));

433 
	}
}

435 
šlše
 

436 
	$Ïpic_i_®loc
(
šthªd_t
 *
ifunc
)

439  (
­ic_Ýs
.
	`i_®loc
(
ifunc
));

440 
	}
}

442 
šlše
 

443 
	$Ïpic_i_ä“
(
veùÜ
)

446  (
­ic_Ýs
.
	`i_ä“
(
veùÜ
));

447 
	}
}

449 
šlše
 

450 
	$Ïpic_£t_lvt_mask
(
u_št
 
­ic_id
, u_šˆ
lvt
, 
u_ch¬
 
masked
)

453  (
­ic_Ýs
.
	`£t_lvt_mask
(
­ic_id
, 
lvt
, 
masked
));

454 
	}
}

456 
šlše
 

457 
	$Ïpic_£t_lvt_mode
(
u_št
 
­ic_id
, u_šˆ
lvt
, 
u_št32_t
 
mode
)

460  (
­ic_Ýs
.
	`£t_lvt_mode
(
­ic_id
, 
lvt
, 
mode
));

461 
	}
}

463 
šlše
 

464 
	$Ïpic_£t_lvt_pÞ¬™y
(
u_št
 
­ic_id
, u_šˆ
lvt
, 
šŒ_pÞ¬™y
 
pÞ
)

467  (
­ic_Ýs
.
	`£t_lvt_pÞ¬™y
(
­ic_id
, 
lvt
, 
pÞ
));

468 
	}
}

470 
šlše
 

471 
	$Ïpic_£t_lvt_Œigg”mode
(
u_št
 
­ic_id
, u_šˆ
lvt
, 
šŒ_Œigg”
 
Œigg”
)

474  (
­ic_Ýs
.
	`£t_lvt_Œigg”mode
(
­ic_id
, 
lvt
, 
Œigg”
));

475 
	}
}

477 
Ïpic_hªdË_cmc
();

478 
Ïpic_hªdË_”rÜ
();

479 
Ïpic_hªdË_šŒ
(
veùÜ
, 
Œ­äame
 *
äame
);

480 
Ïpic_hªdË_tim”
(
Œ­äame
 *
äame
);

482 
ißpic_g‘_rid
(
u_št
 
­ic_id
, 
ušt16_t
 *
ridp
);

484 
x2­ic_mode
;

485 
Ïpic_eoi_suµ»ssiÚ
;

487 #ifdeà
_SYS_SYSCTL_H_


488 
SYSCTL_DECL
(
_hw_­ic
);

	@src/nvidia-drm/x86/apm_bios.h

18 #iâdeà
_X86_APM_BIOS_H_


19 
	#_X86_APM_BIOS_H_


	)

21 #iâdeà
_KERNEL


22 
	~<sys/ty³s.h
>

24 
	~<sys/ioccom.h
>

27 
	#APM_BIOS
 0x53

	)

28 
	#APM_INT
 0x15

	)

31 
	#APM_16BIT_SUPPORT
 0x01

	)

32 
	#APM_32BIT_SUPPORT
 0x02

	)

33 
	#APM_CPUIDLE_SLOW
 0x04

	)

34 
	#APM_DISABLED
 0x08

	)

35 
	#APM_DISENGAGED
 0x10

	)

38 
	#APM_OURADDR
 0x00080000

	)

41 
	#APM_INSTCHECK
 0x00

	)

42 
	#APM_REALCONNECT
 0x01

	)

43 
	#APM_PROT16CONNECT
 0x02

	)

44 
	#APM_PROT32CONNECT
 0x03

	)

45 
	#APM_DISCONNECT
 0x04

	)

46 
	#APM_CPUIDLE
 0x05

	)

47 
	#APM_CPUBUSY
 0x06

	)

48 
	#APM_SETPWSTATE
 0x07

	)

49 
	#APM_ENABLEDISABLEPM
 0x08

	)

50 
	#APM_RESTOREDEFAULT
 0x09

	)

51 
	#APM_GETPWSTATUS
 0x0a

	)

52 
	#APM_GETPMEVENT
 0x0b

	)

53 
	#APM_GETPWSTATE
 0x0c

	)

54 
	#APM_ENABLEDISABLEDPM
 0x0d

	)

55 
	#APM_DRVVERSION
 0x0e

	)

56 
	#APM_ENGAGEDISENGAGEPM
 0x0f

	)

57 
	#APM_GETCAPABILITIES
 0x10

	)

58 
	#APM_RESUMETIMER
 0x11

	)

59 
	#APM_RESUMEONRING
 0x12

	)

60 
	#APM_TIMERREQUESTS
 0x13

	)

61 
	#APM_OEMFUNC
 0x80

	)

64 
	#APME_OK
 0x00

	)

65 
	#APME_PMDISABLED
 0x01

	)

66 
	#APME_REALESTABLISHED
 0x02

	)

67 
	#APME_NOTCONNECTED
 0x03

	)

68 
	#APME_PROT16ESTABLISHED
 0x05

	)

69 
	#APME_PROT16NOTSUPPORTED
 0x06

	)

70 
	#APME_PROT32ESTABLISHED
 0x07

	)

71 
	#APME_PROT32NOTDUPPORTED
 0x08

	)

72 
	#APME_UNKNOWNDEVICEID
 0x09

	)

73 
	#APME_OUTOFRANGE
 0x0a

	)

74 
	#APME_NOTENGAGED
 0x0b

	)

75 
	#APME_CANTENTERSTATE
 0x60

	)

76 
	#APME_NOPMEVENT
 0x80

	)

77 
	#APME_NOAPMPRESENT
 0x86

	)

81 
	#PMDV_APMBIOS
 0x0000

	)

82 
	#PMDV_ALLDEV
 0x0001

	)

83 
	#PMDV_DISP0
 0x0100

	)

84 
	#PMDV_DISP1
 0x0101

	)

85 
	#PMDV_DISPALL
 0x01ff

	)

86 
	#PMDV_2NDSTORAGE0
 0x0200

	)

87 
	#PMDV_2NDSTORAGE1
 0x0201

	)

88 
	#PMDV_2NDSTORAGE2
 0x0202

	)

89 
	#PMDV_2NDSTORAGE3
 0x0203

	)

90 
	#PMDV_PARALLEL0
 0x0300

	)

91 
	#PMDV_PARALLEL1
 0x0301

	)

92 
	#PMDV_SERIAL0
 0x0400

	)

93 
	#PMDV_SERIAL1
 0x0401

	)

94 
	#PMDV_SERIAL2
 0x0402

	)

95 
	#PMDV_SERIAL3
 0x0403

	)

96 
	#PMDV_SERIAL4
 0x0404

	)

97 
	#PMDV_SERIAL5
 0x0405

	)

98 
	#PMDV_SERIAL6
 0x0406

	)

99 
	#PMDV_SERIAL7
 0x0407

	)

100 
	#PMDV_NET0
 0x0500

	)

101 
	#PMDV_NET1
 0x0501

	)

102 
	#PMDV_NET2
 0x0502

	)

103 
	#PMDV_NET3
 0x0503

	)

104 
	#PMDV_PCMCIA0
 0x0600

	)

105 
	#PMDV_PCMCIA1
 0x0601

	)

106 
	#PMDV_PCMCIA2
 0x0602

	)

107 
	#PMDV_PCMCIA3
 0x0603

	)

109 
	#PMDV_BATT_BASE
 0x8000

	)

110 
	#PMDV_BATT0
 0x8001

	)

111 
	#PMDV_BATT1
 0x8002

	)

112 
	#PMDV_BATT_ALL
 0x80ff

	)

118 
	#PMST_APMENABLED
 0x0000

	)

119 
	#PMST_STANDBY
 0x0001

	)

120 
	#PMST_SUSPEND
 0x0002

	)

121 
	#PMST_OFF
 0x0003

	)

122 
	#PMST_LASTREQNOTIFY
 0x0004

	)

123 
	#PMST_LASTREQREJECT
 0x0005

	)

129 #ià!
defšed
(
ASSEMBLER
è&& !defšed(
INITIALIZER
)

132 
	s­mhook
 {

133 
­mhook
 *
	mah_Ãxt
;

134 (*
	mah_fun
)(*
	mah_¬g
);

135 *
	mah_¬g
;

136 cÚ¡ *
	mah_Çme
;

137 
	mah_Üd”
;

139 
	#APM_HOOK_NONE
 (-1)

	)

140 
	#APM_HOOK_SUSPEND
 0

	)

141 
	#APM_HOOK_RESUME
 1

	)

142 
	#NAPM_HOOK
 2

	)

144 #ifdeà
_KERNEL


146 
­m_su¥’d
(
¡©e
);

147 
­mhook
 *
­m_hook_e¡ablish
 (
­mh
, apmhook *);

148 
­m_hook_di£¡ablish
 (
­mh
, 
­mhook
 *);

149 
­m_ýu_idË
();

150 
­m_ýu_busy
();

156 
	#APM_MIN_ORDER
 0x00

	)

157 
	#APM_MID_ORDER
 0x80

	)

158 
	#APM_MAX_ORDER
 0xff

	)

161 
	#PMEV_NOEVENT
 0x0000

	)

162 
	#PMEV_STANDBYREQ
 0x0001

	)

163 
	#PMEV_SUSPENDREQ
 0x0002

	)

164 
	#PMEV_NORMRESUME
 0x0003

	)

165 
	#PMEV_CRITRESUME
 0x0004

	)

166 
	#PMEV_BATTERYLOW
 0x0005

	)

167 
	#PMEV_POWERSTATECHANGE
 0x0006

	)

168 
	#PMEV_UPDATETIME
 0x0007

	)

169 
	#PMEV_CRITSUSPEND
 0x0008

	)

170 
	#PMEV_USERSTANDBYREQ
 0x0009

	)

171 
	#PMEV_USERSUSPENDREQ
 0x000a

	)

172 
	#PMEV_STANDBYRESUME
 0x000b

	)

173 
	#PMEV_CAPABILITIESCHANGE
 0x000c

	)

178 
	#PMEV_DEFAULT
 0xfffffffà

	)

180 #ià!
defšed
(
ASSEMBLER
è&& !defšed(
INITIALIZER
)

186 
	s­m_šfo_Þd
 {

187 
u_št
 
	mai_majÜ
;

188 
u_št
 
	mai_mšÜ
;

189 
u_št
 
	mai_aþše
;

190 
u_št
 
	mai_b©t_¡©
;

191 
u_št
 
	mai_b©t_liã
;

192 
u_št
 
	mai_¡©us
;

193 } *
	t­m_šfo_Þd_t
;

201 
	s­m_šfo
 {

202 
u_št
 
	mai_šfov”siÚ
;

203 
u_št
 
	mai_majÜ
;

204 
u_št
 
	mai_mšÜ
;

205 
u_št
 
	mai_aþše
;

206 
u_št
 
	mai_b©t_¡©
;

207 
u_št
 
	mai_b©t_liã
;

208 
	mai_b©t_time
;

209 
u_št
 
	mai_¡©us
;

210 
u_št
 
	mai_b©‹r›s
;

211 
u_št
 
	mai_ÿ·bž™›s
;

212 
u_št
 
	mai_¥¬e
[6];

213 } *
	t­m_šfo_t
;

216 
	#APM_BATT_HIGH
 0x01

	)

217 
	#APM_BATT_LOW
 0x02

	)

218 
	#APM_BATT_CRITICAL
 0x04

	)

219 
	#APM_BATT_CHARGING
 0x08

	)

220 
	#APM_BATT_NOT_PRESENT
 0x10

	)

221 
	#APM_BATT_NO_SYSTEM
 0x80

	)

223 
	s­m_pw¡©us
 {

224 
u_št
 
	m­_deviû
;

225 
u_št
 
	m­_aþše
;

226 
u_št
 
	m­_b©t_¡©
;

227 
u_št
 
	m­_b©t_æag
;

228 
u_št
 
	m­_b©t_liã
;

229 
	m­_b©t_time
;

230 } *
	t­m_pw¡©us_t
;

232 
	s­m_bios_¬g
 {

233 
ušt32_t
 
	m—x
;

234 
ušt32_t
 
	mebx
;

235 
ušt32_t
 
	mecx
;

236 
ušt32_t
 
	medx
;

237 
ušt32_t
 
	mesi
;

238 
ušt32_t
 
	medi
;

241 
	s­m_ev’t_šfo
 {

242 
u_št
 
	mty³
;

243 
u_št
 
	mšdex
;

244 
u_št
 
	m¥¬e
[8];

247 
	#APMIO_SUSPEND
 
	`_IO
('P', 1)

	)

248 
	#APMIO_GETINFO_OLD
 
	`_IOR
('P', 2, 
­m_šfo_Þd
)

	)

249 
	#APMIO_ENABLE
 
	`_IO
('P', 5)

	)

250 
	#APMIO_DISABLE
 
	`_IO
('P', 6)

	)

251 
	#APMIO_HALTCPU
 
	`_IO
('P', 7)

	)

252 
	#APMIO_NOTHALTCPU
 
	`_IO
('P', 8)

	)

253 
	#APMIO_DISPLAY
 
	`_IOW
('P', 9, )

	)

254 
	#APMIO_BIOS
 
	`_IOWR
('P', 10, 
­m_bios_¬g
)

	)

255 
	#APMIO_GETINFO
 
	`_IOR
('P', 11, 
­m_šfo
)

	)

256 
	#APMIO_STANDBY
 
	`_IO
('P', 12)

	)

257 
	#APMIO_GETPWSTATUS
 
	`_IOWR
('P', 13, 
­m_pw¡©us
)

	)

259 
	#APMIO_NEXTEVENT
 
	`_IOR
('A', 100, 
­m_ev’t_šfo
)

	)

260 
	#APMIO_REJECTLASTREQ
 
	`_IO
('P', 101)

	)

	@src/nvidia-drm/x86/bus.h

99 #iâdeà
_X86_BUS_H_


100 
	#_X86_BUS_H_


	)

102 
	~<machše/_bus.h
>

103 
	~<machše/ýufunc.h
>

105 #iâdeà
__GNUCLIKE_ASM


112 
	#X86_BUS_SPACE_IO
 0

	)

113 
	#X86_BUS_SPACE_MEM
 1

	)

115 
	#BUS_SPACE_MAXSIZE_24BIT
 0xFFFFFF

	)

116 
	#BUS_SPACE_MAXSIZE_32BIT
 0xFFFFFFFF

	)

117 
	#BUS_SPACE_MAXSIZE
 0xFFFFFFFF

	)

118 
	#BUS_SPACE_MAXADDR_24BIT
 0xFFFFFF

	)

119 
	#BUS_SPACE_MAXADDR_32BIT
 0xFFFFFFFF

	)

120 #ià
defšed
(
__amd64__
è|| defšed(
PAE
)

121 
	#BUS_SPACE_MAXADDR_48BIT
 0xFFFFFFFFFFFFULL

	)

122 
	#BUS_SPACE_MAXADDR
 0xFFFFFFFFFFFFFFFFULL

	)

124 
	#BUS_SPACE_MAXADDR
 0xFFFFFFFF

	)

127 
	#BUS_SPACE_INVALID_DATA
 (~0)

	)

128 
	#BUS_SPACE_UNRESTRICTED
 (~0)

	)

134 
bus_¥aû_m­
(
bus_¥aû_g_t
 
g
, 
bus_addr_t
 
addr
, 
bus_size_t
 
size
,

135 
æags
, 
bus_¥aû_hªdË_t
 *
bshp
);

141 
bus_¥aû_unm­
(
bus_¥aû_g_t
 
g
, 
bus_¥aû_hªdË_t
 
bsh
,

142 
bus_size_t
 
size
);

148 
__šlše
 
bus_¥aû_sub»giÚ
(
bus_¥aû_g_t
 
t
,

149 
bus_¥aû_hªdË_t
 
bsh
,

150 
bus_size_t
 
off£t
, bus_size_ˆ
size
,

151 
bus_¥aû_hªdË_t
 *
nbshp
);

153 
__šlše
 

154 
	$bus_¥aû_sub»giÚ
(
bus_¥aû_g_t
 
t
 
__unu£d
, 
bus_¥aû_hªdË_t
 
bsh
,

155 
bus_size_t
 
off£t
, bus_size_ˆ
size
 
__unu£d
,

156 
bus_¥aû_hªdË_t
 *
nbshp
)

159 *
nbshp
 = 
bsh
 + 
off£t
;

161 
	}
}

167 
bus_¥aû_®loc
(
bus_¥aû_g_t
 
t
, 
bus_addr_t
 
r¡¬t
,

168 
bus_addr_t
 
»nd
, 
bus_size_t
 
size
, bus_size_ˆ
®ign
,

169 
bus_size_t
 
bound¬y
, 
æags
, 
bus_addr_t
 *
add½
,

170 
bus_¥aû_hªdË_t
 *
bshp
);

176 
__šlše
 
bus_¥aû_ä“
(
bus_¥aû_g_t
 
t
, 
bus_¥aû_hªdË_t
 
bsh
,

177 
bus_size_t
 
size
);

179 
__šlše
 

180 
	$bus_¥aû_ä“
(
bus_¥aû_g_t
 
t
 
__unu£d
, 
bus_¥aû_hªdË_t
 
bsh
 __unused,

181 
bus_size_t
 
size
 
__unu£d
)

183 
	}
}

190 
__šlše
 
u_št8_t
 
bus_¥aû_»ad_1
(
bus_¥aû_g_t
 
g
,

191 
bus_¥aû_hªdË_t
 
hªdË
,

192 
bus_size_t
 
off£t
);

194 
__šlše
 
u_št16_t
 
bus_¥aû_»ad_2
(
bus_¥aû_g_t
 
g
,

195 
bus_¥aû_hªdË_t
 
hªdË
,

196 
bus_size_t
 
off£t
);

198 
__šlše
 
u_št32_t
 
bus_¥aû_»ad_4
(
bus_¥aû_g_t
 
g
,

199 
bus_¥aû_hªdË_t
 
hªdË
,

200 
bus_size_t
 
off£t
);

202 #ifdeà
__amd64__


203 
__šlše
 
ušt64_t
 
bus_¥aû_»ad_8
(
bus_¥aû_g_t
 
g
,

204 
bus_¥aû_hªdË_t
 
hªdË
,

205 
bus_size_t
 
off£t
);

208 
__šlše
 
u_št8_t


209 
	$bus_¥aû_»ad_1
(
bus_¥aû_g_t
 
g
, 
bus_¥aû_hªdË_t
 
hªdË
,

210 
bus_size_t
 
off£t
)

213 ià(
g
 =ð
X86_BUS_SPACE_IO
)

214  (
	`šb
(
hªdË
 + 
off£t
));

215  (*(vÞ©ž
u_št8_t
 *)(
hªdË
 + 
off£t
));

216 
	}
}

218 
__šlše
 
u_št16_t


219 
	$bus_¥aû_»ad_2
(
bus_¥aû_g_t
 
g
, 
bus_¥aû_hªdË_t
 
hªdË
,

220 
bus_size_t
 
off£t
)

223 ià(
g
 =ð
X86_BUS_SPACE_IO
)

224  (
	`šw
(
hªdË
 + 
off£t
));

225  (*(vÞ©ž
u_št16_t
 *)(
hªdË
 + 
off£t
));

226 
	}
}

228 
__šlše
 
u_št32_t


229 
	$bus_¥aû_»ad_4
(
bus_¥aû_g_t
 
g
, 
bus_¥aû_hªdË_t
 
hªdË
,

230 
bus_size_t
 
off£t
)

233 ià(
g
 =ð
X86_BUS_SPACE_IO
)

234  (
	`šl
(
hªdË
 + 
off£t
));

235  (*(vÞ©ž
u_št32_t
 *)(
hªdË
 + 
off£t
));

236 
	}
}

238 #ifdeà
__amd64__


239 
__šlše
 
ušt64_t


240 
	$bus_¥aû_»ad_8
(
bus_¥aû_g_t
 
g
, 
bus_¥aû_hªdË_t
 
hªdË
,

241 
bus_size_t
 
off£t
)

244 ià(
g
 =ð
X86_BUS_SPACE_IO
)

245  (
BUS_SPACE_INVALID_DATA
);

246  (*(vÞ©ž
ušt64_t
 *)(
hªdË
 + 
off£t
));

247 
	}
}

254 
__šlše
 
bus_¥aû_»ad_muÉi_1
(
bus_¥aû_g_t
 
g
,

255 
bus_¥aû_hªdË_t
 
bsh
,

256 
bus_size_t
 
off£t
, 
u_št8_t
 *
addr
,

257 
size_t
 
couÁ
);

259 
__šlše
 
bus_¥aû_»ad_muÉi_2
(
bus_¥aû_g_t
 
g
,

260 
bus_¥aû_hªdË_t
 
bsh
,

261 
bus_size_t
 
off£t
, 
u_št16_t
 *
addr
,

262 
size_t
 
couÁ
);

264 
__šlše
 
bus_¥aû_»ad_muÉi_4
(
bus_¥aû_g_t
 
g
,

265 
bus_¥aû_hªdË_t
 
bsh
,

266 
bus_size_t
 
off£t
, 
u_št32_t
 *
addr
,

267 
size_t
 
couÁ
);

269 
__šlše
 

270 
	$bus_¥aû_»ad_muÉi_1
(
bus_¥aû_g_t
 
g
, 
bus_¥aû_hªdË_t
 
bsh
,

271 
bus_size_t
 
off£t
, 
u_št8_t
 *
addr
, 
size_t
 
couÁ
)

274 ià(
g
 =ð
X86_BUS_SPACE_IO
)

275 
	`šsb
(
bsh
 + 
off£t
, 
addr
, 
couÁ
);

277 #ifdeà
__GNUCLIKE_ASM


278 
__asm
 
	`__vÞ©že
(" \n\
 \n\
1: movb (%2),%%al \n\
 \n\
 1b" :

283 "=D" (
addr
), "=c" (
couÁ
) :

284 "r" (
bsh
 + 
off£t
), "0" (
addr
), "1" (
couÁ
) :

288 
	}
}

290 
__šlše
 

291 
	$bus_¥aû_»ad_muÉi_2
(
bus_¥aû_g_t
 
g
, 
bus_¥aû_hªdË_t
 
bsh
,

292 
bus_size_t
 
off£t
, 
u_št16_t
 *
addr
, 
size_t
 
couÁ
)

295 ià(
g
 =ð
X86_BUS_SPACE_IO
)

296 
	`šsw
(
bsh
 + 
off£t
, 
addr
, 
couÁ
);

298 #ifdeà
__GNUCLIKE_ASM


299 
__asm
 
	`__vÞ©že
(" \n\
 \n\
1: movw (%2),%%ax \n\
 \n\
 1b" :

304 "=D" (
addr
), "=c" (
couÁ
) :

305 "r" (
bsh
 + 
off£t
), "0" (
addr
), "1" (
couÁ
) :

309 
	}
}

311 
__šlše
 

312 
	$bus_¥aû_»ad_muÉi_4
(
bus_¥aû_g_t
 
g
, 
bus_¥aû_hªdË_t
 
bsh
,

313 
bus_size_t
 
off£t
, 
u_št32_t
 *
addr
, 
size_t
 
couÁ
)

316 ià(
g
 =ð
X86_BUS_SPACE_IO
)

317 
	`š¦
(
bsh
 + 
off£t
, 
addr
, 
couÁ
);

319 #ifdeà
__GNUCLIKE_ASM


320 
__asm
 
	`__vÞ©že
(" \n\
 \n\
1: movl (%2),%%eax \n\
 \n\
 1b" :

325 "=D" (
addr
), "=c" (
couÁ
) :

326 "r" (
bsh
 + 
off£t
), "0" (
addr
), "1" (
couÁ
) :

330 
	}
}

333 
	#bus_¥aû_»ad_muÉi_8
 !!! 
bus_¥aû_»ad_muÉi_8
 
unim¶em’‹d
 !!!

	)

341 
__šlše
 
bus_¥aû_»ad_»giÚ_1
(
bus_¥aû_g_t
 
g
,

342 
bus_¥aû_hªdË_t
 
bsh
,

343 
bus_size_t
 
off£t
, 
u_št8_t
 *
addr
,

344 
size_t
 
couÁ
);

346 
__šlše
 
bus_¥aû_»ad_»giÚ_2
(
bus_¥aû_g_t
 
g
,

347 
bus_¥aû_hªdË_t
 
bsh
,

348 
bus_size_t
 
off£t
, 
u_št16_t
 *
addr
,

349 
size_t
 
couÁ
);

351 
__šlše
 
bus_¥aû_»ad_»giÚ_4
(
bus_¥aû_g_t
 
g
,

352 
bus_¥aû_hªdË_t
 
bsh
,

353 
bus_size_t
 
off£t
, 
u_št32_t
 *
addr
,

354 
size_t
 
couÁ
);

357 
__šlše
 

358 
	$bus_¥aû_»ad_»giÚ_1
(
bus_¥aû_g_t
 
g
, 
bus_¥aû_hªdË_t
 
bsh
,

359 
bus_size_t
 
off£t
, 
u_št8_t
 *
addr
, 
size_t
 
couÁ
)

362 ià(
g
 =ð
X86_BUS_SPACE_IO
) {

363 
_pÜt_
 = 
bsh
 + 
off£t
;

364 #ifdeà
__GNUCLIKE_ASM


365 
__asm
 
	`__vÞ©že
(" \n\
 \n\
1: inb %w2,%%al \n\
 \n\
 %2 \n\
 1b" :

371 "=D" (
addr
), "=c" (
couÁ
), "=d" (
_pÜt_
) :

372 "0" (
addr
), "1" (
couÁ
), "2" (
_pÜt_
) :

376 
bus_¥aû_hªdË_t
 
_pÜt_
 = 
bsh
 + 
off£t
;

377 #ifdeà
__GNUCLIKE_ASM


378 
__asm
 
	`__vÞ©že
(" \n\
 \n\
 \n\
" :

382 "=D" (
addr
), "=c" (
couÁ
), "=S" (
_pÜt_
) :

383 "0" (
addr
), "1" (
couÁ
), "2" (
_pÜt_
) :

387 
	}
}

389 
__šlše
 

390 
	$bus_¥aû_»ad_»giÚ_2
(
bus_¥aû_g_t
 
g
, 
bus_¥aû_hªdË_t
 
bsh
,

391 
bus_size_t
 
off£t
, 
u_št16_t
 *
addr
, 
size_t
 
couÁ
)

394 ià(
g
 =ð
X86_BUS_SPACE_IO
) {

395 
_pÜt_
 = 
bsh
 + 
off£t
;

396 #ifdeà
__GNUCLIKE_ASM


397 
__asm
 
	`__vÞ©že
(" \n\
 \n\
1: inw %w2,%%ax \n\
 \n\
 $2,%2 \n\
 1b" :

403 "=D" (
addr
), "=c" (
couÁ
), "=d" (
_pÜt_
) :

404 "0" (
addr
), "1" (
couÁ
), "2" (
_pÜt_
) :

408 
bus_¥aû_hªdË_t
 
_pÜt_
 = 
bsh
 + 
off£t
;

409 #ifdeà
__GNUCLIKE_ASM


410 
__asm
 
	`__vÞ©že
(" \n\
 \n\
 \n\
" :

414 "=D" (
addr
), "=c" (
couÁ
), "=S" (
_pÜt_
) :

415 "0" (
addr
), "1" (
couÁ
), "2" (
_pÜt_
) :

419 
	}
}

421 
__šlše
 

422 
	$bus_¥aû_»ad_»giÚ_4
(
bus_¥aû_g_t
 
g
, 
bus_¥aû_hªdË_t
 
bsh
,

423 
bus_size_t
 
off£t
, 
u_št32_t
 *
addr
, 
size_t
 
couÁ
)

426 ià(
g
 =ð
X86_BUS_SPACE_IO
) {

427 
_pÜt_
 = 
bsh
 + 
off£t
;

428 #ifdeà
__GNUCLIKE_ASM


429 
__asm
 
	`__vÞ©že
(" \n\
 \n\
1: inl %w2,%%eax \n\
 \n\
 $4,%2 \n\
 1b" :

435 "=D" (
addr
), "=c" (
couÁ
), "=d" (
_pÜt_
) :

436 "0" (
addr
), "1" (
couÁ
), "2" (
_pÜt_
) :

440 
bus_¥aû_hªdË_t
 
_pÜt_
 = 
bsh
 + 
off£t
;

441 #ifdeà
__GNUCLIKE_ASM


442 
__asm
 
	`__vÞ©že
(" \n\
 \n\
 \n\
" :

446 "=D" (
addr
), "=c" (
couÁ
), "=S" (
_pÜt_
) :

447 "0" (
addr
), "1" (
couÁ
), "2" (
_pÜt_
) :

451 
	}
}

454 
	#bus_¥aû_»ad_»giÚ_8
 !!! 
bus_¥aû_»ad_»giÚ_8
 
unim¶em’‹d
 !!!

	)

462 
__šlše
 
bus_¥aû_wr™e_1
(
bus_¥aû_g_t
 
g
,

463 
bus_¥aû_hªdË_t
 
bsh
,

464 
bus_size_t
 
off£t
, 
u_št8_t
 
v®ue
);

466 
__šlše
 
bus_¥aû_wr™e_2
(
bus_¥aû_g_t
 
g
,

467 
bus_¥aû_hªdË_t
 
bsh
,

468 
bus_size_t
 
off£t
, 
u_št16_t
 
v®ue
);

470 
__šlše
 
bus_¥aû_wr™e_4
(
bus_¥aû_g_t
 
g
,

471 
bus_¥aû_hªdË_t
 
bsh
,

472 
bus_size_t
 
off£t
, 
u_št32_t
 
v®ue
);

474 #ifdeà
__amd64__


475 
__šlše
 
bus_¥aû_wr™e_8
(
bus_¥aû_g_t
 
g
,

476 
bus_¥aû_hªdË_t
 
bsh
,

477 
bus_size_t
 
off£t
, 
ušt64_t
 
v®ue
);

480 
__šlše
 

481 
	$bus_¥aû_wr™e_1
(
bus_¥aû_g_t
 
g
, 
bus_¥aû_hªdË_t
 
bsh
,

482 
bus_size_t
 
off£t
, 
u_št8_t
 
v®ue
)

485 ià(
g
 =ð
X86_BUS_SPACE_IO
)

486 
	`outb
(
bsh
 + 
off£t
, 
v®ue
);

488 *(vÞ©ž
u_št8_t
 *)(
bsh
 + 
off£t
èð
v®ue
;

489 
	}
}

491 
__šlše
 

492 
	$bus_¥aû_wr™e_2
(
bus_¥aû_g_t
 
g
, 
bus_¥aû_hªdË_t
 
bsh
,

493 
bus_size_t
 
off£t
, 
u_št16_t
 
v®ue
)

496 ià(
g
 =ð
X86_BUS_SPACE_IO
)

497 
	`outw
(
bsh
 + 
off£t
, 
v®ue
);

499 *(vÞ©ž
u_št16_t
 *)(
bsh
 + 
off£t
èð
v®ue
;

500 
	}
}

502 
__šlše
 

503 
	$bus_¥aû_wr™e_4
(
bus_¥aû_g_t
 
g
, 
bus_¥aû_hªdË_t
 
bsh
,

504 
bus_size_t
 
off£t
, 
u_št32_t
 
v®ue
)

507 ià(
g
 =ð
X86_BUS_SPACE_IO
)

508 
	`ouŽ
(
bsh
 + 
off£t
, 
v®ue
);

510 *(vÞ©ž
u_št32_t
 *)(
bsh
 + 
off£t
èð
v®ue
;

511 
	}
}

513 #ifdeà
__amd64__


514 
__šlše
 

515 
	$bus_¥aû_wr™e_8
(
bus_¥aû_g_t
 
g
, 
bus_¥aû_hªdË_t
 
bsh
,

516 
bus_size_t
 
off£t
, 
ušt64_t
 
v®ue
)

519 ià(
g
 =ð
X86_BUS_SPACE_IO
)

522 *(vÞ©ž
ušt64_t
 *)(
bsh
 + 
off£t
èð
v®ue
;

523 
	}
}

531 
__šlše
 
bus_¥aû_wr™e_muÉi_1
(
bus_¥aû_g_t
 
g
,

532 
bus_¥aû_hªdË_t
 
bsh
,

533 
bus_size_t
 
off£t
,

534 cÚ¡ 
u_št8_t
 *
addr
,

535 
size_t
 
couÁ
);

536 
__šlše
 
bus_¥aû_wr™e_muÉi_2
(
bus_¥aû_g_t
 
g
,

537 
bus_¥aû_hªdË_t
 
bsh
,

538 
bus_size_t
 
off£t
,

539 cÚ¡ 
u_št16_t
 *
addr
,

540 
size_t
 
couÁ
);

542 
__šlše
 
bus_¥aû_wr™e_muÉi_4
(
bus_¥aû_g_t
 
g
,

543 
bus_¥aû_hªdË_t
 
bsh
,

544 
bus_size_t
 
off£t
,

545 cÚ¡ 
u_št32_t
 *
addr
,

546 
size_t
 
couÁ
);

548 
__šlše
 

549 
	$bus_¥aû_wr™e_muÉi_1
(
bus_¥aû_g_t
 
g
, 
bus_¥aû_hªdË_t
 
bsh
,

550 
bus_size_t
 
off£t
, cÚ¡ 
u_št8_t
 *
addr
, 
size_t
 
couÁ
)

553 ià(
g
 =ð
X86_BUS_SPACE_IO
)

554 
	`outsb
(
bsh
 + 
off£t
, 
addr
, 
couÁ
);

556 #ifdeà
__GNUCLIKE_ASM


557 
__asm
 
	`__vÞ©že
(" \n\
 \n\
1:†odsb \n\
 %%al,(%2) \n\
 1b" :

562 "=S" (
addr
), "=c" (
couÁ
) :

563 "r" (
bsh
 + 
off£t
), "0" (
addr
), "1" (
couÁ
) :

567 
	}
}

569 
__šlše
 

570 
	$bus_¥aû_wr™e_muÉi_2
(
bus_¥aû_g_t
 
g
, 
bus_¥aû_hªdË_t
 
bsh
,

571 
bus_size_t
 
off£t
, cÚ¡ 
u_št16_t
 *
addr
, 
size_t
 
couÁ
)

574 ià(
g
 =ð
X86_BUS_SPACE_IO
)

575 
	`outsw
(
bsh
 + 
off£t
, 
addr
, 
couÁ
);

577 #ifdeà
__GNUCLIKE_ASM


578 
__asm
 
	`__vÞ©že
(" \n\
 \n\
1:†odsw \n\
 %%ax,(%2) \n\
 1b" :

583 "=S" (
addr
), "=c" (
couÁ
) :

584 "r" (
bsh
 + 
off£t
), "0" (
addr
), "1" (
couÁ
) :

588 
	}
}

590 
__šlše
 

591 
	$bus_¥aû_wr™e_muÉi_4
(
bus_¥aû_g_t
 
g
, 
bus_¥aû_hªdË_t
 
bsh
,

592 
bus_size_t
 
off£t
, cÚ¡ 
u_št32_t
 *
addr
, 
size_t
 
couÁ
)

595 ià(
g
 =ð
X86_BUS_SPACE_IO
)

596 
	`out¦
(
bsh
 + 
off£t
, 
addr
, 
couÁ
);

598 #ifdeà
__GNUCLIKE_ASM


599 
__asm
 
	`__vÞ©že
(" \n\
 \n\
1:†odsl \n\
 %%eax,(%2) \n\
 1b" :

604 "=S" (
addr
), "=c" (
couÁ
) :

605 "r" (
bsh
 + 
off£t
), "0" (
addr
), "1" (
couÁ
) :

609 
	}
}

612 
	#bus_¥aû_wr™e_muÉi_8
(
t
, 
h
, 
o
, 
a
, 
c
) \

613 !!! 
bus_¥aû_wr™e_muÉi_8
 
unim¶em’‹d
 !!!

	)

621 
__šlše
 
bus_¥aû_wr™e_»giÚ_1
(
bus_¥aû_g_t
 
g
,

622 
bus_¥aû_hªdË_t
 
bsh
,

623 
bus_size_t
 
off£t
,

624 cÚ¡ 
u_št8_t
 *
addr
,

625 
size_t
 
couÁ
);

626 
__šlše
 
bus_¥aû_wr™e_»giÚ_2
(
bus_¥aû_g_t
 
g
,

627 
bus_¥aû_hªdË_t
 
bsh
,

628 
bus_size_t
 
off£t
,

629 cÚ¡ 
u_št16_t
 *
addr
,

630 
size_t
 
couÁ
);

631 
__šlše
 
bus_¥aû_wr™e_»giÚ_4
(
bus_¥aû_g_t
 
g
,

632 
bus_¥aû_hªdË_t
 
bsh
,

633 
bus_size_t
 
off£t
,

634 cÚ¡ 
u_št32_t
 *
addr
,

635 
size_t
 
couÁ
);

637 
__šlše
 

638 
	$bus_¥aû_wr™e_»giÚ_1
(
bus_¥aû_g_t
 
g
, 
bus_¥aû_hªdË_t
 
bsh
,

639 
bus_size_t
 
off£t
, cÚ¡ 
u_št8_t
 *
addr
, 
size_t
 
couÁ
)

642 ià(
g
 =ð
X86_BUS_SPACE_IO
) {

643 
_pÜt_
 = 
bsh
 + 
off£t
;

644 #ifdeà
__GNUCLIKE_ASM


645 
__asm
 
	`__vÞ©že
(" \n\
 \n\
1:†odsb \n\
 %%al,%w0 \n\
 %0 \n\
 1b" :

651 "=d" (
_pÜt_
), "=S" (
addr
), "=c" (
couÁ
) :

652 "0" (
_pÜt_
), "1" (
addr
), "2" (
couÁ
) :

656 
bus_¥aû_hªdË_t
 
_pÜt_
 = 
bsh
 + 
off£t
;

657 #ifdeà
__GNUCLIKE_ASM


658 
__asm
 
	`__vÞ©že
(" \n\
 \n\
 \n\
" :

662 "=D" (
_pÜt_
), "=S" (
addr
), "=c" (
couÁ
) :

663 "0" (
_pÜt_
), "1" (
addr
), "2" (
couÁ
) :

667 
	}
}

669 
__šlše
 

670 
	$bus_¥aû_wr™e_»giÚ_2
(
bus_¥aû_g_t
 
g
, 
bus_¥aû_hªdË_t
 
bsh
,

671 
bus_size_t
 
off£t
, cÚ¡ 
u_št16_t
 *
addr
, 
size_t
 
couÁ
)

674 ià(
g
 =ð
X86_BUS_SPACE_IO
) {

675 
_pÜt_
 = 
bsh
 + 
off£t
;

676 #ifdeà
__GNUCLIKE_ASM


677 
__asm
 
	`__vÞ©že
(" \n\
 \n\
1:†odsw \n\
 %%ax,%w0 \n\
 $2,%0 \n\
 1b" :

683 "=d" (
_pÜt_
), "=S" (
addr
), "=c" (
couÁ
) :

684 "0" (
_pÜt_
), "1" (
addr
), "2" (
couÁ
) :

688 
bus_¥aû_hªdË_t
 
_pÜt_
 = 
bsh
 + 
off£t
;

689 #ifdeà
__GNUCLIKE_ASM


690 
__asm
 
	`__vÞ©že
(" \n\
 \n\
 \n\
" :

694 "=D" (
_pÜt_
), "=S" (
addr
), "=c" (
couÁ
) :

695 "0" (
_pÜt_
), "1" (
addr
), "2" (
couÁ
) :

699 
	}
}

701 
__šlše
 

702 
	$bus_¥aû_wr™e_»giÚ_4
(
bus_¥aû_g_t
 
g
, 
bus_¥aû_hªdË_t
 
bsh
,

703 
bus_size_t
 
off£t
, cÚ¡ 
u_št32_t
 *
addr
, 
size_t
 
couÁ
)

706 ià(
g
 =ð
X86_BUS_SPACE_IO
) {

707 
_pÜt_
 = 
bsh
 + 
off£t
;

708 #ifdeà
__GNUCLIKE_ASM


709 
__asm
 
	`__vÞ©že
(" \n\
 \n\
1:†odsl \n\
 %%eax,%w0 \n\
 $4,%0 \n\
 1b" :

715 "=d" (
_pÜt_
), "=S" (
addr
), "=c" (
couÁ
) :

716 "0" (
_pÜt_
), "1" (
addr
), "2" (
couÁ
) :

720 
bus_¥aû_hªdË_t
 
_pÜt_
 = 
bsh
 + 
off£t
;

721 #ifdeà
__GNUCLIKE_ASM


722 
__asm
 
	`__vÞ©že
(" \n\
 \n\
 \n\
" :

726 "=D" (
_pÜt_
), "=S" (
addr
), "=c" (
couÁ
) :

727 "0" (
_pÜt_
), "1" (
addr
), "2" (
couÁ
) :

731 
	}
}

734 
	#bus_¥aû_wr™e_»giÚ_8
 \

735 !!! 
bus_¥aû_wr™e_»giÚ_8
 
unim¶em’‹d
 !!!

	)

743 
__šlše
 
bus_¥aû_£t_muÉi_1
(
bus_¥aû_g_t
 
g
,

744 
bus_¥aû_hªdË_t
 
bsh
,

745 
bus_size_t
 
off£t
,

746 
u_št8_t
 
v®ue
, 
size_t
 
couÁ
);

747 
__šlše
 
bus_¥aû_£t_muÉi_2
(
bus_¥aû_g_t
 
g
,

748 
bus_¥aû_hªdË_t
 
bsh
,

749 
bus_size_t
 
off£t
,

750 
u_št16_t
 
v®ue
, 
size_t
 
couÁ
);

751 
__šlše
 
bus_¥aû_£t_muÉi_4
(
bus_¥aû_g_t
 
g
,

752 
bus_¥aû_hªdË_t
 
bsh
,

753 
bus_size_t
 
off£t
,

754 
u_št32_t
 
v®ue
, 
size_t
 
couÁ
);

756 
__šlše
 

757 
	$bus_¥aû_£t_muÉi_1
(
bus_¥aû_g_t
 
g
, 
bus_¥aû_hªdË_t
 
bsh
,

758 
bus_size_t
 
off£t
, 
u_št8_t
 
v®ue
, 
size_t
 
couÁ
)

760 
bus_¥aû_hªdË_t
 
addr
 = 
bsh
 + 
off£t
;

762 ià(
g
 =ð
X86_BUS_SPACE_IO
)

763 
couÁ
--)

764 
	`outb
(
addr
, 
v®ue
);

766 
couÁ
--)

767 *(vÞ©ž
u_št8_t
 *)(
addr
èð
v®ue
;

768 
	}
}

770 
__šlše
 

771 
	$bus_¥aû_£t_muÉi_2
(
bus_¥aû_g_t
 
g
, 
bus_¥aû_hªdË_t
 
bsh
,

772 
bus_size_t
 
off£t
, 
u_št16_t
 
v®ue
, 
size_t
 
couÁ
)

774 
bus_¥aû_hªdË_t
 
addr
 = 
bsh
 + 
off£t
;

776 ià(
g
 =ð
X86_BUS_SPACE_IO
)

777 
couÁ
--)

778 
	`outw
(
addr
, 
v®ue
);

780 
couÁ
--)

781 *(vÞ©ž
u_št16_t
 *)(
addr
èð
v®ue
;

782 
	}
}

784 
__šlše
 

785 
	$bus_¥aû_£t_muÉi_4
(
bus_¥aû_g_t
 
g
, 
bus_¥aû_hªdË_t
 
bsh
,

786 
bus_size_t
 
off£t
, 
u_št32_t
 
v®ue
, 
size_t
 
couÁ
)

788 
bus_¥aû_hªdË_t
 
addr
 = 
bsh
 + 
off£t
;

790 ià(
g
 =ð
X86_BUS_SPACE_IO
)

791 
couÁ
--)

792 
	`ouŽ
(
addr
, 
v®ue
);

794 
couÁ
--)

795 *(vÞ©ž
u_št32_t
 *)(
addr
èð
v®ue
;

796 
	}
}

799 
	#bus_¥aû_£t_muÉi_8
 !!! 
bus_¥aû_£t_muÉi_8
 
unim¶em’‹d
 !!!

	)

807 
__šlše
 
bus_¥aû_£t_»giÚ_1
(
bus_¥aû_g_t
 
g
,

808 
bus_¥aû_hªdË_t
 
bsh
,

809 
bus_size_t
 
off£t
, 
u_št8_t
 
v®ue
,

810 
size_t
 
couÁ
);

811 
__šlše
 
bus_¥aû_£t_»giÚ_2
(
bus_¥aû_g_t
 
g
,

812 
bus_¥aû_hªdË_t
 
bsh
,

813 
bus_size_t
 
off£t
, 
u_št16_t
 
v®ue
,

814 
size_t
 
couÁ
);

815 
__šlše
 
bus_¥aû_£t_»giÚ_4
(
bus_¥aû_g_t
 
g
,

816 
bus_¥aû_hªdË_t
 
bsh
,

817 
bus_size_t
 
off£t
, 
u_št32_t
 
v®ue
,

818 
size_t
 
couÁ
);

820 
__šlše
 

821 
	$bus_¥aû_£t_»giÚ_1
(
bus_¥aû_g_t
 
g
, 
bus_¥aû_hªdË_t
 
bsh
,

822 
bus_size_t
 
off£t
, 
u_št8_t
 
v®ue
, 
size_t
 
couÁ
)

824 
bus_¥aû_hªdË_t
 
addr
 = 
bsh
 + 
off£t
;

826 ià(
g
 =ð
X86_BUS_SPACE_IO
)

827 ; 
couÁ
 !ð0; couÁ--, 
addr
++)

828 
	`outb
(
addr
, 
v®ue
);

830 ; 
couÁ
 !ð0; couÁ--, 
addr
++)

831 *(vÞ©ž
u_št8_t
 *)(
addr
èð
v®ue
;

832 
	}
}

834 
__šlše
 

835 
	$bus_¥aû_£t_»giÚ_2
(
bus_¥aû_g_t
 
g
, 
bus_¥aû_hªdË_t
 
bsh
,

836 
bus_size_t
 
off£t
, 
u_št16_t
 
v®ue
, 
size_t
 
couÁ
)

838 
bus_¥aû_hªdË_t
 
addr
 = 
bsh
 + 
off£t
;

840 ià(
g
 =ð
X86_BUS_SPACE_IO
)

841 ; 
couÁ
 !ð0; couÁ--, 
addr
 += 2)

842 
	`outw
(
addr
, 
v®ue
);

844 ; 
couÁ
 !ð0; couÁ--, 
addr
 += 2)

845 *(vÞ©ž
u_št16_t
 *)(
addr
èð
v®ue
;

846 
	}
}

848 
__šlše
 

849 
	$bus_¥aû_£t_»giÚ_4
(
bus_¥aû_g_t
 
g
, 
bus_¥aû_hªdË_t
 
bsh
,

850 
bus_size_t
 
off£t
, 
u_št32_t
 
v®ue
, 
size_t
 
couÁ
)

852 
bus_¥aû_hªdË_t
 
addr
 = 
bsh
 + 
off£t
;

854 ià(
g
 =ð
X86_BUS_SPACE_IO
)

855 ; 
couÁ
 !ð0; couÁ--, 
addr
 += 4)

856 
	`ouŽ
(
addr
, 
v®ue
);

858 ; 
couÁ
 !ð0; couÁ--, 
addr
 += 4)

859 *(vÞ©ž
u_št32_t
 *)(
addr
èð
v®ue
;

860 
	}
}

863 
	#bus_¥aû_£t_»giÚ_8
 !!! 
bus_¥aû_£t_»giÚ_8
 
unim¶em’‹d
 !!!

	)

871 
__šlše
 
bus_¥aû_cÝy_»giÚ_1
(
bus_¥aû_g_t
 
g
,

872 
bus_¥aû_hªdË_t
 
bsh1
,

873 
bus_size_t
 
off1
,

874 
bus_¥aû_hªdË_t
 
bsh2
,

875 
bus_size_t
 
off2
, 
size_t
 
couÁ
);

877 
__šlše
 
bus_¥aû_cÝy_»giÚ_2
(
bus_¥aû_g_t
 
g
,

878 
bus_¥aû_hªdË_t
 
bsh1
,

879 
bus_size_t
 
off1
,

880 
bus_¥aû_hªdË_t
 
bsh2
,

881 
bus_size_t
 
off2
, 
size_t
 
couÁ
);

883 
__šlše
 
bus_¥aû_cÝy_»giÚ_4
(
bus_¥aû_g_t
 
g
,

884 
bus_¥aû_hªdË_t
 
bsh1
,

885 
bus_size_t
 
off1
,

886 
bus_¥aû_hªdË_t
 
bsh2
,

887 
bus_size_t
 
off2
, 
size_t
 
couÁ
);

889 
__šlše
 

890 
	$bus_¥aû_cÝy_»giÚ_1
(
bus_¥aû_g_t
 
g
, 
bus_¥aû_hªdË_t
 
bsh1
,

891 
bus_size_t
 
off1
, 
bus_¥aû_hªdË_t
 
bsh2
,

892 
bus_size_t
 
off2
, 
size_t
 
couÁ
)

894 
bus_¥aû_hªdË_t
 
addr1
 = 
bsh1
 + 
off1
;

895 
bus_¥aû_hªdË_t
 
addr2
 = 
bsh2
 + 
off2
;

897 ià(
g
 =ð
X86_BUS_SPACE_IO
) {

898 ià(
addr1
 >ð
addr2
) {

900 ; 
couÁ
 !ð0; couÁ--, 
addr1
++, 
addr2
++)

901 
	`outb
(
addr2
, 
	`šb
(
addr1
));

904 
addr1
 +ð(
couÁ
 - 1), 
addr2
 += (count - 1);

905 
couÁ
 !ð0; couÁ--, 
addr1
--, 
addr2
--)

906 
	`outb
(
addr2
, 
	`šb
(
addr1
));

909 ià(
addr1
 >ð
addr2
) {

911 ; 
couÁ
 !ð0; couÁ--, 
addr1
++, 
addr2
++)

912 *(vÞ©ž
u_št8_t
 *)(
addr2
) =

913 *(vÞ©ž
u_št8_t
 *)(
addr1
);

916 
addr1
 +ð(
couÁ
 - 1), 
addr2
 += (count - 1);

917 
couÁ
 !ð0; couÁ--, 
addr1
--, 
addr2
--)

918 *(vÞ©ž
u_št8_t
 *)(
addr2
) =

919 *(vÞ©ž
u_št8_t
 *)(
addr1
);

922 
	}
}

924 
__šlše
 

925 
	$bus_¥aû_cÝy_»giÚ_2
(
bus_¥aû_g_t
 
g
, 
bus_¥aû_hªdË_t
 
bsh1
,

926 
bus_size_t
 
off1
, 
bus_¥aû_hªdË_t
 
bsh2
,

927 
bus_size_t
 
off2
, 
size_t
 
couÁ
)

929 
bus_¥aû_hªdË_t
 
addr1
 = 
bsh1
 + 
off1
;

930 
bus_¥aû_hªdË_t
 
addr2
 = 
bsh2
 + 
off2
;

932 ià(
g
 =ð
X86_BUS_SPACE_IO
) {

933 ià(
addr1
 >ð
addr2
) {

935 ; 
couÁ
 !ð0; couÁ--, 
addr1
 +ð2, 
addr2
 += 2)

936 
	`outw
(
addr2
, 
	`šw
(
addr1
));

939 
addr1
 +ð2 * (
couÁ
 - 1), 
addr2
 += 2 * (count - 1);

940 
couÁ
 !ð0; couÁ--, 
addr1
 -ð2, 
addr2
 -= 2)

941 
	`outw
(
addr2
, 
	`šw
(
addr1
));

944 ià(
addr1
 >ð
addr2
) {

946 ; 
couÁ
 !ð0; couÁ--, 
addr1
 +ð2, 
addr2
 += 2)

947 *(vÞ©ž
u_št16_t
 *)(
addr2
) =

948 *(vÞ©ž
u_št16_t
 *)(
addr1
);

951 
addr1
 +ð2 * (
couÁ
 - 1), 
addr2
 += 2 * (count - 1);

952 
couÁ
 !ð0; couÁ--, 
addr1
 -ð2, 
addr2
 -= 2)

953 *(vÞ©ž
u_št16_t
 *)(
addr2
) =

954 *(vÞ©ž
u_št16_t
 *)(
addr1
);

957 
	}
}

959 
__šlše
 

960 
	$bus_¥aû_cÝy_»giÚ_4
(
bus_¥aû_g_t
 
g
, 
bus_¥aû_hªdË_t
 
bsh1
,

961 
bus_size_t
 
off1
, 
bus_¥aû_hªdË_t
 
bsh2
,

962 
bus_size_t
 
off2
, 
size_t
 
couÁ
)

964 
bus_¥aû_hªdË_t
 
addr1
 = 
bsh1
 + 
off1
;

965 
bus_¥aû_hªdË_t
 
addr2
 = 
bsh2
 + 
off2
;

967 ià(
g
 =ð
X86_BUS_SPACE_IO
) {

968 ià(
addr1
 >ð
addr2
) {

970 ; 
couÁ
 !ð0; couÁ--, 
addr1
 +ð4, 
addr2
 += 4)

971 
	`ouŽ
(
addr2
, 
	`šl
(
addr1
));

974 
addr1
 +ð4 * (
couÁ
 - 1), 
addr2
 += 4 * (count - 1);

975 
couÁ
 !ð0; couÁ--, 
addr1
 -ð4, 
addr2
 -= 4)

976 
	`ouŽ
(
addr2
, 
	`šl
(
addr1
));

979 ià(
addr1
 >ð
addr2
) {

981 ; 
couÁ
 !ð0; couÁ--, 
addr1
 +ð4, 
addr2
 += 4)

982 *(vÞ©ž
u_št32_t
 *)(
addr2
) =

983 *(vÞ©ž
u_št32_t
 *)(
addr1
);

986 
addr1
 +ð4 * (
couÁ
 - 1), 
addr2
 += 4 * (count - 1);

987 
couÁ
 !ð0; couÁ--, 
addr1
 -ð4, 
addr2
 -= 4)

988 *(vÞ©ž
u_št32_t
 *)(
addr2
) =

989 *(vÞ©ž
u_št32_t
 *)(
addr1
);

992 
	}
}

995 
	#bus_¥aû_cÝy_»giÚ_8
 !!! 
bus_¥aû_cÝy_»giÚ_8
 
unim¶em’‹d
 !!!

	)

1009 
	#BUS_SPACE_BARRIER_READ
 0x01

	)

1010 
	#BUS_SPACE_BARRIER_WRITE
 0x02

	)

1012 
__šlše
 

1013 
	$bus_¥aû_b¬r›r
(
bus_¥aû_g_t
 
g
 
__unu£d
, 
bus_¥aû_hªdË_t
 
bsh
 __unused,

1014 
bus_size_t
 
off£t
 
__unu£d
, bus_size_ˆ
Ën
 __unu£d, 
æags
)

1016 #ifdeà
__GNUCLIKE_ASM


1017 ià(
æags
 & 
BUS_SPACE_BARRIER_READ
)

1018 #ifdeà
__amd64__


1019 
__asm
 
	`__vÞ©že
("lock;‡ddl $0,0(%%rsp)" : : : "memory");

1021 
__asm
 
	`__vÞ©že
("lock;‡ddl $0,0(%%esp)" : : : "memory");

1024 
	`__compž”_memb¬
();

1026 
	}
}

1028 #ifdeà
BUS_SPACE_NO_LEGACY


1029 #undeà
šb


1030 #undeà
outb


1031 
	#šb
(
a
è
compž”_”rÜ


	)

1032 
	#šw
(
a
è
compž”_”rÜ


	)

1033 
	#šl
(
a
è
compž”_”rÜ


	)

1034 
	#outb
(
a
, 
b
è
compž”_”rÜ


	)

1035 
	#outw
(
a
, 
b
è
compž”_”rÜ


	)

1036 
	#ouŽ
(
a
, 
b
è
compž”_”rÜ


	)

1039 
	~<machše/bus_dma.h
>

1045 
	#bus_¥aû_»ad_¡»am_1
(
t
, 
h
, 
o
è
	`bus_¥aû_»ad_1
(Ñ), (h), (o))

	)

1046 
	#bus_¥aû_»ad_¡»am_2
(
t
, 
h
, 
o
è
	`bus_¥aû_»ad_2
(Ñ), (h), (o))

	)

1047 
	#bus_¥aû_»ad_¡»am_4
(
t
, 
h
, 
o
è
	`bus_¥aû_»ad_4
(Ñ), (h), (o))

	)

1049 
	#bus_¥aû_»ad_muÉi_¡»am_1
(
t
, 
h
, 
o
, 
a
, 
c
) \

1050 
	`bus_¥aû_»ad_muÉi_1
((
t
), (
h
), (
o
), (
a
), (
c
))

	)

1051 
	#bus_¥aû_»ad_muÉi_¡»am_2
(
t
, 
h
, 
o
, 
a
, 
c
) \

1052 
	`bus_¥aû_»ad_muÉi_2
((
t
), (
h
), (
o
), (
a
), (
c
))

	)

1053 
	#bus_¥aû_»ad_muÉi_¡»am_4
(
t
, 
h
, 
o
, 
a
, 
c
) \

1054 
	`bus_¥aû_»ad_muÉi_4
((
t
), (
h
), (
o
), (
a
), (
c
))

	)

1056 
	#bus_¥aû_wr™e_¡»am_1
(
t
, 
h
, 
o
, 
v
) \

1057 
	`bus_¥aû_wr™e_1
((
t
), (
h
), (
o
), (
v
))

	)

1058 
	#bus_¥aû_wr™e_¡»am_2
(
t
, 
h
, 
o
, 
v
) \

1059 
	`bus_¥aû_wr™e_2
((
t
), (
h
), (
o
), (
v
))

	)

1060 
	#bus_¥aû_wr™e_¡»am_4
(
t
, 
h
, 
o
, 
v
) \

1061 
	`bus_¥aû_wr™e_4
((
t
), (
h
), (
o
), (
v
))

	)

1063 
	#bus_¥aû_wr™e_muÉi_¡»am_1
(
t
, 
h
, 
o
, 
a
, 
c
) \

1064 
	`bus_¥aû_wr™e_muÉi_1
((
t
), (
h
), (
o
), (
a
), (
c
))

	)

1065 
	#bus_¥aû_wr™e_muÉi_¡»am_2
(
t
, 
h
, 
o
, 
a
, 
c
) \

1066 
	`bus_¥aû_wr™e_muÉi_2
((
t
), (
h
), (
o
), (
a
), (
c
))

	)

1067 
	#bus_¥aû_wr™e_muÉi_¡»am_4
(
t
, 
h
, 
o
, 
a
, 
c
) \

1068 
	`bus_¥aû_wr™e_muÉi_4
((
t
), (
h
), (
o
), (
a
), (
c
))

	)

1070 
	#bus_¥aû_£t_muÉi_¡»am_1
(
t
, 
h
, 
o
, 
v
, 
c
) \

1071 
	`bus_¥aû_£t_muÉi_1
((
t
), (
h
), (
o
), (
v
), (
c
))

	)

1072 
	#bus_¥aû_£t_muÉi_¡»am_2
(
t
, 
h
, 
o
, 
v
, 
c
) \

1073 
	`bus_¥aû_£t_muÉi_2
((
t
), (
h
), (
o
), (
v
), (
c
))

	)

1074 
	#bus_¥aû_£t_muÉi_¡»am_4
(
t
, 
h
, 
o
, 
v
, 
c
) \

1075 
	`bus_¥aû_£t_muÉi_4
((
t
), (
h
), (
o
), (
v
), (
c
))

	)

1077 
	#bus_¥aû_»ad_»giÚ_¡»am_1
(
t
, 
h
, 
o
, 
a
, 
c
) \

1078 
	`bus_¥aû_»ad_»giÚ_1
((
t
), (
h
), (
o
), (
a
), (
c
))

	)

1079 
	#bus_¥aû_»ad_»giÚ_¡»am_2
(
t
, 
h
, 
o
, 
a
, 
c
) \

1080 
	`bus_¥aû_»ad_»giÚ_2
((
t
), (
h
), (
o
), (
a
), (
c
))

	)

1081 
	#bus_¥aû_»ad_»giÚ_¡»am_4
(
t
, 
h
, 
o
, 
a
, 
c
) \

1082 
	`bus_¥aû_»ad_»giÚ_4
((
t
), (
h
), (
o
), (
a
), (
c
))

	)

1084 
	#bus_¥aû_wr™e_»giÚ_¡»am_1
(
t
, 
h
, 
o
, 
a
, 
c
) \

1085 
	`bus_¥aû_wr™e_»giÚ_1
((
t
), (
h
), (
o
), (
a
), (
c
))

	)

1086 
	#bus_¥aû_wr™e_»giÚ_¡»am_2
(
t
, 
h
, 
o
, 
a
, 
c
) \

1087 
	`bus_¥aû_wr™e_»giÚ_2
((
t
), (
h
), (
o
), (
a
), (
c
))

	)

1088 
	#bus_¥aû_wr™e_»giÚ_¡»am_4
(
t
, 
h
, 
o
, 
a
, 
c
) \

1089 
	`bus_¥aû_wr™e_»giÚ_4
((
t
), (
h
), (
o
), (
a
), (
c
))

	)

1091 
	#bus_¥aû_£t_»giÚ_¡»am_1
(
t
, 
h
, 
o
, 
v
, 
c
) \

1092 
	`bus_¥aû_£t_»giÚ_1
((
t
), (
h
), (
o
), (
v
), (
c
))

	)

1093 
	#bus_¥aû_£t_»giÚ_¡»am_2
(
t
, 
h
, 
o
, 
v
, 
c
) \

1094 
	`bus_¥aû_£t_»giÚ_2
((
t
), (
h
), (
o
), (
v
), (
c
))

	)

1095 
	#bus_¥aû_£t_»giÚ_¡»am_4
(
t
, 
h
, 
o
, 
v
, 
c
) \

1096 
	`bus_¥aû_£t_»giÚ_4
((
t
), (
h
), (
o
), (
v
), (
c
))

	)

1098 
	#bus_¥aû_cÝy_»giÚ_¡»am_1
(
t
, 
h1
, 
o1
, 
h2
, 
o2
, 
c
) \

1099 
	`bus_¥aû_cÝy_»giÚ_1
((
t
), (
h1
), (
o1
), (
h2
), (
o2
), (
c
))

	)

1100 
	#bus_¥aû_cÝy_»giÚ_¡»am_2
(
t
, 
h1
, 
o1
, 
h2
, 
o2
, 
c
) \

1101 
	`bus_¥aû_cÝy_»giÚ_2
((
t
), (
h1
), (
o1
), (
h2
), (
o2
), (
c
))

	)

1102 
	#bus_¥aû_cÝy_»giÚ_¡»am_4
(
t
, 
h1
, 
o1
, 
h2
, 
o2
, 
c
) \

1103 
	`bus_¥aû_cÝy_»giÚ_4
((
t
), (
h1
), (
o1
), (
h2
), (
o2
), (
c
))

	)

	@src/nvidia-drm/x86/bus_dma.h

29 #iâdeà
_X86_BUS_DMA_H_


30 
	#_X86_BUS_DMA_H_


	)

32 
	#WANT_INLINE_DMAMAP


	)

33 
	~<sys/bus_dma.h
>

34 
	~<sys/_nuÎ.h
>

36 
	~<x86/busdma_im¶.h
>

42 
šlše
 

43 
	$bus_dmam­_ü—‹
(
bus_dma_g_t
 
dm©
, 
æags
, 
bus_dmam­_t
 *
m­p
)

45 
bus_dma_g_commÚ
 *
tc
;

47 
tc
 = (
bus_dma_g_commÚ
 *)
dm©
;

48  (
tc
->
im¶
->
	`m­_ü—‹
(
dm©
, 
æags
, 
m­p
));

49 
	}
}

55 
šlše
 

56 
	$bus_dmam­_de¡roy
(
bus_dma_g_t
 
dm©
, 
bus_dmam­_t
 
m­
)

58 
bus_dma_g_commÚ
 *
tc
;

60 
tc
 = (
bus_dma_g_commÚ
 *)
dm©
;

61  (
tc
->
im¶
->
	`m­_de¡roy
(
dm©
, 
m­
));

62 
	}
}

69 
šlše
 

70 
	$bus_dmamem_®loc
(
bus_dma_g_t
 
dm©
, ** 
vaddr
, 
æags
,

71 
bus_dmam­_t
 *
m­p
)

73 
bus_dma_g_commÚ
 *
tc
;

75 
tc
 = (
bus_dma_g_commÚ
 *)
dm©
;

76  (
tc
->
im¶
->
	`mem_®loc
(
dm©
, 
vaddr
, 
æags
, 
m­p
));

77 
	}
}

83 
šlše
 

84 
	$bus_dmamem_ä“
(
bus_dma_g_t
 
dm©
, *
vaddr
, 
bus_dmam­_t
 
m­
)

86 
bus_dma_g_commÚ
 *
tc
;

88 
tc
 = (
bus_dma_g_commÚ
 *)
dm©
;

89 
tc
->
im¶
->
	`mem_ä“
(
dm©
, 
vaddr
, 
m­
);

90 
	}
}

95 
šlše
 

96 
	$bus_dmam­_uÆßd
(
bus_dma_g_t
 
dm©
, 
bus_dmam­_t
 
m­
)

98 
bus_dma_g_commÚ
 *
tc
;

100 ià(
m­
 !ð
NULL
) {

101 
tc
 = (
bus_dma_g_commÚ
 *)
dm©
;

102 
tc
->
im¶
->
	`m­_uÆßd
(
dm©
, 
m­
);

104 
	}
}

106 
šlše
 

107 
	$bus_dmam­_sync
(
bus_dma_g_t
 
dm©
, 
bus_dmam­_t
 
m­
, 
bus_dmasync_Ý_t
 
Ý
)

109 
bus_dma_g_commÚ
 *
tc
;

111 ià(
m­
 !ð
NULL
) {

112 
tc
 = (
bus_dma_g_commÚ
 *)
dm©
;

113 
tc
->
im¶
->
	`m­_sync
(
dm©
, 
m­
, 
Ý
);

115 
	}
}

121 
šlše
 

122 
	$_bus_dmam­_lßd_phys
(
bus_dma_g_t
 
dm©
, 
bus_dmam­_t
 
m­
, 
vm_·ddr_t
 
buf
,

123 
bus_size_t
 
buæ’
, 
æags
, 
bus_dma_£gm’t_t
 *
£gs
, *
£gp
)

125 
bus_dma_g_commÚ
 *
tc
;

127 
tc
 = (
bus_dma_g_commÚ
 *)
dm©
;

128  (
tc
->
im¶
->
	`lßd_phys
(
dm©
, 
m­
, 
buf
, 
buæ’
, 
æags
, 
£gs
,

129 
£gp
));

130 
	}
}

132 
šlše
 

133 
	$_bus_dmam­_lßd_ma
(
bus_dma_g_t
 
dm©
, 
bus_dmam­_t
 
m­
, 
vm_·ge
 **
ma
,

134 
bus_size_t
 
Ž’
, 
ma_offs
, 
æags
, 
bus_dma_£gm’t_t
 *
£gs
,

135 *
£gp
)

137 
bus_dma_g_commÚ
 *
tc
;

139 
tc
 = (
bus_dma_g_commÚ
 *)
dm©
;

140  (
tc
->
im¶
->
	`lßd_ma
(
dm©
, 
m­
, 
ma
, 
Ž’
, 
ma_offs
, 
æags
,

141 
£gs
, 
£gp
));

142 
	}
}

148 
šlše
 

149 
	$_bus_dmam­_lßd_bufãr
(
bus_dma_g_t
 
dm©
, 
bus_dmam­_t
 
m­
, *
buf
,

150 
bus_size_t
 
buæ’
, 
pm­
 *pm­, 
æags
, 
bus_dma_£gm’t_t
 *
£gs
,

151 *
£gp
)

153 
bus_dma_g_commÚ
 *
tc
;

155 
tc
 = (
bus_dma_g_commÚ
 *)
dm©
;

156  (
tc
->
im¶
->
	`lßd_bufãr
(
dm©
, 
m­
, 
buf
, 
buæ’
, 
pm­
, 
æags
, 
£gs
,

157 
£gp
));

158 
	}
}

160 
šlše
 

161 
	$_bus_dmam­_wa™ok
(
bus_dma_g_t
 
dm©
, 
bus_dmam­_t
 
m­
,

162 
memdesc
 *
mem
, 
bus_dmam­_ÿÎback_t
 *
ÿÎback
, *
ÿÎback_¬g
)

164 
bus_dma_g_commÚ
 *
tc
;

166 ià(
m­
 !ð
NULL
) {

167 
tc
 = (
bus_dma_g_commÚ
 *)
dm©
;

168 
tc
->
im¶
->
	`m­_wa™ok
(
dm©
, 
m­
, 
mem
, 
ÿÎback
, 
ÿÎback_¬g
);

170 
	}
}

172 
šlše
 
bus_dma_£gm’t_t
 *

173 
	$_bus_dmam­_com¶‘e
(
bus_dma_g_t
 
dm©
, 
bus_dmam­_t
 
m­
,

174 
bus_dma_£gm’t_t
 *
£gs
, 
n£gs
, 
”rÜ
)

176 
bus_dma_g_commÚ
 *
tc
;

178 
tc
 = (
bus_dma_g_commÚ
 *)
dm©
;

179  (
tc
->
im¶
->
	`m­_com¶‘e
(
dm©
, 
m­
, 
£gs
, 
n£gs
, 
”rÜ
));

180 
	}
}

	@src/nvidia-drm/x86/busdma_impl.h

34 #iâdef 
__X86_BUSDMA_IMPL_H


35 
	#__X86_BUSDMA_IMPL_H


	)

37 
	sbus_dma_g_commÚ
 {

38 
bus_dma_im¶
 *
	mim¶
;

39 
bus_dma_g_commÚ
 *
	m·»Á
;

40 
bus_size_t
 
	m®ignm’t
;

41 
bus_addr_t
 
	mbound¬y
;

42 
bus_addr_t
 
	mlowaddr
;

43 
bus_addr_t
 
	mhighaddr
;

44 
bus_dma_fž‹r_t
 *
	mfž‹r
;

45 *
	mfž‹¿rg
;

46 
bus_size_t
 
	mmaxsize
;

47 
u_št
 
	mn£gm’ts
;

48 
bus_size_t
 
	mmax£gsz
;

49 
	mæags
;

50 
bus_dma_lock_t
 *
	mlockfunc
;

51 *
	mlockfunÿrg
;

52 
	m»f_couÁ
;

53 
	mdomaš
;

56 
	sbus_dma_im¶
 {

57 (*
	mg_ü—‹
)(
bus_dma_g_t
 
	m·»Á
,

58 
bus_size_t
 
	m®ignm’t
, 
bus_addr_t
 
	mbound¬y
, bus_addr_ˆ
	mlowaddr
,

59 
bus_addr_t
 
	mhighaddr
, 
bus_dma_fž‹r_t
 *
	mfž‹r
,

60 *
	mfž‹¿rg
, 
bus_size_t
 
	mmaxsize
, 
	mn£gm’ts
,

61 
bus_size_t
 
	mmax£gsz
, 
	mæags
, 
bus_dma_lock_t
 *
	mlockfunc
,

62 *
	mlockfunÿrg
, 
bus_dma_g_t
 *
	mdm©
);

63 (*
	mg_de¡roy
)(
bus_dma_g_t
 
	mdm©
);

64 (*
	mg_£t_domaš
)(
	mbus_dma_g_t
);

65 (*
	mm­_ü—‹
)(
bus_dma_g_t
 
	mdm©
, 
	mæags
, 
bus_dmam­_t
 *
	mm­p
);

66 (*
	mm­_de¡roy
)(
bus_dma_g_t
 
	mdm©
, 
bus_dmam­_t
 
	mm­
);

67 (*
	mmem_®loc
)(
bus_dma_g_t
 
	mdm©
, ** 
	mvaddr
, 
	mæags
,

68 
bus_dmam­_t
 *
	mm­p
);

69 (*
	mmem_ä“
)(
bus_dma_g_t
 
	mdm©
, *
	mvaddr
, 
bus_dmam­_t
 
	mm­
);

70 (*
	mlßd_ma
)(
bus_dma_g_t
 
	mdm©
, 
bus_dmam­_t
 
	mm­
,

71 
vm_·ge
 **
	mma
, 
bus_size_t
 
	mŽ’
, 
	mma_offs
, 
	mæags
,

72 
bus_dma_£gm’t_t
 *
	m£gs
, *
	m£gp
);

73 (*
	mlßd_phys
)(
bus_dma_g_t
 
	mdm©
, 
bus_dmam­_t
 
	mm­
,

74 
vm_·ddr_t
 
	mbuf
, 
bus_size_t
 
	mbuæ’
, 
	mæags
,

75 
bus_dma_£gm’t_t
 *
	m£gs
, *
	m£gp
);

76 (*
	mlßd_bufãr
)(
bus_dma_g_t
 
	mdm©
, 
bus_dmam­_t
 
	mm­
,

77 *
	mbuf
, 
bus_size_t
 
	mbuæ’
, 
pm­
 *
	mpm­
, 
	mæags
,

78 
bus_dma_£gm’t_t
 *
	m£gs
, *
	m£gp
);

79 (*
	mm­_wa™ok
)(
bus_dma_g_t
 
	mdm©
, 
bus_dmam­_t
 
	mm­
,

80 
memdesc
 *
	mmem
, 
bus_dmam­_ÿÎback_t
 *
	mÿÎback
,

81 *
	mÿÎback_¬g
);

82 
	mbus_dma_£gm’t_t
 *(*
	mm­_com¶‘e
)(
bus_dma_g_t
 
	mdm©
, 
bus_dmam­_t
 
	mm­
,

83 
bus_dma_£gm’t_t
 *
	m£gs
, 
	mn£gs
, 
	m”rÜ
);

84 (*
	mm­_uÆßd
)(
bus_dma_g_t
 
	mdm©
, 
bus_dmam­_t
 
	mm­
);

85 (*
	mm­_sync
)(
bus_dma_g_t
 
	mdm©
, 
bus_dmam­_t
 
	mm­
,

86 
bus_dmasync_Ý_t
 
	mÝ
);

89 
bus_dma_dæt_lock
(*
¬g
, 
bus_dma_lock_Ý_t
 
Ý
);

90 
bus_dma_run_fž‹r
(
bus_dma_g_commÚ
 *
dm©
, 
bus_addr_t
 
·ddr
);

91 
commÚ_bus_dma_g_ü—‹
(
bus_dma_g_commÚ
 *
·»Á
,

92 
bus_size_t
 
®ignm’t
,

93 
bus_addr_t
 
bound¬y
, bus_addr_ˆ
lowaddr
, bus_addr_ˆ
highaddr
,

94 
bus_dma_fž‹r_t
 *
fž‹r
, *
fž‹¿rg
, 
bus_size_t
 
maxsize
,

95 
n£gm’ts
, 
bus_size_t
 
max£gsz
, 
æags
, 
bus_dma_lock_t
 *
lockfunc
,

96 *
lockfunÿrg
, 
size_t
 
sz
, **
dm©
);

98 
bus_dma_im¶
 
bus_dma_bounû_im¶
;

	@src/nvidia-drm/x86/cputypes.h

30 #iâdeà
_X86_CPUTYPES_H_


31 
	#_X86_CPUTYPES_H_


	)

36 
	#CPU_VENDOR_NSC
 0x100b

	)

37 
	#CPU_VENDOR_IBM
 0x1014

	)

38 
	#CPU_VENDOR_AMD
 0x1022

	)

39 
	#CPU_VENDOR_SIS
 0x1039

	)

40 
	#CPU_VENDOR_UMC
 0x1060

	)

41 
	#CPU_VENDOR_NEXGEN
 0x1074

	)

42 
	#CPU_VENDOR_CYRIX
 0x1078

	)

43 
	#CPU_VENDOR_IDT
 0x111d

	)

44 
	#CPU_VENDOR_TRANSMETA
 0x1279

	)

45 
	#CPU_VENDOR_INTEL
 0x8086

	)

46 
	#CPU_VENDOR_RISE
 0xd—d2bad

	)

47 
	#CPU_VENDOR_CENTAUR
 
CPU_VENDOR_IDT


	)

	@src/nvidia-drm/x86/dump.h

30 #iâdeà
_MACHINE_DUMP_H_


31 
	#_MACHINE_DUMP_H_


	)

33 #ifdeà
__amd64__


34 
	#KERNELDUMP_ARCH_VERSION
 
KERNELDUMP_AMD64_VERSION


	)

35 
	#EM_VALUE
 
EM_X86_64


	)

37 
	#KERNELDUMP_ARCH_VERSION
 
KERNELDUMP_I386_VERSION


	)

38 
	#EM_VALUE
 
EM_386


	)

42 
	#DUMPSYS_MD_PA_NPAIRS
 10

	)

43 
	#DUMPSYS_NUM_AUX_HDRS
 0

	)

45 
šlše
 

46 
	$dumpsys_·_š™
()

49 
	`dumpsys_g’_·_š™
();

50 
	}
}

52 
šlše
 
dump_·
 *

53 
	$dumpsys_·_Ãxt
(
dump_·
 *
p
)

56  (
	`dumpsys_g’_·_Ãxt
(
p
));

57 
	}
}

59 
šlše
 

60 
	$dumpsys_wbšv_®l
()

63 
	`dumpsys_g’_wbšv_®l
();

64 
	}
}

66 
šlše
 

67 
	$dumpsys_unm­_chunk
(
vm_·ddr_t
 
·
, 
size_t
 
s
, *
va
)

70 
	`dumpsys_g’_unm­_chunk
(
·
, 
s
, 
va
);

71 
	}
}

73 
šlše
 

74 
	$dumpsys_wr™e_aux_h—d”s
(
dum³ršfo
 *
di
)

77  (
	`dumpsys_g’_wr™e_aux_h—d”s
(
di
));

78 
	}
}

80 
šlše
 

81 
	$dumpsys
(
dum³ršfo
 *
di
)

84  (
	`dumpsys_g’”ic
(
di
));

85 
	}
}

	@src/nvidia-drm/x86/elf.h

31 #iâdeà
_MACHINE_ELF_H_


32 
	#_MACHINE_ELF_H_
 1

	)

34 #ià
defšed
(
__i386__
è|| defšed(
_MACHINE_ELF_WANT_32BIT
)

40 
	~<sys/–f32.h
>

41 #ià
defšed
(
__ELF_WORD_SIZE
) && __ELF_WORD_SIZE == 64

42 
	~<sys/–f64.h
>

45 #iâdeà
__ELF_WORD_SIZE


46 
	#__ELF_WORD_SIZE
 32

	)

49 
	~<sys/–f_g’”ic.h
>

51 
	#ELF_ARCH
 
EM_386


	)

53 
	#ELF_MACHINE_OK
(
x
è((xè=ð
EM_386
 || (xè=ð
EM_486
)

	)

63 
	ma_ty³
;

65 
	ma_v®
;

66 *
	ma_±r
;

67 (*
	ma_fú
)();

68 } 
	ma_un
;

69 } 
	tElf32_Auxšfo
;

71 #ià
__ELF_WORD_SIZE
 == 64

74 
	mçke
;

75 } 
	tElf64_Auxšfo
;

78 
__ElfTy³
(
Auxšfo
);

81 
	#AT_NULL
 0

	)

82 
	#AT_IGNORE
 1

	)

83 
	#AT_EXECFD
 2

	)

84 
	#AT_PHDR
 3

	)

85 
	#AT_PHENT
 4

	)

86 
	#AT_PHNUM
 5

	)

87 
	#AT_PAGESZ
 6

	)

88 
	#AT_BASE
 7

	)

89 
	#AT_FLAGS
 8

	)

90 
	#AT_ENTRY
 9

	)

91 
	#AT_NOTELF
 10

	)

92 
	#AT_UID
 11

	)

93 
	#AT_EUID
 12

	)

94 
	#AT_GID
 13

	)

95 
	#AT_EGID
 14

	)

96 
	#AT_EXECPATH
 15

	)

97 
	#AT_CANARY
 16

	)

98 
	#AT_CANARYLEN
 17

	)

99 
	#AT_OSRELDATE
 18

	)

100 
	#AT_NCPUS
 19

	)

101 
	#AT_PAGESIZES
 20

	)

102 
	#AT_PAGESIZESLEN
 21

	)

103 
	#AT_TIMEKEEP
 22

	)

104 
	#AT_STACKPROT
 23

	)

105 
	#AT_EHDRFLAGS
 24

	)

106 
	#AT_HWCAP
 25

	)

107 
	#AT_HWCAP2
 26

	)

109 
	#AT_COUNT
 27

	)

115 
	#R_386_COUNT
 38

	)

118 
	#ELF_TARG_CLASS
 
ELFCLASS32


	)

119 
	#ELF_TARG_DATA
 
ELFDATA2LSB


	)

120 
	#ELF_TARG_MACH
 
EM_386


	)

121 
	#ELF_TARG_VER
 1

	)

123 
	#ET_DYN_LOAD_ADDR
 0x01001000

	)

125 #–ià
defšed
(
__amd64__
)

131 #iâdeà
__ELF_WORD_SIZE


132 
	#__ELF_WORD_SIZE
 64

	)

134 
	~<sys/–f32.h
>

135 
	~<sys/–f64.h
>

136 
	~<sys/–f_g’”ic.h
>

138 
	#ELF_ARCH
 
EM_X86_64


	)

139 
	#ELF_ARCH32
 
EM_386


	)

141 
	#ELF_MACHINE_OK
(
x
è((xè=ð
EM_X86_64
)

	)

150 
	ma_ty³
;

152 
	ma_v®
;

153 } 
	ma_un
;

154 } 
	tElf32_Auxšfo
;

158 
	ma_ty³
;

160 
	ma_v®
;

161 *
	ma_±r
;

162 (*
	ma_fú
)();

163 } 
	ma_un
;

164 } 
	tElf64_Auxšfo
;

166 
__ElfTy³
(
Auxšfo
);

169 
	#AT_NULL
 0

	)

170 
	#AT_IGNORE
 1

	)

171 
	#AT_EXECFD
 2

	)

172 
	#AT_PHDR
 3

	)

173 
	#AT_PHENT
 4

	)

174 
	#AT_PHNUM
 5

	)

175 
	#AT_PAGESZ
 6

	)

176 
	#AT_BASE
 7

	)

177 
	#AT_FLAGS
 8

	)

178 
	#AT_ENTRY
 9

	)

179 
	#AT_NOTELF
 10

	)

180 
	#AT_UID
 11

	)

181 
	#AT_EUID
 12

	)

182 
	#AT_GID
 13

	)

183 
	#AT_EGID
 14

	)

184 
	#AT_EXECPATH
 15

	)

185 
	#AT_CANARY
 16

	)

186 
	#AT_CANARYLEN
 17

	)

187 
	#AT_OSRELDATE
 18

	)

188 
	#AT_NCPUS
 19

	)

189 
	#AT_PAGESIZES
 20

	)

190 
	#AT_PAGESIZESLEN
 21

	)

191 
	#AT_TIMEKEEP
 22

	)

192 
	#AT_STACKPROT
 23

	)

193 
	#AT_EHDRFLAGS
 24

	)

194 
	#AT_HWCAP
 25

	)

195 
	#AT_HWCAP2
 26

	)

197 
	#AT_COUNT
 27

	)

203 
	#R_X86_64_COUNT
 24

	)

206 #ià
__ELF_WORD_SIZE
 == 32

207 
	#ELF_TARG_CLASS
 
ELFCLASS32


	)

209 
	#ELF_TARG_CLASS
 
ELFCLASS64


	)

211 
	#ELF_TARG_DATA
 
ELFDATA2LSB


	)

212 
	#ELF_TARG_MACH
 
EM_X86_64


	)

213 
	#ELF_TARG_VER
 1

	)

215 #ià
__ELF_WORD_SIZE
 == 32

216 
	#ET_DYN_LOAD_ADDR
 0x01001000

	)

218 
	#ET_DYN_LOAD_ADDR
 0x01021000

	)

	@src/nvidia-drm/x86/endian.h

35 #iâdeà
_MACHINE_ENDIAN_H_


36 
	#_MACHINE_ENDIAN_H_


	)

38 
	~<sys/cdefs.h
>

39 
	~<sys/_ty³s.h
>

44 
	#_QUAD_HIGHWORD
 1

	)

45 
	#_QUAD_LOWWORD
 0

	)

51 
	#_LITTLE_ENDIAN
 1234

	)

52 
	#_BIG_ENDIAN
 4321

	)

53 
	#_PDP_ENDIAN
 3412

	)

55 
	#_BYTE_ORDER
 
_LITTLE_ENDIAN


	)

61 #ià
__BSD_VISIBLE


62 
	#LITTLE_ENDIAN
 
_LITTLE_ENDIAN


	)

63 
	#BIG_ENDIAN
 
_BIG_ENDIAN


	)

64 
	#PDP_ENDIAN
 
_PDP_ENDIAN


	)

65 
	#BYTE_ORDER
 
_BYTE_ORDER


	)

68 
	#__bsw­16_g’
(
x
è(
__ušt16_t
)((xè<< 8 | (xè>> 8)

	)

69 
	#__bsw­32_g’
(
x
) \

70 (((
__ušt32_t
)
	`__bsw­16
((
x
è& 0xffffè<< 16è| __bsw­16((xè>> 16))

	)

71 
	#__bsw­64_g’
(
x
) \

72 (((
__ušt64_t
)
	`__bsw­32
((
x
è& 0xffffffffè<< 32è| __bsw­32((xè>> 32))

	)

74 #ifdeà
__GNUCLIKE_BUILTIN_CONSTANT_P


75 
	#__bsw­16
(
x
) \

76 ((
__ušt16_t
)(
	`__bužtš_cÚ¡ªt_p
(
x
) ? \

77 
	`__bsw­16_g’
((
__ušt16_t
)(
x
)è: 
	`__bsw­16_v¬
(x)))

	)

78 
	#__bsw­32
(
x
) \

79 (
	`__bužtš_cÚ¡ªt_p
(
x
) ? \

80 
	`__bsw­32_g’
((
__ušt32_t
)(
x
)è: 
	`__bsw­32_v¬
(x))

	)

81 
	#__bsw­64
(
x
) \

82 (
	`__bužtš_cÚ¡ªt_p
(
x
) ? \

83 
	`__bsw­64_g’
((
__ušt64_t
)(
x
)è: 
	`__bsw­64_v¬
(x))

	)

86 
	#__bsw­16
(
x
è
	`__bsw­16_v¬
(x)

	)

87 
	#__bsw­32
(
x
è
	`__bsw­32_v¬
(x)

	)

88 
	#__bsw­64
(
x
è
	`__bsw­64_v¬
(x)

	)

93 
__šlše
 
__ušt16_t


94 
	$__bsw­16_v¬
(
__ušt16_t
 
_x
)

97  (
	`__bsw­16_g’
(
_x
));

98 
	}
}

100 
__šlše
 
__ušt32_t


101 
	$__bsw­32_v¬
(
__ušt32_t
 
_x
)

104 #ifdeà
__GNUCLIKE_ASM


105 
	`__asm
("bsw­ %0" : "+r" (
_x
));

106  (
_x
);

108  (
	`__bsw­32_g’
(
_x
));

110 
	}
}

112 
__šlše
 
__ušt64_t


113 
	$__bsw­64_v¬
(
__ušt64_t
 
_x
)

116 #ià
	`defšed
(
__amd64__
è&& defšed(
__GNUCLIKE_ASM
)

117 
	`__asm
("bsw­ %0" : "+r" (
_x
));

118  (
_x
);

124  (
	`__bsw­64_g’
(
_x
));

126 
	}
}

128 
	#__htÚl
(
x
è
	`__bsw­32
(x)

	)

129 
	#__htÚs
(
x
è
	`__bsw­16
(x)

	)

130 
	#__Áohl
(
x
è
	`__bsw­32
(x)

	)

131 
	#__Áohs
(
x
è
	`__bsw­16
(x)

	)

	@src/nvidia-drm/x86/fdt.h

31 #iâdeà
_MACHINE_FDT_H_


32 
	#_MACHINE_FDT_H_


	)

34 
__BEGIN_DECLS


35 
x86_š™_fdt
();

36 
	g__END_DECLS


	@src/nvidia-drm/x86/float.h

35 #iâdeà
_MACHINE_FLOAT_H_


36 
	#_MACHINE_FLOAT_H_
 1

	)

38 
	~<sys/cdefs.h
>

40 
__BEGIN_DECLS


41 
__æt_rounds
();

42 
	g__END_DECLS


44 
	#FLT_RADIX
 2

	)

45 
	#FLT_ROUNDS
 
	`__æt_rounds
()

	)

46 #ià
__ISO_C_VISIBLE
 >= 1999

47 #ifdeà
__LP64__


48 
	#FLT_EVAL_METHOD
 0

	)

50 
	#FLT_EVAL_METHOD
 (-1è

	)

52 
	#DECIMAL_DIG
 21

	)

55 
	#FLT_MANT_DIG
 24

	)

56 
	#FLT_EPSILON
 1.19209290E-07F

	)

57 
	#FLT_DIG
 6

	)

58 
	#FLT_MIN_EXP
 (-125è

	)

59 
	#FLT_MIN
 1.17549435E-38F

	)

60 
	#FLT_MIN_10_EXP
 (-37è

	)

61 
	#FLT_MAX_EXP
 128

	)

62 
	#FLT_MAX
 3.40282347E+38F

	)

63 
	#FLT_MAX_10_EXP
 38

	)

64 #ià
__ISO_C_VISIBLE
 >= 2011

65 
	#FLT_TRUE_MIN
 1.40129846E-45F

	)

66 
	#FLT_DECIMAL_DIG
 9

	)

67 
	#FLT_HAS_SUBNORM
 1

	)

70 
	#DBL_MANT_DIG
 53

	)

71 
	#DBL_EPSILON
 2.2204460492503131E-16

	)

72 
	#DBL_DIG
 15

	)

73 
	#DBL_MIN_EXP
 (-1021)

	)

74 
	#DBL_MIN
 2.2250738585072014E-308

	)

75 
	#DBL_MIN_10_EXP
 (-307)

	)

76 
	#DBL_MAX_EXP
 1024

	)

77 
	#DBL_MAX
 1.7976931348623157E+308

	)

78 
	#DBL_MAX_10_EXP
 308

	)

79 #ià
__ISO_C_VISIBLE
 >= 2011

80 
	#DBL_TRUE_MIN
 4.9406564584124654E-324

	)

81 
	#DBL_DECIMAL_DIG
 17

	)

82 
	#DBL_HAS_SUBNORM
 1

	)

85 
	#LDBL_MANT_DIG
 64

	)

86 
	#LDBL_EPSILON
 1.0842021724855044340E-19L

	)

87 
	#LDBL_DIG
 18

	)

88 
	#LDBL_MIN_EXP
 (-16381)

	)

89 
	#LDBL_MIN
 3.3621031431120935063E-4932L

	)

90 
	#LDBL_MIN_10_EXP
 (-4931)

	)

91 
	#LDBL_MAX_EXP
 16384

	)

92 
	#LDBL_MAX
 1.1897314953572317650E+4932L

	)

93 
	#LDBL_MAX_10_EXP
 4932

	)

94 #ià
__ISO_C_VISIBLE
 >= 2011

95 
	#LDBL_TRUE_MIN
 3.6451995318824746025E-4951L

	)

96 
	#LDBL_DECIMAL_DIG
 21

	)

97 
	#LDBL_HAS_SUBNORM
 1

	)

	@src/nvidia-drm/x86/fpu.h

41 #iâdeà
_X86_FPU_H_


42 
	#_X86_FPU_H_


	)

45 
	s’v87
 {

46 
št32_t
 
	m’_cw
;

47 
št32_t
 
	m’_sw
;

48 
št32_t
 
	m’_tw
;

49 
št32_t
 
	m’_f
;

50 
ušt16_t
 
	m’_fcs
;

51 
ušt16_t
 
	m’_Ýcode
;

52 
št32_t
 
	m’_foo
;

53 
št32_t
 
	m’_fos
;

57 
	såacc87
 {

58 
ušt8_t
 
	må_by‹s
[10];

62 
	s§ve87
 {

63 
’v87
 
	msv_’v
;

64 
åacc87
 
	msv_ac
[8];

65 
ušt8_t
 
	msv_·d0
[4];

66 
ušt8_t
 
	msv_·d
[64];

70 
	sxmmacc
 {

71 
ušt8_t
 
	mxmm_by‹s
[16];

75 
	symmacc
 {

76 
ušt8_t
 
	mymm_by‹s
[16];

80 #ifdeà
__i386__


81 
	#__’vxmm32
 
’vxmm


	)

83 
	#__’vxmm32
 
’vxmm32


	)

84 
	#__’vxmm64
 
’vxmm


	)

87 
	s__’vxmm32
 {

88 
ušt16_t
 
	m’_cw
;

89 
ušt16_t
 
	m’_sw
;

90 
ušt16_t
 
	m’_tw
;

91 
ušt16_t
 
	m’_Ýcode
;

92 
ušt32_t
 
	m’_f
;

93 
ušt16_t
 
	m’_fcs
;

94 
ušt16_t
 
	m’_·d0
;

95 
ušt32_t
 
	m’_foo
;

96 
ušt16_t
 
	m’_fos
;

97 
ušt16_t
 
	m’_·d1
;

98 
ušt32_t
 
	m’_mxc¤
;

99 
ušt32_t
 
	m’_mxc¤_mask
;

102 
	s__’vxmm64
 {

103 
ušt16_t
 
	m’_cw
;

104 
ušt16_t
 
	m’_sw
;

105 
ušt8_t
 
	m’_tw
;

106 
ušt8_t
 
	m’_z”o
;

107 
ušt16_t
 
	m’_Ýcode
;

108 
ušt64_t
 
	m’_r
;

109 
ušt64_t
 
	m’_rdp
;

110 
ušt32_t
 
	m’_mxc¤
;

111 
ušt32_t
 
	m’_mxc¤_mask
;

115 
	s§vexmm
 {

116 
__’vxmm32
 
	msv_’v
;

118 
åacc87
 
	må_acc
;

119 
ušt8_t
 
	må_·d
[6];

120 } 
	msv_å
[8];

121 
xmmacc
 
	msv_xmm
[8];

122 
ušt8_t
 
	msv_·d
[224];

123 } 
__®igÃd
(16);

125 #ifdeà
__i386__


126 
	u§veåu
 {

127 
§ve87
 
	msv_87
;

128 
§vexmm
 
	msv_xmm
;

132 
	s§veåu
 {

133 
__’vxmm64
 
	msv_’v
;

135 
åacc87
 
	må_acc
;

136 
ušt8_t
 
	må_·d
[6];

137 } 
	msv_å
[8];

138 
xmmacc
 
	msv_xmm
[16];

139 
ušt8_t
 
	msv_·d
[96];

140 } 
__®igÃd
(16);

143 
	sx¡©e_hdr
 {

144 
ušt64_t
 
	mx¡©e_bv
;

145 
ušt64_t
 
	mx¡©e_xcomp_bv
;

146 
ušt8_t
 
	mx¡©e_r¤v0
[8];

147 
ušt8_t
 
	mx¡©e_r¤v
[40];

149 
	#XSTATE_XCOMP_BV_COMPACT
 (1ULL << 63)

	)

151 
	s§vexmm_x¡©e
 {

152 
x¡©e_hdr
 
	msx_hd
;

153 
ymmacc
 
	msx_ymm
[16];

156 
	s§vexmm_ymm
 {

157 
__’vxmm32
 
	msv_’v
;

159 
åacc87
 
	må_acc
;

160 
št8_t
 
	må_·d
[6];

161 } 
	msv_å
[8];

162 
xmmacc
 
	msv_xmm
[16];

163 
ušt8_t
 
	msv_·d
[96];

164 
§vexmm_x¡©e
 
	msv_x¡©e
;

165 } 
__®igÃd
(64);

167 
	s§veåu_x¡©e
 {

168 
x¡©e_hdr
 
	msx_hd
;

169 
ymmacc
 
	msx_ymm
[16];

172 
	s§veåu_ymm
 {

173 
__’vxmm64
 
	msv_’v
;

175 
åacc87
 
	må_acc
;

176 
št8_t
 
	må_·d
[6];

177 } 
	msv_å
[8];

178 
xmmacc
 
	msv_xmm
[16];

179 
ušt8_t
 
	msv_·d
[96];

180 
§veåu_x¡©e
 
	msv_x¡©e
;

181 } 
__®igÃd
(64);

183 #undeà
__’vxmm32


184 #undeà
__’vxmm64


204 
	#__INITIAL_FPUCW__
 0x037F

	)

205 
	#__INITIAL_FPUCW_I386__
 0x127F

	)

206 
	#__INITIAL_NPXCW__
 
__INITIAL_FPUCW_I386__


	)

207 
	#__INITIAL_MXCSR__
 0x1F80

	)

208 
	#__INITIAL_MXCSR_MASK__
 0xFFBF

	)

215 
	#X86_XSTATE_XCR0_OFFSET
 464

	)

	@src/nvidia-drm/x86/frame.h

39 #iâdeà
_MACHINE_FRAME_H_


40 
	#_MACHINE_FRAME_H_
 1

	)

46 #ifdeà
__i386__


51 
	sŒ­äame
 {

52 
	mtf_fs
;

53 
	mtf_es
;

54 
	mtf_ds
;

55 
	mtf_edi
;

56 
	mtf_esi
;

57 
	mtf_ebp
;

58 
	mtf_i¥
;

59 
	mtf_ebx
;

60 
	mtf_edx
;

61 
	mtf_ecx
;

62 
	mtf_—x
;

63 
	mtf_Œ­no
;

65 
	mtf_”r
;

66 
	mtf_e
;

67 
	mtf_cs
;

68 
	mtf_eæags
;

70 
	mtf_e¥
;

71 
	mtf_ss
;

76 
	sŒ­äame_vm86
 {

77 
	mtf_fs
;

78 
	mtf_es
;

79 
	mtf_ds
;

80 
	mtf_edi
;

81 
	mtf_esi
;

82 
	mtf_ebp
;

83 
	mtf_i¥
;

84 
	mtf_ebx
;

85 
	mtf_edx
;

86 
	mtf_ecx
;

87 
	mtf_—x
;

88 
	mtf_Œ­no
;

90 
	mtf_”r
;

91 
	mtf_e
;

92 
	mtf_cs
;

93 
	mtf_eæags
;

95 
	mtf_e¥
;

96 
	mtf_ss
;

98 
	mtf_vm86_es
;

99 
	mtf_vm86_ds
;

100 
	mtf_vm86_fs
;

101 
	mtf_vm86_gs
;

111 
	#TF_HAS_STACKREGS
(
tf
è
	`TRAPF_USERMODE
Ñf)

	)

114 #ifdeà
__amd64__


122 
	sŒ­äame
 {

123 
»gi¡”_t
 
	mtf_rdi
;

124 
»gi¡”_t
 
	mtf_rsi
;

125 
»gi¡”_t
 
	mtf_rdx
;

126 
»gi¡”_t
 
	mtf_rcx
;

127 
»gi¡”_t
 
	mtf_r8
;

128 
»gi¡”_t
 
	mtf_r9
;

129 
»gi¡”_t
 
	mtf_¿x
;

130 
»gi¡”_t
 
	mtf_rbx
;

131 
»gi¡”_t
 
	mtf_rbp
;

132 
»gi¡”_t
 
	mtf_r10
;

133 
»gi¡”_t
 
	mtf_r11
;

134 
»gi¡”_t
 
	mtf_r12
;

135 
»gi¡”_t
 
	mtf_r13
;

136 
»gi¡”_t
 
	mtf_r14
;

137 
»gi¡”_t
 
	mtf_r15
;

138 
ušt32_t
 
	mtf_Œ­no
;

139 
ušt16_t
 
	mtf_fs
;

140 
ušt16_t
 
	mtf_gs
;

141 
»gi¡”_t
 
	mtf_addr
;

142 
ušt32_t
 
	mtf_æags
;

143 
ušt16_t
 
	mtf_es
;

144 
ušt16_t
 
	mtf_ds
;

146 
»gi¡”_t
 
	mtf_”r
;

147 
»gi¡”_t
 
	mtf_r
;

148 
»gi¡”_t
 
	mtf_cs
;

149 
»gi¡”_t
 
	mtf_ræags
;

151 
»gi¡”_t
 
	mtf_r¥
;

152 
»gi¡”_t
 
	mtf_ss
;

155 
	#TF_HASSEGS
 0x1

	)

156 
	#TF_HASBASES
 0x2

	)

157 
	#TF_HASFPXSTATE
 0x4

	)

	@src/nvidia-drm/x86/ifunc.h

32 #iâdeà
__X86_IFUNC_H


33 
	#__X86_IFUNC_H


	)

35 
	#DEFINE_IFUNC
(
qu®
, 
»t_ty³
, 
Çme
, 
¬gs
, 
»sÞv”_qu®
) \

36 
»sÞv”_qu®
 
	`»t_ty³
 (*
Çme
##
	`_»sÞv”
())
¬gs
 
__u£d
; \

37 
qu®
 
»t_ty³
 
Çme
 
¬gs
 
	`__©Œibu‹__
((
	`ifunc
(#name "_resolver"))); \

38 
»sÞv”_qu®
 
	`»t_ty³
 (*
Çme
##
	`_»sÞv”
())
¬gs


	)

40 
	#DEFINE_UIFUNC
(
qu®
, 
»t_ty³
, 
Çme
, 
¬gs
, 
»sÞv”_qu®
) \

41 
»sÞv”_qu®
 
	`»t_ty³
 (*
Çme
##
	`_»sÞv”
(
ušt32_t
, uint32_t, \

42 
ušt32_t
, ušt32_t))
¬gs
 
__u£d
; \

43 
qu®
 
»t_ty³
 
Çme
 
¬gs
 
	`__©Œibu‹__
((
	`ifunc
(#name "_resolver"))); \

44 
»sÞv”_qu®
 
	`»t_ty³
 (*
Çme
##
	`_»sÞv”
( \

45 
ušt32_t
 
ýu_ã©u»
 
__unu£d
, \

46 
ušt32_t
 
ýu_ã©u»2
 
__unu£d
, \

47 
ušt32_t
 
ýu_¡dext_ã©u»
 
__unu£d
, \

48 
ušt32_t
 
ýu_¡dext_ã©u»2
 
__unu£d
))
¬gs


	)

	@src/nvidia-drm/x86/init.h

31 #iâdeà
__X86_INIT_H__


32 
	#__X86_INIT_H__


	)

39 
	sš™_Ýs
 {

40 
ÿddr_t
 (*
·r£_´–ßd_d©a
)(
	mu_št64_t
);

41 (*
	m—¾y_þock_sourû_š™
)();

42 (*
	m—¾y_d–ay
)();

43 (*
	m·r£_memm­
)(
	mÿddr_t
, 
	mvm_·ddr_t
 *, *);

44 (*
	mmp_boÙadd»ss
)(
	mvm_·ddr_t
 *, *);

45 (*
	m¡¬t_®l_­s
)();

46 (*
	mmsi_š™
)();

49 
š™_Ýs
 init_ops;

52 
boÞ
 
aýi_ýu_di§bËd
;

55 
boÞ
 
aýi_h³t_di§bËd
;

58 
boÞ
 
aýi_tim”_di§bËd
;

	@src/nvidia-drm/x86/intr_machdep.h

31 #iâdeà
__X86_INTR_MACHDEP_H__


32 
	#__X86_INTR_MACHDEP_H__


	)

34 #ifdeà
_KERNEL


61 
	#NUM_MSI_INTS
 512

	)

62 
	#MINIMUM_MSI_INT
 256

	)

64 
u_št
 
fœ¡_msi_œq
;

65 
u_št
 
num_io_œqs
;

70 
	#MSI_INTEL_ADDR_BASE
 0xãe00000

	)

72 #iâdeà
LOCORE


74 
	tšthªd_t
();

76 
	#IDTVEC
(
Çme
è
	`__CONCAT
(
X
,Çme)

	)

78 
	gšt¤c
;

85 
	spic
 {

86 (*
	mpic_»gi¡”_sourûs
)(
	mpic
 *);

87 (*
	mpic_’abË_sourû
)(
	mšt¤c
 *);

88 (*
	mpic_di§bË_sourû
)(
	mšt¤c
 *, );

89 (*
	mpic_eoi_sourû
)(
	mšt¤c
 *);

90 (*
	mpic_’abË_šŒ
)(
	mšt¤c
 *);

91 (*
	mpic_di§bË_šŒ
)(
	mšt¤c
 *);

92 (*
	mpic_veùÜ
)(
	mšt¤c
 *);

93 (*
	mpic_sourû_³ndšg
)(
	mšt¤c
 *);

94 (*
	mpic_su¥’d
)(
	mpic
 *);

95 (*
	mpic_»sume
)(
	mpic
 *, 
boÞ
 
	msu¥’d_ÿnûÎed
);

96 (*
	mpic_cÚfig_šŒ
)(
	mšt¤c
 *, 
	mšŒ_Œigg”
,

97 
	mšŒ_pÞ¬™y
);

98 (*
	mpic_assign_ýu
)(
	mšt¤c
 *, 
u_št
 
	m­ic_id
);

99 (*
	mpic_»´og¿m_pš
)(
	mšt¤c
 *);

100 
TAILQ_ENTRY
(
pic
è
	mpics
;

105 
	mPIC_EOI
,

106 
	mPIC_NO_EOI
,

115 
	sšt¤c
 {

116 
pic
 *
	mis_pic
;

117 
šŒ_ev’t
 *
	mis_ev’t
;

118 
u_lÚg
 *
	mis_couÁ
;

119 
u_lÚg
 *
	mis_¡¿ycouÁ
;

120 
u_št
 
	mis_šdex
;

121 
u_št
 
	mis_hªdËrs
;

122 
u_št
 
	mis_domaš
;

123 
u_št
 
	mis_ýu
;

126 
	gŒ­äame
;

128 #ifdeà
SMP


129 
ýu£t_t
 
šŒ_ýus
;

131 
mtx
 
icu_lock
;

132 
–ü_found
;

133 #ifdeà
SMP


134 
msix_di§bË_mig¿tiÚ
;

137 #iâdeà
DEV_ATPIC


138 
©pic_»£t
();

141 
–ü_´obe
();

142 
šŒ_Œigg”
 
–ü_»ad_Œigg”
(
u_št
 
œq
);

143 
–ü_»sume
();

144 
–ü_wr™e_Œigg”
(
u_št
 
œq
, 
šŒ_Œigg”
 
Œigg”
);

145 #ifdeà
SMP


146 
šŒ_add_ýu
(
u_št
 
ýu
);

148 
šŒ_add_hªdËr
(cÚ¡ *
Çme
, 
veùÜ
, 
driv”_fž‹r_t
 
fž‹r
,

149 
driv”_šŒ_t
 
hªdËr
, *
¬g
, 
šŒ_ty³
 
æags
, **
cook›p
,

150 
domaš
);

151 #ifdeà
SMP


152 
šŒ_bšd
(
u_št
 
veùÜ
, 
u_ch¬
 
ýu
);

154 
šŒ_cÚfig_šŒ
(
veùÜ
, 
šŒ_Œigg”
 
Œig
,

155 
šŒ_pÞ¬™y
 
pÞ
);

156 
šŒ_desüibe
(
u_št
 
veùÜ
, *
ih
, cÚ¡ *
desü
);

157 
šŒ_execu‹_hªdËrs
(
št¤c
 *
i¤c
, 
Œ­äame
 *
äame
);

158 
u_št
 
šŒ_Ãxt_ýu
(
domaš
);

159 
št¤c
 *
šŒ_lookup_sourû
(
veùÜ
);

160 
šŒ_»gi¡”_pic
(
pic
 *pic);

161 
šŒ_»gi¡”_sourû
(
št¤c
 *
i¤c
);

162 
šŒ_»move_hªdËr
(*
cook›
);

163 
šŒ_»sume
(
boÞ
 
su¥’d_ÿnûÎed
);

164 
šŒ_su¥’d
();

165 
šŒ_»´og¿m
();

166 
šŒút_add
(cÚ¡ *
Çme
, 
u_lÚg
 **
couÁp
);

167 
Ãxus_add_œq
(
u_lÚg
 
œq
);

168 
msi_®loc
(
deviû_t
 
dev
, 
couÁ
, 
maxcouÁ
, *
œqs
);

169 
msi_š™
();

170 
msi_m­
(
œq
, 
ušt64_t
 *
addr
, 
ušt32_t
 *
d©a
);

171 
msi_»Ëa£
(*
œqs
, 
couÁ
);

172 
msix_®loc
(
deviû_t
 
dev
, *
œq
);

173 
msix_»Ëa£
(
œq
);

174 #ifdeà
XENHVM


175 
x’_šŒ_®loc_œqs
();

	@src/nvidia-drm/x86/legacyvar.h

31 #iâdeà
_X86_LEGACYVAR_H_


32 
	#_X86_LEGACYVAR_H_


	)

34 
	eËgacy_deviû_iv¬s
 {

35 
	mLEGACY_IVAR_PCIDOMAIN
,

36 
	mLEGACY_IVAR_PCIBUS
,

37 
	mLEGACY_IVAR_PCISLOT
,

38 
	mLEGACY_IVAR_PCIFUNC


41 
	#LEGACY_ACCESSOR
(
v¬
, 
iv¬
, 
ty³
) \

42 
	`__BUS_ACCESSOR
(
Ëgacy
, 
v¬
, 
LEGACY
, 
iv¬
, 
ty³
)

	)

44 
	$LEGACY_ACCESSOR
(
pcidomaš
, 
PCIDOMAIN
, 
ušt32_t
)

45 
	$LEGACY_ACCESSOR
(
pcibus
, 
PCIBUS
, 
ušt32_t
)

46 
	$LEGACY_ACCESSOR
(
pci¦Ù
, 
PCISLOT
, )

47 
	$LEGACY_ACCESSOR
(
pcifunc
, 
PCIFUNC
, )

49 #undeà
LEGACY_ACCESSOR


51 
	`Ëgacy_pcib_max¦Ùs
(
deviû_t
 
dev
);

52 
ušt32_t
 
	`Ëgacy_pcib_»ad_cÚfig
(
deviû_t
 
dev
, 
u_št
 
bus
, u_šˆ
¦Ù
,

53 
u_št
 
func
, u_šˆ
»g
, 
by‹s
);

54 
	`Ëgacy_pcib_»ad_iv¬
(
deviû_t
 
dev
, deviû_ˆ
chžd
, 
which
,

55 
ušŒ_t
 *
»suÉ
);

56 
	`Ëgacy_pcib_wr™e_cÚfig
(
deviû_t
 
dev
, 
u_št
 
bus
, u_šˆ
¦Ù
,

57 
u_št
 
func
, u_šˆ
»g
, 
ušt32_t
 
d©a
, 
by‹s
);

58 
	`Ëgacy_pcib_wr™e_iv¬
(
deviû_t
 
dev
, deviû_ˆ
chžd
, 
which
,

59 
ušŒ_t
 
v®ue
);

60 
»sourû
 *
	`Ëgacy_pcib_®loc_»sourû
(
deviû_t
 
dev
, deviû_ˆ
chžd
,

61 
ty³
, *
rid
, 
rmª_»s_t
 
¡¬t
,„mª_»s_ˆ
’d
,„mª_»s_ˆ
couÁ
,

62 
u_št
 
æags
);

63 
	`Ëgacy_pcib_adju¡_»sourû
(
deviû_t
 
dev
, deviû_ˆ
chžd
, 
ty³
,

64 
»sourû
 *
r
, 
rmª_»s_t
 
¡¬t
,„mª_»s_ˆ
’d
);

65 
	`Ëgacy_pcib_»Ëa£_»sourû
(
deviû_t
 
dev
, deviû_ˆ
chžd
, 
ty³
,

66 
rid
, 
»sourû
 *
r
);

67 
	`Ëgacy_pcib_®loc_msi
(
deviû_t
 
pcib
, deviû_ˆ
dev
, 
couÁ
,

68 
maxcouÁ
, *
œqs
);

69 
	`Ëgacy_pcib_®loc_msix
(
deviû_t
 
pcib
, deviû_ˆ
dev
, *
œq
);

70 
	`Ëgacy_pcib_m­_msi
(
deviû_t
 
pcib
, deviû_ˆ
dev
, 
œq
,

71 
ušt64_t
 *
addr
, 
ušt32_t
 *
d©a
);

	@src/nvidia-drm/x86/mca.h

32 #iâdeà
__X86_MCA_H__


33 
	#__X86_MCA_H__


	)

35 
	smÿ_»cÜd
 {

36 
ušt64_t
 
	mmr_¡©us
;

37 
ušt64_t
 
	mmr_addr
;

38 
ušt64_t
 
	mmr_misc
;

39 
ušt64_t
 
	mmr_tsc
;

40 
	mmr_­ic_id
;

41 
	mmr_bªk
;

42 
ušt64_t
 
	mmr_mcg_ÿp
;

43 
ušt64_t
 
	mmr_mcg_¡©us
;

44 
	mmr_ýu_id
;

45 
	mmr_ýu_v’dÜ_id
;

46 
	mmr_ýu
;

49 #ifdeà
_KERNEL


51 
cmc_šŒ
();

52 
mÿ_š™
();

53 
mÿ_šŒ
();

54 
mÿ_»sume
();

	@src/nvidia-drm/x86/metadata.h

29 #iâdeà
_MACHINE_METADATA_H_


30 
	#_MACHINE_METADATA_H_


	)

32 
	#MODINFOMD_SMAP
 0x1001

	)

33 
	#MODINFOMD_SMAP_XATTR
 0x1002

	)

34 
	#MODINFOMD_DTBP
 0x1003

	)

35 
	#MODINFOMD_EFI_MAP
 0x1004

	)

36 
	#MODINFOMD_EFI_FB
 0x1005

	)

37 
	#MODINFOMD_MODULEP
 0x1006

	)

39 
	sefi_m­_h—d”
 {

40 
ušt64_t
 
	mmemÜy_size
;

41 
ušt64_t
 
	mdesütÜ_size
;

42 
ušt32_t
 
	mdesütÜ_v”siÚ
;

45 
	sefi_fb
 {

46 
ušt64_t
 
	mfb_addr
;

47 
ušt64_t
 
	mfb_size
;

48 
ušt32_t
 
	mfb_height
;

49 
ušt32_t
 
	mfb_width
;

50 
ušt32_t
 
	mfb_¡ride
;

51 
ušt32_t
 
	mfb_mask_»d
;

52 
ušt32_t
 
	mfb_mask_g»’
;

53 
ušt32_t
 
	mfb_mask_blue
;

54 
ušt32_t
 
	mfb_mask_»£rved
;

	@src/nvidia-drm/x86/mptable.h

30 #iâdeà
__MACHINE_MPTABLE_H__


31 
	#__MACHINE_MPTABLE_H__


	)

33 
	ebusTy³s
 {

34 
	mNOBUS
 = 0,

35 
	mCBUS
 = 1,

36 
	mCBUSII
 = 2,

37 
	mEISA
 = 3,

38 
	mISA
 = 6,

39 
	mMCA
 = 9,

40 
	mPCI
 = 13,

41 
	mXPRESS
 = 18,

42 
	mMAX_BUSTYPE
 = 18,

43 
	mUNKNOWN_BUSTYPE
 = 0xff

47 
	sMPFPS
 {

48 
ušt8_t
 
	msigÇtu»
[4];

49 
ušt32_t
 
	m·p
;

50 
ušt8_t
 
	mËngth
;

51 
ušt8_t
 
	m¥ec_»v
;

52 
ušt8_t
 
	mchecksum
;

53 
ušt8_t
 
	mcÚfig_ty³
;

54 
ušt8_t
 
	mmpfb2
;

55 
ušt8_t
 
	mmpfb3
;

56 
ušt8_t
 
	mmpfb4
;

57 
ušt8_t
 
	mmpfb5
;

58 } 
	t__·cked
 *
	tmpås_t
;

60 
	#MPFB2_IMCR_PRESENT
 0x80

	)

61 
	#MPFB2_MUL_CLK_SRCS
 0x40

	)

64 
	sMPCTH
 {

65 
ušt8_t
 
	msigÇtu»
[4];

66 
ušt16_t
 
	mba£_bË_Ëngth
;

67 
ušt8_t
 
	m¥ec_»v
;

68 
ušt8_t
 
	mchecksum
;

69 
ušt8_t
 
	mÛm_id
[8];

70 
ušt8_t
 
	m´oduù_id
[12];

71 
ušt32_t
 
	mÛm_bË_poš‹r
;

72 
ušt16_t
 
	mÛm_bË_size
;

73 
ušt16_t
 
	m’Œy_couÁ
;

74 
ušt32_t
 
	m­ic_add»ss
;

75 
ušt16_t
 
	mex‹nded_bË_Ëngth
;

76 
ušt8_t
 
	mex‹nded_bË_checksum
;

77 
ušt8_t
 
	m»£rved
;

78 } 
	t__·cked
 *
	tmpùh_t
;

82 
	#MPCT_ENTRY_PROCESSOR
 0

	)

83 
	#MPCT_ENTRY_BUS
 1

	)

84 
	#MPCT_ENTRY_IOAPIC
 2

	)

85 
	#MPCT_ENTRY_INT
 3

	)

86 
	#MPCT_ENTRY_LOCAL_INT
 4

	)

88 
	sPROCENTRY
 {

89 
ušt8_t
 
	mty³
;

90 
ušt8_t
 
	m­ic_id
;

91 
ušt8_t
 
	m­ic_v”siÚ
;

92 
ušt8_t
 
	mýu_æags
;

93 
ušt32_t
 
	mýu_sigÇtu»
;

94 
ušt32_t
 
	mã©u»_æags
;

95 
ušt32_t
 
	m»£rved1
;

96 
ušt32_t
 
	m»£rved2
;

97 } 
	t__·cked
 *
	t´oc_’Œy_±r
;

99 
	#PROCENTRY_FLAG_EN
 0x01

	)

100 
	#PROCENTRY_FLAG_BP
 0x02

	)

102 
	sBUSENTRY
 {

103 
ušt8_t
 
	mty³
;

104 
ušt8_t
 
	mbus_id
;

105 
ušt8_t
 
	mbus_ty³
[6];

106 } 
	t__·cked
 *
	tbus_’Œy_±r
;

108 
	sIOAPICENTRY
 {

109 
ušt8_t
 
	mty³
;

110 
ušt8_t
 
	m­ic_id
;

111 
ušt8_t
 
	m­ic_v”siÚ
;

112 
ušt8_t
 
	m­ic_æags
;

113 
ušt32_t
 
	m­ic_add»ss
;

114 } 
	t__·cked
 *
	tio_­ic_’Œy_±r
;

116 
	#IOAPICENTRY_FLAG_EN
 0x01

	)

118 
	sINTENTRY
 {

119 
ušt8_t
 
	mty³
;

120 
ušt8_t
 
	mšt_ty³
;

121 
ušt16_t
 
	mšt_æags
;

122 
ušt8_t
 
	m¤c_bus_id
;

123 
ušt8_t
 
	m¤c_bus_œq
;

124 
ušt8_t
 
	md¡_­ic_id
;

125 
ušt8_t
 
	md¡_­ic_št
;

126 } 
	t__·cked
 *
	tšt_’Œy_±r
;

128 
	#INTENTRY_TYPE_INT
 0

	)

129 
	#INTENTRY_TYPE_NMI
 1

	)

130 
	#INTENTRY_TYPE_SMI
 2

	)

131 
	#INTENTRY_TYPE_EXTINT
 3

	)

133 
	#INTENTRY_FLAGS_POLARITY
 0x3

	)

134 
	#INTENTRY_FLAGS_POLARITY_CONFORM
 0x0

	)

135 
	#INTENTRY_FLAGS_POLARITY_ACTIVEHI
 0x1

	)

136 
	#INTENTRY_FLAGS_POLARITY_ACTIVELO
 0x3

	)

137 
	#INTENTRY_FLAGS_TRIGGER
 0xc

	)

138 
	#INTENTRY_FLAGS_TRIGGER_CONFORM
 0x0

	)

139 
	#INTENTRY_FLAGS_TRIGGER_EDGE
 0x4

	)

140 
	#INTENTRY_FLAGS_TRIGGER_LEVEL
 0xc

	)

144 
	sEXTENTRY
 {

145 
ušt8_t
 
	mty³
;

146 
ušt8_t
 
	mËngth
;

147 } 
	t__·cked
 *
	text_’Œy_±r
;

149 
	#MPCT_EXTENTRY_SAS
 0x80

	)

150 
	#MPCT_EXTENTRY_BHD
 0x81

	)

151 
	#MPCT_EXTENTRY_CBASM
 0x82

	)

153 
	sSASENTRY
 {

154 
ušt8_t
 
	mty³
;

155 
ušt8_t
 
	mËngth
;

156 
ušt8_t
 
	mbus_id
;

157 
ušt8_t
 
	madd»ss_ty³
;

158 
ušt64_t
 
	madd»ss_ba£
;

159 
ušt64_t
 
	madd»ss_Ëngth
;

160 } 
	t__·cked
 *
	t§s_’Œy_±r
;

162 
	#SASENTRY_TYPE_IO
 0

	)

163 
	#SASENTRY_TYPE_MEMORY
 1

	)

164 
	#SASENTRY_TYPE_PREFETCH
 2

	)

166 
	sBHDENTRY
 {

167 
ušt8_t
 
	mty³
;

168 
ušt8_t
 
	mËngth
;

169 
ušt8_t
 
	mbus_id
;

170 
ušt8_t
 
	mbus_šfo
;

171 
ušt8_t
 
	m·»Á_bus
;

172 
ušt8_t
 
	m»£rved
[3];

173 } 
	t__·cked
 *
	tbhd_’Œy_±r
;

175 
	#BHDENTRY_INFO_SUBTRACTIVE_DECODE
 0x1

	)

177 
	sCBASMENTRY
 {

178 
ušt8_t
 
	mty³
;

179 
ušt8_t
 
	mËngth
;

180 
ušt8_t
 
	mbus_id
;

181 
ušt8_t
 
	madd»ss_mod
;

182 
ušt32_t
 
	m´edefšed_¿nge
;

183 } 
	t__·cked
 *
	tcbasm_’Œy_±r
;

185 
	#CBASMENTRY_ADDRESS_MOD_ADD
 0x0

	)

186 
	#CBASMENTRY_ADDRESS_MOD_SUBTRACT
 0x1

	)

188 
	#CBASMENTRY_RANGE_ISA_IO
 0

	)

189 
	#CBASMENTRY_RANGE_VGA_IO
 1

	)

191 #ifdeà
_KERNEL


192 
	sm±abË_ho¡b_soác
 {

193 #ifdeà
NEW_PCIB


194 
pcib_ho¡_»sourûs
 
	msc_ho¡_»s
;

195 
	msc_decodes_vga_io
;

196 
	msc_decodes_i§_io
;

200 #ifdeà
NEW_PCIB


201 
m±abË_pci_ho¡_»s_š™
(
deviû_t
 
pcib
);

203 
m±abË_pci_´obe_bË
(
bus
);

204 
m±abË_pci_rou‹_š‹¼u±
(
deviû_t
 
pcib
, deviû_ˆ
dev
, 
pš
);

	@src/nvidia-drm/x86/ofw_machdep.h

31 #iâdeà
_MACHINE_OFW_MACHDEP_H_


32 
	#_MACHINE_OFW_MACHDEP_H_


	)

34 
	~<machše/bus.h
>

35 
	~<vm/vm.h
>

37 
ušt32_t
 
	tûÎ_t
;

39 
	smem_»giÚ
 {

40 
vm_off£t_t
 
	mmr_¡¬t
;

41 
vm_size_t
 
	mmr_size
;

	@src/nvidia-drm/x86/pci_cfgreg.h

32 #iâdeà
__X86_PCI_CFGREG_H__


33 
	#__X86_PCI_CFGREG_H__


	)

35 
	#CONF1_ADDR_PORT
 0x0cf8

	)

36 
	#CONF1_DATA_PORT
 0x0cfc

	)

38 
	#CONF1_ENABLE
 0x80000000ul

	)

39 
	#CONF1_ENABLE_CHK
 0x80000000ul

	)

40 
	#CONF1_ENABLE_MSK
 0x7f000000ul

	)

41 
	#CONF1_ENABLE_CHK1
 0xff000001ul

	)

42 
	#CONF1_ENABLE_MSK1
 0x80000001ul

	)

43 
	#CONF1_ENABLE_RES1
 0x80000000ul

	)

45 
	#CONF2_ENABLE_PORT
 0x0cf8

	)

46 
	#CONF2_FORWARD_PORT
 0x0cç

	)

48 
	#CONF2_ENABLE_CHK
 0x0e

	)

49 
	#CONF2_ENABLE_RES
 0x0e

	)

51 
rmª_»s_t
 
ho¡b_®loc_¡¬t
(
ty³
,„mª_»s_ˆ
¡¬t
,„mª_»s_ˆ
’d
,„mª_»s_ˆ
couÁ
);

52 
pc›_cfg»gÝ’
(
ušt64_t
 
ba£
, 
ušt8_t
 
mšbus
, ušt8_ˆ
maxbus
);

53 
pci_cfg»gÝ’
();

54 
u_št32_t
 
pci_cfg»g»ad
(
bus
, 
¦Ù
, 
func
, 
»g
, 
by‹s
);

55 
pci_cfg»gwr™e
(
bus
, 
¦Ù
, 
func
, 
»g
, 
u_št32_t
 
d©a
, 
by‹s
);

56 #ifdeà
__HAVE_PIR


57 
pci_pœ_Ý’
();

58 
pci_pœ_´obe
(
bus
, 
»quœe_·r£
);

59 
pci_pœ_rou‹_š‹¼u±
(
bus
, 
deviû
, 
func
, 
pš
);

	@src/nvidia-drm/x86/psl.h

38 #iâdeà
_MACHINE_PSL_H_


39 
	#_MACHINE_PSL_H_


	)

44 
	#PSL_C
 0x00000001

	)

45 
	#PSL_PF
 0x00000004

	)

46 
	#PSL_AF
 0x00000010

	)

47 
	#PSL_Z
 0x00000040

	)

48 
	#PSL_N
 0x00000080

	)

49 
	#PSL_T
 0x00000100

	)

50 
	#PSL_I
 0x00000200

	)

51 
	#PSL_D
 0x00000400

	)

52 
	#PSL_V
 0x00000800

	)

53 
	#PSL_IOPL
 0x00003000

	)

54 
	#PSL_NT
 0x00004000

	)

55 
	#PSL_RF
 0x00010000

	)

56 
	#PSL_VM
 0x00020000

	)

57 
	#PSL_AC
 0x00040000

	)

58 
	#PSL_VIF
 0x00080000

	)

59 
	#PSL_VIP
 0x00100000

	)

60 
	#PSL_ID
 0x00200000

	)

67 
	#PSL_RESERVED_DEFAULT
 0x00000002

	)

73 
	#PSL_KERNEL
 
PSL_RESERVED_DEFAULT


	)

74 
	#PSL_USER
 (
PSL_RESERVED_DEFAULT
 | 
PSL_I
)

	)

91 
	#PSL_USERCHANGE
 (
PSL_C
 | 
PSL_PF
 | 
PSL_AF
 | 
PSL_Z
 | 
PSL_N
 | 
PSL_T
 \

92 | 
PSL_D
 | 
PSL_V
 | 
PSL_NT
 | 
PSL_RF
 | 
PSL_AC
 | 
PSL_ID
)

	)

	@src/nvidia-drm/x86/ptrace.h

35 #iâdeà
_MACHINE_PTRACE_H_


36 
	#_MACHINE_PTRACE_H_


	)

38 
	#__HAVE_PTRACE_MACHDEP


	)

45 #ifdeà
__i386__


46 
	#PT_GETXMMREGS
 (
PT_FIRSTMACH
 + 0)

	)

47 
	#PT_SETXMMREGS
 (
PT_FIRSTMACH
 + 1)

	)

49 #ifdeà
_KERNEL


50 
	#PT_GETXSTATE_OLD
 (
PT_FIRSTMACH
 + 2)

	)

51 
	#PT_SETXSTATE_OLD
 (
PT_FIRSTMACH
 + 3)

	)

53 
	#PT_GETXSTATE_INFO
 (
PT_FIRSTMACH
 + 4)

	)

54 
	#PT_GETXSTATE
 (
PT_FIRSTMACH
 + 5)

	)

55 
	#PT_SETXSTATE
 (
PT_FIRSTMACH
 + 6)

	)

56 
	#PT_GETFSBASE
 (
PT_FIRSTMACH
 + 7)

	)

57 
	#PT_SETFSBASE
 (
PT_FIRSTMACH
 + 8)

	)

58 
	#PT_GETGSBASE
 (
PT_FIRSTMACH
 + 9)

	)

59 
	#PT_SETGSBASE
 (
PT_FIRSTMACH
 + 10)

	)

62 
	s±¿û_x¡©e_šfo
 {

63 
ušt64_t
 
	mx§ve_mask
;

64 
ušt32_t
 
	mx§ve_Ën
;

	@src/nvidia-drm/x86/pvclock.h

29 #iâdeà
X86_PVCLOCK


30 
	#X86_PVCLOCK


	)

32 
	spvþock_výu_time_šfo
 {

33 
ušt32_t
 
	mv”siÚ
;

34 
ušt32_t
 
	m·d0
;

35 
ušt64_t
 
	mtsc_time¡amp
;

36 
ušt64_t
 
	msy¡em_time
;

37 
ušt32_t
 
	mtsc_to_sy¡em_mul
;

38 
št8_t
 
	mtsc_shiá
;

39 
ušt8_t
 
	mæags
;

40 
ušt8_t
 
	m·d
[2];

43 
	#PVCLOCK_FLAG_TSC_STABLE
 0x01

	)

44 
	#PVCLOCK_FLAG_GUEST_PASUED
 0x02

	)

46 
	spvþock_w®l_þock
 {

47 
ušt32_t
 
	mv”siÚ
;

48 
ušt32_t
 
	m£c
;

49 
ušt32_t
 
	mn£c
;

52 
pvþock_»sume
();

53 
ušt64_t
 
pvþock_g‘_Ï¡_cyþes
();

54 
ušt64_t
 
pvþock_tsc_äeq
(
pvþock_výu_time_šfo
 *
ti
);

55 
ušt64_t
 
pvþock_g‘_timecouÁ
(
pvþock_výu_time_šfo
 *
ti
);

56 
pvþock_g‘_w®lþock
(
pvþock_w®l_þock
 *
wc
,

57 
time¥ec
 *
ts
);

	@src/nvidia-drm/x86/reg.h

39 #iâdeà
_MACHINE_REG_H_


40 
	#_MACHINE_REG_H_


	)

42 
	~<machše/_ty³s.h
>

44 #ifdeà
__i386__


56 
	#tFS
 (0)

	)

57 
	#tES
 (1)

	)

58 
	#tDS
 (2)

	)

59 
	#tEDI
 (3)

	)

60 
	#tESI
 (4)

	)

61 
	#tEBP
 (5)

	)

62 
	#tISP
 (6)

	)

63 
	#tEBX
 (7)

	)

64 
	#tEDX
 (8)

	)

65 
	#tECX
 (9)

	)

66 
	#tEAX
 (10)

	)

67 
	#tERR
 (12)

	)

68 
	#tEIP
 (13)

	)

69 
	#tCS
 (14)

	)

70 
	#tEFLAGS
 (15)

	)

71 
	#tESP
 (16)

	)

72 
	#tSS
 (17)

	)

81 
	#tGS
 (18)

	)

85 #ifdef 
__i386__


86 
	#__»g32
 
»g


	)

87 
	#__å»g32
 
å»g


	)

88 
	#__db»g32
 
db»g


	)

90 
	#__»g32
 
»g32


	)

91 
	#__»g64
 
»g


	)

92 
	#__å»g32
 
å»g32


	)

93 
	#__å»g64
 
å»g


	)

94 
	#__db»g32
 
db»g32


	)

95 
	#__db»g64
 
db»g


	)

96 
	#__HAVE_REG32


	)

102 
	s__»g32
 {

103 
__ušt32_t
 
	mr_fs
;

104 
__ušt32_t
 
	mr_es
;

105 
__ušt32_t
 
	mr_ds
;

106 
__ušt32_t
 
	mr_edi
;

107 
__ušt32_t
 
	mr_esi
;

108 
__ušt32_t
 
	mr_ebp
;

109 
__ušt32_t
 
	mr_i¥
;

110 
__ušt32_t
 
	mr_ebx
;

111 
__ušt32_t
 
	mr_edx
;

112 
__ušt32_t
 
	mr_ecx
;

113 
__ušt32_t
 
	mr_—x
;

114 
__ušt32_t
 
	mr_Œ­no
;

115 
__ušt32_t
 
	mr_”r
;

116 
__ušt32_t
 
	mr_e
;

117 
__ušt32_t
 
	mr_cs
;

118 
__ušt32_t
 
	mr_eæags
;

119 
__ušt32_t
 
	mr_e¥
;

120 
__ušt32_t
 
	mr_ss
;

121 
__ušt32_t
 
	mr_gs
;

124 
	s__»g64
 {

125 
__št64_t
 
	mr_r15
;

126 
__št64_t
 
	mr_r14
;

127 
__št64_t
 
	mr_r13
;

128 
__št64_t
 
	mr_r12
;

129 
__št64_t
 
	mr_r11
;

130 
__št64_t
 
	mr_r10
;

131 
__št64_t
 
	mr_r9
;

132 
__št64_t
 
	mr_r8
;

133 
__št64_t
 
	mr_rdi
;

134 
__št64_t
 
	mr_rsi
;

135 
__št64_t
 
	mr_rbp
;

136 
__št64_t
 
	mr_rbx
;

137 
__št64_t
 
	mr_rdx
;

138 
__št64_t
 
	mr_rcx
;

139 
__št64_t
 
	mr_¿x
;

140 
__ušt32_t
 
	mr_Œ­no
;

141 
__ušt16_t
 
	mr_fs
;

142 
__ušt16_t
 
	mr_gs
;

143 
__ušt32_t
 
	mr_”r
;

144 
__ušt16_t
 
	mr_es
;

145 
__ušt16_t
 
	mr_ds
;

146 
__št64_t
 
	mr_r
;

147 
__št64_t
 
	mr_cs
;

148 
__št64_t
 
	mr_ræags
;

149 
__št64_t
 
	mr_r¥
;

150 
__št64_t
 
	mr_ss
;

160 
	s__å»g32
 {

161 
__ušt32_t
 
	mår_’v
[7];

162 
__ušt8_t
 
	mår_acc
[8][10];

163 
__ušt32_t
 
	mår_ex_sw
;

164 
__ušt8_t
 
	mår_·d
[64];

167 
	s__å»g64
 {

168 
__ušt64_t
 
	mår_’v
[4];

169 
__ušt8_t
 
	mår_acc
[8][16];

170 
__ušt8_t
 
	mår_xacc
[16][16];

171 
__ušt64_t
 
	mår_¥¬e
[12];

177 
	sxmm»g
 {

183 
__ušt32_t
 
	mxmm_’v
[8];

184 
__ušt8_t
 
	mxmm_acc
[8][16];

185 
__ušt8_t
 
	mxmm_»g
[8][16];

186 
__ušt8_t
 
	mxmm_·d
[224];

192 
	s__db»g32
 {

193 
__ušt32_t
 
	mdr
[8];

200 
	s__db»g64
 {

201 
__ušt64_t
 
	mdr
[16];

209 
	#DBREG_DR6_RESERVED1
 0xffff0ff0

	)

210 
	#DBREG_DR6_BMASK
 0x000f

	)

211 
	#DBREG_DR6_B
(
i
è(1 << (i))

	)

212 
	#DBREG_DR6_BD
 0x2000

	)

213 
	#DBREG_DR6_BS
 0x4000

	)

214 
	#DBREG_DR6_BT
 0x8000

	)

216 
	#DBREG_DR7_RESERVED1
 0x0400

	)

217 
	#DBREG_DR7_LOCAL_ENABLE
 0x01

	)

218 
	#DBREG_DR7_GLOBAL_ENABLE
 0x02

	)

219 
	#DBREG_DR7_LEN_1
 0x00

	)

220 
	#DBREG_DR7_LEN_2
 0x01

	)

221 
	#DBREG_DR7_LEN_4
 0x03

	)

222 
	#DBREG_DR7_LEN_8
 0x02

	)

223 
	#DBREG_DR7_EXEC
 0x00

	)

224 
	#DBREG_DR7_WRONLY
 0x01

	)

225 
	#DBREG_DR7_RDWR
 0x03

	)

226 
	#DBREG_DR7_MASK
(
i
) \

227 ((
__u_»gi¡”_t
)(0xfè<< ((
i
è* 4 + 16è| 0x3 << (iè* 2)

	)

228 
	#DBREG_DR7_SET
(
i
, 
Ën
, 
acûss
, 
’abË
) \

229 ((
__u_»gi¡”_t
)((
Ën
è<< 2 | (
acûss
)è<< ((
i
) * 4 + 16) | \

230 (
’abË
è<< (
i
è* 2)

	)

231 
	#DBREG_DR7_GD
 0x2000

	)

232 
	#DBREG_DR7_ENABLED
(
d
, 
i
è(((dè& 0x3 << (iè* 2è!ð0)

	)

233 
	#DBREG_DR7_ACCESS
(
d
, 
i
è((dè>> ((iè* 4 + 16è& 0x3)

	)

234 
	#DBREG_DR7_LEN
(
d
, 
i
è((dè>> ((iè* 4 + 18è& 0x3)

	)

236 
	#DBREG_DRX
(
d
,
x
è((d)->
dr
[(x)]è

	)

239 #undeà
__»g32


240 #undeà
__»g64


241 #undeà
__å»g32


242 #undeà
__å»g64


243 #undeà
__db»g32


244 #undeà
__db»g64


246 #ifdeà
_KERNEL


247 
	gth»ad
;

252 
fžl_»gs
(
th»ad
 *, 
»g
 *);

253 
fžl_äame_»gs
(
Œ­äame
 *, 
»g
 *);

254 
£t_»gs
(
th»ad
 *, 
»g
 *);

255 
fžl_å»gs
(
th»ad
 *, 
å»g
 *);

256 
£t_å»gs
(
th»ad
 *, 
å»g
 *);

257 
fžl_db»gs
(
th»ad
 *, 
db»g
 *);

258 
£t_db»gs
(
th»ad
 *, 
db»g
 *);

259 #ifdeà
COMPAT_FREEBSD32


260 
fžl_»gs32
(
th»ad
 *, 
»g32
 *);

261 
£t_»gs32
(
th»ad
 *, 
»g32
 *);

262 
fžl_å»gs32
(
th»ad
 *, 
å»g32
 *);

263 
£t_å»gs32
(
th»ad
 *, 
å»g32
 *);

264 
fžl_db»gs32
(
th»ad
 *, 
db»g32
 *);

265 
£t_db»gs32
(
th»ad
 *, 
db»g32
 *);

	@src/nvidia-drm/x86/segments.h

39 #iâdeà
_X86_SEGMENTS_H_


40 
	#_X86_SEGMENTS_H_


	)

49 
	#SEL_RPL_MASK
 3

	)

50 
	#ISPL
(
s
è((s)&3è

	)

51 
	#SEL_KPL
 0

	)

52 
	#SEL_UPL
 3

	)

53 
	#ISLDT
(
s
è((s)&
SEL_LDT
è

	)

54 
	#SEL_LDT
 4

	)

55 
	#IDXSEL
(
s
è(((s)>>3è& 0x1fffè

	)

56 
	#LSEL
(
s
,
r
è(((s)<<3è| 
SEL_LDT
 |„è

	)

57 
	#GSEL
(
s
,
r
è(((s)<<3è|„è

	)

64 
	s£gm’t_desütÜ
 {

65 
	msd_lÞim™
:16;

66 
	msd_loba£
:24;

67 
	msd_ty³
:5;

68 
	msd_d¶
:2;

69 
	msd_p
:1;

70 
	msd_hžim™
:4;

71 
	msd_xx
:2;

72 
	msd_def32
:1;

73 
	msd_g¿n
:1;

74 
	msd_hiba£
:8;

75 } 
	g__·cked
;

77 
	su£r_£gm’t_desütÜ
 {

78 
	msd_lÞim™
:16;

79 
	msd_loba£
:24;

80 
	msd_ty³
:5;

81 
	msd_d¶
:2;

82 
	msd_p
:1;

83 
	msd_hžim™
:4;

84 
	msd_xx
:1;

85 
	msd_lÚg
:1;

86 
	msd_def32
:1;

87 
	msd_g¿n
:1;

88 
	msd_hiba£
:8;

89 } 
	g__·cked
;

91 
	#USD_GETBASE
(
sd
è(((sd)->
sd_loba£
è| (sd)->
sd_hiba£
 << 24)

	)

92 
	#USD_SETBASE
(
sd
, 
b
è(sd)->
sd_loba£
 = (b); \

93 (
sd
)->
sd_hiba£
 = ((
b
è>> 24);

	)

94 
	#USD_GETLIMIT
(
sd
è(((sd)->
sd_lÞim™
è| (sd)->
sd_hžim™
 << 16)

	)

95 
	#USD_SETLIMIT
(
sd
, 
l
è(sd)->
sd_lÞim™
 = (l); \

96 (
sd
)->
sd_hžim™
 = ((
l
è>> 16);

	)

98 #ifdeà
__i386__


102 
	sg©e_desütÜ
 {

103 
	mgd_looff£t
:16;

104 
	mgd_£ËùÜ
:16;

105 
	mgd_¡kýy
:5;

106 
	mgd_xx
:3;

107 
	mgd_ty³
:5;

108 
	mgd_d¶
:2;

109 
	mgd_p
:1;

110 
	mgd_hioff£t
:16;

111 } 
	g__·cked
;

116 
	udesütÜ
 {

117 
£gm’t_desütÜ
 
	msd
;

118 
g©e_desütÜ
 
	mgd
;

125 
	sg©e_desütÜ
 {

126 
ušt64_t
 
	mgd_looff£t
:16;

127 
ušt64_t
 
	mgd_£ËùÜ
:16;

128 
ušt64_t
 
	mgd_i¡
:3;

129 
ušt64_t
 
	mgd_xx
:5;

130 
ušt64_t
 
	mgd_ty³
:5;

131 
ušt64_t
 
	mgd_d¶
:2;

132 
ušt64_t
 
	mgd_p
:1;

133 
ušt64_t
 
	mgd_hioff£t
:48;

134 
ušt64_t
 
	msd_xx1
:32;

135 } 
	g__·cked
;

140 
	udesütÜ
 {

141 
u£r_£gm’t_desütÜ
 
	msd
;

142 
g©e_desütÜ
 
	mgd
;

147 
	#SDT_SYSNULL
 0

	)

148 
	#SDT_SYS286TSS
 1

	)

149 
	#SDT_SYSLDT
 2

	)

150 
	#SDT_SYS286BSY
 3

	)

151 
	#SDT_SYS286CGT
 4

	)

152 
	#SDT_SYSTASKGT
 5

	)

153 
	#SDT_SYS286IGT
 6

	)

154 
	#SDT_SYS286TGT
 7

	)

155 
	#SDT_SYSNULL2
 8

	)

156 
	#SDT_SYS386TSS
 9

	)

157 
	#SDT_SYSTSS
 9

	)

158 
	#SDT_SYSNULL3
 10

	)

159 
	#SDT_SYS386BSY
 11

	)

160 
	#SDT_SYSBSY
 11

	)

161 
	#SDT_SYS386CGT
 12

	)

162 
	#SDT_SYSCGT
 12

	)

163 
	#SDT_SYSNULL4
 13

	)

164 
	#SDT_SYS386IGT
 14

	)

165 
	#SDT_SYSIGT
 14

	)

166 
	#SDT_SYS386TGT
 15

	)

167 
	#SDT_SYSTGT
 15

	)

170 
	#SDT_MEMRO
 16

	)

171 
	#SDT_MEMROA
 17

	)

172 
	#SDT_MEMRW
 18

	)

173 
	#SDT_MEMRWA
 19

	)

174 
	#SDT_MEMROD
 20

	)

175 
	#SDT_MEMRODA
 21

	)

176 
	#SDT_MEMRWD
 22

	)

177 
	#SDT_MEMRWDA
 23

	)

178 
	#SDT_MEME
 24

	)

179 
	#SDT_MEMEA
 25

	)

180 
	#SDT_MEMER
 26

	)

181 
	#SDT_MEMERA
 27

	)

182 
	#SDT_MEMEC
 28

	)

183 
	#SDT_MEMEAC
 29

	)

184 
	#SDT_MEMERC
 30

	)

185 
	#SDT_MEMERAC
 31

	)

190 
	#NIDT
 256

	)

191 
	#NRSVIDT
 32

	)

196 
	#IDT_DE
 0

	)

197 
	#IDT_DB
 1

	)

198 
	#IDT_NMI
 2

	)

199 
	#IDT_BP
 3

	)

200 
	#IDT_OF
 4

	)

201 
	#IDT_BR
 5

	)

202 
	#IDT_UD
 6

	)

203 
	#IDT_NM
 7

	)

204 
	#IDT_DF
 8

	)

205 
	#IDT_FPUGP
 9

	)

206 
	#IDT_TS
 10

	)

207 
	#IDT_NP
 11

	)

208 
	#IDT_SS
 12

	)

209 
	#IDT_GP
 13

	)

210 
	#IDT_PF
 14

	)

211 
	#IDT_MF
 16

	)

212 
	#IDT_AC
 17

	)

213 
	#IDT_MC
 18

	)

214 
	#IDT_XF
 19

	)

215 
	#IDT_IO_INTS
 
NRSVIDT


	)

216 
	#IDT_SYSCALL
 0x80

	)

217 
	#IDT_DTRACE_RET
 0x92

	)

218 
	#IDT_EVTCHN
 0x93

	)

220 #ià
defšed
(
__i386__
)

226 
	#GNULL_SEL
 0

	)

227 
	#GPRIV_SEL
 1

	)

228 
	#GUFS_SEL
 2

	)

229 
	#GUGS_SEL
 3

	)

230 
	#GCODE_SEL
 4

	)

231 
	#GDATA_SEL
 5

	)

232 
	#GUCODE_SEL
 6

	)

233 
	#GUDATA_SEL
 7

	)

234 
	#GBIOSLOWMEM_SEL
 8

	)

235 
	#GPROC0_SEL
 9

	)

236 
	#GLDT_SEL
 10

	)

237 
	#GUSERLDT_SEL
 11

	)

238 
	#GPANIC_SEL
 12

	)

239 
	#GBIOSCODE32_SEL
 13

	)

240 
	#GBIOSCODE16_SEL
 14

	)

241 
	#GBIOSDATA_SEL
 15

	)

242 
	#GBIOSUTIL_SEL
 16

	)

243 
	#GBIOSARGS_SEL
 17

	)

244 
	#GNDIS_SEL
 18

	)

245 
	#NGDT
 19

	)

250 
	#LSYS5CALLS_SEL
 0

	)

251 
	#LSYS5SIGR_SEL
 1

	)

252 
	#LUCODE_SEL
 3

	)

253 
	#LUDATA_SEL
 5

	)

254 
	#NLDT
 (
LUDATA_SEL
 + 1)

	)

260 
	#GNULL_SEL
 0

	)

261 
	#GNULL2_SEL
 1

	)

262 
	#GUFS32_SEL
 2

	)

263 
	#GUGS32_SEL
 3

	)

264 
	#GCODE_SEL
 4

	)

265 
	#GDATA_SEL
 5

	)

266 
	#GUCODE32_SEL
 6

	)

267 
	#GUDATA_SEL
 7

	)

268 
	#GUCODE_SEL
 8

	)

269 
	#GPROC0_SEL
 9

	)

271 
	#GUSERLDT_SEL
 11

	)

273 
	#NGDT
 13

	)

	@src/nvidia-drm/x86/setjmp.h

34 #iâdeà
_MACHINE_SETJMP_H_


35 
	#_MACHINE_SETJMP_H_


	)

37 
	~<sys/cdefs.h
>

39 
	#_JBLEN
 12

	)

46 #ià
__BSD_VISIBLE
 || 
__POSIX_VISIBLE
 || 
__XSI_VISIBLE


47 
	s_sigjmp_buf
 { 
	m_sjb
[
_JBLEN
]; } 
	tsigjmp_buf
[1];

50 
	s_jmp_buf
 { 
	m_jb
[
_JBLEN
]; } 
	tjmp_buf
[1];

	@src/nvidia-drm/x86/sigframe.h

33 #iâdeà
_X86_SIGFRAME_H_


34 
	#_X86_SIGFRAME_H_


	)

40 #ifdeà
__i386__


41 
	ssigäame
 {

49 
»gi¡”_t
 
	msf_signum
;

50 
»gi¡”_t
 
	msf_sigšfo
;

51 
»gi¡”_t
 
	msf_ucÚ‹xt
;

52 
»gi¡”_t
 
	msf_addr
;

55 
__sigšfohªdËr_t
 *
	msf_aùiÚ
;

56 
__sighªdËr_t
 *
	msf_hªdËr
;

57 } 
	msf_ahu
;

58 
ucÚ‹xt_t
 
	msf_uc
;

59 
sigšfo_t
 
	msf_si
;

63 #ifdeà
__amd64__


64 
	ssigäame
 {

66 
__sigšfohªdËr_t
 *
	msf_aùiÚ
;

67 
__sighªdËr_t
 *
	msf_hªdËr
;

68 } 
	msf_ahu
;

69 
ucÚ‹xt_t
 
	msf_uc
;

70 
sigšfo_t
 
	msf_si
;

	@src/nvidia-drm/x86/signal.h

36 #iâdeà
_X86_SIGNAL_H


37 
	#_X86_SIGNAL_H
 1

	)

43 
	~<sys/cdefs.h
>

44 
	~<sys/_sig£t.h
>

46 #ifdeà
__i386__


47 
	tsig_©omic_t
;

49 #ià
__BSD_VISIBLE


50 
	ssigcÚ‹xt
 {

51 
__sig£t
 
	msc_mask
;

52 
	msc_Ú¡ack
;

53 
	msc_gs
;

54 
	msc_fs
;

55 
	msc_es
;

56 
	msc_ds
;

57 
	msc_edi
;

58 
	msc_esi
;

59 
	msc_ebp
;

60 
	msc_i¥
;

61 
	msc_ebx
;

62 
	msc_edx
;

63 
	msc_ecx
;

64 
	msc_—x
;

65 
	msc_Œ­no
;

66 
	msc_”r
;

67 
	msc_e
;

68 
	msc_cs
;

69 
	msc_eæ
;

70 
	msc_e¥
;

71 
	msc_ss
;

72 
	msc_Ën
;

77 
	msc_åfÜm©
;

78 
	msc_owÃdå
;

79 
	msc_æags
;

80 
	msc_å¡©e
[128] 
__®igÃd
(16);

82 
	msc_fsba£
;

83 
	msc_gsba£
;

85 
	msc_xåu¡©e
;

86 
	msc_xåu¡©e_Ën
;

88 
	msc_¥¬e2
[4];

91 
	#sc_¥
 
sc_e¥


	)

92 
	#sc_å
 
sc_ebp


	)

93 
	#sc_pc
 
sc_e


	)

94 
	#sc_ps
 
sc_eæ


	)

95 
	#sc_eæags
 
sc_eæ


	)

100 #ifdeà
__amd64__


101 
	tsig_©omic_t
;

103 #ià
__BSD_VISIBLE


114 
	ssigcÚ‹xt
 {

115 
__sig£t
 
	msc_mask
;

116 
	msc_Ú¡ack
;

117 
	msc_rdi
;

118 
	msc_rsi
;

119 
	msc_rdx
;

120 
	msc_rcx
;

121 
	msc_r8
;

122 
	msc_r9
;

123 
	msc_¿x
;

124 
	msc_rbx
;

125 
	msc_rbp
;

126 
	msc_r10
;

127 
	msc_r11
;

128 
	msc_r12
;

129 
	msc_r13
;

130 
	msc_r14
;

131 
	msc_r15
;

132 
	msc_Œ­no
;

133 
	msc_fs
;

134 
	msc_gs
;

135 
	msc_addr
;

136 
	msc_æags
;

137 
	msc_es
;

138 
	msc_ds
;

139 
	msc_”r
;

140 
	msc_r
;

141 
	msc_cs
;

142 
	msc_ræags
;

143 
	msc_r¥
;

144 
	msc_ss
;

145 
	msc_Ën
;

150 
	msc_åfÜm©
;

151 
	msc_owÃdå
;

152 
	msc_å¡©e
[64] 
__®igÃd
(16);

154 
	msc_fsba£
;

155 
	msc_gsba£
;

157 
	msc_xåu¡©e
;

158 
	msc_xåu¡©e_Ën
;

160 
	msc_¥¬e
[4];

	@src/nvidia-drm/x86/specialreg.h

35 #iâdeà
_MACHINE_SPECIALREG_H_


36 
	#_MACHINE_SPECIALREG_H_


	)

41 
	#CR0_PE
 0x00000001

	)

42 
	#CR0_MP
 0x00000002

	)

43 
	#CR0_EM
 0x00000004

	)

44 
	#CR0_TS
 0x00000008

	)

45 
	#CR0_PG
 0x80000000

	)

50 
	#CR0_NE
 0x00000020

	)

51 
	#CR0_WP
 0x00010000

	)

53 
	#CR0_AM
 0x00040000

	)

54 
	#CR0_NW
 0x20000000

	)

55 
	#CR0_CD
 0x40000000

	)

57 
	#CR3_PCID_SAVE
 0x8000000000000000

	)

58 
	#CR3_PCID_MASK
 0xfff

	)

63 
	#CR4_VME
 0x00000001

	)

64 
	#CR4_PVI
 0x00000002

	)

65 
	#CR4_TSD
 0x00000004

	)

66 
	#CR4_DE
 0x00000008

	)

67 
	#CR4_PSE
 0x00000010

	)

68 
	#CR4_PAE
 0x00000020

	)

69 
	#CR4_MCE
 0x00000040

	)

70 
	#CR4_PGE
 0x00000080

	)

71 
	#CR4_PCE
 0x00000100

	)

72 
	#CR4_FXSR
 0x00000200

	)

73 
	#CR4_XMM
 0x00000400

	)

74 
	#CR4_VMXE
 0x00002000

	)

75 
	#CR4_FSGSBASE
 0x00010000

	)

76 
	#CR4_PCIDE
 0x00020000

	)

77 
	#CR4_XSAVE
 0x00040000

	)

78 
	#CR4_SMEP
 0x00100000

	)

79 
	#CR4_SMAP
 0x00200000

	)

84 
	#EFER_SCE
 0x000000001

	)

85 
	#EFER_LME
 0x000000100

	)

86 
	#EFER_LMA
 0x000000400

	)

87 
	#EFER_NXE
 0x000000800

	)

88 
	#EFER_SVM
 0x000001000

	)

89 
	#EFER_LMSLE
 0x000002000

	)

90 
	#EFER_FFXSR
 0x000004000

	)

91 
	#EFER_TCE
 0x000008000

	)

96 
	#XCR0
 0

	)

98 
	#XFEATURE_ENABLED_X87
 0x00000001

	)

99 
	#XFEATURE_ENABLED_SSE
 0x00000002

	)

100 
	#XFEATURE_ENABLED_YMM_HI128
 0x00000004

	)

101 
	#XFEATURE_ENABLED_AVX
 
XFEATURE_ENABLED_YMM_HI128


	)

102 
	#XFEATURE_ENABLED_BNDREGS
 0x00000008

	)

103 
	#XFEATURE_ENABLED_BNDCSR
 0x00000010

	)

104 
	#XFEATURE_ENABLED_OPMASK
 0x00000020

	)

105 
	#XFEATURE_ENABLED_ZMM_HI256
 0x00000040

	)

106 
	#XFEATURE_ENABLED_HI16_ZMM
 0x00000080

	)

108 
	#XFEATURE_AVX
 \

109 (
XFEATURE_ENABLED_X87
 | 
XFEATURE_ENABLED_SSE
 | 
XFEATURE_ENABLED_AVX
)

	)

110 
	#XFEATURE_AVX512
 \

111 (
XFEATURE_ENABLED_OPMASK
 | 
XFEATURE_ENABLED_ZMM_HI256
 | \

112 
XFEATURE_ENABLED_HI16_ZMM
)

	)

113 
	#XFEATURE_MPX
 \

114 (
XFEATURE_ENABLED_BNDREGS
 | 
XFEATURE_ENABLED_BNDCSR
)

	)

119 
	#CPUID_FPU
 0x00000001

	)

120 
	#CPUID_VME
 0x00000002

	)

121 
	#CPUID_DE
 0x00000004

	)

122 
	#CPUID_PSE
 0x00000008

	)

123 
	#CPUID_TSC
 0x00000010

	)

124 
	#CPUID_MSR
 0x00000020

	)

125 
	#CPUID_PAE
 0x00000040

	)

126 
	#CPUID_MCE
 0x00000080

	)

127 
	#CPUID_CX8
 0x00000100

	)

128 
	#CPUID_APIC
 0x00000200

	)

129 
	#CPUID_B10
 0x00000400

	)

130 
	#CPUID_SEP
 0x00000800

	)

131 
	#CPUID_MTRR
 0x00001000

	)

132 
	#CPUID_PGE
 0x00002000

	)

133 
	#CPUID_MCA
 0x00004000

	)

134 
	#CPUID_CMOV
 0x00008000

	)

135 
	#CPUID_PAT
 0x00010000

	)

136 
	#CPUID_PSE36
 0x00020000

	)

137 
	#CPUID_PSN
 0x00040000

	)

138 
	#CPUID_CLFSH
 0x00080000

	)

139 
	#CPUID_B20
 0x00100000

	)

140 
	#CPUID_DS
 0x00200000

	)

141 
	#CPUID_ACPI
 0x00400000

	)

142 
	#CPUID_MMX
 0x00800000

	)

143 
	#CPUID_FXSR
 0x01000000

	)

144 
	#CPUID_SSE
 0x02000000

	)

145 
	#CPUID_XMM
 0x02000000

	)

146 
	#CPUID_SSE2
 0x04000000

	)

147 
	#CPUID_SS
 0x08000000

	)

148 
	#CPUID_HTT
 0x10000000

	)

149 
	#CPUID_TM
 0x20000000

	)

150 
	#CPUID_IA64
 0x40000000

	)

151 
	#CPUID_PBE
 0x80000000

	)

153 
	#CPUID2_SSE3
 0x00000001

	)

154 
	#CPUID2_PCLMULQDQ
 0x00000002

	)

155 
	#CPUID2_DTES64
 0x00000004

	)

156 
	#CPUID2_MON
 0x00000008

	)

157 
	#CPUID2_DS_CPL
 0x00000010

	)

158 
	#CPUID2_VMX
 0x00000020

	)

159 
	#CPUID2_SMX
 0x00000040

	)

160 
	#CPUID2_EST
 0x00000080

	)

161 
	#CPUID2_TM2
 0x00000100

	)

162 
	#CPUID2_SSSE3
 0x00000200

	)

163 
	#CPUID2_CNXTID
 0x00000400

	)

164 
	#CPUID2_SDBG
 0x00000800

	)

165 
	#CPUID2_FMA
 0x00001000

	)

166 
	#CPUID2_CX16
 0x00002000

	)

167 
	#CPUID2_XTPR
 0x00004000

	)

168 
	#CPUID2_PDCM
 0x00008000

	)

169 
	#CPUID2_PCID
 0x00020000

	)

170 
	#CPUID2_DCA
 0x00040000

	)

171 
	#CPUID2_SSE41
 0x00080000

	)

172 
	#CPUID2_SSE42
 0x00100000

	)

173 
	#CPUID2_X2APIC
 0x00200000

	)

174 
	#CPUID2_MOVBE
 0x00400000

	)

175 
	#CPUID2_POPCNT
 0x00800000

	)

176 
	#CPUID2_TSCDLT
 0x01000000

	)

177 
	#CPUID2_AESNI
 0x02000000

	)

178 
	#CPUID2_XSAVE
 0x04000000

	)

179 
	#CPUID2_OSXSAVE
 0x08000000

	)

180 
	#CPUID2_AVX
 0x10000000

	)

181 
	#CPUID2_F16C
 0x20000000

	)

182 
	#CPUID2_RDRAND
 0x40000000

	)

183 
	#CPUID2_HV
 0x80000000

	)

189 
	#CPUTPM1_SENSOR
 0x00000001

	)

190 
	#CPUTPM1_TURBO
 0x00000002

	)

191 
	#CPUTPM1_ARAT
 0x00000004

	)

192 
	#CPUTPM2_EFFREQ
 0x00000001

	)

197 
	#CPUPT_CR3
 (1 << 0è

	)

198 
	#CPUPT_PSB
 (1 << 1è

	)

199 
	#CPUPT_IPF
 (1 << 2è

	)

200 
	#CPUPT_MTC
 (1 << 3è

	)

201 
	#CPUPT_PRW
 (1 << 4è

	)

202 
	#CPUPT_PWR
 (1 << 5è

	)

205 
	#CPUPT_TOPA
 (1 << 0è

	)

206 
	#CPUPT_TOPA_MULTI
 (1 << 1è

	)

207 
	#CPUPT_SINGLE
 (1 << 2è

	)

208 
	#CPUPT_TT_OUT
 (1 << 3è

	)

209 
	#CPUPT_LINEAR_IP
 (1 << 31è

	)

212 
	#CPUPT_NADDR_S
 0

	)

213 
	#CPUPT_NADDR_M
 (0x7 << 
CPUPT_NADDR_S
)

	)

214 
	#CPUPT_MTC_BITMAP_S
 16

	)

215 
	#CPUPT_MTC_BITMAP_M
 (0xfffà<< 
CPUPT_MTC_BITMAP_S
)

	)

218 
	#CPUPT_CT_BITMAP_S
 0

	)

219 
	#CPUPT_CT_BITMAP_M
 (0xfffà<< 
CPUPT_CT_BITMAP_S
)

	)

220 
	#CPUPT_PFE_BITMAP_S
 16

	)

221 
	#CPUPT_PFE_BITMAP_M
 (0xfffà<< 
CPUPT_PFE_BITMAP_S
)

	)

226 
	#AMDID_SYSCALL
 0x00000800

	)

227 
	#AMDID_MP
 0x00080000

	)

228 
	#AMDID_NX
 0x00100000

	)

229 
	#AMDID_EXT_MMX
 0x00400000

	)

230 
	#AMDID_FFXSR
 0x02000000

	)

231 
	#AMDID_PAGE1GB
 0x04000000

	)

232 
	#AMDID_RDTSCP
 0x08000000

	)

233 
	#AMDID_LM
 0x20000000

	)

234 
	#AMDID_EXT_3DNOW
 0x40000000

	)

235 
	#AMDID_3DNOW
 0x80000000

	)

237 
	#AMDID2_LAHF
 0x00000001

	)

238 
	#AMDID2_CMP
 0x00000002

	)

239 
	#AMDID2_SVM
 0x00000004

	)

240 
	#AMDID2_EXT_APIC
 0x00000008

	)

241 
	#AMDID2_CR8
 0x00000010

	)

242 
	#AMDID2_ABM
 0x00000020

	)

243 
	#AMDID2_SSE4A
 0x00000040

	)

244 
	#AMDID2_MAS
 0x00000080

	)

245 
	#AMDID2_PREFETCH
 0x00000100

	)

246 
	#AMDID2_OSVW
 0x00000200

	)

247 
	#AMDID2_IBS
 0x00000400

	)

248 
	#AMDID2_XOP
 0x00000800

	)

249 
	#AMDID2_SKINIT
 0x00001000

	)

250 
	#AMDID2_WDT
 0x00002000

	)

251 
	#AMDID2_LWP
 0x00008000

	)

252 
	#AMDID2_FMA4
 0x00010000

	)

253 
	#AMDID2_TCE
 0x00020000

	)

254 
	#AMDID2_NODE_ID
 0x00080000

	)

255 
	#AMDID2_TBM
 0x00200000

	)

256 
	#AMDID2_TOPOLOGY
 0x00400000

	)

257 
	#AMDID2_PCXC
 0x00800000

	)

258 
	#AMDID2_PNXC
 0x01000000

	)

259 
	#AMDID2_DBE
 0x04000000

	)

260 
	#AMDID2_PTSC
 0x08000000

	)

261 
	#AMDID2_PTSCEL2I
 0x10000000

	)

262 
	#AMDID2_MWAITX
 0x20000000

	)

267 
	#CPUID_STEPPING
 0x0000000f

	)

268 
	#CPUID_MODEL
 0x000000f0

	)

269 
	#CPUID_FAMILY
 0x00000f00

	)

270 
	#CPUID_EXT_MODEL
 0x000f0000

	)

271 
	#CPUID_EXT_FAMILY
 0x0ff00000

	)

272 #ifdeà
__i386__


273 
	#CPUID_TO_MODEL
(
id
) \

274 ((((
id
è& 
CPUID_MODEL
) >> 4) | \

275 ((((
id
è& 
CPUID_FAMILY
) >= 0x600) ? \

276 (((
id
è& 
CPUID_EXT_MODEL
è>> 12è: 0))

	)

277 
	#CPUID_TO_FAMILY
(
id
) \

278 ((((
id
è& 
CPUID_FAMILY
) >> 8) + \

279 ((((
id
è& 
CPUID_FAMILY
) == 0xf00) ? \

280 (((
id
è& 
CPUID_EXT_FAMILY
è>> 20è: 0))

	)

282 
	#CPUID_TO_MODEL
(
id
) \

283 ((((
id
è& 
CPUID_MODEL
) >> 4) | \

284 (((
id
è& 
CPUID_EXT_MODEL
è>> 12))

	)

285 
	#CPUID_TO_FAMILY
(
id
) \

286 ((((
id
è& 
CPUID_FAMILY
) >> 8) + \

287 (((
id
è& 
CPUID_EXT_FAMILY
è>> 20))

	)

293 
	#CPUID_BRAND_INDEX
 0x000000ff

	)

294 
	#CPUID_CLFUSH_SIZE
 0x0000ff00

	)

295 
	#CPUID_HTT_CORES
 0x00ff0000

	)

296 
	#CPUID_LOCAL_APIC_ID
 0xff000000

	)

301 
	#CPUID5_MON_MIN_SIZE
 0x0000fffà

	)

302 
	#CPUID5_MON_MAX_SIZE
 0x0000fffà

	)

303 
	#CPUID5_MON_MWAIT_EXT
 0x00000001

	)

304 
	#CPUID5_MWAIT_INTRBREAK
 0x00000002

	)

309 
	#MWAIT_C0
 0xf0

	)

310 
	#MWAIT_C1
 0x00

	)

311 
	#MWAIT_C2
 0x10

	)

312 
	#MWAIT_C3
 0x20

	)

313 
	#MWAIT_C4
 0x30

	)

319 
	#MWAIT_INTRBREAK
 0x00000001

	)

324 
	#CPUID_PERF_STAT
 0x00000001

	)

325 
	#CPUID_PERF_BIAS
 0x00000008

	)

330 
	#CPUID_TYPE_INVAL
 0

	)

331 
	#CPUID_TYPE_SMT
 1

	)

332 
	#CPUID_TYPE_CORE
 2

	)

337 
	#CPUID_EXTSTATE_XSAVEOPT
 0x00000001

	)

338 
	#CPUID_EXTSTATE_XSAVEC
 0x00000002

	)

339 
	#CPUID_EXTSTATE_XINUSE
 0x00000004

	)

340 
	#CPUID_EXTSTATE_XSAVES
 0x00000008

	)

345 
	#AMDRAS_MCA_OF_RECOV
 0x00000001

	)

346 
	#AMDRAS_SUCCOR
 0x00000002

	)

347 
	#AMDRAS_HW_ASSERT
 0x00000004

	)

348 
	#AMDRAS_SCALABLE_MCA
 0x00000008

	)

349 
	#AMDRAS_PFEH_SUPPORT
 0x00000010

	)

354 
	#AMDPM_TS
 0x00000001

	)

355 
	#AMDPM_FID
 0x00000002

	)

356 
	#AMDPM_VID
 0x00000004

	)

357 
	#AMDPM_TTP
 0x00000008

	)

358 
	#AMDPM_TM
 0x00000010

	)

359 
	#AMDPM_STC
 0x00000020

	)

360 
	#AMDPM_100MHZ_STEPS
 0x00000040

	)

361 
	#AMDPM_HW_PSTATE
 0x00000080

	)

362 
	#AMDPM_TSC_INVARIANT
 0x00000100

	)

363 
	#AMDPM_CPB
 0x00000200

	)

368 
	#AMDFEID_CLZERO
 0x00000001

	)

369 
	#AMDFEID_IRPERF
 0x00000002

	)

370 
	#AMDFEID_XSAVEERPTR
 0x00000004

	)

375 
	#AMDID_CMP_CORES
 0x000000ff

	)

376 
	#AMDID_COREID_SIZE
 0x0000f000

	)

377 
	#AMDID_COREID_SIZE_SHIFT
 12

	)

382 
	#CPUID_STDEXT_FSGSBASE
 0x00000001

	)

383 
	#CPUID_STDEXT_TSC_ADJUST
 0x00000002

	)

384 
	#CPUID_STDEXT_SGX
 0x00000004

	)

385 
	#CPUID_STDEXT_BMI1
 0x00000008

	)

386 
	#CPUID_STDEXT_HLE
 0x00000010

	)

387 
	#CPUID_STDEXT_AVX2
 0x00000020

	)

388 
	#CPUID_STDEXT_FDP_EXC
 0x00000040

	)

389 
	#CPUID_STDEXT_SMEP
 0x00000080

	)

390 
	#CPUID_STDEXT_BMI2
 0x00000100

	)

391 
	#CPUID_STDEXT_ERMS
 0x00000200

	)

392 
	#CPUID_STDEXT_INVPCID
 0x00000400

	)

393 
	#CPUID_STDEXT_RTM
 0x00000800

	)

394 
	#CPUID_STDEXT_PQM
 0x00001000

	)

395 
	#CPUID_STDEXT_NFPUSG
 0x00002000

	)

396 
	#CPUID_STDEXT_MPX
 0x00004000

	)

397 
	#CPUID_STDEXT_PQE
 0x00008000

	)

398 
	#CPUID_STDEXT_AVX512F
 0x00010000

	)

399 
	#CPUID_STDEXT_AVX512DQ
 0x00020000

	)

400 
	#CPUID_STDEXT_RDSEED
 0x00040000

	)

401 
	#CPUID_STDEXT_ADX
 0x00080000

	)

402 
	#CPUID_STDEXT_SMAP
 0x00100000

	)

403 
	#CPUID_STDEXT_AVX512IFMA
 0x00200000

	)

404 
	#CPUID_STDEXT_PCOMMIT
 0x00400000

	)

405 
	#CPUID_STDEXT_CLFLUSHOPT
 0x00800000

	)

406 
	#CPUID_STDEXT_CLWB
 0x01000000

	)

407 
	#CPUID_STDEXT_PROCTRACE
 0x02000000

	)

408 
	#CPUID_STDEXT_AVX512PF
 0x04000000

	)

409 
	#CPUID_STDEXT_AVX512ER
 0x08000000

	)

410 
	#CPUID_STDEXT_AVX512CD
 0x10000000

	)

411 
	#CPUID_STDEXT_SHA
 0x20000000

	)

412 
	#CPUID_STDEXT_AVX512BW
 0x40000000

	)

413 
	#CPUID_STDEXT_AVX512VL
 0x80000000

	)

418 
	#CPUID_STDEXT2_PREFETCHWT1
 0x00000001

	)

419 
	#CPUID_STDEXT2_UMIP
 0x00000004

	)

420 
	#CPUID_STDEXT2_PKU
 0x00000008

	)

421 
	#CPUID_STDEXT2_OSPKE
 0x00000010

	)

422 
	#CPUID_STDEXT2_RDPID
 0x00400000

	)

423 
	#CPUID_STDEXT2_SGXLC
 0x40000000

	)

428 
	#CPUID_STDEXT3_IBPB
 0x04000000

	)

429 
	#CPUID_STDEXT3_STIBP
 0x08000000

	)

430 
	#CPUID_STDEXT3_L1D_FLUSH
 0x10000000

	)

431 
	#CPUID_STDEXT3_ARCH_CAP
 0x20000000

	)

432 
	#CPUID_STDEXT3_SSBD
 0x80000000

	)

435 
	#IA32_ARCH_CAP_RDCL_NO
 0x00000001

	)

436 
	#IA32_ARCH_CAP_IBRS_ALL
 0x00000002

	)

437 
	#IA32_ARCH_CAP_RSBA
 0x00000004

	)

438 
	#IA32_ARCH_CAP_SKIP_L1DFL_VMENTRY
 0x00000008

	)

439 
	#IA32_ARCH_CAP_SSB_NO
 0x00000010

	)

444 
	#AMD_VENDOR_ID
 "Auth’ticAMD"

	)

445 
	#CENTAUR_VENDOR_ID
 "C’urHauls"

	)

446 
	#CYRIX_VENDOR_ID
 "CyrixIn¡—d"

	)

447 
	#INTEL_VENDOR_ID
 "G’ušeIÁ–"

	)

448 
	#NEXGEN_VENDOR_ID
 "NexG’Driv’"

	)

449 
	#NSC_VENDOR_ID
 "Geodby NSC"

	)

450 
	#RISE_VENDOR_ID
 "Ri£Ri£Ri£"

	)

451 
	#SIS_VENDOR_ID
 "SiS SiS SiS "

	)

452 
	#TRANSMETA_VENDOR_ID
 "G’ušeTMx86"

	)

453 
	#UMC_VENDOR_ID
 "UMC UMC UMC "

	)

458 
	#MSR_P5_MC_ADDR
 0x000

	)

459 
	#MSR_P5_MC_TYPE
 0x001

	)

460 
	#MSR_TSC
 0x010

	)

461 
	#MSR_P5_CESR
 0x011

	)

462 
	#MSR_P5_CTR0
 0x012

	)

463 
	#MSR_P5_CTR1
 0x013

	)

464 
	#MSR_IA32_PLATFORM_ID
 0x017

	)

465 
	#MSR_APICBASE
 0x01b

	)

466 
	#MSR_EBL_CR_POWERON
 0x02a

	)

467 
	#MSR_TEST_CTL
 0x033

	)

468 
	#MSR_IA32_FEATURE_CONTROL
 0x03a

	)

469 
	#MSR_IA32_SPEC_CTRL
 0x048

	)

470 
	#MSR_IA32_PRED_CMD
 0x049

	)

471 
	#MSR_BIOS_UPDT_TRIG
 0x079

	)

472 
	#MSR_BBL_CR_D0
 0x088

	)

473 
	#MSR_BBL_CR_D1
 0x089

	)

474 
	#MSR_BBL_CR_D2
 0x08a

	)

475 
	#MSR_BIOS_SIGN
 0x08b

	)

476 
	#MSR_PERFCTR0
 0x0c1

	)

477 
	#MSR_PERFCTR1
 0x0c2

	)

478 
	#MSR_PLATFORM_INFO
 0x0û

	)

479 
	#MSR_MPERF
 0x0e7

	)

480 
	#MSR_APERF
 0x0e8

	)

481 
	#MSR_IA32_EXT_CONFIG
 0x0“

	)

482 
	#MSR_MTRRÿp
 0x0ã

	)

483 
	#MSR_IA32_ARCH_CAP
 0x10a

	)

484 
	#MSR_IA32_FLUSH_CMD
 0x10b

	)

485 
	#MSR_BBL_CR_ADDR
 0x116

	)

486 
	#MSR_BBL_CR_DECC
 0x118

	)

487 
	#MSR_BBL_CR_CTL
 0x119

	)

488 
	#MSR_BBL_CR_TRIG
 0x11a

	)

489 
	#MSR_BBL_CR_BUSY
 0x11b

	)

490 
	#MSR_BBL_CR_CTL3
 0x11e

	)

491 
	#MSR_SYSENTER_CS_MSR
 0x174

	)

492 
	#MSR_SYSENTER_ESP_MSR
 0x175

	)

493 
	#MSR_SYSENTER_EIP_MSR
 0x176

	)

494 
	#MSR_MCG_CAP
 0x179

	)

495 
	#MSR_MCG_STATUS
 0x17a

	)

496 
	#MSR_MCG_CTL
 0x17b

	)

497 
	#MSR_EVNTSEL0
 0x186

	)

498 
	#MSR_EVNTSEL1
 0x187

	)

499 
	#MSR_THERM_CONTROL
 0x19a

	)

500 
	#MSR_THERM_INTERRUPT
 0x19b

	)

501 
	#MSR_THERM_STATUS
 0x19c

	)

502 
	#MSR_IA32_MISC_ENABLE
 0x1a0

	)

503 
	#MSR_IA32_TEMPERATURE_TARGET
 0x1a2

	)

504 
	#MSR_TURBO_RATIO_LIMIT
 0x1ad

	)

505 
	#MSR_TURBO_RATIO_LIMIT1
 0x1«

	)

506 
	#MSR_DEBUGCTLMSR
 0x1d9

	)

507 
	#MSR_LASTBRANCHFROMIP
 0x1db

	)

508 
	#MSR_LASTBRANCHTOIP
 0x1dc

	)

509 
	#MSR_LASTINTFROMIP
 0x1dd

	)

510 
	#MSR_LASTINTTOIP
 0x1de

	)

511 
	#MSR_ROB_CR_BKUPTMPDR6
 0x1e0

	)

512 
	#MSR_MTRRV¬Ba£
 0x200

	)

513 
	#MSR_MTRR64kBa£
 0x250

	)

514 
	#MSR_MTRR16kBa£
 0x258

	)

515 
	#MSR_MTRR4kBa£
 0x268

	)

516 
	#MSR_PAT
 0x277

	)

517 
	#MSR_MC0_CTL2
 0x280

	)

518 
	#MSR_MTRRdefTy³
 0x2ff

	)

519 
	#MSR_MC0_CTL
 0x400

	)

520 
	#MSR_MC0_STATUS
 0x401

	)

521 
	#MSR_MC0_ADDR
 0x402

	)

522 
	#MSR_MC0_MISC
 0x403

	)

523 
	#MSR_MC1_CTL
 0x404

	)

524 
	#MSR_MC1_STATUS
 0x405

	)

525 
	#MSR_MC1_ADDR
 0x406

	)

526 
	#MSR_MC1_MISC
 0x407

	)

527 
	#MSR_MC2_CTL
 0x408

	)

528 
	#MSR_MC2_STATUS
 0x409

	)

529 
	#MSR_MC2_ADDR
 0x40a

	)

530 
	#MSR_MC2_MISC
 0x40b

	)

531 
	#MSR_MC3_CTL
 0x40c

	)

532 
	#MSR_MC3_STATUS
 0x40d

	)

533 
	#MSR_MC3_ADDR
 0x40e

	)

534 
	#MSR_MC3_MISC
 0x40f

	)

535 
	#MSR_MC4_CTL
 0x410

	)

536 
	#MSR_MC4_STATUS
 0x411

	)

537 
	#MSR_MC4_ADDR
 0x412

	)

538 
	#MSR_MC4_MISC
 0x413

	)

539 
	#MSR_RAPL_POWER_UNIT
 0x606

	)

540 
	#MSR_PKG_ENERGY_STATUS
 0x611

	)

541 
	#MSR_DRAM_ENERGY_STATUS
 0x619

	)

542 
	#MSR_PP0_ENERGY_STATUS
 0x639

	)

543 
	#MSR_PP1_ENERGY_STATUS
 0x641

	)

544 
	#MSR_TSC_DEADLINE
 0x6e0

	)

549 
	#MSR_VMX_BASIC
 0x480

	)

550 
	#MSR_VMX_PINBASED_CTLS
 0x481

	)

551 
	#MSR_VMX_PROCBASED_CTLS
 0x482

	)

552 
	#MSR_VMX_EXIT_CTLS
 0x483

	)

553 
	#MSR_VMX_ENTRY_CTLS
 0x484

	)

554 
	#MSR_VMX_CR0_FIXED0
 0x486

	)

555 
	#MSR_VMX_CR0_FIXED1
 0x487

	)

556 
	#MSR_VMX_CR4_FIXED0
 0x488

	)

557 
	#MSR_VMX_CR4_FIXED1
 0x489

	)

558 
	#MSR_VMX_PROCBASED_CTLS2
 0x48b

	)

559 
	#MSR_VMX_EPT_VPID_CAP
 0x48c

	)

560 
	#MSR_VMX_TRUE_PINBASED_CTLS
 0x48d

	)

561 
	#MSR_VMX_TRUE_PROCBASED_CTLS
 0x48e

	)

562 
	#MSR_VMX_TRUE_EXIT_CTLS
 0x48f

	)

563 
	#MSR_VMX_TRUE_ENTRY_CTLS
 0x490

	)

569 
	#MSR_APIC_000
 0x800

	)

570 
	#MSR_APIC_ID
 0x802

	)

571 
	#MSR_APIC_VERSION
 0x803

	)

572 
	#MSR_APIC_TPR
 0x808

	)

573 
	#MSR_APIC_EOI
 0x80b

	)

574 
	#MSR_APIC_LDR
 0x80d

	)

575 
	#MSR_APIC_SVR
 0x80f

	)

576 
	#MSR_APIC_ISR0
 0x810

	)

577 
	#MSR_APIC_ISR1
 0x811

	)

578 
	#MSR_APIC_ISR2
 0x812

	)

579 
	#MSR_APIC_ISR3
 0x813

	)

580 
	#MSR_APIC_ISR4
 0x814

	)

581 
	#MSR_APIC_ISR5
 0x815

	)

582 
	#MSR_APIC_ISR6
 0x816

	)

583 
	#MSR_APIC_ISR7
 0x817

	)

584 
	#MSR_APIC_TMR0
 0x818

	)

585 
	#MSR_APIC_IRR0
 0x820

	)

586 
	#MSR_APIC_ESR
 0x828

	)

587 
	#MSR_APIC_LVT_CMCI
 0x82F

	)

588 
	#MSR_APIC_ICR
 0x830

	)

589 
	#MSR_APIC_LVT_TIMER
 0x832

	)

590 
	#MSR_APIC_LVT_THERMAL
 0x833

	)

591 
	#MSR_APIC_LVT_PCINT
 0x834

	)

592 
	#MSR_APIC_LVT_LINT0
 0x835

	)

593 
	#MSR_APIC_LVT_LINT1
 0x836

	)

594 
	#MSR_APIC_LVT_ERROR
 0x837

	)

595 
	#MSR_APIC_ICR_TIMER
 0x838

	)

596 
	#MSR_APIC_CCR_TIMER
 0x839

	)

597 
	#MSR_APIC_DCR_TIMER
 0x83e

	)

598 
	#MSR_APIC_SELF_IPI
 0x83f

	)

600 
	#MSR_IA32_XSS
 0xda0

	)

605 
	#MSR_IA32_RTIT_OUTPUT_BASE
 0x560

	)

606 
	#MSR_IA32_RTIT_OUTPUT_MASK_PTRS
 0x561

	)

607 
	#MSR_IA32_RTIT_CTL
 0x570

	)

608 
	#RTIT_CTL_TRACEEN
 (1 << 0)

	)

609 
	#RTIT_CTL_CYCEN
 (1 << 1)

	)

610 
	#RTIT_CTL_OS
 (1 << 2)

	)

611 
	#RTIT_CTL_USER
 (1 << 3)

	)

612 
	#RTIT_CTL_PWREVTEN
 (1 << 4)

	)

613 
	#RTIT_CTL_FUPONPTW
 (1 << 5)

	)

614 
	#RTIT_CTL_FABRICEN
 (1 << 6)

	)

615 
	#RTIT_CTL_CR3FILTER
 (1 << 7)

	)

616 
	#RTIT_CTL_TOPA
 (1 << 8)

	)

617 
	#RTIT_CTL_MTCEN
 (1 << 9)

	)

618 
	#RTIT_CTL_TSCEN
 (1 << 10)

	)

619 
	#RTIT_CTL_DISRETC
 (1 << 11)

	)

620 
	#RTIT_CTL_PTWEN
 (1 << 12)

	)

621 
	#RTIT_CTL_BRANCHEN
 (1 << 13)

	)

622 
	#RTIT_CTL_MTC_FREQ_S
 14

	)

623 
	#RTIT_CTL_MTC_FREQ
(
n
è(Òè<< 
RTIT_CTL_MTC_FREQ_S
)

	)

624 
	#RTIT_CTL_MTC_FREQ_M
 (0xà<< 
RTIT_CTL_MTC_FREQ_S
)

	)

625 
	#RTIT_CTL_CYC_THRESH_S
 19

	)

626 
	#RTIT_CTL_CYC_THRESH_M
 (0xà<< 
RTIT_CTL_CYC_THRESH_S
)

	)

627 
	#RTIT_CTL_PSB_FREQ_S
 24

	)

628 
	#RTIT_CTL_PSB_FREQ_M
 (0xà<< 
RTIT_CTL_PSB_FREQ_S
)

	)

629 
	#RTIT_CTL_ADDR_CFG_S
(
n
è(32 + (nè* 4)

	)

630 
	#RTIT_CTL_ADDR0_CFG_S
 32

	)

631 
	#RTIT_CTL_ADDR0_CFG_M
 (0xfULL << 
RTIT_CTL_ADDR0_CFG_S
)

	)

632 
	#RTIT_CTL_ADDR1_CFG_S
 36

	)

633 
	#RTIT_CTL_ADDR1_CFG_M
 (0xfULL << 
RTIT_CTL_ADDR1_CFG_S
)

	)

634 
	#RTIT_CTL_ADDR2_CFG_S
 40

	)

635 
	#RTIT_CTL_ADDR2_CFG_M
 (0xfULL << 
RTIT_CTL_ADDR2_CFG_S
)

	)

636 
	#RTIT_CTL_ADDR3_CFG_S
 44

	)

637 
	#RTIT_CTL_ADDR3_CFG_M
 (0xfULL << 
RTIT_CTL_ADDR3_CFG_S
)

	)

638 
	#MSR_IA32_RTIT_STATUS
 0x571

	)

639 
	#RTIT_STATUS_FILTEREN
 (1 << 0)

	)

640 
	#RTIT_STATUS_CONTEXTEN
 (1 << 1)

	)

641 
	#RTIT_STATUS_TRIGGEREN
 (1 << 2)

	)

642 
	#RTIT_STATUS_ERROR
 (1 << 4)

	)

643 
	#RTIT_STATUS_STOPPED
 (1 << 5)

	)

644 
	#RTIT_STATUS_PACKETBYTECNT_S
 32

	)

645 
	#RTIT_STATUS_PACKETBYTECNT_M
 (0x1ffffULL << 
RTIT_STATUS_PACKETBYTECNT_S
)

	)

646 
	#MSR_IA32_RTIT_CR3_MATCH
 0x572

	)

647 
	#MSR_IA32_RTIT_ADDR_A
(
n
è(0x580 + (nè* 2)

	)

648 
	#MSR_IA32_RTIT_ADDR_B
(
n
è(0x581 + (nè* 2)

	)

649 
	#MSR_IA32_RTIT_ADDR0_A
 0x580

	)

650 
	#MSR_IA32_RTIT_ADDR0_B
 0x581

	)

651 
	#MSR_IA32_RTIT_ADDR1_A
 0x582

	)

652 
	#MSR_IA32_RTIT_ADDR1_B
 0x583

	)

653 
	#MSR_IA32_RTIT_ADDR2_A
 0x584

	)

654 
	#MSR_IA32_RTIT_ADDR2_B
 0x585

	)

655 
	#MSR_IA32_RTIT_ADDR3_A
 0x586

	)

656 
	#MSR_IA32_RTIT_ADDR3_B
 0x587

	)

659 
	#TOPA_SIZE_S
 6

	)

660 
	#TOPA_SIZE_M
 (0xà<< 
TOPA_SIZE_S
)

	)

661 
	#TOPA_SIZE_4K
 (0 << 
TOPA_SIZE_S
)

	)

662 
	#TOPA_SIZE_8K
 (1 << 
TOPA_SIZE_S
)

	)

663 
	#TOPA_SIZE_16K
 (2 << 
TOPA_SIZE_S
)

	)

664 
	#TOPA_SIZE_32K
 (3 << 
TOPA_SIZE_S
)

	)

665 
	#TOPA_SIZE_64K
 (4 << 
TOPA_SIZE_S
)

	)

666 
	#TOPA_SIZE_128K
 (5 << 
TOPA_SIZE_S
)

	)

667 
	#TOPA_SIZE_256K
 (6 << 
TOPA_SIZE_S
)

	)

668 
	#TOPA_SIZE_512K
 (7 << 
TOPA_SIZE_S
)

	)

669 
	#TOPA_SIZE_1M
 (8 << 
TOPA_SIZE_S
)

	)

670 
	#TOPA_SIZE_2M
 (9 << 
TOPA_SIZE_S
)

	)

671 
	#TOPA_SIZE_4M
 (10 << 
TOPA_SIZE_S
)

	)

672 
	#TOPA_SIZE_8M
 (11 << 
TOPA_SIZE_S
)

	)

673 
	#TOPA_SIZE_16M
 (12 << 
TOPA_SIZE_S
)

	)

674 
	#TOPA_SIZE_32M
 (13 << 
TOPA_SIZE_S
)

	)

675 
	#TOPA_SIZE_64M
 (14 << 
TOPA_SIZE_S
)

	)

676 
	#TOPA_SIZE_128M
 (15 << 
TOPA_SIZE_S
)

	)

677 
	#TOPA_STOP
 (1 << 4)

	)

678 
	#TOPA_INT
 (1 << 2)

	)

679 
	#TOPA_END
 (1 << 0)

	)

684 
	#APICBASE_RESERVED
 0x000002ff

	)

685 
	#APICBASE_BSP
 0x00000100

	)

686 
	#APICBASE_X2APIC
 0x00000400

	)

687 
	#APICBASE_ENABLED
 0x00000800

	)

688 
	#APICBASE_ADDRESS
 0xfffff000

	)

691 
	#IA32_FEATURE_CONTROL_LOCK
 0x01

	)

692 
	#IA32_FEATURE_CONTROL_SMX_EN
 0x02

	)

693 
	#IA32_FEATURE_CONTROL_VMX_EN
 0x04

	)

696 
	#IA32_MISC_EN_FASTSTR
 0x0000000000000001ULL

	)

697 
	#IA32_MISC_EN_ATCCE
 0x0000000000000008ULL

	)

698 
	#IA32_MISC_EN_PERFMON
 0x0000000000000080ULL

	)

699 
	#IA32_MISC_EN_PEBSU
 0x0000000000001000ULL

	)

700 
	#IA32_MISC_EN_ESSTE
 0x0000000000010000ULL

	)

701 
	#IA32_MISC_EN_MONE
 0x0000000000040000ULL

	)

702 
	#IA32_MISC_EN_LIMCPUID
 0x0000000000400000ULL

	)

703 
	#IA32_MISC_EN_xTPRD
 0x0000000000800000ULL

	)

704 
	#IA32_MISC_EN_XDD
 0x0000000400000000ULL

	)

711 
	#IA32_SPEC_CTRL_IBRS
 0x00000001

	)

712 
	#IA32_SPEC_CTRL_STIBP
 0x00000002

	)

713 
	#IA32_SPEC_CTRL_SSBD
 0x00000004

	)

716 
	#IA32_PRED_CMD_IBPB_BARRIER
 0x0000000000000001ULL

	)

719 
	#IA32_FLUSH_CMD_L1D
 0x00000001

	)

724 
	#PAT_UNCACHEABLE
 0x00

	)

725 
	#PAT_WRITE_COMBINING
 0x01

	)

726 
	#PAT_WRITE_THROUGH
 0x04

	)

727 
	#PAT_WRITE_PROTECTED
 0x05

	)

728 
	#PAT_WRITE_BACK
 0x06

	)

729 
	#PAT_UNCACHED
 0x07

	)

730 
	#PAT_VALUE
(
i
, 
m
è(()(mè<< (8 * (i)))

	)

731 
	#PAT_MASK
(
i
è
	`PAT_VALUE
(i, 0xff)

	)

736 
	#MTRR_UNCACHEABLE
 0x00

	)

737 
	#MTRR_WRITE_COMBINING
 0x01

	)

738 
	#MTRR_WRITE_THROUGH
 0x04

	)

739 
	#MTRR_WRITE_PROTECTED
 0x05

	)

740 
	#MTRR_WRITE_BACK
 0x06

	)

741 
	#MTRR_N64K
 8

	)

742 
	#MTRR_N16K
 16

	)

743 
	#MTRR_N4K
 64

	)

744 
	#MTRR_CAP_WC
 0x0000000000000400

	)

745 
	#MTRR_CAP_FIXED
 0x0000000000000100

	)

746 
	#MTRR_CAP_VCNT
 0x00000000000000ff

	)

747 
	#MTRR_DEF_ENABLE
 0x0000000000000800

	)

748 
	#MTRR_DEF_FIXED_ENABLE
 0x0000000000000400

	)

749 
	#MTRR_DEF_TYPE
 0x00000000000000ff

	)

750 
	#MTRR_PHYSBASE_PHYSBASE
 0x000ffffffffff000

	)

751 
	#MTRR_PHYSBASE_TYPE
 0x00000000000000ff

	)

752 
	#MTRR_PHYSMASK_PHYSMASK
 0x000ffffffffff000

	)

753 
	#MTRR_PHYSMASK_VALID
 0x0000000000000800

	)

758 
	#CCR0
 0xc0

	)

759 
	#CCR0_NC0
 0x01

	)

761 
	#CCR0_NC1
 0x02

	)

762 
	#CCR0_A20M
 0x04

	)

763 
	#CCR0_KEN
 0x08

	)

764 
	#CCR0_FLUSH
 0x10

	)

765 
	#CCR0_BARB
 0x20

	)

767 
	#CCR0_CO
 0x40

	)

769 
	#CCR0_SUSPEND
 0x80

	)

771 
	#CCR1
 0xc1

	)

772 
	#CCR1_RPL
 0x01

	)

773 
	#CCR1_SMI
 0x02

	)

774 
	#CCR1_SMAC
 0x04

	)

775 
	#CCR1_MMAC
 0x08

	)

776 
	#CCR1_NO_LOCK
 0x10

	)

777 
	#CCR1_SM3
 0x80

	)

779 
	#CCR2
 0xc2

	)

780 
	#CCR2_WB
 0x02

	)

781 
	#CCR2_SADS
 0x02

	)

782 
	#CCR2_LOCK_NW
 0x04

	)

783 
	#CCR2_SUSP_HLT
 0x08

	)

784 
	#CCR2_WT1
 0x10

	)

785 
	#CCR2_WPR1
 0x10

	)

786 
	#CCR2_BARB
 0x20

	)

788 
	#CCR2_BWRT
 0x40

	)

789 
	#CCR2_USE_SUSP
 0x80

	)

791 
	#CCR3
 0xc3

	)

792 
	#CCR3_SMILOCK
 0x01

	)

793 
	#CCR3_NMI
 0x02

	)

794 
	#CCR3_LINBRST
 0x04

	)

795 
	#CCR3_SMMMODE
 0x08

	)

796 
	#CCR3_MAPEN0
 0x10

	)

797 
	#CCR3_MAPEN1
 0x20

	)

798 
	#CCR3_MAPEN2
 0x40

	)

799 
	#CCR3_MAPEN3
 0x80

	)

801 
	#CCR4
 0xe8

	)

802 
	#CCR4_IOMASK
 0x07

	)

803 
	#CCR4_MEM
 0x08

	)

804 
	#CCR4_DTE
 0x10

	)

805 
	#CCR4_FASTFPE
 0x20

	)

806 
	#CCR4_CPUID
 0x80

	)

808 
	#CCR5
 0xe9

	)

809 
	#CCR5_WT_ALLOC
 0x01

	)

810 
	#CCR5_SLOP
 0x02

	)

811 
	#CCR5_LBR1
 0x10

	)

812 
	#CCR5_ARREN
 0x20

	)

814 
	#CCR6
 0x—

	)

816 
	#CCR7
 0xeb

	)

819 
	#PCR0
 0x20

	)

820 
	#PCR0_RSTK
 0x01

	)

821 
	#PCR0_BTB
 0x02

	)

822 
	#PCR0_LOOP
 0x04

	)

823 
	#PCR0_AIS
 0x08

	)

825 
	#PCR0_MLR
 0x10

	)

826 
	#PCR0_BTBRT
 0x40

	)

827 
	#PCR0_LSSER
 0x80

	)

830 
	#DIR0
 0xã

	)

831 
	#DIR1
 0xff

	)

836 
	#MCG_CAP_COUNT
 0x000000ff

	)

837 
	#MCG_CAP_CTL_P
 0x00000100

	)

838 
	#MCG_CAP_EXT_P
 0x00000200

	)

839 
	#MCG_CAP_CMCI_P
 0x00000400

	)

840 
	#MCG_CAP_TES_P
 0x00000800

	)

841 
	#MCG_CAP_EXT_CNT
 0x00ff0000

	)

842 
	#MCG_CAP_SER_P
 0x01000000

	)

843 
	#MCG_STATUS_RIPV
 0x00000001

	)

844 
	#MCG_STATUS_EIPV
 0x00000002

	)

845 
	#MCG_STATUS_MCIP
 0x00000004

	)

846 
	#MCG_CTL_ENABLE
 0xffffffffffffffff

	)

847 
	#MCG_CTL_DISABLE
 0x0000000000000000

	)

848 
	#MSR_MC_CTL
(
x
è(
MSR_MC0_CTL
 + (xè* 4)

	)

849 
	#MSR_MC_STATUS
(
x
è(
MSR_MC0_STATUS
 + (xè* 4)

	)

850 
	#MSR_MC_ADDR
(
x
è(
MSR_MC0_ADDR
 + (xè* 4)

	)

851 
	#MSR_MC_MISC
(
x
è(
MSR_MC0_MISC
 + (xè* 4)

	)

852 
	#MSR_MC_CTL2
(
x
è(
MSR_MC0_CTL2
 + (x)è

	)

853 
	#MC_STATUS_MCA_ERROR
 0x000000000000ffff

	)

854 
	#MC_STATUS_MODEL_ERROR
 0x00000000ffff0000

	)

855 
	#MC_STATUS_OTHER_INFO
 0x01ffffff00000000

	)

856 
	#MC_STATUS_COR_COUNT
 0x001fffc000000000

	)

857 
	#MC_STATUS_TES_STATUS
 0x0060000000000000

	)

858 
	#MC_STATUS_AR
 0x0080000000000000

	)

859 
	#MC_STATUS_S
 0x0100000000000000

	)

860 
	#MC_STATUS_PCC
 0x0200000000000000

	)

861 
	#MC_STATUS_ADDRV
 0x0400000000000000

	)

862 
	#MC_STATUS_MISCV
 0x0800000000000000

	)

863 
	#MC_STATUS_EN
 0x1000000000000000

	)

864 
	#MC_STATUS_UC
 0x2000000000000000

	)

865 
	#MC_STATUS_OVER
 0x4000000000000000

	)

866 
	#MC_STATUS_VAL
 0x8000000000000000

	)

867 
	#MC_MISC_RA_LSB
 0x000000000000003à

	)

868 
	#MC_MISC_ADDRESS_MODE
 0x00000000000001c0

	)

869 
	#MC_CTL2_THRESHOLD
 0x0000000000007fff

	)

870 
	#MC_CTL2_CMCI_EN
 0x0000000040000000

	)

871 
	#MC_AMDNB_BANK
 4

	)

872 
	#MC_MISC_AMD_VAL
 0x8000000000000000

	)

873 
	#MC_MISC_AMD_CNTP
 0x4000000000000000

	)

874 
	#MC_MISC_AMD_LOCK
 0x2000000000000000

	)

875 
	#MC_MISC_AMD_INTP
 0x1000000000000000

	)

876 
	#MC_MISC_AMD_LVT_MASK
 0x00f0000000000000

	)

877 
	#MC_MISC_AMD_LVT_SHIFT
 52

	)

878 
	#MC_MISC_AMD_CNTEN
 0x0008000000000000

	)

879 
	#MC_MISC_AMD_INT_MASK
 0x0006000000000000

	)

880 
	#MC_MISC_AMD_INT_LVT
 0x0002000000000000

	)

881 
	#MC_MISC_AMD_INT_SMI
 0x0004000000000000

	)

882 
	#MC_MISC_AMD_OVERFLOW
 0x0001000000000000

	)

883 
	#MC_MISC_AMD_CNT_MASK
 0x00000fff00000000

	)

884 
	#MC_MISC_AMD_CNT_SHIFT
 32

	)

885 
	#MC_MISC_AMD_CNT_MAX
 0xfff

	)

886 
	#MC_MISC_AMD_PTR_MASK
 0x00000000ff000000

	)

887 
	#MC_MISC_AMD_PTR_SHIFT
 24

	)

900 
	#NCR1
 0xc4

	)

901 
	#NCR2
 0xc7

	)

902 
	#NCR3
 0xÿ

	)

903 
	#NCR4
 0xcd

	)

905 
	#NCR_SIZE_0K
 0

	)

906 
	#NCR_SIZE_4K
 1

	)

907 
	#NCR_SIZE_8K
 2

	)

908 
	#NCR_SIZE_16K
 3

	)

909 
	#NCR_SIZE_32K
 4

	)

910 
	#NCR_SIZE_64K
 5

	)

911 
	#NCR_SIZE_128K
 6

	)

912 
	#NCR_SIZE_256K
 7

	)

913 
	#NCR_SIZE_512K
 8

	)

914 
	#NCR_SIZE_1M
 9

	)

915 
	#NCR_SIZE_2M
 10

	)

916 
	#NCR_SIZE_4M
 11

	)

917 
	#NCR_SIZE_8M
 12

	)

918 
	#NCR_SIZE_16M
 13

	)

919 
	#NCR_SIZE_32M
 14

	)

920 
	#NCR_SIZE_4G
 15

	)

930 
	#ARR0
 0xc4

	)

931 
	#ARR1
 0xc7

	)

932 
	#ARR2
 0xÿ

	)

933 
	#ARR3
 0xcd

	)

934 
	#ARR4
 0xd0

	)

935 
	#ARR5
 0xd3

	)

936 
	#ARR6
 0xd6

	)

937 
	#ARR7
 0xd9

	)

939 
	#ARR_SIZE_0K
 0

	)

940 
	#ARR_SIZE_4K
 1

	)

941 
	#ARR_SIZE_8K
 2

	)

942 
	#ARR_SIZE_16K
 3

	)

943 
	#ARR_SIZE_32K
 4

	)

944 
	#ARR_SIZE_64K
 5

	)

945 
	#ARR_SIZE_128K
 6

	)

946 
	#ARR_SIZE_256K
 7

	)

947 
	#ARR_SIZE_512K
 8

	)

948 
	#ARR_SIZE_1M
 9

	)

949 
	#ARR_SIZE_2M
 10

	)

950 
	#ARR_SIZE_4M
 11

	)

951 
	#ARR_SIZE_8M
 12

	)

952 
	#ARR_SIZE_16M
 13

	)

953 
	#ARR_SIZE_32M
 14

	)

954 
	#ARR_SIZE_4G
 15

	)

960 
	#RCR0
 0xdc

	)

961 
	#RCR1
 0xdd

	)

962 
	#RCR2
 0xde

	)

963 
	#RCR3
 0xdf

	)

964 
	#RCR4
 0xe0

	)

965 
	#RCR5
 0xe1

	)

966 
	#RCR6
 0xe2

	)

967 
	#RCR7
 0xe3

	)

969 
	#RCR_RCD
 0x01

	)

970 
	#RCR_RCE
 0x01

	)

971 
	#RCR_WWO
 0x02

	)

972 
	#RCR_WL
 0x04

	)

973 
	#RCR_WG
 0x08

	)

974 
	#RCR_WT
 0x10

	)

975 
	#RCR_NLB
 0x20

	)

978 
	#AMD_WT_ALLOC_TME
 0x40000

	)

979 
	#AMD_WT_ALLOC_PRE
 0x20000

	)

980 
	#AMD_WT_ALLOC_FRE
 0x10000

	)

983 
	#MSR_EFER
 0xc0000080

	)

984 
	#MSR_STAR
 0xc0000081

	)

985 
	#MSR_LSTAR
 0xc0000082

	)

986 
	#MSR_CSTAR
 0xc0000083

	)

987 
	#MSR_SF_MASK
 0xc0000084

	)

988 
	#MSR_FSBASE
 0xc0000100

	)

989 
	#MSR_GSBASE
 0xc0000101

	)

990 
	#MSR_KGSBASE
 0xc0000102

	)

991 
	#MSR_PERFEVSEL0
 0xc0010000

	)

992 
	#MSR_PERFEVSEL1
 0xc0010001

	)

993 
	#MSR_PERFEVSEL2
 0xc0010002

	)

994 
	#MSR_PERFEVSEL3
 0xc0010003

	)

995 
	#MSR_K7_PERFCTR0
 0xc0010004

	)

996 
	#MSR_K7_PERFCTR1
 0xc0010005

	)

997 
	#MSR_K7_PERFCTR2
 0xc0010006

	)

998 
	#MSR_K7_PERFCTR3
 0xc0010007

	)

999 
	#MSR_SYSCFG
 0xc0010010

	)

1000 
	#MSR_HWCR
 0xc0010015

	)

1001 
	#MSR_IORRBASE0
 0xc0010016

	)

1002 
	#MSR_IORRMASK0
 0xc0010017

	)

1003 
	#MSR_IORRBASE1
 0xc0010018

	)

1004 
	#MSR_IORRMASK1
 0xc0010019

	)

1005 
	#MSR_TOP_MEM
 0xc001001¨

	)

1006 
	#MSR_TOP_MEM2
 0xc001001d

	)

1007 
	#MSR_NB_CFG1
 0xc001001à

	)

1008 
	#MSR_K8_UCODE_UPDATE
 0xc0010020

	)

1009 
	#MSR_MC0_CTL_MASK
 0xc0010044

	)

1010 
	#MSR_P_STATE_LIMIT
 0xc0010061

	)

1011 
	#MSR_P_STATE_CONTROL
 0xc0010062

	)

1012 
	#MSR_P_STATE_STATUS
 0xc0010063

	)

1013 
	#MSR_P_STATE_CONFIG
(
n
è(0xc0010064 + (n)è

	)

1014 
	#MSR_SMM_ADDR
 0xc0010112

	)

1015 
	#MSR_SMM_MASK
 0xc0010113

	)

1016 
	#MSR_VM_CR
 0xc0010114

	)

1017 
	#MSR_VM_HSAVE_PA
 0xc0010117

	)

1018 
	#MSR_AMD_CPUID07
 0xc0011002

	)

1019 
	#MSR_EXTFEATURES
 0xc0011005

	)

1020 
	#MSR_IC_CFG
 0xc0011021

	)

1023 
	#VM_CR_SVMDIS
 0x10

	)

1026 
	#VIA_HAS_RNG
 1

	)

1029 
	#VIA_HAS_AES
 1

	)

1030 
	#VIA_HAS_SHA
 2

	)

1031 
	#VIA_HAS_MM
 4

	)

1032 
	#VIA_HAS_AESCTR
 8

	)

1035 
	#VIA_CPUID_HAS_RNG
 0x000004

	)

1036 
	#VIA_CPUID_DO_RNG
 0x000008

	)

1037 
	#VIA_CPUID_HAS_ACE
 0x000040

	)

1038 
	#VIA_CPUID_DO_ACE
 0x000080

	)

1039 
	#VIA_CPUID_HAS_ACE2
 0x000100

	)

1040 
	#VIA_CPUID_DO_ACE2
 0x000200

	)

1041 
	#VIA_CPUID_HAS_PHE
 0x000400

	)

1042 
	#VIA_CPUID_DO_PHE
 0x000800

	)

1043 
	#VIA_CPUID_HAS_PMM
 0x001000

	)

1044 
	#VIA_CPUID_DO_PMM
 0x002000

	)

1047 
	#VIA_CRYPT_CWLO_ROUND_M
 0x0000000f

	)

1048 
	#VIA_CRYPT_CWLO_ALG_M
 0x00000070

	)

1049 
	#VIA_CRYPT_CWLO_ALG_AES
 0x00000000

	)

1050 
	#VIA_CRYPT_CWLO_KEYGEN_M
 0x00000080

	)

1051 
	#VIA_CRYPT_CWLO_KEYGEN_HW
 0x00000000

	)

1052 
	#VIA_CRYPT_CWLO_KEYGEN_SW
 0x00000080

	)

1053 
	#VIA_CRYPT_CWLO_NORMAL
 0x00000000

	)

1054 
	#VIA_CRYPT_CWLO_INTERMEDIATE
 0x00000100

	)

1055 
	#VIA_CRYPT_CWLO_ENCRYPT
 0x00000000

	)

1056 
	#VIA_CRYPT_CWLO_DECRYPT
 0x00000200

	)

1057 
	#VIA_CRYPT_CWLO_KEY128
 0x0000000¨

	)

1058 
	#VIA_CRYPT_CWLO_KEY192
 0x0000040ø

	)

1059 
	#VIA_CRYPT_CWLO_KEY256
 0x0000080

	)

	@src/nvidia-drm/x86/stack.h

29 #iâdeà
_X86_STACK_H


30 
	#_X86_STACK_H


	)

36 #ifdeà
__i386__


37 
	si386_äame
 {

38 
i386_äame
 *
	mf_äame
;

39 
u_št
 
	mf_»ddr
;

40 
u_št
 
	mf_¬g0
;

44 #ifdeà
__amd64__


45 
	samd64_äame
 {

46 
amd64_äame
 *
	mf_äame
;

47 
u_lÚg
 
	mf_»ddr
;

50 
	si386_äame
 {

51 
ušt32_t
 
	mf_äame
;

52 
ušt32_t
 
	mf_»ddr
;

53 
ušt32_t
 
	mf_¬g0
;

57 #ifdeà
_KERNEL


58 
¡ack_nmi_hªdËr
(
Œ­äame
 *);

	@src/nvidia-drm/x86/stdarg.h

30 #iâdeà
_MACHINE_STDARG_H_


31 
	#_MACHINE_STDARG_H_


	)

33 
	~<sys/_¡d¬g.h
>

35 #iâdeà
va_¡¬t


36 #”rÜ 
this
 
fže
 
Ãeds
 
to
 
be
 
pÜ‹d
Ø
your
 
compž”


	@src/nvidia-drm/x86/sysarch.h

37 #iâdeà
_MACHINE_SYSARCH_H_


38 
	#_MACHINE_SYSARCH_H_


	)

40 
	~<sys/cdefs.h
>

42 
	#I386_GET_LDT
 0

	)

43 
	#I386_SET_LDT
 1

	)

44 
	#LDT_AUTO_ALLOC
 0xffffffff

	)

46 
	#I386_GET_IOPERM
 3

	)

47 
	#I386_SET_IOPERM
 4

	)

49 
	#I386_VM86
 6

	)

50 
	#I386_GET_FSBASE
 7

	)

51 
	#I386_SET_FSBASE
 8

	)

52 
	#I386_GET_GSBASE
 9

	)

53 
	#I386_SET_GSBASE
 10

	)

54 
	#I386_GET_XFPUSTATE
 11

	)

57 
	#AMD64_GET_FSBASE
 128

	)

58 
	#AMD64_SET_FSBASE
 129

	)

59 
	#AMD64_GET_GSBASE
 130

	)

60 
	#AMD64_SET_GSBASE
 131

	)

61 
	#AMD64_GET_XFPUSTATE
 132

	)

63 
	si386_iÝ”m_¬gs
 {

64 
	m¡¬t
;

65 
	mËngth
;

66 
	m’abË
;

69 #ifdeà
__i386__


70 
	si386_ldt_¬gs
 {

71 
	m¡¬t
;

72 
desütÜ
 *
	mdescs
;

73 
	mnum
;

76 
	si386_vm86_¬gs
 {

77 
	msub_Ý
;

78 *
	msub_¬gs
;

81 
	si386_g‘_xåu¡©e
 {

82 *
	maddr
;

83 
	mËn
;

86 
	si386_ldt_¬gs
 {

87 
	m¡¬t
;

88 
u£r_£gm’t_desütÜ
 *
descs
 
	m__·cked
;

89 
	mnum
;

92 
	si386_g‘_xåu¡©e
 {

93 
	maddr
;

94 
	mËn
;

97 
	samd64_g‘_xåu¡©e
 {

98 *
	maddr
;

99 
	mËn
;

103 #iâdeà
_KERNEL


104 
	gdesütÜ
;

105 
	gdb»g
;

107 
__BEGIN_DECLS


108 
i386_g‘_ldt
(, 
desütÜ
 *, );

109 
i386_£t_ldt
(, 
desütÜ
 *, );

110 
i386_g‘_iÝ”m
(, *, *);

111 
i386_£t_iÝ”m
(, , );

112 
i386_vm86
(, *);

113 
i386_g‘_fsba£
(**);

114 
i386_g‘_gsba£
(**);

115 
i386_£t_fsba£
(*);

116 
i386_£t_gsba£
(*);

117 
i386_£t_w©ch
(, , , , 
db»g
 *);

118 
i386_þr_w©ch
(, 
db»g
 *);

119 
amd64_g‘_fsba£
(**);

120 
amd64_g‘_gsba£
(**);

121 
amd64_£t_fsba£
(*);

122 
amd64_£t_gsba£
(*);

123 
sy§rch
(, *);

124 
	g__END_DECLS


126 
	gth»ad
;

127 
	gdesütÜ
;

129 
i386_g‘_ldt
(
th»ad
 *, 
i386_ldt_¬gs
 *);

130 
i386_£t_ldt
(
th»ad
 *, 
i386_ldt_¬gs
 *, 
desütÜ
 *);

131 
i386_g‘_iÝ”m
(
th»ad
 *, 
i386_iÝ”m_¬gs
 *);

132 
i386_£t_iÝ”m
(
th»ad
 *, 
i386_iÝ”m_¬gs
 *);

133 
amd64_g‘_ldt
(
th»ad
 *, 
i386_ldt_¬gs
 *);

134 
amd64_£t_ldt
(
th»ad
 *, 
i386_ldt_¬gs
 *,

135 
u£r_£gm’t_desütÜ
 *);

136 
amd64_g‘_iÝ”m
(
th»ad
 *, 
i386_iÝ”m_¬gs
 *);

137 
amd64_£t_iÝ”m
(
th»ad
 *, 
i386_iÝ”m_¬gs
 *);

	@src/nvidia-drm/x86/trap.h

38 #iâdeà
_MACHINE_TRAP_H_


39 
	#_MACHINE_TRAP_H_


	)

46 
	#T_PRIVINFLT
 1

	)

47 
	#T_BPTFLT
 3

	)

48 
	#T_ARITHTRAP
 6

	)

49 
	#T_PROTFLT
 9

	)

50 
	#T_TRCTRAP
 10

	)

51 
	#T_PAGEFLT
 12

	)

52 
	#T_ALIGNFLT
 14

	)

54 
	#T_DIVIDE
 18

	)

55 
	#T_NMI
 19

	)

56 
	#T_OFLOW
 20

	)

57 
	#T_BOUND
 21

	)

58 
	#T_DNA
 22

	)

59 
	#T_DOUBLEFLT
 23

	)

60 
	#T_FPOPFLT
 24

	)

61 
	#T_TSSFLT
 25

	)

62 
	#T_SEGNPFLT
 26

	)

63 
	#T_STKFLT
 27

	)

64 
	#T_MCHK
 28

	)

65 
	#T_XMMFLT
 29

	)

66 
	#T_RESERVED
 30

	)

67 
	#T_DTRACE_RET
 32

	)

70 
	#T_USER
 0x100

	)

	@src/nvidia-drm/x86/ucode.h

33 #iâdeà
_MACHINE_UCODE_H_


34 
	#_MACHINE_UCODE_H_


	)

36 
	sucode_š‹l_h—d”
 {

37 
ušt32_t
 
	mh—d”_v”siÚ
;

38 
št32_t
 
	mupd©e_»visiÚ
;

39 
ušt32_t
 
	md©
;

40 
ušt32_t
 
	m´oûssÜ_sigÇtu»
;

41 
ušt32_t
 
	mchecksum
;

42 
ušt32_t
 
	mlßd”_»visiÚ
;

43 
ušt32_t
 
	m´oûssÜ_æags
;

44 
	#UCODE_INTEL_DEFAULT_DATA_SIZE
 2000

	)

45 
ušt32_t
 
	md©a_size
;

46 
ušt32_t
 
	mtÙ®_size
;

47 
ušt32_t
 
	m»£rved
[3];

50 
	sucode_š‹l_extsig_bË
 {

51 
ušt32_t
 
	msigÇtu»_couÁ
;

52 
ušt32_t
 
	msigÇtu»_bË_checksum
;

53 
ušt32_t
 
	m»£rved
[3];

54 
	sucode_š‹l_extsig
 {

55 
ušt32_t
 
	m´oûssÜ_sigÇtu»
;

56 
ušt32_t
 
	m´oûssÜ_æags
;

57 
ušt32_t
 
	mchecksum
;

58 } 
	m’Œ›s
[0];

61 
ucode_š‹l_lßd
(*
d©a
, 
boÞ
 
un§ã
,

62 
ušt64_t
 *
Äevp
, ušt64_ˆ*
Üevp
);

63 
size_t
 
ucode_lßd_b¥
(
ušŒ_t
 
ä“
);

64 
ucode_lßd_­
(
ýu
);

65 
ucode_»lßd
();

66 * 
ucode_upd©e
(*
d©a
);

	@src/nvidia-drm/x86/ucontext.h

34 #iâdeà
_X86_UCONTEXT_H_


35 
	#_X86_UCONTEXT_H_


	)

37 #ifdeà
__i386__


39 
	#_MC_HASSEGS
 0x1

	)

40 
	#_MC_HASBASES
 0x2

	)

41 
	#_MC_HASFPXSTATE
 0x4

	)

42 
	#_MC_FLAG_MASK
 (
_MC_HASSEGS
 | 
_MC_HASBASES
 | 
_MC_HASFPXSTATE
)

	)

44 
	s__mcÚ‹xt
 {

51 
__»gi¡”_t
 
	mmc_Ú¡ack
;

52 
__»gi¡”_t
 
	mmc_gs
;

53 
__»gi¡”_t
 
	mmc_fs
;

54 
__»gi¡”_t
 
	mmc_es
;

55 
__»gi¡”_t
 
	mmc_ds
;

56 
__»gi¡”_t
 
	mmc_edi
;

57 
__»gi¡”_t
 
	mmc_esi
;

58 
__»gi¡”_t
 
	mmc_ebp
;

59 
__»gi¡”_t
 
	mmc_i¥
;

60 
__»gi¡”_t
 
	mmc_ebx
;

61 
__»gi¡”_t
 
	mmc_edx
;

62 
__»gi¡”_t
 
	mmc_ecx
;

63 
__»gi¡”_t
 
	mmc_—x
;

64 
__»gi¡”_t
 
	mmc_Œ­no
;

65 
__»gi¡”_t
 
	mmc_”r
;

66 
__»gi¡”_t
 
	mmc_e
;

67 
__»gi¡”_t
 
	mmc_cs
;

68 
__»gi¡”_t
 
	mmc_eæags
;

69 
__»gi¡”_t
 
	mmc_e¥
;

70 
__»gi¡”_t
 
	mmc_ss
;

72 
	mmc_Ën
;

73 
	#_MC_FPFMT_NODEV
 0x10000

	)

74 
	#_MC_FPFMT_387
 0x10001

	)

75 
	#_MC_FPFMT_XMM
 0x10002

	)

76 
	mmc_åfÜm©
;

77 
	#_MC_FPOWNED_NONE
 0x20000

	)

78 
	#_MC_FPOWNED_FPU
 0x20001

	)

79 
	#_MC_FPOWNED_PCB
 0x20002

	)

80 
	mmc_owÃdå
;

81 
__»gi¡”_t
 
	mmc_æags
;

85 
	mmc_å¡©e
[128] 
__®igÃd
(16);

87 
__»gi¡”_t
 
	mmc_fsba£
;

88 
__»gi¡”_t
 
	mmc_gsba£
;

90 
__»gi¡”_t
 
	mmc_xåu¡©e
;

91 
__»gi¡”_t
 
	mmc_xåu¡©e_Ën
;

93 
	mmc_¥¬e2
[4];

94 } 
	tmcÚ‹xt_t
;

97 #ifdeà
__amd64__


101 
	#_MC_HASSEGS
 0x1

	)

102 
	#_MC_HASBASES
 0x2

	)

103 
	#_MC_HASFPXSTATE
 0x4

	)

104 
	#_MC_FLAG_MASK
 (
_MC_HASSEGS
 | 
_MC_HASBASES
 | 
_MC_HASFPXSTATE
)

	)

106 
	s__mcÚ‹xt
 {

113 
__»gi¡”_t
 
	mmc_Ú¡ack
;

114 
__»gi¡”_t
 
	mmc_rdi
;

115 
__»gi¡”_t
 
	mmc_rsi
;

116 
__»gi¡”_t
 
	mmc_rdx
;

117 
__»gi¡”_t
 
	mmc_rcx
;

118 
__»gi¡”_t
 
	mmc_r8
;

119 
__»gi¡”_t
 
	mmc_r9
;

120 
__»gi¡”_t
 
	mmc_¿x
;

121 
__»gi¡”_t
 
	mmc_rbx
;

122 
__»gi¡”_t
 
	mmc_rbp
;

123 
__»gi¡”_t
 
	mmc_r10
;

124 
__»gi¡”_t
 
	mmc_r11
;

125 
__»gi¡”_t
 
	mmc_r12
;

126 
__»gi¡”_t
 
	mmc_r13
;

127 
__»gi¡”_t
 
	mmc_r14
;

128 
__»gi¡”_t
 
	mmc_r15
;

129 
__ušt32_t
 
	mmc_Œ­no
;

130 
__ušt16_t
 
	mmc_fs
;

131 
__ušt16_t
 
	mmc_gs
;

132 
__»gi¡”_t
 
	mmc_addr
;

133 
__ušt32_t
 
	mmc_æags
;

134 
__ušt16_t
 
	mmc_es
;

135 
__ušt16_t
 
	mmc_ds
;

136 
__»gi¡”_t
 
	mmc_”r
;

137 
__»gi¡”_t
 
	mmc_r
;

138 
__»gi¡”_t
 
	mmc_cs
;

139 
__»gi¡”_t
 
	mmc_ræags
;

140 
__»gi¡”_t
 
	mmc_r¥
;

141 
__»gi¡”_t
 
	mmc_ss
;

143 
	mmc_Ën
;

145 
	#_MC_FPFMT_NODEV
 0x10000

	)

146 
	#_MC_FPFMT_XMM
 0x10002

	)

147 
	mmc_åfÜm©
;

148 
	#_MC_FPOWNED_NONE
 0x20000

	)

149 
	#_MC_FPOWNED_FPU
 0x20001

	)

150 
	#_MC_FPOWNED_PCB
 0x20002

	)

151 
	mmc_owÃdå
;

155 
	mmc_å¡©e
[64] 
__®igÃd
(16);

157 
__»gi¡”_t
 
	mmc_fsba£
;

158 
__»gi¡”_t
 
	mmc_gsba£
;

160 
__»gi¡”_t
 
	mmc_xåu¡©e
;

161 
__»gi¡”_t
 
	mmc_xåu¡©e_Ën
;

163 
	mmc_¥¬e
[4];

164 } 
	tmcÚ‹xt_t
;

	@src/nvidia-drm/x86/vdso.h

34 #iâdeà
_X86_VDSO_H


35 
	#_X86_VDSO_H


	)

37 
	#VDSO_TIMEHANDS_MD
 \

38 
ušt32_t
 
th_x86_shiá
; \

39 
ušt32_t
 
th_x86_h³t_idx
; \

40 
ušt32_t
 
th_»s
[6];

	)

42 
	#VDSO_TH_ALGO_X86_TSC
 
VDSO_TH_ALGO_1


	)

43 
	#VDSO_TH_ALGO_X86_HPET
 
VDSO_TH_ALGO_2


	)

44 
	#VDSO_TH_ALGO_X86_HVTSC
 
VDSO_TH_ALGO_3


	)

46 #ifdeà
_KERNEL


47 #ifdeà
COMPAT_FREEBSD32


49 
	#VDSO_TIMEHANDS_MD32
 
VDSO_TIMEHANDS_MD


	)

	@src/nvidia-drm/x86/vmware.h

29 #iâdeà
_X86_VMWARE_H_


30 
	#_X86_VMWARE_H_


	)

32 
	#VMW_HVMAGIC
 0x564d5868

	)

33 
	#VMW_HVPORT
 0x5658

	)

35 
	#VMW_HVCMD_GETVERSION
 10

	)

36 
	#VMW_HVCMD_GETHZ
 45

	)

37 
	#VMW_HVCMD_GETVCPU_INFO
 68

	)

39 
	#VMW_VCPUINFO_LEGACY_X2APIC
 (1 << 3)

	)

40 
	#VMW_VCPUINFO_VCPU_RESERVED
 (1 << 31)

	)

42 
__šlše
 

43 
	$vmw¬e_hvÿÎ
(
u_št
 
cmd
, u_šˆ*
p
)

46 
__asm
 
	`__vÞ©že
("inl %w3, %0"

47 : "÷" (
p
[0]), "=b" (p[1]), "=c" (p[2]), "=d" (p[3])

48 : "0" (
VMW_HVMAGIC
), "1" (
UINT_MAX
), "2" (
cmd
), "3" (
VMW_HVPORT
)

50 
	}
}

	@src/nvidia-drm/x86/x86_smp.h

15 #iâdeà
_X86_X86_SMP_H_


16 
	#_X86_X86_SMP_H_


	)

18 
	~<sys/bus.h
>

19 
	~<machše/äame.h
>

20 
	~<machše/šŒ_machd•.h
>

21 
	~<x86/­icv¬.h
>

22 
	~<machše/pcb.h
>

24 
	gpm­
;

27 
mp_Çps
;

28 
boÙ_ýu_id
;

29 
pcb
 
¡Ýpcbs
[];

30 
ýu_­ic_ids
[];

31 
boÙAP
;

32 *
dpýu
;

33 *
boÙSTK
;

34 *
boÙ¡acks
[];

35 
boÙ_add»ss
;

36 
boÙMP_size
;

37 vÞ©ž
u_št
 
ýu_i_³ndšg
[];

38 vÞ©ž
­s_»ady
;

39 
mtx
 
­_boÙ_mtx
;

40 
ýu_logiÿl
;

41 
ýu_cÜes
;

42 vÞ©ž
ušt32_t
 
smp_Žb_g’”©iÚ
;

43 
pm­
 *
smp_Žb_pm­
;

44 
vm_off£t_t
 
smp_Žb_addr1
, 
smp_Žb_addr2
;

45 
u_št
 
xh™s_gbl
[];

46 
u_št
 
xh™s_pg
[];

47 
u_št
 
xh™s_ºg
[];

48 
u_št
 
i_glob®
;

49 
u_št
 
i_·ge
;

50 
u_št
 
i_¿nge
;

51 
u_št
 
i_¿nge_size
;

53 
nmi_kdb_lock
;

54 
nmi_is_brßdÿ¡
;

56 
	sýu_šfo
 {

57 
	mýu_´e£Á
:1;

58 
	mýu_b¥
:1;

59 
	mýu_di§bËd
:1;

60 
	mýu_hy³¹h»ad
:1;

62 
ýu_šfo
 *cpu_info;

64 #ifdeà
COUNT_IPIS


65 
u_lÚg
 *
i_švÉlb_couÁs
[
MAXCPU
];

66 
u_lÚg
 *
i_švÌng_couÁs
[
MAXCPU
];

67 
u_lÚg
 *
i_švÍg_couÁs
[
MAXCPU
];

68 
u_lÚg
 *
i_švlÿche_couÁs
[
MAXCPU
];

69 
u_lÚg
 *
i_»ndezvous_couÁs
[
MAXCPU
];

73 
šthªd_t


74 
IDTVEC
(
švÉlb
),

75 
IDTVEC
(
švÍg
),

76 
IDTVEC
(
švÌng
),

77 
IDTVEC
(
švlÿche
),

78 
IDTVEC
(
i_šŒ_b™m­_hªdËr
),

79 
IDTVEC
(
ýu¡Ý
),

80 
IDTVEC
(
ýusu¥’d
),

81 
IDTVEC
(
»ndezvous
);

84 
assign_ýu_ids
();

85 
ýu_add
(
u_št
 
­ic_id
, 
boÙ_ýu
);

86 
ýu¡Ý_hªdËr
();

87 
ýusu¥’d_hªdËr
();

88 
®loc_­_ŒampÞše
(
vm_·ddr_t
 *
physm­
, *
physm­_idx
);

89 
š™_£cÚd¬y_ž
();

90 
švÉlb_hªdËr
();

91 
švÍg_hªdËr
();

92 
švÌng_hªdËr
();

93 
švlÿche_hªdËr
();

94 
š™_£cÚd¬y
();

95 
i_¡¬tup
(
­ic_id
, 
veùÜ
);

96 
i_®l_but_£lf
(
u_št
 
i
);

97 
i_b™m­_hªdËr
(
Œ­äame
 
äame
);

98 
i_ýu
(
ýu
, 
u_št
 
i
);

99 
i_nmi_hªdËr
();

100 
i_£Ëùed
(
ýu£t_t
 
ýus
, 
u_št
 
i
);

101 
£t_š‹¼u±_­ic_ids
();

102 
smp_ÿche_æush
();

103 
smp_masked_švÍg
(
ýu£t_t
 
mask
, 
vm_off£t_t
 
addr
, 
pm­
 *pmap);

104 
smp_masked_švÍg_¿nge
(
ýu£t_t
 
mask
, 
vm_off£t_t
 
¡¬tva
,

105 
vm_off£t_t
 
’dva
, 
pm­
 *pmap);

106 
smp_masked_švÉlb
(
ýu£t_t
 
mask
, 
pm­
 *pmap);

107 
mem_¿nge_AP_š™
();

108 
tÝo_´obe
();

109 
i_£nd_ýu
(
ýu
, 
u_št
 
i
);

	@src/nvidia-drm/x86/x86_var.h

32 #iâdeà
_X86_X86_VAR_H_


33 
	#_X86_X86_VAR_H_


	)

39 
Maxmem
;

40 
u_št
 
ba£mem
;

41 
busdma_swi_³ndšg
;

42 
u_št
 
ýu_exthigh
;

43 
u_št
 
ýu_ã©u»
;

44 
u_št
 
ýu_ã©u»2
;

45 
u_št
 
amd_ã©u»
;

46 
u_št
 
amd_ã©u»2
;

47 
u_št
 
amd_¿sÿp
;

48 
u_št
 
amd_pmšfo
;

49 
u_št
 
amd_ex‹nded_ã©u»_ex‹nsiÚs
;

50 
u_št
 
vŸ_ã©u»_ºg
;

51 
u_št
 
vŸ_ã©u»_xüy±
;

52 
u_št
 
ýu_þæush_lše_size
;

53 
u_št
 
ýu_¡dext_ã©u»
;

54 
u_št
 
ýu_¡dext_ã©u»2
;

55 
u_št
 
ýu_¡dext_ã©u»3
;

56 
ušt64_t
 
ýu_Ÿ32_¬ch_ÿps
;

57 
u_št
 
ýu_fx¤
;

58 
u_št
 
ýu_high
;

59 
u_št
 
ýu_id
;

60 
u_št
 
ýu_max_ext_¡©e_size
;

61 
u_št
 
ýu_mxc¤_mask
;

62 
u_št
 
ýu_´ocšfo
;

63 
u_št
 
ýu_´ocšfo2
;

64 
ýu_v’dÜ
[];

65 
u_št
 
ýu_v’dÜ_id
;

66 
u_št
 
ýu_mÚ_mwa™_æags
;

67 
u_št
 
ýu_mÚ_mš_size
;

68 
u_št
 
ýu_mÚ_max_size
;

69 
u_št
 
ýu_maxphyaddr
;

70 
ùx_sw™ch_x§ve
[];

71 
u_št
 
hv_high
;

72 
hv_v’dÜ
[];

73 
k¡ack
[];

74 
sigcode
[];

75 
szsigcode
;

76 
vm_·ge_dump_size
;

77 
wÜk¬ound_”¿tum383
;

78 
_ud©a£l
;

79 
_ucode£l
;

80 
_ucode32£l
;

81 
_ufs£l
;

82 
_ugs£l
;

83 
u£_x§ve
;

84 
ušt64_t
 
x§ve_mask
;

85 
u_št
 
max_­ic_id
;

86 
±i
;

87 
hw_ibrs_aùive
;

88 
hw_ssb_aùive
;

90 
	gpcb
;

91 
	gth»ad
;

92 
	g»g
;

93 
	gå»g
;

94 
	gdb»g
;

95 
	gdum³ršfo
;

96 
	gŒ­äame
;

103 
	t®Ÿs_fÜ_šthªd_t
();

109 
__šlše
 
vm_·ddr_t


110 
	$ýu_g‘maxphyaddr
()

112 #ià
	`defšed
(
__i386__
è&& !defšed(
PAE
)

115  ((1ULL << 
ýu_maxphyaddr
) - 1);

117 
	}
}

119 
boÞ
 
aýi_g‘_çdt_boÙæags
(
ušt16_t
 *
æag¥
);

120 *
®loc_åu§ve
(
æags
);

121 
busdma_swi
();

122 
boÞ
 
ýu_mwa™_u§bË
();

123 
ýu_´obe_amdc1e
();

124 
ýu_£Œegs
();

125 
boÞ
 
di§bË_wp
();

126 
»¡Üe_wp
(
boÞ
 
Þd_wp
);

127 
dump_add_·ge
(
vm_·ddr_t
);

128 
dump_drÝ_·ge
(
vm_·ddr_t
);

129 
fšishid’týu
();

130 
id’tify_ýu1
();

131 
id’tify_ýu2
();

132 
id’tify_hy³rvisÜ
();

133 
š™Ÿlizeýu
();

134 
š™Ÿlizeýuÿche
();

135 
boÞ
 
fix_ýuid
();

136 
fžlw
(
·t
, *
ba£
, 
size_t
 
út
);

137 
is_physiÿl_memÜy
(
vm_·ddr_t
 
addr
);

138 
i§_nmi
(
cd
);

139 
hªdË_ibrs_’Œy
();

140 
hªdË_ibrs_ex™
();

141 
hw_ibrs_»ÿlcuÏ‹
();

142 
hw_ssb_»ÿlcuÏ‹
(
boÞ
 
®l_ýus
);

143 
nmi_ÿÎ_kdb
(
u_št
 
ýu
, u_šˆ
ty³
, 
Œ­äame
 *
äame
);

144 
nmi_ÿÎ_kdb_smp
(
u_št
 
ty³
, 
Œ­äame
 *
äame
);

145 
nmi_hªdË_šŒ
(
u_št
 
ty³
, 
Œ­äame
 *
äame
);

146 
·gecÝy
(*
äom
, *
to
);

147 
´štýušfo
();

148 
±i_g‘_deçuÉ
();

149 
u£r_db»g_Œ­
(
»gi¡”_t
 
dr6
);

150 
mšidumpsys
(
dum³ršfo
 *);

151 
pcb
 *
g‘_pcb_td
(
th»ad
 *
td
);

	@src/nvidia-drm/x86/xen/xen-os.h

30 #iâdeà
_MACHINE_X86_XEN_XEN_OS_H_


31 
	#_MACHINE_X86_XEN_XEN_OS_H_


	)

34 #iâdeà
__ASSEMBLY__


	@src/nvidia-modeset/nvidia-modeset-freebsd.c

11 
	~<sys/ty³s.h
>

12 
	~<sys/moduË.h
>

13 
	~<sys/”ºo.h
>

14 
	~<sys/·¿m.h
>

15 
	~<sys/k”Ãl.h
>

16 
	~<sys/m®loc.h
>

17 
	~<sys/ioccom.h
>

18 
	~<sys/libk”n.h
>

19 
	~<sys/lock.h
>

20 
	~<sys/sx.h
>

21 
	~<sys/cÚf.h
>

22 
	~<sys/sy¦og.h
>

23 
	~<sys/queue.h
>

24 
	~<sys/skqueue.h
>

25 
	~<sys/£lšfo.h
>

26 
	~<sys/pÞl.h
>

27 
	~<sys/fže.h
>

28 
	~<sys/´oc.h
>

30 
	~"nvkms-ioùl.h
"

31 
	~"nvidŸ-mode£t-os-š‹rçû.h
"

32 
	~"nvkms.h
"

33 
	~"nv-mode£t-š‹rçû.h
"

41 
	#NVKMS_SUPPORT_LINUX_COMPAT


	)

43 #ià
defšed
(
NVKMS_SUPPORT_LINUX_COMPAT
)

44 #ià
defšed
(
NVCPU_X86
)

45 
	~"lšux/lšux.h
"

46 
	~"lšux/lšux_´Ùo.h
"

47 #–ià
defšed
(
NVCPU_X86_64
)

48 
	~"lšux32/lšux.h
"

49 
	~"lšux32/lšux32_´Ùo.h
"

51 
	~<com·t/lšux/lšux_ioùl.h
>

55 
	#NVKMS_LOG_PREFIX
 "nvidŸ-mode£t: "

	)

57 
	#NVKMS_CDEV_MINOR
 254

	)

59 
	#NVKMS_USECS_TO_TICKS
(
u£c
è((u£cè* 
hz
 / 1000000)

	)

61 
MALLOC_DEFINE
(
M_NVIDIA_MODESET
,

64 
nvkms_þo£
(*
¬g
);

71 
sx
 
	gnvkms_lock
;

78 
sx
 
	mlock
;

79 
	mþ›Á_couÁ”
;

80 
NvBoÞ
 
	mis_uÆßdšg
;

81 } 
	gnvkms_moduË
;

88 
	snvkms_³r_Ý’
 {

89 *
	md©a
;

92 
mtx
 
	mlock
;

93 
ušt32_t
 
	mavažabË
;

94 
£lšfo
 
	m£Ëù
;

95 } 
	mev’ts
;

98 
mtx
 
	mlock
;

99 
sk
 
	msk
;

100 } 
	msks
;

109 * 
NVKMS_API_CALL
 
	$nvkms_®loc
(
size_t
 
size
, 
NvBoÞ
 
z”o
)

112 *
»t
 = 
	`m®loc
(
size
, 
M_NVIDIA_MODESET
, 
M_WAITOK
 | (
z”o
 ? 
M_ZERO
 : 0));

114  
»t
;

115 
	}
}

117 
NVKMS_API_CALL
 
	$nvkms_ä“
(*
±r
, 
size_t
 
size
)

120 
	`ä“
(
±r
, 
M_NVIDIA_MODESET
);

121 
	}
}

123 * 
NVKMS_API_CALL
 
	$nvkms_mem£t
(*
±r
, 
NvU8
 
c
, 
size_t
 
size
)

126  
	`mem£t
(
±r
, 
c
, 
size
);

127 
	}
}

129 * 
NVKMS_API_CALL
 
	$nvkms_memýy
(*
de¡
, cÚ¡ *
¤c
, 
size_t
 
n
)

132  
	`memýy
(
de¡
, 
¤c
, 
n
);

133 
	}
}

135 * 
NVKMS_API_CALL
 
	$nvkms_memmove
(*
de¡
, cÚ¡ *
¤c
, 
size_t
 
n
)

138  
	`memmove
(
de¡
, 
¤c
, 
n
);

139 
	}
}

141 
NVKMS_API_CALL
 
	$nvkms_memcmp
(cÚ¡ *
s1
, cÚ¡ *
s2
, 
size_t
 
n
)

144  
	`memcmp
(
s1
, 
s2
, 
n
);

145 
	}
}

147 
size_t
 
NVKMS_API_CALL
 
	$nvkms_¡¾’
(cÚ¡ *
s
)

150  
	`¡¾’
(
s
);

151 
	}
}

153 
NVKMS_API_CALL
 
	$nvkms_¡rcmp
(cÚ¡ *
s1
, cÚ¡ *
s2
)

156  
	`¡rcmp
(
s1
, 
s2
);

157 
	}
}

159 * 
NVKMS_API_CALL
 
	$nvkms_¡ºýy
(*
de¡
, cÚ¡ *
¤c
, 
size_t
 
n
)

162  
	`¡ºýy
(
de¡
, 
¤c
, 
n
);

163 
	}
}

165 
NVKMS_API_CALL
 
	$nvkms_u¦“p
(
NvU64
 
u£c
)

168 
	`DELAY
(
u£c
);

169 
	}
}

171 
NvU64
 
NVKMS_API_CALL
 
	$nvkms_g‘_u£c
()

173 
timev®
 
tv
;

175 
	`g‘miüÙime
(&
tv
);

178  (((
NvU64
)
tv
.
tv_£c
è* 1000000è+v.
tv_u£c
;

179 
	}
}

181 
NVKMS_API_CALL
 
	$nvkms_cÝyš
(*
k±r
, 
NvU64
 
uaddr
, 
size_t
 
n
)

183 ià(!
	`nvKmsNvU64Add»ssIsSaã
(
uaddr
)) {

184  
EINVAL
;

187 
»t
 = 
	`cÝyš
(
	`nvKmsNvU64ToPoš‹r
(
uaddr
), 
k±r
, 
n
);

188  
»t
;

189 
	}
}

191 
NVKMS_API_CALL
 
	$nvkms_cÝyout
(
NvU64
 
uaddr
, cÚ¡ *
k±r
, 
size_t
 
n
)

193 ià(!
	`nvKmsNvU64Add»ssIsSaã
(
uaddr
)) {

194  
EINVAL
;

197 
»t
 = 
	`cÝyout
(
k±r
, 
	`nvKmsNvU64ToPoš‹r
(
uaddr
), 
n
);

198  
»t
;

199 
	}
}

201 
NVKMS_API_CALL
 
	$nvkms_y›ld
()

203 
	`·u£
("yield", 1 );

204 
	}
}

206 
NVKMS_API_CALL
 
	$nvkms_¢´štf
(*
¡r
, 
size_t
 
size
, cÚ¡ *
fÜm©
, ...)

208 
»t
;

209 
va_li¡
 
­
;

211 
	`va_¡¬t
(
­
, 
fÜm©
);

212 
»t
 = 
	`v¢´štf
(
¡r
, 
size
, 
fÜm©
, 
­
);

213 
	`va_’d
(
­
);

215  
»t
;

216 
	}
}

218 
NVKMS_API_CALL
 
	$nvkms_v¢´štf
(*
¡r
, 
size_t
 
size
, cÚ¡ *
fÜm©
, 
va_li¡
 
­
)

220  
	`v¢´štf
(
¡r
, 
size
, 
fÜm©
, 
­
);

221 
	}
}

223 
NVKMS_API_CALL
 
	$nvkms_log
(cÚ¡ 
Ëv–
, cÚ¡ *
gpuP»fix
, cÚ¡ *
msg
)

225 
´iÜ™y
;

226 cÚ¡ *
Ëv–P»fix
;

228 
Ëv–
) {

230 
NVKMS_LOG_LEVEL_INFO
:

231 
Ëv–P»fix
 = "";

232 
´iÜ™y
 = 
LOG_INFO
;

234 
NVKMS_LOG_LEVEL_WARN
:

235 
Ëv–P»fix
 = "WARNING: ";

236 
´iÜ™y
 = 
LOG_WARNING
;

238 
NVKMS_LOG_LEVEL_ERROR
:

239 
Ëv–P»fix
 = "ERROR: ";

240 
´iÜ™y
 = 
LOG_ERR
;

244 
	`log
(
´iÜ™y
, "%s%s%s%s\n", 
NVKMS_LOG_PREFIX
, 
Ëv–P»fix
, 
gpuP»fix
, 
msg
);

245 
	}
}

247 
NVKMS_API_CALL


248 
	$nvkms_ev’t_queue_chªged
(
nvkms_³r_Ý’_hªdË_t
 *
pO³nK”Ãl
,

249 
NvBoÞ
 
ev’tsAvažabË
)

253 
nvkms_³r_Ý’
 *
pÝ’
 = 
pO³nK”Ãl
;

255 
	`mtx_lock
(&
pÝ’
->
ev’ts
.
lock
);

257 
pÝ’
->
ev’ts
.
avažabË
 = 
ev’tsAvažabË
;

259 
	`£lwakeup
(&
pÝ’
->
ev’ts
.
£Ëù
);

261 
	`mtx_uÆock
(&
pÝ’
->
ev’ts
.
lock
);

262 
	}
}

268 
	snvkms_»f_±r
 {

269 
mtx
 
	mlock
;

270 
	m»fút
;

272 *
	m±r
;

275 
nvkms_»f_±r
* 
NVKMS_API_CALL
 
	$nvkms_®loc_»f_±r
(*
±r
)

278 
nvkms_»f_±r
 *
»f_±r
 = 
	`nvkms_®loc
((*»f_±r), 
NV_FALSE
);

279 ià(
»f_±r
) {

280 
	`mtx_š™
(&
»f_±r
->
lock
, "nvkms-»f-±r-lock", 
NULL
, 
MTX_SPIN
);

282 
»f_±r
->
»fút
 = 1;

283 
»f_±r
->
±r
 =…tr;

286  
»f_±r
;

287 
	}
}

289 
NVKMS_API_CALL
 
	$nvkms_ä“_»f_±r
(
nvkms_»f_±r
 *
»f_±r
)

292 ià(
»f_±r
) {

293 
»f_±r
->
±r
 = 
NULL
;

295 
	`nvkms_dec_»f
(
»f_±r
);

297 
	}
}

299 
NVKMS_API_CALL
 
	$nvkms_šc_»f
(
nvkms_»f_±r
 *
»f_±r
)

302 
	`mtx_lock_¥š
(&
»f_±r
->
lock
);

303 
»f_±r
->
»fút
++;

304 
	`mtx_uÆock_¥š
(&
»f_±r
->
lock
);

305 
	}
}

307 * 
NVKMS_API_CALL
 
	$nvkms_dec_»f
(
nvkms_»f_±r
 *
»f_±r
)

309 *
±r
 = 
»f_±r
->ptr;

312 
	`mtx_lock_¥š
(&
»f_±r
->
lock
);

313 ià(--
»f_±r
->
»fút
 == 0) {

314 
	`mtx_de¡roy
(&
»f_±r
->
lock
);

315 
	`nvkms_ä“
(
»f_±r
, (*ref_ptr));

317 
	`mtx_uÆock_¥š
(&
»f_±r
->
lock
);

321  
±r
;

322 
	}
}

348 
TASKQUEUE_DEFINE_THREAD
(
nvkms
);

350 
	snvkms_tim”_t
 {

351 
ÿÎout
 
	mÿÎout
;

352 
sk
 
	msk
;

353 
NvBoÞ
 
	mÿnûl
;

354 
NvBoÞ
 
	mcom¶‘e
;

355 
NvBoÞ
 
	misRefPŒ
;

356 
NvBoÞ
 
	mÿÎout_ü—‹d
;

357 
nvkms_tim”_´oc_t
 *
	m´oc
;

358 *
	md©aPŒ
;

359 
NvU32
 
	md©aU32
;

360 
LIST_ENTRY
(
nvkms_tim”_t
è
	mtim”s_li¡
;

367 
sx
 
	mlock
;

368 
LIST_HEAD
(
nvkms_tim”s_h—d
, 
nvkms_tim”_t
è
	mli¡
;

369 } 
	gnvkms_tim”s
;

371 
	$nvkms_skqueue_ÿÎback
(*
¬g
, 
³ndšg
)

373 
nvkms_tim”_t
 *
tim”
 = 
¬g
;

374 *
d©aPŒ
;

380 
	`sx_xlock
(&
nvkms_tim”s
.
lock
);

381 
	`LIST_REMOVE
(
tim”
, 
tim”s_li¡
);

382 
	`sx_xuÆock
(&
nvkms_tim”s
.
lock
);

390 ià(
tim”
->
ÿÎout_ü—‹d
) {

391 
	`ÿÎout_d¿š
(&
tim”
->
ÿÎout
);

394 
	`sx_xlock
(&
nvkms_lock
);

396 ià(
tim”
->
isRefPŒ
) {

399 
d©aPŒ
 = 
	`nvkms_dec_»f
(
tim”
->dataPtr);

400 ià(!
d©aPŒ
) {

401 
tim”
->
ÿnûl
 = 
NV_TRUE
;

404 
d©aPŒ
 = 
tim”
->dataPtr;

407 ià(!
tim”
->
ÿnûl
) {

408 
tim”
->
	`´oc
(
d©aPŒ
,im”->
d©aU32
);

409 
tim”
->
com¶‘e
 = 
NV_TRUE
;

412 ià(
tim”
->
ÿnûl
 ||im”->
isRefPŒ
) {

413 
	`nvkms_ä“
(
tim”
, (*timer));

416 
	`sx_xuÆock
(&
nvkms_lock
);

417 
	}
}

419 
	$nvkms_ÿÎout_ÿÎback
(*
¬g
)

421 
nvkms_tim”_t
 *
tim”
 = 
¬g
;

424 
	`skqueue_’queue
(
skqueue_nvkms
, &
tim”
->
sk
);

425 
	}
}

428 
	$nvkms_š™_tim”
(
nvkms_tim”_t
 *
tim”
, 
nvkms_tim”_´oc_t
 *
´oc
,

429 *
d©aPŒ
, 
NvU32
 
d©aU32
, 
NvBoÞ
 
isRefPŒ
, 
NvU64
 
u£c
)

431 
tim”
->
ÿnûl
 = 
NV_FALSE
;

432 
tim”
->
com¶‘e
 = 
NV_FALSE
;

433 
tim”
->
isRefPŒ
 = isRefPtr;

435 
tim”
->
´oc
 =…roc;

436 
tim”
->
d©aPŒ
 = dataPtr;

437 
tim”
->
d©aU32
 = dataU32;

439 
	`TASK_INIT
(&
tim”
->
sk
,

441 
nvkms_skqueue_ÿÎback
, (*)
tim”
);

450 
	`sx_xlock
(&
nvkms_tim”s
.
lock
);

451 
	`LIST_INSERT_HEAD
(&
nvkms_tim”s
.
li¡
, 
tim”
, 
tim”s_li¡
);

453 ià(
u£c
 == 0) {

454 
tim”
->
ÿÎout_ü—‹d
 = 
NV_FALSE
;

455 
	`skqueue_’queue
(
skqueue_nvkms
, &
tim”
->
sk
);

458 
	`ÿÎout_š™
(&
tim”
->
ÿÎout
, 
CALLOUT_MPSAFE
);

459 
tim”
->
ÿÎout_ü—‹d
 = 
NV_TRUE
;

460 
	`ÿÎout_»£t
(&
tim”
->
ÿÎout
,

461 
	`NVKMS_USECS_TO_TICKS
(
u£c
),

462 
nvkms_ÿÎout_ÿÎback
, (*è
tim”
);

464 
	`sx_xuÆock
(&
nvkms_tim”s
.
lock
);

465 
	}
}

467 
nvkms_tim”_hªdË_t
*

468 
NVKMS_API_CALL
 
	$nvkms_®loc_tim”
(
nvkms_tim”_´oc_t
 *
´oc
,

469 *
d©aPŒ
, 
NvU32
 
d©aU32
,

470 
NvU64
 
u£c
)

473 
nvkms_tim”_t
 *
tim”
 = 
	`nvkms_®loc
((*tim”), 
NV_TRUE
);

474 ià(
tim”
) {

475 
	`nvkms_š™_tim”
(
tim”
, 
´oc
, 
d©aPŒ
, 
d©aU32
, 
NV_FALSE
, 
u£c
);

477  
tim”
;

478 
	}
}

480 
NvBoÞ
 
NVKMS_API_CALL


481 
	$nvkms_®loc_tim”_w™h_»f_±r
(
nvkms_tim”_´oc_t
 *
´oc
,

482 
nvkms_»f_±r
 *
»f_±r
,

483 
NvU32
 
d©aU32
, 
NvU64
 
u£c
)

488 
nvkms_tim”_t
 *
tim”
 = 
	`m®loc
((*tim”), 
M_NVIDIA_MODESET
,

489 
M_NOWAIT
 | 
M_ZERO
);

490 ià(
tim”
) {

493 
	`nvkms_šc_»f
(
»f_±r
);

494 
	`nvkms_š™_tim”
(
tim”
, 
´oc
, 
»f_±r
, 
d©aU32
, 
NV_TRUE
, 
u£c
);

497  
tim”
 !ð
NULL
;

498 
	}
}

500 
NVKMS_API_CALL
 
	$nvkms_ä“_tim”
(
nvkms_tim”_hªdË_t
 *
hªdË
)

502 
nvkms_tim”_t
 *
tim”
 = 
hªdË
;

504 ià(
tim”
 =ð
NULL
) {

508 ià(
tim”
->
com¶‘e
) {

509 
	`nvkms_ä“
(
tim”
, (*timer));

513 
tim”
->
ÿnûl
 = 
NV_TRUE
;

514 
	}
}

516 
	$nvkms_su¥’d
(
NvU32
 
gpuId
)

518 
	`sx_xlock
(&
nvkms_lock
);

519 
	`nvKmsSu¥’d
(
gpuId
);

520 
	`sx_xuÆock
(&
nvkms_lock
);

521 
	}
}

523 
	$nvkms_»sume
(
NvU32
 
gpuId
)

525 
	`sx_xlock
(&
nvkms_lock
);

526 
	`nvKmsResume
(
gpuId
);

527 
	`sx_xuÆock
(&
nvkms_lock
);

528 
	}
}

538 
nvidŸ_mode£t_rm_Ýs_t
 
	g__rm_Ýs
 = { 0 };

539 
nvidŸ_mode£t_¡ack_±r
 
	gnvkms_nvidŸ_¡ack
 = 
NULL
;

540 
nvidŸ_mode£t_ÿÎbacks_t
 
	gnvkms_rm_ÿÎbacks
 = {

541 
nvkms_su¥’d
,

542 
nvkms_»sume


545 
	$nvkms_®loc_rm
()

547 
NV_STATUS
 
nv¡©us
;

548 
»t
;

550 
	`´štf
("nvkms_alloc_rm: \n");

551 
__rm_Ýs
.
v”siÚ_¡ršg
 = 
NV_VERSION_STRING
;

553 
nv¡©us
 = 
	`nvidŸ_g‘_rm_Ýs
(&
__rm_Ýs
);

555 ià(
nv¡©us
 !ð
NV_OK
) {

556 
	`´štf
(
NVKMS_LOG_PREFIX
 "Version mismatch: "

558 
__rm_Ýs
.
v”siÚ_¡ršg
, 
NV_VERSION_STRING
);

559  
EINVAL
;

562 
»t
 = 
__rm_Ýs
.
	`£t_ÿÎbacks
(&
nvkms_rm_ÿÎbacks
);

563 ià(
»t
 < 0) {

564 
	`´štf
(
NVKMS_LOG_PREFIX
 "Failedo„egister callbacks\n");

565  
»t
;

568 
»t
 = 
__rm_Ýs
.
	`®loc_¡ack
(&
nvkms_nvidŸ_¡ack
);

569 
	`´štf
("nvkms_®loc_rm:»tuº: %d \n", 
»t
);

570  
»t
;

571 
	}
}

573 
	$nvkms_ä“_rm
()

575 
	`´štf
("nvkms_free_rm:return:\n");

576 
__rm_Ýs
.
	`£t_ÿÎbacks
(
NULL
);

577 ià(
__rm_Ýs
.
ä“_¡ack
 !ð
NULL
) {

578 
__rm_Ýs
.
	`ä“_¡ack
(
nvkms_nvidŸ_¡ack
);

580 
	}
}

582 
NVKMS_API_CALL
 
	$nvkms_ÿÎ_rm
(*
Ýs
)

585 
__rm_Ýs
.
	`Ý
(
nvkms_nvidŸ_¡ack
, 
Ýs
);

586 
	}
}

588 
NVKMS_API_CALL
 
	$nvkms_g‘_¿ndom
(*
±r
, 
size_t
 
size
)

590 
	`¬c4¿nd
(
±r
, 
size
, 0);

591 
	}
}

596 #ià
__F»eBSD_v”siÚ
 >= 900000

597 
	#NV_FGET_HAS_CAP_RIGHTS_T_ARG
 1

	)

599 
	#NV_FGET_HAS_CAP_RIGHTS_T_ARG
 0

	)

602 #ià
NV_FGET_HAS_CAP_RIGHTS_T_ARG


603 
	~<sys/ÿ´ights.h
>

604 #ià
__F»eBSD_v”siÚ
 >= 1100012

605 
	~<sys/ÿpsicum.h
>

607 
	~<sys/ÿ·bž™y.h
>

622 
	#NV_KERNEL_HAS_DEVFS_GET_CDEVPRIV_FROM_FILE
 0

	)

624 #ià!
NV_KERNEL_HAS_DEVFS_GET_CDEVPRIV_FROM_FILE


625 
	~<fs/devfs/devfs_št.h
>

628 * 
NVKMS_API_CALL
 
	$nvkms_g‘_³r_Ý’_d©a
(
fd
)

630 
fže
 *
å
 = 
NULL
;

631 
nvkms_³r_Ý’
 *
pÝ’
 = 
NULL
;

632 
¡©us
;

633 *
d©a
 = 
NULL
;

635 #ià
NV_FGET_HAS_CAP_RIGHTS_T_ARG


636 
ÿp_rights_t
 
rights
;

637 
¡©us
 = 
	`fg‘
(
cu¹h»ad
, 
fd
, 
	`ÿp_rights_š™
(&
rights
, 
CAP_IOCTL
), &
å
);

639 
¡©us
 = 
	`fg‘
(
cu¹h»ad
, 
fd
, &
å
);

642 ià(
¡©us
 != 0) {

643  
NULL
;

646 #ià
NV_KERNEL_HAS_DEVFS_GET_CDEVPRIV_FROM_FILE


647 
¡©us
 = 
	`devfs_g‘_cdev´iv_äom_fže
(&
pÝ’
, 
å
);

649 ià(
¡©us
 != 0) {

650 
dÚe
;

654 
cdev_´ivd©a
 *
p
 = 
å
->
f_cdev´iv
;

661 ià((
p
 =ð
NULL
è|| (p->
cdpd_dŒ
 !ð
nvkms_þo£
)) {

662 
dÚe
;

665 
pÝ’
 = 
p
->
cdpd_d©a
;

669 ià(
pÝ’
 =ð
NULL
) {

670 
dÚe
;

673 
d©a
 = 
pÝ’
->data;

675 
dÚe
:

688 
	`fdrÝ
(
å
, 
cu¹h»ad
);

690  
d©a
;

691 
	}
}

693 
NvBoÞ
 
NVKMS_API_CALL
 
	$nvkms_Ý’_gpu
(
NvU32
 
gpuId
)

695 
	`´štf
("__rm_Ýs.Ý’_gpu = 0x%x\n", ()
__rm_Ýs
.
Ý’_gpu
);

696 
»t
 = 
__rm_Ýs
.
	`Ý’_gpu
(
gpuId
, 
nvkms_nvidŸ_¡ack
);

697 
	`´štf
("nvkms_Ý’_gpu:»tuº: %d\n", 
»t
);

698  
»t
 == 0;

699 
	}
}

701 
NVKMS_API_CALL
 
	$nvkms_þo£_gpu
(
NvU32
 
gpuId
)

703 
	`´štf
("nvkms_close_gpu:\n");

704 
__rm_Ýs
.
	`þo£_gpu
(
gpuId
, 
nvkms_nvidŸ_¡ack
);

705 
	}
}

707 
NvU32
 
NVKMS_API_CALL
 
	$nvkms_’um”©e_gpus
(
nv_gpu_šfo_t
 *
gpu_šfo
)

709 
»t
 = 
__rm_Ýs
.
	`’um”©e_gpus
(
gpu_šfo
);

710 
	`´štf
("nvkms_’um”©e_gpus:»tuº: %d\n", 
»t
);

711  
»t
;

712 
	}
}

714 
NvBoÞ
 
NVKMS_API_CALL
 
	$nvkms_®low_wr™e_combššg
()

716 
	`´štf
("nvkms_allow_write_combining:\n");

717  
__rm_Ýs
.
sy¡em_šfo
.
®low_wr™e_combššg
;

718 
	}
}

724 
	$nvkms_k­i_sk_ÿÎback
(*
¬g
, 
³ndšg
 
__unu£d
)

726 
NvKmsK­iDeviû
 *
deviû
 = 
¬g
;

728 
	`´štf
("nvkms_k­i_sk_ÿÎback: deviû = 0x%lx\n", ()
deviû
);

729 
	`nvKmsK­iHªdËEv’tQueueChªge
(
deviû
);

730 
	}
}

738 
nvkms_³r_Ý’
 *
	$nvkms_Ý’_commÚ
(
NvKmsCl›ÁTy³
 
ty³
,

739 
NvKmsK­iDeviû
 *
deviû
,

740 *
¡©us
)

742 
nvkms_³r_Ý’
 *
pÝ’
 = 
NULL
;

744 
	`´štf
("nvkms_open_common:\n");

745 
pÝ’
 = 
	`nvkms_®loc
((*pÝ’), 
NV_TRUE
);

747 ià(
pÝ’
 =ð
NULL
) {

748 *
¡©us
 = -
ENOMEM
;

749 
	`´štf
("nvkms_open_common:‚vkms_alloc failed\n");

750 
çžed
;

753 
	`mtx_š™
(&
pÝ’
->
sks
.
lock
, "nvidŸ-mode£t-sks", 
NULL
, 
MTX_DEF
);

755 
	`sx_xlock
(&
nvkms_lock
);

756 
pÝ’
->
d©a
 = 
	`nvKmsO³n
(
cu½roc
->
p_pid
, 
ty³
,…open);

757 
	`sx_xuÆock
(&
nvkms_lock
);

759 ià(
pÝ’
->
d©a
 =ð
NULL
) {

760 *
¡©us
 = -
EPERM
;

761 
	`´štf
("nvkms_open_common:‚vKmsOpen failed\n");

762 
çžed
;

766 
	`TASK_INIT
(&
pÝ’
->
sks
.
sk
, 0,

767 
nvkms_k­i_sk_ÿÎback
, (*)
deviû
);

768 
	`skqueue_’queue
(
skqueue_th»ad
, &
pÝ’
->
sks
.
sk
);

770 *
¡©us
 = 0;

772 
	`´štf
("nvkms_Ý’_commÚ:„‘uº 0x%x\n", ()
pÝ’
);

773  
pÝ’
;

775 
çžed
:

777 
	`nvkms_ä“
(
pÝ’
, (*popen));

779  
NULL
;

780 
	}
}

782 
NVKMS_API_CALL
 
	$nvkms_þo£_commÚ
(
nvkms_³r_Ý’
 *
pÝ’
)

784 
	`´štf
("nvkms_close_common:\n");

785 
	`sx_xlock
(&
nvkms_lock
);

787 
	`nvKmsClo£
(
pÝ’
->
d©a
);

789 
pÝ’
->
d©a
 = 
NULL
;

791 
	`sx_xuÆock
(&
nvkms_lock
);

808 
	`skqueue_d¿š
(
skqueue_th»ad
, &
pÝ’
->
sks
.
sk
);

809 
	`mtx_de¡roy
(&
pÝ’
->
sks
.
lock
);

811 
	`nvkms_ä“
(
pÝ’
, (*popen));

812 
	}
}

814 
NVKMS_API_CALL
 
	gnvkms_ioùl_commÚ


816 
nvkms_³r_Ý’
 *
	gpÝ’
,

817 
NvU32
 
	gcmd
, 
NvU64
 
	gadd»ss
, cÚ¡ 
size_t
 
	gsize


820 
NvBoÞ
 
	g»t
;

822 
´štf
("nvkms_ioctl_common: \n");

823 
sx_xlock
(&
nvkms_lock
);

825 ià(
	gpÝ’
 &&…Ý’->
	gd©a
) {

826 
	g»t
 = 
nvKmsIoùl
(
pÝ’
->
d©a
, 
cmd
, 
add»ss
, 
size
);

828 
	g»t
 = 
NV_FALSE
;

831 
sx_xuÆock
(&
nvkms_lock
);

833 
´štf
("nvkms_ioùl_commÚ:„‘uº 0x%x\n", 
»t
);

834  
	g»t
 ? 0 : -
EPERM
;

841 
nvkms_³r_Ý’
* 
NVKMS_API_CALL
 
	gnvkms_Ý’_äom_k­i


843 
NvKmsK­iDeviû
 *
	gdeviû


846 
´štf
("nvkms_open_from_kapi: \n");

847 
	g¡©us
 = 0;

848 
nvkms_³r_Ý’
 *
	g»t
 = 
nvkms_Ý’_commÚ
(
NVKMS_CLIENT_KERNEL_SPACE
, 
deviû
, &
¡©us
);

849 
´štf
("nvkms_Ý’_äom_k­i:»tuº: 0x%x\n", ()
»t
);

850  
	g»t
;

853 
NVKMS_API_CALL
 
	$nvkms_þo£_äom_k­i
(
nvkms_³r_Ý’
 *
pÝ’
)

855 
	`´štf
("nvkms_close_from_kapi: \n");

856 
	`nvkms_þo£_commÚ
(
pÝ’
);

857 
	}
}

859 
NvBoÞ
 
NVKMS_API_CALL
 
	gnvkms_ioùl_äom_k­i


861 
nvkms_³r_Ý’
 *
	gpÝ’
,

862 
NvU32
 
	gcmd
, *
	g·¿ms_add»ss
, cÚ¡ 
size_t
 
	g·¿ms_size


865 
´štf
("nvkms_ioctl_from_kapi: \n");

866  
nvkms_ioùl_commÚ
(
pÝ’
,

867 
cmd
,

868 (
NvU64
)(
NvUPŒ
)
·¿ms_add»ss
, 
·¿ms_size
) == 0;

876 
	snvkms_£ma_t
 {

877 
mtx
 
	mnvs_mu‹x
;

880 
nvkms_£ma_hªdË_t
* 
NVKMS_API_CALL
 
	$nvkms_£ma_®loc
()

882 
	`´štf
("nvkms_sema_alloc:\n");

883 
nvkms_£ma_hªdË_t
 *
£ma
 = 
	`nvkms_®loc
(Òvkms_£ma_hªdË_t), 
NV_TRUE
);

884 ià(
£ma
) {

885 
	`´štf
("nvkms_sema_alloc: creating mutex\n");

886 
	`mtx_š™
(&(
£ma
->
nvs_mu‹x
), "NVIDIA Mu‹x", 
NULL
, 
MTX_DEF
);

889 
	`´štf
("nvkms_£ma_®loc:»tuº: 0x%x\n", ()
£ma
);

890  
£ma
;

891 
	}
}

893 
NVKMS_API_CALL
 
	$nvkms_£ma_ä“
(
nvkms_£ma_hªdË_t
 *
£ma
)

895 
	`´štf
("nvkms_sema_free:\n");

896 
	`mtx_de¡roy
(&
£ma
->
nvs_mu‹x
);

897 
	`nvkms_ä“
(
£ma
, (*sema));

898 
	}
}

900 
NVKMS_API_CALL
 
	$nvkms_£ma_down
(
nvkms_£ma_hªdË_t
 *
£ma
)

902 
	`´štf
("nvkms_sema_down:\n");

903 
	`mtx_lock
(&
£ma
->
nvs_mu‹x
);

904 
	}
}

906 
NVKMS_API_CALL
 
	$nvkms_£ma_up
(
nvkms_£ma_hªdË_t
 *
£ma
)

908 
	`´štf
("nvkms_sema_up:\n");

909 
	`mtx_uÆock
(&
£ma
->
nvs_mu‹x
);

910 
	}
}

916 
NvBoÞ
 
NVKMS_KAPI_CALL
 
	gnvKmsK­iG‘FunùiÚsTabË


918 
NvKmsK­iFunùiÚsTabË
 *
	gfuncsTabË


921 
´štf
("nvKmsKapiGetFunctionsTable:\n");

922  
nvKmsK­iG‘FunùiÚsTabËIÁ”Çl
(
funcsTabË
);

929 
	$nvkms_þo£
(*
¬g
)

931 
nvkms_³r_Ý’
 *
pÝ’
 = 
¬g
;

933 
	`sx_xlock
(&
nvkms_lock
);

934 
	`nvKmsClo£
(
pÝ’
->
d©a
);

935 
	`sx_xuÆock
(&
nvkms_lock
);

937 
	`mtx_de¡roy
(&
pÝ’
->
ev’ts
.
lock
);

939 
	`nvkms_ä“
(
pÝ’
, (*popen));

941 
	`sx_xlock
(&
nvkms_moduË
.
lock
);

942 
nvkms_moduË
.
þ›Á_couÁ”
 -= 1;

943 
	`sx_xuÆock
(&
nvkms_moduË
.
lock
);

944 
	}
}

946 
	$nvkms_ioùl
(

947 
cdev
 *
dev
,

948 
u_lÚg
 
cmd
,

949 
ÿddr_t
 
d©a
,

950 
fæag
,

951 
th»ad
 *
td


954 
u_lÚg
 
Ä
, 
size
;

955 
NvBoÞ
 
»t
;

956 
NvKmsIoùlP¬ams
 *
·¿ms
;

957 
nvkms_³r_Ý’
 *
pÝ’
;

958 
¡©us
;

960 
¡©us
 = 
	`devfs_g‘_cdev´iv
((**)&
pÝ’
);

961 ià(
¡©us
 != 0) {

962  
¡©us
;

965 
size
 = 
	`IOCPARM_LEN
(
cmd
);

966 
Ä
 = 
cmd
 & 0xFF;

970 ià((
Ä
 !ð
NVKMS_IOCTL_CMD
è|| (
size
 !ð(
NvKmsIoùlP¬ams
))) {

971  
EINVAL
;

976 
·¿ms
 = (
NvKmsIoùlP¬ams
*è
d©a
;

978 
	`sx_xlock
(&
nvkms_lock
);

979 
»t
 = 
	`nvKmsIoùl
(
pÝ’
->
d©a
,

980 
·¿ms
->
cmd
,

981 
·¿ms
->
add»ss
,

982 
·¿ms
->
size
);

983 
	`sx_xuÆock
(&
nvkms_lock
);

985  
»t
 ? 0 : 
EPERM
;

986 
	}
}

988 
	$nvkms_Ý’
(

989 
cdev
 *
dev
,

990 
oæags
,

991 
devty³
,

992 
th»ad
 *
td


995 
	`´štf
("nvkms_open:\n");

996 
nvkms_³r_Ý’
 *
pÝ’
;

997 
¡©us
;

999 
	`sx_xlock
(&
nvkms_moduË
.
lock
);

1001 ià(
nvkms_moduË
.
is_uÆßdšg
) {

1002 
	`sx_xuÆock
(&
nvkms_moduË
.
lock
);

1003 
	`´štf
("nvkms_open:return ENXIO\n");

1004  
ENXIO
;

1007 
nvkms_moduË
.
þ›Á_couÁ”
 += 1;

1008 
	`sx_xuÆock
(&
nvkms_moduË
.
lock
);

1010 
pÝ’
 = 
	`nvkms_®loc
((*pÝ’), 
NV_TRUE
);

1011 ià(
pÝ’
 =ð
NULL
) {

1012 
	`´štf
("nvkms_open:return ENNOMEM\n");

1013  
ENOMEM
;

1021 
¡©us
 = 
	`devfs_£t_cdev´iv
(
pÝ’
, 
nvkms_þo£
);

1022 ià(
¡©us
 != 0) {

1023 
	`nvkms_ä“
(
pÝ’
, (*popen));

1024 
	`´štf
("nvkms_Ý’:»tuº stu ð%d\n", 
¡©us
);

1025  
¡©us
;

1028 
	`mtx_š™
(&
pÝ’
->
ev’ts
.
lock
, "nvkms-ev’ts-lock", 
NULL
, 0);

1030 
	`sx_xlock
(&
nvkms_lock
);

1031 
pÝ’
->
d©a
 = 
	`nvKmsO³n
(
cu½roc
->
p_pid
, 
NVKMS_CLIENT_USER_SPACE
,…open);

1032 
	`sx_xuÆock
(&
nvkms_lock
);

1038 
	`´štf
("nvkms_Ý’:»tuº: %d\n", (
pÝ’
->
d©a
 =ð
NULL
è? 
EPERM
 : 0);

1039  (
pÝ’
->
d©a
 =ð
NULL
è? 
EPERM
 : 0;

1040 
	}
}

1042 
	$nvkms_pÞl
(

1043 
cdev
 *
dev
,

1044 
ev’ts
,

1045 
th»ad
 *
td


1048 
nvkms_³r_Ý’
 *
pÝ’
;

1049 
¡©us
;

1050 
mask
 = 0;

1052 
¡©us
 = 
	`devfs_g‘_cdev´iv
((**)&
pÝ’
);

1053 ià(
¡©us
 != 0) {

1057 
	`mtx_lock
(&
pÝ’
->
ev’ts
.
lock
);

1059 ià(!
pÝ’
->
ev’ts
.
avažabË
) {

1060 
	`£ÌecÜd
(
td
, &
pÝ’
->
ev’ts
.
£Ëù
);

1062 
mask
 = (
ev’ts
 & (
POLLIN
 | 
POLLPRI
 | 
POLLRDNORM
));

1065 
	`mtx_uÆock
(&
pÝ’
->
ev’ts
.
lock
);

1067  
mask
;

1068 
	}
}

1078 #ià
defšed
(
NVKMS_SUPPORT_LINUX_COMPAT
)

1080 
	$nvkms_lšux_ioùl_funùiÚ
(

1081 
th»ad
 *
td
,

1082 
lšux_ioùl_¬gs
 *
¬gs


1085 
fže
 *
å
;

1086 
¡©us
;

1087 
u_lÚg
 
cmd
;

1089 #ià
NV_FGET_HAS_CAP_RIGHTS_T_ARG


1090 
ÿp_rights_t
 
rights
;

1091 
¡©us
 = 
	`fg‘
(
td
, 
¬gs
->
fd
, 
	`ÿp_rights_š™
(&
rights
, 
CAP_IOCTL
), &
å
);

1093 
¡©us
 = 
	`fg‘
(
td
, 
¬gs
->
fd
, &
å
);

1096 ià(
¡©us
 != 0) {

1097  
¡©us
;

1100 
cmd
 = 
¬gs
->cmd;

1102 
¡©us
 = 
	`fo_ioùl
(
å
, 
cmd
, (
ÿddr_t
)
¬gs
->
¬g
, 
td
->
td_uüed
,d);

1103 
	`fdrÝ
(
å
, 
td
);

1105  
¡©us
;

1106 
	}
}

1108 
	#NVKMS_LINUX_IOCTL_MIN
 
	`_IOC
(0, 
NVKMS_IOCTL_MAGIC
, 
NVKMS_IOCTL_CMD
, 0)

	)

1109 
	#NVKMS_LINUX_IOCTL_MAX
 
NVKMS_LINUX_IOCTL_MIN


	)

1111 
lšux_ioùl_hªdËr
 
	gnvkms_lšux_ioùl_hªdËr
 = {

1112 
nvkms_lšux_ioùl_funùiÚ
,

1113 
NVKMS_LINUX_IOCTL_MIN
,

1114 
NVKMS_LINUX_IOCTL_MAX
,

1118 
	$nvkms_lšux_com·t_lßd
()

1120 #ià
	`defšed
(
NVKMS_SUPPORT_LINUX_COMPAT
)

1121 
	`lšux_ioùl_»gi¡”_hªdËr
(&
nvkms_lšux_ioùl_hªdËr
);

1123 
	}
}

1125 
	$nvkms_lšux_com·t_uÆßd
()

1127 #ià
	`defšed
(
NVKMS_SUPPORT_LINUX_COMPAT
)

1128 
	`lšux_ioùl_uÄegi¡”_hªdËr
(&
nvkms_lšux_ioùl_hªdËr
);

1130 
	}
}

1136 
cdevsw
 
	gnvkms_cdevsw
 = {

1137 .
d_Ý’
 = 
nvkms_Ý’
,

1138 .
	gd_ioùl
 = 
nvkms_ioùl
,

1139 .
	gd_pÞl
 = 
nvkms_pÞl
,

1140 .
	gd_Çme
 = "nvidia-modeset",

1141 .
	gd_v”siÚ
 = 
D_VERSION
,

1145 
	$nvidŸ_mode£t_lßd”
(
moduË
 *
m
, 
wh©
, *
¬g
)

1147 
»t
;

1154 
cdev
 *
nvkms_dev
;

1161 
NvBoÞ
 
nvkms_moduË_lßded
 = 
NV_FALSE
;

1162 
nvkms_tim”_t
 *
tim”
, *
tmp
;

1164 
wh©
) {

1165 
MOD_LOAD
:

1166 
»t
 = 
	`nvkms_®loc_rm
();

1168 ià(
»t
 != 0) {

1169  
»t
;

1172 
	`sx_š™
(&
nvkms_lock
, "nvidia-modeset†ock");

1173 
	`sx_š™
(&
nvkms_moduË
.
lock
, "nvidia-modeset module data†ock");

1174 
nvkms_moduË
.
þ›Á_couÁ”
 = 0;

1175 
nvkms_moduË
.
is_uÆßdšg
 = 
NV_FALSE
;

1177 
	`LIST_INIT
(&
nvkms_tim”s
.
li¡
);

1178 
	`sx_š™
(&
nvkms_tim”s
.
lock
, "nvidia-modesetimer†ock");

1180 
nvkms_dev
 = 
	`make_dev
(&
nvkms_cdevsw
,

1181 
NVKMS_CDEV_MINOR
,

1182 
UID_ROOT
, 
GID_WHEEL
, 0666,

1185 ià(
nvkms_dev
 =ð
NULL
) {

1186 
	`sx_de¡roy
(&
nvkms_moduË
.
lock
);

1187 
	`sx_de¡roy
(&
nvkms_tim”s
.
lock
);

1188 
	`sx_de¡roy
(&
nvkms_lock
);

1190 
	`nvkms_ä“_rm
();

1191  
ENOMEM
;

1195 
nvkms_moduË_lßded
 = 
NV_TRUE
;

1197 
	`sx_xlock
(&
nvkms_lock
);

1198 
	`nvKmsModuËLßd
();

1199 
	`sx_xuÆock
(&
nvkms_lock
);

1201 
	`nvkms_lšux_com·t_lßd
();

1205 
MOD_QUIESCE
:

1206 ià(!
nvkms_moduË_lßded
) {

1210 
	`sx_xlock
(&
nvkms_moduË
.
lock
);

1212 ià(
nvkms_moduË
.
þ›Á_couÁ”
 > 0) {

1213 
	`sx_xuÆock
(&
nvkms_moduË
.
lock
);

1214  
EBUSY
;

1217 
	`sx_xuÆock
(&
nvkms_moduË
.
lock
);

1221 
MOD_UNLOAD
:

1222 
MOD_SHUTDOWN
:

1223 ià(!
nvkms_moduË_lßded
) {

1227 
	`sx_xlock
(&
nvkms_moduË
.
lock
);

1229 ià(
nvkms_moduË
.
þ›Á_couÁ”
 > 0) {

1230 
	`sx_xuÆock
(&
nvkms_moduË
.
lock
);

1231  
EBUSY
;

1234 
nvkms_moduË
.
is_uÆßdšg
 = 
NV_TRUE
;

1236 
	`sx_xuÆock
(&
nvkms_moduË
.
lock
);

1238 
	`nvkms_lšux_com·t_uÆßd
();

1240 
	`sx_xlock
(&
nvkms_lock
);

1241 
	`nvKmsModuËUÆßd
();

1242 
	`sx_xuÆock
(&
nvkms_lock
);

1250 
	`sx_xlock
(&
nvkms_tim”s
.
lock
);

1252 
	`LIST_FOREACH_SAFE
(
tim”
, &
nvkms_tim”s
.
li¡
, 
tim”s_li¡
, 
tmp
) {

1253 ià(
tim”
->
ÿÎout_ü—‹d
) {

1261 ià(
	`ÿÎout_d¿š
(&
tim”
->
ÿÎout
) > 0) {

1263 
	`LIST_REMOVE
(
tim”
, 
tim”s_li¡
);

1264 ià(
tim”
->
isRefPŒ
) {

1265 
	`nvkms_dec_»f
(
tim”
->
d©aPŒ
);

1267 
	`nvkms_ä“
(
tim”
, (*timer));

1272 
	`sx_xuÆock
(&
nvkms_tim”s
.
lock
);

1274 
	`skqueue_run
(
skqueue_nvkms
);

1276 
	`de¡roy_dev
(
nvkms_dev
);

1277 
nvkms_dev
 = 
NULL
;

1279 
	`sx_de¡roy
(&
nvkms_moduË
.
lock
);

1280 
	`sx_de¡roy
(&
nvkms_tim”s
.
lock
);

1281 
	`sx_de¡roy
(&
nvkms_lock
);

1283 
	`nvkms_ä“_rm
();

1290  
EOPNOTSUPP
;

1291 
	}
}

1293 
moduËd©a_t
 
	gnvidŸ_mode£t_moduËd©a
 = {

1295 
nvidŸ_mode£t_lßd”
,

1296 
NULL


1299 
DECLARE_MODULE
(
nvidŸ_mode£t
,

1300 
nvidŸ_mode£t_moduËd©a
,

1301 
SI_SUB_DRIVERS
,

1302 
SI_ORDER_ANY
);

1304 
MODULE_VERSION
(
nvidŸ_mode£t
, 1);

1306 
MODULE_DEPEND
(
nvidŸ_mode£t
,

1307 
nvidŸ
,

1310 #ià
defšed
(
NVKMS_SUPPORT_LINUX_COMPAT
)

1311 
MODULE_DEPEND
(
nvidŸ_mode£t
,

1312 
lšux
,

	@src/nvidia-modeset/nvidia-modeset-os-interface.h

16 #ià!
defšed
(
_NVIDIA_MODESET_OS_INTERFACE_H_
)

17 
	#_NVIDIA_MODESET_OS_INTERFACE_H_


	)

19 
	~<¡ddef.h
>

20 
	~<¡d¬g.h
>

22 
	~"nvty³s.h
"

24 
	~"nvkms.h
"

26 
NVKMS_API_CALL
 
nvkms_ÿÎ_rm
 (*
Ýs
);

27 * 
NVKMS_API_CALL
 
nvkms_®loc
 (
size_t
 
size
,

28 
NvBoÞ
 
z”o
);

29 
NVKMS_API_CALL
 
nvkms_ä“
 (*
±r
,

30 
size_t
 
size
);

31 * 
NVKMS_API_CALL
 
nvkms_mem£t
 (*
±r
,

32 
NvU8
 
c
,

33 
size_t
 
size
);

34 * 
NVKMS_API_CALL
 
nvkms_memýy
 (*
de¡
,

35 cÚ¡ *
¤c
,

36 
size_t
 
n
);

37 * 
NVKMS_API_CALL
 
nvkms_memmove
 (*
de¡
,

38 cÚ¡ *
¤c
,

39 
size_t
 
n
);

40 
NVKMS_API_CALL
 
nvkms_memcmp
 (cÚ¡ *
s1
,

41 cÚ¡ *
s2
,

42 
size_t
 
n
);

43 
size_t
 
NVKMS_API_CALL
 
nvkms_¡¾’
 (cÚ¡ *
s
);

44 
NVKMS_API_CALL
 
nvkms_¡rcmp
 (cÚ¡ *
s1
,

45 cÚ¡ *
s2
);

46 * 
NVKMS_API_CALL
 
nvkms_¡ºýy
 (*
de¡
,

47 cÚ¡ *
¤c
,

48 
size_t
 
n
);

49 
NVKMS_API_CALL
 
nvkms_u¦“p
 (
NvU64
 
u£c
);

50 
NvU64
 
NVKMS_API_CALL
 
nvkms_g‘_u£c
 ();

51 
NVKMS_API_CALL
 
nvkms_cÝyš
 (*
k±r
,

52 
NvU64
 
uaddr
,

53 
size_t
 
n
);

54 
NVKMS_API_CALL
 
nvkms_cÝyout
 (
NvU64
 
uaddr
,

55 cÚ¡ *
k±r
,

56 
size_t
 
n
);

57 
NVKMS_API_CALL
 
nvkms_y›ld
 ();

58 
NVKMS_API_CALL
 
	$nvkms_¢´štf
 (*
¡r
,

59 
size_t
 
size
,

60 cÚ¡ *
fÜm©
, ...)

61 
	`__©Œibu‹__
((
	`fÜm©
 (
´štf
, 3, 4)));

63 
NVKMS_API_CALL
 
	`nvkms_v¢´štf
 (*
¡r
,

64 
size_t
 
size
,

65 cÚ¡ *
fÜm©
,

66 
va_li¡
 
­
);

68 
	#NVKMS_LOG_LEVEL_INFO
 0

	)

69 
	#NVKMS_LOG_LEVEL_WARN
 1

	)

70 
	#NVKMS_LOG_LEVEL_ERROR
 2

	)

72 
NVKMS_API_CALL
 
	`nvkms_log
 (cÚ¡ 
Ëv–
,

73 cÚ¡ *
gpuP»fix
,

74 cÚ¡ *
msg
);

89 
nvkms_»f_±r
;

97 
nvkms_»f_±r
* 
NVKMS_API_CALL
 
	`nvkms_®loc_»f_±r
(*
±r
);

109 
NVKMS_API_CALL
 
	`nvkms_ä“_»f_±r
(
nvkms_»f_±r
 *
»f_±r
);

120 
NVKMS_API_CALL
 
	`nvkms_šc_»f
(
nvkms_»f_±r
 *
»f_±r
);

130 * 
NVKMS_API_CALL
 
	`nvkms_dec_»f
(
nvkms_»f_±r
 *
»f_±r
);

132 
	tNVKMS_API_CALL
 
	tnvkms_tim”_´oc_t
(*
	td©aPŒ
, 
	tNvU32
 
	td©aU32
);

133 
nvkms_tim”_t
 
	tnvkms_tim”_hªdË_t
;

154 
nvkms_tim”_hªdË_t
*

155 
NVKMS_API_CALL
 
	`nvkms_®loc_tim”
 (
nvkms_tim”_´oc_t
 *
´oc
,

156 *
d©aPŒ
, 
NvU32
 
d©aU32
,

157 
NvU64
 
u£c
);

167 
NvBoÞ
 
NVKMS_API_CALL


168 
	`nvkms_®loc_tim”_w™h_»f_±r
(
nvkms_tim”_´oc_t
 *
´oc
,

169 
nvkms_»f_±r
 *
»f_±r
,

170 
NvU32
 
d©aU32
, 
NvU64
 
u£c
);

179 
NVKMS_API_CALL
 
	`nvkms_ä“_tim”
 (
nvkms_tim”_hªdË_t
 *
hªdË
);

194 
NVKMS_API_CALL


195 
	`nvkms_ev’t_queue_chªged
(
nvkms_³r_Ý’_hªdË_t
 *
pO³nK”Ãl
,

196 
NvBoÞ
 
ev’tsAvažabË
);

201 
NVKMS_API_CALL
 
	`nvkms_g‘_¿ndom
(*
±r
, 
size_t
 
size
);

208 * 
NVKMS_API_CALL
 
	`nvkms_g‘_³r_Ý’_d©a
(
fd
);

214 
NvBoÞ
 
NVKMS_API_CALL
 
	`nvkms_Ý’_gpu
(
NvU32
 
gpuId
);

215 
NVKMS_API_CALL
 
	`nvkms_þo£_gpu
(
NvU32
 
gpuId
);

222 
NvU32
 
NVKMS_API_CALL
 
	`nvkms_’um”©e_gpus
(
nv_gpu_šfo_t
 *
gpu_šfo
);

228 
NvBoÞ
 
NVKMS_API_CALL
 
	`nvkms_®low_wr™e_combššg
();

234 
nvkms_³r_Ý’
;

236 
nvkms_³r_Ý’
* 
NVKMS_API_CALL
 
nvkms_Ý’_äom_k­i


238 
NvKmsK­iDeviû
 *
deviû


241 
NVKMS_API_CALL
 
	`nvkms_þo£_äom_k­i
(
nvkms_³r_Ý’
 *
pÝ’
);

243 
NvBoÞ
 
NVKMS_API_CALL
 
nvkms_ioùl_äom_k­i


245 
nvkms_³r_Ý’
 *
pÝ’
,

246 
NvU32
 
cmd
, *
·¿ms_add»ss
, cÚ¡ 
size_t
 
·¿ms_size


253 
nvkms_£ma_t
 
	tnvkms_£ma_hªdË_t
;

255 
nvkms_£ma_hªdË_t
*

256 
NVKMS_API_CALL
 
	`nvkms_£ma_®loc
 ();

257 
NVKMS_API_CALL
 
	`nvkms_£ma_ä“
 (
nvkms_£ma_hªdË_t
 *
£ma
);

258 
NVKMS_API_CALL
 
	`nvkms_£ma_down
 (
nvkms_£ma_hªdË_t
 *
£ma
);

259 
NVKMS_API_CALL
 
	`nvkms_£ma_up
 (
nvkms_£ma_hªdË_t
 *
£ma
);

261 
nvkms_³r_Ý’
 *
	`nvkms_Ý’_commÚ
(
NvKmsCl›ÁTy³
,

262 
NvKmsK­iDeviû
 *,

264 
NVKMS_API_CALL
 
	`nvkms_þo£_commÚ
(
nvkms_³r_Ý’
 *);

265 
NVKMS_API_CALL
 
	`nvkms_ioùl_commÚ
(
nvkms_³r_Ý’
 *,

266 
NvU32
, 
NvU64
, cÚ¡ 
size_t
);

	@src/nvidia-modeset/nvkms-ioctl.h

8 #ià!
defšed
(
NVKMS_IOCTL_H
)

9 
	#NVKMS_IOCTL_H


	)

11 
	~"nvty³s.h
"

22 
	sNvKmsIoùlP¬ams
 {

23 
NvU32
 
	mcmd
;

24 
NvU32
 
	msize
;

25 
NvU64
 
add»ss
 
NV_ALIGN_BYTES
(8);

28 
	#NVKMS_IOCTL_MAGIC
 'm'

	)

29 
	#NVKMS_IOCTL_CMD
 0

	)

31 
	#NVKMS_IOCTL_IOWR
 \

32 
	`_IOWR
(
NVKMS_IOCTL_MAGIC
, 
NVKMS_IOCTL_CMD
, 
NvKmsIoùlP¬ams
)

	)

42 
šlše
 *
	$nvKmsNvU64ToPoš‹r
(
NvU64
 
v®ue
)

44  (*)(
NvUPŒ
)
v®ue
;

45 
	}
}

52 
šlše
 
NvBoÞ
 
	$nvKmsNvU64Add»ssIsSaã
(
NvU64
 
add»ss
)

54  
add»ss
 =ð(
NvU64
)(
NvUPŒ
)address;

55 
	}
}

	@src/nvidia-modeset/nvkms.h

8 #iâdeà
__NV_KMS_H__


9 
	#__NV_KMS_H__


	)

11 
	~"nvty³s.h
"

12 
	~<¡ddef.h
>

14 
	~"nvkms-k­i.h
"

21 #ià
NVCPU_IS_X86


22 
	#NVKMS_API_CALL
 
	`__©Œibu‹__
((
	`»g·rm
(0)))

	)

24 
	#NVKMS_API_CALL


	)

27 
nvkms_³r_Ý’
 
	tnvkms_³r_Ý’_hªdË_t
;

29 
	tNVKMS_API_CALL
 
	tnvkms_´ocfs_out_¡ršg_func_t
(*
	td©a
,

30 cÚ¡ *
	t¡r
);

32 
	tNVKMS_API_CALL
 
	tnvkms_´ocfs_´oc_t
(*
	td©a
,

33 *
	tbufãr
, 
	tsize_t
 
	tsize
,

34 
	tnvkms_´ocfs_out_¡ršg_func_t
 *
	toutSŒšg
);

37 cÚ¡ *
	mÇme
;

38 
nvkms_´ocfs_´oc_t
 *
	mfunc
;

39 } 
	tnvkms_´ocfs_fže_t
;

41 
	eNvKmsCl›ÁTy³
 {

42 
	mNVKMS_CLIENT_USER_SPACE
,

43 
	mNVKMS_CLIENT_KERNEL_SPACE
,

46 
NvBoÞ
 
NVKMS_API_CALL
 
nvKmsIoùl
(

47 *
pO³nVoid
,

48 
NvU32
 
cmd
,

49 
NvU64
 
·¿msAdd»ss
,

50 cÚ¡ 
size_t
 
·¿mSize
);

52 
NVKMS_API_CALL
 
nvKmsClo£
(*
pO³nVoid
);

54 * 
NVKMS_API_CALL
 
nvKmsO³n
(

55 
NvU32
 
pid
,

56 
NvKmsCl›ÁTy³
 
þ›ÁTy³
,

57 
nvkms_³r_Ý’_hªdË_t
 *
pO³nK”Ãl
);

59 
NVKMS_API_CALL
 
nvKmsModuËLßd
();

61 
NVKMS_API_CALL
 
nvKmsModuËUÆßd
();

63 
NVKMS_API_CALL
 
nvKmsSu¥’d
(
NvU32
 
gpuId
);

64 
NVKMS_API_CALL
 
nvKmsResume
(
NvU32
 
gpuId
);

66 
NVKMS_API_CALL
 
nvKmsG‘ProcFžes
(cÚ¡ 
nvkms_´ocfs_fže_t
 **
µProcFžes
);

68 
NVKMS_API_CALL
 
	gnvKmsK­iHªdËEv’tQueueChªge


70 
NvKmsK­iDeviû
 *
	gdeviû


73 
NvBoÞ
 
NVKMS_API_CALL
 
	gnvKmsK­iG‘FunùiÚsTabËIÁ”Çl


75 
NvKmsK­iFunùiÚsTabË
 *
	gfuncsTabË


	@src/nvidia/acpi_if.h

14 #iâdeà
_aýi_if_h_


15 
	#_aýi_if_h_


	)

18 
	$ACPI_STATUS
 (*
	taýi_sÿn_cb_t
)(
	tACPI_HANDLE
 
	th
, 
	tdeviû_t
 *
	tdev
,

19 
	tËv–
, *
	t¬g
);

21 
aýi_bif
;

22 
aýi_b¡
;

25 
kobjÝ_desc
 
aýi_id_´obe_desc
;

27 * 
	taýi_id_´obe_t
(
	tdeviû_t
 
	tbus
, deviû_ˆ
	tdev
, **
	tids
);

29 
__šlše
 * 
	$ACPI_ID_PROBE
(
deviû_t
 
bus
, deviû_ˆ
dev
, **
ids
)

31 
kobjÝ_t
 
_m
;

32 * 
rc
;

33 
	`KOBJOPLOOKUP
(((
kobj_t
)
bus
)->
Ýs
,
aýi_id_´obe
);

34 
rc
 = ((
aýi_id_´obe_t
 *è
_m
)(
bus
, 
dev
, 
ids
);

35  (
rc
);

36 
	}
}

39 
kobjÝ_desc
 
aýi_ev®u©e_objeù_desc
;

41 
ACPI_STATUS
 
	taýi_ev®u©e_objeù_t
(
	tdeviû_t
 
	tbus
, deviû_ˆ
	tdev
,

42 
	tACPI_STRING
 
	t·thÇme
,

43 
	tACPI_OBJECT_LIST
 *
	t·¿m‘”s
,

44 
	tACPI_BUFFER
 *
	t»t
);

46 
__šlše
 
ACPI_STATUS
 
	$ACPI_EVALUATE_OBJECT
(
deviû_t
 
bus
, deviû_ˆ
dev
,

47 
ACPI_STRING
 
·thÇme
,

48 
ACPI_OBJECT_LIST
 *
·¿m‘”s
,

49 
ACPI_BUFFER
 *
»t
)

51 
kobjÝ_t
 
_m
;

52 
ACPI_STATUS
 
rc
;

53 
	`KOBJOPLOOKUP
(((
kobj_t
)
bus
)->
Ýs
,
aýi_ev®u©e_objeù
);

54 
rc
 = ((
aýi_ev®u©e_objeù_t
 *è
_m
)(
bus
, 
dev
, 
·thÇme
, 
·¿m‘”s
, 
»t
);

55  (
rc
);

56 
	}
}

59 
kobjÝ_desc
 
aýi_pwr_fÜ_¦“p_desc
;

61 
	taýi_pwr_fÜ_¦“p_t
(
	tdeviû_t
 
	tbus
, deviû_ˆ
	tdev
, *
	td¡©e
);

63 
__šlše
 
	$ACPI_PWR_FOR_SLEEP
(
deviû_t
 
bus
, deviû_ˆ
dev
, *
d¡©e
)

65 
kobjÝ_t
 
_m
;

66 
rc
;

67 
	`KOBJOPLOOKUP
(((
kobj_t
)
bus
)->
Ýs
,
aýi_pwr_fÜ_¦“p
);

68 
rc
 = ((
aýi_pwr_fÜ_¦“p_t
 *è
_m
)(
bus
, 
dev
, 
d¡©e
);

69  (
rc
);

70 
	}
}

73 
kobjÝ_desc
 
aýi_sÿn_chžd»n_desc
;

75 
ACPI_STATUS
 
	taýi_sÿn_chžd»n_t
(
	tdeviû_t
 
	tbus
, deviû_ˆ
	tdev
,

76 
	tmax_d•th
, 
	taýi_sÿn_cb_t
 
	tu£r_â
,

77 *
	t¬g
);

79 
__šlše
 
ACPI_STATUS
 
	$ACPI_SCAN_CHILDREN
(
deviû_t
 
bus
, deviû_ˆ
dev
,

80 
max_d•th
,

81 
aýi_sÿn_cb_t
 
u£r_â
,

82 *
¬g
)

84 
kobjÝ_t
 
_m
;

85 
ACPI_STATUS
 
rc
;

86 
	`KOBJOPLOOKUP
(((
kobj_t
)
bus
)->
Ýs
,
aýi_sÿn_chžd»n
);

87 
rc
 = ((
aýi_sÿn_chžd»n_t
 *è
_m
)(
bus
, 
dev
, 
max_d•th
, 
u£r_â
, 
¬g
);

88  (
rc
);

89 
	}
}

92 
kobjÝ_desc
 
aýi_g‘_ã©u»s_desc
;

94 
	taýi_g‘_ã©u»s_t
(
	tdriv”_t
 *
	tdriv”
, 
	tu_št
 *
	tã©u»s
);

96 
__šlše
 
	$ACPI_GET_FEATURES
(
driv”_t
 *
driv”
, 
u_št
 *
ã©u»s
)

98 
kobjÝ_t
 
_m
;

99 
rc
;

100 
	`KOBJOPLOOKUP
(
driv”
->
Ýs
,
aýi_g‘_ã©u»s
);

101 
rc
 = ((
aýi_g‘_ã©u»s_t
 *è
_m
)(
driv”
, 
ã©u»s
);

102  (
rc
);

103 
	}
}

106 
kobjÝ_desc
 
aýi_ec_»ad_desc
;

108 
	taýi_ec_»ad_t
(
	tdeviû_t
 
	tdev
, 
	tu_št
 
	taddr
, 
	tUINT64
 *
	tv®
, 
	twidth
);

110 
__šlše
 
	$ACPI_EC_READ
(
deviû_t
 
dev
, 
u_št
 
addr
, 
UINT64
 *
v®
,

111 
width
)

113 
kobjÝ_t
 
_m
;

114 
rc
;

115 
	`KOBJOPLOOKUP
(((
kobj_t
)
dev
)->
Ýs
,
aýi_ec_»ad
);

116 
rc
 = ((
aýi_ec_»ad_t
 *è
_m
)(
dev
, 
addr
, 
v®
, 
width
);

117  (
rc
);

118 
	}
}

121 
kobjÝ_desc
 
aýi_ec_wr™e_desc
;

123 
	taýi_ec_wr™e_t
(
	tdeviû_t
 
	tdev
, 
	tu_št
 
	taddr
, 
	tUINT64
 
	tv®
, 
	twidth
);

125 
__šlše
 
	$ACPI_EC_WRITE
(
deviû_t
 
dev
, 
u_št
 
addr
, 
UINT64
 
v®
,

126 
width
)

128 
kobjÝ_t
 
_m
;

129 
rc
;

130 
	`KOBJOPLOOKUP
(((
kobj_t
)
dev
)->
Ýs
,
aýi_ec_wr™e
);

131 
rc
 = ((
aýi_ec_wr™e_t
 *è
_m
)(
dev
, 
addr
, 
v®
, 
width
);

132  (
rc
);

133 
	}
}

136 
kobjÝ_desc
 
aýi_b©t_g‘_šfo_desc
;

138 
	taýi_b©t_g‘_šfo_t
(
	tdeviû_t
 
	tdev
, 
	taýi_bif
 *
	tbif
);

140 
__šlše
 
	$ACPI_BATT_GET_INFO
(
deviû_t
 
dev
, 
aýi_bif
 *
bif
)

142 
kobjÝ_t
 
_m
;

143 
rc
;

144 
	`KOBJOPLOOKUP
(((
kobj_t
)
dev
)->
Ýs
,
aýi_b©t_g‘_šfo
);

145 
rc
 = ((
aýi_b©t_g‘_šfo_t
 *è
_m
)(
dev
, 
bif
);

146  (
rc
);

147 
	}
}

150 
kobjÝ_desc
 
aýi_b©t_g‘_¡©us_desc
;

152 
	taýi_b©t_g‘_¡©us_t
(
	tdeviû_t
 
	tdev
, 
	taýi_b¡
 *
	tb¡
);

154 
__šlše
 
	$ACPI_BATT_GET_STATUS
(
deviû_t
 
dev
, 
aýi_b¡
 *
b¡
)

156 
kobjÝ_t
 
_m
;

157 
rc
;

158 
	`KOBJOPLOOKUP
(((
kobj_t
)
dev
)->
Ýs
,
aýi_b©t_g‘_¡©us
);

159 
rc
 = ((
aýi_b©t_g‘_¡©us_t
 *è
_m
)(
dev
, 
b¡
);

160  (
rc
);

161 
	}
}

	@src/nvidia/bus_if.h

20 #iâdeà
_bus_if_h_


21 
	#_bus_if_h_


	)

24 
kobjÝ_desc
 
bus_´št_chžd_desc
;

26 
	tbus_´št_chžd_t
(
	tdeviû_t
 
	t_dev
, deviû_ˆ
	t_chžd
);

42 
__šlše
 
	$BUS_PRINT_CHILD
(
deviû_t
 
_dev
, deviû_ˆ
_chžd
)

44 
kobjÝ_t
 
_m
;

45 
rc
;

46 
	`KOBJOPLOOKUP
(((
kobj_t
)
_dev
)->
Ýs
,
bus_´št_chžd
);

47 
rc
 = ((
bus_´št_chžd_t
 *è
_m
)(
_dev
, 
_chžd
);

48  (
rc
);

49 
	}
}

52 
kobjÝ_desc
 
bus_´obe_nom©ch_desc
;

54 
	tbus_´obe_nom©ch_t
(
	tdeviû_t
 
	t_dev
, deviû_ˆ
	t_chžd
);

65 
__šlše
 
	$BUS_PROBE_NOMATCH
(
deviû_t
 
_dev
, deviû_ˆ
_chžd
)

67 
kobjÝ_t
 
_m
;

68 
	`KOBJOPLOOKUP
(((
kobj_t
)
_dev
)->
Ýs
,
bus_´obe_nom©ch
);

69 ((
bus_´obe_nom©ch_t
 *è
_m
)(
_dev
, 
_chžd
);

70 
	}
}

73 
kobjÝ_desc
 
bus_»ad_iv¬_desc
;

75 
	tbus_»ad_iv¬_t
(
	tdeviû_t
 
	t_dev
, deviû_ˆ
	t_chžd
, 
	t_šdex
,

76 
	tušŒ_t
 *
	t_»suÉ
);

105 
__šlše
 
	$BUS_READ_IVAR
(
deviû_t
 
_dev
, deviû_ˆ
_chžd
, 
_šdex
,

106 
ušŒ_t
 *
_»suÉ
)

108 
kobjÝ_t
 
_m
;

109 
rc
;

110 
	`KOBJOPLOOKUP
(((
kobj_t
)
_dev
)->
Ýs
,
bus_»ad_iv¬
);

111 
rc
 = ((
bus_»ad_iv¬_t
 *è
_m
)(
_dev
, 
_chžd
, 
_šdex
, 
_»suÉ
);

112  (
rc
);

113 
	}
}

116 
kobjÝ_desc
 
bus_wr™e_iv¬_desc
;

118 
	tbus_wr™e_iv¬_t
(
	tdeviû_t
 
	t_dev
, deviû_ˆ
	t_chžd
, 
	t_šdx
,

119 
	tušŒ_t
 
	t_v®ue
);

138 
__šlše
 
	$BUS_WRITE_IVAR
(
deviû_t
 
_dev
, deviû_ˆ
_chžd
, 
_šdx
,

139 
ušŒ_t
 
_v®ue
)

141 
kobjÝ_t
 
_m
;

142 
rc
;

143 
	`KOBJOPLOOKUP
(((
kobj_t
)
_dev
)->
Ýs
,
bus_wr™e_iv¬
);

144 
rc
 = ((
bus_wr™e_iv¬_t
 *è
_m
)(
_dev
, 
_chžd
, 
_šdx
, 
_v®ue
);

145  (
rc
);

146 
	}
}

149 
kobjÝ_desc
 
bus_chžd_d–‘ed_desc
;

151 
	tbus_chžd_d–‘ed_t
(
	tdeviû_t
 
	t_dev
, deviû_ˆ
	t_chžd
);

162 
__šlše
 
	$BUS_CHILD_DELETED
(
deviû_t
 
_dev
, deviû_ˆ
_chžd
)

164 
kobjÝ_t
 
_m
;

165 
	`KOBJOPLOOKUP
(((
kobj_t
)
_dev
)->
Ýs
,
bus_chžd_d–‘ed
);

166 ((
bus_chžd_d–‘ed_t
 *è
_m
)(
_dev
, 
_chžd
);

167 
	}
}

170 
kobjÝ_desc
 
bus_chžd_d‘ached_desc
;

172 
	tbus_chžd_d‘ached_t
(
	tdeviû_t
 
	t_dev
, deviû_ˆ
	t_chžd
);

183 
__šlše
 
	$BUS_CHILD_DETACHED
(
deviû_t
 
_dev
, deviû_ˆ
_chžd
)

185 
kobjÝ_t
 
_m
;

186 
	`KOBJOPLOOKUP
(((
kobj_t
)
_dev
)->
Ýs
,
bus_chžd_d‘ached
);

187 ((
bus_chžd_d‘ached_t
 *è
_m
)(
_dev
, 
_chžd
);

188 
	}
}

191 
kobjÝ_desc
 
bus_driv”_added_desc
;

193 
	tbus_driv”_added_t
(
	tdeviû_t
 
	t_dev
, 
	tdriv”_t
 *
	t_driv”
);

206 
__šlše
 
	$BUS_DRIVER_ADDED
(
deviû_t
 
_dev
, 
driv”_t
 *
_driv”
)

208 
kobjÝ_t
 
_m
;

209 
	`KOBJOPLOOKUP
(((
kobj_t
)
_dev
)->
Ýs
,
bus_driv”_added
);

210 ((
bus_driv”_added_t
 *è
_m
)(
_dev
, 
_driv”
);

211 
	}
}

214 
kobjÝ_desc
 
bus_add_chžd_desc
;

216 
deviû_t
 
	tbus_add_chžd_t
(
	tdeviû_t
 
	t_dev
, 
	tu_št
 
	t_Üd”
, cÚ¡ *
	t_Çme
,

217 
	t_un™
);

240 
__šlše
 
deviû_t
 
	$BUS_ADD_CHILD
(
deviû_t
 
_dev
, 
u_št
 
_Üd”
,

241 cÚ¡ *
_Çme
, 
_un™
)

243 
kobjÝ_t
 
_m
;

244 
deviû_t
 
rc
;

245 
	`KOBJOPLOOKUP
(((
kobj_t
)
_dev
)->
Ýs
,
bus_add_chžd
);

246 
rc
 = ((
bus_add_chžd_t
 *è
_m
)(
_dev
, 
_Üd”
, 
_Çme
, 
_un™
);

247  (
rc
);

248 
	}
}

251 
kobjÝ_desc
 
bus_»sÿn_desc
;

253 
	tbus_»sÿn_t
(
	tdeviû_t
 
	t_dev
);

264 
__šlše
 
	$BUS_RESCAN
(
deviû_t
 
_dev
)

266 
kobjÝ_t
 
_m
;

267 
rc
;

268 
	`KOBJOPLOOKUP
(((
kobj_t
)
_dev
)->
Ýs
,
bus_»sÿn
);

269 
rc
 = ((
bus_»sÿn_t
 *è
_m
)(
_dev
);

270  (
rc
);

271 
	}
}

274 
kobjÝ_desc
 
bus_®loc_»sourû_desc
;

276 
»sourû
 * 
	tbus_®loc_»sourû_t
(
	tdeviû_t
 
	t_dev
, deviû_ˆ
	t_chžd
,

277 
	t_ty³
, *
	t_rid
,

278 
	trmª_»s_t
 
	t_¡¬t
,

279 
	trmª_»s_t
 
	t_’d
,

280 
	trmª_»s_t
 
	t_couÁ
, 
	tu_št
 
	t_æags
);

310 
__šlše
 
»sourû
 * 
	$BUS_ALLOC_RESOURCE
(
deviû_t
 
_dev
,

311 
deviû_t
 
_chžd
, 
_ty³
,

312 *
_rid
,

313 
rmª_»s_t
 
_¡¬t
,

314 
rmª_»s_t
 
_’d
,

315 
rmª_»s_t
 
_couÁ
,

316 
u_št
 
_æags
)

318 
kobjÝ_t
 
_m
;

319 
»sourû
 * 
rc
;

320 
	`KOBJOPLOOKUP
(((
kobj_t
)
_dev
)->
Ýs
,
bus_®loc_»sourû
);

321 
rc
 = ((
bus_®loc_»sourû_t
 *è
_m
)(
_dev
, 
_chžd
, 
_ty³
, 
_rid
, 
_¡¬t
, 
_’d
, 
_couÁ
, 
_æags
);

322  (
rc
);

323 
	}
}

326 
kobjÝ_desc
 
bus_aùiv©e_»sourû_desc
;

328 
	tbus_aùiv©e_»sourû_t
(
	tdeviû_t
 
	t_dev
, deviû_ˆ
	t_chžd
, 
	t_ty³
,

329 
	t_rid
, 
	t»sourû
 *
	t_r
);

345 
__šlše
 
	$BUS_ACTIVATE_RESOURCE
(
deviû_t
 
_dev
, deviû_ˆ
_chžd
,

346 
_ty³
, 
_rid
,

347 
»sourû
 *
_r
)

349 
kobjÝ_t
 
_m
;

350 
rc
;

351 
	`KOBJOPLOOKUP
(((
kobj_t
)
_dev
)->
Ýs
,
bus_aùiv©e_»sourû
);

352 
rc
 = ((
bus_aùiv©e_»sourû_t
 *è
_m
)(
_dev
, 
_chžd
, 
_ty³
, 
_rid
, 
_r
);

353  (
rc
);

354 
	}
}

357 
kobjÝ_desc
 
bus_m­_»sourû_desc
;

359 
	tbus_m­_»sourû_t
(
	tdeviû_t
 
	t_dev
, deviû_ˆ
	t_chžd
, 
	t_ty³
,

360 
	t»sourû
 *
	t_r
,

361 
	t»sourû_m­_»que¡
 *
	t_¬gs
,

362 
	t»sourû_m­
 *
	t_m­
);

378 
__šlše
 
	$BUS_MAP_RESOURCE
(
deviû_t
 
_dev
, deviû_ˆ
_chžd
, 
_ty³
,

379 
»sourû
 *
_r
,

380 
»sourû_m­_»que¡
 *
_¬gs
,

381 
»sourû_m­
 *
_m­
)

383 
kobjÝ_t
 
_m
;

384 
rc
;

385 
	`KOBJOPLOOKUP
(((
kobj_t
)
_dev
)->
Ýs
,
bus_m­_»sourû
);

386 
rc
 = ((
bus_m­_»sourû_t
 *è
_m
)(
_dev
, 
_chžd
, 
_ty³
, 
_r
, 
_¬gs
, 
_m­
);

387  (
rc
);

388 
	}
}

391 
kobjÝ_desc
 
bus_unm­_»sourû_desc
;

393 
	tbus_unm­_»sourû_t
(
	tdeviû_t
 
	t_dev
, deviû_ˆ
	t_chžd
, 
	t_ty³
,

394 
	t»sourû
 *
	t_r
,

395 
	t»sourû_m­
 *
	t_m­
);

410 
__šlše
 
	$BUS_UNMAP_RESOURCE
(
deviû_t
 
_dev
, deviû_ˆ
_chžd
,

411 
_ty³
, 
»sourû
 *
_r
,

412 
»sourû_m­
 *
_m­
)

414 
kobjÝ_t
 
_m
;

415 
rc
;

416 
	`KOBJOPLOOKUP
(((
kobj_t
)
_dev
)->
Ýs
,
bus_unm­_»sourû
);

417 
rc
 = ((
bus_unm­_»sourû_t
 *è
_m
)(
_dev
, 
_chžd
, 
_ty³
, 
_r
, 
_m­
);

418  (
rc
);

419 
	}
}

422 
kobjÝ_desc
 
bus_d—ùiv©e_»sourû_desc
;

424 
	tbus_d—ùiv©e_»sourû_t
(
	tdeviû_t
 
	t_dev
, deviû_ˆ
	t_chžd
, 
	t_ty³
,

425 
	t_rid
, 
	t»sourû
 *
	t_r
);

439 
__šlše
 
	$BUS_DEACTIVATE_RESOURCE
(
deviû_t
 
_dev
, deviû_ˆ
_chžd
,

440 
_ty³
, 
_rid
,

441 
»sourû
 *
_r
)

443 
kobjÝ_t
 
_m
;

444 
rc
;

445 
	`KOBJOPLOOKUP
(((
kobj_t
)
_dev
)->
Ýs
,
bus_d—ùiv©e_»sourû
);

446 
rc
 = ((
bus_d—ùiv©e_»sourû_t
 *è
_m
)(
_dev
, 
_chžd
, 
_ty³
, 
_rid
, 
_r
);

447  (
rc
);

448 
	}
}

451 
kobjÝ_desc
 
bus_adju¡_»sourû_desc
;

453 
	tbus_adju¡_»sourû_t
(
	tdeviû_t
 
	t_dev
, deviû_ˆ
	t_chžd
, 
	t_ty³
,

454 
	t»sourû
 *
	t_»s
, 
	trmª_»s_t
 
	t_¡¬t
,

455 
	trmª_»s_t
 
	t_’d
);

472 
__šlše
 
	$BUS_ADJUST_RESOURCE
(
deviû_t
 
_dev
, deviû_ˆ
_chžd
,

473 
_ty³
, 
»sourû
 *
_»s
,

474 
rmª_»s_t
 
_¡¬t
,„mª_»s_ˆ
_’d
)

476 
kobjÝ_t
 
_m
;

477 
rc
;

478 
	`KOBJOPLOOKUP
(((
kobj_t
)
_dev
)->
Ýs
,
bus_adju¡_»sourû
);

479 
rc
 = ((
bus_adju¡_»sourû_t
 *è
_m
)(
_dev
, 
_chžd
, 
_ty³
, 
_»s
, 
_¡¬t
, 
_’d
);

480  (
rc
);

481 
	}
}

484 
kobjÝ_desc
 
bus_»Ëa£_»sourû_desc
;

486 
	tbus_»Ëa£_»sourû_t
(
	tdeviû_t
 
	t_dev
, deviû_ˆ
	t_chžd
, 
	t_ty³
,

487 
	t_rid
, 
	t»sourû
 *
	t_»s
);

502 
__šlše
 
	$BUS_RELEASE_RESOURCE
(
deviû_t
 
_dev
, deviû_ˆ
_chžd
,

503 
_ty³
, 
_rid
,

504 
»sourû
 *
_»s
)

506 
kobjÝ_t
 
_m
;

507 
rc
;

508 
	`KOBJOPLOOKUP
(((
kobj_t
)
_dev
)->
Ýs
,
bus_»Ëa£_»sourû
);

509 
rc
 = ((
bus_»Ëa£_»sourû_t
 *è
_m
)(
_dev
, 
_chžd
, 
_ty³
, 
_rid
, 
_»s
);

510  (
rc
);

511 
	}
}

514 
kobjÝ_desc
 
bus_£tup_šŒ_desc
;

516 
	tbus_£tup_šŒ_t
(
	tdeviû_t
 
	t_dev
, deviû_ˆ
	t_chžd
,

517 
	t»sourû
 *
	t_œq
, 
	t_æags
,

518 
	tdriv”_fž‹r_t
 *
	t_fž‹r
, 
	tdriv”_šŒ_t
 *
	t_šŒ
,

519 *
	t_¬g
, **
	t_cook›p
);

544 
__šlše
 
	$BUS_SETUP_INTR
(
deviû_t
 
_dev
, deviû_ˆ
_chžd
,

545 
»sourû
 *
_œq
, 
_æags
,

546 
driv”_fž‹r_t
 *
_fž‹r
,

547 
driv”_šŒ_t
 *
_šŒ
, *
_¬g
,

548 **
_cook›p
)

550 
kobjÝ_t
 
_m
;

551 
rc
;

552 
	`KOBJOPLOOKUP
(((
kobj_t
)
_dev
)->
Ýs
,
bus_£tup_šŒ
);

553 
rc
 = ((
bus_£tup_šŒ_t
 *è
_m
)(
_dev
, 
_chžd
, 
_œq
, 
_æags
, 
_fž‹r
, 
_šŒ
, 
_¬g
, 
_cook›p
);

554  (
rc
);

555 
	}
}

558 
kobjÝ_desc
 
bus_‹¬down_šŒ_desc
;

560 
	tbus_‹¬down_šŒ_t
(
	tdeviû_t
 
	t_dev
, deviû_ˆ
	t_chžd
,

561 
	t»sourû
 *
	t_œq
, *
	t_cook›
);

576 
__šlše
 
	$BUS_TEARDOWN_INTR
(
deviû_t
 
_dev
, deviû_ˆ
_chžd
,

577 
»sourû
 *
_œq
, *
_cook›
)

579 
kobjÝ_t
 
_m
;

580 
rc
;

581 
	`KOBJOPLOOKUP
(((
kobj_t
)
_dev
)->
Ýs
,
bus_‹¬down_šŒ
);

582 
rc
 = ((
bus_‹¬down_šŒ_t
 *è
_m
)(
_dev
, 
_chžd
, 
_œq
, 
_cook›
);

583  (
rc
);

584 
	}
}

587 
kobjÝ_desc
 
bus_£t_»sourû_desc
;

589 
	tbus_£t_»sourû_t
(
	tdeviû_t
 
	t_dev
, deviû_ˆ
	t_chžd
, 
	t_ty³
,

590 
	t_rid
, 
	trmª_»s_t
 
	t_¡¬t
,„mª_»s_ˆ
	t_couÁ
);

609 
__šlše
 
	$BUS_SET_RESOURCE
(
deviû_t
 
_dev
, deviû_ˆ
_chžd
, 
_ty³
,

610 
_rid
, 
rmª_»s_t
 
_¡¬t
,

611 
rmª_»s_t
 
_couÁ
)

613 
kobjÝ_t
 
_m
;

614 
rc
;

615 
	`KOBJOPLOOKUP
(((
kobj_t
)
_dev
)->
Ýs
,
bus_£t_»sourû
);

616 
rc
 = ((
bus_£t_»sourû_t
 *è
_m
)(
_dev
, 
_chžd
, 
_ty³
, 
_rid
, 
_¡¬t
, 
_couÁ
);

617  (
rc
);

618 
	}
}

621 
kobjÝ_desc
 
bus_g‘_»sourû_desc
;

623 
	tbus_g‘_»sourû_t
(
	tdeviû_t
 
	t_dev
, deviû_ˆ
	t_chžd
, 
	t_ty³
,

624 
	t_rid
, 
	trmª_»s_t
 *
	t_¡¬
,

625 
	trmª_»s_t
 *
	t_couÁp
);

642 
__šlše
 
	$BUS_GET_RESOURCE
(
deviû_t
 
_dev
, deviû_ˆ
_chžd
, 
_ty³
,

643 
_rid
, 
rmª_»s_t
 *
_¡¬
,

644 
rmª_»s_t
 *
_couÁp
)

646 
kobjÝ_t
 
_m
;

647 
rc
;

648 
	`KOBJOPLOOKUP
(((
kobj_t
)
_dev
)->
Ýs
,
bus_g‘_»sourû
);

649 
rc
 = ((
bus_g‘_»sourû_t
 *è
_m
)(
_dev
, 
_chžd
, 
_ty³
, 
_rid
, 
_¡¬
, 
_couÁp
);

650  (
rc
);

651 
	}
}

654 
kobjÝ_desc
 
bus_d–‘e_»sourû_desc
;

656 
	tbus_d–‘e_»sourû_t
(
	tdeviû_t
 
	t_dev
, deviû_ˆ
	t_chžd
, 
	t_ty³
,

657 
	t_rid
);

670 
__šlše
 
	$BUS_DELETE_RESOURCE
(
deviû_t
 
_dev
, deviû_ˆ
_chžd
,

671 
_ty³
, 
_rid
)

673 
kobjÝ_t
 
_m
;

674 
	`KOBJOPLOOKUP
(((
kobj_t
)
_dev
)->
Ýs
,
bus_d–‘e_»sourû
);

675 ((
bus_d–‘e_»sourû_t
 *è
_m
)(
_dev
, 
_chžd
, 
_ty³
, 
_rid
);

676 
	}
}

679 
kobjÝ_desc
 
bus_g‘_»sourû_li¡_desc
;

681 
»sourû_li¡
 * 
	tbus_g‘_»sourû_li¡_t
(
	tdeviû_t
 
	t_dev
,

682 
	tdeviû_t
 
	t_chžd
);

694 
__šlše
 
»sourû_li¡
 * 
	$BUS_GET_RESOURCE_LIST
(
deviû_t
 
_dev
,

695 
deviû_t
 
_chžd
)

697 
kobjÝ_t
 
_m
;

698 
»sourû_li¡
 * 
rc
;

699 
	`KOBJOPLOOKUP
(((
kobj_t
)
_dev
)->
Ýs
,
bus_g‘_»sourû_li¡
);

700 
rc
 = ((
bus_g‘_»sourû_li¡_t
 *è
_m
)(
_dev
, 
_chžd
);

701  (
rc
);

702 
	}
}

705 
kobjÝ_desc
 
bus_chžd_´e£Á_desc
;

707 
	tbus_chžd_´e£Á_t
(
	tdeviû_t
 
	t_dev
, deviû_ˆ
	t_chžd
);

724 
__šlše
 
	$BUS_CHILD_PRESENT
(
deviû_t
 
_dev
, deviû_ˆ
_chžd
)

726 
kobjÝ_t
 
_m
;

727 
rc
;

728 
	`KOBJOPLOOKUP
(((
kobj_t
)
_dev
)->
Ýs
,
bus_chžd_´e£Á
);

729 
rc
 = ((
bus_chžd_´e£Á_t
 *è
_m
)(
_dev
, 
_chžd
);

730  (
rc
);

731 
	}
}

734 
kobjÝ_desc
 
bus_chžd_²pšfo_¡r_desc
;

736 
	tbus_chžd_²pšfo_¡r_t
(
	tdeviû_t
 
	t_dev
, deviû_ˆ
	t_chžd
, *
	t_buf
,

737 
	tsize_t
 
	t_buæ’
);

758 
__šlše
 
	$BUS_CHILD_PNPINFO_STR
(
deviû_t
 
_dev
, deviû_ˆ
_chžd
,

759 *
_buf
, 
size_t
 
_buæ’
)

761 
kobjÝ_t
 
_m
;

762 
rc
;

763 
	`KOBJOPLOOKUP
(((
kobj_t
)
_dev
)->
Ýs
,
bus_chžd_²pšfo_¡r
);

764 
rc
 = ((
bus_chžd_²pšfo_¡r_t
 *è
_m
)(
_dev
, 
_chžd
, 
_buf
, 
_buæ’
);

765  (
rc
);

766 
	}
}

769 
kobjÝ_desc
 
bus_chžd_loÿtiÚ_¡r_desc
;

771 
	tbus_chžd_loÿtiÚ_¡r_t
(
	tdeviû_t
 
	t_dev
, deviû_ˆ
	t_chžd
, *
	t_buf
,

772 
	tsize_t
 
	t_buæ’
);

793 
__šlše
 
	$BUS_CHILD_LOCATION_STR
(
deviû_t
 
_dev
, deviû_ˆ
_chžd
,

794 *
_buf
, 
size_t
 
_buæ’
)

796 
kobjÝ_t
 
_m
;

797 
rc
;

798 
	`KOBJOPLOOKUP
(((
kobj_t
)
_dev
)->
Ýs
,
bus_chžd_loÿtiÚ_¡r
);

799 
rc
 = ((
bus_chžd_loÿtiÚ_¡r_t
 *è
_m
)(
_dev
, 
_chžd
, 
_buf
, 
_buæ’
);

800  (
rc
);

801 
	}
}

804 
kobjÝ_desc
 
bus_bšd_šŒ_desc
;

806 
	tbus_bšd_šŒ_t
(
	tdeviû_t
 
	t_dev
, deviû_ˆ
	t_chžd
,

807 
	t»sourû
 *
	t_œq
, 
	t_ýu
);

818 
__šlše
 
	$BUS_BIND_INTR
(
deviû_t
 
_dev
, deviû_ˆ
_chžd
,

819 
»sourû
 *
_œq
, 
_ýu
)

821 
kobjÝ_t
 
_m
;

822 
rc
;

823 
	`KOBJOPLOOKUP
(((
kobj_t
)
_dev
)->
Ýs
,
bus_bšd_šŒ
);

824 
rc
 = ((
bus_bšd_šŒ_t
 *è
_m
)(
_dev
, 
_chžd
, 
_œq
, 
_ýu
);

825  (
rc
);

826 
	}
}

829 
kobjÝ_desc
 
bus_cÚfig_šŒ_desc
;

831 
	tbus_cÚfig_šŒ_t
(
	tdeviû_t
 
	t_dev
, 
	t_œq
, 
	tšŒ_Œigg”
 
	t_Œig
,

832 
	tšŒ_pÞ¬™y
 
	t_pÞ
);

843 
__šlše
 
	$BUS_CONFIG_INTR
(
deviû_t
 
_dev
, 
_œq
,

844 
šŒ_Œigg”
 
_Œig
,

845 
šŒ_pÞ¬™y
 
_pÞ
)

847 
kobjÝ_t
 
_m
;

848 
rc
;

849 
	`KOBJOPLOOKUP
(((
kobj_t
)
_dev
)->
Ýs
,
bus_cÚfig_šŒ
);

850 
rc
 = ((
bus_cÚfig_šŒ_t
 *è
_m
)(
_dev
, 
_œq
, 
_Œig
, 
_pÞ
);

851  (
rc
);

852 
	}
}

855 
kobjÝ_desc
 
bus_desüibe_šŒ_desc
;

857 
	tbus_desüibe_šŒ_t
(
	tdeviû_t
 
	t_dev
, deviû_ˆ
	t_chžd
,

858 
	t»sourû
 *
	t_œq
, *
	t_cook›
,

859 cÚ¡ *
	t_desü
);

872 
__šlše
 
	$BUS_DESCRIBE_INTR
(
deviû_t
 
_dev
, deviû_ˆ
_chžd
,

873 
»sourû
 *
_œq
, *
_cook›
,

874 cÚ¡ *
_desü
)

876 
kobjÝ_t
 
_m
;

877 
rc
;

878 
	`KOBJOPLOOKUP
(((
kobj_t
)
_dev
)->
Ýs
,
bus_desüibe_šŒ
);

879 
rc
 = ((
bus_desüibe_šŒ_t
 *è
_m
)(
_dev
, 
_chžd
, 
_œq
, 
_cook›
, 
_desü
);

880  (
rc
);

881 
	}
}

884 
kobjÝ_desc
 
bus_hš‹d_chžd_desc
;

886 
	tbus_hš‹d_chžd_t
(
	tdeviû_t
 
	t_dev
, cÚ¡ *
	t_dÇme
, 
	t_dun™
);

904 
__šlše
 
	$BUS_HINTED_CHILD
(
deviû_t
 
_dev
, cÚ¡ *
_dÇme
,

905 
_dun™
)

907 
kobjÝ_t
 
_m
;

908 
	`KOBJOPLOOKUP
(((
kobj_t
)
_dev
)->
Ýs
,
bus_hš‹d_chžd
);

909 ((
bus_hš‹d_chžd_t
 *è
_m
)(
_dev
, 
_dÇme
, 
_dun™
);

910 
	}
}

913 
kobjÝ_desc
 
bus_g‘_dma_g_desc
;

915 
bus_dma_g_t
 
	tbus_g‘_dma_g_t
(
	tdeviû_t
 
	t_dev
, deviû_ˆ
	t_chžd
);

923 
__šlše
 
bus_dma_g_t
 
	$BUS_GET_DMA_TAG
(
deviû_t
 
_dev
, deviû_ˆ
_chžd
)

925 
kobjÝ_t
 
_m
;

926 
bus_dma_g_t
 
rc
;

927 
	`KOBJOPLOOKUP
(((
kobj_t
)
_dev
)->
Ýs
,
bus_g‘_dma_g
);

928 
rc
 = ((
bus_g‘_dma_g_t
 *è
_m
)(
_dev
, 
_chžd
);

929  (
rc
);

930 
	}
}

933 
kobjÝ_desc
 
bus_g‘_bus_g_desc
;

935 
bus_¥aû_g_t
 
	tbus_g‘_bus_g_t
(
	tdeviû_t
 
	t_dev
, deviû_ˆ
	t_chžd
);

943 
__šlše
 
bus_¥aû_g_t
 
	$BUS_GET_BUS_TAG
(
deviû_t
 
_dev
, deviû_ˆ
_chžd
)

945 
kobjÝ_t
 
_m
;

946 
bus_¥aû_g_t
 
rc
;

947 
	`KOBJOPLOOKUP
(((
kobj_t
)
_dev
)->
Ýs
,
bus_g‘_bus_g
);

948 
rc
 = ((
bus_g‘_bus_g_t
 *è
_m
)(
_dev
, 
_chžd
);

949  (
rc
);

950 
	}
}

953 
kobjÝ_desc
 
bus_hšt_deviû_un™_desc
;

955 
	tbus_hšt_deviû_un™_t
(
	tdeviû_t
 
	t_dev
, deviû_ˆ
	t_chžd
,

956 cÚ¡ *
	t_Çme
, *
	t_un™p
);

966 
__šlše
 
	$BUS_HINT_DEVICE_UNIT
(
deviû_t
 
_dev
, deviû_ˆ
_chžd
,

967 cÚ¡ *
_Çme
, *
_un™p
)

969 
kobjÝ_t
 
_m
;

970 
	`KOBJOPLOOKUP
(((
kobj_t
)
_dev
)->
Ýs
,
bus_hšt_deviû_un™
);

971 ((
bus_hšt_deviû_un™_t
 *è
_m
)(
_dev
, 
_chžd
, 
_Çme
, 
_un™p
);

972 
	}
}

975 
kobjÝ_desc
 
bus_Ãw_·ss_desc
;

977 
	tbus_Ãw_·ss_t
(
	tdeviû_t
 
	t_dev
);

984 
__šlše
 
	$BUS_NEW_PASS
(
deviû_t
 
_dev
)

986 
kobjÝ_t
 
_m
;

987 
	`KOBJOPLOOKUP
(((
kobj_t
)
_dev
)->
Ýs
,
bus_Ãw_·ss
);

988 ((
bus_Ãw_·ss_t
 *è
_m
)(
_dev
);

989 
	}
}

992 
kobjÝ_desc
 
bus_»m­_šŒ_desc
;

994 
	tbus_»m­_šŒ_t
(
	tdeviû_t
 
	t_dev
, deviû_ˆ
	t_chžd
, 
	tu_št
 
	t_œq
);

1003 
__šlše
 
	$BUS_REMAP_INTR
(
deviû_t
 
_dev
, deviû_ˆ
_chžd
, 
u_št
 
_œq
)

1005 
kobjÝ_t
 
_m
;

1006 
rc
;

1007 
	`KOBJOPLOOKUP
(((
kobj_t
)
_dev
)->
Ýs
,
bus_»m­_šŒ
);

1008 
rc
 = ((
bus_»m­_šŒ_t
 *è
_m
)(
_dev
, 
_chžd
, 
_œq
);

1009  (
rc
);

1010 
	}
}

1013 
kobjÝ_desc
 
bus_su¥’d_chžd_desc
;

1015 
	tbus_su¥’d_chžd_t
(
	tdeviû_t
 
	t_dev
, deviû_ˆ
	t_chžd
);

1023 
__šlše
 
	$BUS_SUSPEND_CHILD
(
deviû_t
 
_dev
, deviû_ˆ
_chžd
)

1025 
kobjÝ_t
 
_m
;

1026 
rc
;

1027 
	`KOBJOPLOOKUP
(((
kobj_t
)
_dev
)->
Ýs
,
bus_su¥’d_chžd
);

1028 
rc
 = ((
bus_su¥’d_chžd_t
 *è
_m
)(
_dev
, 
_chžd
);

1029  (
rc
);

1030 
	}
}

1033 
kobjÝ_desc
 
bus_»sume_chžd_desc
;

1035 
	tbus_»sume_chžd_t
(
	tdeviû_t
 
	t_dev
, deviû_ˆ
	t_chžd
);

1043 
__šlše
 
	$BUS_RESUME_CHILD
(
deviû_t
 
_dev
, deviû_ˆ
_chžd
)

1045 
kobjÝ_t
 
_m
;

1046 
rc
;

1047 
	`KOBJOPLOOKUP
(((
kobj_t
)
_dev
)->
Ýs
,
bus_»sume_chžd
);

1048 
rc
 = ((
bus_»sume_chžd_t
 *è
_m
)(
_dev
, 
_chžd
);

1049  (
rc
);

1050 
	}
}

1053 
kobjÝ_desc
 
bus_g‘_domaš_desc
;

1055 
	tbus_g‘_domaš_t
(
	tdeviû_t
 
	t_dev
, deviû_ˆ
	t_chžd
, *
	t_domaš
);

1064 
__šlše
 
	$BUS_GET_DOMAIN
(
deviû_t
 
_dev
, deviû_ˆ
_chžd
, *
_domaš
)

1066 
kobjÝ_t
 
_m
;

1067 
rc
;

1068 
	`KOBJOPLOOKUP
(((
kobj_t
)
_dev
)->
Ýs
,
bus_g‘_domaš
);

1069 
rc
 = ((
bus_g‘_domaš_t
 *è
_m
)(
_dev
, 
_chžd
, 
_domaš
);

1070  (
rc
);

1071 
	}
}

1074 
kobjÝ_desc
 
bus_g‘_ýus_desc
;

1076 
	tbus_g‘_ýus_t
(
	tdeviû_t
 
	t_dev
, deviû_ˆ
	t_chžd
, 
	týu_£ts
 
	t_Ý
,

1077 
	tsize_t
 
	t_£tsize
, 
	týu£t_t
 *
	t_ýu£t
);

1089 
__šlše
 
	$BUS_GET_CPUS
(
deviû_t
 
_dev
, deviû_ˆ
_chžd
,

1090 
ýu_£ts
 
_Ý
, 
size_t
 
_£tsize
,

1091 
ýu£t_t
 *
_ýu£t
)

1093 
kobjÝ_t
 
_m
;

1094 
rc
;

1095 
	`KOBJOPLOOKUP
(((
kobj_t
)
_dev
)->
Ýs
,
bus_g‘_ýus
);

1096 
rc
 = ((
bus_g‘_ýus_t
 *è
_m
)(
_dev
, 
_chžd
, 
_Ý
, 
_£tsize
, 
_ýu£t
);

1097  (
rc
);

1098 
	}
}

	@src/nvidia/device_if.h

23 #iâdeà
_deviû_if_h_


24 
	#_deviû_if_h_


	)

27 
	~<sys/t¦og.h
>

30 
kobjÝ_desc
 
deviû_´obe_desc
;

32 
	tdeviû_´obe_t
(
	tdeviû_t
 
	tdev
);

107 
__šlše
 
	$DEVICE_PROBE
(
deviû_t
 
dev
)

109 
kobjÝ_t
 
_m
;

110 
rc
;

112 
	`TSENTER2
(
	`deviû_g‘_Çme
(
dev
));

114 
	`KOBJOPLOOKUP
(((
kobj_t
)
dev
)->
Ýs
,
deviû_´obe
);

115 
rc
 = ((
deviû_´obe_t
 *è
_m
)(
dev
);

117 
	`TSEXIT2
(
	`deviû_g‘_Çme
(
dev
));

119  (
rc
);

120 
	}
}

123 
kobjÝ_desc
 
deviû_id’tify_desc
;

125 
	tdeviû_id’tify_t
(
	tdriv”_t
 *
	tdriv”
, 
	tdeviû_t
 
	t·»Á
);

152 
__šlše
 
	$DEVICE_IDENTIFY
(
driv”_t
 *
driv”
, 
deviû_t
 
·»Á
)

154 
kobjÝ_t
 
_m
;

155 
	`KOBJOPLOOKUP
(
driv”
->
Ýs
,
deviû_id’tify
);

156 ((
deviû_id’tify_t
 *è
_m
)(
driv”
, 
·»Á
);

157 
	}
}

160 
kobjÝ_desc
 
deviû_©ch_desc
;

162 
	tdeviû_©ch_t
(
	tdeviû_t
 
	tdev
);

187 
__šlše
 
	$DEVICE_ATTACH
(
deviû_t
 
dev
)

189 
kobjÝ_t
 
_m
;

190 
rc
;

192 
	`TSENTER2
(
	`deviû_g‘_Çme
(
dev
));

194 
	`KOBJOPLOOKUP
(((
kobj_t
)
dev
)->
Ýs
,
deviû_©ch
);

195 
rc
 = ((
deviû_©ch_t
 *è
_m
)(
dev
);

197 
	`TSEXIT2
(
	`deviû_g‘_Çme
(
dev
));

199  (
rc
);

200 
	}
}

203 
kobjÝ_desc
 
deviû_d‘ach_desc
;

205 
	tdeviû_d‘ach_t
(
	tdeviû_t
 
	tdev
);

229 
__šlše
 
	$DEVICE_DETACH
(
deviû_t
 
dev
)

231 
kobjÝ_t
 
_m
;

232 
rc
;

233 
	`KOBJOPLOOKUP
(((
kobj_t
)
dev
)->
Ýs
,
deviû_d‘ach
);

234 
rc
 = ((
deviû_d‘ach_t
 *è
_m
)(
dev
);

235  (
rc
);

236 
	}
}

239 
kobjÝ_desc
 
deviû_shutdown_desc
;

241 
	tdeviû_shutdown_t
(
	tdeviû_t
 
	tdev
);

257 
__šlše
 
	$DEVICE_SHUTDOWN
(
deviû_t
 
dev
)

259 
kobjÝ_t
 
_m
;

260 
rc
;

261 
	`KOBJOPLOOKUP
(((
kobj_t
)
dev
)->
Ýs
,
deviû_shutdown
);

262 
rc
 = ((
deviû_shutdown_t
 *è
_m
)(
dev
);

263  (
rc
);

264 
	}
}

267 
kobjÝ_desc
 
deviû_su¥’d_desc
;

269 
	tdeviû_su¥’d_t
(
	tdeviû_t
 
	tdev
);

294 
__šlše
 
	$DEVICE_SUSPEND
(
deviû_t
 
dev
)

296 
kobjÝ_t
 
_m
;

297 
rc
;

298 
	`KOBJOPLOOKUP
(((
kobj_t
)
dev
)->
Ýs
,
deviû_su¥’d
);

299 
rc
 = ((
deviû_su¥’d_t
 *è
_m
)(
dev
);

300  (
rc
);

301 
	}
}

304 
kobjÝ_desc
 
deviû_»sume_desc
;

306 
	tdeviû_»sume_t
(
	tdeviû_t
 
	tdev
);

326 
__šlše
 
	$DEVICE_RESUME
(
deviû_t
 
dev
)

328 
kobjÝ_t
 
_m
;

329 
rc
;

330 
	`KOBJOPLOOKUP
(((
kobj_t
)
dev
)->
Ýs
,
deviû_»sume
);

331 
rc
 = ((
deviû_»sume_t
 *è
_m
)(
dev
);

332  (
rc
);

333 
	}
}

336 
kobjÝ_desc
 
deviû_qu›sû_desc
;

338 
	tdeviû_qu›sû_t
(
	tdeviû_t
 
	tdev
);

362 
__šlše
 
	$DEVICE_QUIESCE
(
deviû_t
 
dev
)

364 
kobjÝ_t
 
_m
;

365 
rc
;

366 
	`KOBJOPLOOKUP
(((
kobj_t
)
dev
)->
Ýs
,
deviû_qu›sû
);

367 
rc
 = ((
deviû_qu›sû_t
 *è
_m
)(
dev
);

368  (
rc
);

369 
	}
}

372 
kobjÝ_desc
 
deviû_»gi¡”_desc
;

374 * 
	tdeviû_»gi¡”_t
(
	tdeviû_t
 
	tdev
);

393 
__šlše
 * 
	$DEVICE_REGISTER
(
deviû_t
 
dev
)

395 
kobjÝ_t
 
_m
;

396 * 
rc
;

397 
	`KOBJOPLOOKUP
(((
kobj_t
)
dev
)->
Ýs
,
deviû_»gi¡”
);

398 
rc
 = ((
deviû_»gi¡”_t
 *è
_m
)(
dev
);

399  (
rc
);

400 
	}
}

	@src/nvidia/export_nvswitch.h

24 #iâdeà
_NVSWITCH_EXPORT_H_


25 
	#_NVSWITCH_EXPORT_H_


	)

27 #ifdeà
__ýlu¥lus


31 
	~"nvlšk_commÚ.h
"

33 
	#NVSWITCH_DRIVER_NAME
 "nvidŸ-nvsw™ch"

	)

35 
	#NVSWITCH_MAX_BARS
 1

	)

37 
	#NVSWITCH_DEVICE_INSTANCE_MAX
 64

	)

39 
	#PCI_CLASS_BRIDGE_NVSWITCH
 0x0680

	)

41 
	#PCI_DEVICE_ID_SV10_INT
 0x10F5:0x10F5

	)

42 
	#PCI_DEVICE_ID_SV10
 0x1ACF:0x1AC0

	)

48 #iâdeà
PCI_VENDOR_ID_NVIDIA


49 
	#PCI_VENDOR_ID_NVIDIA
 0x10DE

	)

52 
	#PCI_REVISION_ID_SV10
 0x0

	)

54 
	#PCI_ADDR_OFFSET_VENDOR
 0

	)

55 
	#PCI_ADDR_OFFSET_DEVID
 2

	)

57 
	#NVSWITCH_NSEC_PER_SEC
 1000000000ULL

	)

59 
	#NVSWITCH_DBG_LEVEL_MMIO
 0x0

	)

60 
	#NVSWITCH_DBG_LEVEL_INFO
 0x1

	)

61 
	#NVSWITCH_DBG_LEVEL_SETUP
 0x2

	)

62 
	#NVSWITCH_DBG_LEVEL_WARN
 0x3

	)

63 
	#NVSWITCH_DBG_LEVEL_ERROR
 0x4

	)

65 
nvsw™ch_deviû
 
	tnvsw™ch_deviû
;

91 
NvlStus
 
NVLINK_API_CALL


92 
nvsw™ch_lib_check_­i_v”siÚ


94 
NvU32
 
u£r_majÜ
,

95 
NvU32
 
u£r_mšÜ
,

96 
NvU32
 *
k”Ãl_majÜ
,

97 
NvU32
 *
k”Ãl_mšÜ


119 
NvlStus
 
NVLINK_API_CALL


120 
nvsw™ch_lib_»gi¡”_deviû


122 
NvU16
 
pci_domaš
,

123 
NvU8
 
pci_bus
,

124 
NvU8
 
pci_deviû
,

125 
NvU8
 
pci_func
,

126 
NvU16
 
deviû_id
,

127 *
os_hªdË
,

128 
NvU32
 
os_š¡ªû
,

129 
nvsw™ch_deviû
 **
deviû


141 
NVLINK_API_CALL


142 
nvsw™ch_lib_uÄegi¡”_deviû


144 
nvsw™ch_deviû
 *
deviû


158 
NvlStus
 
NVLINK_API_CALL


159 
nvsw™ch_lib_š™Ÿlize_deviû


161 
nvsw™ch_deviû
 *
deviû


175 
NvlStus
 
NVLINK_API_CALL


176 
nvsw™ch_lib_shutdown_deviû


178 
nvsw™ch_deviû
 *
deviû


195 
NvlStus
 
NVLINK_API_CALL
 
nvsw™ch_lib_ù¾


197 
nvsw™ch_deviû
 *
deviû
,

198 
NvU32
 
cmd
,

199 *
·¿ms
,

200 
NvU64
 
size


211 
NVLINK_API_CALL
 
nvsw™ch_lib_g‘_deviû_šfo


213 
nvsw™ch_deviû
 *
lib_hªdË
,

214 
nvlšk_pci_šfo
 **
pciInfo


227 
NVLINK_API_CALL


228 
nvsw™ch_lib_’abË_š‹¼u±s


230 
nvsw™ch_deviû
 *
deviû


243 
NVLINK_API_CALL


244 
nvsw™ch_lib_di§bË_š‹¼u±s


246 
nvsw™ch_deviû
 *
deviû


261 
NvlStus
 
NVLINK_API_CALL


262 
nvsw™ch_lib_check_š‹¼u±s


264 
nvsw™ch_deviû
 *
deviû


279 
NvlStus
 
NVLINK_API_CALL


280 
nvsw™ch_lib_£rviû_š‹¼u±s


282 
nvsw™ch_deviû
 *
deviû


298 
NvlStus
 
NVLINK_API_CALL


299 
nvsw™ch_lib_g‘_log_couÁ


301 
nvsw™ch_deviû
 *
deviû
,

302 
NvU32
 *
çl
, NvU32 *
nÚçl


319 
NvU64
 
NVLINK_API_CALL


320 
nvsw™ch_lib_deã¼ed_sk_di¥©ch”


322 
nvsw™ch_deviû
 *
deviû


328 
NvU32
 
NVLINK_API_CALL


329 
nvsw™ch_os_g‘_deviû_couÁ


338 
NvU64
 
NVLINK_API_CALL


339 
nvsw™ch_os_g‘_¶©fÜm_time


347 
NVLINK_API_CALL


348 
__©Œibu‹__
 ((
fÜm©
 (
´štf
, 2, 3)))

349 
nvsw™ch_os_´št


351 
log_Ëv–
,

352 cÚ¡ *
pFÜm©
,

359 
NvlStus
 
NVLINK_API_CALL


360 
nvsw™ch_os_»ad_»gi¡ry_dwÜd


362 *
os_hªdË
,

363 cÚ¡ *
Çme
,

364 
NvU32
 *
d©a


371 
NVLINK_API_CALL


372 
nvsw™ch_os_ov”ride_¶©fÜm


374 *
os_hªdË
,

375 
NvBoÞ
 *
¹lsim


378 #ifdeà
__ýlu¥lus


	@src/nvidia/freebsd_nvswitch.c

30 
	~"nvlšk_commÚ.h
"

31 
	~"expÜt_nvsw™ch.h
"

33 
NvU64
 
NVLINK_API_CALL


34 
	gnvsw™ch_os_g‘_¶©fÜm_time


42 
NVLINK_API_CALL


43 
	gnvsw™ch_os_´št


45 cÚ¡ 
	glog_Ëv–
,

46 cÚ¡ *
	gfmt
,

53 
NvlStus
 
NVLINK_API_CALL


54 
	gnvsw™ch_os_»ad_»gi¡ry_dwÜd


56 *
	gos_hªdË
,

57 cÚ¡ *
	gÇme
,

58 
NvU32
 *
	gd©a


64 
NVLINK_API_CALL


65 
	gnvsw™ch_os_ov”ride_¶©fÜm


67 *
	gos_hªdË
,

68 
NvBoÞ
 *
	g¹lsim


74 
NvU32
 
NVLINK_API_CALL


75 
	gnvsw™ch_os_g‘_deviû_couÁ


	@src/nvidia/ioctl_nvswitch.h

23 #iâdeà
_IOCTL_NVSWITCH_H_


24 
	#_IOCTL_NVSWITCH_H_


	)

26 #ifdeà
__ýlu¥lus


36 
	#NVSWITCH_DEV_IO_TYPE
 'd'

	)

37 
	#NVSWITCH_CTL_IO_TYPE
 'c'

	)

46 
NvU32
 
majÜ
;

47 
NvU32
 
mšÜ
;

49 } 
	tNVSWITCH_VERSION
;

66 
NVSWITCH_VERSION
 
u£r
;

67 
NVSWITCH_VERSION
 
k”Ãl
;

68 
NvBoÞ
 
is_com·tibË
;

70 } 
	tNVSWITCH_CHECK_VERSION_PARAMS
;

77 
	#NVSWITCH_MAX_DEVICES
 64

	)

91 
NvU32
 
deviûIn¡ªû
;

92 
NvU32
 
pciDomaš
;

93 
NvU32
 
pciBus
;

94 
NvU32
 
pciDeviû
;

95 
NvU32
 
pciFunùiÚ
;

97 } 
	tNVSWITCH_DEVICE_INSTANCE_INFO
;

101 
NvU32
 
deviûCouÁ
;

102 
NVSWITCH_DEVICE_INSTANCE_INFO
 
šfo
[
NVSWITCH_MAX_DEVICES
];

104 } 
	tNVSWITCH_GET_DEVICES_PARAMS
;

106 
	#CTRL_NVSWITCH_GET_DEVICES
 0x01

	)

107 
	#CTRL_NVSWITCH_CHECK_VERSION
 0x02

	)

113 
	#IOCTL_NVSWITCH_GET_DEVICES
 \

114 
	`_IOR
(
NVSWITCH_CTL_IO_TYPE
, 
CTRL_NVSWITCH_GET_DEVICES
, 
NVSWITCH_GET_DEVICES_PARAMS
)

	)

115 
	#IOCTL_NVSWITCH_CHECK_VERSION
 \

116 
	`_IOWR
(
NVSWITCH_CTL_IO_TYPE
, 
CTRL_NVSWITCH_CHECK_VERSION
, 
NVSWITCH_CHECK_VERSION_PARAMS
)

	)

118 #ifdeà
__ýlu¥lus


	@src/nvidia/nv-freebsd.h

11 #iâdeà
__NV_FREEBSD_H__


12 
	#__NV_FREEBSD_H__


	)

14 #ifdeà
TRUE


15 #undeà
TRUE


18 #ifdeà
FALSE


19 #undeà
FALSE


22 
	~<sys/·¿m.h
>

24 #ià
__F»eBSD_v”siÚ
 >= 1300000

25 #”rÜ 
This
 
driv”
 
dÛs
 
nÙ
 
suµÜt
 
F»eBSD
 13.x/-
CURRENT
!

27 #ià
__F»eBSD_v”siÚ
 >= 1200000 && __FreeBSD_version < 1200086

28 #”rÜ 
This
 
driv”
 
»quœes
 
F»eBSD
 12.0-
RC3
 
Ü
 
Ï‹r
!

30 #ià
__F»eBSD_v”siÚ
 >= 1100000 && __FreeBSD_version < 1100122

31 #”rÜ 
This
 
driv”
 
»quœes
 
F»eBSD
 11.0 
Ü
 
Ï‹r
!

33 #ià
__F»eBSD_v”siÚ
 >= 1000000 && __FreeBSD_version < 1000510

34 #”rÜ 
This
 
driv”
 
»quœes
 
F»eBSD
 10.0 
Ü
 
Ï‹r
!

36 #ià
__F»eBSD_v”siÚ
 >= 900000 && __FreeBSD_version < 900044

37 #”rÜ 
This
 
driv”
 
»quœes
 
F»eBSD
 9.0 
Ü
 
Ï‹r
!

39 #ià
__F»eBSD_v”siÚ
 >= 800000 && __FreeBSD_version < 800107

40 #”rÜ 
This
 
driv”
 
»quœes
 
F»eBSD
 8.0 
Ü
 
Ï‹r
!

42 #ià
__F»eBSD_v”siÚ
 < 702106

43 #”rÜ 
This
 
driv”
 
»quœes
 
F»eBSD
 7.3 
Ü
 
Ï‹r
!

46 
	~<sys/sy¡m.h
>

47 
	~<sys/ty³s.h
>

48 
	~<sys/queue.h
>

49 
	~<sys/pciio.h
>

50 
	~<sys/vnode.h
>

52 
	~<sys/k”Ãl.h
>

53 
	~<sys/moduË.h
>

54 
	~<sys/ioccom.h
>

55 
	~<sys/m®loc.h
>

56 
	~<sys/sock‘.h
>

57 
	~<sys/sy£Á.h
>

58 
	~<sys/ùy³.h
>

59 
	~<sys/sysùl.h
>

61 
	~<machše/ýu.h
>

62 
	~<machše/»sourû.h
>

63 
	~<machše/þock.h
>

64 
	~<machše/bus.h
>

65 
	~<machše/¥ecŸÌeg.h
>

67 
	~<sys/cÚf.h
>

68 
	~<sys/rmª.h
>

69 
	~<sys/´oc.h
>

70 
	~<sys/lock.h
>

71 
	~<sys/mmª.h
>

72 
	~<sys/fže.h
>

73 
	~<sys/pÞl.h
>

74 
	~<sys/rwlock.h
>

76 
	~<sys/sysÿÎ.h
>

77 
	~<sys/bus.h
>

78 
	~<sys/mem¿nge.h
>

79 
	~<sys/sy¥rÙo.h
>

80 
	~<sys/sigÇlv¬.h
>

82 
	~<vm/vm.h
>

83 
	~<vm/vm_·¿m.h
>

84 
	~<vm/vm_k”n.h
>

85 
	~<vm/vm_·ge.h
>

86 
	~<vm/vm_ex‹º.h
>

87 
	~<vm/vm_objeù.h
>

88 
	~<vm/pm­.h
>

89 
	~<vm/vm_m­.h
>

90 
	~<vm/vm_·g”.h
>

91 
	~<vm/uma.h
>

93 
	~<sys/smp.h
>

94 
	~<dev/pci/pcœeg.h
>

95 
	~<dev/pci/pciv¬.h
>

96 
	~<sys/kdb.h
>

97 
	~<sys/fžedesc.h
>

99 
	~<sys/´iv.h
>

100 
	~<sys/lock.h
>

101 
	~<sys/mu‹x.h
>

102 
	~<sys/sx.h
>

103 
	~<sys/cÚdv¬.h
>

104 
	~<sys/sgli¡.h
>

105 
	~<sys/skqueue.h
>

107 
	~<fs/devfs/devfs_št.h
>

109 
	#CURTHREAD
 
cu¹h»ad


	)

111 #ià
__F»eBSD_v”siÚ
 >= 800049

112 
	#su£r
(
_td
è
	`´iv_check
((_td), 
PRIV_DRIVER
)

	)

115 #ià
__F»eBSD_v”siÚ
 >= 1100012

116 
	~<sys/ÿpsicum.h
>

117 #–ià
__F»eBSD_v”siÚ
 >= 900041

118 
	~<sys/ÿ·bž™y.h
>

119 #ià
__F»eBSD_v”siÚ
 < 1000053

120 
	#ÿp_rights_š™
(
rights
, 
ÿp
è(ÿp)

	)

123 
	#fg‘
(
td
, 
fd
, 
rights
, 
å
è
	`fg‘
Ñd, fd, fp)

	)

126 
	#__NV_ITHREAD
(è(
cu¹h»ad
->
td_pæags
 & 
TDP_ITHREAD
)

	)

134 
MALLOC_DECLARE
(
M_NVIDIA
);

143 
	#NV_SUPPORT_LINUX_COMPAT


	)

150 #ià
__F»eBSD_v”siÚ
 >= 900044

151 
	#NV_SUPPORT_ACPI


	)

153 #undeà
NV_SUPPORT_ACPI


160 
	#NV_SUPPORT_ACPI_PM


	)

168 #undeà
NV_USE_WBINVD


171 
	snvidŸ_±e
 {

172 
vm_off£t_t
 
	mvœtu®_add»ss
;

173 
ušt64_t
 
	mphysiÿl_add»ss
;

174 } 
	tnvidŸ_±e_t
;

177 
	snvidŸ_®loc
 {

178 
SLIST_ENTRY
(
nvidŸ_®loc
è
	mli¡
;

179 
vm_mem©Œ_t
 
	m©Œ
;

180 
ušt32_t
 
	msize
;

181 
	m®loc_ty³_cÚtiguous
;

182 
nvidŸ_±e
 *
	m±e_¬¿y
;

183 
sgli¡
 *
	msg_li¡
;

184 
vm_objeù_t
 
	mobjeù
;

185 } 
	tnvidŸ_®loc_t
;

188 
	snvidŸ_ev’t
 {

189 
STAILQ_ENTRY
(
nvidŸ_ev’t
è
	mqueue
;

190 
nv_ev’t_t
 
	mev’t
;

191 } 
	tnvidŸ_ev’t_t
;

194 
	snvidŸ_fž•
 {

195 
nv_¡©e_t
 *
	mnv
;

196 
STAILQ_HEAD
(
ev’t_queue
, 
nvidŸ_ev’t
è
	mev’t_queue
;

197 
	mev’t_³ndšg
;

198 
mtx
 
	mev’t_mtx
;

199 
£lšfo
 
	mev’t_r£l
;

200 
nv_®loc_m­pšg_cÚ‹xt_t
 
	mmm­_cÚ‹xt
;

201 } 
	tnvidŸ_fž•_t
;

204 
	snvidŸ_wÜk
 {

205 
sk
 
	msk
;

206 *
	md©a
;

207 } 
	tnvidŸ_wÜk_t
;

210 
	envidŸ_soác_dev_¡ack
 {

211 
	mNV_DEV_STACK_API
,

212 
	mNV_DEV_STACK_PCI_CFGCHK
,

213 
	mNV_DEV_STACK_ISR
,

214 
	mNV_DEV_STACK_TIMER
,

215 
	mNV_DEV_STACK_COUNT


216 } 
	tnvidŸ_soác_dev_¡ack_t
;

219 
	snvidŸ_soác
 {

220 
deviû_t
 
	mdev
;

222 
sgli¡
 *
	mUD_sg_li¡
;

223 
vm_objeù_t
 
	mUD_objeù
;

225 
»sourû
 *
	mBAR_»cs
[
NV_GPU_NUM_BARS
];

226 
	mBAR_rids
[
NV_GPU_NUM_BARS
];

227 
sgli¡
 *
	mBAR_sg_li¡s
[
NV_GPU_NUM_BARS
];

228 
vm_objeù_t
 
	mBAR_objeùs
[
NV_GPU_NUM_BARS
];

230 
»sourû
 *
	mœq
;

231 *
	mœq_ih
;

232 
	mœq_rid
;

235 
nvidŸ_¡ack_t
 *
	m©ch_¥
;

238 
nvidŸ_¡ack_t
 *
	m¥
[
NV_DEV_STACK_COUNT
];

240 
»sourû
 *
	miÝ
;

241 
	miÝ_rid
;

243 
bus_¥aû_hªdË_t
 
	mbs_hªdË
;

244 
bus_¥aû_g_t
 
	mbs_g
;

246 
cdev
 *
	mcdev
;

247 
nv_¡©e_t
 *
	mnv_¡©e
;

249 
sysùl_ùx_li¡
 
	msysùl_ùx
;

251 
ÿÎout
 
	mtim”
;

253 
ušt64_t
 
	mdma_mask
;

256 
SLIST_HEAD
(
®loc_li¡
, 
nvidŸ_®loc
è
	m®loc_li¡
;

258 
ušt32_t
 
	m»fút
;

260 
sx
 
	m­i_sx
;

262 } 
	tnvidŸ_soác_t
;

264 
	#CDEV_CTL_MINOR
 255

	)

266 
devþass_t
 
nvidŸ_devþass
;

268 
nvidŸ_soác
 
nvidŸ_ùl_sc
;

269 
nv_¡©e_t
 
nvidŸ_ùl_¡©e
;

271 
	#PCIR_CAP_LIST_ID
 0x00

	)

272 
	#PCIR_CAP_LIST_NEXT
 0x01

	)

273 
	#PCIR_CAP_ID_AGP
 0x02

	)

274 
	#PCIR_CAP_ID_EXP
 0x10

	)

276 #ià!
defšed
(
PCIS_DISPLAY_3D
)

277 
	#PCIS_DISPLAY_3D
 0x002

	)

279 #ià!
defšed
(
PCIM_CMD_INTXDIS
)

280 
	#PCIM_CMD_INTXDIS
 0x400

	)

283 #ià!
defšed
(
VM_MEMATTR_WEAK_UNCACHEABLE
)

284 
	#VM_MEMATTR_WEAK_UNCACHEABLE
 
VM_MEMATTR_UNCACHED


	)

287 #ià!
defšed
(
PAT_UNCACHEABLE
)

288 
	#PAT_UNCACHEABLE
 0x00

	)

290 #ià!
defšed
(
PAT_WRITE_COMBINING
)

291 
	#PAT_WRITE_COMBINING
 0x01

	)

293 #ià!
defšed
(
PAT_WRITE_BACK
)

294 
	#PAT_WRITE_BACK
 0x06

	)

305 
	#__NV_IOC_TYPE
(
_cmd
è(((_cmdè>> 8è& 0xff)

	)

306 
	#__NV_IOC_NR
(
_cmd
è(((_cmdè>> 0è& 0xff)

	)

307 
	#__NV_IOC_SIZE
(
_cmd
è(((_cmdè>> 16è& 0x1fff)

	)

309 
uma_zÚe_t
 
nvidŸ_¡ack_t_zÚe
;

311 
	#NV_UMA_ZONE_ALLOC_STACK
(
±r
) \

313 (
±r
èð
	`uma_z®loc
(
nvidŸ_¡ack_t_zÚe
, 
M_WAITOK
); \

314 ià((
±r
è!ð
NULL
) \

316 (
±r
)->
size
 = (ÕŒ)->
¡ack
); \

317 (
±r
)->
tÝ
 = (±r)->
¡ack
 + (±r)->
size
; \

319 }

	)

321 
	#NV_UMA_ZONE_FREE_STACK
(
±r
) \

323 
	`uma_zä“
(
nvidŸ_¡ack_t_zÚe
, (
±r
)); \

324 (
±r
èð
NULL
; \

325 }

	)

328 
nvidŸ_dev_©ch
 (
nvidŸ_soác
 *);

329 
nvidŸ_dev_d‘ach
 (
nvidŸ_soác
 *);

332 
nvidŸ_ùl_©ch
 ();

333 
nvidŸ_ùl_d‘ach
 ();

336 
nvidŸ_pci_§ve_cÚfig_¥aû
 (
nvidŸ_¡ack_t
 *, 
deviû_t
 
dev
);

337 
nvidŸ_pci_»¡Üe_cÚfig_¥aû
(
nvidŸ_¡ack_t
 *, 
deviû_t
 
dev
);

338 
nvidŸ_pci_check_cÚfig_¥aû
 (
nvidŸ_¡ack_t
 *, 
deviû_t
 
dev
, 
BOOL
, BOOL, BOOL);

339 
nvidŸ_pci_£tup_šŒ
 (
deviû_t
 
dev
);

340 
nvidŸ_pci_‹¬down_šŒ
 (
deviû_t
 
dev
);

341 
NvU8
 
nvidŸ_pci_fšd_ÿ·bž™y
 (
deviû_t
 
dev
, NvU8);

343 
	#NV_SHUTDOWN_ADAPTER
(
¥
,
nv
) \

345 
	`rm_di§bË_ad­‹r
(
¥
, 
nv
); \

346 
	`rm_shutdown_ad­‹r
(
¥
, 
nv
); \

347 }

	)

349 
	#NV_PCI_CHECK_CONFIG_SPACE
(
¥
,
nv
,
cb
,
as
,
mb
) \

351 
nvidŸ_soác
 *
__sc
; \

352 ià((((
nv
)->
æags
 & 
NV_FLAG_CONTROL
) == 0) && \

353 (((
nv
)->
æags
 & 
NV_FLAG_SKIP_CFG_CHECK
) == 0)) { \

354 
__sc
 = (
nv
)->
os_¡©e
; \

355 
	`nvidŸ_pci_check_cÚfig_¥aû
(
¥
, 
__sc
->
dev
, 
cb
, 
as
, 
mb
); \

357 }

	)

360 
nvidŸ_©ch
 (
deviû_t
);

361 
nvidŸ_d‘ach
 (
deviû_t
);

362 
nvidŸ_su¥’d
 (
deviû_t
);

363 
nvidŸ_»sume
 (
deviû_t
);

364 
nvidŸ_®loc_h¬dw¬e
 (
deviû_t
);

365 
nvidŸ_ä“_h¬dw¬e
 (
deviû_t
);

366 
nvidŸ_šŒ
 (*);

367 
nvidŸ_modev’t
 (
moduË_t
, , *);

369 
nvidŸ_rc_tim”
 (*);

371 
nv_lock_­i
 (
nv_¡©e_t
 *);

372 
nv_uÆock_­i
 (
nv_¡©e_t
 *);

374 
NvS32
 
nv_®loc_cÚtig_·ges
 (
nv_¡©e_t
 *, 
NvU32
, NvU32, 
NvBoÞ
, 
NvU64
 *, **);

375 
NvS32
 
nv_ä“_cÚtig_·ges
 (
nv_¡©e_t
 *, *);

376 
NvS32
 
nv_®loc_sy¡em_·ges
 (
nv_¡©e_t
 *, 
NvU32
, NvU32, 
NvBoÞ
, 
NvU64
 *, **);

377 
NvS32
 
nv_ä“_sy¡em_·ges
 (
nv_¡©e_t
 *, *);

379 
	#NV_SGLIST_FREE
(
sgl
) \

381 
	`sgli¡_ä“
(
sgl
); \

382 (
sgl
èð
NULL
; \

383 }

	)

385 
	#NV_VM_OBJECT_DEALLOCATE
(
obj
) \

387 
	`vm_objeù_d—Îoÿ‹
(
obj
); \

388 (
obj
èð
NULL
; \

389 }

	)

391 #ià
__F»eBSD_v”siÚ
 < 1000030

392 
	#VM_OBJECT_WLOCK
(
objeù
è
	`VM_OBJECT_LOCK
(objeù)

	)

393 
	#VM_OBJECT_WUNLOCK
(
objeù
è
	`VM_OBJECT_UNLOCK
(objeù)

	)

396 #ià
__F»eBSD_v”siÚ
 < 1000055

397 
	#vm_m­_fšd
(
m­
, 
objeù
, 
off£t
, 
addr
, 
Ëngth
, \

398 
max_addr
, 
fšd_¥aû
, 
´Ù
, 
max
, 
cow
) \

399 
	`vm_m­_fšd
(
m­
, 
objeù
, 
off£t
, 
addr
, 
Ëngth
, 
fšd_¥aû
, 
´Ù
, 
max
, 
cow
)

	)

402 #ià
__F»eBSD_v”siÚ
 < 1000042

403 
	#kmem_¬’a
 
k”Ãl_m­


	)

406 #ià
__F»eBSD_v”siÚ
 >= 1200083

407 
	#NV_KMEM_ALLOC_CONTIG
(
size
, 
æags
, 
low
, 
high
, 
®ign
, 
bound¬y
, 
mem©Œ
) \

408 
	`kmem_®loc_cÚtig
(
size
, 
æags
, 
low
, 
high
, 
®ign
, 
bound¬y
, 
mem©Œ
)

	)

410 
	#NV_KMEM_FREE
(
add»ss
, 
size
) \

411 
	`kmem_ä“
(
add»ss
, 
size
)

	)

414 
	#NV_KMEM_ALLOC_CONTIG
(
size
, 
æags
, 
low
, 
high
, 
®ign
, 
bound¬y
, 
mem©Œ
) \

415 
	`kmem_®loc_cÚtig
(
kmem_¬’a
, 
size
, 
æags
, 
low
, 
high
, 
®ign
, 
bound¬y
, 
mem©Œ
)

	)

417 
	#NV_KMEM_FREE
(
add»ss
, 
size
) \

418 
	`kmem_ä“
(
kmem_¬’a
, 
add»ss
, 
size
)

	)

421 #ià
__F»eBSD_v”siÚ
 >= 800000

422 
	#NV_VM_PAGER_ALLOCATE
(
ty³
, 
hªdË
, 
size
, 
´Ù
, 
off
, 
üed
) \

423 
	`vm_·g”_®loÿ‹
(
ty³
, 
hªdË
, 
size
, 
´Ù
, 
off
, 
üed
)

	)

425 
	#NV_VM_PAGER_ALLOCATE
(
ty³
, 
hªdË
, 
size
, 
´Ù
, 
off
, 
üed
) \

426 
	`vm_·g”_®loÿ‹
(
ty³
, 
hªdË
, 
size
, 
´Ù
, 
off
)

	)

429 #ià
__F»eBSD_v”siÚ
 >= 800000

430 
	#NV_KDB_ENTER
(
why
,
msg
è
	`kdb_’‹r
(why, msg)

	)

432 
	#NV_KDB_ENTER
(
why
,
msg
è
	`kdb_’‹r
(msg)

	)

436 
nvidŸ_sysùl_š™
 ();

437 
nvidŸ_sysùl_ex™
 ();

439 
nvidŸ_sysùl_gpu_mod–
 (
SYSCTL_HANDLER_ARGS
);

440 
nvidŸ_sysùl_gpu_uuid
 (
SYSCTL_HANDLER_ARGS
);

441 
nvidŸ_sysùl_gpu_vbios
 (
SYSCTL_HANDLER_ARGS
);

442 
nvidŸ_sysùl_bus_ty³
 (
SYSCTL_HANDLER_ARGS
);

444 
nvidŸ_sysùl_»gi¡ry_key
 (
SYSCTL_HANDLER_ARGS
);

445 
nvidŸ_sysùl_»gi¡ry_dwÜds
 (
SYSCTL_HANDLER_ARGS
);

447 
nv_sysùl_š™
 (
nv_¡©e_t
 *);

448 
nv_sysùl_ex™
 (
nv_¡©e_t
 *);

451 
nvidŸ_lšux_š™
 ();

452 
nvidŸ_lšux_ex™
 ();

456 
nvidŸ_upd©e_»gi¡ry
 (*);

459 
nvidŸ_g‘_ÿrd_šfo
 (*, );

460 
nvidŸ_hªdË_ioùl
 (
nv_¡©e_t
 *, 
nvidŸ_fž•
 *, 
u_lÚg
, 
ÿddr_t
);

463 
nvidŸ_Ý’_ùl
 (
nv_¡©e_t
 *, 
nvidŸ_fž•
 *);

464 
nvidŸ_Ý’_dev
 (
nv_¡©e_t
 *, 
nvidŸ_fž•
 *);

465 
nvidŸ_Ý’_dev_k”Ãl
(
NvU32
 
gpu_id
, 
nvidŸ_¡ack_t
 *
¥
);

466 
nvidŸ_þo£_ùl
 (
nv_¡©e_t
 *, 
nvidŸ_fž•
 *);

467 
nvidŸ_þo£_dev
 (
nv_¡©e_t
 *, 
nvidŸ_fž•
 *);

468 
nvidŸ_þo£_dev_k”Ãl
(
NvU32
 
gpu_id
, 
nvidŸ_¡ack_t
 *
¥
);

469 
nvidŸ_mm­_ùl_sšgË
(
nv_¡©e_t
 *, 
nvidŸ_fž•
 *, 
vm_ooff£t_t
 *,

470 
vm_size_t
, 
vm_objeù_t
 *);

471 
nvidŸ_mm­_dev_sšgË
(
nv_¡©e_t
 *, 
nvidŸ_fž•
 *, 
vm_ooff£t_t
 *,

472 
vm_size_t
, 
vm_objeù_t
 *);

475 
nvidŸ_mode£t_su¥’d
(
NvU32
 
gpu_id
);

476 
nvidŸ_mode£t_»sume
 (
NvU32
 
gpu_id
);

478 
šlše
 
NvBoÞ
 
	$nvidŸ_lock_š™_locks
(
nvidŸ_¡ack_t
 *
¥
, 
nv_¡©e_t
 *
nv
)

480  
	`rm_š™_ev’t_locks
(
¥
, 
nv
);

481 
	}
}

483 
šlše
 
	$nvidŸ_lock_de¡roy_locks
(
nvidŸ_¡ack_t
 *
¥
, 
nv_¡©e_t
 *
nv
)

485 
	`rm_de¡roy_ev’t_locks
(
¥
, 
nv
);

486 
	}
}

488 
nvidŸ_ùl_dtÜ
(*
¬g
);

489 
nvidŸ_dev_dtÜ
(*
¬g
);

	@src/nvidia/nv-kernel-interface-api.h

11 #iâdeà
_NV_KERNEL_INTERFACE_API_H


12 
	#_NV_KERNEL_INTERFACE_API_H


	)

22 #ià(
__GNUC__
 * 10000 + 
__GNUC_MINOR__
 * 100 + 
__GNUC_PATCHLEVEL__
) >= 40600

23 
	#__ALTSTACK_ATTRIBUTE_ARG__
 0

	)

25 
	#__ALTSTACK_ATTRIBUTE_ARG__
 
çl£


	)

28 #ià
defšed
(
NV_UNIX
)

29 #ià
defšed
(
NVCPU_X86
)

30 #ià
defšed
(
__u£_®t¡ack__
)

31 
	#NV_API_CALL
 
	`__©Œibu‹__
((
	`»g·rm
(0),
	`®t¡ack
(
__ALTSTACK_ATTRIBUTE_ARG__
)))

	)

33 
	#NV_API_CALL
 
	`__©Œibu‹__
((
	`»g·rm
(0)))

	)

35 #–ià
defšed
(
NVCPU_X86_64
è&& defšed(
__u£_®t¡ack__
)

36 
	#NV_API_CALL
 
	`__©Œibu‹__
((
	`®t¡ack
(
__ALTSTACK_ATTRIBUTE_ARG__
)))

	)

38 
	#NV_API_CALL


	)

41 
	#NV_API_CALL


	)

	@src/nvidia/nv-misc.h

11 #iâdeà
_NV_MISC_H_


12 
	#_NV_MISC_H_


	)

14 
	~"nvty³s.h
"

15 
	~"nv¡©us.h
"

17 #iâdeà
BOOL


18 
	#BOOL
 
NvS32


	)

20 #iâdeà
TRUE


21 
	#TRUE
 1L

	)

23 #iâdeà
FALSE


24 
	#FALSE
 0L

	)

26 #iâdeà
NULL


27 
	#NULL
 0L

	)

	@src/nvidia/nv-reg.h

12 #iâdeà
_RM_REG_H_


13 
	#_RM_REG_H_


	)

15 
	~"nvty³s.h
"

21 
	#__NV_REG_STRING
(
»gkey
è#»gkey

	)

22 
	#NV_REG_STRING
(
»gkey
è
	`__NV_REG_STRING
Ôegkey)

	)

29 
	#__NV_REG_VAR
(
»gkey
è
NV»g_
##
	)
»gkey

31 #ià
defšed
(
NV_MODULE_PARAMETER
)

32 
	#NV_DEFINE_REG_ENTRY
(
»gkey
, 
deçuÉ_v®ue
) \

33 
NvU32
 
	`__NV_REG_VAR
(
»gkey
èð(
deçuÉ_v®ue
); \

34 
	`NV_MODULE_PARAMETER
(
	`__NV_REG_VAR
(
»gkey
))

	)

35 
	#NV_DEFINE_REG_ENTRY_GLOBAL
(
»gkey
, 
deçuÉ_v®ue
) \

36 
NvU32
 
	`__NV_REG_VAR
(
»gkey
èð(
deçuÉ_v®ue
); \

37 
	`NV_MODULE_PARAMETER
(
	`__NV_REG_VAR
(
»gkey
))

	)

39 
	#NV_DEFINE_REG_ENTRY
(
»gkey
, 
deçuÉ_v®ue
) \

40 
NvU32
 
	`__NV_REG_VAR
(
»gkey
èð(
deçuÉ_v®ue
)

	)

41 
	#NV_DEFINE_REG_ENTRY_GLOBAL
(
»gkey
, 
deçuÉ_v®ue
) \

42 
NvU32
 
	`__NV_REG_VAR
(
»gkey
èð(
deçuÉ_v®ue
)

	)

45 #ià
defšed
(
NV_MODULE_STRING_PARAMETER
)

46 
	#NV_DEFINE_REG_STRING_ENTRY
(
»gkey
, 
deçuÉ_v®ue
) \

47 *
	`__NV_REG_VAR
(
»gkey
èð(
deçuÉ_v®ue
); \

48 
	`NV_MODULE_STRING_PARAMETER
(
	`__NV_REG_VAR
(
»gkey
))

	)

50 
	#NV_DEFINE_REG_STRING_ENTRY
(
»gkey
, 
deçuÉ_v®ue
) \

51 *
	`__NV_REG_VAR
(
»gkey
èð(
deçuÉ_v®ue
)

	)

54 
	#NV_DEFINE_PARAMS_TABLE_ENTRY
(
»gkey
) \

55 { "NV»g", 
	`NV_REG_STRING
(
»gkey
), &
	`__NV_REG_VAR
Ôegkeyè}

	)

83 
	#__NV_MOBILE
 
Mobže


	)

84 
	#NV_REG_MOBILE
 
	`NV_REG_STRING
(
__NV_MOBILE
)

	)

101 
	#__NV_MODIFY_DEVICE_FILES
 
ModifyDeviûFžes


	)

102 
	#NV_REG_MODIFY_DEVICE_FILES
 
	`NV_REG_STRING
(
__NV_MODIFY_DEVICE_FILES
)

	)

116 
	#__NV_DEVICE_FILE_UID
 
DeviûFžeUID


	)

117 
	#NV_REG_DEVICE_FILE_UID
 
	`NV_REG_STRING
(
__NV_DEVICE_FILE_UID
)

	)

131 
	#__NV_DEVICE_FILE_GID
 
DeviûFžeGID


	)

132 
	#NV_REG_DEVICE_FILE_GID
 
	`NV_REG_STRING
(
__NV_DEVICE_FILE_GID
)

	)

146 
	#__NV_DEVICE_FILE_MODE
 
DeviûFžeMode


	)

147 
	#NV_REG_DEVICE_FILE_MODE
 
	`NV_REG_STRING
(
__NV_DEVICE_FILE_MODE
)

	)

155 
	#__NV_RESMAN_DEBUG_LEVEL
 
ResmªDebugLev–


	)

156 
	#NV_REG_RESMAN_DEBUG_LEVEL
 
	`NV_REG_STRING
(
__NV_RESMAN_DEBUG_LEVEL
)

	)

164 
	#__NV_RM_LOGON_RC
 
RmLogÚRC


	)

165 
	#NV_REG_RM_LOGON_RC
 
	`NV_REG_STRING
(
__NV_RM_LOGON_RC
)

	)

196 
	#__NV_UPDATE_MEMORY_TYPES
 
Upd©eMemÜyTy³s


	)

197 
	#NV_REG_UPDATE_MEMORY_TYPES
 
	`NV_REG_STRING
(
__NV_UPDATE_MEMORY_TYPES
)

	)

219 
	#__NV_INITIALIZE_SYSTEM_MEMORY_ALLOCATIONS
 \

220 
In™ŸlizeSy¡emMemÜyAÎoÿtiÚs


	)

221 
	#NV_REG_INITIALIZE_SYSTEM_MEMORY_ALLOCATIONS
 \

222 
	`NV_REG_STRING
(
__NV_INITIALIZE_SYSTEM_MEMORY_ALLOCATIONS
)

	)

240 
	#__NV_REGISTRY_DWORDS
 
Regi¡ryDwÜds


	)

241 
	#NV_REG_REGISTRY_DWORDS
 
	`NV_REG_STRING
(
__NV_REGISTRY_DWORDS
)

	)

273 
	#__NV_REGISTRY_DWORDS_PER_DEVICE
 
Regi¡ryDwÜdsP”Deviû


	)

274 
	#NV_REG_REGISTRY_DWORDS_PER_DEVICE
 
	`NV_REG_STRING
(
__NV_REGISTRY_DWORDS_PER_DEVICE
)

	)

276 
	#__NV_RM_MSG
 
RmMsg


	)

277 
	#NV_RM_MSG
 
	`NV_REG_STRING
(
__NV_RM_MSG
)

	)

306 
	#__NV_USE_PAGE_ATTRIBUTE_TABLE
 
U£PageA‰ribu‹TabË


	)

307 
	#NV_USE_PAGE_ATTRIBUTE_TABLE
 
	`NV_REG_STRING
(
__NV_USE_PAGE_ATTRIBUTE_TABLE
)

	)

325 
	#__NV_ENABLE_MSI
 
EÇbËMSI


	)

326 
	#NV_REG_ENABLE_MSI
 
	`NV_REG_STRING
(
__NV_ENABLE_MSI
)

	)

343 
	#__NV_MAP_REGISTERS_EARLY
 
M­Regi¡”sE¬ly


	)

344 
	#NV_REG_MAP_REGISTERS_EARLY
 
	`NV_REG_STRING
(
__NV_MAP_REGISTERS_EARLY
)

	)

360 
	#__NV_REGISTER_FOR_ACPI_EVENTS
 
Regi¡”FÜACPIEv’ts


	)

361 
	#NV_REG_REGISTER_FOR_ACPI_EVENTS
 
	`NV_REG_STRING
(
__NV_REGISTER_FOR_ACPI_EVENTS
)

	)

384 
	#__NV_CHECK_PCI_CONFIG_SPACE
 
CheckPCICÚfigS·û


	)

385 
	#NV_REG_CHECK_PCI_CONFIG_SPACE
 
	`NV_REG_STRING
(
__NV_CHECK_PCI_CONFIG_SPACE
)

	)

387 
	#NV_CHECK_PCI_CONFIG_SPACE_DISABLED
 0

	)

388 
	#NV_CHECK_PCI_CONFIG_SPACE_ENABLED
 1

	)

389 
	#NV_CHECK_PCI_CONFIG_SPACE_INIT
 0xFFFFFFFF

	)

406 
	#__NV_ASSIGN_GPUS
 
AssignGpus


	)

407 
	#NV_REG_ASSIGN_GPUS
 
	`NV_REG_STRING
(
__NV_ASSIGN_GPUS
)

	)

429 
	#__NV_ENABLE_PCIE_GEN3
 
EÇbËPCIeG’3


	)

430 
	#NV_REG_ENABLE_PCIE_GEN3
 
	`NV_REG_STRING
(
__NV_ENABLE_PCIE_GEN3
)

	)

443 
	#__NV_MEMORY_POOL_SIZE
 
MemÜyPoÞSize


	)

444 
	#NV_REG_MEMORY_POOL_SIZE
 
	`NV_REG_STRING
(
__NV_MEMORY_POOL_SIZE
)

	)

457 
	#__NV_KMALLOC_HEAP_MAX_SIZE
 
KM®locH—pMaxSize


	)

458 
	#NV_KMALLOC_HEAP_MAX_SIZE
 
	`NV_REG_STRING
(
__NV_KMALLOC_HEAP_MAX_SIZE
)

	)

471 
	#__NV_VMALLOC_HEAP_MAX_SIZE
 
VM®locH—pMaxSize


	)

472 
	#NV_VMALLOC_HEAP_MAX_SIZE
 
	`NV_REG_STRING
(
__NV_VMALLOC_HEAP_MAX_SIZE
)

	)

486 
	#__NV_IGNORE_MMIO_CHECK
 
IgnÜeMMIOCheck


	)

487 
	#NV_REG_IGNORE_MMIO_CHECK
 
	`NV_REG_STRING
(
__NV_IGNORE_MMIO_CHECK
)

	)

508 
	#__NV_TCE_BYPASS_MODE
 
TCEBy·ssMode


	)

509 
	#NV_REG_TCE_BYPASS_MODE
 
	`NV_REG_STRING
(
__NV_TCE_BYPASS_MODE
)

	)

511 
	#NV_TCE_BYPASS_MODE_DEFAULT
 0

	)

512 
	#NV_TCE_BYPASS_MODE_ENABLE
 1

	)

513 
	#NV_TCE_BYPASS_MODE_DISABLE
 2

	)

534 
	#__NV_USE_THREADED_INTERRUPTS
 
U£Th»adedIÁ”ru±s


	)

535 
	#NV_REG_USE_THREADED_INTERRUPTS
 
	`NV_REG_STRING
(
__NV_USE_THREADED_INTERRUPTS
)

	)

556 
	#__NV_PCI_DEVICE_BDF
 
pci


	)

557 
	#NV_REG_PCI_DEVICE_BDF
 
	`NV_REG_STRING
(
__NV_PCI_DEVICE_BDF
)

	)

577 
	#__NV_ENABLE_STREAM_MEMOPS
 
EÇbËSŒ—mMemOPs


	)

578 
	#NV_REG_ENABLE_STREAM_MEMOPS
 
	`NV_REG_STRING
(
__NV_ENABLE_STREAM_MEMOPS
)

	)

596 
	#__NV_ENABLE_BACKLIGHT_HANDLER
 
EÇbËBacklightHªdËr


	)

597 
	#NV_REG_ENABLE_BACKLIGHT_HANDLER
 
	`NV_REG_STRING
(
__NV_ENABLE_BACKLIGHT_HANDLER
)

	)

617 
	#__NV_ENABLE_USER_NUMA_MANAGEMENT
 
EÇbËU£rNUMAMªagem’t


	)

618 
	#NV_REG_ENABLE_USER_NUMA_MANAGEMENT
 
	`NV_REG_STRING
(
__NV_ENABLE_USER_NUMA_MANAGEMENT
)

	)

630 
	#__NV_GPU_BLACKLIST
 
GpuBÏckli¡


	)

631 
	#NV_REG_GPU_BLACKLIST
 
	`NV_REG_STRING
(
__NV_GPU_BLACKLIST
)

	)

633 #ià
defšed
(
NV_DEFINE_REGISTRY_KEY_TABLE
)

639 
NV_DEFINE_REG_ENTRY
(
__NV_MOBILE
, ~0);

640 
NV_DEFINE_REG_ENTRY
(
__NV_RESMAN_DEBUG_LEVEL
, ~0);

641 
NV_DEFINE_REG_ENTRY
(
__NV_RM_LOGON_RC
, 1);

642 
NV_DEFINE_REG_ENTRY
(
__NV_MODIFY_DEVICE_FILES
, 1);

643 
NV_DEFINE_REG_ENTRY
(
__NV_DEVICE_FILE_UID
, 0);

644 
NV_DEFINE_REG_ENTRY
(
__NV_DEVICE_FILE_GID
, 0);

645 
NV_DEFINE_REG_ENTRY
(
__NV_DEVICE_FILE_MODE
, 0666);

646 
NV_DEFINE_REG_ENTRY
(
__NV_UPDATE_MEMORY_TYPES
, ~0);

647 
NV_DEFINE_REG_ENTRY
(
__NV_INITIALIZE_SYSTEM_MEMORY_ALLOCATIONS
, 1);

648 
NV_DEFINE_REG_ENTRY
(
__NV_USE_PAGE_ATTRIBUTE_TABLE
, ~0);

649 
NV_DEFINE_REG_ENTRY
(
__NV_MAP_REGISTERS_EARLY
, 0);

650 
NV_DEFINE_REG_ENTRY
(
__NV_REGISTER_FOR_ACPI_EVENTS
, 1);

651 
NV_DEFINE_REG_ENTRY
(
__NV_CHECK_PCI_CONFIG_SPACE
, 
NV_CHECK_PCI_CONFIG_SPACE_INIT
);

652 
NV_DEFINE_REG_ENTRY
(
__NV_ENABLE_PCIE_GEN3
, 0);

653 
NV_DEFINE_REG_ENTRY
(
__NV_ENABLE_MSI
, 1);

654 
NV_DEFINE_REG_ENTRY
(
__NV_TCE_BYPASS_MODE
, 
NV_TCE_BYPASS_MODE_DEFAULT
);

655 
NV_DEFINE_REG_ENTRY
(
__NV_USE_THREADED_INTERRUPTS
, 1);

656 
NV_DEFINE_REG_ENTRY
(
__NV_ENABLE_STREAM_MEMOPS
, 0);

657 
NV_DEFINE_REG_ENTRY
(
__NV_ENABLE_BACKLIGHT_HANDLER
, 1);

658 
NV_DEFINE_REG_ENTRY_GLOBAL
(
__NV_ENABLE_USER_NUMA_MANAGEMENT
, 1);

659 
NV_DEFINE_REG_ENTRY_GLOBAL
(
__NV_MEMORY_POOL_SIZE
, 0);

660 
NV_DEFINE_REG_ENTRY_GLOBAL
(
__NV_KMALLOC_HEAP_MAX_SIZE
, 0);

661 
NV_DEFINE_REG_ENTRY_GLOBAL
(
__NV_VMALLOC_HEAP_MAX_SIZE
, 0);

662 
NV_DEFINE_REG_ENTRY_GLOBAL
(
__NV_IGNORE_MMIO_CHECK
, 0);

664 
NV_DEFINE_REG_STRING_ENTRY
(
__NV_REGISTRY_DWORDS
, 
NULL
);

665 
NV_DEFINE_REG_STRING_ENTRY
(
__NV_REGISTRY_DWORDS_PER_DEVICE
, 
NULL
);

666 
NV_DEFINE_REG_STRING_ENTRY
(
__NV_RM_MSG
, 
NULL
);

667 
NV_DEFINE_REG_STRING_ENTRY
(
__NV_GPU_BLACKLIST
, 
NULL
);

669 #ià!
defšed
(
NV_VMWARE
)

670 
NV_DEFINE_REG_STRING_ENTRY
(
__NV_ASSIGN_GPUS
, 
NULL
);

684 
nv_·rm_t
 
	gnv_·rms
[] = {

685 
NV_DEFINE_PARAMS_TABLE_ENTRY
(
__NV_MOBILE
),

686 
NV_DEFINE_PARAMS_TABLE_ENTRY
(
__NV_RESMAN_DEBUG_LEVEL
),

687 
NV_DEFINE_PARAMS_TABLE_ENTRY
(
__NV_RM_LOGON_RC
),

688 
NV_DEFINE_PARAMS_TABLE_ENTRY
(
__NV_MODIFY_DEVICE_FILES
),

689 
NV_DEFINE_PARAMS_TABLE_ENTRY
(
__NV_DEVICE_FILE_UID
),

690 
NV_DEFINE_PARAMS_TABLE_ENTRY
(
__NV_DEVICE_FILE_GID
),

691 
NV_DEFINE_PARAMS_TABLE_ENTRY
(
__NV_DEVICE_FILE_MODE
),

692 
NV_DEFINE_PARAMS_TABLE_ENTRY
(
__NV_UPDATE_MEMORY_TYPES
),

693 
NV_DEFINE_PARAMS_TABLE_ENTRY
(
__NV_INITIALIZE_SYSTEM_MEMORY_ALLOCATIONS
),

694 
NV_DEFINE_PARAMS_TABLE_ENTRY
(
__NV_USE_PAGE_ATTRIBUTE_TABLE
),

695 
NV_DEFINE_PARAMS_TABLE_ENTRY
(
__NV_ENABLE_MSI
),

696 
NV_DEFINE_PARAMS_TABLE_ENTRY
(
__NV_MAP_REGISTERS_EARLY
),

697 
NV_DEFINE_PARAMS_TABLE_ENTRY
(
__NV_REGISTER_FOR_ACPI_EVENTS
),

698 
NV_DEFINE_PARAMS_TABLE_ENTRY
(
__NV_CHECK_PCI_CONFIG_SPACE
),

699 
NV_DEFINE_PARAMS_TABLE_ENTRY
(
__NV_ENABLE_PCIE_GEN3
),

700 
NV_DEFINE_PARAMS_TABLE_ENTRY
(
__NV_MEMORY_POOL_SIZE
),

701 
NV_DEFINE_PARAMS_TABLE_ENTRY
(
__NV_KMALLOC_HEAP_MAX_SIZE
),

702 
NV_DEFINE_PARAMS_TABLE_ENTRY
(
__NV_VMALLOC_HEAP_MAX_SIZE
),

703 
NV_DEFINE_PARAMS_TABLE_ENTRY
(
__NV_IGNORE_MMIO_CHECK
),

704 
NV_DEFINE_PARAMS_TABLE_ENTRY
(
__NV_TCE_BYPASS_MODE
),

705 
NV_DEFINE_PARAMS_TABLE_ENTRY
(
__NV_USE_THREADED_INTERRUPTS
),

706 
NV_DEFINE_PARAMS_TABLE_ENTRY
(
__NV_ENABLE_STREAM_MEMOPS
),

707 
NV_DEFINE_PARAMS_TABLE_ENTRY
(
__NV_ENABLE_BACKLIGHT_HANDLER
),

708 
NV_DEFINE_PARAMS_TABLE_ENTRY
(
__NV_ENABLE_USER_NUMA_MANAGEMENT
),

709 {
NULL
, NULL, NULL}

712 #–ià
defšed
(
NVRM
)

714 
nv_·rm_t
 
nv_·rms
[];

	@src/nvidia/nv.h

12 #iâdeà
_NV_H_


13 
	#_NV_H_


	)

15 
	~<nvlim™s.h
>

16 
	~<nvty³s.h
>

17 
	~<nvCpuUuid.h
>

18 
	~<¡d¬g.h
>

19 
	~<nv-k”Ãl-š‹rçû-­i.h
>

21 #ià!
defšed
(
NV_MIN
)

22 
	#NV_MIN
(
_a
,
_b
è((_aè< (_bè? (_aè: (_b))

	)

24 #ià!
defšed
(
NV_MAX
)

25 
	#NV_MAX
(
_a
,
_b
è((_aè> (_bè? (_aè: (_b))

	)

29 
	#NV_MAJOR_DEVICE_NUMBER
 195

	)

31 
	#GPU_UUID_LEN
 (16)

	)

37 
	#GPU_UUID_ASCII_LEN
 (
GPU_UUID_LEN
 * 2 + 9)

	)

40 
NvU32
 
	mdomaš
;

41 
NvU8
 
	mbus
;

42 
NvU8
 
	m¦Ù
;

43 
NvU8
 
	mfunùiÚ
;

44 
NvU16
 
	mv’dÜ_id
;

45 
NvU16
 
	mdeviû_id
;

46 
NvBoÞ
 
	mv®id
;

47 } 
	tnv_pci_šfo_t
;

50 
	#NV_IOCTL_MAGIC
 'F'

	)

51 
	#NV_IOCTL_BASE
 200

	)

52 
	#NV_ESC_CARD_INFO
 (
NV_IOCTL_BASE
 + 0)

	)

53 
	#NV_ESC_ENV_INFO
 (
NV_IOCTL_BASE
 + 2)

	)

54 
	#NV_ESC_ALLOC_OS_EVENT
 (
NV_IOCTL_BASE
 + 6)

	)

55 
	#NV_ESC_FREE_OS_EVENT
 (
NV_IOCTL_BASE
 + 7)

	)

56 
	#NV_ESC_STATUS_CODE
 (
NV_IOCTL_BASE
 + 9)

	)

57 
	#NV_ESC_CHECK_VERSION_STR
 (
NV_IOCTL_BASE
 + 10)

	)

58 
	#NV_ESC_IOCTL_XFER_CMD
 (
NV_IOCTL_BASE
 + 11)

	)

59 
	#NV_ESC_ATTACH_GPUS_TO_FD
 (
NV_IOCTL_BASE
 + 12)

	)

60 
	#NV_ESC_QUERY_DEVICE_INTR
 (
NV_IOCTL_BASE
 + 13)

	)

61 
	#NV_ESC_SYS_PARAMS
 (
NV_IOCTL_BASE
 + 14)

	)

62 
	#NV_ESC_NUMA_INFO
 (
NV_IOCTL_BASE
 + 15)

	)

63 
	#NV_ESC_SET_NUMA_STATUS
 (
NV_IOCTL_BASE
 + 16)

	)

69 
	#NV_ABSOLUTE_MAX_IOCTL_SIZE
 16384

	)

76 
	#__NV_IOWR_ASSERT
(
ty³
è((Ñy³è<ð
NV_PLATFORM_MAX_IOCTL_SIZE
è? 1 : -1)

	)

77 
	#__NV_IOWR
(
Ä
, 
ty³
) ({ \

78 
	t__NV_IOWR_TYPE_SIZE_ASSERT
[
	`__NV_IOWR_ASSERT
(
ty³
)]; \

79 
	`_IOWR
(
NV_IOCTL_MAGIC
, (
Ä
), 
ty³
); \

80 })

	)

89 
	snv_ioùl_xãr


91 
NvU32
 
	mcmd
;

92 
NvU32
 
	msize
;

93 
NvP64
 
±r
 
NV_ALIGN_BYTES
(8);

94 } 
	tnv_ioùl_xãr_t
;

96 
	snv_ioùl_ÿrd_šfo


98 
NvU16
 
	mæags
;

99 
nv_pci_šfo_t
 
	mpci_šfo
;

100 
NvU32
 
	mgpu_id
;

101 
NvU16
 
	mš‹¼u±_lše
;

102 
NvU64
 
»g_add»ss
 
NV_ALIGN_BYTES
(8);

103 
NvU64
 
»g_size
 
NV_ALIGN_BYTES
(8);

104 
NvU64
 
fb_add»ss
 
NV_ALIGN_BYTES
(8);

105 
NvU64
 
fb_size
 
NV_ALIGN_BYTES
(8);

106 
NvU32
 
	mmšÜ_numb”
;

107 
NvU8
 
	mdev_Çme
[10];

108 } 
	tnv_ioùl_ÿrd_šfo_t
;

110 
	#NV_IOCTL_CARD_INFO_BUS_TYPE_PCI
 0x0001

	)

111 
	#NV_IOCTL_CARD_INFO_BUS_TYPE_AGP
 0x0002

	)

112 
	#NV_IOCTL_CARD_INFO_BUS_TYPE_PCI_EXPRESS
 0x0003

	)

114 
	#NV_IOCTL_CARD_INFO_FLAG_PRESENT
 0x0001

	)

116 
	#SIM_ENV_GPU
 0

	)

117 
	#SIM_ENV_IKOS
 1

	)

118 
	#SIM_ENV_CSIM
 2

	)

120 
	#NV_SLI_DISABLED
 0

	)

121 
	#NV_SLI_ENABLED
 1

	)

123 
	snv_ioùl_’v_šfo


125 
NvU32
 
	m·t_suµÜ‹d
;

126 } 
	tnv_ioùl_’v_šfo_t
;

136 
	snv_ioùl_rm_­i_Þd_v”siÚ


138 
NvU32
 
	mmagic
;

139 
NvU32
 
	mmajÜ
;

140 
NvU32
 
	mmšÜ
;

141 
NvU32
 
	m·tch
;

142 } 
	tnv_ioùl_rm_­i_Þd_v”siÚ_t
;

144 
	#NV_RM_API_OLD_VERSION_MAGIC_REQ
 0x0197çde

	)

145 
	#NV_RM_API_OLD_VERSION_MAGIC_REP
 0xb—d2929

	)

146 
	#NV_RM_API_OLD_VERSION_MAGIC_LAX_REQ
 (
NV_RM_API_OLD_VERSION_MAGIC_REQ
 ^ '1')

	)

147 
	#NV_RM_API_OLD_VERSION_MAGIC_OVERRIDE_REQ
 (
NV_RM_API_OLD_VERSION_MAGIC_REQ
 ^ '2')

	)

148 
	#NV_RM_API_OLD_VERSION_MAGIC_IGNORE
 0xffffffff

	)

151 
	mNV_CPU_TYPE_UNKNOWN
 = 0,

152 
	mNV_CPU_TYPE_ARM_A9


153 } 
	tnv_ýu_ty³_t
;

156 
	snv_ioùl_®loc_os_ev’t


158 
NvHªdË
 
	mhCl›Á
;

159 
NvHªdË
 
	mhDeviû
;

160 
NvHªdË
 
	mhOsEv’t
;

161 
NvU32
 
	mfd
;

162 
NvU32
 
	mStus
;

163 } 
	tnv_ioùl_®loc_os_ev’t_t
;

166 
	snv_ioùl_ä“_os_ev’t


168 
NvHªdË
 
	mhCl›Á
;

169 
NvHªdË
 
	mhDeviû
;

170 
NvU32
 
	mfd
;

171 
NvU32
 
	mStus
;

172 } 
	tnv_ioùl_ä“_os_ev’t_t
;

174 
	#NV_PCI_DEV_FMT
 "%04x:%02x:%02x.%x"

	)

175 
	#NV_PCI_DEV_FMT_ARGS
(
nv
èÒv)->
pci_šfo
.
domaš
, (nv)->pci_šfo.
bus
, \

176 (
nv
)->
pci_šfo
.
¦Ù
, (nv)->pci_šfo.
funùiÚ


	)

179 
	snv_ioùl_¡©us_code


181 
NvU32
 
	mdomaš
;

182 
NvU8
 
	mbus
;

183 
NvU8
 
	m¦Ù
;

184 
NvU32
 
	m¡©us
;

185 } 
	tnv_ioùl_¡©us_code_t
;

188 
	#NV_RM_API_VERSION_STRING_LENGTH
 64

	)

190 
	snv_ioùl_rm_­i_v”siÚ


192 
NvU32
 
	mcmd
;

193 
NvU32
 
	m»¶y
;

194 
	mv”siÚSŒšg
[
NV_RM_API_VERSION_STRING_LENGTH
];

195 } 
	tnv_ioùl_rm_­i_v”siÚ_t
;

197 
	#NV_RM_API_VERSION_CMD_STRICT
 0

	)

198 
	#NV_RM_API_VERSION_CMD_RELAXED
 '1'

	)

199 
	#NV_RM_API_VERSION_CMD_OVERRIDE
 '2'

	)

201 
	#NV_RM_API_VERSION_REPLY_UNRECOGNIZED
 0

	)

202 
	#NV_RM_API_VERSION_REPLY_RECOGNIZED
 1

	)

204 
	snv_ioùl_qu”y_deviû_šŒ


206 
NvU32
 
šŒStus
 
NV_ALIGN_BYTES
(4);

207 
NvU32
 
	m¡©us
;

208 } 
	tnv_ioùl_qu”y_deviû_šŒ
;

210 
	#NV_RM_DEVICE_INTR_ADDRESS
 0x100

	)

214 
	snv_ioùl_sys_·¿ms


216 
NvU64
 
memblock_size
 
NV_ALIGN_BYTES
(8);

217 } 
	tnv_ioùl_sys_·¿ms_t
;

219 
	#NV_IOCTL_NUMA_INFO_MAX_BLACKLIST_ADDRESSES
 64

	)

220 
	sbÏckli¡_add»s£s


222 
NvU64
 
	madd»s£s
[
NV_IOCTL_NUMA_INFO_MAX_BLACKLIST_ADDRESSES
] 
NV_ALIGN_BYTES
(8);

223 
NvU32
 
	mnumEÁr›s
;

224 } 
	tnv_bÏckli¡_add»s£s_t
;

228 
	snv_ioùl_numa_šfo


230 
NvS32
 
	mnid
;

231 
NvS32
 
	m¡©us
;

232 
NvU64
 
memblock_size
 
NV_ALIGN_BYTES
(8);

233 
NvU64
 
numa_mem_addr
 
NV_ALIGN_BYTES
(8);

234 
NvU64
 
numa_mem_size
 
NV_ALIGN_BYTES
(8);

235 
nv_bÏckli¡_add»s£s_t
 
bÏckli¡_add»s£s
 
NV_ALIGN_BYTES
(8);

236 } 
	tnv_ioùl_numa_šfo_t
;

239 
	snv_ioùl_£t_numa_¡©us


241 
NvS32
 
	m¡©us
;

242 } 
	tnv_ioùl_£t_numa_¡©us_t
;

244 
	#NV_IOCTL_NUMA_STATUS_DISABLED
 0

	)

245 
	#NV_IOCTL_NUMA_STATUS_OFFLINE
 1

	)

246 
	#NV_IOCTL_NUMA_STATUS_ONLINE_IN_PROGRESS
 2

	)

247 
	#NV_IOCTL_NUMA_STATUS_ONLINE
 3

	)

248 
	#NV_IOCTL_NUMA_STATUS_ONLINE_FAILED
 4

	)

249 
	#NV_IOCTL_NUMA_STATUS_OFFLINE_IN_PROGRESS
 5

	)

250 
	#NV_IOCTL_NUMA_STATUS_OFFLINE_FAILED
 6

	)

252 #ifdeà
NVRM


254 cÚ¡ *
pNVRM_ID
;

262 vÞ©ž
NvV8
 
	mReg008
[1];

263 vÞ©ž
NvV16
 
	mReg016
[1];

264 vÞ©ž
NvV32
 
	mReg032
[1];

265 } 
	tnv_hw»g_t
, * 
	tnv_phw»g_t
;

268 
	#NVRM_PCICFG_NUM_BARS
 6

	)

269 
	#NVRM_PCICFG_BAR_OFFSET
(
i
è(0x10 + (iè* 4)

	)

270 
	#NVRM_PCICFG_BAR_REQTYPE_MASK
 0x00000001

	)

271 
	#NVRM_PCICFG_BAR_REQTYPE_MEMORY
 0x00000000

	)

272 
	#NVRM_PCICFG_BAR_MEMTYPE_MASK
 0x00000006

	)

273 
	#NVRM_PCICFG_BAR_MEMTYPE_64BIT
 0x00000004

	)

274 
	#NVRM_PCICFG_BAR_ADDR_MASK
 0xfffffff0

	)

276 
	#NVRM_PCICFG_NUM_DWORDS
 16

	)

278 
	#NV_GPU_NUM_BARS
 3

	)

279 
	#NV_GPU_BAR_INDEX_REGS
 0

	)

280 
	#NV_GPU_BAR_INDEX_FB
 1

	)

281 
	#NV_GPU_BAR_INDEX_IMEM
 2

	)

285 
NvU64
 
	mýu_add»ss
;

286 
NvU64
 
	mbus_add»ss
;

287 
NvU64
 
	m¡¿µed_size
;

288 
NvU64
 
	msize
;

289 
NvU32
 
	moff£t
;

290 
NvU32
 *
	mm­
;

291 
nv_phw»g_t
 
	mm­_u
;

292 } 
	tnv_­”tu»_t
;

296 *
	mnode
;

297 *
	mÇme
;

298 
NvU32
 *
	md©a
;

299 } 
	tnv_·rm_t
;

301 
	#NV_RM_PAGE_SHIFT
 12

	)

302 
	#NV_RM_PAGE_SIZE
 (1 << 
NV_RM_PAGE_SHIFT
)

	)

303 
	#NV_RM_PAGE_MASK
 (
NV_RM_PAGE_SIZE
 - 1)

	)

305 
	#NV_RM_TO_OS_PAGE_SHIFT
 (
OS_PAGE_SHIFT
 - 
NV_RM_PAGE_SHIFT
)

	)

306 
	#NV_RM_PAGES_PER_OS_PAGE
 (1U << 
NV_RM_TO_OS_PAGE_SHIFT
)

	)

307 
	#NV_RM_PAGES_TO_OS_PAGES
(
couÁ
) \

308 ((((
NvUPŒ
)(
couÁ
)è>> 
NV_RM_TO_OS_PAGE_SHIFT
) + \

309 ((((
couÁ
è& ((1 << 
NV_RM_TO_OS_PAGE_SHIFT
è- 1)è!ð0è? 1 : 0))

	)

311 #ià
defšed
(
NVCPU_X86_64
)

312 
	#NV_STACK_SIZE
 (
NV_RM_PAGE_SIZE
 * 3)

	)

314 
	#NV_STACK_SIZE
 (
NV_RM_PAGE_SIZE
 * 2)

	)

317 
	snvidŸ_¡ack_s


319 
NvU32
 
	msize
;

320 *
	mtÝ
;

321 
NvU8
 
	m¡ack
[
NV_STACK_SIZE
-16] 
__©Œibu‹__
 ((
®igÃd
(16)));

322 } 
	tnvidŸ_¡ack_t
;

327 
nvidŸ_¡ack_t
 
	tnv_¡ack_t
;

334 
	snv_ev’t_s


336 
NvHªdË
 
	mhP¬’t
;

337 
NvHªdË
 
	mhObjeù
;

338 
NvU32
 
	mšdex
;

339 *
	mfže
;

340 
NvHªdË
 
	mhªdË
;

341 
NvU32
 
	mfd
;

342 
nv_ev’t_s
 *
	mÃxt
;

343 } 
	tnv_ev’t_t
;

345 
	snv_k”n_m­pšg_s


347 *
	maddr
;

348 
NvU64
 
	msize
;

349 
NvU32
 
	mmodeFÏg
;

350 
nv_k”n_m­pšg_s
 *
	mÃxt
;

351 } 
	tnv_k”n_m­pšg_t
;

353 
	snv_u£rm­_acûss_·¿ms_s


355 
NvU64
 
	maddr
;

356 
NvU64
 
	msize
;

357 
NvU64
 
	moff£t
;

358 
NvU64
 *
	m·ge_¬¿y
;

359 
NvU64
 
	mnum_·ges
;

360 
NvU64
 
	mmm­_¡¬t
;

361 
NvU64
 
	mmm­_size
;

362 
NvU64
 
	macûss_¡¬t
;

363 
NvU64
 
	macûss_size
;

364 
NvU64
 
	m»m­_´Ù_exŒa
;

365 
NvBoÞ
 
	mcÚtig
;

366 } 
	tnv_u£rm­_acûss_·¿ms_t
;

371 
	snv_®loc_m­pšg_cÚ‹xt_s
 {

372 *
	m®loc
;

373 
NvU64
 
	m·ge_šdex
;

374 
NvU64
 *
	m·ge_¬¿y
;

375 
NvU64
 
	mnum_·ges
;

376 
NvU64
 
	mmm­_¡¬t
;

377 
NvU64
 
	mmm­_size
;

378 
NvU64
 
	macûss_¡¬t
;

379 
NvU64
 
	macûss_size
;

380 
NvU64
 
	m»m­_´Ù_exŒa
;

381 
NvU32
 
	m´Ù
;

382 
NvBoÞ
 
	mv®id
;

383 } 
	tnv_®loc_m­pšg_cÚ‹xt_t
;

391 *
	m´iv
;

392 *
	mos_¡©e
;

394 
	mæags
;

397 
nv_pci_šfo_t
 
	mpci_šfo
;

398 
NvU16
 
	msubsy¡em_id
;

399 
NvU16
 
	msubsy¡em_v’dÜ
;

400 
NvU32
 
	mgpu_id
;

401 
NvU32
 
	miova¥aû_id
;

404 
NvBoÞ
 
	mv®id
;

405 
NvU8
 
	muuid
[
GPU_UUID_LEN
];

406 } 
	mnv_uuid_ÿche
;

407 *
	mhªdË
;

409 
NvU32
 
	mpci_cfg_¥aû
[
NVRM_PCICFG_NUM_DWORDS
];

412 
nv_­”tu»_t
 
	mb¬s
[
NV_GPU_NUM_BARS
];

413 
nv_­”tu»_t
 *
	m»gs
;

414 
nv_­”tu»_t
 *
	mfb
, 
	mud
;

416 
NvU32
 
	mš‹¼u±_lše
;

418 
NvBoÞ
 
	m´im¬y_vga
;

420 
NvU32
 
	msim_’v
;

422 
NvU32
 
	mrc_tim”_’abËd
;

425 
nv_ev’t_t
 *
	mev’t_li¡
;

428 *
	mev’t_¥šlock
;

430 
nv_k”n_m­pšg_t
 *
	mk”n_m­pšgs
;

433 
NvU64
 
	mdma_add»s§bË_¡¬t
;

434 
NvU64
 
	mdma_add»s§bË_lim™
;

436 
NvBoÞ
 
	mnvlšk_sysmem_lšks_’abËd
;

437 } 
	tnv_¡©e_t
;

440 
gpuSessiÚ
 *
	tnvgpuSessiÚHªdË_t
;

441 
gpuAdd»ssS·û
 *
	tnvgpuAdd»ssS·ûHªdË_t
;

442 
gpuChªÃl
 *
	tnvgpuChªÃlHªdË_t
;

443 
gpuObjeù
 *
	tnvgpuObjeùHªdË_t
;

444 
UvmGpuChªÃlPoš‹rs_g
 *
	tnvgpuChªÃlInfo_t
;

445 
UvmGpuChªÃlAÎocP¬ams_g
 
	tnvgpuChªÃlAÎocP¬ams_t
;

446 
UvmGpuC­s_g
 *
	tnvgpuC­s_t
;

447 
UvmGpuCÝyEngšesC­s_g
 *
	tnvgpuCesC­s_t
;

448 
UvmGpuAdd»ssS·ûInfo_g
 *
	tnvgpuAdd»ssS·ûInfo_t
;

449 
UvmGpuAÎocInfo_g
 *
	tnvgpuAÎocInfo_t
;

450 
UvmGpuP2PC­sP¬ams_g
 *
	tnvgpuP2PC­sP¬ams_t
;

451 
gpuVaAÎocInfo
 *
	tnvgpuVaAÎocInfo_t
;

452 
gpuM­Info
 *
	tnvgpuM­Info_t
;

453 
UvmGpuFbInfo_g
 *
	tnvgpuFbInfo_t
;

454 
UvmGpuFauÉInfo_g
 *
	tnvgpuFauÉInfo_t
;

455 
UvmGpuAcûssCÁrInfo_g
 *
	tnvgpuAcûssCÁrInfo_t
;

456 
UvmGpuAcûssCÁrCÚfig_g
 *
	tnvgpuAcûssCÁrCÚfig_t
;

457 
UvmGpuInfo_g
 *
	tnvgpuInfo_t
;

458 
gpuPmaAÎoÿtiÚO±iÚs
 *
	tnvgpuPmaAÎoÿtiÚO±iÚs_t
;

459 
UvmGpuMemÜyInfo_g
 *
	tnvgpuMemÜyInfo_t
;

460 
UvmGpuEx‹º®M­pšgInfo_g
 *
	tnvgpuEx‹º®M­pšgInfo_t
;

461 
UvmGpuChªÃlResourûInfo_g
 *
	tnvgpuChªÃlResourûInfo_t
;

462 
UvmGpuChªÃlIn¡ªûInfo_g
 *
	tnvgpuChªÃlIn¡ªûInfo_t
;

463 
UvmGpuChªÃlResourûBšdP¬ams_g
 *
	tnvgpuChªÃlResourûBšdP¬ams_t
;

464 
	$NV_STATUS
 (*
	tnvPmaEviùPagesC®lback
)(*, 
	tNvU32
, 
	tNvU64
 *, NvU32, NvU64, NvU64);

465 
	$NV_STATUS
 (*
	tnvPmaEviùRªgeC®lback
)(*, 
	tNvU64
, NvU64);

471 
	#NV_FLAG_OPEN
 0x0001

	)

472 
	#NV_FLAG_BLACKLIST
 0x0002

	)

473 
	#NV_FLAG_CONTROL
 0x0004

	)

474 
	#NV_FLAG_MAP_REGS_EARLY
 0x0008

	)

475 
	#NV_FLAG_USE_BAR0_CFG
 0x0010

	)

476 
	#NV_FLAG_USES_MSI
 0x0020

	)

477 
	#NV_FLAG_USES_MSIX
 0x0040

	)

478 
	#NV_FLAG_PASSTHRU
 0x0080

	)

479 
	#NV_FLAG_GVI_IN_SUSPEND
 0x0100

	)

480 
	#NV_FLAG_GVI
 0x0200

	)

481 
	#NV_FLAG_GVI_INTR_EN
 0x0400

	)

482 
	#NV_FLAG_PERSISTENT_SW_STATE
 0x0800

	)

483 
	#NV_FLAG_IN_RECOVERY
 0x1000

	)

484 
	#NV_FLAG_SKIP_CFG_CHECK
 0x2000

	)

485 
	#NV_FLAG_UNBIND_LOCK
 0x4000

	)

487 
	#NV_FLAG_IN_SURPRISE_REMOVAL
 0x8000

	)

489 
	#NV_PM_ACPI_HIBERNATE
 0x0001

	)

490 
	#NV_PM_ACPI_STANDBY
 0x0002

	)

491 
	#NV_PM_ACPI_RESUME
 0x0003

	)

493 
	#NV_PRIMARY_VGA
(
nv
è(Òv)->
´im¬y_vga
)

	)

495 
	#NV_IS_GVI_DEVICE
(
nv
è(Òv)->
æags
 & 
NV_FLAG_GVI
)

	)

496 
	#NV_IS_CTL_DEVICE
(
nv
è(Òv)->
æags
 & 
NV_FLAG_CONTROL
)

	)

498 
	#NV_IS_DEVICE_IN_SURPRISE_REMOVAL
(
nv
) \

499 (((
nv
)->
æags
 & 
NV_FLAG_IN_SURPRISE_REMOVAL
è!ð0)

	)

509 
	#ACPI_DISPLAY_DEVICE_CHANGE_EVENT
 0x80

	)

510 
	#NVIF_NOTIFY_DISPLAY_DETECT
 0xCB

	)

511 
	#NVIF_DISPLAY_DEVICE_CHANGE_EVENT
 
NVIF_NOTIFY_DISPLAY_DETECT


	)

517 
	#NV_SYSTEM_ACPI_DISPLAY_SWITCH_EVENT
 0x8001

	)

518 
	#NV_SYSTEM_ACPI_BATTERY_POWER_EVENT
 0x8002

	)

519 
	#NV_SYSTEM_ACPI_DOCK_EVENT
 0x8003

	)

524 
	#NV_HOTKEY_STATUS_DISPLAY_ENABLE_LCD
 0x01

	)

525 
	#NV_HOTKEY_STATUS_DISPLAY_ENABLE_CRT
 0x02

	)

526 
	#NV_HOTKEY_STATUS_DISPLAY_ENABLE_TV
 0x04

	)

527 
	#NV_HOTKEY_STATUS_DISPLAY_ENABLE_DFP
 0x08

	)

533 
	#NV_SYSTEM_ACPI_EVENT_VALUE_DISPLAY_SWITCH_DEFAULT
 0

	)

534 
	#NV_SYSTEM_ACPI_EVENT_VALUE_POWER_EVENT_AC
 0

	)

535 
	#NV_SYSTEM_ACPI_EVENT_VALUE_POWER_EVENT_BATTERY
 1

	)

536 
	#NV_SYSTEM_ACPI_EVENT_VALUE_DOCK_EVENT_UNDOCKED
 0

	)

537 
	#NV_SYSTEM_ACPI_EVENT_VALUE_DOCK_EVENT_DOCKED
 1

	)

539 
	#NV_ACPI_NVIF_HANDLE_PRESENT
 0x01

	)

540 
	#NV_ACPI_DSM_HANDLE_PRESENT
 0x02

	)

541 
	#NV_ACPI_WMMX_HANDLE_PRESENT
 0x04

	)

542 
	#NV_ACPI_MXMI_HANDLE_PRESENT
 0x08

	)

543 
	#NV_ACPI_MXMS_HANDLE_PRESENT
 0x10

	)

545 
	#NV_EVAL_ACPI_METHOD_NVIF
 0x01

	)

546 
	#NV_EVAL_ACPI_METHOD_WMMX
 0x02

	)

547 
	#NV_EVAL_ACPI_METHOD_MXMI
 0x03

	)

548 
	#NV_EVAL_ACPI_METHOD_MXMS
 0x04

	)

550 
	#NV_I2C_CMD_READ
 1

	)

551 
	#NV_I2C_CMD_WRITE
 2

	)

552 
	#NV_I2C_CMD_SMBUS_READ
 3

	)

553 
	#NV_I2C_CMD_SMBUS_WRITE
 4

	)

554 
	#NV_I2C_CMD_SMBUS_QUICK_WRITE
 5

	)

555 
	#NV_I2C_CMD_SMBUS_QUICK_READ
 6

	)

556 
	#NV_I2C_CMD_SMBUS_BLOCK_READ
 7

	)

557 
	#NV_I2C_CMD_SMBUS_BLOCK_WRITE
 8

	)

560 
	#NV_ALLOC_PAGES_NODE_NONE
 0x0

	)

561 
	#NV_ALLOC_PAGES_NODE_SCRUB_ON_ALLOC
 0x1

	)

562 
	#NV_ALLOC_PAGES_NODE_FORCE_ALLOC
 0x2

	)

567 
	#NV_SET_NV_STATE
(
pgpu
,
p
è(Õgpu)->
pOsHwInfo
 = (p))

	)

568 
	#NV_GET_NV_STATE
(
pGpu
) \

569 (
nv_¡©e_t
 *)((
pGpu
è? (pGpu)->
pOsHwInfo
 : 
NULL
)

	)

571 
	#IS_DMA_ADDRESSABLE
(
nv
, 
off£t
) \

572 (((
off£t
è>ð(
nv
)->
dma_add»s§bË_¡¬t
) && \

573 ((
off£t
è<ð(
nv
)->
dma_add»s§bË_lim™
))

	)

575 
	#IS_REG_OFFSET
(
nv
, 
off£t
, 
Ëngth
) \

576 (((
off£t
è>ð(
nv
)->
»gs
->
ýu_add»ss
) && \

577 (((
off£t
è+ ((
Ëngth
)-1)) <= \

578 (
nv
)->
»gs
->
ýu_add»ss
 + (Òv)->»gs->
size
-1)))

	)

580 
	#IS_FB_OFFSET
(
nv
, 
off£t
, 
Ëngth
) \

581 (((
off£t
è>ð(
nv
)->
fb
->
ýu_add»ss
) && \

582 (((
off£t
è+ ((
Ëngth
)-1)è<ð(
nv
)->
fb
->
ýu_add»ss
 + (Òv)->fb->
size
-1)))

	)

584 
	#IS_UD_OFFSET
(
nv
, 
off£t
, 
Ëngth
) \

585 (((
nv
)->
ud
.
ýu_add»ss
 !ð0è&& (Òv)->ud.
size
 != 0) && \

586 ((
off£t
è>ð(
nv
)->
ud
.
ýu_add»ss
) && \

587 (((
off£t
è+ ((
Ëngth
)-1)è<ð(
nv
)->
ud
.
ýu_add»ss
 + (Òv)->ud.
size
-1)))

	)

589 
	#IS_IMEM_OFFSET
(
nv
, 
off£t
, 
Ëngth
) \

590 (((
nv
)->
b¬s
[
NV_GPU_BAR_INDEX_IMEM
].
ýu_add»ss
 != 0) && \

591 ((
nv
)->
b¬s
[
NV_GPU_BAR_INDEX_IMEM
].
size
 != 0) && \

592 ((
off£t
è>ð(
nv
)->
b¬s
[
NV_GPU_BAR_INDEX_IMEM
].
ýu_add»ss
) && \

593 (((
off£t
è+ ((
Ëngth
) - 1)) <= \

594 (
nv
)->
b¬s
[
NV_GPU_BAR_INDEX_IMEM
].
ýu_add»ss
 + \

595 ((
nv
)->
b¬s
[
NV_GPU_BAR_INDEX_IMEM
].
size
 - 1)))

	)

597 
	#NV_RM_MAX_MSIX_LINES
 8

	)

601 
	#NV_DEVICE_NAME_LENGTH
 40

	)

603 
	#NV_MAX_ISR_DELAY_US
 20000

	)

604 
	#NV_MAX_ISR_DELAY_MS
 (
NV_MAX_ISR_DELAY_US
 / 1000)

	)

606 
	#NV_TIMERCMP
(
a
, 
b
, 
CMP
) \

607 (((
a
)->
tv_£c
 =ð(
b
)->tv_sec) ? \

608 ((
a
)->
tv_u£c
 
	`CMP
 (
b
)->tv_u£cè: (×)->
tv_£c
 CMP (b)->tv_£c))

	)

610 
	#NV_TIMERADD
(
a
, 
b
, 
»suÉ
) \

612 (
»suÉ
)->
tv_£c
 = (
a
)->tv_£ø+ (
b
)->tv_sec; \

613 (
»suÉ
)->
tv_u£c
 = (
a
)->tv_u£ø+ (
b
)->tv_usec; \

614 ià((
»suÉ
)->
tv_u£c
 >= 1000000) \

616 ++(
»suÉ
)->
tv_£c
; \

617 (
»suÉ
)->
tv_u£c
 -= 1000000; \

619 
	}

	)
}

621 
	#NV_TIMERSUB
(
a
, 
b
, 
»suÉ
) \

623 (
»suÉ
)->
tv_£c
 = (
a
)->tv_£ø- (
b
)->tv_sec; \

624 (
»suÉ
)->
tv_u£c
 = (
a
)->tv_u£ø- (
b
)->tv_usec; \

625 ià((
»suÉ
)->
tv_u£c
 < 0) \

627 --(
»suÉ
)->
tv_£c
; \

628 (
»suÉ
)->
tv_u£c
 += 1000000; \

630 }

	)

632 
	#NV_TIMEVAL_TO_US
(
tv
è((
NvU64
)Ñv).
tv_£c
 * 1000000 + (tv).
tv_u£c
)

	)

634 #iâdeà
NV_ALIGN_UP


635 
	#NV_ALIGN_UP
(
v
,
g
è(((vè+ ((gè- 1)è& ~((gè- 1))

	)

637 #iâdeà
NV_ALIGN_DOWN


638 
	#NV_ALIGN_DOWN
(
v
,
g
è((vè& ~((gè- 1))

	)

645 #iâdeà
NVWATCH


655 * 
NV_API_CALL
 
nv_®loc_k”Ãl_m­pšg
 (
nv_¡©e_t
 *, *, 
NvU64
, 
NvU32
, NvU64, **);

656 
NV_STATUS
 
NV_API_CALL
 
nv_ä“_k”Ãl_m­pšg
 (
nv_¡©e_t
 *, *, *, *);

657 
NV_STATUS
 
NV_API_CALL
 
nv_®loc_u£r_m­pšg
 (
nv_¡©e_t
 *, *, 
NvU64
, 
NvU32
, NvU64, NvU32, NvU64 *, **);

658 
NV_STATUS
 
NV_API_CALL
 
nv_ä“_u£r_m­pšg
 (
nv_¡©e_t
 *, *, 
NvU64
, *);

659 
NV_STATUS
 
NV_API_CALL
 
nv_add_m­pšg_cÚ‹xt_to_fže
 (
nv_¡©e_t
 *, 
nv_u£rm­_acûss_·¿ms_t
*, 
NvU32
, *, 
NvU64
, NvU32);

661 
NvU64
 
NV_API_CALL
 
nv_g‘_k”n_phys_add»ss
 (NvU64);

662 
NvU64
 
NV_API_CALL
 
nv_g‘_u£r_phys_add»ss
 (NvU64);

663 
nv_¡©e_t
* 
NV_API_CALL
 
nv_g‘_ad­‹r_¡©e
 (
NvU32
, 
NvU8
, NvU8);

664 
nv_¡©e_t
* 
NV_API_CALL
 
nv_g‘_ùl_¡©e
 ();

666 
NV_API_CALL
 
nv_£t_dma_add»ss_size
 (
nv_¡©e_t
 *, 
NvU32
 );

668 
NV_STATUS
 
NV_API_CALL
 
nv_®Ÿs_·ges
 (
nv_¡©e_t
 *, 
NvU32
, NvU32, NvU32, 
NvU64
, NvU64 *, **);

669 
NV_STATUS
 
NV_API_CALL
 
nv_®loc_·ges
 (
nv_¡©e_t
 *, 
NvU32
, 
NvBoÞ
, NvU32, NvBoÞ, 
NvU64
 *, **);

670 
NV_STATUS
 
NV_API_CALL
 
nv_ä“_·ges
 (
nv_¡©e_t
 *, 
NvU32
, 
NvBoÞ
, NvU32, *);

672 
NV_STATUS
 
NV_API_CALL
 
nv_»gi¡”_u£r_·ges
 (
nv_¡©e_t
 *, 
NvU64
, NvU64 *, **);

673 
NV_STATUS
 
NV_API_CALL
 
nv_uÄegi¡”_u£r_·ges
 (
nv_¡©e_t
 *, 
NvU64
, **);

675 
NV_STATUS
 
NV_API_CALL
 
nv_»gi¡”_³”_io_mem
 (
nv_¡©e_t
 *, 
NvU64
 *, NvU64, **);

676 
NV_API_CALL
 
nv_uÄegi¡”_³”_io_mem
(
nv_¡©e_t
 *, *);

678 
NV_STATUS
 
NV_API_CALL
 
nv_»gi¡”_phys_·ges
 (
nv_¡©e_t
 *, 
NvU64
 *, NvU64, **);

679 
NV_API_CALL
 
nv_uÄegi¡”_phys_·ges
 (
nv_¡©e_t
 *, *);

681 
NV_STATUS
 
NV_API_CALL
 
nv_dma_m­_·ges
 (
nv_¡©e_t
 *, 
NvU64
, NvU64 *, 
NvBoÞ
, **);

682 
NV_STATUS
 
NV_API_CALL
 
nv_dma_unm­_·ges
 (
nv_¡©e_t
 *, 
NvU64
, NvU64 *, **);

684 
NV_STATUS
 
NV_API_CALL
 
nv_dma_m­_®loc
 (
nv_¡©e_t
 *, 
NvU64
, NvU64 *, 
NvBoÞ
, **);

685 
NV_STATUS
 
NV_API_CALL
 
nv_dma_unm­_®loc
 (
nv_¡©e_t
 *, 
NvU64
, NvU64 *, **);

687 
NV_STATUS
 
NV_API_CALL
 
nv_dma_m­_³”
 (
nv_¡©e_t
 *,‚v_¡©e_ˆ*, 
NvU8
, 
NvU64
, NvU64 *);

688 
NV_API_CALL
 
nv_dma_unm­_³”
 (
nv_¡©e_t
 *, 
NvU64
, NvU64);

690 
NV_STATUS
 
NV_API_CALL
 
nv_dma_m­_mmio
 (
nv_¡©e_t
 *, 
NvU64
, NvU64 *);

691 
NV_API_CALL
 
nv_dma_unm­_mmio
 (
nv_¡©e_t
 *, 
NvU64
, NvU64);

693 
NvS32
 
NV_API_CALL
 
nv_¡¬t_rc_tim”
 (
nv_¡©e_t
 *);

694 
NvS32
 
NV_API_CALL
 
nv_¡Ý_rc_tim”
 (
nv_¡©e_t
 *);

696 
NV_API_CALL
 
nv_po¡_ev’t
 (
nv_¡©e_t
 *, 
nv_ev’t_t
 *, 
NvHªdË
, 
NvU32
, 
NvBoÞ
);

697 
NvS32
 
NV_API_CALL
 
nv_g‘_ev’t
 (
nv_¡©e_t
 *, *, 
nv_ev’t_t
 *, 
NvU32
 *);

699 
NV_API_CALL
 
nv_v”ify_pci_cÚfig
 (
nv_¡©e_t
 *, 
BOOL
);

701 * 
NV_API_CALL
 
nv_i2c_add_ad­‹r
 (
nv_¡©e_t
 *, 
NvU32
);

702 
BOOL
 
NV_API_CALL
 
nv_i2c_d–_ad­‹r
 (
nv_¡©e_t
 *, *);

704 
NV_API_CALL
 
nv_aýi_m‘hods_š™
 (
NvU32
 *);

705 
NV_API_CALL
 
nv_aýi_m‘hods_unš™
 ();

707 
NV_STATUS
 
NV_API_CALL
 
nv_aýi_m‘hod
 (
NvU32
, NvU32, NvU32, *, 
NvU16
, NvU32 *, *, NvU16 *);

708 
NV_STATUS
 
NV_API_CALL
 
nv_aýi_dsm_m‘hod
 (
nv_¡©e_t
 *, 
NvU8
 *, 
NvU32
, NvU32, *, 
NvU16
, NvU32 *, *, NvU16 *);

709 
NV_STATUS
 
NV_API_CALL
 
nv_aýi_ddc_m‘hod
 (
nv_¡©e_t
 *, *, 
NvU32
 *);

710 
NV_STATUS
 
NV_API_CALL
 
nv_aýi_dod_m‘hod
 (
nv_¡©e_t
 *, 
NvU32
 *, NvU32 *);

711 
NV_STATUS
 
NV_API_CALL
 
nv_aýi_rom_m‘hod
 (
nv_¡©e_t
 *, 
NvU32
 *, NvU32 *);

712 
NV_STATUS
 
NV_API_CALL
 
nv_log_”rÜ
 (
nv_¡©e_t
 *, 
NvU32
, cÚ¡ *, 
va_li¡
);

714 
NvU64
 
NV_API_CALL
 
nv_g‘_dma_¡¬t_add»ss
 (
nv_¡©e_t
 *);

715 
NV_STATUS
 
NV_API_CALL
 
nv_£t_´im¬y_vga_¡©us
(
nv_¡©e_t
 *);

716 
NV_STATUS
 
NV_API_CALL
 
nv_pci_Œigg”_»cov”y
 (
nv_¡©e_t
 *);

717 
NvBoÞ
 
NV_API_CALL
 
nv_»quœes_dma_»m­
 (
nv_¡©e_t
 *);

719 #ià
defšed
(
NVCPU_X86
è|| defšed(
NVCPU_X86_64
)

720 
NvBoÞ
 
NV_API_CALL
 
nv_is_vœtu®ized_sy¡em
 (
nv_¡ack_t
 *);

723 
NV_STATUS
 
NV_API_CALL
 
nv_expÜt_rm_objeù_to_fd
 (
NvHªdË
, 
NvS32
);

724 
NV_STATUS
 
NV_API_CALL
 
nv_impÜt_rm_objeù_äom_fd
 (
NvS32
, 
NvHªdË
 *);

726 
NV_STATUS
 
NV_API_CALL
 
nv_g‘_deviû_memÜy_cÚfig
(
nv_¡©e_t
 *, 
NvU32
 *, NvU32 *, NvU32 *, NvU32 *, 
NvS32
 *);

728 
NV_STATUS
 
NV_API_CALL
 
nv_g‘_ibmÅu_g’»g_šfo
(
nv_¡©e_t
 *, 
NvU64
 *, NvU64 *, **);

729 
NV_STATUS
 
NV_API_CALL
 
nv_g‘_ibmÅu_»Ïxed_Üd”šg_mode
(
nv_¡©e_t
 *
nv
, 
NvBoÞ
 *
mode
);

731 
NV_API_CALL
 
nv_wa™_fÜ_ibmÅu_rsync
(
nv_¡©e_t
 *
nv
);

733 #ià
defšed
(
NVCPU_PPC64LE
)

734 
NV_STATUS
 
NV_API_CALL
 
nv_g‘_nvlšk_lše_¿‹
 (
nv_¡©e_t
 *, 
NvU32
 *);

737 
NV_API_CALL
 
nv_»gi¡”_backlight
 (
nv_¡©e_t
 *, 
NvU32
, NvU32);

738 
NV_API_CALL
 
nv_uÄegi¡”_backlight
 (
nv_¡©e_t
 *);

747 
BOOL
 
NV_API_CALL
 
rm_š™_rm
 (
nvidŸ_¡ack_t
 *);

748 
BOOL
 
NV_API_CALL
 
rm_shutdown_rm
 (
nvidŸ_¡ack_t
 *);

749 
BOOL
 
NV_API_CALL
 
rm_š™_´iv©e_¡©e
 (
nvidŸ_¡ack_t
 *, 
nv_¡©e_t
 *);

750 
BOOL
 
NV_API_CALL
 
rm_ä“_´iv©e_¡©e
 (
nvidŸ_¡ack_t
 *, 
nv_¡©e_t
 *);

751 
BOOL
 
NV_API_CALL
 
rm_š™_ad­‹r
 (
nvidŸ_¡ack_t
 *, 
nv_¡©e_t
 *);

752 
BOOL
 
NV_API_CALL
 
rm_di§bË_ad­‹r
 (
nvidŸ_¡ack_t
 *, 
nv_¡©e_t
 *);

753 
BOOL
 
NV_API_CALL
 
rm_shutdown_ad­‹r
 (
nvidŸ_¡ack_t
 *, 
nv_¡©e_t
 *);

754 
NV_STATUS
 
NV_API_CALL
 
rm_bÏckli¡_ad­‹r
 (
nvidŸ_¡ack_t
 *, 
nv_¡©e_t
 *);

755 
NV_STATUS
 
NV_API_CALL
 
rm_v®id©e_mm­_»que¡
 (
nvidŸ_¡ack_t
 *, 
nv_¡©e_t
 *, *, 
NvU64
, NvU64, 
NvU32
 *, **, NvU64 *);

756 
NV_STATUS
 
NV_API_CALL
 
rm_acquœe_­i_lock
 (
nvidŸ_¡ack_t
 *);

757 
NV_STATUS
 
NV_API_CALL
 
rm_»Ëa£_­i_lock
 (
nvidŸ_¡ack_t
 *);

758 
NV_STATUS
 
NV_API_CALL
 
rm_ioùl
 (
nvidŸ_¡ack_t
 *, 
nv_¡©e_t
 *, *, 
NvU32
, *, NvU32);

759 
BOOL
 
NV_API_CALL
 
rm_i¤
 (
nvidŸ_¡ack_t
 *, 
nv_¡©e_t
 *, 
NvU32
 *);

760 
NV_API_CALL
 
rm_i¤_bh
 (
nvidŸ_¡ack_t
 *, 
nv_¡©e_t
 *);

761 
NV_API_CALL
 
rm_i¤_bh_uÆocked
 (
nvidŸ_¡ack_t
 *, 
nv_¡©e_t
 *);

762 
NV_STATUS
 
NV_API_CALL
 
rm_pow”_mªagem’t
 (
nvidŸ_¡ack_t
 *, 
nv_¡©e_t
 *, 
NvU32
, NvU32);

763 
NV_STATUS
 
NV_API_CALL
 
rm_§ve_low_»s_mode
 (
nvidŸ_¡ack_t
 *, 
nv_¡©e_t
 *);

764 
NV_STATUS
 
NV_API_CALL
 
rm_g‘_vbios_v”siÚ
 (
nvidŸ_¡ack_t
 *, 
nv_¡©e_t
 *, 
NvU32
 *, NvU32 *, NvU32 *, NvU32 *, NvU32 *);

765 
NV_STATUS
 
NV_API_CALL
 
rm_g‘_gpu_uuid
 (
nvidŸ_¡ack_t
 *, 
nv_¡©e_t
 *, 
NvU8
 **, 
NvU32
 *);

766 
NV_STATUS
 
NV_API_CALL
 
rm_g‘_gpu_uuid_¿w
 (
nvidŸ_¡ack_t
 *, 
nv_¡©e_t
 *, 
NvU8
 **, 
NvU32
 *);

767 
NV_API_CALL
 
rm_ä“_unu£d_þ›Ás
 (
nvidŸ_¡ack_t
 *, 
nv_¡©e_t
 *, *);

768 
NV_API_CALL
 
rm_unbšd_lock
 (
nvidŸ_¡ack_t
 *, 
nv_¡©e_t
 *);

769 
NV_API_CALL
 
rm_ä“_expÜ‹d_objeù
 (
nvidŸ_¡ack_t
 *, 
NvHªdË
);

770 
NV_STATUS
 
NV_API_CALL
 
rm_»ad_»gi¡ry_dwÜd
 (
nvidŸ_¡ack_t
 *, 
nv_¡©e_t
 *, 
NvU8
 *, NvU8 *, 
NvU32
 *);

771 
NV_STATUS
 
NV_API_CALL
 
rm_wr™e_»gi¡ry_dwÜd
 (
nvidŸ_¡ack_t
 *, 
nv_¡©e_t
 *, 
NvU8
 *, NvU8 *, 
NvU32
);

772 
NV_STATUS
 
NV_API_CALL
 
rm_»ad_»gi¡ry_bš¬y
 (
nvidŸ_¡ack_t
 *, 
nv_¡©e_t
 *, 
NvU8
 *, NvU8 *, NvU8 *, 
NvU32
 *);

773 
NV_STATUS
 
NV_API_CALL
 
rm_wr™e_»gi¡ry_bš¬y
 (
nvidŸ_¡ack_t
 *, 
nv_¡©e_t
 *, 
NvU8
 *, NvU8 *, NvU8 *, 
NvU32
);

774 
NV_STATUS
 
NV_API_CALL
 
rm_wr™e_»gi¡ry_¡ršg
 (
nvidŸ_¡ack_t
 *, 
nv_¡©e_t
 *, 
NvU8
 *, NvU8 *, cÚ¡ *, 
NvU32
);

775 
NV_API_CALL
 
rm_·r£_ÝtiÚ_¡ršg
 (
nvidŸ_¡ack_t
 *, const *);

776 * 
NV_API_CALL
 
rm_»move_¥aûs
 (const *);

777 * 
NV_API_CALL
 
rm_¡ršg_tok’
 (**, const );

779 
NV_STATUS
 
NV_API_CALL
 
rm_run_rc_ÿÎback
 (
nvidŸ_¡ack_t
 *, 
nv_¡©e_t
 *);

780 
NV_API_CALL
 
rm_execu‹_wÜk_™em
 (
nvidŸ_¡ack_t
 *, *);

781 
NV_STATUS
 
NV_API_CALL
 
rm_g‘_deviû_Çme
 (
nvidŸ_¡ack_t
 *, 
nv_¡©e_t
 *, 
NvU16
, NvU16, NvU16, 
NvU32
, 
NvU8
 *);

783 
NvU64
 
NV_API_CALL
 
nv_rdtsc
 ();

785 
NV_API_CALL
 
rm_»gi¡”_com·tibË_ioùls
 (
nvidŸ_¡ack_t
 *);

786 
NV_API_CALL
 
rm_uÄegi¡”_com·tibË_ioùls
 (
nvidŸ_¡ack_t
 *);

788 
BOOL
 
NV_API_CALL
 
rm_is_Ëgacy_deviû
 (
nvidŸ_¡ack_t
 *, 
NvU16
, NvU16, NvU16, BOOL);

789 
NV_STATUS
 
NV_API_CALL
 
rm_is_suµÜ‹d_deviû
 (
nvidŸ_¡ack_t
 *, 
nv_¡©e_t
 *);

791 
NV_API_CALL
 
rm_check_pci_cÚfig_¥aû
 (
nvidŸ_¡ack_t
 *, 
nv_¡©e_t
 *
nv
, 
BOOL
, BOOL, BOOL);

793 
NV_STATUS
 
NV_API_CALL
 
rm_i2c_»move_ad­‹rs
 (
nvidŸ_¡ack_t
 *, 
nv_¡©e_t
 *);

794 
NvBoÞ
 
NV_API_CALL
 
rm_i2c_is_smbus_ÿ·bË
 (
nvidŸ_¡ack_t
 *, 
nv_¡©e_t
 *, *);

795 
NV_STATUS
 
NV_API_CALL
 
rm_i2c_Œªsãr
 (
nvidŸ_¡ack_t
 *, 
nv_¡©e_t
 *, *, 
NvU8
, NvU8, NvU8, 
NvU32
, NvU8 *);

797 
NV_STATUS
 
NV_API_CALL
 
rm_³rfÜm_v”siÚ_check
 (
nvidŸ_¡ack_t
 *, *, 
NvU32
);

799 
NV_STATUS
 
NV_API_CALL
 
rm_sy¡em_ev’t
 (
nvidŸ_¡ack_t
 *, 
NvU32
, NvU32);

801 
NV_API_CALL
 
rm_di§bË_gpu_¡©e_³rsi¡’û
 (
nvidŸ_¡ack_t
 *
¥
, 
nv_¡©e_t
 *);

802 
NV_STATUS
 
NV_API_CALL
 
rm_p2p_š™_m­pšg
 (
nvidŸ_¡ack_t
 *, 
NvU64
, NvU64 *, NvU64 *, NvU64 *, NvU64 *, NvU64, NvU64, NvU64, NvU64, (*)(*), *);

803 
NV_STATUS
 
NV_API_CALL
 
	`rm_p2p_de¡roy_m­pšg
 (
nvidŸ_¡ack_t
 *, 
NvU64
);

804 
NV_STATUS
 
NV_API_CALL
 
	`rm_p2p_g‘_·ges
 (
nvidŸ_¡ack_t
 *, 
NvU64
, 
NvU32
, NvU64, NvU64, NvU64 *, NvU32 *, NvU32 *, NvU32 *, 
NvU8
 **, *, (*)(*), *);

805 
NV_STATUS
 
NV_API_CALL
 
	`rm_p2p_put_·ges
 (
nvidŸ_¡ack_t
 *, 
NvU64
, 
NvU32
, NvU64, *);

806 
NV_STATUS
 
NV_API_CALL
 
	`rm_p2p_dma_m­_·ges
 (
nvidŸ_¡ack_t
 *, 
nv_¡©e_t
 *, 
NvU8
 *, 
NvU32
, NvU32, 
NvU64
 *, **);

807 
NV_STATUS
 
NV_API_CALL
 
	`rm_g‘_ýu_ty³
 (
nvidŸ_¡ack_t
 *, 
nv_ýu_ty³_t
 *);

808 
NV_STATUS
 
NV_API_CALL
 
	`rm_log_gpu_üash
 (
nv_¡ack_t
 *, 
nv_¡©e_t
 *);

810 
NV_STATUS
 
NV_API_CALL
 
	`rm_gpu_Ýs_ü—‹_£ssiÚ
 (
nvidŸ_¡ack_t
 *, 
nvgpuSessiÚHªdË_t
 *);

811 
NV_STATUS
 
NV_API_CALL
 
	`rm_gpu_Ýs_de¡roy_£ssiÚ
 (
nvidŸ_¡ack_t
 *, 
nvgpuSessiÚHªdË_t
);

812 
NV_STATUS
 
NV_API_CALL
 
	`rm_gpu_Ýs_add»ss_¥aû_ü—‹
(
nvidŸ_¡ack_t
 *, 
nvgpuSessiÚHªdË_t
, cÚ¡ 
NvProûssÜUuid
 *, , , 
nvgpuAdd»ssS·ûHªdË_t
 *, 
nvgpuAdd»ssS·ûInfo_t
);

813 
NV_STATUS
 
NV_API_CALL
 
	`rm_gpu_Ýs_dup_add»ss_¥aû
(
nvidŸ_¡ack_t
 *, 
nvgpuSessiÚHªdË_t
, cÚ¡ 
NvProûssÜUuid
 *, 
NvHªdË
, NvHªdË, 
nvgpuAdd»ssS·ûHªdË_t
 *, 
nvgpuAdd»ssS·ûInfo_t
);

814 
NV_STATUS
 
NV_API_CALL
 
	`rm_gpu_Ýs_add»ss_¥aû_de¡roy
(
nvidŸ_¡ack_t
 *, 
nvgpuAdd»ssS·ûHªdË_t
);

815 
NV_STATUS
 
NV_API_CALL
 
	`rm_gpu_Ýs_memÜy_®loc_fb
(
nvidŸ_¡ack_t
 *, 
nvgpuAdd»ssS·ûHªdË_t
, 
NvL’gth
, 
NvU64
 *, 
nvgpuAÎocInfo_t
);

817 
NV_STATUS
 
NV_API_CALL
 
	`rm_gpu_Ýs_pma_®loc_·ges
(
nvidŸ_¡ack_t
 *, *, 
NvL’gth
, 
NvU32
 , 
nvgpuPmaAÎoÿtiÚO±iÚs_t
, 
NvU64
 *);

818 
NV_STATUS
 
NV_API_CALL
 
	`rm_gpu_Ýs_pma_ä“_·ges
(
nvidŸ_¡ack_t
 *, *, 
NvU64
 *, 
NvL’gth
 , 
NvU32
, NvU32);

819 
NV_STATUS
 
NV_API_CALL
 
	`rm_gpu_Ýs_pma_pš_·ges
(
nvidŸ_¡ack_t
 *, *, 
NvU64
 *, 
NvL’gth
 , 
NvU32
, NvU32);

820 
NV_STATUS
 
NV_API_CALL
 
	`rm_gpu_Ýs_pma_uÅš_·ges
(
nvidŸ_¡ack_t
 *, *, 
NvU64
 *, 
NvL’gth
 , 
NvU32
);

821 
NV_STATUS
 
NV_API_CALL
 
	`rm_gpu_Ýs_g‘_pma_objeù
(
nvidŸ_¡ack_t
 *, cÚ¡ 
NvProûssÜUuid
 *, **);

822 
NV_STATUS
 
NV_API_CALL
 
	`rm_gpu_Ýs_pma_»gi¡”_ÿÎbacks
(
nvidŸ_¡ack_t
 *
¥
, *, 
nvPmaEviùPagesC®lback
, 
nvPmaEviùRªgeC®lback
, *);

823 
NV_API_CALL
 
	`rm_gpu_Ýs_pma_uÄegi¡”_ÿÎbacks
(
nvidŸ_¡ack_t
 *
¥
, *);

825 
NV_STATUS
 
NV_API_CALL
 
	`rm_gpu_Ýs_memÜy_®loc_sys
(
nvidŸ_¡ack_t
 *, 
nvgpuAdd»ssS·ûHªdË_t
, 
NvL’gth
, 
NvU64
 *, 
nvgpuAÎocInfo_t
);

827 
NV_STATUS
 
NV_API_CALL
 
	`rm_gpu_Ýs_g‘_p2p_ÿps
(
nvidŸ_¡ack_t
 *, 
nvgpuAdd»ssS·ûHªdË_t
,‚vgpuAdd»ssS·ûHªdË_t, 
nvgpuP2PC­sP¬ams_t
);

829 
NV_STATUS
 
NV_API_CALL
 
	`rm_gpu_Ýs_memÜy_ýu_m­
(
nvidŸ_¡ack_t
 *, 
nvgpuAdd»ssS·ûHªdË_t
, 
NvU64
, 
NvL’gth
, **, 
NvU32
);

830 
NV_STATUS
 
NV_API_CALL
 
	`rm_gpu_Ýs_memÜy_ýu_umm­
(
nvidŸ_¡ack_t
 *, 
nvgpuAdd»ssS·ûHªdË_t
, *);

831 
NV_STATUS
 
NV_API_CALL
 
	`rm_gpu_Ýs_chªÃl_®loÿ‹
(
nvidŸ_¡ack_t
 *, 
nvgpuAdd»ssS·ûHªdË_t
, 
nvgpuChªÃlHªdË_t
 *, cÚ¡ 
nvgpuChªÃlAÎocP¬ams_t
 *, 
nvgpuChªÃlInfo_t
);

832 
NV_STATUS
 
NV_API_CALL
 
	`rm_gpu_Ýs_chªÃl_de¡roy
(
nvidŸ_¡ack_t
 *, 
nvgpuChªÃlHªdË_t
);

833 
NV_STATUS
 
NV_API_CALL
 
	`rm_gpu_Ýs_cÝy_’gše_®loc
(
nvidŸ_¡ack_t
 *, 
nvgpuChªÃlHªdË_t
, 
NvU32
, 
nvgpuObjeùHªdË_t
 *, 
nvgpuChªÃlInfo_t
);

834 
NV_STATUS
 
NV_API_CALL
 
	`rm_gpu_Ýs_memÜy_ä“
(
nvidŸ_¡ack_t
 *, 
nvgpuAdd»ssS·ûHªdË_t
, 
NvU64
);

835 
NV_STATUS
 
NV_API_CALL
 
	`rm_gpu_Ýs_qu”y_ÿps
(
nvidŸ_¡ack_t
 *, 
nvgpuAdd»ssS·ûHªdË_t
, 
nvgpuC­s_t
);

836 
NV_STATUS
 
NV_API_CALL
 
	`rm_gpu_Ýs_qu”y_ûs_ÿps
(
nvidŸ_¡ack_t
 *
¥
, 
nvgpuAdd»ssS·ûHªdË_t
, 
nvgpuCesC­s_t
);

837 
NV_STATUS
 
NV_API_CALL
 
	`rm_gpu_Ýs_g‘_gpu_šfo
(
nvidŸ_¡ack_t
 *, cÚ¡ 
NvProûssÜUuid
 *
pUuid
, 
nvgpuInfo_t
);

838 
NV_STATUS
 
NV_API_CALL
 
	`rm_gpu_Ýs_£rviû_deviû_š‹¼u±s_rm
(
nvidŸ_¡ack_t
 *, 
nvgpuAdd»ssS·ûHªdË_t
);

839 
NV_STATUS
 
NV_API_CALL
 
	`rm_gpu_Ýs_dup_®loÿtiÚ
(
nvidŸ_¡ack_t
 *, 
NvHªdË
, 
nvgpuAdd»ssS·ûHªdË_t
, 
NvU64
,‚vgpuAdd»ssS·ûHªdË_t, NvU64*, 
NvBoÞ
);

841 
NV_STATUS
 
NV_API_CALL
 
	`rm_gpu_Ýs_dup_memÜy
 (
nvidŸ_¡ack_t
 *, 
nvgpuAdd»ssS·ûHªdË_t
, 
NvHªdË
, NvHªdË, NvHªdË *, 
nvgpuMemÜyInfo_t
);

843 
NV_STATUS
 
NV_API_CALL
 
	`rm_gpu_Ýs_ä“_du³d_hªdË
(
nvidŸ_¡ack_t
 *, 
nvgpuAdd»ssS·ûHªdË_t
, 
NvHªdË
);

844 
NV_STATUS
 
NV_API_CALL
 
	`rm_gpu_Ýs_g‘_fb_šfo
(
nvidŸ_¡ack_t
 *, 
nvgpuAdd»ssS·ûHªdË_t
, 
nvgpuFbInfo_t
);

845 
NV_STATUS
 
NV_API_CALL
 
	`rm_gpu_Ýs_own_·ge_çuÉ_šŒ
(
nvidŸ_¡ack_t
 *, cÚ¡ 
NvProûssÜUuid
 *, 
NvBoÞ
);

846 
NV_STATUS
 
NV_API_CALL
 
	`rm_gpu_Ýs_š™_çuÉ_šfo
(
nvidŸ_¡ack_t
 *, 
nvgpuAdd»ssS·ûHªdË_t
, 
nvgpuFauÉInfo_t
);

847 
NV_STATUS
 
NV_API_CALL
 
	`rm_gpu_Ýs_de¡roy_çuÉ_šfo
(
nvidŸ_¡ack_t
 *, 
nvgpuAdd»ssS·ûHªdË_t
, 
nvgpuFauÉInfo_t
);

848 
NV_STATUS
 
NV_API_CALL
 
	`rm_gpu_Ýs_g‘_nÚ_»¶ayabË_çuÉs
(
nvidŸ_¡ack_t
 *, 
nvgpuFauÉInfo_t
, *, 
NvU32
 *);

849 
NV_STATUS
 
NV_API_CALL
 
	`rm_gpu_Ýs_has_³ndšg_nÚ_»¶ayabË_çuÉs
(
nvidŸ_¡ack_t
 *, 
nvgpuFauÉInfo_t
, 
NvBoÞ
 *);

850 
NV_STATUS
 
NV_API_CALL
 
	`rm_gpu_Ýs_š™_acûss_úŒ_šfo
(
nvidŸ_¡ack_t
 *, 
nvgpuAdd»ssS·ûHªdË_t
, 
nvgpuAcûssCÁrInfo_t
);

851 
NV_STATUS
 
NV_API_CALL
 
	`rm_gpu_Ýs_de¡roy_acûss_úŒ_šfo
(
nvidŸ_¡ack_t
 *, 
nvgpuAdd»ssS·ûHªdË_t
, 
nvgpuAcûssCÁrInfo_t
);

852 
NV_STATUS
 
NV_API_CALL
 
	`rm_gpu_Ýs_own_acûss_úŒ_šŒ
(
nvidŸ_¡ack_t
 *, 
nvgpuSessiÚHªdË_t
, 
nvgpuAcûssCÁrInfo_t
, 
NvBoÞ
);

853 
NV_STATUS
 
NV_API_CALL
 
	`rm_gpu_Ýs_’abË_acûss_úŒ
(
nvidŸ_¡ack_t
 *, 
nvgpuAdd»ssS·ûHªdË_t
, 
nvgpuAcûssCÁrInfo_t
, 
nvgpuAcûssCÁrCÚfig_t
);

854 
NV_STATUS
 
NV_API_CALL
 
	`rm_gpu_Ýs_di§bË_acûss_úŒ
(
nvidŸ_¡ack_t
 *, 
nvgpuAdd»ssS·ûHªdË_t
, 
nvgpuAcûssCÁrInfo_t
);

855 
NV_STATUS
 
NV_API_CALL
 
	`rm_gpu_Ýs_£t_·ge_dœeùÜy
 (
nvidŸ_¡ack_t
 *, 
nvgpuAdd»ssS·ûHªdË_t
, 
NvU64
, , 
NvBoÞ
);

856 
NV_STATUS
 
NV_API_CALL
 
	`rm_gpu_Ýs_un£t_·ge_dœeùÜy
 (
nvidŸ_¡ack_t
 *, 
nvgpuAdd»ssS·ûHªdË_t
);

857 
NV_STATUS
 
NV_API_CALL
 
	`rm_gpu_Ýs_p2p_objeù_ü—‹
(
nvidŸ_¡ack_t
 *, 
nvgpuAdd»ssS·ûHªdË_t
,‚vgpuAdd»ssS·ûHªdË_t, 
NvHªdË
 *);

858 
NV_API_CALL
 
	`rm_gpu_Ýs_p2p_objeù_de¡roy
(
nvidŸ_¡ack_t
 *, 
nvgpuSessiÚHªdË_t
, 
NvHªdË
);

859 
NV_STATUS
 
NV_API_CALL
 
	`rm_gpu_Ýs_g‘_ex‹º®_®loc_±es
(
nvidŸ_¡ack_t
*, 
nvgpuAdd»ssS·ûHªdË_t
, 
NvHªdË
, 
NvU64
, NvU64, 
nvgpuEx‹º®M­pšgInfo_t
);

860 
NV_STATUS
 
NV_API_CALL
 
	`rm_gpu_Ýs_»š_chªÃl
(
nvidŸ_¡ack_t
 *, 
nvgpuAdd»ssS·ûHªdË_t
, 
NvHªdË
, NvHªdË, **, 
nvgpuChªÃlIn¡ªûInfo_t
);

861 
NV_STATUS
 
NV_API_CALL
 
	`rm_gpu_Ýs_»š_chªÃl_»sourûs
(
nvidŸ_¡ack_t
 *, *, 
nvgpuChªÃlResourûInfo_t
);

862 
NV_STATUS
 
NV_API_CALL
 
	`rm_gpu_Ýs_bšd_chªÃl_»sourûs
(
nvidŸ_¡ack_t
 *, *, 
nvgpuChªÃlResourûBšdP¬ams_t
);

863 
NV_API_CALL
 
	`rm_gpu_Ýs_»Ëa£_chªÃl
(
nvidŸ_¡ack_t
 *, *);

864 
NV_API_CALL
 
	`rm_gpu_Ýs_»Ëa£_chªÃl_»sourûs
(
nvidŸ_¡ack_t
 *, 
NvP64
*, 
NvU32
);

865 
NV_API_CALL
 
	`rm_gpu_Ýs_¡Ý_chªÃl
(
nvidŸ_¡ack_t
 *, *, 
NvBoÞ
);

866 
NV_STATUS
 
NV_API_CALL
 
	`rm_gpu_Ýs_g‘_chªÃl_»sourû_±es
(
nvidŸ_¡ack_t
 *, 
nvgpuAdd»ssS·ûHªdË_t
, 
NvP64
, 
NvU64
, NvU64, 
nvgpuEx‹º®M­pšgInfo_t
);

867 
NV_STATUS
 
NV_API_CALL
 
	`rm_gpu_Ýs_»pÜt_nÚ_»¶ayabË_çuÉ
(
nvidŸ_¡ack_t
 *, 
nvgpuAdd»ssS·ûHªdË_t
, const *);

868 
NV_API_CALL
 
	`rm_k”Ãl_rm­i_Ý
(
nvidŸ_¡ack_t
 *
¥
, *
Ýs_cmd
);

869 
NvBoÞ
 
NV_API_CALL
 
	`rm_g‘_deviû_»move_æag
(
nvidŸ_¡ack_t
 *
¥
, 
NvU32
 
gpu_id
);

870 
NV_STATUS
 
NV_API_CALL
 
	`rm_gpu_cÝy_mmu_çuÉs
(
nvidŸ_¡ack_t
 *, 
nv_¡©e_t
 *, 
NvU32
 *);

871 
NV_STATUS
 
NV_API_CALL
 
	`rm_gpu_cÝy_mmu_çuÉs_uÆocked
(
nvidŸ_¡ack_t
 *, 
nv_¡©e_t
 *, 
NvU32
 *);

872 
NV_STATUS
 
NV_API_CALL
 
	`rm_gpu_Ãed_4k_·ge_isÞ©iÚ
(
nv_¡©e_t
 *, 
NvBoÞ
 *);

873 
NvBoÞ
 
NV_API_CALL
 
	`rm_is_ch£t_io_coh”’t
(
nv_¡ack_t
 *);

874 
NvBoÞ
 
NV_API_CALL
 
	`rm_š™_ev’t_locks
(
nvidŸ_¡ack_t
 *, 
nv_¡©e_t
 *);

875 
NV_API_CALL
 
	`rm_de¡roy_ev’t_locks
(
nvidŸ_¡ack_t
 *, 
nv_¡©e_t
 *);

876 
NV_STATUS
 
NV_API_CALL
 
	`rm_g‘_gpu_numa_šfo
(
nvidŸ_¡ack_t
 *, 
nv_¡©e_t
 *, 
NvS32
 *, 
NvU64
 *, NvU64 *, 
nv_bÏckli¡_add»s£s_t
 *);

877 
NV_STATUS
 
NV_API_CALL
 
	`rm_£t_backlight
(
nvidŸ_¡ack_t
 *, 
nv_¡©e_t
 *, 
NvU32
, NvU32);

878 
NV_STATUS
 
NV_API_CALL
 
	`rm_g‘_backlight
(
nvidŸ_¡ack_t
 *, 
nv_¡©e_t
 *, 
NvU32
, NvU32 *);

879 
NV_STATUS
 
NV_API_CALL
 
	`rm_gpu_numa_Úlše
(
nvidŸ_¡ack_t
 *, 
nv_¡©e_t
 *);

880 
NV_STATUS
 
NV_API_CALL
 
	`rm_gpu_numa_ofæše
(
nvidŸ_¡ack_t
 *, 
nv_¡©e_t
 *);

881 
NV_API_CALL
 
	`rm_check_fÜ_gpu_su½ri£_»mov®
(
nvidŸ_¡ack_t
 *, 
nv_¡©e_t
 *);

883 
NV_STATUS
 
NV_API_CALL
 
	`nv_vgpu_ü—‹_»que¡
(
nvidŸ_¡ack_t
 *, 
nv_¡©e_t
 *, 
NvU8
 *, 
NvU32
, 
NvU16
 *, NvU32);

884 
NV_STATUS
 
NV_API_CALL
 
	`nv_vgpu_d–‘e
(
nvidŸ_¡ack_t
 *, 
NvU8
 *, 
NvU16
);

885 
NV_STATUS
 
NV_API_CALL
 
	`nv_vgpu_g‘_ty³_ids
(
nvidŸ_¡ack_t
 *, 
nv_¡©e_t
 *, 
NvU32
 *, NvU32 **);

886 
NV_STATUS
 
NV_API_CALL
 
	`nv_vgpu_g‘_ty³_šfo
(
nvidŸ_¡ack_t
 *, 
nv_¡©e_t
 *, 
NvU32
, 
NvU8
 *, );

887 
NV_STATUS
 
NV_API_CALL
 
	`nv_vgpu_g‘_b¬_šfo
(
nvidŸ_¡ack_t
 *, 
nv_¡©e_t
 *, 
NvU8
 *, 
NvU64
 *, 
NvU32
, *, **);

888 
NV_STATUS
 
NV_API_CALL
 
	`nv_vgpu_¡¬t
(
nvidŸ_¡ack_t
 *, 
NvU8
 *, *, 
NvS32
 *, NvU8 *, 
NvU32
, NvU8 *);

889 
NV_STATUS
 
NV_API_CALL
 
	`nv_vgpu_g‘_¥¬£_mm­
(
nvidŸ_¡ack_t
 *, 
nv_¡©e_t
 *, 
NvU8
 *, 
NvU64
 **, NvU64 **, 
NvU32
 *);

890 
NV_STATUS
 
NV_API_CALL
 
	`nv_vgpu_upd©e_»que¡
(
nvidŸ_¡ack_t
 *, 
NvU8
 *, 
NvU32
);

891 
NV_STATUS
 
NV_API_CALL
 
	`nv_gpu_bšd_ev’t
(
nvidŸ_¡ack_t
 *);

893 
NV_STATUS
 
NV_API_CALL
 
	`nv_g‘_u£rm­_acûss_·¿ms
(
nv_¡©e_t
*, 
nv_u£rm­_acûss_·¿ms_t
*);

896 
šlše
 cÚ¡ 
NvU8
 *
	$nv_g‘_ÿched_uuid
(
nv_¡©e_t
 *
nv
)

898  
nv
->
nv_uuid_ÿche
.
v®id
 ?‚v->nv_uuid_ÿche.
uuid
 : 
NULL
;

899 
	}
}

903 
šlše
 
	$nv_couÁ_b™s
(
NvU64
 
wÜd
)

905 
NvU64
 
b™s
;

907 
b™s
 = (
wÜd
 & 0x5555555555555555ULL) + ((word >> 1) & 0x5555555555555555ULL);

908 
b™s
 = (bits & 0x3333333333333333ULL) + ((bits >> 2) & 0x3333333333333333ULL);

909 
b™s
 = (bits & 0x0f0f0f0f0f0f0f0fULL) + ((bits >> 4) & 0x0f0f0f0f0f0f0f0fULL);

910 
b™s
 = (bits & 0x00ff00ff00ff00ffULL) + ((bits >> 8) & 0x00ff00ff00ff00ffULL);

911 
b™s
 = (bits & 0x0000ffff0000ffffULL) + ((bits >> 16) & 0x0000ffff0000ffffULL);

912 
b™s
 = (bits & 0x00000000ffffffffULL) + ((bits >> 32) & 0x00000000ffffffffULL);

914  ()(
b™s
);

915 
	}
}

	@src/nvidia/nvidia_acpi.c

11 
	~"nv-misc.h
"

12 
	~"os-š‹rçû.h
"

13 
	~"nv.h
"

14 
	~"nv-ä“bsd.h
"

16 #ià
defšed
(
NV_SUPPORT_ACPI
)

18 
	~<cÚŒib/dev/aýiÿ/šþude/aýi.h
>

19 
	~<cÚŒib/dev/aýiÿ/šþude/accommÚ.h
>

20 
	~<dev/aýiÿ/aýiv¬.h
>

22 
	$nvidŸ_aýi_lookup_bus
(
deviû_t
 
dev
, deviû_ˆ*
bus
)

25 
dev
 = 
	`deviû_g‘_·»Á
(dev);

26 ià(
dev
 =ð
NULL
)

28 } 
	`¡rcmp
(
	`deviû_g‘_Çme
(
dev
), "acpi") != 0);

30 *
bus
 = 
dev
;

31  ((
dev
 !ð
NULL
è? 0 : 
ENODEV
);

32 
	}
}

34 
NV_STATUS
 
	$nvidŸ_aýi_exŒaù_š‹g”
(

35 cÚ¡ 
aýi_objeù
 *acpi_object,

36 *
bufãr
,

37 
NvU32
 
bufãr_size
,

38 
NvU32
 *
d©a_size


41 ià(
aýi_objeù
->
Ty³
 !ð
ACPI_TYPE_INTEGER
)

42  
NV_ERR_INVALID_ARGUMENT
;

44 ià(
aýi_objeù
->
IÁeg”
.
V®ue
 & ~0xffffffffULL)

45 *
d©a_size
 = (
aýi_objeù
->
IÁeg”
.
V®ue
);

47 *
d©a_size
 = (
NvU32
);

49 ià((
bufãr_size
 < (
NvU32
)) ||

50 ((
bufãr_size
 < (
aýi_objeù
->
IÁeg”
.
V®ue
)) &&

51 (
aýi_objeù
->
IÁeg”
.
V®ue
 & ~0xffffffffULL)))

53  
NV_ERR_BUFFER_TOO_SMALL
;

56 
	`memýy
(
bufãr
, &
aýi_objeù
->
IÁeg”
.
V®ue
, *
d©a_size
);

58  
NV_OK
;

59 
	}
}

61 
NV_STATUS
 
	$nvidŸ_aýi_exŒaù_bufãr
(

62 cÚ¡ 
aýi_objeù
 *acpi_object,

63 *
bufãr
,

64 
NvU32
 
bufãr_size
,

65 
NvU32
 *
d©a_size


68 ià(
aýi_objeù
->
Ty³
 !ð
ACPI_TYPE_BUFFER
)

69  
NV_ERR_INVALID_ARGUMENT
;

71 *
d©a_size
 = 
aýi_objeù
->
Bufãr
.
L’gth
;

73 ià(
bufãr_size
 < 
aýi_objeù
->
Bufãr
.
L’gth
)

74  
NV_ERR_BUFFER_TOO_SMALL
;

76 
	`memýy
(
bufãr
, 
aýi_objeù
->
Bufãr
.
Poš‹r
, *
d©a_size
);

78  
NV_OK
;

79 
	}
}

81 
NV_STATUS


82 
nvidŸ_aýi_exŒaù_objeù
(cÚ¡ 
aýi_objeù
 *, *, 
NvU32
, NvU32 *);

84 
NV_STATUS
 
	$nvidŸ_aýi_exŒaù_·ckage
(

85 cÚ¡ 
aýi_objeù
 *acpi_object,

86 *
bufãr
,

87 
NvU32
 
bufãr_size
,

88 
NvU32
 *
d©a_size


91 
NV_STATUS
 
¡©us
 = 
NV_OK
;

92 
NvU32
 
i
, 
–em’t_size
 = 0;

94 ià(
aýi_objeù
->
Ty³
 !ð
ACPI_TYPE_PACKAGE
)

95  
NV_ERR_INVALID_ARGUMENT
;

97 *
d©a_size
 = 0;

98 
i
 = 0; i < 
aýi_objeù
->
Package
.
CouÁ
; i++)

100 
bufãr
 = ((*)bufã¸+ 
–em’t_size
);

101 
bufãr_size
 -ð
–em’t_size
;

103 
¡©us
 = 
	`nvidŸ_aýi_exŒaù_objeù
(&
aýi_objeù
->
Package
.
EËm’ts
[
i
],

104 
bufãr
, 
bufãr_size
, &
–em’t_size
);

105 ià(
¡©us
 !ð
NV_OK
)

108 *
d©a_size
 +ð
–em’t_size
;

111  
¡©us
;

112 
	}
}

114 
NV_STATUS
 
	$nvidŸ_aýi_exŒaù_objeù
(

115 cÚ¡ 
aýi_objeù
 *acpi_object,

116 *
bufãr
,

117 
NvU32
 
bufãr_size
,

118 
NvU32
 *
d©a_size


121 
NV_STATUS
 
¡©us
;

123 
aýi_objeù
->
Ty³
)

125 
ACPI_TYPE_INTEGER
:

126 
¡©us
 = 
	`nvidŸ_aýi_exŒaù_š‹g”
(
aýi_objeù
, 
bufãr
,

127 
bufãr_size
, 
d©a_size
);

130 
ACPI_TYPE_BUFFER
:

131 
¡©us
 = 
	`nvidŸ_aýi_exŒaù_bufãr
(
aýi_objeù
, 
bufãr
,

132 
bufãr_size
, 
d©a_size
);

135 
ACPI_TYPE_PACKAGE
:

136 
¡©us
 = 
	`nvidŸ_aýi_exŒaù_·ckage
(
aýi_objeù
, 
bufãr
,

137 
bufãr_size
, 
d©a_size
);

141 
¡©us
 = 
NV_ERR_NOT_SUPPORTED
;

144  
¡©us
;

145 
	}
}

147 
NV_STATUS
 
NV_API_CALL
 
	$nv_aýi_dsm_m‘hod
(

148 
nv_¡©e_t
 *
nv
,

149 
NvU8
 *
pAýiDsmGuid
,

150 
NvU32
 
aýiDsmRev
,

151 
NvU32
 
aýiDsmSubFunùiÚ
,

152 *
pInP¬ams
,

153 
NvU16
 
šP¬amSize
,

154 
NvU32
 *
pOutStus
,

155 *
pOutD©a
,

156 
NvU16
 *
pSize


159 
deviû_t
 
bus
, 
dev
;

160 
NV_STATUS
 
rmStus
 = 
NV_OK
;

161 
ACPI_STATUS
 
¡©us
;

162 
aýi_bufãr
 
ouut
 = { 
ACPI_ALLOCATE_BUFFER
, 
NULL
 };

163 
aýi_objeù
 *
dsm
;

164 
aýi_objeù
 
dsm_šput
[4];

165 
aýi_objeù_li¡
 
šput
 = { 4, 
dsm_šput
 };

166 
ušt32_t
 
d©a_size
;

168 
dev
 = 
	`deviû_g‘_·»Á
(
nv
->
hªdË
);

170 ià(
	`nvidŸ_aýi_lookup_bus
(
dev
, &
bus
) != 0)

171  
NV_ERR_NOT_SUPPORTED
;

173 
dsm_šput
[0].
Bufãr
.
Ty³
 = 
ACPI_TYPE_BUFFER
;

174 
dsm_šput
[0].
Bufãr
.
L’gth
 = 0x10;

175 
dsm_šput
[0].
Bufãr
.
Poš‹r
 = 
pAýiDsmGuid
;

176 
dsm_šput
[1].
IÁeg”
.
Ty³
 = 
ACPI_TYPE_INTEGER
;

177 
dsm_šput
[1].
IÁeg”
.
V®ue
 = 
aýiDsmRev
;

178 
dsm_šput
[2].
IÁeg”
.
Ty³
 = 
ACPI_TYPE_INTEGER
;

179 
dsm_šput
[2].
IÁeg”
.
V®ue
 = 
aýiDsmSubFunùiÚ
;

180 
dsm_šput
[3].
Bufãr
.
Ty³
 = 
ACPI_TYPE_BUFFER
;

181 
dsm_šput
[3].
Bufãr
.
L’gth
 = 
šP¬amSize
;

182 
dsm_šput
[3].
Bufãr
.
Poš‹r
 = 
pInP¬ams
;

184 
¡©us
 = 
	`ACPI_EVALUATE_OBJECT
(
bus
, 
dev
, "_DSM", &
šput
, &
ouut
);

185 ià(
	`ACPI_FAILURE
(
¡©us
)) {

186 
	`nv_´štf
(
NV_DBG_INFO
,

187 "NVRM: %s: fažedØev®u©_DSM m‘hod!\n", 
__FUNCTION__
);

188  
NV_ERR_GENERIC
;

191 ià(
ouut
.
Poš‹r
 =ð
NULL
)

192  
NV_ERR_GENERIC
;

194 
dsm
 = 
ouut
.
Poš‹r
;

196 ià(
pOutStus
 !ð
NULL
) {

197 *
pOutStus
 = ((
dsm
->
Bufãr
.
Poš‹r
[3] << 24) |

198 (
dsm
->
Bufãr
.
Poš‹r
[2] << 16) |

199 (
dsm
->
Bufãr
.
Poš‹r
[1] << 8) |

200 
dsm
->
Bufãr
.
Poš‹r
[2]);

203 
rmStus
 = 
	`nvidŸ_aýi_exŒaù_objeù
(
dsm
, 
pOutD©a
, *
pSize
, &
d©a_size
);

204 ià(
rmStus
 !ð
NV_OK
) {

205 
	`nv_´štf
(
NV_DBG_INFO
,

206 "NVRM: %s:„eûived inv®id _DSM d©a!\n", 
__FUNCTION__
);

207 
rmStus
 = 
NV_ERR_GENERIC
;

210 *
pSize
 = 
d©a_size
;

211 
	`ä“
(
ouut
.
Poš‹r
, 
M_TEMP
);

213  
rmStus
;

214 
	}
}

216 
NV_STATUS
 
NV_API_CALL
 
	$nv_aýi_dod_m‘hod
(

217 
nv_¡©e_t
 *
nv
,

218 
NvU32
 *
pOutD©a
,

219 
NvU32
 *
pSize


222 
deviû_t
 
bus
, 
dev
;

223 
NV_STATUS
 
rmStus
 = 
NV_OK
;

224 
ACPI_STATUS
 
¡©us
;

225 
aýi_bufãr
 
ouut
 = { 
ACPI_ALLOCATE_BUFFER
, 
NULL
 };

226 
aýi_objeù
 *
dod
;

227 
ušt32_t
 
i
, 
couÁ
 = (*
pSize
 / (
NvU32
));

229 
dev
 = 
	`deviû_g‘_·»Á
(
nv
->
hªdË
);

231 ià(
	`nvidŸ_aýi_lookup_bus
(
dev
, &
bus
) != 0)

232  
NV_ERR_NOT_SUPPORTED
;

234 
¡©us
 = 
	`ACPI_EVALUATE_OBJECT
(
bus
, 
dev
, "_DOD", 
NULL
, &
ouut
);

235 ià(
	`ACPI_FAILURE
(
¡©us
)) {

236 
	`nv_´štf
(
NV_DBG_INFO
,

237 "NVRM: %s: fažedØev®u©_DOD m‘hod!\n", 
__FUNCTION__
);

238  
NV_ERR_GENERIC
;

241 ià(
ouut
.
Poš‹r
 =ð
NULL
)

242  
NV_ERR_GENERIC
;

244 
dod
 = 
ouut
.
Poš‹r
;

245 *
pSize
 = 0;

247 ià((
dod
->
Ty³
 =ð
ACPI_TYPE_PACKAGE
) &&

248 (
dod
->
Package
.
CouÁ
 <ð
couÁ
)) {

249 
i
 = 0; i < 
dod
->
Package
.
CouÁ
; i++) {

250 ià(
dod
->
Package
.
EËm’ts
[
i
].
Ty³
 !ð
ACPI_TYPE_INTEGER
) {

251 
	`nv_´štf
(
NV_DBG_INFO
,

252 "NVRM: %s:„eûived inv®id _DODƒÁry!\n", 
__FUNCTION__
);

253 
rmStus
 = 
NV_ERR_GENERIC
;

256 
pOutD©a
[
i
] = 
dod
->
Package
.
EËm’ts
[i].
IÁeg”
.
V®ue
;

257 *
pSize
 +ð(
NvU32
);

261 
	`nv_´štf
(
NV_DBG_INFO
,

262 "NVRM: %s: foundoØmªy _DODƒÁr›s!\n", 
__FUNCTION__
);

263 
rmStus
 = 
NV_ERR_GENERIC
;

266 
	`ä“
(
ouut
.
Poš‹r
, 
M_TEMP
);

268  
rmStus
;

269 
	}
}

271 
NV_STATUS
 
NV_API_CALL
 
	$nv_aýi_rom_m‘hod
(

272 
nv_¡©e_t
 *
nv
,

273 
NvU32
 *
pInD©a
,

274 
NvU32
 *
pOutD©a


277 
deviû_t
 
bus
, 
dev
;

278 
NV_STATUS
 
rmStus
 = 
NV_OK
;

279 
ACPI_STATUS
 
¡©us
;

280 
aýi_bufãr
 
ouut
 = { 
ACPI_ALLOCATE_BUFFER
, 
NULL
 };

281 
aýi_objeù
 *
rom
;

282 
aýi_objeù
 
rom_šput
[2];

283 
aýi_objeù_li¡
 
šput
 = { 2, 
rom_šput
 };

284 
ušt32_t
 
off£t
, 
Ëngth
;

286 
dev
 = 
	`deviû_g‘_·»Á
(
nv
->
hªdË
);

288 ià(
	`nvidŸ_aýi_lookup_bus
(
dev
, &
bus
) != 0)

289  
NV_ERR_NOT_SUPPORTED
;

291 
off£t
 = 
pInD©a
[0];

292 
Ëngth
 = 
pInD©a
[1];

294 
rom_šput
[0].
Ty³
 = 
ACPI_TYPE_INTEGER
;

295 
rom_šput
[0].
IÁeg”
.
V®ue
 = 
off£t
;

296 
rom_šput
[1].
Ty³
 = 
ACPI_TYPE_INTEGER
;

297 
rom_šput
[1].
IÁeg”
.
V®ue
 = 
Ëngth
;

299 
¡©us
 = 
	`ACPI_EVALUATE_OBJECT
(
bus
, 
dev
, "_ROM", &
šput
, &
ouut
);

300 ià(
	`ACPI_FAILURE
(
¡©us
)) {

301 
	`nv_´štf
(
NV_DBG_INFO
,

302 "NVRM: %s: fažedØev®u©_ROM m‘hod!\n", 
__FUNCTION__
);

303  
NV_ERR_GENERIC
;

306 ià(
ouut
.
Poš‹r
 =ð
NULL
)

307  
NV_ERR_GENERIC
;

309 
rom
 = 
ouut
.
Poš‹r
;

311 ià((
rom
->
Ty³
 =ð
ACPI_TYPE_BUFFER
) &&

312 (
rom
->
Bufãr
.
L’gth
 >ð
Ëngth
)) {

313 
	`memýy
(
pOutD©a
, 
rom
->
Bufãr
.
Poš‹r
, 
Ëngth
);

315 
	`nv_´štf
(
NV_DBG_INFO
,

316 "NVRM: %s:„eûived inv®id _ROM d©a!\n", 
__FUNCTION__
);

317 
rmStus
 = 
NV_ERR_GENERIC
;

320 
	`ä“
(
ouut
.
Poš‹r
, 
M_TEMP
);

322  
rmStus
;

323 
	}
}

327 
NV_STATUS
 
NV_API_CALL
 
	$nv_aýi_dsm_m‘hod
(

328 
nv_¡©e_t
 *
nv
,

329 
NvU8
 *
pAýiDsmGuid
,

330 
NvU32
 
aýiDsmRev
,

331 
NvU32
 
aýiDsmSubFunùiÚ
,

332 *
pInP¬ams
,

333 
NvU16
 
šP¬amSize
,

334 
NvU32
 *
pOutStus
,

335 *
pOutD©a
,

336 
NvU16
 *
pSize


339  
NV_ERR_NOT_SUPPORTED
;

340 
	}
}

342 
NV_STATUS
 
NV_API_CALL
 
	$nv_aýi_dod_m‘hod
(

343 
nv_¡©e_t
 *
nv
,

344 
NvU32
 *
pOutD©a
,

345 
NvU32
 *
pSize


348  
NV_ERR_NOT_SUPPORTED
;

349 
	}
}

351 
NV_STATUS
 
NV_API_CALL
 
	$nv_aýi_rom_m‘hod
(

352 
nv_¡©e_t
 *
nv
,

353 
NvU32
 *
pInD©a
,

354 
NvU32
 *
pOutD©a


357  
NV_ERR_NOT_SUPPORTED
;

358 
	}
}

362 
NV_STATUS
 
NV_API_CALL
 
	$nv_aýi_ddc_m‘hod
(

363 
nv_¡©e_t
 *
nv
,

364 *
pEdidBufãr
,

365 
NvU32
 *
pSize


368  
NV_ERR_NOT_SUPPORTED
;

369 
	}
}

371 
NV_STATUS
 
NV_API_CALL
 
	$nv_aýi_m‘hod
(

372 
NvU32
 
aýi_m‘hod
,

373 
NvU32
 
funùiÚ
,

374 
NvU32
 
subFunùiÚ
,

375 *
šP¬ams
,

376 
NvU16
 
šP¬amSize
,

377 
NvU32
 *
outStus
,

378 *
outD©a
,

379 
NvU16
 *
outD©aSize


382  
NV_ERR_NOT_SUPPORTED
;

383 
	}
}

385 
NV_API_CALL
 
	$nv_aýi_m‘hods_š™
(
NvU32
 *
hªdËsP»£Á
)

387 *
hªdËsP»£Á
 = 0;

388 
	}
}

390 
NV_API_CALL
 
	$nv_aýi_m‘hods_unš™
()

392 
	}
}

	@src/nvidia/nvidia_ctl.c

11 
	~"nv-misc.h
"

12 
	~"os-š‹rçû.h
"

13 
	~"nv.h
"

14 
	~"nv-ä“bsd.h
"

16 
d_Ý’_t
 
	gnvidŸ_ùl_Ý’
;

17 
d_ioùl_t
 
	gnvidŸ_ùl_ioùl
;

18 
d_pÞl_t
 
	gnvidŸ_ùl_pÞl
;

19 
d_mm­_sšgË_t
 
	gnvidŸ_ùl_mm­_sšgË
;

21 
cdevsw
 
	gnvidŸ_ùl_cdevsw
 = {

22 .
d_Ý’
 = 
nvidŸ_ùl_Ý’
,

23 .
	gd_ioùl
 = 
nvidŸ_ùl_ioùl
,

24 .
	gd_pÞl
 = 
nvidŸ_ùl_pÞl
,

25 .
	gd_mm­_sšgË
 = 
nvidŸ_ùl_mm­_sšgË
,

26 .
	gd_Çme
 = "nvidiactl",

27 .
	gd_v”siÚ
 = 
D_VERSION
,

30 
cdev
 *
	gnvidŸ_ùl_cdev
 = 
NULL
;

31 
nvidŸ_soác
 
	gnvidŸ_ùl_sc
;

33 
	gnvidŸ_couÁ
 = 0;

35 
	$nvidŸ_ùl_Ý’
(

36 
cdev
 *
dev
,

37 
oæags
,

38 
devty³
,

39 
th»ad
 *
td


42 
¡©us
;

43 
nv_¡©e_t
 *
nv
 = &
nvidŸ_ùl_¡©e
;

44 
nvidŸ_fž•
 *
fž•
;

46 
fž•
 = 
	`m®loc
((
nvidŸ_fž•_t
), 
M_NVIDIA
, (
M_WAITOK
 | 
M_ZERO
));

47 ià(
fž•
 =ð
NULL
)

48  
ENOMEM
;

50 
¡©us
 = 
	`devfs_£t_cdev´iv
(
fž•
, 
nvidŸ_ùl_dtÜ
);

51 ià(
¡©us
 != 0) {

52 
	`ä“
(
fž•
, 
M_NVIDIA
);

53  
¡©us
;

56 
fž•
->
nv
 =‚v;

57 
	`mtx_š™
(&
fž•
->
ev’t_mtx
, "ev’t_mtx", 
NULL
, (
MTX_DEF
 | 
MTX_RECURSE
));

58 
	`STAILQ_INIT
(&
fž•
->
ev’t_queue
);

60 
	`nv_lock_­i
(
nv
);

61 
¡©us
 = 
	`nvidŸ_Ý’_ùl
(
nv
, 
fž•
);

62 
	`nv_uÆock_­i
(
nv
);

64  
¡©us
;

65 
	}
}

67 
	$nvidŸ_ùl_dtÜ
(*
¬g
)

69 
¡©us
;

70 
nvidŸ_fž•
 *
fž•
 = 
¬g
;

71 
nvidŸ_ev’t
 *
‘
;

72 
nv_¡©e_t
 *
nv
 = 
fž•
->nv;

74 
	`nv_lock_­i
(
nv
);

75 
¡©us
 = 
	`nvidŸ_þo£_ùl
(
nv
, 
fž•
);

76 
	`nv_uÆock_­i
(
nv
);

78 (
‘
 = 
	`STAILQ_FIRST
(&
fž•
->
ev’t_queue
))) {

79 
	`STAILQ_REMOVE
(&
fž•
->
ev’t_queue
, 
‘
, 
nvidŸ_ev’t
, 
queue
);

80 
	`ä“
(
‘
, 
M_NVIDIA
);

82 
	`mtx_de¡roy
(&
fž•
->
ev’t_mtx
);

84 
	`ä“
(
fž•
, 
M_NVIDIA
);

85 
	}
}

87 
	$nvidŸ_ùl_ioùl
(

88 
cdev
 *
dev
,

89 
u_lÚg
 
cmd
,

90 
ÿddr_t
 
d©a
,

91 
fæag
,

92 
th»ad
 *
td


95 
¡©us
;

96 
nv_¡©e_t
 *
nv
 = &
nvidŸ_ùl_¡©e
;

97 
nvidŸ_fž•
 *
fž•
;

99 
¡©us
 = 
	`devfs_g‘_cdev´iv
((**)&
fž•
);

100 ià(
¡©us
 != 0)

101  
¡©us
;

103 ià(
	`__NV_IOC_TYPE
(
cmd
è!ð
NV_IOCTL_MAGIC
)

104  
ENOTTY
;

106 
	`nv_lock_­i
(
nv
);

107 
¡©us
 = 
	`nvidŸ_hªdË_ioùl
(
nv
, 
fž•
, 
cmd
, 
d©a
);

108 
	`nv_uÆock_­i
(
nv
);

110  
¡©us
;

111 
	}
}

113 
	$nvidŸ_ùl_pÞl
(

114 
cdev
 *
dev
,

115 
ev’ts
,

116 
th»ad
 *
td


119 
nvidŸ_fž•
 *
fž•
;

120 
¡©us
, 
mask
 = 0;

122 
¡©us
 = 
	`devfs_g‘_cdev´iv
((**)&
fž•
);

123 ià(
¡©us
 != 0)

126 
	`mtx_lock
(&
fž•
->
ev’t_mtx
);

128 ià(
	`STAILQ_EMPTY
(&
fž•
->
ev’t_queue
è&& !fž•->
ev’t_³ndšg
)

129 
	`£ÌecÜd
(
td
, &
fž•
->
ev’t_r£l
);

131 
mask
 = (
ev’ts
 & (
POLLIN
 | 
POLLPRI
 | 
POLLRDNORM
));

132 
fž•
->
ev’t_³ndšg
 = 
FALSE
;

135 
	`mtx_uÆock
(&
fž•
->
ev’t_mtx
);

137  
mask
;

138 
	}
}

140 
	$nvidŸ_ùl_mm­_sšgË
(

141 
cdev
 *
dev
,

142 
vm_ooff£t_t
 *
off£t
,

143 
vm_size_t
 
size
,

144 
vm_objeù_t
 *
objeù
,

145 
ÅrÙ


148 
¡©us
;

149 
nvidŸ_fž•
 *
fž•
;

150 
nv_¡©e_t
 *
nv
;

152 
¡©us
 = 
	`devfs_g‘_cdev´iv
((**)&
fž•
);

153 ià(
¡©us
 != 0)

154  
¡©us
;

155 
nv
 = 
fž•
->nv;

157 
	`nv_lock_­i
(
nv
);

158 
¡©us
 = 
	`nvidŸ_mm­_ùl_sšgË
(
nv
, 
fž•
, 
off£t
, 
size
, 
objeù
);

159 
	`nv_uÆock_­i
(
nv
);

161  
¡©us
;

162 
	}
}

164 
	$nvidŸ_ùl_©ch
()

166 ià(
nvidŸ_couÁ
 == 0) {

167 
nvidŸ_ùl_cdev
 = 
	`make_dev
(&
nvidŸ_ùl_cdevsw
,

168 
CDEV_CTL_MINOR
,

169 
UID_ROOT
, 
GID_WHEEL
, 0666,

170 "%s", 
nvidŸ_ùl_cdevsw
.
d_Çme
);

171 ià(
nvidŸ_ùl_cdev
 =ð
NULL
)

172  
ENOMEM
;

175 
nvidŸ_couÁ
++;

177 
	}
}

179 
	$nvidŸ_ùl_d‘ach
()

181 
nvidŸ_soác
 *
sc
;

183 
sc
 = &
nvidŸ_ùl_sc
;

184 
nvidŸ_couÁ
--;

186 ià(
nvidŸ_couÁ
 == 0)

187 
	`de¡roy_dev
(
nvidŸ_ùl_cdev
);

190 
	}
}

	@src/nvidia/nvidia_dev.c

11 
	~"nv-misc.h
"

12 
	~"os-š‹rçû.h
"

13 
	~"nv.h
"

14 
	~"nv-ä“bsd.h
"

16 
d_Ý’_t
 
	gnvidŸ_dev_Ý’
;

17 
d_ioùl_t
 
	gnvidŸ_dev_ioùl
;

18 
d_pÞl_t
 
	gnvidŸ_dev_pÞl
;

19 
d_mm­_sšgË_t
 
	gnvidŸ_dev_mm­_sšgË
;

21 
cdevsw
 
	gnvidŸ_dev_cdevsw
 = {

22 .
d_Ý’
 = 
nvidŸ_dev_Ý’
,

23 .
	gd_ioùl
 = 
nvidŸ_dev_ioùl
,

24 .
	gd_pÞl
 = 
nvidŸ_dev_pÞl
,

25 .
	gd_mm­_sšgË
 = 
nvidŸ_dev_mm­_sšgË
,

26 .
	gd_Çme
 = "nvidia",

27 .
	gd_v”siÚ
 = 
D_VERSION
,

28 .
	gd_æags
 = 
D_MEM


31 
	$nvidŸ_dev_Ý’
(

32 
cdev
 *
dev
,

33 
oæags
,

34 
devty³
,

35 
th»ad
 *
td


38 
¡©us
;

39 
nvidŸ_soác
 *
sc
 = 
dev
->
si_drv1
;

40 
nv_¡©e_t
 *
nv
 = 
sc
->
nv_¡©e
;

41 
nvidŸ_fž•
 *
fž•
;

43 
fž•
 = 
	`m®loc
((
nvidŸ_fž•_t
), 
M_NVIDIA
, (
M_WAITOK
 | 
M_ZERO
));

44 ià(
fž•
 =ð
NULL
)

45  
ENOMEM
;

47 
fž•
->
nv
 =‚v;

48 
	`mtx_š™
(&
fž•
->
ev’t_mtx
, "ev’t_mtx", 
NULL
, (
MTX_DEF
 | 
MTX_RECURSE
));

49 
	`STAILQ_INIT
(&
fž•
->
ev’t_queue
);

51 
	`nv_lock_­i
(
nv
);

52 
¡©us
 = 
	`nvidŸ_Ý’_dev
(
nv
, 
fž•
);

53 
	`nv_uÆock_­i
(
nv
);

55 ià(
¡©us
 != 0) {

56 
	`ä“
(
fž•
, 
M_NVIDIA
);

57  
¡©us
;

60 
¡©us
 = 
	`devfs_£t_cdev´iv
(
fž•
, 
nvidŸ_dev_dtÜ
);

61 ià(
¡©us
 != 0) {

62 
	`ä“
(
fž•
, 
M_NVIDIA
);

63  
¡©us
;

67 
	}
}

69 
	$nvidŸ_dev_dtÜ
(*
¬g
)

71 
¡©us
;

72 
nvidŸ_fž•
 *
fž•
 = 
¬g
;

73 
nvidŸ_ev’t
 *
‘
;

74 
nv_¡©e_t
 *
nv
 = 
fž•
->nv;

76 
	`nv_lock_­i
(
nv
);

77 
¡©us
 = 
	`nvidŸ_þo£_dev
(
nv
, 
fž•
);

78 
	`nv_uÆock_­i
(
nv
);

80 (
‘
 = 
	`STAILQ_FIRST
(&
fž•
->
ev’t_queue
))) {

81 
	`STAILQ_REMOVE
(&
fž•
->
ev’t_queue
, 
‘
, 
nvidŸ_ev’t
, 
queue
);

82 
	`ä“
(
‘
, 
M_NVIDIA
);

84 
	`mtx_de¡roy
(&
fž•
->
ev’t_mtx
);

86 
	`ä“
(
fž•
, 
M_NVIDIA
);

87 
	}
}

89 
	$nvidŸ_dev_ioùl
(

90 
cdev
 *
dev
,

91 
u_lÚg
 
cmd
,

92 
ÿddr_t
 
d©a
,

93 
fæag
,

94 
th»ad
 *
td


97 
¡©us
;

98 
nvidŸ_fž•
 *
fž•
;

99 
nv_¡©e_t
 *
nv
;

101 
¡©us
 = 
	`devfs_g‘_cdev´iv
((**)&
fž•
);

102 ià(
¡©us
 != 0)

103  
¡©us
;

104 
nv
 = 
fž•
->nv;

106 ià(
	`__NV_IOC_TYPE
(
cmd
è!ð
NV_IOCTL_MAGIC
)

107  
ENOTTY
;

109 
	`nv_lock_­i
(
nv
);

110 
¡©us
 = 
	`nvidŸ_hªdË_ioùl
(
nv
, 
fž•
, 
cmd
, 
d©a
);

111 
	`nv_uÆock_­i
(
nv
);

113  
¡©us
;

114 
	}
}

116 
	$nvidŸ_dev_pÞl
(

117 
cdev
 *
dev
,

118 
ev’ts
,

119 
th»ad
 *
td


122 
nvidŸ_fž•
 *
fž•
;

123 
¡©us
, 
mask
 = 0;

125 
¡©us
 = 
	`devfs_g‘_cdev´iv
((**)&
fž•
);

126 ià(
¡©us
 != 0)

129 
	`mtx_lock
(&
fž•
->
ev’t_mtx
);

131 ià(
	`STAILQ_EMPTY
(&
fž•
->
ev’t_queue
è&& !fž•->
ev’t_³ndšg
)

132 
	`£ÌecÜd
(
td
, &
fž•
->
ev’t_r£l
);

134 
mask
 = (
ev’ts
 & (
POLLIN
 | 
POLLPRI
 | 
POLLRDNORM
));

135 
fž•
->
ev’t_³ndšg
 = 
FALSE
;

138 
	`mtx_uÆock
(&
fž•
->
ev’t_mtx
);

140  
mask
;

141 
	}
}

143 
	$nvidŸ_dev_mm­_sšgË
(

144 
cdev
 *
dev
,

145 
vm_ooff£t_t
 *
off£t
,

146 
vm_size_t
 
size
,

147 
vm_objeù_t
 *
objeù
,

148 
ÅrÙ


151 
¡©us
;

152 
nvidŸ_fž•
 *
fž•
;

153 
nv_¡©e_t
 *
nv
;

155 
¡©us
 = 
	`devfs_g‘_cdev´iv
((**)&
fž•
);

156 ià(
¡©us
 != 0)

157  
¡©us
;

158 
nv
 = 
fž•
->nv;

160 
	`nv_lock_­i
(
nv
);

161 
¡©us
 = 
	`nvidŸ_mm­_dev_sšgË
(
nv
, 
fž•
, 
off£t
, 
size
, 
objeù
);

162 
	`nv_uÆock_­i
(
nv
);

164  
¡©us
;

165 
	}
}

167 
	$nvidŸ_dev_©ch
(
nvidŸ_soác
 *
sc
)

169 
sc
->
cdev
 = 
	`make_dev
(&
nvidŸ_dev_cdevsw
,

170 
	`deviû_g‘_un™
(
sc
->
dev
),

171 
UID_ROOT
, 
GID_WHEEL
, 0666,

172 "%s%d", 
nvidŸ_dev_cdevsw
.
d_Çme
,

173 
	`deviû_g‘_un™
(
sc
->
dev
));

174 ià(
sc
->
cdev
 =ð
NULL
)

175  
ENOMEM
;

177 
sc
->
cdev
->
si_drv1
 = sc;

180 
	}
}

182 
	$nvidŸ_dev_d‘ach
(
nvidŸ_soác
 *
sc
)

184 
	`de¡roy_dev
(
sc
->
cdev
);

186 
	}
}

	@src/nvidia/nvidia_i2c.c

1 
	~"nv-misc.h
"

2 
	~"os-š‹rçû.h
"

3 
	~"nv.h
"

5 * 
NV_API_CALL
 
	$nv_i2c_add_ad­‹r
(
nv_¡©e_t
 *
nv
, 
NvU32
 
pÜt
)

7  
FALSE
;

8 
	}
}

10 
BOOL
 
NV_API_CALL
 
	$nv_i2c_d–_ad­‹r
(
nv_¡©e_t
 *
nv
, *
d©a
)

12  
NULL
;

13 
	}
}

	@src/nvidia/nvidia_linux.c

11 
	~"nv-misc.h
"

12 
	~"os-š‹rçû.h
"

13 
	~"nv.h
"

14 
	~"nv-ä“bsd.h
"

16 #ifdeà
NV_SUPPORT_LINUX_COMPAT


18 
	#LINUX_IOCTL_NVIDIA_MIN
 0x4600

	)

19 
	#LINUX_IOCTL_NVIDIA_MAX
 0x46ff

	)

21 #ià
defšed
(
NVCPU_X86
)

22 
	~"lšux/lšux.h
"

23 
	~"lšux/lšux_´Ùo.h
"

24 #–ià
defšed
(
NVCPU_X86_64
)

25 
	~"lšux32/lšux.h
"

26 
	~"lšux32/lšux32_´Ùo.h
"

29 
	~<com·t/lšux/lšux_ioùl.h
>

31 
lšux_ioùl_nvidŸ
(
th»ad
 *, 
lšux_ioùl_¬gs
 *);

33 
	$lšux_ioùl_nvidŸ
(

34 
th»ad
 *
td
,

35 
lšux_ioùl_¬gs
 *
¬gs


38 
fže
 *
å
;

39 
”rÜ
;

40 #ià
__F»eBSD_v”siÚ
 >= 1000053

41 
ÿp_rights_t
 
rights
;

43 
u_lÚg
 
cmd
;

45 
”rÜ
 = 
	`fg‘
(
td
, 
¬gs
->
fd
, 
	`ÿp_rights_š™
(&
rights
, 
CAP_IOCTL
), &
å
);

46 ià(
”rÜ
 != 0)

47  
”rÜ
;

49 
cmd
 = 
¬gs
->cmd;

51 
”rÜ
 = 
	`fo_ioùl
(
å
, 
cmd
, (
ÿddr_t
)
¬gs
->
¬g
, 
td
->
td_uüed
,d);

52 
	`fdrÝ
(
å
, 
td
);

54  
”rÜ
;

55 
	}
}

57 
lšux_ioùl_hªdËr
 
	gnvidŸ_hªdËr
 = {

58 
lšux_ioùl_nvidŸ
,

59 
LINUX_IOCTL_NVIDIA_MIN
,

60 
LINUX_IOCTL_NVIDIA_MAX


65 
	$nvidŸ_lšux_š™
()

67 #ifdeà
NV_SUPPORT_LINUX_COMPAT


68 
	`lšux_ioùl_»gi¡”_hªdËr
(&
nvidŸ_hªdËr
);

70 
	}
}

72 
	$nvidŸ_lšux_ex™
()

74 #ifdeà
NV_SUPPORT_LINUX_COMPAT


75 
	`lšux_ioùl_uÄegi¡”_hªdËr
(&
nvidŸ_hªdËr
);

77 
	}
}

	@src/nvidia/nvidia_modeset_interface.c

11 
	~"nv-mode£t-š‹rçû.h
"

13 
	~"nv-misc.h
"

14 
	~"os-š‹rçû.h
"

15 
	~"nv¡©us.h
"

16 
	~"nv.h
"

17 
	~"nv-ä“bsd.h
"

19 cÚ¡ 
nvidŸ_mode£t_ÿÎbacks_t
 *
	gnv_mode£t_ÿÎbacks
;

21 
	$nvidŸ_mode£t_rm_Ýs_®loc_¡ack
(
nvidŸ_¡ack_t
 **
¥
)

23 
	`NV_UMA_ZONE_ALLOC_STACK
(*
¥
);

24  (*
¥
 =ð
NULL
è? 
ENOMEM
 : 0;

25 
	}
}

27 
	$nvidŸ_mode£t_rm_Ýs_ä“_¡ack
(
nvidŸ_¡ack_t
 *
¥
)

29 
	`NV_UMA_ZONE_FREE_STACK
(
¥
);

30 
	}
}

32 
	$nvidŸ_mode£t_£t_ÿÎbacks
(cÚ¡ 
nvidŸ_mode£t_ÿÎbacks_t
 *
cb
)

34 ià((
nv_mode£t_ÿÎbacks
 !ð
NULL
 && 
cb
 != NULL) ||

35 (
nv_mode£t_ÿÎbacks
 =ð
NULL
 && 
cb
 == NULL))

37  -
EINVAL
;

40 
nv_mode£t_ÿÎbacks
 = 
cb
;

42 
	}
}

44 
	$nvidŸ_mode£t_su¥’d
(
NvU32
 
gpuId
)

46 ià(
nv_mode£t_ÿÎbacks
)

48 
nv_mode£t_ÿÎbacks
->
	`su¥’d
(
gpuId
);

50 
	}
}

52 
	$nvidŸ_mode£t_»sume
(
NvU32
 
gpuId
)

54 ià(
nv_mode£t_ÿÎbacks
)

56 
nv_mode£t_ÿÎbacks
->
	`»sume
(
gpuId
);

58 
	}
}

60 
NV_STATUS
 
	$nvidŸ_g‘_rm_Ýs
(
nvidŸ_mode£t_rm_Ýs_t
 *
rm_Ýs
)

62 cÚ¡ 
nvidŸ_mode£t_rm_Ýs_t
 
loÿl_rm_Ýs
 = {

63 .
v”siÚ_¡ršg
 = 
NV_VERSION_STRING
,

64 .
sy¡em_šfo
 = {

65 .
®low_wr™e_combššg
 = 
NV_FALSE
,

67 .
®loc_¡ack
 = 
nvidŸ_mode£t_rm_Ýs_®loc_¡ack
,

68 .
ä“_¡ack
 = 
nvidŸ_mode£t_rm_Ýs_ä“_¡ack
,

69 .
’um”©e_gpus
 = 
NULL
,

70 .
Ý’_gpu
 = 
nvidŸ_Ý’_dev_k”Ãl
,

71 .
þo£_gpu
 = 
nvidŸ_þo£_dev_k”Ãl
,

72 .
Ý
 = 
rm_k”Ãl_rm­i_Ý
,

73 .
£t_ÿÎbacks
 = 
nvidŸ_mode£t_£t_ÿÎbacks
,

76 ià(
	`¡rcmp
(
rm_Ýs
->
v”siÚ_¡ršg
, 
NV_VERSION_STRING
) != 0)

78 
rm_Ýs
->
v”siÚ_¡ršg
 = 
NV_VERSION_STRING
;

79  
NV_ERR_GENERIC
;

82 *
rm_Ýs
 = 
loÿl_rm_Ýs
;

84  
NV_OK
;

85 
	}
}

	@src/nvidia/nvidia_os.c

11 
	~"nv-misc.h
"

12 
	~"os-š‹rçû.h
"

13 
	~"nv.h
"

14 
	~"nv-ä“bsd.h
"

16 
	~<sys/cÚsio.h
>

17 
	~<sys/fbio.h
>

18 
	~<sys/lšk”.h
>

19 
	~<sys/timex.h
>

20 
	~<dev/syscÚs/syscÚs.h
>

25 
	#NV_HAVE_EFI_FB
 (
__F»eBSD_v”siÚ
 >ð1001000)

	)

26 
	#MODINFOMD_EFI_FB
 0x1005

	)

27 
	sefi_fb
 {

28 
ušt64_t
 
	mfb_addr
;

29 
ušt64_t
 
	mfb_size
;

30 
ušt32_t
 
	mfb_height
;

31 
ušt32_t
 
	mfb_width
;

32 
ušt32_t
 
	mfb_¡ride
;

33 
ušt32_t
 
	mfb_mask_»d
;

34 
ušt32_t
 
	mfb_mask_g»’
;

35 
ušt32_t
 
	mfb_mask_blue
;

36 
ušt32_t
 
	mfb_mask_»£rved
;

39 
MALLOC_DEFINE
(
M_NVIDIA
, "nvidia", "NVIDIA memory‡llocations");

40 
TASKQUEUE_DEFINE_THREAD
(
nvidŸ
);

42 
NV_STATUS
 
NV_API_CALL
 
	$os_®loc_mem
(

43 **
add»ss
,

44 
NvU64
 
size


47 
®loc_size
;

53 
®loc_size
 = 
size
;

55 ià(
®loc_size
 !ð
size
)

56  
NV_ERR_INVALID_PARAMETER
;

59 *
add»ss
 = 
	`m®loc
(
®loc_size
, 
M_NVIDIA
, 
M_NOWAIT
 | 
M_ZERO
);

60  *
add»ss
 ? 
NV_OK
 : 
NV_ERR_NO_MEMORY
;

61 
	}
}

63 
NV_API_CALL
 
	$os_ä“_mem
(*
add»ss
)

65 
	`ä“
(
add»ss
, 
M_NVIDIA
);

66 
	}
}

68 
	#NV_MSECS_PER_TICK
 (1000 / 
hz
)

	)

69 
	#NV_MSECS_TO_TICKS
(
ms
è((msè* 
hz
 / 1000)

	)

70 
	#NV_USECS_PER_TICK
 (1000000 / 
hz
)

	)

71 
	#NV_USECS_TO_TICKS
(
us
è((usè* 
hz
 / 1000000)

	)

73 
NV_STATUS
 
NV_API_CALL
 
	$os_d–ay
(
NvU32
 
MžliSecÚds
)

75 
MiüoSecÚds
;

76 
ticks
;

77 
timev®
 
tv_’d
, 
tv_aux
;

79 
	`g‘miüÙime
(&
tv_aux
);

81 ià(
	`__NV_ITHREAD
(è&& (
MžliSecÚds
 > 
NV_MAX_ISR_DELAY_MS
))

82  
NV_ERR_GENERIC
;

84 ià(
	`__NV_ITHREAD
()) {

85 
	`DELAY
(
MžliSecÚds
 * 1000);

86  
NV_OK
;

89 
MiüoSecÚds
 = 
MžliSecÚds
 * 1000;

90 
tv_’d
.
tv_u£c
 = 
MiüoSecÚds
;

91 
tv_’d
.
tv_£c
 = 0;

93 
	`NV_TIMERADD
(&
tv_aux
, &
tv_’d
, &tv_end);

95 
ticks
 = 
	`NV_USECS_TO_TICKS
(
MiüoSecÚds
);

97 ià(
ticks
 > 0) {

99 
	`t¦“p
((*)
os_d–ay
, 
PUSER
 | 
PCATCH
, "d–ay", 
ticks
);

100 
	`g‘miüÙime
(&
tv_aux
);

101 ià(
	`NV_TIMERCMP
(&
tv_aux
, &
tv_’d
, <)) {

103 
	`NV_TIMERSUB
(&
tv_’d
, &
tv_aux
, &tv_aux);

104 
MiüoSecÚds
 = 
tv_aux
.
tv_u£c
 + (tv_aux.
tv_£c
 * 1000000);

106 
MiüoSecÚds
 = 0;

107 } (
ticks
 = 
	`NV_USECS_TO_TICKS
(
MiüoSecÚds
)) > 0);

110 ià(
MiüoSecÚds
 > 0)

111 
	`DELAY
(
MiüoSecÚds
);

113  
NV_OK
;

114 
	}
}

116 
NV_STATUS
 
NV_API_CALL
 
	$os_d–ay_us
(
NvU32
 
MiüoSecÚds
)

118 ià(
	`__NV_ITHREAD
(è&& (
MiüoSecÚds
 > 
NV_MAX_ISR_DELAY_US
))

119  
NV_ERR_GENERIC
;

120 
	`DELAY
(
MiüoSecÚds
);

121  
NV_OK
;

122 
	}
}

124 
NvU64
 
NV_API_CALL
 
	$os_g‘_ýu_äequ’cy
()

127  (
tsc_äeq
 + 4999);

128 
	}
}

130 
NvU32
 
NV_API_CALL
 
	$os_g‘_cu¼’t_´oûss
()

132  
cu½roc
->
p_pid
;

133 
	}
}

135 
NV_API_CALL
 
	$os_g‘_cu¼’t_´oûss_Çme
(*
buf
, 
NvU32
 
Ën
)

138 
buf
[0] = '\0';

139 
	}
}

141 
NvU32
 
NV_API_CALL
 
	$os_g‘_cu¼’t_·sid
()

145 
	}
}

147 
NV_STATUS
 
NV_API_CALL
 
	$os_g‘_cu¼’t_th»ad
(
NvU64
 *
th»adId
)

149 ià(
	`__NV_ITHREAD
())

150 *
th»adId
 = 0;

152 *
th»adId
 = (
NvU64
è
CURTHREAD
->
td_tid
;

154  
NV_OK
;

155 
	}
}

157 
NV_STATUS
 
NV_API_CALL
 
	$os_g‘_cu¼’t_time
(

158 
NvU32
 *
£c
,

159 
NvU32
 *
u£c


162 
timev®
 
tv
;

164 
	`g‘miüÙime
(&
tv
);

166 *
£c
 = 
tv
.
tv_£c
;

167 *
u£c
 = 
tv
.
tv_u£c
;

169  
NV_OK
;

170 
	}
}

172 
	#NANOSECOND_PER_USEC
 1000

	)

174 
NV_API_CALL
 
	$os_g‘_cu¼’t_tick
(
NvU64
 *
n£c
)

176 
NvU32
 
£c
, 
u£c
;

179 (è
	`os_g‘_cu¼’t_time
(&
£c
, &
u£c
);

181 *
n£c
 = (
NvU64
)
£c
 * 
NANOSECOND
 + (NvU64)
u£c
 * 
NANOSECOND_PER_USEC
;

182 
	}
}

184 
BOOL
 
NV_API_CALL
 
	$os_is_admši¡¿tÜ
()

186  
	`su£r
(
CURTHREAD
è? 
FALSE
 : 
TRUE
;

187 
	}
}

189 
NvU8
 
NV_API_CALL
 
	$os_io_»ad_by‹
(

190 
NvU32
 
add»ss


194  
	`šb
(
add»ss
);

195 
	}
}

197 
NV_API_CALL
 
	$os_io_wr™e_by‹
(

198 
NvU32
 
add»ss
,

199 
NvU8
 
v®ue


203 
	`outb
(
add»ss
, 
v®ue
);

204 
	}
}

206 
NvU16
 
NV_API_CALL
 
	$os_io_»ad_wÜd
(

207 
NvU32
 
add»ss


211  
	`šw
(
add»ss
);

212 
	}
}

214 
NV_API_CALL
 
	$os_io_wr™e_wÜd
(

215 
NvU32
 
add»ss
,

216 
NvU16
 
v®ue


220  
	`outw
(
add»ss
, 
v®ue
);

221 
	}
}

223 
NvU32
 
NV_API_CALL
 
	$os_io_»ad_dwÜd
(

224 
NvU32
 
add»ss


228  
	`šl
(
add»ss
);

229 
	}
}

231 
NV_API_CALL
 
	$os_io_wr™e_dwÜd
(

232 
NvU32
 
add»ss
,

233 
NvU32
 
v®ue


237 
	`ouŽ
(
add»ss
, 
v®ue
);

238 
	}
}

240 * 
NV_API_CALL
 
	$os_m­_k”Ãl_¥aû
(

241 
NvU64
 
¡¬t
,

242 
NvU64
 
size
,

243 
NvU32
 
mode
,

244 
NvU32
 
memTy³


247 
m­_mode
;

249 #ià
	`defšed
(
NVCPU_X86
è&& !defšed(
PAE
)

250 ià(
¡¬t
 > 0xffffffffULL)

251  
NULL
;

254 
mode
) {

255 
NV_MEMORY_CACHED
:

256 
m­_mode
 = 
PAT_WRITE_BACK
;

258 
NV_MEMORY_WRITECOMBINED
:

259 
m­_mode
 = 
PAT_WRITE_COMBINING
;

261 
NV_MEMORY_UNCACHED
:

262 
NV_MEMORY_DEFAULT
:

263 
m­_mode
 = 
PAT_UNCACHEABLE
;

266 
	`nv_´štf
(
NV_DBG_ERRORS
,

268  
NULL
;

271  
	`pm­_m­dev_©Œ
(
¡¬t
, 
size
, 
m­_mode
);

272 
	}
}

274 
NV_API_CALL
 
	$os_unm­_k”Ãl_¥aû
(

275 *
add»ss
,

276 
NvU64
 
size


279 
	`pm­_unm­dev
((
vm_off£t_t
)
add»ss
, 
size
);

280 
	}
}

282 * 
NV_API_CALL
 
	$os_m­_u£r_¥aû
(

283 
NvU64
 
¡¬t
,

284 
NvU64
 
size_by‹s
,

285 
NvU32
 
mode
,

286 
NvU32
 
´Ùeù
,

287 **
´iv_d©a


290  (*)(
NvUPŒ
)
¡¬t
;

291 
	}
}

293 
NV_API_CALL
 
	$os_unm­_u£r_¥aû
(

294 *
add»ss
,

295 
NvU64
 
size
,

296 *
´iv_d©a


299 
	}
}

307 
NvU32
 
	gcur_debugËv–
 = 0xffffffff;

309 
NV_API_CALL
 
	$os_dbg_š™
()

311 
NvU32
 
Ãw_debugËv–
;

312 
nvidŸ_¡ack_t
 *
¥
;

314 
	`NV_UMA_ZONE_ALLOC_STACK
(
¥
);

315 ià(
¥
 =ð
NULL
)

318 ià(
	`rm_»ad_»gi¡ry_dwÜd
(
¥
, 
NULL
, "NVreg", "ResmanDebugLevel",

319 &
Ãw_debugËv–
è=ð
NV_OK
) {

320 ià(
Ãw_debugËv–
 != 0xffffffff)

321 
cur_debugËv–
 = 
Ãw_debugËv–
;

324 
	`NV_UMA_ZONE_FREE_STACK
(
¥
);

325 
	}
}

327 
NV_STATUS
 
NV_API_CALL
 
	$os_scheduË
()

329 
»t
 = 
	`·u£
("sched", 1 );

331 
»t
)

334 
EWOULDBLOCK
:

335  
NV_OK
;

337  
NV_ERR_OPERATING_SYSTEM
;

339 
	}
}

341 
	$os_execu‹_wÜk_™em
(*
cÚ‹xt
, 
³ndšg
)

343 
nvidŸ_wÜk_t
 *
wÜk
 = (nvidŸ_wÜk_ˆ*)
cÚ‹xt
;

344 
nvidŸ_¡ack_t
 *
¥
 = 
NULL
;

346 
	`NV_UMA_ZONE_ALLOC_STACK
(
¥
);

347 ià(
¥
 =ð
NULL
) {

348 
	`nv_´štf
(
NV_DBG_ERRORS
, "NVRM: failedo‡llocate stack!\n");

352 
	`rm_execu‹_wÜk_™em
(
¥
, 
wÜk
->
d©a
);

353 
	`os_ä“_mem
((*)
wÜk
);

355 
	`NV_UMA_ZONE_FREE_STACK
(
¥
);

356 
	}
}

358 
NV_STATUS
 
NV_API_CALL
 
	$os_queue_wÜk_™em
(*
d©a
)

360 
NV_STATUS
 
¡©us
;

361 
nvidŸ_wÜk_t
 *
wÜk
;

363 
¡©us
 = 
	`os_®loc_mem
((**)&
wÜk
, (
nvidŸ_wÜk_t
));

364 ià(
¡©us
 !ð
NV_OK
)

365  
¡©us
;

367 
wÜk
->
d©a
 = data;

369 
	`TASK_INIT
(&
wÜk
->
sk
, 0, 
os_execu‹_wÜk_™em
, (*)work);

370 
	`skqueue_’queue
(
skqueue_nvidŸ
, &
wÜk
->
sk
);

372  
NV_OK
;

373 
	}
}

375 
NV_STATUS
 
NV_API_CALL
 
	$os_æush_wÜk_queue
()

377 
	`skqueue_run
(
skqueue_nvidŸ
);

378  
NV_OK
;

379 
	}
}

381 
NV_API_CALL
 
	$os_dbg_£t_Ëv–
(
NvU32
 
Ãw_debugËv–
)

383 
cur_debugËv–
 = 
Ãw_debugËv–
;

384 
	}
}

386 
NV_API_CALL
 
	$os_dbg_b»akpošt
()

388 #ifdeà
DEBUG


389 
	`NV_KDB_ENTER
("breakpoint", "DEBUG breakpoint");

391 
	}
}

393 
	#MAX_ERROR_STRING
 512

	)

394 
	gnv_”rÜ_¡ršg
[
MAX_ERROR_STRING
];

399 
NV_API_CALL
 
	$out_¡ršg
(cÚ¡ *
mes§ge
)

401 
	`´štf
("%s", 
mes§ge
);

402 
	}
}

404 
NV_API_CALL
 
	$nv_´štf
(
NvU32
 
debugËv–
, cÚ¡ *
fÜm©
, ...)

406 *
mes§ge
 = 
nv_”rÜ_¡ršg
;

407 
va_li¡
 
¬gli¡
;

408 
ch¬s_wr™‹n
 = 0;

410 ià(
debugËv–
 >ð((
cur_debugËv–
 >> 4) & 3)) {

411 
	`va_¡¬t
(
¬gli¡
, 
fÜm©
);

412 
ch¬s_wr™‹n
 = 
	`v¢´štf
(
mes§ge
, (
nv_”rÜ_¡ršg
), 
fÜm©
, 
¬gli¡
);

413 
	`va_’d
(
¬gli¡
);

414 
	`´štf
("%s", 
mes§ge
);

417  
ch¬s_wr™‹n
;

418 
	}
}

420 
NvS32
 
NV_API_CALL
 
	$os_¢´štf
(*
buf
, 
NvU32
 
size
, cÚ¡ *
fmt
, ...)

422 
va_li¡
 
¬gli¡
;

423 
ch¬s_wr™‹n
;

425 
	`va_¡¬t
(
¬gli¡
, 
fmt
);

426 
ch¬s_wr™‹n
 = 
	`v¢´štf
(
buf
, 
size
, 
fmt
, 
¬gli¡
);

427 
	`va_’d
(
¬gli¡
);

429  
ch¬s_wr™‹n
;

430 
	}
}

432 
NV_API_CALL
 
	$os_log_”rÜ
(cÚ¡ *
fmt
, 
va_li¡
 
­
)

434 
	`v¢´štf
(
nv_”rÜ_¡ršg
, 
MAX_ERROR_STRING
, 
fmt
, 
­
);

435 
	`´štf
("%s", 
nv_”rÜ_¡ršg
);

436 
	}
}

438 
NvS32
 
NV_API_CALL
 
	$os_mem_cmp
(

439 cÚ¡ 
NvU8
 *
buf0
,

440 cÚ¡ 
NvU8
 *
buf1
,

441 
NvU32
 
Ëngth


444  
	`memcmp
(
buf0
, 
buf1
, 
Ëngth
);

445 
	}
}

447 
NvU8
* 
NV_API_CALL
 
	$os_mem_cÝy
(

448 
NvU8
 *
d¡
,

449 cÚ¡ 
NvU8
 *
¤c
,

450 
NvU32
 
Ëngth


453 
NvU8
 *
»t
 = 
d¡
;

454 
NvU32
 
dwÜds
, 
by‹s
 = 
Ëngth
;

456 ià((
Ëngth
 >= 128) &&

457 (((
NvUPŒ
)
d¡
 & 3è=ð0è& (((NvUPŒ)
¤c
 & 3) == 0))

459 
dwÜds
 = (
Ëngth
 / (
NvU32
));

460 
by‹s
 = (
Ëngth
 % (
NvU32
));

462 
dwÜds
 != 0)

464 *(
NvU32
 *)
d¡
 = *(cÚ¡ NvU32 *)
¤c
;

465 
d¡
 +ð(
NvU32
);

466 
¤c
 +ð(
NvU32
);

467 
dwÜds
--;

471 
by‹s
 != 0)

473 *
d¡
 = *
¤c
;

474 
d¡
++;

475 
¤c
++;

476 
by‹s
--;

479  
»t
;

480 
	}
}

482 
NV_STATUS
 
NV_API_CALL
 
	$os_memýy_äom_u£r
(

483 *
d¡
,

484 cÚ¡ *
¤c
,

485 
NvU32
 
Ëngth


488  
	`cÝyš
(
¤c
, 
d¡
, 
Ëngth
è? 
NV_ERR_INVALID_POINTER
 : 
NV_OK
;

489 
	}
}

491 
NV_STATUS
 
NV_API_CALL
 
	$os_memýy_to_u£r
(

492 *
d¡
,

493 cÚ¡ *
¤c
,

494 
NvU32
 
Ëngth


497  
	`cÝyout
(
¤c
, 
d¡
, 
Ëngth
è? 
NV_ERR_INVALID_POINTER
 : 
NV_OK
;

498 
	}
}

500 * 
NV_API_CALL
 
	$os_mem_£t
(

501 *
d¡
,

502 
NvU8
 
c
,

503 
NvU32
 
Ëngth


506 
NvU8
 *
»t
 = 
d¡
;

507 
NvU32
 
by‹s
 = 
Ëngth
;

509 
by‹s
 != 0)

511 *(
NvU8
 *)
d¡
 = 
c
;

512 
d¡
 = ((
NvU8
 *)dst + 1);

513 
by‹s
--;

516  
»t
;

517 
	}
}

519 * 
NV_API_CALL
 
	$os_¡ršg_cÝy
(

520 *
d¡
,

521 cÚ¡ *
¤c


524  
	`¡rýy
(
d¡
, 
¤c
);

525 
	}
}

527 
NvU32
 
NV_API_CALL
 
	$os_¡ršg_Ëngth
(cÚ¡ * 
s
)

529  
	`¡¾’
(
s
);

530 
	}
}

532 
NvU32
 
NV_API_CALL
 
	$os_¡¹oul
(cÚ¡ *
¡r
, **
’dp
, 
NvU32
 
ba£
)

534  (
NvU32
)
	`¡¹oul
(
¡r
, 
’dp
, 
ba£
);

535 
	}
}

537 
NvS32
 
NV_API_CALL
 
	$os_¡ršg_com·»
(cÚ¡ *
¡r1
, cÚ¡ *
¡r2
)

539  
	`¡rcmp
(
¡r1
, 
¡r2
);

540 
	}
}

542 
NvU32
 
NV_API_CALL
 
	$os_g‘_·ge_size
()

544  
PAGE_SIZE
;

545 
	}
}

547 
NvU64
 
NV_API_CALL
 
	$os_g‘_·ge_mask
()

549  ~
PAGE_MASK
;

550 
	}
}

552 
NvU8
 
NV_API_CALL
 
	$os_g‘_·ge_shiá
()

554  
PAGE_SHIFT
;

555 
	}
}

557 
NvU64
 
NV_API_CALL
 
	$os_g‘_num_phys_·ges
()

559  (
NvU64
)
physmem
;

560 
	}
}

562 
NvU32
 
NV_API_CALL
 
	$os_g‘_ýu_couÁ
()

564  
mp_nýus
;

565 
	}
}

567 
NvU32
 
NV_API_CALL
 
	$os_g‘_ýu_numb”
()

569  
curýu
;

570 
	}
}

572 #ifdeà
NV_USE_WBINVD


573 
	$wbšvd_aùiÚ_func
(*
¬g
)

575 
__asm__
 
	`__vÞ©že__
("wbinvd": : :"memory");

576 
	}
}

578 
NV_STATUS
 
NV_API_CALL
 
	$os_æush_ýu_ÿche
()

580 
	`smp_»ndezvous
(
NULL
, 
wbšvd_aùiÚ_func
, NULL, NULL);

581 
	`wbšvd_aùiÚ_func
(
NULL
);

582  
NV_OK
;

583 
	}
}

585 
NV_STATUS
 
NV_API_CALL
 
	$os_æush_ýu_ÿche
()

587 
	`pm­_šv®id©e_ÿche
();

588  
NV_OK
;

589 
	}
}

592 
NV_STATUS
 
NV_API_CALL
 
	$os_æush_u£r_ÿche
(

593 
NvU64
 
¡¬t
,

594 
NvU64
 
’d
,

595 
NvU64
 
physS¹
,

596 
NvU64
 
physEnd
,

597 
NvU32
 
æags


600  
NV_ERR_NOT_SUPPORTED
;

601 
	}
}

603 
NV_STATUS
 
NV_API_CALL
 
	$os_æush_ýu_ÿche_®l
()

605  
NV_ERR_NOT_SUPPORTED
;

606 
	}
}

608 
	$sãnû_aùiÚ_func
(*
¬g
)

610 
__asm__
 
	`__vÞ©že__
("sfence": : :"memory");

611 
	}
}

613 
NV_API_CALL
 
	$os_æush_ýu_wr™e_combše_bufãr
()

615 
	`smp_»ndezvous
(
NULL
, 
sãnû_aùiÚ_func
, NULL, NULL);

616 
	`sãnû_aùiÚ_func
(
NULL
);

617 
	}
}

619 
NV_STATUS
 
NV_API_CALL
 
	$os_®loc_mu‹x
(**
mu‹x
)

621 
NV_STATUS
 
¡©us
;

622 
sx
 *sx;

624 
¡©us
 = 
	`os_®loc_mem
((**)&
sx
, (sx));

625 ià(
¡©us
 !ð
NV_OK
)

626  
¡©us
;

628 
	`sx_š™
(
sx
, "os.lock_sx");

629 *
mu‹x
 = (*)
sx
;

631  
NV_OK
;

632 
	}
}

634 
NV_API_CALL
 
	$os_ä“_mu‹x
(*
mu‹x
)

636 
sx
 *sx = 
mu‹x
;

638 ià(
sx
 !ð
NULL
) {

639 
	`sx_de¡roy
(
sx
);

640 
	`os_ä“_mem
(
sx
);

642 
	}
}

644 
NV_STATUS
 
NV_API_CALL
 
	$os_acquœe_mu‹x
(*
mu‹x
)

646 
sx
 *sx = 
mu‹x
;

648 ià(
	`__NV_ITHREAD
())

649  
NV_ERR_INVALID_REQUEST
;

651 
	`sx_xlock
(
sx
);

653  
NV_OK
;

654 
	}
}

656 
NV_STATUS
 
NV_API_CALL
 
	$os_cÚd_acquœe_mu‹x
(*
mu‹x
)

658 
sx
 *sx = 
mu‹x
;

660 ià(
	`__NV_ITHREAD
())

661  
NV_ERR_INVALID_REQUEST
;

663 ià(
	`sx_Œy_xlock
(
sx
) == 0)

664  
NV_ERR_TIMEOUT_RETRY
;

666  
NV_OK
;

667 
	}
}

669 
NV_API_CALL
 
	$os_»Ëa£_mu‹x
(*
mu‹x
)

671 
sx
 *sx = 
mu‹x
;

673 
	`sx_xuÆock
(
sx
);

674 
	}
}

676 
	sos_£m­hÜe
 {

677 
mtx
 
	mmu‹x_mtx
;

678 
cv
 
	mmu‹x_cv
;

679 
NvS32
 
	mcouÁ
;

682 * 
NV_API_CALL
 
	$os_®loc_£m­hÜe
(
NvU32
 
š™ŸlV®ue
)

684 
NV_STATUS
 
¡©us
;

685 
os_£m­hÜe
 *
os_£ma
;

687 
¡©us
 = 
	`os_®loc_mem
((**)&
os_£ma
, (
os_£m­hÜe
));

688 ià(
¡©us
 !ð
NV_OK
) {

689 
	`nv_´štf
(
NV_DBG_ERRORS
, "NVRM: failedo‡llocate semaphore!\n");

690  
NULL
;

693 
	`mtx_š™
(&
os_£ma
->
mu‹x_mtx
, "os.£ma_mtx", 
NULL
, 
MTX_DEF
);

694 
	`cv_š™
(&
os_£ma
->
mu‹x_cv
, "os.sema_cv");

696 
os_£ma
->
couÁ
 = 
š™ŸlV®ue
;

698  (*)
os_£ma
;

699 
	}
}

701 
NV_API_CALL
 
	$os_ä“_£m­hÜe
(*
£m­hÜe
)

703 
os_£m­hÜe
 *
os_£ma
 = (os_£m­hÜ*)
£m­hÜe
;

705 
	`mtx_de¡roy
(&
os_£ma
->
mu‹x_mtx
);

706 
	`cv_de¡roy
(&
os_£ma
->
mu‹x_cv
);

708 
	`os_ä“_mem
(
os_£ma
);

709 
	}
}

711 
NV_STATUS
 
NV_API_CALL
 
	$os_acquœe_£m­hÜe
(*
£m­hÜe
)

713 
os_£m­hÜe
 *
os_£ma
 = (os_£m­hÜ*)
£m­hÜe
;

715 
	`mtx_lock
(&
os_£ma
->
mu‹x_mtx
);

716 
os_£ma
->
couÁ
--;

717 ià(
os_£ma
->
couÁ
 < 0)

718 
	`cv_wa™_uÆock
(&
os_£ma
->
mu‹x_cv
, &os_£ma->
mu‹x_mtx
);

720 
	`mtx_uÆock
(&
os_£ma
->
mu‹x_mtx
);

722  
NV_OK
;

723 
	}
}

725 
NV_STATUS
 
NV_API_CALL
 
	$os_»Ëa£_£m­hÜe
(*
£m­hÜe
)

727 
os_£m­hÜe
 *
os_£ma
 = (os_£m­hÜ*)
£m­hÜe
;

729 
	`mtx_lock
(&
os_£ma
->
mu‹x_mtx
);

730 ià(
os_£ma
->
couÁ
 < 0) {

731 
	`cv_sigÇl
(&
os_£ma
->
mu‹x_cv
);

733 
os_£ma
->
couÁ
++;

734 
	`mtx_uÆock
(&
os_£ma
->
mu‹x_mtx
);

736  
NV_OK
;

737 
	}
}

739 
BOOL
 
NV_API_CALL
 
	$os_£m­hÜe_may_¦“p
()

741  (!
	`__NV_ITHREAD
());

742 
	}
}

744 
BOOL
 
NV_API_CALL
 
	$os_is_i¤
()

746  (
	`__NV_ITHREAD
());

747 
	}
}

749 
BOOL
 
NV_API_CALL
 
	$os_·t_suµÜ‹d
()

751  
TRUE
;

752 
	}
}

754 
BOOL
 
NV_API_CALL
 
	$os_is_efi_’abËd
()

756  
FALSE
;

757 
	}
}

759 
BOOL
 
NV_API_CALL
 
	$os_iommu_is_¢oÝšg_’abËd
()

761  
TRUE
;

762 
	}
}

764 
NV_API_CALL
 
	$os_g‘_sü“n_šfo
(

765 
NvU64
 *
pPhysiÿlAdd»ss
,

766 
NvU16
 *
pFbWidth
,

767 
NvU16
 *
pFbHeight
,

768 
NvU16
 *
pFbD•th
,

769 
NvU16
 *
pFbP™ch


772 #ià
NV_HAVE_EFI_FB


779 
ÿddr_t
 
kmdp
 = 
	`´–ßd_£¬ch_by_ty³
("elf kernel") ?:

780 
	`´–ßd_£¬ch_by_ty³
("elf64 kernel");

782 ià(
kmdp
 !ð
NULL
)

784 cÚ¡ 
efi_fb
 *
efifb
 =

785 (cÚ¡ 
efi_fb
 *)
	`´–ßd_£¬ch_šfo
(
kmdp
, 
MODINFO_METADATA
 |

786 
MODINFOMD_EFI_FB
);

787 ià(
efifb
 !ð
NULL
)

789 
d•th
 = 
	`æs
(
efifb
->
fb_mask_»d
 |ƒfifb->
fb_mask_g»’
 |

790 
efifb
->
fb_mask_blue
 |ƒfifb->
fb_mask_»£rved
);

791 
bµ
 = 
	`roundup2
(
d•th
, 
NBBY
);

793 *
pPhysiÿlAdd»ss
 = 
efifb
->
fb_addr
;

794 *
pFbWidth
 = 
efifb
->
fb_width
;

795 *
pFbHeight
 = 
efifb
->
fb_height
;

796 *
pFbD•th
 = 
d•th
;

798 *
pFbP™ch
 = 
efifb
->
fb_¡ride
 * (
bµ
 / 
NBBY
);

804 cÚ¡ 
sc_soác_t
 *
sc
 = 
	`sc_g‘_soác
(0, 
SC_KERNEL_CONSOLE
);

806 ià(
sc
)

808 cÚ¡ 
video_ad­‹r_t
 *
adp
 = 
sc
->adp;

810 ià(
adp
)

812 cÚ¡ 
video_šfo
 *
vi
 = &
adp
->
va_šfo
;

814 ià(
vi
 && (vi->
vi_æags
 & 
V_INFO_LINEAR
))

816 *
pPhysiÿlAdd»ss
 = 
vi
->
vi_bufãr
;

817 *
pFbWidth
 = 
vi
->
vi_width
;

818 *
pFbHeight
 = 
vi
->
vi_height
;

819 *
pFbD•th
 = 
vi
->
vi_d•th
;

820 *
pFbP™ch
 = 
adp
->
va_lše_width
;

827 *
pPhysiÿlAdd»ss
 = 0;

828 *
pFbWidth
 = *
pFbHeight
 = *
pFbD•th
 = *
pFbP™ch
 = 0;

829 
	}
}

831 
NV_API_CALL
 
	$os_»gi¡”_com·tibË_ioùl
(

832 
NvU32
 
cmd
,

833 
NvU32
 
size


836 
	}
}

838 
NV_API_CALL
 
	$os_uÄegi¡”_com·tibË_ioùl
(

839 
NvU32
 
cmd
,

840 
NvU32
 
size


843 
	}
}

845 
NV_STATUS
 
NV_API_CALL
 
	$os_di§bË_cÚsÞe_acûss
()

847  
NV_OK
;

848 
	}
}

850 
NV_STATUS
 
NV_API_CALL
 
	$os_’abË_cÚsÞe_acûss
()

852  
NV_OK
;

853 
	}
}

855 
NV_STATUS
 
NV_API_CALL
 
	$os_®loc_¥šlock
(**
lock
)

857 
NV_STATUS
 
¡©us
;

858 
mtx
 *mtx;

860 
¡©us
 = 
	`os_®loc_mem
((**)&
mtx
, (mtx));

861 ià(
¡©us
 !ð
NV_OK
)

862  
¡©us
;

864 
	`mtx_š™
(
mtx
, "os.lock_mtx", 
NULL
, 
MTX_DEF
);

866 *
lock
 = (*)
mtx
;

868  
NV_OK
;

869 
	}
}

871 
NV_API_CALL
 
	$os_ä“_¥šlock
(*
lock
)

873 
mtx
 *mtx = 
lock
;

875 ià(
mtx
 !ð
NULL
) {

876 
	`mtx_as£¹
(
mtx
, 
MA_OWNED
);

877 
	`mtx_de¡roy
(
mtx
);

878 
	`os_ä“_mem
(
mtx
);

880 
	}
}

882 
NvU64
 
NV_API_CALL
 
	$os_acquœe_¥šlock
(*
lock
)

884 
mtx
 *mtx = 
lock
;

886 
	`mtx_lock
(
mtx
);

889 
	}
}

891 
NV_API_CALL
 
	$os_»Ëa£_¥šlock
(*
lock
, 
NvU64
 
ÞdIrql
)

893 
mtx
 *mtx = 
lock
;

895 
	`mtx_uÆock
(
mtx
);

896 
	}
}

898 
NV_STATUS
 
NV_API_CALL
 
	$os_g‘_add»ss_¥aû_šfo
(

899 
NvU64
 *
u£rS¹Add»ss
,

900 
NvU64
 *
u£rEndAdd»ss
,

901 
NvU64
 *
k”ÃlS¹Add»ss
,

902 
NvU64
 *
k”ÃlEndAdd»ss


905  
NV_ERR_NOT_SUPPORTED
;

906 
	}
}

908 
NV_STATUS
 
NV_API_CALL
 
	$os_g‘_v”siÚ_šfo
(
os_v”siÚ_šfo
 * 
pOsV”siÚInfo
)

910  
NV_ERR_NOT_SUPPORTED
;

911 
	}
}

913 
NvBoÞ
 
NV_API_CALL
 
	$os_is_x’_dom0
()

915  
FALSE
;

916 
	}
}

918 
NvBoÞ
 
NV_API_CALL
 
	$os_is_vgx_hy³r
()

920  
FALSE
;

921 
	}
}

923 
NV_STATUS
 
NV_API_CALL
 
	$os_šjeù_vgx_msi
(
NvU16
 
gue¡ID
, 
NvU64
 
msiAddr
, 
NvU32
 
msiD©a
)

925  
NV_ERR_NOT_SUPPORTED
;

926 
	}
}

928 
NvBoÞ
 
NV_API_CALL
 
	$os_is_grid_suµÜ‹d
()

930  
FALSE
;

931 
	}
}

933 
NV_API_CALL
 
	$os_bug_check
(
NvU32
 
bugCode
, cÚ¡ *
bugCodeSŒ
)

935 
	}
}

937 
NV_STATUS
 
NV_API_CALL
 
	$os_lock_u£r_·ges
(

938 *
add»ss
,

939 
NvU64
 
·ge_couÁ
,

940 **
·ge_¬¿y


943  
NV_ERR_NOT_SUPPORTED
;

944 
	}
}

946 
NV_STATUS
 
NV_API_CALL
 
	$os_uÆock_u£r_·ges
(

947 
NvU64
 
·ge_couÁ
,

948 *
·ge_¬¿y


951  
NV_ERR_NOT_SUPPORTED
;

952 
	}
}

954 
NV_STATUS
 
NV_API_CALL
 
	$os_lookup_u£r_io_memÜy
(

955 *
add»ss
,

956 
NvU64
 
·ge_couÁ
,

957 
NvU64
 **
±e_¬¿y


960  
NV_ERR_NOT_SUPPORTED
;

961 
	}
}

963 
NV_STATUS
 
NV_API_CALL
 
	$os_m©ch_mm­_off£t
(

964 *
pAÎocPriv©e
,

965 
NvU64
 
off£t
,

966 
NvU64
 *
pPageIndex


969 
nvidŸ_®loc
 *
©
 = 
pAÎocPriv©e
;

970 
NvU64
 
i
;

972 
i
 = 0; i < (
©
->
size
 / 
PAGE_SIZE
); i++) {

973 ià(
©
->
®loc_ty³_cÚtiguous
) {

974 ià(
off£t
 =ð(
©
->
±e_¬¿y
[0].
physiÿl_add»ss
 + (
i
 * 
PAGE_SIZE
))) {

975 *
pPageIndex
 = 
i
;

976  
NV_OK
;

979 ià(
off£t
 =ð
©
->
±e_¬¿y
[
i
].
physiÿl_add»ss
) {

980 *
pPageIndex
 = 
i
;

981  
NV_OK
;

986  
NV_ERR_OBJECT_NOT_FOUND
;

987 
	}
}

989 
NV_STATUS
 
NV_API_CALL
 
	$os_g‘_euid
(
NvU32
 *
pSecTok’
)

991 *
pSecTok’
 = (
NvU32
)
CURTHREAD
->
td_uüed
->
ü_uid
;

992  
NV_OK
;

993 
	}
}

995 
NV_STATUS
 
NV_API_CALL
 
	$os_g‘_smbios_h—d”
(
NvU64
 *
pSmbsAddr
)

997  
NV_ERR_NOT_SUPPORTED
;

998 
	}
}

1000 
NV_STATUS
 
NV_API_CALL
 
	gos_g‘_aýi_rsdp_äom_uefi


1002 
NvU32
 *
	gpRsdpAddr


1005  
	gNV_ERR_NOT_SUPPORTED
;

1008 
NV_API_CALL
 
	$os_add_»cÜd_fÜ_üashLog
(*
pbufãr
, 
NvU32
 
size
)

1010 
	}
}

1012 
NV_API_CALL
 
	$os_d–‘e_»cÜd_fÜ_üashLog
(*
pbufãr
)

1014 
	}
}

1016 
NV_STATUS
 
NV_API_CALL
 
	$os_ÿÎ_vgpu_vfio
(*
pvgpu_vfio_šfo
, 
NvU32
 
cmd_ty³
)

1018  
NV_ERR_NOT_SUPPORTED
;

1019 
	}
}

1021 
NV_STATUS
 
NV_API_CALL
 
	$os_numa_memblock_size
(
NvU64
 *
memblock_size
)

1023  
NV_ERR_NOT_SUPPORTED
;

1024 
	}
}

1026 
NV_STATUS
 
NV_API_CALL
 
	gos_®loc_·ges_node


1028 
NvS32
 
	gnid
,

1029 
NvU32
 
	gsize
,

1030 
NvU32
 
	gæag
,

1031 
NvU64
 *
	gpAdd»ss


1034  
	gNV_ERR_NOT_SUPPORTED
;

1037 
NV_STATUS
 
NV_API_CALL
 
	gos_g‘_·ge


1039 
NvU64
 
	gadd»ss


1042  
	gNV_ERR_NOT_SUPPORTED
;

1045 
NV_STATUS
 
NV_API_CALL
 
	gos_put_·ge


1047 
NvU64
 
	gadd»ss


1050  
	gNV_ERR_NOT_SUPPORTED
;

1053 
NvU32
 
NV_API_CALL
 
	gos_g‘_·ge_»fcouÁ


1055 
NvU64
 
	gadd»ss


1061 
NvU32
 
NV_API_CALL
 
	gos_couÁ_ž_·ges


1063 
NvU64
 
	gadd»ss


1069 
NV_API_CALL
 
	gos_ä“_·ges_phys


1071 
NvU64
 
	gadd»ss
,

1072 
NvU32
 
	gsize


1077 
NV_STATUS
 
NV_API_CALL
 
	$os_mi_cÚÃù
(
NvU32
 
devIndex
, 
NvU8
 
myAddr
, **
µOsPriv
)

1079  
NV_ERR_NOT_SUPPORTED
;

1080 
	}
}

1082 
NV_API_CALL
 
	$os_mi_discÚÃù
(*
pOsPriv
)

1084 
	}
}

1086 
NV_STATUS
 
NV_API_CALL
 
	$os_mi_£nd_»ûive_cmd
(*
pOsPriv
, 
nvmi_»q_»¥_t
 *
pReq
)

1088  
NV_ERR_NOT_SUPPORTED
;

1089 
	}
}

1091 
NV_STATUS
 
NV_API_CALL
 
	$os_ÿÎ_nv_vmbus
(
NvU32
 
vmbus_cmd
, *
šput
)

1093  
NV_ERR_NOT_SUPPORTED
;

1094 
	}
}

	@src/nvidia/nvidia_os_pci.c

11 
	~"nv-misc.h
"

12 
	~"os-š‹rçû.h
"

13 
	~"nv.h
"

14 
	~"nv-ä“bsd.h
"

16 * 
NV_API_CALL
 
	$os_pci_š™_hªdË
(

17 
NvU32
 
domaš
,

18 
NvU8
 
bus
,

19 
NvU8
 
¦Ù
,

20 
NvU8
 
funùiÚ
,

21 
NvU16
 *
v’dÜ
,

22 
NvU16
 *
deviû


25 
deviû_t
 
dev
;

33 
dev
 = 
	`pci_fšd_dbsf
(
domaš
, 
bus
, 
¦Ù
, 
funùiÚ
);

35 ià(
dev
 !ð
NULL
) {

36 ià(
v’dÜ
)

37 *
v’dÜ
 = 
	`pci_g‘_v’dÜ
(
dev
);

38 ià(
deviû
)

39 *
deviû
 = 
	`pci_g‘_deviû
(
dev
);

42  (*è
dev
;

43 
	}
}

45 
NV_STATUS
 
NV_API_CALL
 
	$os_pci_»ad_by‹
(

46 *
hªdË
,

47 
NvU32
 
off£t
,

48 
NvU8
 *
v®ue


51 ià(
off£t
 >= 0x100) {

52 *
v®ue
 = 0xff;

53  
NV_ERR_NOT_SUPPORTED
;

55 *
v®ue
 = 
	`pci_»ad_cÚfig
((
deviû_t
è
hªdË
, 
off£t
, 1);

56  
NV_OK
;

57 
	}
}

59 
NV_STATUS
 
NV_API_CALL
 
	$os_pci_»ad_wÜd
(

60 *
hªdË
,

61 
NvU32
 
off£t
,

62 
NvU16
 *
v®ue


65 ià(
off£t
 >= 0x100) {

66 *
v®ue
 = 0xffff;

67  
NV_ERR_NOT_SUPPORTED
;

69 *
v®ue
 = 
	`pci_»ad_cÚfig
((
deviû_t
è
hªdË
, 
off£t
, 2);

70  
NV_OK
;

71 
	}
}

73 
NV_STATUS
 
NV_API_CALL
 
	$os_pci_»ad_dwÜd
(

74 *
hªdË
,

75 
NvU32
 
off£t
,

76 
NvU32
 *
v®ue


79 ià(
off£t
 >= 0x100) {

80 *
v®ue
 = 0xffffffff;

81  
NV_ERR_NOT_SUPPORTED
;

83 *
v®ue
 = 
	`pci_»ad_cÚfig
((
deviû_t
è
hªdË
, 
off£t
, 4);

84  
NV_OK
;

85 
	}
}

87 
NV_STATUS
 
NV_API_CALL
 
	$os_pci_wr™e_by‹
(

88 *
hªdË
,

89 
NvU32
 
off£t
,

90 
NvU8
 
v®ue


93 ià(
off£t
 >= 0x100)

94  
NV_ERR_NOT_SUPPORTED
;

96 
	`pci_wr™e_cÚfig
((
deviû_t
è
hªdË
, 
off£t
, 
v®ue
, 1);

97  
NV_OK
;

98 
	}
}

100 
NV_STATUS
 
NV_API_CALL
 
	$os_pci_wr™e_wÜd
(

101 *
hªdË
,

102 
NvU32
 
off£t
,

103 
NvU16
 
v®ue


106 ià(
off£t
 >= 0x100)

107  
NV_ERR_NOT_SUPPORTED
;

109 
	`pci_wr™e_cÚfig
((
deviû_t
è
hªdË
, 
off£t
, 
v®ue
, 2);

110  
NV_OK
;

111 
	}
}

113 
NV_STATUS
 
NV_API_CALL
 
	$os_pci_wr™e_dwÜd
(

114 *
hªdË
,

115 
NvU32
 
off£t
,

116 
NvU32
 
v®ue


119 ià(
off£t
 >= 0x100)

120  
NV_ERR_NOT_SUPPORTED
;

122 
	`pci_wr™e_cÚfig
((
deviû_t
è
hªdË
, 
off£t
, 
v®ue
, 4);

123  
NV_OK
;

124 
	}
}

126 
NV_API_CALL
 
	$os_pci_»move
(

127 *
hªdË


131 
	}
}

133 
NvBoÞ
 
NV_API_CALL
 
	$os_pci_»move_suµÜ‹d
()

135  
NV_FALSE
;

136 
	}
}

	@src/nvidia/nvidia_os_registry.c

11 
	#NV_DEFINE_REGISTRY_KEY_TABLE


	)

13 
	~"nv-misc.h
"

14 
	~"os-š‹rçû.h
"

15 
	~"nv.h
"

16 
	~"nv-ä“bsd.h
"

17 
	~"nv-»g.h
"

19 
	$nvidŸ_upd©e_»gi¡ry
(*
Ãw_ÝtiÚ_¡ršg
)

21 
nv_·rm_t
 *
’Œy
;

22 
nvidŸ_¡ack_t
 *
¥
;

23 *
ÝtiÚ_¡ršg
 = 
NULL
;

24 *
±r
;

25 *
tok’
;

26 *
Çme
, *
v®ue
;

27 
NvU32
 
i
, 
d©a
;

29 
	`NV_UMA_ZONE_ALLOC_STACK
(
¥
);

30 ià(
¥
 =ð
NULL
)

33 ià((
ÝtiÚ_¡ršg
 = 
	`rm_»move_¥aûs
(
Ãw_ÝtiÚ_¡ršg
)è=ð
NULL
)

38 
±r
 = 
ÝtiÚ_¡ršg
;

40 (
tok’
 = 
	`¡r£p
(&
±r
, ";")è!ð
NULL
) {

41 ià(!(
Çme
 = 
	`¡r£p
(&
tok’
, "=")è|| !
	`¡¾’
(name))

43 ià(!(
v®ue
 = 
	`¡r£p
(&
tok’
, "=")è|| !
	`¡¾’
(value))

45 ià(
	`¡r£p
(&
tok’
, "="è!ð
NULL
)

48 
d©a
 = (
NvU32
)
	`¡¹oul
(
v®ue
, 
NULL
, 0);

50 
i
 = 0; (
’Œy
 = &
nv_·rms
[i])->
Çme
 !ð
NULL
; i++) {

51 ià(
	`¡rcmp
(
’Œy
->
Çme
,‚ame) == 0) {

52 *
’Œy
->
d©a
 = data;

57 
	`rm_wr™e_»gi¡ry_dwÜd
(
¥
, 
NULL
, "NV»g", 
Çme
, 
d©a
);

60 
	`NV_UMA_ZONE_FREE_STACK
(
¥
);

63 
	`os_ä“_mem
(
ÝtiÚ_¡ršg
);

64 
	}
}

66 
	#NV_TUNABLE_MAX_STRLEN
 128

	)

68 
	$nvidŸ_tuÇbË_š™
()

70 
nv_·rm_t
 *
’Œy
;

71 
NvU32
 
i
;

72 *
tuÇbË
;

74 
tuÇbË
 = 
	`m®loc
(
NV_TUNABLE_MAX_STRLEN
, 
M_NVIDIA
, 
M_WAITOK
);

75 ià(
tuÇbË
 =ð
NULL
)

78 
i
 = 0; (
’Œy
 = &
nv_·rms
[i])->
Çme
 !ð
NULL
; i++) {

79 
	`¢´štf
(
tuÇbË
, 
NV_TUNABLE_MAX_STRLEN
, "hw.nvidia.registry.%s",

80 
’Œy
->
Çme
);

81 
	`TUNABLE_INT_FETCH
(
tuÇbË
, 
’Œy
->
d©a
);

84 
	`ä“
(
tuÇbË
, 
M_NVIDIA
);

85 
	}
}

87 
NV_STATUS
 
NV_API_CALL
 
	$os_»gi¡ry_š™
()

89 
nv_·rm_t
 *
’Œy
;

90 
NvU32
 
i
;

91 
nvidŸ_¡ack_t
 *
¥
;

93 
	`nvidŸ_tuÇbË_š™
();

95 
	`NV_UMA_ZONE_ALLOC_STACK
(
¥
);

96 ià(
¥
 =ð
NULL
)

97  
NV_ERR_NO_MEMORY
;

99 
i
 = 0; (
’Œy
 = &
nv_·rms
[i])->
Çme
 !ð
NULL
; i++)

100 
	`rm_wr™e_»gi¡ry_dwÜd
(
¥
, 
NULL
, 
’Œy
->
node
,ƒÁry->
Çme
, *’Œy->
d©a
);

102 
	`NV_UMA_ZONE_FREE_STACK
(
¥
);

104  
NV_OK
;

105 
	}
}

	@src/nvidia/nvidia_pci.c

11 
	~"nv-misc.h
"

12 
	~"os-š‹rçû.h
"

13 
	~"nv.h
"

14 
	~"nv-ä“bsd.h
"

16 
nvidŸ_pci_id’tify
 (
driv”_t
 *, 
deviû_t
);

17 
nvidŸ_pci_´obe
 (
deviû_t
);

18 
nvidŸ_pci_©ch
 (
deviû_t
);

19 
nvidŸ_pci_d‘ach
 (
deviû_t
);

21 
nvidŸ_pci_di§bË_£¼
 (
deviû_t
 
dev
);

22 
nvidŸ_pci_’abË_štx
 (
deviû_t
 
dev
);

24 
	$nvidŸ_pci_id’tify
(
driv”_t
 *
driv”
, 
deviû_t
 
·»Á
)

26 ià(
	`deviû_fšd_chžd
(
·»Á
, "nvidŸ", -1è=ð
NULL
)

27 
	`deviû_add_chžd
(
·»Á
, "nvidia", -1);

28 
	}
}

30 
	$nvidŸ_pci_´obe
(
deviû_t
 
dev
)

32 
NvU16
 
deviû
;

33 
Çme
[
NV_DEVICE_NAME_LENGTH
];

34 
nvidŸ_¡ack_t
 *
¥
;

35 
NvU16
 
subv’dÜ
, 
subdeviû
;

37 
deviû
 = 
	`pci_g‘_deviû
(
dev
);

39 ià((
	`pci_g‘_þass
(
dev
è!ð
PCIC_DISPLAY
) ||

40 ((
	`pci_g‘_subþass
(
dev
è!ð
PCIS_DISPLAY_VGA
) &&

41 (
	`pci_g‘_subþass
(
dev
è!ð
PCIS_DISPLAY_3D
)) ||

42 (
	`pci_g‘_v’dÜ
(
dev
) != 0x10de) ||

43 (
deviû
 < 0x0020)) {

44  
ENXIO
;

47 
	`NV_UMA_ZONE_ALLOC_STACK
(
¥
);

48 ià(
¥
 =ð
NULL
)

49  
ENOMEM
;

51 
subv’dÜ
 = 
	`pci_g‘_subv’dÜ
(
dev
);

52 
subdeviû
 = 
	`pci_g‘_subdeviû
(
dev
);

54 ià(
	`rm_is_Ëgacy_deviû
(
¥
, 
deviû
, 
subv’dÜ
, 
subdeviû
, 
TRUE
))

56 
	`NV_UMA_ZONE_FREE_STACK
(
¥
);

57  
ENXIO
;

60 ià(
	`rm_g‘_deviû_Çme
(
¥
, 
NULL
, 
deviû
, 
subv’dÜ
, 
subdeviû
,

61 
NV_DEVICE_NAME_LENGTH
, 
Çme
)

62 !ð
NV_OK
) {

63 
	`¡rýy
(
Çme
, "Unknown");

66 
	`NV_UMA_ZONE_FREE_STACK
(
¥
);

68 
	`deviû_£t_desc_cÝy
(
dev
, 
Çme
);

71 
	}
}

73 
	$nvidŸ_pci_£tup_šŒ
(
deviû_t
 
dev
)

75 
¡©us
, 
æags
;

76 
nvidŸ_soác
 *
sc
;

78 
sc
 = 
	`deviû_g‘_soác
(
dev
);

81 
æags
 = (
INTR_TYPE_AV
 | 
INTR_MPSAFE
);

83 
¡©us
 = 
	`bus_£tup_šŒ
(
dev
, 
sc
->
œq
, 
æags
, 
NULL
, 
nvidŸ_šŒ
, sc,

84 &
sc
->
œq_ih
);

85 ià(
¡©us
) {

86 
	`deviû_´štf
(
dev
, "NVRM: HW ISR setup failed.\n");

87 
çž
;

90 
çž
:

91  
¡©us
;

92 
	}
}

94 
	$nvidŸ_pci_‹¬down_šŒ
(
deviû_t
 
dev
)

96 
¡©us
;

97 
nvidŸ_soác
 *
sc
;

99 
sc
 = 
	`deviû_g‘_soác
(
dev
);

101 
¡©us
 = 
	`bus_‹¬down_šŒ
(
dev
, 
sc
->
œq
, sc->
œq_ih
);

102 ià(
¡©us
) {

103 
	`deviû_´štf
(
dev
, "NVRM: HW ISReardown failed.\n");

104 
çž
;

107 
çž
:

108  
¡©us
;

109 
	}
}

111 
	$nvidŸ_pci_di§bË_£¼
(
deviû_t
 
dev
)

113 
NvU16
 
wÜd
;

114 
	`os_pci_»ad_wÜd
(
dev
, 
PCIR_COMMAND
, &
wÜd
);

115 
wÜd
 &ð~
PCIM_CMD_SERRESPEN
;

116 
	`os_pci_wr™e_wÜd
(
dev
, 
PCIR_COMMAND
, 
wÜd
);

117 
	}
}

119 
	$nvidŸ_pci_’abË_štx
(
deviû_t
 
dev
)

121 
NvU16
 
wÜd
;

122 
	`os_pci_»ad_wÜd
(
dev
, 
PCIR_COMMAND
, &
wÜd
);

123 
wÜd
 &ð~
PCIM_CMD_INTXDIS
;

124 
	`os_pci_wr™e_wÜd
(
dev
, 
PCIR_COMMAND
, 
wÜd
);

125 
	}
}

127 
	$nvidŸ_pci_§ve_cÚfig_¥aû
(

128 
nvidŸ_¡ack_t
 *
¥
,

129 
deviû_t
 
dev


132 
nvidŸ_soác
 *
sc
 = 
	`deviû_g‘_soác
(
dev
);

133 
nv_¡©e_t
 *
nv
 = 
sc
->
nv_¡©e
;

134 
NvS16
 
i
;

136 
i
 = 0; i < 
NVRM_PCICFG_NUM_DWORDS
; i++)

138 
	`os_pci_»ad_dwÜd
(
dev
, (
i
 << 2), &
nv
->
pci_cfg_¥aû
[i]);

140 
	}
}

142 
	$nvidŸ_pci_»¡Üe_cÚfig_¥aû
(

143 
nvidŸ_¡ack_t
 *
¥
,

144 
deviû_t
 
dev


147 
nvidŸ_soác
 *
sc
 = 
	`deviû_g‘_soác
(
dev
);

148 
nv_¡©e_t
 *
nv
 = 
sc
->
nv_¡©e
;

149 
NvS16
 
i
;

150 
NvU32
 
dwÜd
;

152 
i
 = 
NVRM_PCICFG_NUM_DWORDS
 - 1; i >= 0; i--)

154 
	`os_pci_»ad_dwÜd
(
dev
, (
i
 << 2), &
dwÜd
);

155 ià(
dwÜd
 !ð
nv
->
pci_cfg_¥aû
[
i
]) {

156 
	`os_pci_wr™e_dwÜd
(
dev
, (
i
 << 2), 
nv
->
pci_cfg_¥aû
[i]);

159 
	}
}

161 
	$nvidŸ_pci_check_cÚfig_¥aû
(

162 
nvidŸ_¡ack_t
 *
¥
,

163 
deviû_t
 
dev
,

164 
BOOL
 
check_the_b¬s
,

165 
BOOL
 
acquœe_£m­hÜe
,

166 
BOOL
 
may_block


169 
NvU32
 
BAR_low
, 
BAR_high
;

170 
NvU16
 
wÜd
, 
i
;

171 
nvidŸ_soác
 *
sc
 = 
	`deviû_g‘_soác
(
dev
);

172 
nv_¡©e_t
 *
nv
 = 
sc
->
nv_¡©e
;

174 ià(
nv
->
æags
 & 
NV_FLAG_USE_BAR0_CFG
) {

175 
	`rm_check_pci_cÚfig_¥aû
(
¥
, 
nv
, 
check_the_b¬s
,

176 
acquœe_£m­hÜe
, 
may_block
);

180 
	`os_pci_»ad_wÜd
(
dev
, 
PCIR_COMMAND
, &
wÜd
);

182 ià((
wÜd
 & 
PCIM_CMD_BUSMASTEREN
) == 0)

183 
	`pci_’abË_busma¡”
(
dev
);

185 ià((
wÜd
 & 
PCIM_CMD_MEMEN
) == 0)

186 
	`pci_’abË_io
(
dev
, 
SYS_RES_MEMORY
);

188 ià((
wÜd
 & 
PCIM_CMD_SERRESPEN
) != 0)

189 
	`nvidŸ_pci_di§bË_£¼
(
dev
);

191 ià((
wÜd
 & 
PCIM_CMD_INTXDIS
) != 0)

192 
	`nvidŸ_pci_’abË_štx
(
dev
);

194 ià(
check_the_b¬s
)

196 
i
 = 0; i < 
NV_GPU_NUM_BARS
; i++) {

197 
BAR_low
 = 
BAR_high
 = 0;

198 
nv_­”tu»_t
 *
BAR
 = &
nv
->
b¬s
[
i
];

199 ià(
BAR
->
off£t
 == 0) ;

201 
	`os_pci_»ad_dwÜd
(
dev
, 
BAR
->
off£t
, &
BAR_low
);

202 ià((
BAR_low
 & 
NVRM_PCICFG_BAR_ADDR_MASK
) !=

203 
	`NvU64_LO32
(
BAR
->
bus_add»ss
)) {

204 
	`os_pci_wr™e_dwÜd
(
dev
, 
BAR
->
off£t
,

205 
	`NvU64_LO32
(
BAR
->
bus_add»ss
));

208 ià((
BAR_low
 & 
NVRM_PCICFG_BAR_MEMTYPE_MASK
)

209 !ð
NVRM_PCICFG_BAR_MEMTYPE_64BIT
)

212 
	`os_pci_»ad_dwÜd
(
dev
, 
BAR
->
off£t
 + 4, &
BAR_high
);

213 ià((
BAR_low
 & 
NVRM_PCICFG_BAR_ADDR_MASK
è=ð
BAR
->
bus_add»ss


214 && 
BAR_high
 == 0)

217 ià(
BAR_high
 !ð
	`NvU64_HI32
(
BAR
->
bus_add»ss
)) {

218 
	`os_pci_wr™e_dwÜd
(
dev
, 
BAR
->
off£t
 + 4,

219 
	`NvU64_HI32
(
BAR
->
bus_add»ss
));

223 
	}
}

225 
NvU8
 
	$nvidŸ_pci_fšd_ÿ·bž™y
(
deviû_t
 
dev
, 
NvU8
 
ÿ·bž™y
)

227 
NvU16
 
¡©us
;

228 
NvU8
 
ÿp_±r
, 
ÿp_id
;

230 
¡©us
 = 
	`pci_»ad_cÚfig
(
dev
, 
PCIR_STATUS
, 2);

231 
¡©us
 &ð
PCIM_STATUS_CAPPRESENT
;

232 ià(!
¡©us
)

233 
çžed
;

235 
	`pci_g‘_þass
(
dev
)) {

236 
PCIC_DISPLAY
:

237 
PCIC_BRIDGE
:

238 
ÿp_±r
 = 
	`pci_»ad_cÚfig
(
dev
, 
PCIR_CAP_PTR
, 1);

241 
çžed
;

245 
ÿp_±r
 &= 0xfc;

246 
ÿp_id
 = 
	`pci_»ad_cÚfig
(
dev
, 
ÿp_±r
 + 
PCIR_CAP_LIST_ID
, 1);

247 ià(
ÿp_id
 =ð
ÿ·bž™y
) {

248  
ÿp_±r
;

250 
ÿp_±r
 = 
	`pci_»ad_cÚfig
(
dev
, c­_±¸+ 
PCIR_CAP_LIST_NEXT
, 1);

251 } 
ÿp_±r
 && 
ÿp_id
 != 0xff);

253 
çžed
:

255 
	}
}

257 
	$nvidŸ_pci_©ch
(
deviû_t
 
dev
)

259 
¡©us
;

260 
nvidŸ_soác
 *
sc
;

261 
NvU16
 
wÜd
, 
i
, 
j
;

262 
NvU32
 
BAR_low
, 
»q
;

263 
NvU64
 
BAR_high
;

264 
nvidŸ_¡ack_t
 *
¥
;

266 ià(
	`deviû_g‘_un™
(
dev
è>ð
NV_MAX_DEVICES
) {

267 
	`deviû_´štf
(
dev
, "NVRM: maximum device‚umberƒxceeded.\n");

268  
ENXIO
;

271 
sc
 = 
	`deviû_g‘_soác
(
dev
);

272 
	`bz”o
(
sc
, (
nvidŸ_soác_t
));

274 
sc
->
nv_¡©e
 = 
	`m®loc
((
nv_¡©e_t
), 
M_NVIDIA
, 
M_WAITOK
 | 
M_ZERO
);

275 ià(
sc
->
nv_¡©e
 =ð
NULL
)

276  
ENOMEM
;

278 
	`pci_’abË_busma¡”
(
dev
);

279 
wÜd
 = 
	`pci_»ad_cÚfig
(
dev
, 
PCIR_COMMAND
, 2);

281 ià((
wÜd
 & 
PCIM_CMD_BUSMASTEREN
) == 0) {

282 
	`deviû_´štf
(
dev
, "NVRM: PCI busmasterƒnable failed.\n");

283  
ENXIO
;

286 
	`pci_’abË_io
(
dev
, 
SYS_RES_MEMORY
);

287 
wÜd
 = 
	`pci_»ad_cÚfig
(
dev
, 
PCIR_COMMAND
, 2);

289 ià((
wÜd
 & 
PCIM_CMD_MEMEN
) == 0) {

290 
	`deviû_´štf
(
dev
, "NVRM: PCI memoryƒnable failed.\n");

291  
ENXIO
;

294 
i
 = 0, 
j
 = 0; i < 
NVRM_PCICFG_NUM_BARS
 && j < 
NV_GPU_NUM_BARS
; i++) {

295 
NvU8
 
off£t
 = 
	`NVRM_PCICFG_BAR_OFFSET
(
i
);

296 
	`os_pci_»ad_dwÜd
(
dev
, 
off£t
, &
BAR_low
);

297 
	`os_pci_wr™e_dwÜd
(
dev
, 
off£t
, 0xffffffff);

298 
	`os_pci_»ad_dwÜd
(
dev
, 
off£t
, &
»q
);

299 ià((
»q
 !ð0è && (»q & 
NVRM_PCICFG_BAR_REQTYPE_MASK
)

300 =ð
NVRM_PCICFG_BAR_REQTYPE_MEMORY
) {

301 
sc
->
nv_¡©e
->
b¬s
[
j
].
off£t
 = offset;

302 
sc
->
BAR_rids
[
j
] = 
off£t
;

303 
sc
->
nv_¡©e
->
b¬s
[
j
].
bus_add»ss
 = 
BAR_low
 & 
NVRM_PCICFG_BAR_ADDR_MASK
;

304 ià((
»q
 & 
NVRM_PCICFG_BAR_MEMTYPE_MASK
è=ð
NVRM_PCICFG_BAR_MEMTYPE_64BIT
) {

305 
	`os_pci_»ad_dwÜd
(
dev
, 
off£t
 + 4, (
NvU32
 *)&
BAR_high
);

306 
sc
->
nv_¡©e
->
b¬s
[
j
].
bus_add»ss
 |ð(
BAR_high
 << 32);

307 
i
++;

309 
j
++;

311 
	`os_pci_wr™e_dwÜd
(
dev
, 
off£t
, 
BAR_low
);

314 
sc
->
œq_rid
 = 0;

315 
sc
->
iÝ_rid
 = 0;

317 
	`NV_UMA_ZONE_ALLOC_STACK
(
¥
);

318 ià(
¥
 =ð
NULL
) {

319 
	`ä“
(
sc
->
nv_¡©e
, 
M_NVIDIA
);

320  
ENOMEM
;

323 
sc
->
©ch_¥
 = 
¥
;

325 
¡©us
 = 
	`nvidŸ_®loc_h¬dw¬e
(
dev
);

326 ià(
¡©us
) {

327 
	`deviû_´štf
(
dev
, "NVRM: NVIDIA hardware‡lloc failed.\n");

328 
çž
;

331 
¡©us
 = 
	`nvidŸ_©ch
(
dev
);

332 ià(
¡©us
) {

333 
	`deviû_´štf
(
dev
, "NVRM: NVIDIA driver‡ttach failed.\n");

334 
çž
;

337 
¡©us
 = 
	`nvidŸ_pci_£tup_šŒ
(
dev
);

338 ià(
¡©us
) {

339 
	`deviû_´štf
(
dev
, "NVRM: NVIDIA driver interrupt setup failed.\n");

340 
	`nvidŸ_d‘ach
(
dev
);

341 
çž
;

344 ià(!
	`rm_š™_´iv©e_¡©e
(
¥
, 
sc
->
nv_¡©e
)) {

345 
	`nvidŸ_pci_‹¬down_šŒ
(
dev
);

346 
	`deviû_´štf
(
dev
, "NVRM:„m_init_private_state() failed.\n");

347 
	`nvidŸ_d‘ach
(
dev
);

348 
¡©us
 = 
ENOMEM
;

349 
çž
;

352 ià(!
	`nvidŸ_lock_š™_locks
(
¥
, 
sc
->
nv_¡©e
)) {

353 
	`rm_ä“_´iv©e_¡©e
(
¥
, 
sc
->
nv_¡©e
);

354 
	`nvidŸ_pci_‹¬down_šŒ
(
dev
);

355 
	`nvidŸ_d‘ach
(
dev
);

356 
¡©us
 = 
ENOMEM
;

357 
çž
;

360 
	`ÿÎout_š™
(&
sc
->
tim”
, 
CALLOUT_MPSAFE
);

361 
	`sx_š™
(&
sc
->
­i_sx
, "dev.api_sx");

365 
çž
:

366 
	`nvidŸ_ä“_h¬dw¬e
(
dev
);

368 
sc
->
©ch_¥
 = 
NULL
;

369 
	`NV_UMA_ZONE_FREE_STACK
(
¥
);

371 
	`ä“
(
sc
->
nv_¡©e
, 
M_NVIDIA
);

373  
¡©us
;

374 
	}
}

376 
	$nvidŸ_pci_d‘ach
(
deviû_t
 
dev
)

378 
¡©us
;

379 
nvidŸ_¡ack_t
 *
¥
;

380 
nvidŸ_soác
 *
sc
;

381 
nv_¡©e_t
 *
nv
;

388 
sc
 = 
	`deviû_g‘_soác
(
dev
);

389 
nv
 = 
sc
->
nv_¡©e
;

391 
	`nv_lock_­i
(
nv
);

393 ià(
sc
->
»fút
 != 0) {

394 
	`nv_uÆock_­i
(
nv
);

395  
EBUSY
;

398 
	`nv_uÆock_­i
(
nv
);

399 
	`sx_de¡roy
(&
sc
->
­i_sx
);

401 
¡©us
 = 
	`nvidŸ_pci_‹¬down_šŒ
(
dev
);

402 ià(
¡©us
)

403 
çž
;

405 
¡©us
 = 
	`nvidŸ_d‘ach
(
dev
);

406 ià(
¡©us
) {

407 
	`deviû_´štf
(
dev
, "NVRM: NVIDIA driver detach failed.\n");

408 
çž
;

411 
¥
 = 
sc
->
©ch_¥
;

413 
	`nvidŸ_lock_de¡roy_locks
(
¥
, 
sc
->
nv_¡©e
);

415 
	`rm_ä“_´iv©e_¡©e
(
¥
, 
sc
->
nv_¡©e
);

416 
	`nvidŸ_ä“_h¬dw¬e
(
dev
);

418 
sc
->
©ch_¥
 = 
NULL
;

419 
	`NV_UMA_ZONE_FREE_STACK
(
¥
);

421 
	`ä“
(
sc
->
nv_¡©e
, 
M_NVIDIA
);

423 
çž
:

425  
¡©us
;

426 
	}
}

428 
deviû_m‘hod_t
 
	gnvidŸ_pci_m‘hods
[] = {

429 
DEVMETHOD
Ð
deviû_id’tify
, 
nvidŸ_pci_id’tify
 ),

430 
DEVMETHOD
Ð
deviû_´obe
, 
nvidŸ_pci_´obe
 ),

431 
DEVMETHOD
Ð
deviû_©ch
, 
nvidŸ_pci_©ch
 ),

432 
DEVMETHOD
Ð
deviû_d‘ach
, 
nvidŸ_pci_d‘ach
 ),

433 #ifdeà
NV_SUPPORT_ACPI_PM


434 
DEVMETHOD
Ð
deviû_su¥’d
, 
nvidŸ_su¥’d
 ),

435 
DEVMETHOD
Ð
deviû_»sume
, 
nvidŸ_»sume
 ),

440 
driv”_t
 
	gnvidŸ_pci_driv”
 = {

442 
nvidŸ_pci_m‘hods
,

443 (
nvidŸ_soác
)

446 
DRIVER_MODULE
(
nvidŸ
, 
vg­ci
, 
nvidŸ_pci_driv”
, 
nvidŸ_devþass
, 
nvidŸ_modev’t
, 0);

447 
MODULE_VERSION
(
nvidŸ
, 1);

449 
MODULE_DEPEND
(
nvidŸ
, 
mem
, 1, 1, 1);

450 
MODULE_DEPEND
(
nvidŸ
, 
io
, 1, 1, 1);

452 #ifdeà
NV_SUPPORT_LINUX_COMPAT


453 
MODULE_DEPEND
(
nvidŸ
, 
lšux
, 1, 1, 1);

	@src/nvidia/nvidia_subr.c

11 
	~"nv-misc.h
"

12 
	~"os-š‹rçû.h
"

13 
	~"nv.h
"

14 
	~"nv-ä“bsd.h
"

16 #ià
defšed
(
NVCPU_X86
è&& defšed(
NV_USE_OS_VM86_INT10CALL
)

17 
	~<machše/vm86.h
>

20 
uma_zÚe_t
 
	gnvidŸ_¡ack_t_zÚe
;

21 
nvidŸ_¡ack_t
 *
	g__nvidŸ_š™_¥
 = 
NULL
;

23 
devþass_t
 
	gnvidŸ_devþass
;

24 
nv_¡©e_t
 
	gnvidŸ_ùl_¡©e
;

26 
	$nvidŸ_©ch
(
deviû_t
 
dev
)

28 
NV_STATUS
 
¡©us
;

29 
NvU32
 
i
;

30 
nvidŸ_soác
 *
sc
;

31 
nv_¡©e_t
 *
nv
;

33 
sc
 = 
	`deviû_g‘_soác
(
dev
);

34 
nv
 = 
sc
->
nv_¡©e
;

36 
nv
->
os_¡©e
 = 
sc
;

37 
nv
->
æags
 = 0;

38 
nv
->
pci_šfo
.
domaš
 = 
	`pci_g‘_domaš
(
dev
);

39 
nv
->
pci_šfo
.
bus
 = 
	`pci_g‘_bus
(
dev
);

40 
nv
->
pci_šfo
.
¦Ù
 = 
	`pci_g‘_¦Ù
(
dev
);

41 
nv
->
pci_šfo
.
v’dÜ_id
 = 
	`pci_g‘_v’dÜ
(
dev
);

42 
nv
->
pci_šfo
.
deviû_id
 = 
	`pci_g‘_deviû
(
dev
);

43 
nv
->
hªdË
 = 
dev
;

45 
i
 = 0; i < 
NV_GPU_NUM_BARS
; i++) {

46 ià(
sc
->
BAR_»cs
[
i
] !ð
NULL
) {

47 
nv
->
b¬s
[
i
].
ýu_add»ss
 = 
	`rmª_g‘_¡¬t
(
sc
->
BAR_»cs
[i]);

48 
nv
->
b¬s
[
i
].
¡¿µed_size
 = 
	`rmª_g‘_size
(
sc
->
BAR_»cs
[i]);

49 
nv
->
b¬s
[
i
].
size
 =‚v->b¬s[i].
¡¿µed_size
;

53 
nv
->
fb
 = &nv->
b¬s
[
NV_GPU_BAR_INDEX_FB
];

54 
nv
->
»gs
 = &nv->
b¬s
[
NV_GPU_BAR_INDEX_REGS
];

56 
	`pci_’abË_io
(
dev
, 
SYS_RES_MEMORY
);

58 ià((
	`rm_is_suµÜ‹d_deviû
(
sc
->
©ch_¥
, 
nv
)è!ð
NV_OK
)

59  
ENXIO
;

61 
i
 = 0; i < 
NV_GPU_NUM_BARS
; i++) {

62 ià(
sc
->
BAR_»cs
[
i
] !ð
NULL
) {

63 
sc
->
BAR_sg_li¡s
[
i
] = 
	`sgli¡_®loc
(1, 
M_WAITOK
);

64 ià(!
sc
->
BAR_sg_li¡s
[
i
])

65 
çžed
;

67 
	`sgli¡_­³nd_phys
(
sc
->
BAR_sg_li¡s
[
i
],

68 
nv
->
b¬s
[
i
].
ýu_add»ss
,‚v->b¬s[i].
size
);

70 
sc
->
BAR_objeùs
[
i
] = 
	`NV_VM_PAGER_ALLOCATE
(
OBJT_SG
,

71 
sc
->
BAR_sg_li¡s
[
i
],

72 
nv
->
b¬s
[
i
].
size
, (
VM_PROT_READ
 | 
VM_PROT_WRITE
),

73 0, 
NULL
);

74 ià(!
sc
->
BAR_objeùs
[
i
])

75 
çžed
;

77 
	`VM_OBJECT_WLOCK
(
sc
->
BAR_objeùs
[
i
]);

78 
i
) {

79 
NV_GPU_BAR_INDEX_FB
:

80 
	`vm_objeù_£t_mem©Œ
(
sc
->
BAR_objeùs
[
i
],

81 
VM_MEMATTR_WRITE_COMBINING
);

83 
NV_GPU_BAR_INDEX_REGS
:

85 
	`vm_objeù_£t_mem©Œ
(
sc
->
BAR_objeùs
[
i
],

86 
VM_MEMATTR_UNCACHEABLE
);

89 
	`VM_OBJECT_WUNLOCK
(
sc
->
BAR_objeùs
[
i
]);

93 
sc
->
dma_mask
 = 0xffffffffULL;

95 ià((
¡©us
 = 
	`nvidŸ_dev_©ch
(
sc
)) != 0)

96  
¡©us
;

98 ià((
¡©us
 = 
	`nvidŸ_ùl_©ch
()) != 0)

99  
¡©us
;

101 
nv
->
š‹¼u±_lše
 = 
	`rmª_g‘_¡¬t
(
sc
->
œq
);

103 
	`nv_sysùl_š™
(
nv
);

107 
çžed
:

108 
i
 = 0; i < 
NV_GPU_NUM_BARS
; i++) {

109 ià(
sc
->
BAR_»cs
[
i
] !ð
NULL
) {

110 ià(
sc
->
BAR_objeùs
[
i
])

111 
	`NV_VM_OBJECT_DEALLOCATE
(
sc
->
BAR_objeùs
[
i
]);

112 ià(
sc
->
BAR_sg_li¡s
[
i
])

113 
	`NV_SGLIST_FREE
(
sc
->
BAR_sg_li¡s
[
i
]);

117  
ENOMEM
;

118 
	}
}

120 
	$nvidŸ_d‘ach
(
deviû_t
 
dev
)

122 
¡©us
;

123 
nvidŸ_soác
 *
sc
;

124 
ušt32_t
 
i
;

126 
sc
 = 
	`deviû_g‘_soác
(
dev
);

127 
	`nv_sysùl_ex™
(
sc
->
nv_¡©e
);

129 
¡©us
 = 
	`nvidŸ_dev_d‘ach
(
sc
);

130 ià(
¡©us
) {

131 
	`deviû_´štf
(
dev
, "NVRM: NVIDIA driver DEV detach failed.\n");

132 
çžed
;

135 
¡©us
 = 
	`nvidŸ_ùl_d‘ach
();

136 ià(
¡©us
) {

137 
	`deviû_´štf
(
dev
, "NVRM: NVIDIA driver CTL detach failed.\n");

138 
çžed
;

141 
i
 = 0; i < 
NV_GPU_NUM_BARS
; i++) {

142 ià(
sc
->
BAR_»cs
[
i
] !ð
NULL
) {

143 ià(
sc
->
BAR_objeùs
[
i
])

144 
	`NV_VM_OBJECT_DEALLOCATE
(
sc
->
BAR_objeùs
[
i
]);

145 ià(
sc
->
BAR_sg_li¡s
[
i
])

146 
	`NV_SGLIST_FREE
(
sc
->
BAR_sg_li¡s
[
i
]);

150 
çžed
:

152  
¡©us
;

153 
	}
}

156 #ifdeà
NV_SUPPORT_ACPI_PM


157 
	$nvidŸ_su¥’d
(
deviû_t
 
dev
)

159 
nvidŸ_¡ack_t
 *
¥
;

160 
nvidŸ_soác
 *
sc
;

161 
nv_¡©e_t
 *
nv
;

162 
¡©us
;

165 ià(
	`devþass_g‘_soác
(
	`devþass_fšd
("aýi"), 0è=ð
NULL
)

166  
ENODEV
;

168 
	`NV_UMA_ZONE_ALLOC_STACK
(
¥
);

169 ià(
¥
 =ð
NULL
)

170  
ENOMEM
;

172 
sc
 = 
	`deviû_g‘_soác
(
dev
);

173 
nv
 = 
sc
->
nv_¡©e
;

175 
	`nvidŸ_mode£t_su¥’d
(
nv
->
gpu_id
);

177 
	`NV_PCI_CHECK_CONFIG_SPACE
(
¥
, 
nv
, 
TRUE
, TRUE, TRUE);

178 
¡©us
 = 
	`rm_pow”_mªagem’t
(
¥
, 
nv
, 0, 
NV_PM_ACPI_STANDBY
);

180 
	`nvidŸ_pci_§ve_cÚfig_¥aû
(
¥
, 
dev
);

182 
	`NV_UMA_ZONE_FREE_STACK
(
¥
);

184  (
¡©us
 =ð
NV_OK
è? 0 : 
EIO
;

185 
	}
}

187 
	$nvidŸ_»sume
(
deviû_t
 
dev
)

189 
nvidŸ_¡ack_t
 *
¥
;

190 
nvidŸ_soác
 *
sc
;

191 
nv_¡©e_t
 *
nv
;

192 
¡©us
;

194 
	`NV_UMA_ZONE_ALLOC_STACK
(
¥
);

195 ià(
¥
 =ð
NULL
)

196  
ENOMEM
;

198 
	`nvidŸ_pci_»¡Üe_cÚfig_¥aû
(
¥
, 
dev
);

200 
sc
 = 
	`deviû_g‘_soác
(
dev
);

201 
nv
 = 
sc
->
nv_¡©e
;

203 
	`NV_PCI_CHECK_CONFIG_SPACE
(
¥
, 
nv
, 
TRUE
, TRUE, TRUE);

204 
¡©us
 = 
	`rm_pow”_mªagem’t
(
¥
, 
nv
, 0, 
NV_PM_ACPI_RESUME
);

206 
	`NV_UMA_ZONE_FREE_STACK
(
¥
);

208 ià(
¡©us
 =ð
NV_OK
)

210 
	`nvidŸ_mode£t_»sume
(
nv
->
gpu_id
);

213  (
¡©us
 =ð
NV_OK
è? 0 : 
EIO
;

214 
	}
}

218 
	$nvidŸ_®loc_h¬dw¬e
(
deviû_t
 
dev
)

220 
¡©us
 = 0;

221 
nvidŸ_soác
 *
sc
;

222 
NvU32
 
æags
, 
i
;

223 
NvU32
 
’abË_msi
 = 0;

224 
couÁ
;

225 
nvidŸ_¡ack_t
 *
¥
;

227 
	`NV_UMA_ZONE_ALLOC_STACK
(
¥
);

228 ià(
¥
 =ð
NULL
)

229  
ENOMEM
;

231 
sc
 = 
	`deviû_g‘_soác
(
dev
);

232 
sc
->
dev
 = dev;

234 
æags
 = 0;

235 
i
 = 0; i < 
NV_GPU_NUM_BARS
 && 
sc
->
BAR_rids
[i] != 0; i++) {

236 
»sourû
 *
»s
;

237 
»s
 = 
	`bus_®loc_»sourû_ªy
(
dev
, 
SYS_RES_MEMORY
, &
sc
->
BAR_rids
[
i
], 
æags
);

238 ià(
»s
 =ð
NULL
) {

249 
	`deviû_´štf
(
dev
,

251 
i
, 
sc
->
nv_¡©e
->
b¬s
[i].
off£t
);

252 
¡©us
 = 
ENXIO
;

253 
çžed
;

255 
sc
->
BAR_»cs
[
i
] = 
»s
;

258 ià((
	`rm_»ad_»gi¡ry_dwÜd
(
¥
, 
NULL
, "NVreg",

259 "EÇbËMSI", &
’abË_msi
è=ð
NV_OK
) && (enable_msi != 0)) {

260 
couÁ
 = 
	`pci_msi_couÁ
(
dev
);

261 ià((
couÁ
 =ð1è&& (
	`pci_®loc_msi
(
dev
, &count) == 0))

262 
sc
->
œq_rid
 = 1;

264 
æags
 = 
RF_SHAREABLE
 | 
RF_ACTIVE
;

265 
sc
->
œq
 = 
	`bus_®loc_»sourû_ªy
(
dev
, 
SYS_RES_IRQ
, &sc->
œq_rid
, 
æags
);

266 ià(
sc
->
œq
 =ð
NULL
) {

267 
	`deviû_´štf
(
dev
, "NVRM: NVIDIA IRQ„esource‡lloc failed.\n");

268 
¡©us
 = 
ENXIO
;

269 
çžed
;

272 
çžed
:

273 
	`NV_UMA_ZONE_FREE_STACK
(
¥
);

274  
¡©us
;

275 
	}
}

277 
	$nvidŸ_ä“_h¬dw¬e
(
deviû_t
 
dev
)

279 
nvidŸ_soác
 *
sc
;

280 
NvU32
 
i
;

282 
sc
 = 
	`deviû_g‘_soác
(
dev
);

284 
i
 = 0; i < 
NV_GPU_NUM_BARS
 && 
sc
->
BAR_»cs
[i] !ð
NULL
; i++)

285 
	`bus_»Ëa£_»sourû
(
dev
, 
SYS_RES_MEMORY
, 
sc
->
BAR_rids
[
i
], sc->
BAR_»cs
[i]);

286 ià(
sc
->
œq
 !ð
NULL
)

287 
	`bus_»Ëa£_»sourû
(
dev
, 
SYS_RES_IRQ
, 
sc
->
œq_rid
, sc->
œq
);

288 ià(
sc
->
œq_rid
 != 0)

289 
	`pci_»Ëa£_msi
(
dev
);

290 ià(
sc
->
iÝ
 !ð
NULL
)

291 
	`bus_»Ëa£_»sourû
(
dev
, 
SYS_RES_IOPORT
, 
sc
->
iÝ_rid
, sc->
iÝ
);

292 
	}
}

294 
	$nvidŸ_šŒ
(*
xsc
)

296 
nvidŸ_soác
 *
sc
;

297 
nv_¡©e_t
 *
nv
;

298 
NvU32
 
run_bÙtom_h®f
 = 0;

299 
nvidŸ_¡ack_t
 *
¥
;

300 
NvU32
 
çuÉsCÝ›d
 = 0;

302 
sc
 = (
nvidŸ_soác
 *è
xsc
;

303 
nv
 = 
sc
->
nv_¡©e
;

305 
¥
 = 
sc
->¥[
NV_DEV_STACK_ISR
];

307 ià(
¥
 =ð
NULL
)

310 
	`NV_PCI_CHECK_CONFIG_SPACE
(
¥
, 
nv
, 
TRUE
, TRUE, 
FALSE
);

311 
	`rm_i¤
(
¥
, 
nv
, &
run_bÙtom_h®f
);

313 ià(
run_bÙtom_h®f
) {

320 
	`rm_gpu_cÝy_mmu_çuÉs
(
¥
, 
nv
, &
çuÉsCÝ›d
);

323 
	`rm_i¤_bh
(
¥
, 
nv
);

325 
	}
}

327 
	$nvidŸ_g‘_ÿrd_šfo
(*
¬gs
, 
size
)

329 
nv_ioùl_ÿrd_šfo
 *
ci
;

330 
nv_ioùl_rm_­i_Þd_v”siÚ
 *
av
;

331 
i
;

332 
nvidŸ_soác
 *
sc
;

333 
nv_¡©e_t
 *
nv
;

335 ià(
size
 < ((*
ci
è* 
NV_MAX_DEVICES
))

336  
EINVAL
;

338 
av
 = 
¬gs
;

339 
av
->
magic
) {

340 
NV_RM_API_OLD_VERSION_MAGIC_OVERRIDE_REQ
:

341 
NV_RM_API_OLD_VERSION_MAGIC_LAX_REQ
:

342 
NV_RM_API_OLD_VERSION_MAGIC_REQ
:

347 
	`nv_´štf
(
NV_DBG_ERRORS
,

352 
av
->
majÜ
,‡v->
mšÜ
,‡v->
·tch
,

353 
NV_VERSION_STRING
);

354  
EINVAL
;

355 
NV_RM_API_OLD_VERSION_MAGIC_IGNORE
:

363  
EINVAL
;

366 
ci
 = 
¬gs
;

367 
	`mem£t
(
ci
, 0, 
size
);

369 
i
 = 0; i < 
NV_MAX_DEVICES
; i++) {

370 
sc
 = 
	`devþass_g‘_soác
(
nvidŸ_devþass
, 
i
);

371 ià(!
sc
)

373 
nv
 = 
sc
->
nv_¡©e
;

375 
ci
[
i
].
æags
 = 
NV_IOCTL_CARD_INFO_FLAG_PRESENT
;

376 
ci
[
i
].
pci_šfo
.
domaš
 = 
nv
->pci_info.domain;

377 
ci
[
i
].
pci_šfo
.
bus
 = 
nv
->pci_info.bus;

378 
ci
[
i
].
pci_šfo
.
¦Ù
 = 
nv
->pci_info.slot;

379 
ci
[
i
].
pci_šfo
.
v’dÜ_id
 = 
nv
->pci_info.vendor_id;

380 
ci
[
i
].
pci_šfo
.
deviû_id
 = 
nv
->pci_info.device_id;

381 
ci
[
i
].
gpu_id
 = 
nv
->gpu_id;

382 
ci
[
i
].
š‹¼u±_lše
 = 
nv
->interrupt_line;

383 
ci
[
i
].
fb_add»ss
 = 
nv
->
fb
->
ýu_add»ss
;

384 
ci
[
i
].
fb_size
 = 
nv
->
fb
->
size
;

385 
ci
[
i
].
»g_add»ss
 = 
nv
->
»gs
->
ýu_add»ss
;

386 
ci
[
i
].
»g_size
 = 
nv
->
»gs
->
size
;

387 
ci
[
i
].
mšÜ_numb”
 = i;

391 
	}
}

393 
	$nvidŸ_hªdË_ioùl
(

394 
nv_¡©e_t
 *
nv
,

395 
nvidŸ_fž•
 *
fž•
,

396 
u_lÚg
 
cmd
,

397 
ÿddr_t
 
d©a


400 
nvidŸ_soác
 *
sc
;

401 
nvidŸ_¡ack_t
 *
¥
;

402 *
¬gs
;

403 
nv_ioùl_xãr_t
 *
xãr
 = 
NULL
;

404 
¡©us
;

405 
Ä
, 
size
;

407 
sc
 = 
nv
->
os_¡©e
;

408 
¥
 = 
sc
->¥[
NV_DEV_STACK_API
];

410 
size
 = 
	`__NV_IOC_SIZE
(
cmd
);

411 
Ä
 = 
	`__NV_IOC_NR
(
cmd
);

413 
¬gs
 = (*)
d©a
;

415 ià(
Ä
 =ð
NV_ESC_IOCTL_XFER_CMD
) {

416 ià(
	`__NV_IOC_SIZE
(
cmd
è!ð(
nv_ioùl_xãr_t
))

417  
EINVAL
;

419 
xãr
 = 
¬gs
;

420 
size
 = 
xãr
->size;

422 ià(
size
 > 
NV_ABSOLUTE_MAX_IOCTL_SIZE
)

423  
EINVAL
;

425 
¬gs
 = 
	`m®loc
(
size
, 
M_NVIDIA
, 
M_WAITOK
);

426 ià(
¬gs
 =ð
NULL
)

427  
ENOMEM
;

429 ià(
	`cÝyš
(
	`NvP64_VALUE
(
xãr
->
±r
), 
¬gs
, 
size
) != 0) {

430 
	`ä“
(
¬gs
, 
M_NVIDIA
);

431  
EFAULT
;

434 
Ä
 = 
xãr
->
cmd
;

437 
	`NV_PCI_CHECK_CONFIG_SPACE
(
¥
, 
nv
, 
TRUE
, TRUE, TRUE);

439 
Ä
) {

440 
NV_ESC_CHECK_VERSION_STR
:

441 
¡©us
 = ((
	`rm_³rfÜm_v”siÚ_check
(
¥
,

442 
¬gs
, 
size
è=ð
NV_OK
è? 0 : 
EINVAL
);

445 
NV_ESC_CARD_INFO
:

446 
¡©us
 = 
	`nvidŸ_g‘_ÿrd_šfo
(
¬gs
, 
size
);

450 
¡©us
 = ((
	`rm_ioùl
(
¥
, 
nv
, 
fž•
, 
Ä
,

451 
¬gs
, 
size
è=ð
NV_OK
è? 0 : 
EINVAL
);

455 ià(
¬gs
 !ð(*)
d©a
) {

456 ià(
	`cÝyout
(
¬gs
, 
	`NvP64_VALUE
(
xãr
->
±r
), 
size
) != 0)

457 
¡©us
 = 
EFAULT
;

458 
	`ä“
(
¬gs
, 
M_NVIDIA
);

461  
¡©us
;

462 
	}
}

464 
	$nvidŸ_Ý’_ùl
(

465 
nv_¡©e_t
 *
nv
,

466 
nvidŸ_fž•
 *
fž•


469 
nvidŸ_soác
 *
sc
 = 
nv
->
os_¡©e
;

471 ià(
sc
->
»fút
 == 0) {

472 
	`NV_UMA_ZONE_ALLOC_STACK
(
sc
->
¥
[
NV_DEV_STACK_API
]);

473 ià(
sc
->
¥
[
NV_DEV_STACK_API
] =ð
NULL
)

474  
ENOMEM
;

475 
nv
->
æags
 |ð(
NV_FLAG_OPEN
 | 
NV_FLAG_CONTROL
);

478 
sc
->
»fút
++;

481 
	}
}

483 
	$nvidŸ_þo£_ùl
(

484 
nv_¡©e_t
 *
nv
,

485 
nvidŸ_fž•
 *
fž•


488 
nvidŸ_soác
 *
sc
 = 
nv
->
os_¡©e
;

489 
nvidŸ_¡ack_t
 *
¥
;

491 
¥
 = 
sc
->¥[
NV_DEV_STACK_API
];

492 
	`rm_ä“_unu£d_þ›Ás
(
¥
, 
nv
, 
fž•
);

494 ià(--
sc
->
»fút
 == 0) {

495 
	`NV_UMA_ZONE_FREE_STACK
(
sc
->
¥
[
NV_DEV_STACK_API
]);

496 
nv
->
æags
 &ð~
NV_FLAG_OPEN
;

500 
	}
}

502 
	$nv_dev_ä“_¡acks
(
nvidŸ_soác_t
 *
sc
)

504 
NvU32
 
i
;

505 
i
 = 0; i < 
NV_DEV_STACK_COUNT
; i++)

507 ià(
sc
->
¥
[
i
])

508 
	`NV_UMA_ZONE_FREE_STACK
(
sc
->
¥
[
i
]);

510 
	}
}

512 
	$nv_dev_®loc_¡acks
(
nvidŸ_soác_t
 *
sc
)

514 
NvU32
 
i
;

515 
i
 = 0; i < 
NV_DEV_STACK_COUNT
; i++)

517 
	`NV_UMA_ZONE_ALLOC_STACK
(
sc
->
¥
[
i
]);

518 ià(
sc
->
¥
[
i
] =ð
NULL
)

520 
	`nv_dev_ä“_¡acks
(
sc
);

521  
ENOMEM
;

525 
	}
}

527 
nv_¡©e_t
 *
	$nvidŸ_fšd_¡©e
(
NvU32
 
gpu_id
)

529 
i
;

530 
i
 = 0; i < 
NV_MAX_DEVICES
; i++) {

531 
nv_¡©e_t
 *
nv
;

532 
nvidŸ_soác
 *
sc
 = 
	`devþass_g‘_soác
(
nvidŸ_devþass
, 
i
);

533 ià(
sc
 =ð
NULL
) {

536 
nv
 = 
sc
->
nv_¡©e
;

538 ià(
nv
->
gpu_id
 == gpu_id) {

539  
nv
;

543  
NULL
;

544 
	}
}

546 
	$nvidŸ_Ý’_dev
(

547 
nv_¡©e_t
 *
nv
,

548 
nvidŸ_fž•
 *
fž•


551 
	`´štf
("nvidia_open_dev:\n");

552 
¡©us
 = 
ENOMEM
;

553 
nvidŸ_soác
 *
sc
 = 
nv
->
os_¡©e
;

554 
nvidŸ_¡ack_t
 *
¥
 = 
NULL
;

556 ià(
sc
->
»fút
 == 0) {

557 
¡©us
 = 
	`nv_dev_®loc_¡acks
(
sc
);

558 ià(
¡©us
)

559 
çžed
;

562 
¥
 = 
sc
->¥[
NV_DEV_STACK_API
];

563 
	`NV_PCI_CHECK_CONFIG_SPACE
(
¥
, 
nv
, 
TRUE
, TRUE, TRUE);

565 ià(
sc
->
»fút
 == 0) {

566 ià(!
	`rm_š™_ad­‹r
(
¥
, 
nv
)) {

567 
	`deviû_´štf
(
sc
->
dev
, "NVRM:„m_init_adapter() failed!\n");

568 
¡©us
 = 
EIO
;

569 
çžed
;

572 ià(
nv
->
ud
.
size
 != 0) {

573 
sc
->
UD_sg_li¡
 = 
	`sgli¡_®loc
(1, 
M_WAITOK
);

574 ià(!
sc
->
UD_sg_li¡
)

575 
çžed
;

577 
	`sgli¡_­³nd_phys
(
sc
->
UD_sg_li¡
, 
nv
->
ud
.
ýu_add»ss
,‚v->ud.
size
);

579 
sc
->
UD_objeù
 = 
	`NV_VM_PAGER_ALLOCATE
(
OBJT_SG
, sc->
UD_sg_li¡
,

580 
nv
->
ud
.
size
, (
VM_PROT_READ
 | 
VM_PROT_WRITE
),

581 0, 
NULL
);

582 ià(!
sc
->
UD_objeù
)

583 
çžed
;

585 
	`VM_OBJECT_WLOCK
(
sc
->
UD_objeù
);

586 
	`vm_objeù_£t_mem©Œ
(
sc
->
UD_objeù
, 
VM_MEMATTR_UNCACHEABLE
);

587 
	`VM_OBJECT_WUNLOCK
(
sc
->
UD_objeù
);

590 
nv
->
æags
 |ð
NV_FLAG_OPEN
;

593 
sc
->
»fút
++;

597 
çžed
:

598 ià(
sc
->
»fút
 == 0) {

599 ià(
sc
->
UD_objeù
 !ð
NULL
)

600 
	`NV_VM_OBJECT_DEALLOCATE
(
sc
->
UD_objeù
);

601 ià(
sc
->
UD_sg_li¡
 !ð
NULL
)

602 
	`NV_SGLIST_FREE
(
sc
->
UD_sg_li¡
);

604 ià(
¡©us
 !ð
EIO
)

605 
	`NV_SHUTDOWN_ADAPTER
(
¥
, 
nv
);

607 
	`nv_dev_ä“_¡acks
(
sc
);

610 
	`´štf
("nvidŸ_Ý’_dev:»tuº: %d\n", 
¡©us
);

611  
¡©us
;

612 
	}
}

614 
	$nvidŸ_Ý’_dev_k”Ãl
(

615 
NvU32
 
gpu_id
,

616 
nvidŸ_¡ack_t
 *
¥


619 
¡©us
;

620 
nv_¡©e_t
 *
nv
 = 
	`nvidŸ_fšd_¡©e
(
gpu_id
);

622 
	`´štf
("nvidia_open_dev_kernel:\n");

623 ià(
nv
 =ð
NULL
) {

624 
	`´štf
("nvidia_open_dev_kernel: Failedo findhe‚vidia state\n");

625  
EINVAL
;

628 
	`nv_lock_­i
(
nv
);

629 
¡©us
 = 
	`nvidŸ_Ý’_dev
(
nv
, 
NULL
 );

630 
	`nv_uÆock_­i
(
nv
);

632 
	`´štf
("nvidŸ_Ý’_dev_k”Ãl:‚vidŸ_Ý’_dev stu ð%d\n", 
¡©us
);

633  
¡©us
;

634 
	}
}

636 
	$nvidŸ_þo£_dev
(

637 
nv_¡©e_t
 *
nv
,

638 
nvidŸ_fž•
 *
fž•


641 
nvidŸ_soác
 *
sc
;

642 
nvidŸ_¡ack_t
 *
¥
;

644 
sc
 = 
nv
->
os_¡©e
;

645 
¥
 = 
sc
->¥[
NV_DEV_STACK_API
];

647 
	`NV_PCI_CHECK_CONFIG_SPACE
(
¥
, 
nv
, 
TRUE
, TRUE, TRUE);

648 ià(
fž•
 !ð
NULL
) {

649 
	`rm_ä“_unu£d_þ›Ás
(
¥
, 
nv
, 
fž•
);

652 ià(--
sc
->
»fút
 == 0) {

653 ià(
sc
->
UD_objeù
 !ð
NULL
)

654 
	`NV_VM_OBJECT_DEALLOCATE
(
sc
->
UD_objeù
);

655 ià(
sc
->
UD_sg_li¡
 !ð
NULL
)

656 
	`NV_SGLIST_FREE
(
sc
->
UD_sg_li¡
);

658 
	`NV_SHUTDOWN_ADAPTER
(
¥
, 
nv
);

660 
	`nv_dev_ä“_¡acks
(
sc
);

662 
nv
->
æags
 &ð~
NV_FLAG_OPEN
;

666 
	}
}

668 
	$nvidŸ_þo£_dev_k”Ãl
(

669 
NvU32
 
gpu_id
,

670 
nvidŸ_¡ack_t
 *
¥


673 
nv_¡©e_t
 *
nv
 = 
	`nvidŸ_fšd_¡©e
(
gpu_id
);

675 ià(
nv
 =ð
NULL
) {

679 
	`nv_lock_­i
(
nv
);

680 
	`nvidŸ_þo£_dev
(
nv
, 
NULL
 );

681 
	`nv_uÆock_­i
(
nv
);

682 
	}
}

684 
	$nvidŸ_modev’t
(

685 
moduË_t
 
mod
,

686 
wh©
,

687 *
¬g


690 
nv_¡©e_t
 *
nv
;

691 
nvidŸ_soác
 *
sc
;

692 
nvidŸ_¡ack_t
 *
¥
;

694 
wh©
) {

695 
MOD_LOAD
:

702 
sc
 = &
nvidŸ_ùl_sc
;

704 
nvidŸ_¡ack_t_zÚe
 = 
	`uma_zü—‹
("nvidŸ_¡ack_t", (
nvidŸ_¡ack_t
),

705 
NULL
, NULL, NULL, NULL, 
UMA_ALIGN_PTR
, 0);

706 ià(
nvidŸ_¡ack_t_zÚe
 =ð
NULL
)

707  
ENOMEM
;

709 
	`NV_UMA_ZONE_ALLOC_STACK
(
¥
);

710 ià(
¥
 =ð
NULL
) {

711 
	`uma_zde¡roy
(
nvidŸ_¡ack_t_zÚe
);

712  
ENOMEM
;

715 
	`bz”o
(
sc
, (
nvidŸ_soác_t
));

717 ià(!
	`rm_š™_rm
(
¥
)) {

718 
	`´štf
("NVRM:„m_init_rm() failed!\n");

719 
	`NV_UMA_ZONE_FREE_STACK
(
¥
);

720 
	`uma_zde¡roy
(
nvidŸ_¡ack_t_zÚe
);

721  
EIO
;

724 
__nvidŸ_š™_¥
 = 
¥
;

726 ià(!
	`nvidŸ_lock_š™_locks
(
¥
, &
nvidŸ_ùl_¡©e
)) {

727 
	`rm_shutdown_rm
(
¥
);

728 
	`NV_UMA_ZONE_FREE_STACK
(
¥
);

729 
	`uma_zde¡roy
(
nvidŸ_¡ack_t_zÚe
);

730  
ENOMEM
;

733 
	`ÿÎout_š™
(&
sc
->
tim”
, 
CALLOUT_MPSAFE
);

734 
	`sx_š™
(&
sc
->
­i_sx
, "ctl.api_sx");

736 
nvidŸ_ùl_¡©e
.
os_¡©e
 = 
sc
;

737 
sc
->
nv_¡©e
 = (*)&
nvidŸ_ùl_¡©e
;

739 
	`nvidŸ_sysùl_š™
();

740 
	`nvidŸ_lšux_š™
();

744 
MOD_UNLOAD
:

750 
nv
 = &
nvidŸ_ùl_¡©e
;

751 
sc
 = 
nv
->
os_¡©e
;

753 
	`nv_lock_­i
(
nv
);

755 ià(
sc
->
»fút
 != 0) {

756 
	`nv_uÆock_­i
(
nv
);

757  
EBUSY
;

760 
	`nv_uÆock_­i
(
nv
);

761 
	`sx_de¡roy
(&
sc
->
­i_sx
);

763 
¥
 = 
__nvidŸ_š™_¥
;

765 
	`nvidŸ_lock_de¡roy_locks
(
¥
, 
nv
);

767 
	`rm_shutdown_rm
(
¥
);

769 
	`NV_UMA_ZONE_FREE_STACK
(
¥
);

771 
	`nvidŸ_sysùl_ex™
();

772 
	`nvidŸ_lšux_ex™
();

774 
	`uma_zde¡roy
(
nvidŸ_¡ack_t_zÚe
);

783 
	}
}

785 
	$nv_lock_­i
(
nv_¡©e_t
 *
nv
)

787 
nvidŸ_soác
 *
sc
 = 
nv
->
os_¡©e
;

788 
	`sx_xlock
(&
sc
->
­i_sx
);

789 
	}
}

791 
	$nv_uÆock_­i
(
nv_¡©e_t
 *
nv
)

793 
nvidŸ_soác
 *
sc
 = 
nv
->
os_¡©e
;

794 
	`sx_xuÆock
(&
sc
->
­i_sx
);

795 
	}
}

797 
NV_STATUS
 
NV_API_CALL
 
	$nv_expÜt_rm_objeù_to_fd
(

798 
NvHªdË
 
hExpÜ‹dRmObjeù
,

799 
NvS32
 
fd


802  
NV_ERR_NOT_SUPPORTED
;

803 
	}
}

805 
NV_STATUS
 
NV_API_CALL
 
	$nv_impÜt_rm_objeù_äom_fd
(

806 
NvS32
 
fd
,

807 
NvHªdË
 *
pExpÜ‹dObjeù


810  
NV_ERR_NOT_SUPPORTED
;

811 
	}
}

813 
NV_API_CALL
 
	$nv_po¡_ev’t
(

814 
nv_¡©e_t
 *
nv
,

815 
nv_ev’t_t
 *
ev’t
,

816 
NvHªdË
 
hObjeù
,

817 
NvU32
 
šdex
,

818 
NvBoÞ
 
d©a_v®id


821 
nvidŸ_fž•
 *
fž•
 = 
ev’t
->
fže
;

822 
nvidŸ_ev’t
 *
‘
;

824 
	`mtx_lock
(&
fž•
->
ev’t_mtx
);

826 ià(
d©a_v®id
) {

827 
‘
 = 
	`m®loc
((
nvidŸ_ev’t_t
), 
M_NVIDIA
, 
M_NOWAIT
);

828 ià(
‘
 =ð
NULL
) {

829 
	`mtx_uÆock
(&
fž•
->
ev’t_mtx
);

833 
‘
->
ev’t
 = *event;

834 
‘
->
ev’t
.
hObjeù
 = hObject;

835 
‘
->
ev’t
.
šdex
 = index;

837 
	`STAILQ_INSERT_TAIL
(&
fž•
->
ev’t_queue
, 
‘
, 
queue
);

840 
fž•
->
ev’t_³ndšg
 = 
TRUE
;

841 
	`mtx_uÆock
(&
fž•
->
ev’t_mtx
);

843 
	`£lwakeup
(&
fž•
->
ev’t_r£l
);

844 
	}
}

846 
NvS32
 
NV_API_CALL
 
	$nv_g‘_ev’t
(

847 
nv_¡©e_t
 *
nv
,

848 *
fže
,

849 
nv_ev’t_t
 *
ev’t
,

850 
NvU32
 *
³ndšg


853 
nvidŸ_fž•
 *
fž•
 = 
fže
;

854 
nvidŸ_ev’t
 *
‘
;

856 
	`mtx_lock
(&
fž•
->
ev’t_mtx
);

858 
‘
 = 
	`STAILQ_FIRST
(&
fž•
->
ev’t_queue
);

859 ià(
‘
 =ð
NULL
) {

860 
	`mtx_uÆock
(&
fž•
->
ev’t_mtx
);

861  
NV_ERR_GENERIC
;

864 *
ev’t
 = 
‘
->event;

866 
	`STAILQ_REMOVE
(&
fž•
->
ev’t_queue
, 
‘
, 
nvidŸ_ev’t
, 
queue
);

868 *
³ndšg
 = !
	`STAILQ_EMPTY
(&
fž•
->
ev’t_queue
);

870 
	`mtx_uÆock
(&
fž•
->
ev’t_mtx
);

872 
	`ä“
(
‘
, 
M_NVIDIA
);

874  
NV_OK
;

875 
	}
}

877 * 
NV_API_CALL
 
	$nv_®loc_k”Ãl_m­pšg
(

878 
nv_¡©e_t
 *
nv
,

879 *
pAÎocPriv©e
,

880 
NvU64
 
·geIndex
,

881 
NvU32
 
·geOff£t
,

882 
NvU64
 
size
,

883 **
µPriv©e


886 
nvidŸ_®loc
 *
©
 = 
pAÎocPriv©e
;

887 
vm_off£t_t
 
vœtu®_add»ss
;

888 
¡©us
;

890 ià(
©
->
®loc_ty³_cÚtiguous
) {

891 *
µPriv©e
 = 
NULL
;

892  (*)(
NvUPŒ
)(
©
->
±e_¬¿y
[0].
vœtu®_add»ss
 +

893 (
·geIndex
 * 
PAGE_SIZE
è+ 
·geOff£t
);

896 
size
 = (siz+ 
PAGE_MASK
) & ~PAGE_MASK;

898 
	`vm_objeù_»ã»nû
(
©
->
objeù
);

899 
vœtu®_add»ss
 = 
	`vm_m­_mš
(
k”Ãl_m­
);

901 
¡©us
 = 
	`vm_m­_fšd
(
k”Ãl_m­
, 
©
->
objeù
, (
·geIndex
 * 
PAGE_SIZE
),

902 &
vœtu®_add»ss
, 
size
, 0, 
VMFS_ANY_SPACE
,

903 (
VM_PROT_READ
 | 
VM_PROT_WRITE
),

904 (
VM_PROT_READ
 | 
VM_PROT_WRITE
), 0);

905 ià(
¡©us
 !ð
KERN_SUCCESS
) {

906 
	`NV_VM_OBJECT_DEALLOCATE
(
©
->
objeù
);

907  
NULL
;

910 
¡©us
 = 
	`vm_m­_wœe
(
k”Ãl_m­
, 
vœtu®_add»ss
,

911 (
vœtu®_add»ss
 + 
size
),

912 (
VM_MAP_WIRE_SYSTEM
 | 
VM_MAP_WIRE_NOHOLES
));

913 ià(
¡©us
 !ð
KERN_SUCCESS
) {

914 
	`vm_m­_»move
(
k”Ãl_m­
, 
vœtu®_add»ss
,

915 (
vœtu®_add»ss
 + 
size
));

916  
NULL
;

919 *
µPriv©e
 = (*)(
NvUPŒ
)
size
;

921  (*)(
vœtu®_add»ss
 + 
·geOff£t
);

922 
	}
}

924 
NV_STATUS
 
NV_API_CALL
 
	$nv_ä“_k”Ãl_m­pšg
(

925 
nv_¡©e_t
 *
nv
,

926 *
pAÎocPriv©e
,

927 *
add»ss
,

928 *
pPriv©e


931 
vm_off£t_t
 
vœtu®_add»ss
;

932 
ušt32_t
 
size
;

934 ià(
pPriv©e
 !ð
NULL
) {

935 
vœtu®_add»ss
 = (
vm_off£t_t
)
add»ss
 & ~
PAGE_MASK
;

936 
size
 = (
NvUPŒ
)
pPriv©e
;

937 
	`vm_m­_»move
(
k”Ãl_m­
, 
vœtu®_add»ss
,

938 (
vœtu®_add»ss
 + 
size
));

941  
NV_OK
;

942 
	}
}

944 
nvidŸ_fž•_t
* 
	$nv_g‘_fže_´iv©e
(
NvU32
 
fd
, 
nv_¡©e_t
 *
nv
)

946 
fže
 *
pFže
 = 
NULL
;

947 
NV_STATUS
 
¡©us
 = 
EINVAL
;

948 
nvidŸ_fž•_t
 *
nvå
 = 
NULL
;

949 
cdev_´ivd©a
 *
p
;

951 #ià
__F»eBSD_v”siÚ
 >= 1000053

952 
ÿp_rights_t
 
rights
;

954 
th»ad
 *
td
;

956 
td
 = 
cu¹h»ad
;

958 
¡©us
 = 
	`fg‘
(
td
, 
fd
, 
	`ÿp_rights_š™
(&
rights
, 
CAP_READ
), &
pFže
);

959 ià(
¡©us
 != 0)

960  
NULL
;

962 
p
 = 
pFže
->
f_cdev´iv
;

963 if(!
p
)

964 
dÚe
;

966 ià(
	`NV_IS_CTL_DEVICE
(
nv
))

968 ià(
p
->
cdpd_dŒ
 !ð
nvidŸ_ùl_dtÜ
)

969 
dÚe
;

973 ià(
p
->
cdpd_dŒ
 !ð
nvidŸ_dev_dtÜ
)

974 
dÚe
;

977 
nvå
 = (
nvidŸ_fž•_t
*)
p
->
cdpd_d©a
;

979 
dÚe
:

989 
	`fdrÝ
(
pFže
, 
td
);

991  
nvå
;

992 
	}
}

994 
NV_STATUS
 
NV_API_CALL
 
	$nv_add_m­pšg_cÚ‹xt_to_fže
(

995 
nv_¡©e_t
 *
nv
,

996 
nv_u£rm­_acûss_·¿ms_t
* 
nvu­
,

997 
NvU32
 
´Ù
,

998 *
pAÎocPriv
,

999 
NvU64
 
·geIndex
,

1000 
NvU32
 
fd


1003 
nv_®loc_m­pšg_cÚ‹xt_t
 *
nvamc
 = 
NULL
;

1004 
nvidŸ_fž•_t
 *
nvå
 = 
NULL
;

1007 
nvå
 = 
	`nv_g‘_fže_´iv©e
(
fd
, 
nv
);

1008 ià(
nvå
 =ð
NULL
)

1009  
NV_ERR_INVALID_ARGUMENT
;

1011 
nvamc
 = &
nvå
->
mm­_cÚ‹xt
;

1013 ià(
nvamc
->
v®id
)

1014  
NV_ERR_STATE_IN_USE
;

1016 ià(
	`NV_IS_CTL_DEVICE
(
nv
))

1018 
nvamc
->
®loc
 = 
pAÎocPriv
;

1019 
nvamc
->
·ge_šdex
 = 
·geIndex
;

1023 
nvamc
->
mm­_¡¬t
 = 
nvu­
->mmap_start;

1024 
nvamc
->
mm­_size
 = 
nvu­
->mmap_size;

1025 
nvamc
->
acûss_¡¬t
 = 
nvu­
->access_start;

1026 
nvamc
->
acûss_size
 = 
nvu­
->access_size;

1027 
nvamc
->
»m­_´Ù_exŒa
 = 
nvu­
->remap_prot_extra;

1030 
nvamc
->
´Ù
 =…rot;

1031 
nvamc
->
v®id
 = 
NV_TRUE
;

1033  
NV_OK
;

1034 
	}
}

1036 
NV_STATUS
 
NV_API_CALL
 
	$nv_®loc_u£r_m­pšg
(

1037 
nv_¡©e_t
 *
nv
,

1038 *
pAÎocPriv©e
,

1039 
NvU64
 
·geIndex
,

1040 
NvU32
 
·geOff£t
,

1041 
NvU64
 
size
,

1042 
NvU32
 
´Ùeù
,

1043 
NvU64
 *
pU£rAdd»ss
,

1044 **
µPriv©e


1047 
nvidŸ_®loc
 *
©
 = 
pAÎocPriv©e
;

1049 ià(
©
->
®loc_ty³_cÚtiguous
)

1050 *
pU£rAdd»ss
 = (
©
->
±e_¬¿y
[0].
physiÿl_add»ss
 + (
·geIndex
 * 
PAGE_SIZE
è+ 
·geOff£t
);

1052 *
pU£rAdd»ss
 = (
©
->
±e_¬¿y
[
·geIndex
].
physiÿl_add»ss
 + 
·geOff£t
);

1054  
NV_OK
;

1055 
	}
}

1057 
NV_STATUS
 
NV_API_CALL
 
	$nv_ä“_u£r_m­pšg
(

1058 
nv_¡©e_t
 *
nv
,

1059 *
pAÎocPriv©e
,

1060 
NvU64
 
u£rAdd»ss
,

1061 *
pPriv©e


1064  
NV_OK
;

1065 
	}
}

1067 
NvS32
 
	$nv_®loc_cÚtig_·ges
(

1068 
nv_¡©e_t
 *
nv
,

1069 
NvU32
 
couÁ
,

1070 
NvU32
 
ÿche_ty³
,

1071 
NvBoÞ
 
z”o
,

1072 
NvU64
 *
±e_¬¿y
,

1073 **
´iv©e


1076 
nvidŸ_®loc
 *
©
;

1077 
nvidŸ_soác
 *
sc
 = 
nv
->
os_¡©e
;

1078 
vm_mem©Œ_t
 
©Œ
;

1079 
vm_off£t_t
 
add»ss
;

1080 
NvU32
 
size
 = (
couÁ
 * 
PAGE_SIZE
);

1081 
æags
 = (
z”o
 ? 
M_ZERO
 : 0);

1082 
¡©us
;

1084 
ÿche_ty³
) {

1085 
NV_MEMORY_UNCACHED
:

1086 
©Œ
 = 
VM_MEMATTR_UNCACHEABLE
;

1088 
NV_MEMORY_DEFAULT
:

1089 
NV_MEMORY_CACHED
:

1090 
©Œ
 = 
VM_MEMATTR_WRITE_BACK
;

1092 
NV_MEMORY_UNCACHED_WEAK
:

1093 
©Œ
 = 
VM_MEMATTR_WEAK_UNCACHEABLE
;

1095 
NV_MEMORY_WRITECOMBINED
:

1096 
©Œ
 = 
VM_MEMATTR_WRITE_COMBINING
;

1099 
	`nv_´štf
(
NV_DBG_ERRORS
,

1101  
EINVAL
;

1104 
©
 = 
	`m®loc
((
nvidŸ_®loc_t
), 
M_NVIDIA
, (
M_WAITOK
 | 
M_ZERO
));

1105 ià(!
©
)

1106  
ENOMEM
;

1108 
©
->
size
 = size;

1109 
©
->
®loc_ty³_cÚtiguous
 = 1;

1110 
©
->
©Œ
 =‡ttr;

1112 
©
->
±e_¬¿y
 = 
	`m®loc
((
nvidŸ_±e_t
), 
M_NVIDIA
,

1113 (
M_WAITOK
 | 
M_ZERO
));

1114 ià(!
©
->
±e_¬¿y
) {

1115 
	`ä“
(
©
, 
M_NVIDIA
);

1116  
ENOMEM
;

1119 
add»ss
 = 
	`NV_KMEM_ALLOC_CONTIG
(
size
, 
æags
, 0,

1120 
sc
->
dma_mask
, 
PAGE_SIZE
, 0, 
©Œ
);

1121 ià(!
add»ss
) {

1122 
¡©us
 = 
ENOMEM
;

1123 
çžed
;

1125 
	`m®loc_ty³_®loÿ‹d
(
M_NVIDIA
, 
size
);

1127 ià(
©Œ
 !ð
VM_MEMATTR_WRITE_BACK
)

1128 
	`os_æush_ýu_ÿche
();

1130 
©
->
±e_¬¿y
[0].
vœtu®_add»ss
 = 
add»ss
;

1131 
©
->
±e_¬¿y
[0].
physiÿl_add»ss
 = (
NvU64
)
	`vtÝhys
(
add»ss
);

1133 
©
->
sg_li¡
 = 
	`sgli¡_®loc
(1, 
M_WAITOK
);

1134 ià(!
©
->
sg_li¡
) {

1135 
¡©us
 = 
ENOMEM
;

1136 
çžed
;

1139 
±e_¬¿y
[0] = 
©
->±e_¬¿y[0].
physiÿl_add»ss
;

1140 
	`sgli¡_­³nd_phys
(
©
->
sg_li¡
, 
±e_¬¿y
[0], 
size
);

1142 
©
->
objeù
 = 
	`NV_VM_PAGER_ALLOCATE
(
OBJT_SG
,‡t->
sg_li¡
, 
size
,

1143 (
VM_PROT_READ
 | 
VM_PROT_WRITE
), 0, 
NULL
);

1144 ià(!
©
->
objeù
) {

1145 
¡©us
 = 
ENOMEM
;

1146 
çžed
;

1149 
	`VM_OBJECT_WLOCK
(
©
->
objeù
);

1150 
	`vm_objeù_£t_mem©Œ
(
©
->
objeù
, 
©Œ
);

1151 
	`VM_OBJECT_WUNLOCK
(
©
->
objeù
);

1153 *
´iv©e
 = 
©
;

1154 
	`SLIST_INSERT_HEAD
(&
sc
->
®loc_li¡
, 
©
, 
li¡
);

1158 
çžed
:

1159 ià(
©
->
objeù
)

1160 
	`NV_VM_OBJECT_DEALLOCATE
(
©
->
objeù
);

1161 ià(
©
->
sg_li¡
)

1162 
	`NV_SGLIST_FREE
(
©
->
sg_li¡
);

1164 ià(
©Œ
 !ð
VM_MEMATTR_WRITE_BACK
)

1165 
	`os_æush_ýu_ÿche
();

1167 ià(
©
->
±e_¬¿y
[0].
vœtu®_add»ss
 !ð
NULL
) {

1168 
	`NV_KMEM_FREE
(
©
->
±e_¬¿y
[0].
vœtu®_add»ss
,‡t->
size
);

1169 
	`m®loc_ty³_ä“d
(
M_NVIDIA
, 
©
->
size
);

1172 
	`ä“
(
©
->
±e_¬¿y
, 
M_NVIDIA
);

1173 
	`ä“
(
©
, 
M_NVIDIA
);

1175  
¡©us
;

1176 
	}
}

1178 
NvS32
 
	$nv_ä“_cÚtig_·ges
(

1179 
nv_¡©e_t
 *
nv
,

1180 *
´iv©e


1183 
nvidŸ_®loc
 *
©
 = 
´iv©e
;

1184 
nvidŸ_soác
 *
sc
 = 
nv
->
os_¡©e
;

1186 
	`SLIST_REMOVE
(&
sc
->
®loc_li¡
, 
©
, 
nvidŸ_®loc
, 
li¡
);

1188 
	`NV_VM_OBJECT_DEALLOCATE
(
©
->
objeù
);

1189 
	`NV_SGLIST_FREE
(
©
->
sg_li¡
);

1191 ià(
©
->
©Œ
 !ð
VM_MEMATTR_WRITE_BACK
)

1192 
	`os_æush_ýu_ÿche
();

1194 
	`NV_KMEM_FREE
(
©
->
±e_¬¿y
[0].
vœtu®_add»ss
,‡t->
size
);

1195 
	`m®loc_ty³_ä“d
(
M_NVIDIA
, 
©
->
size
);

1197 
	`ä“
(
©
->
±e_¬¿y
, 
M_NVIDIA
);

1198 
	`ä“
(
©
, 
M_NVIDIA
);

1201 
	}
}

1203 
NvS32
 
	$nv_®loc_sy¡em_·ges
(

1204 
nv_¡©e_t
 *
nv
,

1205 
NvU32
 
couÁ
,

1206 
NvU32
 
ÿche_ty³
,

1207 
NvBoÞ
 
z”o
,

1208 
NvU64
 *
±e_¬¿y
,

1209 **
´iv©e


1212 
nvidŸ_®loc
 *
©
;

1213 
nvidŸ_soác
 *
sc
 = 
nv
->
os_¡©e
;

1214 
vm_off£t_t
 
add»ss
;

1215 
ušt32_t
 
i
;

1216 
vm_mem©Œ_t
 
©Œ
;

1217 
ušt32_t
 
size
 = (
couÁ
 * 
PAGE_SIZE
);

1218 
æags
 = (
z”o
 ? 
M_ZERO
 : 0);

1219 
¡©us
;

1221 
ÿche_ty³
) {

1222 
NV_MEMORY_UNCACHED
:

1223 
©Œ
 = 
VM_MEMATTR_UNCACHEABLE
;

1225 
NV_MEMORY_DEFAULT
:

1226 
NV_MEMORY_CACHED
:

1227 
©Œ
 = 
VM_MEMATTR_WRITE_BACK
;

1229 
NV_MEMORY_UNCACHED_WEAK
:

1230 
©Œ
 = 
VM_MEMATTR_WEAK_UNCACHEABLE
;

1232 
NV_MEMORY_WRITECOMBINED
:

1233 
©Œ
 = 
VM_MEMATTR_WRITE_COMBINING
;

1236 
	`nv_´štf
(
NV_DBG_ERRORS
,

1238  
EINVAL
;

1241 
©
 = 
	`m®loc
((
nvidŸ_®loc_t
), 
M_NVIDIA
, (
M_WAITOK
 | 
M_ZERO
));

1242 ià(!
©
)

1243  
ENOMEM
;

1245 
©
->
size
 = size;

1246 
©
->
®loc_ty³_cÚtiguous
 = 0;

1247 
©
->
©Œ
 =‡ttr;

1249 
©
->
±e_¬¿y
 = 
	`m®loc
(((
nvidŸ_±e_t
è* 
couÁ
),

1250 
M_NVIDIA
, (
M_WAITOK
 | 
M_ZERO
));

1251 ià(!
©
->
±e_¬¿y
) {

1252 
	`ä“
(
©
, 
M_NVIDIA
);

1253  
ENOMEM
;

1256 
i
 = 0; i < 
couÁ
; i++) {

1257 
add»ss
 = 
	`NV_KMEM_ALLOC_CONTIG
(
PAGE_SIZE
, 
æags
, 0,

1258 
sc
->
dma_mask
, 
PAGE_SIZE
, 0, 
©Œ
);

1259 ià(!
add»ss
) {

1260 
¡©us
 = 
ENOMEM
;

1261 
çžed
;

1263 
	`m®loc_ty³_®loÿ‹d
(
M_NVIDIA
, 
PAGE_SIZE
);

1265 
©
->
±e_¬¿y
[
i
].
vœtu®_add»ss
 = 
add»ss
;

1266 
©
->
±e_¬¿y
[
i
].
physiÿl_add»ss
 = (
NvU64
)
	`vtÝhys
(
add»ss
);

1269 ià(
©Œ
 !ð
VM_MEMATTR_WRITE_BACK
)

1270 
	`os_æush_ýu_ÿche
();

1272 
©
->
sg_li¡
 = 
	`sgli¡_®loc
(
couÁ
, 
M_WAITOK
);

1273 ià(!
©
->
sg_li¡
) {

1274 
¡©us
 = 
ENOMEM
;

1275 
çžed
;

1278 
i
 = 0; i < 
couÁ
; i++) {

1279 
±e_¬¿y
[
i
] = 
©
->±e_¬¿y[i].
physiÿl_add»ss
;

1280 
	`sgli¡_­³nd_phys
(
©
->
sg_li¡
, 
±e_¬¿y
[
i
], 
PAGE_SIZE
);

1283 
©
->
objeù
 = 
	`NV_VM_PAGER_ALLOCATE
(
OBJT_SG
,‡t->
sg_li¡
, 
size
,

1284 (
VM_PROT_READ
 | 
VM_PROT_WRITE
), 0, 
NULL
);

1285 ià(!
©
->
objeù
) {

1286 
¡©us
 = 
ENOMEM
;

1287 
çžed
;

1290 
	`VM_OBJECT_WLOCK
(
©
->
objeù
);

1291 
	`vm_objeù_£t_mem©Œ
(
©
->
objeù
, 
©Œ
);

1292 
	`VM_OBJECT_WUNLOCK
(
©
->
objeù
);

1294 *
´iv©e
 = 
©
;

1295 
	`SLIST_INSERT_HEAD
(&
sc
->
®loc_li¡
, 
©
, 
li¡
);

1299 
çžed
:

1300 ià(
©
->
objeù
)

1301 
	`NV_VM_OBJECT_DEALLOCATE
(
©
->
objeù
);

1302 ià(
©
->
sg_li¡
)

1303 
	`NV_SGLIST_FREE
(
©
->
sg_li¡
);

1305 ià(
©Œ
 !ð
VM_MEMATTR_WRITE_BACK
)

1306 
	`os_æush_ýu_ÿche
();

1308 
i
 = 0; i < 
couÁ
; i++) {

1309 ià(
©
->
±e_¬¿y
[
i
].
vœtu®_add»ss
 == 0)

1311 
	`NV_KMEM_FREE
(
©
->
±e_¬¿y
[
i
].
vœtu®_add»ss
, 
PAGE_SIZE
);

1312 
	`m®loc_ty³_ä“d
(
M_NVIDIA
, 
PAGE_SIZE
);

1315 
	`ä“
(
©
->
±e_¬¿y
, 
M_NVIDIA
);

1316 
	`ä“
(
©
, 
M_NVIDIA
);

1318  
¡©us
;

1319 
	}
}

1321 
NvS32
 
	$nv_ä“_sy¡em_·ges
(

1322 
nv_¡©e_t
 *
nv
,

1323 *
´iv©e


1326 
nvidŸ_®loc
 *
©
 = 
´iv©e
;

1327 
nvidŸ_soác
 *
sc
 = 
nv
->
os_¡©e
;

1328 
ušt32_t
 
i
, 
couÁ
;

1330 
couÁ
 = 
©
->
size
 / 
PAGE_SIZE
;

1331 
	`SLIST_REMOVE
(&
sc
->
®loc_li¡
, 
©
, 
nvidŸ_®loc
, 
li¡
);

1333 
	`NV_VM_OBJECT_DEALLOCATE
(
©
->
objeù
);

1334 
	`NV_SGLIST_FREE
(
©
->
sg_li¡
);

1336 ià(
©
->
©Œ
 !ð
VM_MEMATTR_WRITE_BACK
)

1337 
	`os_æush_ýu_ÿche
();

1339 
i
 = 0; i < 
couÁ
; i++) {

1340 
	`NV_KMEM_FREE
(
©
->
±e_¬¿y
[
i
].
vœtu®_add»ss
, 
PAGE_SIZE
);

1341 
	`m®loc_ty³_ä“d
(
M_NVIDIA
, 
PAGE_SIZE
);

1344 
	`ä“
(
©
->
±e_¬¿y
, 
M_NVIDIA
);

1345 
	`ä“
(
©
, 
M_NVIDIA
);

1348 
	}
}

1350 
NV_STATUS
 
NV_API_CALL
 
	$nv_®Ÿs_·ges
(

1351 
nv_¡©e_t
 *
nv
,

1352 
NvU32
 
couÁ
,

1353 
NvU32
 
®loc_ty³_cÚtiguous
,

1354 
NvU32
 
ÿche_ty³
,

1355 
NvU64
 
gue¡_id
,

1356 
NvU64
 *
±e_¬¿y
,

1357 **
´iv_d©a


1360  
NV_ERR_NOT_SUPPORTED
;

1361 
	}
}

1363 
NV_STATUS
 
NV_API_CALL
 
	$nv_®loc_·ges
(

1364 
nv_¡©e_t
 *
nv
,

1365 
NvU32
 
couÁ
,

1366 
NvBoÞ
 
®loc_ty³_cÚtiguous
,

1367 
NvU32
 
ÿche_ty³
,

1368 
NvBoÞ
 
®loc_ty³_z”Ûd
,

1369 
NvU64
 *
±e_¬¿y
,

1370 **
´iv©e


1373 
NV_STATUS
 
¡©us
 = 
NV_OK
;

1374 
NvBoÞ
 
z”o
 = 
®loc_ty³_z”Ûd
;

1376 ià(!
®loc_ty³_cÚtiguous
) {

1377 ià(
	`nv_®loc_sy¡em_·ges
(
nv
, 
couÁ
, 
ÿche_ty³
, 
z”o
,

1378 
±e_¬¿y
, 
´iv©e
)) {

1379 
¡©us
 = 
NV_ERR_NO_MEMORY
;

1382 ià(
	`nv_®loc_cÚtig_·ges
(
nv
, 
couÁ
, 
ÿche_ty³
, 
z”o
,

1383 
±e_¬¿y
, 
´iv©e
)) {

1384 
¡©us
 = 
NV_ERR_NO_MEMORY
;

1388  
¡©us
;

1389 
	}
}

1391 
NV_STATUS
 
NV_API_CALL
 
	$nv_ä“_·ges
(

1392 
nv_¡©e_t
 *
nv
,

1393 
NvU32
 
couÁ
,

1394 
NvBoÞ
 
®loc_ty³_cÚtiguous
,

1395 
NvU32
 
ÿche_ty³
,

1396 *
´iv©e


1399 
NV_STATUS
 
¡©us
 = 
NV_OK
;

1401 ià(!
®loc_ty³_cÚtiguous
) {

1402 ià(
	`nv_ä“_sy¡em_·ges
(
nv
, 
´iv©e
))

1403 
¡©us
 = 
NV_ERR_GENERIC
;

1405 ià(
	`nv_ä“_cÚtig_·ges
(
nv
, 
´iv©e
))

1406 
¡©us
 = 
NV_ERR_GENERIC
;

1409  
¡©us
;

1410 
	}
}

1412 
NvU64
 
NV_API_CALL
 
	$nv_g‘_k”n_phys_add»ss
(
NvU64
 
add»ss
)

1414 
vm_off£t_t
 
va
 = (vm_off£t_t)
add»ss
;

1416 #ià
	`defšed
(
NVCPU_X86_64
)

1417 ià(
va
 >ð
DMAP_MIN_ADDRESS
 && v¨< 
DMAP_MAX_ADDRESS
)

1418  
	`DMAP_TO_PHYS
(
va
);

1421 ià(
va
 < 
VM_MIN_KERNEL_ADDRESS
) {

1422 
	`os_dbg_b»akpošt
();

1426  
	`vtÝhys
(
va
);

1427 
	}
}

1429 
NvU64
 
NV_API_CALL
 
	$nv_g‘_u£r_phys_add»ss
(
NvU64
 
add»ss
)

1431 
vm¥aû
 *
vm
;

1432 
vm_off£t_t
 
va
 = (vm_off£t_t)
add»ss
;

1434 ià(
va
 >ð
VM_MIN_KERNEL_ADDRESS
) {

1435 
	`os_dbg_b»akpošt
();

1439 
vm
 = 
cu½roc
->
p_vm¥aû
;

1440  
	`pm­_exŒaù
(
	`vm¥aû_pm­
(
vm
), 
va
);

1441 
	}
}

1443 
	$nvidŸ_mm­_ùl_sšgË
(

1444 
nv_¡©e_t
 *
nv
,

1445 
nvidŸ_fž•
 *
fž•
,

1446 
vm_ooff£t_t
 *
off£t
,

1447 
vm_size_t
 
size
,

1448 
vm_objeù_t
 *
objeù


1451 
nvidŸ_®loc
 *
©
;

1452 
nvidŸ_¡ack_t
 *
¥
;

1453 
NV_STATUS
 
rmStus
;

1454 
nvidŸ_soác
 *
sc
 = 
nv
->
os_¡©e
;

1455 
NvU64
 
·geIndex
;

1456 
NvU32
 
´Ù
;

1457 
nv_®loc_m­pšg_cÚ‹xt_t
 *
mm­_cÚ‹xt
;

1459 
¥
 = 
sc
->¥[
NV_DEV_STACK_API
];

1461 
rmStus
 = 
	`rm_acquœe_­i_lock
(
¥
);

1462 ià(
rmStus
 !ð
NV_OK
)

1463  
EAGAIN
;

1465 
mm­_cÚ‹xt
 = &
fž•
->mmap_context;

1471 ià(!
mm­_cÚ‹xt
->
v®id
)

1473 
	`nv_´štf
(
NV_DBG_ERRORS
, "NVRM: VM: invalid mmap\n");

1474 
	`rm_»Ëa£_­i_lock
(
¥
);

1475  -
EINVAL
;

1478 
©
 = (
nvidŸ_®loc
 *)
mm­_cÚ‹xt
->
®loc
;

1479 
·geIndex
 = 
mm­_cÚ‹xt
->
·ge_šdex
;

1480 
´Ù
 = 
mm­_cÚ‹xt
->prot;

1482 
	`vm_objeù_»ã»nû
(
©
->
objeù
);

1483 *
objeù
 = 
©
->object;

1484 *
off£t
 = (
·geIndex
 * 
PAGE_SIZE
);

1486 
	`rm_»Ëa£_­i_lock
(
¥
);

1489 
	}
}

1491 
	$nvidŸ_mm­_dev_sšgË
(

1492 
nv_¡©e_t
 *
nv
,

1493 
nvidŸ_fž•
 *
fž•
,

1494 
vm_ooff£t_t
 *
off£t
,

1495 
vm_size_t
 
size
,

1496 
vm_objeù_t
 *
objeù


1499 
nvidŸ_soác
 *
sc
 = 
nv
->
os_¡©e
;

1500 
nv_®loc_m­pšg_cÚ‹xt_t
 *
mm­_cÚ‹xt
 = &
fž•
->mmap_context;

1506 ià(!
mm­_cÚ‹xt
->
v®id
)

1508 
	`nv_´štf
(
NV_DBG_ERRORS
, "NVRM: VM: invalid mmap\n");

1509  -
EINVAL
;

1512 *
off£t
 = 
mm­_cÚ‹xt
->
mm­_¡¬t
;

1513 
size
 = 
mm­_cÚ‹xt
->
mm­_size
;

1515 ià(
	`IS_UD_OFFSET
(
nv
, *
off£t
, 
size
)) {

1516 *
objeù
 = 
sc
->
UD_objeù
;

1517 
	`vm_objeù_»ã»nû
(*
objeù
);

1518 *
off£t
 = (*off£ˆ- 
nv
->
ud
.
ýu_add»ss
);

1520 } ià(
	`IS_FB_OFFSET
(
nv
, *
off£t
, 
size
)) {

1521 *
objeù
 = 
sc
->
BAR_objeùs
[
NV_GPU_BAR_INDEX_FB
];

1522 
	`vm_objeù_»ã»nû
(*
objeù
);

1523 *
off£t
 = (*off£ˆ- 
nv
->
fb
->
ýu_add»ss
);

1525 } ià(
	`IS_REG_OFFSET
(
nv
, *
off£t
, 
size
)) {

1526 *
objeù
 = 
sc
->
BAR_objeùs
[
NV_GPU_BAR_INDEX_REGS
];

1527 
	`vm_objeù_»ã»nû
(*
objeù
);

1528 *
off£t
 = (*off£ˆ- 
nv
->
»gs
->
ýu_add»ss
);

1532  
EINVAL
;

1533 
	}
}

1535 
	$nvidŸ_rc_tim”
(*
d©a
)

1537 
nv_¡©e_t
 *
nv
 = 
d©a
;

1538 
nvidŸ_soác
 *
sc
 = 
nv
->
os_¡©e
;

1539 
nvidŸ_¡ack_t
 *
¥
;

1541 
¥
 = 
sc
->¥[
NV_DEV_STACK_TIMER
];

1543 
	`NV_PCI_CHECK_CONFIG_SPACE
(
¥
, 
nv
, 
TRUE
, TRUE, 
FALSE
);

1545 ià(
	`rm_run_rc_ÿÎback
(
¥
, 
nv
è=ð
NV_OK
)

1546 
	`ÿÎout_»£t
(&
sc
->
tim”
, 
hz
, 
nvidŸ_rc_tim”
, (*)
nv
);

1547 
	}
}

1549 
NV_API_CALL
 
	$nv_¡¬t_rc_tim”
(

1550 
nv_¡©e_t
 *
nv


1553 
nvidŸ_soác
 *
sc
 = 
nv
->
os_¡©e
;

1555 ià(
nv
->
rc_tim”_’abËd
 != 0)

1556  
EBUSY
;

1558 
	`ÿÎout_»£t
(&
sc
->
tim”
, 
hz
, 
nvidŸ_rc_tim”
, (*)
nv
);

1559 
nv
->
rc_tim”_’abËd
 = 1;

1562 
	}
}

1564 
NV_API_CALL
 
	$nv_¡Ý_rc_tim”
(

1565 
nv_¡©e_t
 *
nv


1568 
nvidŸ_soác
 *
sc
 = 
nv
->
os_¡©e
;

1570 ià(
nv
->
rc_tim”_’abËd
 == 0)

1571  
EIO
;

1573 
	`ÿÎout_d¿š
(&
sc
->
tim”
);

1574 
nv
->
rc_tim”_’abËd
 = 0;

1577 
	}
}

1579 
NV_API_CALL
 
	$nv_£t_dma_add»ss_size
(

1580 
nv_¡©e_t
 *
nv
,

1581 
NvU32
 
phys_addr_b™s


1584 
nvidŸ_soác
 *
sc
 = 
nv
->
os_¡©e
;

1585 #ià
	`defšed
(
NVCPU_X86_64
)

1586 
sc
->
dma_mask
 = (((
ušt64_t
)1è<< 
phys_addr_b™s
) - 1;

1588 
sc
->
dma_mask
 = 0xffffffffULL;

1590 
	}
}

1592 
nv_¡©e_t
* 
NV_API_CALL
 
	$nv_g‘_ad­‹r_¡©e
(

1593 
NvU32
 
domaš
,

1594 
NvU8
 
bus
,

1595 
NvU8
 
¦Ù


1598 
i
;

1599 
nvidŸ_soác
 *
sc
;

1600 
nv_¡©e_t
 *
nv
;

1602 
i
 = 0; i < 
NV_MAX_DEVICES
; i++) {

1603 
sc
 = 
	`devþass_g‘_soác
(
nvidŸ_devþass
, 
i
);

1604 ià(!
sc
)

1606 
nv
 = 
sc
->
nv_¡©e
;

1608 ià((
nv
->
pci_šfo
.
domaš
 == domain) &&

1609 (
nv
->
pci_šfo
.
bus
 =ðbusè&& (nv->pci_šfo.
¦Ù
 == slot)) {

1610  
nv
;

1614  
NULL
;

1615 
	}
}

1617 
nv_¡©e_t
* 
NV_API_CALL
 
	$nv_g‘_ùl_¡©e
()

1619  &
nvidŸ_ùl_¡©e
;

1620 
	}
}

1622 
NV_API_CALL
 
	$nv_v”ify_pci_cÚfig
(

1623 
nv_¡©e_t
 *
nv
,

1624 
BOOL
 
check_the_b¬s


1627 
nvidŸ_soác
 *
sc
 = 
nv
->
os_¡©e
;

1628 
deviû_t
 
dev
 = 
sc
->dev;

1629 
nvidŸ_¡ack_t
 *
¥
 = 
sc
->¥[
NV_DEV_STACK_PCI_CFGCHK
];

1631 
	`nvidŸ_pci_check_cÚfig_¥aû
(
¥
, 
dev
, 
check_the_b¬s
, 
FALSE
, FALSE);

1632 
	}
}

1634 
NV_STATUS
 
NV_API_CALL
 
	$nv_dma_m­_·ges
(

1635 
nv_¡©e_t
 *
nv
,

1636 
NvU64
 
·ge_couÁ
,

1637 
NvU64
 *
±e_¬¿y
,

1638 
NvBoÞ
 
cÚtig
,

1639 **
´iv


1642  
NV_ERR_NOT_SUPPORTED
;

1643 
	}
}

1645 
NV_STATUS
 
NV_API_CALL
 
	$nv_dma_unm­_·ges
(

1646 
nv_¡©e_t
 *
nv
,

1647 
NvU64
 
·ge_couÁ
,

1648 
NvU64
 *
±e_¬¿y
,

1649 **
´iv


1652  
NV_ERR_NOT_SUPPORTED
;

1653 
	}
}

1655 
NV_STATUS
 
NV_API_CALL
 
	$nv_dma_m­_®loc
(

1656 
nv_¡©e_t
 *
nv
,

1657 
NvU64
 
·ge_couÁ
,

1658 
NvU64
 *
va_¬¿y
,

1659 
NvBoÞ
 
cÚtig
,

1660 **
´iv


1663  
NV_ERR_NOT_SUPPORTED
;

1664 
	}
}

1666 
NV_STATUS
 
NV_API_CALL
 
	$nv_dma_unm­_®loc
(

1667 
nv_¡©e_t
 *
nv
,

1668 
NvU64
 
·ge_couÁ
,

1669 
NvU64
 *
va_¬¿y
,

1670 **
´iv


1673  
NV_ERR_NOT_SUPPORTED
;

1674 
	}
}

1676 
NV_STATUS
 
NV_API_CALL
 
	$nv_dma_m­_³”
(

1677 
nv_¡©e_t
 *
nv
,

1678 
nv_¡©e_t
 *
³”
,

1679 
NvU8
 
b¬_šdex
,

1680 
NvU64
 
·ge_couÁ
,

1681 
NvU64
 *
va


1684  
NV_ERR_NOT_SUPPORTED
;

1685 
	}
}

1687 
NV_API_CALL
 
	$nv_dma_unm­_³”
(

1688 
nv_¡©e_t
 *
nv
,

1689 
NvU64
 
·ge_couÁ
,

1690 
NvU64
 
va


1693 
	}
}

1695 
NV_STATUS
 
NV_API_CALL
 
	$nv_dma_m­_mmio
(

1696 
nv_¡©e_t
 *
nv
,

1697 
NvU64
 
·ge_couÁ
,

1698 
NvU64
 *
va


1701  
NV_ERR_NOT_SUPPORTED
;

1702 
	}
}

1704 
NV_API_CALL
 
	$nv_dma_unm­_mmio
(

1705 
nv_¡©e_t
 *
nv
,

1706 
NvU64
 
·ge_couÁ
,

1707 
NvU64
 
va


1710 
	}
}

1712 
NV_STATUS
 
NV_API_CALL
 
	$nv_log_”rÜ
(

1713 
nv_¡©e_t
 *
nv
,

1714 
NvU32
 
”rÜ_numb”
,

1715 cÚ¡ *
fÜm©
,

1716 
va_li¡
 
­


1719  
NV_OK
;

1720 
	}
}

1722 
NvU64
 
NV_API_CALL
 
	$nv_g‘_dma_¡¬t_add»ss
(

1723 
nv_¡©e_t
 *
nv


1727 
	}
}

1729 
NV_STATUS
 
NV_API_CALL
 
	$nv_£t_´im¬y_vga_¡©us
(

1730 
nv_¡©e_t
 *
nv


1733  
NV_ERR_NOT_SUPPORTED
;

1734 
	}
}

1736 
NV_STATUS
 
NV_API_CALL
 
	$nv_pci_Œigg”_»cov”y
(

1737 
nv_¡©e_t
 *
nv


1740  
NV_ERR_NOT_SUPPORTED
;

1741 
	}
}

1743 
NvBoÞ
 
NV_API_CALL
 
	$nv_»quœes_dma_»m­
(

1744 
nv_¡©e_t
 *
nv


1747  
NV_FALSE
;

1748 
	}
}

1750 
NV_STATUS
 
NV_API_CALL
 
	$nv_»gi¡”_u£r_·ges
(

1751 
nv_¡©e_t
 *
nv
,

1752 
NvU64
 
·ge_couÁ
,

1753 
NvU64
 *
phys_addr
,

1754 **
´iv


1757  
NV_OK
;

1758 
	}
}

1760 
NV_STATUS
 
NV_API_CALL
 
	$nv_uÄegi¡”_u£r_·ges
(

1761 
nv_¡©e_t
 *
nv
,

1762 
NvU64
 
·ge_couÁ
,

1763 **
´iv


1766  
NV_OK
;

1767 
	}
}

1769 
NV_STATUS
 
NV_API_CALL
 
	$nv_g‘_deviû_memÜy_cÚfig
(

1770 
nv_¡©e_t
 *
nv
,

1771 
NvU32
 *
pAddrSysPhys
,

1772 
NvU32
 *
pAddrGue¡Phys
,

1773 
NvU32
 *
pAddrWidth
,

1774 
NvU32
 *
pG¿nuÏr™y
,

1775 
NvS32
 *
pNodeId


1778  
NV_ERR_NOT_SUPPORTED
;

1779 
	}
}

1781 
NV_STATUS
 
NV_API_CALL
 
	$nv_g‘_u£rm­_acûss_·¿ms
(

1782 
nv_¡©e_t
 *
nv
,

1783 
nv_u£rm­_acûss_·¿ms_t
 *
nvu­


1786  
NV_OK
;

1787 
	}
}

1789 
NV_STATUS
 
NV_API_CALL
 
	$nv_»gi¡”_³”_io_mem
(

1790 
nv_¡©e_t
 *
nv
,

1791 
NvU64
 *
phys_addr
,

1792 
NvU64
 
·ge_couÁ
,

1793 **
´iv_d©a


1796  
NV_OK
;

1797 
	}
}

1799 
NV_API_CALL
 
	$nv_uÄegi¡”_³”_io_mem
(

1800 
nv_¡©e_t
 *
nv
,

1801 *
´iv_d©a


1804 
	}
}

1806 
NV_STATUS
 
NV_API_CALL
 
	$nv_»gi¡”_phys_·ges
(

1807 
nv_¡©e_t
 *
nv
,

1808 
NvU64
 *
phys_addr
,

1809 
NvU64
 
·ge_couÁ
,

1810 **
´iv_d©a


1813  
NV_OK
;

1814 
	}
}

1816 
NV_API_CALL
 
	$nv_uÄegi¡”_phys_·ges
(

1817 
nv_¡©e_t
 *
nv
,

1818 *
´iv_d©a


1821 
	}
}

1823 
NV_STATUS
 
NV_API_CALL
 
	$nv_g‘_ibmÅu_g’»g_šfo
(

1824 
nv_¡©e_t
 *
nv
,

1825 
NvU64
 *
addr
,

1826 
NvU64
 *
size
,

1827 **
deviû


1830  
NV_ERR_NOT_SUPPORTED
;

1831 
	}
}

1833 
NV_STATUS
 
NV_API_CALL
 
	$nv_g‘_ibmÅu_»Ïxed_Üd”šg_mode
(

1834 
nv_¡©e_t
 *
nv
,

1835 
NvBoÞ
 *
mode


1838  
NV_ERR_NOT_SUPPORTED
;

1839 
	}
}

1841 
NV_API_CALL
 
	$nv_»gi¡”_backlight
(

1842 
nv_¡©e_t
 *
nv
,

1843 
NvU32
 
di¥ÏyId
,

1844 
NvU32
 
cu¼’tBrighŠess


1848 
	}
}

1850 
NV_API_CALL
 
	$nv_uÄegi¡”_backlight
(

1851 
nv_¡©e_t
 *
nv


1855 
	}
}

1857 
NV_API_CALL
 
	$nv_wa™_fÜ_ibmÅu_rsync
(
nv_¡©e_t
 *
nv
)

1859 
	}
}

	@src/nvidia/nvidia_sysctl.c

11 
	~"nv-misc.h
"

12 
	~"os-š‹rçû.h
"

13 
	~"nv.h
"

14 
	~"nv-ä“bsd.h
"

15 
	~"nv-»g.h
"

17 
sysùl_ùx_li¡
 
	gsysùl_ùx
;

19 
sysùl_oid
 *
	goid_nvidŸ
;

20 
sysùl_oid
 *
	goid_»gi¡ry
;

22 *
	gÝtiÚ_¡ršg
 = 
NULL
;

24 
	$nvidŸ_sysùl_š™
()

26 
nv_·rm_t
 *
’Œy
;

28 
	`sysùl_ùx_š™
(&
sysùl_ùx
);

30 
oid_nvidŸ
 = 
	`SYSCTL_ADD_NODE
(&
sysùl_ùx
,

31 
	`SYSCTL_STATIC_CHILDREN
(
_hw
),

32 
OID_AUTO
,

34 
CTLFLAG_RD
 | 
CTLFLAG_DYN
,

38 
	`SYSCTL_ADD_STRING
(&
sysùl_ùx
,

39 
	`SYSCTL_CHILDREN
(
oid_nvidŸ
),

40 
OID_AUTO
,

42 
CTLTYPE_STRING
 | 
CTLFLAG_RD
 | 
CTLFLAG_DYN
,

43 (*)(
ušŒ_t
è
pNVRM_ID
,

47 
oid_»gi¡ry
 = 
	`SYSCTL_ADD_NODE
(&
sysùl_ùx
,

48 
	`SYSCTL_CHILDREN
(
oid_nvidŸ
),

49 
OID_AUTO
,

51 
CTLFLAG_RD
 | 
CTLFLAG_DYN
,

55 
’Œy
 = 
nv_·rms
;

57 
	`SYSCTL_ADD_PROC
(&
sysùl_ùx
,

58 
	`SYSCTL_CHILDREN
(
oid_»gi¡ry
),

59 
OID_AUTO
,

60 
’Œy
->
Çme
,

61 
CTLTYPE_UINT
 | 
CTLFLAG_RW
 | 
CTLFLAG_DYN
,

62 
’Œy
->
d©a
, 0,

63 
nvidŸ_sysùl_»gi¡ry_key
,

64 "IU", 
NULL
);

65 
’Œy
++;

66 } 
’Œy
->
Çme
 !ð
NULL
);

68 
ÝtiÚ_¡ršg
 = 
	`m®loc
(1, 
M_NVIDIA
, (
M_WAITOK
 | 
M_ZERO
));

70 
	`SYSCTL_ADD_PROC
(&
sysùl_ùx
,

71 
	`SYSCTL_CHILDREN
(
oid_»gi¡ry
),

72 
OID_AUTO
, "dwords",

73 
CTLTYPE_STRING
 | 
CTLFLAG_RW
 | 
CTLFLAG_DYN
,

74 
NULL
, 0,

75 
nvidŸ_sysùl_»gi¡ry_dwÜds
,

76 "A", 
NULL
);

77 
	}
}

79 
	$nvidŸ_sysùl_ex™
()

81 
	`sysùl_ùx_ä“
(&
sysùl_ùx
);

82 ià(
ÝtiÚ_¡ršg
 !ð
NULL
)

83 
	`ä“
((*)
ÝtiÚ_¡ršg
, 
M_NVIDIA
);

84 
	}
}

87 
	$nvidŸ_sysùl_gpu_mod–
(
SYSCTL_HANDLER_ARGS
)

89 
nv_¡©e_t
 *
nv
 = 
¬g1
;

90 
deviû_t
 
dev
 = 
nv
->
hªdË
;

91 
nvidŸ_¡ack_t
 *
¥
;

92 
mod–_Çme
[
NV_DEVICE_NAME_LENGTH
+1];

93 
NvU16
 
subv’dÜ
, 
subdeviû
;

95 
	`NV_UMA_ZONE_ALLOC_STACK
(
¥
);

96 ià(
¥
 =ð
NULL
)

97  
ENOMEM
;

99 
subv’dÜ
 = 
	`pci_g‘_subv’dÜ
(
dev
);

100 
subdeviû
 = 
	`pci_g‘_subdeviû
(
dev
);

102 ià(
	`rm_g‘_deviû_Çme
(
¥
, 
nv
,‚v->
pci_šfo
.
deviû_id
, 
subv’dÜ
, 
subdeviû
,

103 
NV_DEVICE_NAME_LENGTH
, 
mod–_Çme
è!ð
NV_OK
) {

104 
	`¡rýy
(
mod–_Çme
, "Unknown");

107 
	`NV_UMA_ZONE_FREE_STACK
(
¥
);

109  
	`SYSCTL_OUT
(
»q
, 
mod–_Çme
, 
	`¡¾’
(model_name) + 1);

110 
	}
}

112 
	$nvidŸ_sysùl_gpu_uuid
(
SYSCTL_HANDLER_ARGS
)

114 
nv_¡©e_t
 *
nv
 = 
¬g1
;

115 
nvidŸ_¡ack_t
 *
¥
;

116 
NvU8
 *
uuid
;

117 
NvU32
 
uuid_¡¾’
;

118 
»t
;

120 
	`NV_UMA_ZONE_ALLOC_STACK
(
¥
);

121 ià(
¥
 =ð
NULL
)

122  
ENOMEM
;

124 ià(
	`rm_g‘_gpu_uuid
(
¥
, 
nv
, &
uuid
, &
uuid_¡¾’
è!ð
NV_OK
)

125  
EIO
;

127 
	`NV_UMA_ZONE_FREE_STACK
(
¥
);

129 
»t
 = 
	`SYSCTL_OUT
(
»q
, (*)
uuid
, 
uuid_¡¾’
);

130 
	`os_ä“_mem
(
uuid
);

132  
»t
;

133 
	}
}

135 
	$nvidŸ_sysùl_gpu_vbios
(
SYSCTL_HANDLER_ARGS
)

137 
nv_¡©e_t
 *
nv
 = 
¬g1
;

138 
nvidŸ_¡ack_t
 *
¥
;

140 
NvU32
 
vbios
[5];

141 
NvU8
 
vbios_v”siÚ
[16];

143 
	`NV_UMA_ZONE_ALLOC_STACK
(
¥
);

144 ià(
¥
 =ð
NULL
)

145  
ENOMEM
;

147 ià(
	`rm_g‘_vbios_v”siÚ
(
¥
, 
nv
, &
vbios
[0], &vbios[1], &vbios[2],

148 &
vbios
[3], &vbios[4]è!ð
NV_OK
) {

153 
	`¥rštf
(
vbios_v”siÚ
, "??.??.??.??.??");

155 
	`¥rštf
(
vbios_v”siÚ
, "%02x.%02x.%02x.%02x.%02x", 
vbios
[0],

156 
vbios
[1], vbios[2], vbios[3], vbios[4]);

159 
	`NV_UMA_ZONE_FREE_STACK
(
¥
);

161  
	`SYSCTL_OUT
(
»q
, 
vbios_v”siÚ
, 
	`¡¾’
(vbios_version) + 1);

162 
	}
}

164 
	$nvidŸ_sysùl_bus_ty³
(
SYSCTL_HANDLER_ARGS
)

166 
nvidŸ_soác
 *
sc
 = 
¬g1
;

167 *
bus_ty³
;

169 ià(
	`nvidŸ_pci_fšd_ÿ·bž™y
(
sc
->
dev
, 
PCIR_CAP_ID_EXP
) != 0)

170 
bus_ty³
 = "PCIe";

172 
bus_ty³
 = "PCI";

174  
	`SYSCTL_OUT
(
»q
, 
bus_ty³
, 
	`¡¾’
(bus_type) + 1);

175 
	}
}

177 
	$nvidŸ_sysùl_»gi¡ry_key
(
SYSCTL_HANDLER_ARGS
)

179 
”rÜ
;

181 
”rÜ
 = 
	`sysùl_hªdË_št
(
oidp
, 
¬g1
, 0, 
»q
);

183 ià(
”rÜ
 || !
»q
->
Ãw±r
)

184  
”rÜ
;

187 
	`os_»gi¡ry_š™
();

190 
	}
}

192 
	$nvidŸ_sysùl_»gi¡ry_dwÜds
(
SYSCTL_HANDLER_ARGS
)

194 
”rÜ
, 
Ën
;

195 *
Ãw_ÝtiÚ_¡ršg
;

197 
Ën
 = 
	`¡¾’
(
ÝtiÚ_¡ršg
) + 1;

198 
”rÜ
 = 
	`SYSCTL_OUT
(
»q
, 
ÝtiÚ_¡ršg
, 
Ën
);

200 ià(
”rÜ
 || !
»q
->
Ãw±r
)

201  
”rÜ
;

203 
Ën
 = (
»q
->
ÃwËn
 -„eq->
Ãwidx
);

205 
Ãw_ÝtiÚ_¡ršg
 = 
	`m®loc
((
Ën
 + 1), 
M_NVIDIA
, 
M_WAITOK
);

206 ià(!
Ãw_ÝtiÚ_¡ršg
)

207  
ENOMEM
;

209 
”rÜ
 = 
	`SYSCTL_IN
(
»q
, 
Ãw_ÝtiÚ_¡ršg
, 
Ën
);

210 ià(
”rÜ
)

211  
”rÜ
;

213 
	`ä“
(
ÝtiÚ_¡ršg
, 
M_NVIDIA
);

215 
ÝtiÚ_¡ršg
 = 
Ãw_ÝtiÚ_¡ršg
;

216 
ÝtiÚ_¡ršg
[
Ën
] = '\0';

218 
	`nvidŸ_upd©e_»gi¡ry
(
Ãw_ÝtiÚ_¡ršg
);

221 
	}
}

223 
	$nv_sysùl_š™
(
nv_¡©e_t
 *
nv
)

225 
sysùl_oid
 *
oid
;

226 
nvidŸ_soác
 *
sc
 = 
nv
->
os_¡©e
;

228 
Çme
[4];

229 
	`¥rštf
(
Çme
, "%d", 
	`deviû_g‘_un™
(
sc
->
dev
));

231 
	`sysùl_ùx_š™
(&
sc
->
sysùl_ùx
);

233 
oid
 = 
	`SYSCTL_ADD_NODE
(&
sc
->
sysùl_ùx
,

234 
	`SYSCTL_CHILDREN
(
oid_nvidŸ
),

235 
OID_AUTO
,

237 
CTLFLAG_RD
 | 
CTLFLAG_DYN
,

241 
oid
 = 
	`SYSCTL_ADD_NODE
(&
sc
->
sysùl_ùx
,

242 
	`SYSCTL_CHILDREN
(
oid
),

243 
OID_AUTO
,

244 
Çme
,

245 
CTLFLAG_RD
 | 
CTLFLAG_DYN
,

249 
	`SYSCTL_ADD_PROC
(&
sc
->
sysùl_ùx
,

250 
	`SYSCTL_CHILDREN
(
oid
),

251 
OID_AUTO
,

253 
CTLTYPE_STRING
 | 
CTLFLAG_RD
 | 
CTLFLAG_DYN
,

254 (*è
nv
, 0,

255 
nvidŸ_sysùl_gpu_mod–
,

259 
	`SYSCTL_ADD_UINT
(&
sc
->
sysùl_ùx
,

260 
	`SYSCTL_CHILDREN
(
oid
),

261 
OID_AUTO
,

263 
CTLTYPE_UINT
 | 
CTLFLAG_RD
 | 
CTLFLAG_DYN
,

264 &
nv
->
š‹¼u±_lše
,

268 
	`SYSCTL_ADD_PROC
(&
sc
->
sysùl_ùx
,

269 
	`SYSCTL_CHILDREN
(
oid
),

270 
OID_AUTO
,

272 
CTLTYPE_STRING
 | 
CTLFLAG_RD
 | 
CTLFLAG_DYN
,

273 (*è
nv
, 0,

274 
nvidŸ_sysùl_gpu_vbios
,

278 
	`SYSCTL_ADD_PROC
(&
sc
->
sysùl_ùx
,

279 
	`SYSCTL_CHILDREN
(
oid
),

280 
OID_AUTO
,

282 
CTLTYPE_STRING
 | 
CTLFLAG_RD
 | 
CTLFLAG_DYN
,

283 (*è
nv
, 0,

284 
nvidŸ_sysùl_gpu_uuid
,

288 
	`SYSCTL_ADD_PROC
(&
sc
->
sysùl_ùx
,

289 
	`SYSCTL_CHILDREN
(
oid
),

290 
OID_AUTO
,

292 
CTLTYPE_STRING
 | 
CTLFLAG_RD
 | 
CTLFLAG_DYN
,

293 (*è
sc
, 0,

294 
nvidŸ_sysùl_bus_ty³
,

297 
	}
}

299 
	$nv_sysùl_ex™
(
nv_¡©e_t
 *
nv
)

301 
nvidŸ_soác
 *
sc
 = 
nv
->
os_¡©e
;

302 
	`sysùl_ùx_ä“
(&
sc
->
sysùl_ùx
);

303 
	}
}

	@src/nvidia/nvlink_common.h

24 #iâdeà
_NVLINK_COMMON_H_


25 
	#_NVLINK_COMMON_H_


	)

27 #ifdeà
__ýlu¥lus


31 
	~"nvty³s.h
"

32 
	~"nvCpuUuid.h
"

33 
	~"nvlšk_”rÜs.h
"

35 #iâdeà
NULL


36 
	#NULL
 ((*)0)

	)

39 
	#NVLINK_FREE
(
x
è
	`nvlšk_ä“
((*)x)

	)

41 #ià!
defšed
(
NV_WINDOWS
)

42 #ià
defšed
(
NVCPU_X86
)

43 
	#NVLINK_API_CALL
 
	`__©Œibu‹__
((
	`»g·rm
(0)))

	)

45 
	#NVLINK_API_CALL


	)

48 
	#NVLINK_API_CALL


	)

52 
	snvlšk_pci_b¬_šfo


54 
NvU64
 
busAdd»ss
;

55 
NvU64
 
ba£Addr
;

56 
NvU64
 
b¬Size
;

57 
NvU32
 
off£t
;

58 *
pB¬
;

61 
	#MAX_NVLINK_BARS
 2

	)

64 
	snvlšk_pci_šfo


66 
NvU32
 
domaš
;

67 
NvU8
 
bus
;

68 
NvU8
 
deviû
;

69 
NvU8
 
funùiÚ
;

70 
NvU32
 
pciDeviûId
;

71 
NvU32
 
œq
;

72 
NvBoÞ
 
štHooked
;

73 
nvlšk_pci_b¬_šfo
 
b¬s
[
MAX_NVLINK_BARS
];

76 
	#NVLINK_PCI_DEV_FMT
 "%04x:%02x:%02x.%x"

	)

77 
	#NVLINK_PCI_DEV_FMT_ARGS
(
šfo
è(šfo)->
domaš
, \

78 (
šfo
)->
bus
, \

79 (
šfo
)->
deviû
, \

80 (
šfo
)->
funùiÚ


	)

82 
	snvlšk_cÚn_šfo


84 
NvU32
 
domaš
;

85 
NvU16
 
bus
;

86 
NvU16
 
deviû
;

87 
NvU16
 
funùiÚ
;

88 
NvU32
 
pciDeviûId
;

89 
NvU8
 
devUuid
[
NV_UUID_LEN
];

90 
NvU64
 
deviûTy³
;

91 
NvU32
 
lškNumb”
;

92 
NvBoÞ
 
bCÚÃùed
;

95 
	snvlšk_ioù¾_·¿ms


97 
NvU32
 
cmd
;

98 *
buf
;

99 
NvU32
 
size
;

103 
nvlšk_pci_b¬_šfo
 
	tnvlšk_pci_b¬_šfo
;

104 
nvlšk_pci_šfo
 
	tnvlšk_pci_šfo
;

105 
nvlšk_cÚn_šfo
 
	tnvlšk_cÚn_šfo
;

106 
nvlšk_ioù¾_·¿ms
 
	tnvlšk_ioù¾_·¿ms
;

110 * 
NVLINK_API_CALL
 
nvlšk_m®loc
(
NvL’gth
);

111 
NVLINK_API_CALL
 
nvlšk_ä“
(*);

112 * 
NVLINK_API_CALL
 
nvlšk_mem£t
(*, , 
NvL’gth
);

113 * 
NVLINK_API_CALL
 
nvlšk_memýy
(*, *, 
NvL’gth
);

114 
NVLINK_API_CALL
 
nvlšk_memRd32
(const volatile *);

115 
NVLINK_API_CALL
 
nvlšk_memWr32
(volatile *, );

116 
NVLINK_API_CALL
 
nvlšk_memRd64
(const volatile *);

117 
NVLINK_API_CALL
 
nvlšk_memWr64
(volatile *, );

120 * 
NVLINK_API_CALL
 
nvlšk_¡rýy
(*, const *);

121 
NvL’gth
 
NVLINK_API_CALL
 
nvlšk_¡¾’
(const *);

122 
NVLINK_API_CALL
 
nvlšk_¡rcmp
(const *, const *);

123 
NVLINK_API_CALL
 
nvlšk_¢´štf
(*, 
NvL’gth
, const *, ...);

126 * 
NVLINK_API_CALL
 
nvlšk_®locLock
();

127 
NVLINK_API_CALL
 
nvlšk_acquœeLock
(*);

128 
NvBoÞ
 
NVLINK_API_CALL
 
nvlšk_isLockOwÃr
(*);

129 
NVLINK_API_CALL
 
nvlšk_»Ëa£Lock
(*);

130 
NVLINK_API_CALL
 
nvlšk_ä“Lock
(*);

133 
NVLINK_API_CALL
 
nvlšk_as£¹
(
ex´essiÚ
);

134 
NVLINK_API_CALL
 
nvlšk_¦“p
(
ms
);

135 
NVLINK_API_CALL
 
nvlšk_´št
(const *, , const *, , const *, ...);

137 
	#NVLINK_DBG_LEVEL_INFO
 0x0

	)

138 
	#NVLINK_DBG_LEVEL_SETUP
 0x1

	)

139 
	#NVLINK_DBG_LEVEL_USERERRORS
 0x2

	)

140 
	#NVLINK_DBG_LEVEL_WARNINGS
 0x3

	)

141 
	#NVLINK_DBG_LEVEL_ERRORS
 0x4

	)

143 
	#NVLINK_DBG_WHERE
 
__FILE__
, 
__LINE__
, 
__FUNCTION__


	)

144 
	#NVLINK_DBG_INFO
 
NVLINK_DBG_WHERE
, 
NVLINK_DBG_LEVEL_INFO


	)

145 
	#NVLINK_DBG_SETUP
 
NVLINK_DBG_WHERE
, 
NVLINK_DBG_LEVEL_SETUP


	)

146 
	#NVLINK_DBG_USERERRORS
 
NVLINK_DBG_WHERE
, 
NVLINK_DBG_LEVEL_USERERRORS


	)

147 
	#NVLINK_DBG_WARNINGS
 
NVLINK_DBG_WHERE
, 
NVLINK_DBG_LEVEL_WARNINGS


	)

148 
	#NVLINK_DBG_ERRORS
 
NVLINK_DBG_WHERE
, 
NVLINK_DBG_LEVEL_ERRORS


	)

150 #ifdeà
__ýlu¥lus


	@src/nvidia/nvlink_errors.h

23 #iâdeà
_NVLINK_ERRORS_H_


24 
	#_NVLINK_ERRORS_H_


	)

26 
	tNvlStus
;

28 
	#NVL_SUCCESS
 (
NvlStus
è0

	)

29 
	#NVL_BAD_ARGS
 (
NvlStus
è1

	)

30 
	#NVL_NO_MEM
 (
NvlStus
è2

	)

31 
	#NVL_NOT_FOUND
 (
NvlStus
è3

	)

32 
	#NVL_INITIALIZATION_PARTIAL_FAILURE
 (
NvlStus
è4

	)

33 
	#NVL_INITIALIZATION_TOTAL_FAILURE
 (
NvlStus
è5

	)

34 
	#NVL_PCI_ERROR
 (
NvlStus
è6

	)

35 
	#NVL_ERR_GENERIC
 (
NvlStus
è7

	)

36 
	#NVL_ERR_INVALID_STATE
 (
NvlStus
è8

	)

37 
	#NVL_UNBOUND_DEVICE
 (
NvlStus
è9

	)

38 
	#NVL_MORE_PROCESSING_REQUIRED
 (
NvlStus
)10

	)

39 
	#NVL_IO_ERROR
 (
NvlStus
)11

	)

40 
	#NVL_ERR_STATE_IN_USE
 (
NvlStus
)12

	)

41 
	#NVL_ERR_NOT_SUPPORTED
 (
NvlStus
)13

	)

42 
	#NVL_ERR_NOT_IMPLEMENTED
 (
NvlStus
)14

	)

	@src/nvidia/nvlink_freebsd.c

31 
	~"nvlšk_commÚ.h
"

33 
NVLINK_API_CALL


34 
	gnvlšk_´št


36 cÚ¡ *
	gfže
,

37 
	glše
,

38 cÚ¡ *
	gfunùiÚ
,

39 
	glog_Ëv–
,

40 cÚ¡ *
	gfmt
,

47 * 
NVLINK_API_CALL
 
	$nvlšk_m®loc
(
NvL’gth
 
size
)

49  
NULL
;

50 
	}
}

52 
NVLINK_API_CALL
 
	$nvlšk_ä“
(*
±r
)

55 
	}
}

57 * 
NVLINK_API_CALL
 
	$nvlšk_¡rýy
(*
de¡
, cÚ¡ *
¤c
)

59  
NULL
;

60 
	}
}

62 
NVLINK_API_CALL
 
	$nvlšk_¡rcmp
(cÚ¡ *
de¡
, cÚ¡ *
¤c
)

65 
	}
}

67 
NvL’gth
 
NVLINK_API_CALL
 
	$nvlšk_¡¾’
(cÚ¡ *
s
)

70 
	}
}

72 
NVLINK_API_CALL
 
	$nvlšk_¢´štf
(*
de¡
, 
NvL’gth
 
size
, cÚ¡ *
fmt
, ...)

75 
	}
}

77 
NVLINK_API_CALL
 
	$nvlšk_memRd32
(cÚ¡ vÞ©ž* 
add»ss
)

80 
	}
}

82 
NVLINK_API_CALL
 
	$nvlšk_memWr32
(vÞ©ž*
add»ss
, 
d©a
)

84 
	}
}

86 
NVLINK_API_CALL
 
	$nvlšk_memRd64
(cÚ¡ vÞ©ž* 
add»ss
)

89 
	}
}

91 
NVLINK_API_CALL
 
	$nvlšk_memWr64
(vÞ©ž*
add»ss
, 
d©a
)

93 
	}
}

95 * 
NVLINK_API_CALL
 
	$nvlšk_mem£t
(*
de¡
, 
v®ue
, 
NvL’gth
 
size
)

97  
NULL
;

98 
	}
}

100 * 
NVLINK_API_CALL
 
	$nvlšk_memýy
(*
de¡
, *
¤c
, 
NvL’gth
 
size
)

102  
NULL
;

103 
	}
}

105 
NVLINK_API_CALL
 
	$nvlšk_¦“p
(
ms
)

108 
	}
}

110 
NVLINK_API_CALL
 
	$nvlšk_as£¹
(
cÚd
)

112 
	}
}

114 * 
NVLINK_API_CALL
 
	$nvlšk_®locLock
()

116  
NULL
;

117 
	}
}

119 
NVLINK_API_CALL
 
	$nvlšk_acquœeLock
(*
hLock
)

121 
	}
}

123 
NVLINK_API_CALL
 
	$nvlšk_»Ëa£Lock
(*
hLock
)

125 
	}
}

127 
NVLINK_API_CALL
 
	$nvlšk_ä“Lock
(*
hLock
)

129 
	}
}

131 
NvBoÞ
 
NVLINK_API_CALL
 
	$nvlšk_isLockOwÃr
(*
hLock
)

133  
NV_FALSE
;

134 
	}
}

	@src/nvidia/opt_acpi.h

	@src/nvidia/os-interface.h

16 #iâdeà
_OS_INTERFACE_H_


17 
	#_OS_INTERFACE_H_


	)

27 
	~<¡d¬g.h
>

28 
	~<nv-k”Ãl-š‹rçû-­i.h
>

29 
	~"nvmi.h
"

35 
	#__¡dÿÎ


	)

36 
	#çr


	)

37 
	#PASCAL


	)

41 
NvU32
 
	mos_majÜ_v”siÚ
;

42 
NvU32
 
	mos_mšÜ_v”siÚ
;

43 
NvU32
 
	mos_bužd_numb”
;

44 * 
	mos_bužd_v”siÚ_¡r
;

45 * 
	mos_bužd_d©e_¶us_¡r
;

46 }
	tos_v”siÚ_šfo
;

56 
NvU32
 
NV_API_CALL
 
os_g‘_·ge_size
 ();

57 
NvU64
 
NV_API_CALL
 
os_g‘_·ge_mask
 ();

58 
NvU8
 
NV_API_CALL
 
os_g‘_·ge_shiá
 ();

59 
NvU64
 
NV_API_CALL
 
os_g‘_num_phys_·ges
 ();

60 
NV_STATUS
 
NV_API_CALL
 
os_®loc_mem
 (**, 
NvU64
);

61 
NV_API_CALL
 
os_ä“_mem
 (*);

62 
NV_STATUS
 
NV_API_CALL
 
os_g‘_cu¼’t_time
 (
NvU32
 *, NvU32 *);

63 
NV_API_CALL
 
os_g‘_cu¼’t_tick
 (
NvU64
 *);

64 
NV_STATUS
 
NV_API_CALL
 
os_d–ay
 (
NvU32
);

65 
NV_STATUS
 
NV_API_CALL
 
os_d–ay_us
 (
NvU32
);

66 
NvU64
 
NV_API_CALL
 
os_g‘_ýu_äequ’cy
 ();

67 
NvU32
 
NV_API_CALL
 
os_g‘_cu¼’t_´oûss
 ();

68 
NV_API_CALL
 
os_g‘_cu¼’t_´oûss_Çme
 (*, 
NvU32
);

69 
NvU32
 
NV_API_CALL
 
os_g‘_cu¼’t_·sid
 ();

70 
NV_STATUS
 
NV_API_CALL
 
os_g‘_cu¼’t_th»ad
 (
NvU64
 *);

71 * 
NV_API_CALL
 
os_¡ršg_cÝy
 (*, const *);

72 
NvU32
 
NV_API_CALL
 
os_¡ršg_Ëngth
 (const *);

73 
NvU32
 
NV_API_CALL
 
os_¡¹oul
 (const *, **, NvU32);

74 
NvS32
 
NV_API_CALL
 
os_¡ršg_com·»
 (const *, const *);

75 
NvS32
 
NV_API_CALL
 
os_¢´štf
 (*, 
NvU32
, const *, ...);

76 
NV_API_CALL
 
os_log_”rÜ
 (cÚ¡ *, 
va_li¡
);

77 
NvU8
* 
NV_API_CALL
 
os_mem_cÝy
 (NvU8 *, cÚ¡ NvU8 *, 
NvU32
);

78 
NV_STATUS
 
NV_API_CALL
 
os_memýy_äom_u£r
 (*, cÚ¡ *, 
NvU32
);

79 
NV_STATUS
 
NV_API_CALL
 
os_memýy_to_u£r
 (*, cÚ¡ *, 
NvU32
);

80 * 
NV_API_CALL
 
os_mem_£t
 (*, 
NvU8
, 
NvU32
);

81 
NvS32
 
NV_API_CALL
 
os_mem_cmp
 (cÚ¡ 
NvU8
 *, cÚ¡ NvU8 *, 
NvU32
);

82 * 
NV_API_CALL
 
os_pci_š™_hªdË
 (
NvU32
, 
NvU8
, NvU8, NvU8, 
NvU16
 *, NvU16 *);

83 
NV_STATUS
 
NV_API_CALL
 
os_pci_»ad_by‹
 (*, 
NvU32
, 
NvU8
 *);

84 
NV_STATUS
 
NV_API_CALL
 
os_pci_»ad_wÜd
 (*, 
NvU32
, 
NvU16
 *);

85 
NV_STATUS
 
NV_API_CALL
 
os_pci_»ad_dwÜd
 (*, 
NvU32
, NvU32 *);

86 
NV_STATUS
 
NV_API_CALL
 
os_pci_wr™e_by‹
 (*, 
NvU32
, 
NvU8
);

87 
NV_STATUS
 
NV_API_CALL
 
os_pci_wr™e_wÜd
 (*, 
NvU32
, 
NvU16
);

88 
NV_STATUS
 
NV_API_CALL
 
os_pci_wr™e_dwÜd
 (*, 
NvU32
, NvU32);

89 
NvBoÞ
 
NV_API_CALL
 
os_pci_»move_suµÜ‹d
 ();

90 
NV_API_CALL
 
os_pci_»move
 (*);

91 * 
NV_API_CALL
 
os_m­_k”Ãl_¥aû
 (
NvU64
, NvU64, 
NvU32
, NvU32);

92 
NV_API_CALL
 
os_unm­_k”Ãl_¥aû
 (*, 
NvU64
);

93 * 
NV_API_CALL
 
os_m­_u£r_¥aû
 (
NvU64
, NvU64, 
NvU32
, NvU32, **);

94 
NV_API_CALL
 
os_unm­_u£r_¥aû
 (*, 
NvU64
, *);

95 
NV_STATUS
 
NV_API_CALL
 
os_æush_ýu_ÿche
 ();

96 
NV_STATUS
 
NV_API_CALL
 
os_æush_ýu_ÿche_®l
 ();

97 
NV_STATUS
 
NV_API_CALL
 
os_æush_u£r_ÿche
 (
NvU64
, NvU64, NvU64, NvU64, 
NvU32
);

98 
NV_API_CALL
 
os_æush_ýu_wr™e_combše_bufãr
();

99 
NvU8
 
NV_API_CALL
 
os_io_»ad_by‹
 (
NvU32
);

100 
NvU16
 
NV_API_CALL
 
os_io_»ad_wÜd
 (
NvU32
);

101 
NvU32
 
NV_API_CALL
 
os_io_»ad_dwÜd
 (NvU32);

102 
NV_API_CALL
 
os_io_wr™e_by‹
 (
NvU32
, 
NvU8
);

103 
NV_API_CALL
 
os_io_wr™e_wÜd
 (
NvU32
, 
NvU16
);

104 
NV_API_CALL
 
os_io_wr™e_dwÜd
 (
NvU32
, NvU32);

105 
BOOL
 
NV_API_CALL
 
os_is_admši¡¿tÜ
 ();

106 
NV_API_CALL
 
os_dbg_š™
 ();

107 
NV_API_CALL
 
os_dbg_b»akpošt
 ();

108 
NV_API_CALL
 
os_dbg_£t_Ëv–
 (
NvU32
);

109 
NvU32
 
NV_API_CALL
 
os_g‘_ýu_couÁ
 ();

110 
NvU32
 
NV_API_CALL
 
os_g‘_ýu_numb”
 ();

111 
NV_STATUS
 
NV_API_CALL
 
os_di§bË_cÚsÞe_acûss
 ();

112 
NV_STATUS
 
NV_API_CALL
 
os_’abË_cÚsÞe_acûss
 ();

113 
NV_STATUS
 
NV_API_CALL
 
os_»gi¡ry_š™
 ();

114 
NV_STATUS
 
NV_API_CALL
 
os_scheduË
 ();

115 
NV_STATUS
 
NV_API_CALL
 
os_®loc_¥šlock
 (**);

116 
NV_API_CALL
 
os_ä“_¥šlock
 (*);

117 
NvU64
 
NV_API_CALL
 
os_acquœe_¥šlock
 (*);

118 
NV_API_CALL
 
os_»Ëa£_¥šlock
 (*, 
NvU64
);

119 
NV_STATUS
 
NV_API_CALL
 
os_g‘_add»ss_¥aû_šfo
 (
NvU64
 *, NvU64 *, NvU64 *, NvU64 *);

120 
NV_STATUS
 
NV_API_CALL
 
os_queue_wÜk_™em
 (*);

121 
NV_STATUS
 
NV_API_CALL
 
os_æush_wÜk_queue
 ();

122 
NV_API_CALL
 
os_»gi¡”_com·tibË_ioùl
 (
NvU32
, NvU32);

123 
NV_API_CALL
 
os_uÄegi¡”_com·tibË_ioùl
 (
NvU32
, NvU32);

124 
NV_STATUS
 
NV_API_CALL
 
os_®loc_mu‹x
 (**);

125 
NV_API_CALL
 
os_ä“_mu‹x
 (*);

126 
NV_STATUS
 
NV_API_CALL
 
os_acquœe_mu‹x
 (*);

127 
NV_STATUS
 
NV_API_CALL
 
os_cÚd_acquœe_mu‹x
 (*);

128 
NV_API_CALL
 
os_»Ëa£_mu‹x
 (*);

129 * 
NV_API_CALL
 
os_®loc_£m­hÜe
 (
NvU32
);

130 
NV_API_CALL
 
os_ä“_£m­hÜe
 (*);

131 
NV_STATUS
 
NV_API_CALL
 
os_acquœe_£m­hÜe
 (*);

132 
NV_STATUS
 
NV_API_CALL
 
os_»Ëa£_£m­hÜe
 (*);

133 
BOOL
 
NV_API_CALL
 
os_£m­hÜe_may_¦“p
 ();

134 
NV_STATUS
 
NV_API_CALL
 
os_g‘_v”siÚ_šfo
 (
os_v”siÚ_šfo
*);

135 
BOOL
 
NV_API_CALL
 
os_is_i¤
 ();

136 
BOOL
 
NV_API_CALL
 
os_·t_suµÜ‹d
 ();

137 
NV_API_CALL
 
os_dump_¡ack
 ();

138 
BOOL
 
NV_API_CALL
 
os_is_efi_’abËd
 ();

139 
BOOL
 
NV_API_CALL
 
os_iommu_is_¢oÝšg_’abËd
();

140 
NvBoÞ
 
NV_API_CALL
 
os_is_x’_dom0
 ();

141 
NvBoÞ
 
NV_API_CALL
 
os_is_vgx_hy³r
 ();

142 
NV_STATUS
 
NV_API_CALL
 
os_šjeù_vgx_msi
 (
NvU16
, 
NvU64
, 
NvU32
);

143 
NvBoÞ
 
NV_API_CALL
 
os_is_grid_suµÜ‹d
 ();

144 
NV_API_CALL
 
os_g‘_sü“n_šfo
 (
NvU64
 *, 
NvU16
 *, NvU16 *, NvU16 *, NvU16 *);

145 
NV_API_CALL
 
os_bug_check
 (
NvU32
, const *);

146 
NV_STATUS
 
NV_API_CALL
 
os_lock_u£r_·ges
 (*, 
NvU64
, **);

147 
NV_STATUS
 
NV_API_CALL
 
os_lookup_u£r_io_memÜy
 (*, 
NvU64
, NvU64 **);

148 
NV_STATUS
 
NV_API_CALL
 
os_uÆock_u£r_·ges
 (
NvU64
, *);

149 
NV_STATUS
 
NV_API_CALL
 
os_m©ch_mm­_off£t
 (*, 
NvU64
, NvU64 *);

150 
NV_STATUS
 
NV_API_CALL
 
os_g‘_euid
 (
NvU32
 *);

151 
NV_STATUS
 
NV_API_CALL
 
os_g‘_smbios_h—d”
 (
NvU64
 *
pSmbsAddr
);

152 
NV_STATUS
 
NV_API_CALL
 
os_g‘_aýi_rsdp_äom_uefi
 (
NvU32
 *);

153 
NV_API_CALL
 
os_add_»cÜd_fÜ_üashLog
 (*, 
NvU32
);

154 
NV_API_CALL
 
os_d–‘e_»cÜd_fÜ_üashLog
 (*);

155 
NV_STATUS
 
NV_API_CALL
 
os_ÿÎ_vgpu_vfio
 (*, 
NvU32
);

156 
NV_STATUS
 
NV_API_CALL
 
os_numa_memblock_size
 (
NvU64
 *);

157 
NV_STATUS
 
NV_API_CALL
 
os_®loc_·ges_node
 (
NvS32
, 
NvU32
, NvU32, 
NvU64
 *);

158 
NV_STATUS
 
NV_API_CALL
 
os_g‘_·ge
 (
NvU64
 
add»ss
);

159 
NV_STATUS
 
NV_API_CALL
 
os_put_·ge
 (
NvU64
 
add»ss
);

160 
NvU32
 
NV_API_CALL
 
os_g‘_·ge_»fcouÁ
 (
NvU64
 
add»ss
);

161 
NvU32
 
NV_API_CALL
 
os_couÁ_ž_·ges
 (
NvU64
 
add»ss
);

162 
NV_API_CALL
 
os_ä“_·ges_phys
 (
NvU64
, 
NvU32
);

163 
NV_STATUS
 
NV_API_CALL
 
os_mi_cÚÃù
 (
NvU32
 
devIndex
, 
NvU8
 
myAddr
, **
µOsPriv
);

164 
NV_API_CALL
 
os_mi_discÚÃù
 (*
pOsPriv
);

165 
NV_STATUS
 
NV_API_CALL
 
os_mi_£nd_»ûive_cmd
 (*
pOsPriv
, 
nvmi_»q_»¥_t
 *
pReq
);

166 
NV_STATUS
 
NV_API_CALL
 
os_ÿÎ_nv_vmbus
 (
NvU32
, *);

176 
	#NV_DBG_INFO
 0x0

	)

177 
	#NV_DBG_SETUP
 0x1

	)

178 
	#NV_DBG_USERERRORS
 0x2

	)

179 
	#NV_DBG_WARNINGS
 0x3

	)

180 
	#NV_DBG_ERRORS
 0x4

	)

183 
NV_API_CALL
 
out_¡ršg
(cÚ¡ *
¡r
);

184 
NV_API_CALL
 
nv_´štf
(
NvU32
 
debugËv–
, cÚ¡ *
´štf_fÜm©
, ...);

189 
	#NV_MEMORY_TYPE_SYSTEM
 0

	)

191 
	#NV_MEMORY_TYPE_REGISTERS
 2

	)

192 
	#NV_MEMORY_TYPE_FRAMEBUFFER
 3

	)

193 
	#NV_MEMORY_TYPE_INSTANCE
 4

	)

194 
	#NV_MEMORY_TYPE_DEVICE_MMIO
 5

	)

196 
	#NV_MEMORY_NONCONTIGUOUS
 0

	)

197 
	#NV_MEMORY_CONTIGUOUS
 1

	)

199 
	#NV_MEMORY_CACHED
 0

	)

200 
	#NV_MEMORY_UNCACHED
 1

	)

201 
	#NV_MEMORY_WRITECOMBINED
 2

	)

202 
	#NV_MEMORY_WRITETHRU
 3

	)

203 
	#NV_MEMORY_WRITEPROTECT
 4

	)

204 
	#NV_MEMORY_WRITEBACK
 5

	)

205 
	#NV_MEMORY_DEFAULT
 6

	)

206 
	#NV_MEMORY_UNCACHED_WEAK
 7

	)

208 
	#NV_PROTECT_READABLE
 1

	)

209 
	#NV_PROTECT_WRITEABLE
 2

	)

210 
	#NV_PROTECT_READ_WRITE
 (
NV_PROTECT_READABLE
 | 
NV_PROTECT_WRITEABLE
)

	)

212 
	#OS_UNIX_FLUSH_USER_CACHE
 1

	)

213 
	#OS_UNIX_INVALIDATE_USER_CACHE
 2

	)

214 
	#OS_UNIX_FLUSH_INVALIDATE_USER_CACHE
 (
OS_UNIX_FLUSH_USER_CACHE
 | 
OS_UNIX_INVALIDATE_USER_CACHE
)

	)

221 
	#OS_PAGE_SIZE
 (
	`os_g‘_·ge_size
())

	)

222 
	#OS_PAGE_MASK
 (
	`os_g‘_·ge_mask
())

	)

223 
	#OS_PAGE_SHIFT
 (
	`os_g‘_·ge_shiá
())

	)

225 
	#IS_VGX_HYPER
(è
	`os_is_vgx_hy³r
()

	)

226 
	#IS_GRID_SUPPORTED
(è
	`os_is_grid_suµÜ‹d
()

	)

	@src/nvidia/pci_if.h

14 #iâdeà
_pci_if_h_


15 
	#_pci_if_h_


	)

18 
	gnvli¡
;

20 
	epci_id_ty³
 {

21 
	mPCI_ID_RID
,

22 
	mPCI_ID_MSI
,

25 
	epci_ã©u»
 {

26 
	mPCI_FEATURE_HP
,

27 
	mPCI_FEATURE_AER
,

31 
kobjÝ_desc
 
pci_»ad_cÚfig_desc
;

33 
u_št32_t
 
	tpci_»ad_cÚfig_t
(
	tdeviû_t
 
	tdev
, deviû_ˆ
	tchžd
, 
	t»g
,

34 
	twidth
);

36 
__šlše
 
u_št32_t
 
	$PCI_READ_CONFIG
(
deviû_t
 
dev
, deviû_ˆ
chžd
, 
»g
,

37 
width
)

39 
kobjÝ_t
 
_m
;

40 
u_št32_t
 
rc
;

41 
	`KOBJOPLOOKUP
(((
kobj_t
)
dev
)->
Ýs
,
pci_»ad_cÚfig
);

42 
rc
 = ((
pci_»ad_cÚfig_t
 *è
_m
)(
dev
, 
chžd
, 
»g
, 
width
);

43  (
rc
);

44 
	}
}

47 
kobjÝ_desc
 
pci_wr™e_cÚfig_desc
;

49 
	tpci_wr™e_cÚfig_t
(
	tdeviû_t
 
	tdev
, deviû_ˆ
	tchžd
, 
	t»g
,

50 
	tu_št32_t
 
	tv®
, 
	twidth
);

52 
__šlše
 
	$PCI_WRITE_CONFIG
(
deviû_t
 
dev
, deviû_ˆ
chžd
, 
»g
,

53 
u_št32_t
 
v®
, 
width
)

55 
kobjÝ_t
 
_m
;

56 
	`KOBJOPLOOKUP
(((
kobj_t
)
dev
)->
Ýs
,
pci_wr™e_cÚfig
);

57 ((
pci_wr™e_cÚfig_t
 *è
_m
)(
dev
, 
chžd
, 
»g
, 
v®
, 
width
);

58 
	}
}

61 
kobjÝ_desc
 
pci_g‘_pow”¡©e_desc
;

63 
	tpci_g‘_pow”¡©e_t
(
	tdeviû_t
 
	tdev
, deviû_ˆ
	tchžd
);

65 
__šlše
 
	$PCI_GET_POWERSTATE
(
deviû_t
 
dev
, deviû_ˆ
chžd
)

67 
kobjÝ_t
 
_m
;

68 
rc
;

69 
	`KOBJOPLOOKUP
(((
kobj_t
)
dev
)->
Ýs
,
pci_g‘_pow”¡©e
);

70 
rc
 = ((
pci_g‘_pow”¡©e_t
 *è
_m
)(
dev
, 
chžd
);

71  (
rc
);

72 
	}
}

75 
kobjÝ_desc
 
pci_£t_pow”¡©e_desc
;

77 
	tpci_£t_pow”¡©e_t
(
	tdeviû_t
 
	tdev
, deviû_ˆ
	tchžd
, 
	t¡©e
);

79 
__šlše
 
	$PCI_SET_POWERSTATE
(
deviû_t
 
dev
, deviû_ˆ
chžd
, 
¡©e
)

81 
kobjÝ_t
 
_m
;

82 
rc
;

83 
	`KOBJOPLOOKUP
(((
kobj_t
)
dev
)->
Ýs
,
pci_£t_pow”¡©e
);

84 
rc
 = ((
pci_£t_pow”¡©e_t
 *è
_m
)(
dev
, 
chžd
, 
¡©e
);

85  (
rc
);

86 
	}
}

89 
kobjÝ_desc
 
pci_g‘_vpd_id’t_desc
;

91 
	tpci_g‘_vpd_id’t_t
(
	tdeviû_t
 
	tdev
, deviû_ˆ
	tchžd
,

92 cÚ¡ **
	tid’Œ
);

94 
__šlše
 
	$PCI_GET_VPD_IDENT
(
deviû_t
 
dev
, deviû_ˆ
chžd
,

95 cÚ¡ **
id’Œ
)

97 
kobjÝ_t
 
_m
;

98 
rc
;

99 
	`KOBJOPLOOKUP
(((
kobj_t
)
dev
)->
Ýs
,
pci_g‘_vpd_id’t
);

100 
rc
 = ((
pci_g‘_vpd_id’t_t
 *è
_m
)(
dev
, 
chžd
, 
id’Œ
);

101  (
rc
);

102 
	}
}

105 
kobjÝ_desc
 
pci_g‘_vpd_»adÚly_desc
;

107 
	tpci_g‘_vpd_»adÚly_t
(
	tdeviû_t
 
	tdev
, deviû_ˆ
	tchžd
, cÚ¡ *
	tkw
,

108 cÚ¡ **
	tv±r
);

110 
__šlše
 
	$PCI_GET_VPD_READONLY
(
deviû_t
 
dev
, deviû_ˆ
chžd
,

111 cÚ¡ *
kw
, cÚ¡ **
v±r
)

113 
kobjÝ_t
 
_m
;

114 
rc
;

115 
	`KOBJOPLOOKUP
(((
kobj_t
)
dev
)->
Ýs
,
pci_g‘_vpd_»adÚly
);

116 
rc
 = ((
pci_g‘_vpd_»adÚly_t
 *è
_m
)(
dev
, 
chžd
, 
kw
, 
v±r
);

117  (
rc
);

118 
	}
}

121 
kobjÝ_desc
 
pci_’abË_busma¡”_desc
;

123 
	tpci_’abË_busma¡”_t
(
	tdeviû_t
 
	tdev
, deviû_ˆ
	tchžd
);

125 
__šlše
 
	$PCI_ENABLE_BUSMASTER
(
deviû_t
 
dev
, deviû_ˆ
chžd
)

127 
kobjÝ_t
 
_m
;

128 
rc
;

129 
	`KOBJOPLOOKUP
(((
kobj_t
)
dev
)->
Ýs
,
pci_’abË_busma¡”
);

130 
rc
 = ((
pci_’abË_busma¡”_t
 *è
_m
)(
dev
, 
chžd
);

131  (
rc
);

132 
	}
}

135 
kobjÝ_desc
 
pci_di§bË_busma¡”_desc
;

137 
	tpci_di§bË_busma¡”_t
(
	tdeviû_t
 
	tdev
, deviû_ˆ
	tchžd
);

139 
__šlše
 
	$PCI_DISABLE_BUSMASTER
(
deviû_t
 
dev
, deviû_ˆ
chžd
)

141 
kobjÝ_t
 
_m
;

142 
rc
;

143 
	`KOBJOPLOOKUP
(((
kobj_t
)
dev
)->
Ýs
,
pci_di§bË_busma¡”
);

144 
rc
 = ((
pci_di§bË_busma¡”_t
 *è
_m
)(
dev
, 
chžd
);

145  (
rc
);

146 
	}
}

149 
kobjÝ_desc
 
pci_’abË_io_desc
;

151 
	tpci_’abË_io_t
(
	tdeviû_t
 
	tdev
, deviû_ˆ
	tchžd
, 
	t¥aû
);

153 
__šlše
 
	$PCI_ENABLE_IO
(
deviû_t
 
dev
, deviû_ˆ
chžd
, 
¥aû
)

155 
kobjÝ_t
 
_m
;

156 
rc
;

157 
	`KOBJOPLOOKUP
(((
kobj_t
)
dev
)->
Ýs
,
pci_’abË_io
);

158 
rc
 = ((
pci_’abË_io_t
 *è
_m
)(
dev
, 
chžd
, 
¥aû
);

159  (
rc
);

160 
	}
}

163 
kobjÝ_desc
 
pci_di§bË_io_desc
;

165 
	tpci_di§bË_io_t
(
	tdeviû_t
 
	tdev
, deviû_ˆ
	tchžd
, 
	t¥aû
);

167 
__šlše
 
	$PCI_DISABLE_IO
(
deviû_t
 
dev
, deviû_ˆ
chžd
, 
¥aû
)

169 
kobjÝ_t
 
_m
;

170 
rc
;

171 
	`KOBJOPLOOKUP
(((
kobj_t
)
dev
)->
Ýs
,
pci_di§bË_io
);

172 
rc
 = ((
pci_di§bË_io_t
 *è
_m
)(
dev
, 
chžd
, 
¥aû
);

173  (
rc
);

174 
	}
}

177 
kobjÝ_desc
 
pci_assign_š‹¼u±_desc
;

179 
	tpci_assign_š‹¼u±_t
(
	tdeviû_t
 
	tdev
, deviû_ˆ
	tchžd
);

181 
__šlše
 
	$PCI_ASSIGN_INTERRUPT
(
deviû_t
 
dev
, deviû_ˆ
chžd
)

183 
kobjÝ_t
 
_m
;

184 
rc
;

185 
	`KOBJOPLOOKUP
(((
kobj_t
)
dev
)->
Ýs
,
pci_assign_š‹¼u±
);

186 
rc
 = ((
pci_assign_š‹¼u±_t
 *è
_m
)(
dev
, 
chžd
);

187  (
rc
);

188 
	}
}

191 
kobjÝ_desc
 
pci_fšd_ÿp_desc
;

193 
	tpci_fšd_ÿp_t
(
	tdeviû_t
 
	tdev
, deviû_ˆ
	tchžd
, 
	tÿ·bž™y
,

194 *
	tÿ´eg
);

196 
__šlše
 
	$PCI_FIND_CAP
(
deviû_t
 
dev
, deviû_ˆ
chžd
, 
ÿ·bž™y
,

197 *
ÿ´eg
)

199 
kobjÝ_t
 
_m
;

200 
rc
;

201 
	`KOBJOPLOOKUP
(((
kobj_t
)
dev
)->
Ýs
,
pci_fšd_ÿp
);

202 
rc
 = ((
pci_fšd_ÿp_t
 *è
_m
)(
dev
, 
chžd
, 
ÿ·bž™y
, 
ÿ´eg
);

203  (
rc
);

204 
	}
}

207 
kobjÝ_desc
 
pci_fšd_Ãxt_ÿp_desc
;

209 
	tpci_fšd_Ãxt_ÿp_t
(
	tdeviû_t
 
	tdev
, deviû_ˆ
	tchžd
, 
	tÿ·bž™y
,

210 
	t¡¬t
, *
	tÿ´eg
);

212 
__šlše
 
	$PCI_FIND_NEXT_CAP
(
deviû_t
 
dev
, deviû_ˆ
chžd
,

213 
ÿ·bž™y
, 
¡¬t
, *
ÿ´eg
)

215 
kobjÝ_t
 
_m
;

216 
rc
;

217 
	`KOBJOPLOOKUP
(((
kobj_t
)
dev
)->
Ýs
,
pci_fšd_Ãxt_ÿp
);

218 
rc
 = ((
pci_fšd_Ãxt_ÿp_t
 *è
_m
)(
dev
, 
chžd
, 
ÿ·bž™y
, 
¡¬t
, 
ÿ´eg
);

219  (
rc
);

220 
	}
}

223 
kobjÝ_desc
 
pci_fšd_extÿp_desc
;

225 
	tpci_fšd_extÿp_t
(
	tdeviû_t
 
	tdev
, deviû_ˆ
	tchžd
, 
	tÿ·bž™y
,

226 *
	tÿ´eg
);

228 
__šlše
 
	$PCI_FIND_EXTCAP
(
deviû_t
 
dev
, deviû_ˆ
chžd
,

229 
ÿ·bž™y
, *
ÿ´eg
)

231 
kobjÝ_t
 
_m
;

232 
rc
;

233 
	`KOBJOPLOOKUP
(((
kobj_t
)
dev
)->
Ýs
,
pci_fšd_extÿp
);

234 
rc
 = ((
pci_fšd_extÿp_t
 *è
_m
)(
dev
, 
chžd
, 
ÿ·bž™y
, 
ÿ´eg
);

235  (
rc
);

236 
	}
}

239 
kobjÝ_desc
 
pci_fšd_Ãxt_extÿp_desc
;

241 
	tpci_fšd_Ãxt_extÿp_t
(
	tdeviû_t
 
	tdev
, deviû_ˆ
	tchžd
, 
	tÿ·bž™y
,

242 
	t¡¬t
, *
	tÿ´eg
);

244 
__šlše
 
	$PCI_FIND_NEXT_EXTCAP
(
deviû_t
 
dev
, deviû_ˆ
chžd
,

245 
ÿ·bž™y
, 
¡¬t
, *
ÿ´eg
)

247 
kobjÝ_t
 
_m
;

248 
rc
;

249 
	`KOBJOPLOOKUP
(((
kobj_t
)
dev
)->
Ýs
,
pci_fšd_Ãxt_extÿp
);

250 
rc
 = ((
pci_fšd_Ãxt_extÿp_t
 *è
_m
)(
dev
, 
chžd
, 
ÿ·bž™y
, 
¡¬t
, 
ÿ´eg
);

251  (
rc
);

252 
	}
}

255 
kobjÝ_desc
 
pci_fšd_htÿp_desc
;

257 
	tpci_fšd_htÿp_t
(
	tdeviû_t
 
	tdev
, deviû_ˆ
	tchžd
, 
	tÿ·bž™y
,

258 *
	tÿ´eg
);

260 
__šlše
 
	$PCI_FIND_HTCAP
(
deviû_t
 
dev
, deviû_ˆ
chžd
, 
ÿ·bž™y
,

261 *
ÿ´eg
)

263 
kobjÝ_t
 
_m
;

264 
rc
;

265 
	`KOBJOPLOOKUP
(((
kobj_t
)
dev
)->
Ýs
,
pci_fšd_htÿp
);

266 
rc
 = ((
pci_fšd_htÿp_t
 *è
_m
)(
dev
, 
chžd
, 
ÿ·bž™y
, 
ÿ´eg
);

267  (
rc
);

268 
	}
}

271 
kobjÝ_desc
 
pci_fšd_Ãxt_htÿp_desc
;

273 
	tpci_fšd_Ãxt_htÿp_t
(
	tdeviû_t
 
	tdev
, deviû_ˆ
	tchžd
, 
	tÿ·bž™y
,

274 
	t¡¬t
, *
	tÿ´eg
);

276 
__šlše
 
	$PCI_FIND_NEXT_HTCAP
(
deviû_t
 
dev
, deviû_ˆ
chžd
,

277 
ÿ·bž™y
, 
¡¬t
, *
ÿ´eg
)

279 
kobjÝ_t
 
_m
;

280 
rc
;

281 
	`KOBJOPLOOKUP
(((
kobj_t
)
dev
)->
Ýs
,
pci_fšd_Ãxt_htÿp
);

282 
rc
 = ((
pci_fšd_Ãxt_htÿp_t
 *è
_m
)(
dev
, 
chžd
, 
ÿ·bž™y
, 
¡¬t
, 
ÿ´eg
);

283  (
rc
);

284 
	}
}

287 
kobjÝ_desc
 
pci_®loc_msi_desc
;

289 
	tpci_®loc_msi_t
(
	tdeviû_t
 
	tdev
, deviû_ˆ
	tchžd
, *
	tcouÁ
);

291 
__šlše
 
	$PCI_ALLOC_MSI
(
deviû_t
 
dev
, deviû_ˆ
chžd
, *
couÁ
)

293 
kobjÝ_t
 
_m
;

294 
rc
;

295 
	`KOBJOPLOOKUP
(((
kobj_t
)
dev
)->
Ýs
,
pci_®loc_msi
);

296 
rc
 = ((
pci_®loc_msi_t
 *è
_m
)(
dev
, 
chžd
, 
couÁ
);

297  (
rc
);

298 
	}
}

301 
kobjÝ_desc
 
pci_®loc_msix_desc
;

303 
	tpci_®loc_msix_t
(
	tdeviû_t
 
	tdev
, deviû_ˆ
	tchžd
, *
	tcouÁ
);

305 
__šlše
 
	$PCI_ALLOC_MSIX
(
deviû_t
 
dev
, deviû_ˆ
chžd
, *
couÁ
)

307 
kobjÝ_t
 
_m
;

308 
rc
;

309 
	`KOBJOPLOOKUP
(((
kobj_t
)
dev
)->
Ýs
,
pci_®loc_msix
);

310 
rc
 = ((
pci_®loc_msix_t
 *è
_m
)(
dev
, 
chžd
, 
couÁ
);

311  (
rc
);

312 
	}
}

315 
kobjÝ_desc
 
pci_’abË_msi_desc
;

317 
	tpci_’abË_msi_t
(
	tdeviû_t
 
	tdev
, deviû_ˆ
	tchžd
, 
	tušt64_t
 
	tadd»ss
,

318 
	tušt16_t
 
	td©a
);

320 
__šlše
 
	$PCI_ENABLE_MSI
(
deviû_t
 
dev
, deviû_ˆ
chžd
,

321 
ušt64_t
 
add»ss
, 
ušt16_t
 
d©a
)

323 
kobjÝ_t
 
_m
;

324 
	`KOBJOPLOOKUP
(((
kobj_t
)
dev
)->
Ýs
,
pci_’abË_msi
);

325 ((
pci_’abË_msi_t
 *è
_m
)(
dev
, 
chžd
, 
add»ss
, 
d©a
);

326 
	}
}

329 
kobjÝ_desc
 
pci_’abË_msix_desc
;

331 
	tpci_’abË_msix_t
(
	tdeviû_t
 
	tdev
, deviû_ˆ
	tchžd
, 
	tu_št
 
	tšdex
,

332 
	tušt64_t
 
	tadd»ss
, 
	tušt32_t
 
	td©a
);

334 
__šlše
 
	$PCI_ENABLE_MSIX
(
deviû_t
 
dev
, deviû_ˆ
chžd
, 
u_št
 
šdex
,

335 
ušt64_t
 
add»ss
, 
ušt32_t
 
d©a
)

337 
kobjÝ_t
 
_m
;

338 
	`KOBJOPLOOKUP
(((
kobj_t
)
dev
)->
Ýs
,
pci_’abË_msix
);

339 ((
pci_’abË_msix_t
 *è
_m
)(
dev
, 
chžd
, 
šdex
, 
add»ss
, 
d©a
);

340 
	}
}

343 
kobjÝ_desc
 
pci_di§bË_msi_desc
;

345 
	tpci_di§bË_msi_t
(
	tdeviû_t
 
	tdev
, deviû_ˆ
	tchžd
);

347 
__šlše
 
	$PCI_DISABLE_MSI
(
deviû_t
 
dev
, deviû_ˆ
chžd
)

349 
kobjÝ_t
 
_m
;

350 
	`KOBJOPLOOKUP
(((
kobj_t
)
dev
)->
Ýs
,
pci_di§bË_msi
);

351 ((
pci_di§bË_msi_t
 *è
_m
)(
dev
, 
chžd
);

352 
	}
}

355 
kobjÝ_desc
 
pci_»m­_msix_desc
;

357 
	tpci_»m­_msix_t
(
	tdeviû_t
 
	tdev
, deviû_ˆ
	tchžd
, 
	tcouÁ
,

358 cÚ¡ 
	tu_št
 *
	tveùÜs
);

360 
__šlše
 
	$PCI_REMAP_MSIX
(
deviû_t
 
dev
, deviû_ˆ
chžd
, 
couÁ
,

361 cÚ¡ 
u_št
 *
veùÜs
)

363 
kobjÝ_t
 
_m
;

364 
rc
;

365 
	`KOBJOPLOOKUP
(((
kobj_t
)
dev
)->
Ýs
,
pci_»m­_msix
);

366 
rc
 = ((
pci_»m­_msix_t
 *è
_m
)(
dev
, 
chžd
, 
couÁ
, 
veùÜs
);

367  (
rc
);

368 
	}
}

371 
kobjÝ_desc
 
pci_»Ëa£_msi_desc
;

373 
	tpci_»Ëa£_msi_t
(
	tdeviû_t
 
	tdev
, deviû_ˆ
	tchžd
);

375 
__šlše
 
	$PCI_RELEASE_MSI
(
deviû_t
 
dev
, deviû_ˆ
chžd
)

377 
kobjÝ_t
 
_m
;

378 
rc
;

379 
	`KOBJOPLOOKUP
(((
kobj_t
)
dev
)->
Ýs
,
pci_»Ëa£_msi
);

380 
rc
 = ((
pci_»Ëa£_msi_t
 *è
_m
)(
dev
, 
chžd
);

381  (
rc
);

382 
	}
}

385 
kobjÝ_desc
 
pci_msi_couÁ_desc
;

387 
	tpci_msi_couÁ_t
(
	tdeviû_t
 
	tdev
, deviû_ˆ
	tchžd
);

389 
__šlše
 
	$PCI_MSI_COUNT
(
deviû_t
 
dev
, deviû_ˆ
chžd
)

391 
kobjÝ_t
 
_m
;

392 
rc
;

393 
	`KOBJOPLOOKUP
(((
kobj_t
)
dev
)->
Ýs
,
pci_msi_couÁ
);

394 
rc
 = ((
pci_msi_couÁ_t
 *è
_m
)(
dev
, 
chžd
);

395  (
rc
);

396 
	}
}

399 
kobjÝ_desc
 
pci_msix_couÁ_desc
;

401 
	tpci_msix_couÁ_t
(
	tdeviû_t
 
	tdev
, deviû_ˆ
	tchžd
);

403 
__šlše
 
	$PCI_MSIX_COUNT
(
deviû_t
 
dev
, deviû_ˆ
chžd
)

405 
kobjÝ_t
 
_m
;

406 
rc
;

407 
	`KOBJOPLOOKUP
(((
kobj_t
)
dev
)->
Ýs
,
pci_msix_couÁ
);

408 
rc
 = ((
pci_msix_couÁ_t
 *è
_m
)(
dev
, 
chžd
);

409  (
rc
);

410 
	}
}

413 
kobjÝ_desc
 
pci_msix_pba_b¬_desc
;

415 
	tpci_msix_pba_b¬_t
(
	tdeviû_t
 
	tdev
, deviû_ˆ
	tchžd
);

417 
__šlše
 
	$PCI_MSIX_PBA_BAR
(
deviû_t
 
dev
, deviû_ˆ
chžd
)

419 
kobjÝ_t
 
_m
;

420 
rc
;

421 
	`KOBJOPLOOKUP
(((
kobj_t
)
dev
)->
Ýs
,
pci_msix_pba_b¬
);

422 
rc
 = ((
pci_msix_pba_b¬_t
 *è
_m
)(
dev
, 
chžd
);

423  (
rc
);

424 
	}
}

427 
kobjÝ_desc
 
pci_msix_bË_b¬_desc
;

429 
	tpci_msix_bË_b¬_t
(
	tdeviû_t
 
	tdev
, deviû_ˆ
	tchžd
);

431 
__šlše
 
	$PCI_MSIX_TABLE_BAR
(
deviû_t
 
dev
, deviû_ˆ
chžd
)

433 
kobjÝ_t
 
_m
;

434 
rc
;

435 
	`KOBJOPLOOKUP
(((
kobj_t
)
dev
)->
Ýs
,
pci_msix_bË_b¬
);

436 
rc
 = ((
pci_msix_bË_b¬_t
 *è
_m
)(
dev
, 
chžd
);

437  (
rc
);

438 
	}
}

441 
kobjÝ_desc
 
pci_g‘_id_desc
;

443 
	tpci_g‘_id_t
(
	tdeviû_t
 
	tdev
, deviû_ˆ
	tchžd
, 
	tpci_id_ty³
 
	tty³
,

444 
	tušŒ_t
 *
	tid
);

446 
__šlše
 
	$PCI_GET_ID
(
deviû_t
 
dev
, deviû_ˆ
chžd
,

447 
pci_id_ty³
 
ty³
, 
ušŒ_t
 *
id
)

449 
kobjÝ_t
 
_m
;

450 
rc
;

451 
	`KOBJOPLOOKUP
(((
kobj_t
)
dev
)->
Ýs
,
pci_g‘_id
);

452 
rc
 = ((
pci_g‘_id_t
 *è
_m
)(
dev
, 
chžd
, 
ty³
, 
id
);

453  (
rc
);

454 
	}
}

457 
kobjÝ_desc
 
pci_®loc_devšfo_desc
;

459 
pci_devšfo
 * 
	tpci_®loc_devšfo_t
(
	tdeviû_t
 
	tdev
);

461 
__šlše
 
pci_devšfo
 * 
	$PCI_ALLOC_DEVINFO
(
deviû_t
 
dev
)

463 
kobjÝ_t
 
_m
;

464 
pci_devšfo
 * 
rc
;

465 
	`KOBJOPLOOKUP
(((
kobj_t
)
dev
)->
Ýs
,
pci_®loc_devšfo
);

466 
rc
 = ((
pci_®loc_devšfo_t
 *è
_m
)(
dev
);

467  (
rc
);

468 
	}
}

471 
kobjÝ_desc
 
pci_chžd_added_desc
;

473 
	tpci_chžd_added_t
(
	tdeviû_t
 
	tdev
, deviû_ˆ
	tchžd
);

475 
__šlše
 
	$PCI_CHILD_ADDED
(
deviû_t
 
dev
, deviû_ˆ
chžd
)

477 
kobjÝ_t
 
_m
;

478 
	`KOBJOPLOOKUP
(((
kobj_t
)
dev
)->
Ýs
,
pci_chžd_added
);

479 ((
pci_chžd_added_t
 *è
_m
)(
dev
, 
chžd
);

480 
	}
}

483 
kobjÝ_desc
 
pci_iov_©ch_desc
;

485 
	tpci_iov_©ch_t
(
	tdeviû_t
 
	tdev
, deviû_ˆ
	tchžd
,

486 
	tnvli¡
 *
	tpf_schema
, nvli¡ *
	tvf_schema
,

487 cÚ¡ *
	tÇme
);

489 
__šlše
 
	$PCI_IOV_ATTACH
(
deviû_t
 
dev
, deviû_ˆ
chžd
,

490 
nvli¡
 *
pf_schema
,

491 
nvli¡
 *
vf_schema
, cÚ¡ *
Çme
)

493 
kobjÝ_t
 
_m
;

494 
rc
;

495 
	`KOBJOPLOOKUP
(((
kobj_t
)
dev
)->
Ýs
,
pci_iov_©ch
);

496 
rc
 = ((
pci_iov_©ch_t
 *è
_m
)(
dev
, 
chžd
, 
pf_schema
, 
vf_schema
, 
Çme
);

497  (
rc
);

498 
	}
}

501 
kobjÝ_desc
 
pci_iov_d‘ach_desc
;

503 
	tpci_iov_d‘ach_t
(
	tdeviû_t
 
	tdev
, deviû_ˆ
	tchžd
);

505 
__šlše
 
	$PCI_IOV_DETACH
(
deviû_t
 
dev
, deviû_ˆ
chžd
)

507 
kobjÝ_t
 
_m
;

508 
rc
;

509 
	`KOBJOPLOOKUP
(((
kobj_t
)
dev
)->
Ýs
,
pci_iov_d‘ach
);

510 
rc
 = ((
pci_iov_d‘ach_t
 *è
_m
)(
dev
, 
chžd
);

511  (
rc
);

512 
	}
}

515 
kobjÝ_desc
 
pci_ü—‹_iov_chžd_desc
;

517 
deviû_t
 
	tpci_ü—‹_iov_chžd_t
(
	tdeviû_t
 
	tbus
, deviû_ˆ
	tpf
, 
	tušt16_t
 
	trid
,

518 
	tušt16_t
 
	tvid
, ušt16_ˆ
	tdid
);

520 
__šlše
 
deviû_t
 
	$PCI_CREATE_IOV_CHILD
(
deviû_t
 
bus
, deviû_ˆ
pf
,

521 
ušt16_t
 
rid
, ušt16_ˆ
vid
,

522 
ušt16_t
 
did
)

524 
kobjÝ_t
 
_m
;

525 
deviû_t
 
rc
;

526 
	`KOBJOPLOOKUP
(((
kobj_t
)
bus
)->
Ýs
,
pci_ü—‹_iov_chžd
);

527 
rc
 = ((
pci_ü—‹_iov_chžd_t
 *è
_m
)(
bus
, 
pf
, 
rid
, 
vid
, 
did
);

528  (
rc
);

529 
	}
}

	@src/nvidia/vnode_if.h

8 
vnodeÝ_desc
 
vÝ_deçuÉ_desc
;

9 
	~"vnode_if_ty³def.h
"

10 
	~"vnode_if_Ãw´Ùo.h
"

11 
	svÝ_i¦ocked_¬gs
 {

12 
vÝ_g’”ic_¬gs
 
	ma_g’
;

13 
vnode
 *
	ma_vp
;

16 
vnodeÝ_desc
 
vÝ_i¦ocked_desc
;

18 
VOP_ISLOCKED_AP
(
vÝ_i¦ocked_¬gs
 *);

19 
VOP_ISLOCKED_APV
(
vÝ_veùÜ
 *
vÝ
, 
vÝ_i¦ocked_¬gs
 *);

21 
__šlše
 
	$VOP_ISLOCKED
(

22 
vnode
 *
vp
)

24 
vÝ_i¦ocked_¬gs
 
a
;

26 
a
.
a_g’
.
a_desc
 = &
vÝ_i¦ocked_desc
;

27 
a
.
a_vp
 = 
vp
;

28  (
	`VOP_ISLOCKED_APV
(
vp
->
v_Ý
, &
a
));

29 
	}
}

31 
	svÝ_lookup_¬gs
 {

32 
vÝ_g’”ic_¬gs
 
	ma_g’
;

33 
vnode
 *
	ma_dvp
;

34 
vnode
 **
	ma_vµ
;

35 
compÚ’Šame
 *
	ma_úp
;

38 
vnodeÝ_desc
 
vÝ_lookup_desc
;

40 
VOP_LOOKUP_AP
(
vÝ_lookup_¬gs
 *);

41 
VOP_LOOKUP_APV
(
vÝ_veùÜ
 *
vÝ
, 
vÝ_lookup_¬gs
 *);

43 
__šlše
 
	$VOP_LOOKUP
(

44 
vnode
 *
dvp
,

45 
vnode
 **
vµ
,

46 
compÚ’Šame
 *
úp
)

48 
vÝ_lookup_¬gs
 
a
;

50 
a
.
a_g’
.
a_desc
 = &
vÝ_lookup_desc
;

51 
a
.
a_dvp
 = 
dvp
;

52 
a
.
a_vµ
 = 
vµ
;

53 
a
.
a_úp
 = 
úp
;

54  (
	`VOP_LOOKUP_APV
(
dvp
->
v_Ý
, &
a
));

55 
	}
}

57 
	svÝ_ÿchedlookup_¬gs
 {

58 
vÝ_g’”ic_¬gs
 
	ma_g’
;

59 
vnode
 *
	ma_dvp
;

60 
vnode
 **
	ma_vµ
;

61 
compÚ’Šame
 *
	ma_úp
;

64 
vnodeÝ_desc
 
vÝ_ÿchedlookup_desc
;

66 
VOP_CACHEDLOOKUP_AP
(
vÝ_ÿchedlookup_¬gs
 *);

67 
VOP_CACHEDLOOKUP_APV
(
vÝ_veùÜ
 *
vÝ
, 
vÝ_ÿchedlookup_¬gs
 *);

69 
__šlše
 
	$VOP_CACHEDLOOKUP
(

70 
vnode
 *
dvp
,

71 
vnode
 **
vµ
,

72 
compÚ’Šame
 *
úp
)

74 
vÝ_ÿchedlookup_¬gs
 
a
;

76 
a
.
a_g’
.
a_desc
 = &
vÝ_ÿchedlookup_desc
;

77 
a
.
a_dvp
 = 
dvp
;

78 
a
.
a_vµ
 = 
vµ
;

79 
a
.
a_úp
 = 
úp
;

80  (
	`VOP_CACHEDLOOKUP_APV
(
dvp
->
v_Ý
, &
a
));

81 
	}
}

83 
	svÝ_ü—‹_¬gs
 {

84 
vÝ_g’”ic_¬gs
 
	ma_g’
;

85 
vnode
 *
	ma_dvp
;

86 
vnode
 **
	ma_vµ
;

87 
compÚ’Šame
 *
	ma_úp
;

88 
v©Œ
 *
	ma_v­
;

91 
vnodeÝ_desc
 
vÝ_ü—‹_desc
;

93 
VOP_CREATE_AP
(
vÝ_ü—‹_¬gs
 *);

94 
VOP_CREATE_APV
(
vÝ_veùÜ
 *
vÝ
, 
vÝ_ü—‹_¬gs
 *);

96 
__šlše
 
	$VOP_CREATE
(

97 
vnode
 *
dvp
,

98 
vnode
 **
vµ
,

99 
compÚ’Šame
 *
úp
,

100 
v©Œ
 *
v­
)

102 
vÝ_ü—‹_¬gs
 
a
;

104 
a
.
a_g’
.
a_desc
 = &
vÝ_ü—‹_desc
;

105 
a
.
a_dvp
 = 
dvp
;

106 
a
.
a_vµ
 = 
vµ
;

107 
a
.
a_úp
 = 
úp
;

108 
a
.
a_v­
 = 
v­
;

109  (
	`VOP_CREATE_APV
(
dvp
->
v_Ý
, &
a
));

110 
	}
}

112 
	svÝ_wh™eout_¬gs
 {

113 
vÝ_g’”ic_¬gs
 
	ma_g’
;

114 
vnode
 *
	ma_dvp
;

115 
compÚ’Šame
 *
	ma_úp
;

116 
	ma_æags
;

119 
vnodeÝ_desc
 
vÝ_wh™eout_desc
;

121 
VOP_WHITEOUT_AP
(
vÝ_wh™eout_¬gs
 *);

122 
VOP_WHITEOUT_APV
(
vÝ_veùÜ
 *
vÝ
, 
vÝ_wh™eout_¬gs
 *);

124 
__šlše
 
	$VOP_WHITEOUT
(

125 
vnode
 *
dvp
,

126 
compÚ’Šame
 *
úp
,

127 
æags
)

129 
vÝ_wh™eout_¬gs
 
a
;

131 
a
.
a_g’
.
a_desc
 = &
vÝ_wh™eout_desc
;

132 
a
.
a_dvp
 = 
dvp
;

133 
a
.
a_úp
 = 
úp
;

134 
a
.
a_æags
 = 
æags
;

135  (
	`VOP_WHITEOUT_APV
(
dvp
->
v_Ý
, &
a
));

136 
	}
}

138 
	svÝ_mknod_¬gs
 {

139 
vÝ_g’”ic_¬gs
 
	ma_g’
;

140 
vnode
 *
	ma_dvp
;

141 
vnode
 **
	ma_vµ
;

142 
compÚ’Šame
 *
	ma_úp
;

143 
v©Œ
 *
	ma_v­
;

146 
vnodeÝ_desc
 
vÝ_mknod_desc
;

148 
VOP_MKNOD_AP
(
vÝ_mknod_¬gs
 *);

149 
VOP_MKNOD_APV
(
vÝ_veùÜ
 *
vÝ
, 
vÝ_mknod_¬gs
 *);

151 
__šlše
 
	$VOP_MKNOD
(

152 
vnode
 *
dvp
,

153 
vnode
 **
vµ
,

154 
compÚ’Šame
 *
úp
,

155 
v©Œ
 *
v­
)

157 
vÝ_mknod_¬gs
 
a
;

159 
a
.
a_g’
.
a_desc
 = &
vÝ_mknod_desc
;

160 
a
.
a_dvp
 = 
dvp
;

161 
a
.
a_vµ
 = 
vµ
;

162 
a
.
a_úp
 = 
úp
;

163 
a
.
a_v­
 = 
v­
;

164  (
	`VOP_MKNOD_APV
(
dvp
->
v_Ý
, &
a
));

165 
	}
}

167 
	svÝ_Ý’_¬gs
 {

168 
vÝ_g’”ic_¬gs
 
	ma_g’
;

169 
vnode
 *
	ma_vp
;

170 
	ma_mode
;

171 
uüed
 *
	ma_üed
;

172 
th»ad
 *
	ma_td
;

173 
fže
 *
	ma_å
;

176 
vnodeÝ_desc
 
vÝ_Ý’_desc
;

178 
VOP_OPEN_AP
(
vÝ_Ý’_¬gs
 *);

179 
VOP_OPEN_APV
(
vÝ_veùÜ
 *
vÝ
, 
vÝ_Ý’_¬gs
 *);

181 
__šlše
 
	$VOP_OPEN
(

182 
vnode
 *
vp
,

183 
mode
,

184 
uüed
 *
üed
,

185 
th»ad
 *
td
,

186 
fže
 *
å
)

188 
vÝ_Ý’_¬gs
 
a
;

190 
a
.
a_g’
.
a_desc
 = &
vÝ_Ý’_desc
;

191 
a
.
a_vp
 = 
vp
;

192 
a
.
a_mode
 = 
mode
;

193 
a
.
a_üed
 = 
üed
;

194 
a
.
a_td
 = 
td
;

195 
a
.
a_å
 = 
å
;

196  (
	`VOP_OPEN_APV
(
vp
->
v_Ý
, &
a
));

197 
	}
}

199 
	svÝ_þo£_¬gs
 {

200 
vÝ_g’”ic_¬gs
 
	ma_g’
;

201 
vnode
 *
	ma_vp
;

202 
	ma_fæag
;

203 
uüed
 *
	ma_üed
;

204 
th»ad
 *
	ma_td
;

207 
vnodeÝ_desc
 
vÝ_þo£_desc
;

209 
VOP_CLOSE_AP
(
vÝ_þo£_¬gs
 *);

210 
VOP_CLOSE_APV
(
vÝ_veùÜ
 *
vÝ
, 
vÝ_þo£_¬gs
 *);

212 
__šlše
 
	$VOP_CLOSE
(

213 
vnode
 *
vp
,

214 
fæag
,

215 
uüed
 *
üed
,

216 
th»ad
 *
td
)

218 
vÝ_þo£_¬gs
 
a
;

220 
a
.
a_g’
.
a_desc
 = &
vÝ_þo£_desc
;

221 
a
.
a_vp
 = 
vp
;

222 
a
.
a_fæag
 = 
fæag
;

223 
a
.
a_üed
 = 
üed
;

224 
a
.
a_td
 = 
td
;

225  (
	`VOP_CLOSE_APV
(
vp
->
v_Ý
, &
a
));

226 
	}
}

228 
	svÝ_acûss_¬gs
 {

229 
vÝ_g’”ic_¬gs
 
	ma_g’
;

230 
vnode
 *
	ma_vp
;

231 
accmode_t
 
	ma_accmode
;

232 
uüed
 *
	ma_üed
;

233 
th»ad
 *
	ma_td
;

236 
vnodeÝ_desc
 
vÝ_acûss_desc
;

238 
VOP_ACCESS_AP
(
vÝ_acûss_¬gs
 *);

239 
VOP_ACCESS_APV
(
vÝ_veùÜ
 *
vÝ
, 
vÝ_acûss_¬gs
 *);

241 
__šlše
 
	$VOP_ACCESS
(

242 
vnode
 *
vp
,

243 
accmode_t
 
accmode
,

244 
uüed
 *
üed
,

245 
th»ad
 *
td
)

247 
vÝ_acûss_¬gs
 
a
;

249 
a
.
a_g’
.
a_desc
 = &
vÝ_acûss_desc
;

250 
a
.
a_vp
 = 
vp
;

251 
a
.
a_accmode
 = 
accmode
;

252 
a
.
a_üed
 = 
üed
;

253 
a
.
a_td
 = 
td
;

254  (
	`VOP_ACCESS_APV
(
vp
->
v_Ý
, &
a
));

255 
	}
}

257 
	svÝ_acûssx_¬gs
 {

258 
vÝ_g’”ic_¬gs
 
	ma_g’
;

259 
vnode
 *
	ma_vp
;

260 
accmode_t
 
	ma_accmode
;

261 
uüed
 *
	ma_üed
;

262 
th»ad
 *
	ma_td
;

265 
vnodeÝ_desc
 
vÝ_acûssx_desc
;

267 
VOP_ACCESSX_AP
(
vÝ_acûssx_¬gs
 *);

268 
VOP_ACCESSX_APV
(
vÝ_veùÜ
 *
vÝ
, 
vÝ_acûssx_¬gs
 *);

270 
__šlše
 
	$VOP_ACCESSX
(

271 
vnode
 *
vp
,

272 
accmode_t
 
accmode
,

273 
uüed
 *
üed
,

274 
th»ad
 *
td
)

276 
vÝ_acûssx_¬gs
 
a
;

278 
a
.
a_g’
.
a_desc
 = &
vÝ_acûssx_desc
;

279 
a
.
a_vp
 = 
vp
;

280 
a
.
a_accmode
 = 
accmode
;

281 
a
.
a_üed
 = 
üed
;

282 
a
.
a_td
 = 
td
;

283  (
	`VOP_ACCESSX_APV
(
vp
->
v_Ý
, &
a
));

284 
	}
}

286 
	svÝ_g‘©Œ_¬gs
 {

287 
vÝ_g’”ic_¬gs
 
	ma_g’
;

288 
vnode
 *
	ma_vp
;

289 
v©Œ
 *
	ma_v­
;

290 
uüed
 *
	ma_üed
;

293 
vnodeÝ_desc
 
vÝ_g‘©Œ_desc
;

295 
VOP_GETATTR_AP
(
vÝ_g‘©Œ_¬gs
 *);

296 
VOP_GETATTR_APV
(
vÝ_veùÜ
 *
vÝ
, 
vÝ_g‘©Œ_¬gs
 *);

298 
__šlše
 
	$VOP_GETATTR
(

299 
vnode
 *
vp
,

300 
v©Œ
 *
v­
,

301 
uüed
 *
üed
)

303 
vÝ_g‘©Œ_¬gs
 
a
;

305 
a
.
a_g’
.
a_desc
 = &
vÝ_g‘©Œ_desc
;

306 
a
.
a_vp
 = 
vp
;

307 
a
.
a_v­
 = 
v­
;

308 
a
.
a_üed
 = 
üed
;

309  (
	`VOP_GETATTR_APV
(
vp
->
v_Ý
, &
a
));

310 
	}
}

312 
	svÝ_£‰r_¬gs
 {

313 
vÝ_g’”ic_¬gs
 
	ma_g’
;

314 
vnode
 *
	ma_vp
;

315 
v©Œ
 *
	ma_v­
;

316 
uüed
 *
	ma_üed
;

319 
vnodeÝ_desc
 
vÝ_£‰r_desc
;

321 
VOP_SETATTR_AP
(
vÝ_£‰r_¬gs
 *);

322 
VOP_SETATTR_APV
(
vÝ_veùÜ
 *
vÝ
, 
vÝ_£‰r_¬gs
 *);

324 
__šlše
 
	$VOP_SETATTR
(

325 
vnode
 *
vp
,

326 
v©Œ
 *
v­
,

327 
uüed
 *
üed
)

329 
vÝ_£‰r_¬gs
 
a
;

331 
a
.
a_g’
.
a_desc
 = &
vÝ_£‰r_desc
;

332 
a
.
a_vp
 = 
vp
;

333 
a
.
a_v­
 = 
v­
;

334 
a
.
a_üed
 = 
üed
;

335  (
	`VOP_SETATTR_APV
(
vp
->
v_Ý
, &
a
));

336 
	}
}

338 
	svÝ_m¬k©ime_¬gs
 {

339 
vÝ_g’”ic_¬gs
 
	ma_g’
;

340 
vnode
 *
	ma_vp
;

343 
vnodeÝ_desc
 
vÝ_m¬k©ime_desc
;

345 
VOP_MARKATIME_AP
(
vÝ_m¬k©ime_¬gs
 *);

346 
VOP_MARKATIME_APV
(
vÝ_veùÜ
 *
vÝ
, 
vÝ_m¬k©ime_¬gs
 *);

348 
__šlše
 
	$VOP_MARKATIME
(

349 
vnode
 *
vp
)

351 
vÝ_m¬k©ime_¬gs
 
a
;

353 
a
.
a_g’
.
a_desc
 = &
vÝ_m¬k©ime_desc
;

354 
a
.
a_vp
 = 
vp
;

355  (
	`VOP_MARKATIME_APV
(
vp
->
v_Ý
, &
a
));

356 
	}
}

358 
	svÝ_»ad_¬gs
 {

359 
vÝ_g’”ic_¬gs
 
	ma_g’
;

360 
vnode
 *
	ma_vp
;

361 
uio
 *
	ma_uio
;

362 
	ma_ioæag
;

363 
uüed
 *
	ma_üed
;

366 
vnodeÝ_desc
 
vÝ_»ad_desc
;

368 
VOP_READ_AP
(
vÝ_»ad_¬gs
 *);

369 
VOP_READ_APV
(
vÝ_veùÜ
 *
vÝ
, 
vÝ_»ad_¬gs
 *);

371 
__šlše
 
	$VOP_READ
(

372 
vnode
 *
vp
,

373 
uio
 *uio,

374 
ioæag
,

375 
uüed
 *
üed
)

377 
vÝ_»ad_¬gs
 
a
;

379 
a
.
a_g’
.
a_desc
 = &
vÝ_»ad_desc
;

380 
a
.
a_vp
 = 
vp
;

381 
a
.
a_uio
 = 
uio
;

382 
a
.
a_ioæag
 = 
ioæag
;

383 
a
.
a_üed
 = 
üed
;

384  (
	`VOP_READ_APV
(
vp
->
v_Ý
, &
a
));

385 
	}
}

387 
	svÝ_wr™e_¬gs
 {

388 
vÝ_g’”ic_¬gs
 
	ma_g’
;

389 
vnode
 *
	ma_vp
;

390 
uio
 *
	ma_uio
;

391 
	ma_ioæag
;

392 
uüed
 *
	ma_üed
;

395 
vnodeÝ_desc
 
vÝ_wr™e_desc
;

397 
VOP_WRITE_AP
(
vÝ_wr™e_¬gs
 *);

398 
VOP_WRITE_APV
(
vÝ_veùÜ
 *
vÝ
, 
vÝ_wr™e_¬gs
 *);

400 
__šlše
 
	$VOP_WRITE
(

401 
vnode
 *
vp
,

402 
uio
 *uio,

403 
ioæag
,

404 
uüed
 *
üed
)

406 
vÝ_wr™e_¬gs
 
a
;

408 
a
.
a_g’
.
a_desc
 = &
vÝ_wr™e_desc
;

409 
a
.
a_vp
 = 
vp
;

410 
a
.
a_uio
 = 
uio
;

411 
a
.
a_ioæag
 = 
ioæag
;

412 
a
.
a_üed
 = 
üed
;

413  (
	`VOP_WRITE_APV
(
vp
->
v_Ý
, &
a
));

414 
	}
}

416 
	svÝ_ioùl_¬gs
 {

417 
vÝ_g’”ic_¬gs
 
	ma_g’
;

418 
vnode
 *
	ma_vp
;

419 
u_lÚg
 
	ma_commªd
;

420 *
	ma_d©a
;

421 
	ma_fæag
;

422 
uüed
 *
	ma_üed
;

423 
th»ad
 *
	ma_td
;

426 
vnodeÝ_desc
 
vÝ_ioùl_desc
;

428 
VOP_IOCTL_AP
(
vÝ_ioùl_¬gs
 *);

429 
VOP_IOCTL_APV
(
vÝ_veùÜ
 *
vÝ
, 
vÝ_ioùl_¬gs
 *);

431 
__šlše
 
	$VOP_IOCTL
(

432 
vnode
 *
vp
,

433 
u_lÚg
 
commªd
,

434 *
d©a
,

435 
fæag
,

436 
uüed
 *
üed
,

437 
th»ad
 *
td
)

439 
vÝ_ioùl_¬gs
 
a
;

441 
a
.
a_g’
.
a_desc
 = &
vÝ_ioùl_desc
;

442 
a
.
a_vp
 = 
vp
;

443 
a
.
a_commªd
 = 
commªd
;

444 
a
.
a_d©a
 = 
d©a
;

445 
a
.
a_fæag
 = 
fæag
;

446 
a
.
a_üed
 = 
üed
;

447 
a
.
a_td
 = 
td
;

448  (
	`VOP_IOCTL_APV
(
vp
->
v_Ý
, &
a
));

449 
	}
}

451 
	svÝ_pÞl_¬gs
 {

452 
vÝ_g’”ic_¬gs
 
	ma_g’
;

453 
vnode
 *
	ma_vp
;

454 
	ma_ev’ts
;

455 
uüed
 *
	ma_üed
;

456 
th»ad
 *
	ma_td
;

459 
vnodeÝ_desc
 
vÝ_pÞl_desc
;

461 
VOP_POLL_AP
(
vÝ_pÞl_¬gs
 *);

462 
VOP_POLL_APV
(
vÝ_veùÜ
 *
vÝ
, 
vÝ_pÞl_¬gs
 *);

464 
__šlše
 
	$VOP_POLL
(

465 
vnode
 *
vp
,

466 
ev’ts
,

467 
uüed
 *
üed
,

468 
th»ad
 *
td
)

470 
vÝ_pÞl_¬gs
 
a
;

472 
a
.
a_g’
.
a_desc
 = &
vÝ_pÞl_desc
;

473 
a
.
a_vp
 = 
vp
;

474 
a
.
a_ev’ts
 = 
ev’ts
;

475 
a
.
a_üed
 = 
üed
;

476 
a
.
a_td
 = 
td
;

477  (
	`VOP_POLL_APV
(
vp
->
v_Ý
, &
a
));

478 
	}
}

480 
	svÝ_kqfž‹r_¬gs
 {

481 
vÝ_g’”ic_¬gs
 
	ma_g’
;

482 
vnode
 *
	ma_vp
;

483 
knÙe
 *
	ma_kn
;

486 
vnodeÝ_desc
 
vÝ_kqfž‹r_desc
;

488 
VOP_KQFILTER_AP
(
vÝ_kqfž‹r_¬gs
 *);

489 
VOP_KQFILTER_APV
(
vÝ_veùÜ
 *
vÝ
, 
vÝ_kqfž‹r_¬gs
 *);

491 
__šlše
 
	$VOP_KQFILTER
(

492 
vnode
 *
vp
,

493 
knÙe
 *
kn
)

495 
vÝ_kqfž‹r_¬gs
 
a
;

497 
a
.
a_g’
.
a_desc
 = &
vÝ_kqfž‹r_desc
;

498 
a
.
a_vp
 = 
vp
;

499 
a
.
a_kn
 = 
kn
;

500  (
	`VOP_KQFILTER_APV
(
vp
->
v_Ý
, &
a
));

501 
	}
}

503 
	svÝ_»voke_¬gs
 {

504 
vÝ_g’”ic_¬gs
 
	ma_g’
;

505 
vnode
 *
	ma_vp
;

506 
	ma_æags
;

509 
vnodeÝ_desc
 
vÝ_»voke_desc
;

511 
VOP_REVOKE_AP
(
vÝ_»voke_¬gs
 *);

512 
VOP_REVOKE_APV
(
vÝ_veùÜ
 *
vÝ
, 
vÝ_»voke_¬gs
 *);

514 
__šlše
 
	$VOP_REVOKE
(

515 
vnode
 *
vp
,

516 
æags
)

518 
vÝ_»voke_¬gs
 
a
;

520 
a
.
a_g’
.
a_desc
 = &
vÝ_»voke_desc
;

521 
a
.
a_vp
 = 
vp
;

522 
a
.
a_æags
 = 
æags
;

523  (
	`VOP_REVOKE_APV
(
vp
->
v_Ý
, &
a
));

524 
	}
}

526 
	svÝ_fsync_¬gs
 {

527 
vÝ_g’”ic_¬gs
 
	ma_g’
;

528 
vnode
 *
	ma_vp
;

529 
	ma_wa™fÜ
;

530 
th»ad
 *
	ma_td
;

533 
vnodeÝ_desc
 
vÝ_fsync_desc
;

535 
VOP_FSYNC_AP
(
vÝ_fsync_¬gs
 *);

536 
VOP_FSYNC_APV
(
vÝ_veùÜ
 *
vÝ
, 
vÝ_fsync_¬gs
 *);

538 
__šlše
 
	$VOP_FSYNC
(

539 
vnode
 *
vp
,

540 
wa™fÜ
,

541 
th»ad
 *
td
)

543 
vÝ_fsync_¬gs
 
a
;

545 
a
.
a_g’
.
a_desc
 = &
vÝ_fsync_desc
;

546 
a
.
a_vp
 = 
vp
;

547 
a
.
a_wa™fÜ
 = 
wa™fÜ
;

548 
a
.
a_td
 = 
td
;

549  (
	`VOP_FSYNC_APV
(
vp
->
v_Ý
, &
a
));

550 
	}
}

552 
	svÝ_»move_¬gs
 {

553 
vÝ_g’”ic_¬gs
 
	ma_g’
;

554 
vnode
 *
	ma_dvp
;

555 
vnode
 *
	ma_vp
;

556 
compÚ’Šame
 *
	ma_úp
;

559 
vnodeÝ_desc
 
vÝ_»move_desc
;

561 
VOP_REMOVE_AP
(
vÝ_»move_¬gs
 *);

562 
VOP_REMOVE_APV
(
vÝ_veùÜ
 *
vÝ
, 
vÝ_»move_¬gs
 *);

564 
__šlše
 
	$VOP_REMOVE
(

565 
vnode
 *
dvp
,

566 
vnode
 *
vp
,

567 
compÚ’Šame
 *
úp
)

569 
vÝ_»move_¬gs
 
a
;

571 
a
.
a_g’
.
a_desc
 = &
vÝ_»move_desc
;

572 
a
.
a_dvp
 = 
dvp
;

573 
a
.
a_vp
 = 
vp
;

574 
a
.
a_úp
 = 
úp
;

575  (
	`VOP_REMOVE_APV
(
dvp
->
v_Ý
, &
a
));

576 
	}
}

578 
	svÝ_lšk_¬gs
 {

579 
vÝ_g’”ic_¬gs
 
	ma_g’
;

580 
vnode
 *
	ma_tdvp
;

581 
vnode
 *
	ma_vp
;

582 
compÚ’Šame
 *
	ma_úp
;

585 
vnodeÝ_desc
 
vÝ_lšk_desc
;

587 
VOP_LINK_AP
(
vÝ_lšk_¬gs
 *);

588 
VOP_LINK_APV
(
vÝ_veùÜ
 *
vÝ
, 
vÝ_lšk_¬gs
 *);

590 
__šlše
 
	$VOP_LINK
(

591 
vnode
 *
tdvp
,

592 
vnode
 *
vp
,

593 
compÚ’Šame
 *
úp
)

595 
vÝ_lšk_¬gs
 
a
;

597 
a
.
a_g’
.
a_desc
 = &
vÝ_lšk_desc
;

598 
a
.
a_tdvp
 = 
tdvp
;

599 
a
.
a_vp
 = 
vp
;

600 
a
.
a_úp
 = 
úp
;

601  (
	`VOP_LINK_APV
(
tdvp
->
v_Ý
, &
a
));

602 
	}
}

604 
	svÝ_»Çme_¬gs
 {

605 
vÝ_g’”ic_¬gs
 
	ma_g’
;

606 
vnode
 *
	ma_fdvp
;

607 
vnode
 *
	ma_fvp
;

608 
compÚ’Šame
 *
	ma_fúp
;

609 
vnode
 *
	ma_tdvp
;

610 
vnode
 *
	ma_tvp
;

611 
compÚ’Šame
 *
	ma_túp
;

614 
vnodeÝ_desc
 
vÝ_»Çme_desc
;

616 
VOP_RENAME_AP
(
vÝ_»Çme_¬gs
 *);

617 
VOP_RENAME_APV
(
vÝ_veùÜ
 *
vÝ
, 
vÝ_»Çme_¬gs
 *);

619 
__šlše
 
	$VOP_RENAME
(

620 
vnode
 *
fdvp
,

621 
vnode
 *
fvp
,

622 
compÚ’Šame
 *
fúp
,

623 
vnode
 *
tdvp
,

624 
vnode
 *
tvp
,

625 
compÚ’Šame
 *
túp
)

627 
vÝ_»Çme_¬gs
 
a
;

629 
a
.
a_g’
.
a_desc
 = &
vÝ_»Çme_desc
;

630 
a
.
a_fdvp
 = 
fdvp
;

631 
a
.
a_fvp
 = 
fvp
;

632 
a
.
a_fúp
 = 
fúp
;

633 
a
.
a_tdvp
 = 
tdvp
;

634 
a
.
a_tvp
 = 
tvp
;

635 
a
.
a_túp
 = 
túp
;

636  (
	`VOP_RENAME_APV
(
fdvp
->
v_Ý
, &
a
));

637 
	}
}

639 
	svÝ_mkdœ_¬gs
 {

640 
vÝ_g’”ic_¬gs
 
	ma_g’
;

641 
vnode
 *
	ma_dvp
;

642 
vnode
 **
	ma_vµ
;

643 
compÚ’Šame
 *
	ma_úp
;

644 
v©Œ
 *
	ma_v­
;

647 
vnodeÝ_desc
 
vÝ_mkdœ_desc
;

649 
VOP_MKDIR_AP
(
vÝ_mkdœ_¬gs
 *);

650 
VOP_MKDIR_APV
(
vÝ_veùÜ
 *
vÝ
, 
vÝ_mkdœ_¬gs
 *);

652 
__šlše
 
	$VOP_MKDIR
(

653 
vnode
 *
dvp
,

654 
vnode
 **
vµ
,

655 
compÚ’Šame
 *
úp
,

656 
v©Œ
 *
v­
)

658 
vÝ_mkdœ_¬gs
 
a
;

660 
a
.
a_g’
.
a_desc
 = &
vÝ_mkdœ_desc
;

661 
a
.
a_dvp
 = 
dvp
;

662 
a
.
a_vµ
 = 
vµ
;

663 
a
.
a_úp
 = 
úp
;

664 
a
.
a_v­
 = 
v­
;

665  (
	`VOP_MKDIR_APV
(
dvp
->
v_Ý
, &
a
));

666 
	}
}

668 
	svÝ_rmdœ_¬gs
 {

669 
vÝ_g’”ic_¬gs
 
	ma_g’
;

670 
vnode
 *
	ma_dvp
;

671 
vnode
 *
	ma_vp
;

672 
compÚ’Šame
 *
	ma_úp
;

675 
vnodeÝ_desc
 
vÝ_rmdœ_desc
;

677 
VOP_RMDIR_AP
(
vÝ_rmdœ_¬gs
 *);

678 
VOP_RMDIR_APV
(
vÝ_veùÜ
 *
vÝ
, 
vÝ_rmdœ_¬gs
 *);

680 
__šlše
 
	$VOP_RMDIR
(

681 
vnode
 *
dvp
,

682 
vnode
 *
vp
,

683 
compÚ’Šame
 *
úp
)

685 
vÝ_rmdœ_¬gs
 
a
;

687 
a
.
a_g’
.
a_desc
 = &
vÝ_rmdœ_desc
;

688 
a
.
a_dvp
 = 
dvp
;

689 
a
.
a_vp
 = 
vp
;

690 
a
.
a_úp
 = 
úp
;

691  (
	`VOP_RMDIR_APV
(
dvp
->
v_Ý
, &
a
));

692 
	}
}

694 
	svÝ_symlšk_¬gs
 {

695 
vÝ_g’”ic_¬gs
 
	ma_g’
;

696 
vnode
 *
	ma_dvp
;

697 
vnode
 **
	ma_vµ
;

698 
compÚ’Šame
 *
	ma_úp
;

699 
v©Œ
 *
	ma_v­
;

700 *
	ma_rg‘
;

703 
vnodeÝ_desc
 
vÝ_symlšk_desc
;

705 
VOP_SYMLINK_AP
(
vÝ_symlšk_¬gs
 *);

706 
VOP_SYMLINK_APV
(
vÝ_veùÜ
 *
vÝ
, 
vÝ_symlšk_¬gs
 *);

708 
__šlše
 
	$VOP_SYMLINK
(

709 
vnode
 *
dvp
,

710 
vnode
 **
vµ
,

711 
compÚ’Šame
 *
úp
,

712 
v©Œ
 *
v­
,

713 *
rg‘
)

715 
vÝ_symlšk_¬gs
 
a
;

717 
a
.
a_g’
.
a_desc
 = &
vÝ_symlšk_desc
;

718 
a
.
a_dvp
 = 
dvp
;

719 
a
.
a_vµ
 = 
vµ
;

720 
a
.
a_úp
 = 
úp
;

721 
a
.
a_v­
 = 
v­
;

722 
a
.
a_rg‘
 = 
rg‘
;

723  (
	`VOP_SYMLINK_APV
(
dvp
->
v_Ý
, &
a
));

724 
	}
}

726 
	svÝ_»addœ_¬gs
 {

727 
vÝ_g’”ic_¬gs
 
	ma_g’
;

728 
vnode
 *
	ma_vp
;

729 
uio
 *
	ma_uio
;

730 
uüed
 *
	ma_üed
;

731 *
	ma_eofæag
;

732 *
	ma_ncook›s
;

733 
u_lÚg
 **
	ma_cook›s
;

736 
vnodeÝ_desc
 
vÝ_»addœ_desc
;

738 
VOP_READDIR_AP
(
vÝ_»addœ_¬gs
 *);

739 
VOP_READDIR_APV
(
vÝ_veùÜ
 *
vÝ
, 
vÝ_»addœ_¬gs
 *);

741 
__šlše
 
	$VOP_READDIR
(

742 
vnode
 *
vp
,

743 
uio
 *uio,

744 
uüed
 *
üed
,

745 *
eofæag
,

746 *
ncook›s
,

747 
u_lÚg
 **
cook›s
)

749 
vÝ_»addœ_¬gs
 
a
;

751 
a
.
a_g’
.
a_desc
 = &
vÝ_»addœ_desc
;

752 
a
.
a_vp
 = 
vp
;

753 
a
.
a_uio
 = 
uio
;

754 
a
.
a_üed
 = 
üed
;

755 
a
.
a_eofæag
 = 
eofæag
;

756 
a
.
a_ncook›s
 = 
ncook›s
;

757 
a
.
a_cook›s
 = 
cook›s
;

758  (
	`VOP_READDIR_APV
(
vp
->
v_Ý
, &
a
));

759 
	}
}

761 
	svÝ_»adlšk_¬gs
 {

762 
vÝ_g’”ic_¬gs
 
	ma_g’
;

763 
vnode
 *
	ma_vp
;

764 
uio
 *
	ma_uio
;

765 
uüed
 *
	ma_üed
;

768 
vnodeÝ_desc
 
vÝ_»adlšk_desc
;

770 
VOP_READLINK_AP
(
vÝ_»adlšk_¬gs
 *);

771 
VOP_READLINK_APV
(
vÝ_veùÜ
 *
vÝ
, 
vÝ_»adlšk_¬gs
 *);

773 
__šlše
 
	$VOP_READLINK
(

774 
vnode
 *
vp
,

775 
uio
 *uio,

776 
uüed
 *
üed
)

778 
vÝ_»adlšk_¬gs
 
a
;

780 
a
.
a_g’
.
a_desc
 = &
vÝ_»adlšk_desc
;

781 
a
.
a_vp
 = 
vp
;

782 
a
.
a_uio
 = 
uio
;

783 
a
.
a_üed
 = 
üed
;

784  (
	`VOP_READLINK_APV
(
vp
->
v_Ý
, &
a
));

785 
	}
}

787 
	svÝ_šaùive_¬gs
 {

788 
vÝ_g’”ic_¬gs
 
	ma_g’
;

789 
vnode
 *
	ma_vp
;

790 
th»ad
 *
	ma_td
;

793 
vnodeÝ_desc
 
vÝ_šaùive_desc
;

795 
VOP_INACTIVE_AP
(
vÝ_šaùive_¬gs
 *);

796 
VOP_INACTIVE_APV
(
vÝ_veùÜ
 *
vÝ
, 
vÝ_šaùive_¬gs
 *);

798 
__šlše
 
	$VOP_INACTIVE
(

799 
vnode
 *
vp
,

800 
th»ad
 *
td
)

802 
vÝ_šaùive_¬gs
 
a
;

804 
a
.
a_g’
.
a_desc
 = &
vÝ_šaùive_desc
;

805 
a
.
a_vp
 = 
vp
;

806 
a
.
a_td
 = 
td
;

807  (
	`VOP_INACTIVE_APV
(
vp
->
v_Ý
, &
a
));

808 
	}
}

810 
	svÝ_»þaim_¬gs
 {

811 
vÝ_g’”ic_¬gs
 
	ma_g’
;

812 
vnode
 *
	ma_vp
;

813 
th»ad
 *
	ma_td
;

816 
vnodeÝ_desc
 
vÝ_»þaim_desc
;

818 
VOP_RECLAIM_AP
(
vÝ_»þaim_¬gs
 *);

819 
VOP_RECLAIM_APV
(
vÝ_veùÜ
 *
vÝ
, 
vÝ_»þaim_¬gs
 *);

821 
__šlše
 
	$VOP_RECLAIM
(

822 
vnode
 *
vp
,

823 
th»ad
 *
td
)

825 
vÝ_»þaim_¬gs
 
a
;

827 
a
.
a_g’
.
a_desc
 = &
vÝ_»þaim_desc
;

828 
a
.
a_vp
 = 
vp
;

829 
a
.
a_td
 = 
td
;

830  (
	`VOP_RECLAIM_APV
(
vp
->
v_Ý
, &
a
));

831 
	}
}

833 
	svÝ_lock1_¬gs
 {

834 
vÝ_g’”ic_¬gs
 
	ma_g’
;

835 
vnode
 *
	ma_vp
;

836 
	ma_æags
;

837 *
	ma_fže
;

838 
	ma_lše
;

841 
vnodeÝ_desc
 
vÝ_lock1_desc
;

843 
VOP_LOCK1_AP
(
vÝ_lock1_¬gs
 *);

844 
VOP_LOCK1_APV
(
vÝ_veùÜ
 *
vÝ
, 
vÝ_lock1_¬gs
 *);

846 
__šlše
 
	$VOP_LOCK1
(

847 
vnode
 *
vp
,

848 
æags
,

849 *
fže
,

850 
lše
)

852 
vÝ_lock1_¬gs
 
a
;

854 
a
.
a_g’
.
a_desc
 = &
vÝ_lock1_desc
;

855 
a
.
a_vp
 = 
vp
;

856 
a
.
a_æags
 = 
æags
;

857 
a
.
a_fže
 = 
fže
;

858 
a
.
a_lše
 = 
lše
;

859  (
	`VOP_LOCK1_APV
(
vp
->
v_Ý
, &
a
));

860 
	}
}

862 
	svÝ_uÆock_¬gs
 {

863 
vÝ_g’”ic_¬gs
 
	ma_g’
;

864 
vnode
 *
	ma_vp
;

865 
	ma_æags
;

868 
vnodeÝ_desc
 
vÝ_uÆock_desc
;

870 
VOP_UNLOCK_AP
(
vÝ_uÆock_¬gs
 *);

871 
VOP_UNLOCK_APV
(
vÝ_veùÜ
 *
vÝ
, 
vÝ_uÆock_¬gs
 *);

873 
__šlše
 
	$VOP_UNLOCK
(

874 
vnode
 *
vp
,

875 
æags
)

877 
vÝ_uÆock_¬gs
 
a
;

879 
a
.
a_g’
.
a_desc
 = &
vÝ_uÆock_desc
;

880 
a
.
a_vp
 = 
vp
;

881 
a
.
a_æags
 = 
æags
;

882  (
	`VOP_UNLOCK_APV
(
vp
->
v_Ý
, &
a
));

883 
	}
}

885 
	svÝ_bm­_¬gs
 {

886 
vÝ_g’”ic_¬gs
 
	ma_g’
;

887 
vnode
 *
	ma_vp
;

888 
daddr_t
 
	ma_bn
;

889 
bufobj
 **
	ma_bÝ
;

890 
daddr_t
 *
	ma_bÅ
;

891 *
	ma_ruÅ
;

892 *
	ma_runb
;

895 
vnodeÝ_desc
 
vÝ_bm­_desc
;

897 
VOP_BMAP_AP
(
vÝ_bm­_¬gs
 *);

898 
VOP_BMAP_APV
(
vÝ_veùÜ
 *
vÝ
, 
vÝ_bm­_¬gs
 *);

900 
__šlše
 
	$VOP_BMAP
(

901 
vnode
 *
vp
,

902 
daddr_t
 
bn
,

903 
bufobj
 **
bÝ
,

904 
daddr_t
 *
bÅ
,

905 *
ruÅ
,

906 *
runb
)

908 
vÝ_bm­_¬gs
 
a
;

910 
a
.
a_g’
.
a_desc
 = &
vÝ_bm­_desc
;

911 
a
.
a_vp
 = 
vp
;

912 
a
.
a_bn
 = 
bn
;

913 
a
.
a_bÝ
 = 
bÝ
;

914 
a
.
a_bÅ
 = 
bÅ
;

915 
a
.
a_ruÅ
 = 
ruÅ
;

916 
a
.
a_runb
 = 
runb
;

917  (
	`VOP_BMAP_APV
(
vp
->
v_Ý
, &
a
));

918 
	}
}

920 
	svÝ_¡¿‹gy_¬gs
 {

921 
vÝ_g’”ic_¬gs
 
	ma_g’
;

922 
vnode
 *
	ma_vp
;

923 
buf
 *
	ma_bp
;

926 
vnodeÝ_desc
 
vÝ_¡¿‹gy_desc
;

928 
VOP_STRATEGY_AP
(
vÝ_¡¿‹gy_¬gs
 *);

929 
VOP_STRATEGY_APV
(
vÝ_veùÜ
 *
vÝ
, 
vÝ_¡¿‹gy_¬gs
 *);

931 
__šlše
 
	$VOP_STRATEGY
(

932 
vnode
 *
vp
,

933 
buf
 *
bp
)

935 
vÝ_¡¿‹gy_¬gs
 
a
;

937 
a
.
a_g’
.
a_desc
 = &
vÝ_¡¿‹gy_desc
;

938 
a
.
a_vp
 = 
vp
;

939 
a
.
a_bp
 = 
bp
;

940  (
	`VOP_STRATEGY_APV
(
vp
->
v_Ý
, &
a
));

941 
	}
}

943 
	svÝ_g‘wr™emouÁ_¬gs
 {

944 
vÝ_g’”ic_¬gs
 
	ma_g’
;

945 
vnode
 *
	ma_vp
;

946 
mouÁ
 **
	ma_mµ
;

949 
vnodeÝ_desc
 
vÝ_g‘wr™emouÁ_desc
;

951 
VOP_GETWRITEMOUNT_AP
(
vÝ_g‘wr™emouÁ_¬gs
 *);

952 
VOP_GETWRITEMOUNT_APV
(
vÝ_veùÜ
 *
vÝ
, 
vÝ_g‘wr™emouÁ_¬gs
 *);

954 
__šlše
 
	$VOP_GETWRITEMOUNT
(

955 
vnode
 *
vp
,

956 
mouÁ
 **
mµ
)

958 
vÝ_g‘wr™emouÁ_¬gs
 
a
;

960 
a
.
a_g’
.
a_desc
 = &
vÝ_g‘wr™emouÁ_desc
;

961 
a
.
a_vp
 = 
vp
;

962 
a
.
a_mµ
 = 
mµ
;

963  (
	`VOP_GETWRITEMOUNT_APV
(
vp
->
v_Ý
, &
a
));

964 
	}
}

966 
	svÝ_´št_¬gs
 {

967 
vÝ_g’”ic_¬gs
 
	ma_g’
;

968 
vnode
 *
	ma_vp
;

971 
vnodeÝ_desc
 
vÝ_´št_desc
;

973 
VOP_PRINT_AP
(
vÝ_´št_¬gs
 *);

974 
VOP_PRINT_APV
(
vÝ_veùÜ
 *
vÝ
, 
vÝ_´št_¬gs
 *);

976 
__šlše
 
	$VOP_PRINT
(

977 
vnode
 *
vp
)

979 
vÝ_´št_¬gs
 
a
;

981 
a
.
a_g’
.
a_desc
 = &
vÝ_´št_desc
;

982 
a
.
a_vp
 = 
vp
;

983  (
	`VOP_PRINT_APV
(
vp
->
v_Ý
, &
a
));

984 
	}
}

986 
	svÝ_·thcÚf_¬gs
 {

987 
vÝ_g’”ic_¬gs
 
	ma_g’
;

988 
vnode
 *
	ma_vp
;

989 
	ma_Çme
;

990 *
	ma_»tv®
;

993 
vnodeÝ_desc
 
vÝ_·thcÚf_desc
;

995 
VOP_PATHCONF_AP
(
vÝ_·thcÚf_¬gs
 *);

996 
VOP_PATHCONF_APV
(
vÝ_veùÜ
 *
vÝ
, 
vÝ_·thcÚf_¬gs
 *);

998 
__šlše
 
	$VOP_PATHCONF
(

999 
vnode
 *
vp
,

1000 
Çme
,

1001 *
»tv®
)

1003 
vÝ_·thcÚf_¬gs
 
a
;

1005 
a
.
a_g’
.
a_desc
 = &
vÝ_·thcÚf_desc
;

1006 
a
.
a_vp
 = 
vp
;

1007 
a
.
a_Çme
 = 
Çme
;

1008 
a
.
a_»tv®
 = 
»tv®
;

1009  (
	`VOP_PATHCONF_APV
(
vp
->
v_Ý
, &
a
));

1010 
	}
}

1012 
	svÝ_advlock_¬gs
 {

1013 
vÝ_g’”ic_¬gs
 
	ma_g’
;

1014 
vnode
 *
	ma_vp
;

1015 *
	ma_id
;

1016 
	ma_Ý
;

1017 
æock
 *
	ma_æ
;

1018 
	ma_æags
;

1021 
vnodeÝ_desc
 
vÝ_advlock_desc
;

1023 
VOP_ADVLOCK_AP
(
vÝ_advlock_¬gs
 *);

1024 
VOP_ADVLOCK_APV
(
vÝ_veùÜ
 *
vÝ
, 
vÝ_advlock_¬gs
 *);

1026 
__šlše
 
	$VOP_ADVLOCK
(

1027 
vnode
 *
vp
,

1028 *
id
,

1029 
Ý
,

1030 
æock
 *
æ
,

1031 
æags
)

1033 
vÝ_advlock_¬gs
 
a
;

1035 
a
.
a_g’
.
a_desc
 = &
vÝ_advlock_desc
;

1036 
a
.
a_vp
 = 
vp
;

1037 
a
.
a_id
 = 
id
;

1038 
a
.
a_Ý
 = 
Ý
;

1039 
a
.
a_æ
 = 
æ
;

1040 
a
.
a_æags
 = 
æags
;

1041  (
	`VOP_ADVLOCK_APV
(
vp
->
v_Ý
, &
a
));

1042 
	}
}

1044 
	svÝ_advlockasync_¬gs
 {

1045 
vÝ_g’”ic_¬gs
 
	ma_g’
;

1046 
vnode
 *
	ma_vp
;

1047 *
	ma_id
;

1048 
	ma_Ý
;

1049 
æock
 *
	ma_æ
;

1050 
	ma_æags
;

1051 
sk
 *
	ma_sk
;

1052 **
	ma_cook›p
;

1055 
vnodeÝ_desc
 
vÝ_advlockasync_desc
;

1057 
VOP_ADVLOCKASYNC_AP
(
vÝ_advlockasync_¬gs
 *);

1058 
VOP_ADVLOCKASYNC_APV
(
vÝ_veùÜ
 *
vÝ
, 
vÝ_advlockasync_¬gs
 *);

1060 
__šlše
 
	$VOP_ADVLOCKASYNC
(

1061 
vnode
 *
vp
,

1062 *
id
,

1063 
Ý
,

1064 
æock
 *
æ
,

1065 
æags
,

1066 
sk
 *task,

1067 **
cook›p
)

1069 
vÝ_advlockasync_¬gs
 
a
;

1071 
a
.
a_g’
.
a_desc
 = &
vÝ_advlockasync_desc
;

1072 
a
.
a_vp
 = 
vp
;

1073 
a
.
a_id
 = 
id
;

1074 
a
.
a_Ý
 = 
Ý
;

1075 
a
.
a_æ
 = 
æ
;

1076 
a
.
a_æags
 = 
æags
;

1077 
a
.
a_sk
 = 
sk
;

1078 
a
.
a_cook›p
 = 
cook›p
;

1079  (
	`VOP_ADVLOCKASYNC_APV
(
vp
->
v_Ý
, &
a
));

1080 
	}
}

1082 
	svÝ_advlockpurge_¬gs
 {

1083 
vÝ_g’”ic_¬gs
 
	ma_g’
;

1084 
vnode
 *
	ma_vp
;

1087 
vnodeÝ_desc
 
vÝ_advlockpurge_desc
;

1089 
VOP_ADVLOCKPURGE_AP
(
vÝ_advlockpurge_¬gs
 *);

1090 
VOP_ADVLOCKPURGE_APV
(
vÝ_veùÜ
 *
vÝ
, 
vÝ_advlockpurge_¬gs
 *);

1092 
__šlše
 
	$VOP_ADVLOCKPURGE
(

1093 
vnode
 *
vp
)

1095 
vÝ_advlockpurge_¬gs
 
a
;

1097 
a
.
a_g’
.
a_desc
 = &
vÝ_advlockpurge_desc
;

1098 
a
.
a_vp
 = 
vp
;

1099  (
	`VOP_ADVLOCKPURGE_APV
(
vp
->
v_Ý
, &
a
));

1100 
	}
}

1102 
	svÝ_»®locblks_¬gs
 {

1103 
vÝ_g’”ic_¬gs
 
	ma_g’
;

1104 
vnode
 *
	ma_vp
;

1105 
þu¡”_§ve
 *
	ma_buæi¡
;

1108 
vnodeÝ_desc
 
vÝ_»®locblks_desc
;

1110 
VOP_REALLOCBLKS_AP
(
vÝ_»®locblks_¬gs
 *);

1111 
VOP_REALLOCBLKS_APV
(
vÝ_veùÜ
 *
vÝ
, 
vÝ_»®locblks_¬gs
 *);

1113 
__šlše
 
	$VOP_REALLOCBLKS
(

1114 
vnode
 *
vp
,

1115 
þu¡”_§ve
 *
buæi¡
)

1117 
vÝ_»®locblks_¬gs
 
a
;

1119 
a
.
a_g’
.
a_desc
 = &
vÝ_»®locblks_desc
;

1120 
a
.
a_vp
 = 
vp
;

1121 
a
.
a_buæi¡
 = 
buæi¡
;

1122  (
	`VOP_REALLOCBLKS_APV
(
vp
->
v_Ý
, &
a
));

1123 
	}
}

1125 
	svÝ_g‘·ges_¬gs
 {

1126 
vÝ_g’”ic_¬gs
 
	ma_g’
;

1127 
vnode
 *
	ma_vp
;

1128 
vm_·ge_t
 *
	ma_m
;

1129 
	ma_couÁ
;

1130 *
	ma_rbehšd
;

1131 *
	ma_¿h—d
;

1134 
vnodeÝ_desc
 
vÝ_g‘·ges_desc
;

1136 
VOP_GETPAGES_AP
(
vÝ_g‘·ges_¬gs
 *);

1137 
VOP_GETPAGES_APV
(
vÝ_veùÜ
 *
vÝ
, 
vÝ_g‘·ges_¬gs
 *);

1139 
__šlše
 
	$VOP_GETPAGES
(

1140 
vnode
 *
vp
,

1141 
vm_·ge_t
 *
m
,

1142 
couÁ
,

1143 *
rbehšd
,

1144 *
¿h—d
)

1146 
vÝ_g‘·ges_¬gs
 
a
;

1148 
a
.
a_g’
.
a_desc
 = &
vÝ_g‘·ges_desc
;

1149 
a
.
a_vp
 = 
vp
;

1150 
a
.
a_m
 = 
m
;

1151 
a
.
a_couÁ
 = 
couÁ
;

1152 
a
.
a_rbehšd
 = 
rbehšd
;

1153 
a
.
a_¿h—d
 = 
¿h—d
;

1154  (
	`VOP_GETPAGES_APV
(
vp
->
v_Ý
, &
a
));

1155 
	}
}

1157 
	svÝ_g‘·ges_async_¬gs
 {

1158 
vÝ_g’”ic_¬gs
 
	ma_g’
;

1159 
vnode
 *
	ma_vp
;

1160 
vm_·ge_t
 *
	ma_m
;

1161 
	ma_couÁ
;

1162 *
	ma_rbehšd
;

1163 *
	ma_¿h—d
;

1164 
vÝ_g‘·ges_iodÚe_t
 *
	ma_iodÚe
;

1165 *
	ma_¬g
;

1168 
vnodeÝ_desc
 
vÝ_g‘·ges_async_desc
;

1170 
VOP_GETPAGES_ASYNC_AP
(
vÝ_g‘·ges_async_¬gs
 *);

1171 
VOP_GETPAGES_ASYNC_APV
(
vÝ_veùÜ
 *
vÝ
, 
vÝ_g‘·ges_async_¬gs
 *);

1173 
__šlše
 
	$VOP_GETPAGES_ASYNC
(

1174 
vnode
 *
vp
,

1175 
vm_·ge_t
 *
m
,

1176 
couÁ
,

1177 *
rbehšd
,

1178 *
¿h—d
,

1179 
vÝ_g‘·ges_iodÚe_t
 *
iodÚe
,

1180 *
¬g
)

1182 
vÝ_g‘·ges_async_¬gs
 
a
;

1184 
a
.
a_g’
.
a_desc
 = &
vÝ_g‘·ges_async_desc
;

1185 
a
.
a_vp
 = 
vp
;

1186 
a
.
a_m
 = 
m
;

1187 
a
.
a_couÁ
 = 
couÁ
;

1188 
a
.
a_rbehšd
 = 
rbehšd
;

1189 
a
.
a_¿h—d
 = 
¿h—d
;

1190 
a
.
a_iodÚe
 = 
iodÚe
;

1191 
a
.
a_¬g
 = 
¬g
;

1192  (
	`VOP_GETPAGES_ASYNC_APV
(
vp
->
v_Ý
, &
a
));

1193 
	}
}

1195 
	svÝ_puages_¬gs
 {

1196 
vÝ_g’”ic_¬gs
 
	ma_g’
;

1197 
vnode
 *
	ma_vp
;

1198 
vm_·ge_t
 *
	ma_m
;

1199 
	ma_couÁ
;

1200 
	ma_sync
;

1201 *
	ma_¹v®s
;

1204 
vnodeÝ_desc
 
vÝ_puages_desc
;

1206 
VOP_PUTPAGES_AP
(
vÝ_puages_¬gs
 *);

1207 
VOP_PUTPAGES_APV
(
vÝ_veùÜ
 *
vÝ
, 
vÝ_puages_¬gs
 *);

1209 
__šlše
 
	$VOP_PUTPAGES
(

1210 
vnode
 *
vp
,

1211 
vm_·ge_t
 *
m
,

1212 
couÁ
,

1213 
sync
,

1214 *
¹v®s
)

1216 
vÝ_puages_¬gs
 
a
;

1218 
a
.
a_g’
.
a_desc
 = &
vÝ_puages_desc
;

1219 
a
.
a_vp
 = 
vp
;

1220 
a
.
a_m
 = 
m
;

1221 
a
.
a_couÁ
 = 
couÁ
;

1222 
a
.
a_sync
 = 
sync
;

1223 
a
.
a_¹v®s
 = 
¹v®s
;

1224  (
	`VOP_PUTPAGES_APV
(
vp
->
v_Ý
, &
a
));

1225 
	}
}

1227 
	svÝ_g‘aþ_¬gs
 {

1228 
vÝ_g’”ic_¬gs
 
	ma_g’
;

1229 
vnode
 *
	ma_vp
;

1230 
aþ_ty³_t
 
	ma_ty³
;

1231 
aþ
 *
	ma_aþp
;

1232 
uüed
 *
	ma_üed
;

1233 
th»ad
 *
	ma_td
;

1236 
vnodeÝ_desc
 
vÝ_g‘aþ_desc
;

1238 
VOP_GETACL_AP
(
vÝ_g‘aþ_¬gs
 *);

1239 
VOP_GETACL_APV
(
vÝ_veùÜ
 *
vÝ
, 
vÝ_g‘aþ_¬gs
 *);

1241 
__šlše
 
	$VOP_GETACL
(

1242 
vnode
 *
vp
,

1243 
aþ_ty³_t
 
ty³
,

1244 
aþ
 *
aþp
,

1245 
uüed
 *
üed
,

1246 
th»ad
 *
td
)

1248 
vÝ_g‘aþ_¬gs
 
a
;

1250 
a
.
a_g’
.
a_desc
 = &
vÝ_g‘aþ_desc
;

1251 
a
.
a_vp
 = 
vp
;

1252 
a
.
a_ty³
 = 
ty³
;

1253 
a
.
a_aþp
 = 
aþp
;

1254 
a
.
a_üed
 = 
üed
;

1255 
a
.
a_td
 = 
td
;

1256  (
	`VOP_GETACL_APV
(
vp
->
v_Ý
, &
a
));

1257 
	}
}

1259 
	svÝ_£þ_¬gs
 {

1260 
vÝ_g’”ic_¬gs
 
	ma_g’
;

1261 
vnode
 *
	ma_vp
;

1262 
aþ_ty³_t
 
	ma_ty³
;

1263 
aþ
 *
	ma_aþp
;

1264 
uüed
 *
	ma_üed
;

1265 
th»ad
 *
	ma_td
;

1268 
vnodeÝ_desc
 
vÝ_£þ_desc
;

1270 
VOP_SETACL_AP
(
vÝ_£þ_¬gs
 *);

1271 
VOP_SETACL_APV
(
vÝ_veùÜ
 *
vÝ
, 
vÝ_£þ_¬gs
 *);

1273 
__šlše
 
	$VOP_SETACL
(

1274 
vnode
 *
vp
,

1275 
aþ_ty³_t
 
ty³
,

1276 
aþ
 *
aþp
,

1277 
uüed
 *
üed
,

1278 
th»ad
 *
td
)

1280 
vÝ_£þ_¬gs
 
a
;

1282 
a
.
a_g’
.
a_desc
 = &
vÝ_£þ_desc
;

1283 
a
.
a_vp
 = 
vp
;

1284 
a
.
a_ty³
 = 
ty³
;

1285 
a
.
a_aþp
 = 
aþp
;

1286 
a
.
a_üed
 = 
üed
;

1287 
a
.
a_td
 = 
td
;

1288  (
	`VOP_SETACL_APV
(
vp
->
v_Ý
, &
a
));

1289 
	}
}

1291 
	svÝ_aþcheck_¬gs
 {

1292 
vÝ_g’”ic_¬gs
 
	ma_g’
;

1293 
vnode
 *
	ma_vp
;

1294 
aþ_ty³_t
 
	ma_ty³
;

1295 
aþ
 *
	ma_aþp
;

1296 
uüed
 *
	ma_üed
;

1297 
th»ad
 *
	ma_td
;

1300 
vnodeÝ_desc
 
vÝ_aþcheck_desc
;

1302 
VOP_ACLCHECK_AP
(
vÝ_aþcheck_¬gs
 *);

1303 
VOP_ACLCHECK_APV
(
vÝ_veùÜ
 *
vÝ
, 
vÝ_aþcheck_¬gs
 *);

1305 
__šlše
 
	$VOP_ACLCHECK
(

1306 
vnode
 *
vp
,

1307 
aþ_ty³_t
 
ty³
,

1308 
aþ
 *
aþp
,

1309 
uüed
 *
üed
,

1310 
th»ad
 *
td
)

1312 
vÝ_aþcheck_¬gs
 
a
;

1314 
a
.
a_g’
.
a_desc
 = &
vÝ_aþcheck_desc
;

1315 
a
.
a_vp
 = 
vp
;

1316 
a
.
a_ty³
 = 
ty³
;

1317 
a
.
a_aþp
 = 
aþp
;

1318 
a
.
a_üed
 = 
üed
;

1319 
a
.
a_td
 = 
td
;

1320  (
	`VOP_ACLCHECK_APV
(
vp
->
v_Ý
, &
a
));

1321 
	}
}

1323 
	svÝ_þo£ex‰r_¬gs
 {

1324 
vÝ_g’”ic_¬gs
 
	ma_g’
;

1325 
vnode
 *
	ma_vp
;

1326 
	ma_comm™
;

1327 
uüed
 *
	ma_üed
;

1328 
th»ad
 *
	ma_td
;

1331 
vnodeÝ_desc
 
vÝ_þo£ex‰r_desc
;

1333 
VOP_CLOSEEXTATTR_AP
(
vÝ_þo£ex‰r_¬gs
 *);

1334 
VOP_CLOSEEXTATTR_APV
(
vÝ_veùÜ
 *
vÝ
, 
vÝ_þo£ex‰r_¬gs
 *);

1336 
__šlše
 
	$VOP_CLOSEEXTATTR
(

1337 
vnode
 *
vp
,

1338 
comm™
,

1339 
uüed
 *
üed
,

1340 
th»ad
 *
td
)

1342 
vÝ_þo£ex‰r_¬gs
 
a
;

1344 
a
.
a_g’
.
a_desc
 = &
vÝ_þo£ex‰r_desc
;

1345 
a
.
a_vp
 = 
vp
;

1346 
a
.
a_comm™
 = 
comm™
;

1347 
a
.
a_üed
 = 
üed
;

1348 
a
.
a_td
 = 
td
;

1349  (
	`VOP_CLOSEEXTATTR_APV
(
vp
->
v_Ý
, &
a
));

1350 
	}
}

1352 
	svÝ_g‘ex‰r_¬gs
 {

1353 
vÝ_g’”ic_¬gs
 
	ma_g’
;

1354 
vnode
 *
	ma_vp
;

1355 
	ma_©ŒÇme¥aû
;

1356 cÚ¡ *
	ma_Çme
;

1357 
uio
 *
	ma_uio
;

1358 
size_t
 *
	ma_size
;

1359 
uüed
 *
	ma_üed
;

1360 
th»ad
 *
	ma_td
;

1363 
vnodeÝ_desc
 
vÝ_g‘ex‰r_desc
;

1365 
VOP_GETEXTATTR_AP
(
vÝ_g‘ex‰r_¬gs
 *);

1366 
VOP_GETEXTATTR_APV
(
vÝ_veùÜ
 *
vÝ
, 
vÝ_g‘ex‰r_¬gs
 *);

1368 
__šlše
 
	$VOP_GETEXTATTR
(

1369 
vnode
 *
vp
,

1370 
©ŒÇme¥aû
,

1371 cÚ¡ *
Çme
,

1372 
uio
 *uio,

1373 
size_t
 *
size
,

1374 
uüed
 *
üed
,

1375 
th»ad
 *
td
)

1377 
vÝ_g‘ex‰r_¬gs
 
a
;

1379 
a
.
a_g’
.
a_desc
 = &
vÝ_g‘ex‰r_desc
;

1380 
a
.
a_vp
 = 
vp
;

1381 
a
.
a_©ŒÇme¥aû
 = 
©ŒÇme¥aû
;

1382 
a
.
a_Çme
 = 
Çme
;

1383 
a
.
a_uio
 = 
uio
;

1384 
a
.
a_size
 = 
size
;

1385 
a
.
a_üed
 = 
üed
;

1386 
a
.
a_td
 = 
td
;

1387  (
	`VOP_GETEXTATTR_APV
(
vp
->
v_Ý
, &
a
));

1388 
	}
}

1390 
	svÝ_li¡ex‰r_¬gs
 {

1391 
vÝ_g’”ic_¬gs
 
	ma_g’
;

1392 
vnode
 *
	ma_vp
;

1393 
	ma_©ŒÇme¥aû
;

1394 
uio
 *
	ma_uio
;

1395 
size_t
 *
	ma_size
;

1396 
uüed
 *
	ma_üed
;

1397 
th»ad
 *
	ma_td
;

1400 
vnodeÝ_desc
 
vÝ_li¡ex‰r_desc
;

1402 
VOP_LISTEXTATTR_AP
(
vÝ_li¡ex‰r_¬gs
 *);

1403 
VOP_LISTEXTATTR_APV
(
vÝ_veùÜ
 *
vÝ
, 
vÝ_li¡ex‰r_¬gs
 *);

1405 
__šlše
 
	$VOP_LISTEXTATTR
(

1406 
vnode
 *
vp
,

1407 
©ŒÇme¥aû
,

1408 
uio
 *uio,

1409 
size_t
 *
size
,

1410 
uüed
 *
üed
,

1411 
th»ad
 *
td
)

1413 
vÝ_li¡ex‰r_¬gs
 
a
;

1415 
a
.
a_g’
.
a_desc
 = &
vÝ_li¡ex‰r_desc
;

1416 
a
.
a_vp
 = 
vp
;

1417 
a
.
a_©ŒÇme¥aû
 = 
©ŒÇme¥aû
;

1418 
a
.
a_uio
 = 
uio
;

1419 
a
.
a_size
 = 
size
;

1420 
a
.
a_üed
 = 
üed
;

1421 
a
.
a_td
 = 
td
;

1422  (
	`VOP_LISTEXTATTR_APV
(
vp
->
v_Ý
, &
a
));

1423 
	}
}

1425 
	svÝ_Ý’ex‰r_¬gs
 {

1426 
vÝ_g’”ic_¬gs
 
	ma_g’
;

1427 
vnode
 *
	ma_vp
;

1428 
uüed
 *
	ma_üed
;

1429 
th»ad
 *
	ma_td
;

1432 
vnodeÝ_desc
 
vÝ_Ý’ex‰r_desc
;

1434 
VOP_OPENEXTATTR_AP
(
vÝ_Ý’ex‰r_¬gs
 *);

1435 
VOP_OPENEXTATTR_APV
(
vÝ_veùÜ
 *
vÝ
, 
vÝ_Ý’ex‰r_¬gs
 *);

1437 
__šlše
 
	$VOP_OPENEXTATTR
(

1438 
vnode
 *
vp
,

1439 
uüed
 *
üed
,

1440 
th»ad
 *
td
)

1442 
vÝ_Ý’ex‰r_¬gs
 
a
;

1444 
a
.
a_g’
.
a_desc
 = &
vÝ_Ý’ex‰r_desc
;

1445 
a
.
a_vp
 = 
vp
;

1446 
a
.
a_üed
 = 
üed
;

1447 
a
.
a_td
 = 
td
;

1448  (
	`VOP_OPENEXTATTR_APV
(
vp
->
v_Ý
, &
a
));

1449 
	}
}

1451 
	svÝ_d–‘“x‰r_¬gs
 {

1452 
vÝ_g’”ic_¬gs
 
	ma_g’
;

1453 
vnode
 *
	ma_vp
;

1454 
	ma_©ŒÇme¥aû
;

1455 cÚ¡ *
	ma_Çme
;

1456 
uüed
 *
	ma_üed
;

1457 
th»ad
 *
	ma_td
;

1460 
vnodeÝ_desc
 
vÝ_d–‘“x‰r_desc
;

1462 
VOP_DELETEEXTATTR_AP
(
vÝ_d–‘“x‰r_¬gs
 *);

1463 
VOP_DELETEEXTATTR_APV
(
vÝ_veùÜ
 *
vÝ
, 
vÝ_d–‘“x‰r_¬gs
 *);

1465 
__šlše
 
	$VOP_DELETEEXTATTR
(

1466 
vnode
 *
vp
,

1467 
©ŒÇme¥aû
,

1468 cÚ¡ *
Çme
,

1469 
uüed
 *
üed
,

1470 
th»ad
 *
td
)

1472 
vÝ_d–‘“x‰r_¬gs
 
a
;

1474 
a
.
a_g’
.
a_desc
 = &
vÝ_d–‘“x‰r_desc
;

1475 
a
.
a_vp
 = 
vp
;

1476 
a
.
a_©ŒÇme¥aû
 = 
©ŒÇme¥aû
;

1477 
a
.
a_Çme
 = 
Çme
;

1478 
a
.
a_üed
 = 
üed
;

1479 
a
.
a_td
 = 
td
;

1480  (
	`VOP_DELETEEXTATTR_APV
(
vp
->
v_Ý
, &
a
));

1481 
	}
}

1483 
	svÝ_£‹x‰r_¬gs
 {

1484 
vÝ_g’”ic_¬gs
 
	ma_g’
;

1485 
vnode
 *
	ma_vp
;

1486 
	ma_©ŒÇme¥aû
;

1487 cÚ¡ *
	ma_Çme
;

1488 
uio
 *
	ma_uio
;

1489 
uüed
 *
	ma_üed
;

1490 
th»ad
 *
	ma_td
;

1493 
vnodeÝ_desc
 
vÝ_£‹x‰r_desc
;

1495 
VOP_SETEXTATTR_AP
(
vÝ_£‹x‰r_¬gs
 *);

1496 
VOP_SETEXTATTR_APV
(
vÝ_veùÜ
 *
vÝ
, 
vÝ_£‹x‰r_¬gs
 *);

1498 
__šlše
 
	$VOP_SETEXTATTR
(

1499 
vnode
 *
vp
,

1500 
©ŒÇme¥aû
,

1501 cÚ¡ *
Çme
,

1502 
uio
 *uio,

1503 
uüed
 *
üed
,

1504 
th»ad
 *
td
)

1506 
vÝ_£‹x‰r_¬gs
 
a
;

1508 
a
.
a_g’
.
a_desc
 = &
vÝ_£‹x‰r_desc
;

1509 
a
.
a_vp
 = 
vp
;

1510 
a
.
a_©ŒÇme¥aû
 = 
©ŒÇme¥aû
;

1511 
a
.
a_Çme
 = 
Çme
;

1512 
a
.
a_uio
 = 
uio
;

1513 
a
.
a_üed
 = 
üed
;

1514 
a
.
a_td
 = 
td
;

1515  (
	`VOP_SETEXTATTR_APV
(
vp
->
v_Ý
, &
a
));

1516 
	}
}

1518 
	svÝ_£Žab–_¬gs
 {

1519 
vÝ_g’”ic_¬gs
 
	ma_g’
;

1520 
vnode
 *
	ma_vp
;

1521 
Ïb–
 *
	ma_Ïb–
;

1522 
uüed
 *
	ma_üed
;

1523 
th»ad
 *
	ma_td
;

1526 
vnodeÝ_desc
 
vÝ_£Žab–_desc
;

1528 
VOP_SETLABEL_AP
(
vÝ_£Žab–_¬gs
 *);

1529 
VOP_SETLABEL_APV
(
vÝ_veùÜ
 *
vÝ
, 
vÝ_£Žab–_¬gs
 *);

1531 
__šlše
 
	$VOP_SETLABEL
(

1532 
vnode
 *
vp
,

1533 
Ïb–
 *label,

1534 
uüed
 *
üed
,

1535 
th»ad
 *
td
)

1537 
vÝ_£Žab–_¬gs
 
a
;

1539 
a
.
a_g’
.
a_desc
 = &
vÝ_£Žab–_desc
;

1540 
a
.
a_vp
 = 
vp
;

1541 
a
.
a_Ïb–
 = 
Ïb–
;

1542 
a
.
a_üed
 = 
üed
;

1543 
a
.
a_td
 = 
td
;

1544  (
	`VOP_SETLABEL_APV
(
vp
->
v_Ý
, &
a
));

1545 
	}
}

1547 
	svÝ_v±ofh_¬gs
 {

1548 
vÝ_g’”ic_¬gs
 
	ma_g’
;

1549 
vnode
 *
	ma_vp
;

1550 
fid
 *
	ma_fhp
;

1553 
vnodeÝ_desc
 
vÝ_v±ofh_desc
;

1555 
VOP_VPTOFH_AP
(
vÝ_v±ofh_¬gs
 *);

1556 
VOP_VPTOFH_APV
(
vÝ_veùÜ
 *
vÝ
, 
vÝ_v±ofh_¬gs
 *);

1558 
__šlše
 
	$VOP_VPTOFH
(

1559 
vnode
 *
vp
,

1560 
fid
 *
fhp
)

1562 
vÝ_v±ofh_¬gs
 
a
;

1564 
a
.
a_g’
.
a_desc
 = &
vÝ_v±ofh_desc
;

1565 
a
.
a_vp
 = 
vp
;

1566 
a
.
a_fhp
 = 
fhp
;

1567  (
	`VOP_VPTOFH_APV
(
vp
->
v_Ý
, &
a
));

1568 
	}
}

1570 
	svÝ_v±oúp_¬gs
 {

1571 
vÝ_g’”ic_¬gs
 
	ma_g’
;

1572 
vnode
 *
	ma_vp
;

1573 
vnode
 **
	ma_vµ
;

1574 
uüed
 *
	ma_üed
;

1575 *
	ma_buf
;

1576 *
	ma_buæ’
;

1579 
vnodeÝ_desc
 
vÝ_v±oúp_desc
;

1581 
VOP_VPTOCNP_AP
(
vÝ_v±oúp_¬gs
 *);

1582 
VOP_VPTOCNP_APV
(
vÝ_veùÜ
 *
vÝ
, 
vÝ_v±oúp_¬gs
 *);

1584 
__šlše
 
	$VOP_VPTOCNP
(

1585 
vnode
 *
vp
,

1586 
vnode
 **
vµ
,

1587 
uüed
 *
üed
,

1588 *
buf
,

1589 *
buæ’
)

1591 
vÝ_v±oúp_¬gs
 
a
;

1593 
a
.
a_g’
.
a_desc
 = &
vÝ_v±oúp_desc
;

1594 
a
.
a_vp
 = 
vp
;

1595 
a
.
a_vµ
 = 
vµ
;

1596 
a
.
a_üed
 = 
üed
;

1597 
a
.
a_buf
 = 
buf
;

1598 
a
.
a_buæ’
 = 
buæ’
;

1599  (
	`VOP_VPTOCNP_APV
(
vp
->
v_Ý
, &
a
));

1600 
	}
}

1602 
	svÝ_®loÿ‹_¬gs
 {

1603 
vÝ_g’”ic_¬gs
 
	ma_g’
;

1604 
vnode
 *
	ma_vp
;

1605 
off_t
 *
	ma_off£t
;

1606 
off_t
 *
	ma_Ën
;

1609 
vnodeÝ_desc
 
vÝ_®loÿ‹_desc
;

1611 
VOP_ALLOCATE_AP
(
vÝ_®loÿ‹_¬gs
 *);

1612 
VOP_ALLOCATE_APV
(
vÝ_veùÜ
 *
vÝ
, 
vÝ_®loÿ‹_¬gs
 *);

1614 
__šlše
 
	$VOP_ALLOCATE
(

1615 
vnode
 *
vp
,

1616 
off_t
 *
off£t
,

1617 
off_t
 *
Ën
)

1619 
vÝ_®loÿ‹_¬gs
 
a
;

1621 
a
.
a_g’
.
a_desc
 = &
vÝ_®loÿ‹_desc
;

1622 
a
.
a_vp
 = 
vp
;

1623 
a
.
a_off£t
 = 
off£t
;

1624 
a
.
a_Ën
 = 
Ën
;

1625  (
	`VOP_ALLOCATE_APV
(
vp
->
v_Ý
, &
a
));

1626 
	}
}

1628 
	svÝ_advi£_¬gs
 {

1629 
vÝ_g’”ic_¬gs
 
	ma_g’
;

1630 
vnode
 *
	ma_vp
;

1631 
off_t
 
	ma_¡¬t
;

1632 
off_t
 
	ma_’d
;

1633 
	ma_adviû
;

1636 
vnodeÝ_desc
 
vÝ_advi£_desc
;

1638 
VOP_ADVISE_AP
(
vÝ_advi£_¬gs
 *);

1639 
VOP_ADVISE_APV
(
vÝ_veùÜ
 *
vÝ
, 
vÝ_advi£_¬gs
 *);

1641 
__šlše
 
	$VOP_ADVISE
(

1642 
vnode
 *
vp
,

1643 
off_t
 
¡¬t
,

1644 
off_t
 
’d
,

1645 
adviû
)

1647 
vÝ_advi£_¬gs
 
a
;

1649 
a
.
a_g’
.
a_desc
 = &
vÝ_advi£_desc
;

1650 
a
.
a_vp
 = 
vp
;

1651 
a
.
a_¡¬t
 = 
¡¬t
;

1652 
a
.
a_’d
 = 
’d
;

1653 
a
.
a_adviû
 = 
adviû
;

1654  (
	`VOP_ADVISE_APV
(
vp
->
v_Ý
, &
a
));

1655 
	}
}

1657 
	svÝ_uÅ_bšd_¬gs
 {

1658 
vÝ_g’”ic_¬gs
 
	ma_g’
;

1659 
vnode
 *
	ma_vp
;

1660 
uÅcb
 *
	ma_uÅcb
;

1663 
vnodeÝ_desc
 
vÝ_uÅ_bšd_desc
;

1665 
VOP_UNP_BIND_AP
(
vÝ_uÅ_bšd_¬gs
 *);

1666 
VOP_UNP_BIND_APV
(
vÝ_veùÜ
 *
vÝ
, 
vÝ_uÅ_bšd_¬gs
 *);

1668 
__šlše
 
	$VOP_UNP_BIND
(

1669 
vnode
 *
vp
,

1670 
uÅcb
 *unpcb)

1672 
vÝ_uÅ_bšd_¬gs
 
a
;

1674 
a
.
a_g’
.
a_desc
 = &
vÝ_uÅ_bšd_desc
;

1675 
a
.
a_vp
 = 
vp
;

1676 
a
.
a_uÅcb
 = 
uÅcb
;

1677  (
	`VOP_UNP_BIND_APV
(
vp
->
v_Ý
, &
a
));

1678 
	}
}

1680 
	svÝ_uÅ_cÚÃù_¬gs
 {

1681 
vÝ_g’”ic_¬gs
 
	ma_g’
;

1682 
vnode
 *
	ma_vp
;

1683 
uÅcb
 **
	ma_uÅcb
;

1686 
vnodeÝ_desc
 
vÝ_uÅ_cÚÃù_desc
;

1688 
VOP_UNP_CONNECT_AP
(
vÝ_uÅ_cÚÃù_¬gs
 *);

1689 
VOP_UNP_CONNECT_APV
(
vÝ_veùÜ
 *
vÝ
, 
vÝ_uÅ_cÚÃù_¬gs
 *);

1691 
__šlše
 
	$VOP_UNP_CONNECT
(

1692 
vnode
 *
vp
,

1693 
uÅcb
 **unpcb)

1695 
vÝ_uÅ_cÚÃù_¬gs
 
a
;

1697 
a
.
a_g’
.
a_desc
 = &
vÝ_uÅ_cÚÃù_desc
;

1698 
a
.
a_vp
 = 
vp
;

1699 
a
.
a_uÅcb
 = 
uÅcb
;

1700  (
	`VOP_UNP_CONNECT_APV
(
vp
->
v_Ý
, &
a
));

1701 
	}
}

1703 
	svÝ_uÅ_d‘ach_¬gs
 {

1704 
vÝ_g’”ic_¬gs
 
	ma_g’
;

1705 
vnode
 *
	ma_vp
;

1708 
vnodeÝ_desc
 
vÝ_uÅ_d‘ach_desc
;

1710 
VOP_UNP_DETACH_AP
(
vÝ_uÅ_d‘ach_¬gs
 *);

1711 
VOP_UNP_DETACH_APV
(
vÝ_veùÜ
 *
vÝ
, 
vÝ_uÅ_d‘ach_¬gs
 *);

1713 
__šlše
 
	$VOP_UNP_DETACH
(

1714 
vnode
 *
vp
)

1716 
vÝ_uÅ_d‘ach_¬gs
 
a
;

1718 
a
.
a_g’
.
a_desc
 = &
vÝ_uÅ_d‘ach_desc
;

1719 
a
.
a_vp
 = 
vp
;

1720  (
	`VOP_UNP_DETACH_APV
(
vp
->
v_Ý
, &
a
));

1721 
	}
}

1723 
	svÝ_is_‹xt_¬gs
 {

1724 
vÝ_g’”ic_¬gs
 
	ma_g’
;

1725 
vnode
 *
	ma_vp
;

1728 
vnodeÝ_desc
 
vÝ_is_‹xt_desc
;

1730 
VOP_IS_TEXT_AP
(
vÝ_is_‹xt_¬gs
 *);

1731 
VOP_IS_TEXT_APV
(
vÝ_veùÜ
 *
vÝ
, 
vÝ_is_‹xt_¬gs
 *);

1733 
__šlše
 
	$VOP_IS_TEXT
(

1734 
vnode
 *
vp
)

1736 
vÝ_is_‹xt_¬gs
 
a
;

1738 
a
.
a_g’
.
a_desc
 = &
vÝ_is_‹xt_desc
;

1739 
a
.
a_vp
 = 
vp
;

1740  (
	`VOP_IS_TEXT_APV
(
vp
->
v_Ý
, &
a
));

1741 
	}
}

1743 
	svÝ_£t_‹xt_¬gs
 {

1744 
vÝ_g’”ic_¬gs
 
	ma_g’
;

1745 
vnode
 *
	ma_vp
;

1748 
vnodeÝ_desc
 
vÝ_£t_‹xt_desc
;

1750 
VOP_SET_TEXT_AP
(
vÝ_£t_‹xt_¬gs
 *);

1751 
VOP_SET_TEXT_APV
(
vÝ_veùÜ
 *
vÝ
, 
vÝ_£t_‹xt_¬gs
 *);

1753 
__šlše
 
	$VOP_SET_TEXT
(

1754 
vnode
 *
vp
)

1756 
vÝ_£t_‹xt_¬gs
 
a
;

1758 
a
.
a_g’
.
a_desc
 = &
vÝ_£t_‹xt_desc
;

1759 
a
.
a_vp
 = 
vp
;

1760  (
	`VOP_SET_TEXT_APV
(
vp
->
v_Ý
, &
a
));

1761 
	}
}

1763 
	svÝ_un£t_‹xt_¬gs
 {

1764 
vÝ_g’”ic_¬gs
 
	ma_g’
;

1765 
vnode
 *
	ma_vp
;

1768 
vnodeÝ_desc
 
vÝ_un£t_‹xt_desc
;

1770 
VOP_UNSET_TEXT_AP
(
vÝ_un£t_‹xt_¬gs
 *);

1771 
VOP_UNSET_TEXT_APV
(
vÝ_veùÜ
 *
vÝ
, 
vÝ_un£t_‹xt_¬gs
 *);

1773 
__šlše
 
	$VOP_UNSET_TEXT
(

1774 
vnode
 *
vp
)

1776 
vÝ_un£t_‹xt_¬gs
 
a
;

1778 
a
.
a_g’
.
a_desc
 = &
vÝ_un£t_‹xt_desc
;

1779 
a
.
a_vp
 = 
vp
;

1780  (
	`VOP_UNSET_TEXT_APV
(
vp
->
v_Ý
, &
a
));

1781 
	}
}

1783 
	svÝ_g‘_wr™ecouÁ_¬gs
 {

1784 
vÝ_g’”ic_¬gs
 
	ma_g’
;

1785 
vnode
 *
	ma_vp
;

1786 *
	ma_wr™ecouÁ
;

1789 
vnodeÝ_desc
 
vÝ_g‘_wr™ecouÁ_desc
;

1791 
VOP_GET_WRITECOUNT_AP
(
vÝ_g‘_wr™ecouÁ_¬gs
 *);

1792 
VOP_GET_WRITECOUNT_APV
(
vÝ_veùÜ
 *
vÝ
, 
vÝ_g‘_wr™ecouÁ_¬gs
 *);

1794 
__šlše
 
	$VOP_GET_WRITECOUNT
(

1795 
vnode
 *
vp
,

1796 *
wr™ecouÁ
)

1798 
vÝ_g‘_wr™ecouÁ_¬gs
 
a
;

1800 
a
.
a_g’
.
a_desc
 = &
vÝ_g‘_wr™ecouÁ_desc
;

1801 
a
.
a_vp
 = 
vp
;

1802 
a
.
a_wr™ecouÁ
 = 
wr™ecouÁ
;

1803  (
	`VOP_GET_WRITECOUNT_APV
(
vp
->
v_Ý
, &
a
));

1804 
	}
}

1806 
	svÝ_add_wr™ecouÁ_¬gs
 {

1807 
vÝ_g’”ic_¬gs
 
	ma_g’
;

1808 
vnode
 *
	ma_vp
;

1809 
	ma_šc
;

1812 
vnodeÝ_desc
 
vÝ_add_wr™ecouÁ_desc
;

1814 
VOP_ADD_WRITECOUNT_AP
(
vÝ_add_wr™ecouÁ_¬gs
 *);

1815 
VOP_ADD_WRITECOUNT_APV
(
vÝ_veùÜ
 *
vÝ
, 
vÝ_add_wr™ecouÁ_¬gs
 *);

1817 
__šlše
 
	$VOP_ADD_WRITECOUNT
(

1818 
vnode
 *
vp
,

1819 
šc
)

1821 
vÝ_add_wr™ecouÁ_¬gs
 
a
;

1823 
a
.
a_g’
.
a_desc
 = &
vÝ_add_wr™ecouÁ_desc
;

1824 
a
.
a_vp
 = 
vp
;

1825 
a
.
a_šc
 = 
šc
;

1826  (
	`VOP_ADD_WRITECOUNT_APV
(
vp
->
v_Ý
, &
a
));

1827 
	}
}

1829 
	svÝ_fd©async_¬gs
 {

1830 
vÝ_g’”ic_¬gs
 
	ma_g’
;

1831 
vnode
 *
	ma_vp
;

1832 
th»ad
 *
	ma_td
;

1835 
vnodeÝ_desc
 
vÝ_fd©async_desc
;

1837 
VOP_FDATASYNC_AP
(
vÝ_fd©async_¬gs
 *);

1838 
VOP_FDATASYNC_APV
(
vÝ_veùÜ
 *
vÝ
, 
vÝ_fd©async_¬gs
 *);

1840 
__šlše
 
	$VOP_FDATASYNC
(

1841 
vnode
 *
vp
,

1842 
th»ad
 *
td
)

1844 
vÝ_fd©async_¬gs
 
a
;

1846 
a
.
a_g’
.
a_desc
 = &
vÝ_fd©async_desc
;

1847 
a
.
a_vp
 = 
vp
;

1848 
a
.
a_td
 = 
td
;

1849  (
	`VOP_FDATASYNC_APV
(
vp
->
v_Ý
, &
a
));

1850 
	}
}

1852 
	svÝ_¥¬e1_¬gs
 {

1853 
vÝ_g’”ic_¬gs
 
	ma_g’
;

1854 
vnode
 *
	ma_vp
;

1857 
vnodeÝ_desc
 
vÝ_¥¬e1_desc
;

1859 
VOP_SPARE1_AP
(
vÝ_¥¬e1_¬gs
 *);

1860 
VOP_SPARE1_APV
(
vÝ_veùÜ
 *
vÝ
, 
vÝ_¥¬e1_¬gs
 *);

1862 
__šlše
 
	$VOP_SPARE1
(

1863 
vnode
 *
vp
)

1865 
vÝ_¥¬e1_¬gs
 
a
;

1867 
a
.
a_g’
.
a_desc
 = &
vÝ_¥¬e1_desc
;

1868 
a
.
a_vp
 = 
vp
;

1869  (
	`VOP_SPARE1_APV
(
vp
->
v_Ý
, &
a
));

1870 
	}
}

1872 
	svÝ_¥¬e2_¬gs
 {

1873 
vÝ_g’”ic_¬gs
 
	ma_g’
;

1874 
vnode
 *
	ma_vp
;

1877 
vnodeÝ_desc
 
vÝ_¥¬e2_desc
;

1879 
VOP_SPARE2_AP
(
vÝ_¥¬e2_¬gs
 *);

1880 
VOP_SPARE2_APV
(
vÝ_veùÜ
 *
vÝ
, 
vÝ_¥¬e2_¬gs
 *);

1882 
__šlše
 
	$VOP_SPARE2
(

1883 
vnode
 *
vp
)

1885 
vÝ_¥¬e2_¬gs
 
a
;

1887 
a
.
a_g’
.
a_desc
 = &
vÝ_¥¬e2_desc
;

1888 
a
.
a_vp
 = 
vp
;

1889  (
	`VOP_SPARE2_APV
(
vp
->
v_Ý
, &
a
));

1890 
	}
}

1892 
	svÝ_¥¬e3_¬gs
 {

1893 
vÝ_g’”ic_¬gs
 
	ma_g’
;

1894 
vnode
 *
	ma_vp
;

1897 
vnodeÝ_desc
 
vÝ_¥¬e3_desc
;

1899 
VOP_SPARE3_AP
(
vÝ_¥¬e3_¬gs
 *);

1900 
VOP_SPARE3_APV
(
vÝ_veùÜ
 *
vÝ
, 
vÝ_¥¬e3_¬gs
 *);

1902 
__šlše
 
	$VOP_SPARE3
(

1903 
vnode
 *
vp
)

1905 
vÝ_¥¬e3_¬gs
 
a
;

1907 
a
.
a_g’
.
a_desc
 = &
vÝ_¥¬e3_desc
;

1908 
a
.
a_vp
 = 
vp
;

1909  (
	`VOP_SPARE3_APV
(
vp
->
v_Ý
, &
a
));

1910 
	}
}

1912 
	svÝ_¥¬e4_¬gs
 {

1913 
vÝ_g’”ic_¬gs
 
	ma_g’
;

1914 
vnode
 *
	ma_vp
;

1917 
vnodeÝ_desc
 
vÝ_¥¬e4_desc
;

1919 
VOP_SPARE4_AP
(
vÝ_¥¬e4_¬gs
 *);

1920 
VOP_SPARE4_APV
(
vÝ_veùÜ
 *
vÝ
, 
vÝ_¥¬e4_¬gs
 *);

1922 
__šlše
 
	$VOP_SPARE4
(

1923 
vnode
 *
vp
)

1925 
vÝ_¥¬e4_¬gs
 
a
;

1927 
a
.
a_g’
.
a_desc
 = &
vÝ_¥¬e4_desc
;

1928 
a
.
a_vp
 = 
vp
;

1929  (
	`VOP_SPARE4_APV
(
vp
->
v_Ý
, &
a
));

1930 
	}
}

1932 
	svÝ_¥¬e5_¬gs
 {

1933 
vÝ_g’”ic_¬gs
 
	ma_g’
;

1934 
vnode
 *
	ma_vp
;

1937 
vnodeÝ_desc
 
vÝ_¥¬e5_desc
;

1939 
VOP_SPARE5_AP
(
vÝ_¥¬e5_¬gs
 *);

1940 
VOP_SPARE5_APV
(
vÝ_veùÜ
 *
vÝ
, 
vÝ_¥¬e5_¬gs
 *);

1942 
__šlše
 
	$VOP_SPARE5
(

1943 
vnode
 *
vp
)

1945 
vÝ_¥¬e5_¬gs
 
a
;

1947 
a
.
a_g’
.
a_desc
 = &
vÝ_¥¬e5_desc
;

1948 
a
.
a_vp
 = 
vp
;

1949  (
	`VOP_SPARE5_APV
(
vp
->
v_Ý
, &
a
));

1950 
	}
}

	@src/nvidia/vnode_if_newproto.h

9 
	svÝ_veùÜ
 {

10 
vÝ_veùÜ
 *
	mvÝ_deçuÉ
;

11 
vÝ_by·ss_t
 *
	mvÝ_by·ss
;

12 
vÝ_i¦ocked_t
 *
	mvÝ_i¦ocked
;

13 
vÝ_lookup_t
 *
	mvÝ_lookup
;

14 
vÝ_ÿchedlookup_t
 *
	mvÝ_ÿchedlookup
;

15 
vÝ_ü—‹_t
 *
	mvÝ_ü—‹
;

16 
vÝ_wh™eout_t
 *
	mvÝ_wh™eout
;

17 
vÝ_mknod_t
 *
	mvÝ_mknod
;

18 
vÝ_Ý’_t
 *
	mvÝ_Ý’
;

19 
vÝ_þo£_t
 *
	mvÝ_þo£
;

20 
vÝ_acûss_t
 *
	mvÝ_acûss
;

21 
vÝ_acûssx_t
 *
	mvÝ_acûssx
;

22 
vÝ_g‘©Œ_t
 *
	mvÝ_g‘©Œ
;

23 
vÝ_£‰r_t
 *
	mvÝ_£‰r
;

24 
vÝ_m¬k©ime_t
 *
	mvÝ_m¬k©ime
;

25 
vÝ_»ad_t
 *
	mvÝ_»ad
;

26 
vÝ_wr™e_t
 *
	mvÝ_wr™e
;

27 
vÝ_ioùl_t
 *
	mvÝ_ioùl
;

28 
vÝ_pÞl_t
 *
	mvÝ_pÞl
;

29 
vÝ_kqfž‹r_t
 *
	mvÝ_kqfž‹r
;

30 
vÝ_»voke_t
 *
	mvÝ_»voke
;

31 
vÝ_fsync_t
 *
	mvÝ_fsync
;

32 
vÝ_»move_t
 *
	mvÝ_»move
;

33 
vÝ_lšk_t
 *
	mvÝ_lšk
;

34 
vÝ_»Çme_t
 *
	mvÝ_»Çme
;

35 
vÝ_mkdœ_t
 *
	mvÝ_mkdœ
;

36 
vÝ_rmdœ_t
 *
	mvÝ_rmdœ
;

37 
vÝ_symlšk_t
 *
	mvÝ_symlšk
;

38 
vÝ_»addœ_t
 *
	mvÝ_»addœ
;

39 
vÝ_»adlšk_t
 *
	mvÝ_»adlšk
;

40 
vÝ_šaùive_t
 *
	mvÝ_šaùive
;

41 
vÝ_»þaim_t
 *
	mvÝ_»þaim
;

42 
vÝ_lock1_t
 *
	mvÝ_lock1
;

43 
vÝ_uÆock_t
 *
	mvÝ_uÆock
;

44 
vÝ_bm­_t
 *
	mvÝ_bm­
;

45 
vÝ_¡¿‹gy_t
 *
	mvÝ_¡¿‹gy
;

46 
vÝ_g‘wr™emouÁ_t
 *
	mvÝ_g‘wr™emouÁ
;

47 
vÝ_´št_t
 *
	mvÝ_´št
;

48 
vÝ_·thcÚf_t
 *
	mvÝ_·thcÚf
;

49 
vÝ_advlock_t
 *
	mvÝ_advlock
;

50 
vÝ_advlockasync_t
 *
	mvÝ_advlockasync
;

51 
vÝ_advlockpurge_t
 *
	mvÝ_advlockpurge
;

52 
vÝ_»®locblks_t
 *
	mvÝ_»®locblks
;

53 
vÝ_g‘·ges_t
 *
	mvÝ_g‘·ges
;

54 
vÝ_g‘·ges_async_t
 *
	mvÝ_g‘·ges_async
;

55 
vÝ_puages_t
 *
	mvÝ_puages
;

56 
vÝ_g‘aþ_t
 *
	mvÝ_g‘aþ
;

57 
vÝ_£þ_t
 *
	mvÝ_£þ
;

58 
vÝ_aþcheck_t
 *
	mvÝ_aþcheck
;

59 
vÝ_þo£ex‰r_t
 *
	mvÝ_þo£ex‰r
;

60 
vÝ_g‘ex‰r_t
 *
	mvÝ_g‘ex‰r
;

61 
vÝ_li¡ex‰r_t
 *
	mvÝ_li¡ex‰r
;

62 
vÝ_Ý’ex‰r_t
 *
	mvÝ_Ý’ex‰r
;

63 
vÝ_d–‘“x‰r_t
 *
	mvÝ_d–‘“x‰r
;

64 
vÝ_£‹x‰r_t
 *
	mvÝ_£‹x‰r
;

65 
vÝ_£Žab–_t
 *
	mvÝ_£Žab–
;

66 
vÝ_v±ofh_t
 *
	mvÝ_v±ofh
;

67 
vÝ_v±oúp_t
 *
	mvÝ_v±oúp
;

68 
vÝ_®loÿ‹_t
 *
	mvÝ_®loÿ‹
;

69 
vÝ_advi£_t
 *
	mvÝ_advi£
;

70 
vÝ_uÅ_bšd_t
 *
	mvÝ_uÅ_bšd
;

71 
vÝ_uÅ_cÚÃù_t
 *
	mvÝ_uÅ_cÚÃù
;

72 
vÝ_uÅ_d‘ach_t
 *
	mvÝ_uÅ_d‘ach
;

73 
vÝ_is_‹xt_t
 *
	mvÝ_is_‹xt
;

74 
vÝ_£t_‹xt_t
 *
	mvÝ_£t_‹xt
;

75 
vÝ_un£t_‹xt_t
 *
	mvÝ_un£t_‹xt
;

76 
vÝ_g‘_wr™ecouÁ_t
 *
	mvÝ_g‘_wr™ecouÁ
;

77 
vÝ_add_wr™ecouÁ_t
 *
	mvÝ_add_wr™ecouÁ
;

78 
vÝ_fd©async_t
 *
	mvÝ_fd©async
;

79 
vÝ_¥¬e1_t
 *
	mvÝ_¥¬e1
;

80 
vÝ_¥¬e2_t
 *
	mvÝ_¥¬e2
;

81 
vÝ_¥¬e3_t
 *
	mvÝ_¥¬e3
;

82 
vÝ_¥¬e4_t
 *
	mvÝ_¥¬e4
;

83 
vÝ_¥¬e5_t
 *
	mvÝ_¥¬e5
;

	@src/nvidia/vnode_if_typedef.h

9 
	gvÝ_i¦ocked_¬gs
;

10 
	tvÝ_i¦ocked_t
(
	tvÝ_i¦ocked_¬gs
 *);

12 
	gvÝ_lookup_¬gs
;

13 
	tvÝ_lookup_t
(
	tvÝ_lookup_¬gs
 *);

15 
	gvÝ_ÿchedlookup_¬gs
;

16 
	tvÝ_ÿchedlookup_t
(
	tvÝ_ÿchedlookup_¬gs
 *);

18 
	gvÝ_ü—‹_¬gs
;

19 
	tvÝ_ü—‹_t
(
	tvÝ_ü—‹_¬gs
 *);

21 
	gvÝ_wh™eout_¬gs
;

22 
	tvÝ_wh™eout_t
(
	tvÝ_wh™eout_¬gs
 *);

24 
	gvÝ_mknod_¬gs
;

25 
	tvÝ_mknod_t
(
	tvÝ_mknod_¬gs
 *);

27 
	gvÝ_Ý’_¬gs
;

28 
	tvÝ_Ý’_t
(
	tvÝ_Ý’_¬gs
 *);

30 
	gvÝ_þo£_¬gs
;

31 
	tvÝ_þo£_t
(
	tvÝ_þo£_¬gs
 *);

33 
	gvÝ_acûss_¬gs
;

34 
	tvÝ_acûss_t
(
	tvÝ_acûss_¬gs
 *);

36 
	gvÝ_acûssx_¬gs
;

37 
	tvÝ_acûssx_t
(
	tvÝ_acûssx_¬gs
 *);

39 
	gvÝ_g‘©Œ_¬gs
;

40 
	tvÝ_g‘©Œ_t
(
	tvÝ_g‘©Œ_¬gs
 *);

42 
	gvÝ_£‰r_¬gs
;

43 
	tvÝ_£‰r_t
(
	tvÝ_£‰r_¬gs
 *);

45 
	gvÝ_m¬k©ime_¬gs
;

46 
	tvÝ_m¬k©ime_t
(
	tvÝ_m¬k©ime_¬gs
 *);

48 
	gvÝ_»ad_¬gs
;

49 
	tvÝ_»ad_t
(
	tvÝ_»ad_¬gs
 *);

51 
	gvÝ_wr™e_¬gs
;

52 
	tvÝ_wr™e_t
(
	tvÝ_wr™e_¬gs
 *);

54 
	gvÝ_ioùl_¬gs
;

55 
	tvÝ_ioùl_t
(
	tvÝ_ioùl_¬gs
 *);

57 
	gvÝ_pÞl_¬gs
;

58 
	tvÝ_pÞl_t
(
	tvÝ_pÞl_¬gs
 *);

60 
	gvÝ_kqfž‹r_¬gs
;

61 
	tvÝ_kqfž‹r_t
(
	tvÝ_kqfž‹r_¬gs
 *);

63 
	gvÝ_»voke_¬gs
;

64 
	tvÝ_»voke_t
(
	tvÝ_»voke_¬gs
 *);

66 
	gvÝ_fsync_¬gs
;

67 
	tvÝ_fsync_t
(
	tvÝ_fsync_¬gs
 *);

69 
	gvÝ_»move_¬gs
;

70 
	tvÝ_»move_t
(
	tvÝ_»move_¬gs
 *);

72 
	gvÝ_lšk_¬gs
;

73 
	tvÝ_lšk_t
(
	tvÝ_lšk_¬gs
 *);

75 
	gvÝ_»Çme_¬gs
;

76 
	tvÝ_»Çme_t
(
	tvÝ_»Çme_¬gs
 *);

78 
	gvÝ_mkdœ_¬gs
;

79 
	tvÝ_mkdœ_t
(
	tvÝ_mkdœ_¬gs
 *);

81 
	gvÝ_rmdœ_¬gs
;

82 
	tvÝ_rmdœ_t
(
	tvÝ_rmdœ_¬gs
 *);

84 
	gvÝ_symlšk_¬gs
;

85 
	tvÝ_symlšk_t
(
	tvÝ_symlšk_¬gs
 *);

87 
	gvÝ_»addœ_¬gs
;

88 
	tvÝ_»addœ_t
(
	tvÝ_»addœ_¬gs
 *);

90 
	gvÝ_»adlšk_¬gs
;

91 
	tvÝ_»adlšk_t
(
	tvÝ_»adlšk_¬gs
 *);

93 
	gvÝ_šaùive_¬gs
;

94 
	tvÝ_šaùive_t
(
	tvÝ_šaùive_¬gs
 *);

96 
	gvÝ_»þaim_¬gs
;

97 
	tvÝ_»þaim_t
(
	tvÝ_»þaim_¬gs
 *);

99 
	gvÝ_lock1_¬gs
;

100 
	tvÝ_lock1_t
(
	tvÝ_lock1_¬gs
 *);

102 
	gvÝ_uÆock_¬gs
;

103 
	tvÝ_uÆock_t
(
	tvÝ_uÆock_¬gs
 *);

105 
	gvÝ_bm­_¬gs
;

106 
	tvÝ_bm­_t
(
	tvÝ_bm­_¬gs
 *);

108 
	gvÝ_¡¿‹gy_¬gs
;

109 
	tvÝ_¡¿‹gy_t
(
	tvÝ_¡¿‹gy_¬gs
 *);

111 
	gvÝ_g‘wr™emouÁ_¬gs
;

112 
	tvÝ_g‘wr™emouÁ_t
(
	tvÝ_g‘wr™emouÁ_¬gs
 *);

114 
	gvÝ_´št_¬gs
;

115 
	tvÝ_´št_t
(
	tvÝ_´št_¬gs
 *);

117 
	gvÝ_·thcÚf_¬gs
;

118 
	tvÝ_·thcÚf_t
(
	tvÝ_·thcÚf_¬gs
 *);

120 
	gvÝ_advlock_¬gs
;

121 
	tvÝ_advlock_t
(
	tvÝ_advlock_¬gs
 *);

123 
	gvÝ_advlockasync_¬gs
;

124 
	tvÝ_advlockasync_t
(
	tvÝ_advlockasync_¬gs
 *);

126 
	gvÝ_advlockpurge_¬gs
;

127 
	tvÝ_advlockpurge_t
(
	tvÝ_advlockpurge_¬gs
 *);

129 
	gvÝ_»®locblks_¬gs
;

130 
	tvÝ_»®locblks_t
(
	tvÝ_»®locblks_¬gs
 *);

132 
	gvÝ_g‘·ges_¬gs
;

133 
	tvÝ_g‘·ges_t
(
	tvÝ_g‘·ges_¬gs
 *);

135 
	gvÝ_g‘·ges_async_¬gs
;

136 
	tvÝ_g‘·ges_async_t
(
	tvÝ_g‘·ges_async_¬gs
 *);

138 
	gvÝ_puages_¬gs
;

139 
	tvÝ_puages_t
(
	tvÝ_puages_¬gs
 *);

141 
	gvÝ_g‘aþ_¬gs
;

142 
	tvÝ_g‘aþ_t
(
	tvÝ_g‘aþ_¬gs
 *);

144 
	gvÝ_£þ_¬gs
;

145 
	tvÝ_£þ_t
(
	tvÝ_£þ_¬gs
 *);

147 
	gvÝ_aþcheck_¬gs
;

148 
	tvÝ_aþcheck_t
(
	tvÝ_aþcheck_¬gs
 *);

150 
	gvÝ_þo£ex‰r_¬gs
;

151 
	tvÝ_þo£ex‰r_t
(
	tvÝ_þo£ex‰r_¬gs
 *);

153 
	gvÝ_g‘ex‰r_¬gs
;

154 
	tvÝ_g‘ex‰r_t
(
	tvÝ_g‘ex‰r_¬gs
 *);

156 
	gvÝ_li¡ex‰r_¬gs
;

157 
	tvÝ_li¡ex‰r_t
(
	tvÝ_li¡ex‰r_¬gs
 *);

159 
	gvÝ_Ý’ex‰r_¬gs
;

160 
	tvÝ_Ý’ex‰r_t
(
	tvÝ_Ý’ex‰r_¬gs
 *);

162 
	gvÝ_d–‘“x‰r_¬gs
;

163 
	tvÝ_d–‘“x‰r_t
(
	tvÝ_d–‘“x‰r_¬gs
 *);

165 
	gvÝ_£‹x‰r_¬gs
;

166 
	tvÝ_£‹x‰r_t
(
	tvÝ_£‹x‰r_¬gs
 *);

168 
	gvÝ_£Žab–_¬gs
;

169 
	tvÝ_£Žab–_t
(
	tvÝ_£Žab–_¬gs
 *);

171 
	gvÝ_v±ofh_¬gs
;

172 
	tvÝ_v±ofh_t
(
	tvÝ_v±ofh_¬gs
 *);

174 
	gvÝ_v±oúp_¬gs
;

175 
	tvÝ_v±oúp_t
(
	tvÝ_v±oúp_¬gs
 *);

177 
	gvÝ_®loÿ‹_¬gs
;

178 
	tvÝ_®loÿ‹_t
(
	tvÝ_®loÿ‹_¬gs
 *);

180 
	gvÝ_advi£_¬gs
;

181 
	tvÝ_advi£_t
(
	tvÝ_advi£_¬gs
 *);

183 
	gvÝ_uÅ_bšd_¬gs
;

184 
	tvÝ_uÅ_bšd_t
(
	tvÝ_uÅ_bšd_¬gs
 *);

186 
	gvÝ_uÅ_cÚÃù_¬gs
;

187 
	tvÝ_uÅ_cÚÃù_t
(
	tvÝ_uÅ_cÚÃù_¬gs
 *);

189 
	gvÝ_uÅ_d‘ach_¬gs
;

190 
	tvÝ_uÅ_d‘ach_t
(
	tvÝ_uÅ_d‘ach_¬gs
 *);

192 
	gvÝ_is_‹xt_¬gs
;

193 
	tvÝ_is_‹xt_t
(
	tvÝ_is_‹xt_¬gs
 *);

195 
	gvÝ_£t_‹xt_¬gs
;

196 
	tvÝ_£t_‹xt_t
(
	tvÝ_£t_‹xt_¬gs
 *);

198 
	gvÝ_un£t_‹xt_¬gs
;

199 
	tvÝ_un£t_‹xt_t
(
	tvÝ_un£t_‹xt_¬gs
 *);

201 
	gvÝ_g‘_wr™ecouÁ_¬gs
;

202 
	tvÝ_g‘_wr™ecouÁ_t
(
	tvÝ_g‘_wr™ecouÁ_¬gs
 *);

204 
	gvÝ_add_wr™ecouÁ_¬gs
;

205 
	tvÝ_add_wr™ecouÁ_t
(
	tvÝ_add_wr™ecouÁ_¬gs
 *);

207 
	gvÝ_fd©async_¬gs
;

208 
	tvÝ_fd©async_t
(
	tvÝ_fd©async_¬gs
 *);

210 
	gvÝ_¥¬e1_¬gs
;

211 
	tvÝ_¥¬e1_t
(
	tvÝ_¥¬e1_¬gs
 *);

213 
	gvÝ_¥¬e2_¬gs
;

214 
	tvÝ_¥¬e2_t
(
	tvÝ_¥¬e2_¬gs
 *);

216 
	gvÝ_¥¬e3_¬gs
;

217 
	tvÝ_¥¬e3_t
(
	tvÝ_¥¬e3_¬gs
 *);

219 
	gvÝ_¥¬e4_¬gs
;

220 
	tvÝ_¥¬e4_t
(
	tvÝ_¥¬e4_¬gs
 *);

222 
	gvÝ_¥¬e5_¬gs
;

223 
	tvÝ_¥¬e5_t
(
	tvÝ_¥¬e5_¬gs
 *);

	@/usr/include/dev/hwpmc/hwpmc_amd.h

33 #iâdeà
_DEV_HWPMC_AMD_H_


34 
	#_DEV_HWPMC_AMD_H_
 1

	)

38 
	#AMD_PMC_EVSEL_0
 0xC0010000

	)

39 
	#AMD_PMC_EVSEL_1
 0xC0010001

	)

40 
	#AMD_PMC_EVSEL_2
 0xC0010002

	)

41 
	#AMD_PMC_EVSEL_3
 0xC0010003

	)

43 
	#AMD_PMC_PERFCTR_0
 0xC0010004

	)

44 
	#AMD_PMC_PERFCTR_1
 0xC0010005

	)

45 
	#AMD_PMC_PERFCTR_2
 0xC0010006

	)

46 
	#AMD_PMC_PERFCTR_3
 0xC0010007

	)

48 
	#AMD_PMC_EVSEL_4
 0xC0010208

	)

49 
	#AMD_PMC_EVSEL_5
 0xC001020A

	)

51 
	#AMD_PMC_PERFCTR_4
 0xC0010209

	)

52 
	#AMD_PMC_PERFCTR_5
 0xC001020B

	)

54 
	#AMD_PMC_EVSEL_EP_L3_0
 0xC0010230

	)

55 
	#AMD_PMC_EVSEL_EP_L3_1
 0xC0010232

	)

56 
	#AMD_PMC_EVSEL_EP_L3_2
 0xC0010234

	)

57 
	#AMD_PMC_EVSEL_EP_L3_3
 0xC0010236

	)

58 
	#AMD_PMC_EVSEL_EP_L3_4
 0xC0010238

	)

59 
	#AMD_PMC_EVSEL_EP_L3_5
 0xC001023A

	)

61 
	#AMD_PMC_PERFCTR_EP_L3_0
 0xC0010231

	)

62 
	#AMD_PMC_PERFCTR_EP_L3_1
 0xC0010233

	)

63 
	#AMD_PMC_PERFCTR_EP_L3_2
 0xC0010235

	)

64 
	#AMD_PMC_PERFCTR_EP_L3_3
 0xC0010237

	)

65 
	#AMD_PMC_PERFCTR_EP_L3_4
 0xC0010239

	)

66 
	#AMD_PMC_PERFCTR_EP_L3_5
 0xC001023B

	)

68 
	#AMD_PMC_EVSEL_EP_DF_0
 0xC0010240

	)

69 
	#AMD_PMC_EVSEL_EP_DF_1
 0xC0010242

	)

70 
	#AMD_PMC_EVSEL_EP_DF_2
 0xC0010244

	)

71 
	#AMD_PMC_EVSEL_EP_DF_3
 0xC0010246

	)

73 
	#AMD_PMC_PERFCTR_EP_DF_0
 0xC0010241

	)

74 
	#AMD_PMC_PERFCTR_EP_DF_1
 0xC0010243

	)

75 
	#AMD_PMC_PERFCTR_EP_DF_2
 0xC0010245

	)

76 
	#AMD_PMC_PERFCTR_EP_DF_3
 0xC0010247

	)

78 
	#AMD_NPMCS
 16

	)

81 
	#AMD_PMC_COUNTERMASK
 0xFF000000

	)

82 
	#AMD_PMC_TO_COUNTER
(
x
è(((xè<< 24è& 
AMD_PMC_COUNTERMASK
)

	)

83 
	#AMD_PMC_INVERT
 (1 << 23)

	)

84 
	#AMD_PMC_ENABLE
 (1 << 22)

	)

85 
	#AMD_PMC_INT
 (1 << 20)

	)

86 
	#AMD_PMC_PC
 (1 << 19)

	)

87 
	#AMD_PMC_EDGE
 (1 << 18)

	)

88 
	#AMD_PMC_OS
 (1 << 17)

	)

89 
	#AMD_PMC_USR
 (1 << 16)

	)

90 
	#AMD_PMC_L3SLICEMASK
 (0x000F000000000000)

	)

91 
	#AMD_PMC_L3COREMASK
 (0xFF00000000000000)

	)

92 
	#AMD_PMC_TO_L3SLICE
(
x
è(((xè<< 48è& 
AMD_PMC_L3SLICEMASK
)

	)

93 
	#AMD_PMC_TO_L3CORE
(
x
è(((xè<< 56è& 
AMD_PMC_L3COREMASK
)

	)

95 
	#AMD_PMC_UNITMASK_M
 0x10

	)

96 
	#AMD_PMC_UNITMASK_O
 0x08

	)

97 
	#AMD_PMC_UNITMASK_E
 0x04

	)

98 
	#AMD_PMC_UNITMASK_S
 0x02

	)

99 
	#AMD_PMC_UNITMASK_I
 0x01

	)

100 
	#AMD_PMC_UNITMASK_MOESI
 0x1F

	)

102 
	#AMD_PMC_UNITMASK
 0xFF00

	)

103 
	#AMD_PMC_EVENTMASK
 0xF000000FF

	)

105 
	#AMD_PMC_TO_UNITMASK
(
x
è(((xè<< 8è& 
AMD_PMC_UNITMASK
)

	)

106 
	#AMD_PMC_TO_EVENTMASK
(
x
è(((xè& 0xFFè| (((
ušt64_t
)(xè& 0xF00è<< 24))

	)

107 
	#AMD_PMC_TO_EVENTMASK_DF
(
x
è(((xè& 0xFFè| (((
ušt64_t
)(xè& 0x0F00è<< 24)è| (((ušt64_t)(xè& 0x3000è<< 47)

	)

108 
	#AMD_VALID_BITS
 (
AMD_PMC_COUNTERMASK
 | 
AMD_PMC_INVERT
 | \

109 
AMD_PMC_ENABLE
 | 
AMD_PMC_INT
 | 
AMD_PMC_PC
 | 
AMD_PMC_EDGE
 | \

110 
AMD_PMC_OS
 | 
AMD_PMC_USR
 | 
AMD_PMC_UNITMASK
 | 
AMD_PMC_EVENTMASK
)

	)

112 
	#AMD_PMC_CAPS
 (
PMC_CAP_INTERRUPT
 | 
PMC_CAP_USER
 | \

113 
PMC_CAP_SYSTEM
 | 
PMC_CAP_EDGE
 | 
PMC_CAP_THRESHOLD
 | \

114 
PMC_CAP_READ
 | 
PMC_CAP_WRITE
 | 
PMC_CAP_INVERT
 | 
PMC_CAP_QUALIFIER
)

	)

116 
	#AMD_PMC_IS_STOPPED
(
ev£l
è((
	`rdm¤
(Óv£l)è& 
AMD_PMC_ENABLE
è=ð0)

	)

117 
	#AMD_PMC_HAS_OVERFLOWED
(
pmc
è((
	`rdpmc
Õmcè& (1ULL << 47)è=ð0)

	)

119 
	#AMD_RELOAD_COUNT_TO_PERFCTR_VALUE
(
V
è(-(V))

	)

120 
	#AMD_PERFCTR_VALUE_TO_RELOAD_COUNT
(
P
è(-(P))

	)

122 
	esub_þass
{

123 
	mPMC_AMD_SUB_CLASS_CORE
,

124 
	mPMC_AMD_SUB_CLASS_L3_CACHE
,

125 
	mPMC_AMD_SUB_CLASS_DATA_FABRIC


128 
	spmc_md_amd_Ý_pmÿÎoÿ‹
 {

129 
ušt64_t
 
	mpm_amd_cÚfig
;

130 
ušt32_t
 
	mpm_amd_sub_þass
;

133 #ifdeà
_KERNEL


136 
	spmc_md_amd_pmc
 {

137 
ušt64_t
 
	mpm_amd_ev£l
;

	@/usr/include/dev/hwpmc/hwpmc_core.h

31 #iâdeà
_DEV_HWPMC_CORE_H_


32 
	#_DEV_HWPMC_CORE_H_
 1

	)

34 
	#IA32_PERF_CAPABILITIES
 0x345

	)

35 
	#PERFCAP_LBR_FORMAT
 0x003f

	)

36 
	#PERFCAP_PEBS_TRAP
 0x0040

	)

37 
	#PERFCAP_PEBS_SAVEARCH
 0x0080

	)

38 
	#PERFCAP_PEBS_RECFORMAT
 0x0f00

	)

39 
	#PERFCAP_SMM_FREEZE
 0x1000

	)

40 
	#PERFCAP_FW_WRITE
 0x2000

	)

42 
	#IAF_OS
 0x1

	)

43 
	#IAF_USR
 0x2

	)

44 
	#IAF_ANY
 0x4

	)

45 
	#IAF_PMI
 0x8

	)

50 
	spmc_md_Ÿp_Ý_pmÿÎoÿ‹
 {

51 
ušt32_t
 
	mpm_Ÿp_cÚfig
;

52 
ušt64_t
 
	mpm_Ÿp_r¥
;

55 
	#IAP_EVSEL
(
C
è((Cè& 0xFF)

	)

56 
	#IAP_UMASK
(
C
è(((Cè& 0xFFè<< 8)

	)

57 
	#IAP_USR
 (1 << 16)

	)

58 
	#IAP_OS
 (1 << 17)

	)

59 
	#IAP_EDGE
 (1 << 18)

	)

60 
	#IAP_INT
 (1 << 20)

	)

61 
	#IAP_ANY
 (1 << 21)

	)

62 
	#IAP_EN
 (1 << 22)

	)

63 
	#IAP_INV
 (1 << 23)

	)

64 
	#IAP_CMASK
(
C
è(((Cè& 0xFFè<< 24)

	)

66 
	#IAP_EVSEL_GET
(
C
è((Cè& 0xFF)

	)

67 
	#IAP_UMASK_GET
(
C
è(((Cè& 0xFF00è>> 8)

	)

69 
	#IA_OFFCORE_RSP_MASK_I7WM
 0x000000F7FF

	)

70 
	#IA_OFFCORE_RSP_MASK_SBIB
 0x3F807F8FFF

	)

72 #ifdef 
_KERNEL


78 
	#IAF_MASK
 0xF

	)

80 
	#IAF_COUNTER_MASK
 0x0000ffffffffffff

	)

81 
	#IAF_CTR0
 0x309

	)

82 
	#IAF_CTR1
 0x30A

	)

83 
	#IAF_CTR2
 0x30B

	)

101 
	#IAF_OFFSET
 32

	)

102 
	#IAF_CTRL
 0x38D

	)

103 
	#IAF_CTRL_MASK
 0x0000000000000bbb

	)

109 
	#IAP_PMC0
 0x0C1

	)

110 
	#IAP_A_PMC0
 0x4C1

	)

130 
	#IAP_EVSEL_MASK
 0x00000000ffdfffff

	)

131 
	#IAP_EVSEL0
 0x186

	)

138 
	#IA_GLOBAL_STATUS
 0x38E

	)

139 
	#IA_GLOBAL_CTRL
 0x38F

	)

153 
	#IAF_GLOBAL_CTRL_MASK
 0x0000000700000000

	)

156 
	#IAP_GLOBAL_CTRL_MASK
 0x00000000ffffffff

	)

159 
	#IA_GLOBAL_CTRL_MASK
 0x00000007ffffffff

	)

161 
	#IA_GLOBAL_OVF_CTRL
 0x390

	)

163 
	#IA_GLOBAL_STATUS_FLAG_CONDCHG
 (1ULL << 63)

	)

164 
	#IA_GLOBAL_STATUS_FLAG_OVFBUF
 (1ULL << 62)

	)

169 
	#IA_OFFCORE_RSP0
 0x1A6

	)

170 
	#IA_OFFCORE_RSP1
 0x1A7

	)

172 
	spmc_md_Ÿf_pmc
 {

173 
ušt64_t
 
	mpm_Ÿf_ù¾
;

176 
	spmc_md_Ÿp_pmc
 {

177 
ušt32_t
 
	mpm_Ÿp_ev£l
;

178 
ušt64_t
 
	mpm_Ÿp_r¥
;

185 
pmc_cÜe_š™Ÿlize
(
pmc_md•
 *
_md
, 
_maxýu
,

186 
_v”siÚ_ov”ride
);

187 
pmc_cÜe_fš®ize
(
pmc_md•
 *
_md
);

189 
pmc_Ÿf_š™Ÿlize
(
pmc_md•
 *
_md
, 
_maxýu
, 
_Åmc
, 
_width
);

190 
pmc_Ÿf_fš®ize
(
pmc_md•
 *
_md
);

192 
pmc_Ÿp_š™Ÿlize
(
pmc_md•
 *
_md
, 
_maxýu
, 
_Åmc
, 
_width
,

193 
_æags
);

194 
pmc_Ÿp_fš®ize
(
pmc_md•
 *
_md
);

	@/usr/include/dev/hwpmc/hwpmc_tsc.h

31 #iâdeà
_DEV_HWPMC_TSC_H_


32 
	#_DEV_HWPMC_TSC_H_
 1

	)

34 #ifdef 
_KERNEL


36 
	#TSC_NPMCS
 1

	)

42 
pmc_tsc_š™Ÿlize
(
pmc_md•
 *
_md
, 
_maxýu
);

43 
pmc_tsc_fš®ize
(
pmc_md•
 *
_md
);

	@/usr/include/dev/hwpmc/hwpmc_uncore.h

31 #iâdeà
_DEV_HWPMC_UNCORE_H_


32 
	#_DEV_HWPMC_UNCORE_H_
 1

	)

37 
	spmc_md_ucf_Ý_pmÿÎoÿ‹
 {

38 
ušt16_t
 
	mpm_ucf_æags
;

41 
	#UCF_EN
 0x1

	)

42 
	#UCF_PMI
 0x4

	)

47 
	spmc_md_uý_Ý_pmÿÎoÿ‹
 {

48 
ušt32_t
 
	mpm_uý_cÚfig
;

51 
	#UCP_EVSEL
(
C
è((Cè& 0xFF)

	)

52 
	#UCP_UMASK
(
C
è((Cè& 0xFF00)

	)

53 
	#UCP_CTRR
 (1 << 17)

	)

54 
	#UCP_EDGE
 (1 << 18)

	)

55 
	#UCP_INT
 (1 << 20)

	)

56 
	#UCP_EN
 (1 << 22)

	)

57 
	#UCP_INV
 (1 << 23)

	)

58 
	#UCP_CMASK
(
C
è(((Cè& 0xFFè<< 24)

	)

59 #ifdef 
_KERNEL


61 
	#DCTL_FLAG_UNC_PMI
 (1ULL << 13)

	)

67 
	#UCF_MASK
 0xF

	)

69 
	#UCF_CTR0
 0x394

	)

71 
	#UCF_OFFSET
 32

	)

72 
	#UCF_OFFSET_SB
 29

	)

73 
	#UCF_CTRL
 0x395

	)

79 
	#UCP_PMC0
 0x3B0

	)

80 
	#UCP_EVSEL0
 0x3C0

	)

81 
	#UCP_OPCODE_MATCH
 0x396

	)

82 
	#UCP_CB0_EVSEL0
 0x700

	)

89 
	#UC_GLOBAL_STATUS
 0x392

	)

90 
	#UC_GLOBAL_CTRL
 0x391

	)

91 
	#UC_GLOBAL_OVF_CTRL
 0x393

	)

93 
	#UC_GLOBAL_STATUS_FLAG_CLRCHG
 (1ULL << 63)

	)

94 
	#UC_GLOBAL_STATUS_FLAG_OVFPMI
 (1ULL << 61)

	)

95 
	#UC_GLOBAL_CTRL_FLAG_FRZ
 (1ULL << 63)

	)

96 
	#UC_GLOBAL_CTRL_FLAG_ENPMICORE0
 (1ULL << 48)

	)

102 
	#MSR_GQ_SNOOP_MESF
 0x301

	)

104 
	spmc_md_ucf_pmc
 {

105 
ušt64_t
 
	mpm_ucf_ù¾
;

108 
	spmc_md_uý_pmc
 {

109 
ušt32_t
 
	mpm_uý_ev£l
;

116 
pmc_uncÜe_š™Ÿlize
(
pmc_md•
 *
_md
, 
_maxýu
);

117 
pmc_uncÜe_fš®ize
(
pmc_md•
 *
_md
);

119 
pmc_ucf_š™Ÿlize
(
pmc_md•
 *
_md
, 
_maxýu
, 
_Åmc
, 
_width
);

120 
pmc_ucf_fš®ize
(
pmc_md•
 *
_md
);

122 
pmc_uý_š™Ÿlize
(
pmc_md•
 *
_md
, 
_maxýu
, 
_Åmc
, 
_width
,

123 
_æags
);

124 
pmc_uý_fš®ize
(
pmc_md•
 *
_md
);

	@/usr/include/dev/ic/i8253reg.h

63 
	#TIMER_REG_CNTR0
 0

	)

64 
	#TIMER_REG_CNTR1
 1

	)

65 
	#TIMER_REG_CNTR2
 2

	)

66 
	#TIMER_REG_MODE
 3

	)

67 
	#TIMER_SEL0
 0x00

	)

68 
	#TIMER_SEL1
 0x40

	)

69 
	#TIMER_SEL2
 0x80

	)

70 
	#TIMER_INTTC
 0x00

	)

71 
	#TIMER_ONESHOT
 0x02

	)

72 
	#TIMER_RATEGEN
 0x04

	)

73 
	#TIMER_SQWAVE
 0x06

	)

74 
	#TIMER_SWSTROBE
 0x08

	)

75 
	#TIMER_HWSTROBE
 0x0¨

	)

76 
	#TIMER_LATCH
 0x00

	)

77 
	#TIMER_LSB
 0x10

	)

78 
	#TIMER_MSB
 0x20

	)

79 
	#TIMER_16BIT
 0x30

	)

80 
	#TIMER_BCD
 0x01

	)

	@/usr/include/dev/pci/pcireg.h

45 
	#PCI_DOMAINMAX
 65535

	)

46 
	#PCI_BUSMAX
 255

	)

47 
	#PCI_SLOTMAX
 31

	)

48 
	#PCI_FUNCMAX
 7

	)

49 
	#PCI_REGMAX
 255

	)

50 
	#PCIE_REGMAX
 4095

	)

51 
	#PCI_MAXHDRTYPE
 2

	)

53 
	#PCIE_ARI_SLOTMAX
 0

	)

54 
	#PCIE_ARI_FUNCMAX
 255

	)

56 
	#PCI_RID_DOMAIN_SHIFT
 16

	)

57 
	#PCI_RID_BUS_SHIFT
 8

	)

58 
	#PCI_RID_SLOT_SHIFT
 3

	)

59 
	#PCI_RID_FUNC_SHIFT
 0

	)

61 
	#PCI_RID
(
bus
, 
¦Ù
, 
func
) \

62 ((((
bus
è& 
PCI_BUSMAX
è<< 
PCI_RID_BUS_SHIFT
) | \

63 (((
¦Ù
è& 
PCI_SLOTMAX
è<< 
PCI_RID_SLOT_SHIFT
) | \

64 (((
func
è& 
PCI_FUNCMAX
è<< 
PCI_RID_FUNC_SHIFT
))

	)

66 
	#PCI_ARI_RID
(
bus
, 
func
) \

67 ((((
bus
è& 
PCI_BUSMAX
è<< 
PCI_RID_BUS_SHIFT
) | \

68 (((
func
è& 
PCIE_ARI_FUNCMAX
è<< 
PCI_RID_FUNC_SHIFT
))

	)

70 
	#PCI_RID2BUS
(
rid
è((Ôidè>> 
PCI_RID_BUS_SHIFT
è& 
PCI_BUSMAX
)

	)

71 
	#PCI_RID2SLOT
(
rid
è((Ôidè>> 
PCI_RID_SLOT_SHIFT
è& 
PCI_SLOTMAX
)

	)

72 
	#PCI_RID2FUNC
(
rid
è((Ôidè>> 
PCI_RID_FUNC_SHIFT
è& 
PCI_FUNCMAX
)

	)

74 
	#PCIE_ARI_RID2SLOT
(
rid
è(0)

	)

75 
	#PCIE_ARI_RID2FUNC
(
rid
) \

76 (((
rid
è>> 
PCI_RID_FUNC_SHIFT
è& 
PCIE_ARI_FUNCMAX
)

	)

78 
	#PCIE_ARI_SLOT
(
func
è(((funcè>> 
PCI_RID_SLOT_SHIFT
è& 
PCI_SLOTMAX
)

	)

79 
	#PCIE_ARI_FUNC
(
func
è(((funcè>> 
PCI_RID_FUNC_SHIFT
è& 
PCI_FUNCMAX
)

	)

83 
	#PCIR_DEVVENDOR
 0x00

	)

84 
	#PCIR_VENDOR
 0x00

	)

85 
	#PCIR_DEVICE
 0x02

	)

86 
	#PCIR_COMMAND
 0x04

	)

87 
	#PCIM_CMD_PORTEN
 0x0001

	)

88 
	#PCIM_CMD_MEMEN
 0x0002

	)

89 
	#PCIM_CMD_BUSMASTEREN
 0x0004

	)

90 
	#PCIM_CMD_SPECIALEN
 0x0008

	)

91 
	#PCIM_CMD_MWRICEN
 0x0010

	)

92 
	#PCIM_CMD_PERRESPEN
 0x0040

	)

93 
	#PCIM_CMD_SERRESPEN
 0x0100

	)

94 
	#PCIM_CMD_BACKTOBACK
 0x0200

	)

95 
	#PCIM_CMD_INTxDIS
 0x0400

	)

96 
	#PCIR_STATUS
 0x06

	)

97 
	#PCIM_STATUS_INTxSTATE
 0x0008

	)

98 
	#PCIM_STATUS_CAPPRESENT
 0x0010

	)

99 
	#PCIM_STATUS_66CAPABLE
 0x0020

	)

100 
	#PCIM_STATUS_BACKTOBACK
 0x0080

	)

101 
	#PCIM_STATUS_MDPERR
 0x0100

	)

102 
	#PCIM_STATUS_SEL_FAST
 0x0000

	)

103 
	#PCIM_STATUS_SEL_MEDIMUM
 0x0200

	)

104 
	#PCIM_STATUS_SEL_SLOW
 0x0400

	)

105 
	#PCIM_STATUS_SEL_MASK
 0x0600

	)

106 
	#PCIM_STATUS_STABORT
 0x0800

	)

107 
	#PCIM_STATUS_RTABORT
 0x1000

	)

108 
	#PCIM_STATUS_RMABORT
 0x2000

	)

109 
	#PCIM_STATUS_SERR
 0x4000

	)

110 
	#PCIM_STATUS_PERR
 0x8000

	)

111 
	#PCIR_REVID
 0x08

	)

112 
	#PCIR_PROGIF
 0x09

	)

113 
	#PCIR_SUBCLASS
 0x0a

	)

114 
	#PCIR_CLASS
 0x0b

	)

115 
	#PCIR_CACHELNSZ
 0x0c

	)

116 
	#PCIR_LATTIMER
 0x0d

	)

117 
	#PCIR_HDRTYPE
 0x0e

	)

118 
	#PCIM_HDRTYPE
 0x7f

	)

119 
	#PCIM_HDRTYPE_NORMAL
 0x00

	)

120 
	#PCIM_HDRTYPE_BRIDGE
 0x01

	)

121 
	#PCIM_HDRTYPE_CARDBUS
 0x02

	)

122 
	#PCIM_MFDEV
 0x80

	)

123 
	#PCIR_BIST
 0x0f

	)

126 
	#PCIV_INVALID
 0xffff

	)

130 
	#PCICAP_ID
 0x0

	)

131 
	#PCICAP_NEXTPTR
 0x1

	)

135 
	#PCIY_PMG
 0x01

	)

136 
	#PCIY_AGP
 0x02

	)

137 
	#PCIY_VPD
 0x03

	)

138 
	#PCIY_SLOTID
 0x04

	)

139 
	#PCIY_MSI
 0x05

	)

140 
	#PCIY_CHSWP
 0x06

	)

141 
	#PCIY_PCIX
 0x07

	)

142 
	#PCIY_HT
 0x08

	)

143 
	#PCIY_VENDOR
 0x09

	)

144 
	#PCIY_DEBUG
 0x0¨

	)

145 
	#PCIY_CRES
 0x0b

	)

146 
	#PCIY_HOTPLUG
 0x0ø

	)

147 
	#PCIY_SUBVENDOR
 0x0d

	)

148 
	#PCIY_AGP8X
 0x0

	)

149 
	#PCIY_SECDEV
 0x0à

	)

150 
	#PCIY_EXPRESS
 0x10

	)

151 
	#PCIY_MSIX
 0x11

	)

152 
	#PCIY_SATA
 0x12

	)

153 
	#PCIY_PCIAF
 0x13

	)

154 
	#PCIY_EA
 0x14

	)

158 
	#PCIR_EXTCAP
 0x100

	)

159 
	#PCIM_EXTCAP_ID
 0x0000ffff

	)

160 
	#PCIM_EXTCAP_VER
 0x000f0000

	)

161 
	#PCIM_EXTCAP_NEXTPTR
 0xfff00000

	)

162 
	#PCI_EXTCAP_ID
(
eÿp
è(Óÿpè& 
PCIM_EXTCAP_ID
)

	)

163 
	#PCI_EXTCAP_VER
(
eÿp
è((Óÿpè& 
PCIM_EXTCAP_VER
è>> 16)

	)

164 
	#PCI_EXTCAP_NEXTPTR
(
eÿp
è((Óÿpè& 
PCIM_EXTCAP_NEXTPTR
è>> 20)

	)

168 
	#PCIZ_AER
 0x0001

	)

169 
	#PCIZ_VC
 0x0002

	)

170 
	#PCIZ_SERNUM
 0x0003

	)

171 
	#PCIZ_PWRBDGT
 0x0004

	)

172 
	#PCIZ_RCLINK_DCL
 0x0005

	)

173 
	#PCIZ_RCLINK_CTL
 0x0006

	)

174 
	#PCIZ_RCEC_ASSOC
 0x0007

	)

175 
	#PCIZ_MFVC
 0x0008

	)

176 
	#PCIZ_VC2
 0x0009

	)

177 
	#PCIZ_RCRB
 0x000¨

	)

178 
	#PCIZ_VENDOR
 0x000b

	)

179 
	#PCIZ_CAC
 0x000ø

	)

180 
	#PCIZ_ACS
 0x000d

	)

181 
	#PCIZ_ARI
 0x000

	)

182 
	#PCIZ_ATS
 0x000à

	)

183 
	#PCIZ_SRIOV
 0x0010

	)

184 
	#PCIZ_MRIOV
 0x0011

	)

185 
	#PCIZ_MULTICAST
 0x0012

	)

186 
	#PCIZ_PAGE_REQ
 0x0013

	)

187 
	#PCIZ_AMD
 0x0014

	)

188 
	#PCIZ_RESIZE_BAR
 0x0015

	)

189 
	#PCIZ_DPA
 0x0016

	)

190 
	#PCIZ_TPH_REQ
 0x0017

	)

191 
	#PCIZ_LTR
 0x0018

	)

192 
	#PCIZ_SEC_PCIE
 0x0019

	)

193 
	#PCIZ_PMUX
 0x001¨

	)

194 
	#PCIZ_PASID
 0x001b

	)

195 
	#PCIZ_LN_REQ
 0x001ø

	)

196 
	#PCIZ_DPC
 0x001d

	)

197 
	#PCIZ_L1PM
 0x001

	)

201 
	#PCIR_BARS
 0x10

	)

202 
	#PCIR_BAR
(
x
è(
PCIR_BARS
 + (xè* 4)

	)

203 
	#PCIR_MAX_BAR_0
 5

	)

204 
	#PCI_RID2BAR
(
rid
è((Ôidè- 
PCIR_BARS
è/ 4)

	)

205 
	#PCI_BAR_IO
(
x
è(((xè& 
PCIM_BAR_SPACE
è=ð
PCIM_BAR_IO_SPACE
)

	)

206 
	#PCI_BAR_MEM
(
x
è(((xè& 
PCIM_BAR_SPACE
è=ð
PCIM_BAR_MEM_SPACE
)

	)

207 
	#PCIM_BAR_SPACE
 0x00000001

	)

208 
	#PCIM_BAR_MEM_SPACE
 0

	)

209 
	#PCIM_BAR_IO_SPACE
 1

	)

210 
	#PCIM_BAR_MEM_TYPE
 0x00000006

	)

211 
	#PCIM_BAR_MEM_32
 0

	)

212 
	#PCIM_BAR_MEM_1MB
 2

	)

213 
	#PCIM_BAR_MEM_64
 4

	)

214 
	#PCIM_BAR_MEM_PREFETCH
 0x00000008

	)

215 
	#PCIM_BAR_MEM_BASE
 0xfffffffffffffff0ULL

	)

216 
	#PCIM_BAR_IO_RESERVED
 0x00000002

	)

217 
	#PCIM_BAR_IO_BASE
 0xfffffffc

	)

218 
	#PCIR_CIS
 0x28

	)

219 
	#PCIM_CIS_ASI_MASK
 0x00000007

	)

220 
	#PCIM_CIS_ASI_CONFIG
 0

	)

221 
	#PCIM_CIS_ASI_BAR0
 1

	)

222 
	#PCIM_CIS_ASI_BAR1
 2

	)

223 
	#PCIM_CIS_ASI_BAR2
 3

	)

224 
	#PCIM_CIS_ASI_BAR3
 4

	)

225 
	#PCIM_CIS_ASI_BAR4
 5

	)

226 
	#PCIM_CIS_ASI_BAR5
 6

	)

227 
	#PCIM_CIS_ASI_ROM
 7

	)

228 
	#PCIM_CIS_ADDR_MASK
 0x0ffffff8

	)

229 
	#PCIM_CIS_ROM_MASK
 0xf0000000

	)

230 
	#PCIM_CIS_CONFIG_MASK
 0xff

	)

231 
	#PCIR_SUBVEND_0
 0x2c

	)

232 
	#PCIR_SUBDEV_0
 0x2e

	)

233 
	#PCIR_BIOS
 0x30

	)

234 
	#PCIM_BIOS_ENABLE
 0x01

	)

235 
	#PCIM_BIOS_ADDR_MASK
 0xfffff800

	)

236 
	#PCIR_CAP_PTR
 0x34

	)

237 
	#PCIR_INTLINE
 0x3c

	)

238 
	#PCIR_INTPIN
 0x3d

	)

239 
	#PCIR_MINGNT
 0x3e

	)

240 
	#PCIR_MAXLAT
 0x3f

	)

244 
	#PCIR_MAX_BAR_1
 1

	)

245 
	#PCIR_SECSTAT_1
 0x1e

	)

247 
	#PCIR_PRIBUS_1
 0x18

	)

248 
	#PCIR_SECBUS_1
 0x19

	)

249 
	#PCIR_SUBBUS_1
 0x1a

	)

250 
	#PCIR_SECLAT_1
 0x1b

	)

252 
	#PCIR_IOBASEL_1
 0x1c

	)

253 
	#PCIR_IOLIMITL_1
 0x1d

	)

254 
	#PCIR_IOBASEH_1
 0x30

	)

255 
	#PCIR_IOLIMITH_1
 0x32

	)

256 
	#PCIM_BRIO_16
 0x0

	)

257 
	#PCIM_BRIO_32
 0x1

	)

258 
	#PCIM_BRIO_MASK
 0xf

	)

260 
	#PCIR_MEMBASE_1
 0x20

	)

261 
	#PCIR_MEMLIMIT_1
 0x22

	)

263 
	#PCIR_PMBASEL_1
 0x24

	)

264 
	#PCIR_PMLIMITL_1
 0x26

	)

265 
	#PCIR_PMBASEH_1
 0x28

	)

266 
	#PCIR_PMLIMITH_1
 0x2c

	)

267 
	#PCIM_BRPM_32
 0x0

	)

268 
	#PCIM_BRPM_64
 0x1

	)

269 
	#PCIM_BRPM_MASK
 0xf

	)

271 
	#PCIR_BIOS_1
 0x38

	)

272 
	#PCIR_BRIDGECTL_1
 0x3e

	)

274 
	#PCI_PPBMEMBASE
(
h
,
l
è((((
ušt64_t
)(hè<< 32è+ (Ö)<<16)è& ~0xfffff)

	)

275 
	#PCI_PPBMEMLIMIT
(
h
,
l
è((((
ušt64_t
)(hè<< 32è+ (Ö)<<16)è| 0xfffff)

	)

276 
	#PCI_PPBIOBASE
(
h
,
l
è((((h)<<16è+ (Ö)<<8)è& ~0xfff)

	)

277 
	#PCI_PPBIOLIMIT
(
h
,
l
è((((h)<<16è+ (Ö)<<8)è| 0xfff)

	)

281 
	#PCIR_MAX_BAR_2
 0

	)

282 
	#PCIR_CAP_PTR_2
 0x14

	)

283 
	#PCIR_SECSTAT_2
 0x16

	)

285 
	#PCIR_PRIBUS_2
 0x18

	)

286 
	#PCIR_SECBUS_2
 0x19

	)

287 
	#PCIR_SUBBUS_2
 0x1a

	)

288 
	#PCIR_SECLAT_2
 0x1b

	)

290 
	#PCIR_MEMBASE0_2
 0x1c

	)

291 
	#PCIR_MEMLIMIT0_2
 0x20

	)

292 
	#PCIR_MEMBASE1_2
 0x24

	)

293 
	#PCIR_MEMLIMIT1_2
 0x28

	)

294 
	#PCIR_IOBASE0_2
 0x2c

	)

295 
	#PCIR_IOLIMIT0_2
 0x30

	)

296 
	#PCIR_IOBASE1_2
 0x34

	)

297 
	#PCIR_IOLIMIT1_2
 0x38

	)

298 
	#PCIM_CBBIO_16
 0x0

	)

299 
	#PCIM_CBBIO_32
 0x1

	)

300 
	#PCIM_CBBIO_MASK
 0x3

	)

302 
	#PCIR_BRIDGECTL_2
 0x3e

	)

304 
	#PCIR_SUBVEND_2
 0x40

	)

305 
	#PCIR_SUBDEV_2
 0x42

	)

307 
	#PCIR_PCCARDIF_2
 0x44

	)

309 
	#PCI_CBBMEMBASE
(
l
è(Öè& ~0xfffff)

	)

310 
	#PCI_CBBMEMLIMIT
(
l
è(Öè| 0xfffff)

	)

311 
	#PCI_CBBIOBASE
(
l
è(Öè& ~0x3)

	)

312 
	#PCI_CBBIOLIMIT
(
l
è(Öè| 0x3)

	)

316 
	#PCIC_OLD
 0x00

	)

317 
	#PCIS_OLD_NONVGA
 0x00

	)

318 
	#PCIS_OLD_VGA
 0x01

	)

320 
	#PCIC_STORAGE
 0x01

	)

321 
	#PCIS_STORAGE_SCSI
 0x00

	)

322 
	#PCIS_STORAGE_IDE
 0x01

	)

323 
	#PCIP_STORAGE_IDE_MODEPRIM
 0x01

	)

324 
	#PCIP_STORAGE_IDE_PROGINDPRIM
 0x02

	)

325 
	#PCIP_STORAGE_IDE_MODESEC
 0x04

	)

326 
	#PCIP_STORAGE_IDE_PROGINDSEC
 0x08

	)

327 
	#PCIP_STORAGE_IDE_MASTERDEV
 0x80

	)

328 
	#PCIS_STORAGE_FLOPPY
 0x02

	)

329 
	#PCIS_STORAGE_IPI
 0x03

	)

330 
	#PCIS_STORAGE_RAID
 0x04

	)

331 
	#PCIS_STORAGE_ATA_ADMA
 0x05

	)

332 
	#PCIS_STORAGE_SATA
 0x06

	)

333 
	#PCIP_STORAGE_SATA_AHCI_1_0
 0x01

	)

334 
	#PCIS_STORAGE_SAS
 0x07

	)

335 
	#PCIS_STORAGE_NVM
 0x08

	)

336 
	#PCIP_STORAGE_NVM_NVMHCI_1_0
 0x01

	)

337 
	#PCIP_STORAGE_NVM_ENTERPRISE_NVMHCI_1_0
 0x02

	)

338 
	#PCIS_STORAGE_OTHER
 0x80

	)

340 
	#PCIC_NETWORK
 0x02

	)

341 
	#PCIS_NETWORK_ETHERNET
 0x00

	)

342 
	#PCIS_NETWORK_TOKENRING
 0x01

	)

343 
	#PCIS_NETWORK_FDDI
 0x02

	)

344 
	#PCIS_NETWORK_ATM
 0x03

	)

345 
	#PCIS_NETWORK_ISDN
 0x04

	)

346 
	#PCIS_NETWORK_WORLDFIP
 0x05

	)

347 
	#PCIS_NETWORK_PICMG
 0x06

	)

348 
	#PCIS_NETWORK_OTHER
 0x80

	)

350 
	#PCIC_DISPLAY
 0x03

	)

351 
	#PCIS_DISPLAY_VGA
 0x00

	)

352 
	#PCIS_DISPLAY_XGA
 0x01

	)

353 
	#PCIS_DISPLAY_3D
 0x02

	)

354 
	#PCIS_DISPLAY_OTHER
 0x80

	)

356 
	#PCIC_MULTIMEDIA
 0x04

	)

357 
	#PCIS_MULTIMEDIA_VIDEO
 0x00

	)

358 
	#PCIS_MULTIMEDIA_AUDIO
 0x01

	)

359 
	#PCIS_MULTIMEDIA_TELE
 0x02

	)

360 
	#PCIS_MULTIMEDIA_HDA
 0x03

	)

361 
	#PCIS_MULTIMEDIA_OTHER
 0x80

	)

363 
	#PCIC_MEMORY
 0x05

	)

364 
	#PCIS_MEMORY_RAM
 0x00

	)

365 
	#PCIS_MEMORY_FLASH
 0x01

	)

366 
	#PCIS_MEMORY_OTHER
 0x80

	)

368 
	#PCIC_BRIDGE
 0x06

	)

369 
	#PCIS_BRIDGE_HOST
 0x00

	)

370 
	#PCIS_BRIDGE_ISA
 0x01

	)

371 
	#PCIS_BRIDGE_EISA
 0x02

	)

372 
	#PCIS_BRIDGE_MCA
 0x03

	)

373 
	#PCIS_BRIDGE_PCI
 0x04

	)

374 
	#PCIP_BRIDGE_PCI_SUBTRACTIVE
 0x01

	)

375 
	#PCIS_BRIDGE_PCMCIA
 0x05

	)

376 
	#PCIS_BRIDGE_NUBUS
 0x06

	)

377 
	#PCIS_BRIDGE_CARDBUS
 0x07

	)

378 
	#PCIS_BRIDGE_RACEWAY
 0x08

	)

379 
	#PCIS_BRIDGE_PCI_TRANSPARENT
 0x09

	)

380 
	#PCIS_BRIDGE_INFINIBAND
 0x0a

	)

381 
	#PCIS_BRIDGE_OTHER
 0x80

	)

383 
	#PCIC_SIMPLECOMM
 0x07

	)

384 
	#PCIS_SIMPLECOMM_UART
 0x00

	)

385 
	#PCIP_SIMPLECOMM_UART_8250
 0x00

	)

386 
	#PCIP_SIMPLECOMM_UART_16450A
 0x01

	)

387 
	#PCIP_SIMPLECOMM_UART_16550A
 0x02

	)

388 
	#PCIP_SIMPLECOMM_UART_16650A
 0x03

	)

389 
	#PCIP_SIMPLECOMM_UART_16750A
 0x04

	)

390 
	#PCIP_SIMPLECOMM_UART_16850A
 0x05

	)

391 
	#PCIP_SIMPLECOMM_UART_16950A
 0x06

	)

392 
	#PCIS_SIMPLECOMM_PAR
 0x01

	)

393 
	#PCIS_SIMPLECOMM_MULSER
 0x02

	)

394 
	#PCIS_SIMPLECOMM_MODEM
 0x03

	)

395 
	#PCIS_SIMPLECOMM_GPIB
 0x04

	)

396 
	#PCIS_SIMPLECOMM_SMART_CARD
 0x05

	)

397 
	#PCIS_SIMPLECOMM_OTHER
 0x80

	)

399 
	#PCIC_BASEPERIPH
 0x08

	)

400 
	#PCIS_BASEPERIPH_PIC
 0x00

	)

401 
	#PCIP_BASEPERIPH_PIC_8259A
 0x00

	)

402 
	#PCIP_BASEPERIPH_PIC_ISA
 0x01

	)

403 
	#PCIP_BASEPERIPH_PIC_EISA
 0x02

	)

404 
	#PCIP_BASEPERIPH_PIC_IO_APIC
 0x10

	)

405 
	#PCIP_BASEPERIPH_PIC_IOX_APIC
 0x20

	)

406 
	#PCIS_BASEPERIPH_DMA
 0x01

	)

407 
	#PCIS_BASEPERIPH_TIMER
 0x02

	)

408 
	#PCIS_BASEPERIPH_RTC
 0x03

	)

409 
	#PCIS_BASEPERIPH_PCIHOT
 0x04

	)

410 
	#PCIS_BASEPERIPH_SDHC
 0x05

	)

411 
	#PCIS_BASEPERIPH_IOMMU
 0x06

	)

412 
	#PCIS_BASEPERIPH_OTHER
 0x80

	)

414 
	#PCIC_INPUTDEV
 0x09

	)

415 
	#PCIS_INPUTDEV_KEYBOARD
 0x00

	)

416 
	#PCIS_INPUTDEV_DIGITIZER
 0x01

	)

417 
	#PCIS_INPUTDEV_MOUSE
 0x02

	)

418 
	#PCIS_INPUTDEV_SCANNER
 0x03

	)

419 
	#PCIS_INPUTDEV_GAMEPORT
 0x04

	)

420 
	#PCIS_INPUTDEV_OTHER
 0x80

	)

422 
	#PCIC_DOCKING
 0x0a

	)

423 
	#PCIS_DOCKING_GENERIC
 0x00

	)

424 
	#PCIS_DOCKING_OTHER
 0x80

	)

426 
	#PCIC_PROCESSOR
 0x0b

	)

427 
	#PCIS_PROCESSOR_386
 0x00

	)

428 
	#PCIS_PROCESSOR_486
 0x01

	)

429 
	#PCIS_PROCESSOR_PENTIUM
 0x02

	)

430 
	#PCIS_PROCESSOR_ALPHA
 0x10

	)

431 
	#PCIS_PROCESSOR_POWERPC
 0x20

	)

432 
	#PCIS_PROCESSOR_MIPS
 0x30

	)

433 
	#PCIS_PROCESSOR_COPROC
 0x40

	)

435 
	#PCIC_SERIALBUS
 0x0c

	)

436 
	#PCIS_SERIALBUS_FW
 0x00

	)

437 
	#PCIS_SERIALBUS_ACCESS
 0x01

	)

438 
	#PCIS_SERIALBUS_SSA
 0x02

	)

439 
	#PCIS_SERIALBUS_USB
 0x03

	)

440 
	#PCIP_SERIALBUS_USB_UHCI
 0x00

	)

441 
	#PCIP_SERIALBUS_USB_OHCI
 0x10

	)

442 
	#PCIP_SERIALBUS_USB_EHCI
 0x20

	)

443 
	#PCIP_SERIALBUS_USB_XHCI
 0x30

	)

444 
	#PCIP_SERIALBUS_USB_DEVICE
 0xã

	)

445 
	#PCIS_SERIALBUS_FC
 0x04

	)

446 
	#PCIS_SERIALBUS_SMBUS
 0x05

	)

447 
	#PCIS_SERIALBUS_INFINIBAND
 0x06

	)

448 
	#PCIS_SERIALBUS_IPMI
 0x07

	)

449 
	#PCIP_SERIALBUS_IPMI_SMIC
 0x00

	)

450 
	#PCIP_SERIALBUS_IPMI_KCS
 0x01

	)

451 
	#PCIP_SERIALBUS_IPMI_BT
 0x02

	)

452 
	#PCIS_SERIALBUS_SERCOS
 0x08

	)

453 
	#PCIS_SERIALBUS_CANBUS
 0x09

	)

455 
	#PCIC_WIRELESS
 0x0d

	)

456 
	#PCIS_WIRELESS_IRDA
 0x00

	)

457 
	#PCIS_WIRELESS_IR
 0x01

	)

458 
	#PCIS_WIRELESS_RF
 0x10

	)

459 
	#PCIS_WIRELESS_BLUETOOTH
 0x11

	)

460 
	#PCIS_WIRELESS_BROADBAND
 0x12

	)

461 
	#PCIS_WIRELESS_80211A
 0x20

	)

462 
	#PCIS_WIRELESS_80211B
 0x21

	)

463 
	#PCIS_WIRELESS_OTHER
 0x80

	)

465 
	#PCIC_INTELLIIO
 0x0e

	)

466 
	#PCIS_INTELLIIO_I2O
 0x00

	)

468 
	#PCIC_SATCOM
 0x0f

	)

469 
	#PCIS_SATCOM_TV
 0x01

	)

470 
	#PCIS_SATCOM_AUDIO
 0x02

	)

471 
	#PCIS_SATCOM_VOICE
 0x03

	)

472 
	#PCIS_SATCOM_DATA
 0x04

	)

474 
	#PCIC_CRYPTO
 0x10

	)

475 
	#PCIS_CRYPTO_NETCOMP
 0x00

	)

476 
	#PCIS_CRYPTO_ENTERTAIN
 0x10

	)

477 
	#PCIS_CRYPTO_OTHER
 0x80

	)

479 
	#PCIC_DASP
 0x11

	)

480 
	#PCIS_DASP_DPIO
 0x00

	)

481 
	#PCIS_DASP_PERFCNTRS
 0x01

	)

482 
	#PCIS_DASP_COMM_SYNC
 0x10

	)

483 
	#PCIS_DASP_MGMT_CARD
 0x20

	)

484 
	#PCIS_DASP_OTHER
 0x80

	)

486 
	#PCIC_ACCEL
 0x12

	)

487 
	#PCIS_ACCEL_PROCESSING
 0x00

	)

489 
	#PCIC_INSTRUMENT
 0x13

	)

491 
	#PCIC_OTHER
 0xff

	)

494 
	#PCIB_BCR_PERR_ENABLE
 0x0001

	)

495 
	#PCIB_BCR_SERR_ENABLE
 0x0002

	)

496 
	#PCIB_BCR_ISA_ENABLE
 0x0004

	)

497 
	#PCIB_BCR_VGA_ENABLE
 0x0008

	)

498 
	#PCIB_BCR_MASTER_ABORT_MODE
 0x0020

	)

499 
	#PCIB_BCR_SECBUS_RESET
 0x0040

	)

500 
	#PCIB_BCR_SECBUS_BACKTOBACK
 0x0080

	)

501 
	#PCIB_BCR_PRI_DISCARD_TIMEOUT
 0x0100

	)

502 
	#PCIB_BCR_SEC_DISCARD_TIMEOUT
 0x0200

	)

503 
	#PCIB_BCR_DISCARD_TIMER_STATUS
 0x0400

	)

504 
	#PCIB_BCR_DISCARD_TIMER_SERREN
 0x0800

	)

506 
	#CBB_BCR_PERR_ENABLE
 0x0001

	)

507 
	#CBB_BCR_SERR_ENABLE
 0x0002

	)

508 
	#CBB_BCR_ISA_ENABLE
 0x0004

	)

509 
	#CBB_BCR_VGA_ENABLE
 0x0008

	)

510 
	#CBB_BCR_MASTER_ABORT_MODE
 0x0020

	)

511 
	#CBB_BCR_CARDBUS_RESET
 0x0040

	)

512 
	#CBB_BCR_IREQ_INT_ENABLE
 0x0080

	)

513 
	#CBB_BCR_PREFETCH_0_ENABLE
 0x0100

	)

514 
	#CBB_BCR_PREFETCH_1_ENABLE
 0x0200

	)

515 
	#CBB_BCR_WRITE_POSTING_ENABLE
 0x0400

	)

518 
	#PCIR_POWER_CAP
 0x2

	)

519 
	#PCIM_PCAP_SPEC
 0x0007

	)

520 
	#PCIM_PCAP_PMEREQCLK
 0x0008

	)

521 
	#PCIM_PCAP_DEVSPECINIT
 0x0020

	)

522 
	#PCIM_PCAP_AUXPWR_0
 0x0000

	)

523 
	#PCIM_PCAP_AUXPWR_55
 0x0040

	)

524 
	#PCIM_PCAP_AUXPWR_100
 0x0080

	)

525 
	#PCIM_PCAP_AUXPWR_160
 0x00c0

	)

526 
	#PCIM_PCAP_AUXPWR_220
 0x0100

	)

527 
	#PCIM_PCAP_AUXPWR_270
 0x0140

	)

528 
	#PCIM_PCAP_AUXPWR_320
 0x0180

	)

529 
	#PCIM_PCAP_AUXPWR_375
 0x01c0

	)

530 
	#PCIM_PCAP_AUXPWRMASK
 0x01c0

	)

531 
	#PCIM_PCAP_D1SUPP
 0x0200

	)

532 
	#PCIM_PCAP_D2SUPP
 0x0400

	)

533 
	#PCIM_PCAP_D0PME
 0x0800

	)

534 
	#PCIM_PCAP_D1PME
 0x1000

	)

535 
	#PCIM_PCAP_D2PME
 0x2000

	)

536 
	#PCIM_PCAP_D3PME_HOT
 0x4000

	)

537 
	#PCIM_PCAP_D3PME_COLD
 0x8000

	)

539 
	#PCIR_POWER_STATUS
 0x4

	)

540 
	#PCIM_PSTAT_D0
 0x0000

	)

541 
	#PCIM_PSTAT_D1
 0x0001

	)

542 
	#PCIM_PSTAT_D2
 0x0002

	)

543 
	#PCIM_PSTAT_D3
 0x0003

	)

544 
	#PCIM_PSTAT_DMASK
 0x0003

	)

545 
	#PCIM_PSTAT_NOSOFTRESET
 0x0008

	)

546 
	#PCIM_PSTAT_PMEENABLE
 0x0100

	)

547 
	#PCIM_PSTAT_D0POWER
 0x0000

	)

548 
	#PCIM_PSTAT_D1POWER
 0x0200

	)

549 
	#PCIM_PSTAT_D2POWER
 0x0400

	)

550 
	#PCIM_PSTAT_D3POWER
 0x0600

	)

551 
	#PCIM_PSTAT_D0HEAT
 0x0800

	)

552 
	#PCIM_PSTAT_D1HEAT
 0x0a00

	)

553 
	#PCIM_PSTAT_D2HEAT
 0x0c00

	)

554 
	#PCIM_PSTAT_D3HEAT
 0x0e00

	)

555 
	#PCIM_PSTAT_DATASELMASK
 0x1e00

	)

556 
	#PCIM_PSTAT_DATAUNKN
 0x0000

	)

557 
	#PCIM_PSTAT_DATADIV10
 0x2000

	)

558 
	#PCIM_PSTAT_DATADIV100
 0x4000

	)

559 
	#PCIM_PSTAT_DATADIV1000
 0x6000

	)

560 
	#PCIM_PSTAT_DATADIVMASK
 0x6000

	)

561 
	#PCIM_PSTAT_PME
 0x8000

	)

563 
	#PCIR_POWER_BSE
 0x6

	)

564 
	#PCIM_PMCSR_BSE_D3B3
 0x00

	)

565 
	#PCIM_PMCSR_BSE_D3B2
 0x40

	)

566 
	#PCIM_PMCSR_BSE_BPCCE
 0x80

	)

568 
	#PCIR_POWER_DATA
 0x7

	)

571 
	#PCIR_VPD_ADDR
 0x2

	)

572 
	#PCIR_VPD_DATA
 0x4

	)

575 
	#PCIR_MSI_CTRL
 0x2

	)

576 
	#PCIM_MSICTRL_VECTOR
 0x0100

	)

577 
	#PCIM_MSICTRL_64BIT
 0x0080

	)

578 
	#PCIM_MSICTRL_MME_MASK
 0x0070

	)

579 
	#PCIM_MSICTRL_MME_1
 0x0000

	)

580 
	#PCIM_MSICTRL_MME_2
 0x0010

	)

581 
	#PCIM_MSICTRL_MME_4
 0x0020

	)

582 
	#PCIM_MSICTRL_MME_8
 0x0030

	)

583 
	#PCIM_MSICTRL_MME_16
 0x0040

	)

584 
	#PCIM_MSICTRL_MME_32
 0x0050

	)

585 
	#PCIM_MSICTRL_MMC_MASK
 0x000E

	)

586 
	#PCIM_MSICTRL_MMC_1
 0x0000

	)

587 
	#PCIM_MSICTRL_MMC_2
 0x0002

	)

588 
	#PCIM_MSICTRL_MMC_4
 0x0004

	)

589 
	#PCIM_MSICTRL_MMC_8
 0x0006

	)

590 
	#PCIM_MSICTRL_MMC_16
 0x0008

	)

591 
	#PCIM_MSICTRL_MMC_32
 0x000A

	)

592 
	#PCIM_MSICTRL_MSI_ENABLE
 0x0001

	)

593 
	#PCIR_MSI_ADDR
 0x4

	)

594 
	#PCIR_MSI_ADDR_HIGH
 0x8

	)

595 
	#PCIR_MSI_DATA
 0x8

	)

596 
	#PCIR_MSI_DATA_64BIT
 0xc

	)

597 
	#PCIR_MSI_MASK
 0x10

	)

598 
	#PCIR_MSI_PENDING
 0x14

	)

601 
	#PCIR_EA_NUM_ENT
 2

	)

602 
	#PCIM_EA_NUM_ENT_MASK
 0x3à

	)

603 
	#PCIR_EA_FIRST_ENT
 4

	)

604 
	#PCIR_EA_FIRST_ENT_BRIDGE
 8

	)

605 
	#PCIM_EA_ES
 0x00000007

	)

606 
	#PCIM_EA_BEI
 0x000000f0

	)

607 
	#PCIM_EA_BEI_OFFSET
 4

	)

609 
	#PCIM_EA_BEI_BAR_0
 0

	)

610 
	#PCIM_EA_BEI_BAR_5
 5

	)

611 
	#PCIM_EA_BEI_BAR
(
x
è(((xè>> 
PCIM_EA_BEI_OFFSET
è& 0xf)

	)

612 
	#PCIM_EA_BEI_BRIDGE
 0x6

	)

613 
	#PCIM_EA_BEI_ENI
 0x7

	)

614 
	#PCIM_EA_BEI_ROM
 0x8

	)

616 
	#PCIM_EA_BEI_VF_BAR_0
 9

	)

617 
	#PCIM_EA_BEI_VF_BAR_5
 14

	)

618 
	#PCIM_EA_BEI_RESERVED
 0xà

	)

619 
	#PCIM_EA_PP
 0x0000ff00

	)

620 
	#PCIM_EA_PP_OFFSET
 8

	)

621 
	#PCIM_EA_SP_OFFSET
 16

	)

622 
	#PCIM_EA_SP
 0x00ff0000

	)

623 
	#PCIM_EA_P_MEM
 0x00

	)

624 
	#PCIM_EA_P_MEM_PREFETCH
 0x01

	)

625 
	#PCIM_EA_P_IO
 0x02

	)

626 
	#PCIM_EA_P_VF_MEM_PREFETCH
 0x03

	)

627 
	#PCIM_EA_P_VF_MEM
 0x04

	)

628 
	#PCIM_EA_P_BRIDGE_MEM
 0x05

	)

629 
	#PCIM_EA_P_BRIDGE_MEM_PREFETCH
 0x06

	)

630 
	#PCIM_EA_P_BRIDGE_IO
 0x07

	)

632 
	#PCIM_EA_P_MEM_RESERVED
 0xfd

	)

633 
	#PCIM_EA_P_IO_RESERVED
 0xã

	)

634 
	#PCIM_EA_P_UNAVAILABLE
 0xfà

	)

635 
	#PCIM_EA_WRITABLE
 0x40000000

	)

636 
	#PCIM_EA_ENABLE
 0x80000000

	)

637 
	#PCIM_EA_BASE
 4

	)

638 
	#PCIM_EA_MAX_OFFSET
 8

	)

640 
	#PCIM_EA_IS_64
 0x00000002

	)

641 
	#PCIM_EA_FIELD_MASK
 0xfffffffø

	)

643 
	#PCIM_EA_SEC_NR
(
»g
è(Ôegè& 0xff)

	)

644 
	#PCIM_EA_SUB_NR
(
»g
è((Ôegè>> 8è& 0xff)

	)

649 
	#PCIXR_COMMAND
 0x2

	)

650 
	#PCIXM_COMMAND_DPERR_E
 0x0001

	)

651 
	#PCIXM_COMMAND_ERO
 0x0002

	)

652 
	#PCIXM_COMMAND_MAX_READ
 0x000ø

	)

653 
	#PCIXM_COMMAND_MAX_READ_512
 0x0000

	)

654 
	#PCIXM_COMMAND_MAX_READ_1024
 0x0004

	)

655 
	#PCIXM_COMMAND_MAX_READ_2048
 0x0008

	)

656 
	#PCIXM_COMMAND_MAX_READ_4096
 0x000c

	)

657 
	#PCIXM_COMMAND_MAX_SPLITS
 0x0070

	)

658 
	#PCIXM_COMMAND_MAX_SPLITS_1
 0x0000

	)

659 
	#PCIXM_COMMAND_MAX_SPLITS_2
 0x0010

	)

660 
	#PCIXM_COMMAND_MAX_SPLITS_3
 0x0020

	)

661 
	#PCIXM_COMMAND_MAX_SPLITS_4
 0x0030

	)

662 
	#PCIXM_COMMAND_MAX_SPLITS_8
 0x0040

	)

663 
	#PCIXM_COMMAND_MAX_SPLITS_12
 0x0050

	)

664 
	#PCIXM_COMMAND_MAX_SPLITS_16
 0x0060

	)

665 
	#PCIXM_COMMAND_MAX_SPLITS_32
 0x0070

	)

666 
	#PCIXM_COMMAND_VERSION
 0x3000

	)

667 
	#PCIXR_STATUS
 0x4

	)

668 
	#PCIXM_STATUS_DEVFN
 0x000000FF

	)

669 
	#PCIXM_STATUS_BUS
 0x0000FF00

	)

670 
	#PCIXM_STATUS_64BIT
 0x00010000

	)

671 
	#PCIXM_STATUS_133CAP
 0x00020000

	)

672 
	#PCIXM_STATUS_SC_DISCARDED
 0x00040000

	)

673 
	#PCIXM_STATUS_UNEXP_SC
 0x00080000

	)

674 
	#PCIXM_STATUS_COMPLEX_DEV
 0x00100000

	)

675 
	#PCIXM_STATUS_MAX_READ
 0x00600000

	)

676 
	#PCIXM_STATUS_MAX_READ_512
 0x00000000

	)

677 
	#PCIXM_STATUS_MAX_READ_1024
 0x00200000

	)

678 
	#PCIXM_STATUS_MAX_READ_2048
 0x00400000

	)

679 
	#PCIXM_STATUS_MAX_READ_4096
 0x00600000

	)

680 
	#PCIXM_STATUS_MAX_SPLITS
 0x03800000

	)

681 
	#PCIXM_STATUS_MAX_SPLITS_1
 0x00000000

	)

682 
	#PCIXM_STATUS_MAX_SPLITS_2
 0x00800000

	)

683 
	#PCIXM_STATUS_MAX_SPLITS_3
 0x01000000

	)

684 
	#PCIXM_STATUS_MAX_SPLITS_4
 0x01800000

	)

685 
	#PCIXM_STATUS_MAX_SPLITS_8
 0x02000000

	)

686 
	#PCIXM_STATUS_MAX_SPLITS_12
 0x02800000

	)

687 
	#PCIXM_STATUS_MAX_SPLITS_16
 0x03000000

	)

688 
	#PCIXM_STATUS_MAX_SPLITS_32
 0x03800000

	)

689 
	#PCIXM_STATUS_MAX_CUM_READ
 0x1C000000

	)

690 
	#PCIXM_STATUS_RCVD_SC_ERR
 0x20000000

	)

691 
	#PCIXM_STATUS_266CAP
 0x40000000

	)

692 
	#PCIXM_STATUS_533CAP
 0x80000000

	)

695 
	#PCIXR_SEC_STATUS
 0x2

	)

696 
	#PCIXM_SEC_STATUS_64BIT
 0x0001

	)

697 
	#PCIXM_SEC_STATUS_133CAP
 0x0002

	)

698 
	#PCIXM_SEC_STATUS_SC_DISC
 0x0004

	)

699 
	#PCIXM_SEC_STATUS_UNEXP_SC
 0x0008

	)

700 
	#PCIXM_SEC_STATUS_SC_OVERRUN
 0x0010

	)

701 
	#PCIXM_SEC_STATUS_SR_DELAYED
 0x0020

	)

702 
	#PCIXM_SEC_STATUS_BUS_MODE
 0x03c0

	)

703 
	#PCIXM_SEC_STATUS_VERSION
 0x3000

	)

704 
	#PCIXM_SEC_STATUS_266CAP
 0x4000

	)

705 
	#PCIXM_SEC_STATUS_533CAP
 0x8000

	)

706 
	#PCIXR_BRIDGE_STATUS
 0x4

	)

707 
	#PCIXM_BRIDGE_STATUS_DEVFN
 0x000000FF

	)

708 
	#PCIXM_BRIDGE_STATUS_BUS
 0x0000FF00

	)

709 
	#PCIXM_BRIDGE_STATUS_64BIT
 0x00010000

	)

710 
	#PCIXM_BRIDGE_STATUS_133CAP
 0x00020000

	)

711 
	#PCIXM_BRIDGE_STATUS_SC_DISCARDED
 0x00040000

	)

712 
	#PCIXM_BRIDGE_STATUS_UNEXP_SC
 0x00080000

	)

713 
	#PCIXM_BRIDGE_STATUS_SC_OVERRUN
 0x00100000

	)

714 
	#PCIXM_BRIDGE_STATUS_SR_DELAYED
 0x00200000

	)

715 
	#PCIXM_BRIDGE_STATUS_DEVID_MSGCAP
 0x20000000

	)

716 
	#PCIXM_BRIDGE_STATUS_266CAP
 0x40000000

	)

717 
	#PCIXM_BRIDGE_STATUS_533CAP
 0x80000000

	)

720 
	#PCIR_HT_COMMAND
 0x2

	)

721 
	#PCIM_HTCMD_CAP_MASK
 0xf800

	)

722 
	#PCIM_HTCAP_SLAVE
 0x0000

	)

723 
	#PCIM_HTCAP_HOST
 0x2000

	)

724 
	#PCIM_HTCAP_SWITCH
 0x4000

	)

725 
	#PCIM_HTCAP_INTERRUPT
 0x8000

	)

726 
	#PCIM_HTCAP_REVISION_ID
 0x8800

	)

727 
	#PCIM_HTCAP_UNITID_CLUMPING
 0x9000

	)

728 
	#PCIM_HTCAP_EXT_CONFIG_SPACE
 0x9800

	)

729 
	#PCIM_HTCAP_ADDRESS_MAPPING
 0xa000

	)

730 
	#PCIM_HTCAP_MSI_MAPPING
 0xa800

	)

731 
	#PCIM_HTCAP_DIRECT_ROUTE
 0xb000

	)

732 
	#PCIM_HTCAP_VCSET
 0xb800

	)

733 
	#PCIM_HTCAP_RETRY_MODE
 0xc000

	)

734 
	#PCIM_HTCAP_X86_ENCODING
 0xc800

	)

735 
	#PCIM_HTCAP_GEN3
 0xd000

	)

736 
	#PCIM_HTCAP_FLE
 0xd800

	)

737 
	#PCIM_HTCAP_PM
 0xe000

	)

738 
	#PCIM_HTCAP_HIGH_NODE_COUNT
 0xe800

	)

741 
	#PCIM_HTCMD_MSI_ENABLE
 0x0001

	)

742 
	#PCIM_HTCMD_MSI_FIXED
 0x0002

	)

743 
	#PCIR_HTMSI_ADDRESS_LO
 0x4

	)

744 
	#PCIR_HTMSI_ADDRESS_HI
 0x8

	)

747 
	#PCIR_VENDOR_LENGTH
 0x2

	)

748 
	#PCIR_VENDOR_DATA
 0x3

	)

751 
	#PCIR_DEVICE_LENGTH
 0x2

	)

754 
	#PCIR_DEBUG_PORT
 0x2

	)

755 
	#PCIM_DEBUG_PORT_OFFSET
 0x1FFF

	)

756 
	#PCIM_DEBUG_PORT_BAR
 0xe000

	)

759 
	#PCIR_SUBVENDCAP_ID
 0x4

	)

762 
	#PCIER_FLAGS
 0x2

	)

763 
	#PCIEM_FLAGS_VERSION
 0x000F

	)

764 
	#PCIEM_FLAGS_TYPE
 0x00F0

	)

765 
	#PCIEM_TYPE_ENDPOINT
 0x0000

	)

766 
	#PCIEM_TYPE_LEGACY_ENDPOINT
 0x0010

	)

767 
	#PCIEM_TYPE_ROOT_PORT
 0x0040

	)

768 
	#PCIEM_TYPE_UPSTREAM_PORT
 0x0050

	)

769 
	#PCIEM_TYPE_DOWNSTREAM_PORT
 0x0060

	)

770 
	#PCIEM_TYPE_PCI_BRIDGE
 0x0070

	)

771 
	#PCIEM_TYPE_PCIE_BRIDGE
 0x0080

	)

772 
	#PCIEM_TYPE_ROOT_INT_EP
 0x0090

	)

773 
	#PCIEM_TYPE_ROOT_EC
 0x00a0

	)

774 
	#PCIEM_FLAGS_SLOT
 0x0100

	)

775 
	#PCIEM_FLAGS_IRQ
 0x3e00

	)

776 
	#PCIER_DEVICE_CAP
 0x4

	)

777 
	#PCIEM_CAP_MAX_PAYLOAD
 0x00000007

	)

778 
	#PCIEM_CAP_PHANTHOM_FUNCS
 0x00000018

	)

779 
	#PCIEM_CAP_EXT_TAG_FIELD
 0x00000020

	)

780 
	#PCIEM_CAP_L0S_LATENCY
 0x000001c0

	)

781 
	#PCIEM_CAP_L1_LATENCY
 0x00000e00

	)

782 
	#PCIEM_CAP_ROLE_ERR_RPT
 0x00008000

	)

783 
	#PCIEM_CAP_SLOT_PWR_LIM_VAL
 0x03fc0000

	)

784 
	#PCIEM_CAP_SLOT_PWR_LIM_SCALE
 0x0c000000

	)

785 
	#PCIEM_CAP_FLR
 0x10000000

	)

786 
	#PCIER_DEVICE_CTL
 0x8

	)

787 
	#PCIEM_CTL_COR_ENABLE
 0x0001

	)

788 
	#PCIEM_CTL_NFER_ENABLE
 0x0002

	)

789 
	#PCIEM_CTL_FER_ENABLE
 0x0004

	)

790 
	#PCIEM_CTL_URR_ENABLE
 0x0008

	)

791 
	#PCIEM_CTL_RELAXED_ORD_ENABLE
 0x0010

	)

792 
	#PCIEM_CTL_MAX_PAYLOAD
 0x00e0

	)

793 
	#PCIEM_CTL_EXT_TAG_FIELD
 0x0100

	)

794 
	#PCIEM_CTL_PHANTHOM_FUNCS
 0x0200

	)

795 
	#PCIEM_CTL_AUX_POWER_PM
 0x0400

	)

796 
	#PCIEM_CTL_NOSNOOP_ENABLE
 0x0800

	)

797 
	#PCIEM_CTL_MAX_READ_REQUEST
 0x7000

	)

798 
	#PCIEM_CTL_BRDG_CFG_RETRY
 0x8000

	)

799 
	#PCIEM_CTL_INITIATE_FLR
 0x8000

	)

800 
	#PCIER_DEVICE_STA
 0xa

	)

801 
	#PCIEM_STA_CORRECTABLE_ERROR
 0x0001

	)

802 
	#PCIEM_STA_NON_FATAL_ERROR
 0x0002

	)

803 
	#PCIEM_STA_FATAL_ERROR
 0x0004

	)

804 
	#PCIEM_STA_UNSUPPORTED_REQ
 0x0008

	)

805 
	#PCIEM_STA_AUX_POWER
 0x0010

	)

806 
	#PCIEM_STA_TRANSACTION_PND
 0x0020

	)

807 
	#PCIER_LINK_CAP
 0xc

	)

808 
	#PCIEM_LINK_CAP_MAX_SPEED
 0x0000000f

	)

809 
	#PCIEM_LINK_CAP_MAX_WIDTH
 0x000003f0

	)

810 
	#PCIEM_LINK_CAP_ASPM
 0x00000c00

	)

811 
	#PCIEM_LINK_CAP_L0S_EXIT
 0x00007000

	)

812 
	#PCIEM_LINK_CAP_L1_EXIT
 0x00038000

	)

813 
	#PCIEM_LINK_CAP_CLOCK_PM
 0x00040000

	)

814 
	#PCIEM_LINK_CAP_SURPRISE_DOWN
 0x00080000

	)

815 
	#PCIEM_LINK_CAP_DL_ACTIVE
 0x00100000

	)

816 
	#PCIEM_LINK_CAP_LINK_BW_NOTIFY
 0x00200000

	)

817 
	#PCIEM_LINK_CAP_ASPM_COMPLIANCE
 0x00400000

	)

818 
	#PCIEM_LINK_CAP_PORT
 0xff000000

	)

819 
	#PCIER_LINK_CTL
 0x10

	)

820 
	#PCIEM_LINK_CTL_ASPMC_DIS
 0x0000

	)

821 
	#PCIEM_LINK_CTL_ASPMC_L0S
 0x0001

	)

822 
	#PCIEM_LINK_CTL_ASPMC_L1
 0x0002

	)

823 
	#PCIEM_LINK_CTL_ASPMC
 0x0003

	)

824 
	#PCIEM_LINK_CTL_RCB
 0x0008

	)

825 
	#PCIEM_LINK_CTL_LINK_DIS
 0x0010

	)

826 
	#PCIEM_LINK_CTL_RETRAIN_LINK
 0x0020

	)

827 
	#PCIEM_LINK_CTL_COMMON_CLOCK
 0x0040

	)

828 
	#PCIEM_LINK_CTL_EXTENDED_SYNC
 0x0080

	)

829 
	#PCIEM_LINK_CTL_ECPM
 0x0100

	)

830 
	#PCIEM_LINK_CTL_HAWD
 0x0200

	)

831 
	#PCIEM_LINK_CTL_LBMIE
 0x0400

	)

832 
	#PCIEM_LINK_CTL_LABIE
 0x0800

	)

833 
	#PCIER_LINK_STA
 0x12

	)

834 
	#PCIEM_LINK_STA_SPEED
 0x000f

	)

835 
	#PCIEM_LINK_STA_WIDTH
 0x03f0

	)

836 
	#PCIEM_LINK_STA_TRAINING_ERROR
 0x0400

	)

837 
	#PCIEM_LINK_STA_TRAINING
 0x0800

	)

838 
	#PCIEM_LINK_STA_SLOT_CLOCK
 0x1000

	)

839 
	#PCIEM_LINK_STA_DL_ACTIVE
 0x2000

	)

840 
	#PCIEM_LINK_STA_LINK_BW_MGMT
 0x4000

	)

841 
	#PCIEM_LINK_STA_LINK_AUTO_BW
 0x8000

	)

842 
	#PCIER_SLOT_CAP
 0x14

	)

843 
	#PCIEM_SLOT_CAP_APB
 0x00000001

	)

844 
	#PCIEM_SLOT_CAP_PCP
 0x00000002

	)

845 
	#PCIEM_SLOT_CAP_MRLSP
 0x00000004

	)

846 
	#PCIEM_SLOT_CAP_AIP
 0x00000008

	)

847 
	#PCIEM_SLOT_CAP_PIP
 0x00000010

	)

848 
	#PCIEM_SLOT_CAP_HPS
 0x00000020

	)

849 
	#PCIEM_SLOT_CAP_HPC
 0x00000040

	)

850 
	#PCIEM_SLOT_CAP_SPLV
 0x00007f80

	)

851 
	#PCIEM_SLOT_CAP_SPLS
 0x00018000

	)

852 
	#PCIEM_SLOT_CAP_EIP
 0x00020000

	)

853 
	#PCIEM_SLOT_CAP_NCCS
 0x00040000

	)

854 
	#PCIEM_SLOT_CAP_PSN
 0xfff80000

	)

855 
	#PCIER_SLOT_CTL
 0x18

	)

856 
	#PCIEM_SLOT_CTL_ABPE
 0x0001

	)

857 
	#PCIEM_SLOT_CTL_PFDE
 0x0002

	)

858 
	#PCIEM_SLOT_CTL_MRLSCE
 0x0004

	)

859 
	#PCIEM_SLOT_CTL_PDCE
 0x0008

	)

860 
	#PCIEM_SLOT_CTL_CCIE
 0x0010

	)

861 
	#PCIEM_SLOT_CTL_HPIE
 0x0020

	)

862 
	#PCIEM_SLOT_CTL_AIC
 0x00c0

	)

863 
	#PCIEM_SLOT_CTL_AI_ON
 0x0040

	)

864 
	#PCIEM_SLOT_CTL_AI_BLINK
 0x0080

	)

865 
	#PCIEM_SLOT_CTL_AI_OFF
 0x00c0

	)

866 
	#PCIEM_SLOT_CTL_PIC
 0x0300

	)

867 
	#PCIEM_SLOT_CTL_PI_ON
 0x0100

	)

868 
	#PCIEM_SLOT_CTL_PI_BLINK
 0x0200

	)

869 
	#PCIEM_SLOT_CTL_PI_OFF
 0x0300

	)

870 
	#PCIEM_SLOT_CTL_PCC
 0x0400

	)

871 
	#PCIEM_SLOT_CTL_PC_ON
 0x0000

	)

872 
	#PCIEM_SLOT_CTL_PC_OFF
 0x0400

	)

873 
	#PCIEM_SLOT_CTL_EIC
 0x0800

	)

874 
	#PCIEM_SLOT_CTL_DLLSCE
 0x1000

	)

875 
	#PCIER_SLOT_STA
 0x1a

	)

876 
	#PCIEM_SLOT_STA_ABP
 0x0001

	)

877 
	#PCIEM_SLOT_STA_PFD
 0x0002

	)

878 
	#PCIEM_SLOT_STA_MRLSC
 0x0004

	)

879 
	#PCIEM_SLOT_STA_PDC
 0x0008

	)

880 
	#PCIEM_SLOT_STA_CC
 0x0010

	)

881 
	#PCIEM_SLOT_STA_MRLSS
 0x0020

	)

882 
	#PCIEM_SLOT_STA_PDS
 0x0040

	)

883 
	#PCIEM_SLOT_STA_EIS
 0x0080

	)

884 
	#PCIEM_SLOT_STA_DLLSC
 0x0100

	)

885 
	#PCIER_ROOT_CTL
 0x1c

	)

886 
	#PCIEM_ROOT_CTL_SERR_CORR
 0x0001

	)

887 
	#PCIEM_ROOT_CTL_SERR_NONFATAL
 0x0002

	)

888 
	#PCIEM_ROOT_CTL_SERR_FATAL
 0x0004

	)

889 
	#PCIEM_ROOT_CTL_PME
 0x0008

	)

890 
	#PCIEM_ROOT_CTL_CRS_VIS
 0x0010

	)

891 
	#PCIER_ROOT_CAP
 0x1e

	)

892 
	#PCIEM_ROOT_CAP_CRS_VIS
 0x0001

	)

893 
	#PCIER_ROOT_STA
 0x20

	)

894 
	#PCIEM_ROOT_STA_PME_REQID_MASK
 0x0000ffff

	)

895 
	#PCIEM_ROOT_STA_PME_STATUS
 0x00010000

	)

896 
	#PCIEM_ROOT_STA_PME_PEND
 0x00020000

	)

897 
	#PCIER_DEVICE_CAP2
 0x24

	)

898 
	#PCIEM_CAP2_COMP_TIMO_RANGES
 0x0000000f

	)

899 
	#PCIEM_CAP2_COMP_TIMO_RANGE_A
 0x00000001

	)

900 
	#PCIEM_CAP2_COMP_TIMO_RANGE_B
 0x00000002

	)

901 
	#PCIEM_CAP2_COMP_TIMO_RANGE_C
 0x00000004

	)

902 
	#PCIEM_CAP2_COMP_TIMO_RANGE_D
 0x00000008

	)

903 
	#PCIEM_CAP2_COMP_TIMO_DISABLE
 0x00000010

	)

904 
	#PCIEM_CAP2_ARI
 0x00000020

	)

905 
	#PCIER_DEVICE_CTL2
 0x28

	)

906 
	#PCIEM_CTL2_COMP_TIMO_VAL
 0x000f

	)

907 
	#PCIEM_CTL2_COMP_TIMO_50MS
 0x0000

	)

908 
	#PCIEM_CTL2_COMP_TIMO_100US
 0x0001

	)

909 
	#PCIEM_CTL2_COMP_TIMO_10MS
 0x0002

	)

910 
	#PCIEM_CTL2_COMP_TIMO_55MS
 0x0005

	)

911 
	#PCIEM_CTL2_COMP_TIMO_210MS
 0x0006

	)

912 
	#PCIEM_CTL2_COMP_TIMO_900MS
 0x0009

	)

913 
	#PCIEM_CTL2_COMP_TIMO_3500MS
 0x000a

	)

914 
	#PCIEM_CTL2_COMP_TIMO_13S
 0x000d

	)

915 
	#PCIEM_CTL2_COMP_TIMO_64S
 0x000e

	)

916 
	#PCIEM_CTL2_COMP_TIMO_DISABLE
 0x0010

	)

917 
	#PCIEM_CTL2_ARI
 0x0020

	)

918 
	#PCIEM_CTL2_ATOMIC_REQ_ENABLE
 0x0040

	)

919 
	#PCIEM_CTL2_ATOMIC_EGR_BLOCK
 0x0080

	)

920 
	#PCIEM_CTL2_ID_ORDERED_REQ_EN
 0x0100

	)

921 
	#PCIEM_CTL2_ID_ORDERED_CMP_EN
 0x0200

	)

922 
	#PCIEM_CTL2_LTR_ENABLE
 0x0400

	)

923 
	#PCIEM_CTL2_OBFF
 0x6000

	)

924 
	#PCIEM_OBFF_DISABLE
 0x0000

	)

925 
	#PCIEM_OBFF_MSGA_ENABLE
 0x2000

	)

926 
	#PCIEM_OBFF_MSGB_ENABLE
 0x4000

	)

927 
	#PCIEM_OBFF_WAKE_ENABLE
 0x6000

	)

928 
	#PCIEM_CTL2_END2END_TLP
 0x8000

	)

929 
	#PCIER_DEVICE_STA2
 0x2a

	)

930 
	#PCIER_LINK_CAP2
 0x2c

	)

931 
	#PCIER_LINK_CTL2
 0x30

	)

932 
	#PCIER_LINK_STA2
 0x32

	)

933 
	#PCIER_SLOT_CAP2
 0x34

	)

934 
	#PCIER_SLOT_CTL2
 0x38

	)

935 
	#PCIER_SLOT_STA2
 0x3a

	)

938 
	#PCIR_MSIX_CTRL
 0x2

	)

939 
	#PCIM_MSIXCTRL_MSIX_ENABLE
 0x8000

	)

940 
	#PCIM_MSIXCTRL_FUNCTION_MASK
 0x4000

	)

941 
	#PCIM_MSIXCTRL_TABLE_SIZE
 0x07FF

	)

942 
	#PCIR_MSIX_TABLE
 0x4

	)

943 
	#PCIR_MSIX_PBA
 0x8

	)

944 
	#PCIM_MSIX_BIR_MASK
 0x7

	)

945 
	#PCIM_MSIX_BIR_BAR_10
 0

	)

946 
	#PCIM_MSIX_BIR_BAR_14
 1

	)

947 
	#PCIM_MSIX_BIR_BAR_18
 2

	)

948 
	#PCIM_MSIX_BIR_BAR_1C
 3

	)

949 
	#PCIM_MSIX_BIR_BAR_20
 4

	)

950 
	#PCIM_MSIX_BIR_BAR_24
 5

	)

951 
	#PCIM_MSIX_VCTRL_MASK
 0x1

	)

954 
	#PCIR_PCIAF_CAP
 0x3

	)

955 
	#PCIM_PCIAFCAP_TP
 0x01

	)

956 
	#PCIM_PCIAFCAP_FLR
 0x02

	)

957 
	#PCIR_PCIAF_CTRL
 0x4

	)

958 
	#PCIR_PCIAFCTRL_FLR
 0x01

	)

959 
	#PCIR_PCIAF_STATUS
 0x5

	)

960 
	#PCIR_PCIAFSTATUS_TP
 0x01

	)

963 
	#PCIR_AER_UC_STATUS
 0x04

	)

964 
	#PCIM_AER_UC_TRAINING_ERROR
 0x00000001

	)

965 
	#PCIM_AER_UC_DL_PROTOCOL_ERROR
 0x00000010

	)

966 
	#PCIM_AER_UC_SURPRISE_LINK_DOWN
 0x00000020

	)

967 
	#PCIM_AER_UC_POISONED_TLP
 0x00001000

	)

968 
	#PCIM_AER_UC_FC_PROTOCOL_ERROR
 0x00002000

	)

969 
	#PCIM_AER_UC_COMPLETION_TIMEOUT
 0x00004000

	)

970 
	#PCIM_AER_UC_COMPLETER_ABORT
 0x00008000

	)

971 
	#PCIM_AER_UC_UNEXPECTED_COMPLETION
 0x00010000

	)

972 
	#PCIM_AER_UC_RECEIVER_OVERFLOW
 0x00020000

	)

973 
	#PCIM_AER_UC_MALFORMED_TLP
 0x00040000

	)

974 
	#PCIM_AER_UC_ECRC_ERROR
 0x00080000

	)

975 
	#PCIM_AER_UC_UNSUPPORTED_REQUEST
 0x00100000

	)

976 
	#PCIM_AER_UC_ACS_VIOLATION
 0x00200000

	)

977 
	#PCIM_AER_UC_INTERNAL_ERROR
 0x00400000

	)

978 
	#PCIM_AER_UC_MC_BLOCKED_TLP
 0x00800000

	)

979 
	#PCIM_AER_UC_ATOMIC_EGRESS_BLK
 0x01000000

	)

980 
	#PCIM_AER_UC_TLP_PREFIX_BLOCKED
 0x02000000

	)

981 
	#PCIR_AER_UC_MASK
 0x08

	)

982 
	#PCIR_AER_UC_SEVERITY
 0x0ø

	)

983 
	#PCIR_AER_COR_STATUS
 0x10

	)

984 
	#PCIM_AER_COR_RECEIVER_ERROR
 0x00000001

	)

985 
	#PCIM_AER_COR_BAD_TLP
 0x00000040

	)

986 
	#PCIM_AER_COR_BAD_DLLP
 0x00000080

	)

987 
	#PCIM_AER_COR_REPLAY_ROLLOVER
 0x00000100

	)

988 
	#PCIM_AER_COR_REPLAY_TIMEOUT
 0x00001000

	)

989 
	#PCIM_AER_COR_ADVISORY_NF_ERROR
 0x00002000

	)

990 
	#PCIM_AER_COR_INTERNAL_ERROR
 0x00004000

	)

991 
	#PCIM_AER_COR_HEADER_LOG_OVFLOW
 0x00008000

	)

992 
	#PCIR_AER_COR_MASK
 0x14

	)

993 
	#PCIR_AER_CAP_CONTROL
 0x18

	)

994 
	#PCIM_AER_FIRST_ERROR_PTR
 0x0000001f

	)

995 
	#PCIM_AER_ECRC_GEN_CAPABLE
 0x00000020

	)

996 
	#PCIM_AER_ECRC_GEN_ENABLE
 0x00000040

	)

997 
	#PCIM_AER_ECRC_CHECK_CAPABLE
 0x00000080

	)

998 
	#PCIM_AER_ECRC_CHECK_ENABLE
 0x00000100

	)

999 
	#PCIM_AER_MULT_HDR_CAPABLE
 0x00000200

	)

1000 
	#PCIM_AER_MULT_HDR_ENABLE
 0x00000400

	)

1001 
	#PCIM_AER_TLP_PREFIX_LOG_PRESENT
 0x00000800

	)

1002 
	#PCIR_AER_HEADER_LOG
 0x1c

	)

1003 
	#PCIR_AER_ROOTERR_CMD
 0x2ø

	)

1004 
	#PCIM_AER_ROOTERR_COR_ENABLE
 0x00000001

	)

1005 
	#PCIM_AER_ROOTERR_NF_ENABLE
 0x00000002

	)

1006 
	#PCIM_AER_ROOTERR_F_ENABLE
 0x00000004

	)

1007 
	#PCIR_AER_ROOTERR_STATUS
 0x30

	)

1008 
	#PCIM_AER_ROOTERR_COR_ERR
 0x00000001

	)

1009 
	#PCIM_AER_ROOTERR_MULTI_COR_ERR
 0x00000002

	)

1010 
	#PCIM_AER_ROOTERR_UC_ERR
 0x00000004

	)

1011 
	#PCIM_AER_ROOTERR_MULTI_UC_ERR
 0x00000008

	)

1012 
	#PCIM_AER_ROOTERR_FIRST_UC_FATAL
 0x00000010

	)

1013 
	#PCIM_AER_ROOTERR_NF_ERR
 0x00000020

	)

1014 
	#PCIM_AER_ROOTERR_F_ERR
 0x00000040

	)

1015 
	#PCIM_AER_ROOTERR_INT_MESSAGE
 0xf8000000

	)

1016 
	#PCIR_AER_COR_SOURCE_ID
 0x34

	)

1017 
	#PCIR_AER_ERR_SOURCE_ID
 0x36

	)

1018 
	#PCIR_AER_TLP_PREFIX_LOG
 0x38

	)

1021 
	#PCIR_VC_CAP1
 0x04

	)

1022 
	#PCIM_VC_CAP1_EXT_COUNT
 0x00000007

	)

1023 
	#PCIM_VC_CAP1_LOWPRI_EXT_COUNT
 0x00000070

	)

1024 
	#PCIR_VC_CAP2
 0x08

	)

1025 
	#PCIR_VC_CONTROL
 0x0C

	)

1026 
	#PCIR_VC_STATUS
 0x0E

	)

1027 
	#PCIR_VC_RESOURCE_CAP
(
n
è(0x10 + (nè* 0x0C)

	)

1028 
	#PCIR_VC_RESOURCE_CTL
(
n
è(0x14 + (nè* 0x0C)

	)

1029 
	#PCIR_VC_RESOURCE_STA
(
n
è(0x18 + (nè* 0x0C)

	)

1032 
	#PCIR_SERIAL_LOW
 0x04

	)

1033 
	#PCIR_SERIAL_HIGH
 0x08

	)

1036 
	#PCIR_SRIOV_CTL
 0x08

	)

1037 
	#PCIM_SRIOV_VF_EN
 0x01

	)

1038 
	#PCIM_SRIOV_VF_MSE
 0x08

	)

1039 
	#PCIM_SRIOV_ARI_EN
 0x10

	)

1040 
	#PCIR_SRIOV_TOTAL_VFS
 0x0E

	)

1041 
	#PCIR_SRIOV_NUM_VFS
 0x10

	)

1042 
	#PCIR_SRIOV_VF_OFF
 0x14

	)

1043 
	#PCIR_SRIOV_VF_STRIDE
 0x16

	)

1044 
	#PCIR_SRIOV_VF_DID
 0x1A

	)

1045 
	#PCIR_SRIOV_PAGE_CAP
 0x1C

	)

1046 
	#PCIR_SRIOV_PAGE_SIZE
 0x20

	)

1048 
	#PCI_SRIOV_BASE_PAGE_SHIFT
 12

	)

1050 
	#PCIR_SRIOV_BARS
 0x24

	)

1051 
	#PCIR_SRIOV_BAR
(
x
è(
PCIR_SRIOV_BARS
 + (xè* 4)

	)

1056 
	#PCI_OSC_STATUS
 0

	)

1057 
	#PCI_OSC_SUPPORT
 1

	)

1058 
	#PCIM_OSC_SUPPORT_EXT_PCI_CONF
 0x01

	)

1059 
	#PCIM_OSC_SUPPORT_ASPM
 0x02

	)

1060 
	#PCIM_OSC_SUPPORT_CPMC
 0x04

	)

1061 
	#PCIM_OSC_SUPPORT_SEG_GROUP
 0x08

	)

1062 
	#PCIM_OSC_SUPPORT_MSI
 0x10

	)

1063 
	#PCI_OSC_CTL
 2

	)

1064 
	#PCIM_OSC_CTL_PCIE_HP
 0x01

	)

1065 
	#PCIM_OSC_CTL_SHPC_HP
 0x02

	)

1066 
	#PCIM_OSC_CTL_PCIE_PME
 0x04

	)

1067 
	#PCIM_OSC_CTL_PCIE_AER
 0x08

	)

1068 
	#PCIM_OSC_CTL_PCIE_CAP_STRUCT
 0x10

	)

	@/usr/include/fs/devfs/devfs_int.h

35 #iâdeà
_FS_DEVFS_DEVFS_INT_H_


36 
	#_FS_DEVFS_DEVFS_INT_H_


	)

38 
	~<sys/queue.h
>

40 #ifdeà
_KERNEL


42 
	gdevfs_dœ’t
;

43 
	gdevfs_mouÁ
;

45 
	scdev_´ivd©a
 {

46 
fže
 *
	mcdpd_å
;

47 *
	mcdpd_d©a
;

48 (*
	mcdpd_dŒ
)(*);

49 
LIST_ENTRY
(
cdev_´ivd©a
è
	mcdpd_li¡
;

52 
	scdev_´iv
 {

53 
cdev
 
	mcdp_c
;

54 
TAILQ_ENTRY
(
cdev_´iv
è
	mcdp_li¡
;

56 
u_št
 
	mcdp_šode
;

58 
u_št
 
	mcdp_æags
;

59 
	#CDP_ACTIVE
 (1 << 0)

	)

60 
	#CDP_SCHED_DTR
 (1 << 1)

	)

61 
	#CDP_UNREF_DTR
 (1 << 2)

	)

63 
u_št
 
	mcdp_šu£
;

64 
u_št
 
	mcdp_maxdœ’t
;

65 
devfs_dœ’t
 **
	mcdp_dœ’ts
;

66 
devfs_dœ’t
 *
	mcdp_dœ’t0
;

68 
TAILQ_ENTRY
(
cdev_´iv
è
	mcdp_dŒ_li¡
;

69 (*
	mcdp_dŒ_cb
)(*);

70 *
	mcdp_dŒ_cb_¬g
;

72 
LIST_HEAD
(, 
cdev_´ivd©a
è
	mcdp_fd´iv
;

75 
	#cdev2´iv
(
c
è
	`__cÚš”of
(c, 
cdev_´iv
, 
cdp_c
)

	)

77 
cdev
 *
devfs_®loc
();

78 
devfs_dev_exi¡s
(const *);

79 
devfs_ä“
(
cdev
 *);

80 
devfs_ü—‹
(
cdev
 *);

81 
devfs_de¡roy
(
cdev
 *);

82 
devfs_de¡roy_cdev´iv
(
cdev_´ivd©a
 *);

84 
devfs_dœ_fšd
(const *);

85 
devfs_dœ_»f_de
(
devfs_mouÁ
 *, 
devfs_dœ’t
 *);

86 
devfs_dœ_uÄef_de
(
devfs_mouÁ
 *, 
devfs_dœ’t
 *);

87 
devfs_·th·th
(const *, const *);

89 
uÄhdr
 *
devfs_šos
;

90 
mtx
 
devmtx
;

91 
mtx
 
devfs_de_š‹¾ock
;

92 
sx
 
þÚe_d¿š_lock
;

93 
mtx
 
cdev´iv_mtx
;

94 
	$TAILQ_HEAD
(
cdev_´iv_li¡
, 
cdev_´iv
è
cdevp_li¡
;

	@/usr/include/machine/_align.h

6 
	~<x86/_®ign.h
>

	@/usr/include/machine/_bus.h

33 #iâdeà
AMD64_INCLUDE__BUS_H


34 
	#AMD64_INCLUDE__BUS_H


	)

39 
ušt64_t
 
	tbus_addr_t
;

40 
ušt64_t
 
	tbus_size_t
;

45 
ušt64_t
 
	tbus_¥aû_g_t
;

46 
ušt64_t
 
	tbus_¥aû_hªdË_t
;

	@/usr/include/machine/_limits.h

6 
	~<x86/_lim™s.h
>

	@/usr/include/machine/_types.h

6 
	~<x86/_ty³s.h
>

	@/usr/include/machine/bus.h

6 
	~<x86/bus.h
>

	@/usr/include/machine/bus_dma.h

31 #iâdeà
_AMD64_BUS_DMA_H_


32 
	#_AMD64_BUS_DMA_H_


	)

34 
	~<x86/bus_dma.h
>

	@/usr/include/machine/clock.h

9 #iâdeà
_MACHINE_CLOCK_H_


10 
	#_MACHINE_CLOCK_H_


	)

12 #ifdeà
_KERNEL


17 
þkšŒ_³ndšg
;

18 
u_št
 
i8254_äeq
;

19 
i8254_max_couÁ
;

20 
ušt64_t
 
tsc_äeq
;

21 
tsc_is_šv¬ŸÁ
;

22 
tsc_³rf_¡©
;

23 #ifdeà
SMP


24 
smp_tsc
;

27 
i8254_š™
();

28 
i8254_d–ay
();

29 
þock_š™
();

35 
¡¬Œtþock
();

36 
š™_TSC
();

37 
»sume_TSC
();

39 
	#HAS_TIMER_SPKR
 1

	)

40 
tim”_¥kr_acquœe
();

41 
tim”_¥kr_»Ëa£
();

42 
tim”_¥kr_£täeq
(
äeq
);

	@/usr/include/machine/cpu.h

38 #iâdeà
_MACHINE_CPU_H_


39 
	#_MACHINE_CPU_H_


	)

44 
	~<machše/p¦.h
>

45 
	~<machše/äame.h
>

46 
	~<machše/£gm’ts.h
>

48 
	#ýu_exec
(
p
è

	)

49 
	#ýu_sw­š
(
p
è

	)

50 
	#ýu_g‘¡ack
(
td
è(Ñd)->
td_äame
->
tf_r¥
)

	)

51 
	#ýu_£t¡ack
(
td
, 
­
è(Ñd)->
td_äame
->
tf_r¥
 = (­))

	)

52 
	#ýu_¥šwa™
(è
	`Ÿ32_·u£
()

	)

54 
	#TRAPF_USERMODE
(
äam•
) \

55 (
	`ISPL
((
äam•
)->
tf_cs
è=ð
SEL_UPL
)

	)

56 
	#TRAPF_PC
(
äam•
è((äam•)->
tf_r
)

	)

58 #ifdeà
_KERNEL


65 
	sýu_Ýs
 {

66 (*
	mýu_š™
)();

67 (*
	mýu_»sume
)();

70 
ýu_Ýs
 cpu_ops;

71 
brw£ùiÚ
[];

72 
b‹xt
[];

73 
_’d
[];

74 
‘ext
[];

77 (*
vmm_»sume_p
)();

79 
	`ýu_h®t
();

80 
	`ýu_lock_d–ay
();

81 
	`ýu_»£t
();

82 
	`fÜk_ŒampÞše
();

83 
	`swi_vm
(*);

89 
__šlše
 
u_št64_t


90 
	$g‘_cyþecouÁ
()

93  (
	`rdtsc
());

94 
	}
}

96 
	#MEMSET_EARLY_FUNC
 
mem£t_¡d


	)

97 
	#MEMCPY_EARLY_FUNC
 
memýy_¡d


	)

98 
	#MEMMOVE_EARLY_FUNC
 
memmove_¡d


	)

	@/usr/include/machine/cpufunc.h

41 #iâdeà
_MACHINE_CPUFUNC_H_


42 
	#_MACHINE_CPUFUNC_H_


	)

44 #iâdeà
_SYS_CDEFS_H_


45 #”rÜ 
this
 
fže
 
Ãeds
 
sys
/
cdefs
.
h
 
as
 
a
 
´”equis™e


48 
	g»giÚ_desütÜ
;

50 
	#»adb
(
va
è(*(vÞ©ž
ušt8_t
 *è(va))

	)

51 
	#»adw
(
va
è(*(vÞ©ž
ušt16_t
 *è(va))

	)

52 
	#»adl
(
va
è(*(vÞ©ž
ušt32_t
 *è(va))

	)

53 
	#»adq
(
va
è(*(vÞ©ž
ušt64_t
 *è(va))

	)

55 
	#wr™eb
(
va
, 
d
è(*(vÞ©ž
ušt8_t
 *è(vaèð(d))

	)

56 
	#wr™ew
(
va
, 
d
è(*(vÞ©ž
ušt16_t
 *è(vaèð(d))

	)

57 
	#wr™–
(
va
, 
d
è(*(vÞ©ž
ušt32_t
 *è(vaèð(d))

	)

58 
	#wr™eq
(
va
, 
d
è(*(vÞ©ž
ušt64_t
 *è(vaèð(d))

	)

60 #ià
defšed
(
__GNUCLIKE_ASM
è&& defšed(
__CC_SUPPORTS___INLINE
)

62 
__šlše
 

63 
	$b»akpošt
()

65 
__asm
 
	`__vÞ©že
("int $3");

66 
	}
}

68 
__šlše
 
__pu»2
 
u_št


69 
	$bsæ
(
u_št
 
mask
)

71 
u_št
 
»suÉ
;

73 
__asm
 
	`__vÞ©že
("bsæ %1,%0" : "ô" (
»suÉ
è: "rm" (
mask
));

74  (
»suÉ
);

75 
	}
}

77 
__šlše
 
__pu»2
 
u_lÚg


78 
	$bsfq
(
u_lÚg
 
mask
)

80 
u_lÚg
 
»suÉ
;

82 
__asm
 
	`__vÞ©že
("bsfq %1,%0" : "ô" (
»suÉ
è: "rm" (
mask
));

83  (
»suÉ
);

84 
	}
}

86 
__šlše
 
__pu»2
 
u_št


87 
	$b¤l
(
u_št
 
mask
)

89 
u_št
 
»suÉ
;

91 
__asm
 
	`__vÞ©že
("b¤È%1,%0" : "ô" (
»suÉ
è: "rm" (
mask
));

92  (
»suÉ
);

93 
	}
}

95 
__šlše
 
__pu»2
 
u_lÚg


96 
	$b¤q
(
u_lÚg
 
mask
)

98 
u_lÚg
 
»suÉ
;

100 
__asm
 
	`__vÞ©že
("b¤q %1,%0" : "ô" (
»suÉ
è: "rm" (
mask
));

101  (
»suÉ
);

102 
	}
}

104 
__šlše
 

105 
	$þæush
(
u_lÚg
 
addr
)

108 
__asm
 
	`__vÞ©že
("þæush %0" : : "m" (*(*)
addr
));

109 
	}
}

111 
__šlše
 

112 
	$þæushÝt
(
u_lÚg
 
addr
)

115 
__asm
 
	`__vÞ©že
(".by‹ 0x66;þæush %0" : : "m" (*(*)
addr
));

116 
	}
}

118 
__šlše
 

119 
	$þwb
(
u_lÚg
 
addr
)

122 
__asm
 
	`__vÞ©že
("þwb %0" : : "m" (*(*)
addr
));

123 
	}
}

125 
__šlše
 

126 
	$þts
()

129 
__asm
 
	`__vÞ©že
("clts");

130 
	}
}

132 
__šlše
 

133 
	$di§bË_šŒ
()

135 
__asm
 
	`__vÞ©že
("cli" : : : "memory");

136 
	}
}

138 
__šlše
 

139 
	$do_ýuid
(
u_št
 
ax
, u_šˆ*
p
)

141 
__asm
 
	`__vÞ©že
("cpuid"

142 : "÷" (
p
[0]), "=b" (p[1]), "=c" (p[2]), "=d" (p[3])

143 : "0" (
ax
));

144 
	}
}

146 
__šlše
 

147 
	$ýuid_couÁ
(
u_št
 
ax
, u_šˆ
cx
, u_šˆ*
p
)

149 
__asm
 
	`__vÞ©že
("cpuid"

150 : "÷" (
p
[0]), "=b" (p[1]), "=c" (p[2]), "=d" (p[3])

151 : "0" (
ax
), "c" (
cx
));

152 
	}
}

154 
__šlše
 

155 
	$’abË_šŒ
()

157 
__asm
 
	`__vÞ©že
("sti");

158 
	}
}

160 #ifdeà
_KERNEL


162 
	#HAVE_INLINE_FFS


	)

163 
	#ffs
(
x
è
	`__bužtš_ffs
(x)

	)

165 
	#HAVE_INLINE_FFSL


	)

167 
__šlše
 
__pu»2
 

168 
	$ff¦
(
mask
)

170  (
mask
 =ð0 ? mask : ()
	`bsfq
((
u_lÚg
)mask) + 1);

171 
	}
}

173 
	#HAVE_INLINE_FFSLL


	)

175 
__šlše
 
__pu»2
 

176 
	$ff¦l
(
mask
)

178  (
	`ff¦
(()
mask
));

179 
	}
}

181 
	#HAVE_INLINE_FLS


	)

183 
__šlše
 
__pu»2
 

184 
	$æs
(
mask
)

186  (
mask
 =ð0 ? mask : ()
	`b¤l
((
u_št
)mask) + 1);

187 
	}
}

189 
	#HAVE_INLINE_FLSL


	)

191 
__šlše
 
__pu»2
 

192 
	$æ¦
(
mask
)

194  (
mask
 =ð0 ? mask : ()
	`b¤q
((
u_lÚg
)mask) + 1);

195 
	}
}

197 
	#HAVE_INLINE_FLSLL


	)

199 
__šlše
 
__pu»2
 

200 
	$æ¦l
(
mask
)

202  (
	`æ¦
(()
mask
));

203 
	}
}

207 
__šlše
 

208 
	$h®t
()

210 
__asm
 
	`__vÞ©že
("hlt");

211 
	}
}

213 
__šlše
 
u_ch¬


214 
	$šb
(
u_št
 
pÜt
)

216 
u_ch¬
 
d©a
;

218 
__asm
 
	`__vÞ©že
("šb %w1, %0" : "÷" (
d©a
è: "Nd" (
pÜt
));

219  (
d©a
);

220 
	}
}

222 
__šlše
 
u_št


223 
	$šl
(
u_št
 
pÜt
)

225 
u_št
 
d©a
;

227 
__asm
 
	`__vÞ©že
("šÈ%w1, %0" : "÷" (
d©a
è: "Nd" (
pÜt
));

228  (
d©a
);

229 
	}
}

231 
__šlše
 

232 
	$šsb
(
u_št
 
pÜt
, *
addr
, 
size_t
 
couÁ
)

234 
__asm
 
	`__vÞ©že
("cld;„ep; insb"

235 : "+D" (
addr
), "+c" (
couÁ
)

236 : "d" (
pÜt
)

238 
	}
}

240 
__šlše
 

241 
	$šsw
(
u_št
 
pÜt
, *
addr
, 
size_t
 
couÁ
)

243 
__asm
 
	`__vÞ©že
("cld;„ep; insw"

244 : "+D" (
addr
), "+c" (
couÁ
)

245 : "d" (
pÜt
)

247 
	}
}

249 
__šlše
 

250 
	$š¦
(
u_št
 
pÜt
, *
addr
, 
size_t
 
couÁ
)

252 
__asm
 
	`__vÞ©že
("cld;„ep; insl"

253 : "+D" (
addr
), "+c" (
couÁ
)

254 : "d" (
pÜt
)

256 
	}
}

258 
__šlše
 

259 
	$švd
()

261 
__asm
 
	`__vÞ©že
("invd");

262 
	}
}

264 
__šlše
 
u_shÜt


265 
	$šw
(
u_št
 
pÜt
)

267 
u_shÜt
 
d©a
;

269 
__asm
 
	`__vÞ©že
("šw %w1, %0" : "÷" (
d©a
è: "Nd" (
pÜt
));

270  (
d©a
);

271 
	}
}

273 
__šlše
 

274 
	$outb
(
u_št
 
pÜt
, 
u_ch¬
 
d©a
)

276 
__asm
 
	`__vÞ©že
("outb %0, %w1" : : "a" (
d©a
), "Nd" (
pÜt
));

277 
	}
}

279 
__šlše
 

280 
	$ouŽ
(
u_št
 
pÜt
, u_šˆ
d©a
)

282 
__asm
 
	`__vÞ©že
("ouŽ %0, %w1" : : "a" (
d©a
), "Nd" (
pÜt
));

283 
	}
}

285 
__šlše
 

286 
	$outsb
(
u_št
 
pÜt
, cÚ¡ *
addr
, 
size_t
 
couÁ
)

288 
__asm
 
	`__vÞ©že
("cld;„ep; outsb"

289 : "+S" (
addr
), "+c" (
couÁ
)

290 : "d" (
pÜt
));

291 
	}
}

293 
__šlše
 

294 
	$outsw
(
u_št
 
pÜt
, cÚ¡ *
addr
, 
size_t
 
couÁ
)

296 
__asm
 
	`__vÞ©že
("cld;„ep; outsw"

297 : "+S" (
addr
), "+c" (
couÁ
)

298 : "d" (
pÜt
));

299 
	}
}

301 
__šlše
 

302 
	$out¦
(
u_št
 
pÜt
, cÚ¡ *
addr
, 
size_t
 
couÁ
)

304 
__asm
 
	`__vÞ©že
("cld;„ep; outsl"

305 : "+S" (
addr
), "+c" (
couÁ
)

306 : "d" (
pÜt
));

307 
	}
}

309 
__šlše
 

310 
	$outw
(
u_št
 
pÜt
, 
u_shÜt
 
d©a
)

312 
__asm
 
	`__vÞ©že
("outw %0, %w1" : : "a" (
d©a
), "Nd" (
pÜt
));

313 
	}
}

315 
__šlše
 
u_lÚg


316 
	$pÝútq
(
u_lÚg
 
mask
)

318 
u_lÚg
 
»suÉ
;

320 
__asm
 
	`__vÞ©že
("pÝútq %1,%0" : "ô" (
»suÉ
è: "rm" (
mask
));

321  (
»suÉ
);

322 
	}
}

324 
__šlše
 

325 
	$lãnû
()

328 
__asm
 
	`__vÞ©že
("lfence" : : : "memory");

329 
	}
}

331 
__šlše
 

332 
	$mãnû
()

335 
__asm
 
	`__vÞ©že
("mfence" : : : "memory");

336 
	}
}

338 
__šlše
 

339 
	$sãnû
()

342 
__asm
 
	`__vÞ©že
("sfence" : : : "memory");

343 
	}
}

345 
__šlše
 

346 
	$Ÿ32_·u£
()

348 
__asm
 
	`__vÞ©že
("pause");

349 
	}
}

351 
__šlše
 
u_lÚg


352 
	$»ad_ræags
()

354 
u_lÚg
 
rf
;

356 
__asm
 
	`__vÞ©že
("pushfq;…Ýq %0" : "ô" (
rf
));

357  (
rf
);

358 
	}
}

360 
__šlše
 
ušt64_t


361 
	$rdm¤
(
u_št
 
m¤
)

363 
ušt32_t
 
low
, 
high
;

365 
__asm
 
	`__vÞ©že
("rdm¤" : "÷" (
low
), "=d" (
high
è: "c" (
m¤
));

366  (
low
 | ((
ušt64_t
)
high
 << 32));

367 
	}
}

369 
__šlše
 
ušt32_t


370 
	$rdm¤32
(
u_št
 
m¤
)

372 
ušt32_t
 
low
;

374 
__asm
 
	`__vÞ©že
("rdm¤" : "÷" (
low
è: "c" (
m¤
) : "rdx");

375  (
low
);

376 
	}
}

378 
__šlše
 
ušt64_t


379 
	$rdpmc
(
u_št
 
pmc
)

381 
ušt32_t
 
low
, 
high
;

383 
__asm
 
	`__vÞ©že
("rdpmc" : "÷" (
low
), "=d" (
high
è: "c" (
pmc
));

384  (
low
 | ((
ušt64_t
)
high
 << 32));

385 
	}
}

387 
__šlše
 
ušt64_t


388 
	$rdtsc
()

390 
ušt32_t
 
low
, 
high
;

392 
__asm
 
	`__vÞ©že
("rdtsc" : "÷" (
low
), "=d" (
high
));

393  (
low
 | ((
ušt64_t
)
high
 << 32));

394 
	}
}

396 
__šlše
 
ušt64_t


397 
	$rdtsý
()

399 
ušt32_t
 
low
, 
high
;

401 
__asm
 
	`__vÞ©že
("rdtsý" : "÷" (
low
), "=d" (
high
) : : "ecx");

402  (
low
 | ((
ušt64_t
)
high
 << 32));

403 
	}
}

405 
__šlše
 
ušt32_t


406 
	$rdtsc32
()

408 
ušt32_t
 
rv
;

410 
__asm
 
	`__vÞ©že
("rdtsc" : "÷" (
rv
) : : "edx");

411  (
rv
);

412 
	}
}

414 
__šlše
 

415 
	$wbšvd
()

417 
__asm
 
	`__vÞ©že
("wbinvd");

418 
	}
}

420 
__šlše
 

421 
	$wr™e_ræags
(
u_lÚg
 
rf
)

423 
__asm
 
	`__vÞ©že
("pushq %0;…Ýfq" : : "r" (
rf
));

424 
	}
}

426 
__šlše
 

427 
	$wrm¤
(
u_št
 
m¤
, 
ušt64_t
 
Ãwv®
)

429 
ušt32_t
 
low
, 
high
;

431 
low
 = 
Ãwv®
;

432 
high
 = 
Ãwv®
 >> 32;

433 
__asm
 
	`__vÞ©že
("wrm¤" : : "a" (
low
), "d" (
high
), "c" (
m¤
));

434 
	}
}

436 
__šlše
 

437 
	$lßd_ü0
(
u_lÚg
 
d©a
)

440 
__asm
 
	`__vÞ©že
("movq %0,%%ü0" : : "r" (
d©a
));

441 
	}
}

443 
__šlše
 
u_lÚg


444 
	$rü0
()

446 
u_lÚg
 
d©a
;

448 
__asm
 
	`__vÞ©že
("movq %%ü0,%0" : "ô" (
d©a
));

449  (
d©a
);

450 
	}
}

452 
__šlše
 
u_lÚg


453 
	$rü2
()

455 
u_lÚg
 
d©a
;

457 
__asm
 
	`__vÞ©že
("movq %%ü2,%0" : "ô" (
d©a
));

458  (
d©a
);

459 
	}
}

461 
__šlše
 

462 
	$lßd_ü3
(
u_lÚg
 
d©a
)

465 
__asm
 
	`__vÞ©že
("movq %0,%%ü3" : : "r" (
d©a
) : "memory");

466 
	}
}

468 
__šlše
 
u_lÚg


469 
	$rü3
()

471 
u_lÚg
 
d©a
;

473 
__asm
 
	`__vÞ©že
("movq %%ü3,%0" : "ô" (
d©a
));

474  (
d©a
);

475 
	}
}

477 
__šlše
 

478 
	$lßd_ü4
(
u_lÚg
 
d©a
)

480 
__asm
 
	`__vÞ©že
("movq %0,%%ü4" : : "r" (
d©a
));

481 
	}
}

483 
__šlše
 
u_lÚg


484 
	$rü4
()

486 
u_lÚg
 
d©a
;

488 
__asm
 
	`__vÞ©že
("movq %%ü4,%0" : "ô" (
d©a
));

489  (
d©a
);

490 
	}
}

492 
__šlše
 
u_lÚg


493 
	$rxü
(
u_št
 
»g
)

495 
u_št
 
low
, 
high
;

497 
__asm
 
	`__vÞ©že
("xg‘bv" : "÷" (
low
), "=d" (
high
è: "c" (
»g
));

498  (
low
 | ((
ušt64_t
)
high
 << 32));

499 
	}
}

501 
__šlše
 

502 
	$lßd_xü
(
u_št
 
»g
, 
u_lÚg
 
v®
)

504 
u_št
 
low
, 
high
;

506 
low
 = 
v®
;

507 
high
 = 
v®
 >> 32;

508 
__asm
 
	`__vÞ©že
("x£tbv" : : "c" (
»g
), "a" (
low
), "d" (
high
));

509 
	}
}

514 
__šlše
 

515 
	$švÉlb
()

518 
	`lßd_ü3
(
	`rü3
());

519 
	}
}

521 #iâdeà
CR4_PGE


522 
	#CR4_PGE
 0x00000080

	)

532 
__šlše
 

533 
	$švÉlb_glob
()

535 
ušt64_t
 
ü4
;

537 
ü4
 = 
	`rü4
();

538 
	`lßd_ü4
(
ü4
 & ~
CR4_PGE
);

546 
	`lßd_ü4
(
ü4
 | 
CR4_PGE
);

547 
	}
}

553 
__šlše
 

554 
	$švÍg
(
u_lÚg
 
addr
)

557 
__asm
 
	`__vÞ©že
("švÍg %0" : : "m" (*(*)
addr
) : "memory");

558 
	}
}

560 
	#INVPCID_ADDR
 0

	)

561 
	#INVPCID_CTX
 1

	)

562 
	#INVPCID_CTXGLOB
 2

	)

563 
	#INVPCID_ALLCTX
 3

	)

565 
	sšvpcid_desü
 {

566 
ušt64_t
 
	mpcid
:12 
__·cked
;

567 
ušt64_t
 
	m·d
:52 
__·cked
;

568 
ušt64_t
 
	maddr
;

569 } 
	g__·cked
;

571 
__šlše
 

572 
	$švpcid
(
švpcid_desü
 *
d
, 
ty³
)

575 
__asm
 
	`__vÞ©že
("invpcid (%0),%1"

576 : : "r" (
d
), "r" ((
u_lÚg
)
ty³
) : "memory");

577 
	}
}

579 
__šlše
 
u_shÜt


580 
	$rfs
()

582 
u_shÜt
 
£l
;

583 
__asm
 
	`__vÞ©že
("movw %%fs,%0" : "ôm" (
£l
));

584  (
£l
);

585 
	}
}

587 
__šlše
 
u_shÜt


588 
	$rgs
()

590 
u_shÜt
 
£l
;

591 
__asm
 
	`__vÞ©že
("movw %%gs,%0" : "ôm" (
£l
));

592  (
£l
);

593 
	}
}

595 
__šlše
 
u_shÜt


596 
	$rss
()

598 
u_shÜt
 
£l
;

599 
__asm
 
	`__vÞ©že
("movw %%ss,%0" : "ôm" (
£l
));

600  (
£l
);

601 
	}
}

603 
__šlše
 

604 
	$lßd_ds
(
u_shÜt
 
£l
)

606 
__asm
 
	`__vÞ©že
("movw %0,%%ds" : : "rm" (
£l
));

607 
	}
}

609 
__šlše
 

610 
	$lßd_es
(
u_shÜt
 
£l
)

612 
__asm
 
	`__vÞ©že
("movw %0,%%es" : : "rm" (
£l
));

613 
	}
}

615 
__šlše
 

616 
	$ýu_mÚ™Ü
(cÚ¡ *
addr
, 
u_lÚg
 
ex‹nsiÚs
, 
u_št
 
hšts
)

619 
__asm
 
	`__vÞ©že
("monitor"

620 : : "a" (
addr
), "c" (
ex‹nsiÚs
), "d" (
hšts
));

621 
	}
}

623 
__šlše
 

624 
	$ýu_mwa™
(
u_lÚg
 
ex‹nsiÚs
, 
u_št
 
hšts
)

627 
__asm
 
	`__vÞ©že
("mwa™" : : "a" (
hšts
), "c" (
ex‹nsiÚs
));

628 
	}
}

630 #ifdeà
_KERNEL


632 #iâdef 
MSR_FSBASE


633 
	#MSR_FSBASE
 0xc0000100

	)

635 
__šlše
 

636 
	$lßd_fs
(
u_shÜt
 
£l
)

639 
__asm
 
	`__vÞ©že
("rdmsr; movw %0,%%fs; wrmsr"

640 : : "rm" (
£l
), "c" (
MSR_FSBASE
) : "eax", "edx");

641 
	}
}

643 #iâdef 
MSR_GSBASE


644 
	#MSR_GSBASE
 0xc0000101

	)

646 
__šlše
 

647 
	$lßd_gs
(
u_shÜt
 
£l
)

654 
__asm
 
	`__vÞ©že
("pushfq; cli;„dmsr; movw %0,%%gs; wrmsr;…opfq"

655 : : "rm" (
£l
), "c" (
MSR_GSBASE
) : "eax", "edx");

656 
	}
}

659 
__šlše
 

660 
	$lßd_fs
(
u_shÜt
 
£l
)

662 
__asm
 
	`__vÞ©že
("movw %0,%%fs" : : "rm" (
£l
));

663 
	}
}

665 
__šlše
 

666 
	$lßd_gs
(
u_shÜt
 
£l
)

668 
__asm
 
	`__vÞ©že
("movw %0,%%gs" : : "rm" (
£l
));

669 
	}
}

672 
__šlše
 
ušt64_t


673 
	$rdfsba£
()

675 
ušt64_t
 
x
;

677 
__asm
 
	`__vÞ©že
("rdfsba£ %0" : "ô" (
x
));

678  (
x
);

679 
	}
}

681 
__šlše
 

682 
	$wrfsba£
(
ušt64_t
 
x
)

685 
__asm
 
	`__vÞ©že
("wrfsba£ %0" : : "r" (
x
));

686 
	}
}

688 
__šlše
 
ušt64_t


689 
	$rdgsba£
()

691 
ušt64_t
 
x
;

693 
__asm
 
	`__vÞ©že
("rdgsba£ %0" : "ô" (
x
));

694  (
x
);

695 
	}
}

697 
__šlše
 

698 
	$wrgsba£
(
ušt64_t
 
x
)

701 
__asm
 
	`__vÞ©že
("wrgsba£ %0" : : "r" (
x
));

702 
	}
}

704 
__šlše
 

705 
	$b¬e_lgdt
(
»giÚ_desütÜ
 *
addr
)

707 
__asm
 
	`__vÞ©že
("lgdˆ(%0)" : : "r" (
addr
));

708 
	}
}

710 
__šlše
 

711 
	$sgdt
(
»giÚ_desütÜ
 *
addr
)

713 *
loc
;

715 
loc
 = (*)
addr
;

716 
__asm
 
	`__vÞ©že
("sgdˆ%0" : "=m" (*
loc
) : : "memory");

717 
	}
}

719 
__šlše
 

720 
	$lidt
(
»giÚ_desütÜ
 *
addr
)

722 
__asm
 
	`__vÞ©že
("lidˆ(%0)" : : "r" (
addr
));

723 
	}
}

725 
__šlše
 

726 
	$sidt
(
»giÚ_desütÜ
 *
addr
)

728 *
loc
;

730 
loc
 = (*)
addr
;

731 
__asm
 
	`__vÞ©že
("sidˆ%0" : "=m" (*
loc
) : : "memory");

732 
	}
}

734 
__šlše
 

735 
	$Îdt
(
u_shÜt
 
£l
)

737 
__asm
 
	`__vÞ©že
("Îdˆ%0" : : "r" (
£l
));

738 
	}
}

740 
__šlše
 
u_shÜt


741 
	$¦dt
()

743 
u_shÜt
 
£l
;

745 
__asm
 
	`__vÞ©že
("¦dˆ%0" : "ô" (
£l
));

746  (
£l
);

747 
	}
}

749 
__šlše
 

750 
	$Ér
(
u_shÜt
 
£l
)

752 
__asm
 
	`__vÞ©že
("É¸%0" : : "r" (
£l
));

753 
	}
}

755 
__šlše
 
ušt32_t


756 
	$»ad_Œ
()

758 
u_shÜt
 
£l
;

760 
__asm
 
	`__vÞ©že
("¡¸%0" : "ô" (
£l
));

761  (
£l
);

762 
	}
}

764 
__šlše
 
ušt64_t


765 
	$rdr0
()

767 
ušt64_t
 
d©a
;

768 
__asm
 
	`__vÞ©že
("movq %%dr0,%0" : "ô" (
d©a
));

769  (
d©a
);

770 
	}
}

772 
__šlše
 

773 
	$lßd_dr0
(
ušt64_t
 
dr0
)

775 
__asm
 
	`__vÞ©že
("movq %0,%%dr0" : : "r" (
dr0
));

776 
	}
}

778 
__šlše
 
ušt64_t


779 
	$rdr1
()

781 
ušt64_t
 
d©a
;

782 
__asm
 
	`__vÞ©že
("movq %%dr1,%0" : "ô" (
d©a
));

783  (
d©a
);

784 
	}
}

786 
__šlše
 

787 
	$lßd_dr1
(
ušt64_t
 
dr1
)

789 
__asm
 
	`__vÞ©že
("movq %0,%%dr1" : : "r" (
dr1
));

790 
	}
}

792 
__šlše
 
ušt64_t


793 
	$rdr2
()

795 
ušt64_t
 
d©a
;

796 
__asm
 
	`__vÞ©že
("movq %%dr2,%0" : "ô" (
d©a
));

797  (
d©a
);

798 
	}
}

800 
__šlše
 

801 
	$lßd_dr2
(
ušt64_t
 
dr2
)

803 
__asm
 
	`__vÞ©že
("movq %0,%%dr2" : : "r" (
dr2
));

804 
	}
}

806 
__šlše
 
ušt64_t


807 
	$rdr3
()

809 
ušt64_t
 
d©a
;

810 
__asm
 
	`__vÞ©že
("movq %%dr3,%0" : "ô" (
d©a
));

811  (
d©a
);

812 
	}
}

814 
__šlše
 

815 
	$lßd_dr3
(
ušt64_t
 
dr3
)

817 
__asm
 
	`__vÞ©že
("movq %0,%%dr3" : : "r" (
dr3
));

818 
	}
}

820 
__šlše
 
ušt64_t


821 
	$rdr6
()

823 
ušt64_t
 
d©a
;

824 
__asm
 
	`__vÞ©že
("movq %%dr6,%0" : "ô" (
d©a
));

825  (
d©a
);

826 
	}
}

828 
__šlše
 

829 
	$lßd_dr6
(
ušt64_t
 
dr6
)

831 
__asm
 
	`__vÞ©že
("movq %0,%%dr6" : : "r" (
dr6
));

832 
	}
}

834 
__šlše
 
ušt64_t


835 
	$rdr7
()

837 
ušt64_t
 
d©a
;

838 
__asm
 
	`__vÞ©že
("movq %%dr7,%0" : "ô" (
d©a
));

839  (
d©a
);

840 
	}
}

842 
__šlše
 

843 
	$lßd_dr7
(
ušt64_t
 
dr7
)

845 
__asm
 
	`__vÞ©že
("movq %0,%%dr7" : : "r" (
dr7
));

846 
	}
}

848 
__šlše
 
»gi¡”_t


849 
	$šŒ_di§bË
()

851 
»gi¡”_t
 
ræags
;

853 
ræags
 = 
	`»ad_ræags
();

854 
	`di§bË_šŒ
();

855  (
ræags
);

856 
	}
}

858 
__šlše
 

859 
	$šŒ_»¡Üe
(
»gi¡”_t
 
ræags
)

861 
	`wr™e_ræags
(
ræags
);

862 
	}
}

864 
__šlše
 

865 
	$¡ac
()

868 
__asm
 
	`__vÞ©že
("stac" : : : "cc");

869 
	}
}

871 
__šlše
 

872 
	$þac
()

875 
__asm
 
	`__vÞ©že
("clac" : : : "cc");

876 
	}
}

879 
	mSGX_ECREATE
 = 0x0,

880 
	mSGX_EADD
 = 0x1,

881 
	mSGX_EINIT
 = 0x2,

882 
	mSGX_EREMOVE
 = 0x3,

883 
	mSGX_EDGBRD
 = 0x4,

884 
	mSGX_EDGBWR
 = 0x5,

885 
	mSGX_EEXTEND
 = 0x6,

886 
	mSGX_ELDU
 = 0x8,

887 
	mSGX_EBLOCK
 = 0x9,

888 
	mSGX_EPA
 = 0xA,

889 
	mSGX_EWB
 = 0xB,

890 
	mSGX_ETRACK
 = 0xC,

894 
	mSGX_PT_SECS
 = 0x00,

895 
	mSGX_PT_TCS
 = 0x01,

896 
	mSGX_PT_REG
 = 0x02,

897 
	mSGX_PT_VA
 = 0x03,

898 
	mSGX_PT_TRIM
 = 0x04,

901 
sgx_’þs
(
ušt32_t
 
—x
, 
ušt64_t
 
rbx
, ušt64_ˆ
rcx
, ušt64_ˆ
rdx
);

903 
__šlše
 

904 
	$sgx_eü—‹
(*
pgšfo
, *
£cs
)

907  (
	`sgx_’þs
(
SGX_ECREATE
, (
ušt64_t
)
pgšfo
,

908 (
ušt64_t
)
£cs
, 0));

909 
	}
}

911 
__šlše
 

912 
	$sgx_—dd
(*
pgšfo
, *
•c
)

915  (
	`sgx_’þs
(
SGX_EADD
, (
ušt64_t
)
pgšfo
,

916 (
ušt64_t
)
•c
, 0));

917 
	}
}

919 
__šlše
 

920 
	$sgx_eš™
(*
sig¡ruù
, *
£cs
, *
eš™tok’
)

923  (
	`sgx_’þs
(
SGX_EINIT
, (
ušt64_t
)
sig¡ruù
,

924 (
ušt64_t
)
£cs
, (ušt64_t)
eš™tok’
));

925 
	}
}

927 
__šlše
 

928 
	$sgx_“x‹nd
(*
£cs
, *
•c
)

931  (
	`sgx_’þs
(
SGX_EEXTEND
, (
ušt64_t
)
£cs
,

932 (
ušt64_t
)
•c
, 0));

933 
	}
}

935 
__šlše
 

936 
	$sgx_•a
(*
•c
)

939  (
	`sgx_’þs
(
SGX_EPA
, 
SGX_PT_VA
, (
ušt64_t
)
•c
, 0));

940 
	}
}

942 
__šlše
 

943 
	$sgx_–du
(
ušt64_t
 
rbx
, ušt64_ˆ
rcx
,

944 
ušt64_t
 
rdx
)

947  (
	`sgx_’þs
(
SGX_ELDU
, 
rbx
, 
rcx
, 
rdx
));

948 
	}
}

950 
__šlše
 

951 
	$sgx_”emove
(*
•c
)

954  (
	`sgx_’þs
(
SGX_EREMOVE
, 0, (
ušt64_t
)
•c
, 0));

955 
	}
}

959 
b»akpošt
();

960 
u_št
 
bsæ
(u_šˆ
mask
);

961 
u_št
 
b¤l
(u_šˆ
mask
);

962 
þæush
(
u_lÚg
 
addr
);

963 
þts
();

964 
ýuid_couÁ
(
u_št
 
ax
, u_šˆ
cx
, u_šˆ*
p
);

965 
di§bË_šŒ
();

966 
do_ýuid
(
u_št
 
ax
, u_šˆ*
p
);

967 
’abË_šŒ
();

968 
h®t
();

969 
Ÿ32_·u£
();

970 
u_ch¬
 
šb
(
u_št
 
pÜt
);

971 
u_št
 
šl
(u_šˆ
pÜt
);

972 
šsb
(
u_št
 
pÜt
, *
addr
, 
size_t
 
couÁ
);

973 
š¦
(
u_št
 
pÜt
, *
addr
, 
size_t
 
couÁ
);

974 
šsw
(
u_št
 
pÜt
, *
addr
, 
size_t
 
couÁ
);

975 
»gi¡”_t
 
šŒ_di§bË
();

976 
šŒ_»¡Üe
(
»gi¡”_t
 
rf
);

977 
švd
();

978 
švÍg
(
u_št
 
addr
);

979 
švÉlb
();

980 
u_shÜt
 
šw
(
u_št
 
pÜt
);

981 
lidt
(
»giÚ_desütÜ
 *
addr
);

982 
Îdt
(
u_shÜt
 
£l
);

983 
lßd_ü0
(
u_lÚg
 
ü0
);

984 
lßd_ü3
(
u_lÚg
 
ü3
);

985 
lßd_ü4
(
u_lÚg
 
ü4
);

986 
lßd_dr0
(
ušt64_t
 
dr0
);

987 
lßd_dr1
(
ušt64_t
 
dr1
);

988 
lßd_dr2
(
ušt64_t
 
dr2
);

989 
lßd_dr3
(
ušt64_t
 
dr3
);

990 
lßd_dr6
(
ušt64_t
 
dr6
);

991 
lßd_dr7
(
ušt64_t
 
dr7
);

992 
lßd_fs
(
u_shÜt
 
£l
);

993 
lßd_gs
(
u_shÜt
 
£l
);

994 
Ér
(
u_shÜt
 
£l
);

995 
outb
(
u_št
 
pÜt
, 
u_ch¬
 
d©a
);

996 
ouŽ
(
u_št
 
pÜt
, u_šˆ
d©a
);

997 
outsb
(
u_št
 
pÜt
, cÚ¡ *
addr
, 
size_t
 
couÁ
);

998 
out¦
(
u_št
 
pÜt
, cÚ¡ *
addr
, 
size_t
 
couÁ
);

999 
outsw
(
u_št
 
pÜt
, cÚ¡ *
addr
, 
size_t
 
couÁ
);

1000 
outw
(
u_št
 
pÜt
, 
u_shÜt
 
d©a
);

1001 
u_lÚg
 
rü0
();

1002 
u_lÚg
 
rü2
();

1003 
u_lÚg
 
rü3
();

1004 
u_lÚg
 
rü4
();

1005 
ušt64_t
 
rdm¤
(
u_št
 
m¤
);

1006 
ušt32_t
 
rdm¤32
(
u_št
 
m¤
);

1007 
ušt64_t
 
rdpmc
(
u_št
 
pmc
);

1008 
ušt64_t
 
rdr0
();

1009 
ušt64_t
 
rdr1
();

1010 
ušt64_t
 
rdr2
();

1011 
ušt64_t
 
rdr3
();

1012 
ušt64_t
 
rdr6
();

1013 
ušt64_t
 
rdr7
();

1014 
ušt64_t
 
rdtsc
();

1015 
u_lÚg
 
»ad_ræags
();

1016 
u_št
 
rfs
();

1017 
u_št
 
rgs
();

1018 
wbšvd
();

1019 
wr™e_ræags
(
u_št
 
rf
);

1020 
wrm¤
(
u_št
 
m¤
, 
ušt64_t
 
Ãwv®
);

1024 
»£t_db»gs
();

1026 #ifdeà
_KERNEL


1027 
rdm¤_§ã
(
u_št
 
m¤
, 
ušt64_t
 *
v®
);

1028 
wrm¤_§ã
(
u_št
 
m¤
, 
ušt64_t
 
Ãwv®
);

	@/usr/include/machine/fpu.h

43 #iâdeà
_MACHINE_FPU_H_


44 
	#_MACHINE_FPU_H_


	)

46 
	~<x86/åu.h
>

48 #ifdeà
_KERNEL


50 
	gåu_k”n_ùx
;

52 
	#PCB_USER_FPU
(
pcb
è((Õcb)->
pcb_æags
 & 
PCB_KERNFPU
è=ð0)

	)

54 
	#XSAVE_AREA_ALIGN
 64

	)

56 
åudÇ
();

57 
åudrÝ
();

58 
åuex™
(
th»ad
 *
td
);

59 
åufÜm©
();

60 
åug‘»gs
(
th»ad
 *
td
);

61 
åuš™
();

62 
åu»¡Üe
(*
addr
);

63 
åu»sume
(*
addr
);

64 
åu§ve
(*
addr
);

65 
åu£Œegs
(
th»ad
 *
td
, 
§veåu
 *
addr
,

66 *
xåu¡©e
, 
size_t
 
xåu¡©e_size
);

67 
åu£tx¡©e
(
th»ad
 *
td
, *
xåu¡©e
,

68 
size_t
 
xåu¡©e_size
);

69 
åusu¥’d
(*
addr
);

70 
åuŒ­_s£
();

71 
åuŒ­_x87
();

72 
åuu£rš™ed
(
th»ad
 *
td
);

73 
åu_k”n_ùx
 *
åu_k”n_®loc_ùx
(
u_št
 
æags
);

74 
åu_k”n_ä“_ùx
(
åu_k”n_ùx
 *
ùx
);

75 
åu_k”n_’‹r
(
th»ad
 *
td
, 
åu_k”n_ùx
 *
ùx
,

76 
u_št
 
æags
);

77 
åu_k”n_Ëave
(
th»ad
 *
td
, 
åu_k”n_ùx
 *
ùx
);

78 
åu_k”n_th»ad
(
u_št
 
æags
);

79 
is_åu_k”n_th»ad
(
u_št
 
æags
);

81 
§veåu
 *
åu_§ve_¬—_®loc
();

82 
åu_§ve_¬—_ä“
(
§veåu
 *
f§
);

83 
åu_§ve_¬—_»£t
(
§veåu
 *
f§
);

88 
	#FPU_KERN_NORMAL
 0x0000

	)

89 
	#FPU_KERN_NOWAIT
 0x0001

	)

90 
	#FPU_KERN_KTHR
 0x0002

	)

91 
	#FPU_KERN_NOCTX
 0x0004

	)

	@/usr/include/machine/frame.h

34 #iâdef 
_AMD64_FRAME_H


35 
	#_AMD64_FRAME_H


	)

37 
	~<x86/äame.h
>

39 
	s±i_äame
 {

40 
»gi¡”_t
 
	m±i_rdx
;

41 
»gi¡”_t
 
	m±i_¿x
;

42 
»gi¡”_t
 
	m±i_”r
;

43 
»gi¡”_t
 
	m±i_r
;

44 
»gi¡”_t
 
	m±i_cs
;

45 
»gi¡”_t
 
	m±i_ræags
;

46 
»gi¡”_t
 
	m±i_r¥
;

47 
»gi¡”_t
 
	m±i_ss
;

	@/usr/include/machine/ieeefp.h

40 #iâdeà
_MACHINE_IEEEFP_H_


41 
	#_MACHINE_IEEEFP_H_


	)

50 #iâdeà
_SYS_CDEFS_H_


51 #”rÜ 
this
 
fže
 
Ãeds
 
sys
/
cdefs
.
h
 
as
 
a
 
´”equis™e


58 
	mFP_RN
=0,

59 
	mFP_RM
,

60 
	mFP_RP
,

61 
	mFP_RZ


62 } 
	tå_ºd_t
;

68 
	mFP_PS
=0,

69 
	mFP_PRS
,

70 
	mFP_PD
,

71 
	mFP_PE


72 } 
	tå_´ec_t
;

74 
	#å_exû±_t
 

	)

79 
	#FP_X_INV
 0x01

	)

80 
	#FP_X_DNML
 0x02

	)

81 
	#FP_X_DZ
 0x04

	)

82 
	#FP_X_OFL
 0x08

	)

83 
	#FP_X_UFL
 0x10

	)

84 
	#FP_X_IMP
 0x20

	)

85 
	#FP_X_STK
 0x40

	)

90 
	#FP_MSKS_FLD
 0x3à

	)

91 
	#FP_PRC_FLD
 0x300

	)

92 
	#FP_RND_FLD
 0xc00

	)

97 
	#FP_STKY_FLD
 0x3à

	)

102 
	#SSE_STKY_FLD
 0x3à

	)

103 
	#SSE_DAZ_FLD
 0x40

	)

104 
	#SSE_MSKS_FLD
 0x1f80

	)

105 
	#SSE_RND_FLD
 0x6000

	)

106 
	#SSE_FZ_FLD
 0x8000

	)

111 
	#FP_MSKS_OFF
 0

	)

112 
	#FP_PRC_OFF
 8

	)

113 
	#FP_RND_OFF
 10

	)

118 
	#FP_STKY_OFF
 0

	)

123 
	#SSE_STKY_OFF
 0

	)

124 
	#SSE_DAZ_OFF
 6

	)

125 
	#SSE_MSKS_OFF
 7

	)

126 
	#SSE_RND_OFF
 13

	)

127 
	#SSE_FZ_OFF
 15

	)

129 #ifdeà
__GNUCLIKE_ASM


131 
	#__ædcw
(
addr
è
__asm
 
	`__vÞ©že
("ædcw %0" : : "m" (*×ddr)))

	)

132 
	#__æd’v
(
addr
è
__asm
 
	`__vÞ©že
("æd’v %0" : : "m" (*×ddr)))

	)

133 
	#__âþex
(è
__asm
 
	`__vÞ©že
("âþex")

	)

134 
	#__â¡cw
(
addr
è
__asm
 
	`__vÞ©že
("â¡cw %0" : "=m" (*×ddr)))

	)

135 
	#__â¡’v
(
addr
è
__asm
 
	`__vÞ©že
("â¡’v %0" : "=m" (*×ddr)))

	)

136 
	#__â¡sw
(
addr
è
__asm
 
	`__vÞ©že
("â¡sw %0" : "=m" (*×ddr)))

	)

137 
	#__ldmxc¤
(
addr
è
__asm
 
	`__vÞ©že
("ldmxc¤ %0" : : "m" (*×ddr)))

	)

138 
	#__¡mxc¤
(
addr
è
__asm
 
	`__vÞ©že
("¡mxc¤ %0" : "=m" (*×ddr)))

	)

147 
__šlše
 

148 
	$__âldcw
(
_cw
, 
_Ãwcw
)

151 
_cw
;

152 
_Ùh”
[6];

153 } 
_’v
;

154 
_sw
;

156 ià((
_cw
 & 
FP_MSKS_FLD
) != FP_MSKS_FLD) {

157 
	`__â¡sw
(&
_sw
);

158 ià(((
_sw
 & ~
_cw
è& 
FP_STKY_FLD
) != 0) {

159 
	`__â¡’v
(&
_’v
);

160 
_’v
.
_cw
 = 
_Ãwcw
;

161 
	`__æd’v
(&
_’v
);

165 
	`__ædcw
(&
_Ãwcw
);

166 
	}
}

179 
__šlše
 
å_ºd_t


180 
	$__åg‘round
()

182 
_cw
;

184 
	`__â¡cw
(&
_cw
);

185  ((
å_ºd_t
)((
_cw
 & 
FP_RND_FLD
è>> 
FP_RND_OFF
));

186 
	}
}

188 
__šlše
 
å_ºd_t


189 
	$__å£Œound
(
å_ºd_t
 
_m
)

191 
å_ºd_t
 
_p
;

192 
_mxc¤
;

193 
_cw
, 
_Ãwcw
;

195 
	`__â¡cw
(&
_cw
);

196 
_p
 = (
å_ºd_t
)((
_cw
 & 
FP_RND_FLD
è>> 
FP_RND_OFF
);

197 
_Ãwcw
 = 
_cw
 & ~
FP_RND_FLD
;

198 
_Ãwcw
 |ð(
_m
 << 
FP_RND_OFF
è& 
FP_RND_FLD
;

199 
	`__âldcw
(
_cw
, 
_Ãwcw
);

200 
	`__¡mxc¤
(&
_mxc¤
);

201 
_mxc¤
 &ð~
SSE_RND_FLD
;

202 
_mxc¤
 |ð(
_m
 << 
SSE_RND_OFF
è& 
SSE_RND_FLD
;

203 
	`__ldmxc¤
(&
_mxc¤
);

204  (
_p
);

205 
	}
}

212 
__šlše
 
å_´ec_t


213 
	$__åg‘´ec
()

215 
_cw
;

217 
	`__â¡cw
(&
_cw
);

218  ((
å_´ec_t
)((
_cw
 & 
FP_PRC_FLD
è>> 
FP_PRC_OFF
));

219 
	}
}

221 
__šlše
 
å_´ec_t


222 
	$__å£»c
(
å_´ec_t
 
_m
)

224 
å_´ec_t
 
_p
;

225 
_cw
, 
_Ãwcw
;

227 
	`__â¡cw
(&
_cw
);

228 
_p
 = (
å_´ec_t
)((
_cw
 & 
FP_PRC_FLD
è>> 
FP_PRC_OFF
);

229 
_Ãwcw
 = 
_cw
 & ~
FP_PRC_FLD
;

230 
_Ãwcw
 |ð(
_m
 << 
FP_PRC_OFF
è& 
FP_PRC_FLD
;

231 
	`__âldcw
(
_cw
, 
_Ãwcw
);

232  (
_p
);

233 
	}
}

241 
__šlše
 
å_exû±_t


242 
	$__åg‘mask
()

244 
_cw
;

246 
	`__â¡cw
(&
_cw
);

247  ((~
_cw
 & 
FP_MSKS_FLD
è>> 
FP_MSKS_OFF
);

248 
	}
}

250 
__šlše
 
å_exû±_t


251 
	$__å£tmask
(
å_exû±_t
 
_m
)

253 
å_exû±_t
 
_p
;

254 
_mxc¤
;

255 
_cw
, 
_Ãwcw
;

257 
	`__â¡cw
(&
_cw
);

258 
_p
 = (~
_cw
 & 
FP_MSKS_FLD
è>> 
FP_MSKS_OFF
;

259 
_Ãwcw
 = 
_cw
 & ~
FP_MSKS_FLD
;

260 
_Ãwcw
 |ð(~
_m
 << 
FP_MSKS_OFF
è& 
FP_MSKS_FLD
;

261 
	`__âldcw
(
_cw
, 
_Ãwcw
);

262 
	`__¡mxc¤
(&
_mxc¤
);

264 
_mxc¤
 &ð~
SSE_MSKS_FLD
;

265 
_mxc¤
 |ð(~
_m
 << 
SSE_MSKS_OFF
è& 
SSE_MSKS_FLD
;

266 
	`__ldmxc¤
(&
_mxc¤
);

267  (
_p
);

268 
	}
}

270 
__šlše
 
å_exû±_t


271 
	$__åg‘¡icky
()

273 
_ex
, 
_mxc¤
;

274 
_sw
;

276 
	`__â¡sw
(&
_sw
);

277 
_ex
 = (
_sw
 & 
FP_STKY_FLD
è>> 
FP_STKY_OFF
;

278 
	`__¡mxc¤
(&
_mxc¤
);

279 
_ex
 |ð(
_mxc¤
 & 
SSE_STKY_FLD
è>> 
SSE_STKY_OFF
;

280  ((
å_exû±_t
)
_ex
);

281 
	}
}

285 #ià!
defšed
(
__IEEEFP_NOINLINES__
è&& defšed(
__GNUCLIKE_ASM
)

287 
	#åg‘mask
(è
	`__åg‘mask
()

	)

288 
	#åg‘´ec
(è
	`__åg‘´ec
()

	)

289 
	#åg‘round
(è
	`__åg‘round
()

	)

290 
	#åg‘¡icky
(è
	`__åg‘¡icky
()

	)

291 
	#å£tmask
(
m
è
	`__å£tmask
(m)

	)

292 
	#å£»c
(
m
è
	`__å£»c
(m)

	)

293 
	#å£Œound
(
m
è
	`__å£Œound
(m)

	)

298 
__BEGIN_DECLS


299 
å_ºd_t
 
åg‘round
();

300 
å_ºd_t
 
å£Œound
(fp_rnd_t);

301 
å_exû±_t
 
åg‘mask
();

302 
å_exû±_t
 
å£tmask
(fp_except_t);

303 
å_exû±_t
 
åg‘¡icky
();

304 
å_exû±_t
 
å£t¡icky
(fp_except_t);

305 
å_´ec_t
 
åg‘´ec
();

306 
å_´ec_t
 
å£»c
(fp_prec_t);

307 
	g__END_DECLS


	@/usr/include/machine/intr_machdep.h

31 #iâdeà
__MACHINE_INTR_MACHDEP_H__


32 
	#__MACHINE_INTR_MACHDEP_H__


	)

34 
	~<x86/šŒ_machd•.h
>

40 
	snmi_pýu
 {

41 
»gi¡”_t
 
	mÅ_pýu
;

42 
»gi¡”_t
 
	m__·ddšg
;

	@/usr/include/machine/npx.h

6 
	~<x86/åu.h
>

	@/usr/include/machine/pcb.h

39 #iâdeà
_AMD64_PCB_H_


40 
	#_AMD64_PCB_H_


	)

45 
	~<machše/åu.h
>

46 
	~<machše/£gm’ts.h
>

48 #ifdeà
__amd64__


53 
	spcb
 {

54 
»gi¡”_t
 
	mpcb_r15
;

55 
»gi¡”_t
 
	mpcb_r14
;

56 
»gi¡”_t
 
	mpcb_r13
;

57 
»gi¡”_t
 
	mpcb_r12
;

58 
»gi¡”_t
 
	mpcb_rbp
;

59 
»gi¡”_t
 
	mpcb_r¥
;

60 
»gi¡”_t
 
	mpcb_rbx
;

61 
»gi¡”_t
 
	mpcb_r
;

62 
»gi¡”_t
 
	mpcb_fsba£
;

63 
»gi¡”_t
 
	mpcb_gsba£
;

64 
»gi¡”_t
 
	mpcb_kgsba£
;

65 
»gi¡”_t
 
	mpcb_ü0
;

66 
»gi¡”_t
 
	mpcb_ü2
;

67 
»gi¡”_t
 
	mpcb_ü3
;

68 
»gi¡”_t
 
	mpcb_ü4
;

69 
»gi¡”_t
 
	mpcb_dr0
;

70 
»gi¡”_t
 
	mpcb_dr1
;

71 
»gi¡”_t
 
	mpcb_dr2
;

72 
»gi¡”_t
 
	mpcb_dr3
;

73 
»gi¡”_t
 
	mpcb_dr6
;

74 
»gi¡”_t
 
	mpcb_dr7
;

76 
»giÚ_desütÜ
 
	mpcb_gdt
;

77 
»giÚ_desütÜ
 
	mpcb_idt
;

78 
»giÚ_desütÜ
 
	mpcb_ldt
;

79 
ušt16_t
 
	mpcb_Œ
;

81 
u_št
 
	mpcb_æags
;

82 
	#PCB_FULL_IRET
 0x01

	)

83 
	#PCB_DBREGS
 0x02

	)

84 
	#PCB_KERNFPU
 0x04

	)

85 
	#PCB_FPUINITDONE
 0x08

	)

86 
	#PCB_USERFPUINITDONE
 0x10

	)

87 
	#PCB_32BIT
 0x40

	)

88 
	#PCB_FPUNOSAVE
 0x80

	)

90 
ušt16_t
 
	mpcb_š™Ÿl_åucw
;

93 
ÿddr_t
 
	mpcb_ÚçuÉ
;

95 
ušt64_t
 
	mpcb_§ved_uü3
;

98 
amd64tss
 *
	mpcb_ts¥
;

101 
»gi¡”_t
 
	mpcb_eãr
;

102 
»gi¡”_t
 
	mpcb_¡¬
;

103 
»gi¡”_t
 
	mpcb_l¡¬
;

104 
»gi¡”_t
 
	mpcb_c¡¬
;

105 
»gi¡”_t
 
	mpcb_sfmask
;

107 
§veåu
 *
	mpcb_§ve
;

109 
ušt64_t
 
	mpcb_·d
[5];

113 
	ssu¥pcb
 {

114 
pcb
 
	m¥_pcb
;

117 *
	m¥_åusu¥’d
;

121 #ifdeà
_KERNEL


122 
	gŒ­äame
;

124 
þ—r_pcb_æags
(
pcb
 *pcb, cÚ¡ 
u_št
 
æags
);

125 
makeùx
(
Œ­äame
 *, 
pcb
 *);

126 
£t_pcb_æags
(
pcb
 *pcb, cÚ¡ 
u_št
 
æags
);

127 
£t_pcb_æags_¿w
(
pcb
 *pcb, cÚ¡ 
u_št
 
æags
);

128 
	$§veùx
(
pcb
 *è
__»tuºs_twiû
;

129 
	`»sumeùx
(
pcb
 *);

132 
	#upd©e_pcb_ba£s
(
pcb
è
	`£t_pcb_æags
(Õcb), 
PCB_FULL_IRET
)

	)

	@/usr/include/machine/psl.h

6 
	~<x86/p¦.h
>

	@/usr/include/machine/reg.h

6 
	~<x86/»g.h
>

	@/usr/include/machine/resource.h

31 #iâdeà
_MACHINE_RESOURCE_H_


32 
	#_MACHINE_RESOURCE_H_
 1

	)

39 
	#SYS_RES_IRQ
 1

	)

40 
	#SYS_RES_DRQ
 2

	)

41 
	#SYS_RES_MEMORY
 3

	)

42 
	#SYS_RES_IOPORT
 4

	)

43 #ifdeà
NEW_PCIB


44 
	#PCI_RES_BUS
 5

	)

	@/usr/include/machine/segments.h

39 #iâdeà
_MACHINE_SEGMENTS_H_


40 
	#_MACHINE_SEGMENTS_H_


	)

46 
	~<x86/£gm’ts.h
>

51 
	ssy¡em_£gm’t_desütÜ
 {

52 
u_št64_t
 
	msd_lÞim™
:16;

53 
u_št64_t
 
	msd_loba£
:24;

54 
u_št64_t
 
	msd_ty³
:5;

55 
u_št64_t
 
	msd_d¶
:2;

56 
u_št64_t
 
	msd_p
:1;

57 
u_št64_t
 
	msd_hžim™
:4;

58 
u_št64_t
 
	msd_xx0
:3;

59 
u_št64_t
 
	msd_g¿n
:1;

60 
u_št64_t
 
	msd_hiba£
:40 
__·cked
;

61 
u_št64_t
 
	msd_xx1
:8;

62 
u_št64_t
 
	msd_mbz
:5;

63 
u_št64_t
 
	msd_xx2
:19;

64 } 
	g__·cked
;

72 
	ssoá_£gm’t_desütÜ
 {

73 
	mssd_ba£
;

74 
	mssd_lim™
;

75 
	mssd_ty³
:5;

76 
	mssd_d¶
:2;

77 
	mssd_p
:1;

78 
	mssd_lÚg
:1;

79 
	mssd_def32
:1;

80 
	mssd_g¿n
:1;

81 } 
	g__·cked
;

86 
	s»giÚ_desütÜ
 {

87 
ušt64_t
 
	mrd_lim™
:16;

88 
ušt64_t
 
	mrd_ba£
:64 
__·cked
;

89 } 
	g__·cked
;

91 #ifdeà
_KERNEL


92 
u£r_£gm’t_desütÜ
 
gdt
[];

93 
soá_£gm’t_desütÜ
 
gdt_£gs
[];

94 
g©e_desütÜ
 *
idt
;

95 
»giÚ_desütÜ
 
r_gdt
, 
r_idt
;

97 
lgdt
(
»giÚ_desütÜ
 *
rdp
);

98 
sdtossd
(
u£r_£gm’t_desütÜ
 *
sdp
,

99 
soá_£gm’t_desütÜ
 *
ssdp
);

100 
ssdtosd
(
soá_£gm’t_desütÜ
 *
ssdp
,

101 
u£r_£gm’t_desütÜ
 *
sdp
);

102 
ssdtosyssd
(
soá_£gm’t_desütÜ
 *
ssdp
,

103 
sy¡em_£gm’t_desütÜ
 *
sdp
);

104 
upd©e_gdt_gsba£
(
th»ad
 *
td
, 
ušt32_t
 
ba£
);

105 
upd©e_gdt_fsba£
(
th»ad
 *
td
, 
ušt32_t
 
ba£
);

	@/usr/include/machine/specialreg.h

6 
	~<x86/¥ecŸÌeg.h
>

	@/usr/include/machine/sysarch.h

6 
	~<x86/sy§rch.h
>

	@/usr/include/machine/trap.h

6 
	~<x86/Œ­.h
>

	@/usr/include/net/if.h

35 #iâdeà
_NET_IF_H_


36 
	#_NET_IF_H_


	)

38 
	~<sys/cdefs.h
>

40 #ià
__BSD_VISIBLE


46 #iâdeà
_KERNEL


47 
	~<sys/time.h
>

48 
	~<sys/sock‘.h
>

56 
	#IF_NAMESIZE
 16

	)

57 #ià
__BSD_VISIBLE


58 
	#IFNAMSIZ
 
IF_NAMESIZE


	)

59 
	#IF_MAXUNIT
 0x7ffà

	)

61 #ià
__BSD_VISIBLE


67 
	sif_þÚ”eq
 {

68 
	mifü_tÙ®
;

69 
	mifü_couÁ
;

70 *
	mifü_bufãr
;

77 
	sif_d©a
 {

79 
ušt8_t
 
	mifi_ty³
;

80 
ušt8_t
 
	mifi_physiÿl
;

81 
ušt8_t
 
	mifi_add¾’
;

82 
ušt8_t
 
	mifi_hd¾’
;

83 
ušt8_t
 
	mifi_lšk_¡©e
;

84 
ušt8_t
 
	mifi_vhid
;

85 
ušt16_t
 
	mifi_d©®’
;

86 
ušt32_t
 
	mifi_mtu
;

87 
ušt32_t
 
	mifi_m‘ric
;

88 
ušt64_t
 
	mifi_baud¿‹
;

90 
ušt64_t
 
	mifi_ack‘s
;

91 
ušt64_t
 
	mifi_›¼Üs
;

92 
ušt64_t
 
	mifi_Ýack‘s
;

93 
ušt64_t
 
	mifi_Û¼Üs
;

94 
ušt64_t
 
	mifi_cÞlisiÚs
;

95 
ušt64_t
 
	mifi_iby‹s
;

96 
ušt64_t
 
	mifi_oby‹s
;

97 
ušt64_t
 
	mifi_imÿ¡s
;

98 
ušt64_t
 
	mifi_omÿ¡s
;

99 
ušt64_t
 
	mifi_iqdrÝs
;

100 
ušt64_t
 
	mifi_oqdrÝs
;

101 
ušt64_t
 
	mifi_nÝrÙo
;

102 
ušt64_t
 
	mifi_hwassi¡
;

106 
time_t
 
	m‰
;

107 
ušt64_t
 
	mph
;

108 } 
	m__ifi_•och
;

109 
	#ifi_•och
 
__ifi_•och
.
‰


	)

111 
timev®
 
	mtv
;

113 
ušt64_t
 
	mph1
;

114 
ušt64_t
 
	mph2
;

115 } 
	mph
;

116 } 
	m__ifi_Ï¡chªge
;

117 
	#ifi_Ï¡chªge
 
__ifi_Ï¡chªge
.
tv


	)

142 
	#IFF_UP
 0x1

	)

143 
	#IFF_BROADCAST
 0x2

	)

144 
	#IFF_DEBUG
 0x4

	)

145 
	#IFF_LOOPBACK
 0x8

	)

146 
	#IFF_POINTOPOINT
 0x10

	)

148 
	#IFF_DRV_RUNNING
 0x40

	)

149 
	#IFF_NOARP
 0x80

	)

150 
	#IFF_PROMISC
 0x100

	)

151 
	#IFF_ALLMULTI
 0x200

	)

152 
	#IFF_DRV_OACTIVE
 0x400

	)

153 
	#IFF_SIMPLEX
 0x800

	)

154 
	#IFF_LINK0
 0x1000

	)

155 
	#IFF_LINK1
 0x2000

	)

156 
	#IFF_LINK2
 0x4000

	)

157 
	#IFF_ALTPHYS
 
IFF_LINK2


	)

158 
	#IFF_MULTICAST
 0x8000

	)

159 
	#IFF_CANTCONFIG
 0x10000

	)

160 
	#IFF_PPROMISC
 0x20000

	)

161 
	#IFF_MONITOR
 0x40000

	)

162 
	#IFF_STATICARP
 0x80000

	)

163 
	#IFF_DYING
 0x200000

	)

164 
	#IFF_RENAMING
 0x400000

	)

165 
	#IFF_NOGROUP
 0x800000

	)

172 #iâdeà
_KERNEL


173 
	#IFF_RUNNING
 
IFF_DRV_RUNNING


	)

174 
	#IFF_OACTIVE
 
IFF_DRV_OACTIVE


	)

178 
	#IFF_CANTCHANGE
 \

179 (
IFF_BROADCAST
|
IFF_POINTOPOINT
|
IFF_DRV_RUNNING
|
IFF_DRV_OACTIVE
|\

180 
IFF_SIMPLEX
|
IFF_MULTICAST
|
IFF_ALLMULTI
|
IFF_PROMISC
|\

181 
IFF_DYING
|
IFF_CANTCONFIG
)

	)

186 
	#LINK_STATE_UNKNOWN
 0

	)

187 
	#LINK_STATE_DOWN
 1

	)

188 
	#LINK_STATE_UP
 2

	)

194 
	#IF_Kbps
(
x
è((
uštmax_t
)(xè* 1000è

	)

195 
	#IF_Mbps
(
x
è(
	`IF_Kbps
((xè* 1000)è

	)

196 
	#IF_Gbps
(
x
è(
	`IF_Mbps
((xè* 1000)è

	)

223 
	#IFCAP_RXCSUM
 0x00001

	)

224 
	#IFCAP_TXCSUM
 0x00002

	)

225 
	#IFCAP_NETCONS
 0x00004

	)

226 
	#IFCAP_VLAN_MTU
 0x00008

	)

227 
	#IFCAP_VLAN_HWTAGGING
 0x00010

	)

228 
	#IFCAP_JUMBO_MTU
 0x00020

	)

229 
	#IFCAP_POLLING
 0x00040

	)

230 
	#IFCAP_VLAN_HWCSUM
 0x00080

	)

231 
	#IFCAP_TSO4
 0x00100

	)

232 
	#IFCAP_TSO6
 0x00200

	)

233 
	#IFCAP_LRO
 0x00400

	)

234 
	#IFCAP_WOL_UCAST
 0x00800

	)

235 
	#IFCAP_WOL_MCAST
 0x01000

	)

236 
	#IFCAP_WOL_MAGIC
 0x02000

	)

237 
	#IFCAP_TOE4
 0x04000

	)

238 
	#IFCAP_TOE6
 0x08000

	)

239 
	#IFCAP_VLAN_HWFILTER
 0x10000

	)

241 
	#IFCAP_VLAN_HWTSO
 0x40000

	)

242 
	#IFCAP_LINKSTATE
 0x80000

	)

243 
	#IFCAP_NETMAP
 0x100000

	)

244 
	#IFCAP_RXCSUM_IPV6
 0x200000

	)

245 
	#IFCAP_TXCSUM_IPV6
 0x400000

	)

246 
	#IFCAP_HWSTATS
 0x800000

	)

247 
	#IFCAP_TXRTLMT
 0x1000000

	)

248 
	#IFCAP_HWRXTSTMP
 0x2000000

	)

250 
	#IFCAP_HWCSUM_IPV6
 (
IFCAP_RXCSUM_IPV6
 | 
IFCAP_TXCSUM_IPV6
)

	)

252 
	#IFCAP_HWCSUM
 (
IFCAP_RXCSUM
 | 
IFCAP_TXCSUM
)

	)

253 
	#IFCAP_TSO
 (
IFCAP_TSO4
 | 
IFCAP_TSO6
)

	)

254 
	#IFCAP_WOL
 (
IFCAP_WOL_UCAST
 | 
IFCAP_WOL_MCAST
 | 
IFCAP_WOL_MAGIC
)

	)

255 
	#IFCAP_TOE
 (
IFCAP_TOE4
 | 
IFCAP_TOE6
)

	)

257 
	#IFCAP_CANTCHANGE
 (
IFCAP_NETMAP
)

	)

259 
	#IFQ_MAXLEN
 50

	)

260 
	#IFNET_SLOWHZ
 1

	)

267 
	sif_msghdr
 {

268 
u_shÜt
 
	mifm_msgËn
;

269 
u_ch¬
 
	mifm_v”siÚ
;

270 
u_ch¬
 
	mifm_ty³
;

271 
	mifm_addrs
;

272 
	mifm_æags
;

273 
u_shÜt
 
	mifm_šdex
;

274 
u_shÜt
 
	m_ifm_¥¬e1
;

275 
if_d©a
 
	mifm_d©a
;

286 
	#IF_MSGHDRL_IFM_DATA
(
_l
) \

287 (
if_d©a
 *)((*)(
_l
è+ (_l)->
ifm_d©a_off
)

	)

288 
	#IF_MSGHDRL_RTA
(
_l
) \

289 (*)((
ušŒ_t
)(
_l
è+ (_l)->
ifm_Ën
)

	)

290 
	sif_msghd¾
 {

291 
u_shÜt
 
	mifm_msgËn
;

292 
u_ch¬
 
	mifm_v”siÚ
;

293 
u_ch¬
 
	mifm_ty³
;

294 
	mifm_addrs
;

295 
	mifm_æags
;

296 
u_shÜt
 
	mifm_šdex
;

297 
u_shÜt
 
	m_ifm_¥¬e1
;

298 
u_shÜt
 
	mifm_Ën
;

299 
u_shÜt
 
	mifm_d©a_off
;

300 
	m_ifm_¥¬e2
;

301 
if_d©a
 
	mifm_d©a
;

309 
	siç_msghdr
 {

310 
u_shÜt
 
	miçm_msgËn
;

311 
u_ch¬
 
	miçm_v”siÚ
;

312 
u_ch¬
 
	miçm_ty³
;

313 
	miçm_addrs
;

314 
	miçm_æags
;

315 
u_shÜt
 
	miçm_šdex
;

316 
u_shÜt
 
	m_içm_¥¬e1
;

317 
	miçm_m‘ric
;

328 
	#IFA_MSGHDRL_IFAM_DATA
(
_l
) \

329 (
if_d©a
 *)((*)(
_l
è+ (_l)->
içm_d©a_off
)

	)

330 
	#IFA_MSGHDRL_RTA
(
_l
) \

331 (*)((
ušŒ_t
)(
_l
è+ (_l)->
içm_Ën
)

	)

332 
	siç_msghd¾
 {

333 
u_shÜt
 
	miçm_msgËn
;

334 
u_ch¬
 
	miçm_v”siÚ
;

335 
u_ch¬
 
	miçm_ty³
;

336 
	miçm_addrs
;

337 
	miçm_æags
;

338 
u_shÜt
 
	miçm_šdex
;

339 
u_shÜt
 
	m_içm_¥¬e1
;

340 
u_shÜt
 
	miçm_Ën
;

341 
u_shÜt
 
	miçm_d©a_off
;

342 
	miçm_m‘ric
;

343 
if_d©a
 
	miçm_d©a
;

351 
	sifma_msghdr
 {

352 
u_shÜt
 
	mifmam_msgËn
;

353 
u_ch¬
 
	mifmam_v”siÚ
;

354 
u_ch¬
 
	mifmam_ty³
;

355 
	mifmam_addrs
;

356 
	mifmam_æags
;

357 
u_shÜt
 
	mifmam_šdex
;

358 
u_shÜt
 
	m_ifmam_¥¬e1
;

364 
	sif_ªnounûmsghdr
 {

365 
u_shÜt
 
	miçn_msgËn
;

366 
u_ch¬
 
	miçn_v”siÚ
;

367 
u_ch¬
 
	miçn_ty³
;

368 
u_shÜt
 
	miçn_šdex
;

369 
	miçn_Çme
[
IFNAMSIZ
];

370 
u_shÜt
 
	miçn_wh©
;

373 
	#IFAN_ARRIVAL
 0

	)

374 
	#IFAN_DEPARTURE
 1

	)

379 
	siäeq_bufãr
 {

380 
size_t
 
	mËngth
;

381 *
	mbufãr
;

390 
	siäeq
 {

391 
	miä_Çme
[
IFNAMSIZ
];

393 
sockaddr
 
	miäu_addr
;

394 
sockaddr
 
	miäu_d¡addr
;

395 
sockaddr
 
	miäu_brßdaddr
;

396 
iäeq_bufãr
 
	miäu_bufãr
;

397 
	miäu_æags
[2];

398 
	miäu_šdex
;

399 
	miäu_jid
;

400 
	miäu_m‘ric
;

401 
	miäu_mtu
;

402 
	miäu_phys
;

403 
	miäu_medŸ
;

404 
ÿddr_t
 
	miäu_d©a
;

405 
	miäu_ÿp
[2];

406 
u_št
 
	miäu_fib
;

407 
u_ch¬
 
	miäu_vÏn_pý
;

408 } 
	miä_iäu
;

409 
	#iä_addr
 
iä_iäu
.
iäu_addr


	)

410 
	#iä_d¡addr
 
iä_iäu
.
iäu_d¡addr


	)

411 
	#iä_brßdaddr
 
iä_iäu
.
iäu_brßdaddr


	)

412 #iâdeà
_KERNEL


413 
	#iä_bufãr
 
iä_iäu
.
iäu_bufãr


	)

415 
	#iä_æags
 
iä_iäu
.
iäu_æags
[0]

	)

416 
	#iä_æagshigh
 
iä_iäu
.
iäu_æags
[1]

	)

417 
	#iä_jid
 
iä_iäu
.
iäu_jid


	)

418 
	#iä_m‘ric
 
iä_iäu
.
iäu_m‘ric


	)

419 
	#iä_mtu
 
iä_iäu
.
iäu_mtu


	)

420 
	#iä_phys
 
iä_iäu
.
iäu_phys


	)

421 
	#iä_medŸ
 
iä_iäu
.
iäu_medŸ


	)

422 #iâdeà
_KERNEL


423 
	#iä_d©a
 
iä_iäu
.
iäu_d©a


	)

425 
	#iä_»qÿp
 
iä_iäu
.
iäu_ÿp
[0]

	)

426 
	#iä_curÿp
 
iä_iäu
.
iäu_ÿp
[1]

	)

427 
	#iä_šdex
 
iä_iäu
.
iäu_šdex


	)

428 
	#iä_fib
 
iä_iäu
.
iäu_fib


	)

429 
	#iä_vÏn_pý
 
iä_iäu
.
iäu_vÏn_pý


	)

430 
	#iä_Ïn_pý
 
iä_iäu
.
iäu_vÏn_pý


	)

433 
	#_SIZEOF_ADDR_IFREQ
(
iä
) \

434 ((
iä
).
iä_addr
.
§_Ën
 > (
sockaddr
) ? \

435 ((
iäeq
è- (
sockaddr
) + \

436 (
iä
).
iä_addr
.
§_Ën
è: (
iäeq
))

	)

438 
	siçlŸ¤eq
 {

439 
	miäa_Çme
[
IFNAMSIZ
];

440 
sockaddr
 
	miäa_addr
;

441 
sockaddr
 
	miäa_brßdaddr
;

442 
sockaddr
 
	miäa_mask
;

443 
	miäa_vhid
;

447 
	soiçlŸ¤eq
 {

448 
	miäa_Çme
[
IFNAMSIZ
];

449 
sockaddr
 
	miäa_addr
;

450 
sockaddr
 
	miäa_brßdaddr
;

451 
sockaddr
 
	miäa_mask
;

454 
	sifmedŸ»q
 {

455 
	mifm_Çme
[
IFNAMSIZ
];

456 
	mifm_cu¼’t
;

457 
	mifm_mask
;

458 
	mifm_¡©us
;

459 
	mifm_aùive
;

460 
	mifm_couÁ
;

461 *
	mifm_uli¡
;

464 
	sifdrv
 {

465 
	mifd_Çme
[
IFNAMSIZ
];

466 
	mifd_cmd
;

467 
size_t
 
	mifd_Ën
;

468 *
	mifd_d©a
;

478 
	#IFSTATMAX
 800

	)

479 
	sif¡©
 {

480 
	mifs_Çme
[
IFNAMSIZ
];

481 
	mascii
[
IFSTATMAX
 + 1];

490 
	sifcÚf
 {

491 
	mifc_Ën
;

493 
ÿddr_t
 
	mifcu_buf
;

494 
iäeq
 *
	mifcu_»q
;

495 } 
	mifc_ifcu
;

496 
	#ifc_buf
 
ifc_ifcu
.
ifcu_buf


	)

497 
	#ifc_»q
 
ifc_ifcu
.
ifcu_»q


	)

504 
	#IFG_ALL
 "®l"

	)

506 
	#IFG_EGRESS
 "eg»ss"

	)

508 
	sifg_»q
 {

510 
	mifgrqu_group
[
IFNAMSIZ
];

511 
	mifgrqu_memb”
[
IFNAMSIZ
];

512 } 
	mifgrq_ifgrqu
;

513 
	#ifgrq_group
 
ifgrq_ifgrqu
.
ifgrqu_group


	)

514 
	#ifgrq_memb”
 
ifgrq_ifgrqu
.
ifgrqu_memb”


	)

520 
	sifgrou´eq
 {

521 
	mifgr_Çme
[
IFNAMSIZ
];

522 
u_št
 
	mifgr_Ën
;

524 
	mifgru_group
[
IFNAMSIZ
];

525 
ifg_»q
 *
	mifgru_groups
;

526 } 
	mifgr_ifgru
;

527 #iâdeà
_KERNEL


528 
	#ifgr_group
 
ifgr_ifgru
.
ifgru_group


	)

529 
	#ifgr_groups
 
ifgr_ifgru
.
ifgru_groups


	)

537 
	sifi2üeq
 {

538 
ušt8_t
 
	mdev_addr
;

539 
ušt8_t
 
	moff£t
;

540 
ušt8_t
 
	mËn
;

541 
ušt8_t
 
	m¥¬e0
;

542 
ušt32_t
 
	m¥¬e1
;

543 
ušt8_t
 
	md©a
[8];

550 
	#RSS_FUNC_NONE
 0

	)

551 
	#RSS_FUNC_PRIVATE
 1

	)

552 
	#RSS_FUNC_TOEPLITZ
 2

	)

554 
	#RSS_TYPE_IPV4
 0x00000001

	)

555 
	#RSS_TYPE_TCP_IPV4
 0x00000002

	)

556 
	#RSS_TYPE_IPV6
 0x00000004

	)

557 
	#RSS_TYPE_IPV6_EX
 0x00000008

	)

558 
	#RSS_TYPE_TCP_IPV6
 0x00000010

	)

559 
	#RSS_TYPE_TCP_IPV6_EX
 0x00000020

	)

560 
	#RSS_TYPE_UDP_IPV4
 0x00000040

	)

561 
	#RSS_TYPE_UDP_IPV6
 0x00000080

	)

562 
	#RSS_TYPE_UDP_IPV6_EX
 0x00000100

	)

564 
	#RSS_KEYLEN
 128

	)

566 
	siässkey
 {

567 
	miäk_Çme
[
IFNAMSIZ
];

568 
ušt8_t
 
	miäk_func
;

569 
ušt8_t
 
	miäk_¥¬e0
;

570 
ušt16_t
 
	miäk_keyËn
;

571 
ušt8_t
 
	miäk_key
[
RSS_KEYLEN
];

574 
	siässhash
 {

575 
	miäh_Çme
[
IFNAMSIZ
];

576 
ušt8_t
 
	miäh_func
;

577 
ušt8_t
 
	miäh_¥¬e0
;

578 
ušt16_t
 
	miäh_¥¬e1
;

579 
ušt32_t
 
	miäh_ty³s
;

582 
	#IFNET_PCP_NONE
 0xfà

	)

586 #ifdeà
_KERNEL


587 #ifdeà
MALLOC_DECLARE


588 
MALLOC_DECLARE
(
M_IFADDR
);

589 
MALLOC_DECLARE
(
M_IFMADDR
);

593 #iâdeà
_KERNEL


594 
	sif_Çmešdex
 {

595 
	mif_šdex
;

596 *
	mif_Çme
;

599 
__BEGIN_DECLS


600 
if_ä“Çmešdex
(
if_Çmešdex
 *);

601 *
if_šdextÚame
(, *);

602 
if_Çmešdex
 *if_nameindex();

603 
if_Çm‘ošdex
(const *);

604 
	g__END_DECLS


	@/usr/include/net/if_var.h

35 #iâdef 
_NET_IF_VAR_H_


36 
	#_NET_IF_VAR_H_


	)

63 
	g¹’Œy
;

64 
	g¹_addršfo
;

65 
	gsock‘
;

66 
	gÿ½_if
;

67 
	gÿ½_soác
;

68 
	gifvÏÁrunk
;

69 
	grou‹
;

70 
	gvÃt
;

71 
	gifmedŸ
;

72 
	gÃtm­_ad­‹r
;

73 
	gÃtdump_m‘hods
;

75 #ifdeà
_KERNEL


76 
	~<sys/mbuf.h
>

77 
	~<sys/buf_ršg.h
>

78 
	~<Ãt/vÃt.h
>

80 
	~<sys/ck.h
>

81 
	~<sys/couÁ”.h
>

82 
	~<sys/•och.h
>

83 
	~<sys/lock.h
>

84 
	~<sys/mu‹x.h
>

85 
	~<sys/rwlock.h
>

86 
	~<sys/sx.h
>

87 
	~<sys/_sk.h
>

88 
	#IF_DUNIT_NONE
 -1

	)

90 
	~<Ãt/®tq/if_®tq.h
>

92 
CK_STAILQ_HEAD
(
iâ‘h—d
, 
iâ‘
);

93 
CK_STAILQ_HEAD
(
içddrh—d
, 
içddr
);

94 
CK_STAILQ_HEAD
(
ifmuÉih—d
, 
ifmuÉŸddr
);

95 
CK_STAILQ_HEAD
(
ifgrouph—d
, 
ifg_group
);

97 #ifdeà
_KERNEL


98 
VNET_DECLARE
(
pfž_h—d
, 
lšk_pfž_hook
);

99 
	#V_lšk_pfž_hook
 
	`VNET
(
lšk_pfž_hook
)

	)

101 
	#HHOOK_IPSEC_INET
 0

	)

102 
	#HHOOK_IPSEC_INET6
 1

	)

103 
	#HHOOK_IPSEC_COUNT
 2

	)

104 
VNET_DECLARE
(
hhook_h—d
 *, 
£c_hhh_š
[
HHOOK_IPSEC_COUNT
]);

105 
VNET_DECLARE
(
hhook_h—d
 *, 
£c_hhh_out
[
HHOOK_IPSEC_COUNT
]);

106 
	#V_£c_hhh_š
 
	`VNET
(
£c_hhh_š
)

	)

107 
	#V_£c_hhh_out
 
	`VNET
(
£c_hhh_out
)

	)

108 
•och_t
 
Ãt_•och_´“m±
;

109 
•och_t
 
Ãt_•och
;

113 
	mIFCOUNTER_IPACKETS
 = 0,

114 
	mIFCOUNTER_IERRORS
,

115 
	mIFCOUNTER_OPACKETS
,

116 
	mIFCOUNTER_OERRORS
,

117 
	mIFCOUNTER_COLLISIONS
,

118 
	mIFCOUNTER_IBYTES
,

119 
	mIFCOUNTER_OBYTES
,

120 
	mIFCOUNTER_IMCASTS
,

121 
	mIFCOUNTER_OMCASTS
,

122 
	mIFCOUNTER_IQDROPS
,

123 
	mIFCOUNTER_OQDROPS
,

124 
	mIFCOUNTER_NOPROTO
,

125 
	mIFCOUNTERS


126 } 
	tiá_couÁ”
;

128 
iâ‘
 * 
	tif_t
;

130 (*
	tif_¡¬t_â_t
)(
	tif_t
);

131 (*
	tif_ioùl_â_t
)(
	tif_t
, 
	tu_lÚg
, 
	tÿddr_t
);

132 (*
	tif_š™_â_t
)(*);

133 (*
	tif_qæush_â_t
)(
	tif_t
);

134 (*
	tif_Œªsm™_â_t
)(
	tif_t
, 
	tmbuf
 *);

135 
	$ušt64_t
 (*
	tif_g‘_couÁ”_t
)(
	tif_t
, 
	tiá_couÁ”
);

137 
	siâ‘_hw_tsomax
 {

138 
u_št
 
tsomaxby‹s
;

139 
u_št
 
tsomax£gcouÁ
;

140 
u_št
 
tsomax£gsize
;

145 
IFENCAP_LL
 = 1

146 } 
	tiã_ty³
;

170 
	sif_’ÿp_»q
 {

171 
u_ch¬
 *
buf
;

172 
size_t
 
bufsize
;

173 
iã_ty³
 
¹y³
;

174 
ušt32_t
 
æags
;

175 
çmžy
;

176 
Îaddr_off
;

177 
Îaddr_Ën
;

178 *
Îaddr
;

179 *
hd©a
;

182 
	#IFENCAP_FLAG_BROADCAST
 0x02

	)

189 
m_¢d_g
;

191 
	#IF_SND_TAG_TYPE_RATE_LIMIT
 0

	)

192 
	#IF_SND_TAG_TYPE_UNLIMITED
 1

	)

193 
	#IF_SND_TAG_TYPE_MAX
 2

	)

195 
	sif_¢d_g_®loc_h—d”
 {

196 
ušt32_t
 
ty³
;

197 
ušt32_t
 
æowid
;

198 
ušt32_t
 
æowty³
;

201 
	sif_¢d_g_®loc_¿‹_lim™
 {

202 
if_¢d_g_®loc_h—d”
 
hdr
;

203 
ušt64_t
 
max_¿‹
;

206 
	sif_¢d_g_¿‹_lim™_·¿ms
 {

207 
ušt64_t
 
max_¿‹
;

208 
ušt32_t
 
queue_Ëv–
;

209 
	#IF_SND_QUEUE_LEVEL_MIN
 0

	)

210 
	#IF_SND_QUEUE_LEVEL_MAX
 65535

	)

211 
ušt32_t
 
»£rved
;

214 
	uif_¢d_g_®loc_·¿ms
 {

215 
if_¢d_g_®loc_h—d”
 
hdr
;

216 
if_¢d_g_®loc_¿‹_lim™
 
¿‹_lim™
;

217 
if_¢d_g_®loc_¿‹_lim™
 
uÆim™ed
;

220 
	uif_¢d_g_modify_·¿ms
 {

221 
if_¢d_g_¿‹_lim™_·¿ms
 
¿‹_lim™
;

222 
if_¢d_g_¿‹_lim™_·¿ms
 
uÆim™ed
;

225 
	uif_¢d_g_qu”y_·¿ms
 {

226 
if_¢d_g_¿‹_lim™_·¿ms
 
¿‹_lim™
;

227 
if_¢d_g_¿‹_lim™_·¿ms
 
uÆim™ed
;

230 (
	tif_¢d_g_®loc_t
)(
	tiâ‘
 *, 
	tif_¢d_g_®loc_·¿ms
 *,

231 
	tm_¢d_g
 **);

232 (
	tif_¢d_g_modify_t
)(
	tm_¢d_g
 *, 
	tif_¢d_g_modify_·¿ms
 *);

233 (
	tif_¢d_g_qu”y_t
)(
	tm_¢d_g
 *, 
	tif_¢d_g_qu”y_·¿ms
 *);

234 (
	tif_¢d_g_ä“_t
)(
	tm_¢d_g
 *);

239 
	siâ‘
 {

241 
	`CK_STAILQ_ENTRY
(
iâ‘
è
if_lšk
;

242 
	`LIST_ENTRY
(
iâ‘
è
if_þÚes
;

243 
	`CK_STAILQ_HEAD
(, 
ifg_li¡
è
if_groups
;

245 
u_ch¬
 
if_®loùy³
;

248 *
if_soác
;

249 *
if_Îsoác
;

250 *
if_l2com
;

251 cÚ¡ *
if_dÇme
;

252 
if_dun™
;

253 
u_shÜt
 
if_šdex
;

254 
if_šdex_»£rved
;

255 
if_xÇme
[
IFNAMSIZ
];

256 *
if_desütiÚ
;

259 
if_æags
;

260 
if_drv_æags
;

261 
if_ÿ·bž™›s
;

262 
if_ÿ³ÇbË
;

263 *
if_lškmib
;

264 
size_t
 
if_lškmibËn
;

265 
u_št
 
if_»fcouÁ
;

268 
ušt8_t
 
if_ty³
;

269 
ušt8_t
 
if_add¾’
;

270 
ušt8_t
 
if_hd¾’
;

271 
ušt8_t
 
if_lšk_¡©e
;

272 
ušt32_t
 
if_mtu
;

273 
ušt32_t
 
if_m‘ric
;

274 
ušt64_t
 
if_baud¿‹
;

275 
ušt64_t
 
if_hwassi¡
;

276 
time_t
 
if_•och
;

277 
timev®
 
if_Ï¡chªge
;

279 
içÉq
 
if_¢d
;

280 
sk
 
if_lšksk
;

283 
mtx
 
if_addr_lock
;

294 
içddrh—d
 
if_addrh—d
;

295 
ifmuÉih—d
 
if_muÉŸddrs
;

296 
if_amcouÁ
;

297 
içddr
 *
if_addr
;

298 *
if_hw_addr
;

299 cÚ¡ 
u_št8_t
 *
if_brßdÿ¡addr
;

300 
mtx
 
if_afd©a_lock
;

301 *
if_afd©a
[
AF_MAX
];

302 
if_afd©a_š™Ÿlized
;

305 
u_št
 
if_fib
;

306 
vÃt
 *
if_vÃt
;

307 
vÃt
 *
if_home_vÃt
;

308 
ifvÏÁrunk
 *
if_vÏÁrunk
;

309 
bpf_if
 *
if_bpf
;

310 
if_pcouÁ
;

311 *
if_bridge
;

312 *
if_Ïgg
;

313 *
if_pf_kif
;

314 
ÿ½_if
 *
if_ÿ½
;

315 
Ïb–
 *
if_Ïb–
;

316 
Ãtm­_ad­‹r
 *
if_Ãtm­
;

319 (*
if_ouut
)

320 (
iâ‘
 *, 
mbuf
 *, cÚ¡ 
sockaddr
 *,

321 
rou‹
 *);

322 (*
if_šput
)

323 (
iâ‘
 *, 
mbuf
 *);

324 
mbuf
 *(*
if_bridge_šput
)(
iâ‘
 *, mbuf *);

325 (*
if_bridge_ouut
)(
iâ‘
 *, 
mbuf
 *, 
sockaddr
 *,

326 
¹’Œy
 *);

327 (*
if_bridge_lšk¡©e
)(
iâ‘
 *
iå
);

328 
if_¡¬t_â_t
 
if_¡¬t
;

329 
if_ioùl_â_t
 
if_ioùl
;

330 
if_š™_â_t
 
if_š™
;

331 (*
if_»sÞvemuÉi
)

332 (
iâ‘
 *, 
sockaddr
 **, sockaddr *);

333 
if_qæush_â_t
 
if_qæush
;

334 
if_Œªsm™_â_t
 
if_Œªsm™
;

336 (*
if_»assign
)

337 (
iâ‘
 *, 
vÃt
 *, *);

338 
if_g‘_couÁ”_t
 
if_g‘_couÁ”
;

339 (*
if_»que¡’ÿp
)

340 (
iâ‘
 *, 
if_’ÿp_»q
 *);

343 
couÁ”_u64_t
 
if_couÁ”s
[
IFCOUNTERS
];

364 
u_št
 
if_hw_tsomax
;

365 
u_št
 
if_hw_tsomax£gcouÁ
;

366 
u_št
 
if_hw_tsomax£gsize
;

371 
if_¢d_g_®loc_t
 *
if_¢d_g_®loc
;

372 
if_¢d_g_modify_t
 *
if_¢d_g_modify
;

373 
if_¢d_g_qu”y_t
 *
if_¢d_g_qu”y
;

374 
if_¢d_g_ä“_t
 *
if_¢d_g_ä“
;

377 
ušt8_t
 
if_pý
;

382 
Ãtdump_m‘hods
 *
if_Ãtdump_m‘hods
;

383 
•och_cÚ‹xt
 
if_•och_ùx
;

384 
•och_Œack”
 
if_addr_‘
;

385 
•och_Œack”
 
if_maddr_‘
;

392 
if_i¥¬e
[4];

396 
	#if_Çme
(
iå
è((iå)->
if_xÇme
)

	)

401 
	#IF_ADDR_LOCK_INIT
(è
	`mtx_š™
(&()->
if_addr_lock
, "if_addr_lock", 
NULL
, 
MTX_DEF
)

	)

402 
	#IF_ADDR_LOCK_DESTROY
(è
	`mtx_de¡roy
(&()->
if_addr_lock
)

	)

403 
	#IF_ADDR_RLOCK
(è
•och_Œack”
 
if_addr_‘
; 
	`•och_’‹r_´“m±
(
Ãt_•och_´“m±
, &if_addr_‘);

	)

404 
	#IF_ADDR_RUNLOCK
(è
	`•och_ex™_´“m±
(
Ãt_•och_´“m±
, &
if_addr_‘
);

	)

406 
	#IF_ADDR_WLOCK
(è
	`mtx_lock
(&()->
if_addr_lock
)

	)

407 
	#IF_ADDR_WUNLOCK
(è
	`mtx_uÆock
(&()->
if_addr_lock
)

	)

408 
	#IF_ADDR_LOCK_ASSERT
(è
	`MPASS
(
	`š_•och
(
Ãt_•och_´“m±
è|| 
	`mtx_owÃd
(&()->
if_addr_lock
))

	)

409 
	#IF_ADDR_WLOCK_ASSERT
(è
	`mtx_as£¹
(&()->
if_addr_lock
, 
MA_OWNED
)

	)

410 
	#NET_EPOCH_ENTER
(è
•och_Œack”
 
Ãp_‘
; 
	`•och_’‹r_´“m±
(
Ãt_•och_´“m±
, &Ãp_‘)

	)

411 
	#NET_EPOCH_ENTER_ET
(
‘
è
	`•och_’‹r_´“m±
(
Ãt_•och_´“m±
, &Ót))

	)

412 
	#NET_EPOCH_EXIT
(è
	`•och_ex™_´“m±
(
Ãt_•och_´“m±
, &
Ãp_‘
)

	)

413 
	#NET_EPOCH_EXIT_ET
(
‘
è
	`•och_ex™_´“m±
(
Ãt_•och_´“m±
, &Ót))

	)

414 
	#NET_EPOCH_WAIT
(è
	`•och_wa™_´“m±
(
Ãt_•och_´“m±
)

	)

422 
	`if_addr_¾ock
(
iâ‘
 *
iå
);

423 
	`if_addr_ruÆock
(
iâ‘
 *
iå
);

424 
	`if_maddr_¾ock
(
if_t
 
iå
);

425 
	`if_maddr_ruÆock
(
if_t
 
iå
);

427 #ifdeà
_KERNEL


428 #ifdeà
_SYS_EVENTHANDLER_H_


430 (*
	tiæÏddr_ev’t_hªdËr_t
)(*, 
	tiâ‘
 *);

431 
	`EVENTHANDLER_DECLARE
(
iæÏddr_ev’t
, 
iæÏddr_ev’t_hªdËr_t
);

433 (*
	tiçddr_ev’t_hªdËr_t
)(*, 
	tiâ‘
 *);

434 
	`EVENTHANDLER_DECLARE
(
içddr_ev’t
, 
içddr_ev’t_hªdËr_t
);

436 (*
	tiâ‘_¬riv®_ev’t_hªdËr_t
)(*, 
	tiâ‘
 *);

437 
	`EVENTHANDLER_DECLARE
(
iâ‘_¬riv®_ev’t
, 
iâ‘_¬riv®_ev’t_hªdËr_t
);

439 (*
	tiâ‘_d•¬tu»_ev’t_hªdËr_t
)(*, 
	tiâ‘
 *);

440 
	`EVENTHANDLER_DECLARE
(
iâ‘_d•¬tu»_ev’t
, 
iâ‘_d•¬tu»_ev’t_hªdËr_t
);

442 (*
	tiâ‘_lšk_ev’t_hªdËr_t
)(*, 
	tiâ‘
 *, );

443 
	`EVENTHANDLER_DECLARE
(
iâ‘_lšk_ev’t
, 
iâ‘_lšk_ev’t_hªdËr_t
);

445 
	#IFNET_EVENT_UP
 0

	)

446 
	#IFNET_EVENT_DOWN
 1

	)

447 
	#IFNET_EVENT_PCP
 2

	)

449 (*
	tiâ‘_ev’t_â
)(*, 
	tiâ‘
 *
	tiå
, 
	tev’t
);

450 
	`EVENTHANDLER_DECLARE
(
iâ‘_ev’t
, 
iâ‘_ev’t_â
);

456 
	sifg_group
 {

457 
ifg_group
[
IFNAMSIZ
];

458 
u_št
 
ifg_»fút
;

459 *
ifg_pf_kif
;

460 
	`CK_STAILQ_HEAD
(, 
ifg_memb”
è
ifg_memb”s
;

461 
	`CK_STAILQ_ENTRY
(
ifg_group
è
ifg_Ãxt
;

464 
	sifg_memb”
 {

465 
	`CK_STAILQ_ENTRY
(
ifg_memb”
è
ifgm_Ãxt
;

466 
iâ‘
 *
ifgm_iå
;

469 
	sifg_li¡
 {

470 
ifg_group
 *
ifgl_group
;

471 
	`CK_STAILQ_ENTRY
(
ifg_li¡
è
ifgl_Ãxt
;

474 #ifdeà
_SYS_EVENTHANDLER_H_


476 (*
	tgroup_©ch_ev’t_hªdËr_t
)(*, 
	tifg_group
 *);

477 
	`EVENTHANDLER_DECLARE
(
group_©ch_ev’t
, 
group_©ch_ev’t_hªdËr_t
);

479 (*
	tgroup_d‘ach_ev’t_hªdËr_t
)(*, 
	tifg_group
 *);

480 
	`EVENTHANDLER_DECLARE
(
group_d‘ach_ev’t
, 
group_d‘ach_ev’t_hªdËr_t
);

482 (*
	tgroup_chªge_ev’t_hªdËr_t
)(*, const *);

483 
	`EVENTHANDLER_DECLARE
(
group_chªge_ev’t
, 
group_chªge_ev’t_hªdËr_t
);

486 
	#IF_AFDATA_LOCK_INIT
(
iå
) \

487 
	`mtx_š™
(&(
iå
)->
if_afd©a_lock
, "if_afd©a", 
NULL
, 
MTX_DEF
)

	)

489 
	#IF_AFDATA_WLOCK
(
iå
è
	`mtx_lock
(&(iå)->
if_afd©a_lock
)

	)

490 
	#IF_AFDATA_RLOCK
(
iå
è
•och_Œack”
 
if_afd©a_‘
; 
	`•och_’‹r_´“m±
(
Ãt_•och_´“m±
, &if_afd©a_‘)

	)

491 
	#IF_AFDATA_WUNLOCK
(
iå
è
	`mtx_uÆock
(&(iå)->
if_afd©a_lock
)

	)

492 
	#IF_AFDATA_RUNLOCK
(
iå
è
	`•och_ex™_´“m±
(
Ãt_•och_´“m±
, &
if_afd©a_‘
)

	)

493 
	#IF_AFDATA_LOCK
(
iå
è
	`IF_AFDATA_WLOCK
(iå)

	)

494 
	#IF_AFDATA_UNLOCK
(
iå
è
	`IF_AFDATA_WUNLOCK
(iå)

	)

495 
	#IF_AFDATA_TRYLOCK
(
iå
è
	`mtx_Œylock
(&(iå)->
if_afd©a_lock
)

	)

496 
	#IF_AFDATA_DESTROY
(
iå
è
	`mtx_de¡roy
(&(iå)->
if_afd©a_lock
)

	)

498 
	#IF_AFDATA_LOCK_ASSERT
(
iå
è
	`MPASS
(
	`š_•och
(
Ãt_•och_´“m±
è|| 
	`mtx_owÃd
(&(iå)->
if_afd©a_lock
))

	)

499 
	#IF_AFDATA_RLOCK_ASSERT
(
iå
è
	`MPASS
(
	`š_•och
(
Ãt_•och_´“m±
));

	)

500 
	#IF_AFDATA_WLOCK_ASSERT
(
iå
è
	`mtx_as£¹
(&(iå)->
if_afd©a_lock
, 
MA_OWNED
)

	)

501 
	#IF_AFDATA_UNLOCK_ASSERT
(
iå
è
	`mtx_as£¹
(&(iå)->
if_afd©a_lock
, 
MA_NOTOWNED
)

	)

507 
	#IF_MINMTU
 72

	)

508 
	#IF_MAXMTU
 65535

	)

510 
	#TOEDEV
(
iå
è((iå)->
if_Îsoác
)

	)

522 
	siçddr
 {

523 
sockaddr
 *
iç_addr
;

524 
sockaddr
 *
iç_d¡addr
;

525 
	#iç_brßdaddr
 
iç_d¡addr


	)

526 
sockaddr
 *
iç_Ãtmask
;

527 
iâ‘
 *
iç_iå
;

528 
ÿ½_soác
 *
iç_ÿ½
;

529 
	`CK_STAILQ_ENTRY
(
içddr
è
iç_lšk
;

530 (*
iç_¹»que¡
)

531 (, 
¹’Œy
 *, 
¹_addršfo
 *);

532 
u_shÜt
 
iç_æags
;

533 
	#IFA_ROUTE
 
RTF_UP


	)

534 
	#IFA_RTSELF
 
RTF_HOST


	)

535 
u_št
 
iç_»fút
;

537 
couÁ”_u64_t
 
iç_ack‘s
;

538 
couÁ”_u64_t
 
iç_Ýack‘s
;

539 
couÁ”_u64_t
 
iç_iby‹s
;

540 
couÁ”_u64_t
 
iç_oby‹s
;

541 
•och_cÚ‹xt
 
iç_•och_ùx
;

544 
içddr
 * 
	`iç_®loc
(
size_t
 
size
, 
æags
);

545 
	`iç_ä“
(
içddr
 *
iç
);

546 
	`iç_»f
(
içddr
 *
iç
);

552 
	#IFMA_F_ENQUEUED
 0x1

	)

553 
	sifmuÉŸddr
 {

554 
	`CK_STAILQ_ENTRY
(
ifmuÉŸddr
è
ifma_lšk
;

555 
sockaddr
 *
ifma_addr
;

556 
sockaddr
 *
ifma_Îaddr
;

557 
iâ‘
 *
ifma_iå
;

558 
u_št
 
ifma_»fcouÁ
;

559 
ifma_æags
;

560 *
ifma_´Ùo¥ec
;

561 
ifmuÉŸddr
 *
ifma_Îifma
;

562 
•och_cÚ‹xt
 
ifma_•och_ùx
;

565 
rwlock
 
iâ‘_rwlock
;

566 
sx
 
iâ‘_sxlock
;

568 
	#IFNET_WLOCK
() do { \

569 
	`sx_xlock
(&
iâ‘_sxlock
); \

570 
	`rw_wlock
(&
iâ‘_rwlock
); \

571 
	}
} 0)

	)

573 
	#IFNET_WUNLOCK
() do { \

574 
	`rw_wuÆock
(&
iâ‘_rwlock
); \

575 
	`sx_xuÆock
(&
iâ‘_sxlock
); \

576 } 0)

	)

582 
	#IFNET_RLOCK_ASSERT
(è
	`sx_as£¹
(&
iâ‘_sxlock
, 
SA_SLOCKED
)

	)

583 
	#IFNET_RLOCK_NOSLEEP_ASSERT
(è
	`MPASS
(
	`š_•och
(
Ãt_•och_´“m±
))

	)

584 
	#IFNET_WLOCK_ASSERT
() do { \

585 
	`sx_as£¹
(&
iâ‘_sxlock
, 
SA_XLOCKED
); \

586 
	`rw_as£¹
(&
iâ‘_rwlock
, 
RA_WLOCKED
); \

587 } 0)

	)

589 
	#IFNET_RLOCK
(è
	`sx_¦ock
(&
iâ‘_sxlock
)

	)

590 
	#IFNET_RLOCK_NOSLEEP
(è
•och_Œack”
 
iâ‘_¾ock_‘
; 
	`•och_’‹r_´“m±
(
Ãt_•och_´“m±
, &iâ‘_¾ock_‘)

	)

591 
	#IFNET_RUNLOCK
(è
	`sx_suÆock
(&
iâ‘_sxlock
)

	)

592 
	#IFNET_RUNLOCK_NOSLEEP
(è
	`•och_ex™_´“m±
(
Ãt_•och_´“m±
, &
iâ‘_¾ock_‘
)

	)

599 
iâ‘
 *
iâ‘_byšdex
(
u_shÜt
 
idx
);

600 
iâ‘
 *
iâ‘_byšdex_locked
(
u_shÜt
 
idx
);

601 
iâ‘
 *
iâ‘_byšdex_»f
(
u_shÜt
 
idx
);

608 
içddr
 *
içddr_byšdex
(
u_shÜt
 
idx
);

610 
VNET_DECLARE
(
iâ‘h—d
, 
iâ‘
);

611 
VNET_DECLARE
(
ifgrouph—d
, 
ifg_h—d
);

612 
VNET_DECLARE
(, 
if_šdex
);

613 
VNET_DECLARE
(
iâ‘
 *, 
loif
);

615 
	#V_iâ‘
 
	`VNET
(
iâ‘
)

	)

616 
	#V_ifg_h—d
 
	`VNET
(
ifg_h—d
)

	)

617 
	#V_if_šdex
 
	`VNET
(
if_šdex
)

	)

618 
	#V_loif
 
	`VNET
(
loif
)

	)

620 #ifdeà
MCAST_VERBOSE


621 
	#MCDPRINTF
 
´štf


	)

623 
	#MCDPRINTF
(...)

	)

626 
if_addgroup
(
iâ‘
 *, const *);

627 
if_d–group
(
iâ‘
 *, const *);

628 
if_addmuÉi
(
iâ‘
 *, 
sockaddr
 *, 
ifmuÉŸddr
 **);

629 
if_®lmuÉi
(
iâ‘
 *, );

630 
iâ‘
* 
if_®loc
(
u_ch¬
);

631 
if_©ch
(
iâ‘
 *);

632 
if_d—d
(
iâ‘
 *);

633 
if_d–muÉi
(
iâ‘
 *, 
sockaddr
 *);

634 
if_d–muÉi_ifma
(
ifmuÉŸddr
 *);

635 
if_d–muÉi_ifma_æags
(
ifmuÉŸddr
 *, 
æags
);

636 
if_d‘ach
(
iâ‘
 *);

637 
if_purg—ddrs
(
iâ‘
 *);

638 
if_d–®lmuÉi
(
iâ‘
 *);

639 
if_down
(
iâ‘
 *);

640 
ifmuÉŸddr
 *

641 
if_fšdmuÉi
(
iâ‘
 *, cÚ¡ 
sockaddr
 *);

642 
if_ä“muÉi
(
ifmuÉŸddr
 *
ifma
);

643 
if_ä“
(
iâ‘
 *);

644 
if_š™Çme
(
iâ‘
 *, const *, );

645 
if_lšk_¡©e_chªge
(
iâ‘
 *, );

646 
	$if_´štf
(
iâ‘
 *, cÚ¡ *, ...è
	`__´štæike
(2, 3);

647 
	`if_»f
(
iâ‘
 *);

648 
	`if_»Ë
(
iâ‘
 *);

649 
	`if_£ŽÏddr
(
iâ‘
 *, cÚ¡ 
u_ch¬
 *, );

650 
	`if_tuÂ–_check_Ã¡šg
(
iâ‘
 *, 
mbuf
 *, 
ušt32_t
, );

651 
	`if_up
(
iâ‘
 *);

652 
	`ifioùl
(
sock‘
 *, 
u_lÚg
, 
ÿddr_t
, 
th»ad
 *);

653 
	`iåromisc
(
iâ‘
 *, );

654 
iâ‘
 *
	`ifun™
(const *);

655 
iâ‘
 *
	`ifun™_»f
(const *);

657 
	`iç_add_loÝback_rou‹
(
içddr
 *, 
sockaddr
 *);

658 
	`iç_d–_loÝback_rou‹
(
içddr
 *, 
sockaddr
 *);

659 
	`iç_sw™ch_loÝback_rou‹
(
içddr
 *, 
sockaddr
 *);

661 
içddr
 *
	`iç_ifw™haddr
(cÚ¡ 
sockaddr
 *);

662 
	`iç_ifw™haddr_check
(cÚ¡ 
sockaddr
 *);

663 
içddr
 *
	`iç_ifw™hbrßdaddr
(cÚ¡ 
sockaddr
 *, );

664 
içddr
 *
	`iç_ifw™hd¡addr
(cÚ¡ 
sockaddr
 *, );

665 
içddr
 *
	`iç_ifw™hÃt
(cÚ¡ 
sockaddr
 *, , );

666 
içddr
 *
	`iç_ifw™hrou‹
(, cÚ¡ 
sockaddr
 *, sockaddr *,

667 
u_št
);

668 
içddr
 *
	`içof_iåfÜaddr
(cÚ¡ 
sockaddr
 *, 
iâ‘
 *);

669 
	`iç_´eã¼ed
(
içddr
 *, ifaddr *);

671 
	`if_simloÝ
(
iâ‘
 *
iå
, 
mbuf
 *
m
, 
af
, 
hËn
);

673 *
	tif_com_®loc_t
(
	tu_ch¬
 
	tty³
, 
	tiâ‘
 *
	tiå
);

674 
	tif_com_ä“_t
(*
	tcom
, 
	tu_ch¬
 
	tty³
);

675 
	`if_»gi¡”_com_®loc
(
u_ch¬
 
ty³
, 
if_com_®loc_t
 *
a
, 
if_com_ä“_t
 *
f
);

676 
	`if_d”egi¡”_com_®loc
(
u_ch¬
 
ty³
);

677 
	`if_d©a_cÝy
(
iâ‘
 *, 
if_d©a
 *);

678 
ušt64_t
 
	`if_g‘_couÁ”_deçuÉ
(
iâ‘
 *, 
iá_couÁ”
);

679 
	`if_šc_couÁ”
(
iâ‘
 *, 
iá_couÁ”
, 
št64_t
);

681 
	#IF_LLADDR
(
iå
) \

682 
	`LLADDR
((
sockaddr_dl
 *)((
iå
)->
if_addr
->
iç_addr
))

	)

684 
ušt64_t
 
	`if_£tbaud¿‹
(
if_t
 
iå
, ušt64_ˆ
baud¿‹
);

685 
ušt64_t
 
	`if_g‘baud¿‹
(
if_t
 
iå
);

686 
	`if_£tÿ·bž™›s
(
if_t
 
iå
, 
ÿ·bž™›s
);

687 
	`if_£tÿ·bž™›sb™
(
if_t
 
iå
, 
£tb™
, 
þ—rb™
);

688 
	`if_g‘ÿ·bž™›s
(
if_t
 
iå
);

689 
	`if_toggËÿ³ÇbË
(
if_t
 
iå
, 
toggËÿp
);

690 
	`if_£tÿ³ÇbË
(
if_t
 
iå
, 
ÿ³ÇbË
);

691 
	`if_£tÿ³ÇbËb™
(
if_t
 
iå
, 
£tÿp
, 
þ—rÿp
);

692 
	`if_g‘ÿ³ÇbË
(
if_t
 
iå
);

693 cÚ¡ *
	`if_g‘dÇme
(
if_t
 
iå
);

694 
	`if_£tdev
(
if_t
 
iå
, *
dev
);

695 
	`if_£tdrvæagb™s
(
if_t
 
iå
, 
if_£tæags
, 
þ—r_æags
);

696 
	`if_g‘drvæags
(
if_t
 
iå
);

697 
	`if_£tdrvæags
(
if_t
 
iå
, 
æags
);

698 
	`if_þ—rhwassi¡
(
if_t
 
iå
);

699 
	`if_£thwassi¡b™s
(
if_t
 
iå
, 
to£t
, 
toþ—r
);

700 
	`if_£thwassi¡
(
if_t
 
iå
, 
hwassi¡_b™
);

701 
	`if_g‘hwassi¡
(
if_t
 
iå
);

702 
	`if_£tsoác
(
if_t
 
iå
, *
soác
);

703 *
	`if_g‘soác
(
if_t
 
iå
);

704 
	`if_£tæags
(
if_t
 
iå
, 
æags
);

705 
	`if_g‘hwaddr
(
if_t
 
iå
, 
iäeq
 *);

706 
	`if_£tmtu
(
if_t
 
iå
, 
mtu
);

707 
	`if_g‘mtu
(
if_t
 
iå
);

708 
	`if_g‘mtu_çmžy
(
if_t
 
iå
, 
çmžy
);

709 
	`if_£tæagb™s
(
if_t
 
iå
, 
£t
, 
þ—r
);

710 
	`if_g‘æags
(
if_t
 
iå
);

711 
	`if_£ndq_em±y
(
if_t
 
iå
);

712 
	`if_£t£ndq»ady
(
if_t
 
iå
);

713 
	`if_£t£ndqËn
(
if_t
 
iå
, 
tx_desc_couÁ
);

714 
	`if_£thwtsomax
(
if_t
 
iå
, 
u_št
 
if_hw_tsomax
);

715 
	`if_£thwtsomax£gcouÁ
(
if_t
 
iå
, 
u_št
 
if_hw_tsomax£gcouÁ
);

716 
	`if_£thwtsomax£gsize
(
if_t
 
iå
, 
u_št
 
if_hw_tsomax£gsize
);

717 
u_št
 
	`if_g‘hwtsomax
(
if_t
 
iå
);

718 
u_št
 
	`if_g‘hwtsomax£gcouÁ
(
if_t
 
iå
);

719 
u_št
 
	`if_g‘hwtsomax£gsize
(
if_t
 
iå
);

720 
	`if_šput
(
if_t
 
iå
, 
mbuf
* 
£ndmp
);

721 
	`if_£ndq_´•’d
(
if_t
 
iå
, 
mbuf
 *
m
);

722 
mbuf
 *
	`if_dequeue
(
if_t
 
iå
);

723 
	`if_£tifh—d”Ën
(
if_t
 
iå
, 
Ën
);

724 
	`if_£Œcvif
(
mbuf
 *
m
, 
if_t
 
iå
);

725 
	`if_£tvg
(
mbuf
 *
m
, 
u_št16_t
 
g
);

726 
u_št16_t
 
	`if_g‘vg
(
mbuf
 *
m
);

727 
	`if_vÏÁrunkšu£
(
if_t
 
iå
);

728 
ÿddr_t
 
	`if_g‘Îaddr
(
if_t
 
iå
);

729 *
	`if_g‘hªdË
(
u_ch¬
);

730 
	`if_bpfmp
(
if_t
 
iå
, 
mbuf
 *
m
);

731 
	`if_‘h”bpfmp
(
if_t
 
iå
, 
mbuf
 *
m
);

732 
	`if_vÏnÿp
(
if_t
 
iå
);

734 
	`if_£tupmuÉŸddr
(
if_t
 
iå
, *
m
, *
út
, 
max
);

735 
	`if_muÉŸddr_¬¿y
(
if_t
 
iå
, *
m
, *
út
, 
max
);

736 
	`if_muÉŸddr_couÁ
(
if_t
 
iå
, 
max
);

738 
	`if_muÉi_­¶y
(
iâ‘
 *
iå
, (*
fž‹r
)(*, 
ifmuÉŸddr
 *, ), *
¬g
);

739 
	`if_g‘amcouÁ
(
if_t
 
iå
);

740 
içddr
 * 
	`if_g‘içddr
(
if_t
 
iå
);

743 
	`if_£tš™â
(
if_t
 
iå
, (*)(*));

744 
	`if_£tioùlâ
(
if_t
 
iå
, (*)(if_t, 
u_lÚg
, 
ÿddr_t
));

745 
	`if_£t¡¬tâ
(
if_t
 
iå
, (*)(if_t));

746 
	`if_£‰¿nsm™â
(
if_t
 
iå
, 
if_Œªsm™_â_t
);

747 
	`if_£tqæushâ
(
if_t
 
iå
, 
if_qæush_â_t
);

748 
	`if_£tg‘couÁ”â
(
if_t
 
iå
, 
if_g‘_couÁ”_t
);

751 
	`drbr_šu£_drv
(
if_t
 
iå
, 
buf_ršg
 *
br
);

752 
mbuf
* 
	`drbr_dequeue_drv
(
if_t
 
iå
, 
buf_ršg
 *
br
);

753 
	`drbr_Ãeds_’queue_drv
(
if_t
 
iå
, 
buf_ršg
 *
br
);

754 
	`drbr_’queue_drv
(
if_t
 
iå
, 
buf_ršg
 *
br
, 
mbuf
 *
m
);

757 
	`if_hw_tsomax_commÚ
(
if_t
 
iå
, 
iâ‘_hw_tsomax
 *);

758 
	`if_hw_tsomax_upd©e
(
if_t
 
iå
, 
iâ‘_hw_tsomax
 *);

761 *
	`iä_d©a_g‘_±r
(*
iäp
);

763 
	`ifhwioùl
(
u_lÚg
, 
iâ‘
 *, 
ÿddr_t
, 
th»ad
 *);

765 #ifdeà
DEVICE_POLLING


766 
	epÞl_cmd
 { 
POLL_ONLY
, 
POLL_AND_CHECK_STATUS
 };

768 
	tpÞl_hªdËr_t
(
	tif_t
 
	tiå
, 
	tpÞl_cmd
 
	tcmd
, 
	tcouÁ
);

769 
	`‘h”_pÞl_»gi¡”
(
pÞl_hªdËr_t
 *
h
, 
if_t
 
iå
);

770 
	`‘h”_pÞl_d”egi¡”
(
if_t
 
iå
);

775 
	~<Ãt/ifq.h
>

	@/usr/include/netinet/in.h

35 #iâdeà
_NETINET_IN_H_


36 
	#_NETINET_IN_H_


	)

38 
	~<sys/cdefs.h
>

39 
	~<sys/_ty³s.h
>

40 
	~<machše/’dŸn.h
>

43 
	#IPPROTO_IP
 0

	)

44 
	#IPPROTO_ICMP
 1

	)

45 
	#IPPROTO_TCP
 6

	)

46 
	#IPPROTO_UDP
 17

	)

48 
	#INADDR_ANY
 ((
š_addr_t
)0x00000000)

	)

49 
	#INADDR_BROADCAST
 ((
š_addr_t
)0xffffffffè

	)

51 #iâdeà
_UINT8_T_DECLARED


52 
__ušt8_t
 
	tušt8_t
;

53 
	#_UINT8_T_DECLARED


	)

56 #iâdeà
_UINT16_T_DECLARED


57 
__ušt16_t
 
	tušt16_t
;

58 
	#_UINT16_T_DECLARED


	)

61 #iâdeà
_UINT32_T_DECLARED


62 
__ušt32_t
 
	tušt32_t
;

63 
	#_UINT32_T_DECLARED


	)

66 #iâdeà
_IN_ADDR_T_DECLARED


67 
ušt32_t
 
	tš_addr_t
;

68 
	#_IN_ADDR_T_DECLARED


	)

71 #iâdeà
_IN_PORT_T_DECLARED


72 
ušt16_t
 
	tš_pÜt_t
;

73 
	#_IN_PORT_T_DECLARED


	)

76 #iâdeà
_SA_FAMILY_T_DECLARED


77 
__§_çmžy_t
 
	t§_çmžy_t
;

78 
	#_SA_FAMILY_T_DECLARED


	)

82 #iâdef 
_STRUCT_IN_ADDR_DECLARED


83 
	sš_addr
 {

84 
š_addr_t
 
	ms_addr
;

86 
	#_STRUCT_IN_ADDR_DECLARED


	)

89 #iâdef 
_SOCKLEN_T_DECLARED


90 
__sockËn_t
 
	tsockËn_t
;

91 
	#_SOCKLEN_T_DECLARED


	)

94 
	~<sys/_sockaddr_¡Üage.h
>

97 
	ssockaddr_š
 {

98 
ušt8_t
 
	msš_Ën
;

99 
§_çmžy_t
 
	msš_çmžy
;

100 
š_pÜt_t
 
	msš_pÜt
;

101 
š_addr
 
	msš_addr
;

102 
	msš_z”o
[8];

105 #ià!
defšed
(
_KERNEL
è&& 
__POSIX_VISIBLE
 >= 200112

107 #iâdeà
_BYTEORDER_PROTOTYPED


108 
	#_BYTEORDER_PROTOTYPED


	)

109 
__BEGIN_DECLS


110 
ušt32_t
 
htÚl
(uint32_t);

111 
ušt16_t
 
htÚs
(uint16_t);

112 
ušt32_t
 
Áohl
(uint32_t);

113 
ušt16_t
 
Áohs
(uint16_t);

114 
	g__END_DECLS


117 #iâdeà
_BYTEORDER_FUNC_DEFINED


118 
	#_BYTEORDER_FUNC_DEFINED


	)

119 
	#htÚl
(
x
è
	`__htÚl
(x)

	)

120 
	#htÚs
(
x
è
	`__htÚs
(x)

	)

121 
	#Áohl
(
x
è
	`__Áohl
(x)

	)

122 
	#Áohs
(
x
è
	`__Áohs
(x)

	)

127 #ià
__POSIX_VISIBLE
 >= 200112

128 
	#IPPROTO_IPV6
 41

	)

129 
	#IPPROTO_RAW
 255

	)

130 
	#INET_ADDRSTRLEN
 16

	)

133 #ià
__BSD_VISIBLE


142 
	#IPPROTO_HOPOPTS
 0

	)

143 
	#IPPROTO_IGMP
 2

	)

144 
	#IPPROTO_GGP
 3

	)

145 
	#IPPROTO_IPV4
 4

	)

146 
	#IPPROTO_IPIP
 
IPPROTO_IPV4


	)

147 
	#IPPROTO_ST
 7

	)

148 
	#IPPROTO_EGP
 8

	)

149 
	#IPPROTO_PIGP
 9

	)

150 
	#IPPROTO_RCCMON
 10

	)

151 
	#IPPROTO_NVPII
 11

	)

152 
	#IPPROTO_PUP
 12

	)

153 
	#IPPROTO_ARGUS
 13

	)

154 
	#IPPROTO_EMCON
 14

	)

155 
	#IPPROTO_XNET
 15

	)

156 
	#IPPROTO_CHAOS
 16

	)

157 
	#IPPROTO_MUX
 18

	)

158 
	#IPPROTO_MEAS
 19

	)

159 
	#IPPROTO_HMP
 20

	)

160 
	#IPPROTO_PRM
 21

	)

161 
	#IPPROTO_IDP
 22

	)

162 
	#IPPROTO_TRUNK1
 23

	)

163 
	#IPPROTO_TRUNK2
 24

	)

164 
	#IPPROTO_LEAF1
 25

	)

165 
	#IPPROTO_LEAF2
 26

	)

166 
	#IPPROTO_RDP
 27

	)

167 
	#IPPROTO_IRTP
 28

	)

168 
	#IPPROTO_TP
 29

	)

169 
	#IPPROTO_BLT
 30

	)

170 
	#IPPROTO_NSP
 31

	)

171 
	#IPPROTO_INP
 32

	)

172 
	#IPPROTO_SEP
 33

	)

173 
	#IPPROTO_3PC
 34

	)

174 
	#IPPROTO_IDPR
 35

	)

175 
	#IPPROTO_XTP
 36

	)

176 
	#IPPROTO_DDP
 37

	)

177 
	#IPPROTO_CMTP
 38

	)

178 
	#IPPROTO_TPXX
 39

	)

179 
	#IPPROTO_IL
 40

	)

180 
	#IPPROTO_SDRP
 42

	)

181 
	#IPPROTO_ROUTING
 43

	)

182 
	#IPPROTO_FRAGMENT
 44

	)

183 
	#IPPROTO_IDRP
 45

	)

184 
	#IPPROTO_RSVP
 46

	)

185 
	#IPPROTO_GRE
 47

	)

186 
	#IPPROTO_MHRP
 48

	)

187 
	#IPPROTO_BHA
 49

	)

188 
	#IPPROTO_ESP
 50

	)

189 
	#IPPROTO_AH
 51

	)

190 
	#IPPROTO_INLSP
 52

	)

191 
	#IPPROTO_SWIPE
 53

	)

192 
	#IPPROTO_NHRP
 54

	)

193 
	#IPPROTO_MOBILE
 55

	)

194 
	#IPPROTO_TLSP
 56

	)

195 
	#IPPROTO_SKIP
 57

	)

196 
	#IPPROTO_ICMPV6
 58

	)

197 
	#IPPROTO_NONE
 59

	)

198 
	#IPPROTO_DSTOPTS
 60

	)

199 
	#IPPROTO_AHIP
 61

	)

200 
	#IPPROTO_CFTP
 62

	)

201 
	#IPPROTO_HELLO
 63

	)

202 
	#IPPROTO_SATEXPAK
 64

	)

203 
	#IPPROTO_KRYPTOLAN
 65

	)

204 
	#IPPROTO_RVD
 66

	)

205 
	#IPPROTO_IPPC
 67

	)

206 
	#IPPROTO_ADFS
 68

	)

207 
	#IPPROTO_SATMON
 69

	)

208 
	#IPPROTO_VISA
 70

	)

209 
	#IPPROTO_IPCV
 71

	)

210 
	#IPPROTO_CPNX
 72

	)

211 
	#IPPROTO_CPHB
 73

	)

212 
	#IPPROTO_WSN
 74

	)

213 
	#IPPROTO_PVP
 75

	)

214 
	#IPPROTO_BRSATMON
 76

	)

215 
	#IPPROTO_ND
 77

	)

216 
	#IPPROTO_WBMON
 78

	)

217 
	#IPPROTO_WBEXPAK
 79

	)

218 
	#IPPROTO_EON
 80

	)

219 
	#IPPROTO_VMTP
 81

	)

220 
	#IPPROTO_SVMTP
 82

	)

221 
	#IPPROTO_VINES
 83

	)

222 
	#IPPROTO_TTP
 84

	)

223 
	#IPPROTO_IGP
 85

	)

224 
	#IPPROTO_DGP
 86

	)

225 
	#IPPROTO_TCF
 87

	)

226 
	#IPPROTO_IGRP
 88

	)

227 
	#IPPROTO_OSPFIGP
 89

	)

228 
	#IPPROTO_SRPC
 90

	)

229 
	#IPPROTO_LARP
 91

	)

230 
	#IPPROTO_MTP
 92

	)

231 
	#IPPROTO_AX25
 93

	)

232 
	#IPPROTO_IPEIP
 94

	)

233 
	#IPPROTO_MICP
 95

	)

234 
	#IPPROTO_SCCSP
 96

	)

235 
	#IPPROTO_ETHERIP
 97

	)

236 
	#IPPROTO_ENCAP
 98

	)

237 
	#IPPROTO_APES
 99

	)

238 
	#IPPROTO_GMTP
 100

	)

239 
	#IPPROTO_IPCOMP
 108

	)

240 
	#IPPROTO_SCTP
 132

	)

241 
	#IPPROTO_MH
 135

	)

242 
	#IPPROTO_UDPLITE
 136

	)

243 
	#IPPROTO_HIP
 139

	)

244 
	#IPPROTO_SHIM6
 140

	)

246 
	#IPPROTO_PIM
 103

	)

247 
	#IPPROTO_CARP
 112

	)

248 
	#IPPROTO_PGM
 113

	)

249 
	#IPPROTO_MPLS
 137

	)

250 
	#IPPROTO_PFSYNC
 240

	)

251 
	#IPPROTO_RESERVED_253
 253

	)

252 
	#IPPROTO_RESERVED_254
 254

	)

255 
	#IPPROTO_OLD_DIVERT
 254

	)

256 
	#IPPROTO_MAX
 256

	)

259 
	#IPPROTO_DONE
 257

	)

262 
	#IPPROTO_DIVERT
 258

	)

263 
	#IPPROTO_SEND
 259

	)

269 
	#IPPROTO_SPACER
 32767

	)

320 
	#IPPORT_RESERVED
 1024

	)

325 
	#IPPORT_EPHEMERALFIRST
 10000

	)

326 
	#IPPORT_EPHEMERALLAST
 65535

	)

331 
	#IPPORT_HIFIRSTAUTO
 49152

	)

332 
	#IPPORT_HILASTAUTO
 65535

	)

340 
	#IPPORT_RESERVEDSTART
 600

	)

342 
	#IPPORT_MAX
 65535

	)

349 
	#IN_CLASSA
(
i
è(((
š_addr_t
)(iè& 0x80000000è=ð0)

	)

350 
	#IN_CLASSA_NET
 0xff000000

	)

351 
	#IN_CLASSA_NSHIFT
 24

	)

352 
	#IN_CLASSA_HOST
 0x00ffffff

	)

353 
	#IN_CLASSA_MAX
 128

	)

355 
	#IN_CLASSB
(
i
è(((
š_addr_t
)(iè& 0xc0000000è=ð0x80000000)

	)

356 
	#IN_CLASSB_NET
 0xffff0000

	)

357 
	#IN_CLASSB_NSHIFT
 16

	)

358 
	#IN_CLASSB_HOST
 0x0000ffff

	)

359 
	#IN_CLASSB_MAX
 65536

	)

361 
	#IN_CLASSC
(
i
è(((
š_addr_t
)(iè& 0xe0000000è=ð0xc0000000)

	)

362 
	#IN_CLASSC_NET
 0xffffff00

	)

363 
	#IN_CLASSC_NSHIFT
 8

	)

364 
	#IN_CLASSC_HOST
 0x000000ff

	)

366 
	#IN_CLASSD
(
i
è(((
š_addr_t
)(iè& 0xf0000000è=ð0xe0000000)

	)

367 
	#IN_CLASSD_NET
 0xf0000000

	)

368 
	#IN_CLASSD_NSHIFT
 28

	)

369 
	#IN_CLASSD_HOST
 0x0ffffffà

	)

370 
	#IN_MULTICAST
(
i
è
	`IN_CLASSD
(i)

	)

372 
	#IN_EXPERIMENTAL
(
i
è(((
š_addr_t
)(iè& 0xf0000000è=ð0xf0000000)

	)

373 
	#IN_BADCLASS
(
i
è(((
š_addr_t
)(iè& 0xf0000000è=ð0xf0000000)

	)

375 
	#IN_LINKLOCAL
(
i
è(((
š_addr_t
)(iè& 0xffff0000è=ð0xa9ã0000)

	)

376 
	#IN_LOOPBACK
(
i
è(((
š_addr_t
)(iè& 0xff000000è=ð0x7f000000)

	)

377 
	#IN_ZERONET
(
i
è(((
š_addr_t
)(iè& 0xff000000è=ð0)

	)

379 
	#IN_PRIVATE
(
i
è((((
š_addr_t
)(i) & 0xff000000) == 0x0a000000) || \

380 (((
š_addr_t
)(
i
) & 0xfff00000) == 0xac100000) || \

381 (((
š_addr_t
)(
i
è& 0xffff0000è=ð0xc0a80000))

	)

383 
	#IN_LOCAL_GROUP
(
i
è(((
š_addr_t
)(iè& 0xffffff00è=ð0xe0000000)

	)

385 
	#IN_ANY_LOCAL
(
i
è(
	`IN_LINKLOCAL
(iè|| 
	`IN_LOCAL_GROUP
(i))

	)

387 
	#INADDR_LOOPBACK
 ((
š_addr_t
)0x7f000001)

	)

388 #iâdeà
_KERNEL


389 
	#INADDR_NONE
 ((
š_addr_t
)0xffffffffè

	)

392 
	#INADDR_UNSPEC_GROUP
 ((
š_addr_t
)0xe0000000è

	)

393 
	#INADDR_ALLHOSTS_GROUP
 ((
š_addr_t
)0xe0000001è

	)

394 
	#INADDR_ALLRTRS_GROUP
 ((
š_addr_t
)0xe0000002è

	)

395 
	#INADDR_ALLRPTS_GROUP
 ((
š_addr_t
)0xe0000016è

	)

396 
	#INADDR_CARP_GROUP
 ((
š_addr_t
)0xe0000012è

	)

397 
	#INADDR_PFSYNC_GROUP
 ((
š_addr_t
)0xe00000f0è

	)

398 
	#INADDR_ALLMDNS_GROUP
 ((
š_addr_t
)0xe00000fbè

	)

399 
	#INADDR_MAX_LOCAL_GROUP
 ((
š_addr_t
)0xe00000ffè

	)

401 
	#IN_LOOPBACKNET
 127

	)

403 
	#IN_RFC3021_MASK
 ((
š_addr_t
)0xffffffã)

	)

409 
	#IP_OPTIONS
 1

	)

410 
	#IP_HDRINCL
 2

	)

411 
	#IP_TOS
 3

	)

412 
	#IP_TTL
 4

	)

413 
	#IP_RECVOPTS
 5

	)

414 
	#IP_RECVRETOPTS
 6

	)

415 
	#IP_RECVDSTADDR
 7

	)

416 
	#IP_SENDSRCADDR
 
IP_RECVDSTADDR


	)

417 
	#IP_RETOPTS
 8

	)

418 
	#IP_MULTICAST_IF
 9

	)

420 
	#IP_MULTICAST_TTL
 10

	)

421 
	#IP_MULTICAST_LOOP
 11

	)

422 
	#IP_ADD_MEMBERSHIP
 12

	)

423 
	#IP_DROP_MEMBERSHIP
 13

	)

424 
	#IP_MULTICAST_VIF
 14

	)

425 
	#IP_RSVP_ON
 15

	)

426 
	#IP_RSVP_OFF
 16

	)

427 
	#IP_RSVP_VIF_ON
 17

	)

428 
	#IP_RSVP_VIF_OFF
 18

	)

429 
	#IP_PORTRANGE
 19

	)

430 
	#IP_RECVIF
 20

	)

432 
	#IP_IPSEC_POLICY
 21

	)

434 
	#IP_ONESBCAST
 23

	)

435 
	#IP_BINDANY
 24

	)

436 
	#IP_BINDMULTI
 25

	)

437 
	#IP_RSS_LISTEN_BUCKET
 26

	)

438 
	#IP_ORIGDSTADDR
 27

	)

439 
	#IP_RECVORIGDSTADDR
 
IP_ORIGDSTADDR


	)

446 
	#IP_FW_TABLE_ADD
 40

	)

447 
	#IP_FW_TABLE_DEL
 41

	)

448 
	#IP_FW_TABLE_FLUSH
 42

	)

449 
	#IP_FW_TABLE_GETSIZE
 43

	)

450 
	#IP_FW_TABLE_LIST
 44

	)

452 
	#IP_FW3
 48

	)

453 
	#IP_DUMMYNET3
 49

	)

455 
	#IP_FW_ADD
 50

	)

456 
	#IP_FW_DEL
 51

	)

457 
	#IP_FW_FLUSH
 52

	)

458 
	#IP_FW_ZERO
 53

	)

459 
	#IP_FW_GET
 54

	)

460 
	#IP_FW_RESETLOG
 55

	)

462 
	#IP_FW_NAT_CFG
 56

	)

463 
	#IP_FW_NAT_DEL
 57

	)

464 
	#IP_FW_NAT_GET_CONFIG
 58

	)

465 
	#IP_FW_NAT_GET_LOG
 59

	)

467 
	#IP_DUMMYNET_CONFIGURE
 60

	)

468 
	#IP_DUMMYNET_DEL
 61

	)

469 
	#IP_DUMMYNET_FLUSH
 62

	)

470 
	#IP_DUMMYNET_GET
 64

	)

472 
	#IP_RECVTTL
 65

	)

473 
	#IP_MINTTL
 66

	)

474 
	#IP_DONTFRAG
 67

	)

475 
	#IP_RECVTOS
 68

	)

478 
	#IP_ADD_SOURCE_MEMBERSHIP
 70

	)

479 
	#IP_DROP_SOURCE_MEMBERSHIP
 71

	)

480 
	#IP_BLOCK_SOURCE
 72

	)

481 
	#IP_UNBLOCK_SOURCE
 73

	)

484 
	#IP_MSFILTER
 74

	)

487 
	#MCAST_JOIN_GROUP
 80

	)

488 
	#MCAST_LEAVE_GROUP
 81

	)

489 
	#MCAST_JOIN_SOURCE_GROUP
 82

	)

490 
	#MCAST_LEAVE_SOURCE_GROUP
 83

	)

491 
	#MCAST_BLOCK_SOURCE
 84

	)

492 
	#MCAST_UNBLOCK_SOURCE
 85

	)

495 
	#IP_FLOWID
 90

	)

496 
	#IP_FLOWTYPE
 91

	)

497 
	#IP_RSSBUCKETID
 92

	)

498 
	#IP_RECVFLOWID
 93

	)

499 
	#IP_RECVRSSBUCKETID
 94

	)

504 
	#IP_DEFAULT_MULTICAST_TTL
 1

	)

505 
	#IP_DEFAULT_MULTICAST_LOOP
 1

	)

512 
	#IP_MIN_MEMBERSHIPS
 31

	)

513 
	#IP_MAX_MEMBERSHIPS
 4095

	)

514 
	#IP_MAX_SOURCE_FILTER
 1024

	)

520 
	#IP_MAX_GROUP_SRC_FILTER
 512

	)

521 
	#IP_MAX_SOCK_SRC_FILTER
 128

	)

522 
	#IP_MAX_SOCK_MUTE_FILTER
 128

	)

527 
	s_m»q
 {

528 
š_addr
 
	mimr_muÉŸddr
;

529 
š_addr
 
	mimr_š‹rçû
;

537 
	s_m»qn
 {

538 
š_addr
 
	mimr_muÉŸddr
;

539 
š_addr
 
	mimr_add»ss
;

540 
	mimr_ifšdex
;

546 
	s_m»q_sourû
 {

547 
š_addr
 
	mimr_muÉŸddr
;

548 
š_addr
 
	mimr_sourûaddr
;

549 
š_addr
 
	mimr_š‹rçû
;

556 
	sgroup_»q
 {

557 
ušt32_t
 
	mgr_š‹rçû
;

558 
sockaddr_¡Üage
 
	mgr_group
;

561 
	sgroup_sourû_»q
 {

562 
ušt32_t
 
	mg¤_š‹rçû
;

563 
sockaddr_¡Üage
 
	mg¤_group
;

564 
sockaddr_¡Üage
 
	mg¤_sourû
;

567 #iâdeà
__MSFILTERREQ_DEFINED


568 
	#__MSFILTERREQ_DEFINED


	)

574 
	s__msfž‹¼eq
 {

575 
ušt32_t
 
	mmsä_ifšdex
;

576 
ušt32_t
 
	mmsä_fmode
;

577 
ušt32_t
 
	mmsä_n¤cs
;

578 
sockaddr_¡Üage
 
	mmsä_group
;

579 
sockaddr_¡Üage
 *
	mmsä_¤cs
;

586 
	gsockaddr
;

593 
£tv4sourûfž‹r
(, 
š_addr
, š_addr, 
ušt32_t
,

594 
ušt32_t
, 
š_addr
 *);

595 
g‘v4sourûfž‹r
(, 
š_addr
, š_addr, 
ušt32_t
 *,

596 
ušt32_t
 *, 
š_addr
 *);

597 
£tsourûfž‹r
(, 
ušt32_t
, 
sockaddr
 *, 
sockËn_t
,

598 
ušt32_t
, ušt32_t, 
sockaddr_¡Üage
 *);

599 
g‘sourûfž‹r
(, 
ušt32_t
, 
sockaddr
 *, 
sockËn_t
,

600 
ušt32_t
 *, ušt32_ˆ*, 
sockaddr_¡Üage
 *);

605 
	#MCAST_UNDEFINED
 0

	)

606 
	#MCAST_INCLUDE
 1

	)

607 
	#MCAST_EXCLUDE
 2

	)

613 
	#IP_PORTRANGE_DEFAULT
 0

	)

614 
	#IP_PORTRANGE_HIGH
 1

	)

615 
	#IP_PORTRANGE_LOW
 2

	)

620 
	#IPCTL_FORWARDING
 1

	)

621 
	#IPCTL_SENDREDIRECTS
 2

	)

622 
	#IPCTL_DEFTTL
 3

	)

623 #ifdeà
nÙy‘


624 
	#IPCTL_DEFMTU
 4

	)

629 
	#IPCTL_SOURCEROUTE
 8

	)

630 
	#IPCTL_DIRECTEDBROADCAST
 9

	)

631 
	#IPCTL_INTRQMAXLEN
 10

	)

632 
	#IPCTL_INTRQDROPS
 11

	)

633 
	#IPCTL_STATS
 12

	)

634 
	#IPCTL_ACCEPTSOURCEROUTE
 13

	)

635 
	#IPCTL_FASTFORWARDING
 14

	)

637 
	#IPCTL_GIF_TTL
 16

	)

638 
	#IPCTL_INTRDQMAXLEN
 17

	)

639 
	#IPCTL_INTRDQDROPS
 18

	)

643 #ifdeà
_KERNEL


645 
	giâ‘
; 
	gmbuf
;

646 
	gš_içddr
;

648 
š_brßdÿ¡
(
š_addr
, 
iâ‘
 *);

649 
š_içddr_brßdÿ¡
(
š_addr
, 
š_içddr
 *);

650 
š_ÿnfÜw¬d
(
š_addr
);

651 
š_loÿÏddr
(
š_addr
);

652 
š_loÿl
(
š_addr
);

653 
š_ifha§ddr
(
iâ‘
 *, 
š_addr
);

654 
š‘_©Ú
(cÚ¡ *, 
š_addr
 *);

655 *
š‘_Áß_r
(
š_addr
 
ša
, *
buf
);

656 *
š‘_ÁÝ
(, cÚ¡ *, *, 
sockËn_t
);

657 
š‘_±Ú
(
af
, const *, *);

658 
š_ifd‘ach
(
iâ‘
 *);

660 
	#š_ho¡eq
(
s
, 
t
è((s).
s_addr
 =ðÑ).s_addr)

	)

661 
	#š_nuÎho¡
(
x
è((x).
s_addr
 =ð
INADDR_ANY
)

	)

662 
	#š_®lho¡s
(
x
è((x).
s_addr
 =ð
	`htÚl
(
INADDR_ALLHOSTS_GROUP
))

	)

664 
	#§tosš
(
§
è((
sockaddr_š
 *)(§))

	)

665 
	#sšto§
(
sš
è((
sockaddr
 *)(sš))

	)

666 
	#içtoŸ
(
iç
è((
š_içddr
 *)(iç))

	)

670 #ià
__POSIX_VISIBLE
 >= 200112

671 
	#__KAME_NETINET_IN_H_INCLUDED_


	)

672 
	~<Ãtš‘6/š6.h
>

673 #undeà
__KAME_NETINET_IN_H_INCLUDED_


	@/usr/include/netinet/in_var.h

35 #iâdeà
_NETINET_IN_VAR_H_


36 
	#_NETINET_IN_VAR_H_


	)

41 
	sš_®Ÿ¤eq
 {

42 
	miäa_Çme
[
IFNAMSIZ
];

43 
sockaddr_š
 
	miäa_addr
;

44 
sockaddr_š
 
	miäa_brßdaddr
;

45 
	#iäa_d¡addr
 
iäa_brßdaddr


	)

46 
sockaddr_š
 
	miäa_mask
;

47 
	miäa_vhid
;

50 #ifdeà
_KERNEL


51 
	~<sys/queue.h
>

52 
	~<sys/âv_hash.h
>

53 
	~<sys/Œ“.h
>

55 
	gigmp_ifsoác
;

56 
	gš_muÉi
;

57 
	gÎbË
;

58 
SLIST_HEAD
(
š_muÉi_h—d
, 
š_muÉi
);

63 
	sš_ifšfo
 {

64 
ÎbË
 *
	mii_Ît
;

65 
igmp_ifsoác
 *
	mii_igmp
;

66 
š_muÉi
 *
	mii_®lho¡s
;

75 
	sš_içddr
 {

76 
içddr
 
	mŸ_iç
;

77 
	#Ÿ_iå
 
Ÿ_iç
.
iç_iå


	)

78 
	#Ÿ_æags
 
Ÿ_iç
.
iç_æags


	)

80 
u_lÚg
 
	mŸ_subÃt
;

81 
u_lÚg
 
	mŸ_subÃtmask
;

82 
LIST_ENTRY
(
š_içddr
è
	mŸ_hash
;

83 
CK_STAILQ_ENTRY
(
š_içddr
è
	mŸ_lšk
;

84 
sockaddr_š
 
	mŸ_addr
;

85 
sockaddr_š
 
	mŸ_d¡addr
;

86 
	#Ÿ_brßdaddr
 
Ÿ_d¡addr


	)

87 
sockaddr_š
 
	mŸ_sockmask
;

88 
ÿÎout
 
	mŸ_g¬p_tim”
;

89 
	mŸ_g¬p_couÁ
;

96 
	#IA_SIN
(
Ÿ
è(&(((
š_içddr
 *)(Ÿ))->
Ÿ_addr
))

	)

97 
	#IA_DSTSIN
(
Ÿ
è(&(((
š_içddr
 *)(Ÿ))->
Ÿ_d¡addr
))

	)

98 
	#IA_MASKSIN
(
Ÿ
è(&(((
š_içddr
 *)(Ÿ))->
Ÿ_sockmask
))

	)

100 
	#IN_LNAOF
(
š
, 
iç
) \

101 ((
	`Áohl
((
š
).
s_addr
è& ~((
š_içddr
 *)(
iç
)->
Ÿ_subÃtmask
))

	)

103 
u_ch¬
 
š‘ùË¼m­
[];

105 
	#LLTABLE
(
iå
) \

106 ((
š_ifšfo
 *)(
iå
)->
if_afd©a
[
AF_INET
])->
ii_Ît


	)

110 
CK_STAILQ_HEAD
(
š_içddrh—d
, 
š_içddr
);

111 
LIST_HEAD
(
š_içddrhashh—d
, 
š_içddr
);

113 
VNET_DECLARE
(
š_içddrhashh—d
 *, 
š_içddrhashtbl
);

114 
VNET_DECLARE
(
š_içddrh—d
, in_ifaddrhead);

115 
VNET_DECLARE
(
u_lÚg
, 
š_içddrhmask
);

117 
	#V_š_içddrhashtbl
 
	`VNET
(
š_içddrhashtbl
)

	)

118 
	#V_š_içddrh—d
 
	`VNET
(
š_içddrh—d
)

	)

119 
	#V_š_içddrhmask
 
	`VNET
(
š_içddrhmask
)

	)

121 
	#INADDR_NHASH_LOG2
 9

	)

122 
	#INADDR_NHASH
 (1 << 
INADDR_NHASH_LOG2
)

	)

123 
	#INADDR_HASHVAL
(
x
è
	`âv_32_buf
((&(x)), (x), 
FNV1_32_INIT
)

	)

124 
	#INADDR_HASH
(
x
) \

125 (&
V_š_içddrhashtbl
[
	`INADDR_HASHVAL
(
x
è& 
V_š_içddrhmask
])

	)

127 
rmlock
 
š_içddr_lock
;

129 
	#IN_IFADDR_LOCK_ASSERT
(è
	`rm_as£¹
(&
š_içddr_lock
, 
RA_LOCKED
)

	)

130 
	#IN_IFADDR_RLOCK
(
t
è
	`rm_¾ock
(&
š_içddr_lock
, (t))

	)

131 
	#IN_IFADDR_RLOCK_ASSERT
(è
	`rm_as£¹
(&
š_içddr_lock
, 
RA_RLOCKED
)

	)

132 
	#IN_IFADDR_RUNLOCK
(
t
è
	`rm_ruÆock
(&
š_içddr_lock
, (t))

	)

133 
	#IN_IFADDR_WLOCK
(è
	`rm_wlock
(&
š_içddr_lock
)

	)

134 
	#IN_IFADDR_WLOCK_ASSERT
(è
	`rm_as£¹
(&
š_içddr_lock
, 
RA_WLOCKED
)

	)

135 
	#IN_IFADDR_WUNLOCK
(è
	`rm_wuÆock
(&
š_içddr_lock
)

	)

141 
	#INADDR_TO_IFADDR
(
addr
, 
Ÿ
) \

146 
	`LIST_FOREACH
(
Ÿ
, 
	`INADDR_HASH
((
addr
).
s_addr
), 
Ÿ_hash
) \

147 ià(
	`IA_SIN
(
Ÿ
)->
sš_addr
.
s_addr
 =ð(
addr
).s_addr) \

149 } 0)

	)

155 
	#INADDR_TO_IFP
(
addr
, 
iå
) \

159 
š_içddr
 *
Ÿ
; \

161 
	`INADDR_TO_IFADDR
(
addr
, 
Ÿ
); \

162 (
iå
èð(
Ÿ
 =ð
NULL
è? NULL : ia->
Ÿ_iå
; \

163 }

	)

169 
	#IFP_TO_IA
(
iå
, 
Ÿ
, 
t
) \

174 
	`IN_IFADDR_RLOCK
((
t
)); \

175 (
Ÿ
èð
	`CK_STAILQ_FIRST
(&
V_š_içddrh—d
); \

176 (
Ÿ
è!ð
NULL
 && (Ÿ)->
Ÿ_iå
 !ð(
iå
); \

177 (
Ÿ
èð
	`CK_STAILQ_NEXT
((Ÿ), 
Ÿ_lšk
)) \

179 
	`IN_IFADDR_RUNLOCK
((
t
)); \

180 } 0)

	)

185 
	srou‹r_šfo
 {

186 
iâ‘
 *
	m¹i_iå
;

187 
	m¹i_ty³
;

188 
	m¹i_time
;

189 
SLIST_ENTRY
(
rou‹r_šfo
è
	m¹i_li¡
;

195 
	s_msourû
 {

196 
RB_ENTRY
(
_msourû
è
	mims_lšk
;

197 
š_addr_t
 
	mims_haddr
;

198 
	sims_¡
 {

199 
ušt16_t
 
	mex
;

200 
ušt16_t
 
	mš
;

201 } 
	mims_¡
[2];

202 
ušt8_t
 
	mims_¡p
;

208 
	sš_msourû
 {

209 
RB_ENTRY
(
_msourû
è
	mims_lšk
;

210 
š_addr_t
 
	mims_haddr
;

211 
ušt8_t
 
	mim¦_¡
[2];

214 
RB_HEAD
(
_msourû_Œ“
, 
_msourû
);

216 
__šlše
 

217 
	$_msourû_cmp
(cÚ¡ 
_msourû
 *
a
, cÚ¡ _msourû *
b
)

220 ià(
a
->
ims_haddr
 < 
b
->ims_haddr)

222 ià(
a
->
ims_haddr
 =ð
b
->ims_haddr)

225 
	}
}

226 
RB_PROTOTYPE
(
_msourû_Œ“
, 
_msourû
, 
ims_lšk
, 
_msourû_cmp
);

231 
	sš_mfž‹r
 {

232 
_msourû_Œ“
 
	mimf_sourûs
;

233 
u_lÚg
 
	mimf_n¤c
;

234 
ušt8_t
 
	mimf_¡
[2];

259 
	sš_muÉi
 {

260 
LIST_ENTRY
(
š_muÉi
è
	mšm_lšk
;

261 
š_addr
 
	mšm_addr
;

262 
iâ‘
 *
	mšm_iå
;

263 
ifmuÉŸddr
 *
	mšm_ifma
;

264 
u_št
 
	mšm_tim”
;

265 
u_št
 
	mšm_¡©e
;

266 *
	mšm_¹i
;

267 
u_št
 
	mšm_»fcouÁ
;

270 
igmp_ifsoác
 *
	mšm_igi
;

271 
SLIST_ENTRY
(
š_muÉi
è
	mšm_Ä–e
;

272 
_msourû_Œ“
 
	mšm_¤cs
;

273 
u_lÚg
 
	mšm_n¤c
;

275 
mbufq
 
	mšm_scq
;

277 
timev®
 
	mšm_Ï¡g¤tv
;

278 
ušt16_t
 
	mšm_sùim”
;

279 
ušt16_t
 
	mšm_süv
;

288 
	sšm_¡
 {

289 
ušt16_t
 
	miss_fmode
;

290 
ušt16_t
 
	miss_asm
;

291 
ušt16_t
 
	miss_ex
;

292 
ušt16_t
 
	miss_š
;

293 
ušt16_t
 
	miss_»c
;

294 } 
	mšm_¡
[2];

305 
__šlše
 
ušt8_t


306 
	$ims_g‘_mode
(cÚ¡ 
š_muÉi
 *
šm
, cÚ¡ 
_msourû
 *
ims
,

307 
ušt8_t
 
t
)

310 
t
 = !!t;

311 ià(
šm
->
šm_¡
[
t
].
iss_ex
 > 0 &&

312 
šm
->
šm_¡
[
t
].
iss_ex
 =ð
ims
->
ims_¡
[t].
ex
)

313  (
MCAST_EXCLUDE
);

314 ià(
ims
->
ims_¡
[
t
].
š
 > 0 && ims->ims_¡[t].
ex
 == 0)

315  (
MCAST_INCLUDE
);

316  (
MCAST_UNDEFINED
);

317 
	}
}

319 #ifdeà
SYSCTL_DECL


320 
SYSCTL_DECL
(
_Ãt_š‘
);

321 
SYSCTL_DECL
(
_Ãt_š‘_
);

322 
SYSCTL_DECL
(
_Ãt_š‘_¿w
);

331 
mtx
 
š_muÉi_li¡_mtx
;

332 
sx
 
š_muÉi_sx
;

334 
	#IN_MULTI_LIST_LOCK
(è
	`mtx_lock
(&
š_muÉi_li¡_mtx
)

	)

335 
	#IN_MULTI_LIST_UNLOCK
(è
	`mtx_uÆock
(&
š_muÉi_li¡_mtx
)

	)

336 
	#IN_MULTI_LIST_LOCK_ASSERT
(è
	`mtx_as£¹
(&
š_muÉi_li¡_mtx
, 
MA_OWNED
)

	)

337 
	#IN_MULTI_LIST_UNLOCK_ASSERT
(è
	`mtx_as£¹
(&
š_muÉi_li¡_mtx
, 
MA_NOTOWNED
)

	)

339 
	#IN_MULTI_LOCK
(è
	`sx_xlock
(&
š_muÉi_sx
)

	)

340 
	#IN_MULTI_UNLOCK
(è
	`sx_xuÆock
(&
š_muÉi_sx
)

	)

341 
	#IN_MULTI_LOCK_ASSERT
(è
	`sx_as£¹
(&
š_muÉi_sx
, 
SA_XLOCKED
)

	)

342 
	#IN_MULTI_UNLOCK_ASSERT
(è
	`sx_as£¹
(&
š_muÉi_sx
, 
SA_XUNLOCKED
)

	)

344 
šm_discÚÃù
(
š_muÉi
 *
šm
);

345 
ifma_»¡¬t
;

348 
__šlše
 

349 
	$šm_acquœe_locked
(
š_muÉi
 *
šm
)

352 
	`IN_MULTI_LIST_LOCK_ASSERT
();

353 ++
šm
->
šm_»fcouÁ
;

354 
	}
}

356 
__šlše
 

357 
	$šm_acquœe
(
š_muÉi
 *
šm
)

359 
	`IN_MULTI_LIST_LOCK
();

360 
	`šm_acquœe_locked
(
šm
);

361 
	`IN_MULTI_LIST_UNLOCK
();

362 
	}
}

364 
__šlše
 

365 
	$šm_»Ë_locked
(
š_muÉi_h—d
 *
šmh
, 
š_muÉi
 *
šm
)

367 
	`MPASS
(
šm
->
šm_»fcouÁ
 > 0);

368 
	`IN_MULTI_LIST_LOCK_ASSERT
();

370 ià(--
šm
->
šm_»fcouÁ
 == 0) {

371 
	`MPASS
(
šmh
 !ð
NULL
);

372 
	`šm_discÚÃù
(
šm
);

373 
šm
->
šm_ifma
->
ifma_´Ùo¥ec
 = 
NULL
;

374 
	`SLIST_INSERT_HEAD
(
šmh
, 
šm
, 
šm_Ä–e
);

376 
	}
}

381 
	#MCAST_PASS
 0

	)

382 
	#MCAST_NOTGMEMBER
 1

	)

383 
	#MCAST_NOTSMEMBER
 2

	)

384 
	#MCAST_MUTED
 3

	)

386 
	g¹’Œy
;

387 
	grou‹
;

388 
	g_mÝtiÚs
;

390 
š_muÉi
 *
šm_lookup_locked
(
iâ‘
 *, cÚ¡ 
š_addr
);

391 
š_muÉi
 *
šm_lookup
(
iâ‘
 *, cÚ¡ 
š_addr
);

392 
imo_muÉi_fž‹r
(cÚ¡ 
_mÝtiÚs
 *, cÚ¡ 
iâ‘
 *,

393 cÚ¡ 
sockaddr
 *, const sockaddr *);

394 
šm_comm™
(
š_muÉi
 *);

395 
šm_þ—r_»cÜded
(
š_muÉi
 *);

396 
šm_´št
(cÚ¡ 
š_muÉi
 *);

397 
šm_»cÜd_sourû
(
š_muÉi
 *
šm
, cÚ¡ 
š_addr_t
);

398 
šm_»Ëa£_deã¼ed
(
š_muÉi
 *);

399 
šm_»Ëa£_li¡_deã¼ed
(
š_muÉi_h—d
 *);

400 
š_muÉi
 *

401 
š_addmuÉi
(
š_addr
 *, 
iâ‘
 *);

402 
š_jošgroup
(
iâ‘
 *, cÚ¡ 
š_addr
 *,

403  
š_mfž‹r
 *, 
š_muÉi
 **);

404 
š_jošgroup_locked
(
iâ‘
 *, cÚ¡ 
š_addr
 *,

405  
š_mfž‹r
 *, 
š_muÉi
 **);

406 
š_Ëavegroup
(
š_muÉi
 *, 
š_mfž‹r
 *);

407 
š_Ëavegroup_locked
(
š_muÉi
 *,

408  
š_mfž‹r
 *);

409 
š_cÚŒÞ
(
sock‘
 *, 
u_lÚg
, 
ÿddr_t
, 
iâ‘
 *,

410 
th»ad
 *);

411 
š_add´efix
(
š_içddr
 *, );

412 
š_süub´efix
(
š_içddr
 *, 
u_št
);

413 
š_ifsüub_®l
();

414 
_šput
(
mbuf
 *);

415 
_dœeù_šput
(
mbuf
 *);

416 
š_içdown
(
içddr
 *
iç
, );

417 
mbuf
 *
_ŒyfÜw¬d
(mbuf *);

418 *
š_domiç‰ach
(
iâ‘
 *);

419 
š_domifd‘ach
(
iâ‘
 *, *);

423 
š_¹®loc_ign
(
rou‹
 *
ro
, 
u_lÚg
 
ignæags
, 
u_št
 
fibnum
);

424 
š_¹»dœeù
(
sockaddr
 *, sockaddr *,

425 
sockaddr
 *, , sockadd¸*, 
u_št
);

429 
	~<Ãtš‘6/š6_v¬.h
>

	@/usr/include/stdarg.h

6 
	~<x86/¡d¬g.h
>

	@/usr/include/stddef.h

36 #iâdeà
_STDDEF_H_


37 
	#_STDDEF_H_


	)

39 
	~<sys/cdefs.h
>

40 
	~<sys/_nuÎ.h
>

41 
	~<sys/_ty³s.h
>

43 #iâdeà
_PTRDIFF_T_DECLARED


44 
__±rdiff_t
 
	t±rdiff_t
;

45 
	#_PTRDIFF_T_DECLARED


	)

48 #ià
__BSD_VISIBLE


49 #iâdeà
_RUNE_T_DECLARED


50 
__ruÃ_t
 
	truÃ_t
;

51 
	#_RUNE_T_DECLARED


	)

55 #iâdeà
_SIZE_T_DECLARED


56 
__size_t
 
	tsize_t
;

57 
	#_SIZE_T_DECLARED


	)

60 #iâdef 
__ýlu¥lus


61 #iâdeà
_WCHAR_T_DECLARED


62 
___wch¬_t
 
	twch¬_t
;

63 
	#_WCHAR_T_DECLARED


	)

67 #ià
__ISO_C_VISIBLE
 >ð2011 || 
__ýlu¥lus
 >= 201103L

68 #iâdeà
__CLANG_MAX_ALIGN_T_DEFINED


69 
__max_®ign_t
 
	tmax_®ign_t
;

70 
	#__CLANG_MAX_ALIGN_T_DEFINED


	)

71 
	#_GCC_MAX_ALIGN_T


	)

75 
	#off£tof
(
ty³
, 
f›ld
è
	`__off£tof
Ñy³, f›ld)

	)

77 #ià
__EXT1_VISIBLE


79 #iâdeà
_RSIZE_T_DEFINED


80 
	#_RSIZE_T_DEFINED


	)

81 
size_t
 
	trsize_t
;

	@/usr/include/sys/_cpuset.h

34 #iâdeà
_SYS__CPUSET_H_


35 
	#_SYS__CPUSET_H_


	)

37 
	~<sys/_b™£t.h
>

39 #ifdeà
_KERNEL


40 
	#CPU_SETSIZE
 
MAXCPU


	)

43 
	#CPU_MAXSIZE
 256

	)

45 #iâdef 
CPU_SETSIZE


46 
	#CPU_SETSIZE
 
CPU_MAXSIZE


	)

49 
BITSET_DEFINE
(
_ýu£t
, 
CPU_SETSIZE
);

50 
_ýu£t
 
	týu£t_t
;

	@/usr/include/sys/_lock.h

33 #iâdeà
_SYS__LOCK_H_


34 
	#_SYS__LOCK_H_


	)

36 
	slock_objeù
 {

37 cÚ¡ *
	mlo_Çme
;

38 
u_št
 
	mlo_æags
;

39 
u_št
 
	mlo_d©a
;

40 
w™Ãss
 *
	mlo_w™Ãss
;

	@/usr/include/sys/_mutex.h

33 #iâdeà
_SYS__MUTEX_H_


34 
	#_SYS__MUTEX_H_


	)

36 
	~<machše/·¿m.h
>

47 
	smtx
 {

48 
lock_objeù
 
	mlock_objeù
;

49 vÞ©ž
ušŒ_t
 
	mmtx_lock
;

61 
	smtx_·d®ign
 {

62 
lock_objeù
 
	mlock_objeù
;

63 vÞ©ž
ušŒ_t
 
	mmtx_lock
;

64 } 
__®igÃd
(
CACHE_LINE_SIZE
);

	@/usr/include/sys/_null.h

31 #iâdeà
NULL


33 #ià!
defšed
(
__ýlu¥lus
)

34 
	#NULL
 ((*)0)

	)

36 #ià
__ýlu¥lus
 >= 201103L

37 
	#NULL
 
nuÎ±r


	)

38 #–ià
defšed
(
__GNUG__
è&& defšed(
__GNUC__
) && __GNUC__ >= 4

39 
	#NULL
 
__nuÎ


	)

41 #ià
defšed
(
__LP64__
)

42 
	#NULL
 (0L)

	)

44 
	#NULL
 0

	)

	@/usr/include/sys/_sigset.h

40 #iâdeà
_SYS__SIGSET_H_


41 
	#_SYS__SIGSET_H_


	)

46 
	#_SIG_WORDS
 4

	)

47 
	#_SIG_MAXSIG
 128

	)

48 
	#_SIG_IDX
(
sig
è((sigè- 1)

	)

49 
	#_SIG_WORD
(
sig
è(
	`_SIG_IDX
(sigè>> 5)

	)

50 
	#_SIG_BIT
(
sig
è(1 << (
	`_SIG_IDX
(sigè& 31))

	)

51 
	#_SIG_VALID
(
sig
è((sigè<ð
_SIG_MAXSIG
 && (sigè> 0)

	)

53 
	s__sig£t
 {

54 
__ušt32_t
 
	m__b™s
[
_SIG_WORDS
];

55 } 
	t__sig£t_t
;

57 #ià
defšed
(
_KERNEL
è&& defšed(
COMPAT_43
)

58 
	tosig£t_t
;

	@/usr/include/sys/_stdarg.h

33 #iâdeà
_SYS__STDARG_H_


34 
	#_SYS__STDARG_H_


	)

36 
	~<sys/cdefs.h
>

37 
	~<sys/_ty³s.h
>

39 #iâdeà
_VA_LIST_DECLARED


40 
	#_VA_LIST_DECLARED


	)

41 
__va_li¡
 
	tva_li¡
;

44 #ifdeà
__GNUCLIKE_BUILTIN_STDARG


45 
	#va_¡¬t
(
­
, 
Ï¡
è
	`__bužtš_va_¡¬t
(×p), (Ï¡))

	)

46 
	#va_¬g
(
­
, 
ty³
è
	`__bužtš_va_¬g
(×p),y³)

	)

47 
	#__va_cÝy
(
de¡
, 
¤c
è
	`__bužtš_va_cÝy
((de¡), (¤c))

	)

48 #ià
__ISO_C_VISIBLE
 >= 1999

49 
	#va_cÝy
(
de¡
, 
¤c
è
	`__va_cÝy
(de¡, src)

	)

51 
	#va_’d
(
­
è
	`__bužtš_va_’d
×p)

	)

	@/usr/include/sys/_types.h

31 #iâdeà
_SYS__TYPES_H_


32 
	#_SYS__TYPES_H_


	)

34 
	~<sys/cdefs.h
>

35 
	~<machše/_ty³s.h
>

40 
__št32_t
 
	t__blksize_t
;

41 
__št64_t
 
	t__blkút_t
;

42 
__št32_t
 
	t__þockid_t
;

43 
__ušt32_t
 
	t__fæags_t
;

44 
__ušt64_t
 
	t__fsblkút_t
;

45 
__ušt64_t
 
	t__fsfžút_t
;

46 
__ušt32_t
 
	t__gid_t
;

47 
__št64_t
 
	t__id_t
;

48 
__ušt64_t
 
	t__šo_t
;

49 
	t__key_t
;

50 
__št32_t
 
	t__lwpid_t
;

51 
__ušt16_t
 
	t__mode_t
;

52 
	t__accmode_t
;

53 
	t__Æ_™em
;

54 
__ušt64_t
 
	t__Æšk_t
;

55 
__št64_t
 
	t__off_t
;

56 
__št64_t
 
	t__off64_t
;

57 
__št32_t
 
	t__pid_t
;

58 
__št64_t
 
	t__¾im_t
;

61 
__ušt8_t
 
	t__§_çmžy_t
;

62 
__ušt32_t
 
	t__sockËn_t
;

63 
	t__su£cÚds_t
;

64 
__tim”
 *
	t__tim”_t
;

65 
__mq
 *
	t__mqd_t
;

66 
__ušt32_t
 
	t__uid_t
;

67 
	t__u£cÚds_t
;

68 
	t__ýuwhich_t
;

69 
	t__ýuËv–_t
;

70 
	t__ýu£tid_t
;

90 
	t__ù_ruÃ_t
;

91 
__ù_ruÃ_t
 
	t__ruÃ_t
;

92 
__ù_ruÃ_t
 
	t__wšt_t
;

95 #ià!
defšed
(
__þªg__
è|| !defšed(
__ýlu¥lus
)

96 
__ušt_Ëa¡16_t
 
	t__ch¬16_t
;

97 
__ušt_Ëa¡32_t
 
	t__ch¬32_t
;

100 #ià
defšed
(
__ýlu¥lus
) && __cplusplus >= 201103L

101 
	#_CHAR16_T_DECLARED


	)

102 
	#_CHAR32_T_DECLARED


	)

106 
__max_®ign1
 
__®igÃd
(
_Alignof
());

107 #iâdeà
_STANDALONE


108 
__max_®ign2
 
__®igÃd
(
_Alignof
());

110 } 
	t__max_®ign_t
;

112 
__ušt64_t
 
	t__dev_t
;

114 
__ušt32_t
 
	t__fix±_t
;

121 
	m__mb¡©e8
[128];

122 
__št64_t
 
	m_mb¡©eL
;

123 } 
	t__mb¡©e_t
;

125 
__uštmax_t
 
	t__rmª_»s_t
;

131 #ifdeà
__GNUCLIKE_BUILTIN_VARARGS


132 
__bužtš_va_li¡
 
	t__va_li¡
;

136 #ià
defšed
(
__GNUC_VA_LIST_COMPATIBILITY
è&& !defšed(
__GNUC_VA_LIST
) \

137 && !
	$defšed
(
__NO_GNUC_VA_LIST
)

138 
	#__GNUC_VA_LIST


	)

139 
__va_li¡
 
	t__gnuc_va_li¡
;

147 
	#__INO64


	)

	@/usr/include/sys/agpio.h

31 #iâdeà
_SYS_AGPIO_H_


32 
	#_SYS_AGPIO_H_


	)

37 
	#AGP_PAGE_SIZE
 4096

	)

38 
	#AGP_PAGE_SHIFT
 12

	)

46 
	#AGP_MODE_GET_RQ
(
x
è(((xè& 0xff000000Uè>> 24)

	)

47 
	#AGP_MODE_GET_ARQSZ
(
x
è(((xè& 0x0000e000Uè>> 13)

	)

48 
	#AGP_MODE_GET_CAL
(
x
è(((xè& 0x00001c00Uè>> 10)

	)

49 
	#AGP_MODE_GET_SBA
(
x
è(((xè& 0x00000200Uè>> 9)

	)

50 
	#AGP_MODE_GET_AGP
(
x
è(((xè& 0x00000100Uè>> 8)

	)

51 
	#AGP_MODE_GET_GART_64
(
x
è(((xè& 0x00000080Uè>> 7)

	)

52 
	#AGP_MODE_GET_OVER_4G
(
x
è(((xè& 0x00000020Uè>> 5)

	)

53 
	#AGP_MODE_GET_FW
(
x
è(((xè& 0x00000010Uè>> 4)

	)

54 
	#AGP_MODE_GET_MODE_3
(
x
è(((xè& 0x00000008Uè>> 3)

	)

55 
	#AGP_MODE_GET_RATE
(
x
è((xè& 0x00000007U)

	)

56 
	#AGP_MODE_SET_RQ
(
x
,
v
è(((xè& ~0xff000000Uè| ((vè<< 24))

	)

57 
	#AGP_MODE_SET_ARQSZ
(
x
,
v
è(((xè& ~0x0000e000Uè| ((vè<< 13))

	)

58 
	#AGP_MODE_SET_CAL
(
x
,
v
è(((xè& ~0x00001c00Uè| ((vè<< 10))

	)

59 
	#AGP_MODE_SET_SBA
(
x
,
v
è(((xè& ~0x00000200Uè| ((vè<< 9))

	)

60 
	#AGP_MODE_SET_AGP
(
x
,
v
è(((xè& ~0x00000100Uè| ((vè<< 8))

	)

61 
	#AGP_MODE_SET_GART_64
(
x
,
v
è(((xè& ~0x00000080Uè| ((vè<< 7))

	)

62 
	#AGP_MODE_SET_OVER_4G
(
x
,
v
è(((xè& ~0x00000020Uè| ((vè<< 5))

	)

63 
	#AGP_MODE_SET_FW
(
x
,
v
è(((xè& ~0x00000010Uè| ((vè<< 4))

	)

64 
	#AGP_MODE_SET_MODE_3
(
x
,
v
è(((xè& ~0x00000008Uè| ((vè<< 3))

	)

65 
	#AGP_MODE_SET_RATE
(
x
,
v
è(((xè& ~0x00000007Uè| (v))

	)

66 
	#AGP_MODE_V2_RATE_1x
 0x00000001

	)

67 
	#AGP_MODE_V2_RATE_2x
 0x00000002

	)

68 
	#AGP_MODE_V2_RATE_4x
 0x00000004

	)

69 
	#AGP_MODE_V3_RATE_4x
 0x00000001

	)

70 
	#AGP_MODE_V3_RATE_8x
 0x00000002

	)

71 
	#AGP_MODE_V3_RATE_RSVD
 0x00000004

	)

74 
	#AGP_MODE_GET_4G
(
x
è
	`AGP_MODE_GET_OVER_4G
(x)

	)

75 
	#AGP_MODE_SET_4G
(
x
è
	`AGP_MODE_SET_OVER_4G
(x)

	)

76 
	#AGP_MODE_RATE_1x
 
AGP_MODE_V2_RATE_1x


	)

77 
	#AGP_MODE_RATE_2x
 
AGP_MODE_V2_RATE_2x


	)

78 
	#AGP_MODE_RATE_4x
 
AGP_MODE_V2_RATE_4x


	)

80 
	#AGPIOC_BASE
 'A'

	)

81 
	#AGPIOC_INFO
 
	`_IOR
 (
AGPIOC_BASE
, 0, 
agp_šfo
)

	)

82 
	#AGPIOC_ACQUIRE
 
	`_IO
 (
AGPIOC_BASE
, 1)

	)

83 
	#AGPIOC_RELEASE
 
	`_IO
 (
AGPIOC_BASE
, 2)

	)

84 
	#AGPIOC_SETUP
 
	`_IOW
 (
AGPIOC_BASE
, 3, 
agp_£tup
)

	)

86 
	#AGPIOC_RESERVE
 
	`_IOW
 (
AGPIOC_BASE
, 4, 
agp_»giÚ
)

	)

87 
	#AGPIOC_PROTECT
 
	`_IOW
 (
AGPIOC_BASE
, 5, 
agp_»giÚ
)

	)

89 
	#AGPIOC_ALLOCATE
 
	`_IOWR
(
AGPIOC_BASE
, 6, 
agp_®loÿ‹
)

	)

90 
	#AGPIOC_DEALLOCATE
 
	`_IOW
 (
AGPIOC_BASE
, 7, )

	)

91 
	#AGPIOC_BIND
 
	`_IOW
 (
AGPIOC_BASE
, 8, 
agp_bšd
)

	)

92 
	#AGPIOC_UNBIND
 
	`_IOW
 (
AGPIOC_BASE
, 9, 
agp_unbšd
)

	)

93 
	#AGPIOC_CHIPSET_FLUSH
 
	`_IO
 (
AGPIOC_BASE
, 10)

	)

95 
	s_agp_v”siÚ
 {

96 
u_št16_t
 
	mmajÜ
;

97 
u_št16_t
 
	mmšÜ
;

98 } 
	tagp_v”siÚ
;

100 
	s_agp_šfo
 {

101 
agp_v”siÚ
 
	mv”siÚ
;

102 
u_št32_t
 
	mbridge_id
;

103 
u_št32_t
 
	magp_mode
;

104 
off_t
 
	m­”_ba£
;

105 
size_t
 
	m­”_size
;

106 
size_t
 
	mpg_tÙ®
;

107 
size_t
 
	mpg_sy¡em
;

108 
size_t
 
	mpg_u£d
;

109 } 
	tagp_šfo
;

111 
	s_agp_£tup
 {

112 
u_št32_t
 
	magp_mode
;

113 } 
	tagp_£tup
;

119 
	s_agp_£gm’t
 {

120 
off_t
 
	mpg_¡¬t
;

121 
size_t
 
	mpg_couÁ
;

122 
	m´Ù
;

123 } 
	tagp_£gm’t
;

125 
	s_agp_»giÚ
 {

126 
pid_t
 
	mpid
;

127 
size_t
 
	m£g_couÁ
;

128 
_agp_£gm’t
 *
	m£g_li¡
;

129 } 
	tagp_»giÚ
;

132 
	s_agp_®loÿ‹
 {

133 
	mkey
;

134 
size_t
 
	mpg_couÁ
;

135 
u_št32_t
 
	mty³
;

136 
u_št32_t
 
	mphysiÿl
;

140 } 
	tagp_®loÿ‹
;

142 
	s_agp_bšd
 {

143 
	mkey
;

144 
off_t
 
	mpg_¡¬t
;

145 } 
	tagp_bšd
;

147 
	s_agp_unbšd
 {

148 
	mkey
;

149 
u_št32_t
 
	m´iÜ™y
;

150 } 
	tagp_unbšd
;

	@/usr/include/sys/atomic_common.h

33 #iâdeà
_SYS_ATOMIC_COMMON_H_


34 
	#_SYS_ATOMIC_COMMON_H_


	)

36 #iâdeà
_MACHINE_ATOMIC_H_


37 #”rÜ dØ
nÙ
 
šþude
 
this
 
h—d”
, 
u£
 
machše
/
©omic
.
h


40 
	#©omic_lßd_ch¬
(
p
è(*(vÞ©ž
u_ch¬
 *)Õ))

	)

41 
	#©omic_lßd_shÜt
(
p
è(*(vÞ©ž
u_shÜt
 *)Õ))

	)

42 
	#©omic_lßd_št
(
p
è(*(vÞ©ž
u_št
 *)Õ))

	)

43 
	#©omic_lßd_lÚg
(
p
è(*(vÞ©ž
u_lÚg
 *)Õ))

	)

44 
	#©omic_lßd_±r
(
p
è(*(vÞ©ž
ušŒ_t
*)Õ))

	)

45 
	#©omic_lßd_8
(
p
è(*(vÞ©ž
ušt8_t
 *)Õ))

	)

46 
	#©omic_lßd_16
(
p
è(*(vÞ©ž
ušt16_t
 *)Õ))

	)

47 
	#©omic_lßd_32
(
p
è(*(vÞ©ž
ušt32_t
 *)Õ))

	)

48 #ifdeà
_LP64


49 
	#©omic_lßd_64
(
p
è(*(vÞ©ž
ušt64_t
 *)Õ))

	)

52 
	#©omic_¡Üe_ch¬
(
p
, 
v
) \

53 (*(vÞ©ž
u_ch¬
 *)(
p
èð(u_ch¬)(
v
))

	)

54 
	#©omic_¡Üe_shÜt
(
p
, 
v
) \

55 (*(vÞ©ž
u_shÜt
 *)(
p
èð(u_shÜt)(
v
))

	)

56 
	#©omic_¡Üe_št
(
p
, 
v
) \

57 (*(vÞ©ž
u_št
 *)(
p
èð(u_št)(
v
))

	)

58 
	#©omic_¡Üe_lÚg
(
p
, 
v
) \

59 (*(vÞ©ž
u_lÚg
 *)(
p
èð(u_lÚg)(
v
))

	)

60 
	#©omic_¡Üe_±r
(
p
, 
v
) \

61 (*(
ušŒ_t
 *)(
p
èð(ušŒ_t)(
v
))

	)

62 
	#©omic_¡Üe_8
(
p
, 
v
) \

63 (*(vÞ©ž
ušt8_t
 *)(
p
èð(ušt8_t)(
v
))

	)

64 
	#©omic_¡Üe_16
(
p
, 
v
) \

65 (*(vÞ©ž
ušt16_t
 *)(
p
èð(ušt16_t)(
v
))

	)

66 
	#©omic_¡Üe_32
(
p
, 
v
) \

67 (*(vÞ©ž
ušt32_t
 *)(
p
èð(ušt32_t)(
v
))

	)

68 #ifdeà
_LP64


69 
	#©omic_¡Üe_64
(
p
, 
v
) \

70 (*(vÞ©ž
ušt64_t
 *)(
p
èð(ušt64_t)(
v
))

	)

	@/usr/include/sys/bus.h

31 #iâdeà
_SYS_BUS_H_


32 
	#_SYS_BUS_H_


	)

34 
	~<machše/_lim™s.h
>

35 
	~<machše/_bus.h
>

36 
	~<sys/_bus_dma.h
>

37 
	~<sys/ioccom.h
>

47 
	su_busšfo
 {

48 
	mub_v”siÚ
;

49 
	#BUS_USER_VERSION
 2

	)

50 
	mub_g’”©iÚ
;

56 
	edeviû_¡©e
 {

57 
	mDS_NOTPRESENT
 = 10,

58 
	mDS_ALIVE
 = 20,

59 
	mDS_ATTACHING
 = 25,

60 
	mDS_ATTACHED
 = 30,

61 
	mDS_BUSY
 = 40

62 } 
	tdeviû_¡©e_t
;

69 
	#BUS_USER_BUFFER
 (3*1024)

	)

70 
	su_deviû
 {

71 
ušŒ_t
 
	mdv_hªdË
;

72 
ušŒ_t
 
	mdv_·»Á
;

73 
ušt32_t
 
	mdv_devæags
;

74 
ušt16_t
 
	mdv_æags
;

75 
deviû_¡©e_t
 
	mdv_¡©e
;

76 
	mdv_f›lds
[
BUS_USER_BUFFER
];

86 
	#DF_ENABLED
 0x01

	)

87 
	#DF_FIXEDCLASS
 0x02

	)

88 
	#DF_WILDCARD
 0x04

	)

89 
	#DF_DESCMALLOCED
 0x08

	)

90 
	#DF_QUIET
 0x10

	)

91 
	#DF_DONENOMATCH
 0x20

	)

92 
	#DF_EXTERNALSOFTC
 0x40

	)

93 
	#DF_REBID
 0x80

	)

94 
	#DF_SUSPENDED
 0x100

	)

95 
	#DF_QUIET_CHILDREN
 0x200

	)

96 
	#DF_ATTACHED_ONCE
 0x400

	)

97 
	#DF_NEEDNOMATCH
 0x800

	)

105 
	sdev»q_bufãr
 {

106 *
	mbufãr
;

107 
size_t
 
	mËngth
;

110 
	sdev»q
 {

111 
	mdr_Çme
[128];

112 
	mdr_æags
;

114 
dev»q_bufãr
 
	mdru_bufãr
;

115 *
	mdru_d©a
;

116 } 
	mdr_dru
;

117 
	#dr_bufãr
 
dr_dru
.
dru_bufãr


	)

118 
	#dr_d©a
 
dr_dru
.
dru_d©a


	)

121 
	#DEV_ATTACH
 
	`_IOW
('D', 1, 
dev»q
)

	)

122 
	#DEV_DETACH
 
	`_IOW
('D', 2, 
dev»q
)

	)

123 
	#DEV_ENABLE
 
	`_IOW
('D', 3, 
dev»q
)

	)

124 
	#DEV_DISABLE
 
	`_IOW
('D', 4, 
dev»q
)

	)

125 
	#DEV_SUSPEND
 
	`_IOW
('D', 5, 
dev»q
)

	)

126 
	#DEV_RESUME
 
	`_IOW
('D', 6, 
dev»q
)

	)

127 
	#DEV_SET_DRIVER
 
	`_IOW
('D', 7, 
dev»q
)

	)

128 
	#DEV_CLEAR_DRIVER
 
	`_IOW
('D', 8, 
dev»q
)

	)

129 
	#DEV_RESCAN
 
	`_IOW
('D', 9, 
dev»q
)

	)

130 
	#DEV_DELETE
 
	`_IOW
('D', 10, 
dev»q
)

	)

131 
	#DEV_FREEZE
 
	`_IOW
('D', 11, 
dev»q
)

	)

132 
	#DEV_THAW
 
	`_IOW
('D', 12, 
dev»q
)

	)

135 
	#DEVF_FORCE_DETACH
 0x0000001

	)

138 
	#DEVF_SET_DRIVER_DETACH
 0x0000001

	)

141 
	#DEVF_CLEAR_DRIVER_DETACH
 0x0000001

	)

144 
	#DEVF_FORCE_DELETE
 0x0000001

	)

146 #ifdeà
_KERNEL


148 
	~<sys/ev’thªdËr.h
>

149 
	~<sys/kobj.h
>

156 
boÞ—n_t
 
devùl_´oûss_ruÂšg
();

157 
devùl_nÙify_f
(cÚ¡ *
__sy¡em
, cÚ¡ *
__subsy¡em
,

158 cÚ¡ *
__ty³
, cÚ¡ *
__d©a
, 
__æags
);

159 
devùl_nÙify
(cÚ¡ *
__sy¡em
, cÚ¡ *
__subsy¡em
,

160 cÚ¡ *
__ty³
, cÚ¡ *
__d©a
);

161 
devùl_queue_d©a_f
(*
__d©a
, 
__æags
);

162 
devùl_queue_d©a
(*
__d©a
);

163 
	gsbuf
;

164 
devùl_§ã_quÙe_sb
(
sbuf
 *
__sb
, cÚ¡ *
__¤c
);

170 (*
	tdev_lookup_â
)(*
	t¬g
, cÚ¡ *
	tÇme
,

171 
	tdeviû_t
 *
	t»suÉ
);

172 
	`EVENTHANDLER_DECLARE
(
dev_lookup
, 
dev_lookup_â
);

178 
kobj_þass
 
	tdriv”_t
;

200 
devþass
 *
	tdevþass_t
;

205 
	#deviû_m‘hod_t
 
kobj_m‘hod_t


	)

225 
	#FILTER_STRAY
 0x01

	)

226 
	#FILTER_HANDLED
 0x02

	)

227 
	#FILTER_SCHEDULE_THREAD
 0x04

	)

244 
	tdriv”_fž‹r_t
(*);

245 
	tdriv”_šŒ_t
(*);

261 
	ešŒ_ty³
 {

262 
INTR_TYPE_TTY
 = 1,

263 
INTR_TYPE_BIO
 = 2,

264 
INTR_TYPE_NET
 = 4,

265 
INTR_TYPE_CAM
 = 8,

266 
INTR_TYPE_MISC
 = 16,

267 
INTR_TYPE_CLK
 = 32,

268 
INTR_TYPE_AV
 = 64,

269 
INTR_EXCL
 = 256,

270 
INTR_MPSAFE
 = 512,

271 
INTR_ENTROPY
 = 1024,

272 
INTR_MD1
 = 4096,

273 
INTR_MD2
 = 8192,

274 
INTR_MD3
 = 16384,

275 
INTR_MD4
 = 32768

278 
	ešŒ_Œigg”
 {

279 
INTR_TRIGGER_INVALID
 = -1,

280 
INTR_TRIGGER_CONFORM
 = 0,

281 
INTR_TRIGGER_EDGE
 = 1,

282 
INTR_TRIGGER_LEVEL
 = 2

285 
	ešŒ_pÞ¬™y
 {

286 
INTR_POLARITY_CONFORM
 = 0,

287 
INTR_POLARITY_HIGH
 = 1,

288 
INTR_POLARITY_LOW
 = 2

296 
	eýu_£ts
 {

297 
LOCAL_CPUS
 = 0,

298 
INTR_CPUS


301 (*
	tdevÝ_t
)();

309 
	sdriv”
 {

310 
KOBJ_CLASS_FIELDS
;

316 
	s»sourû_m­
 {

317 
bus_¥aû_g_t
 
r_bu¡ag
;

318 
bus_¥aû_hªdË_t
 
r_bushªdË
;

319 
bus_size_t
 
r_size
;

320 *
r_vaddr
;

326 
	s»sourû_m­_»que¡
 {

327 
size_t
 
size
;

328 
rmª_»s_t
 
off£t
;

329 
rmª_»s_t
 
Ëngth
;

330 
vm_mem©Œ_t
 
mem©Œ
;

333 
	`»sourû_š™_m­_»que¡_im¶
(
»sourû_m­_»que¡
 *
_¬gs
,

334 
size_t
 
_sz
);

335 
	#»sourû_š™_m­_»que¡
(
rmr
) \

336 
	`»sourû_š™_m­_»que¡_im¶
((
rmr
), (*Ômr)))

	)

342 
»sourû
;

347 
	s»sourû_li¡_’Œy
 {

348 
	`STAILQ_ENTRY
(
»sourû_li¡_’Œy
è
lšk
;

349 
ty³
;

350 
rid
;

351 
æags
;

352 
»sourû
 *
»s
;

353 
rmª_»s_t
 
¡¬t
;

354 
rmª_»s_t
 
’d
;

355 
rmª_»s_t
 
couÁ
;

357 
	`STAILQ_HEAD
(
»sourû_li¡
, 
»sourû_li¡_’Œy
);

359 
	#RLE_RESERVED
 0x0001

	)

360 
	#RLE_ALLOCATED
 0x0002

	)

361 
	#RLE_PREFETCH
 0x0004

	)

363 
	`»sourû_li¡_š™
(
»sourû_li¡
 *
¾
);

364 
	`»sourû_li¡_ä“
(
»sourû_li¡
 *
¾
);

365 
»sourû_li¡_’Œy
 *

366 
	`»sourû_li¡_add
(
»sourû_li¡
 *
¾
,

367 
ty³
, 
rid
,

368 
rmª_»s_t
 
¡¬t
,„mª_»s_ˆ
’d
,„mª_»s_ˆ
couÁ
);

369 
	`»sourû_li¡_add_Ãxt
(
»sourû_li¡
 *
¾
,

370 
ty³
,

371 
rmª_»s_t
 
¡¬t
,„mª_»s_ˆ
’d
,„mª_»s_ˆ
couÁ
);

372 
	`»sourû_li¡_busy
(
»sourû_li¡
 *
¾
,

373 
ty³
, 
rid
);

374 
	`»sourû_li¡_»£rved
(
»sourû_li¡
 *
¾
, 
ty³
, 
rid
);

375 
»sourû_li¡_’Œy
*

376 
	`»sourû_li¡_fšd
(
»sourû_li¡
 *
¾
,

377 
ty³
, 
rid
);

378 
	`»sourû_li¡_d–‘e
(
»sourû_li¡
 *
¾
,

379 
ty³
, 
rid
);

380 
»sourû
 *

381 
	`»sourû_li¡_®loc
(
»sourû_li¡
 *
¾
,

382 
deviû_t
 
bus
, deviû_ˆ
chžd
,

383 
ty³
, *
rid
,

384 
rmª_»s_t
 
¡¬t
,„mª_»s_ˆ
’d
,

385 
rmª_»s_t
 
couÁ
, 
u_št
 
æags
);

386 
	`»sourû_li¡_»Ëa£
(
»sourû_li¡
 *
¾
,

387 
deviû_t
 
bus
, deviû_ˆ
chžd
,

388 
ty³
, 
rid
, 
»sourû
 *
»s
);

389 
	`»sourû_li¡_»Ëa£_aùive
(
»sourû_li¡
 *
¾
,

390 
deviû_t
 
bus
, deviû_ˆ
chžd
,

391 
ty³
);

392 
»sourû
 *

393 
	`»sourû_li¡_»£rve
(
»sourû_li¡
 *
¾
,

394 
deviû_t
 
bus
, deviû_ˆ
chžd
,

395 
ty³
, *
rid
,

396 
rmª_»s_t
 
¡¬t
,„mª_»s_ˆ
’d
,

397 
rmª_»s_t
 
couÁ
, 
u_št
 
æags
);

398 
	`»sourû_li¡_uÄe£rve
(
»sourû_li¡
 *
¾
,

399 
deviû_t
 
bus
, deviû_ˆ
chžd
,

400 
ty³
, 
rid
);

401 
	`»sourû_li¡_purge
(
»sourû_li¡
 *
¾
);

402 
	`»sourû_li¡_´št_ty³
(
»sourû_li¡
 *
¾
,

403 cÚ¡ *
Çme
, 
ty³
,

404 cÚ¡ *
fÜm©
);

409 
deviû_t
 
roÙ_bus
;

410 
devþass_t
 
roÙ_devþass
;

411 
	`roÙ_bus_cÚfigu»
();

417 
	`bus_g’”ic_aùiv©e_»sourû
(
deviû_t
 
dev
, deviû_ˆ
chžd
, 
ty³
,

418 
rid
, 
»sourû
 *
r
);

419 
deviû_t


420 
	`bus_g’”ic_add_chžd
(
deviû_t
 
dev
, 
u_št
 
Üd”
, cÚ¡ *
Çme
,

421 
un™
);

422 
	`bus_g’”ic_adju¡_»sourû
(
deviû_t
 
bus
, deviû_ˆ
chžd
, 
ty³
,

423 
»sourû
 *
r
, 
rmª_»s_t
 
¡¬t
,

424 
rmª_»s_t
 
’d
);

425 
»sourû
 *

426 
	`bus_g’”ic_®loc_»sourû
(
deviû_t
 
bus
, deviû_ˆ
chžd
, 
ty³
,

427 *
rid
, 
rmª_»s_t
 
¡¬t
,„mª_»s_ˆ
’d
,

428 
rmª_»s_t
 
couÁ
, 
u_št
 
æags
);

429 
	`bus_g’”ic_©ch
(
deviû_t
 
dev
);

430 
	`bus_g’”ic_bšd_šŒ
(
deviû_t
 
dev
, deviû_ˆ
chžd
,

431 
»sourû
 *
œq
, 
ýu
);

432 
	`bus_g’”ic_chžd_´e£Á
(
deviû_t
 
dev
, deviû_ˆ
chžd
);

433 
	`bus_g’”ic_cÚfig_šŒ
(
deviû_t
, , 
šŒ_Œigg”
,

434 
šŒ_pÞ¬™y
);

435 
	`bus_g’”ic_desüibe_šŒ
(
deviû_t
 
dev
, deviû_ˆ
chžd
,

436 
»sourû
 *
œq
, *
cook›
,

437 cÚ¡ *
desü
);

438 
	`bus_g’”ic_d—ùiv©e_»sourû
(
deviû_t
 
dev
, deviû_ˆ
chžd
, 
ty³
,

439 
rid
, 
»sourû
 *
r
);

440 
	`bus_g’”ic_d‘ach
(
deviû_t
 
dev
);

441 
	`bus_g’”ic_driv”_added
(
deviû_t
 
dev
, 
driv”_t
 *
driv”
);

442 
	`bus_g’”ic_g‘_ýus
(
deviû_t
 
dev
, deviû_ˆ
chžd
, 
ýu_£ts
 
Ý
,

443 
size_t
 
£tsize
, 
_ýu£t
 *
ýu£t
);

444 
bus_dma_g_t


445 
	`bus_g’”ic_g‘_dma_g
(
deviû_t
 
dev
, deviû_ˆ
chžd
);

446 
bus_¥aû_g_t


447 
	`bus_g’”ic_g‘_bus_g
(
deviû_t
 
dev
, deviû_ˆ
chžd
);

448 
	`bus_g’”ic_g‘_domaš
(
deviû_t
 
dev
, deviû_ˆ
chžd
, *
domaš
);

449 
»sourû_li¡
 *

450 
	`bus_g’”ic_g‘_»sourû_li¡
 (
deviû_t
, device_t);

451 
	`bus_g’”ic_m­_»sourû
(
deviû_t
 
dev
, deviû_ˆ
chžd
, 
ty³
,

452 
»sourû
 *
r
,

453 
»sourû_m­_»que¡
 *
¬gs
,

454 
»sourû_m­
 *
m­
);

455 
	`bus_g’”ic_Ãw_·ss
(
deviû_t
 
dev
);

456 
	`bus_´št_chžd_h—d”
(
deviû_t
 
dev
, deviû_ˆ
chžd
);

457 
	`bus_´št_chžd_domaš
(
deviû_t
 
dev
, deviû_ˆ
chžd
);

458 
	`bus_´št_chžd_foÙ”
(
deviû_t
 
dev
, deviû_ˆ
chžd
);

459 
	`bus_g’”ic_´št_chžd
(
deviû_t
 
dev
, deviû_ˆ
chžd
);

460 
	`bus_g’”ic_´obe
(
deviû_t
 
dev
);

461 
	`bus_g’”ic_»ad_iv¬
(
deviû_t
 
dev
, deviû_ˆ
chžd
, 
which
,

462 
ušŒ_t
 *
»suÉ
);

463 
	`bus_g’”ic_»Ëa£_»sourû
(
deviû_t
 
bus
, deviû_ˆ
chžd
,

464 
ty³
, 
rid
, 
»sourû
 *
r
);

465 
	`bus_g’”ic_»sume
(
deviû_t
 
dev
);

466 
	`bus_g’”ic_»sume_chžd
(
deviû_t
 
dev
, deviû_ˆ
chžd
);

467 
	`bus_g’”ic_£tup_šŒ
(
deviû_t
 
dev
, deviû_ˆ
chžd
,

468 
»sourû
 *
œq
, 
æags
,

469 
driv”_fž‹r_t
 *
fž‹r
, 
driv”_šŒ_t
 *
šŒ
,

470 *
¬g
, **
cook›p
);

472 
»sourû
 *

473 
	`bus_g’”ic_¾_®loc_»sourû
 (
deviû_t
, device_t, , *,

474 
rmª_»s_t
,„mª_»s_t,„mª_»s_t, 
u_št
);

475 
	`bus_g’”ic_¾_d–‘e_»sourû
 (
deviû_t
, device_t, , );

476 
	`bus_g’”ic_¾_g‘_»sourû
 (
deviû_t
, deviû_t, , , 
rmª_»s_t
 *,

477 
rmª_»s_t
 *);

478 
	`bus_g’”ic_¾_£t_»sourû
 (
deviû_t
, deviû_t, , , 
rmª_»s_t
,

479 
rmª_»s_t
);

480 
	`bus_g’”ic_¾_»Ëa£_»sourû
 (
deviû_t
, device_t, , ,

481 
»sourû
 *);

483 
	`bus_g’”ic_shutdown
(
deviû_t
 
dev
);

484 
	`bus_g’”ic_su¥’d
(
deviû_t
 
dev
);

485 
	`bus_g’”ic_su¥’d_chžd
(
deviû_t
 
dev
, deviû_ˆ
chžd
);

486 
	`bus_g’”ic_‹¬down_šŒ
(
deviû_t
 
dev
, deviû_ˆ
chžd
,

487 
»sourû
 *
œq
, *
cook›
);

488 
	`bus_g’”ic_unm­_»sourû
(
deviû_t
 
dev
, deviû_ˆ
chžd
, 
ty³
,

489 
»sourû
 *
r
,

490 
»sourû_m­
 *
m­
);

491 
	`bus_g’”ic_wr™e_iv¬
(
deviû_t
 
dev
, deviû_ˆ
chžd
, 
which
,

492 
ušŒ_t
 
v®ue
);

493 
	`bus_nuÎ_»sÿn
(
deviû_t
 
dev
);

500 
	s»sourû_¥ec
 {

501 
ty³
;

502 
rid
;

503 
æags
;

505 
	#RESOURCE_SPEC_END
 {-1, 0, 0
	}

	)
}

507 
bus_®loc_»sourûs
(
deviû_t
 
dev
, 
»sourû_¥ec
 *
rs
,

508 
»sourû
 **
»s
);

509 
bus_»Ëa£_»sourûs
(
deviû_t
 
dev
, cÚ¡ 
»sourû_¥ec
 *
rs
,

510 
»sourû
 **
»s
);

512 
bus_adju¡_»sourû
(
deviû_t
 
chžd
, 
ty³
, 
»sourû
 *
r
,

513 
rmª_»s_t
 
¡¬t
,„mª_»s_ˆ
’d
);

514 
»sourû
 *
bus_®loc_»sourû
(
deviû_t
 
dev
, 
ty³
, *
rid
,

515 
rmª_»s_t
 
¡¬t
,„mª_»s_ˆ
’d
,

516 
rmª_»s_t
 
couÁ
, 
u_št
 
æags
);

517 
bus_aùiv©e_»sourû
(
deviû_t
 
dev
, 
ty³
, 
rid
,

518 
»sourû
 *
r
);

519 
bus_d—ùiv©e_»sourû
(
deviû_t
 
dev
, 
ty³
, 
rid
,

520 
»sourû
 *
r
);

521 
bus_m­_»sourû
(
deviû_t
 
dev
, 
ty³
, 
»sourû
 *
r
,

522 
»sourû_m­_»que¡
 *
¬gs
,

523 
»sourû_m­
 *
m­
);

524 
bus_unm­_»sourû
(
deviû_t
 
dev
, 
ty³
, 
»sourû
 *
r
,

525 
»sourû_m­
 *
m­
);

526 
bus_g‘_ýus
(
deviû_t
 
dev
, 
ýu_£ts
 
Ý
, 
size_t
 
£tsize
,

527 
_ýu£t
 *
ýu£t
);

528 
bus_dma_g_t
 
bus_g‘_dma_g
(
deviû_t
 
dev
);

529 
bus_¥aû_g_t
 
bus_g‘_bus_g
(
deviû_t
 
dev
);

530 
bus_g‘_domaš
(
deviû_t
 
dev
, *
domaš
);

531 
bus_»Ëa£_»sourû
(
deviû_t
 
dev
, 
ty³
, 
rid
,

532 
»sourû
 *
r
);

533 
bus_ä“_»sourû
(
deviû_t
 
dev
, 
ty³
, 
»sourû
 *
r
);

534 
bus_£tup_šŒ
(
deviû_t
 
dev
, 
»sourû
 *
r
, 
æags
,

535 
driv”_fž‹r_t
 
fž‹r
, 
driv”_šŒ_t
 
hªdËr
,

536 *
¬g
, **
cook›p
);

537 
bus_‹¬down_šŒ
(
deviû_t
 
dev
, 
»sourû
 *
r
, *
cook›
);

538 
bus_bšd_šŒ
(
deviû_t
 
dev
, 
»sourû
 *
r
, 
ýu
);

539 
	$bus_desüibe_šŒ
(
deviû_t
 
dev
, 
»sourû
 *
œq
, *
cook›
,

540 cÚ¡ *
fmt
, ...è
	`__´štæike
(4, 5);

541 
	`bus_£t_»sourû
(
deviû_t
 
dev
, 
ty³
, 
rid
,

542 
rmª_»s_t
 
¡¬t
,„mª_»s_ˆ
couÁ
);

543 
	`bus_g‘_»sourû
(
deviû_t
 
dev
, 
ty³
, 
rid
,

544 
rmª_»s_t
 *
¡¬
,„mª_»s_ˆ*
couÁp
);

545 
rmª_»s_t
 
	`bus_g‘_»sourû_¡¬t
(
deviû_t
 
dev
, 
ty³
, 
rid
);

546 
rmª_»s_t
 
	`bus_g‘_»sourû_couÁ
(
deviû_t
 
dev
, 
ty³
, 
rid
);

547 
	`bus_d–‘e_»sourû
(
deviû_t
 
dev
, 
ty³
, 
rid
);

548 
	`bus_chžd_´e£Á
(
deviû_t
 
chžd
);

549 
	`bus_chžd_²pšfo_¡r
(
deviû_t
 
chžd
, *
buf
, 
size_t
 
buæ’
);

550 
	`bus_chžd_loÿtiÚ_¡r
(
deviû_t
 
chžd
, *
buf
, 
size_t
 
buæ’
);

551 
	`bus_’um”©e_hš‹d_chžd»n
(
deviû_t
 
bus
);

553 
__šlše
 
»sourû
 *

554 
	$bus_®loc_»sourû_ªy
(
deviû_t
 
dev
, 
ty³
, *
rid
, 
u_št
 
æags
)

556  (
	`bus_®loc_»sourû
(
dev
, 
ty³
, 
rid
, 0, ~0, 1, 
æags
));

557 
	}
}

559 
__šlše
 
»sourû
 *

560 
	$bus_®loc_»sourû_ªywh”e
(
deviû_t
 
dev
, 
ty³
, *
rid
,

561 
rmª_»s_t
 
couÁ
, 
u_št
 
æags
)

563  (
	`bus_®loc_»sourû
(
dev
, 
ty³
, 
rid
, 0, ~0, 
couÁ
, 
æags
));

564 
	}
}

569 
deviû_t
 
deviû_add_chžd
(deviû_ˆ
dev
, cÚ¡ *
Çme
, 
un™
);

570 
deviû_t
 
deviû_add_chžd_Üd”ed
(deviû_ˆ
dev
, 
u_št
 
Üd”
,

571 cÚ¡ *
Çme
, 
un™
);

572 
deviû_busy
(
deviû_t
 
dev
);

573 
deviû_d–‘e_chžd
(
deviû_t
 
dev
, deviû_ˆ
chžd
);

574 
deviû_d–‘e_chžd»n
(
deviû_t
 
dev
);

575 
deviû_©ch
(
deviû_t
 
dev
);

576 
deviû_d‘ach
(
deviû_t
 
dev
);

577 
deviû_di§bË
(
deviû_t
 
dev
);

578 
deviû_’abË
(
deviû_t
 
dev
);

579 
deviû_t
 
deviû_fšd_chžd
(deviû_ˆ
dev
, cÚ¡ *
þas¢ame
,

580 
un™
);

581 cÚ¡ *
deviû_g‘_desc
(
deviû_t
 
dev
);

582 
devþass_t
 
deviû_g‘_devþass
(
deviû_t
 
dev
);

583 
driv”_t
 *
deviû_g‘_driv”
(
deviû_t
 
dev
);

584 
u_št32_t
 
deviû_g‘_æags
(
deviû_t
 
dev
);

585 
deviû_t
 
deviû_g‘_·»Á
(deviû_ˆ
dev
);

586 
deviû_g‘_chžd»n
(
deviû_t
 
dev
, deviû_ˆ**
li¡p
, *
couÁp
);

587 *
deviû_g‘_iv¬s
(
deviû_t
 
dev
);

588 
deviû_£t_iv¬s
(
deviû_t
 
dev
, *
iv¬s
);

589 cÚ¡ *
deviû_g‘_Çme
(
deviû_t
 
dev
);

590 cÚ¡ *
deviû_g‘_Çmeun™
(
deviû_t
 
dev
);

591 *
deviû_g‘_soác
(
deviû_t
 
dev
);

592 
deviû_¡©e_t
 
deviû_g‘_¡©e
(
deviû_t
 
dev
);

593 
deviû_g‘_un™
(
deviû_t
 
dev
);

594 
sysùl_ùx_li¡
 *
deviû_g‘_sysùl_ùx
(
deviû_t
 
dev
);

595 
sysùl_oid
 *
deviû_g‘_sysùl_Œ“
(
deviû_t
 
dev
);

596 
deviû_has_qu›t_chžd»n
(
deviû_t
 
dev
);

597 
deviû_is_®ive
(
deviû_t
 
dev
);

598 
deviû_is_©ched
(
deviû_t
 
dev
);

599 
deviû_is_’abËd
(
deviû_t
 
dev
);

600 
deviû_is_su¥’ded
(
deviû_t
 
dev
);

601 
deviû_is_qu›t
(
deviû_t
 
dev
);

602 
deviû_t
 
deviû_lookup_by_Çme
(cÚ¡ *
Çme
);

603 
deviû_´št_´‘tyÇme
(
deviû_t
 
dev
);

604 
	$deviû_´štf
(
deviû_t
 
dev
, cÚ¡ *, ...è
	`__´štæike
(2, 3);

605 
	`deviû_´obe
(
deviû_t
 
dev
);

606 
	`deviû_´obe_ªd_©ch
(
deviû_t
 
dev
);

607 
	`deviû_´obe_chžd
(
deviû_t
 
bus
, deviû_ˆ
dev
);

608 
	`deviû_qu›sû
(
deviû_t
 
dev
);

609 
	`deviû_qu›t
(
deviû_t
 
dev
);

610 
	`deviû_qu›t_chžd»n
(
deviû_t
 
dev
);

611 
	`deviû_£t_desc
(
deviû_t
 
dev
, cÚ¡ * 
desc
);

612 
	`deviû_£t_desc_cÝy
(
deviû_t
 
dev
, cÚ¡ * 
desc
);

613 
	`deviû_£t_devþass
(
deviû_t
 
dev
, cÚ¡ *
þas¢ame
);

614 
	`deviû_£t_devþass_fixed
(
deviû_t
 
dev
, cÚ¡ *
þas¢ame
);

615 
	`deviû_£t_driv”
(
deviû_t
 
dev
, 
driv”_t
 *
driv”
);

616 
	`deviû_£t_æags
(
deviû_t
 
dev
, 
u_št32_t
 
æags
);

617 
	`deviû_£t_soác
(
deviû_t
 
dev
, *
soác
);

618 
	`deviû_ä“_soác
(*
soác
);

619 
	`deviû_þaim_soác
(
deviû_t
 
dev
);

620 
	`deviû_£t_un™
(
deviû_t
 
dev
, 
un™
);

621 
	`deviû_shutdown
(
deviû_t
 
dev
);

622 
	`deviû_unbusy
(
deviû_t
 
dev
);

623 
	`deviû_v”bo£
(
deviû_t
 
dev
);

628 
	`devþass_add_driv”
(
devþass_t
 
dc
, 
driv”_t
 *
driv”
,

629 
·ss
, 
devþass_t
 *
dý
);

630 
devþass_t
 
	`devþass_ü—‹
(cÚ¡ *
þas¢ame
);

631 
	`devþass_d–‘e_driv”
(
devþass_t
 
busþass
, 
driv”_t
 *
driv”
);

632 
devþass_t
 
	`devþass_fšd
(cÚ¡ *
þas¢ame
);

633 cÚ¡ *
	`devþass_g‘_Çme
(
devþass_t
 
dc
);

634 
deviû_t
 
	`devþass_g‘_deviû
(
devþass_t
 
dc
, 
un™
);

635 *
	`devþass_g‘_soác
(
devþass_t
 
dc
, 
un™
);

636 
	`devþass_g‘_deviûs
(
devþass_t
 
dc
, 
deviû_t
 **
li¡p
, *
couÁp
);

637 
	`devþass_g‘_driv”s
(
devþass_t
 
dc
, 
driv”_t
 ***
li¡p
, *
couÁp
);

638 
	`devþass_g‘_couÁ
(
devþass_t
 
dc
);

639 
	`devþass_g‘_maxun™
(
devþass_t
 
dc
);

640 
	`devþass_fšd_ä“_un™
(
devþass_t
 
dc
, 
un™
);

641 
	`devþass_£t_·»Á
(
devþass_t
 
dc
, devþass_ˆ
pdc
);

642 
devþass_t
 
	`devþass_g‘_·»Á
(devþass_ˆ
dc
);

643 
sysùl_ùx_li¡
 *
	`devþass_g‘_sysùl_ùx
(
devþass_t
 
dc
);

644 
sysùl_oid
 *
	`devþass_g‘_sysùl_Œ“
(
devþass_t
 
dc
);

649 
	`»sourû_št_v®ue
(cÚ¡ *
Çme
, 
un™
, cÚ¡ *
»¢ame
,

650 *
»suÉ
);

651 
	`»sourû_lÚg_v®ue
(cÚ¡ *
Çme
, 
un™
, cÚ¡ *
»¢ame
,

652 *
»suÉ
);

653 
	`»sourû_¡ršg_v®ue
(cÚ¡ *
Çme
, 
un™
, cÚ¡ *
»¢ame
,

654 cÚ¡ **
»suÉ
);

655 
	`»sourû_di§bËd
(cÚ¡ *
Çme
, 
un™
);

656 
	`»sourû_fšd_m©ch
(*
ªchÜ
, cÚ¡ **
Çme
, *
un™
,

657 cÚ¡ *
»¢ame
, cÚ¡ *
v®ue
);

658 
	`»sourû_fšd_dev
(*
ªchÜ
, cÚ¡ *
Çme
, *
un™
,

659 cÚ¡ *
»¢ame
, cÚ¡ *
v®ue
);

660 
	`»sourû_un£t_v®ue
(cÚ¡ *
Çme
, 
un™
, cÚ¡ *
»¢ame
);

666 
	`bus_d©a_g’”©iÚ_check
(
g’”©iÚ
);

667 
	`bus_d©a_g’”©iÚ_upd©e
();

692 
	#BUS_PROBE_SPECIFIC
 0

	)

693 
	#BUS_PROBE_VENDOR
 (-10è

	)

694 
	#BUS_PROBE_DEFAULT
 (-20è

	)

695 
	#BUS_PROBE_LOW_PRIORITY
 (-40è

	)

696 
	#BUS_PROBE_GENERIC
 (-100è

	)

697 
	#BUS_PROBE_HOOVER
 (-1000000è

	)

698 
	#BUS_PROBE_NOWILDCARD
 (-2000000000è

	)

709 
	#BUS_PASS_ROOT
 0

	)

710 
	#BUS_PASS_BUS
 10

	)

711 
	#BUS_PASS_CPU
 20

	)

712 
	#BUS_PASS_RESOURCE
 30

	)

713 
	#BUS_PASS_INTERRUPT
 40

	)

714 
	#BUS_PASS_TIMER
 50

	)

715 
	#BUS_PASS_SCHEDULER
 60

	)

716 
	#BUS_PASS_SUPPORTDEV
 100000

	)

717 
	#BUS_PASS_DEFAULT
 
__INT_MAX


	)

719 
	#BUS_PASS_ORDER_FIRST
 0

	)

720 
	#BUS_PASS_ORDER_EARLY
 2

	)

721 
	#BUS_PASS_ORDER_MIDDLE
 5

	)

722 
	#BUS_PASS_ORDER_LATE
 7

	)

723 
	#BUS_PASS_ORDER_LAST
 9

	)

725 
bus_cu¼’t_·ss
;

727 
	`bus_£t_·ss
(
·ss
);

732 
	#DEVMETHOD
 
KOBJMETHOD


	)

733 
	#DEVMETHOD_END
 
KOBJMETHOD_END


	)

738 
	~"deviû_if.h
"

739 
	~"bus_if.h
"

741 
moduË
;

743 
	`driv”_moduË_hªdËr
(
moduË
 *, , *);

748 
	sdriv”_moduË_d©a
 {

749 (*
dmd_chaševh
)(
moduË
 *, , *);

750 *
dmd_chaš¬g
;

751 cÚ¡ *
dmd_bu¢ame
;

752 
kobj_þass_t
 
dmd_driv”
;

753 
devþass_t
 *
dmd_devþass
;

754 
dmd_·ss
;

757 
	#EARLY_DRIVER_MODULE_ORDERED
(
Çme
, 
bu¢ame
, 
driv”
, 
devþass
, \

758 
evh
, 
¬g
, 
Üd”
, 
·ss
) \

760 
driv”_moduË_d©a
 
Çme
##
_
##
bu¢ame
##
_driv”_mod
 = { \

761 
evh
, 
¬g
, \

763 (
kobj_þass_t
è&
driv”
, \

764 &
devþass
, \

765 
·ss
 \

766 
	}
}; \

768 
moduËd©a_t
 
Çme
##
_
##
bu¢ame
##
_mod
 = { \

770 
driv”_moduË_hªdËr
, \

771 &
Çme
##
_
##
bu¢ame
##
_driv”_mod
 \

773 
	`DECLARE_MODULE
(
Çme
##
_
##
bu¢ame
,‚ame##_##bu¢ame##
_mod
, \

774 
SI_SUB_DRIVERS
, 
Üd”
)

	)

776 
	#EARLY_DRIVER_MODULE
(
Çme
, 
bu¢ame
, 
driv”
, 
devþass
, 
evh
, 
¬g
, 
·ss
) \

777 
	`EARLY_DRIVER_MODULE_ORDERED
(
Çme
, 
bu¢ame
, 
driv”
, 
devþass
, \

778 
evh
, 
¬g
, 
SI_ORDER_MIDDLE
, 
·ss
)

	)

780 
	#DRIVER_MODULE_ORDERED
(
Çme
, 
bu¢ame
, 
driv”
, 
devþass
, 
evh
, 
¬g
,\

781 
Üd”
) \

782 
	`EARLY_DRIVER_MODULE_ORDERED
(
Çme
, 
bu¢ame
, 
driv”
, 
devþass
, \

783 
evh
, 
¬g
, 
Üd”
, 
BUS_PASS_DEFAULT
)

	)

785 
	#DRIVER_MODULE
(
Çme
, 
bu¢ame
, 
driv”
, 
devþass
, 
evh
, 
¬g
) \

786 
	`EARLY_DRIVER_MODULE
(
Çme
, 
bu¢ame
, 
driv”
, 
devþass
, 
evh
, 
¬g
, \

787 
BUS_PASS_DEFAULT
)

	)

792 
	#__BUS_ACCESSOR
(
v¬p
, 
v¬
, 
iv¬p
, 
iv¬
, 
ty³
) \

794 
__šlše
 
ty³
 
v¬p
 ## 
_g‘_
 ## 
	`v¬
(
deviû_t
 
dev
) \

796 
ušŒ_t
 
v
; \

797 
	`BUS_READ_IVAR
(
	`deviû_g‘_·»Á
(
dev
), dev, \

798 
iv¬p
 ## 
_IVAR_
 ## 
iv¬
, &
v
); \

799  ((
ty³
è
v
); \

802 
__šlše
 
v¬p
 ## 
_£t_
 ## 
	`v¬
(
deviû_t
 
dev
, 
ty³
 
t
) \

804 
ušŒ_t
 
v
 = (ušŒ_tè
t
; \

805 
	`BUS_WRITE_IVAR
(
	`deviû_g‘_·»Á
(
dev
), dev, \

806 
iv¬p
 ## 
_IVAR_
 ## 
iv¬
, 
v
); \

807 }

	)

814 
	#bus_b¬r›r
(
r
, 
o
, 
l
, 
f
) \

815 
	`bus_¥aû_b¬r›r
((
r
)->
r_bu¡ag
, (r)->
r_bushªdË
, (
o
), (
l
), (
f
))

	)

816 
	#bus_»ad_1
(
r
, 
o
) \

817 
	`bus_¥aû_»ad_1
((
r
)->
r_bu¡ag
, (r)->
r_bushªdË
, (
o
))

	)

818 
	#bus_»ad_muÉi_1
(
r
, 
o
, 
d
, 
c
) \

819 
	`bus_¥aû_»ad_muÉi_1
((
r
)->
r_bu¡ag
, (r)->
r_bushªdË
, (
o
), (
d
), (
c
))

	)

820 
	#bus_»ad_»giÚ_1
(
r
, 
o
, 
d
, 
c
) \

821 
	`bus_¥aû_»ad_»giÚ_1
((
r
)->
r_bu¡ag
, (r)->
r_bushªdË
, (
o
), (
d
), (
c
))

	)

822 
	#bus_£t_muÉi_1
(
r
, 
o
, 
v
, 
c
) \

823 
	`bus_¥aû_£t_muÉi_1
((
r
)->
r_bu¡ag
, (r)->
r_bushªdË
, (
o
), (
v
), (
c
))

	)

824 
	#bus_£t_»giÚ_1
(
r
, 
o
, 
v
, 
c
) \

825 
	`bus_¥aû_£t_»giÚ_1
((
r
)->
r_bu¡ag
, (r)->
r_bushªdË
, (
o
), (
v
), (
c
))

	)

826 
	#bus_wr™e_1
(
r
, 
o
, 
v
) \

827 
	`bus_¥aû_wr™e_1
((
r
)->
r_bu¡ag
, (r)->
r_bushªdË
, (
o
), (
v
))

	)

828 
	#bus_wr™e_muÉi_1
(
r
, 
o
, 
d
, 
c
) \

829 
	`bus_¥aû_wr™e_muÉi_1
((
r
)->
r_bu¡ag
, (r)->
r_bushªdË
, (
o
), (
d
), (
c
))

	)

830 
	#bus_wr™e_»giÚ_1
(
r
, 
o
, 
d
, 
c
) \

831 
	`bus_¥aû_wr™e_»giÚ_1
((
r
)->
r_bu¡ag
, (r)->
r_bushªdË
, (
o
), (
d
), (
c
))

	)

832 
	#bus_»ad_¡»am_1
(
r
, 
o
) \

833 
	`bus_¥aû_»ad_¡»am_1
((
r
)->
r_bu¡ag
, (r)->
r_bushªdË
, (
o
))

	)

834 
	#bus_»ad_muÉi_¡»am_1
(
r
, 
o
, 
d
, 
c
) \

835 
	`bus_¥aû_»ad_muÉi_¡»am_1
((
r
)->
r_bu¡ag
, (r)->
r_bushªdË
, (
o
), (
d
), (
c
))

	)

836 
	#bus_»ad_»giÚ_¡»am_1
(
r
, 
o
, 
d
, 
c
) \

837 
	`bus_¥aû_»ad_»giÚ_¡»am_1
((
r
)->
r_bu¡ag
, (r)->
r_bushªdË
, (
o
), (
d
), (
c
))

	)

838 
	#bus_£t_muÉi_¡»am_1
(
r
, 
o
, 
v
, 
c
) \

839 
	`bus_¥aû_£t_muÉi_¡»am_1
((
r
)->
r_bu¡ag
, (r)->
r_bushªdË
, (
o
), (
v
), (
c
))

	)

840 
	#bus_£t_»giÚ_¡»am_1
(
r
, 
o
, 
v
, 
c
) \

841 
	`bus_¥aû_£t_»giÚ_¡»am_1
((
r
)->
r_bu¡ag
, (r)->
r_bushªdË
, (
o
), (
v
), (
c
))

	)

842 
	#bus_wr™e_¡»am_1
(
r
, 
o
, 
v
) \

843 
	`bus_¥aû_wr™e_¡»am_1
((
r
)->
r_bu¡ag
, (r)->
r_bushªdË
, (
o
), (
v
))

	)

844 
	#bus_wr™e_muÉi_¡»am_1
(
r
, 
o
, 
d
, 
c
) \

845 
	`bus_¥aû_wr™e_muÉi_¡»am_1
((
r
)->
r_bu¡ag
, (r)->
r_bushªdË
, (
o
), (
d
), (
c
))

	)

846 
	#bus_wr™e_»giÚ_¡»am_1
(
r
, 
o
, 
d
, 
c
) \

847 
	`bus_¥aû_wr™e_»giÚ_¡»am_1
((
r
)->
r_bu¡ag
, (r)->
r_bushªdË
, (
o
), (
d
), (
c
))

	)

848 
	#bus_»ad_2
(
r
, 
o
) \

849 
	`bus_¥aû_»ad_2
((
r
)->
r_bu¡ag
, (r)->
r_bushªdË
, (
o
))

	)

850 
	#bus_»ad_muÉi_2
(
r
, 
o
, 
d
, 
c
) \

851 
	`bus_¥aû_»ad_muÉi_2
((
r
)->
r_bu¡ag
, (r)->
r_bushªdË
, (
o
), (
d
), (
c
))

	)

852 
	#bus_»ad_»giÚ_2
(
r
, 
o
, 
d
, 
c
) \

853 
	`bus_¥aû_»ad_»giÚ_2
((
r
)->
r_bu¡ag
, (r)->
r_bushªdË
, (
o
), (
d
), (
c
))

	)

854 
	#bus_£t_muÉi_2
(
r
, 
o
, 
v
, 
c
) \

855 
	`bus_¥aû_£t_muÉi_2
((
r
)->
r_bu¡ag
, (r)->
r_bushªdË
, (
o
), (
v
), (
c
))

	)

856 
	#bus_£t_»giÚ_2
(
r
, 
o
, 
v
, 
c
) \

857 
	`bus_¥aû_£t_»giÚ_2
((
r
)->
r_bu¡ag
, (r)->
r_bushªdË
, (
o
), (
v
), (
c
))

	)

858 
	#bus_wr™e_2
(
r
, 
o
, 
v
) \

859 
	`bus_¥aû_wr™e_2
((
r
)->
r_bu¡ag
, (r)->
r_bushªdË
, (
o
), (
v
))

	)

860 
	#bus_wr™e_muÉi_2
(
r
, 
o
, 
d
, 
c
) \

861 
	`bus_¥aû_wr™e_muÉi_2
((
r
)->
r_bu¡ag
, (r)->
r_bushªdË
, (
o
), (
d
), (
c
))

	)

862 
	#bus_wr™e_»giÚ_2
(
r
, 
o
, 
d
, 
c
) \

863 
	`bus_¥aû_wr™e_»giÚ_2
((
r
)->
r_bu¡ag
, (r)->
r_bushªdË
, (
o
), (
d
), (
c
))

	)

864 
	#bus_»ad_¡»am_2
(
r
, 
o
) \

865 
	`bus_¥aû_»ad_¡»am_2
((
r
)->
r_bu¡ag
, (r)->
r_bushªdË
, (
o
))

	)

866 
	#bus_»ad_muÉi_¡»am_2
(
r
, 
o
, 
d
, 
c
) \

867 
	`bus_¥aû_»ad_muÉi_¡»am_2
((
r
)->
r_bu¡ag
, (r)->
r_bushªdË
, (
o
), (
d
), (
c
))

	)

868 
	#bus_»ad_»giÚ_¡»am_2
(
r
, 
o
, 
d
, 
c
) \

869 
	`bus_¥aû_»ad_»giÚ_¡»am_2
((
r
)->
r_bu¡ag
, (r)->
r_bushªdË
, (
o
), (
d
), (
c
))

	)

870 
	#bus_£t_muÉi_¡»am_2
(
r
, 
o
, 
v
, 
c
) \

871 
	`bus_¥aû_£t_muÉi_¡»am_2
((
r
)->
r_bu¡ag
, (r)->
r_bushªdË
, (
o
), (
v
), (
c
))

	)

872 
	#bus_£t_»giÚ_¡»am_2
(
r
, 
o
, 
v
, 
c
) \

873 
	`bus_¥aû_£t_»giÚ_¡»am_2
((
r
)->
r_bu¡ag
, (r)->
r_bushªdË
, (
o
), (
v
), (
c
))

	)

874 
	#bus_wr™e_¡»am_2
(
r
, 
o
, 
v
) \

875 
	`bus_¥aû_wr™e_¡»am_2
((
r
)->
r_bu¡ag
, (r)->
r_bushªdË
, (
o
), (
v
))

	)

876 
	#bus_wr™e_muÉi_¡»am_2
(
r
, 
o
, 
d
, 
c
) \

877 
	`bus_¥aû_wr™e_muÉi_¡»am_2
((
r
)->
r_bu¡ag
, (r)->
r_bushªdË
, (
o
), (
d
), (
c
))

	)

878 
	#bus_wr™e_»giÚ_¡»am_2
(
r
, 
o
, 
d
, 
c
) \

879 
	`bus_¥aû_wr™e_»giÚ_¡»am_2
((
r
)->
r_bu¡ag
, (r)->
r_bushªdË
, (
o
), (
d
), (
c
))

	)

880 
	#bus_»ad_4
(
r
, 
o
) \

881 
	`bus_¥aû_»ad_4
((
r
)->
r_bu¡ag
, (r)->
r_bushªdË
, (
o
))

	)

882 
	#bus_»ad_muÉi_4
(
r
, 
o
, 
d
, 
c
) \

883 
	`bus_¥aû_»ad_muÉi_4
((
r
)->
r_bu¡ag
, (r)->
r_bushªdË
, (
o
), (
d
), (
c
))

	)

884 
	#bus_»ad_»giÚ_4
(
r
, 
o
, 
d
, 
c
) \

885 
	`bus_¥aû_»ad_»giÚ_4
((
r
)->
r_bu¡ag
, (r)->
r_bushªdË
, (
o
), (
d
), (
c
))

	)

886 
	#bus_£t_muÉi_4
(
r
, 
o
, 
v
, 
c
) \

887 
	`bus_¥aû_£t_muÉi_4
((
r
)->
r_bu¡ag
, (r)->
r_bushªdË
, (
o
), (
v
), (
c
))

	)

888 
	#bus_£t_»giÚ_4
(
r
, 
o
, 
v
, 
c
) \

889 
	`bus_¥aû_£t_»giÚ_4
((
r
)->
r_bu¡ag
, (r)->
r_bushªdË
, (
o
), (
v
), (
c
))

	)

890 
	#bus_wr™e_4
(
r
, 
o
, 
v
) \

891 
	`bus_¥aû_wr™e_4
((
r
)->
r_bu¡ag
, (r)->
r_bushªdË
, (
o
), (
v
))

	)

892 
	#bus_wr™e_muÉi_4
(
r
, 
o
, 
d
, 
c
) \

893 
	`bus_¥aû_wr™e_muÉi_4
((
r
)->
r_bu¡ag
, (r)->
r_bushªdË
, (
o
), (
d
), (
c
))

	)

894 
	#bus_wr™e_»giÚ_4
(
r
, 
o
, 
d
, 
c
) \

895 
	`bus_¥aû_wr™e_»giÚ_4
((
r
)->
r_bu¡ag
, (r)->
r_bushªdË
, (
o
), (
d
), (
c
))

	)

896 
	#bus_»ad_¡»am_4
(
r
, 
o
) \

897 
	`bus_¥aû_»ad_¡»am_4
((
r
)->
r_bu¡ag
, (r)->
r_bushªdË
, (
o
))

	)

898 
	#bus_»ad_muÉi_¡»am_4
(
r
, 
o
, 
d
, 
c
) \

899 
	`bus_¥aû_»ad_muÉi_¡»am_4
((
r
)->
r_bu¡ag
, (r)->
r_bushªdË
, (
o
), (
d
), (
c
))

	)

900 
	#bus_»ad_»giÚ_¡»am_4
(
r
, 
o
, 
d
, 
c
) \

901 
	`bus_¥aû_»ad_»giÚ_¡»am_4
((
r
)->
r_bu¡ag
, (r)->
r_bushªdË
, (
o
), (
d
), (
c
))

	)

902 
	#bus_£t_muÉi_¡»am_4
(
r
, 
o
, 
v
, 
c
) \

903 
	`bus_¥aû_£t_muÉi_¡»am_4
((
r
)->
r_bu¡ag
, (r)->
r_bushªdË
, (
o
), (
v
), (
c
))

	)

904 
	#bus_£t_»giÚ_¡»am_4
(
r
, 
o
, 
v
, 
c
) \

905 
	`bus_¥aû_£t_»giÚ_¡»am_4
((
r
)->
r_bu¡ag
, (r)->
r_bushªdË
, (
o
), (
v
), (
c
))

	)

906 
	#bus_wr™e_¡»am_4
(
r
, 
o
, 
v
) \

907 
	`bus_¥aû_wr™e_¡»am_4
((
r
)->
r_bu¡ag
, (r)->
r_bushªdË
, (
o
), (
v
))

	)

908 
	#bus_wr™e_muÉi_¡»am_4
(
r
, 
o
, 
d
, 
c
) \

909 
	`bus_¥aû_wr™e_muÉi_¡»am_4
((
r
)->
r_bu¡ag
, (r)->
r_bushªdË
, (
o
), (
d
), (
c
))

	)

910 
	#bus_wr™e_»giÚ_¡»am_4
(
r
, 
o
, 
d
, 
c
) \

911 
	`bus_¥aû_wr™e_»giÚ_¡»am_4
((
r
)->
r_bu¡ag
, (r)->
r_bushªdË
, (
o
), (
d
), (
c
))

	)

912 
	#bus_»ad_8
(
r
, 
o
) \

913 
	`bus_¥aû_»ad_8
((
r
)->
r_bu¡ag
, (r)->
r_bushªdË
, (
o
))

	)

914 
	#bus_»ad_muÉi_8
(
r
, 
o
, 
d
, 
c
) \

915 
	`bus_¥aû_»ad_muÉi_8
((
r
)->
r_bu¡ag
, (r)->
r_bushªdË
, (
o
), (
d
), (
c
))

	)

916 
	#bus_»ad_»giÚ_8
(
r
, 
o
, 
d
, 
c
) \

917 
	`bus_¥aû_»ad_»giÚ_8
((
r
)->
r_bu¡ag
, (r)->
r_bushªdË
, (
o
), (
d
), (
c
))

	)

918 
	#bus_£t_muÉi_8
(
r
, 
o
, 
v
, 
c
) \

919 
	`bus_¥aû_£t_muÉi_8
((
r
)->
r_bu¡ag
, (r)->
r_bushªdË
, (
o
), (
v
), (
c
))

	)

920 
	#bus_£t_»giÚ_8
(
r
, 
o
, 
v
, 
c
) \

921 
	`bus_¥aû_£t_»giÚ_8
((
r
)->
r_bu¡ag
, (r)->
r_bushªdË
, (
o
), (
v
), (
c
))

	)

922 
	#bus_wr™e_8
(
r
, 
o
, 
v
) \

923 
	`bus_¥aû_wr™e_8
((
r
)->
r_bu¡ag
, (r)->
r_bushªdË
, (
o
), (
v
))

	)

924 
	#bus_wr™e_muÉi_8
(
r
, 
o
, 
d
, 
c
) \

925 
	`bus_¥aû_wr™e_muÉi_8
((
r
)->
r_bu¡ag
, (r)->
r_bushªdË
, (
o
), (
d
), (
c
))

	)

926 
	#bus_wr™e_»giÚ_8
(
r
, 
o
, 
d
, 
c
) \

927 
	`bus_¥aû_wr™e_»giÚ_8
((
r
)->
r_bu¡ag
, (r)->
r_bushªdË
, (
o
), (
d
), (
c
))

	)

928 
	#bus_»ad_¡»am_8
(
r
, 
o
) \

929 
	`bus_¥aû_»ad_¡»am_8
((
r
)->
r_bu¡ag
, (r)->
r_bushªdË
, (
o
))

	)

930 
	#bus_»ad_muÉi_¡»am_8
(
r
, 
o
, 
d
, 
c
) \

931 
	`bus_¥aû_»ad_muÉi_¡»am_8
((
r
)->
r_bu¡ag
, (r)->
r_bushªdË
, (
o
), (
d
), (
c
))

	)

932 
	#bus_»ad_»giÚ_¡»am_8
(
r
, 
o
, 
d
, 
c
) \

933 
	`bus_¥aû_»ad_»giÚ_¡»am_8
((
r
)->
r_bu¡ag
, (r)->
r_bushªdË
, (
o
), (
d
), (
c
))

	)

934 
	#bus_£t_muÉi_¡»am_8
(
r
, 
o
, 
v
, 
c
) \

935 
	`bus_¥aû_£t_muÉi_¡»am_8
((
r
)->
r_bu¡ag
, (r)->
r_bushªdË
, (
o
), (
v
), (
c
))

	)

936 
	#bus_£t_»giÚ_¡»am_8
(
r
, 
o
, 
v
, 
c
) \

937 
	`bus_¥aû_£t_»giÚ_¡»am_8
((
r
)->
r_bu¡ag
, (r)->
r_bushªdË
, (
o
), (
v
), (
c
))

	)

938 
	#bus_wr™e_¡»am_8
(
r
, 
o
, 
v
) \

939 
	`bus_¥aû_wr™e_¡»am_8
((
r
)->
r_bu¡ag
, (r)->
r_bushªdË
, (
o
), (
v
))

	)

940 
	#bus_wr™e_muÉi_¡»am_8
(
r
, 
o
, 
d
, 
c
) \

941 
	`bus_¥aû_wr™e_muÉi_¡»am_8
((
r
)->
r_bu¡ag
, (r)->
r_bushªdË
, (
o
), (
d
), (
c
))

	)

942 
	#bus_wr™e_»giÚ_¡»am_8
(
r
, 
o
, 
d
, 
c
) \

943 
	`bus_¥aû_wr™e_»giÚ_¡»am_8
((
r
)->
r_bu¡ag
, (r)->
r_bushªdË
, (
o
), (
d
), (
c
))

	)

	@/usr/include/sys/bus_dma.h

67 #iâdeà
_BUS_DMA_H_


68 
	#_BUS_DMA_H_


	)

70 
	~<sys/_bus_dma.h
>

83 
	#BUS_DMA_WAITOK
 0x00

	)

84 
	#BUS_DMA_NOWAIT
 0x01

	)

85 
	#BUS_DMA_ALLOCNOW
 0x02

	)

86 
	#BUS_DMA_COHERENT
 0x04

	)

87 
	#BUS_DMA_ZERO
 0x08

	)

88 
	#BUS_DMA_BUS1
 0x10

	)

89 
	#BUS_DMA_BUS2
 0x20

	)

90 
	#BUS_DMA_BUS3
 0x40

	)

91 
	#BUS_DMA_BUS4
 0x80

	)

97 
	#BUS_DMA_NOWRITE
 0x100

	)

98 
	#BUS_DMA_NOCACHE
 0x200

	)

105 
	#BUS_DMA_KEEP_PG_OFFSET
 0x400

	)

107 
	#BUS_DMA_LOAD_MBUF
 0x800

	)

110 
	gccb
;

111 
	gbio
;

112 
	gmbuf
;

113 
	gmemdesc
;

114 
	gpm­
;

115 
	guio
;

120 
	#BUS_DMASYNC_PREREAD
 1

	)

121 
	#BUS_DMASYNC_POSTREAD
 2

	)

122 
	#BUS_DMASYNC_PREWRITE
 4

	)

123 
	#BUS_DMASYNC_POSTWRITE
 8

	)

131 
	sbus_dma_£gm’t
 {

132 
bus_addr_t
 
	mds_addr
;

133 
bus_size_t
 
	mds_Ën
;

134 } 
	tbus_dma_£gm’t_t
;

140 
	tbus_dma_fž‹r_t
(*, 
	tbus_addr_t
);

145 
busdma_lock_mu‹x
(*
¬g
, 
bus_dma_lock_Ý_t
 
Ý
);

172 
bus_dma_g_ü—‹
(
bus_dma_g_t
 
·»Á
, 
bus_size_t
 
®ignm’t
,

173 
bus_addr_t
 
bound¬y
, bus_addr_ˆ
lowaddr
,

174 
bus_addr_t
 
highaddr
, 
bus_dma_fž‹r_t
 *
fžtfunc
,

175 *
fžtfunÿrg
, 
bus_size_t
 
maxsize
, 
n£gm’ts
,

176 
bus_size_t
 
max£gsz
, 
æags
, 
bus_dma_lock_t
 *
lockfunc
,

177 *
lockfunÿrg
, 
bus_dma_g_t
 *
dm©
);

185 
bus_dma_g_£t_domaš
(
bus_dma_g_t
 
dm©
, 
domaš
);

187 
bus_dma_g_de¡roy
(
bus_dma_g_t
 
dm©
);

193 
	tbus_dmam­_ÿÎback_t
(*, 
	tbus_dma_£gm’t_t
 *, , );

200 
	tbus_dmam­_ÿÎback2_t
(*, 
	tbus_dma_£gm’t_t
 *, , 
	tbus_size_t
, );

205 
bus_dmam­_lßd
(
bus_dma_g_t
 
dm©
, 
bus_dmam­_t
 
m­
, *
buf
,

206 
bus_size_t
 
buæ’
, 
bus_dmam­_ÿÎback_t
 *
ÿÎback
,

207 *
ÿÎback_¬g
, 
æags
);

213 
bus_dmam­_lßd_mbuf
(
bus_dma_g_t
 
dm©
, 
bus_dmam­_t
 
m­
,

214 
mbuf
 *mbuf,

215 
bus_dmam­_ÿÎback2_t
 *
ÿÎback
, *
ÿÎback_¬g
,

216 
æags
);

218 
bus_dmam­_lßd_mbuf_sg
(
bus_dma_g_t
 
dm©
, 
bus_dmam­_t
 
m­
,

219 
mbuf
 *mbuf, 
bus_dma_£gm’t_t
 *
£gs
,

220 *
n£gs
, 
æags
);

226 
bus_dmam­_lßd_uio
(
bus_dma_g_t
 
dm©
, 
bus_dmam­_t
 
m­
,

227 
uio
 *
ui
,

228 
bus_dmam­_ÿÎback2_t
 *
ÿÎback
, *
ÿÎback_¬g
,

229 
æags
);

234 
bus_dmam­_lßd_ccb
(
bus_dma_g_t
 
dm©
, 
bus_dmam­_t
 
m­
, 
ccb
 *ccb,

235 
bus_dmam­_ÿÎback_t
 *
ÿÎback
, *
ÿÎback_¬g
,

236 
æags
);

241 
bus_dmam­_lßd_bio
(
bus_dma_g_t
 
dm©
, 
bus_dmam­_t
 
m­
, 
bio
 *bio,

242 
bus_dmam­_ÿÎback_t
 *
ÿÎback
, *
ÿÎback_¬g
,

243 
æags
);

248 
bus_dmam­_lßd_mem
(
bus_dma_g_t
 
dm©
, 
bus_dmam­_t
 
m­
,

249 
memdesc
 *
mem
, 
bus_dmam­_ÿÎback_t
 *
ÿÎback
,

250 *
ÿÎback_¬g
, 
æags
);

257 
bus_dmam­_lßd_ma_Œiv
(
bus_dma_g_t
 
dm©
, 
bus_dmam­_t
 
m­
,

258 
vm_·ge
 **
ma
, 
bus_size_t
 
Ž’
, 
ma_offs
, 
æags
,

259 
bus_dma_£gm’t_t
 *
£gs
, *
£gp
);

261 #ifdeà
WANT_INLINE_DMAMAP


262 
	#BUS_DMAMAP_OP
 
šlše


	)

264 
	#BUS_DMAMAP_OP


	)

271 
BUS_DMAMAP_OP
 
bus_dmam­_ü—‹
(
bus_dma_g_t
 
dm©
, 
æags
, 
bus_dmam­_t
 *
m­p
);

277 
BUS_DMAMAP_OP
 
bus_dmam­_de¡roy
(
bus_dma_g_t
 
dm©
, 
bus_dmam­_t
 
m­
);

284 
BUS_DMAMAP_OP
 
bus_dmamem_®loc
(
bus_dma_g_t
 
dm©
, ** 
vaddr
, 
æags
,

285 
bus_dmam­_t
 *
m­p
);

291 
BUS_DMAMAP_OP
 
bus_dmamem_ä“
(
bus_dma_g_t
 
dm©
, *
vaddr
, 
bus_dmam­_t
 
m­
);

297 
BUS_DMAMAP_OP
 
bus_dmam­_sync
(
bus_dma_g_t
 
dm©
, 
bus_dmam­_t
 
dmam­
, 
bus_dmasync_Ý_t
 
Ý
);

302 
BUS_DMAMAP_OP
 
bus_dmam­_uÆßd
(
bus_dma_g_t
 
dm©
, 
bus_dmam­_t
 
dmam­
);

304 #undeà
BUS_DMAMAP_OP


	@/usr/include/sys/capability.h

40 #iâdeà
_SYS_CAPABILITY_H_


41 
	#_SYS_CAPABILITY_H_


	)

43 #w¬nšg 
this
 
fže
 
šþudes
 <
sys
/
ÿ·bž™y
.
h
> 
which
 
is
 
d•»ÿ‹d


44 
	~<sys/ÿpsicum.h
>

	@/usr/include/sys/caprights.h

34 #iâdeà
_SYS_CAPRIGHTS_H_


35 
	#_SYS_CAPRIGHTS_H_


	)

46 
	#CAP_RIGHTS_VERSION_00
 0

	)

52 
	#CAP_RIGHTS_VERSION
 
CAP_RIGHTS_VERSION_00


	)

54 
	sÿp_rights
 {

55 
ušt64_t
 
	mü_rights
[
CAP_RIGHTS_VERSION
 + 2];

58 #iâdef 
_CAP_RIGHTS_T_DECLARED


59 
	#_CAP_RIGHTS_T_DECLARED


	)

60 
ÿp_rights
 
	tÿp_rights_t
;

	@/usr/include/sys/capsicum.h

41 #iâdeà
_SYS_CAPSICUM_H_


42 
	#_SYS_CAPSICUM_H_


	)

44 
	~<sys/cdefs.h
>

45 
	~<sys/·¿m.h
>

47 
	~<sys/ÿ´ights.h
>

48 
	~<sys/fže.h
>

49 
	~<sys/fúŽ.h
>

51 #iâdeà
_KERNEL


52 
	~<¡dboÞ.h
>

55 
	#CAPRIGHT
(
idx
, 
b™
è((1ULL << (57 + (idx))è| (b™))

	)

77 
	#CAP_READ
 
	`CAPRIGHT
(0, 0x0000000000000001ULL)

	)

79 
	#CAP_WRITE
 
	`CAPRIGHT
(0, 0x0000000000000002ULL)

	)

81 
	#CAP_SEEK_TELL
 
	`CAPRIGHT
(0, 0x0000000000000004ULL)

	)

83 
	#CAP_SEEK
 (
CAP_SEEK_TELL
 | 0x0000000000000008ULL)

	)

85 
	#CAP_PREAD
 (
CAP_SEEK
 | 
CAP_READ
)

	)

90 
	#CAP_PWRITE
 (
CAP_SEEK
 | 
CAP_WRITE
)

	)

92 
	#CAP_MMAP
 
	`CAPRIGHT
(0, 0x0000000000000010ULL)

	)

94 
	#CAP_MMAP_R
 (
CAP_MMAP
 | 
CAP_SEEK
 | 
CAP_READ
)

	)

96 
	#CAP_MMAP_W
 (
CAP_MMAP
 | 
CAP_SEEK
 | 
CAP_WRITE
)

	)

98 
	#CAP_MMAP_X
 (
CAP_MMAP
 | 
CAP_SEEK
 | 0x0000000000000020ULL)

	)

100 
	#CAP_MMAP_RW
 (
CAP_MMAP_R
 | 
CAP_MMAP_W
)

	)

102 
	#CAP_MMAP_RX
 (
CAP_MMAP_R
 | 
CAP_MMAP_X
)

	)

104 
	#CAP_MMAP_WX
 (
CAP_MMAP_W
 | 
CAP_MMAP_X
)

	)

106 
	#CAP_MMAP_RWX
 (
CAP_MMAP_R
 | 
CAP_MMAP_W
 | 
CAP_MMAP_X
)

	)

108 
	#CAP_CREATE
 
	`CAPRIGHT
(0, 0x0000000000000040ULL)

	)

110 
	#CAP_FEXECVE
 
	`CAPRIGHT
(0, 0x0000000000000080ULL)

	)

112 
	#CAP_FSYNC
 
	`CAPRIGHT
(0, 0x0000000000000100ULL)

	)

114 
	#CAP_FTRUNCATE
 
	`CAPRIGHT
(0, 0x0000000000000200ULL)

	)

117 
	#CAP_LOOKUP
 
	`CAPRIGHT
(0, 0x0000000000000400ULL)

	)

121 
	#CAP_FCHDIR
 
	`CAPRIGHT
(0, 0x0000000000000800ULL)

	)

123 
	#CAP_FCHFLAGS
 
	`CAPRIGHT
(0, 0x0000000000001000ULL)

	)

125 
	#CAP_CHFLAGSAT
 (
CAP_FCHFLAGS
 | 
CAP_LOOKUP
)

	)

127 
	#CAP_FCHMOD
 
	`CAPRIGHT
(0, 0x0000000000002000ULL)

	)

129 
	#CAP_FCHMODAT
 (
CAP_FCHMOD
 | 
CAP_LOOKUP
)

	)

131 
	#CAP_FCHOWN
 
	`CAPRIGHT
(0, 0x0000000000004000ULL)

	)

133 
	#CAP_FCHOWNAT
 (
CAP_FCHOWN
 | 
CAP_LOOKUP
)

	)

135 
	#CAP_FCNTL
 
	`CAPRIGHT
(0, 0x0000000000008000ULL)

	)

140 
	#CAP_FLOCK
 
	`CAPRIGHT
(0, 0x0000000000010000ULL)

	)

142 
	#CAP_FPATHCONF
 
	`CAPRIGHT
(0, 0x0000000000020000ULL)

	)

144 
	#CAP_FSCK
 
	`CAPRIGHT
(0, 0x0000000000040000ULL)

	)

146 
	#CAP_FSTAT
 
	`CAPRIGHT
(0, 0x0000000000080000ULL)

	)

148 
	#CAP_FSTATAT
 (
CAP_FSTAT
 | 
CAP_LOOKUP
)

	)

150 
	#CAP_FSTATFS
 
	`CAPRIGHT
(0, 0x0000000000100000ULL)

	)

152 
	#CAP_FUTIMES
 
	`CAPRIGHT
(0, 0x0000000000200000ULL)

	)

154 
	#CAP_FUTIMESAT
 (
CAP_FUTIMES
 | 
CAP_LOOKUP
)

	)

156 
	#CAP_LINKAT_TARGET
 (
CAP_LOOKUP
 | 0x0000000000400000ULL)

	)

158 
	#CAP_MKDIRAT
 (
CAP_LOOKUP
 | 0x0000000000800000ULL)

	)

160 
	#CAP_MKFIFOAT
 (
CAP_LOOKUP
 | 0x0000000001000000ULL)

	)

162 
	#CAP_MKNODAT
 (
CAP_LOOKUP
 | 0x0000000002000000ULL)

	)

164 
	#CAP_RENAMEAT_SOURCE
 (
CAP_LOOKUP
 | 0x0000000004000000ULL)

	)

166 
	#CAP_SYMLINKAT
 (
CAP_LOOKUP
 | 0x0000000008000000ULL)

	)

171 
	#CAP_UNLINKAT
 (
CAP_LOOKUP
 | 0x0000000010000000ULL)

	)

175 
	#CAP_ACCEPT
 
	`CAPRIGHT
(0, 0x0000000020000000ULL)

	)

177 
	#CAP_BIND
 
	`CAPRIGHT
(0, 0x0000000040000000ULL)

	)

179 
	#CAP_CONNECT
 
	`CAPRIGHT
(0, 0x0000000080000000ULL)

	)

181 
	#CAP_GETPEERNAME
 
	`CAPRIGHT
(0, 0x0000000100000000ULL)

	)

183 
	#CAP_GETSOCKNAME
 
	`CAPRIGHT
(0, 0x0000000200000000ULL)

	)

185 
	#CAP_GETSOCKOPT
 
	`CAPRIGHT
(0, 0x0000000400000000ULL)

	)

187 
	#CAP_LISTEN
 
	`CAPRIGHT
(0, 0x0000000800000000ULL)

	)

189 
	#CAP_PEELOFF
 
	`CAPRIGHT
(0, 0x0000001000000000ULL)

	)

190 
	#CAP_RECV
 
CAP_READ


	)

191 
	#CAP_SEND
 
CAP_WRITE


	)

193 
	#CAP_SETSOCKOPT
 
	`CAPRIGHT
(0, 0x0000002000000000ULL)

	)

195 
	#CAP_SHUTDOWN
 
	`CAPRIGHT
(0, 0x0000004000000000ULL)

	)

198 
	#CAP_BINDAT
 (
CAP_LOOKUP
 | 0x0000008000000000ULL)

	)

200 
	#CAP_CONNECTAT
 (
CAP_LOOKUP
 | 0x0000010000000000ULL)

	)

203 
	#CAP_LINKAT_SOURCE
 (
CAP_LOOKUP
 | 0x0000020000000000ULL)

	)

205 
	#CAP_RENAMEAT_TARGET
 (
CAP_LOOKUP
 | 0x0000040000000000ULL)

	)

207 
	#CAP_SOCK_CLIENT
 \

208 (
CAP_CONNECT
 | 
CAP_GETPEERNAME
 | 
CAP_GETSOCKNAME
 | 
CAP_GETSOCKOPT
 | \

209 
CAP_PEELOFF
 | 
CAP_RECV
 | 
CAP_SEND
 | 
CAP_SETSOCKOPT
 | 
CAP_SHUTDOWN
)

	)

210 
	#CAP_SOCK_SERVER
 \

211 (
CAP_ACCEPT
 | 
CAP_BIND
 | 
CAP_GETPEERNAME
 | 
CAP_GETSOCKNAME
 | \

212 
CAP_GETSOCKOPT
 | 
CAP_LISTEN
 | 
CAP_PEELOFF
 | 
CAP_RECV
 | 
CAP_SEND
 | \

213 
CAP_SETSOCKOPT
 | 
CAP_SHUTDOWN
)

	)

216 
	#CAP_ALL0
 
	`CAPRIGHT
(0, 0x000007FFFFFFFFFFULL)

	)

219 
	#CAP_UNUSED0_44
 
	`CAPRIGHT
(0, 0x0000080000000000ULL)

	)

221 
	#CAP_UNUSED0_57
 
	`CAPRIGHT
(0, 0x0100000000000000ULL)

	)

227 
	#CAP_MAC_GET
 
	`CAPRIGHT
(1, 0x0000000000000001ULL)

	)

229 
	#CAP_MAC_SET
 
	`CAPRIGHT
(1, 0x0000000000000002ULL)

	)

232 
	#CAP_SEM_GETVALUE
 
	`CAPRIGHT
(1, 0x0000000000000004ULL)

	)

233 
	#CAP_SEM_POST
 
	`CAPRIGHT
(1, 0x0000000000000008ULL)

	)

234 
	#CAP_SEM_WAIT
 
	`CAPRIGHT
(1, 0x0000000000000010ULL)

	)

237 
	#CAP_EVENT
 
	`CAPRIGHT
(1, 0x0000000000000020ULL)

	)

239 
	#CAP_KQUEUE_EVENT
 
	`CAPRIGHT
(1, 0x0000000000000040ULL)

	)

243 
	#CAP_IOCTL
 
	`CAPRIGHT
(1, 0x0000000000000080ULL)

	)

244 
	#CAP_TTYHOOK
 
	`CAPRIGHT
(1, 0x0000000000000100ULL)

	)

248 
	#CAP_PDGETPID
 
	`CAPRIGHT
(1, 0x0000000000000200ULL)

	)

250 
	#CAP_PDWAIT
 
	`CAPRIGHT
(1, 0x0000000000000400ULL)

	)

252 
	#CAP_PDKILL
 
	`CAPRIGHT
(1, 0x0000000000000800ULL)

	)

256 
	#CAP_EXTATTR_DELETE
 
	`CAPRIGHT
(1, 0x0000000000001000ULL)

	)

258 
	#CAP_EXTATTR_GET
 
	`CAPRIGHT
(1, 0x0000000000002000ULL)

	)

260 
	#CAP_EXTATTR_LIST
 
	`CAPRIGHT
(1, 0x0000000000004000ULL)

	)

262 
	#CAP_EXTATTR_SET
 
	`CAPRIGHT
(1, 0x0000000000008000ULL)

	)

266 
	#CAP_ACL_CHECK
 
	`CAPRIGHT
(1, 0x0000000000010000ULL)

	)

268 
	#CAP_ACL_DELETE
 
	`CAPRIGHT
(1, 0x0000000000020000ULL)

	)

270 
	#CAP_ACL_GET
 
	`CAPRIGHT
(1, 0x0000000000040000ULL)

	)

272 
	#CAP_ACL_SET
 
	`CAPRIGHT
(1, 0x0000000000080000ULL)

	)

275 
	#CAP_KQUEUE_CHANGE
 
	`CAPRIGHT
(1, 0x0000000000100000ULL)

	)

277 
	#CAP_KQUEUE
 (
CAP_KQUEUE_EVENT
 | 
CAP_KQUEUE_CHANGE
)

	)

280 
	#CAP_ALL1
 
	`CAPRIGHT
(1, 0x00000000001FFFFFULL)

	)

283 
	#CAP_UNUSED1_22
 
	`CAPRIGHT
(1, 0x0000000000200000ULL)

	)

285 
	#CAP_UNUSED1_57
 
	`CAPRIGHT
(1, 0x0100000000000000ULL)

	)

288 
	#CAP_POLL_EVENT
 
CAP_EVENT


	)

290 
	#CAP_ALL
(
rights
) do { \

291 (
rights
)->
ü_rights
[0] = \

292 ((
ušt64_t
)
CAP_RIGHTS_VERSION
 << 62è| 
CAP_ALL0
; \

293 (
rights
)->
ü_rights
[1] = 
CAP_ALL1
; \

294 } 0)

	)

296 
	#CAP_NONE
(
rights
) do { \

297 (
rights
)->
ü_rights
[0] = \

298 ((
ušt64_t
)
CAP_RIGHTS_VERSION
 << 62è| 
	`CAPRIGHT
(0, 0ULL); \

299 (
rights
)->
ü_rights
[1] = 
	`CAPRIGHT
(1, 0ULL); \

300 } 0)

	)

302 
	#CAPRVER
(
right
è(()(Ôightè>> 62))

	)

303 
	#CAPVER
(
rights
è
	`CAPRVER
(Ôights)->
ü_rights
[0])

	)

304 
	#CAPARSIZE
(
rights
è(
	`CAPVER
Ôightsè+ 2)

	)

305 
	#CAPIDXBIT
(
right
è(()((Ôightè>> 57è& 0x1F))

	)

310 
	#CAP_FCNTL_GETFL
 (1 << 
F_GETFL
)

	)

311 
	#CAP_FCNTL_SETFL
 (1 << 
F_SETFL
)

	)

312 
	#CAP_FCNTL_GETOWN
 (1 << 
F_GETOWN
)

	)

313 
	#CAP_FCNTL_SETOWN
 (1 << 
F_SETOWN
)

	)

314 
	#CAP_FCNTL_ALL
 (
CAP_FCNTL_GETFL
 | 
CAP_FCNTL_SETFL
 | \

315 
CAP_FCNTL_GETOWN
 | 
CAP_FCNTL_SETOWN
)

	)

317 
	#CAP_IOCTLS_ALL
 
SSIZE_MAX


	)

319 
	g__BEGIN_DECLS


321 
	#ÿp_rights_š™
(...) \

322 
	`__ÿp_rights_š™
(
CAP_RIGHTS_VERSION
, 
__VA_ARGS__
, 0ULL)

	)

323 
ÿp_rights_t
 *
__ÿp_rights_š™
(
v”siÚ
, c­_rights_ˆ*
rights
, ...);

325 
	#ÿp_rights_£t
(...) \

326 
	`__ÿp_rights_£t
(
__VA_ARGS__
, 0ULL)

	)

327 
ÿp_rights_t
 *
__ÿp_rights_£t
(ÿp_rights_ˆ*
rights
, ...);

329 
	#ÿp_rights_þ—r
(...) \

330 
	`__ÿp_rights_þ—r
(
__VA_ARGS__
, 0ULL)

	)

331 
ÿp_rights_t
 *
__ÿp_rights_þ—r
(ÿp_rights_ˆ*
rights
, ...);

333 
	#ÿp_rights_is_£t
(...) \

334 
	`__ÿp_rights_is_£t
(
__VA_ARGS__
, 0ULL)

	)

335 
boÞ
 
__ÿp_rights_is_£t
(cÚ¡ 
ÿp_rights_t
 *
rights
, ...);

337 
boÞ
 
ÿp_rights_is_v®id
(cÚ¡ 
ÿp_rights_t
 *
rights
);

338 
ÿp_rights_t
 *
ÿp_rights_m”ge
(ÿp_rights_ˆ*
d¡
, cÚ¡ c­_rights_ˆ*
¤c
);

339 
ÿp_rights_t
 *
ÿp_rights_»move
(ÿp_rights_ˆ*
d¡
, cÚ¡ c­_rights_ˆ*
¤c
);

340 
boÞ
 
ÿp_rights_cÚšs
(cÚ¡ 
ÿp_rights_t
 *
big
, cÚ¡ c­_rights_ˆ*
l™Že
);

341 
__ÿp_rights_sysš™
(*
¬g
);

343 
__END_DECLS


344 
	sÿp_rights_š™_¬gs
 {

345 
ÿp_rights_t
 *
	müŸ_rights
;

346 
ušt64_t
 
	müŸ_v®ue1
;

347 
ušt64_t
 
	müŸ_v®ue2
;

348 
ušt64_t
 
	müŸ_v®ue3
;

349 
ušt64_t
 
	müŸ_v®ue4
;

350 
ušt64_t
 
	müŸ_v®ue5
;

353 
	#CAP_RIGHTS_SYSINIT0
(
Çme
, 
rights
) \

354 
ÿp_rights_š™_¬gs
 
Çme
##
_¬gs
 = { \

355 &(
rights
) \

357 
	`SYSINIT
(
Çme
##
_ÿp_rights_sysš™
, 
SI_SUB_COPYRIGHT
+1, 
SI_ORDER_ANY
, \

358 
__ÿp_rights_sysš™
, &
Çme
##
_¬gs
);

	)

360 
	#CAP_RIGHTS_SYSINIT1
(
Çme
, 
rights
, 
v®ue1
) \

361 
ÿp_rights_š™_¬gs
 
Çme
##
_¬gs
 = { \

362 &(
rights
), \

363 (
v®ue1
) \

365 
	`SYSINIT
(
Çme
##
_ÿp_rights_sysš™
, 
SI_SUB_COPYRIGHT
+1, 
SI_ORDER_ANY
, \

366 
__ÿp_rights_sysš™
, &
Çme
##
_¬gs
);

	)

368 
	#CAP_RIGHTS_SYSINIT2
(
Çme
, 
rights
, 
v®ue1
, 
v®ue2
) \

369 
ÿp_rights_š™_¬gs
 
Çme
##
_¬gs
 = { \

370 &(
rights
), \

371 (
v®ue1
), \

372 (
v®ue2
) \

374 
	`SYSINIT
(
Çme
##
_ÿp_rights_sysš™
, 
SI_SUB_COPYRIGHT
, 
SI_ORDER_ANY
, \

375 
__ÿp_rights_sysš™
, &
Çme
##
_¬gs
);

	)

377 
	#CAP_RIGHTS_SYSINIT3
(
Çme
, 
rights
, 
v®ue1
, 
v®ue2
, 
v®ue3
) \

378 
ÿp_rights_š™_¬gs
 
Çme
##
_¬gs
 = { \

379 &(
rights
), \

380 (
v®ue1
), \

381 (
v®ue2
), \

382 (
v®ue3
) \

384 
	`SYSINIT
(
Çme
##
_ÿp_rights_sysš™
, 
SI_SUB_COPYRIGHT
, 
SI_ORDER_ANY
, \

385 
__ÿp_rights_sysš™
, &
Çme
##
_¬gs
);

	)

387 
	#CAP_RIGHTS_SYSINIT4
(
Çme
, 
rights
, 
v®ue1
, 
v®ue2
, 
v®ue3
, 
v®ue4
) \

388 
ÿp_rights_š™_¬gs
 
Çme
##
_¬gs
 = { \

389 &(
rights
), \

390 (
v®ue1
), \

391 (
v®ue2
), \

392 (
v®ue3
), \

393 (
v®ue4
) \

395 
	`SYSINIT
(
Çme
##
_ÿp_rights_sysš™
, 
SI_SUB_COPYRIGHT
, 
SI_ORDER_ANY
, \

396 
__ÿp_rights_sysš™
, &
Çme
##
_¬gs
);

	)

398 
	#CAP_RIGHTS_DEFINE1
(
Çme
, 
v®ue
) \

399 
__»ad_mo¡ly
 
ÿp_rights_t
 
Çme
; \

400 
	`CAP_RIGHTS_SYSINIT1
(
Çme
,‚ame, 
v®ue
);

	)

402 #ifdeà
_KERNEL


404 
	~<sys/sy¡m.h
>

405 
ÿp_rights_t
 
ÿp_acû±_rights
;

406 
ÿp_rights_t
 
ÿp_bšd_rights
;

407 
ÿp_rights_t
 
ÿp_cÚÃù_rights
;

408 
ÿp_rights_t
 
ÿp_ev’t_rights
;

409 
ÿp_rights_t
 
ÿp_fchdœ_rights
;

410 
ÿp_rights_t
 
ÿp_fchæags_rights
;

411 
ÿp_rights_t
 
ÿp_fchmod_rights
;

412 
ÿp_rights_t
 
ÿp_fchown_rights
;

413 
ÿp_rights_t
 
ÿp_fúŽ_rights
;

414 
ÿp_rights_t
 
ÿp_ãxecve_rights
;

415 
ÿp_rights_t
 
ÿp_æock_rights
;

416 
ÿp_rights_t
 
ÿp_å©hcÚf_rights
;

417 
ÿp_rights_t
 
ÿp_f¡©_rights
;

418 
ÿp_rights_t
 
ÿp_f¡©fs_rights
;

419 
ÿp_rights_t
 
ÿp_fsync_rights
;

420 
ÿp_rights_t
 
ÿp_árunÿ‹_rights
;

421 
ÿp_rights_t
 
ÿp_futimes_rights
;

422 
ÿp_rights_t
 
ÿp_g‘³”Çme_rights
;

423 
ÿp_rights_t
 
ÿp_g‘sockÝt_rights
;

424 
ÿp_rights_t
 
ÿp_g‘sockÇme_rights
;

425 
ÿp_rights_t
 
ÿp_ioùl_rights
;

426 
ÿp_rights_t
 
ÿp_lšk©_sourû_rights
;

427 
ÿp_rights_t
 
ÿp_lšk©_rg‘_rights
;

428 
ÿp_rights_t
 
ÿp_li¡’_rights
;

429 
ÿp_rights_t
 
ÿp_mkdœ©_rights
;

430 
ÿp_rights_t
 
ÿp_mkfifßt_rights
;

431 
ÿp_rights_t
 
ÿp_mknod©_rights
;

432 
ÿp_rights_t
 
ÿp_mm­_rights
;

433 
ÿp_rights_t
 
ÿp_no_rights
;

434 
ÿp_rights_t
 
ÿp_pdg‘pid_rights
;

435 
ÿp_rights_t
 
ÿp_pdkžl_rights
;

436 
ÿp_rights_t
 
ÿp_´—d_rights
;

437 
ÿp_rights_t
 
ÿp_pwr™e_rights
;

438 
ÿp_rights_t
 
ÿp_»ad_rights
;

439 
ÿp_rights_t
 
ÿp_»cv_rights
;

440 
ÿp_rights_t
 
ÿp_»Çm—t_sourû_rights
;

441 
ÿp_rights_t
 
ÿp_»Çm—t_rg‘_rights
;

442 
ÿp_rights_t
 
ÿp_£ek_rights
;

443 
ÿp_rights_t
 
ÿp_£nd_rights
;

444 
ÿp_rights_t
 
ÿp_£nd_cÚÃù_rights
;

445 
ÿp_rights_t
 
ÿp_£tsockÝt_rights
;

446 
ÿp_rights_t
 
ÿp_shutdown_rights
;

447 
ÿp_rights_t
 
ÿp_symlšk©_rights
;

448 
ÿp_rights_t
 
ÿp_uÆšk©_rights
;

449 
ÿp_rights_t
 
ÿp_wr™e_rights
;

451 
	#IN_CAPABILITY_MODE
(
td
è((Ñd)->
td_uüed
->
ü_æags
 & 
CRED_FLAG_CAPMODE
è!ð0)

	)

453 
	gfžedesc
;

454 
	gfžedesûÁ
;

459 
ÿp_check
(cÚ¡ 
ÿp_rights_t
 *
hav•
, cÚ¡ c­_rights_ˆ*
Ãedp
);

463 
u_ch¬
 
ÿp_rights_to_vm´Ù
(cÚ¡ 
ÿp_rights_t
 *
hav•
);

473 
	#ÿp_rights_fde_šlše
(
fd•
è(&(fd•)->
fde_rights
)

	)

475 cÚ¡ 
ÿp_rights_t
 *
ÿp_rights_fde
(cÚ¡ 
fžedesûÁ
 *
fde
);

476 cÚ¡ 
ÿp_rights_t
 *
ÿp_rights
(
fžedesc
 *
fdp
, 
fd
);

478 
ÿp_ioùl_check
(
fžedesc
 *
fdp
, 
fd
, 
u_lÚg
 
cmd
);

479 
ÿp_fúŽ_check_fde
(
fžedesûÁ
 *
fde
, 
cmd
);

480 
ÿp_fúŽ_check
(
fžedesc
 *
fdp
, 
fd
, 
cmd
);

482 
boÞ
 
Œ­_’Ùÿp
;

486 
__BEGIN_DECLS


493 
ÿp_’‹r
();

499 
boÞ
 
ÿp_§ndboxed
();

504 
ÿp_g‘mode
(
u_št
 *
mod•
);

509 
ÿp_rights_lim™
(
fd
, cÚ¡ 
ÿp_rights_t
 *
rights
);

513 
	#ÿp_rights_g‘
(
fd
, 
rights
) \

514 
	`__ÿp_rights_g‘
(
CAP_RIGHTS_VERSION
, (
fd
), (
rights
))

	)

515 
__ÿp_rights_g‘
(
v”siÚ
, 
fd
, 
ÿp_rights_t
 *
rights
);

519 
ÿp_ioùls_lim™
(
fd
, cÚ¡ 
ÿp_ioùl_t
 *
cmds
, 
size_t
 
ncmds
);

525 
ssize_t
 
ÿp_ioùls_g‘
(
fd
, 
ÿp_ioùl_t
 *
cmds
, 
size_t
 
maxcmds
);

529 
ÿp_fúŽs_lim™
(
fd
, 
ušt32_t
 
fúŽrights
);

533 
ÿp_fúŽs_g‘
(
fd
, 
ušt32_t
 *
fúŽright¥
);

535 
	g__END_DECLS


	@/usr/include/sys/cdefs.h

38 #iâdef 
_SYS_CDEFS_H_


39 
	#_SYS_CDEFS_H_


	)

44 #iâdef 
__has_©Œibu‹


45 
	#__has_©Œibu‹
(
x
è0

	)

47 #iâdef 
__has_ex‹nsiÚ


48 
	#__has_ex‹nsiÚ
 
__has_ã©u»


	)

50 #iâdef 
__has_ã©u»


51 
	#__has_ã©u»
(
x
è0

	)

53 #iâdef 
__has_šþude


54 
	#__has_šþude
(
x
è0

	)

56 #iâdef 
__has_bužtš


57 
	#__has_bužtš
(
x
è0

	)

60 #ià
defšed
(
__ýlu¥lus
)

61 
	#__BEGIN_DECLS
 "C" {

	)

62 
	#__END_DECLS
 }

	)

64 
	#__BEGIN_DECLS


	)

65 
	#__END_DECLS


	)

74 #ià
defšed
(
__GNUC__
è|| defšed(
__INTEL_COMPILER
)

76 #ià
__GNUC__
 >ð3 || 
defšed
(
__INTEL_COMPILER
)

77 
	#__GNUCLIKE_ASM
 3

	)

78 
	#__GNUCLIKE_MATH_BUILTIN_CONSTANTS


	)

80 
	#__GNUCLIKE_ASM
 2

	)

82 
	#__GNUCLIKE___TYPEOF
 1

	)

83 
	#__GNUCLIKE___OFFSETOF
 1

	)

84 
	#__GNUCLIKE___SECTION
 1

	)

86 #iâdeà
__INTEL_COMPILER


87 
	#__GNUCLIKE_CTOR_SECTION_HANDLING
 1

	)

90 
	#__GNUCLIKE_BUILTIN_CONSTANT_P
 1

	)

91 #ià
defšed
(
__INTEL_COMPILER
è&& defšed(
__ýlu¥lus
) && \

92 
__INTEL_COMPILER
 < 800

93 #undeà
__GNUCLIKE_BUILTIN_CONSTANT_P


96 #ià(
__GNUC_MINOR__
 > 95 || 
__GNUC__
 >= 3)

97 
	#__GNUCLIKE_BUILTIN_VARARGS
 1

	)

98 
	#__GNUCLIKE_BUILTIN_STDARG
 1

	)

99 
	#__GNUCLIKE_BUILTIN_VAALIST
 1

	)

102 #ià
defšed
(
__GNUC__
)

103 
	#__GNUC_VA_LIST_COMPATIBILITY
 1

	)

109 #ià
defšed
(
__GNUC__
)

110 
	#__compž”_memb¬
(è
__asm
 
	`__vÞ©že
(" " : : : "memÜy")

	)

113 #iâdeà
__INTEL_COMPILER


114 
	#__GNUCLIKE_BUILTIN_NEXT_ARG
 1

	)

115 
	#__GNUCLIKE_MATH_BUILTIN_RELOPS


	)

118 
	#__GNUCLIKE_BUILTIN_MEMCPY
 1

	)

121 
	#__CC_SUPPORTS_INLINE
 1

	)

122 
	#__CC_SUPPORTS___INLINE
 1

	)

123 
	#__CC_SUPPORTS___INLINE__
 1

	)

125 
	#__CC_SUPPORTS___FUNC__
 1

	)

126 
	#__CC_SUPPORTS_WARNING
 1

	)

128 
	#__CC_SUPPORTS_VARADIC_XXX
 1

	)

130 
	#__CC_SUPPORTS_DYNAMIC_ARRAY_INIT
 1

	)

137 #ià
defšed
(
__GNUC__
è&& !defšed(
__INTEL_COMPILER
)

138 
	#__GNUC_PREREQ__
(
ma
, 
mi
) \

139 (
__GNUC__
 > (
ma
è|| __GNUC__ =ð(maè&& 
__GNUC_MINOR__
 >ð(
mi
))

	)

141 
	#__GNUC_PREREQ__
(
ma
, 
mi
è0

	)

156 #ià
defšed
(
__STDC__
è|| defšed(
__ýlu¥lus
)

157 
	#__P
(
´Ùos
è´Ùo 

	)

158 
	#__CONCAT1
(
x
,
y
èx ## 
	)
y

159 
	#__CONCAT
(
x
,
y
è
	`__CONCAT1
(x,y)

	)

160 
	#__STRING
(
x
è#x

	)

161 
	#__XSTRING
(
x
è
	`__STRING
(xè

	)

163 
	#__cÚ¡
 cÚ¡

	)

164 
	#__sigÃd
 sigÃd

	)

165 
	#__vÞ©že
 vÞ©že

	)

166 #ià
defšed
(
__ýlu¥lus
)

167 
	#__šlše
 
šlše


	)

169 #ià!(
defšed
(
__CC_SUPPORTS___INLINE
))

170 
	#__šlše


	)

175 
	#__P
(
´Ùos
è(è

	)

176 
	#__CONCAT
(
x
,
y
èx 
	)
y

177 
	#__STRING
(
x
è"x"

	)

179 #ià!
defšed
(
__CC_SUPPORTS___INLINE
)

180 
	#__cÚ¡


	)

181 
	#__šlše


	)

182 
	#__sigÃd


	)

183 
	#__vÞ©že


	)

192 #iâdef 
NO_ANSI_KEYWORDS


193 cÚ¡

	)

194 
	#šlše


	)

195 sigÃd

	)

196 vÞ©že

	)

210 
	#__w—k_symbÞ
 
	`__©Œibu‹__
((
__w—k__
))

	)

211 #ià!
__GNUC_PREREQ__
(2, 5è&& !
defšed
(
__INTEL_COMPILER
)

212 
	#__d—d2


	)

213 
	#__pu»2


	)

214 
	#__unu£d


	)

216 #ià
__GNUC__
 =ð2 && 
__GNUC_MINOR__
 >ð5 && __GNUC_MINOR__ < 7 && !
defšed
(
__INTEL_COMPILER
)

217 
	#__d—d2
 
	`__©Œibu‹__
((
__nÜ‘uº__
))

	)

218 
	#__pu»2
 
	`__©Œibu‹__
((
__cÚ¡__
))

	)

219 
	#__unu£d


	)

222 #ià
__GNUC_PREREQ__
(2, 7è|| 
defšed
(
__INTEL_COMPILER
)

223 
	#__d—d2
 
	`__©Œibu‹__
((
__nÜ‘uº__
))

	)

224 
	#__pu»2
 
	`__©Œibu‹__
((
__cÚ¡__
))

	)

225 
	#__unu£d
 
	`__©Œibu‹__
((
__unu£d__
))

	)

226 
	#__u£d
 
	`__©Œibu‹__
((
__u£d__
))

	)

227 
	#__·cked
 
	`__©Œibu‹__
((
__·cked__
))

	)

228 
	#__®igÃd
(
x
è
	`__©Œibu‹__
((
	`__®igÃd__
(x)))

	)

229 
	#__£ùiÚ
(
x
è
	`__©Œibu‹__
((
	`__£ùiÚ__
(x)))

	)

231 #ià
__GNUC_PREREQ__
(4, 3è|| 
__has_©Œibu‹
(
__®loc_size__
)

232 
	#__®loc_size
(
x
è
	`__©Œibu‹__
((
	`__®loc_size__
(x)))

	)

233 
	#__®loc_size2
(
n
, 
x
è
	`__©Œibu‹__
((
	`__®loc_size__
Ò, x)))

	)

235 
	#__®loc_size
(
x
)

	)

236 
	#__®loc_size2
(
n
, 
x
)

	)

238 #ià
__GNUC_PREREQ__
(4, 9è|| 
__has_©Œibu‹
(
__®loc_®ign__
)

239 
	#__®loc_®ign
(
x
è
	`__©Œibu‹__
((
	`__®loc_®ign__
(x)))

	)

241 
	#__®loc_®ign
(
x
)

	)

244 #ià!
__GNUC_PREREQ__
(2, 95)

245 
	#__®ignof
(
x
è
	`__off£tof
(¡ruù { 
__a
; x 
__b
; }, __b)

	)

252 #ià!
defšed
(
__STDC_VERSION__
) || __STDC_VERSION__ < 201112L

254 #ià!
__has_ex‹nsiÚ
(
c_®igÇs
)

255 #ià(
defšed
(
__ýlu¥lus
) && __cplusplus >= 201103L) || \

256 
	$__has_ex‹nsiÚ
(
cxx_®igÇs
)

257 
	#_AligÇs
(
x
è
	`®igÇs
(x)

	)

260 
	#_AligÇs
(
x
è
	`__®igÃd
(x)

	)

264 #ià
	`defšed
(
__ýlu¥lus
) && __cplusplus >= 201103L

265 
	#_Alignof
(
x
è
	`®ignof
(x)

	)

267 
	#_Alignof
(
x
è
	`__®ignof
(x)

	)

270 #ià!
	`defšed
(
__ýlu¥lus
è&& !
	`__has_ex‹nsiÚ
(
c_©omic
) && \

271 !
	`__has_ex‹nsiÚ
(
cxx_©omic
è&& !
	$__GNUC_PREREQ__
(4, 7)

276 
	#_Atomic
(
T
è¡ruù { T vÞ©ž
__v®
; }

	)

279 #ià
	`defšed
(
__ýlu¥lus
) && __cplusplus >= 201103L

280 
	#_NÜ‘uº
 [[
nÜ‘uº
]]

	)

282 
	#_NÜ‘uº
 
__d—d2


	)

285 #ià!
	`__has_ex‹nsiÚ
(
c_¡©ic_as£¹
)

286 #ià(
	`defšed
(
__ýlu¥lus
) && __cplusplus >= 201103L) || \

287 
	$__has_ex‹nsiÚ
(
cxx_¡©ic_as£¹
)

288 
	#_Stic_as£¹
(
x
, 
y
è
	`¡©ic_as£¹
(x, y)

	)

289 #–ià
	`__GNUC_PREREQ__
(4,6è&& !
	`defšed
(
__ýlu¥lus
)

291 #–ià
	`defšed
(
__COUNTER__
)

292 
	#_Stic_as£¹
(
x
, 
y
è
	`__Stic_as£¹
(x, 
__COUNTER__
)

	)

293 
	#__Stic_as£¹
(
x
, 
y
è
	`___Stic_as£¹
(x, y)

	)

294 
	#___Stic_as£¹
(
x
, 
y
è
	t__as£¹_
 ## 
	ty
[(x) ? 1 : -1] \

295 
	t__unu£d


	)

297 
	t_Stic_as£¹
(
	tx
, 
	ty
è
	t__hack


	)

301 #ià!
	t__has_ex‹nsiÚ
(
	tc_th»ad_loÿl
)

308 
	t__has_ex‹nsiÚ
(
	tcxx_th»ad_loÿl
)

309 
	t_Th»ad_loÿl
 
	tth»ad_loÿl


	)

311 
	t_Th»ad_loÿl
 
	t__th»ad


	)

326 #ià(
	tdefšed
(
	t__STDC_VERSION__
) && __STDC_VERSION__ >= 201112L) || \

327 
	t__has_ex‹nsiÚ
(
	tc_g’”ic_£ËùiÚs
)

328 
	t__g’”ic
(
	tex´
, 
	tt
, 
	tyes
, 
	tno
) \

329 
	t_G’”ic
(
	tex´
, 
	tt
: 
	tyes
, : 
	tno
)

	)

330 #–ià
	t__GNUC_PREREQ__
(3, 1è&& !
	tdefšed
(
	t__ýlu¥lus
)

331 
	t__g’”ic
(
	tex´
, 
	tt
, 
	tyes
, 
	tno
) \

332 
	t__bužtš_choo£_ex´
( \

333 
	t__bužtš_ty³s_com·tibË_p
(
	t__ty³of
(
	tex´
), 
	tt
), 
	tyes
, 
	tno
)

	)

343 #ià!
	tdefšed
(
	t__ýlu¥lus
) && \

344 (
	tdefšed
(
	t__þªg__
è|| 
	t__GNUC_PREREQ__
(4, 6)) && \

345 (!
	tdefšed
(
	t__STDC_VERSION__
) || (__STDC_VERSION__ >= 199901))

346 
	t__mš_size
(
	tx
è(x)

	)

348 
	t__mš_size
(
	tx
è(x)

	)

351 #ià
	t__GNUC_PREREQ__
(2, 96)

352 
	t__m®loc_like
 
	t__©Œibu‹__
((
	t__m®loc__
))

	)

353 
	t__pu»
 
	t__©Œibu‹__
((
	t__pu»__
))

	)

355 
	t__m®loc_like


	)

356 
	t__pu»


	)

359 #ià
	t__GNUC_PREREQ__
(3, 1è|| (
	tdefšed
(
	t__INTEL_COMPILER
) && __INTEL_COMPILER >= 800)

360 
	t__®ways_šlše
 
	t__©Œibu‹__
((
	t__®ways_šlše__
))

	)

362 
	t__®ways_šlše


	)

365 #ià
	t__GNUC_PREREQ__
(3, 1)

366 
	t__nošlše
 
	t__©Œibu‹__
 ((
	t__nošlše__
))

	)

368 
	t__nošlše


	)

371 #ià
	t__GNUC_PREREQ__
(3, 4)

372 
	t__ç¡ÿÎ
 
	t__©Œibu‹__
((
	t__ç¡ÿÎ__
))

	)

373 
	t__»suÉ_u£_check
 
	t__©Œibu‹__
((
	t__w¬n_unu£d_»suÉ__
))

	)

375 
	t__ç¡ÿÎ


	)

376 
	t__»suÉ_u£_check


	)

379 #ià
	t__GNUC_PREREQ__
(4, 1)

380 
	t__»tuºs_twiû
 
	t__©Œibu‹__
((
	t__»tuºs_twiû__
))

	)

382 
	t__»tuºs_twiû


	)

385 #ià
	t__GNUC_PREREQ__
(4, 6è|| 
	t__has_bužtš
(
	t__bužtš_uÄ—chabË
)

386 
	t__uÄ—chabË
(è
	t__bužtš_uÄ—chabË
()

	)

388 
	t__uÄ—chabË
(è(()0)

	)

392 #ià!
	t__GNUC_PREREQ__
(2, 7è&& !
	tdefšed
(
	t__INTEL_COMPILER
)

393 
	t__func__
 
	tNULL


	)

396 #ià(
	tdefšed
(
	t__INTEL_COMPILER
è|| (defšed(
	t__GNUC__
è&& __GNUC__ >ð2)è&& !defšed(
	t__STRICT_ANSI__
è|| 
	t__STDC_VERSION__
 >= 199901

397 
	t__LONG_LONG_SUPPORTED


	)

401 #ià
	tdefšed
(
	t__ýlu¥lus
) && __cplusplus >= 201103L

402 
	t__LONG_LONG_SUPPORTED


	)

403 #iâdef 
	t__STDC_LIMIT_MACROS


404 
	t__STDC_LIMIT_MACROS


	)

406 #iâdef 
	t__STDC_CONSTANT_MACROS


407 
	t__STDC_CONSTANT_MACROS


	)

417 #ià!(
	t__GNUC__
 =ð2 && 
	t__GNUC_MINOR__
 == 95)

418 #ià!
	tdefšed
(
	t__STDC_VERSION__
) || __STDC_VERSION__ < 199901

419 
	t__»¡riù


	)

421 
	t__»¡riù
 
	t»¡riù


	)

453 #ià
	t__GNUC_PREREQ__
(2, 96)

454 
	t__´ediù_Œue
(
	texp
è
	t__bužtš_ex³ù
(Óxp), 1)

	)

455 
	t__´ediù_çl£
(
	texp
è
	t__bužtš_ex³ù
(Óxp), 0)

	)

457 
	t__´ediù_Œue
(
	texp
èÓxp)

	)

458 
	t__´ediù_çl£
(
	texp
èÓxp)

	)

461 #ià
	t__GNUC_PREREQ__
(4, 0)

462 
	t__nuÎ_£Áš–
 
	t__©Œibu‹__
((
	t__£Áš–__
))

	)

463 
	t__expÜ‹d
 
	t__©Œibu‹__
((
	t__visibž™y__
("deçuÉ")))

	)

464 
	t__hidd’
 
	t__©Œibu‹__
((
	t__visibž™y__
("hidd’")))

	)

466 
	t__nuÎ_£Áš–


	)

467 
	t__expÜ‹d


	)

468 
	t__hidd’


	)

475 #ià
	t__GNUC_PREREQ__
(4, 1)

476 
	t__off£tof
(
	tty³
, 
	tf›ld
è
	t__bužtš_off£tof
Ñy³, f›ld)

	)

478 #iâdeà
	t__ýlu¥lus


479 
	t__off£tof
(
	tty³
, 
	tf›ld
) \

480 ((
	t__size_t
)(
	t__ušŒ_t
)((cÚ¡ vÞ©ž*)&((
	tty³
 *)0)->
	tf›ld
))

	)

482 
	t__off£tof
(
	tty³
, 
	tf›ld
) \

483 (
	t__off£tof__
 (
	t»š‹½»t_ÿ¡
 <
	t__size_t
> \

484 (&
	t»š‹½»t_ÿ¡
 <const volatile &> \

485 (
	t¡©ic_ÿ¡
<
	tty³
 *> (0)->
	tf›ld
))))

	)

488 
	t__¿ngeof
(
	tty³
, 
	t¡¬t
, 
	t’d
) \

489 (
	t__off£tof
(
	tty³
, 
	t’d
è- __off£tofÑy³, 
	t¡¬t
))

	)

497 #ià
	t__GNUC_PREREQ__
(3, 1)

498 
	t__cÚš”of
(
	tx
, 
	ts
, 
	tm
) ({ \

499 cÚ¡ vÞ©ž
	`__ty³of
(((
s
 *)0)->
m
è*
__x
 = (
x
); \

500 
	`__DEQUALIFY
(
s
 *, (cÚ¡ vÞ©ž*)
__x
 - 
	`__off£tof
(s, 
m
));\

501 
	}
})

	)

503 
	t__cÚš”of
(
	tx
, 
	ts
, 
	tm
) \

504 
	t__DEQUALIFY
(
	ts
 *, (cÚ¡ vÞ©ž*)(
	tx
è- 
	t__off£tof
(s, 
	tm
))

	)

513 #ià!
	t__GNUC_PREREQ__
(2, 7è&& !
	tdefšed
(
	t__INTEL_COMPILER
)

514 
	t__´štæike
(
	tfmrg
, 
	tfœ¡v¬¬g
)

	)

515 
	t__sÿnæike
(
	tfmrg
, 
	tfœ¡v¬¬g
)

	)

516 
	t__fÜm©_¬g
(
	tfmrg
)

	)

517 
	t__¡rfmÚlike
(
	tfmrg
, 
	tfœ¡v¬¬g
)

	)

518 
	t__¡ráim–ike
(
	tfmrg
, 
	tfœ¡v¬¬g
)

	)

520 
	t__´štæike
(
	tfmrg
, 
	tfœ¡v¬¬g
) \

521 
	t__©Œibu‹__
((
	t__fÜm©__
 (
	t__´štf__
, 
	tfmrg
, 
	tfœ¡v¬¬g
)))

	)

522 
	t__sÿnæike
(
	tfmrg
, 
	tfœ¡v¬¬g
) \

523 
	t__©Œibu‹__
((
	t__fÜm©__
 (
	t__sÿnf__
, 
	tfmrg
, 
	tfœ¡v¬¬g
)))

	)

524 
	t__fÜm©_¬g
(
	tfmrg
è
	t__©Œibu‹__
((
	t__fÜm©_¬g__
 (fmrg)))

	)

525 
	t__¡rfmÚlike
(
	tfmrg
, 
	tfœ¡v¬¬g
) \

526 
	t__©Œibu‹__
((
	t__fÜm©__
 (
	t__¡rfmÚ__
, 
	tfmrg
, 
	tfœ¡v¬¬g
)))

	)

527 
	t__¡ráim–ike
(
	tfmrg
, 
	tfœ¡v¬¬g
) \

528 
	t__©Œibu‹__
((
	t__fÜm©__
 (
	t__¡ráime__
, 
	tfmrg
, 
	tfœ¡v¬¬g
)))

	)

532 #ià
	tdefšed
(
	t__F»eBSD_cc_v”siÚ
) && __FreeBSD_cc_version >= 300001 && \

533 
	tdefšed
(
	t__GNUC__
è&& !defšed(
	t__INTEL_COMPILER
)

534 
	t__´štf0like
(
	tfmrg
, 
	tfœ¡v¬¬g
) \

535 
	t__©Œibu‹__
((
	t__fÜm©__
 (
	t__´štf0__
, 
	tfmrg
, 
	tfœ¡v¬¬g
)))

	)

537 
	t__´štf0like
(
	tfmrg
, 
	tfœ¡v¬¬g
)

	)

540 #ià
	tdefšed
(
	t__GNUC__
è|| defšed(
	t__INTEL_COMPILER
)

541 #iâdeà
	t__INTEL_COMPILER


542 
	t__¡rÚg_»ã»nû
(
	tsym
,
	t®Ÿssym
) \

543 
	t__ty³of
 (
	tsym
è
	t®Ÿssym
 
	t__©Œibu‹__
 ((
	t__®Ÿs__
 (#sym)))

	)

545 #ifdeà
	t__STDC__


546 
	t__w—k_»ã»nû
(
	tsym
,
	t®Ÿs
) \

547 
	t__asm__
(".weak " #alias); \

548 
	`__asm__
(".equ " #®Ÿ ", " #sym)

	)

549 
	#__w¬n_»ã»nûs
(
sym
,
msg
) \

550 
	`__asm__
(".section .gnu.warning." #sym); \

551 
	`__asm__
(".asciz \"" 
msg
 "\""); \

552 
	`__asm__
(".´evious")

	)

553 
	#__sym_com·t
(
sym
,
im¶
,
v”id
) \

554 
	`__asm__
(".symv” " #im¶ ", " #sym "@" #v”id)

	)

555 
	#__sym_deçuÉ
(
sym
,
im¶
,
v”id
) \

556 
	`__asm__
(".symv” " #im¶ ", " #sym "@@@" #v”id)

	)

558 
	#__w—k_»ã»nû
(
sym
,
®Ÿs
) \

559 
	`__asm__
(".weak‡lias"); \

560 
	`__asm__
(".equ‡lŸs, sym")

	)

561 
	#__w¬n_»ã»nûs
(
sym
,
msg
) \

562 
	`__asm__
(".section .gnu.warning.sym"); \

563 
	`__asm__
(".asciz \"msg\""); \

564 
	`__asm__
(".´evious")

	)

565 
	#__sym_com·t
(
sym
,
im¶
,
v”id
) \

566 
	`__asm__
(".symv” im¶, sym@v”id")

	)

567 
	#__sym_deçuÉ
(
im¶
,
sym
,
v”id
) \

568 
	`__asm__
(".symv” im¶, sym@@@v”id")

	)

572 
	#__GLOBL1
(
sym
è
	`__asm__
(".globÈ" #sym)

	)

573 
	#__GLOBL
(
sym
è
	`__GLOBL1
(sym)

	)

575 #ià
	`defšed
(
__GNUC__
è|| defšed(
__INTEL_COMPILER
)

576 
	#__IDSTRING
(
Çme
,
¡ršg
è
	`__asm__
(".id’t\t\"" sŒšg "\"")

	)

584 
	#__IDSTRING
(
Çme
,
¡ršg
ècÚ¡ Çme[] 
__unu£d
 = 
	)
string

593 #iâdef 
__FBSDID


594 #ià!
	`defšed
(
STRIP_FBSDID
)

595 
	#__FBSDID
(
s
è
	`__IDSTRING
(
	`__CONCAT
(
__rcsid_
,
__LINE__
),s)

	)

597 
	#__FBSDID
(
s
è
__hack


	)

601 #iâdef 
__RCSID


602 #iâdef 
NO__RCSID


603 
	#__RCSID
(
s
è
	`__IDSTRING
(
	`__CONCAT
(
__rcsid_
,
__LINE__
),s)

	)

605 
	#__RCSID
(
s
è
__hack


	)

609 #iâdef 
__RCSID_SOURCE


610 #iâdef 
NO__RCSID_SOURCE


611 
	#__RCSID_SOURCE
(
s
è
	`__IDSTRING
(
	`__CONCAT
(
__rcsid_sourû_
,
__LINE__
),s)

	)

613 
	#__RCSID_SOURCE
(
s
è
__hack


	)

617 #iâdef 
__SCCSID


618 #iâdef 
NO__SCCSID


619 
	#__SCCSID
(
s
è
	`__IDSTRING
(
	`__CONCAT
(
__sccsid_
,
__LINE__
),s)

	)

621 
	#__SCCSID
(
s
è
__hack


	)

625 #iâdef 
__COPYRIGHT


626 #iâdef 
NO__COPYRIGHT


627 
	#__COPYRIGHT
(
s
è
	`__IDSTRING
(
	`__CONCAT
(
__cÝyright_
,
__LINE__
),s)

	)

629 
	#__COPYRIGHT
(
s
è
__hack


	)

633 #iâdef 
__DECONST


634 
	#__DECONST
(
ty³
, 
v¬
è(Ñy³)(
__ušŒ_t
)(cÚ¡ *)(v¬))

	)

637 #iâdef 
__DEVOLATILE


638 
	#__DEVOLATILE
(
ty³
, 
v¬
è(Ñy³)(
__ušŒ_t
)(vÞ©ž*)(v¬))

	)

641 #iâdef 
__DEQUALIFY


642 
	#__DEQUALIFY
(
ty³
, 
v¬
è(Ñy³)(
__ušŒ_t
)(cÚ¡ vÞ©ž*)(v¬))

	)

669 #ià
	`defšed
(
_POSIX_C_SOURCE
) && _POSIX_C_SOURCE == 1

670 #undeà
_POSIX_C_SOURCE


671 
	#_POSIX_C_SOURCE
 199009

	)

675 #ià
	`defšed
(
_POSIX_C_SOURCE
) && _POSIX_C_SOURCE == 2

676 #undeà
_POSIX_C_SOURCE


677 
	#_POSIX_C_SOURCE
 199209

	)

681 #ifdeà
_XOPEN_SOURCE


682 #ià
_XOPEN_SOURCE
 - 0 >= 700

683 
	#__XSI_VISIBLE
 700

	)

684 #undeà
_POSIX_C_SOURCE


685 
	#_POSIX_C_SOURCE
 200809

	)

686 #–ià
_XOPEN_SOURCE
 - 0 >= 600

687 
	#__XSI_VISIBLE
 600

	)

688 #undeà
_POSIX_C_SOURCE


689 
	#_POSIX_C_SOURCE
 200112

	)

690 #–ià
_XOPEN_SOURCE
 - 0 >= 500

691 
	#__XSI_VISIBLE
 500

	)

692 #undeà
_POSIX_C_SOURCE


693 
	#_POSIX_C_SOURCE
 199506

	)

701 #ià
	`defšed
(
_POSIX_SOURCE
è&& !defšed(
_POSIX_C_SOURCE
)

702 
	#_POSIX_C_SOURCE
 198808

	)

704 #ifdeà
_POSIX_C_SOURCE


705 #ià
_POSIX_C_SOURCE
 >= 200809

706 
	#__POSIX_VISIBLE
 200809

	)

707 
	#__ISO_C_VISIBLE
 1999

	)

708 #–ià
_POSIX_C_SOURCE
 >= 200112

709 
	#__POSIX_VISIBLE
 200112

	)

710 
	#__ISO_C_VISIBLE
 1999

	)

711 #–ià
_POSIX_C_SOURCE
 >= 199506

712 
	#__POSIX_VISIBLE
 199506

	)

713 
	#__ISO_C_VISIBLE
 1990

	)

714 #–ià
_POSIX_C_SOURCE
 >= 199309

715 
	#__POSIX_VISIBLE
 199309

	)

716 
	#__ISO_C_VISIBLE
 1990

	)

717 #–ià
_POSIX_C_SOURCE
 >= 199209

718 
	#__POSIX_VISIBLE
 199209

	)

719 
	#__ISO_C_VISIBLE
 1990

	)

720 #–ià
_POSIX_C_SOURCE
 >= 199009

721 
	#__POSIX_VISIBLE
 199009

	)

722 
	#__ISO_C_VISIBLE
 1990

	)

724 
	#__POSIX_VISIBLE
 198808

	)

725 
	#__ISO_C_VISIBLE
 0

	)

740 #ià
	`defšed
(
_ANSI_SOURCE
)

741 
	#__POSIX_VISIBLE
 0

	)

742 
	#__XSI_VISIBLE
 0

	)

743 
	#__BSD_VISIBLE
 0

	)

744 
	#__ISO_C_VISIBLE
 1990

	)

745 
	#__EXT1_VISIBLE
 0

	)

746 #–ià
	`defšed
(
_C99_SOURCE
)

747 
	#__POSIX_VISIBLE
 0

	)

748 
	#__XSI_VISIBLE
 0

	)

749 
	#__BSD_VISIBLE
 0

	)

750 
	#__ISO_C_VISIBLE
 1999

	)

751 
	#__EXT1_VISIBLE
 0

	)

752 #–ià
	`defšed
(
_C11_SOURCE
)

753 
	#__POSIX_VISIBLE
 0

	)

754 
	#__XSI_VISIBLE
 0

	)

755 
	#__BSD_VISIBLE
 0

	)

756 
	#__ISO_C_VISIBLE
 2011

	)

757 
	#__EXT1_VISIBLE
 0

	)

759 
	#__POSIX_VISIBLE
 200809

	)

760 
	#__XSI_VISIBLE
 700

	)

761 
	#__BSD_VISIBLE
 1

	)

762 
	#__ISO_C_VISIBLE
 2011

	)

763 
	#__EXT1_VISIBLE
 1

	)

768 #ià
	`defšed
(
__STDC_WANT_LIB_EXT1__
)

769 #undeà
__EXT1_VISIBLE


770 #ià
__STDC_WANT_LIB_EXT1__


771 
	#__EXT1_VISIBLE
 1

	)

773 
	#__EXT1_VISIBLE
 0

	)

777 #ià
	`defšed
(
__ms
è|| defšed(
__pow”pc64__
è|| defšed(
__riscv
)

778 
	#__NO_TLS
 1

	)

785 #ià
	`defšed
(
__¬m__
è&& !defšed(
__ARM_ARCH
)

786 
	~<machše/aþe-com·t.h
>

792 #ià!(
	`defšed
(
__þªg__
è&& 
	`__has_ã©u»
(
nuÎabž™y
))

793 
	#_NÚnuÎ


	)

794 
	#_NuÎabË


	)

795 
	#_NuÎ_un¥ecif›d


	)

796 
	#__NULLABILITY_PRAGMA_PUSH


	)

797 
	#__NULLABILITY_PRAGMA_POP


	)

799 
	#__NULLABILITY_PRAGMA_PUSH
 
	`_P¿gma
("clang diagnostic…ush") \

800 
	`_P¿gma
("þªg dŸgno¡iøignÜed \"-WnuÎabž™y-com¶‘’ess\"")

	)

801 
	#__NULLABILITY_PRAGMA_POP
 
	`_P¿gma
("þªg dŸgno¡iøpÝ")

	)

811 #ià
	`__has_©Œibu‹
(
__¬gum’t_w™h_ty³_g__
) && \

812 
	$__has_©Œibu‹
(
__ty³_g_fÜ_d©©y³__
)

813 
	#__¬g_ty³_g
(
¬g_kšd
, 
¬g_idx
, 
ty³_g_idx
) \

814 
	`__©Œibu‹__
((
	`__¬gum’t_w™h_ty³_g__
(
¬g_kšd
, 
¬g_idx
, 
ty³_g_idx
)))

	)

815 
	#__d©©y³_ty³_g
(
kšd
, 
ty³
) \

816 
	`__©Œibu‹__
((
	`__ty³_g_fÜ_d©©y³__
(
kšd
, 
ty³
)))

	)

818 
	#__¬g_ty³_g
(
¬g_kšd
, 
¬g_idx
, 
ty³_g_idx
)

	)

819 
	#__d©©y³_ty³_g
(
kšd
, 
ty³
)

	)

834 #ià
	`__has_ex‹nsiÚ
(
c_th»ad_§ãty_©Œibu‹s
)

835 
	#__lock_ªnÙ©e
(
x
è
	`__©Œibu‹__
((x))

	)

837 
	#__lock_ªnÙ©e
(
x
)

	)

841 
	#__lockabË
 
	`__lock_ªnÙ©e
(
lockabË
)

	)

844 
	#__locks_exþusive
(...) \

845 
	`__lock_ªnÙ©e
(
	`exþusive_lock_funùiÚ
(
__VA_ARGS__
))

	)

846 
	#__locks_sh¬ed
(...) \

847 
	`__lock_ªnÙ©e
(
	`sh¬ed_lock_funùiÚ
(
__VA_ARGS__
))

	)

850 
	#__Œylocks_exþusive
(...) \

851 
	`__lock_ªnÙ©e
(
	`exþusive_Œylock_funùiÚ
(
__VA_ARGS__
))

	)

852 
	#__Œylocks_sh¬ed
(...) \

853 
	`__lock_ªnÙ©e
(
	`sh¬ed_Œylock_funùiÚ
(
__VA_ARGS__
))

	)

856 
	#__uÆocks
(...è
	`__lock_ªnÙ©e
(
	`uÆock_funùiÚ
(
__VA_ARGS__
))

	)

859 
	#__as£¹s_exþusive
(...) \

860 
	`__lock_ªnÙ©e
(
	`as£¹_exþusive_lock
(
__VA_ARGS__
))

	)

861 
	#__as£¹s_sh¬ed
(...) \

862 
	`__lock_ªnÙ©e
(
	`as£¹_sh¬ed_lock
(
__VA_ARGS__
))

	)

865 
	#__»quœes_exþusive
(...) \

866 
	`__lock_ªnÙ©e
(
	`exþusive_locks_»quœed
(
__VA_ARGS__
))

	)

867 
	#__»quœes_sh¬ed
(...) \

868 
	`__lock_ªnÙ©e
(
	`sh¬ed_locks_»quœed
(
__VA_ARGS__
))

	)

869 
	#__»quœes_uÆocked
(...) \

870 
	`__lock_ªnÙ©e
(
	`locks_exþuded
(
__VA_ARGS__
))

	)

873 
	#__no_lock_ª®ysis
 
	`__lock_ªnÙ©e
(
no_th»ad_§ãty_ª®ysis
)

	)

876 
	#__gu¬ded_by
(
x
è
	`__lock_ªnÙ©e
(
	`gu¬ded_by
(x))

	)

877 
	#__±_gu¬ded_by
(
x
è
	`__lock_ªnÙ©e
(
	`±_gu¬ded_by
(x))

	)

	@/usr/include/sys/condvar.h

31 #iâdef 
_SYS_CONDVAR_H_


32 
	#_SYS_CONDVAR_H_


	)

34 #iâdef 
LOCORE


35 
	~<sys/queue.h
>

37 
	glock_objeù
;

38 
	gth»ad
;

40 
TAILQ_HEAD
(
cv_wa™q
, 
th»ad
);

48 
	scv
 {

49 cÚ¡ *
	mcv_desütiÚ
;

50 
	mcv_wa™”s
;

53 #ifdeà
_KERNEL


54 
cv_š™
(
cv
 *
cvp
, cÚ¡ *
desc
);

55 
cv_de¡roy
(
cv
 *
cvp
);

57 
_cv_wa™
(
cv
 *
cvp
, 
lock_objeù
 *
lock
);

58 
_cv_wa™_uÆock
(
cv
 *
cvp
, 
lock_objeù
 *
lock
);

59 
_cv_wa™_sig
(
cv
 *
cvp
, 
lock_objeù
 *
lock
);

60 
_cv_timedwa™_sbt
(
cv
 *
cvp
, 
lock_objeù
 *
lock
,

61 
sbštime_t
 
sbt
, sbštime_ˆ
´
, 
æags
);

62 
_cv_timedwa™_sig_sbt
(
cv
 *
cvp
, 
lock_objeù
 *
lock
,

63 
sbštime_t
 
sbt
, sbštime_ˆ
´
, 
æags
);

65 
cv_sigÇl
(
cv
 *
cvp
);

66 
cv_brßdÿ¡´i
(
cv
 *
cvp
, 
´i
);

68 
	#cv_wa™
(
cvp
, 
lock
) \

69 
	`_cv_wa™
((
cvp
), &(
lock
)->
lock_objeù
)

	)

70 
	#cv_wa™_uÆock
(
cvp
, 
lock
) \

71 
	`_cv_wa™_uÆock
((
cvp
), &(
lock
)->
lock_objeù
)

	)

72 
	#cv_wa™_sig
(
cvp
, 
lock
) \

73 
	`_cv_wa™_sig
((
cvp
), &(
lock
)->
lock_objeù
)

	)

74 
	#cv_timedwa™
(
cvp
, 
lock
, 
timo
) \

75 
	`_cv_timedwa™_sbt
((
cvp
), &(
lock
)->
lock_objeù
, \

76 
tick_sbt
 * (
timo
), 0, 
C_HARDCLOCK
)

	)

77 
	#cv_timedwa™_sbt
(
cvp
, 
lock
, 
sbt
, 
´
, 
æags
) \

78 
	`_cv_timedwa™_sbt
((
cvp
), &(
lock
)->
lock_objeù
, (
sbt
), (
´
), (
æags
))

	)

79 
	#cv_timedwa™_sig
(
cvp
, 
lock
, 
timo
) \

80 
	`_cv_timedwa™_sig_sbt
((
cvp
), &(
lock
)->
lock_objeù
, \

81 
tick_sbt
 * (
timo
), 0, 
C_HARDCLOCK
)

	)

82 
	#cv_timedwa™_sig_sbt
(
cvp
, 
lock
, 
sbt
, 
´
, 
æags
) \

83 
	`_cv_timedwa™_sig_sbt
((
cvp
), &(
lock
)->
lock_objeù
, (
sbt
), (
´
), (
æags
))

	)

85 
	#cv_brßdÿ¡
(
cvp
è
	`cv_brßdÿ¡´i
(cvp, 0)

	)

87 
	#cv_wmesg
(
cvp
è((cvp)->
cv_desütiÚ
)

	)

	@/usr/include/sys/conf.h

42 #iâdeà
_SYS_CONF_H_


43 
	#_SYS_CONF_H_


	)

45 #ifdeà
_KERNEL


46 
	~<sys/ev’thªdËr.h
>

48 
	~<sys/queue.h
>

51 
	g¢­d©a
;

52 
	gdevfs_dœ’t
;

53 
	gcdevsw
;

54 
	gfže
;

56 
	scdev
 {

57 *
	msi_¥¬e0
;

58 
u_št
 
	msi_æags
;

59 
	#SI_ETERNAL
 0x0001

	)

60 
	#SI_ALIAS
 0x0002

	)

61 
	#SI_NAMED
 0x0004

	)

62 
	#SI_CHEAPCLONE
 0x0008

	)

63 
	#SI_CHILD
 0x0010

	)

64 
	#SI_DUMPDEV
 0x0080

	)

65 
	#SI_CLONELIST
 0x0200

	)

66 
	#SI_UNMAPPED
 0x0400

	)

67 
	#SI_NOSPLIT
 0x0800

	)

68 
time¥ec
 
	msi_©ime
;

69 
time¥ec
 
	msi_ùime
;

70 
time¥ec
 
	msi_mtime
;

71 
uid_t
 
	msi_uid
;

72 
gid_t
 
	msi_gid
;

73 
mode_t
 
	msi_mode
;

74 
uüed
 *
	msi_üed
;

75 
	msi_drv0
;

76 
	msi_»fcouÁ
;

77 
LIST_ENTRY
(
cdev
è
	msi_li¡
;

78 
LIST_ENTRY
(
cdev
è
	msi_þÚe
;

79 
LIST_HEAD
(, 
cdev
è
	msi_chžd»n
;

80 
LIST_ENTRY
(
cdev
è
	msi_siblšgs
;

81 
cdev
 *
	msi_·»Á
;

82 
mouÁ
 *
	msi_mouÁ±
;

83 *
	msi_drv1
, *
	msi_drv2
;

84 
cdevsw
 *
	msi_devsw
;

85 
	msi_iosize_max
;

86 
u_lÚg
 
	msi_u£couÁ
;

87 
u_lÚg
 
	msi_th»adcouÁ
;

89 
¢­d©a
 *
	m__sid_¢­d©a
;

90 } 
	m__si_u
;

91 
	msi_Çme
[
SPECNAMELEN
 + 1];

94 
	#si_¢­d©a
 
__si_u
.
__sid_¢­d©a


	)

96 #ifdeà
_KERNEL


102 
	gbio
;

103 
	gbuf
;

104 
	gdum³ršfo
;

105 
	gk”Ãldumph—d”
;

106 
	gth»ad
;

107 
	guio
;

108 
	gknÙe
;

109 
	gþÚedevs
;

110 
	gvm_objeù
;

111 
	gvnode
;

113 
	td_Ý’_t
(
	tcdev
 *
	tdev
, 
	toæags
, 
	tdevty³
, 
	tth»ad
 *
	ttd
);

114 
	td_fdÝ’_t
(
	tcdev
 *
	tdev
, 
	toæags
, 
	tth»ad
 *
	ttd
, 
	tfže
 *
	tå
);

115 
	td_þo£_t
(
	tcdev
 *
	tdev
, 
	tfæag
, 
	tdevty³
, 
	tth»ad
 *
	ttd
);

116 
	td_¡¿‹gy_t
(
	tbio
 *
	tbp
);

117 
	td_ioùl_t
(
	tcdev
 *
	tdev
, 
	tu_lÚg
 
	tcmd
, 
	tÿddr_t
 
	td©a
,

118 
	tfæag
, 
	tth»ad
 *
	ttd
);

120 
	td_»ad_t
(
	tcdev
 *
	tdev
, 
	tuio
 *uio, 
	tioæag
);

121 
	td_wr™e_t
(
	tcdev
 *
	tdev
, 
	tuio
 *uio, 
	tioæag
);

122 
	td_pÞl_t
(
	tcdev
 *
	tdev
, 
	tev’ts
, 
	tth»ad
 *
	ttd
);

123 
	td_kqfž‹r_t
(
	tcdev
 *
	tdev
, 
	tknÙe
 *
	tkn
);

124 
	td_mm­_t
(
	tcdev
 *
	tdev
, 
	tvm_ooff£t_t
 
	toff£t
, 
	tvm_·ddr_t
 *
	t·ddr
,

125 
	tÅrÙ
, 
	tvm_mem©Œ_t
 *
	tmem©Œ
);

126 
	td_mm­_sšgË_t
(
	tcdev
 *cdev, 
	tvm_ooff£t_t
 *
	toff£t
,

127 
	tvm_size_t
 
	tsize
, 
	tvm_objeù
 **
	tobjeù
, 
	tÅrÙ
);

128 
	td_purge_t
(
	tcdev
 *
	tdev
);

130 
	tdum³r_t
(

131 *
	t_´iv
,

132 *
	t_vœtu®
,

133 
	tvm_off£t_t
 
	t_physiÿl
,

134 
	toff_t
 
	t_off£t
,

135 
	tsize_t
 
	t_Ëngth
);

136 
	tdum³r_¡¬t_t
(
	tdum³ršfo
 *
	tdi
);

137 
	tdum³r_hdr_t
(
	tdum³ršfo
 *
	tdi
, 
	tk”Ãldumph—d”
 *
	tkdh
,

138 *
	tkey
, 
	tušt32_t
 
	tkeyËn
);

145 
	#D_TAPE
 0x0001

	)

146 
	#D_DISK
 0x0002

	)

147 
	#D_TTY
 0x0004

	)

148 
	#D_MEM
 0x0008

	)

150 #ifdeà
_KERNEL


152 
	#D_TYPEMASK
 0xffff

	)

157 
	#D_TRACKCLOSE
 0x00080000

	)

158 
	#D_MMAP_ANON
 0x00100000

	)

159 
	#D_NEEDGIANT
 0x00400000

	)

160 
	#D_NEEDMINOR
 0x00800000

	)

165 
	#D_VERSION_00
 0x20011966

	)

166 
	#D_VERSION_01
 0x17032005

	)

167 
	#D_VERSION_02
 0x28042009

	)

168 
	#D_VERSION_03
 0x17122009

	)

169 
	#D_VERSION
 
D_VERSION_03


	)

174 
	#D_INIT
 0x80000000

	)

179 
	scdevsw
 {

180 
	md_v”siÚ
;

181 
u_št
 
	md_æags
;

182 cÚ¡ *
	md_Çme
;

183 
d_Ý’_t
 *
	md_Ý’
;

184 
d_fdÝ’_t
 *
	md_fdÝ’
;

185 
d_þo£_t
 *
	md_þo£
;

186 
d_»ad_t
 *
	md_»ad
;

187 
d_wr™e_t
 *
	md_wr™e
;

188 
d_ioùl_t
 *
	md_ioùl
;

189 
d_pÞl_t
 *
	md_pÞl
;

190 
d_mm­_t
 *
	md_mm­
;

191 
d_¡¿‹gy_t
 *
	md_¡¿‹gy
;

192 
dum³r_t
 *
	md_dump
;

193 
d_kqfž‹r_t
 *
	md_kqfž‹r
;

194 
d_purge_t
 *
	md_purge
;

195 
d_mm­_sšgË_t
 *
	md_mm­_sšgË
;

197 
št32_t
 
	md_¥¬e0
[3];

198 *
	md_¥¬e1
[3];

201 
LIST_HEAD
(, 
cdev
è
	md_devs
;

202 
	md_¥¬e2
;

204 
cdevsw
 *
	mgŸÁŒick
;

205 
SLIST_ENTRY
(
cdevsw
è
	mpo¡ä“_li¡
;

206 } 
	m__d_gŸÁ
;

208 
	#d_gŸÁŒick
 
__d_gŸÁ
.
gŸÁŒick


	)

209 
	#d_po¡ä“_li¡
 
__d_gŸÁ
.
po¡ä“_li¡


	)

211 
	gmoduË
;

213 
	sdevsw_moduË_d©a
 {

214 (*
	mchaševh
)(
	mmoduË
 *, , *);

215 *
	mchaš¬g
;

219 
	#DEV_MODULE_ORDERED
(
Çme
, 
evh
, 
¬g
, 
Üd
) \

220 
moduËd©a_t
 
Çme
##
_mod
 = { \

222 
evh
, \

223 
¬g
 \

225 
	`DECLARE_MODULE
(
Çme
,‚ame##
_mod
, 
SI_SUB_DRIVERS
, 
Üd
)

	)

227 
	#DEV_MODULE
(
Çme
, 
evh
, 
¬g
) \

228 
	`DEV_MODULE_ORDERED
(
Çme
, 
evh
, 
¬g
, 
SI_ORDER_MIDDLE
)

	)

230 
þÚe_£tup
(
þÚedevs
 **
cdp
);

231 
þÚe_þ—nup
(
þÚedevs
 **);

232 
	#CLONE_UNITMASK
 0xfffff

	)

233 
	#CLONE_FLAG0
 (
CLONE_UNITMASK
 + 1)

	)

234 
þÚe_ü—‹
(
þÚedevs
 **, 
cdevsw
 *, *
un™
, 
cdev
 **
dev
, 
exŒa
);

236 
	#MAKEDEV_REF
 0x01

	)

237 
	#MAKEDEV_WHTOUT
 0x02

	)

238 
	#MAKEDEV_NOWAIT
 0x04

	)

239 
	#MAKEDEV_WAITOK
 0x08

	)

240 
	#MAKEDEV_ETERNAL
 0x10

	)

241 
	#MAKEDEV_CHECKNAME
 0x20

	)

242 
	smake_dev_¬gs
 {

243 
size_t
 
	mmda_size
;

244 
	mmda_æags
;

245 
cdevsw
 *
	mmda_devsw
;

246 
uüed
 *
	mmda_ü
;

247 
uid_t
 
	mmda_uid
;

248 
gid_t
 
	mmda_gid
;

249 
	mmda_mode
;

250 
	mmda_un™
;

251 *
	mmda_si_drv1
;

252 *
	mmda_si_drv2
;

254 
make_dev_¬gs_š™_im¶
(
make_dev_¬gs
 *
_¬gs
, 
size_t
 
_sz
);

255 
	#make_dev_¬gs_š™
(
a
) \

256 
	`make_dev_¬gs_š™_im¶
((
a
), (
make_dev_¬gs
))

	)

258 
couÁ_dev
(
cdev
 *
_dev
);

259 
d–i¡_dev
(
cdev
 *
_dev
);

260 
de¡roy_dev
(
cdev
 *
_dev
);

261 
de¡roy_dev_sched
(
cdev
 *
dev
);

262 
de¡roy_dev_sched_cb
(
cdev
 *
dev
, (*
cb
)(*), *
¬g
);

263 
	`de¡roy_dev_d¿š
(
cdevsw
 *
csw
);

264 
	`d¿š_dev_þÚe_ev’ts
();

265 
cdevsw
 *
	`dev_»áh»ad
(
cdev
 *
_dev
, *
_»f
);

266 
cdevsw
 *
	`devvn_»áh»ad
(
vnode
 *
vp
, 
cdev
 **
devp
, *
_»f
);

267 
	`dev_»Éh»ad
(
cdev
 *
_dev
, 
_»f
);

268 
	`dev_d•’ds
(
cdev
 *
_pdev
, cdev *
_cdev
);

269 
	`dev_»f
(
cdev
 *
dev
);

270 
	`dev_»æ
(
cdev
 *
dev
);

271 
	`dev_»l
(
cdev
 *
dev
);

272 
cdev
 *
	$make_dev
(
cdevsw
 *
_devsw
, 
_un™
, 
uid_t
 
_uid
, 
gid_t
 
_gid
,

273 
_³rms
, cÚ¡ *
_fmt
, ...è
	`__´štæike
(6, 7);

274 
cdev
 *
	$make_dev_üed
(
cdevsw
 *
_devsw
, 
_un™
,

275 
uüed
 *
_ü
, 
uid_t
 
_uid
, 
gid_t
 
_gid
, 
_³rms
,

276 cÚ¡ *
_fmt
, ...è
	`__´štæike
(7, 8);

277 
cdev
 *
	$make_dev_üedf
(
_æags
,

278 
cdevsw
 *
_devsw
, 
_un™
,

279 
uüed
 *
_ü
, 
uid_t
 
_uid
, 
gid_t
 
_gid
, 
_mode
,

280 cÚ¡ *
_fmt
, ...è
	`__´štæike
(8, 9);

281 
	$make_dev_p
(
_æags
, 
cdev
 **
_cdev
, 
cdevsw
 *
_devsw
,

282 
uüed
 *
_ü
, 
uid_t
 
_uid
, 
gid_t
 
_gid
, 
_mode
,

283 cÚ¡ *
_fmt
, ...è
	`__´štæike
(8, 9);

284 
	$make_dev_s
(
make_dev_¬gs
 *
_¬gs
, 
cdev
 **
_cdev
,

285 cÚ¡ *
_fmt
, ...è
	`__´štæike
(3, 4);

286 
cdev
 *
	$make_dev_®Ÿs
(
cdev
 *
_pdev
, cÚ¡ *
_fmt
, ...)

287 
	`__´štæike
(2, 3);

288 
	$make_dev_®Ÿs_p
(
_æags
, 
cdev
 **
_cdev
, cdev *
_pdev
,

289 cÚ¡ *
_fmt
, ...è
	`__´štæike
(4, 5);

290 
	`make_dev_phy¥©h_®Ÿs
(
_æags
, 
cdev
 **
_cdev
,

291 
cdev
 *
_pdev
, cdev *
_Þd_®Ÿs
,

292 cÚ¡ *
_phy¥©h
);

293 
	`dev_lock
();

294 
	`dev_uÆock
();

296 #ifdeà
KLD_MODULE


297 
	#MAKEDEV_ETERNAL_KLD
 0

	)

299 
	#MAKEDEV_ETERNAL_KLD
 
MAKEDEV_ETERNAL


	)

302 
	#dev2un™
(
d
è((d)->
si_drv0
)

	)

304 
	td_´iv_dtÜ_t
(*
	td©a
);

305 
	`devfs_g‘_cdev´iv
(**
d©­
);

306 
	`devfs_£t_cdev´iv
(*
´iv
, 
d_´iv_dtÜ_t
 *
dŒ
);

307 
	`devfs_þ—r_cdev´iv
();

309 
šo_t
 
	`devfs_®loc_cdp_šode
();

310 
	`devfs_ä“_cdp_šode
(
šo_t
 
šo
);

312 
	#UID_ROOT
 0

	)

313 
	#UID_BIN
 3

	)

314 
	#UID_UUCP
 66

	)

315 
	#UID_NOBODY
 65534

	)

317 
	#GID_WHEEL
 0

	)

318 
	#GID_KMEM
 2

	)

319 
	#GID_TTY
 4

	)

320 
	#GID_OPERATOR
 5

	)

321 
	#GID_BIN
 7

	)

322 
	#GID_GAMES
 13

	)

323 
	#GID_VIDEO
 44

	)

324 
	#GID_DIALER
 68

	)

325 
	#GID_NOGROUP
 65533

	)

326 
	#GID_NOBODY
 65534

	)

328 (*
	tdev_þÚe_â
)(*
	t¬g
, 
	tuüed
 *
	tüed
, *
	tÇme
,

329 
	tÇm–’
, 
	tcdev
 **
	t»suÉ
);

331 
	`dev_¡dþÚe
(*
_Çme
, **
_Çm•
, cÚ¡ *
_¡em
, *
_un™
);

332 
	`EVENTHANDLER_DECLARE
(
dev_þÚe
, 
dev_þÚe_â
);

335 
k”Ãldumpüy±o
;

336 
k”Ãldumph—d”
;

338 
	sdum³ršfo
 {

339 
dum³r_t
 *
dum³r
;

340 
dum³r_¡¬t_t
 *
dum³r_¡¬t
;

341 
dum³r_hdr_t
 *
dum³r_hdr
;

342 *
´iv
;

343 
u_št
 
blocksize
;

344 
u_št
 
maxiosize
;

345 
off_t
 
medŸoff£t
;

346 
off_t
 
medŸsize
;

349 *
blockbuf
;

350 
off_t
 
dumpoff
;

351 
off_t
 
Üigdumpoff
;

352 
k”Ãldumpüy±o
 *
kdüy±o
;

353 
k”Ãldumpcomp
 *
kdcomp
;

356 
dumpšg
;

358 
	`dßdump
(
boÞ—n_t
);

359 
	`£t_dum³r
(
dum³ršfo
 *
di
, cÚ¡ *
devÇme
, 
th»ad
 *
td
,

360 
ušt8_t
 
com´essiÚ
, ušt8_ˆ
’üy±iÚ
, cÚ¡ ušt8_ˆ*
key
,

361 
ušt32_t
 
’üy±edkeysize
, cÚ¡ 
ušt8_t
 *
’üy±edkey
);

362 
	`þ—r_dum³r
(
th»ad
 *
td
);

364 
	`dump_¡¬t
(
dum³ršfo
 *
di
, 
k”Ãldumph—d”
 *
kdh
);

365 
	`dump_­³nd
(
dum³ršfo
 *, *, 
vm_off£t_t
, 
size_t
);

366 
	`dump_wr™e
(
dum³ršfo
 *, *, 
vm_off£t_t
, 
off_t
, 
size_t
);

367 
	`dump_fšish
(
dum³ršfo
 *
di
, 
k”Ãldumph—d”
 *
kdh
);

368 
	`dump_š™_h—d”
(cÚ¡ 
dum³ršfo
 *
di
, 
k”Ãldumph—d”
 *
kdh
,

369 *
magic
, 
ušt32_t
 
¬chv”
, 
ušt64_t
 
dum¶’
);

	@/usr/include/sys/consio.h

33 #iâdef 
_SYS_CONSIO_H_


34 
	#_SYS_CONSIO_H_


	)

36 #iâdeà
_KERNEL


37 
	~<sys/ty³s.h
>

39 
	~<sys/ioccom.h
>

50 
	#KD_TEXT
 0

	)

51 
	#KD_TEXT0
 0

	)

52 
	#KD_GRAPHICS
 1

	)

53 
	#KD_TEXT1
 2

	)

54 
	#KD_PIXEL
 3

	)

55 
	#KDGETMODE
 
	`_IOR
('K', 9, )

	)

56 
	#KDSETMODE
 
	`_IOWINT
('K', 10)

	)

59 
	#KDSBORDER
 
	`_IOWINT
('K', 13)

	)

62 
	s_sü_size
 {

63 
	msü_size
[3];

65 
_sü_size
 
	tsü_size_t
;

67 
	#KDRASTER
 
	`_IOW
('K', 100, 
sü_size_t
)

	)

70 
	s_süm­
 {

71 
	msüm­
[256];

73 
_süm­
 
	tsüm­_t
;

75 
	#GIO_SCRNMAP
 
	`_IOR
('k', 2, 
süm­_t
)

	)

76 
	#PIO_SCRNMAP
 
	`_IOW
('k', 3, 
süm­_t
)

	)

79 
	#GIO_ATTR
 
	`_IOR
('a', 0, )

	)

82 
	#GIO_COLOR
 
	`_IOR
('c', 0, )

	)

85 
	#CONS_CURRENT
 
	`_IOR
('c', 1, )

	)

88 
	#CONS_GET
 
	`_IOR
('c', 2, )

	)

91 
	#CONS_IO
 
	`_IO
('c', 3)

	)

94 
	#CONS_BLANKTIME
 
	`_IOW
('c', 4, )

	)

97 
	ss§v”
 {

98 
	#MAXSSAVER
 16

	)

99 
	mÇme
[
MAXSSAVER
];

100 
	mnum
;

101 
	mtime
;

103 
s§v”
 
	ts§v”_t
;

105 
	#CONS_SSAVER
 
	`_IOW
('c', 5, 
s§v”_t
)

	)

106 
	#CONS_GSAVER
 
	`_IOWR
('c', 6, 
s§v”_t
)

	)

117 
	#CONS_CURSORTYPE
 
	`_IOW
('c', 7, )

	)

120 
	#CONS_VISUAL_BELL
 (1 << 0)

	)

121 
	#CONS_QUIET_BELL
 (1 << 1)

	)

122 
	#CONS_BELLTYPE
 
	`_IOW
('c', 8, )

	)

125 
	#CONS_HISTORY
 
	`_IOW
('c', 9, )

	)

128 
	#CONS_CLRHIST
 
	`_IO
('c', 10)

	)

131 
	smou£_d©a
 {

132 
	mx
;

133 
	my
;

134 
	mz
;

135 
	mbu‰Ús
;

137 
mou£_d©a
 
	tmou£_d©a_t
;

139 
	smou£_mode
 {

140 
	mmode
;

141 
	msigÇl
;

143 
mou£_mode
 
	tmou£_mode_t
;

145 
	smou£_ev’t
 {

146 
	mid
;

147 
	mv®ue
;

149 
mou£_ev’t
 
	tmou£_ev’t_t
;

151 
	smou£_šfo
 {

152 
	mÝ”©iÚ
;

153 
	#MOUSE_SHOW
 0x01

	)

154 
	#MOUSE_HIDE
 0x02

	)

155 
	#MOUSE_MOVEABS
 0x03

	)

156 
	#MOUSE_MOVEREL
 0x04

	)

157 
	#MOUSE_GETINFO
 0x05

	)

158 
	#MOUSE_MODE
 0x06

	)

159 
	#MOUSE_ACTION
 0x07

	)

160 
	#MOUSE_MOTION_EVENT
 0x08

	)

161 
	#MOUSE_BUTTON_EVENT
 0x09

	)

162 
	#MOUSE_MOUSECHAR
 0x0a

	)

164 
mou£_d©a_t
 
	md©a
;

165 
mou£_mode_t
 
	mmode
;

166 
mou£_ev’t_t
 
	mev’t
;

167 
	mmou£_ch¬
;

168 } 
	mu
;

170 
mou£_šfo
 
	tmou£_šfo_t
;

172 
	#CONS_MOUSECTL
 
	`_IOWR
('c', 10, 
mou£_šfo_t
)

	)

175 
	#CONS_IDLE
 
	`_IOR
('c', 11, )

	)

178 
	#CONS_NO_SAVER
 (-1)

	)

179 
	#CONS_LKM_SAVER
 0

	)

180 
	#CONS_USR_SAVER
 1

	)

181 
	#CONS_SAVERMODE
 
	`_IOW
('c', 12, )

	)

184 
	#CONS_SAVERSTART
 
	`_IOW
('c', 13, )

	)

187 
	#CONS_BLINK_CURSOR
 (1 << 0)

	)

188 
	#CONS_CHAR_CURSOR
 (1 << 1)

	)

189 
	#CONS_HIDDEN_CURSOR
 (1 << 2)

	)

190 
	#CONS_CURSOR_ATTRS
 (
CONS_BLINK_CURSOR
 | 
CONS_CHAR_CURSOR
 | \

191 
CONS_HIDDEN_CURSOR
)

	)

192 
	#CONS_CHARCURSOR_COLORS
 (1 << 26)

	)

193 
	#CONS_MOUSECURSOR_COLORS
 (1 << 27)

	)

194 
	#CONS_DEFAULT_CURSOR
 (1 << 28)

	)

195 
	#CONS_SHAPEONLY_CURSOR
 (1 << 29)

	)

196 
	#CONS_RESET_CURSOR
 (1 << 30)

	)

197 
	#CONS_LOCAL_CURSOR
 (1U << 31)

	)

198 
	scsh­e
 {

200 
	msh­e
[3];

202 
	#CONS_GETCURSORSHAPE
 
	`_IOWR
('c', 14, 
csh­e
)

	)

203 
	#CONS_SETCURSORSHAPE
 
	`_IOW
('c', 15, 
csh­e
)

	)

206 
	sât8
 {

207 
	mât8x8
[8*256];

209 
ât8
 
	tât8_t
;

211 
	sât14
 {

212 
	mât8x14
[14*256];

214 
ât14
 
	tât14_t
;

216 
	sât16
 {

217 
	mât8x16
[16*256];

219 
ât16
 
	tât16_t
;

221 
	svât_m­
 {

222 
ušt32_t
 
	m¤c
;

223 
ušt16_t
 
	md¡
;

224 
ušt16_t
 
	mËn
;

226 
vât_m­
 
	tvât_m­_t
;

228 
	#VFNT_MAP_NORMAL
 0

	)

229 
	#VFNT_MAP_NORMAL_RIGHT
 1

	)

230 
	#VFNT_MAP_BOLD
 2

	)

231 
	#VFNT_MAP_BOLD_RIGHT
 3

	)

232 
	#VFNT_MAPS
 4

	)

233 
	svât
 {

234 
vât_m­_t
 *
	mm­
[
VFNT_MAPS
];

235 
ušt8_t
 *
	mglyphs
;

236 
	mm­_couÁ
[
VFNT_MAPS
];

237 
	mglyph_couÁ
;

238 
	mwidth
;

239 
	mheight
;

241 
vât
 
	tvât_t
;

243 
	#PIO_FONT8x8
 
	`_IOW
('c', 64, 
ât8_t
)

	)

244 
	#GIO_FONT8x8
 
	`_IOR
('c', 65, 
ât8_t
)

	)

245 
	#PIO_FONT8x14
 
	`_IOW
('c', 66, 
ât14_t
)

	)

246 
	#GIO_FONT8x14
 
	`_IOR
('c', 67, 
ât14_t
)

	)

247 
	#PIO_FONT8x16
 
	`_IOW
('c', 68, 
ât16_t
)

	)

248 
	#GIO_FONT8x16
 
	`_IOR
('c', 69, 
ât16_t
)

	)

249 
	#PIO_VFONT
 
	`_IOW
('c', 70, 
vât_t
)

	)

250 
	#GIO_VFONT
 
	`_IOR
('c', 71, 
vât_t
)

	)

251 
	#PIO_VFONT_DEFAULT
 
	`_IO
('c', 72)

	)

254 
	scÞÜs
 {

255 
	mfÜe
;

256 
	mback
;

259 
	svid_šfo
 {

260 
	msize
;

261 
	mm_num
;

262 
u_shÜt
 
	mfÚt_size
;

263 
u_shÜt
 
	mmv_row
, 
	mmv_cÞ
;

264 
u_shÜt
 
	mmv_rsz
, 
	mmv_csz
;

265 
u_shÜt
 
	mmv_hsz
;

266 
cÞÜs
 
	mmv_nÜm
,

267 
	mmv_»v
,

268 
	mmv_grfc
;

269 
u_ch¬
 
	mmv_ovsÿn
;

270 
u_ch¬
 
	mmk_keylock
;

272 
vid_šfo
 
	tvid_šfo_t
;

274 
	#CONS_GETINFO
 
	`_IOWR
('c', 73, 
vid_šfo_t
)

	)

277 
	#CONS_GETVERS
 
	`_IOR
('c', 74, )

	)

280 
	#CONS_CURRENTADP
 
	`_IOR
('c', 100, )

	)

283 
	#CONS_ADPINFO
 
	`_IOWR
('c', 101, 
video_ad­‹r_šfo_t
)

	)

286 
	#CONS_MODEINFO
 
	`_IOWR
('c', 102, 
video_šfo_t
)

	)

289 
	#CONS_FINDMODE
 
	`_IOWR
('c', 103, 
video_šfo_t
)

	)

292 
	#CONS_SETWINORG
 
	`_IOWINT
('c', 104)

	)

295 
	#CONS_SETKBD
 
	`_IOWINT
('c', 110)

	)

298 
	#CONS_RELKBD
 
	`_IO
('c', 111)

	)

300 
	ssüshÙ
 {

301 
	mx
;

302 
	my
;

303 
	mxsize
;

304 
	mysize
;

305 
u_št16_t
* 
	mbuf
;

307 
süshÙ
 
	tsüshÙ_t
;

310 
	#CONS_SCRSHOT
 
	`_IOWR
('c', 105, 
süshÙ_t
)

	)

313 
	#TI_NAME_LEN
 32

	)

314 
	#TI_DESC_LEN
 64

	)

316 
	s‹rm_šfo
 {

317 
	mti_šdex
;

318 
	mti_æags
;

319 
u_ch¬
 
	mti_Çme
[
TI_NAME_LEN
];

320 
u_ch¬
 
	mti_desc
[
TI_DESC_LEN
];

322 
‹rm_šfo
 
	t‹rm_šfo_t
;

324 
	#CONS_GETTERM
 
	`_IOWR
('c', 112, 
‹rm_šfo_t
)

	)

325 
	#CONS_SETTERM
 
	`_IOW
('c', 113, 
‹rm_šfo_t
)

	)

332 
	#VT_OPENQRY
 
	`_IOR
('v', 1, )

	)

335 #iâdeà
_VT_MODE_DECLARED


336 
	#_VT_MODE_DECLARED


	)

337 
	svt_mode
 {

338 
	mmode
;

339 
	#VT_AUTO
 0

	)

340 
	#VT_PROCESS
 1

	)

341 
	#VT_KERNEL
 255

	)

342 
	mwa™v
;

343 
	m»lsig
;

344 
	macqsig
;

345 
	mäsig
;

347 
vt_mode
 
	tvtmode_t
;

350 
	#VT_SETMODE
 
	`_IOW
('v', 2, 
vtmode_t
)

	)

351 
	#VT_GETMODE
 
	`_IOR
('v', 3, 
vtmode_t
)

	)

354 
	#VT_FALSE
 0

	)

355 
	#VT_TRUE
 1

	)

356 
	#VT_ACKACQ
 2

	)

357 
	#VT_RELDISP
 
	`_IOWINT
('v', 4)

	)

360 
	#VT_ACTIVATE
 
	`_IOWINT
('v', 5)

	)

363 
	#VT_WAITACTIVE
 
	`_IOWINT
('v', 6)

	)

366 
	#VT_GETACTIVE
 
	`_IOR
('v', 7, )

	)

369 
	#VT_GETINDEX
 
	`_IOR
('v', 8, )

	)

372 
	#VT_LOCKSWITCH
 
	`_IOW
('v', 9, )

	)

378 
	#SW_B40x25
 
	`_IO
('S', 
M_B40x25
)

	)

379 
	#SW_C40x25
 
	`_IO
('S', 
M_C40x25
)

	)

380 
	#SW_B80x25
 
	`_IO
('S', 
M_B80x25
)

	)

381 
	#SW_C80x25
 
	`_IO
('S', 
M_C80x25
)

	)

382 
	#SW_BG320
 
	`_IO
('S', 
M_BG320
)

	)

383 
	#SW_CG320
 
	`_IO
('S', 
M_CG320
)

	)

384 
	#SW_BG640
 
	`_IO
('S', 
M_BG640
)

	)

385 
	#SW_EGAMONO80x25
 
	`_IO
('S', 
M_EGAMONO80x25
)

	)

386 
	#SW_CG320_D
 
	`_IO
('S', 
M_CG320_D
)

	)

387 
	#SW_CG640_E
 
	`_IO
('S', 
M_CG640_E
)

	)

388 
	#SW_EGAMONOAPA
 
	`_IO
('S', 
M_EGAMONOAPA
)

	)

389 
	#SW_CG640x350
 
	`_IO
('S', 
M_CG640x350
)

	)

390 
	#SW_ENH_MONOAPA2
 
	`_IO
('S', 
M_ENHMONOAPA2
)

	)

391 
	#SW_ENH_CG640
 
	`_IO
('S', 
M_ENH_CG640
)

	)

392 
	#SW_ENH_B40x25
 
	`_IO
('S', 
M_ENH_B40x25
)

	)

393 
	#SW_ENH_C40x25
 
	`_IO
('S', 
M_ENH_C40x25
)

	)

394 
	#SW_ENH_B80x25
 
	`_IO
('S', 
M_ENH_B80x25
)

	)

395 
	#SW_ENH_C80x25
 
	`_IO
('S', 
M_ENH_C80x25
)

	)

396 
	#SW_ENH_B80x43
 
	`_IO
('S', 
M_ENH_B80x43
)

	)

397 
	#SW_ENH_C80x43
 
	`_IO
('S', 
M_ENH_C80x43
)

	)

398 
	#SW_MCAMODE
 
	`_IO
('S', 
M_MCA_MODE
)

	)

399 
	#SW_VGA_C40x25
 
	`_IO
('S', 
M_VGA_C40x25
)

	)

400 
	#SW_VGA_C80x25
 
	`_IO
('S', 
M_VGA_C80x25
)

	)

401 
	#SW_VGA_C80x30
 
	`_IO
('S', 
M_VGA_C80x30
)

	)

402 
	#SW_VGA_C80x50
 
	`_IO
('S', 
M_VGA_C80x50
)

	)

403 
	#SW_VGA_C80x60
 
	`_IO
('S', 
M_VGA_C80x60
)

	)

404 
	#SW_VGA_M80x25
 
	`_IO
('S', 
M_VGA_M80x25
)

	)

405 
	#SW_VGA_M80x30
 
	`_IO
('S', 
M_VGA_M80x30
)

	)

406 
	#SW_VGA_M80x50
 
	`_IO
('S', 
M_VGA_M80x50
)

	)

407 
	#SW_VGA_M80x60
 
	`_IO
('S', 
M_VGA_M80x60
)

	)

408 
	#SW_VGA11
 
	`_IO
('S', 
M_VGA11
)

	)

409 
	#SW_BG640x480
 
	`_IO
('S', 
M_VGA11
)

	)

410 
	#SW_VGA12
 
	`_IO
('S', 
M_VGA12
)

	)

411 
	#SW_CG640x480
 
	`_IO
('S', 
M_VGA12
)

	)

412 
	#SW_VGA13
 
	`_IO
('S', 
M_VGA13
)

	)

413 
	#SW_VGA_CG320
 
	`_IO
('S', 
M_VGA13
)

	)

414 
	#SW_VGA_CG640
 
	`_IO
('S', 
M_VGA_CG640
)

	)

415 
	#SW_VGA_MODEX
 
	`_IO
('S', 
M_VGA_MODEX
)

	)

417 
	#SW_VGA_C90x25
 
	`_IO
('S', 
M_VGA_C90x25
)

	)

418 
	#SW_VGA_M90x25
 
	`_IO
('S', 
M_VGA_M90x25
)

	)

419 
	#SW_VGA_C90x30
 
	`_IO
('S', 
M_VGA_C90x30
)

	)

420 
	#SW_VGA_M90x30
 
	`_IO
('S', 
M_VGA_M90x30
)

	)

421 
	#SW_VGA_C90x43
 
	`_IO
('S', 
M_VGA_C90x43
)

	)

422 
	#SW_VGA_M90x43
 
	`_IO
('S', 
M_VGA_M90x43
)

	)

423 
	#SW_VGA_C90x50
 
	`_IO
('S', 
M_VGA_C90x50
)

	)

424 
	#SW_VGA_M90x50
 
	`_IO
('S', 
M_VGA_M90x50
)

	)

425 
	#SW_VGA_C90x60
 
	`_IO
('S', 
M_VGA_C90x60
)

	)

426 
	#SW_VGA_M90x60
 
	`_IO
('S', 
M_VGA_M90x60
)

	)

428 
	#SW_TEXT_80x25
 
	`_IO
('S', 
M_TEXT_80x25
)

	)

429 
	#SW_TEXT_80x30
 
	`_IO
('S', 
M_TEXT_80x30
)

	)

430 
	#SW_TEXT_80x43
 
	`_IO
('S', 
M_TEXT_80x43
)

	)

431 
	#SW_TEXT_80x50
 
	`_IO
('S', 
M_TEXT_80x50
)

	)

432 
	#SW_TEXT_80x60
 
	`_IO
('S', 
M_TEXT_80x60
)

	)

433 
	#SW_TEXT_132x25
 
	`_IO
('S', 
M_TEXT_132x25
)

	)

434 
	#SW_TEXT_132x30
 
	`_IO
('S', 
M_TEXT_132x30
)

	)

435 
	#SW_TEXT_132x43
 
	`_IO
('S', 
M_TEXT_132x43
)

	)

436 
	#SW_TEXT_132x50
 
	`_IO
('S', 
M_TEXT_132x50
)

	)

437 
	#SW_TEXT_132x60
 
	`_IO
('S', 
M_TEXT_132x60
)

	)

439 
	#SW_VESA_CG640x400
 
	`_IO
('V', 
M_VESA_CG640x400
 - 
M_VESA_BASE
)

	)

440 
	#SW_VESA_CG640x480
 
	`_IO
('V', 
M_VESA_CG640x480
 - 
M_VESA_BASE
)

	)

441 
	#SW_VESA_800x600
 
	`_IO
('V', 
M_VESA_800x600
 - 
M_VESA_BASE
)

	)

442 
	#SW_VESA_CG800x600
 
	`_IO
('V', 
M_VESA_CG800x600
 - 
M_VESA_BASE
)

	)

443 
	#SW_VESA_1024x768
 
	`_IO
('V', 
M_VESA_1024x768
 - 
M_VESA_BASE
)

	)

444 
	#SW_VESA_CG1024x768
 
	`_IO
('V', 
M_VESA_CG1024x768
 - 
M_VESA_BASE
)

	)

445 
	#SW_VESA_1280x1024
 
	`_IO
('V', 
M_VESA_1280x1024
 - 
M_VESA_BASE
)

	)

446 
	#SW_VESA_CG1280x1024
 
	`_IO
('V', 
M_VESA_CG1280x1024
 - 
M_VESA_BASE
)

	)

447 
	#SW_VESA_C80x60
 
	`_IO
('V', 
M_VESA_C80x60
 - 
M_VESA_BASE
)

	)

448 
	#SW_VESA_C132x25
 
	`_IO
('V', 
M_VESA_C132x25
 - 
M_VESA_BASE
)

	)

449 
	#SW_VESA_C132x43
 
	`_IO
('V', 
M_VESA_C132x43
 - 
M_VESA_BASE
)

	)

450 
	#SW_VESA_C132x50
 
	`_IO
('V', 
M_VESA_C132x50
 - 
M_VESA_BASE
)

	)

451 
	#SW_VESA_C132x60
 
	`_IO
('V', 
M_VESA_C132x60
 - 
M_VESA_BASE
)

	)

452 
	#SW_VESA_32K_320
 
	`_IO
('V', 
M_VESA_32K_320
 - 
M_VESA_BASE
)

	)

453 
	#SW_VESA_64K_320
 
	`_IO
('V', 
M_VESA_64K_320
 - 
M_VESA_BASE
)

	)

454 
	#SW_VESA_FULL_320
 
	`_IO
('V', 
M_VESA_FULL_320
 - 
M_VESA_BASE
)

	)

455 
	#SW_VESA_32K_640
 
	`_IO
('V', 
M_VESA_32K_640
 - 
M_VESA_BASE
)

	)

456 
	#SW_VESA_64K_640
 
	`_IO
('V', 
M_VESA_64K_640
 - 
M_VESA_BASE
)

	)

457 
	#SW_VESA_FULL_640
 
	`_IO
('V', 
M_VESA_FULL_640
 - 
M_VESA_BASE
)

	)

458 
	#SW_VESA_32K_800
 
	`_IO
('V', 
M_VESA_32K_800
 - 
M_VESA_BASE
)

	)

459 
	#SW_VESA_64K_800
 
	`_IO
('V', 
M_VESA_64K_800
 - 
M_VESA_BASE
)

	)

460 
	#SW_VESA_FULL_800
 
	`_IO
('V', 
M_VESA_FULL_800
 - 
M_VESA_BASE
)

	)

461 
	#SW_VESA_32K_1024
 
	`_IO
('V', 
M_VESA_32K_1024
 - 
M_VESA_BASE
)

	)

462 
	#SW_VESA_64K_1024
 
	`_IO
('V', 
M_VESA_64K_1024
 - 
M_VESA_BASE
)

	)

463 
	#SW_VESA_FULL_1024
 
	`_IO
('V', 
M_VESA_FULL_1024
 - 
M_VESA_BASE
)

	)

464 
	#SW_VESA_32K_1280
 
	`_IO
('V', 
M_VESA_32K_1280
 - 
M_VESA_BASE
)

	)

465 
	#SW_VESA_64K_1280
 
	`_IO
('V', 
M_VESA_64K_1280
 - 
M_VESA_BASE
)

	)

466 
	#SW_VESA_FULL_1280
 
	`_IO
('V', 
M_VESA_FULL_1280
 - 
M_VESA_BASE
)

	)

	@/usr/include/sys/ctype.h

39 #iâdeà
_SYS_CTYPE_H_


40 
	#_SYS_CTYPE_H_


	)

42 #ifdeà
_KERNEL


44 
	#is¥aû
(
c
è((cè=ð' ' || ((cè>ð'\t' && (cè<ð'\r'))

	)

45 
	#i§scii
(
c
è(((cè& ~0x7fè=ð0)

	)

46 
	#isuµ”
(
c
è((cè>ð'A' && (cè<ð'Z')

	)

47 
	#i¦ow”
(
c
è((cè>ð'a' && (cè<ð'z')

	)

48 
	#i§Íha
(
c
è(
	`isuµ”
(cè|| 
	`i¦ow”
(c))

	)

49 
	#isdig™
(
c
è((cè>ð'0' && (cè<ð'9')

	)

50 
	#isxdig™
(
c
è(
	`isdig™
(c) \

51 || ((
c
) >= 'A' && (c) <= 'F') \

52 || ((
c
è>ð'a' && (cè<ð'f'))

	)

53 
	#i¥ršt
(
c
è((cè>ð' ' && (cè<ð'~')

	)

55 
	#touµ”
(
c
è((cè- 0x20 * (((cè>ð'a'è&& ((cè<ð'z')))

	)

56 
	#tÞow”
(
c
è((cè+ 0x20 * (((cè>ð'A'è&& ((cè<ð'Z')))

	)

	@/usr/include/sys/elf32.h

31 #iâdeà
_SYS_ELF32_H_


32 
	#_SYS_ELF32_H_
 1

	)

34 
	~<sys/–f_commÚ.h
>

40 
ušt32_t
 
	tElf32_Addr
;

41 
ušt16_t
 
	tElf32_H®f
;

42 
ušt32_t
 
	tElf32_Off
;

43 
št32_t
 
	tElf32_SwÜd
;

44 
ušt32_t
 
	tElf32_WÜd
;

45 
ušt64_t
 
	tElf32_LwÜd
;

47 
Elf32_WÜd
 
	tElf32_Hash–t
;

50 
Elf32_WÜd
 
	tElf32_Size
;

51 
Elf32_SwÜd
 
	tElf32_Ssize
;

58 
	me_id’t
[
EI_NIDENT
];

59 
Elf32_H®f
 
	me_ty³
;

60 
Elf32_H®f
 
	me_machše
;

61 
Elf32_WÜd
 
	me_v”siÚ
;

62 
Elf32_Addr
 
	me_’Œy
;

63 
Elf32_Off
 
	me_phoff
;

64 
Elf32_Off
 
	me_shoff
;

65 
Elf32_WÜd
 
	me_æags
;

66 
Elf32_H®f
 
	me_ehsize
;

67 
Elf32_H®f
 
	me_ph’tsize
;

68 
Elf32_H®f
 
	me_phnum
;

69 
Elf32_H®f
 
	me_sh’tsize
;

70 
Elf32_H®f
 
	me_shnum
;

71 
Elf32_H®f
 
	me_sh¡ºdx
;

72 } 
	tElf32_Ehdr
;

79 
Elf32_WÜd
 
	ml_Çme
;

80 
Elf32_WÜd
 
	ml_time_¡amp
;

81 
Elf32_WÜd
 
	ml_checksum
;

82 
Elf32_WÜd
 
	ml_v”siÚ
;

83 
Elf32_WÜd
 
	ml_æags
;

84 } 
	tElf32_Lib
;

91 
Elf32_WÜd
 
	msh_Çme
;

93 
Elf32_WÜd
 
	msh_ty³
;

94 
Elf32_WÜd
 
	msh_æags
;

95 
Elf32_Addr
 
	msh_addr
;

96 
Elf32_Off
 
	msh_off£t
;

97 
Elf32_WÜd
 
	msh_size
;

98 
Elf32_WÜd
 
	msh_lšk
;

99 
Elf32_WÜd
 
	msh_šfo
;

100 
Elf32_WÜd
 
	msh_add¿lign
;

101 
Elf32_WÜd
 
	msh_’tsize
;

102 } 
	tElf32_Shdr
;

109 
Elf32_WÜd
 
	mp_ty³
;

110 
Elf32_Off
 
	mp_off£t
;

111 
Elf32_Addr
 
	mp_vaddr
;

112 
Elf32_Addr
 
	mp_·ddr
;

113 
Elf32_WÜd
 
	mp_fžesz
;

114 
Elf32_WÜd
 
	mp_memsz
;

115 
Elf32_WÜd
 
	mp_æags
;

116 
Elf32_WÜd
 
	mp_®ign
;

117 } 
	tElf32_Phdr
;

124 
Elf32_SwÜd
 
	md_g
;

126 
Elf32_WÜd
 
	md_v®
;

127 
Elf32_Addr
 
	md_±r
;

128 } 
	md_un
;

129 } 
	tElf32_Dyn
;

137 
Elf32_Addr
 
	mr_off£t
;

138 
Elf32_WÜd
 
	mr_šfo
;

139 } 
	tElf32_R–
;

143 
Elf32_Addr
 
	mr_off£t
;

144 
Elf32_WÜd
 
	mr_šfo
;

145 
Elf32_SwÜd
 
	mr_add’d
;

146 } 
	tElf32_R–a
;

149 
	#ELF32_R_SYM
(
šfo
è((šfoè>> 8)

	)

150 
	#ELF32_R_TYPE
(
šfo
è(()(šfo))

	)

153 
	#ELF32_R_INFO
(
sym
, 
ty³
è(((symè<< 8è+ ()Ñy³))

	)

158 
Elf_NÙe
 
	tElf32_Nhdr
;

164 
Elf32_LwÜd
 
	mm_v®ue
;

165 
Elf32_WÜd
 
	mm_šfo
;

166 
Elf32_WÜd
 
	mm_poff£t
;

167 
Elf32_H®f
 
	mm_»³©
;

168 
Elf32_H®f
 
	mm_¡ride
;

169 } 
	tElf32_Move
;

178 
	#ELF32_M_SYM
(
šfo
è((šfo)>>8)

	)

179 
	#ELF32_M_SIZE
(
šfo
è(()(šfo))

	)

180 
	#ELF32_M_INFO
(
sym
, 
size
è(((sym)<<8)+()(size))

	)

186 
Elf32_WÜd
 
	mc_g
;

188 
Elf32_WÜd
 
	mc_v®
;

189 
Elf32_Addr
 
	mc_±r
;

190 } 
	mc_un
;

191 } 
	tElf32_C­
;

198 
Elf32_WÜd
 
	m¡_Çme
;

199 
Elf32_Addr
 
	m¡_v®ue
;

200 
Elf32_WÜd
 
	m¡_size
;

201 
	m¡_šfo
;

202 
	m¡_Ùh”
;

203 
Elf32_H®f
 
	m¡_shndx
;

204 } 
	tElf32_Sym
;

207 
	#ELF32_ST_BIND
(
šfo
è((šfoè>> 4)

	)

208 
	#ELF32_ST_TYPE
(
šfo
è((šfoè& 0xf)

	)

211 
	#ELF32_ST_INFO
(
bšd
, 
ty³
è(((bšdè<< 4è+ (Ñy³è& 0xf))

	)

214 
	#ELF32_ST_VISIBILITY
(
Ùh
è((Ùhè& 0x3)

	)

219 
Elf32_H®f
 
	mvd_v”siÚ
;

220 
Elf32_H®f
 
	mvd_æags
;

221 
Elf32_H®f
 
	mvd_ndx
;

222 
Elf32_H®f
 
	mvd_út
;

223 
Elf32_WÜd
 
	mvd_hash
;

224 
Elf32_WÜd
 
	mvd_aux
;

225 
Elf32_WÜd
 
	mvd_Ãxt
;

226 } 
	tElf32_V”def
;

230 
Elf32_WÜd
 
	mvda_Çme
;

231 
Elf32_WÜd
 
	mvda_Ãxt
;

232 } 
	tElf32_V”daux
;

236 
Elf32_H®f
 
	mvn_v”siÚ
;

237 
Elf32_H®f
 
	mvn_út
;

238 
Elf32_WÜd
 
	mvn_fže
;

239 
Elf32_WÜd
 
	mvn_aux
;

240 
Elf32_WÜd
 
	mvn_Ãxt
;

241 } 
	tElf32_V”Ãed
;

245 
Elf32_WÜd
 
	mvÇ_hash
;

246 
Elf32_H®f
 
	mvÇ_æags
;

247 
Elf32_H®f
 
	mvÇ_Ùh”
;

248 
Elf32_WÜd
 
	mvÇ_Çme
;

249 
Elf32_WÜd
 
	mvÇ_Ãxt
;

250 } 
	tElf32_V”Çux
;

252 
Elf32_H®f
 
	tElf32_V”sym
;

255 
Elf32_H®f
 
	msi_boundto
;

256 
Elf32_H®f
 
	msi_æags
;

257 } 
	tElf32_Symšfo
;

260 
Elf32_WÜd
 
	mch_ty³
;

261 
Elf32_WÜd
 
	mch_size
;

262 
Elf32_WÜd
 
	mch_add¿lign
;

263 } 
	tElf32_Chdr
;

	@/usr/include/sys/elf64.h

31 #iâdeà
_SYS_ELF64_H_


32 
	#_SYS_ELF64_H_
 1

	)

34 
	~<sys/–f_commÚ.h
>

40 
ušt64_t
 
	tElf64_Addr
;

41 
ušt16_t
 
	tElf64_H®f
;

42 
ušt64_t
 
	tElf64_Off
;

43 
št32_t
 
	tElf64_SwÜd
;

44 
št64_t
 
	tElf64_SxwÜd
;

45 
ušt32_t
 
	tElf64_WÜd
;

46 
ušt64_t
 
	tElf64_LwÜd
;

47 
ušt64_t
 
	tElf64_XwÜd
;

56 
Elf64_WÜd
 
	tElf64_Hash–t
;

59 
Elf64_XwÜd
 
	tElf64_Size
;

60 
Elf64_SxwÜd
 
	tElf64_Ssize
;

67 
	me_id’t
[
EI_NIDENT
];

68 
Elf64_H®f
 
	me_ty³
;

69 
Elf64_H®f
 
	me_machše
;

70 
Elf64_WÜd
 
	me_v”siÚ
;

71 
Elf64_Addr
 
	me_’Œy
;

72 
Elf64_Off
 
	me_phoff
;

73 
Elf64_Off
 
	me_shoff
;

74 
Elf64_WÜd
 
	me_æags
;

75 
Elf64_H®f
 
	me_ehsize
;

76 
Elf64_H®f
 
	me_ph’tsize
;

77 
Elf64_H®f
 
	me_phnum
;

78 
Elf64_H®f
 
	me_sh’tsize
;

79 
Elf64_H®f
 
	me_shnum
;

80 
Elf64_H®f
 
	me_sh¡ºdx
;

81 } 
	tElf64_Ehdr
;

88 
Elf64_WÜd
 
	ml_Çme
;

89 
Elf64_WÜd
 
	ml_time_¡amp
;

90 
Elf64_WÜd
 
	ml_checksum
;

91 
Elf64_WÜd
 
	ml_v”siÚ
;

92 
Elf64_WÜd
 
	ml_æags
;

93 } 
	tElf64_Lib
;

100 
Elf64_WÜd
 
	msh_Çme
;

102 
Elf64_WÜd
 
	msh_ty³
;

103 
Elf64_XwÜd
 
	msh_æags
;

104 
Elf64_Addr
 
	msh_addr
;

105 
Elf64_Off
 
	msh_off£t
;

106 
Elf64_XwÜd
 
	msh_size
;

107 
Elf64_WÜd
 
	msh_lšk
;

108 
Elf64_WÜd
 
	msh_šfo
;

109 
Elf64_XwÜd
 
	msh_add¿lign
;

110 
Elf64_XwÜd
 
	msh_’tsize
;

111 } 
	tElf64_Shdr
;

118 
Elf64_WÜd
 
	mp_ty³
;

119 
Elf64_WÜd
 
	mp_æags
;

120 
Elf64_Off
 
	mp_off£t
;

121 
Elf64_Addr
 
	mp_vaddr
;

122 
Elf64_Addr
 
	mp_·ddr
;

123 
Elf64_XwÜd
 
	mp_fžesz
;

124 
Elf64_XwÜd
 
	mp_memsz
;

125 
Elf64_XwÜd
 
	mp_®ign
;

126 } 
	tElf64_Phdr
;

133 
Elf64_SxwÜd
 
	md_g
;

135 
Elf64_XwÜd
 
	md_v®
;

136 
Elf64_Addr
 
	md_±r
;

137 } 
	md_un
;

138 } 
	tElf64_Dyn
;

146 
Elf64_Addr
 
	mr_off£t
;

147 
Elf64_XwÜd
 
	mr_šfo
;

148 } 
	tElf64_R–
;

152 
Elf64_Addr
 
	mr_off£t
;

153 
Elf64_XwÜd
 
	mr_šfo
;

154 
Elf64_SxwÜd
 
	mr_add’d
;

155 } 
	tElf64_R–a
;

158 
	#ELF64_R_SYM
(
šfo
è((šfoè>> 32)

	)

159 
	#ELF64_R_TYPE
(
šfo
è((šfoè& 0xffffffffL)

	)

162 
	#ELF64_R_INFO
(
sym
, 
ty³
è(((symè<< 32è+ (Ñy³è& 0xffffffffL))

	)

164 
	#ELF64_R_TYPE_DATA
(
šfo
è(((
Elf64_XwÜd
)(šfo)<<32)>>40)

	)

165 
	#ELF64_R_TYPE_ID
(
šfo
è(((
Elf64_XwÜd
)(šfo)<<56)>>56)

	)

166 
	#ELF64_R_TYPE_INFO
(
d©a
, 
ty³
) \

167 (((
Elf64_XwÜd
)(
d©a
)<<8)+(Elf64_XwÜd)(
ty³
))

	)

172 
Elf_NÙe
 
	tElf64_Nhdr
;

178 
Elf64_LwÜd
 
	mm_v®ue
;

179 
Elf64_XwÜd
 
	mm_šfo
;

180 
Elf64_XwÜd
 
	mm_poff£t
;

181 
Elf64_H®f
 
	mm_»³©
;

182 
Elf64_H®f
 
	mm_¡ride
;

183 } 
	tElf64_Move
;

185 
	#ELF64_M_SYM
(
šfo
è((šfo)>>8)

	)

186 
	#ELF64_M_SIZE
(
šfo
è(()(šfo))

	)

187 
	#ELF64_M_INFO
(
sym
, 
size
è(((sym)<<8)+()(size))

	)

193 
Elf64_XwÜd
 
	mc_g
;

195 
Elf64_XwÜd
 
	mc_v®
;

196 
Elf64_Addr
 
	mc_±r
;

197 } 
	mc_un
;

198 } 
	tElf64_C­
;

205 
Elf64_WÜd
 
	m¡_Çme
;

206 
	m¡_šfo
;

207 
	m¡_Ùh”
;

208 
Elf64_H®f
 
	m¡_shndx
;

209 
Elf64_Addr
 
	m¡_v®ue
;

210 
Elf64_XwÜd
 
	m¡_size
;

211 } 
	tElf64_Sym
;

214 
	#ELF64_ST_BIND
(
šfo
è((šfoè>> 4)

	)

215 
	#ELF64_ST_TYPE
(
šfo
è((šfoè& 0xf)

	)

218 
	#ELF64_ST_INFO
(
bšd
, 
ty³
è(((bšdè<< 4è+ (Ñy³è& 0xf))

	)

221 
	#ELF64_ST_VISIBILITY
(
Ùh
è((Ùhè& 0x3)

	)

225 
Elf64_H®f
 
	mvd_v”siÚ
;

226 
Elf64_H®f
 
	mvd_æags
;

227 
Elf64_H®f
 
	mvd_ndx
;

228 
Elf64_H®f
 
	mvd_út
;

229 
Elf64_WÜd
 
	mvd_hash
;

230 
Elf64_WÜd
 
	mvd_aux
;

231 
Elf64_WÜd
 
	mvd_Ãxt
;

232 } 
	tElf64_V”def
;

235 
Elf64_WÜd
 
	mvda_Çme
;

236 
Elf64_WÜd
 
	mvda_Ãxt
;

237 } 
	tElf64_V”daux
;

240 
Elf64_H®f
 
	mvn_v”siÚ
;

241 
Elf64_H®f
 
	mvn_út
;

242 
Elf64_WÜd
 
	mvn_fže
;

243 
Elf64_WÜd
 
	mvn_aux
;

244 
Elf64_WÜd
 
	mvn_Ãxt
;

245 } 
	tElf64_V”Ãed
;

248 
Elf64_WÜd
 
	mvÇ_hash
;

249 
Elf64_H®f
 
	mvÇ_æags
;

250 
Elf64_H®f
 
	mvÇ_Ùh”
;

251 
Elf64_WÜd
 
	mvÇ_Çme
;

252 
Elf64_WÜd
 
	mvÇ_Ãxt
;

253 } 
	tElf64_V”Çux
;

255 
Elf64_H®f
 
	tElf64_V”sym
;

258 
Elf64_H®f
 
	msi_boundto
;

259 
Elf64_H®f
 
	msi_æags
;

260 } 
	tElf64_Symšfo
;

263 
Elf64_WÜd
 
	mch_ty³
;

264 
Elf64_WÜd
 
	mch_»£rved
;

265 
Elf64_XwÜd
 
	mch_size
;

266 
Elf64_XwÜd
 
	mch_add¿lign
;

267 } 
	tElf64_Chdr
;

	@/usr/include/sys/elf_generic.h

31 #iâdeà
_SYS_ELF_GENERIC_H_


32 
	#_SYS_ELF_GENERIC_H_
 1

	)

34 
	~<sys/cdefs.h
>

41 #ià
__ELF_WORD_SIZE
 != 32 && __ELF_WORD_SIZE != 64

45 
	#ELF_CLASS
 
	`__CONCAT
(
ELFCLASS
,
__ELF_WORD_SIZE
)

	)

47 #ià
BYTE_ORDER
 =ð
LITTLE_ENDIAN


48 
	#ELF_DATA
 
ELFDATA2LSB


	)

49 #–ià
BYTE_ORDER
 =ð
BIG_ENDIAN


50 
	#ELF_DATA
 
ELFDATA2MSB


	)

55 
	#__–fN
(
x
è
	`__CONCAT
(__CONCAT(__CONCAT(
–f
,
__ELF_WORD_SIZE
),
_
),x)

	)

56 
	#__ElfN
(
x
è
	`__CONCAT
(__CONCAT(__CONCAT(
Elf
,
__ELF_WORD_SIZE
),
_
),x)

	)

57 
	#__ELFN
(
x
è
	`__CONCAT
(__CONCAT(__CONCAT(
ELF
,
__ELF_WORD_SIZE
),
_
),x)

	)

58 
	#__ElfTy³
(
x
è
	`__ElfN
(
	tx
è
	t__CONCAT
(
	tElf_
,x)

	)

60 
	t__ElfTy³
(
	tAddr
);

61 
__ElfTy³
(
H®f
);

62 
__ElfTy³
(
Off
);

63 
__ElfTy³
(
SwÜd
);

64 
__ElfTy³
(
WÜd
);

65 
__ElfTy³
(
Ehdr
);

66 
__ElfTy³
(
Shdr
);

67 
__ElfTy³
(
Phdr
);

68 
__ElfTy³
(
Dyn
);

69 
__ElfTy³
(
R–
);

70 
__ElfTy³
(
R–a
);

71 
__ElfTy³
(
Sym
);

72 
__ElfTy³
(
V”def
);

73 
__ElfTy³
(
V”daux
);

74 
__ElfTy³
(
V”Ãed
);

75 
__ElfTy³
(
V”Çux
);

76 
__ElfTy³
(
V”sym
);

79 
__ElfTy³
(
Hash–t
);

80 
__ElfTy³
(
Size
);

81 
__ElfTy³
(
Ssize
);

83 
	#ELF_R_SYM
 
	`__ELFN
(
R_SYM
)

	)

84 
	#ELF_R_TYPE
 
	`__ELFN
(
R_TYPE
)

	)

85 
	#ELF_R_INFO
 
	`__ELFN
(
R_INFO
)

	)

86 
	#ELF_ST_BIND
 
	`__ELFN
(
ST_BIND
)

	)

87 
	#ELF_ST_TYPE
 
	`__ELFN
(
ST_TYPE
)

	)

88 
	#ELF_ST_INFO
 
	`__ELFN
(
ST_INFO
)

	)

89 
	#ELF_ST_VISIBILITY
 
	`__ELFN
(
ST_VISIBILITY
)

	)

	@/usr/include/sys/endian.h

31 #iâdeà
_SYS_ENDIAN_H_


32 
	#_SYS_ENDIAN_H_


	)

34 
	~<sys/cdefs.h
>

35 
	~<sys/_ty³s.h
>

36 
	~<machše/’dŸn.h
>

38 #iâdeà
_UINT8_T_DECLARED


39 
__ušt8_t
 
	tušt8_t
;

40 
	#_UINT8_T_DECLARED


	)

43 #iâdeà
_UINT16_T_DECLARED


44 
__ušt16_t
 
	tušt16_t
;

45 
	#_UINT16_T_DECLARED


	)

48 #iâdeà
_UINT32_T_DECLARED


49 
__ušt32_t
 
	tušt32_t
;

50 
	#_UINT32_T_DECLARED


	)

53 #iâdeà
_UINT64_T_DECLARED


54 
__ušt64_t
 
	tušt64_t
;

55 
	#_UINT64_T_DECLARED


	)

61 
	#bsw­16
(
x
è
	`__bsw­16
(x)

	)

62 
	#bsw­32
(
x
è
	`__bsw­32
(x)

	)

63 
	#bsw­64
(
x
è
	`__bsw­64
(x)

	)

69 #ià
_BYTE_ORDER
 =ð
_LITTLE_ENDIAN


70 
	#htobe16
(
x
è
	`bsw­16
((x))

	)

71 
	#htobe32
(
x
è
	`bsw­32
((x))

	)

72 
	#htobe64
(
x
è
	`bsw­64
((x))

	)

73 
	#htÞe16
(
x
è((
ušt16_t
)(x))

	)

74 
	#htÞe32
(
x
è((
ušt32_t
)(x))

	)

75 
	#htÞe64
(
x
è((
ušt64_t
)(x))

	)

77 
	#be16toh
(
x
è
	`bsw­16
((x))

	)

78 
	#be32toh
(
x
è
	`bsw­32
((x))

	)

79 
	#be64toh
(
x
è
	`bsw­64
((x))

	)

80 
	#Ë16toh
(
x
è((
ušt16_t
)(x))

	)

81 
	#Ë32toh
(
x
è((
ušt32_t
)(x))

	)

82 
	#Ë64toh
(
x
è((
ušt64_t
)(x))

	)

84 
	#htobe16
(
x
è((
ušt16_t
)(x))

	)

85 
	#htobe32
(
x
è((
ušt32_t
)(x))

	)

86 
	#htobe64
(
x
è((
ušt64_t
)(x))

	)

87 
	#htÞe16
(
x
è
	`bsw­16
((x))

	)

88 
	#htÞe32
(
x
è
	`bsw­32
((x))

	)

89 
	#htÞe64
(
x
è
	`bsw­64
((x))

	)

91 
	#be16toh
(
x
è((
ušt16_t
)(x))

	)

92 
	#be32toh
(
x
è((
ušt32_t
)(x))

	)

93 
	#be64toh
(
x
è((
ušt64_t
)(x))

	)

94 
	#Ë16toh
(
x
è
	`bsw­16
((x))

	)

95 
	#Ë32toh
(
x
è
	`bsw­32
((x))

	)

96 
	#Ë64toh
(
x
è
	`bsw­64
((x))

	)

101 
__šlše
 
ušt16_t


102 
	$be16dec
(cÚ¡ *
µ
)

104 
ušt8_t
 cÚ¡ *
p
 = (ušt8_ˆcÚ¡ *)
µ
;

106  ((
p
[0] << 8) |…[1]);

107 
	}
}

109 
__šlše
 
ušt32_t


110 
	$be32dec
(cÚ¡ *
µ
)

112 
ušt8_t
 cÚ¡ *
p
 = (ušt8_ˆcÚ¡ *)
µ
;

114  ((()
p
[0] << 24) | (p[1] << 16) | (p[2] << 8) |…[3]);

115 
	}
}

117 
__šlše
 
ušt64_t


118 
	$be64dec
(cÚ¡ *
µ
)

120 
ušt8_t
 cÚ¡ *
p
 = (ušt8_ˆcÚ¡ *)
µ
;

122  (((
ušt64_t
)
	`be32dec
(
p
) << 32) | be32dec(p + 4));

123 
	}
}

125 
__šlše
 
ušt16_t


126 
	$Ë16dec
(cÚ¡ *
µ
)

128 
ušt8_t
 cÚ¡ *
p
 = (ušt8_ˆcÚ¡ *)
µ
;

130  ((
p
[1] << 8) |…[0]);

131 
	}
}

133 
__šlše
 
ušt32_t


134 
	$Ë32dec
(cÚ¡ *
µ
)

136 
ušt8_t
 cÚ¡ *
p
 = (ušt8_ˆcÚ¡ *)
µ
;

138  ((()
p
[3] << 24) | (p[2] << 16) | (p[1] << 8) |…[0]);

139 
	}
}

141 
__šlše
 
ušt64_t


142 
	$Ë64dec
(cÚ¡ *
µ
)

144 
ušt8_t
 cÚ¡ *
p
 = (ušt8_ˆcÚ¡ *)
µ
;

146  (((
ušt64_t
)
	`Ë32dec
(
p
 + 4) << 32) |†e32dec(p));

147 
	}
}

149 
__šlše
 

150 
	$be16’c
(*
µ
, 
ušt16_t
 
u
)

152 
ušt8_t
 *
p
 = (ušt8_ˆ*)
µ
;

154 
p
[0] = (
u
 >> 8) & 0xff;

155 
p
[1] = 
u
 & 0xff;

156 
	}
}

158 
__šlše
 

159 
	$be32’c
(*
µ
, 
ušt32_t
 
u
)

161 
ušt8_t
 *
p
 = (ušt8_ˆ*)
µ
;

163 
p
[0] = (
u
 >> 24) & 0xff;

164 
p
[1] = (
u
 >> 16) & 0xff;

165 
p
[2] = (
u
 >> 8) & 0xff;

166 
p
[3] = 
u
 & 0xff;

167 
	}
}

169 
__šlše
 

170 
	$be64’c
(*
µ
, 
ušt64_t
 
u
)

172 
ušt8_t
 *
p
 = (ušt8_ˆ*)
µ
;

174 
	`be32’c
(
p
, (
ušt32_t
)(
u
 >> 32));

175 
	`be32’c
(
p
 + 4, (
ušt32_t
)(
u
 & 0xffffffffU));

176 
	}
}

178 
__šlše
 

179 
	$Ë16’c
(*
µ
, 
ušt16_t
 
u
)

181 
ušt8_t
 *
p
 = (ušt8_ˆ*)
µ
;

183 
p
[0] = 
u
 & 0xff;

184 
p
[1] = (
u
 >> 8) & 0xff;

185 
	}
}

187 
__šlše
 

188 
	$Ë32’c
(*
µ
, 
ušt32_t
 
u
)

190 
ušt8_t
 *
p
 = (ušt8_ˆ*)
µ
;

192 
p
[0] = 
u
 & 0xff;

193 
p
[1] = (
u
 >> 8) & 0xff;

194 
p
[2] = (
u
 >> 16) & 0xff;

195 
p
[3] = (
u
 >> 24) & 0xff;

196 
	}
}

198 
__šlše
 

199 
	$Ë64’c
(*
µ
, 
ušt64_t
 
u
)

201 
ušt8_t
 *
p
 = (ušt8_ˆ*)
µ
;

203 
	`Ë32’c
(
p
, (
ušt32_t
)(
u
 & 0xffffffffU));

204 
	`Ë32’c
(
p
 + 4, (
ušt32_t
)(
u
 >> 32));

205 
	}
}

	@/usr/include/sys/errno.h

40 #iâdeà
_SYS_ERRNO_H_


41 
	#_SYS_ERRNO_H_


	)

43 #ià!
defšed
(
_KERNEL
è&& !defšed(
_STANDALONE
)

44 
	~<sys/cdefs.h
>

45 
__BEGIN_DECLS


46 * 
__”rÜ
();

47 
	g__END_DECLS


48 
	#”ºo
 (* 
	`__”rÜ
())

	)

51 
	#EPERM
 1

	)

52 
	#ENOENT
 2

	)

53 
	#ESRCH
 3

	)

54 
	#EINTR
 4

	)

55 
	#EIO
 5

	)

56 
	#ENXIO
 6

	)

57 
	#E2BIG
 7

	)

58 
	#ENOEXEC
 8

	)

59 
	#EBADF
 9

	)

60 
	#ECHILD
 10

	)

61 
	#EDEADLK
 11

	)

63 
	#ENOMEM
 12

	)

64 
	#EACCES
 13

	)

65 
	#EFAULT
 14

	)

66 #iâdeà
_POSIX_SOURCE


67 
	#ENOTBLK
 15

	)

69 
	#EBUSY
 16

	)

70 
	#EEXIST
 17

	)

71 
	#EXDEV
 18

	)

72 
	#ENODEV
 19

	)

73 
	#ENOTDIR
 20

	)

74 
	#EISDIR
 21

	)

75 
	#EINVAL
 22

	)

76 
	#ENFILE
 23

	)

77 
	#EMFILE
 24

	)

78 
	#ENOTTY
 25

	)

79 #iâdeà
_POSIX_SOURCE


80 
	#ETXTBSY
 26

	)

82 
	#EFBIG
 27

	)

83 
	#ENOSPC
 28

	)

84 
	#ESPIPE
 29

	)

85 
	#EROFS
 30

	)

86 
	#EMLINK
 31

	)

87 
	#EPIPE
 32

	)

90 
	#EDOM
 33

	)

91 
	#ERANGE
 34

	)

94 
	#EAGAIN
 35

	)

95 #iâdeà
_POSIX_SOURCE


96 
	#EWOULDBLOCK
 
EAGAIN


	)

97 
	#EINPROGRESS
 36

	)

98 
	#EALREADY
 37

	)

101 
	#ENOTSOCK
 38

	)

102 
	#EDESTADDRREQ
 39

	)

103 
	#EMSGSIZE
 40

	)

104 
	#EPROTOTYPE
 41

	)

105 
	#ENOPROTOOPT
 42

	)

106 
	#EPROTONOSUPPORT
 43

	)

107 
	#ESOCKTNOSUPPORT
 44

	)

108 
	#EOPNOTSUPP
 45

	)

109 
	#ENOTSUP
 
EOPNOTSUPP


	)

110 
	#EPFNOSUPPORT
 46

	)

111 
	#EAFNOSUPPORT
 47

	)

112 
	#EADDRINUSE
 48

	)

113 
	#EADDRNOTAVAIL
 49

	)

116 
	#ENETDOWN
 50

	)

117 
	#ENETUNREACH
 51

	)

118 
	#ENETRESET
 52

	)

119 
	#ECONNABORTED
 53

	)

120 
	#ECONNRESET
 54

	)

121 
	#ENOBUFS
 55

	)

122 
	#EISCONN
 56

	)

123 
	#ENOTCONN
 57

	)

124 
	#ESHUTDOWN
 58

	)

125 
	#ETOOMANYREFS
 59

	)

126 
	#ETIMEDOUT
 60

	)

127 
	#ECONNREFUSED
 61

	)

129 
	#ELOOP
 62

	)

131 
	#ENAMETOOLONG
 63

	)

134 #iâdeà
_POSIX_SOURCE


135 
	#EHOSTDOWN
 64

	)

136 
	#EHOSTUNREACH
 65

	)

138 
	#ENOTEMPTY
 66

	)

141 #iâdeà
_POSIX_SOURCE


142 
	#EPROCLIM
 67

	)

143 
	#EUSERS
 68

	)

144 
	#EDQUOT
 69

	)

147 
	#ESTALE
 70

	)

148 
	#EREMOTE
 71

	)

149 
	#EBADRPC
 72

	)

150 
	#ERPCMISMATCH
 73

	)

151 
	#EPROGUNAVAIL
 74

	)

152 
	#EPROGMISMATCH
 75

	)

153 
	#EPROCUNAVAIL
 76

	)

156 
	#ENOLCK
 77

	)

157 
	#ENOSYS
 78

	)

159 #iâdeà
_POSIX_SOURCE


160 
	#EFTYPE
 79

	)

161 
	#EAUTH
 80

	)

162 
	#ENEEDAUTH
 81

	)

163 
	#EIDRM
 82

	)

164 
	#ENOMSG
 83

	)

165 
	#EOVERFLOW
 84

	)

166 
	#ECANCELED
 85

	)

167 
	#EILSEQ
 86

	)

168 
	#ENOATTR
 87

	)

170 
	#EDOOFUS
 88

	)

173 
	#EBADMSG
 89

	)

174 
	#EMULTIHOP
 90

	)

175 
	#ENOLINK
 91

	)

176 
	#EPROTO
 92

	)

178 #iâdeà
_POSIX_SOURCE


179 
	#ENOTCAPABLE
 93

	)

180 
	#ECAPMODE
 94

	)

181 
	#ENOTRECOVERABLE
 95

	)

182 
	#EOWNERDEAD
 96

	)

185 #iâdeà
_POSIX_SOURCE


186 
	#ELAST
 96

	)

189 #ià
defšed
(
_KERNEL
è|| defšed(
_WANT_KERNEL_ERRNO
)

191 
	#ERESTART
 (-1è

	)

192 
	#EJUSTRETURN
 (-2è

	)

193 
	#ENOIOCTL
 (-3è

	)

194 
	#EDIRIOCTL
 (-4è

	)

195 
	#ERELOOKUP
 (-5è

	)

198 #iâdeà
_KERNEL


199 #ià
__EXT1_VISIBLE


201 #iâdeà
_ERRNO_T_DEFINED


202 
	#_ERRNO_T_DEFINED


	)

203 
	t”ºo_t
;

	@/usr/include/sys/fbio.h

40 #iâdeà
_SYS_FBIO_H_


41 
	#_SYS_FBIO_H_


	)

43 #iâdeà
_KERNEL


44 
	~<sys/ty³s.h
>

46 
	~<sys/·¿m.h
>

47 
	~<sys/sy¡m.h
>

48 
	~<sys/ev’thªdËr.h
>

50 
	~<sys/ioccom.h
>

59 
	#FBTYPE_SUN1BW
 0

	)

60 
	#FBTYPE_SUN1COLOR
 1

	)

61 
	#FBTYPE_SUN2BW
 2

	)

62 
	#FBTYPE_SUN2COLOR
 3

	)

63 
	#FBTYPE_SUN2GP
 4

	)

64 
	#FBTYPE_SUN5COLOR
 5

	)

65 
	#FBTYPE_SUN3COLOR
 6

	)

66 
	#FBTYPE_MEMCOLOR
 7

	)

67 
	#FBTYPE_SUN4COLOR
 8

	)

69 
	#FBTYPE_NOTSUN1
 9

	)

70 
	#FBTYPE_NOTSUN2
 10

	)

71 
	#FBTYPE_PCIMISC
 11

	)

73 
	#FBTYPE_SUNFAST_COLOR
 12

	)

74 
	#FBTYPE_SUNROP_COLOR
 13

	)

75 
	#FBTYPE_SUNFB_VIDEO
 14

	)

76 
	#FBTYPE_RESERVED5
 15

	)

77 
	#FBTYPE_RESERVED4
 16

	)

78 
	#FBTYPE_SUNGP3
 17

	)

79 
	#FBTYPE_SUNGT
 18

	)

80 
	#FBTYPE_SUNLEO
 19

	)

82 
	#FBTYPE_MDA
 20

	)

83 
	#FBTYPE_HERCULES
 21

	)

84 
	#FBTYPE_CGA
 22

	)

85 
	#FBTYPE_EGA
 23

	)

86 
	#FBTYPE_VGA
 24

	)

87 
	#FBTYPE_TGA
 26

	)

88 
	#FBTYPE_TGA2
 27

	)

90 
	#FBTYPE_MDICOLOR
 28

	)

91 
	#FBTYPE_TCXCOLOR
 29

	)

92 
	#FBTYPE_CREATOR
 30

	)

94 
	#FBTYPE_LASTPLUSONE
 31

	)

99 
	sfbty³
 {

100 
	mfb_ty³
;

101 
	mfb_height
;

102 
	mfb_width
;

103 
	mfb_d•th
;

104 
	mfb_cmsize
;

105 
	mfb_size
;

107 
	#FBIOGTYPE
 
	`_IOR
('F', 0, 
fbty³
)

	)

109 
	#FBTYPE_GET_STRIDE
(
_fb
è((_fb)->
fb_size
 / (_fb)->
fb_height
)

	)

110 
	#FBTYPE_GET_BPP
(
_fb
è((_fb)->
fb_bµ
)

	)

111 
	#FBTYPE_GET_BYTESPP
(
_fb
è((_fb)->
fb_bµ
 / 8)

	)

113 #ifdef 
_KERNEL


115 
	gfb_šfo
;

117 
	tfb_’‹r_t
(*
	t´iv
);

118 
	tfb_Ëave_t
(*
	t´iv
);

119 
	tfb_£tbÏnkmode_t
(*
	t´iv
, 
	tmode
);

121 
	sfb_šfo
 {

123 
	mfb_ty³
;

124 
	mfb_height
;

125 
	mfb_width
;

126 
	mfb_d•th
;

127 
	mfb_cmsize
;

128 
	mfb_size
;

130 
cdev
 *
	mfb_cdev
;

132 
deviû_t
 
	mfb_fbd_dev
;

133 
deviû_t
 
	mfb_video_dev
;

135 
fb_’‹r_t
 *
	m’‹r
;

136 
fb_Ëave_t
 *
	mËave
;

137 
fb_£tbÏnkmode_t
 *
	m£tbÏnkmode
;

139 
ušŒ_t
 
	mfb_pba£
;

140 
ušŒ_t
 
	mfb_vba£
;

141 *
	mfb_´iv
;

142 cÚ¡ *
	mfb_Çme
;

143 
ušt32_t
 
	mfb_æags
;

144 
	#FB_FLAG_NOMMAP
 1

	)

145 
	#FB_FLAG_NOWRITE
 2

	)

146 
	#FB_FLAG_MEMATTR
 4

	)

147 
vm_mem©Œ_t
 
	mfb_mem©Œ
;

148 
	mfb_¡ride
;

149 
	mfb_bµ
;

150 
ušt32_t
 
	mfb_cm­
[16];

153 
fbd_li¡
();

154 
fbd_»gi¡”
(
fb_šfo
 *);

155 
fbd_uÄegi¡”
(
fb_šfo
 *);

157 
šlše
 

158 
	$»gi¡”_äamebufãr
(
fb_šfo
 *
šfo
)

161 
	`EVENTHANDLER_INVOKE
(
»gi¡”_äamebufãr
, 
šfo
);

163 
	}
}

165 
šlše
 

166 
	$uÄegi¡”_äamebufãr
(
fb_šfo
 *
šfo
)

169 
	`EVENTHANDLER_INVOKE
(
uÄegi¡”_äamebufãr
, 
šfo
);

171 
	}
}

174 #ifdeà
nÙdef


179 
	sfbšfo
 {

180 
	mfb_phy§ddr
;

181 
	mfb_hwwidth
;

182 
	mfb_hwheight
;

183 
	mfb_addrd–
;

184 
u_ch¬
 *
	mfb_rÝaddr
;

185 
	mfb_un™
;

187 
	#FBIOGINFO
 
	`_IOR
('F', 2, 
fbšfo
)

	)

193 
	sfbcm­
 {

194 
	mšdex
;

195 
	mcouÁ
;

196 
u_ch¬
 *
	m»d
;

197 
u_ch¬
 *
	mg»’
;

198 
u_ch¬
 *
	mblue
;

200 
	#FBIOPUTCMAP
 
	`_IOW
('F', 3, 
fbcm­
)

	)

201 
	#FBIOGETCMAP
 
	`_IOW
('F', 4, 
fbcm­
)

	)

206 
	#FB_ATTR_NDEVSPECIFIC
 8

	)

207 
	#FB_ATTR_NEMUTYPES
 4

	)

209 
	sfb§‰r
 {

210 
	mæags
;

211 
	memu_ty³
;

212 
	mdev_¥ecific
[
FB_ATTR_NDEVSPECIFIC
];

214 
	#FB_ATTR_AUTOINIT
 1

	)

215 
	#FB_ATTR_DEVSPECIFIC
 2

	)

217 
	sfbg©Œ
 {

218 
	m»®_ty³
;

219 
	mowÃr
;

220 
fbty³
 
	mfbty³
;

221 
fb§‰r
 
	m§‰r
;

222 
	memu_ty³s
[
FB_ATTR_NEMUTYPES
];

225 
	#FBIOSATTR
 
	`_IOW
('F', 5, 
fb§‰r
)

	)

226 
	#FBIOGATTR
 
	`_IOR
('F', 6, 
fbg©Œ
)

	)

231 
	#FBVIDEO_OFF
 0

	)

232 
	#FBVIDEO_ON
 1

	)

234 
	#FBIOSVIDEO
 
	`_IOW
('F', 7, )

	)

235 
	#FBIOGVIDEO
 
	`_IOR
('F', 8, )

	)

238 
	#FBIOVERTICAL
 
	`_IO
('F', 9)

	)

244 
	sfbcu½os
 {

245 
	mx
;

246 
	my
;

249 
	sfbcursÜ
 {

250 
	m£t
;

251 
	m’abË
;

252 
fbcu½os
 
	mpos
;

253 
fbcu½os
 
	mhÙ
;

254 
fbcm­
 
	mcm­
;

255 
fbcu½os
 
	msize
;

256 
ÿddr_t
 
	mimage
;

257 
ÿddr_t
 
	mmask
;

259 
	#FB_CUR_SETCUR
 0x01

	)

260 
	#FB_CUR_SETPOS
 0x02

	)

261 
	#FB_CUR_SETHOT
 0x04

	)

262 
	#FB_CUR_SETCMAP
 0x08

	)

263 
	#FB_CUR_SETSHAPE
 0x10

	)

264 
	#FB_CUR_SETALL
 (
FB_CUR_SETCUR
 | 
FB_CUR_SETPOS
 | 
FB_CUR_SETHOT
 | \

265 
FB_CUR_SETCMAP
 | 
FB_CUR_SETSHAPE
)

	)

268 
	#FBIOSCURSOR
 
	`_IOW
('F', 24, 
fbcursÜ
)

	)

269 
	#FBIOGCURSOR
 
	`_IOWR
('F', 25, 
fbcursÜ
)

	)

272 
	#FBIOSCURPOS
 
	`_IOW
('F', 26, 
fbcu½os
)

	)

273 
	#FBIOGCURPOS
 
	`_IOW
('F', 27, 
fbcu½os
)

	)

276 
	#FBIOGCURMAX
 
	`_IOR
('F', 28, 
fbcu½os
)

	)

281 
	sbrd_šfo
 {

282 
u_shÜt
 
	macûssibË_width
;

283 
u_shÜt
 
	macûssibË_height
;

284 
u_shÜt
 
	mlše_by‹s
;

285 
u_shÜt
 
	mhdb_ÿ·bË
;

286 
u_shÜt
 
	mvmsize
;

287 
u_ch¬
 
	mbßrd»v
;

288 
u_ch¬
 
	m·d0
;

289 
u_lÚg
 
	m·d1
;

291 
	#FBIOGXINFO
 
	`_IOR
('F', 39, 
brd_šfo
)

	)

296 
	smÚ_šfo
 {

297 
u_lÚg
 
	mmÚ_ty³
;

298 
	#MON_TYPE_STEREO
 0x8

	)

299 
	#MON_TYPE_0_OFFSET
 0x4

	)

300 
	#MON_TYPE_OVERSCAN
 0x2

	)

301 
	#MON_TYPE_GRAY
 0x1

	)

302 
u_lÚg
 
	mpixäeq
;

303 
u_lÚg
 
	mhäeq
;

304 
u_lÚg
 
	mväeq
;

305 
u_lÚg
 
	mvsync
;

306 
u_lÚg
 
	mhsync
;

308 
u_shÜt
 
	mhåÜch
;

309 
u_shÜt
 
	mhbpÜch
;

310 
u_shÜt
 
	mvåÜch
;

311 
u_shÜt
 
	mvbpÜch
;

313 
	#FBIOMONINFO
 
	`_IOR
('F', 40, 
mÚ_šfo
)

	)

318 
	sfbcm­_i
 {

319 
	mæags
;

320 
	#FB_CMAP_BLOCK
 (1 << 0è

	)

321 
	#FB_CMAP_KERNEL
 (1 << 1è

	)

322 
	mid
;

323 
	mšdex
;

324 
	mcouÁ
;

325 
u_ch¬
 *
	m»d
;

326 
u_ch¬
 *
	mg»’
;

327 
u_ch¬
 *
	mblue
;

329 
	#FBIOPUTCMAPI
 
	`_IOW
('F', 41, 
fbcm­_i
)

	)

330 
	#FBIOGETCMAPI
 
	`_IOW
('F', 42, 
fbcm­_i
)

	)

335 
	svideo_šfo
 {

336 
	mvi_mode
;

337 
	mvi_æags
;

338 
	#V_INFO_COLOR
 (1 << 0)

	)

339 
	#V_INFO_GRAPHICS
 (1 << 1)

	)

340 
	#V_INFO_LINEAR
 (1 << 2)

	)

341 
	#V_INFO_VESA
 (1 << 3)

	)

342 
	#V_INFO_NONVGA
 (1 << 4)

	)

343 
	#V_INFO_CWIDTH9
 (1 << 5)

	)

344 
	mvi_width
;

345 
	mvi_height
;

346 
	mvi_cwidth
;

347 
	mvi_cheight
;

348 
	mvi_d•th
;

349 
	mvi_¶ªes
;

350 
vm_off£t_t
 
	mvi_wšdow
;

351 
size_t
 
	mvi_wšdow_size
;

352 
size_t
 
	mvi_wšdow_g¿n
;

353 
vm_off£t_t
 
	mvi_bufãr
;

354 
size_t
 
	mvi_bufãr_size
;

355 
	mvi_mem_mod–
;

356 
	#V_INFO_MM_OTHER
 (-1)

	)

357 
	#V_INFO_MM_TEXT
 0

	)

358 
	#V_INFO_MM_PLANAR
 1

	)

359 
	#V_INFO_MM_PACKED
 2

	)

360 
	#V_INFO_MM_DIRECT
 3

	)

361 
	#V_INFO_MM_CGA
 100

	)

362 
	#V_INFO_MM_HGC
 101

	)

363 
	#V_INFO_MM_VGAX
 102

	)

365 
	mvi_pix–_size
;

367 
	mvi_pix–_f›lds
[4];

368 
	mvi_pix–_fsizes
[4];

370 
u_ch¬
 
	mvi_»£rved
[64];

371 
vm_off£t_t
 
	mvi_»gi¡”s
;

372 
vm_off£t_t
 
	mvi_»gi¡”s_size
;

374 
video_šfo
 
	tvideo_šfo_t
;

377 
	svideo_ad­‹r
 {

378 
	mva_šdex
;

379 
	mva_ty³
;

380 
	#KD_OTHER
 0

	)

381 
	#KD_MONO
 1

	)

382 
	#KD_HERCULES
 2

	)

383 
	#KD_CGA
 3

	)

384 
	#KD_EGA
 4

	)

385 
	#KD_VGA
 5

	)

386 
	#KD_TGA
 7

	)

387 
	#KD_TGA2
 8

	)

388 *
	mva_Çme
;

389 
	mva_un™
;

390 
	mva_mšÜ
;

391 
	mva_æags
;

392 
	#V_ADP_COLOR
 (1 << 0)

	)

393 
	#V_ADP_MODECHANGE
 (1 << 1)

	)

394 
	#V_ADP_STATESAVE
 (1 << 2)

	)

395 
	#V_ADP_STATELOAD
 (1 << 3)

	)

396 
	#V_ADP_FONT
 (1 << 4)

	)

397 
	#V_ADP_PALETTE
 (1 << 5)

	)

398 
	#V_ADP_BORDER
 (1 << 6)

	)

399 
	#V_ADP_VESA
 (1 << 7)

	)

400 
	#V_ADP_BOOTDISPLAY
 (1 << 8)

	)

401 
	#V_ADP_PROBED
 (1 << 16)

	)

402 
	#V_ADP_INITIALIZED
 (1 << 17)

	)

403 
	#V_ADP_REGISTERED
 (1 << 18)

	)

404 
	#V_ADP_ATTACHED
 (1 << 19)

	)

405 
	#V_ADP_DAC8
 (1 << 20)

	)

406 
	#V_ADP_CWIDTH9
 (1 << 21)

	)

407 
vm_off£t_t
 
	mva_io_ba£
;

408 
	mva_io_size
;

409 
vm_off£t_t
 
	mva_ütc_addr
;

410 
vm_off£t_t
 
	mva_mem_ba£
;

411 
	mva_mem_size
;

412 
vm_off£t_t
 
	mva_wšdow
;

413 
size_t
 
	mva_wšdow_size
;

414 
size_t
 
	mva_wšdow_g¿n
;

415 
u_št
 
	mva_wšdow_Üig
;

416 
vm_off£t_t
 
	mva_bufãr
;

417 
size_t
 
	mva_bufãr_size
;

418 
	mva_š™Ÿl_mode
;

419 
	mva_š™Ÿl_bios_mode
;

420 
	mva_mode
;

421 
video_šfo
 
	mva_šfo
;

422 
	mva_lše_width
;

424 
	mx
;

425 
	my
;

426 } 
	mva_di¥_¡¬t
;

427 *
	mva_tok’
;

428 
	mva_mod–
;

429 
	mva_l™Že_b™Ÿn
;

430 
	mva_l™Že_’dŸn
;

431 
	mva_bufãr_®Ÿs
;

432 
vm_off£t_t
 
	mva_»gi¡”s
;

433 
vm_off£t_t
 
	mva_»gi¡”s_size
;

435 
video_ad­‹r
 
	tvideo_ad­‹r_t
;

437 
	svideo_ad­‹r_šfo
 {

438 
	mva_šdex
;

439 
	mva_ty³
;

440 
	mva_Çme
[16];

441 
	mva_un™
;

442 
	mva_æags
;

443 
vm_off£t_t
 
	mva_io_ba£
;

444 
	mva_io_size
;

445 
vm_off£t_t
 
	mva_ütc_addr
;

446 
vm_off£t_t
 
	mva_mem_ba£
;

447 
	mva_mem_size
;

448 
vm_off£t_t
 
	mva_wšdow
;

449 
size_t
 
	mva_wšdow_size
;

450 
size_t
 
	mva_wšdow_g¿n
;

451 
vm_off£t_t
 
	mva_unu£d0
;

452 
size_t
 
	mva_bufãr_size
;

453 
	mva_š™Ÿl_mode
;

454 
	mva_š™Ÿl_bios_mode
;

455 
	mva_mode
;

456 
	mva_lše_width
;

458 
	mx
;

459 
	my
;

460 } 
	mva_di¥_¡¬t
;

461 
u_št
 
	mva_wšdow_Üig
;

463 
u_ch¬
 
	mva_»£rved
[64];

465 
video_ad­‹r_šfo
 
	tvideo_ad­‹r_šfo_t
;

468 
	#V_ADP_PRIMARY
 0

	)

469 
	#V_ADP_SECONDARY
 1

	)

473 
	#M_B40x25
 0

	)

474 
	#M_C40x25
 1

	)

475 
	#M_B80x25
 2

	)

476 
	#M_C80x25
 3

	)

477 
	#M_BG320
 4

	)

478 
	#M_CG320
 5

	)

479 
	#M_BG640
 6

	)

480 
	#M_EGAMONO80x25
 7

	)

481 
	#M_CG320_D
 13

	)

482 
	#M_CG640_E
 14

	)

483 
	#M_EGAMONOAPA
 15

	)

484 
	#M_CG640x350
 16

	)

485 
	#M_ENHMONOAPA2
 17

	)

486 
	#M_ENH_CG640
 18

	)

487 
	#M_ENH_B40x25
 19

	)

488 
	#M_ENH_C40x25
 20

	)

489 
	#M_ENH_B80x25
 21

	)

490 
	#M_ENH_C80x25
 22

	)

491 
	#M_VGA_C40x25
 23

	)

492 
	#M_VGA_C80x25
 24

	)

493 
	#M_VGA_M80x25
 25

	)

495 
	#M_VGA11
 26

	)

496 
	#M_BG640x480
 26

	)

497 
	#M_VGA12
 27

	)

498 
	#M_CG640x480
 27

	)

499 
	#M_VGA13
 28

	)

500 
	#M_VGA_CG320
 28

	)

502 
	#M_VGA_C80x50
 30

	)

503 
	#M_VGA_M80x50
 31

	)

504 
	#M_VGA_C80x30
 32

	)

505 
	#M_VGA_M80x30
 33

	)

506 
	#M_VGA_C80x60
 34

	)

507 
	#M_VGA_M80x60
 35

	)

508 
	#M_VGA_CG640
 36

	)

509 
	#M_VGA_MODEX
 37

	)

511 
	#M_VGA_C90x25
 40

	)

512 
	#M_VGA_M90x25
 41

	)

513 
	#M_VGA_C90x30
 42

	)

514 
	#M_VGA_M90x30
 43

	)

515 
	#M_VGA_C90x43
 44

	)

516 
	#M_VGA_M90x43
 45

	)

517 
	#M_VGA_C90x50
 46

	)

518 
	#M_VGA_M90x50
 47

	)

519 
	#M_VGA_C90x60
 48

	)

520 
	#M_VGA_M90x60
 49

	)

522 
	#M_ENH_B80x43
 0x70

	)

523 
	#M_ENH_C80x43
 0x71

	)

525 
	#M_HGC_P0
 0xe0

	)

526 
	#M_HGC_P1
 0xe1

	)

527 
	#M_MCA_MODE
 0xfà

	)

529 
	#M_TEXT_80x25
 200

	)

530 
	#M_TEXT_80x30
 201

	)

531 
	#M_TEXT_80x43
 202

	)

532 
	#M_TEXT_80x50
 203

	)

533 
	#M_TEXT_80x60
 204

	)

534 
	#M_TEXT_132x25
 205

	)

535 
	#M_TEXT_132x30
 206

	)

536 
	#M_TEXT_132x43
 207

	)

537 
	#M_TEXT_132x50
 208

	)

538 
	#M_TEXT_132x60
 209

	)

540 
	#M_VESA_BASE
 0x100

	)

541 
	#M_VESA_CG640x400
 0x100

	)

542 
	#M_VESA_CG640x480
 0x101

	)

543 
	#M_VESA_800x600
 0x102

	)

544 
	#M_VESA_CG800x600
 0x103

	)

545 
	#M_VESA_1024x768
 0x104

	)

546 
	#M_VESA_CG1024x768
 0x105

	)

547 
	#M_VESA_1280x1024
 0x106

	)

548 
	#M_VESA_CG1280x1024
 0x107

	)

549 
	#M_VESA_C80x60
 0x108

	)

550 
	#M_VESA_C132x25
 0x109

	)

551 
	#M_VESA_C132x43
 0x10¨

	)

552 
	#M_VESA_C132x50
 0x10b

	)

553 
	#M_VESA_C132x60
 0x10ø

	)

554 
	#M_VESA_32K_320
 0x10d

	)

555 
	#M_VESA_64K_320
 0x10

	)

556 
	#M_VESA_FULL_320
 0x10à

	)

557 
	#M_VESA_32K_640
 0x110

	)

558 
	#M_VESA_64K_640
 0x111

	)

559 
	#M_VESA_FULL_640
 0x112

	)

560 
	#M_VESA_32K_800
 0x113

	)

561 
	#M_VESA_64K_800
 0x114

	)

562 
	#M_VESA_FULL_800
 0x115

	)

563 
	#M_VESA_32K_1024
 0x116

	)

564 
	#M_VESA_64K_1024
 0x117

	)

565 
	#M_VESA_FULL_1024
 0x118

	)

566 
	#M_VESA_32K_1280
 0x119

	)

567 
	#M_VESA_64K_1280
 0x11¨

	)

568 
	#M_VESA_FULL_1280
 0x11b

	)

569 
	#M_VESA_MODE_MAX
 0x1ff

	)

571 
	svideo_di¥Ïy_¡¬t
 {

572 
	mx
;

573 
	my
;

575 
video_di¥Ïy_¡¬t
 
	tvideo_di¥Ïy_¡¬t_t
;

577 
	svideo_cÞÜ_·Ë‰e
 {

578 
	mšdex
;

579 
	mcouÁ
;

580 
u_ch¬
 *
	m»d
;

581 
u_ch¬
 *
	mg»’
;

582 
u_ch¬
 *
	mblue
;

583 
u_ch¬
 *
	mŒª¥¬’t
;

585 
video_cÞÜ_·Ë‰e
 
	tvideo_cÞÜ_·Ë‰e_t
;

588 
	#FBIO_ADAPTER
 
	`_IOR
('F', 100, )

	)

589 
	#FBIO_ADPTYPE
 
	`_IOR
('F', 101, )

	)

590 
	#FBIO_ADPINFO
 
	`_IOR
('F', 102, 
video_ad­‹r_šfo
)

	)

593 
	#FBIO_MODEINFO
 
	`_IOWR
('F', 103, 
video_šfo
)

	)

594 
	#FBIO_FINDMODE
 
	`_IOWR
('F', 104, 
video_šfo
)

	)

595 
	#FBIO_GETMODE
 
	`_IOR
('F', 105, )

	)

596 
	#FBIO_SETMODE
 
	`_IOW
('F', 106, )

	)

599 
	#FBIO_GETWINORG
 
	`_IOR
('F', 107, 
u_št
)

	)

600 
	#FBIO_SETWINORG
 
	`_IOW
('F', 108, 
u_št
)

	)

603 
	#FBIO_GETDISPSTART
 
	`_IOR
('F', 109, 
video_di¥Ïy_¡¬t_t
)

	)

604 
	#FBIO_SETDISPSTART
 
	`_IOW
('F', 110, 
video_di¥Ïy_¡¬t_t
)

	)

607 
	#FBIO_GETLINEWIDTH
 
	`_IOR
('F', 111, 
u_št
)

	)

608 
	#FBIO_SETLINEWIDTH
 
	`_IOW
('F', 112, 
u_št
)

	)

611 
	#FBIO_GETPALETTE
 
	`_IOW
('F', 113, 
video_cÞÜ_·Ë‰e_t
)

	)

612 
	#FBIO_SETPALETTE
 
	`_IOW
('F', 114, 
video_cÞÜ_·Ë‰e_t
)

	)

615 
	#V_DISPLAY_ON
 0

	)

616 
	#V_DISPLAY_BLANK
 1

	)

617 
	#V_DISPLAY_STAND_BY
 2

	)

618 
	#V_DISPLAY_SUSPEND
 3

	)

620 
	#FBIO_BLANK
 
	`_IOW
('F', 115, )

	)

	@/usr/include/sys/fcntl.h

40 #iâdeà
_SYS_FCNTL_H_


41 
	#_SYS_FCNTL_H_


	)

49 
	~<sys/cdefs.h
>

50 
	~<sys/_ty³s.h
>

52 #iâdeà
_MODE_T_DECLARED


53 
__mode_t
 
	tmode_t
;

54 
	#_MODE_T_DECLARED


	)

57 #iâdeà
_OFF_T_DECLARED


58 
__off_t
 
	toff_t
;

59 
	#_OFF_T_DECLARED


	)

62 #iâdeà
_PID_T_DECLARED


63 
__pid_t
 
	tpid_t
;

64 
	#_PID_T_DECLARED


	)

75 
	#O_RDONLY
 0x0000

	)

76 
	#O_WRONLY
 0x0001

	)

77 
	#O_RDWR
 0x0002

	)

78 
	#O_ACCMODE
 0x0003

	)

88 #ià
__BSD_VISIBLE


89 
	#FREAD
 0x0001

	)

90 
	#FWRITE
 0x0002

	)

92 
	#O_NONBLOCK
 0x0004

	)

93 
	#O_APPEND
 0x0008

	)

94 #ià
__BSD_VISIBLE


95 
	#O_SHLOCK
 0x0010

	)

96 
	#O_EXLOCK
 0x0020

	)

97 
	#O_ASYNC
 0x0040

	)

98 
	#O_FSYNC
 0x0080

	)

100 
	#O_SYNC
 0x0080

	)

101 #ià
__POSIX_VISIBLE
 >= 200809

102 
	#O_NOFOLLOW
 0x0100

	)

104 
	#O_CREAT
 0x0200

	)

105 
	#O_TRUNC
 0x0400

	)

106 
	#O_EXCL
 0x0800

	)

107 #ifdeà
_KERNEL


108 
	#FHASLOCK
 0x4000

	)

112 
	#O_NOCTTY
 0x8000

	)

114 #ià
__BSD_VISIBLE


116 
	#O_DIRECT
 0x00010000

	)

119 #ià
__POSIX_VISIBLE
 >= 200809

120 
	#O_DIRECTORY
 0x00020000

	)

121 
	#O_EXEC
 0x00040000

	)

123 #ifdef 
_KERNEL


124 
	#FEXEC
 
O_EXEC


	)

127 #ià
__POSIX_VISIBLE
 >= 200809

129 
	#O_TTY_INIT
 0x00080000

	)

131 
	#O_CLOEXEC
 0x00100000

	)

134 #ià
__BSD_VISIBLE


135 
	#O_VERIFY
 0x00200000

	)

142 #ifdeà
_KERNEL


145 
	#FLASTCLOSE
 
O_DIRECTORY


	)

146 
	#FREVOKE
 
O_VERIFY


	)

148 
	#FOPENFAILED
 
O_TTY_INIT


	)

151 
	#FFLAGS
(
oæags
è((oæagsè& 
O_EXEC
 ? (oæagsè: (oæagsè+ 1)

	)

152 
	#OFLAGS
(
fæags
è((fæagsè& 
O_EXEC
 ? (fæagsè: (fæagsè- 1)

	)

155 
	#FMASK
 (
FREAD
|
FWRITE
|
FAPPEND
|
FASYNC
|
FFSYNC
|
FNONBLOCK
|
O_DIRECT
|
FEXEC
)

	)

157 
	#FCNTLFLAGS
 (
FAPPEND
|
FASYNC
|
FFSYNC
|
FNONBLOCK
|
FRDAHEAD
|
O_DIRECT
)

	)

159 #ià
defšed
(
COMPAT_FREEBSD7
è|| defšed(
COMPAT_FREEBSD6
) || \

160 
defšed
(
COMPAT_FREEBSD5
è|| 
	$defšed
(
COMPAT_FREEBSD4
)

166 
	#FPOSIXSHM
 
O_NOFOLLOW


	)

167 #undeà
FCNTLFLAGS


168 
	#FCNTLFLAGS
 (
FAPPEND
|
FASYNC
|
FFSYNC
|
FNONBLOCK
|
FPOSIXSHM
|
FRDAHEAD
| \

169 
O_DIRECT
)

	)

178 #ià
__BSD_VISIBLE


179 
	#FAPPEND
 
O_APPEND


	)

180 
	#FASYNC
 
O_ASYNC


	)

181 
	#FFSYNC
 
O_FSYNC


	)

182 
	#FNONBLOCK
 
O_NONBLOCK


	)

183 
	#FNDELAY
 
O_NONBLOCK


	)

184 
	#O_NDELAY
 
O_NONBLOCK


	)

193 #ià
__BSD_VISIBLE


195 
	#FRDAHEAD
 
O_CREAT


	)

198 #ià
__POSIX_VISIBLE
 >= 200809

204 
	#AT_FDCWD
 -100

	)

209 
	#AT_EACCESS
 0x100

	)

210 
	#AT_SYMLINK_NOFOLLOW
 0x200

	)

211 
	#AT_SYMLINK_FOLLOW
 0x400

	)

212 
	#AT_REMOVEDIR
 0x800

	)

220 
	#F_DUPFD
 0

	)

221 
	#F_GETFD
 1

	)

222 
	#F_SETFD
 2

	)

223 
	#F_GETFL
 3

	)

224 
	#F_SETFL
 4

	)

225 #ià
__XSI_VISIBLE
 || 
__POSIX_VISIBLE
 >= 200112

226 
	#F_GETOWN
 5

	)

227 
	#F_SETOWN
 6

	)

229 #ià
__BSD_VISIBLE


230 
	#F_OGETLK
 7

	)

231 
	#F_OSETLK
 8

	)

232 
	#F_OSETLKW
 9

	)

233 
	#F_DUP2FD
 10

	)

235 
	#F_GETLK
 11

	)

236 
	#F_SETLK
 12

	)

237 
	#F_SETLKW
 13

	)

238 #ià
__BSD_VISIBLE


239 
	#F_SETLK_REMOTE
 14

	)

240 
	#F_READAHEAD
 15

	)

241 
	#F_RDAHEAD
 16

	)

243 #ià
__POSIX_VISIBLE
 >= 200809

244 
	#F_DUPFD_CLOEXEC
 17

	)

246 #ià
__BSD_VISIBLE


247 
	#F_DUP2FD_CLOEXEC
 18

	)

251 
	#FD_CLOEXEC
 1

	)

254 
	#F_RDLCK
 1

	)

255 
	#F_UNLCK
 2

	)

256 
	#F_WRLCK
 3

	)

257 #ià
__BSD_VISIBLE


258 
	#F_UNLCKSYS
 4

	)

259 
	#F_CANCEL
 5

	)

261 #ifdeà
_KERNEL


262 
	#F_WAIT
 0x010

	)

263 
	#F_FLOCK
 0x020

	)

264 
	#F_POSIX
 0x040

	)

265 
	#F_REMOTE
 0x080

	)

266 
	#F_NOINTR
 0x100

	)

273 
	sæock
 {

274 
off_t
 
l_¡¬t
;

275 
off_t
 
l_Ën
;

276 
pid_t
 
l_pid
;

277 
l_ty³
;

278 
l_wh’û
;

279 
l_sysid
;

282 #ià
__BSD_VISIBLE


287 
	s__oæock
 {

288 
off_t
 
l_¡¬t
;

289 
off_t
 
l_Ën
;

290 
pid_t
 
l_pid
;

291 
l_ty³
;

292 
l_wh’û
;

296 #ià
__BSD_VISIBLE


298 
	#LOCK_SH
 0x01

	)

299 
	#LOCK_EX
 0x02

	)

300 
	#LOCK_NB
 0x04

	)

301 
	#LOCK_UN
 0x08

	)

304 #ià
__POSIX_VISIBLE
 >= 200112

308 
	#POSIX_FADV_NORMAL
 0

	)

309 
	#POSIX_FADV_RANDOM
 1

	)

310 
	#POSIX_FADV_SEQUENTIAL
 2

	)

311 
	#POSIX_FADV_WILLNEED
 3

	)

312 
	#POSIX_FADV_DONTNEED
 4

	)

313 
	#POSIX_FADV_NOREUSE
 5

	)

316 #iâdeà
_KERNEL


317 
__BEGIN_DECLS


318 
	`Ý’
(const *, , ...);

319 
	`ü—t
(cÚ¡ *, 
mode_t
);

320 
	`fúŽ
(, , ...);

321 #ià
__BSD_VISIBLE


322 
	`æock
(, );

324 #ià
__POSIX_VISIBLE
 >= 200809

325 
	`Ý’©
(, const *, , ...);

327 #ià
__POSIX_VISIBLE
 >= 200112

328 
	`posix_çdvi£
(, 
off_t
, off_t, );

329 
	`posix_çÎoÿ‹
(, 
off_t
, off_t);

331 
__END_DECLS


	@/usr/include/sys/file.h

35 #iâdeà
_SYS_FILE_H_


36 
	#_SYS_FILE_H_


	)

38 #iâdeà
_KERNEL


39 
	~<sys/ty³s.h
>

40 
	~<sys/fúŽ.h
>

41 
	~<sys/uni¡d.h
>

43 
	~<sys/queue.h
>

44 
	~<sys/»fcouÁ.h
>

45 
	~<sys/_lock.h
>

46 
	~<sys/_mu‹x.h
>

47 
	~<vm/vm.h
>

49 
	gfžedesc
;

50 
	g¡©
;

51 
	gth»ad
;

52 
	guio
;

53 
	gknÙe
;

54 
	gvnode
;

58 
	#DTYPE_NONE
 0

	)

59 
	#DTYPE_VNODE
 1

	)

60 
	#DTYPE_SOCKET
 2

	)

61 
	#DTYPE_PIPE
 3

	)

62 
	#DTYPE_FIFO
 4

	)

63 
	#DTYPE_KQUEUE
 5

	)

64 
	#DTYPE_CRYPTO
 6

	)

65 
	#DTYPE_MQUEUE
 7

	)

66 
	#DTYPE_SHM
 8

	)

67 
	#DTYPE_SEM
 9

	)

68 
	#DTYPE_PTS
 10

	)

69 
	#DTYPE_DEV
 11

	)

70 
	#DTYPE_PROCDESC
 12

	)

71 
	#DTYPE_LINUXEFD
 13

	)

72 
	#DTYPE_LINUXTFD
 14

	)

74 #ifdeà
_KERNEL


76 
	gfže
;

77 
	gfžeÿps
;

78 
	gkaiocb
;

79 
	gkšfo_fže
;

80 
	guüed
;

82 
	#FOF_OFFSET
 0x01

	)

83 
	#FOF_NOLOCK
 0x02

	)

84 
	#FOF_NEXTOFF
 0x04

	)

85 
	#FOF_NOUPDATE
 0x10

	)

86 
off_t
 
foff£t_lock
(
fže
 *
å
, 
æags
);

87 
foff£t_lock_uio
(
fže
 *
å
, 
uio
 *uio, 
æags
);

88 
foff£t_uÆock
(
fže
 *
å
, 
off_t
 
v®
, 
æags
);

89 
foff£t_uÆock_uio
(
fže
 *
å
, 
uio
 *uio, 
æags
);

91 
šlše
 
off_t


92 
	$foff£t_g‘
(
fže
 *
å
)

95  (
	`foff£t_lock
(
å
, 
FOF_NOLOCK
));

96 
	}
}

98 
	tfo_rdwr_t
(
	tfže
 *
	tå
, 
	tuio
 *uio,

99 
	tuüed
 *
	taùive_üed
, 
	tæags
,

100 
	tth»ad
 *
	ttd
);

101 
	tfo_Œunÿ‹_t
(
	tfže
 *
	tå
, 
	toff_t
 
	tËngth
,

102 
	tuüed
 *
	taùive_üed
, 
	tth»ad
 *
	ttd
);

103 
	tfo_ioùl_t
(
	tfže
 *
	tå
, 
	tu_lÚg
 
	tcom
, *
	td©a
,

104 
	tuüed
 *
	taùive_üed
, 
	tth»ad
 *
	ttd
);

105 
	tfo_pÞl_t
(
	tfže
 *
	tå
, 
	tev’ts
,

106 
	tuüed
 *
	taùive_üed
, 
	tth»ad
 *
	ttd
);

107 
	tfo_kqfž‹r_t
(
	tfže
 *
	tå
, 
	tknÙe
 *
	tkn
);

108 
	tfo_¡©_t
(
	tfže
 *
	tå
, 
	t¡©
 *
	tsb
,

109 
	tuüed
 *
	taùive_üed
, 
	tth»ad
 *
	ttd
);

110 
	tfo_þo£_t
(
	tfže
 *
	tå
, 
	tth»ad
 *
	ttd
);

111 
	tfo_chmod_t
(
	tfže
 *
	tå
, 
	tmode_t
 
	tmode
,

112 
	tuüed
 *
	taùive_üed
, 
	tth»ad
 *
	ttd
);

113 
	tfo_chown_t
(
	tfže
 *
	tå
, 
	tuid_t
 
	tuid
, 
	tgid_t
 
	tgid
,

114 
	tuüed
 *
	taùive_üed
, 
	tth»ad
 *
	ttd
);

115 
	tfo_£ndfže_t
(
	tfže
 *
	tå
, 
	tsockfd
, 
	tuio
 *
	thdr_uio
,

116 
	tuio
 *
	tŒl_uio
, 
	toff_t
 
	toff£t
, 
	tsize_t
 
	tnby‹s
,

117 
	toff_t
 *
	t£Á
, 
	tæags
, 
	tth»ad
 *
	ttd
);

118 
	tfo_£ek_t
(
	tfže
 *
	tå
, 
	toff_t
 
	toff£t
, 
	twh’û
,

119 
	tth»ad
 *
	ttd
);

120 
	tfo_fžl_kšfo_t
(
	tfže
 *
	tå
, 
	tkšfo_fže
 *
	tkif
,

121 
	tfžedesc
 *
	tfdp
);

122 
	tfo_mm­_t
(
	tfže
 *
	tå
, 
	tvm_m­_t
 
	tm­
, 
	tvm_off£t_t
 *
	taddr
,

123 
	tvm_size_t
 
	tsize
, 
	tvm_´Ù_t
 
	t´Ù
, vm_´Ù_ˆ
	tÿp_max´Ù
,

124 
	tæags
, 
	tvm_ooff£t_t
 
	tfoff
, 
	tth»ad
 *
	ttd
);

125 
	tfo_aio_queue_t
(
	tfže
 *
	tå
, 
	tkaiocb
 *
	tjob
);

126 
	tfo_æags_t
;

128 
	sfžeÝs
 {

129 
fo_rdwr_t
 *
	mfo_»ad
;

130 
fo_rdwr_t
 *
	mfo_wr™e
;

131 
fo_Œunÿ‹_t
 *
	mfo_Œunÿ‹
;

132 
fo_ioùl_t
 *
	mfo_ioùl
;

133 
fo_pÞl_t
 *
	mfo_pÞl
;

134 
fo_kqfž‹r_t
 *
	mfo_kqfž‹r
;

135 
fo_¡©_t
 *
	mfo_¡©
;

136 
fo_þo£_t
 *
	mfo_þo£
;

137 
fo_chmod_t
 *
	mfo_chmod
;

138 
fo_chown_t
 *
	mfo_chown
;

139 
fo_£ndfže_t
 *
	mfo_£ndfže
;

140 
fo_£ek_t
 *
	mfo_£ek
;

141 
fo_fžl_kšfo_t
 *
	mfo_fžl_kšfo
;

142 
fo_mm­_t
 *
	mfo_mm­
;

143 
fo_aio_queue_t
 *
	mfo_aio_queue
;

144 
fo_æags_t
 
	mfo_æags
;

147 
	#DFLAG_PASSABLE
 0x01

	)

148 
	#DFLAG_SEEKABLE
 0x02

	)

151 #ià
defšed
(
_KERNEL
è|| defšed(
_WANT_FILE
)

164 
	sçdvi£_šfo
 {

165 
	mç_adviû
;

166 
off_t
 
	mç_¡¬t
;

167 
off_t
 
	mç_’d
;

170 
	sfže
 {

171 *
	mf_d©a
;

172 
fžeÝs
 *
	mf_Ýs
;

173 
uüed
 *
	mf_üed
;

174 
vnode
 *
	mf_vnode
;

175 
	mf_ty³
;

176 
	mf_vÄ—d_æags
;

177 vÞ©ž
u_št
 
	mf_æag
;

178 vÞ©ž
u_št
 
	mf_couÁ
;

182 
	mf_£qcouÁ
;

183 
off_t
 
	mf_Ãxtoff
;

185 
cdev_´ivd©a
 *
	mfvn_cdev´iv
;

187 
çdvi£_šfo
 *
	mfvn_adviû
;

188 } 
	mf_vnun
;

192 
off_t
 
	mf_off£t
;

196 *
	mf_Ïb–
;

199 
	#f_cdev´iv
 
f_vnun
.
fvn_cdev´iv


	)

200 
	#f_adviû
 
f_vnun
.
fvn_adviû


	)

202 
	#FOFFSET_LOCKED
 0x1

	)

203 
	#FOFFSET_LOCK_WAITING
 0x2

	)

204 
	#FDEVFS_VNODE
 0x4

	)

211 
	sxfže
 {

212 
ksize_t
 
	mxf_size
;

213 
pid_t
 
	mxf_pid
;

214 
uid_t
 
	mxf_uid
;

215 
	mxf_fd
;

216 
	m_xf_št_·d1
;

217 
kvaddr_t
 
	mxf_fže
;

218 
	mxf_ty³
;

219 
	m_xf_shÜt_·d1
;

220 
	mxf_couÁ
;

221 
	mxf_msgcouÁ
;

222 
	m_xf_št_·d2
;

223 
off_t
 
	mxf_off£t
;

224 
kvaddr_t
 
	mxf_d©a
;

225 
kvaddr_t
 
	mxf_vnode
;

226 
u_št
 
	mxf_æag
;

227 
	m_xf_št_·d3
;

228 
št64_t
 
	m_xf_št64_·d
[6];

231 #ifdeà
_KERNEL


233 
fžeÝs
 
vnÝs
;

234 
fžeÝs
 
badfžeÝs
;

235 
fžeÝs
 
sock‘Ýs
;

236 
maxfžes
;

237 
maxfže¥”´oc
;

238 vÞ©ž
Ý’fžes
;

240 
fg‘
(
th»ad
 *
td
, 
fd
, 
ÿp_rights_t
 *
right¥
, 
fže
 **
åp
);

241 
fg‘_mm­
(
th»ad
 *
td
, 
fd
, 
ÿp_rights_t
 *
right¥
,

242 
u_ch¬
 *
max´Ùp
, 
fže
 **
åp
);

243 
fg‘_»ad
(
th»ad
 *
td
, 
fd
, 
ÿp_rights_t
 *
right¥
,

244 
fže
 **
åp
);

245 
fg‘_wr™e
(
th»ad
 *
td
, 
fd
, 
ÿp_rights_t
 *
right¥
,

246 
fže
 **
åp
);

247 
fg‘_fúŽ
(
th»ad
 *
td
, 
fd
, 
ÿp_rights_t
 *
right¥
,

248 
ÃedfúŽ
, 
fže
 **
åp
);

249 
_fdrÝ
(
fže
 *
å
, 
th»ad
 *
td
);

251 
fo_rdwr_t
 
	gšvfo_rdwr
;

252 
fo_Œunÿ‹_t
 
	gšvfo_Œunÿ‹
;

253 
fo_ioùl_t
 
	gšvfo_ioùl
;

254 
fo_pÞl_t
 
	gšvfo_pÞl
;

255 
fo_kqfž‹r_t
 
	gšvfo_kqfž‹r
;

256 
fo_chmod_t
 
	gšvfo_chmod
;

257 
fo_chown_t
 
	gšvfo_chown
;

258 
fo_£ndfže_t
 
	gšvfo_£ndfže
;

260 
fo_£ndfže_t
 
	gvn_£ndfže
;

261 
fo_£ek_t
 
	gvn_£ek
;

262 
fo_fžl_kšfo_t
 
	gvn_fžl_kšfo
;

263 
vn_fžl_kšfo_vnode
(
vnode
 *
vp
, 
kšfo_fže
 *
kif
);

265 
fš™
(
fže
 *, 
u_št
, , *, 
fžeÝs
 *);

266 
fg‘vp
(
th»ad
 *
td
, 
fd
, 
ÿp_rights_t
 *
right¥
,

267 
vnode
 **
vµ
);

268 
fg‘vp_exec
(
th»ad
 *
td
, 
fd
, 
ÿp_rights_t
 *
right¥
,

269 
vnode
 **
vµ
);

270 
fg‘vp_rights
(
th»ad
 *
td
, 
fd
, 
ÿp_rights_t
 *
Ãedright¥
,

271 
fžeÿps
 *
haveÿps
, 
vnode
 **
vµ
);

272 
fg‘vp_»ad
(
th»ad
 *
td
, 
fd
, 
ÿp_rights_t
 *
right¥
,

273 
vnode
 **
vµ
);

274 
fg‘vp_wr™e
(
th»ad
 *
td
, 
fd
, 
ÿp_rights_t
 *
right¥
,

275 
vnode
 **
vµ
);

277 
__šlše
 

278 
	$_âoÝ
()

282 
	}
}

284 
	#fhÞd
(
å
) \

285 (
	`»fcouÁ_acquœe
(&(
å
)->
f_couÁ
))

	)

286 
	#fdrÝ
(
å
, 
td
) \

287 (
	`»fcouÁ_»Ëa£
(&(
å
)->
f_couÁ
è? 
	`_fdrÝ
((å), (
td
)è: 
	`_âoÝ
())

	)

289 
__šlše
 
fo_rdwr_t
 
	gfo_»ad
;

290 
__šlše
 
fo_rdwr_t
 
	gfo_wr™e
;

291 
__šlše
 
fo_Œunÿ‹_t
 
	gfo_Œunÿ‹
;

292 
__šlše
 
fo_ioùl_t
 
	gfo_ioùl
;

293 
__šlše
 
fo_pÞl_t
 
	gfo_pÞl
;

294 
__šlše
 
fo_kqfž‹r_t
 
	gfo_kqfž‹r
;

295 
__šlše
 
fo_¡©_t
 
	gfo_¡©
;

296 
__šlše
 
fo_þo£_t
 
	gfo_þo£
;

297 
__šlše
 
fo_chmod_t
 
	gfo_chmod
;

298 
__šlše
 
fo_chown_t
 
	gfo_chown
;

299 
__šlše
 
fo_£ndfže_t
 
	gfo_£ndfže
;

301 
__šlše
 

302 
	$fo_»ad
(
fže
 *
å
, 
uio
 *uio, 
uüed
 *
aùive_üed
,

303 
æags
, 
th»ad
 *
td
)

306  ((*
å
->
f_Ýs
->
fo_»ad
)(å, 
uio
, 
aùive_üed
, 
æags
, 
td
));

307 
	}
}

309 
__šlše
 

310 
	$fo_wr™e
(
fže
 *
å
, 
uio
 *uio, 
uüed
 *
aùive_üed
,

311 
æags
, 
th»ad
 *
td
)

314  ((*
å
->
f_Ýs
->
fo_wr™e
)(å, 
uio
, 
aùive_üed
, 
æags
, 
td
));

315 
	}
}

317 
__šlše
 

318 
	$fo_Œunÿ‹
(
fže
 *
å
, 
off_t
 
Ëngth
, 
uüed
 *
aùive_üed
,

319 
th»ad
 *
td
)

322  ((*
å
->
f_Ýs
->
fo_Œunÿ‹
)(å, 
Ëngth
, 
aùive_üed
, 
td
));

323 
	}
}

325 
__šlše
 

326 
	$fo_ioùl
(
fže
 *
å
, 
u_lÚg
 
com
, *
d©a
, 
uüed
 *
aùive_üed
,

327 
th»ad
 *
td
)

330  ((*
å
->
f_Ýs
->
fo_ioùl
)(å, 
com
, 
d©a
, 
aùive_üed
, 
td
));

331 
	}
}

333 
__šlše
 

334 
	$fo_pÞl
(
fže
 *
å
, 
ev’ts
, 
uüed
 *
aùive_üed
,

335 
th»ad
 *
td
)

338  ((*
å
->
f_Ýs
->
fo_pÞl
)(å, 
ev’ts
, 
aùive_üed
, 
td
));

339 
	}
}

341 
__šlše
 

342 
	$fo_¡©
(
fže
 *
å
, 
¡©
 *
sb
, 
uüed
 *
aùive_üed
,

343 
th»ad
 *
td
)

346  ((*
å
->
f_Ýs
->
fo_¡©
)(å, 
sb
, 
aùive_üed
, 
td
));

347 
	}
}

349 
__šlše
 

350 
	$fo_þo£
(
fže
 *
å
, 
th»ad
 *
td
)

353  ((*
å
->
f_Ýs
->
fo_þo£
)(å, 
td
));

354 
	}
}

356 
__šlše
 

357 
	$fo_kqfž‹r
(
fže
 *
å
, 
knÙe
 *
kn
)

360  ((*
å
->
f_Ýs
->
fo_kqfž‹r
)(å, 
kn
));

361 
	}
}

363 
__šlše
 

364 
	$fo_chmod
(
fže
 *
å
, 
mode_t
 
mode
, 
uüed
 *
aùive_üed
,

365 
th»ad
 *
td
)

368  ((*
å
->
f_Ýs
->
fo_chmod
)(å, 
mode
, 
aùive_üed
, 
td
));

369 
	}
}

371 
__šlše
 

372 
	$fo_chown
(
fže
 *
å
, 
uid_t
 
uid
, 
gid_t
 
gid
, 
uüed
 *
aùive_üed
,

373 
th»ad
 *
td
)

376  ((*
å
->
f_Ýs
->
fo_chown
)(å, 
uid
, 
gid
, 
aùive_üed
, 
td
));

377 
	}
}

379 
__šlše
 

380 
	$fo_£ndfže
(
fže
 *
å
, 
sockfd
, 
uio
 *
hdr_uio
,

381 
uio
 *
Œl_uio
, 
off_t
 
off£t
, 
size_t
 
nby‹s
, off_ˆ*
£Á
, 
æags
,

382 
th»ad
 *
td
)

385  ((*
å
->
f_Ýs
->
fo_£ndfže
)(å, 
sockfd
, 
hdr_uio
, 
Œl_uio
, 
off£t
,

386 
nby‹s
, 
£Á
, 
æags
, 
td
));

387 
	}
}

389 
__šlše
 

390 
	$fo_£ek
(
fže
 *
å
, 
off_t
 
off£t
, 
wh’û
, 
th»ad
 *
td
)

393  ((*
å
->
f_Ýs
->
fo_£ek
)(å, 
off£t
, 
wh’û
, 
td
));

394 
	}
}

396 
__šlše
 

397 
	$fo_fžl_kšfo
(
fže
 *
å
, 
kšfo_fže
 *
kif
, 
fžedesc
 *
fdp
)

400  ((*
å
->
f_Ýs
->
fo_fžl_kšfo
)(å, 
kif
, 
fdp
));

401 
	}
}

403 
__šlše
 

404 
	$fo_mm­
(
fže
 *
å
, 
vm_m­_t
 
m­
, 
vm_off£t_t
 *
addr
, 
vm_size_t
 
size
,

405 
vm_´Ù_t
 
´Ù
, vm_´Ù_ˆ
ÿp_max´Ù
, 
æags
, 
vm_ooff£t_t
 
foff
,

406 
th»ad
 *
td
)

409 ià(
å
->
f_Ýs
->
fo_mm­
 =ð
NULL
)

410  (
ENODEV
);

411  ((*
å
->
f_Ýs
->
fo_mm­
)(å, 
m­
, 
addr
, 
size
, 
´Ù
, 
ÿp_max´Ù
,

412 
æags
, 
foff
, 
td
));

413 
	}
}

415 
__šlše
 

416 
	$fo_aio_queue
(
fže
 *
å
, 
kaiocb
 *
job
)

419  ((*
å
->
f_Ýs
->
fo_aio_queue
)(å, 
job
));

420 
	}
}

	@/usr/include/sys/filedesc.h

35 #iâdeà
_SYS_FILEDESC_H_


36 
	#_SYS_FILEDESC_H_


	)

38 
	~<sys/ÿ´ights.h
>

39 
	~<sys/queue.h
>

40 
	~<sys/ev’t.h
>

41 
	~<sys/lock.h
>

42 
	~<sys/´iÜ™y.h
>

43 
	~<sys/£q.h
>

44 
	~<sys/sx.h
>

46 
	~<machše/_lim™s.h
>

48 
	sfžeÿps
 {

49 
ÿp_rights_t
 
	mfc_rights
;

50 
u_lÚg
 *
	mfc_ioùls
;

51 
št16_t
 
	mfc_nioùls
;

52 
ušt32_t
 
	mfc_fúŽs
;

55 
	sfžedesûÁ
 {

56 
fže
 *
	mfde_fže
;

57 
fžeÿps
 
	mfde_ÿps
;

58 
ušt8_t
 
	mfde_æags
;

59 
£q_t
 
	mfde_£q
;

61 
	#fde_rights
 
fde_ÿps
.
fc_rights


	)

62 
	#fde_fúŽs
 
fde_ÿps
.
fc_fúŽs


	)

63 
	#fde_ioùls
 
fde_ÿps
.
fc_ioùls


	)

64 
	#fde_nioùls
 
fde_ÿps
.
fc_nioùls


	)

65 
	#fde_chªge_size
 (
	`off£tof
(
fžedesûÁ
, 
fde_£q
))

	)

67 
	sfdesûÁtbl
 {

68 
	mfdt_nfžes
;

69 
fžedesûÁ
 
	mfdt_ofžes
[0];

71 
	#fd_£q
(
fdt
, 
fd
è(&(fdt)->
fdt_ofžes
[(fd)].
fde_£q
)

	)

77 
	#NDSLOTTYPE
 
u_lÚg


	)

79 
	sfžedesc
 {

80 
fdesûÁtbl
 *
	mfd_fžes
;

81 
vnode
 *
	mfd_cdœ
;

82 
vnode
 *
	mfd_rdœ
;

83 
vnode
 *
	mfd_jdœ
;

84 
NDSLOTTYPE
 *
	mfd_m­
;

85 
	mfd_Ï¡fže
;

86 
	mfd_ä“fže
;

87 
u_shÜt
 
	mfd_cmask
;

88 
	mfd_»fút
;

89 
	mfd_hÞdút
;

90 
sx
 
	mfd_sx
;

91 
kqli¡
 
	mfd_kqli¡
;

92 
	mfd_hÞdËad”scouÁ
;

93 
	mfd_hÞdËad”swakeup
;

105 
	sfžedesc_to_Ëad”
 {

106 
	mfdl_»fcouÁ
;

107 
	mfdl_hÞdcouÁ
;

108 
	mfdl_wakeup
;

109 
´oc
 *
	mfdl_Ëad”
;

111 
fžedesc_to_Ëad”
 *
	mfdl_´ev
;

112 
fžedesc_to_Ëad”
 *
	mfdl_Ãxt
;

114 
	#fd_nfžes
 
fd_fžes
->
fdt_nfžes


	)

115 
	#fd_ofžes
 
fd_fžes
->
fdt_ofžes


	)

120 
	#UF_EXCLOSE
 0x01

	)

122 #ifdeà
_KERNEL


125 
	#FILEDESC_LOCK_INIT
(
fdp
è
	`sx_š™
(&(fdp)->
fd_sx
, "fžedesø¡ruùu»")

	)

126 
	#FILEDESC_LOCK_DESTROY
(
fdp
è
	`sx_de¡roy
(&(fdp)->
fd_sx
)

	)

127 
	#FILEDESC_LOCK
(
fdp
è(&(fdp)->
fd_sx
)

	)

128 
	#FILEDESC_XLOCK
(
fdp
è
	`sx_xlock
(&(fdp)->
fd_sx
)

	)

129 
	#FILEDESC_XUNLOCK
(
fdp
è
	`sx_xuÆock
(&(fdp)->
fd_sx
)

	)

130 
	#FILEDESC_SLOCK
(
fdp
è
	`sx_¦ock
(&(fdp)->
fd_sx
)

	)

131 
	#FILEDESC_SUNLOCK
(
fdp
è
	`sx_suÆock
(&(fdp)->
fd_sx
)

	)

133 
	#FILEDESC_LOCK_ASSERT
(
fdp
è
	`sx_as£¹
(&(fdp)->
fd_sx
, 
SX_LOCKED
 | \

134 
SX_NOTRECURSED
)

	)

135 
	#FILEDESC_XLOCK_ASSERT
(
fdp
è
	`sx_as£¹
(&(fdp)->
fd_sx
, 
SX_XLOCKED
 | \

136 
SX_NOTRECURSED
)

	)

137 
	#FILEDESC_UNLOCK_ASSERT
(
fdp
è
	`sx_as£¹
(&(fdp)->
fd_sx
, 
SX_UNLOCKED
)

	)

141 
	mFDDUP_NORMAL
,

142 
	mFDDUP_FCNTL
,

143 
	mFDDUP_FIXED
,

144 
	mFDDUP_MUSTREPLACE
,

145 
	mFDDUP_LASTMODE
,

149 
	#FDDUP_FLAG_CLOEXEC
 0x1

	)

152 
	#çÎoc
(
td
, 
»suÉå
, 
»suÉfd
, 
æags
) \

153 
	`çÎoc_ÿps
(
td
, 
»suÉå
, 
»suÉfd
, 
æags
, 
NULL
)

	)

155 
	gth»ad
;

157 
fžeÿps_š™
(
fžeÿps
 *
fÿps
);

158 
boÞ
 
fžeÿps_cÝy
(cÚ¡ 
fžeÿps
 *
¤c
, fžeÿp *
d¡
,

159 
boÞ
 
locked
);

160 
fžeÿps_move
(
fžeÿps
 *
¤c
, fžeÿp *
d¡
);

161 
fžeÿps_ä“
(
fžeÿps
 *
fÿps
);

163 
þo£f
(
fže
 *
å
, 
th»ad
 *
td
);

164 
dupfdÝ’
(
th»ad
 *
td
, 
fžedesc
 *
fdp
, 
dfd
, 
mode
,

165 
Ý’”rÜ
, *
šdxp
);

166 
çÎoc_ÿps
(
th»ad
 *
td
, 
fže
 **
»suÉå
, *
»suÉfd
,

167 
æags
, 
fžeÿps
 *
fÿps
);

168 
çÎoc_noš¡®l
(
th»ad
 *
td
, 
fže
 **
»suÉå
);

169 
_fš¡®l
(
fžedesc
 *
fdp
, 
fže
 *
å
, 
fd
, 
æags
,

170 
fžeÿps
 *
fÿps
);

171 
fš¡®l
(
th»ad
 *
td
, 
fže
 *
å
, *
»suÉfd
, 
æags
,

172 
fžeÿps
 *
fÿps
);

173 
fd®loc
(
th»ad
 *
td
, 
mšfd
, *
»suÉ
);

174 
fd®loú
(
th»ad
 *
td
, 
mšfd
, *
fds
, 
n
);

175 
fdcheck¡d
(
th»ad
 *
td
);

176 
fdþo£
(
th»ad
 *
td
, 
fže
 *
å
, 
idx
);

177 
fdþo£exec
(
th»ad
 *
td
);

178 
fd£tugid§ãty
(
th»ad
 *
td
);

179 
fžedesc
 *
fdcÝy
(fžedesø*
fdp
);

180 
fdcÝy_»m­³d
(
fžedesc
 *
fdp
, cÚ¡ *
fds
, 
size_t
 
nfds
,

181 
fžedesc
 **
Ãwfdp
);

182 
fdš¡®l_»m­³d
(
th»ad
 *
td
, 
fžedesc
 *
fdp
);

183 
fdunsh¬e
(
th»ad
 *
td
);

184 
fdescä“
(
th»ad
 *
td
);

185 
fdescä“_»m­³d
(
fžedesc
 *
fdp
);

186 
fžedesc
 *
fdš™
(fžedesø*
fdp
, 
boÞ
 
´•fžes
);

187 
fžedesc
 *
fdsh¬e
(fžedesø*
fdp
);

188 
fžedesc_to_Ëad”
 *

189 
fžedesc_to_Ëad”_®loc
(
fžedesc_to_Ëad”
 *
Þd
,

190 
fžedesc
 *
fdp
, 
´oc
 *
Ëad”
);

191 
g‘vnode
(
th»ad
 *
td
, 
fd
, 
ÿp_rights_t
 *
right¥
,

192 
fže
 **
åp
);

193 
mouÁcheckdœs
(
vnode
 *
Þddp
, vnod*
Ãwdp
);

195 
fg‘_ÿp_locked
(
fžedesc
 *
fdp
, 
fd
, 
ÿp_rights_t
 *
Ãedright¥
,

196 
fže
 **
åp
, 
fžeÿps
 *
haveÿp¥
);

197 
fg‘_ÿp
(
th»ad
 *
td
, 
fd
, 
ÿp_rights_t
 *
Ãedright¥
,

198 
fže
 **
åp
, 
fžeÿps
 *
haveÿp¥
);

201 
fg‘_uÆocked
(
fžedesc
 *
fdp
, 
fd
, 
ÿp_rights_t
 *
Ãedright¥
,

202 
fže
 **
åp
, 
£q_t
 *
£qp
);

205 
__šlše
 
fže
 *

206 
	$fg‘_locked
(
fžedesc
 *
fdp
, 
fd
)

209 
	`FILEDESC_LOCK_ASSERT
(
fdp
);

211 ià(
fd
 < 0 || fd > 
fdp
->
fd_Ï¡fže
)

212  (
NULL
);

214  (
fdp
->
fd_ofžes
[
fd
].
fde_fže
);

215 
	}
}

217 
__šlše
 
fžedesûÁ
 *

218 
	$fdeg‘_locked
(
fžedesc
 *
fdp
, 
fd
)

220 
fžedesûÁ
 *
fde
;

222 
	`FILEDESC_LOCK_ASSERT
(
fdp
);

224 ià(
fd
 < 0 || fd > 
fdp
->
fd_Ï¡fže
)

225  (
NULL
);

227 
fde
 = &
fdp
->
fd_ofžes
[
fd
];

228 ià(
fde
->
fde_fže
 =ð
NULL
)

229  (
NULL
);

231  (
fde
);

232 
	}
}

234 #ifdeà
CAPABILITIES


235 
__šlše
 
boÞ


236 
	$fd_modif›d
(
fžedesc
 *
fdp
, 
fd
, 
£q_t
 
£q
)

239  (!
	`£q_cÚsi¡’t
(
	`fd_£q
(
fdp
->
fd_fžes
, 
fd
), 
£q
));

240 
	}
}

244 
pwd_chdœ
(
th»ad
 *
td
, 
vnode
 *
vp
);

245 
pwd_chroÙ
(
th»ad
 *
td
, 
vnode
 *
vp
);

246 
pwd_’su»_dœs
();

	@/usr/include/sys/filio.h

40 #iâdef 
_SYS_FILIO_H_


41 
	#_SYS_FILIO_H_


	)

43 
	~<sys/ioccom.h
>

46 
	#FIOCLEX
 
	`_IO
('f', 1è

	)

47 
	#FIONCLEX
 
	`_IO
('f', 2è

	)

48 
	#FIONREAD
 
	`_IOR
('f', 127, è

	)

49 
	#FIONBIO
 
	`_IOW
('f', 126, è

	)

50 
	#FIOASYNC
 
	`_IOW
('f', 125, è

	)

51 
	#FIOSETOWN
 
	`_IOW
('f', 124, è

	)

52 
	#FIOGETOWN
 
	`_IOR
('f', 123, è

	)

53 
	#FIODTYPE
 
	`_IOR
('f', 122, è

	)

54 
	#FIOGETLBA
 
	`_IOR
('f', 121, è

	)

55 
	sfiodgÇme_¬g
 {

56 
	mËn
;

57 *
	mbuf
;

59 
	#FIODGNAME
 
	`_IOW
('f', 120, 
fiodgÇme_¬g
è

	)

60 
	#FIONWRITE
 
	`_IOR
('f', 119, è

	)

61 
	#FIONSPACE
 
	`_IOR
('f', 118, è

	)

63 
	#FIOSEEKDATA
 
	`_IOWR
('f', 97, 
off_t
è

	)

64 
	#FIOSEEKHOLE
 
	`_IOWR
('f', 98, 
off_t
è

	)

	@/usr/include/sys/hash.h

31 #iâdeà
_SYS_HASH_H_


32 
	#_SYS_HASH_H_


	)

33 
	~<sys/ty³s.h
>

36 #iâdef 
HASHINIT


37 
	#HASHINIT
 5381

	)

38 
	#HASHSTEP
(
x
,
c
è(((x << 5è+ xè+ (c))

	)

46 
__šlše
 
ušt32_t


47 
	$hash32_buf
(cÚ¡ *
buf
, 
size_t
 
Ën
, 
ušt32_t
 
hash
)

49 cÚ¡ *
p
 = 
buf
;

51 
Ën
--)

52 
hash
 = 
	`HASHSTEP
(hash, *
p
++);

54  
hash
;

55 
	}
}

60 
__šlše
 
ušt32_t


61 
	$hash32_¡r
(cÚ¡ *
buf
, 
ušt32_t
 
hash
)

63 cÚ¡ *
p
 = 
buf
;

65 *
p
)

66 
hash
 = 
	`HASHSTEP
(hash, *
p
++);

68  
hash
;

69 
	}
}

74 
__šlše
 
ušt32_t


75 
	$hash32_¡º
(cÚ¡ *
buf
, 
size_t
 
Ën
, 
ušt32_t
 
hash
)

77 cÚ¡ *
p
 = 
buf
;

79 *
p
 && 
Ën
--)

80 
hash
 = 
	`HASHSTEP
(hash, *
p
++);

82  
hash
;

83 
	}
}

90 
__šlše
 
ušt32_t


91 
	$hash32_¡»
(cÚ¡ *
buf
, 
’d
, cÚ¡ **
•
, 
ušt32_t
 
hash
)

93 cÚ¡ *
p
 = 
buf
;

95 *
p
 && (*°!ð
’d
))

96 
hash
 = 
	`HASHSTEP
(hash, *
p
++);

98 ià(
•
)

99 *
•
 = 
p
;

101  
hash
;

102 
	}
}

109 
__šlše
 
ušt32_t


110 
	$hash32_¡ºe
(cÚ¡ *
buf
, 
size_t
 
Ën
, 
’d
, cÚ¡ **
•
,

111 
ušt32_t
 
hash
)

113 cÚ¡ *
p
 = 
buf
;

115 *
p
 && (*°!ð
’d
è&& 
Ën
--)

116 
hash
 = 
	`HASHSTEP
(hash, *
p
++);

118 ià(
•
)

119 *
•
 = 
p
;

121  
hash
;

122 
	}
}

124 #ifdeà
_KERNEL


128 
ušt32_t
 
j’kšs_hash
(cÚ¡ *, 
size_t
, uint32_t);

129 
ušt32_t
 
j’kšs_hash32
(cÚ¡ ušt32_ˆ*, 
size_t
, uint32_t);

131 
ušt32_t
 
murmur3_32_hash
(cÚ¡ *, 
size_t
, uint32_t);

132 
ušt32_t
 
murmur3_32_hash32
(cÚ¡ ušt32_ˆ*, 
size_t
, uint32_t);

	@/usr/include/sys/ioccom.h

35 #iâdef 
_SYS_IOCCOM_H_


36 
	#_SYS_IOCCOM_H_


	)

43 
	#IOCPARM_SHIFT
 13

	)

44 
	#IOCPARM_MASK
 ((1 << 
IOCPARM_SHIFT
è- 1è

	)

45 
	#IOCPARM_LEN
(
x
è(((xè>> 16è& 
IOCPARM_MASK
)

	)

46 
	#IOCBASECMD
(
x
è((xè& ~(
IOCPARM_MASK
 << 16))

	)

47 
	#IOCGROUP
(
x
è(((xè>> 8è& 0xff)

	)

49 
	#IOCPARM_MAX
 (1 << 
IOCPARM_SHIFT
è

	)

50 
	#IOC_VOID
 0x20000000

	)

51 
	#IOC_OUT
 0x40000000

	)

52 
	#IOC_IN
 0x80000000

	)

53 
	#IOC_INOUT
 (
IOC_IN
|
IOC_OUT
)

	)

54 
	#IOC_DIRMASK
 (
IOC_VOID
|
IOC_OUT
|
IOC_IN
)

	)

56 
	#_IOC
(
šout
,
group
,
num
,
Ën
) (() \

57 ((
šout
è| (((
Ën
è& 
IOCPARM_MASK
è<< 16è| ((
group
è<< 8è| (
num
)))

	)

58 
	#_IO
(
g
,
n
è
	`_IOC
(
IOC_VOID
, (g), (n), 0)

	)

59 
	#_IOWINT
(
g
,
n
è
	`_IOC
(
IOC_VOID
, (g), (n), ())

	)

60 
	#_IOR
(
g
,
n
,
t
è
	`_IOC
(
IOC_OUT
, (g), (n), Ñ))

	)

61 
	#_IOW
(
g
,
n
,
t
è
	`_IOC
(
IOC_IN
, (g), (n), Ñ))

	)

63 
	#_IOWR
(
g
,
n
,
t
è
	`_IOC
(
IOC_INOUT
, (g), (n), Ñ))

	)

65 
	#_IOC_NEWLEN
(
ioc
, 
Ën
) \

66 (((~(
IOCPARM_MASK
 << 16)è& (
ioc
)è| (((
Ën
è& IOCPARM_MASKè<< 16))

	)

67 
	#_IOC_NEWTYPE
(
ioc
, 
ty³
è
	`_IOC_NEWLEN
((ioc), Ñy³))

	)

69 #ifdeà
_KERNEL


71 #ià
defšed
(
COMPAT_FREEBSD6
è|| defšed(
COMPAT_FREEBSD5
) || \

72 
defšed
(
COMPAT_FREEBSD4
è|| 
	$defšed
(
COMPAT_43
)

73 
	#IOCPARM_IVAL
(
x
è(()(
šŒ_t
)(*)*(
ÿddr_t
 *)(*)(x))

	)

78 
	~<sys/cdefs.h
>

80 
__BEGIN_DECLS


81 
	`ioùl
(, , ...);

82 
__END_DECLS


	@/usr/include/sys/kdb.h

31 #iâdeà
_SYS_KDB_H_


32 
	#_SYS_KDB_H_


	)

34 
	~<machše/£tjmp.h
>

36 
	gpcb
;

37 
	gth»ad
;

38 
	gŒ­äame
;

40 
	tdbbe_š™_f
();

41 
	tdbbe_Œaû_f
();

42 
	tdbbe_Œaû_th»ad_f
(
	tth»ad
 *);

43 
	tdbbe_Œ­_f
(, );

45 
	skdb_dbbe
 {

46 cÚ¡ *
	mdbbe_Çme
;

47 
dbbe_š™_f
 *
	mdbbe_š™
;

48 
dbbe_Œaû_f
 *
	mdbbe_Œaû
;

49 
dbbe_Œaû_th»ad_f
 *
	mdbbe_Œaû_th»ad
;

50 
dbbe_Œ­_f
 *
	mdbbe_Œ­
;

51 
	mdbbe_aùive
;

54 
	#KDB_BACKEND
(
Çme
, 
š™
, 
Œaû
, 
Œaû_th»ad
, 
Œ­
) \

55 
kdb_dbbe
 
Çme
##
_dbbe
 = { \

56 .
dbbe_Çme
 = #name, \

57 .
dbbe_š™
 = 
š™
, \

58 .
dbbe_Œaû
 = 
Œaû
, \

59 .
dbbe_Œaû_th»ad
 = 
Œaû_th»ad
, \

60 .
dbbe_Œ­
 = 
Œ­
 \

62 
	`DATA_SET
(
kdb_dbbe_£t
, 
Çme
##
_dbbe
)

	)

64 
u_ch¬
 
kdb_aùive
;

65 
debugg”_Ú_·nic
;

66 
kdb_dbbe
 *kdb_dbbe;

67 
Œ­äame
 *
kdb_äame
;

68 
pcb
 *
kdb_thrùx
;

69 
th»ad
 *
kdb_th»ad
;

71 
kdb_®t_b»ak
(, *);

72 
kdb_®t_b»ak_gdb
(, *);

73 
kdb_b»ak
();

74 
kdb_backŒaû
();

75 
kdb_backŒaû_th»ad
(
th»ad
 *);

76 
kdb_dbbe_£Ëù
(const *);

77 
kdb_’‹r
(const *, const *);

78 
kdb_š™
();

79 * 
kdb_jmpbuf
(
jmp_buf
);

80 
kdb_·nic
(const *);

81 
kdb_»boÙ
();

82 
kdb_»’‹r
();

83 
kdb_»’‹r_sž’t
();

84 
pcb
 *
kdb_thr_ùx
(
th»ad
 *);

85 
th»ad
 *
kdb_thr_fœ¡
();

86 
th»ad
 *
kdb_thr_äom_pid
(
pid_t
);

87 
th»ad
 *
kdb_thr_lookup
(
lwpid_t
);

88 
th»ad
 *
kdb_thr_Ãxt
(thread *);

89 
kdb_thr_£Ëù
(
th»ad
 *);

90 
kdb_Œ­
(, , 
Œ­äame
 *);

100 cÚ¡ * vÞ©ž
kdb_why
;

101 
	#KDB_WHY_UNSET
 
NULL


	)

102 
	#KDB_WHY_PANIC
 "·nic"

	)

103 
	#KDB_WHY_KASSERT
 "kas£¹"

	)

104 
	#KDB_WHY_TRAP
 "Œ­"

	)

105 
	#KDB_WHY_SYSCTL
 "sysùl"

	)

106 
	#KDB_WHY_BOOTFLAGS
 "boÙæags"

	)

107 
	#KDB_WHY_WITNESS
 "w™Ãss"

	)

108 
	#KDB_WHY_VFSLOCK
 "vf¦ock"

	)

109 
	#KDB_WHY_NETGRAPH
 "Ãtg¿ph"

	)

110 
	#KDB_WHY_BREAK
 "b»ak"

	)

111 
	#KDB_WHY_WATCHDOG
 "w©chdog"

	)

112 
	#KDB_WHY_CAM
 "ÿm"

	)

113 
	#KDB_WHY_NDIS
 "ndis"

	)

114 
	#KDB_WHY_ACPI
 "aýi"

	)

115 
	#KDB_WHY_TRAPSIG
 "Œ­sig"

	)

116 
	#KDB_WHY_POWERFAIL
 "pow”çž"

	)

117 
	#KDB_WHY_MAC
 "mac"

	)

118 
	#KDB_WHY_POWERPC
 "pow”pc"

	)

119 
	#KDB_WHY_UNIONFS
 "uniÚfs"

	)

120 
	#KDB_WHY_DTRACE
 "dŒaû"

	)

123 
	#KDB_REQ_DEBUGGER
 1

	)

124 
	#KDB_REQ_PANIC
 2

	)

125 
	#KDB_REQ_REBOOT
 3

	)

	@/usr/include/sys/kernel.h

47 #iâdeà
_SYS_KERNEL_H_


48 
	#_SYS_KERNEL_H_


	)

50 
	~<sys/lšk”_£t.h
>

52 #ifdeà
_KERNEL


55 
	~<sys/queue.h
>

58 
	~<sys/t¦og.h
>

63 
k”ÃÊame
[
MAXPATHLEN
];

65 
tick
;

66 
hz
;

67 
p¤©io
;

68 
¡©hz
;

69 
´ofhz
;

70 
´oårocs
;

71 vÞ©ž
ticks
;

89 
	esysš™_sub_id
 {

90 
	mSI_SUB_DUMMY
 = 0x0000000,

91 
	mSI_SUB_DONE
 = 0x0000001,

92 
	mSI_SUB_TUNABLES
 = 0x0700000,

93 
	mSI_SUB_COPYRIGHT
 = 0x0800001,

94 
	mSI_SUB_VM
 = 0x1000000,

95 
	mSI_SUB_KMEM
 = 0x1800000,

96 
	mSI_SUB_HYPERVISOR
 = 0x1A40000,

101 
	mSI_SUB_WITNESS
 = 0x1A80000,

102 
	mSI_SUB_MTX_POOL_DYNAMIC
 = 0x1AC0000,

103 
	mSI_SUB_LOCK
 = 0x1B00000,

104 
	mSI_SUB_EVENTHANDLER
 = 0x1C00000,

105 
	mSI_SUB_VNET_PRELINK
 = 0x1E00000,

106 
	mSI_SUB_KLD
 = 0x2000000,

107 
	mSI_SUB_CPU
 = 0x2100000,

108 
	mSI_SUB_RACCT
 = 0x2110000,

109 
	mSI_SUB_KDTRACE
 = 0x2140000,

110 
	mSI_SUB_RANDOM
 = 0x2160000,

111 
	mSI_SUB_MAC
 = 0x2180000,

112 
	mSI_SUB_MAC_POLICY
 = 0x21C0000,

113 
	mSI_SUB_MAC_LATE
 = 0x21D0000,

114 
	mSI_SUB_VNET
 = 0x21E0000,

115 
	mSI_SUB_INTRINSIC
 = 0x2200000,

116 
	mSI_SUB_VM_CONF
 = 0x2300000,

117 
	mSI_SUB_DDB_SERVICES
 = 0x2380000,

118 
	mSI_SUB_RUN_QUEUE
 = 0x2400000,

119 
	mSI_SUB_KTRACE
 = 0x2480000,

120 
	mSI_SUB_OPENSOLARIS
 = 0x2490000,

121 
	mSI_SUB_AUDIT
 = 0x24C0000,

122 
	mSI_SUB_CREATE_INIT
 = 0x2500000,

123 
	mSI_SUB_SCHED_IDLE
 = 0x2600000,

124 
	mSI_SUB_MBUF
 = 0x2700000,

125 
	mSI_SUB_INTR
 = 0x2800000,

126 
	mSI_SUB_TASKQ
 = 0x2880000,

127 #ifdeà
EARLY_AP_STARTUP


128 
	mSI_SUB_SMP
 = 0x2900000,

130 
	mSI_SUB_SOFTINTR
 = 0x2A00000,

131 
	mSI_SUB_DEVFS
 = 0x2F00000,

132 
	mSI_SUB_INIT_IF
 = 0x3000000,

133 
	mSI_SUB_NETGRAPH
 = 0x3010000,

134 
	mSI_SUB_DTRACE
 = 0x3020000,

135 
	mSI_SUB_DTRACE_PROVIDER
 = 0x3048000,

136 
	mSI_SUB_DTRACE_ANON
 = 0x308C000,

137 
	mSI_SUB_DRIVERS
 = 0x3100000,

138 
	mSI_SUB_CONFIGURE
 = 0x3800000,

139 
	mSI_SUB_VFS
 = 0x4000000,

140 
	mSI_SUB_CLOCKS
 = 0x4800000,

141 
	mSI_SUB_SYSV_SHM
 = 0x6400000,

142 
	mSI_SUB_SYSV_SEM
 = 0x6800000,

143 
	mSI_SUB_SYSV_MSG
 = 0x6C00000,

144 
	mSI_SUB_P1003_1B
 = 0x6E00000,

145 
	mSI_SUB_PSEUDO
 = 0x7000000,

146 
	mSI_SUB_EXEC
 = 0x7400000,

147 
	mSI_SUB_PROTO_BEGIN
 = 0x8000000,

148 
	mSI_SUB_PROTO_PFIL
 = 0x8100000,

149 
	mSI_SUB_PROTO_IF
 = 0x8400000,

150 
	mSI_SUB_PROTO_DOMAININIT
 = 0x8600000,

151 
	mSI_SUB_PROTO_MC
 = 0x8700000,

152 
	mSI_SUB_PROTO_DOMAIN
 = 0x8800000,

153 
	mSI_SUB_PROTO_FIREWALL
 = 0x8806000,

154 
	mSI_SUB_PROTO_IFATTACHDOMAIN
 = 0x8808000,

155 
	mSI_SUB_PROTO_END
 = 0x8ffffff,

156 
	mSI_SUB_KPROF
 = 0x9000000,

157 
	mSI_SUB_KICK_SCHEDULER
 = 0xa000000,

158 
	mSI_SUB_INT_CONFIG_HOOKS
 = 0xa800000,

159 
	mSI_SUB_ROOT_CONF
 = 0xb000000,

160 
	mSI_SUB_INTRINSIC_POST
 = 0xd000000,

161 
	mSI_SUB_SYSCALLS
 = 0xd800000,

162 
	mSI_SUB_VNET_DONE
 = 0xdc00000,

163 
	mSI_SUB_KTHREAD_INIT
 = 0xe000000,

164 
	mSI_SUB_KTHREAD_PAGE
 = 0xe400000,

165 
	mSI_SUB_KTHREAD_VM
 = 0xe800000,

166 
	mSI_SUB_KTHREAD_BUF
 = 0xea00000,

167 
	mSI_SUB_KTHREAD_UPDATE
 = 0xec00000,

168 
	mSI_SUB_KTHREAD_IDLE
 = 0xee00000,

169 #iâdeà
EARLY_AP_STARTUP


170 
	mSI_SUB_SMP
 = 0xf000000,

172 
	mSI_SUB_RACCTD
 = 0xf100000,

173 
	mSI_SUB_LAST
 = 0xfffffff

180 
	esysš™_–em_Üd”
 {

181 
	mSI_ORDER_FIRST
 = 0x0000000,

182 
	mSI_ORDER_SECOND
 = 0x0000001,

183 
	mSI_ORDER_THIRD
 = 0x0000002,

184 
	mSI_ORDER_FOURTH
 = 0x0000003,

185 
	mSI_ORDER_MIDDLE
 = 0x1000000,

186 
	mSI_ORDER_ANY
 = 0xfffffff

213 (*
	tsysš™_nfunc_t
)(*);

214 (*
	tsysš™_cfunc_t
)(const *);

216 
	ssysš™
 {

217 
sysš™_sub_id
 
subsy¡em
;

218 
sysš™_–em_Üd”
 
Üd”
;

219 
sysš™_cfunc_t
 
func
;

220 cÚ¡ *
ud©a
;

235 #ifdeà
TSLOG


236 
	ssysš™_t¦og
 {

237 
sysš™_cfunc_t
 
func
;

238 cÚ¡ * 
d©a
;

239 cÚ¡ * 
Çme
;

241 
šlše
 

242 
	$sysš™_t¦og_shim
(cÚ¡ * 
d©a
)

244 cÚ¡ 
sysš™_t¦og
 * 
x
 = 
d©a
;

246 
	`TSRAW
(
cu¹h»ad
, 
TS_ENTER
, "SYSINIT", 
x
->
Çme
);

247 (
x
->
func
)(x->
d©a
);

248 
	`TSRAW
(
cu¹h»ad
, 
TS_EXIT
, "SYSINIT", 
x
->
Çme
);

249 
	}
}

250 
	#C_SYSINIT
(
uniquif›r
, 
subsy¡em
, 
Üd”
, 
func
, 
id’t
) \

251 
sysš™_t¦og
 
uniquif›r
 ## 
_sys_š™_t¦og
 = { \

252 
func
, \

253 (
id’t
), \

256 
sysš™
 
uniquif›r
 ## 
_sys_š™
 = { \

257 
subsy¡em
, \

258 
Üd”
, \

259 
sysš™_t¦og_shim
, \

260 &
uniquif›r
 ## 
_sys_š™_t¦og
 \

262 
	`DATA_WSET
(
sysš™_£t
,
uniquif›r
 ## 
_sys_š™
)

	)

264 
	#C_SYSINIT
(
uniquif›r
, 
subsy¡em
, 
Üd”
, 
func
, 
id’t
) \

265 
sysš™
 
uniquif›r
 ## 
_sys_š™
 = { \

266 
subsy¡em
, \

267 
Üd”
, \

268 
func
, \

269 (
id’t
) \

271 
	`DATA_WSET
(
sysš™_£t
,
uniquif›r
 ## 
_sys_š™
)

	)

274 
	#SYSINIT
(
uniquif›r
, 
subsy¡em
, 
Üd”
, 
func
, 
id’t
) \

275 
	`C_SYSINIT
(
uniquif›r
, 
subsy¡em
, 
Üd”
, \

276 (
sysš™_cfunc_t
)(
sysš™_nfunc_t
)
func
, (*)(
id’t
))

	)

281 
	#C_SYSUNINIT
(
uniquif›r
, 
subsy¡em
, 
Üd”
, 
func
, 
id’t
) \

282 
sysš™
 
uniquif›r
 ## 
_sys_unš™
 = { \

283 
subsy¡em
, \

284 
Üd”
, \

285 
func
, \

286 (
id’t
) \

288 
	`DATA_WSET
(
sysunš™_£t
,
uniquif›r
 ## 
_sys_unš™
)

	)

290 
	#SYSUNINIT
(
uniquif›r
, 
subsy¡em
, 
Üd”
, 
func
, 
id’t
) \

291 
	`C_SYSUNINIT
(
uniquif›r
, 
subsy¡em
, 
Üd”
, \

292 (
sysš™_cfunc_t
)(
sysš™_nfunc_t
)
func
, (*)(
id’t
))

	)

294 
sysš™_add
(
sysš™
 **
£t
, sysš™ **
£t_’d
);

309 
tuÇbË_št_š™
(*);

310 
	stuÇbË_št
 {

311 cÚ¡ *
	m·th
;

312 *
	mv¬
;

314 
	#TUNABLE_INT
(
·th
, 
v¬
) \

315 
tuÇbË_št
 
	`__CONCAT
(
__tuÇbË_št_
, 
__LINE__
) = { \

316 (
·th
), \

317 (
v¬
), \

319 
	`SYSINIT
(
	`__CONCAT
(
__TuÇbË_š™_
, 
__LINE__
), \

320 
SI_SUB_TUNABLES
, 
SI_ORDER_MIDDLE
, 
tuÇbË_št_š™
, \

321 &
	`__CONCAT
(
__tuÇbË_št_
, 
__LINE__
))

	)

323 
	#TUNABLE_INT_FETCH
(
·th
, 
v¬
è
	`g‘’v_št
(Õ©h), (v¬))

	)

328 
tuÇbË_lÚg_š™
(*);

329 
	stuÇbË_lÚg
 {

330 cÚ¡ *
	m·th
;

331 *
	mv¬
;

333 
	#TUNABLE_LONG
(
·th
, 
v¬
) \

334 
tuÇbË_lÚg
 
	`__CONCAT
(
__tuÇbË_lÚg_
, 
__LINE__
) = { \

335 (
·th
), \

336 (
v¬
), \

338 
	`SYSINIT
(
	`__CONCAT
(
__TuÇbË_š™_
, 
__LINE__
), \

339 
SI_SUB_TUNABLES
, 
SI_ORDER_MIDDLE
, 
tuÇbË_lÚg_š™
,\

340 &
	`__CONCAT
(
__tuÇbË_lÚg_
, 
__LINE__
))

	)

342 
	#TUNABLE_LONG_FETCH
(
·th
, 
v¬
è
	`g‘’v_lÚg
(Õ©h), (v¬))

	)

347 
tuÇbË_ulÚg_š™
(*);

348 
	stuÇbË_ulÚg
 {

349 cÚ¡ *
	m·th
;

350 *
	mv¬
;

352 
	#TUNABLE_ULONG
(
·th
, 
v¬
) \

353 
tuÇbË_ulÚg
 
	`__CONCAT
(
__tuÇbË_ulÚg_
, 
__LINE__
) = { \

354 (
·th
), \

355 (
v¬
), \

357 
	`SYSINIT
(
	`__CONCAT
(
__TuÇbË_š™_
, 
__LINE__
), \

358 
SI_SUB_TUNABLES
, 
SI_ORDER_MIDDLE
, 
tuÇbË_ulÚg_š™
, \

359 &
	`__CONCAT
(
__tuÇbË_ulÚg_
, 
__LINE__
))

	)

361 
	#TUNABLE_ULONG_FETCH
(
·th
, 
v¬
è
	`g‘’v_ulÚg
(Õ©h), (v¬))

	)

366 
tuÇbË_št64_š™
(*);

367 
	stuÇbË_št64
 {

368 cÚ¡ *
	m·th
;

369 
št64_t
 *
	mv¬
;

371 
	#TUNABLE_INT64
(
·th
, 
v¬
) \

372 
tuÇbË_št64
 
	`__CONCAT
(
__tuÇbË_št64_
, 
__LINE__
) = { \

373 (
·th
), \

374 (
v¬
), \

376 
	`SYSINIT
(
	`__CONCAT
(
__TuÇbË_š™_
, 
__LINE__
), \

377 
SI_SUB_TUNABLES
, 
SI_ORDER_MIDDLE
, 
tuÇbË_št64_š™
, \

378 &
	`__CONCAT
(
__tuÇbË_št64_
, 
__LINE__
))

	)

380 
	#TUNABLE_INT64_FETCH
(
·th
, 
v¬
è
	`g‘’v_št64
(Õ©h), (v¬))

	)

385 
tuÇbË_ušt64_š™
(*);

386 
	stuÇbË_ušt64
 {

387 cÚ¡ *
	m·th
;

388 
ušt64_t
 *
	mv¬
;

390 
	#TUNABLE_UINT64
(
·th
, 
v¬
) \

391 
tuÇbË_ušt64
 
	`__CONCAT
(
__tuÇbË_ušt64_
, 
__LINE__
) = { \

392 (
·th
), \

393 (
v¬
), \

395 
	`SYSINIT
(
	`__CONCAT
(
__TuÇbË_š™_
, 
__LINE__
), \

396 
SI_SUB_TUNABLES
, 
SI_ORDER_MIDDLE
, 
tuÇbË_ušt64_š™
, \

397 &
	`__CONCAT
(
__tuÇbË_ušt64_
, 
__LINE__
))

	)

399 
	#TUNABLE_UINT64_FETCH
(
·th
, 
v¬
è
	`g‘’v_ušt64
(Õ©h), (v¬))

	)

404 
tuÇbË_quad_š™
(*);

405 
	stuÇbË_quad
 {

406 cÚ¡ *
	m·th
;

407 
quad_t
 *
	mv¬
;

409 
	#TUNABLE_QUAD
(
·th
, 
v¬
) \

410 
tuÇbË_quad
 
	`__CONCAT
(
__tuÇbË_quad_
, 
__LINE__
) = { \

411 (
·th
), \

412 (
v¬
), \

414 
	`SYSINIT
(
	`__CONCAT
(
__TuÇbË_š™_
, 
__LINE__
), \

415 
SI_SUB_TUNABLES
, 
SI_ORDER_MIDDLE
, 
tuÇbË_quad_š™
, \

416 &
	`__CONCAT
(
__tuÇbË_quad_
, 
__LINE__
))

	)

418 
	#TUNABLE_QUAD_FETCH
(
·th
, 
v¬
è
	`g‘’v_quad
(Õ©h), (v¬))

	)

420 
tuÇbË_¡r_š™
(*);

421 
	stuÇbË_¡r
 {

422 cÚ¡ *
	m·th
;

423 *
	mv¬
;

424 
	msize
;

426 
	#TUNABLE_STR
(
·th
, 
v¬
, 
size
) \

427 
tuÇbË_¡r
 
	`__CONCAT
(
__tuÇbË_¡r_
, 
__LINE__
) = { \

428 (
·th
), \

429 (
v¬
), \

430 (
size
), \

432 
	`SYSINIT
(
	`__CONCAT
(
__TuÇbË_š™_
, 
__LINE__
), \

433 
SI_SUB_TUNABLES
, 
SI_ORDER_MIDDLE
, 
tuÇbË_¡r_š™
, \

434 &
	`__CONCAT
(
__tuÇbË_¡r_
, 
__LINE__
))

	)

436 
	#TUNABLE_STR_FETCH
(
·th
, 
v¬
, 
size
) \

437 
	`g‘’v_¡ršg
((
·th
), (
v¬
), (
size
))

	)

439 (*
	tich_func_t
)(*
	t_¬g
);

441 
	sšŒ_cÚfig_hook
 {

442 
	`TAILQ_ENTRY
(
šŒ_cÚfig_hook
è
ich_lšks
;

443 
ich_func_t
 
ich_func
;

444 *
ich_¬g
;

447 
	`cÚfig_šŒhook_e¡ablish
(
šŒ_cÚfig_hook
 *
hook
);

448 
	`cÚfig_šŒhook_di£¡ablish
(
šŒ_cÚfig_hook
 *
hook
);

449 
	`cÚfig_šŒhook_ÚeshÙ
(
ich_func_t
 
_func
, *
_¬g
);

	@/usr/include/sys/ktr.h

38 #iâdeà
_SYS_KTR_H_


39 
	#_SYS_KTR_H_


	)

41 
	~<sys/kŒ_þass.h
>

47 
	#KTR_VERSION
 2

	)

49 
	#KTR_PARMS
 6

	)

51 #iâdeà
LOCORE


53 
	~<sys/·¿m.h
>

54 
	~<sys/_ýu£t.h
>

56 
	skŒ_’Œy
 {

57 
u_št64_t
 
	mkŒ_time¡amp
;

58 
	mkŒ_ýu
;

59 
	mkŒ_lše
;

60 cÚ¡ *
	mkŒ_fže
;

61 cÚ¡ *
	mkŒ_desc
;

62 
th»ad
 *
	mkŒ_th»ad
;

63 
u_lÚg
 
	mkŒ_·rms
[
KTR_PARMS
];

66 
ýu£t_t
 
kŒ_ýumask
;

67 
ušt64_t
 
kŒ_mask
;

68 
kŒ_’Œ›s
;

69 
kŒ_v”bo£
;

71 vÞ©ž
kŒ_idx
;

72 
kŒ_’Œy
 *
kŒ_buf
;

74 #ifdeà
KTR


76 
kŒ_Œaûpošt
(
ušt64_t
 
mask
, cÚ¡ *
fže
, 
lše
,

77 cÚ¡ *
fÜm©
, 
u_lÚg
 
¬g1
, u_lÚg 
¬g2
, u_lÚg 
¬g3
,

78 
u_lÚg
 
¬g4
, u_lÚg 
¬g5
, u_lÚg 
¬g6
);

80 
	#CTR6
(
m
, 
fÜm©
, 
p1
, 
p2
, 
p3
, 
p4
, 
p5
, 
p6
) do { \

81 ià(
KTR_COMPILE
 & (
m
)) \

82 
	`kŒ_Œaûpošt
((
m
), 
__FILE__
, 
__LINE__
, 
fÜm©
, \

83 (
u_lÚg
)(
p1
), (u_lÚg)(
p2
), (u_lÚg)(
p3
), \

84 (
u_lÚg
)(
p4
), (u_lÚg)(
p5
), (u_lÚg)(
p6
)); \

85 } 0)

	)

86 
	#CTR0
(
m
, 
fÜm©
è
	`CTR6
(m, fÜm©, 0, 0, 0, 0, 0, 0)

	)

87 
	#CTR1
(
m
, 
fÜm©
, 
p1
è
	`CTR6
(m, fÜm©,…1, 0, 0, 0, 0, 0)

	)

88 
	#CTR2
(
m
, 
fÜm©
, 
p1
, 
p2
è
	`CTR6
(m, fÜm©,…1,…2, 0, 0, 0, 0)

	)

89 
	#CTR3
(
m
, 
fÜm©
, 
p1
, 
p2
, 
p3
è
	`CTR6
(m, fÜm©,…1,…2,…3, 0, 0, 0)

	)

90 
	#CTR4
(
m
, 
fÜm©
, 
p1
, 
p2
, 
p3
, 
p4
è
	`CTR6
(m, fÜm©,…1,…2,…3,…4, 0, 0)

	)

91 
	#CTR5
(
m
, 
fÜm©
, 
p1
, 
p2
, 
p3
, 
p4
, 
p5
è
	`CTR6
(m, fÜm©,…1,…2,…3,…4,…5, 0)

	)

93 
	#CTR0
(
m
, 
d
è()0

	)

94 
	#CTR1
(
m
, 
d
, 
p1
è()0

	)

95 
	#CTR2
(
m
, 
d
, 
p1
, 
p2
è()0

	)

96 
	#CTR3
(
m
, 
d
, 
p1
, 
p2
, 
p3
è()0

	)

97 
	#CTR4
(
m
, 
d
, 
p1
, 
p2
, 
p3
, 
p4
è()0

	)

98 
	#CTR5
(
m
, 
d
, 
p1
, 
p2
, 
p3
, 
p4
, 
p5
è()0

	)

99 
	#CTR6
(
m
, 
d
, 
p1
, 
p2
, 
p3
, 
p4
, 
p5
, 
p6
è()0

	)

102 
	#TR0
(
d
è
	`CTR0
(
KTR_GEN
, d)

	)

103 
	#TR1
(
d
, 
p1
è
	`CTR1
(
KTR_GEN
, d,…1)

	)

104 
	#TR2
(
d
, 
p1
, 
p2
è
	`CTR2
(
KTR_GEN
, d,…1,…2)

	)

105 
	#TR3
(
d
, 
p1
, 
p2
, 
p3
è
	`CTR3
(
KTR_GEN
, d,…1,…2,…3)

	)

106 
	#TR4
(
d
, 
p1
, 
p2
, 
p3
, 
p4
è
	`CTR4
(
KTR_GEN
, d,…1,…2,…3,…4)

	)

107 
	#TR5
(
d
, 
p1
, 
p2
, 
p3
, 
p4
, 
p5
è
	`CTR5
(
KTR_GEN
, d,…1,…2,…3,…4,…5)

	)

108 
	#TR6
(
d
, 
p1
, 
p2
, 
p3
, 
p4
, 
p5
, 
p6
è
	`CTR6
(
KTR_GEN
, d,…1,…2,…3,…4,…5,…6)

	)

131 
	#KTR_ATTR_LINKED
 "lškedto:\"%s\""

	)

132 
	#KTR_EFMT
(
egroup
, 
id’t
, 
‘y³
) \

133 "KTRGRAPH group:\"" 
egroup
 "\", id:\"%s\", " 
‘y³
 ",‡‰ribu‹s: "

	)

135 
	#KTR_EVENT0
(
m
, 
egroup
, 
id’t
, 
‘y³
, 
ed©
) \

136 
	`CTR2
(
m
, 
	`KTR_EFMT
(
egroup
, 
id’t
, 
‘y³
è"nÚe", id’t, 
ed©
)

	)

137 
	#KTR_EVENT1
(
m
, 
egroup
, 
id’t
, 
‘y³
, 
ed©
, 
a0
, 
v0
) \

138 
	`CTR3
(
m
, 
	`KTR_EFMT
(
egroup
, 
id’t
, 
‘y³
è
a0
, id’t, 
ed©
, (
v0
))

	)

139 
	#KTR_EVENT2
(
m
, 
egroup
, 
id’t
, 
‘y³
, 
ed©
, 
a0
, 
v0
, 
a1
, 
v1
) \

140 
	`CTR4
(
m
, 
	`KTR_EFMT
(
egroup
, 
id’t
, 
‘y³
è
a0
 ", " 
a1
, \

141 
id’t
, 
ed©
, (
v0
), (
v1
))

	)

142 
	#KTR_EVENT3
(
m
, 
egroup
, 
id’t
, 
‘y³
, 
ed©
, 
a0
, 
v0
, 
a1
, 
v1
, 
a2
, 
v2
)\

143 
	`CTR5
(
m
,
	`KTR_EFMT
(
egroup
, 
id’t
, 
‘y³
è
a0
 ", " 
a1
 ", " 
a2
, \

144 
id’t
, 
ed©
, (
v0
), (
v1
), (
v2
))

	)

145 
	#KTR_EVENT4
(
m
, 
egroup
, 
id’t
, 
‘y³
, 
ed©
, \

146 
a0
, 
v0
, 
a1
, 
v1
, 
a2
, 
v2
, 
a3
, 
v3
) \

147 
	`CTR6
(
m
,
	`KTR_EFMT
(
egroup
, 
id’t
, 
‘y³
è
a0
 ", " 
a1
 ", " 
a2
 ", " 
a3
,\

148 
id’t
, 
ed©
, (
v0
), (
v1
), (
v2
), (
v3
))

	)

153 
	#KTR_STATE0
(
m
, 
egroup
, 
id’t
, 
¡©e
) \

154 
	`KTR_EVENT0
(
m
, 
egroup
, 
id’t
, "¡©e:\"%s\"", 
¡©e
)

	)

155 
	#KTR_STATE1
(
m
, 
egroup
, 
id’t
, 
¡©e
, 
a0
, 
v0
) \

156 
	`KTR_EVENT1
(
m
, 
egroup
, 
id’t
, "¡©e:\"%s\"", 
¡©e
, 
a0
, (
v0
))

	)

157 
	#KTR_STATE2
(
m
, 
egroup
, 
id’t
, 
¡©e
, 
a0
, 
v0
, 
a1
, 
v1
) \

158 
	`KTR_EVENT2
(
m
, 
egroup
, 
id’t
, "¡©e:\"%s\"", 
¡©e
, 
a0
, (
v0
), 
a1
, (
v1
))

	)

159 
	#KTR_STATE3
(
m
, 
egroup
, 
id’t
, 
¡©e
, 
a0
, 
v0
, 
a1
, 
v1
, 
a2
, 
v2
) \

160 
	`KTR_EVENT3
(
m
, 
egroup
, 
id’t
, "state:\"%s\"", \

161 
¡©e
, 
a0
, (
v0
), 
a1
, (
v1
), 
a2
, (
v2
))

	)

162 
	#KTR_STATE4
(
m
, 
egroup
, 
id’t
, 
¡©e
, 
a0
, 
v0
, 
a1
, 
v1
, 
a2
, 
v2
, 
a3
, 
v3
)\

163 
	`KTR_EVENT4
(
m
, 
egroup
, 
id’t
, "state:\"%s\"", \

164 
¡©e
, 
a0
, (
v0
), 
a1
, (
v1
), 
a2
, (
v2
), 
a3
, (
v3
))

	)

170 
	#KTR_COUNTER0
(
m
, 
egroup
, 
id’t
, 
couÁ”
) \

171 
	`KTR_EVENT0
(
m
, 
egroup
, 
id’t
, "couÁ”:%d", 
couÁ”
)

	)

172 
	#KTR_COUNTER1
(
m
, 
egroup
, 
id’t
, 
ed©
, 
a0
, 
v0
) \

173 
	`KTR_EVENT1
(
m
, 
egroup
, 
id’t
, "couÁ”:%d", 
couÁ”
, 
a0
, (
v0
))

	)

174 
	#KTR_COUNTER2
(
m
, 
egroup
, 
id’t
, 
couÁ”
, 
a0
, 
v0
, 
a1
, 
v1
) \

175 
	`KTR_EVENT2
(
m
, 
egroup
, 
id’t
, "couÁ”:%d", 
couÁ”
, 
a0
, (
v0
), 
a1
, (
v1
))

	)

176 
	#KTR_COUNTER3
(
m
, 
egroup
, 
id’t
, 
couÁ”
, 
a0
, 
v0
, 
a1
, 
v1
, 
a2
, 
v2
) \

177 
	`KTR_EVENT3
(
m
, 
egroup
, 
id’t
, "counter:%d", \

178 
couÁ”
, 
a0
, (
v0
), 
a1
, (
v1
), 
a2
, (
v2
))

	)

179 
	#KTR_COUNTER4
(
m
, 
egroup
, 
id’t
, 
couÁ”
, 
a0
, 
v0
, 
a1
, 
v1
, 
a2
, 
v2
, 
a3
, 
v3
)\

180 
	`KTR_EVENT4
(
m
, 
egroup
, 
id’t
, "counter:%d", \

181 
couÁ”
, 
a0
, (
v0
), 
a1
, (
v1
), 
a2
, (
v2
), 
a3
, (
v3
))

	)

186 
	#KTR_POINT0
(
m
, 
egroup
, 
id’t
, 
pošt
) \

187 
	`KTR_EVENT0
(
m
, 
egroup
, 
id’t
, "pošt:\"%s\"", 
pošt
)

	)

188 
	#KTR_POINT1
(
m
, 
egroup
, 
id’t
, 
pošt
, 
a0
, 
v0
) \

189 
	`KTR_EVENT1
(
m
, 
egroup
, 
id’t
, "pošt:\"%s\"", 
pošt
, 
a0
, (
v0
))

	)

190 
	#KTR_POINT2
(
m
, 
egroup
, 
id’t
, 
pošt
, 
a0
, 
v0
, 
a1
, 
v1
) \

191 
	`KTR_EVENT2
(
m
, 
egroup
, 
id’t
, "pošt:\"%s\"", 
pošt
, 
a0
, (
v0
), 
a1
, (
v1
))

	)

192 
	#KTR_POINT3
(
m
, 
egroup
, 
id’t
, 
pošt
, 
a0
, 
v0
, 
a1
, 
v1
, 
a2
, 
v2
) \

193 
	`KTR_EVENT3
(
m
, 
egroup
, 
id’t
, "pošt:\"%s\"", 
pošt
, \

194 
a0
, (
v0
), 
a1
, (
v1
), 
a2
, (
v2
))

	)

195 
	#KTR_POINT4
(
m
, 
egroup
, 
id’t
, 
pošt
, 
a0
, 
v0
, 
a1
, 
v1
, 
a2
, 
v2
, 
a3
, 
v3
)\

196 
	`KTR_EVENT4
(
m
, 
egroup
, 
id’t
, "point:\"%s\"", \

197 
pošt
, 
a0
, (
v0
), 
a1
, (
v1
), 
a2
, (
v2
), 
a3
, (
v3
))

	)

208 
	#KTR_START0
(
m
, 
egroup
, 
id’t
, 
key
) \

209 
	`KTR_EVENT0
(
m
, 
egroup
, 
id’t
, "¡¬t:0x%jX", (
uštmax_t
)
key
)

	)

210 
	#KTR_START1
(
m
, 
egroup
, 
id’t
, 
key
, 
a0
, 
v0
) \

211 
	`KTR_EVENT1
(
m
, 
egroup
, 
id’t
, "¡¬t:0x%jX", (
uštmax_t
)
key
, 
a0
, (
v0
))

	)

212 
	#KTR_START2
(
m
, 
egroup
, 
id’t
, 
key
, 
a0
, 
v0
, 
a1
, 
v1
) \

213 
	`KTR_EVENT2
(
m
, 
egroup
, 
id’t
, "¡¬t:0x%jX", (
uštmax_t
)
key
, \

214 
a0
, (
v0
), 
a1
, (
v1
))

	)

215 
	#KTR_START3
(
m
, 
egroup
, 
id’t
, 
key
, 
a0
, 
v0
, 
a1
, 
v1
, 
a2
, 
v2
)\

216 
	`KTR_EVENT3
(
m
, 
egroup
, 
id’t
, "¡¬t:0x%jX", (
uštmax_t
)
key
, \

217 
a0
, (
v0
), 
a1
, (
v1
), 
a2
, (
v2
))

	)

218 
	#KTR_START4
(
m
, 
egroup
, 
id’t
, 
key
, \

219 
a0
, 
v0
, 
a1
, 
v1
, 
a2
, 
v2
, 
a3
, 
v3
) \

220 
	`KTR_EVENT4
(
m
, 
egroup
, 
id’t
, "¡¬t:0x%jX", (
uštmax_t
)
key
, \

221 
a0
, (
v0
), 
a1
, (
v1
), 
a2
, (
v2
), 
a3
, (
v3
))

	)

228 
	#KTR_STOP0
(
m
, 
egroup
, 
id’t
, 
key
) \

229 
	`KTR_EVENT0
(
m
, 
egroup
, 
id’t
, "¡Ý:0x%jX", (
uštmax_t
)
key
)

	)

230 
	#KTR_STOP1
(
m
, 
egroup
, 
id’t
, 
key
, 
a0
, 
v0
) \

231 
	`KTR_EVENT1
(
m
, 
egroup
, 
id’t
, "¡Ý:0x%jX", (
uštmax_t
)
key
, 
a0
, (
v0
))

	)

232 
	#KTR_STOP2
(
m
, 
egroup
, 
id’t
, 
key
, 
a0
, 
v0
, 
a1
, 
v1
) \

233 
	`KTR_EVENT2
(
m
, 
egroup
, 
id’t
, "¡Ý:0x%jX", (
uštmax_t
)
key
, \

234 
a0
, (
v0
), 
a1
, (
v1
))

	)

235 
	#KTR_STOP3
(
m
, 
egroup
, 
id’t
, 
key
, 
a0
, 
v0
, 
a1
, 
v1
, 
a2
, 
v2
)\

236 
	`KTR_EVENT3
(
m
, 
egroup
, 
id’t
, "¡Ý:0x%jX", (
uštmax_t
)
key
, \

237 
a0
, (
v0
), 
a1
, (
v1
), 
a2
, (
v2
))

	)

238 
	#KTR_STOP4
(
m
, 
egroup
, 
id’t
, \

239 
key
, 
a0
, 
v0
, 
a1
, 
v1
, 
a2
, 
v2
, 
a3
, 
v3
) \

240 
	`KTR_EVENT4
(
m
, 
egroup
, 
id’t
, "¡Ý:0x%jX", (
uštmax_t
)
key
, \

241 
a0
, (
v0
), 
a1
, (
v1
), 
a2
, (
v2
), 
a3
, (
v3
))

	)

249 #ià(
KTR_COMPILE
 & 
KTR_INIT
) != 0

250 
	#ITR0
(
d
è
	`CTR0
(
KTR_INIT
, d)

	)

251 
	#ITR1
(
d
, 
p1
è
	`CTR1
(
KTR_INIT
, d,…1)

	)

252 
	#ITR2
(
d
, 
p1
, 
p2
è
	`CTR2
(
KTR_INIT
, d,…1,…2)

	)

253 
	#ITR3
(
d
, 
p1
, 
p2
, 
p3
è
	`CTR3
(
KTR_INIT
, d,…1,…2,…3)

	)

254 
	#ITR4
(
d
, 
p1
, 
p2
, 
p3
, 
p4
è
	`CTR4
(
KTR_INIT
, d,…1,…2,…3,…4)

	)

255 
	#ITR5
(
d
, 
p1
, 
p2
, 
p3
, 
p4
, 
p5
è
	`CTR5
(
KTR_INIT
, d,…1,…2,…3,…4,…5)

	)

256 
	#ITR6
(
d
, 
p1
, 
p2
, 
p3
, 
p4
, 
p5
, 
p6
è
	`CTR6
(
KTR_INIT
, d,…1,…2,…3,…4,…5,…6)

	)

258 
	#ITR0
(
d
)

	)

259 
	#ITR1
(
d
, 
p1
)

	)

260 
	#ITR2
(
d
, 
p1
, 
p2
)

	)

261 
	#ITR3
(
d
, 
p1
, 
p2
, 
p3
)

	)

262 
	#ITR4
(
d
, 
p1
, 
p2
, 
p3
, 
p4
)

	)

263 
	#ITR5
(
d
, 
p1
, 
p2
, 
p3
, 
p4
, 
p5
)

	)

264 
	#ITR6
(
d
, 
p1
, 
p2
, 
p3
, 
p4
, 
p5
, 
p6
)

	)

	@/usr/include/sys/libkern.h

35 #iâdeà
_SYS_LIBKERN_H_


36 
	#_SYS_LIBKERN_H_


	)

38 
	~<sys/cdefs.h
>

39 
	~<sys/ty³s.h
>

40 #ifdeà
_KERNEL


41 
	~<sys/sy¡m.h
>

44 #iâdef 
LIBKERN_INLINE


45 
	#LIBKERN_INLINE
 
__šlše


	)

46 
	#LIBKERN_BODY


	)

50 
u_ch¬
 cÚ¡ 
bcd2bš_d©a
[];

51 
u_ch¬
 cÚ¡ 
bš2bcd_d©a
[];

52 cÚ¡ 
hex2ascii_d©a
[];

54 
	#LIBKERN_LEN_BCD2BIN
 154

	)

55 
	#LIBKERN_LEN_BIN2BCD
 100

	)

56 
	#LIBKERN_LEN_HEX2ASCII
 36

	)

58 
šlše
 
u_ch¬


59 
	$bcd2bš
(
bcd
)

62 
	`KASSERT
(
bcd
 >ð0 && bcd < 
LIBKERN_LEN_BCD2BIN
,

63 ("šv®id bcd %d", 
bcd
));

64  (
bcd2bš_d©a
[
bcd
]);

65 
	}
}

67 
šlše
 
u_ch¬


68 
	$bš2bcd
(
bš
)

71 
	`KASSERT
(
bš
 >ð0 && bš < 
LIBKERN_LEN_BIN2BCD
,

72 ("šv®id bš %d", 
bš
));

73  (
bš2bcd_d©a
[
bš
]);

74 
	}
}

76 
šlše
 

77 
	$hex2ascii
(
hex
)

80 
	`KASSERT
(
hex
 >ð0 && hex < 
LIBKERN_LEN_HEX2ASCII
,

81 ("šv®id hex %d", 
hex
));

82  (
hex2ascii_d©a
[
hex
]);

83 
	}
}

85 
šlše
 
boÞ


86 
	$v®idbcd
(
bcd
)

89  (
bcd
 =ð0 || (bcd > 0 && bcd <ð0x99 && 
bcd2bš_d©a
[bcd] != 0));

90 
	}
}

92 
__šlše
 
	$imax
(
a
, 
b
è{  (¨> b ?‡ : b); 
	}
}

93 
__šlše
 
	$imš
(
a
, 
b
è{  (¨< b ?‡ : b); 
	}
}

94 
__šlše
 
	$lmax
(
a
, 
b
è{  (¨> b ?‡ : b); 
	}
}

95 
__šlše
 
	$lmš
(
a
, 
b
è{  (¨< b ?‡ : b); 
	}
}

96 
__šlše
 
u_št
 
	$max
(
u_št
 
a
, u_šˆ
b
è{  (¨> b ?‡ : b); 
	}
}

97 
__šlše
 
u_št
 
	$mš
(
u_št
 
a
, u_šˆ
b
è{  (¨< b ?‡ : b); 
	}
}

98 
__šlše
 
quad_t
 
	$qmax
(
quad_t
 
a
, quad_ˆ
b
è{  (¨> b ?‡ : b); 
	}
}

99 
__šlše
 
quad_t
 
	$qmš
(
quad_t
 
a
, quad_ˆ
b
è{  (¨< b ?‡ : b); 
	}
}

100 
__šlše
 
u_quad_t
 
	$uqmax
(
u_quad_t
 
a
, u_quad_ˆ
b
è{  (¨> b ?‡ : b); 
	}
}

101 
__šlše
 
u_quad_t
 
	$uqmš
(
u_quad_t
 
a
, u_quad_ˆ
b
è{  (¨< b ?‡ : b); 
	}
}

102 
__šlše
 
u_lÚg
 
	$ulmax
(
u_lÚg
 
a
, u_lÚg 
b
è{  (¨> b ?‡ : b); 
	}
}

103 
__šlše
 
u_lÚg
 
	$ulmš
(
u_lÚg
 
a
, u_lÚg 
b
è{  (¨< b ?‡ : b); 
	}
}

104 
__šlše
 
__uštmax_t
 
	$ummax
(
__uštmax_t
 
a
, __uštmax_ˆ
b
)

107  (
a
 > 
b
 ?‡ : b);

108 
	}
}

109 
__šlše
 
__uštmax_t
 
	$ummš
(
__uštmax_t
 
a
, __uštmax_ˆ
b
)

112  (
a
 < 
b
 ?‡ : b);

113 
	}
}

114 
__šlše
 
off_t
 
	$omax
(
off_t
 
a
, off_ˆ
b
è{  (¨> b ?‡ : b); 
	}
}

115 
__šlše
 
off_t
 
	$omš
(
off_t
 
a
, off_ˆ
b
è{  (¨< b ?‡ : b); 
	}
}

117 
__šlše
 
	$abs
(
a
è{  (¨< 0 ? -¨:‡); 
	}
}

118 
__šlše
 
	$Ïbs
(
a
è{  (¨< 0 ? -¨:‡); 
	}
}

119 
__šlše
 
quad_t
 
	$qabs
(
quad_t
 
a
è{  (¨< 0 ? -¨:‡); 
	}
}

121 
	#ARC4_ENTR_NONE
 0

	)

122 
	#ARC4_ENTR_HAVE
 1

	)

123 
	#ARC4_ENTR_SEED
 2

	)

124 
¬c4¿nd_ši£ed_¡©e
;

127 
	gm®loc_ty³
;

128 
ušt32_t
 
¬c4¿ndom
();

129 
¬c4¿ndom_buf
(*, 
size_t
);

130 
¬c4¿nd
(*, 
u_št
, );

131 
timšg§ã_bcmp
(cÚ¡ *, cÚ¡ *, 
size_t
);

132 *
b£¬ch
(cÚ¡ *, cÚ¡ *, 
size_t
,

133 
size_t
, (*)(const *, const *));

134 #iâdef 
HAVE_INLINE_FFS


135 
	`ffs
();

137 #iâdef 
HAVE_INLINE_FFSL


138 
	`ff¦
();

140 #iâdef 
HAVE_INLINE_FFSLL


141 
	`ff¦l
();

143 #iâdef 
HAVE_INLINE_FLS


144 
	`æs
();

146 #iâdef 
HAVE_INLINE_FLSL


147 
	`æ¦
();

149 #iâdef 
HAVE_INLINE_FLSLL


150 
	`æ¦l
();

152 
	#b™couÁ64
(
x
è
	`__b™couÁ64
((
ušt64_t
)(x))

	)

153 
	#b™couÁ32
(
x
è
	`__b™couÁ32
((
ušt32_t
)(x))

	)

154 
	#b™couÁ16
(
x
è
	`__b™couÁ16
((
ušt16_t
)(x))

	)

155 
	#b™couÁl
(
x
è
	`__b™couÁl
((
u_lÚg
)(x))

	)

156 
	#b™couÁ
(
x
è
	`__b™couÁ
((
u_št
)(x))

	)

158 
	`âm©ch
(const *, const *, );

159 
	`locc
(, *, 
u_št
);

160 *
	`memchr
(cÚ¡ *
s
, 
c
, 
size_t
 
n
);

161 *
	`memcchr
(cÚ¡ *
s
, 
c
, 
size_t
 
n
);

162 *
	`memmem
(cÚ¡ *
l
, 
size_t
 
l_Ën
, cÚ¡ *
s
, size_ˆ
s_Ën
);

163 
	`qsÜt
(*
ba£
, 
size_t
 
nmemb
, size_ˆ
size
,

164 (*
com·r
)(const *, const *));

165 
	`qsÜt_r
(*
ba£
, 
size_t
 
nmemb
, size_ˆ
size
, *
thunk
,

166 (*
com·r
)(*, const *, const *));

167 
u_lÚg
 
	`¿ndom
();

168 
	`sÿnc
(
u_št
, cÚ¡ 
u_ch¬
 *, const u_char *, );

169 
	`¤ªdom
(
u_lÚg
);

170 
	`¡rÿ£cmp
(const *, const *);

171 *
	`¡rÿt
(* 
__»¡riù
, const * __restrict);

172 *
	`¡rchr
(const *, );

173 
	`¡rcmp
(const *, const *);

174 *
	`¡rýy
(* 
__»¡riù
, const * __restrict);

175 
size_t
 
	$¡rc¥n
(cÚ¡ * 
__»¡riù
, cÚ¡ * __»¡riùè
__pu»
;

176 *
	`¡rdup
(cÚ¡ *
__»¡riù
, 
m®loc_ty³
 *);

177 *
	`¡ºÿt
(*, cÚ¡ *, 
size_t
);

178 *
	`¡ºdup
(cÚ¡ *
__»¡riù
, 
size_t
, 
m®loc_ty³
 *);

179 
size_t
 
	`¡¾ÿt
(*, const *, size_t);

180 
size_t
 
	`¡¾ýy
(*, const *, size_t);

181 
size_t
 
	`¡¾’
(const *);

182 
	`¡ºÿ£cmp
(cÚ¡ *, cÚ¡ *, 
size_t
);

183 
	`¡ºcmp
(cÚ¡ *, cÚ¡ *, 
size_t
);

184 *
	`¡ºýy
(* 
__»¡riù
, cÚ¡ * __»¡riù, 
size_t
);

185 
size_t
 
	`¡ºËn
(const *, size_t);

186 *
	`¡¼chr
(const *, );

187 *
	`¡r£p
(**, cÚ¡ *
d–im
);

188 
size_t
 
	`¡r¥n
(const *, const *);

189 *
	`¡r¡r
(const *, const *);

190 
	`¡rv®id
(cÚ¡ *, 
size_t
);

192 cÚ¡ 
ušt32_t
 
üc32_b
[];

194 
__šlše
 
ušt32_t


195 
	$üc32_¿w
(cÚ¡ *
buf
, 
size_t
 
size
, 
ušt32_t
 
üc
)

197 cÚ¡ 
ušt8_t
 *
p
 = (cÚ¡ ušt8_ˆ*)
buf
;

199 
size
--)

200 
üc
 = 
üc32_b
[(üø^ *
p
++) & 0xFF] ^ (crc >> 8);

201  (
üc
);

202 
	}
}

204 
__šlše
 
ušt32_t


205 
	$üc32
(cÚ¡ *
buf
, 
size_t
 
size
)

207 
ušt32_t
 
üc
;

209 
üc
 = 
	`üc32_¿w
(
buf
, 
size
, ~0U);

210  (
üc
 ^ ~0U);

211 
	}
}

213 
ušt32_t


214 
ÿlcuÏ‹_üc32c
(
ušt32_t
 
üc32c
, cÚ¡ *
bufãr
,

215 
Ëngth
);

216 #ifdeà
_KERNEL


217 #ià
defšed
(
__amd64__
è|| defšed(
__i386__
)

218 
ušt32_t
 
s£42_üc32c
(uint32_t, const *, );

220 #ià
defšed
(
__¯rch64__
)

221 
ušt32_t
 
¬mv8_üc32c
(uint32_t, const *, );

225 
__šlše
 *

226 
	$šdex
(cÚ¡ *
p
, 
ch
)

229  (
	`¡rchr
(
p
, 
ch
));

230 
	}
}

232 
__šlše
 *

233 
	$ršdex
(cÚ¡ *
p
, 
ch
)

236  (
	`¡¼chr
(
p
, 
ch
));

237 
	}
}

240 
	#FNM_NOMATCH
 1

	)

243 
	#FNM_NOESCAPE
 0x01

	)

244 
	#FNM_PATHNAME
 0x02

	)

245 
	#FNM_PERIOD
 0x04

	)

246 
	#FNM_LEADING_DIR
 0x08

	)

247 
	#FNM_CASEFOLD
 0x10

	)

248 
	#FNM_IGNORECASE
 
FNM_CASEFOLD


	)

249 
	#FNM_FILE_NAME
 
FNM_PATHNAME


	)

	@/usr/include/sys/limits.h

34 #iâdeà
_SYS_LIMITS_H_


35 
	#_SYS_LIMITS_H_


	)

37 
	~<sys/cdefs.h
>

38 
	~<machše/_lim™s.h
>

40 
	#CHAR_BIT
 
__CHAR_BIT


	)

42 
	#SCHAR_MAX
 
__SCHAR_MAX


	)

43 
	#SCHAR_MIN
 
__SCHAR_MIN


	)

45 
	#UCHAR_MAX
 
__UCHAR_MAX


	)

47 #ifdeà
__CHAR_UNSIGNED__


48 
	#CHAR_MAX
 
UCHAR_MAX


	)

49 
	#CHAR_MIN
 0

	)

51 
	#CHAR_MAX
 
SCHAR_MAX


	)

52 
	#CHAR_MIN
 
SCHAR_MIN


	)

55 
	#USHRT_MAX
 
__USHRT_MAX


	)

56 
	#SHRT_MAX
 
__SHRT_MAX


	)

57 
	#SHRT_MIN
 
__SHRT_MIN


	)

59 
	#UINT_MAX
 
__UINT_MAX


	)

60 
	#INT_MAX
 
__INT_MAX


	)

61 
	#INT_MIN
 
__INT_MIN


	)

63 
	#ULONG_MAX
 
__ULONG_MAX


	)

64 
	#LONG_MAX
 
__LONG_MAX


	)

65 
	#LONG_MIN
 
__LONG_MIN


	)

67 #ifdeà
__LONG_LONG_SUPPORTED


68 
	#ULLONG_MAX
 
__ULLONG_MAX


	)

69 
	#LLONG_MAX
 
__LLONG_MAX


	)

70 
	#LLONG_MIN
 
__LLONG_MIN


	)

73 #ià
__POSIX_VISIBLE
 || 
__XSI_VISIBLE


74 
	#SSIZE_MAX
 
__SSIZE_MAX


	)

77 #ià
__POSIX_VISIBLE
 >ð200112 || 
__XSI_VISIBLE


78 
	#SIZE_T_MAX
 
__SIZE_T_MAX


	)

80 
	#OFF_MAX
 
__OFF_MAX


	)

81 
	#OFF_MIN
 
__OFF_MIN


	)

84 #ià
__BSD_VISIBLE


85 
	#GID_MAX
 
UINT_MAX


	)

86 
	#UID_MAX
 
UINT_MAX


	)

88 
	#UQUAD_MAX
 (
__UQUAD_MAX
è

	)

89 
	#QUAD_MAX
 (
__QUAD_MAX
è

	)

90 
	#QUAD_MIN
 (
__QUAD_MIN
è

	)

93 #ià
__XSI_VISIBLE
 || 
__POSIX_VISIBLE
 >= 200809

94 
	#LONG_BIT
 
__LONG_BIT


	)

95 
	#WORD_BIT
 
__WORD_BIT


	)

98 #ià
__POSIX_VISIBLE


99 
	#MQ_PRIO_MAX
 64

	)

	@/usr/include/sys/linker.h

31 #iâdeà
_SYS_LINKER_H_


32 
	#_SYS_LINKER_H_


	)

34 #ifdeà
_KERNEL


36 
	~<machše/–f.h
>

37 
	~<sys/kobj.h
>

39 #ifdeà
MALLOC_DECLARE


40 
MALLOC_DECLARE
(
M_LINKER
);

43 
	gmod_d•’d
;

48 
lšk”_fže
* 
	tlšk”_fže_t
;

49 
	$TAILQ_HEAD
(, 
	tlšk”_fže
è
	tlšk”_fže_li¡_t
;

51 
ÿddr_t
 
	tlšk”_sym_t
;

52 
c_ÿddr_t
 
	tc_lšk”_sym_t
;

53 (*
	tlšk”_funùiÚ_Çme_ÿÎback_t
)(const *, *);

58 
	slšk”_symv®
 {

59 cÚ¡ * 
Çme
;

60 
ÿddr_t
 
v®ue
;

61 
size_t
 
size
;

62 } 
	tlšk”_symv®_t
;

64 (*
	tlšk”_funùiÚ_Çmev®_ÿÎback_t
)(
	tlšk”_fže_t
, , 
	tlšk”_symv®_t
 *, *);

66 
	scommÚ_symbÞ
 {

67 
	`STAILQ_ENTRY
(
commÚ_symbÞ
è
lšk
;

68 * 
Çme
;

69 
ÿddr_t
 
add»ss
;

72 
	slšk”_fže
 {

73 
KOBJ_FIELDS
;

74 
»fs
;

75 
u£¼efs
;

76 
æags
;

77 
	#LINKER_FILE_LINKED
 0x1

	)

78 
	#LINKER_FILE_MODULES
 0x2

	)

79 
	`TAILQ_ENTRY
(
lšk”_fže
è
lšk
;

80 * 
fž’ame
;

81 * 
·thÇme
;

82 
id
;

83 
ÿddr_t
 
add»ss
;

84 
size_t
 
size
;

85 
ÿddr_t
 
ùÜs_addr
;

86 
size_t
 
ùÜs_size
;

87 
nd•s
;

88 
lšk”_fže_t
* 
d•s
;

89 
	`STAILQ_HEAD
(, 
commÚ_symbÞ
è
commÚ
;

90 
	`TAILQ_HEAD
(, 
moduË
è
moduËs
;

91 
	`TAILQ_ENTRY
(
lšk”_fže
è
lßded
;

92 
lßdút
;

98 
ÃÇbËd
;

99 
fbt_ÃÁr›s
;

105 
lšk”_þass
 *
	tlšk”_þass_t
;

106 
	$TAILQ_HEAD
(, 
	tlšk”_þass
è
	tlšk”_þass_li¡_t
;

108 
	slšk”_þass
 {

109 
KOBJ_CLASS_FIELDS
;

110 
	`TAILQ_ENTRY
(
lšk”_þass
è
lšk
;

116 
	tlšk”_´ediÿ‹_t
(
	tlšk”_fže_t
, *);

121 
lšk”_fže_t
 
lšk”_k”Ãl_fže
;

126 
	`lšk”_»ã»nû_moduË
(cÚ¡ * 
_modÇme
, 
mod_d•’d
 *
_v”šfo
,

127 
lšk”_fže_t
* 
_»suÉ
);

134 
	`lšk”_»Ëa£_moduË
(cÚ¡ *
_modÇme
, 
mod_d•’d
 *
_v”šfo
,

135 
lšk”_fže_t
 
_fže
);

142 
	`lšk”_fže_fÜ—ch
(
lšk”_´ediÿ‹_t
 *
_´ediÿ‹
, *
_cÚ‹xt
);

148 
ÿddr_t
 
	`lšk”_fže_lookup_symbÞ
(
lšk”_fže_t
 
_fže
, cÚ¡ * 
_Çme
,

149 
_d•s
);

156 
	`lšk”_fže_lookup_£t
(
lšk”_fže_t
 
_fže
, cÚ¡ *
_Çme
,

157 *
_¡¬t
, *
_¡Ý
, *
_couÁ
);

162 
	`lšk”_fže_funùiÚ_li¡®l
(
lšk”_fže_t
,

163 
lšk”_funùiÚ_Çmev®_ÿÎback_t
, *);

168 
	`lšk”_add_þass
(
lšk”_þass_t
 
_þs
);

169 
	`lšk”_fže_uÆßd
(
lšk”_fže_t
 
_fže
, 
æags
);

170 
	`lšk”_lßd_d•’d’c›s
(
lšk”_fže_t
 
_lf
);

171 
lšk”_fže_t
 
	`lšk”_make_fže
(cÚ¡ * 
_fž’ame
, 
lšk”_þass_t
 
_þs
);

176 
	`lšk”_ddb_lookup
(cÚ¡ *
_sym¡r
, 
c_lšk”_sym_t
 *
_sym
);

177 
	`lšk”_ddb_£¬ch_symbÞ
(
ÿddr_t
 
_v®ue
, 
c_lšk”_sym_t
 *
_sym
,

178 *
_difå
);

179 
	`lšk”_ddb_symbÞ_v®ues
(
c_lšk”_sym_t
 
_sym
, 
lšk”_symv®_t
 *
_symv®
);

180 
	`lšk”_ddb_£¬ch_symbÞ_Çme
(
ÿddr_t
 
v®ue
, *
buf
, 
u_št
 
buæ’
,

181 *
off£t
);

186 
	`lšk”_£¬ch_symbÞ_Çme
(
ÿddr_t
 
v®ue
, *
buf
, 
u_št
 
buæ’
,

187 *
off£t
);

191 *
	`lšk”_hwpmc_li¡_objeùs
();

198 
	#MODINFO_END
 0x0000

	)

199 
	#MODINFO_NAME
 0x0001

	)

200 
	#MODINFO_TYPE
 0x0002

	)

201 
	#MODINFO_ADDR
 0x0003

	)

202 
	#MODINFO_SIZE
 0x0004

	)

203 
	#MODINFO_EMPTY
 0x0005

	)

204 
	#MODINFO_ARGS
 0x0006

	)

205 
	#MODINFO_METADATA
 0x8000

	)

207 
	#MODINFOMD_AOUTEXEC
 0x0001

	)

208 
	#MODINFOMD_ELFHDR
 0x0002

	)

209 
	#MODINFOMD_SSYM
 0x0003

	)

210 
	#MODINFOMD_ESYM
 0x0004

	)

211 
	#MODINFOMD_DYNAMIC
 0x0005

	)

213 #ià!
	`defšed
(
__¥¬c64__
è&& !defšed(
__pow”pc__
)

214 
	#MODINFOMD_ENVP
 0x0006

	)

215 
	#MODINFOMD_HOWTO
 0x0007

	)

216 
	#MODINFOMD_KERNEND
 0x0008

	)

218 
	#MODINFOMD_SHDR
 0x0009

	)

219 
	#MODINFOMD_CTORS_ADDR
 0x000¨

	)

220 
	#MODINFOMD_CTORS_SIZE
 0x000b

	)

221 
	#MODINFOMD_FW_HANDLE
 0x000ø

	)

222 
	#MODINFOMD_KEYBUF
 0x000d

	)

223 
	#MODINFOMD_NOCOPY
 0x8000

	)

225 
	#MODINFOMD_DEPLIST
 (0x4001 | 
MODINFOMD_NOCOPY
è

	)

227 #ifdeà
_KERNEL


228 
	#MD_FETCH
(
mdp
, 
šfo
, 
ty³
) ({ \

229 
ty³
 *
__p
; \

230 
__p
 = (
ty³
 *)
	`´–ßd_£¬ch_šfo
((
mdp
), 
MODINFO_METADATA
 | (
šfo
)); \

231 
__p
 ? *__p : 0; \

232 
	}
})

	)

235 
	#LINKER_HINTS_VERSION
 1

	)

236 
	#LINKER_HINTS_MAX
 (1 << 20è

	)

238 #ifdeà
_KERNEL


243 
vm_off£t_t
 
´–ßd_addr_»loÿ‹
;

244 
ÿddr_t
 
´–ßd_m‘ad©a
;

246 * 
´–ßd_ãtch_addr
(
ÿddr_t
 
_mod
);

247 
size_t
 
´–ßd_ãtch_size
(
ÿddr_t
 
_mod
);

248 
ÿddr_t
 
´–ßd_£¬ch_by_Çme
(cÚ¡ *
_Çme
);

249 
ÿddr_t
 
´–ßd_£¬ch_by_ty³
(cÚ¡ *
_ty³
);

250 
ÿddr_t
 
´–ßd_£¬ch_Ãxt_Çme
(ÿddr_ˆ
_ba£
);

251 
ÿddr_t
 
´–ßd_£¬ch_šfo
(ÿddr_ˆ
_mod
, 
_šf
);

252 
´–ßd_d–‘e_Çme
(cÚ¡ *
_Çme
);

253 
´–ßd_boÙ¡¿p_»loÿ‹
(
vm_off£t_t
 
_off£t
);

255 #ifdeà
KLD_DEBUG


257 
kld_debug
;

258 
	#KLD_DEBUG_FILE
 1

	)

259 
	#KLD_DEBUG_SYM
 2

	)

261 
	#KLD_DPF
(
ÿt
, 
¬gs
) \

263 ià(
kld_debug
 & 
KLD_DEBUG_
##
ÿt
è
´štf
 
¬gs
; \

264 } 0)

	)

268 
	#KLD_DPF
(
ÿt
, 
¬gs
)

	)

272 
	t–f_lookup_â
(
	tlšk”_fže_t
, 
	tElf_Size
, , 
	tElf_Addr
 *);

275 
boÞ
 
–f_is_ifunc_»loc
(
Elf_Size
 
r_šfo
);

276 
–f_»loc
(
lšk”_fže_t
 
_lf
, 
Elf_Addr
 
ba£
, cÚ¡ *
_»l
,

277 
_ty³
, 
–f_lookup_â
 
_lu
);

278 
–f_»loc_loÿl
(
lšk”_fže_t
 
_lf
, 
Elf_Addr
 
ba£
, cÚ¡ *
_»l
,

279 
_ty³
, 
–f_lookup_â
 
_lu
);

280 
Elf_Addr
 
–f_»loÿddr
(
lšk”_fže_t
 
_lf
, Elf_Add¸
addr
);

281 cÚ¡ 
Elf_Sym
 *
–f_g‘_sym
(
lšk”_fže_t
 
_lf
, 
Elf_Size
 
_symidx
);

282 cÚ¡ *
–f_g‘_symÇme
(
lšk”_fže_t
 
_lf
, 
Elf_Size
 
_symidx
);

283 
lšk_–f_œ–oc
(
ÿddr_t
 
kmdp
);

285 
	slšk”_ùf
 {

286 cÚ¡ 
ušt8_t
 *
	mùáab
;

287 
	mùfút
;

288 cÚ¡ 
Elf_Sym
 *
	msymb
;

289 
	mnsym
;

290 cÚ¡ *
	m¡¹ab
;

291 
	m¡rút
;

292 
ušt32_t
 **
	mùfofå
;

293 
ušt32_t
 **
	mtypofå
;

294 *
	mty¶’p
;

295 } 
	tlšk”_ùf_t
;

297 
lšk”_ùf_g‘
(
lšk”_fže_t
, 
lšk”_ùf_t
 *);

299 
–f_ýu_lßd_fže
(
lšk”_fže_t
);

300 
–f_ýu_uÆßd_fže
(
lšk”_fže_t
);

303 
	#ELF_RELOC_REL
 1

	)

304 
	#ELF_RELOC_RELA
 2

	)

310 
	skld_fže_¡©_1
 {

311 
	mv”siÚ
;

312 
	mÇme
[
MAXPATHLEN
];

313 
	m»fs
;

314 
	mid
;

315 
ÿddr_t
 
	madd»ss
;

316 
size_t
 
	msize
;

320 
	skld_fže_¡©
 {

321 
	mv”siÚ
;

322 
	mÇme
[
MAXPATHLEN
];

323 
	m»fs
;

324 
	mid
;

325 
ÿddr_t
 
	madd»ss
;

326 
size_t
 
	msize
;

327 
	m·thÇme
[
MAXPATHLEN
];

330 
	skld_sym_lookup
 {

331 
	mv”siÚ
;

332 *
	msymÇme
;

333 
u_lÚg
 
	msymv®ue
;

334 
size_t
 
	msymsize
;

336 
	#KLDSYM_LOOKUP
 1

	)

341 
	#LINKER_UNLOAD_NORMAL
 0

	)

342 
	#LINKER_UNLOAD_FORCE
 1

	)

344 #iâdeà
_KERNEL


346 
	~<sys/cdefs.h
>

348 
__BEGIN_DECLS


349 
kldlßd
(cÚ¡ * 
_fže
);

350 
klduÆßd
(
_fžeid
);

351 
klduÆßdf
(
_fžeid
, 
æags
);

352 
kldfšd
(cÚ¡ * 
_fže
);

353 
kldÃxt
(
_fžeid
);

354 
kld¡©
(
_fžeid
, 
kld_fže_¡©
* 
_¡©
);

355 
kldfœ¡mod
(
_fžeid
);

356 
kldsym
(
_fžeid
, 
_cmd
, *
_d©a
);

357 
	g__END_DECLS


	@/usr/include/sys/lock.h

34 #iâdeà
_SYS_LOCK_H_


35 
	#_SYS_LOCK_H_


	)

37 
	~<sys/queue.h
>

38 
	~<sys/_lock.h
>

39 
	~<sys/kŒ_þass.h
>

41 
	glock_li¡_’Œy
;

42 
	gth»ad
;

61 
	slock_þass
 {

62 cÚ¡ *
	mlc_Çme
;

63 
u_št
 
	mlc_æags
;

64 (*
	mlc_as£¹
)(cÚ¡ 
lock_objeù
 *
	mlock
, 
	mwh©
);

65 (*
	mlc_ddb_show
)(cÚ¡ 
lock_objeù
 *
	mlock
);

66 (*
	mlc_lock
)(
lock_objeù
 *
	mlock
, 
ušŒ_t
 
	mhow
);

67 (*
	mlc_owÃr
)(cÚ¡ 
lock_objeù
 *
	mlock
,

68 
th»ad
 **
	mowÃr
);

69 
ušŒ_t
 (*
lc_uÆock
)(
lock_objeù
 *
	mlock
);

72 
	#LC_SLEEPLOCK
 0x00000001

	)

73 
	#LC_SPINLOCK
 0x00000002

	)

74 
	#LC_SLEEPABLE
 0x00000004

	)

75 
	#LC_RECURSABLE
 0x00000008

	)

76 
	#LC_UPGRADABLE
 0x00000010

	)

78 
	#LO_CLASSFLAGS
 0x0000fffà

	)

79 
	#LO_INITIALIZED
 0x00010000

	)

80 
	#LO_WITNESS
 0x00020000

	)

81 
	#LO_QUIET
 0x00040000

	)

82 
	#LO_RECURSABLE
 0x00080000

	)

83 
	#LO_SLEEPABLE
 0x00100000

	)

84 
	#LO_UPGRADABLE
 0x00200000

	)

85 
	#LO_DUPOK
 0x00400000

	)

86 
	#LO_IS_VNODE
 0x00800000

	)

87 
	#LO_CLASSMASK
 0x0f000000

	)

88 
	#LO_NOPROFILE
 0x10000000

	)

89 
	#LO_NEW
 0x20000000

	)

96 
	#LO_CLASSSHIFT
 24

	)

97 
	#LO_CLASSINDEX
(
lock
è(((Öock)->
lo_æags
è& 
LO_CLASSMASK
è>> 
LO_CLASSSHIFT
)

	)

98 
	#LOCK_CLASS
(
lock
è(
lock_þas£s
[
	`LO_CLASSINDEX
(Öock))])

	)

99 
	#LOCK_CLASS_MAX
 (
LO_CLASSMASK
 >> 
LO_CLASSSHIFT
)

	)

105 
	#LOP_NEWORDER
 0x00000001

	)

106 
	#LOP_QUIET
 0x00000002

	)

107 
	#LOP_TRYLOCK
 0x00000004

	)

108 
	#LOP_EXCLUSIVE
 0x00000008

	)

109 
	#LOP_DUPOK
 0x00000010

	)

112 
	#LA_MASKASSERT
 0x000000fà

	)

113 
	#LA_UNLOCKED
 0x00000000

	)

114 
	#LA_LOCKED
 0x00000001

	)

115 
	#LA_SLOCKED
 0x00000002

	)

116 
	#LA_XLOCKED
 0x00000004

	)

117 
	#LA_RECURSED
 0x00000008

	)

118 
	#LA_NOTRECURSED
 0x00000010

	)

120 #ifdeà
_KERNEL


130 #ià(
defšed
(
KLD_MODULE
è&& !defšed(
KLD_TIED
)è|| defšed(
WITNESS
è|| defšed(
INVARIANTS
) || \

131 
defšed
(
LOCK_PROFILING
è|| 
	$defšed
(
KTR
)

132 
	#LOCK_DEBUG
 1

	)

134 
	#LOCK_DEBUG
 0

	)

141 #ià
LOCK_DEBUG
 > 0

142 
	#LOCK_FILE_LINE_ARG_DEF
 , cÚ¡ *
fže
, 
lše


	)

143 
	#LOCK_FILE_LINE_ARG
 , 
fže
, 
lše


	)

144 
	#LOCK_FILE
 
__FILE__


	)

145 
	#LOCK_LINE
 
__LINE__


	)

147 
	#LOCK_FILE_LINE_ARG_DEF


	)

148 
	#LOCK_FILE_LINE_ARG


	)

149 
	#LOCK_FILE
 
NULL


	)

150 
	#LOCK_LINE
 0

	)

164 #ià
LOCK_DEBUG
 > 0

165 
	#LOCK_LOG_TEST
(
lo
, 
æags
) \

166 (((
æags
è& 
LOP_QUIET
è=ð0 && ((
lo
)->
lo_æags
 & 
LO_QUIET
è=ð0)

	)

168 
	#LOCK_LOG_TEST
(
lo
, 
æags
è0

	)

172 
	#LOCK_LOG_LOCK
(
ÝÇme
, 
lo
, 
æags
, 
»cur£
, 
fže
, 
lše
) do { \

173 ià(
	`LOCK_LOG_TEST
((
lo
), (
æags
))) \

174 
	`CTR6
(
KTR_LOCK
, 
ÝÇme
 " (%s) %s %p„ = %d‡t %s:%d", \

175 
	`LOCK_CLASS
(
lo
)->
lc_Çme
, (lo)->
lo_Çme
, \

176 (
lo
), (
u_št
)(
»cur£
), (
fže
), (
lše
)); \

177 
	}
} 0)

	)

179 
	#LOCK_LOG_TRY
(
ÝÇme
, 
lo
, 
æags
, 
»suÉ
, 
fže
, 
lše
) do { \

180 ià(
	`LOCK_LOG_TEST
((
lo
), (
æags
))) \

181 
	`CTR6
(
KTR_LOCK
, "TRY_" 
ÝÇme
 " (%s) %s %p„esult=%d‡t %s:%d",\

182 
	`LOCK_CLASS
(
lo
)->
lc_Çme
, (lo)->
lo_Çme
, \

183 (
lo
), (
u_št
)(
»suÉ
), (
fže
), (
lše
)); \

184 } 0)

	)

186 
	#LOCK_LOG_INIT
(
lo
, 
æags
) do { \

187 ià(
	`LOCK_LOG_TEST
((
lo
), (
æags
))) \

188 
	`CTR4
(
KTR_LOCK
, "%s: %°(%sè%s", 
__func__
, (
lo
), \

189 
	`LOCK_CLASS
(
lo
)->
lc_Çme
, (lo)->
lo_Çme
); \

190 } 0)

	)

192 
	#LOCK_LOG_DESTROY
(
lo
, 
æags
è
	`LOCK_LOG_INIT
Öo, fÏgs)

	)

194 
	#lock_š™Ÿlized
(
lo
è(Öo)->
lo_æags
 & 
LO_INITIALIZED
)

	)

200 
	#MPASS
(
ex
è
	`MPASS4
Óx, #ex, 
__FILE__
, 
__LINE__
)

	)

201 
	#MPASS2
(
ex
, 
wh©
è
	`MPASS4
Óx, wh©, 
__FILE__
, 
__LINE__
)

	)

202 
	#MPASS3
(
ex
, 
fže
, 
lše
è
	`MPASS4
Óx, #ex, fže,†še)

	)

203 
	#MPASS4
(
ex
, 
wh©
, 
fže
, 
lše
) \

204 
	`KASSERT
((
ex
), ("As£¹iÚ % çžed‡ˆ%s:%d", 
wh©
, 
fže
, 
lše
))

	)

206 
lock_þass
 
lock_þass_mtx_¦“p
;

207 
lock_þass
 
lock_þass_mtx_¥š
;

208 
lock_þass
 
lock_þass_sx
;

209 
lock_þass
 
lock_þass_rw
;

210 
lock_þass
 
lock_þass_rm
;

211 
lock_þass
 
lock_þass_rm_¦“·bË
;

212 
lock_þass
 
lock_þass_lockmgr
;

214 
lock_þass
 *
lock_þas£s
[];

216 
	slock_d–ay_cÚfig
 {

217 
u_št
 
	mba£
;

218 
u_št
 
	mmax
;

221 
	slock_d–ay_¬g
 {

222 
lock_d–ay_cÚfig
 *
	mcÚfig
;

223 
u_št
 
	md–ay
;

224 
u_št
 
	m¥š_út
;

227 
šlše
 

228 
	$lock_d–ay_¬g_š™
(
lock_d–ay_¬g
 *
Ï
, 
lock_d–ay_cÚfig
 *
lc
)

230 
Ï
->
cÚfig
 = 
lc
;

231 
Ï
->
d–ay
 = 
lc
->
ba£
;

232 
Ï
->
¥š_út
 = 0;

233 
	}
}

235 
	#lock_d–ay_¥š
(
n
) do { \

236 
u_št
 
_i
; \

238 
_i
 = (
n
); _i > 0; _i--) \

239 
	`ýu_¥šwa™
(); \

240 } 0)

	)

242 
	#LOCK_DELAY_SYSINIT
(
func
) \

243 
	`SYSINIT
(
func
##
_ld
, 
SI_SUB_LOCK
, 
SI_ORDER_ANY
, func, 
NULL
)

	)

245 
	#LOCK_DELAY_SYSINIT_DEFAULT
(
lc
) \

246 
	`SYSINIT
(
lock_d–ay_
##
lc
##
_ld
, 
SI_SUB_LOCK
, 
SI_ORDER_ANY
, \

247 
lock_d–ay_deçuÉ_š™
, &
lc
)

	)

249 
lock_š™
(
lock_objeù
 *, 
lock_þass
 *,

251 
lock_de¡roy
(
lock_objeù
 *);

252 
lock_d–ay
(
lock_d–ay_¬g
 *);

253 
lock_d–ay_deçuÉ_š™
(
lock_d–ay_cÚfig
 *);

254 
¥šlock_’‹r
();

255 
¥šlock_ex™
();

256 
w™Ãss_š™
(
lock_objeù
 *, const *);

257 
w™Ãss_de¡roy
(
lock_objeù
 *);

258 
w™Ãss_defšeÜd”
(
lock_objeù
 *, lock_object *);

259 
w™Ãss_checkÜd”
(
lock_objeù
 *, , const *, ,

260 
lock_objeù
 *);

261 
w™Ãss_lock
(
lock_objeù
 *, , const *, );

262 
w™Ãss_upg¿de
(
lock_objeù
 *, , const *, );

263 
w™Ãss_downg¿de
(
lock_objeù
 *, , const *, );

264 
w™Ãss_uÆock
(
lock_objeù
 *, , const *, );

265 
w™Ãss_§ve
(
lock_objeù
 *, const **, *);

266 
w™Ãss_»¡Üe
(
lock_objeù
 *, const *, );

267 
w™Ãss_li¡_locks
(
lock_li¡_’Œy
 **,

269 
	`w™Ãss_w¬n
(, 
lock_objeù
 *, const *, ...);

270 
	`w™Ãss_as£¹
(cÚ¡ 
lock_objeù
 *, , const *, );

271 
	`w™Ãss_di¥Ïy_¥šlock
(
lock_objeù
 *, 
th»ad
 *,

273 
	`w™Ãss_lše
(
lock_objeù
 *);

274 
	`w™Ãss_nÜ–—£
(
lock_objeù
 *);

275 
	`w™Ãss_»Ëa£ok
(
lock_objeù
 *);

276 cÚ¡ *
	`w™Ãss_fže
(
lock_objeù
 *);

277 
	`w™Ãss_th»ad_ex™
(
th»ad
 *);

279 #ifdef 
WITNESS


280 
	`w™Ãss_¡¬tup_couÁ
();

281 
	`w™Ãss_¡¬tup
(*);

284 
	#WARN_GIANTOK
 0x01

	)

285 
	#WARN_PANIC
 0x02

	)

286 
	#WARN_SLEEPOK
 0x04

	)

288 
	#WITNESS_INIT
(
lock
, 
ty³
) \

289 
	`w™Ãss_š™
((
lock
), (
ty³
))

	)

291 
	#WITNESS_DESTROY
(
lock
) \

292 
	`w™Ãss_de¡roy
(
lock
)

	)

294 
	#WITNESS_CHECKORDER
(
lock
, 
æags
, 
fže
, 
lše
, 
š‹¾ock
) \

295 
	`w™Ãss_checkÜd”
((
lock
), (
æags
), (
fže
), (
lše
), (
š‹¾ock
))

	)

297 
	#WITNESS_DEFINEORDER
(
lock1
, 
lock2
) \

298 
	`w™Ãss_defšeÜd”
((
lock_objeù
 *)(
lock1
), \

299 (
lock_objeù
 *)(
lock2
))

	)

301 
	#WITNESS_LOCK
(
lock
, 
æags
, 
fže
, 
lše
) \

302 
	`w™Ãss_lock
((
lock
), (
æags
), (
fže
), (
lše
))

	)

304 
	#WITNESS_UPGRADE
(
lock
, 
æags
, 
fže
, 
lše
) \

305 
	`w™Ãss_upg¿de
((
lock
), (
æags
), (
fže
), (
lše
))

	)

307 
	#WITNESS_DOWNGRADE
(
lock
, 
æags
, 
fže
, 
lše
) \

308 
	`w™Ãss_downg¿de
((
lock
), (
æags
), (
fže
), (
lše
))

	)

310 
	#WITNESS_UNLOCK
(
lock
, 
æags
, 
fže
, 
lše
) \

311 
	`w™Ãss_uÆock
((
lock
), (
æags
), (
fže
), (
lše
))

	)

313 
	#WITNESS_CHECK
(
æags
, 
lock
, 
fmt
, ...) \

314 
	`w™Ãss_w¬n
((
æags
), (
lock
), (
fmt
), ## 
__VA_ARGS__
)

	)

316 
	#WITNESS_WARN
(
æags
, 
lock
, 
fmt
, ...) \

317 
	`w™Ãss_w¬n
((
æags
), (
lock
), (
fmt
), ## 
__VA_ARGS__
)

	)

319 
	#WITNESS_SAVE_DECL
(
n
) \

320 cÚ¡ * 
	`__CONCAT
(
n
, 
__wf
); \

321 
	`__CONCAT
(
n
, 
__wl
)

	)

323 
	#WITNESS_SAVE
(
lock
, 
n
) \

324 
	`w™Ãss_§ve
((
lock
), &
	`__CONCAT
(
n
, 
__wf
), &__CONCATÒ, 
__wl
))

	)

326 
	#WITNESS_RESTORE
(
lock
, 
n
) \

327 
	`w™Ãss_»¡Üe
((
lock
), 
	`__CONCAT
(
n
, 
__wf
), __CONCATÒ, 
__wl
))

	)

329 
	#WITNESS_NORELEASE
(
lock
) \

330 
	`w™Ãss_nÜ–—£
(&(
lock
)->
lock_objeù
)

	)

332 
	#WITNESS_RELEASEOK
(
lock
) \

333 
	`w™Ãss_»Ëa£ok
(&(
lock
)->
lock_objeù
)

	)

335 
	#WITNESS_FILE
(
lock
) \

336 
	`w™Ãss_fže
(
lock
)

	)

338 
	#WITNESS_LINE
(
lock
) \

339 
	`w™Ãss_lše
(
lock
)

	)

342 
	#WITNESS_INIT
(
lock
, 
ty³
è()0

	)

343 
	#WITNESS_DESTROY
(
lock
è()0

	)

344 
	#WITNESS_DEFINEORDER
(
lock1
, 
lock2
è0

	)

345 
	#WITNESS_CHECKORDER
(
lock
, 
æags
, 
fže
, 
lše
, 
š‹¾ock
è()0

	)

346 
	#WITNESS_LOCK
(
lock
, 
æags
, 
fže
, 
lše
è()0

	)

347 
	#WITNESS_UPGRADE
(
lock
, 
æags
, 
fže
, 
lše
è()0

	)

348 
	#WITNESS_DOWNGRADE
(
lock
, 
æags
, 
fže
, 
lše
è()0

	)

349 
	#WITNESS_UNLOCK
(
lock
, 
æags
, 
fže
, 
lše
è()0

	)

350 
	#WITNESS_CHECK
(
æags
, 
lock
, 
fmt
, ...è0

	)

351 
	#WITNESS_WARN
(
æags
, 
lock
, 
fmt
, ...è()0

	)

352 
	#WITNESS_SAVE_DECL
(
n
è()0

	)

353 
	#WITNESS_SAVE
(
lock
, 
n
è()0

	)

354 
	#WITNESS_RESTORE
(
lock
, 
n
è()0

	)

355 
	#WITNESS_NORELEASE
(
lock
è()0

	)

356 
	#WITNESS_RELEASEOK
(
lock
è()0

	)

357 
	#WITNESS_FILE
(
lock
è("?")

	)

358 
	#WITNESS_LINE
(
lock
è(0)

	)

	@/usr/include/sys/malloc.h

37 #iâdeà
_SYS_MALLOC_H_


38 
	#_SYS_MALLOC_H_


	)

40 
	~<sys/·¿m.h
>

41 #ifdeà
_KERNEL


42 
	~<sys/sy¡m.h
>

44 
	~<sys/queue.h
>

45 
	~<sys/_lock.h
>

46 
	~<sys/_mu‹x.h
>

47 
	~<machše/_lim™s.h
>

49 
	#MINALLOCSIZE
 
UMA_SMALLEST_UNIT


	)

54 
	#M_NOWAIT
 0x0001

	)

55 
	#M_WAITOK
 0x0002

	)

56 
	#M_ZERO
 0x0100

	)

57 
	#M_NOVM
 0x0200

	)

58 
	#M_USE_RESERVE
 0x0400

	)

59 
	#M_NODUMP
 0x0800

	)

60 
	#M_FIRSTFIT
 0x1000

	)

61 
	#M_BESTFIT
 0x2000

	)

62 
	#M_EXEC
 0x4000

	)

64 
	#M_MAGIC
 877983977

	)

82 
	sm®loc_ty³_¡©s
 {

83 
ušt64_t
 
	mmts_mem®loûd
;

84 
ušt64_t
 
	mmts_memä“d
;

85 
ušt64_t
 
	mmts_num®locs
;

86 
ušt64_t
 
	mmts_numä“s
;

87 
ušt64_t
 
	mmts_size
;

88 
ušt64_t
 
	m_mts_»£rved1
;

89 
ušt64_t
 
	m_mts_»£rved2
;

90 
ušt64_t
 
	m_mts_»£rved3
;

96 
	#DTMALLOC_PROBE_MALLOC
 0

	)

97 
	#DTMALLOC_PROBE_FREE
 1

	)

98 
	#DTMALLOC_PROBE_MAX
 2

	)

100 
	sm®loc_ty³_š‹º®
 {

101 
ušt32_t
 
	mmti_´obes
[
DTMALLOC_PROBE_MAX
];

103 
u_ch¬
 
	mmti_zÚe
;

104 
m®loc_ty³_¡©s
 *
	mmti_¡©s
;

112 
	sm®loc_ty³
 {

113 
m®loc_ty³
 *
	mks_Ãxt
;

114 
u_lÚg
 
	mks_magic
;

115 cÚ¡ *
	mks_shÜtdesc
;

116 *
	mks_hªdË
;

126 
	#MALLOC_TYPE_STREAM_VERSION
 0x00000001

	)

127 
	sm®loc_ty³_¡»am_h—d”
 {

128 
ušt32_t
 
	mmtsh_v”siÚ
;

129 
ušt32_t
 
	mmtsh_maxýus
;

130 
ušt32_t
 
	mmtsh_couÁ
;

131 
ušt32_t
 
	m_mtsh_·d
;

134 
	#MALLOC_MAX_NAME
 32

	)

135 
	sm®loc_ty³_h—d”
 {

136 
	mmth_Çme
[
MALLOC_MAX_NAME
];

139 #ifdeà
_KERNEL


140 
	#MALLOC_DEFINE
(
ty³
, 
shÜtdesc
, 
lÚgdesc
) \

141 
m®loc_ty³
 
ty³
[1] = { \

142 { 
NULL
, 
M_MAGIC
, 
shÜtdesc
, NULL } \

144 
	`SYSINIT
(
ty³
##
_š™
, 
SI_SUB_KMEM
, 
SI_ORDER_THIRD
, 
m®loc_š™
, \

145 
ty³
); \

146 
	`SYSUNINIT
(
ty³
##
_unš™
, 
SI_SUB_KMEM
, 
SI_ORDER_ANY
, \

147 
m®loc_unš™
, 
ty³
)

	)

149 
	#MALLOC_DECLARE
(
ty³
) \

150 
m®loc_ty³
 
ty³
[1]

	)

152 
MALLOC_DECLARE
(
M_CACHE
);

153 
MALLOC_DECLARE
(
M_DEVBUF
);

154 
MALLOC_DECLARE
(
M_TEMP
);

161 
MALLOC_DECLARE
(
M_IOV
);

163 
	gdomaš£t
;

164 
mtx
 
m®loc_mtx
;

169 
	tm®loc_ty³_li¡_func_t
(
	tm®loc_ty³
 *, *);

171 
cÚtigä“
(*
addr
, 
size
, 
m®loc_ty³
 *
ty³
);

172 *
	$cÚtigm®loc
(
size
, 
m®loc_ty³
 *
ty³
, 
æags
,

173 
vm_·ddr_t
 
low
, vm_·ddr_ˆ
high
, 
®ignm’t
,

174 
vm_·ddr_t
 
bound¬y
è
__m®loc_like
 
__»suÉ_u£_check


175 
	$__®loc_size
(1è
	`__®loc_®ign
(6);

176 *
	$cÚtigm®loc_domaš£t
(
size
, 
m®loc_ty³
 *
ty³
,

177 
domaš£t
 *
ds
, 
æags
, 
vm_·ddr_t
 
low
, vm_·ddr_ˆ
high
,

178 
®ignm’t
, 
vm_·ddr_t
 
bound¬y
)

179 
__m®loc_like
 
__»suÉ_u£_check
 
	$__®loc_size
(1è
	`__®loc_®ign
(6);

180 
	`ä“
(*
addr
, 
m®loc_ty³
 *
ty³
);

181 
	`ä“_domaš
(*
addr
, 
m®loc_ty³
 *
ty³
);

182 *
	$m®loc
(
size_t
 
size
, 
m®loc_ty³
 *
ty³
, 
æags
è
__m®loc_like


183 
__»suÉ_u£_check
 
	`__®loc_size
(1);

219 
	#m®loc
(
size
, 
ty³
, 
æags
) ({ \

220 *
_m®loc_™em
; \

221 
size_t
 
_size
 = (
size
); \

222 ià(
	`__bužtš_cÚ¡ªt_p
(
size
è&& __bužtš_cÚ¡ªt_p(
æags
) &&\

223 ((
æags
è& 
M_ZERO
) != 0) { \

224 
_m®loc_™em
 = 
	`m®loc
(
_size
, 
ty³
, (
æags
è&~ 
M_ZERO
); \

225 ià(((
æags
è& 
M_WAITOK
) != 0 || \

226 
	`__´ediù_Œue
(
_m®loc_™em
 !ð
NULL
)) \

227 
	`bz”o
(
_m®loc_™em
, 
_size
); \

229 
_m®loc_™em
 = 
	`m®loc
(
_size
, 
ty³
, 
æags
); \

231 
_m®loc_™em
; \

232 
	}
})

	)

234 *
	$m®loc_domaš£t
(
size_t
 
size
, 
m®loc_ty³
 *
ty³
,

235 
domaš£t
 *
ds
, 
æags
è
__m®loc_like
 
__»suÉ_u£_check


236 
	`__®loc_size
(1);

237 *
	$m®loÿ¼ay
(
size_t
 
nmemb
, size_ˆ
size
, 
m®loc_ty³
 *
ty³
,

238 
æags
è
__m®loc_like
 
__»suÉ_u£_check


239 
	`__®loc_size2
(1, 2);

240 
	`m®loc_š™
(*);

241 
	`m®loc_Ï¡_çž
();

242 
	`m®loc_ty³_®loÿ‹d
(
m®loc_ty³
 *
ty³
, 
size
);

243 
	`m®loc_ty³_ä“d
(
m®loc_ty³
 *
ty³
, 
size
);

244 
	`m®loc_ty³_li¡
(
m®loc_ty³_li¡_func_t
 *, *);

245 
	`m®loc_unš™
(*);

246 *
	$»®loc
(*
addr
, 
size_t
 
size
, 
m®loc_ty³
 *
ty³
, 
æags
)

247 
__»suÉ_u£_check
 
	`__®loc_size
(2);

248 *
	$»®locf
(*
addr
, 
size_t
 
size
, 
m®loc_ty³
 *
ty³
, 
æags
)

249 
__»suÉ_u£_check
 
	`__®loc_size
(2);

251 
m®loc_ty³
 *
	`m®loc_desc2ty³
(cÚ¡ *
desc
);

257 
	#MUL_NO_OVERFLOW
 (1UL << ((
size_t
è* 8 / 2))

	)

258 
šlše
 
boÞ


259 
	$WOULD_OVERFLOW
(
size_t
 
nmemb
, size_ˆ
size
)

262  ((
nmemb
 >ð
MUL_NO_OVERFLOW
 || 
size
 >= MUL_NO_OVERFLOW) &&

263 
nmemb
 > 0 && 
__SIZE_T_MAX
 /‚memb < 
size
);

264 
	}
}

265 #undeà
MUL_NO_OVERFLOW


	@/usr/include/sys/memrange.h

7 #iâdeà
_SYS_MEMRANGE_H_


8 
	#_SYS_MEMRANGE_H_


	)

11 
	#MDF_UNCACHEABLE
 (1<<0è

	)

12 
	#MDF_WRITECOMBINE
 (1<<1è

	)

13 
	#MDF_WRITETHROUGH
 (1<<2è

	)

14 
	#MDF_WRITEBACK
 (1<<3è

	)

15 
	#MDF_WRITEPROTECT
 (1<<4è

	)

16 
	#MDF_UNKNOWN
 (1<<5è

	)

17 
	#MDF_ATTRMASK
 (0x00ffffff)

	)

19 
	#MDF_FIXBASE
 (1<<24è

	)

20 
	#MDF_FIXLEN
 (1<<25è

	)

21 
	#MDF_FIRMWARE
 (1<<26è

	)

22 
	#MDF_ACTIVE
 (1<<27è

	)

23 
	#MDF_BOGUS
 (1<<28è

	)

24 
	#MDF_FIXACTIVE
 (1<<29è

	)

25 
	#MDF_BUSY
 (1<<30è

	)

26 
	#MDF_FORCE
 (1<<31è

	)

28 
	smem_¿nge_desc


30 
u_št64_t
 
	mmr_ba£
;

31 
u_št64_t
 
	mmr_Ën
;

32 
	mmr_æags
;

33 
	mmr_owÃr
[8];

36 
	smem_¿nge_Ý


38 
mem_¿nge_desc
 *
	mmo_desc
;

39 
	mmo_¬g
[2];

40 
	#MEMRANGE_SET_UPDATE
 0

	)

41 
	#MEMRANGE_SET_REMOVE
 1

	)

45 
	#MEMRANGE_GET
 
	`_IOWR
('m', 50, 
mem_¿nge_Ý
)

	)

46 
	#MEMRANGE_SET
 
	`_IOW
('m', 51, 
mem_¿nge_Ý
)

	)

48 #ifdeà
_KERNEL


50 
MALLOC_DECLARE
(
M_MEMDESC
);

52 
	gmem_¿nge_soác
;

53 
	smem_¿nge_Ýs


55 (*
	mš™
)(
mem_¿nge_soác
 *
	msc
);

56 (*
	m£t
)(
mem_¿nge_soác
 *
	msc
, 
mem_¿nge_desc
 *
	mmrd
, *
	m¬g
);

57 (*
	mš™AP
)(
mem_¿nge_soác
 *
	msc
);

58 (*
	m»š™
)(
mem_¿nge_soác
 *
	msc
);

61 
	smem_¿nge_soác


63 
mem_¿nge_Ýs
 *
	mmr_Ý
;

64 
	mmr_ÿp
;

65 
	mmr_ndesc
;

66 
mem_¿nge_desc
 *
	mmr_desc
;

69 
mem_¿nge_soác
 mem_range_softc;

71 
mem_¿nge_š™
();

72 
mem_¿nge_de¡roy
();

74 
mem_¿nge_©Œ_g‘
(
mem_¿nge_desc
 *
mrd
, *
¬g
);

75 
mem_¿nge_©Œ_£t
(
mem_¿nge_desc
 *
mrd
, *
¬g
);

	@/usr/include/sys/mman.h

35 #iâdeà
_SYS_MMAN_H_


36 
	#_SYS_MMAN_H_


	)

38 
	~<sys/cdefs.h
>

39 
	~<sys/_ty³s.h
>

41 #ià
__BSD_VISIBLE


45 
	#INHERIT_SHARE
 0

	)

46 
	#INHERIT_COPY
 1

	)

47 
	#INHERIT_NONE
 2

	)

48 
	#INHERIT_ZERO
 3

	)

54 
	#PROT_NONE
 0x00

	)

55 
	#PROT_READ
 0x01

	)

56 
	#PROT_WRITE
 0x02

	)

57 
	#PROT_EXEC
 0x04

	)

63 
	#MAP_SHARED
 0x0001

	)

64 
	#MAP_PRIVATE
 0x0002

	)

65 #ià
__BSD_VISIBLE


66 
	#MAP_COPY
 
MAP_PRIVATE


	)

72 
	#MAP_FIXED
 0x0010

	)

74 #ià
__BSD_VISIBLE


75 
	#MAP_RESERVED0020
 0x0020

	)

76 
	#MAP_RESERVED0040
 0x0040

	)

77 
	#MAP_RESERVED0080
 0x0080

	)

78 
	#MAP_RESERVED0100
 0x0100

	)

79 
	#MAP_HASSEMAPHORE
 0x0200

	)

80 
	#MAP_STACK
 0x0400

	)

81 
	#MAP_NOSYNC
 0x0800

	)

86 
	#MAP_FILE
 0x0000

	)

87 
	#MAP_ANON
 0x1000

	)

88 #iâdeà
_KERNEL


89 
	#MAP_ANONYMOUS
 
MAP_ANON


	)

95 
	#MAP_GUARD
 0x00002000

	)

96 
	#MAP_EXCL
 0x00004000

	)

97 
	#MAP_NOCORE
 0x00020000

	)

98 
	#MAP_PREFAULT_READ
 0x00040000

	)

99 #ifdeà
__LP64__


100 
	#MAP_32BIT
 0x00080000

	)

109 
	#MAP_ALIGNED
(
n
è(Òè<< 
MAP_ALIGNMENT_SHIFT
)

	)

110 
	#MAP_ALIGNMENT_SHIFT
 24

	)

111 
	#MAP_ALIGNMENT_MASK
 
	`MAP_ALIGNED
(0xff)

	)

112 
	#MAP_ALIGNED_SUPER
 
	`MAP_ALIGNED
(1è

	)

115 #ià
__POSIX_VISIBLE
 >= 199309

119 
	#MCL_CURRENT
 0x0001

	)

120 
	#MCL_FUTURE
 0x0002

	)

126 
	#MAP_FAILED
 ((*)-1)

	)

131 
	#MS_SYNC
 0x0000

	)

132 
	#MS_ASYNC
 0x0001

	)

133 
	#MS_INVALIDATE
 0x0002

	)

138 
	#_MADV_NORMAL
 0

	)

139 
	#_MADV_RANDOM
 1

	)

140 
	#_MADV_SEQUENTIAL
 2

	)

141 
	#_MADV_WILLNEED
 3

	)

142 
	#_MADV_DONTNEED
 4

	)

144 #ià
__BSD_VISIBLE


145 
	#MADV_NORMAL
 
_MADV_NORMAL


	)

146 
	#MADV_RANDOM
 
_MADV_RANDOM


	)

147 
	#MADV_SEQUENTIAL
 
_MADV_SEQUENTIAL


	)

148 
	#MADV_WILLNEED
 
_MADV_WILLNEED


	)

149 
	#MADV_DONTNEED
 
_MADV_DONTNEED


	)

150 
	#MADV_FREE
 5

	)

151 
	#MADV_NOSYNC
 6

	)

152 
	#MADV_AUTOSYNC
 7

	)

153 
	#MADV_NOCORE
 8

	)

154 
	#MADV_CORE
 9

	)

155 
	#MADV_PROTECT
 10

	)

160 
	#MINCORE_INCORE
 0x1

	)

161 
	#MINCORE_REFERENCED
 0x2

	)

162 
	#MINCORE_MODIFIED
 0x4

	)

163 
	#MINCORE_REFERENCED_OTHER
 0x8

	)

164 
	#MINCORE_MODIFIED_OTHER
 0x10

	)

165 
	#MINCORE_SUPER
 0x20

	)

170 
	#SHM_ANON
 ((*)1)

	)

177 #ià
__POSIX_VISIBLE
 >= 200112

178 
	#POSIX_MADV_NORMAL
 
_MADV_NORMAL


	)

179 
	#POSIX_MADV_RANDOM
 
_MADV_RANDOM


	)

180 
	#POSIX_MADV_SEQUENTIAL
 
_MADV_SEQUENTIAL


	)

181 
	#POSIX_MADV_WILLNEED
 
_MADV_WILLNEED


	)

182 
	#POSIX_MADV_DONTNEED
 
_MADV_DONTNEED


	)

185 #iâdeà
_MODE_T_DECLARED


186 
__mode_t
 
	tmode_t
;

187 
	#_MODE_T_DECLARED


	)

190 #iâdeà
_OFF_T_DECLARED


191 
__off_t
 
	toff_t
;

192 
	#_OFF_T_DECLARED


	)

195 #iâdeà
_SIZE_T_DECLARED


196 
__size_t
 
	tsize_t
;

197 
	#_SIZE_T_DECLARED


	)

200 #ià
defšed
(
_KERNEL
è|| defšed(
_WANT_FILE
)

201 
	~<sys/lock.h
>

202 
	~<sys/mu‹x.h
>

203 
	~<sys/queue.h
>

204 
	~<sys/¿ng–ock.h
>

205 
	~<vm/vm.h
>

207 
	gfže
;

209 
	sshmfd
 {

210 
size_t
 
	mshm_size
;

211 
vm_objeù_t
 
	mshm_objeù
;

212 
	mshm_»fs
;

213 
uid_t
 
	mshm_uid
;

214 
gid_t
 
	mshm_gid
;

215 
mode_t
 
	mshm_mode
;

216 
	mshm_km­pšgs
;

222 
time¥ec
 
	mshm_©ime
;

223 
time¥ec
 
	mshm_mtime
;

224 
time¥ec
 
	mshm_ùime
;

225 
time¥ec
 
	mshm_bœthtime
;

226 
šo_t
 
	mshm_šo
;

228 
Ïb–
 *
	mshm_Ïb–
;

229 cÚ¡ *
	mshm_·th
;

231 
¿ng–ock
 
	mshm_¾
;

232 
mtx
 
	mshm_mtx
;

236 #ifdeà
_KERNEL


237 
shm_m­
(
fže
 *
å
, 
size_t
 
size
, 
off_t
 
off£t
, **
memp
);

238 
shm_unm­
(
fže
 *
å
, *
mem
, 
size_t
 
size
);

240 
shm_acûss
(
shmfd
 *shmfd, 
uüed
 *uüed, 
æags
);

241 
shmfd
 *
shm_®loc
(
uüed
 *uüed, 
mode_t
 
mode
);

242 
shmfd
 *
shm_hÞd
(shmfd *shmfd);

243 
shm_drÝ
(
shmfd
 *shmfd);

244 
shm_dÙrunÿ‹
(
shmfd
 *shmfd, 
off_t
 
Ëngth
);

246 
fžeÝs
 
shm_Ýs
;

249 
	g__BEGIN_DECLS


254 #ià
__BSD_VISIBLE


255 
g‘·gesizes
(
size_t
 *, );

256 
madvi£
(*, 
size_t
, );

257 
mšcÜe
(cÚ¡ *, 
size_t
, *);

258 
mšh”™
(*, 
size_t
, );

260 
mlock
(cÚ¡ *, 
size_t
);

261 #iâdeà
_MMAP_DECLARED


262 
	#_MMAP_DECLARED


	)

263 * 
mm­
(*, 
size_t
, , , , 
off_t
);

265 
m´Ùeù
(*, 
size_t
, );

266 
msync
(*, 
size_t
, );

267 
muÆock
(cÚ¡ *, 
size_t
);

268 
munm­
(*, 
size_t
);

269 #ià
__POSIX_VISIBLE
 >= 200112

270 
posix_madvi£
(*, 
size_t
, );

272 #ià
__POSIX_VISIBLE
 >= 199309

273 
mlock®l
();

274 
muÆock®l
();

275 
shm_Ý’
(cÚ¡ *, , 
mode_t
);

276 
shm_uÆšk
(const *);

278 
	g__END_DECLS


	@/usr/include/sys/module.h

31 #iâdeà
_SYS_MODULE_H_


32 
	#_SYS_MODULE_H_


	)

37 
	#MDT_DEPEND
 1

	)

38 
	#MDT_MODULE
 2

	)

39 
	#MDT_VERSION
 3

	)

40 
	#MDT_PNP_INFO
 4

	)

42 
	#MDT_STRUCT_VERSION
 1

	)

43 
	#MDT_SETNAME
 "modm‘ad©a_£t"

	)

45 
	emodev’‰y³
 {

46 
	mMOD_LOAD
,

47 
	mMOD_UNLOAD
,

48 
	mMOD_SHUTDOWN
,

49 
	mMOD_QUIESCE


50 } 
	tmodev’‰y³_t
;

52 
moduË
 *
	tmoduË_t
;

53 (*
	tmodev’thªd_t
)(
	tmoduË_t
, , *);

58 
	smoduËd©a
 {

59 cÚ¡ *
Çme
;

60 
modev’thªd_t
 
evhªd
;

61 *
´iv
;

62 } 
	tmoduËd©a_t
;

68 
	umod¥ecific
 {

69 
štv®
;

70 
u_št
 
uštv®
;

71 
lÚgv®
;

72 
u_lÚg
 
ulÚgv®
;

73 } 
	tmod¥ecific_t
;

78 
	smod_d•’d
 {

79 
md_v”_mšimum
;

80 
md_v”_´eã¼ed
;

81 
md_v”_maximum
;

87 
	smod_v”siÚ
 {

88 
mv_v”siÚ
;

91 
	smod_m‘ad©a
 {

92 
md_v”siÚ
;

93 
md_ty³
;

94 cÚ¡ *
md_d©a
;

95 cÚ¡ *
md_cv®
;

98 
	smod_²p_m©ch_šfo


100 cÚ¡ *
desü
;

101 cÚ¡ *
bus
;

102 cÚ¡ *
bË
;

103 
’Œy_Ën
;

105 
num_’Œy
;

107 #ifdef 
_KERNEL


109 
	~<sys/lšk”_£t.h
>

111 
	#MODULE_METADATA_CONCAT
(
uniquif›r
è
_mod_m‘ad©a
##
	)
uniquifier

112 
	#MODULE_METADATA
(
uniquif›r
, 
ty³
, 
d©a
, 
cv®
) \

113 
mod_m‘ad©a
 
	`MODULE_METADATA_CONCAT
(
uniquif›r
) = { \

114 
MDT_STRUCT_VERSION
, \

115 
ty³
, \

116 
d©a
, \

117 
cv®
 \

118 
	}
}; \

119 
	`DATA_SET
(
modm‘ad©a_£t
, 
	`MODULE_METADATA_CONCAT
(
uniquif›r
))

	)

121 
	#MODULE_DEPEND
(
moduË
, 
md•’d
, 
vmš
, 
v´ef
, 
vmax
) \

122 
mod_d•’d
 
_
##
moduË
##
_d•’d_Ú_
##
md•’d
 \

123 
	`__£ùiÚ
(".data") = { \

124 
vmš
, \

125 
v´ef
, \

126 
vmax
 \

128 
	`MODULE_METADATA
(
_md_
##
moduË
##
_Ú_
##
md•’d
, 
MDT_DEPEND
, \

129 &
_
##
moduË
##
_d•’d_Ú_
##
md•’d
, #md•’d)

	)

140 
	#MODULE_KERNEL_MAXVER
 (
	`roundup
(
__F»eBSD_v”siÚ
, 100000è- 1)

	)

142 
	#DECLARE_MODULE_WITH_MAXVER
(
Çme
, 
d©a
, 
sub
, 
Üd”
, 
maxv”
) \

143 
	`MODULE_DEPEND
(
Çme
, 
k”Ãl
, 
__F»eBSD_v”siÚ
, \

144 
__F»eBSD_v”siÚ
, 
maxv”
); \

145 
	`MODULE_METADATA
(
_md_
##
Çme
, 
MDT_MODULE
, &
d©a
, 
	`__XSTRING
(name));\

146 
	`SYSINIT
(
Çme
##
moduË
, 
sub
, 
Üd”
, 
moduË_»gi¡”_š™
, &
d©a
); \

147 
__hack


	)

149 #ifdeà
KLD_TIED


150 
	#DECLARE_MODULE
(
Çme
, 
d©a
, 
sub
, 
Üd”
) \

151 
	`DECLARE_MODULE_WITH_MAXVER
(
Çme
, 
d©a
, 
sub
, 
Üd”
, 
__F»eBSD_v”siÚ
)

	)

153 
	#DECLARE_MODULE
(
Çme
, 
d©a
, 
sub
, 
Üd”
) \

154 
	`DECLARE_MODULE_WITH_MAXVER
(
Çme
, 
d©a
, 
sub
, 
Üd”
, 
MODULE_KERNEL_MAXVER
)

	)

164 
	#DECLARE_MODULE_TIED
(
Çme
, 
d©a
, 
sub
, 
Üd”
) \

165 
	`DECLARE_MODULE_WITH_MAXVER
(
Çme
, 
d©a
, 
sub
, 
Üd”
, 
__F»eBSD_v”siÚ
)

	)

167 
	#MODULE_VERSION_CONCAT
(
moduË
, 
v”siÚ
è
_
##moduË##
_v”siÚ


	)

168 
	#MODULE_VERSION
(
moduË
, 
v”siÚ
) \

169 
mod_v”siÚ
 
	`MODULE_VERSION_CONCAT
(
moduË
, 
v”siÚ
)\

170 
	`__£ùiÚ
(".data") = { \

171 
v”siÚ
 \

173 
	`MODULE_METADATA
(
	`MODULE_VERSION_CONCAT
(
moduË
, 
v”siÚ
), 
MDT_VERSION
,\

174 &
	`MODULE_VERSION_CONCAT
(
moduË
, 
v”siÚ
), 
	`__XSTRING
(moduË))

	)

181 
	#MODULE_PNP_INFO
(
d
, 
b
, 
unique
, 
t
, 
n
) \

182 cÚ¡ 
mod_²p_m©ch_šfo
 
_moduË_²p_
##
b
##
_
##
unique
 = { \

183 .
desü
 = 
d
, \

184 .
bus
 = #b, \

185 .
bË
 = 
t
, \

186 .
’Œy_Ën
 = ((
t
)[0]), \

187 .
num_’Œy
 = 
n
 \

189 
	`MODULE_METADATA
(
_md_
##
b
##
_²pšfo_
##
unique
, 
MDT_PNP_INFO
, \

190 &
_moduË_²p_
##
b
##
_
##
unique
, #b);

	)

216 
sx
 
moduËs_sx
;

218 
	#MOD_XLOCK
 
	`sx_xlock
(&
moduËs_sx
)

	)

219 
	#MOD_SLOCK
 
	`sx_¦ock
(&
moduËs_sx
)

	)

220 
	#MOD_XUNLOCK
 
	`sx_xuÆock
(&
moduËs_sx
)

	)

221 
	#MOD_SUNLOCK
 
	`sx_suÆock
(&
moduËs_sx
)

	)

222 
	#MOD_LOCK_ASSERT
 
	`sx_as£¹
(&
moduËs_sx
, 
SX_LOCKED
)

	)

223 
	#MOD_XLOCK_ASSERT
 
	`sx_as£¹
(&
moduËs_sx
, 
SX_XLOCKED
)

	)

225 
	glšk”_fže
;

227 
moduË_»gi¡”_š™
(const *);

228 
moduË_»gi¡”
(cÚ¡ 
moduËd©a
 *, 
lšk”_fže
 *);

229 
moduË_t
 
moduË_lookupbyÇme
(const *);

230 
moduË_t
 
moduË_lookupbyid
();

231 
moduË_qu›sû
(
moduË_t
);

232 
moduË_»ã»nû
(
moduË_t
);

233 
moduË_»Ëa£
(
moduË_t
);

234 
moduË_uÆßd
(
moduË_t
);

235 
moduË_g‘id
(
moduË_t
);

236 
moduË_t
 
moduË_g‘âext
(module_t);

237 cÚ¡ * 
moduË_g‘Çme
(
moduË_t
);

238 
moduË_£t¥ecific
(
moduË_t
, 
mod¥ecific_t
 *);

239 
lšk”_fže
 *
moduË_fže
(
moduË_t
);

241 #ifdef 
MOD_DEBUG


242 
mod_debug
;

243 
	#MOD_DEBUG_REFS
 1

	)

245 
	#MOD_DPF
(
ÿt
, 
¬gs
) do { \

246 ià(
mod_debug
 & 
MOD_DEBUG_
##
ÿt
) \

247 
´štf
 
¬gs
; \

248 } 0)

	)

252 
	#MOD_DPF
(
ÿt
, 
¬gs
)

	)

256 
	#MAXMODNAME
 32

	)

258 
	smoduË_¡©
 {

259 
	mv”siÚ
;

260 
	mÇme
[
MAXMODNAME
];

261 
	m»fs
;

262 
	mid
;

263 
mod¥ecific_t
 
	md©a
;

266 #iâdeà
_KERNEL


268 
	~<sys/cdefs.h
>

270 
__BEGIN_DECLS


271 
modÃxt
(
_modid
);

272 
modâext
(
_modid
);

273 
mod¡©
(
_modid
, 
moduË_¡©
 *
_¡©
);

274 
modfšd
(cÚ¡ *
_Çme
);

275 
	g__END_DECLS


	@/usr/include/sys/mutex.h

34 #iâdeà
_SYS_MUTEX_H_


35 
	#_SYS_MUTEX_H_


	)

37 
	~<sys/queue.h
>

38 
	~<sys/_lock.h
>

39 
	~<sys/_mu‹x.h
>

41 #ifdeà
_KERNEL


42 
	~<sys/pýu.h
>

43 
	~<sys/lock_´ofže.h
>

44 
	~<sys/lock¡©.h
>

45 
	~<machše/©omic.h
>

46 
	~<machše/ýufunc.h
>

52 
	#MTX_DEF
 0x00000000

	)

53 
	#MTX_SPIN
 0x00000001

	)

54 
	#MTX_RECURSE
 0x00000004

	)

55 
	#MTX_NOWITNESS
 0x00000008

	)

56 
	#MTX_NOPROFILE
 0x00000020

	)

57 
	#MTX_NEW
 0x00000040

	)

63 
	#MTX_QUIET
 
LOP_QUIET


	)

64 
	#MTX_DUPOK
 
LOP_DUPOK


	)

70 
	#MTX_UNOWNED
 0x00000000

	)

71 
	#MTX_RECURSED
 0x00000001

	)

72 
	#MTX_CONTESTED
 0x00000002

	)

73 
	#MTX_DESTROYED
 0x00000004

	)

74 
	#MTX_FLAGMASK
 (
MTX_RECURSED
 | 
MTX_CONTESTED
 | 
MTX_DESTROYED
)

	)

92 
_mtx_š™
(vÞ©ž
ušŒ_t
 *
c
, cÚ¡ *
Çme
, cÚ¡ *
ty³
,

93 
Ýts
);

94 
_mtx_de¡roy
(vÞ©ž
ušŒ_t
 *
c
);

95 
mtx_sysš™
(*
¬g
);

96 
_mtx_Œylock_æags_št
(
mtx
 *
m
, 
Ýts
 
LOCK_FILE_LINE_ARG_DEF
);

97 
_mtx_Œylock_æags_
(vÞ©ž
ušŒ_t
 *
c
, 
Ýts
, cÚ¡ *
fže
,

98 
lše
);

99 
mu‹x_š™
();

100 #ià
LOCK_DEBUG
 > 0

101 
__mtx_lock_¦“p
(vÞ©ž
ušŒ_t
 *
c
, ušŒ_ˆ
v
, 
Ýts
,

102 cÚ¡ *
fže
, 
lše
);

103 
__mtx_uÆock_¦“p
(vÞ©ž
ušŒ_t
 *
c
, ušŒ_ˆ
v
, 
Ýts
,

104 cÚ¡ *
fže
, 
lše
);

106 
__mtx_lock_¦“p
(vÞ©ž
ušŒ_t
 *
c
, ušŒ_ˆ
v
);

107 
__mtx_uÆock_¦“p
(vÞ©ž
ušŒ_t
 *
c
, ušŒ_ˆ
v
);

110 #ifdeà
SMP


111 #ià
LOCK_DEBUG
 > 0

112 
_mtx_lock_¥š_cook›
(vÞ©ž
ušŒ_t
 *
c
, ušŒ_ˆ
v
, 
Ýts
,

113 cÚ¡ *
fže
, 
lše
);

115 
_mtx_lock_¥š_cook›
(vÞ©ž
ušŒ_t
 *
c
, ušŒ_ˆ
v
);

118 
__mtx_lock_æags
(vÞ©ž
ušŒ_t
 *
c
, 
Ýts
, cÚ¡ *
fže
,

119 
lše
);

120 
__mtx_uÆock_æags
(vÞ©ž
ušŒ_t
 *
c
, 
Ýts
, cÚ¡ *
fže
,

121 
lše
);

122 
__mtx_lock_¥š_æags
(vÞ©ž
ušŒ_t
 *
c
, 
Ýts
, cÚ¡ *
fže
,

123 
lše
);

124 
__mtx_Œylock_¥š_æags
(vÞ©ž
ušŒ_t
 *
c
, 
Ýts
,

125 cÚ¡ *
fže
, 
lše
);

126 
__mtx_uÆock_¥š_æags
(vÞ©ž
ušŒ_t
 *
c
, 
Ýts
,

127 cÚ¡ *
fže
, 
lše
);

128 
mtx_¥š_wa™_uÆocked
(
mtx
 *
m
);

130 #ià
defšed
(
INVARIANTS
è|| defšed(
INVARIANT_SUPPORT
)

131 
__mtx_as£¹
(cÚ¡ vÞ©ž
ušŒ_t
 *
c
, 
wh©
, cÚ¡ *
fže
,

132 
lše
);

134 
th»ad_lock_æags_
(
th»ad
 *, , const *, );

135 #ià
LOCK_DEBUG
 > 0

136 
_th»ad_lock
(
th»ad
 *
td
, 
Ýts
, cÚ¡ *
fže
, 
lše
);

138 
_th»ad_lock
(
th»ad
 *);

141 #ià
defšed
(
LOCK_PROFILING
è|| (defšed(
KLD_MODULE
è&& !defšed(
KLD_TIED
))

142 
	#th»ad_lock
(
tdp
) \

143 
	`th»ad_lock_æags_
((
tdp
), 0, 
__FILE__
, 
__LINE__
)

	)

144 #–ià
LOCK_DEBUG
 > 0

145 
	#th»ad_lock
(
tdp
) \

146 
	`_th»ad_lock
((
tdp
), 0, 
__FILE__
, 
__LINE__
)

	)

148 
	#th»ad_lock
(
tdp
) \

149 
	`_th»ad_lock
((
tdp
))

	)

152 #ià
LOCK_DEBUG
 > 0

153 
	#th»ad_lock_æags
(
tdp
, 
Ýt
) \

154 
	`th»ad_lock_æags_
((
tdp
), (
Ýt
), 
__FILE__
, 
__LINE__
)

	)

156 
	#th»ad_lock_æags
(
tdp
, 
Ýt
) \

157 
	`_th»ad_lock
(
tdp
)

	)

160 
	#th»ad_uÆock
(
tdp
) \

161 
	`mtx_uÆock_¥š
((
tdp
)->
td_lock
)

	)

168 
	#mtx_š™
(
m
, 
n
, 
t
, 
o
) \

169 
	`_mtx_š™
(&(
m
)->
mtx_lock
, 
n
, 
t
, 
o
)

	)

170 
	#mtx_de¡roy
(
m
) \

171 
	`_mtx_de¡roy
(&(
m
)->
mtx_lock
)

	)

172 
	#mtx_Œylock_æags_
(
m
, 
o
, 
f
, 
l
) \

173 
	`_mtx_Œylock_æags_
(&(
m
)->
mtx_lock
, 
o
, 
f
, 
l
)

	)

174 #ià
LOCK_DEBUG
 > 0

175 
	#_mtx_lock_¦“p
(
m
, 
v
, 
o
, 
f
, 
l
) \

176 
	`__mtx_lock_¦“p
(&(
m
)->
mtx_lock
, 
v
, 
o
, 
f
, 
l
)

	)

177 
	#_mtx_uÆock_¦“p
(
m
, 
v
, 
o
, 
f
, 
l
) \

178 
	`__mtx_uÆock_¦“p
(&(
m
)->
mtx_lock
, 
v
, 
o
, 
f
, 
l
)

	)

180 
	#_mtx_lock_¦“p
(
m
, 
v
, 
o
, 
f
, 
l
) \

181 
	`__mtx_lock_¦“p
(&(
m
)->
mtx_lock
, 
v
)

	)

182 
	#_mtx_uÆock_¦“p
(
m
, 
v
, 
o
, 
f
, 
l
) \

183 
	`__mtx_uÆock_¦“p
(&(
m
)->
mtx_lock
, 
v
)

	)

185 #ifdeà
SMP


186 #ià
LOCK_DEBUG
 > 0

187 
	#_mtx_lock_¥š
(
m
, 
v
, 
o
, 
f
, 
l
) \

188 
	`_mtx_lock_¥š_cook›
(&(
m
)->
mtx_lock
, 
v
, 
o
, 
f
, 
l
)

	)

190 
	#_mtx_lock_¥š
(
m
, 
v
, 
o
, 
f
, 
l
) \

191 
	`_mtx_lock_¥š_cook›
(&(
m
)->
mtx_lock
, 
v
)

	)

194 
	#_mtx_lock_æags
(
m
, 
o
, 
f
, 
l
) \

195 
	`__mtx_lock_æags
(&(
m
)->
mtx_lock
, 
o
, 
f
, 
l
)

	)

196 
	#_mtx_uÆock_æags
(
m
, 
o
, 
f
, 
l
) \

197 
	`__mtx_uÆock_æags
(&(
m
)->
mtx_lock
, 
o
, 
f
, 
l
)

	)

198 
	#_mtx_lock_¥š_æags
(
m
, 
o
, 
f
, 
l
) \

199 
	`__mtx_lock_¥š_æags
(&(
m
)->
mtx_lock
, 
o
, 
f
, 
l
)

	)

200 
	#_mtx_Œylock_¥š_æags
(
m
, 
o
, 
f
, 
l
) \

201 
	`__mtx_Œylock_¥š_æags
(&(
m
)->
mtx_lock
, 
o
, 
f
, 
l
)

	)

202 
	#_mtx_uÆock_¥š_æags
(
m
, 
o
, 
f
, 
l
) \

203 
	`__mtx_uÆock_¥š_æags
(&(
m
)->
mtx_lock
, 
o
, 
f
, 
l
)

	)

204 #ià
defšed
(
INVARIANTS
è|| defšed(
INVARIANT_SUPPORT
)

205 
	#_mtx_as£¹
(
m
, 
w
, 
f
, 
l
) \

206 
	`__mtx_as£¹
(&(
m
)->
mtx_lock
, 
w
, 
f
, 
l
)

	)

209 
	#mtx_»cur£
 
lock_objeù
.
lo_d©a


	)

214 
	#_mtx_obš_lock
(
mp
, 
tid
) \

215 
	`©omic_cmp£t_acq_±r
(&(
mp
)->
mtx_lock
, 
MTX_UNOWNED
, (
tid
))

	)

217 
	#_mtx_obš_lock_ãtch
(
mp
, 
vp
, 
tid
) \

218 
	`©omic_fcmp£t_acq_±r
(&(
mp
)->
mtx_lock
, 
vp
, (
tid
))

	)

221 
	#_mtx_»Ëa£_lock
(
mp
, 
tid
) \

222 
	`©omic_cmp£t_»l_±r
(&(
mp
)->
mtx_lock
, (
tid
), 
MTX_UNOWNED
)

	)

225 
	#_mtx_»Ëa£_lock_quick
(
mp
) \

226 
	`©omic_¡Üe_»l_±r
(&(
mp
)->
mtx_lock
, 
MTX_UNOWNED
)

	)

228 
	#_mtx_»Ëa£_lock_ãtch
(
mp
, 
vp
) \

229 
	`©omic_fcmp£t_»l_±r
(&(
mp
)->
mtx_lock
, (
vp
), 
MTX_UNOWNED
)

	)

238 
	#__mtx_lock
(
mp
, 
tid
, 
Ýts
, 
fže
, 
lše
) do { \

239 
ušŒ_t
 
_tid
 = (ušŒ_t)(
tid
); \

240 
ušŒ_t
 
_v
 = 
MTX_UNOWNED
; \

242 ià(
	`__´ediù_çl£
(
	`LOCKSTAT_PROFILE_ENABLED
(
ad­tive__acquœe
) ||\

243 !
	`_mtx_obš_lock_ãtch
((
mp
), &
_v
, 
_tid
))) \

244 
	`_mtx_lock_¦“p
((
mp
), 
_v
, (
Ýts
), (
fže
), (
lše
)); \

245 } 0)

	)

253 #ifdeà
SMP


254 
	#__mtx_lock_¥š
(
mp
, 
tid
, 
Ýts
, 
fže
, 
lše
) do { \

255 
ušŒ_t
 
_tid
 = (ušŒ_t)(
tid
); \

256 
ušŒ_t
 
_v
 = 
MTX_UNOWNED
; \

258 
	`¥šlock_’‹r
(); \

259 ià(
	`__´ediù_çl£
(
	`LOCKSTAT_PROFILE_ENABLED
(
¥š__acquœe
) || \

260 !
	`_mtx_obš_lock_ãtch
((
mp
), &
_v
, 
_tid
))) \

261 
	`_mtx_lock_¥š
((
mp
), 
_v
, (
Ýts
), (
fže
), (
lše
)); \

262 } 0)

	)

263 
	#__mtx_Œylock_¥š
(
mp
, 
tid
, 
Ýts
, 
fže
, 
lše
è
	`__ex‹nsiÚ__
 ({ \

264 
ušŒ_t
 
_tid
 = (ušŒ_t)(
tid
); \

265 
_»t
; \

267 
	`¥šlock_’‹r
(); \

268 ià(((
mp
)->
mtx_lock
 !ð
MTX_UNOWNED
 || !
	`_mtx_obš_lock
((mp), 
_tid
))) {\

269 
	`¥šlock_ex™
(); \

270 
_»t
 = 0; \

272 
	`LOCKSTAT_PROFILE_OBTAIN_LOCK_SUCCESS
(
¥š__acquœe
, \

273 
mp
, 0, 0, 
fže
, 
lše
); \

274 
_»t
 = 1; \

276 
_»t
; \

277 })

	)

279 
	#__mtx_lock_¥š
(
mp
, 
tid
, 
Ýts
, 
fže
, 
lše
) do { \

280 
ušŒ_t
 
_tid
 = (ušŒ_t)(
tid
); \

282 
	`¥šlock_’‹r
(); \

283 ià((
mp
)->
mtx_lock
 =ð
_tid
) \

284 (
mp
)->
mtx_»cur£
++; \

286 
	`KASSERT
((
mp
)->
mtx_lock
 =ð
MTX_UNOWNED
, ("corrupt spinlock")); \

287 (
mp
)->
mtx_lock
 = 
_tid
; \

289 } 0)

	)

290 
	#__mtx_Œylock_¥š
(
mp
, 
tid
, 
Ýts
, 
fže
, 
lše
è
	`__ex‹nsiÚ__
 ({ \

291 
ušŒ_t
 
_tid
 = (ušŒ_t)(
tid
); \

292 
_»t
; \

294 
	`¥šlock_’‹r
(); \

295 ià((
mp
)->
mtx_lock
 !ð
MTX_UNOWNED
) { \

296 
	`¥šlock_ex™
(); \

297 
_»t
 = 0; \

299 (
mp
)->
mtx_lock
 = 
_tid
; \

300 
_»t
 = 1; \

302 
_»t
; \

303 })

	)

307 
	#__mtx_uÆock
(
mp
, 
tid
, 
Ýts
, 
fže
, 
lše
) do { \

308 
ušŒ_t
 
_v
 = (ušŒ_t)(
tid
); \

310 ià(
	`__´ediù_çl£
(
	`LOCKSTAT_PROFILE_ENABLED
(
ad­tive__»Ëa£
) ||\

311 !
	`_mtx_»Ëa£_lock_ãtch
((
mp
), &
_v
))) \

312 
	`_mtx_uÆock_¦“p
((
mp
), 
_v
, (
Ýts
), (
fže
), (
lše
)); \

313 } 0)

	)

325 #ifdeà
SMP


326 
	#__mtx_uÆock_¥š
(
mp
) do { \

327 ià(
	`mtx_»cur£d
((
mp
))) \

328 (
mp
)->
mtx_»cur£
--; \

330 
	`LOCKSTAT_PROFILE_RELEASE_LOCK
(
¥š__»Ëa£
, 
mp
); \

331 
	`_mtx_»Ëa£_lock_quick
((
mp
)); \

333 
	`¥šlock_ex™
(); \

334 } 0)

	)

336 
	#__mtx_uÆock_¥š
(
mp
) do { \

337 ià(
	`mtx_»cur£d
((
mp
))) \

338 (
mp
)->
mtx_»cur£
--; \

340 
	`LOCKSTAT_PROFILE_RELEASE_LOCK
(
¥š__»Ëa£
, 
mp
); \

341 (
mp
)->
mtx_lock
 = 
MTX_UNOWNED
; \

343 
	`¥šlock_ex™
(); \

344 } 0)

	)

382 
	#mtx_lock
(
m
è
	`mtx_lock_æags
((m), 0)

	)

383 
	#mtx_lock_¥š
(
m
è
	`mtx_lock_¥š_æags
((m), 0)

	)

384 
	#mtx_Œylock
(
m
è
	`mtx_Œylock_æags
((m), 0)

	)

385 
	#mtx_Œylock_¥š
(
m
è
	`mtx_Œylock_¥š_æags
((m), 0)

	)

386 
	#mtx_uÆock
(
m
è
	`mtx_uÆock_æags
((m), 0)

	)

387 
	#mtx_uÆock_¥š
(
m
è
	`mtx_uÆock_¥š_æags
((m), 0)

	)

389 
	gmtx_poÞ
;

391 
mtx_poÞ
 *
mtx_poÞ_ü—‹
(cÚ¡ *
mtx_Çme
, 
poÞ_size
, 
Ýts
);

392 
mtx_poÞ_de¡roy
(
mtx_poÞ
 **
poÞp
);

393 
mtx
 *
mtx_poÞ_fšd
(
mtx_poÞ
 *
poÞ
, *
±r
);

394 
mtx
 *
mtx_poÞ_®loc
(
mtx_poÞ
 *
poÞ
);

395 
	#mtx_poÞ_lock
(
poÞ
, 
±r
) \

396 
	`mtx_lock
(
	`mtx_poÞ_fšd
((
poÞ
), (
±r
)))

	)

397 
	#mtx_poÞ_lock_¥š
(
poÞ
, 
±r
) \

398 
	`mtx_lock_¥š
(
	`mtx_poÞ_fšd
((
poÞ
), (
±r
)))

	)

399 
	#mtx_poÞ_uÆock
(
poÞ
, 
±r
) \

400 
	`mtx_uÆock
(
	`mtx_poÞ_fšd
((
poÞ
), (
±r
)))

	)

401 
	#mtx_poÞ_uÆock_¥š
(
poÞ
, 
±r
) \

402 
	`mtx_uÆock_¥š
(
	`mtx_poÞ_fšd
((
poÞ
), (
±r
)))

	)

407 
mtx_poÞ
 *
mtxpoÞ_¦“p
;

409 #iâdeà
LOCK_DEBUG


410 #”rÜ 
LOCK_DEBUG
 
nÙ
 
defšed
, 
šþude
 <
sys
/
lock
.
h
> 
befÜe
 <sys/
mu‹x
.h>

412 #ià
LOCK_DEBUG
 > 0 || 
defšed
(
MUTEX_NOINLINE
)

413 
	#mtx_lock_æags_
(
m
, 
Ýts
, 
fže
, 
lše
) \

414 
	`_mtx_lock_æags
((
m
), (
Ýts
), (
fže
), (
lše
))

	)

415 
	#mtx_uÆock_æags_
(
m
, 
Ýts
, 
fže
, 
lše
) \

416 
	`_mtx_uÆock_æags
((
m
), (
Ýts
), (
fže
), (
lše
))

	)

417 
	#mtx_lock_¥š_æags_
(
m
, 
Ýts
, 
fže
, 
lše
) \

418 
	`_mtx_lock_¥š_æags
((
m
), (
Ýts
), (
fže
), (
lše
))

	)

419 
	#mtx_Œylock_¥š_æags_
(
m
, 
Ýts
, 
fže
, 
lše
) \

420 
	`_mtx_Œylock_¥š_æags
((
m
), (
Ýts
), (
fže
), (
lše
))

	)

421 
	#mtx_uÆock_¥š_æags_
(
m
, 
Ýts
, 
fže
, 
lše
) \

422 
	`_mtx_uÆock_¥š_æags
((
m
), (
Ýts
), (
fže
), (
lše
))

	)

424 
	#mtx_lock_æags_
(
m
, 
Ýts
, 
fže
, 
lše
) \

425 
	`__mtx_lock
((
m
), 
cu¹h»ad
, (
Ýts
), (
fže
), (
lše
))

	)

426 
	#mtx_uÆock_æags_
(
m
, 
Ýts
, 
fže
, 
lše
) \

427 
	`__mtx_uÆock
((
m
), 
cu¹h»ad
, (
Ýts
), (
fže
), (
lše
))

	)

428 
	#mtx_lock_¥š_æags_
(
m
, 
Ýts
, 
fže
, 
lše
) \

429 
	`__mtx_lock_¥š
((
m
), 
cu¹h»ad
, (
Ýts
), (
fže
), (
lše
))

	)

430 
	#mtx_Œylock_¥š_æags_
(
m
, 
Ýts
, 
fže
, 
lše
) \

431 
	`__mtx_Œylock_¥š
((
m
), 
cu¹h»ad
, (
Ýts
), (
fže
), (
lše
))

	)

432 
	#mtx_uÆock_¥š_æags_
(
m
, 
Ýts
, 
fže
, 
lše
) \

433 
	`__mtx_uÆock_¥š
((
m
))

	)

436 #ifdeà
INVARIANTS


437 
	#mtx_as£¹_
(
m
, 
wh©
, 
fže
, 
lše
) \

438 
	`_mtx_as£¹
((
m
), (
wh©
), (
fže
), (
lše
))

	)

440 
	#GIANT_REQUIRED
 
	`mtx_as£¹_
(&
GŸÁ
, 
MA_OWNED
, 
__FILE__
, 
__LINE__
)

	)

443 
	#mtx_as£¹_
(
m
, 
wh©
, 
fže
, 
lše
è()0

	)

444 
	#GIANT_REQUIRED


	)

447 
	#mtx_lock_æags
(
m
, 
Ýts
) \

448 
	`mtx_lock_æags_
((
m
), (
Ýts
), 
LOCK_FILE
, 
LOCK_LINE
)

	)

449 
	#mtx_uÆock_æags
(
m
, 
Ýts
) \

450 
	`mtx_uÆock_æags_
((
m
), (
Ýts
), 
LOCK_FILE
, 
LOCK_LINE
)

	)

451 
	#mtx_lock_¥š_æags
(
m
, 
Ýts
) \

452 
	`mtx_lock_¥š_æags_
((
m
), (
Ýts
), 
LOCK_FILE
, 
LOCK_LINE
)

	)

453 
	#mtx_uÆock_¥š_æags
(
m
, 
Ýts
) \

454 
	`mtx_uÆock_¥š_æags_
((
m
), (
Ýts
), 
LOCK_FILE
, 
LOCK_LINE
)

	)

455 
	#mtx_Œylock_æags
(
m
, 
Ýts
) \

456 
	`mtx_Œylock_æags_
((
m
), (
Ýts
), 
LOCK_FILE
, 
LOCK_LINE
)

	)

457 
	#mtx_Œylock_¥š_æags
(
m
, 
Ýts
) \

458 
	`mtx_Œylock_¥š_æags_
((
m
), (
Ýts
), 
LOCK_FILE
, 
LOCK_LINE
)

	)

459 
	#mtx_as£¹
(
m
, 
wh©
) \

460 
	`mtx_as£¹_
((
m
), (
wh©
), 
__FILE__
, 
__LINE__
)

	)

462 
	#mtx_¦“p
(
chª
, 
mtx
, 
´i
, 
wmesg
, 
timo
) \

463 
	`_¦“p
((
chª
), &(
mtx
)->
lock_objeù
, (
´i
), (
wmesg
), \

464 
tick_sbt
 * (
timo
), 0, 
C_HARDCLOCK
)

	)

466 
	#MTX_READ_VALUE
(
m
è((m)->
mtx_lock
)

	)

468 
	#mtx_š™Ÿlized
(
m
è
	`lock_š™Ÿlized
(&(m)->
lock_objeù
)

	)

470 
	#lv_mtx_owÃr
(
v
è((
th»ad
 *)((vè& ~
MTX_FLAGMASK
))

	)

472 
	#mtx_owÃr
(
m
è
	`lv_mtx_owÃr
(
	`MTX_READ_VALUE
(m))

	)

474 
	#mtx_owÃd
(
m
è(
	`mtx_owÃr
(mè=ð
cu¹h»ad
)

	)

476 
	#mtx_»cur£d
(
m
è((m)->
mtx_»cur£
 !ð0)

	)

478 
	#mtx_Çme
(
m
è((m)->
lock_objeù
.
lo_Çme
)

	)

483 
mtx
 
GŸÁ
;

484 
mtx
 
blocked_lock
;

493 #iâdeà
DROP_GIANT


494 
	#DROP_GIANT
() \

496 
_gŸÁút
 = 0; \

497 
	`WITNESS_SAVE_DECL
(
GŸÁ
); \

499 ià(
	`mtx_owÃd
(&
GŸÁ
)) { \

500 
	`WITNESS_SAVE
(&
GŸÁ
.
lock_objeù
, Giant); \

501 
_gŸÁút
 = 0; 
	`mtx_owÃd
(&
GŸÁ
) && \

502 !
	`SCHEDULER_STOPPED
(); 
_gŸÁút
++) \

503 
	`mtx_uÆock
(&
GŸÁ
); \

504 }

	)

506 
	#PICKUP_GIANT
() \

507 
	`PARTIAL_PICKUP_GIANT
(); \

508 } 0)

	)

510 
	#PARTIAL_PICKUP_GIANT
() \

511 
	`mtx_as£¹
(&
GŸÁ
, 
MA_NOTOWNED
); \

512 ià(
_gŸÁút
 > 0) { \

513 
_gŸÁút
--) \

514 
	`mtx_lock
(&
GŸÁ
); \

515 
	`WITNESS_RESTORE
(&
GŸÁ
.
lock_objeù
, Giant); \

516 }

	)

519 
	smtx_¬gs
 {

520 *
	mma_mtx
;

521 cÚ¡ *
	mma_desc
;

522 
	mma_Ýts
;

525 
	#MTX_SYSINIT
(
Çme
, 
mtx
, 
desc
, 
Ýts
) \

526 
mtx_¬gs
 
Çme
##
_¬gs
 = { \

527 (
mtx
), \

528 (
desc
), \

529 (
Ýts
) \

531 
	`SYSINIT
(
Çme
##
_mtx_sysš™
, 
SI_SUB_LOCK
, 
SI_ORDER_MIDDLE
, \

532 
mtx_sysš™
, &
Çme
##
_¬gs
); \

533 
	`SYSUNINIT
(
Çme
##
_mtx_sysunš™
, 
SI_SUB_LOCK
, 
SI_ORDER_MIDDLE
, \

534 
_mtx_de¡roy
, 
	`__DEVOLATILE
(*, &(
mtx
)->
mtx_lock
))

	)

543 #ià
defšed
(
INVARIANTS
è|| defšed(
INVARIANT_SUPPORT
)

544 
	#MA_OWNED
 
LA_XLOCKED


	)

545 
	#MA_NOTOWNED
 
LA_UNLOCKED


	)

546 
	#MA_RECURSED
 
LA_RECURSED


	)

547 
	#MA_NOTRECURSED
 
LA_NOTRECURSED


	)

553 
	#MTX_NETWORK_LOCK
 "ÃtwÜk driv”"

	)

	@/usr/include/sys/param.h

40 #iâdeà
_SYS_PARAM_H_


41 
	#_SYS_PARAM_H_


	)

43 
	~<sys/_nuÎ.h
>

45 
	#BSD
 199506

	)

46 
	#BSD4_3
 1

	)

47 
	#BSD4_4
 1

	)

62 #undeà
__F»eBSD_v”siÚ


63 
	#__F»eBSD_v”siÚ
 1200086

	)

78 #undeà
__F»eBSD_k”Ãl__


79 
	#__F»eBSD_k”Ãl__


	)

81 #ià
defšed
(
_KERNEL
è|| defšed(
IN_RTLD
)

82 
	#P_OSREL_SIGWAIT
 700000

	)

83 
	#P_OSREL_SIGSEGV
 700004

	)

84 
	#P_OSREL_MAP_ANON
 800104

	)

85 
	#P_OSREL_MAP_FSTRICT
 1100036

	)

86 
	#P_OSREL_SHUTDOWN_ENOTCONN
 1100077

	)

87 
	#P_OSREL_MAP_GUARD
 1200035

	)

88 
	#P_OSREL_WRFSBASE
 1200041

	)

89 
	#P_OSREL_CK_CYLGRP
 1200046

	)

90 
	#P_OSREL_VMTOTAL64
 1200054

	)

92 
	#P_OSREL_MAJOR
(
x
è((xè/ 100000)

	)

95 #iâdeà
LOCORE


96 
	~<sys/ty³s.h
>

105 
	~<sys/sy¦im™s.h
>

107 
	#MAXCOMLEN
 19

	)

108 
	#MAXINTERP
 
PATH_MAX


	)

109 
	#MAXLOGNAME
 33

	)

110 
	#MAXUPRC
 
CHILD_MAX


	)

111 
	#NCARGS
 
ARG_MAX


	)

112 
	#NGROUPS
 (
NGROUPS_MAX
+1è

	)

113 
	#NOFILE
 
OPEN_MAX


	)

114 
	#NOGROUP
 65535

	)

115 
	#MAXHOSTNAMELEN
 256

	)

116 
	#SPECNAMELEN
 63

	)

119 #ifdeà
_KERNEL


120 
	~<sys/cdefs.h
>

121 
	~<sys/”ºo.h
>

122 #iâdeà
LOCORE


123 
	~<sys/time.h
>

124 
	~<sys/´iÜ™y.h
>

127 #iâdeà
FALSE


128 
	#FALSE
 0

	)

130 #iâdeà
TRUE


131 
	#TRUE
 1

	)

135 #iâdeà
_KERNEL


137 
	~<sys/sigÇl.h
>

141 
	~<machše/·¿m.h
>

142 #iâdeà
_KERNEL


143 
	~<sys/lim™s.h
>

146 #iâdeà
DEV_BSHIFT


147 
	#DEV_BSHIFT
 9

	)

149 
	#DEV_BSIZE
 (1<<
DEV_BSHIFT
)

	)

151 #iâdeà
BLKDEV_IOSIZE


152 
	#BLKDEV_IOSIZE
 
PAGE_SIZE


	)

154 #iâdeà
DFLTPHYS


155 
	#DFLTPHYS
 (64 * 1024è

	)

157 #iâdeà
MAXPHYS


158 
	#MAXPHYS
 (128 * 1024è

	)

160 #iâdeà
MAXDUMPPGS


161 
	#MAXDUMPPGS
 (
DFLTPHYS
/
PAGE_SIZE
)

	)

168 #iâdef 
MSIZE


169 
	#MSIZE
 256

	)

172 #iâdef 
MCLSHIFT


173 
	#MCLSHIFT
 11

	)

176 
	#MCLBYTES
 (1 << 
MCLSHIFT
è

	)

178 #ià
PAGE_SIZE
 < 2048

179 
	#MJUMPAGESIZE
 
MCLBYTES


	)

180 #–ià
PAGE_SIZE
 <= 8192

181 
	#MJUMPAGESIZE
 
PAGE_SIZE


	)

183 
	#MJUMPAGESIZE
 (8 * 1024)

	)

186 
	#MJUM9BYTES
 (9 * 1024è

	)

187 
	#MJUM16BYTES
 (16 * 1024è

	)

194 #iâdeà
ùob


195 
	#ùob
(
x
è((x)<<
PAGE_SHIFT
)

	)

199 #iâdeà
btoc


200 
	#btoc
(
x
è(((
vm_off£t_t
)(x)+
PAGE_MASK
)>>
PAGE_SHIFT
)

	)

209 #iâdeà
btodb


210 
	#btodb
(
by‹s
) \

211 ( (
by‹s
) > () \

212 ? (
daddr_t
)(()(
by‹s
è>> 
DEV_BSHIFT
) \

213 : (
daddr_t
)(()(
by‹s
è>> 
DEV_BSHIFT
))

	)

216 #iâdeà
dbtob


217 
	#dbtob
(
db
) \

218 ((
off_t
)(
db
è<< 
DEV_BSHIFT
)

	)

221 
	#PRIMASK
 0x0ff

	)

222 
	#PCATCH
 0x100

	)

223 
	#PDROP
 0x200

	)

225 
	#NZERO
 0

	)

227 
	#NBBY
 8

	)

228 
	#NBPW
 (è

	)

230 
	#CMASK
 022

	)

232 
	#NODEV
 (
dev_t
)(-1è

	)

264 
	#MAXBSIZE
 65536

	)

265 #iâdef 
MAXBCACHEBUF


266 
	#MAXBCACHEBUF
 
MAXBSIZE


	)

268 #iâdef 
BKVASIZE


269 
	#BKVASIZE
 16384

	)

271 
	#BKVAMASK
 (
BKVASIZE
-1)

	)

282 
	#MAXPATHLEN
 
PATH_MAX


	)

283 
	#MAXSYMLINKS
 32

	)

286 
	#£tb™
(
a
,
i
è(((*)×))[(i)/
NBBY
] |ð1<<((i)%NBBY))

	)

287 
	#þrb™
(
a
,
i
è(((*)×))[(i)/
NBBY
] &ð~(1<<((i)%NBBY)))

	)

288 
	#is£t
(
a
,
i
) \

289 (((cÚ¡ *)(
a
))[(
i
)/
NBBY
] & (1<<((i)%NBBY)))

	)

290 
	#isþr
(
a
,
i
) \

291 ((((cÚ¡ *)(
a
))[(
i
)/
NBBY
] & (1<<((i)%NBBY))è=ð0)

	)

294 #iâdeà
howmªy


295 
	#howmªy
(
x
, 
y
è(((x)+((y)-1))/(y))

	)

297 
	#n™ems
(
x
è(((x)è/ ((x)[0]))

	)

298 
	#rounddown
(
x
, 
y
è(((x)/(y))*(y))

	)

299 
	#rounddown2
(
x
, 
y
è((x)&(~((y)-1))è

	)

300 
	#roundup
(
x
, 
y
è((((x)+((y)-1))/(y))*(y)è

	)

301 
	#roundup2
(
x
, 
y
è(((x)+((y)-1))&(~((y)-1))è

	)

302 
	#pow”of2
(
x
è((((x)-1)&(x))==0)

	)

305 
	#MIN
(
a
,
b
è((×)<(b))?×):(b))

	)

306 
	#MAX
(
a
,
b
è((×)>(b))?×):(b))

	)

308 #ifdeà
_KERNEL


312 #iâdeà
LOCORE


313 #iâdeà
_BYTEORDER_PROTOTYPED


314 
	#_BYTEORDER_PROTOTYPED


	)

315 
__BEGIN_DECLS


316 
__ušt32_t
 
htÚl
(__uint32_t);

317 
__ušt16_t
 
htÚs
(__uint16_t);

318 
__ušt32_t
 
Áohl
(__uint32_t);

319 
__ušt16_t
 
Áohs
(__uint16_t);

320 
	g__END_DECLS


324 #iâdeà
_BYTEORDER_FUNC_DEFINED


325 
	#_BYTEORDER_FUNC_DEFINED


	)

326 
	#htÚl
(
x
è
	`__htÚl
(x)

	)

327 
	#htÚs
(
x
è
	`__htÚs
(x)

	)

328 
	#Áohl
(
x
è
	`__Áohl
(x)

	)

329 
	#Áohs
(
x
è
	`__Áohs
(x)

	)

344 
	#FSHIFT
 11

	)

345 
	#FSCALE
 (1<<
FSHIFT
)

	)

347 
	#dbtoc
(
db
) \

348 ((
db
 + (
	`ùodb
(1è- 1)è>> (
PAGE_SHIFT
 - 
DEV_BSHIFT
))

	)

350 
	#ùodb
(
db
) \

351 ((
db
è<< (
PAGE_SHIFT
 - 
DEV_BSHIFT
))

	)

356 
	#memb”2¡ruù
(
s
, 
m
, 
x
) \

357 ((
s
 *)(*)((*)(
x
è- 
	`off£tof
(s, 
m
)))

	)

363 
	#__PAST_END
(
¬¿y
, 
off£t
è(((
	`__ty³of__
(*×¼ay)è*)×¼ay))[off£t])

	)

	@/usr/include/sys/pciio.h

33 #iâdeà
_SYS_PCIIO_H_


34 
	#_SYS_PCIIO_H_


	)

36 
	~<sys/ioccom.h
>

38 
	#PCI_MAXNAMELEN
 16

	)

41 
	mPCI_GETCONF_LAST_DEVICE
,

42 
	mPCI_GETCONF_LIST_CHANGED
,

43 
	mPCI_GETCONF_MORE_DEVS
,

44 
	mPCI_GETCONF_ERROR


45 } 
	tpci_g‘cÚf_¡©us
;

48 
	mPCI_GETCONF_NO_MATCH
 = 0x0000,

49 
	mPCI_GETCONF_MATCH_DOMAIN
 = 0x0001,

50 
	mPCI_GETCONF_MATCH_BUS
 = 0x0002,

51 
	mPCI_GETCONF_MATCH_DEV
 = 0x0004,

52 
	mPCI_GETCONF_MATCH_FUNC
 = 0x0008,

53 
	mPCI_GETCONF_MATCH_NAME
 = 0x0010,

54 
	mPCI_GETCONF_MATCH_UNIT
 = 0x0020,

55 
	mPCI_GETCONF_MATCH_VENDOR
 = 0x0040,

56 
	mPCI_GETCONF_MATCH_DEVICE
 = 0x0080,

57 
	mPCI_GETCONF_MATCH_CLASS
 = 0x0100

58 } 
	tpci_g‘cÚf_æags
;

60 
	spci£l
 {

61 
u_št32_t
 
	mpc_domaš
;

62 
u_št8_t
 
	mpc_bus
;

63 
u_št8_t
 
	mpc_dev
;

64 
u_št8_t
 
	mpc_func
;

67 
	spci_cÚf
 {

68 
pci£l
 
	mpc_£l
;

69 
u_št8_t
 
	mpc_hdr
;

70 
u_št16_t
 
	mpc_subv’dÜ
;

71 
u_št16_t
 
	mpc_subdeviû
;

73 
u_št16_t
 
	mpc_v’dÜ
;

74 
u_št16_t
 
	mpc_deviû
;

76 
u_št8_t
 
	mpc_þass
;

77 
u_št8_t
 
	mpc_subþass
;

78 
u_št8_t
 
	mpc_´ogif
;

79 
u_št8_t
 
	mpc_»vid
;

80 
	mpd_Çme
[
PCI_MAXNAMELEN
 + 1];

81 
u_lÚg
 
	mpd_un™
;

84 
	spci_m©ch_cÚf
 {

85 
pci£l
 
	mpc_£l
;

86 
	mpd_Çme
[
PCI_MAXNAMELEN
 + 1];

87 
u_lÚg
 
	mpd_un™
;

88 
u_št16_t
 
	mpc_v’dÜ
;

89 
u_št16_t
 
	mpc_deviû
;

90 
u_št8_t
 
	mpc_þass
;

91 
pci_g‘cÚf_æags
 
	mæags
;

94 
	spci_cÚf_io
 {

95 
u_št32_t
 
	m·t_buf_Ën
;

96 
u_št32_t
 
	mnum_·‰”ns
;

97 
pci_m©ch_cÚf
 *
	m·‰”ns
;

98 
u_št32_t
 
	mm©ch_buf_Ën
;

99 
u_št32_t
 
	mnum_m©ches
;

100 
pci_cÚf
 *
	mm©ches
;

101 
u_št32_t
 
	moff£t
;

102 
u_št32_t
 
	mg’”©iÚ
;

103 
pci_g‘cÚf_¡©us
 
	m¡©us
;

106 
	spci_io
 {

107 
pci£l
 
	mpi_£l
;

108 
	mpi_»g
;

109 
	mpi_width
;

110 
u_št32_t
 
	mpi_d©a
;

113 
	spci_b¬_io
 {

114 
pci£l
 
	mpbi_£l
;

115 
	mpbi_»g
;

116 
	mpbi_’abËd
;

117 
ušt64_t
 
	mpbi_ba£
;

118 
ušt64_t
 
	mpbi_Ëngth
;

121 
	spci_vpd_–em’t
 {

122 
	mpve_keywÜd
[2];

123 
ušt8_t
 
	mpve_æags
;

124 
ušt8_t
 
	mpve_d©®’
;

125 
ušt8_t
 
	mpve_d©a
[0];

128 
	#PVE_FLAG_IDENT
 0x01

	)

129 
	#PVE_FLAG_RW
 0x02

	)

131 
	#PVE_NEXT
(
pve
) \

132 ((
pci_vpd_–em’t
 *)((*)(
pve
) + \

133 (
pci_vpd_–em’t
è+ (
pve
)->
pve_d©®’
))

	)

135 
	spci_li¡_vpd_io
 {

136 
pci£l
 
	m¶vi_£l
;

137 
size_t
 
	m¶vi_Ën
;

138 
pci_vpd_–em’t
 *
	m¶vi_d©a
;

141 
	spci_b¬_mm­
 {

142 *
	mpbm_m­_ba£
;

143 
size_t
 
	mpbm_m­_Ëngth
;

145 
ušt64_t
 
	mpbm_b¬_Ëngth
;

146 
	mpbm_b¬_off
;

148 
pci£l
 
	mpbm_£l
;

149 
	mpbm_»g
;

150 
	mpbm_æags
;

151 
	mpbm_mem©Œ
;

154 
	#PCIIO_BAR_MMAP_FIXED
 0x01

	)

155 
	#PCIIO_BAR_MMAP_EXCL
 0x02

	)

156 
	#PCIIO_BAR_MMAP_RW
 0x04

	)

157 
	#PCIIO_BAR_MMAP_ACTIVATE
 0x08

	)

159 
	#PCIOCGETCONF
 
	`_IOWR
('p', 5, 
pci_cÚf_io
)

	)

160 
	#PCIOCREAD
 
	`_IOWR
('p', 2, 
pci_io
)

	)

161 
	#PCIOCWRITE
 
	`_IOWR
('p', 3, 
pci_io
)

	)

162 
	#PCIOCATTACHED
 
	`_IOWR
('p', 4, 
pci_io
)

	)

163 
	#PCIOCGETBAR
 
	`_IOWR
('p', 6, 
pci_b¬_io
)

	)

164 
	#PCIOCLISTVPD
 
	`_IOWR
('p', 7, 
pci_li¡_vpd_io
)

	)

165 
	#PCIOCBARMMAP
 
	`_IOWR
('p', 8, 
pci_b¬_mm­
)

	)

	@/usr/include/sys/pcpu.h

35 #iâdeà
_SYS_PCPU_H_


36 
	#_SYS_PCPU_H_


	)

38 #ifdeà
LOCORE


42 
	~<sys/_ýu£t.h
>

43 
	~<sys/_lock.h
>

44 
	~<sys/_mu‹x.h
>

45 
	~<sys/_sx.h
>

46 
	~<sys/queue.h
>

47 
	~<sys/_rmlock.h
>

48 
	~<sys/»sourû.h
>

49 
	~<machše/pýu.h
>

51 
	#DPCPU_SETNAME
 "£t_pýu"

	)

52 
	#DPCPU_SYMPREFIX
 "pýu_’Œy_"

	)

54 #ifdeà
_KERNEL


59 
ušŒ_t
 *
__¡¬t_£t_pýu
;

60 
__GLOBL
(
__¡¬t_£t_pýu
);

61 
ušŒ_t
 *
__¡Ý_£t_pýu
;

62 
__GLOBL
(
__¡Ý_£t_pýu
);

67 
ušŒ_t
 
dpýu_off
[];

72 
	#DPCPU_START
 ((
ušŒ_t
)&
__¡¬t_£t_pýu
)

	)

73 
	#DPCPU_STOP
 ((
ušŒ_t
)&
__¡Ý_£t_pýu
)

	)

74 
	#DPCPU_BYTES
 (
DPCPU_STOP
 - 
DPCPU_START
)

	)

75 
	#DPCPU_MODMIN
 2048

	)

76 
	#DPCPU_SIZE
 
	`roundup2
(
DPCPU_BYTES
, 
PAGE_SIZE
)

	)

77 
	#DPCPU_MODSIZE
 (
DPCPU_SIZE
 - (
DPCPU_BYTES
 - 
DPCPU_MODMIN
))

	)

82 
	#DPCPU_NAME
(
n
è
pýu_’Œy_
##
	)
n

83 
	#DPCPU_DECLARE
(
t
, 
n
èˆ
	`DPCPU_NAME
Ò)

	)

85 
	#DPCPU_DEFINE
(
t
, 
n
) \

86 
_hack
; 
t
 
	`DPCPU_NAME
(
n
è
	`__£ùiÚ
(
DPCPU_SETNAME
è
__u£d


	)

87 #ià
defšed
(
KLD_MODULE
è&& (defšed(
__¯rch64__
è|| defšed(
__riscv
))

103 
	#DPCPU_DEFINE_STATIC
(
t
, 
n
) \

104 
t
 
	`DPCPU_NAME
(
n
è
	`__£ùiÚ
(
DPCPU_SETNAME
è
__u£d


	)

106 
	#DPCPU_DEFINE_STATIC
(
t
, 
n
) \

107 
t
 
	`DPCPU_NAME
(
n
è
	`__£ùiÚ
(
DPCPU_SETNAME
è
__u£d


	)

113 
	#_DPCPU_PTR
(
b
, 
n
) \

114 (
	`__ty³of
(
	`DPCPU_NAME
(
n
))*)((
b
è+ (
ušŒ_t
)&DPCPU_NAMEÒ))

	)

115 
	#_DPCPU_GET
(
b
, 
n
è(*
	`_DPCPU_PTR
(b,‚))

	)

116 
	#_DPCPU_SET
(
b
, 
n
, 
v
è(*
	`_DPCPU_PTR
(b,‚èðv)

	)

121 
	#DPCPU_PTR
(
n
è
	`_DPCPU_PTR
(
	`PCPU_GET
(
dyÇmic
),‚)

	)

122 
	#DPCPU_GET
(
n
è(*
	`DPCPU_PTR
Ò))

	)

123 
	#DPCPU_SET
(
n
, 
v
è(*
	`DPCPU_PTR
Òèðv)

	)

128 
	#DPCPU_ID_PTR
(
i
, 
n
è
	`_DPCPU_PTR
(
dpýu_off
[(i)],‚)

	)

129 
	#DPCPU_ID_GET
(
i
, 
n
è(*
	`DPCPU_ID_PTR
(i,‚))

	)

130 
	#DPCPU_ID_SET
(
i
, 
n
, 
v
è(*
	`DPCPU_ID_PTR
(i,‚èðv)

	)

135 
	#DPCPU_SUM
(
n
è
__ex‹nsiÚ__
 \

137 
u_št
 
_i
; \

138 
	`__ty³of
(*
	`DPCPU_PTR
(
n
)è
sum
; \

140 
sum
 = 0; \

141 
	`CPU_FOREACH
(
_i
) { \

142 
sum
 +ð*
	`DPCPU_ID_PTR
(
_i
, 
n
); \

144 
sum
; \

145 })

	)

147 
	#DPCPU_VARSUM
(
n
, 
v¬
è
__ex‹nsiÚ__
 \

149 
u_št
 
_i
; \

150 
	`__ty³of
((
	`DPCPU_PTR
(
n
))->
v¬
è
sum
; \

152 
sum
 = 0; \

153 
	`CPU_FOREACH
(
_i
) { \

154 
sum
 +ð(
	`DPCPU_ID_PTR
(
_i
, 
n
))->
v¬
; \

156 
sum
; \

157 })

	)

159 
	#DPCPU_ZERO
(
n
) do { \

160 
u_št
 
_i
; \

162 
	`CPU_FOREACH
(
_i
) { \

163 
	`bz”o
(
	`DPCPU_ID_PTR
(
_i
, 
n
), (*
	`DPCPU_PTR
(n))); \

165 } 0)

	)

175 
	spýu
 {

176 
th»ad
 *
	mpc_cu¹h»ad
;

177 
th»ad
 *
	mpc_idËth»ad
;

178 
th»ad
 *
	mpc_åcu¹h»ad
;

179 
th»ad
 *
	mpc_d—dth»ad
;

180 
pcb
 *
	mpc_cu½cb
;

181 
ušt64_t
 
	mpc_sw™chtime
;

182 
	mpc_sw™chticks
;

183 
u_št
 
	mpc_ýuid
;

184 
STAILQ_ENTRY
(
pýu
è
	mpc_®lýu
;

185 
lock_li¡_’Œy
 *
	mpc_¥šlocks
;

186 
	mpc_ý_time
[
CPUSTATES
];

187 
deviû
 *
	mpc_deviû
;

188 *
	mpc_Ãti¤
;

189 
	mpc_unu£d1
;

190 
	mpc_domaš
;

191 
rm_queue
 
	mpc_rm_queue
;

192 
ušŒ_t
 
	mpc_dyÇmic
;

193 
ušt64_t
 
	mpc_—¾y_dummy_couÁ”
;

205 
	mPCPU_MD_FIELDS
;

206 } 
__®igÃd
(
CACHE_LINE_SIZE
);

208 #ifdeà
_KERNEL


210 
STAILQ_HEAD
(
ýuh—d
, 
pýu
);

212 
ýuh—d
 cpuhead;

213 
pýu
 *
ýuid_to_pýu
[];

215 
	#curýu
 
	`PCPU_GET
(
ýuid
)

	)

216 
	#cu½roc
 (
cu¹h»ad
->
td_´oc
)

	)

217 #iâdeà
cu¹h»ad


218 
	#cu¹h»ad
 
	`PCPU_GET
(
cu¹h»ad
)

	)

220 
	#curvid©a
 
	`PCPU_GET
(
vid©a
)

	)

222 
	#UMA_PCPU_ALLOC_SIZE
 
PAGE_SIZE


	)

224 #ifdeà
CTASSERT


225 #ià
defšed
(
__i386__
è|| defšed(
__amd64__
)

227 
CTASSERT
((
pýu
è=ð
UMA_PCPU_ALLOC_SIZE
);

233 
CTASSERT
((
PAGE_SIZE
 / (
pýu
)) * (pcpu) == PAGE_SIZE);

238 
šlše
 *

239 
	$zpýu_g‘
(*
ba£
)

242  ((*)(
ba£
è+ 
UMA_PCPU_ALLOC_SIZE
 * 
curýu
);

243 
	}
}

245 
šlše
 *

246 
	$zpýu_g‘_ýu
(*
ba£
, 
ýu
)

249  ((*)(
ba£
è+ 
UMA_PCPU_ALLOC_SIZE
 * 
ýu
);

250 
	}
}

258 
ýu_pýu_š™
(
pýu
 *pýu, 
ýuid
, 
size_t
 
size
);

259 
db_show_mdpýu
(
pýu
 *pcpu);

261 *
dpýu_®loc
(
size
);

262 
dpýu_cÝy
(*
s
, 
size
);

263 
dpýu_ä“
(*
s
, 
size
);

264 
dpýu_š™
(*
dpýu
, 
ýuid
);

265 
pýu_de¡roy
(
pýu
 *pcpu);

266 
pýu
 *
pýu_fšd
(
u_št
 
ýuid
);

267 
pýu_š™
(
pýu
 *pýu, 
ýuid
, 
size_t
 
size
);

	@/usr/include/sys/poll.h

33 #iâdeà
_SYS_POLL_H_


34 
	#_SYS_POLL_H_


	)

36 
	~<sys/cdefs.h
>

42 
	tnfds_t
;

47 
	spÞlfd
 {

48 
	mfd
;

49 
	mev’ts
;

50 
	m»v’ts
;

63 
	#POLLIN
 0x0001

	)

64 
	#POLLPRI
 0x0002

	)

65 
	#POLLOUT
 0x0004

	)

66 
	#POLLRDNORM
 0x0040

	)

67 
	#POLLWRNORM
 
POLLOUT


	)

68 
	#POLLRDBAND
 0x0080

	)

69 
	#POLLWRBAND
 0x0100

	)

71 #ià
__BSD_VISIBLE


73 
	#POLLINIGNEOF
 0x2000

	)

80 
	#POLLERR
 0x0008

	)

81 
	#POLLHUP
 0x0010

	)

82 
	#POLLNVAL
 0x0020

	)

84 #ià
__BSD_VISIBLE


86 
	#POLLSTANDARD
 (
POLLIN
|
POLLPRI
|
POLLOUT
|
POLLRDNORM
|
POLLRDBAND
|\

87 
POLLWRBAND
|
POLLERR
|
POLLHUP
|
POLLNVAL
)

	)

94 
	#INFTIM
 (-1)

	)

98 #iâdeà
_KERNEL


100 #ià
__BSD_VISIBLE


101 
	~<sys/_ty³s.h
>

103 
	~<sys/_sig£t.h
>

104 
	~<sys/time¥ec.h
>

106 #iâdeà
_SIGSET_T_DECLARED


107 
	#_SIGSET_T_DECLARED


	)

108 
__sig£t_t
 
	tsig£t_t
;

113 
__BEGIN_DECLS


114 
pÞl
(
pÞlfd
 
_pfd
[], 
nfds_t
 
_nfds
, 
_timeout
);

115 #ià
__BSD_VISIBLE


116 
µÞl
(
pÞlfd
 
_pfd
[], 
nfds_t
 
_nfds
,

117 cÚ¡ 
time¥ec
 *
__»¡riù
 
_timeout
,

118 cÚ¡ 
sig£t_t
 *
__»¡riù
 
_Ãwsigmask
);

120 
	g__END_DECLS


	@/usr/include/sys/priv.h

37 #iâdeà
_SYS_PRIV_H_


38 
	#_SYS_PRIV_H_


	)

58 
	#_PRIV_LOWEST
 1

	)

67 
	#_PRIV_ROOT
 1

	)

68 
	#PRIV_ACCT
 2

	)

69 
	#PRIV_MAXFILES
 3

	)

70 
	#PRIV_MAXPROC
 4

	)

71 
	#PRIV_KTRACE
 5

	)

72 
	#PRIV_SETDUMPER
 6

	)

73 
	#PRIV_REBOOT
 8

	)

74 
	#PRIV_SWAPON
 9

	)

75 
	#PRIV_SWAPOFF
 10

	)

76 
	#PRIV_MSGBUF
 11

	)

77 
	#PRIV_IO
 12

	)

78 
	#PRIV_KEYBOARD
 13

	)

79 
	#PRIV_DRIVER
 14

	)

80 
	#PRIV_ADJTIME
 15

	)

81 
	#PRIV_NTP_ADJTIME
 16

	)

82 
	#PRIV_CLOCK_SETTIME
 17

	)

83 
	#PRIV_SETTIMEOFDAY
 18

	)

84 
	#_PRIV_SETHOSTID
 19

	)

85 
	#_PRIV_SETDOMAINNAME
 20

	)

90 
	#PRIV_AUDIT_CONTROL
 40

	)

91 
	#PRIV_AUDIT_FAILSTOP
 41

	)

92 
	#PRIV_AUDIT_GETAUDIT
 42

	)

93 
	#PRIV_AUDIT_SETAUDIT
 43

	)

94 
	#PRIV_AUDIT_SUBMIT
 44

	)

99 
	#PRIV_CRED_SETUID
 50

	)

100 
	#PRIV_CRED_SETEUID
 51

	)

101 
	#PRIV_CRED_SETGID
 52

	)

102 
	#PRIV_CRED_SETEGID
 53

	)

103 
	#PRIV_CRED_SETGROUPS
 54

	)

104 
	#PRIV_CRED_SETREUID
 55

	)

105 
	#PRIV_CRED_SETREGID
 56

	)

106 
	#PRIV_CRED_SETRESUID
 57

	)

107 
	#PRIV_CRED_SETRESGID
 58

	)

108 
	#PRIV_SEEOTHERGIDS
 59

	)

109 
	#PRIV_SEEOTHERUIDS
 60

	)

114 
	#PRIV_DEBUG_DIFFCRED
 80

	)

115 
	#PRIV_DEBUG_SUGID
 81

	)

116 
	#PRIV_DEBUG_UNPRIV
 82

	)

117 
	#PRIV_DEBUG_DENIED
 83

	)

122 
	#PRIV_DTRACE_KERNEL
 90

	)

123 
	#PRIV_DTRACE_PROC
 91

	)

124 
	#PRIV_DTRACE_USER
 92

	)

129 
	#PRIV_FIRMWARE_LOAD
 100

	)

134 
	#PRIV_JAIL_ATTACH
 110

	)

135 
	#PRIV_JAIL_SET
 111

	)

136 
	#PRIV_JAIL_REMOVE
 112

	)

141 
	#PRIV_KENV_SET
 120

	)

142 
	#PRIV_KENV_UNSET
 121

	)

147 
	#PRIV_KLD_LOAD
 130

	)

148 
	#PRIV_KLD_UNLOAD
 131

	)

154 
	#PRIV_MAC_PARTITION
 140

	)

155 
	#PRIV_MAC_PRIVS
 141

	)

160 
	#PRIV_PROC_LIMIT
 160

	)

161 
	#PRIV_PROC_SETLOGIN
 161

	)

162 
	#PRIV_PROC_SETRLIMIT
 162

	)

163 
	#PRIV_PROC_SETLOGINCLASS
 163

	)

168 
	#PRIV_IPC_READ
 170

	)

169 
	#PRIV_IPC_WRITE
 171

	)

170 
	#PRIV_IPC_ADMIN
 172

	)

171 
	#PRIV_IPC_MSGSIZE
 173

	)

176 
	#PRIV_MQ_ADMIN
 180

	)

181 
	#PRIV_PMC_MANAGE
 190

	)

182 
	#PRIV_PMC_SYSTEM
 191

	)

187 
	#PRIV_SCHED_DIFFCRED
 200

	)

188 
	#PRIV_SCHED_SETPRIORITY
 201

	)

189 
	#PRIV_SCHED_RTPRIO
 202

	)

190 
	#PRIV_SCHED_SETPOLICY
 203

	)

191 
	#PRIV_SCHED_SET
 204

	)

192 
	#PRIV_SCHED_SETPARAM
 205

	)

193 
	#PRIV_SCHED_CPUSET
 206

	)

194 
	#PRIV_SCHED_CPUSET_INTR
 207

	)

199 
	#PRIV_SEM_WRITE
 220

	)

204 
	#PRIV_SIGNAL_DIFFCRED
 230

	)

205 
	#PRIV_SIGNAL_SUGID
 231

	)

210 
	#PRIV_SYSCTL_DEBUG
 240

	)

211 
	#PRIV_SYSCTL_WRITE
 241

	)

212 
	#PRIV_SYSCTL_WRITEJAIL
 242

	)

217 
	#PRIV_TTY_CONSOLE
 250

	)

218 
	#PRIV_TTY_DRAINWAIT
 251

	)

219 
	#PRIV_TTY_DTRWAIT
 252

	)

220 
	#PRIV_TTY_EXCLUSIVE
 253

	)

221 
	#_PRIV_TTY_PRISON
 254

	)

222 
	#PRIV_TTY_STI
 255

	)

223 
	#PRIV_TTY_SETA
 256

	)

228 
	#PRIV_UFS_EXTATTRCTL
 270

	)

229 
	#PRIV_UFS_QUOTAOFF
 271

	)

230 
	#PRIV_UFS_QUOTAON
 272

	)

231 
	#PRIV_UFS_SETUSE
 273

	)

236 
	#PRIV_ZFS_POOL_CONFIG
 280

	)

237 
	#PRIV_ZFS_INJECT
 281

	)

239 
	#PRIV_ZFS_JAIL
 282

	)

245 
	#PRIV_NFS_DAEMON
 290

	)

246 
	#PRIV_NFS_LOCKD
 291

	)

251 
	#PRIV_VFS_READ
 310

	)

252 
	#PRIV_VFS_WRITE
 311

	)

253 
	#PRIV_VFS_ADMIN
 312

	)

254 
	#PRIV_VFS_EXEC
 313

	)

255 
	#PRIV_VFS_LOOKUP
 314

	)

256 
	#PRIV_VFS_BLOCKRESERVE
 315

	)

257 
	#PRIV_VFS_CHFLAGS_DEV
 316

	)

258 
	#PRIV_VFS_CHOWN
 317

	)

259 
	#PRIV_VFS_CHROOT
 318

	)

260 
	#PRIV_VFS_RETAINSUGID
 319

	)

261 
	#PRIV_VFS_EXCEEDQUOTA
 320

	)

262 
	#PRIV_VFS_EXTATTR_SYSTEM
 321

	)

263 
	#PRIV_VFS_FCHROOT
 322

	)

264 
	#PRIV_VFS_FHOPEN
 323

	)

265 
	#PRIV_VFS_FHSTAT
 324

	)

266 
	#PRIV_VFS_FHSTATFS
 325

	)

267 
	#PRIV_VFS_GENERATION
 326

	)

268 
	#PRIV_VFS_GETFH
 327

	)

269 
	#PRIV_VFS_GETQUOTA
 328

	)

270 
	#PRIV_VFS_LINK
 329

	)

271 
	#PRIV_VFS_MKNOD_BAD
 330

	)

272 
	#PRIV_VFS_MKNOD_DEV
 331

	)

273 
	#PRIV_VFS_MKNOD_WHT
 332

	)

274 
	#PRIV_VFS_MOUNT
 333

	)

275 
	#PRIV_VFS_MOUNT_OWNER
 334

	)

276 
	#PRIV_VFS_MOUNT_EXPORTED
 335

	)

277 
	#PRIV_VFS_MOUNT_PERM
 336

	)

278 
	#PRIV_VFS_MOUNT_SUIDDIR
 337

	)

279 
	#PRIV_VFS_MOUNT_NONUSER
 338

	)

280 
	#PRIV_VFS_SETGID
 339

	)

281 
	#PRIV_VFS_SETQUOTA
 340

	)

282 
	#PRIV_VFS_STICKYFILE
 341

	)

283 
	#PRIV_VFS_SYSFLAGS
 342

	)

284 
	#PRIV_VFS_UNMOUNT
 343

	)

285 
	#PRIV_VFS_STAT
 344

	)

290 
	#PRIV_VM_MADV_PROTECT
 360

	)

291 
	#PRIV_VM_MLOCK
 361

	)

292 
	#PRIV_VM_MUNLOCK
 362

	)

293 
	#PRIV_VM_SWAP_NOQUOTA
 363

	)

297 
	#PRIV_VM_SWAP_NORLIMIT
 364

	)

305 
	#PRIV_DEVFS_RULE
 370

	)

306 
	#PRIV_DEVFS_SYMLINK
 371

	)

311 
	#PRIV_RANDOM_RESEED
 380

	)

316 
	#PRIV_NET_BRIDGE
 390

	)

317 
	#PRIV_NET_GRE
 391

	)

318 
	#_PRIV_NET_PPP
 392

	)

319 
	#_PRIV_NET_SLIP
 393

	)

320 
	#PRIV_NET_BPF
 394

	)

321 
	#PRIV_NET_RAW
 395

	)

322 
	#PRIV_NET_ROUTE
 396

	)

323 
	#PRIV_NET_TAP
 397

	)

324 
	#PRIV_NET_SETIFMTU
 398

	)

325 
	#PRIV_NET_SETIFFLAGS
 399

	)

326 
	#PRIV_NET_SETIFCAP
 400

	)

327 
	#PRIV_NET_SETIFNAME
 401

	)

328 
	#PRIV_NET_SETIFMETRIC
 402

	)

329 
	#PRIV_NET_SETIFPHYS
 403

	)

330 
	#PRIV_NET_SETIFMAC
 404

	)

331 
	#PRIV_NET_ADDMULTI
 405

	)

332 
	#PRIV_NET_DELMULTI
 406

	)

333 
	#PRIV_NET_HWIOCTL
 407

	)

334 
	#PRIV_NET_SETLLADDR
 408

	)

335 
	#PRIV_NET_ADDIFGROUP
 409

	)

336 
	#PRIV_NET_DELIFGROUP
 410

	)

337 
	#PRIV_NET_IFCREATE
 411

	)

338 
	#PRIV_NET_IFDESTROY
 412

	)

339 
	#PRIV_NET_ADDIFADDR
 413

	)

340 
	#PRIV_NET_DELIFADDR
 414

	)

341 
	#PRIV_NET_LAGG
 415

	)

342 
	#PRIV_NET_GIF
 416

	)

343 
	#PRIV_NET_SETIFVNET
 417

	)

344 
	#PRIV_NET_SETIFDESCR
 418

	)

345 
	#PRIV_NET_SETIFFIB
 419

	)

346 
	#PRIV_NET_VXLAN
 420

	)

347 
	#PRIV_NET_SETLANPCP
 421

	)

348 
	#PRIV_NET_SETVLANPCP
 
PRIV_NET_SETLANPCP


	)

353 
	#PRIV_NET80211_GETKEY
 440

	)

354 
	#PRIV_NET80211_MANAGE
 441

	)

359 
	#_PRIV_NETATALK_RESERVEDPORT
 450

	)

364 
	#PRIV_NETATM_CFG
 460

	)

365 
	#PRIV_NETATM_ADD
 461

	)

366 
	#PRIV_NETATM_DEL
 462

	)

367 
	#PRIV_NETATM_SET
 463

	)

372 
	#PRIV_NETBLUETOOTH_RAW
 470

	)

377 
	#PRIV_NETGRAPH_CONTROL
 480

	)

378 
	#PRIV_NETGRAPH_TTY
 481

	)

383 
	#PRIV_NETINET_RESERVEDPORT
 490

	)

384 
	#PRIV_NETINET_IPFW
 491

	)

385 
	#PRIV_NETINET_DIVERT
 492

	)

386 
	#PRIV_NETINET_PF
 493

	)

387 
	#PRIV_NETINET_DUMMYNET
 494

	)

388 
	#PRIV_NETINET_CARP
 495

	)

389 
	#PRIV_NETINET_MROUTE
 496

	)

390 
	#PRIV_NETINET_RAW
 497

	)

391 
	#PRIV_NETINET_GETCRED
 498

	)

392 
	#PRIV_NETINET_ADDRCTRL6
 499

	)

393 
	#PRIV_NETINET_ND6
 500

	)

394 
	#PRIV_NETINET_SCOPE6
 501

	)

395 
	#PRIV_NETINET_ALIFETIME6
 502

	)

396 
	#PRIV_NETINET_IPSEC
 503

	)

397 
	#PRIV_NETINET_REUSEPORT
 504

	)

398 
	#PRIV_NETINET_SETHDROPTS
 505

	)

399 
	#PRIV_NETINET_BINDANY
 506

	)

400 
	#PRIV_NETINET_HASHKEY
 507

	)

405 
	#_PRIV_NETIPX_RESERVEDPORT
 520

	)

406 
	#_PRIV_NETIPX_RAW
 521

	)

411 
	#PRIV_NETNCP
 530

	)

416 
	#PRIV_NETSMB
 540

	)

421 
	#PRIV_VM86_INTCALL
 550

	)

427 
	#_PRIV_RESERVED0
 560

	)

428 
	#_PRIV_RESERVED1
 561

	)

429 
	#_PRIV_RESERVED2
 562

	)

430 
	#_PRIV_RESERVED3
 563

	)

431 
	#_PRIV_RESERVED4
 564

	)

432 
	#_PRIV_RESERVED5
 565

	)

433 
	#_PRIV_RESERVED6
 566

	)

434 
	#_PRIV_RESERVED7
 567

	)

435 
	#_PRIV_RESERVED8
 568

	)

436 
	#_PRIV_RESERVED9
 569

	)

437 
	#_PRIV_RESERVED10
 570

	)

438 
	#_PRIV_RESERVED11
 571

	)

439 
	#_PRIV_RESERVED12
 572

	)

440 
	#_PRIV_RESERVED13
 573

	)

441 
	#_PRIV_RESERVED14
 574

	)

442 
	#_PRIV_RESERVED15
 575

	)

451 
	#PRIV_MODULE0
 600

	)

452 
	#PRIV_MODULE1
 601

	)

453 
	#PRIV_MODULE2
 602

	)

454 
	#PRIV_MODULE3
 603

	)

455 
	#PRIV_MODULE4
 604

	)

456 
	#PRIV_MODULE5
 605

	)

457 
	#PRIV_MODULE6
 606

	)

458 
	#PRIV_MODULE7
 607

	)

459 
	#PRIV_MODULE8
 608

	)

460 
	#PRIV_MODULE9
 609

	)

461 
	#PRIV_MODULE10
 610

	)

462 
	#PRIV_MODULE11
 611

	)

463 
	#PRIV_MODULE12
 612

	)

464 
	#PRIV_MODULE13
 613

	)

465 
	#PRIV_MODULE14
 614

	)

466 
	#PRIV_MODULE15
 615

	)

471 
	#PRIV_DDB_CAPTURE
 620

	)

476 
	#PRIV_NNPFS_DEBUG
 630

	)

481 
	#PRIV_CPUCTL_WRMSR
 640

	)

482 
	#PRIV_CPUCTL_UPDATE
 641

	)

487 
	#PRIV_C4B_RESET_CTLR
 650

	)

488 
	#PRIV_C4B_TRACE
 651

	)

493 
	#PRIV_AFS_ADMIN
 660

	)

494 
	#PRIV_AFS_DAEMON
 661

	)

499 
	#PRIV_RCTL_GET_RACCT
 670

	)

500 
	#PRIV_RCTL_GET_RULES
 671

	)

501 
	#PRIV_RCTL_GET_LIMITS
 672

	)

502 
	#PRIV_RCTL_ADD_RULE
 673

	)

503 
	#PRIV_RCTL_REMOVE_RULE
 674

	)

508 
	#PRIV_KMEM_READ
 680

	)

509 
	#PRIV_KMEM_WRITE
 681

	)

514 
	#_PRIV_HIGHEST
 682

	)

522 
	#PRIV_VALID
(
x
è((xè> 
_PRIV_LOWEST
 && (xè< 
_PRIV_HIGHEST
)

	)

524 #ifdeà
_KERNEL


532 
	gth»ad
;

533 
	guüed
;

534 
´iv_check
(
th»ad
 *
td
, 
´iv
);

535 
´iv_check_üed
(
uüed
 *
üed
, 
´iv
, 
æags
);

	@/usr/include/sys/proc.h

40 #iâdeà
_SYS_PROC_H_


41 
	#_SYS_PROC_H_


	)

43 
	~<sys/ÿÎout.h
>

44 
	~<sys/ev’t.h
>

45 
	~<sys/cÚdv¬.h
>

46 #iâdeà
_KERNEL


47 
	~<sys/fžedesc.h
>

49 
	~<sys/queue.h
>

50 
	~<sys/_lock.h
>

51 
	~<sys/lock_´ofže.h
>

52 
	~<sys/_mu‹x.h
>

53 
	~<sys/osd.h
>

54 
	~<sys/´iÜ™y.h
>

55 
	~<sys/¹´io.h
>

56 
	~<sys/runq.h
>

57 
	~<sys/»sourû.h
>

58 
	~<sys/sigio.h
>

59 
	~<sys/sigÇl.h
>

60 
	~<sys/sigÇlv¬.h
>

61 #iâdeà
_KERNEL


62 
	~<sys/time.h
>

64 
	~<sys/pýu.h
>

65 
	~<sys/sy¡m.h
>

67 
	~<sys/ucÚ‹xt.h
>

68 
	~<sys/uüed.h
>

69 
	~<sys/ty³s.h
>

70 
	~<sys/_domaš£t.h
>

72 
	~<machše/´oc.h
>

73 #ifdeà
_KERNEL


74 
	~<machše/ýu.h
>

85 
	s£ssiÚ
 {

86 
u_št
 
	ms_couÁ
;

87 
´oc
 *
	ms_Ëad”
;

88 
vnode
 *
	ms_‰yvp
;

89 
cdev_´iv
 *
	ms_‰ydp
;

90 
‰y
 *
	ms_‰yp
;

91 
pid_t
 
	ms_sid
;

93 
	ms_logš
[
roundup
(
MAXLOGNAME
, ())];

94 
mtx
 
	ms_mtx
;

105 
	spg½
 {

106 
LIST_ENTRY
(
pg½
è
	mpg_hash
;

107 
LIST_HEAD
(, 
´oc
è
	mpg_memb”s
;

108 
£ssiÚ
 *
	mpg_£ssiÚ
;

109 
sigiÞ¡
 
	mpg_sigiÞ¡
;

110 
pid_t
 
	mpg_id
;

111 
	mpg_jobc
;

112 
mtx
 
	mpg_mtx
;

118 
	s·rgs
 {

119 
u_št
 
	m¬_»f
;

120 
u_št
 
	m¬_Ëngth
;

121 
u_ch¬
 
	m¬_¬gs
[1];

173 
	gýu£t
;

174 
	gfžeÿps
;

175 
	gfžemÚ
;

176 
	gkaiošfo
;

177 
	gkaud™_»cÜd
;

178 
	gkdŒaû_´oc
;

179 
	gkdŒaû_th»ad
;

180 
	gmqueue_nÙif›r
;

181 
	gÆmšfo
;

182 
	gp_sched
;

183 
	g´oc
;

184 
	g´ocdesc
;

185 
	g¿cù
;

186 
	gsbuf
;

187 
	g¦“pqueue
;

188 
	gsock‘
;

189 
	gsysÿÎ_¬gs
;

190 
	gtd_sched
;

191 
	gth»ad
;

192 
	gŒ­äame
;

193 
	gtuº¡že
;

194 
	gvm_m­
;

195 
	gvm_m­_’Œy
;

208 
	sru§ge_ext
 {

209 
ušt64_t
 
	mrux_ruÁime
;

210 
ušt64_t
 
	mrux_uticks
;

211 
ušt64_t
 
	mrux_¡icks
;

212 
ušt64_t
 
	mrux_™icks
;

213 
ušt64_t
 
	mrux_uu
;

214 
ušt64_t
 
	mrux_su
;

215 
ušt64_t
 
	mrux_tu
;

223 
	sth»ad
 {

224 
mtx
 *vÞ©ž
	mtd_lock
;

225 
´oc
 *
	mtd_´oc
;

226 
TAILQ_ENTRY
(
th»ad
è
	mtd_¶i¡
;

227 
TAILQ_ENTRY
(
th»ad
è
	mtd_runq
;

228 
TAILQ_ENTRY
(
th»ad
è
	mtd_¦pq
;

229 
TAILQ_ENTRY
(
th»ad
è
	mtd_lockq
;

230 
LIST_ENTRY
(
th»ad
è
	mtd_hash
;

231 
ýu£t
 *
	mtd_ýu£t
;

232 
domaš£t_»f
 
	mtd_domaš
;

233 
£Éd
 *
	mtd_£l
;

234 
¦“pqueue
 *
	mtd_¦“pqueue
;

235 
tuº¡že
 *
	mtd_tuº¡že
;

236 
¾_q_’Œy
 *
	mtd_¾qe
;

237 
umtx_q
 *
	mtd_umtxq
;

238 
lwpid_t
 
	mtd_tid
;

239 
sigqueue_t
 
	mtd_sigqueue
;

240 
	#td_sigli¡
 
td_sigqueue
.
sq_sigÇls


	)

241 
u_ch¬
 
	mtd_Ënd_u£r_´i
;

244 
	#td_¡¬tz”o
 
td_•ochÃ¡


	)

245 
u_ch¬
 
	mtd_•ochÃ¡
;

246 
	mtd_æags
;

247 
	mtd_šhib™Üs
;

248 
	mtd_pæags
;

249 
	mtd_dupfd
;

250 
	mtd_sqqueue
;

251 *
	mtd_wchª
;

252 cÚ¡ *
	mtd_wmesg
;

253 vÞ©ž
u_ch¬
 
	mtd_ow•»em±
;

254 
u_ch¬
 
	mtd_tsqueue
;

255 
	mtd_locks
;

256 
	mtd_rw_¾ocks
;

257 
	mtd_sx_¦ocks
;

258 
	mtd_lk_¦ocks
;

259 
	mtd_¡Ýsched
;

260 
tuº¡že
 *
	mtd_blocked
;

261 cÚ¡ *
	mtd_lockÇme
;

262 
LIST_HEAD
(, 
tuº¡že
è
	mtd_cÚ‹¡ed
;

263 
lock_li¡_’Œy
 *
	mtd_¦“¶ocks
;

264 
	mtd_šŒ_Ã¡šg_Ëv–
;

265 
	mtd_pšÃd
;

266 
uüed
 *
	mtd_uüed
;

267 
¶im™
 *
	mtd_lim™
;

268 
	mtd_¦±ick
;

269 
	mtd_blktick
;

270 
	mtd_swvÞtick
;

271 
	mtd_swšvÞtick
;

272 
u_št
 
	mtd_cow
;

273 
ru§ge
 
	mtd_ru
;

274 
ru§ge_ext
 
	mtd_rux
;

275 
ušt64_t
 
	mtd_šüuÁime
;

276 
ušt64_t
 
	mtd_ruÁime
;

277 
u_št
 
	mtd_±icks
;

278 
u_št
 
	mtd_¡icks
;

279 
u_št
 
	mtd_™icks
;

280 
u_št
 
	mtd_uticks
;

281 
	mtd_šŒv®
;

282 
sig£t_t
 
	mtd_Þdsigmask
;

283 vÞ©ž
u_št
 
	mtd_g’”©iÚ
;

284 
¡ack_t
 
	mtd_sig¡k
;

285 
	mtd_xsig
;

286 
u_lÚg
 
	mtd_´ofž_addr
;

287 
u_št
 
	mtd_´ofž_ticks
;

288 
	mtd_Çme
[
MAXCOMLEN
 + 1];

289 
fže
 *
	mtd_åÝ
;

290 
	mtd_dbgæags
;

291 
sigšfo_t
 
	mtd_si
;

292 
	mtd_ng_outbound
;

293 
osd
 
	mtd_osd
;

294 
vm_m­_’Œy
 *
	mtd_m­_def_u£r
;

295 
pid_t
 
	mtd_dbg_fÜked
;

296 
u_št
 
	mtd_vp_»£rv
;

297 
	mtd_no_¦“pšg
;

298 *
	mtd_su
;

299 
sbštime_t
 
	mtd_¦“±imo
;

300 
	mtd_¹cg’
;

301 
size_t
 
	mtd_v¦ock_sz
;

302 
	#td_’dz”o
 
td_sigmask


	)

305 
	#td_¡¬tcÝy
 
td_’dz”o


	)

306 
sig£t_t
 
	mtd_sigmask
;

307 
u_ch¬
 
	mtd_rqšdex
;

308 
u_ch¬
 
	mtd_ba£_´i
;

309 
u_ch¬
 
	mtd_´iÜ™y
;

310 
u_ch¬
 
	mtd_´i_þass
;

311 
u_ch¬
 
	mtd_u£r_´i
;

312 
u_ch¬
 
	mtd_ba£_u£r_´i
;

313 
u_ch¬
 
	mtd_´e_•och_´io
;

314 
ušŒ_t
 
	mtd_rb_li¡
;

315 
ušŒ_t
 
	mtd_rbp_li¡
;

316 
ušŒ_t
 
	mtd_rb_šaù
;

317 
sysÿÎ_¬gs
 
	mtd_§
;

319 
	#td_’dcÝy
 
td_pcb


	)

325 
pcb
 *
	mtd_pcb
;

327 
	mTDS_INACTIVE
 = 0x0,

328 
	mTDS_INHIBITED
,

329 
	mTDS_CAN_RUN
,

330 
	mTDS_RUNQ
,

331 
	mTDS_RUNNING


332 } 
	mtd_¡©e
;

334 
»gi¡”_t
 
	mtdu_»tv®
[2];

335 
off_t
 
	mtdu_off
;

336 } 
	mtd_u»toff
;

337 
	#td_»tv®
 
td_u»toff
.
tdu_»tv®


	)

338 
u_št
 
	mtd_cowg’
;

340 
ÿÎout
 
	mtd_¦pÿÎout
;

341 
Œ­äame
 *
	mtd_äame
;

342 
vm_objeù
 *
	mtd_k¡ack_obj
;

343 
vm_off£t_t
 
	mtd_k¡ack
;

344 
	mtd_k¡ack_·ges
;

345 vÞ©ž
u_št
 
	mtd_ü™Ã¡
;

346 
mdth»ad
 
	mtd_md
;

347 
kaud™_»cÜd
 *
	mtd_¬
;

348 
Íoh—d
 
	mtd_Írof
[2];

349 
kdŒaû_th»ad
 *
	mtd_dŒaû
;

350 
	mtd_”ºo
;

352 
vÃt
 *
	mtd_vÃt
;

353 cÚ¡ *
	mtd_vÃt_Íush
;

354 
Œ­äame
 *
	mtd_šŒ_äame
;

355 
´oc
 *
	mtd_råpwa™_p
;

356 
vm_·ge
 **
	mtd_ma
;

357 
	mtd_ma_út
;

359 *
	mtd_emuld©a
;

360 
	mtd_Ï¡ýu
;

361 
	mtd_Úýu
;

362 *
	mtd_lkpi_sk
;

363 
	mtd_pmý’d
;

366 
	sth»ad0_¡Üage
 {

367 
th»ad
 
	mt0¡_th»ad
;

368 
ušt64_t
 
	mt0¡_sched
[10];

371 
mtx
 *
th»ad_lock_block
(
th»ad
 *);

372 
th»ad_lock_unblock
(
th»ad
 *, 
mtx
 *);

373 
th»ad_lock_£t
(
th»ad
 *, 
mtx
 *);

374 
	#THREAD_LOCK_ASSERT
(
td
, 
ty³
) \

376 
mtx
 *
__m
 = (
td
)->
td_lock
; \

377 ià(
__m
 !ð&
blocked_lock
) \

378 
	`mtx_as£¹
(
__m
, (
ty³
)); \

379 } 0)

	)

381 #ifdeà
INVARIANTS


382 
	#THREAD_LOCKPTR_ASSERT
(
td
, 
lock
) \

384 
mtx
 *
__m
 = (
td
)->
td_lock
; \

385 
	`KASSERT
((
__m
 =ð&
blocked_lock
 || __m =ð(
lock
)), \

386 ("Th»ad %°lock %°dÛ nÙ m©ch %p", 
td
, 
__m
, (
lock
))); \

387 } 0)

	)

389 
	#TD_LOCKS_INC
(
td
è(Ñd)->
td_locks
++)

	)

390 
	#TD_LOCKS_DEC
(
td
) do { \

391 
	`KASSERT
(
	`SCHEDULER_STOPPED_TD
(
td
è|| (td)->
td_locks
 > 0, \

392 ("th»ad %°own nØlocks", (
td
))); \

393 (
td
)->
td_locks
--; \

394 } 0)

	)

396 
	#THREAD_LOCKPTR_ASSERT
(
td
, 
lock
)

	)

398 
	#TD_LOCKS_INC
(
td
)

	)

399 
	#TD_LOCKS_DEC
(
td
)

	)

406 
	#TDF_BORROWING
 0x00000001

	)

407 
	#TDF_INPANIC
 0x00000002

	)

408 
	#TDF_INMEM
 0x00000004

	)

409 
	#TDF_SINTR
 0x00000008

	)

410 
	#TDF_TIMEOUT
 0x00000010

	)

411 
	#TDF_IDLETD
 0x00000020

	)

412 
	#TDF_CANSWAP
 0x00000040

	)

413 
	#TDF_SLEEPABORT
 0x00000080

	)

414 
	#TDF_KTH_SUSP
 0x00000100

	)

415 
	#TDF_ALLPROCSUSP
 0x00000200

	)

416 
	#TDF_BOUNDARY
 0x00000400

	)

417 
	#TDF_ASTPENDING
 0x00000800

	)

418 
	#TDF_UNUSED12
 0x00001000

	)

419 
	#TDF_SBDRY
 0x00002000

	)

420 
	#TDF_UPIBLOCKED
 0x00004000

	)

421 
	#TDF_NEEDSUSPCHK
 0x00008000

	)

422 
	#TDF_NEEDRESCHED
 0x00010000

	)

423 
	#TDF_NEEDSIGCHK
 0x00020000

	)

424 
	#TDF_NOLOAD
 0x00040000

	)

425 
	#TDF_SERESTART
 0x00080000

	)

426 
	#TDF_THRWAKEUP
 0x00100000

	)

427 
	#TDF_SEINTR
 0x00200000

	)

428 
	#TDF_SWAPINREQ
 0x00400000

	)

429 
	#TDF_UNUSED23
 0x00800000

	)

430 
	#TDF_SCHED0
 0x01000000

	)

431 
	#TDF_SCHED1
 0x02000000

	)

432 
	#TDF_SCHED2
 0x04000000

	)

433 
	#TDF_SCHED3
 0x08000000

	)

434 
	#TDF_ALRMPEND
 0x10000000

	)

435 
	#TDF_PROFPEND
 0x20000000

	)

436 
	#TDF_MACPEND
 0x40000000

	)

439 
	#TDB_SUSPEND
 0x00000001

	)

440 
	#TDB_XSIG
 0x00000002

	)

441 
	#TDB_USERWR
 0x00000004

	)

442 
	#TDB_SCE
 0x00000008

	)

443 
	#TDB_SCX
 0x00000010

	)

444 
	#TDB_EXEC
 0x00000020

	)

445 
	#TDB_FORK
 0x00000040

	)

447 
	#TDB_STOPATFORK
 0x00000080

	)

449 
	#TDB_CHILD
 0x00000100

	)

450 
	#TDB_BORN
 0x00000200

	)

451 
	#TDB_EXIT
 0x00000400

	)

452 
	#TDB_VFORK
 0x00000800

	)

453 
	#TDB_FSTP
 0x00001000

	)

454 
	#TDB_STEP
 0x00002000

	)

460 
	#TDP_OLDMASK
 0x00000001

	)

461 
	#TDP_INKTR
 0x00000002

	)

462 
	#TDP_INKTRACE
 0x00000004

	)

463 
	#TDP_BUFNEED
 0x00000008

	)

464 
	#TDP_COWINPROGRESS
 0x00000010

	)

465 
	#TDP_ALTSTACK
 0x00000020

	)

466 
	#TDP_DEADLKTREAT
 0x00000040

	)

467 
	#TDP_NOFAULTING
 0x00000080

	)

468 
	#TDP_UNUSED9
 0x00000100

	)

469 
	#TDP_OWEUPC
 0x00000200

	)

470 
	#TDP_ITHREAD
 0x00000400

	)

471 
	#TDP_SYNCIO
 0x00000800

	)

472 
	#TDP_SCHED1
 0x00001000

	)

473 
	#TDP_SCHED2
 0x00002000

	)

474 
	#TDP_SCHED3
 0x00004000

	)

475 
	#TDP_SCHED4
 0x00008000

	)

476 
	#TDP_GEOM
 0x00010000

	)

477 
	#TDP_SOFTDEP
 0x00020000

	)

478 
	#TDP_NORUNNINGBUF
 0x00040000

	)

479 
	#TDP_WAKEUP
 0x00080000

	)

480 
	#TDP_INBDFLUSH
 0x00100000

	)

481 
	#TDP_KTHREAD
 0x00200000

	)

482 
	#TDP_CALLCHAIN
 0x00400000

	)

483 
	#TDP_IGNSUSP
 0x00800000

	)

484 
	#TDP_AUDITREC
 0x01000000

	)

485 
	#TDP_RFPPWAIT
 0x02000000

	)

486 
	#TDP_RESETSPUR
 0x04000000

	)

487 
	#TDP_NERRNO
 0x08000000

	)

488 
	#TDP_UIOHELD
 0x10000000

	)

489 
	#TDP_FORKING
 0x20000000

	)

490 
	#TDP_EXECVMSPC
 0x40000000

	)

496 
	#TDI_SUSPENDED
 0x0001

	)

497 
	#TDI_SLEEPING
 0x0002

	)

498 
	#TDI_SWAPPED
 0x0004

	)

499 
	#TDI_LOCK
 0x0008

	)

500 
	#TDI_IWAIT
 0x0010

	)

502 
	#TD_IS_SLEEPING
(
td
è(Ñd)->
td_šhib™Üs
 & 
TDI_SLEEPING
)

	)

503 
	#TD_ON_SLEEPQ
(
td
è(Ñd)->
td_wchª
 !ð
NULL
)

	)

504 
	#TD_IS_SUSPENDED
(
td
è(Ñd)->
td_šhib™Üs
 & 
TDI_SUSPENDED
)

	)

505 
	#TD_IS_SWAPPED
(
td
è(Ñd)->
td_šhib™Üs
 & 
TDI_SWAPPED
)

	)

506 
	#TD_ON_LOCK
(
td
è(Ñd)->
td_šhib™Üs
 & 
TDI_LOCK
)

	)

507 
	#TD_AWAITING_INTR
(
td
è(Ñd)->
td_šhib™Üs
 & 
TDI_IWAIT
)

	)

508 
	#TD_IS_RUNNING
(
td
è(Ñd)->
td_¡©e
 =ð
TDS_RUNNING
)

	)

509 
	#TD_ON_RUNQ
(
td
è(Ñd)->
td_¡©e
 =ð
TDS_RUNQ
)

	)

510 
	#TD_CAN_RUN
(
td
è(Ñd)->
td_¡©e
 =ð
TDS_CAN_RUN
)

	)

511 
	#TD_IS_INHIBITED
(
td
è(Ñd)->
td_¡©e
 =ð
TDS_INHIBITED
)

	)

512 
	#TD_ON_UPILOCK
(
td
è(Ñd)->
td_æags
 & 
TDF_UPIBLOCKED
)

	)

513 
	#TD_IS_IDLETHREAD
(
td
è(Ñd)->
td_æags
 & 
TDF_IDLETD
)

	)

515 
	#KTDSTATE
(
td
) \

516 (((
td
)->
td_šhib™Üs
 & 
TDI_SLEEPING
) != 0 ? "sleep" : \

517 ((
td
)->
td_šhib™Üs
 & 
TDI_SUSPENDED
) != 0 ? "suspended" : \

518 ((
td
)->
td_šhib™Üs
 & 
TDI_SWAPPED
) != 0 ? "swapped" : \

519 ((
td
)->
td_šhib™Üs
 & 
TDI_LOCK
) != 0 ? "blocked" : \

520 ((
td
)->
td_šhib™Üs
 & 
TDI_IWAIT
è!ð0 ? "iwa™" : "y›ldšg")

	)

522 
	#TD_SET_INHIB
(
td
, 
šhib
) do { \

523 (
td
)->
td_¡©e
 = 
TDS_INHIBITED
; \

524 (
td
)->
td_šhib™Üs
 |ð(
šhib
); \

525 } 0)

	)

527 
	#TD_CLR_INHIB
(
td
, 
šhib
) do { \

528 ià(((
td
)->
td_šhib™Üs
 & (
šhib
)) && \

529 (((
td
)->
td_šhib™Üs
 &ð~(
šhib
)) == 0)) \

530 (
td
)->
td_¡©e
 = 
TDS_CAN_RUN
; \

531 } 0)

	)

533 
	#TD_SET_SLEEPING
(
td
è
	`TD_SET_INHIB
(Ñd), 
TDI_SLEEPING
)

	)

534 
	#TD_SET_SWAPPED
(
td
è
	`TD_SET_INHIB
(Ñd), 
TDI_SWAPPED
)

	)

535 
	#TD_SET_LOCK
(
td
è
	`TD_SET_INHIB
(Ñd), 
TDI_LOCK
)

	)

536 
	#TD_SET_SUSPENDED
(
td
è
	`TD_SET_INHIB
(Ñd), 
TDI_SUSPENDED
)

	)

537 
	#TD_SET_IWAIT
(
td
è
	`TD_SET_INHIB
(Ñd), 
TDI_IWAIT
)

	)

538 
	#TD_SET_EXITING
(
td
è
	`TD_SET_INHIB
(Ñd), 
TDI_EXITING
)

	)

540 
	#TD_CLR_SLEEPING
(
td
è
	`TD_CLR_INHIB
(Ñd), 
TDI_SLEEPING
)

	)

541 
	#TD_CLR_SWAPPED
(
td
è
	`TD_CLR_INHIB
(Ñd), 
TDI_SWAPPED
)

	)

542 
	#TD_CLR_LOCK
(
td
è
	`TD_CLR_INHIB
(Ñd), 
TDI_LOCK
)

	)

543 
	#TD_CLR_SUSPENDED
(
td
è
	`TD_CLR_INHIB
(Ñd), 
TDI_SUSPENDED
)

	)

544 
	#TD_CLR_IWAIT
(
td
è
	`TD_CLR_INHIB
(Ñd), 
TDI_IWAIT
)

	)

546 
	#TD_SET_RUNNING
(
td
èÑd)->
td_¡©e
 = 
TDS_RUNNING


	)

547 
	#TD_SET_RUNQ
(
td
èÑd)->
td_¡©e
 = 
TDS_RUNQ


	)

548 
	#TD_SET_CAN_RUN
(
td
èÑd)->
td_¡©e
 = 
TDS_CAN_RUN


	)

550 
	#TD_SBDRY_INTR
(
td
) \

551 (((
td
)->
td_æags
 & (
TDF_SEINTR
 | 
TDF_SERESTART
)è!ð0)

	)

552 
	#TD_SBDRY_ERRNO
(
td
) \

553 (((
td
)->
td_æags
 & 
TDF_SEINTR
è!ð0 ? 
EINTR
 : 
ERESTART
)

	)

558 
	s´oc
 {

559 
LIST_ENTRY
(
´oc
è
	mp_li¡
;

560 
TAILQ_HEAD
(, 
th»ad
è
	mp_th»ads
;

561 
mtx
 
	mp_¦ock
;

562 
uüed
 *
	mp_uüed
;

563 
fžedesc
 *
	mp_fd
;

564 
fžedesc_to_Ëad”
 *
	mp_fdtÞ
;

565 
p¡©s
 *
	mp_¡©s
;

566 
¶im™
 *
	mp_lim™
;

567 
ÿÎout
 
	mp_limco
;

568 
sigaùs
 *
	mp_sigaùs
;

570 
	mp_æag
;

571 
	mp_æag2
;

573 
	mPRS_NEW
 = 0,

574 
	mPRS_NORMAL
,

575 
	mPRS_ZOMBIE


576 } 
	mp_¡©e
;

577 
pid_t
 
	mp_pid
;

578 
LIST_ENTRY
(
´oc
è
	mp_hash
;

579 
LIST_ENTRY
(
´oc
è
	mp_pgli¡
;

580 
´oc
 *
	mp_µŒ
;

581 
LIST_ENTRY
(
´oc
è
	mp_siblšg
;

582 
LIST_HEAD
(, 
´oc
è
	mp_chžd»n
;

583 
´oc
 *
	mp_»­”
;

584 
LIST_HEAD
(, 
´oc
è
	mp_»­li¡
;

586 
LIST_ENTRY
(
´oc
è
	mp_»­siblšg
;

588 
mtx
 
	mp_mtx
;

589 
mtx
 
	mp_¡©mtx
;

590 
mtx
 
	mp_™immtx
;

591 
mtx
 
	mp_´ofmtx
;

592 
ksigšfo
 *
	mp_ksi
;

593 
sigqueue_t
 
	mp_sigqueue
;

594 
	#p_sigli¡
 
p_sigqueue
.
sq_sigÇls


	)

597 
	#p_¡¬tz”o
 
p_Ýpid


	)

598 
pid_t
 
	mp_Ýpid
;

599 
vm¥aû
 *
	mp_vm¥aû
;

600 
u_št
 
	mp_swtick
;

601 
u_št
 
	mp_cowg’
;

602 
™im”v®
 
	mp_»®tim”
;

603 
ru§ge
 
	mp_ru
;

604 
ru§ge_ext
 
	mp_rux
;

605 
ru§ge_ext
 
	mp_üux
;

606 
	mp_´oáh»ads
;

607 vÞ©ž
	mp_ex™th»ads
;

608 
	mp_Œaûæag
;

609 
vnode
 *
	mp_Œaûvp
;

610 
uüed
 *
	mp_Œaûüed
;

611 
vnode
 *
	mp_‹xtvp
;

612 
u_št
 
	mp_lock
;

613 
sigiÞ¡
 
	mp_sigiÞ¡
;

614 
	mp_sig·»Á
;

615 
	mp_sig
;

616 
u_lÚg
 
	mp_code
;

617 
u_št
 
	mp_¡Ýs
;

618 
u_št
 
	mp_¡y³
;

619 
	mp_¡•
;

620 
u_ch¬
 
	mp_pfsæags
;

621 
u_št
 
	mp_±ev’ts
;

622 
Æmšfo
 *
	mp_Æmšfo
;

623 
kaiošfo
 *
	mp_aiošfo
;

624 
th»ad
 *
	mp_sšgËth»ad
;

625 
	mp_su¥couÁ
;

626 
th»ad
 *
	mp_xth»ad
;

627 
	mp_bound¬y_couÁ
;

628 
	mp_³ndšgút
;

629 
™im”s
 *
	mp_™im”s
;

630 
´ocdesc
 *
	mp_´ocdesc
;

631 
u_št
 
	mp_Œ“æag
;

632 
	mp_³ndšgex™s
;

633 
fžemÚ
 *
	mp_fžemÚ
;

634 
	mp_pd—thsig
;

636 
	#p_’dz”o
 
p_magic


	)

639 
	#p_¡¬tcÝy
 
p_’dz”o


	)

640 
u_št
 
	mp_magic
;

641 
	mp_o¤–
;

643 
	mp_comm
[
MAXCOMLEN
 + 1];

644 
sy£Ávec
 *
	mp_sy£Á
;

645 
·rgs
 *
	mp_¬gs
;

646 
¾im_t
 
	mp_ýulim™
;

647 sigÃd 
	mp_niû
;

648 
	mp_fibnum
;

649 
pid_t
 
	mp_»­subŒ“
;

652 
ušt16_t
 
	mp_–f_machše
;

653 
ušt64_t
 
	mp_–f_æags
;

655 
	#p_’dcÝy
 
p_xex™


	)

657 
u_št
 
	mp_xex™
;

658 
u_št
 
	mp_xsig
;

659 
pg½
 *
	mp_pg½
;

660 
kÆi¡
 *
	mp_kli¡
;

661 
	mp_numth»ads
;

662 
md´oc
 
	mp_md
;

663 
ÿÎout
 
	mp_™ÿÎout
;

664 
u_shÜt
 
	mp_acæag
;

665 
´oc
 *
	mp_³”s
;

666 
´oc
 *
	mp_Ëad”
;

667 *
	mp_emuld©a
;

668 
Ïb–
 *
	mp_Ïb–
;

669 
STAILQ_HEAD
(, 
kŒ_»que¡
è
	mp_kŒ
;

670 
LIST_HEAD
(, 
mqueue_nÙif›r
è
	mp_mqnÙif›r
;

671 
kdŒaû_´oc
 *
	mp_dŒaû
;

672 
cv
 
	mp_pwa™
;

673 
ušt64_t
 
	mp_´ev_ruÁime
;

674 
¿cù
 *
	mp_¿cù
;

675 
	mp_thrÙŽed
;

682 
LIST_ENTRY
(
´oc
è
	mp_Üphª
;

683 
LIST_HEAD
(, 
´oc
è
	mp_Üphªs
;

686 
	#p_£ssiÚ
 
p_pg½
->
pg_£ssiÚ


	)

687 
	#p_pgid
 
p_pg½
->
pg_id


	)

689 
	#NOCPU
 (-1è

	)

690 
	#NOCPU_OLD
 (255)

	)

691 
	#MAXCPU_OLD
 (254)

	)

693 
	#PROC_SLOCK
(
p
è
	`mtx_lock_¥š
(&Õ)->
p_¦ock
)

	)

694 
	#PROC_SUNLOCK
(
p
è
	`mtx_uÆock_¥š
(&Õ)->
p_¦ock
)

	)

695 
	#PROC_SLOCK_ASSERT
(
p
, 
ty³
è
	`mtx_as£¹
(&Õ)->
p_¦ock
, (ty³))

	)

697 
	#PROC_STATLOCK
(
p
è
	`mtx_lock_¥š
(&Õ)->
p_¡©mtx
)

	)

698 
	#PROC_STATUNLOCK
(
p
è
	`mtx_uÆock_¥š
(&Õ)->
p_¡©mtx
)

	)

699 
	#PROC_STATLOCK_ASSERT
(
p
, 
ty³
è
	`mtx_as£¹
(&Õ)->
p_¡©mtx
, (ty³))

	)

701 
	#PROC_ITIMLOCK
(
p
è
	`mtx_lock_¥š
(&Õ)->
p_™immtx
)

	)

702 
	#PROC_ITIMUNLOCK
(
p
è
	`mtx_uÆock_¥š
(&Õ)->
p_™immtx
)

	)

703 
	#PROC_ITIMLOCK_ASSERT
(
p
, 
ty³
è
	`mtx_as£¹
(&Õ)->
p_™immtx
, (ty³))

	)

705 
	#PROC_PROFLOCK
(
p
è
	`mtx_lock_¥š
(&Õ)->
p_´ofmtx
)

	)

706 
	#PROC_PROFUNLOCK
(
p
è
	`mtx_uÆock_¥š
(&Õ)->
p_´ofmtx
)

	)

707 
	#PROC_PROFLOCK_ASSERT
(
p
, 
ty³
è
	`mtx_as£¹
(&Õ)->
p_´ofmtx
, (ty³))

	)

710 
	#P_ADVLOCK
 0x00001

	)

711 
	#P_CONTROLT
 0x00002

	)

712 
	#P_KPROC
 0x00004

	)

713 
	#P_UNUSED3
 0x00008

	)

714 
	#P_PPWAIT
 0x00010

	)

715 
	#P_PROFIL
 0x00020

	)

716 
	#P_STOPPROF
 0x00040

	)

717 
	#P_HADTHREADS
 0x00080

	)

718 
	#P_SUGID
 0x00100

	)

719 
	#P_SYSTEM
 0x00200

	)

720 
	#P_SINGLE_EXIT
 0x00400

	)

721 
	#P_TRACED
 0x00800

	)

722 
	#P_WAITED
 0x01000

	)

723 
	#P_WEXIT
 0x02000

	)

724 
	#P_EXEC
 0x04000

	)

725 
	#P_WKILLED
 0x08000

	)

726 
	#P_CONTINUED
 0x10000

	)

727 
	#P_STOPPED_SIG
 0x20000

	)

728 
	#P_STOPPED_TRACE
 0x40000

	)

729 
	#P_STOPPED_SINGLE
 0x80000

	)

730 
	#P_PROTECTED
 0x100000

	)

731 
	#P_SIGEVENT
 0x200000

	)

732 
	#P_SINGLE_BOUNDARY
 0x400000

	)

733 
	#P_HWPMC
 0x800000

	)

734 
	#P_JAILED
 0x1000000

	)

735 
	#P_TOTAL_STOP
 0x2000000

	)

736 
	#P_INEXEC
 0x4000000

	)

737 
	#P_STATCHILD
 0x8000000

	)

738 
	#P_INMEM
 0x10000000

	)

739 
	#P_SWAPPINGOUT
 0x20000000

	)

740 
	#P_SWAPPINGIN
 0x40000000

	)

741 
	#P_PPTRACE
 0x80000000

	)

743 
	#P_STOPPED
 (
P_STOPPED_SIG
|
P_STOPPED_SINGLE
|
P_STOPPED_TRACE
)

	)

744 
	#P_SHOULDSTOP
(
p
è(Õ)->
p_æag
 & 
P_STOPPED
)

	)

745 
	#P_KILLED
(
p
è(Õ)->
p_æag
 & 
P_WKILLED
)

	)

748 
	#P2_INHERIT_PROTECTED
 0x00000001

	)

749 
	#P2_NOTRACE
 0x00000002

	)

750 
	#P2_NOTRACE_EXEC
 0x00000004

	)

751 
	#P2_AST_SU
 0x00000008

	)

752 
	#P2_PTRACE_FSTP
 0x00000010

	)

753 
	#P2_TRAPCAP
 0x00000020

	)

756 
	#P_TREE_ORPHANED
 0x00000001

	)

757 
	#P_TREE_FIRST_ORPHAN
 0x00000002

	)

759 
	#P_TREE_REAPER
 0x00000004

	)

765 
	#SIDL
 1

	)

766 
	#SRUN
 2

	)

767 
	#SSLEEP
 3

	)

768 
	#SSTOP
 4

	)

769 
	#SZOMB
 5

	)

770 
	#SWAIT
 6

	)

771 
	#SLOCK
 7

	)

773 
	#P_MAGIC
 0xb“fçû

	)

775 #ifdeà
_KERNEL


778 
	#SW_TYPE_MASK
 0xfà

	)

779 
	#SWT_NONE
 0

	)

780 
	#SWT_PREEMPT
 1

	)

781 
	#SWT_OWEPREEMPT
 2

	)

782 
	#SWT_TURNSTILE
 3

	)

783 
	#SWT_SLEEPQ
 4

	)

784 
	#SWT_SLEEPQTIMO
 5

	)

785 
	#SWT_RELINQUISH
 6

	)

786 
	#SWT_NEEDRESCHED
 7

	)

787 
	#SWT_IDLE
 8

	)

788 
	#SWT_IWAIT
 9

	)

789 
	#SWT_SUSPEND
 10

	)

790 
	#SWT_REMOTEPREEMPT
 11

	)

791 
	#SWT_REMOTEWAKEIDLE
 12

	)

792 
	#SWT_COUNT
 13

	)

794 
	#SW_VOL
 0x0100

	)

795 
	#SW_INVOL
 0x0200

	)

796 
	#SW_PREEMPT
 0x0400

	)

799 
	#SINGLE_NO_EXIT
 0

	)

800 
	#SINGLE_EXIT
 1

	)

801 
	#SINGLE_BOUNDARY
 2

	)

802 
	#SINGLE_ALLPROC
 3

	)

804 #ifdeà
MALLOC_DECLARE


805 
MALLOC_DECLARE
(
M_PARGS
);

806 
MALLOC_DECLARE
(
M_PGRP
);

807 
MALLOC_DECLARE
(
M_SESSION
);

808 
MALLOC_DECLARE
(
M_SUBPROC
);

811 
	#FOREACH_PROC_IN_SYSTEM
(
p
) \

812 
	`LIST_FOREACH
((
p
), &
®Íroc
, 
p_li¡
)

	)

813 
	#FOREACH_THREAD_IN_PROC
(
p
, 
td
) \

814 
	`TAILQ_FOREACH
((
td
), &(
p
)->
p_th»ads
, 
td_¶i¡
)

	)

816 
	#FIRST_THREAD_IN_PROC
(
p
è
	`TAILQ_FIRST
(&Õ)->
p_th»ads
)

	)

822 
	#PID_MAX
 99999

	)

823 
	#NO_PID
 100000

	)

824 
pid_t
 
pid_max
;

826 
	#SESS_LEADER
(
p
è(Õ)->
p_£ssiÚ
->
s_Ëad”
 =ðÕ))

	)

829 
	#STOPEVENT
(
p
, 
e
, 
v
) do { \

830 
	`WITNESS_WARN
(
WARN_GIANTOK
 | 
WARN_SLEEPOK
, 
NULL
, \

831 "checkšg stÝev’ˆ%d", (
e
)); \

832 ià((
p
)->
p_¡Ýs
 & (
e
)) { \

833 
	`PROC_LOCK
(
p
); \

834 
	`¡Ýev’t
((
p
), (
e
), (
v
)); \

835 
	`PROC_UNLOCK
(
p
); \

837 } 0)

	)

838 
	#_STOPEVENT
(
p
, 
e
, 
v
) do { \

839 
	`PROC_LOCK_ASSERT
(
p
, 
MA_OWNED
); \

840 
	`WITNESS_WARN
(
WARN_GIANTOK
 | 
WARN_SLEEPOK
, &
p
->
p_mtx
.
lock_objeù
, \

841 "checkšg stÝev’ˆ%d", (
e
)); \

842 ià((
p
)->
p_¡Ýs
 & (
e
)) \

843 
	`¡Ýev’t
((
p
), (
e
), (
v
)); \

844 } 0)

	)

847 
	#PROC_LOCK
(
p
è
	`mtx_lock
(&Õ)->
p_mtx
)

	)

848 
	#PROC_TRYLOCK
(
p
è
	`mtx_Œylock
(&Õ)->
p_mtx
)

	)

849 
	#PROC_UNLOCK
(
p
è
	`mtx_uÆock
(&Õ)->
p_mtx
)

	)

850 
	#PROC_LOCKED
(
p
è
	`mtx_owÃd
(&Õ)->
p_mtx
)

	)

851 
	#PROC_LOCK_ASSERT
(
p
, 
ty³
è
	`mtx_as£¹
(&Õ)->
p_mtx
, (ty³))

	)

854 
	#PGRP_LOCK
(
pg
è
	`mtx_lock
(&Õg)->
pg_mtx
)

	)

855 
	#PGRP_UNLOCK
(
pg
è
	`mtx_uÆock
(&Õg)->
pg_mtx
)

	)

856 
	#PGRP_LOCKED
(
pg
è
	`mtx_owÃd
(&Õg)->
pg_mtx
)

	)

857 
	#PGRP_LOCK_ASSERT
(
pg
, 
ty³
è
	`mtx_as£¹
(&Õg)->
pg_mtx
, (ty³))

	)

859 
	#PGRP_LOCK_PGSIGNAL
(
pg
) do { \

860 ià((
pg
è!ð
NULL
) \

861 
	`PGRP_LOCK
(
pg
); \

862 } 0)

	)

863 
	#PGRP_UNLOCK_PGSIGNAL
(
pg
) do { \

864 ià((
pg
è!ð
NULL
) \

865 
	`PGRP_UNLOCK
(
pg
); \

866 } 0)

	)

869 
	#SESS_LOCK
(
s
è
	`mtx_lock
(&(s)->
s_mtx
)

	)

870 
	#SESS_UNLOCK
(
s
è
	`mtx_uÆock
(&(s)->
s_mtx
)

	)

871 
	#SESS_LOCKED
(
s
è
	`mtx_owÃd
(&(s)->
s_mtx
)

	)

872 
	#SESS_LOCK_ASSERT
(
s
, 
ty³
è
	`mtx_as£¹
(&(s)->
s_mtx
, (ty³))

	)

888 
	#PHOLD
(
p
) do { \

889 
	`PROC_LOCK
(
p
); \

890 
	`_PHOLD
(
p
); \

891 
	`PROC_UNLOCK
(
p
); \

892 } 0)

	)

893 
	#_PHOLD
(
p
) do { \

894 
	`PROC_LOCK_ASSERT
((
p
), 
MA_OWNED
); \

895 
	`KASSERT
(!((
p
)->
p_æag
 & 
P_WEXIT
è|| (pè=ð
cu½roc
, \

896 ("PHOLD oàex™šg…roûs %p", 
p
)); \

897 (
p
)->
p_lock
++; \

898 ià(((
p
)->
p_æag
 & 
P_INMEM
) == 0) \

899 
	`çuÉš
((
p
)); \

900 } 0)

	)

901 
	#_PHOLD_LITE
(
p
) do { \

902 
	`PROC_LOCK_ASSERT
((
p
), 
MA_OWNED
); \

903 
	`KASSERT
(!((
p
)->
p_æag
 & 
P_WEXIT
è|| (pè=ð
cu½roc
, \

904 ("PHOLD oàex™šg…roûs %p", 
p
)); \

905 (
p
)->
p_lock
++; \

906 } 0)

	)

907 
	#PROC_ASSERT_HELD
(
p
) do { \

908 
	`KASSERT
((
p
)->
p_lock
 > 0, ("process %p‚ot held",…)); \

909 } 0)

	)

911 
	#PRELE
(
p
) do { \

912 
	`PROC_LOCK
((
p
)); \

913 
	`_PRELE
((
p
)); \

914 
	`PROC_UNLOCK
((
p
)); \

915 } 0)

	)

916 
	#_PRELE
(
p
) do { \

917 
	`PROC_LOCK_ASSERT
((
p
), 
MA_OWNED
); \

918 
	`PROC_ASSERT_HELD
(
p
); \

919 (--(
p
)->
p_lock
); \

920 ià(((
p
)->
p_æag
 & 
P_WEXIT
è&& (p)->
p_lock
 == 0) \

921 
	`wakeup
(&(
p
)->
p_lock
); \

922 } 0)

	)

923 
	#PROC_ASSERT_NOT_HELD
(
p
) do { \

924 
	`KASSERT
((
p
)->
p_lock
 == 0, ("process %p held",…)); \

925 } 0)

	)

927 
	#PROC_UPDATE_COW
(
p
) do { \

928 
	`PROC_LOCK_ASSERT
((
p
), 
MA_OWNED
); \

929 (
p
)->
p_cowg’
++; \

930 } 0)

	)

933 
	#th»ad_§ãtosw­out
(
td
è(Ñd)->
td_æags
 & 
TDF_CANSWAP
)

	)

936 
	#THREAD_NO_SLEEPING
(è((
cu¹h»ad
)->
td_no_¦“pšg
++)

	)

938 
	#THREAD_SLEEPING_OK
(è((
cu¹h»ad
)->
td_no_¦“pšg
--)

	)

940 
	#THREAD_CAN_SLEEP
(è((
cu¹h»ad
)->
td_no_¦“pšg
 =ð0)

	)

942 
	#PIDHASH
(
pid
è(&
pidhashtbl
[Õidè& 
pidhash
])

	)

943 
LIST_HEAD
(
pidhashh—d
, 
´oc
è*
pidhashtbl
;

944 
u_lÚg
 
pidhash
;

945 
	#TIDHASH
(
tid
è(&
tidhashtbl
[Ñidè& 
tidhash
])

	)

946 
LIST_HEAD
(
tidhashh—d
, 
th»ad
è*
tidhashtbl
;

947 
u_lÚg
 
tidhash
;

948 
rwlock
 
tidhash_lock
;

950 
	#PGRPHASH
(
pgid
è(&
pg½hashtbl
[Õgidè& 
pg½hash
])

	)

951 
LIST_HEAD
(
pg½hashh—d
, 
pg½
è*
pg½hashtbl
;

952 
u_lÚg
 
pg½hash
;

954 
sx
 
®Íroc_lock
;

955 
®Íroc_g’
;

956 
sx
 
´où»e_lock
;

957 
mtx
 
µ“rs_lock
;

958 
´oc
 
´oc0
;

959 
th»ad0_¡Üage
 
th»ad0_¡
;

960 
	#th»ad0
 (
th»ad0_¡
.
t0¡_th»ad
)

	)

961 
vm¥aû
 
vm¥aû0
;

962 
hogticks
;

963 
Ï¡pid
;

964 
Årocs
, 
max´oc
;

965 
max´oý”uid
;

966 
u_lÚg
 
ps_¬g_ÿche_lim™
;

968 
LIST_HEAD
(
´oþi¡
, 
´oc
);

969 
TAILQ_HEAD
(
´ocqueue
, 
´oc
);

970 
TAILQ_HEAD
(
th»adqueue
, 
th»ad
);

971 
´oþi¡
 
®Íroc
;

972 
´oþi¡
 
zomb´oc
;

973 
´oc
 *
š™´oc
, *
·g•roc
;

975 
uma_zÚe
 *
´oc_zÚe
;

977 
´oc
 *
pfšd
(
pid_t
);

978 
´oc
 *
pfšd_ªy
(
pid_t
);

979 
´oc
 *
pfšd_locked
(
pid_t
 
pid
);

980 
pg½
 *
pgfšd
(
pid_t
);

981 
´oc
 *
zpfšd
(
pid_t
);

983 
	sfÜk_»q
 {

984 
	mä_æags
;

985 
	mä_·ges
;

986 *
	mä_pidp
;

987 
´oc
 **
	mä_´oý
;

988 *
	mä_pd_fd
;

989 
	mä_pd_æags
;

990 
fžeÿps
 *
	mä_pd_fÿps
;

996 
	#PGET_HOLD
 0x00001

	)

997 
	#PGET_CANSEE
 0x00002

	)

998 
	#PGET_CANDEBUG
 0x00004

	)

999 
	#PGET_ISCURRENT
 0x00008

	)

1000 
	#PGET_NOTWEXIT
 0x00010

	)

1001 
	#PGET_NOTINEXEC
 0x00020

	)

1002 
	#PGET_NOTID
 0x00040

	)

1004 
	#PGET_WANTREAD
 (
PGET_HOLD
 | 
PGET_CANDEBUG
 | 
PGET_NOTWEXIT
)

	)

1006 
pg‘
(
pid_t
 
pid
, 
æags
, 
´oc
 **
µ
);

1008 
a¡
(
Œ­äame
 *
äam•
);

1009 
th»ad
 *
choo£th»ad
();

1010 
ü_ÿn£e
(
uüed
 *
u1
, uüed *
u2
);

1011 
ü_ÿn£esock‘
(
uüed
 *
üed
, 
sock‘
 *
so
);

1012 
ü_ÿn£eÙh”gids
(
uüed
 *
u1
, uüed *
u2
);

1013 
ü_ÿn£eÙh”uids
(
uüed
 *
u1
, uüed *
u2
);

1014 
ü_ÿn£ejaž´oc
(
uüed
 *
u1
, uüed *
u2
);

1015 
ü_ÿnsigÇl
(
uüed
 *
üed
, 
´oc
 *´oc, 
signum
);

1016 
’‹½g½
(
´oc
 *
p
, 
pid_t
 
pgid
, 
pg½
 *pgrp,

1017 
£ssiÚ
 *
£ss
);

1018 
’‹¹hi¥g½
(
´oc
 *
p
, 
pg½
 *pgrp);

1019 
çuÉš
(
´oc
 *
p
);

1020 
fixjobc
(
´oc
 *
p
, 
pg½
 *pg½, 
’‹ršg
);

1021 
fÜk1
(
th»ad
 *, 
fÜk_»q
 *);

1022 
fÜk_ex™
((*)(*, 
Œ­äame
 *), *,

1023 
Œ­äame
 *);

1024 
	`fÜk_»tuº
(
th»ad
 *, 
Œ­äame
 *);

1025 
	`šãriÜ
(
´oc
 *
p
);

1026 
	`k”n_´oc_vmm­_»sid’t
(
vm_m­
 *
m­
, 
vm_m­_’Œy
 *
’Œy
,

1027 *
»sid’t_couÁ
, 
boÞ
 *
su³r
);

1028 
	`k”n_y›ld
();

1029 
	`kick_´oc0
();

1030 
	`kžljobc
();

1031 
	`Ëav•g½
(
´oc
 *
p
);

1032 
	`maybe_´“m±
(
th»ad
 *
td
);

1033 
	`maybe_y›ld
();

1034 
	`mi_sw™ch
(
æags
, 
th»ad
 *
Ãwtd
);

1035 
	`p_ÿndebug
(
th»ad
 *
td
, 
´oc
 *
p
);

1036 
	`p_ÿn£e
(
th»ad
 *
td
, 
´oc
 *
p
);

1037 
	`p_ÿnsched
(
th»ad
 *
td
, 
´oc
 *
p
);

1038 
	`p_ÿnsigÇl
(
th»ad
 *
td
, 
´oc
 *
p
, 
signum
);

1039 
	`p_ÿnwa™
(
th»ad
 *
td
, 
´oc
 *
p
);

1040 
·rgs
 *
	`·rgs_®loc
(
Ën
);

1041 
	`·rgs_drÝ
(
·rgs
 *
·
);

1042 
	`·rgs_hÞd
(
·rgs
 *
·
);

1043 
	`´oc_g‘¬gv
(
th»ad
 *
td
, 
´oc
 *
p
, 
sbuf
 *
sb
);

1044 
	`´oc_g‘auxv
(
th»ad
 *
td
, 
´oc
 *
p
, 
sbuf
 *
sb
);

1045 
	`´oc_g‘’vv
(
th»ad
 *
td
, 
´oc
 *
p
, 
sbuf
 *
sb
);

1046 
	`´ocš™
();

1047 
	`´oc_lškup0
(
´oc
 *
p
, 
th»ad
 *
td
);

1048 
	`´oc_lškup
(
´oc
 *
p
, 
th»ad
 *
td
);

1049 
´oc
 *
	`´oc_»®·»Á
(´oø*
chžd
);

1050 
	`´oc_»­
(
th»ad
 *
td
, 
´oc
 *
p
, *
¡©us
, 
ÝtiÚs
);

1051 
	`´oc_»·»Á
(
´oc
 *
chžd
, ´oø*
Ãw·»Á
);

1052 
	`´oc_£t_Œaûd
(
´oc
 *
p
, 
boÞ
 
¡Ý
);

1053 
	`´oc_wkžËd
(
´oc
 *
p
);

1054 
p¡©s
 *
	`p¡©s_®loc
();

1055 
	`p¡©s_fÜk
(
p¡©s
 *
¤c
, p¡© *
d¡
);

1056 
	`p¡©s_ä“
(
p¡©s
 *
ps
);

1057 
	`»­”_abªdÚ_chžd»n
(
´oc
 *
p
, 
boÞ
 
ex™šg
);

1058 
	`£cu»Ëv–_ge
(
uüed
 *
ü
, 
Ëv–
);

1059 
	`£cu»Ëv–_gt
(
uüed
 *
ü
, 
Ëv–
);

1060 
	`£ss_hÞd
(
£ssiÚ
 *);

1061 
	`£ss_»Ëa£
(
£ssiÚ
 *);

1062 
	`£ŒuÂabË
(
th»ad
 *);

1063 
	`£tsugid
(
´oc
 *
p
);

1064 
	`should_y›ld
();

1065 
	`sigÚ¡ack
(
size_t
 
¥
);

1066 
	`¡Ýev’t
(
´oc
 *, 
u_št
, u_int);

1067 
th»ad
 *
	`tdfšd
(
lwpid_t
, 
pid_t
);

1068 
	`th»adš™
();

1069 
	`tidhash_add
(
th»ad
 *);

1070 
	`tidhash_»move
(
th»ad
 *);

1071 
	`ýu_idË
();

1072 
	`ýu_idË_wakeup
();

1073 (*
ýu_idË_hook
)(
sbštime_t
);

1074 
	`ýu_sw™ch
(
th»ad
 *, th»ad *, 
mtx
 *);

1075 
	$ýu_throw
(
th»ad
 *, th»ad *è
__d—d2
;

1076 
	`un¦“p
(
th»ad
 *);

1077 
	`u£¼‘
(
th»ad
 *, 
Œ­äame
 *);

1079 
	`ýu_ex™
(
th»ad
 *);

1080 
	$ex™1
(
th»ad
 *, , è
__d—d2
;

1081 
	`ýu_cÝy_th»ad
(
th»ad
 *
td
, th»ad *
td0
);

1082 
	`ýu_ãtch_sysÿÎ_¬gs
(
th»ad
 *
td
);

1083 
	`ýu_fÜk
(
th»ad
 *, 
´oc
 *, thread *, );

1084 
	`ýu_fÜk_kth»ad_hªdËr
(
th»ad
 *, (*)(*), *);

1085 
	`ýu_£t_sysÿÎ_»tv®
(
th»ad
 *, );

1086 
	`ýu_£t_upÿÎ
(
th»ad
 *, (*)(*), *,

1087 
¡ack_t
 *);

1088 
	`ýu_£t_u£r_Žs
(
th»ad
 *, *
Žs_ba£
);

1089 
	`ýu_th»ad_®loc
(
th»ad
 *);

1090 
	`ýu_th»ad_þ—n
(
th»ad
 *);

1091 
	`ýu_th»ad_ex™
(
th»ad
 *);

1092 
	`ýu_th»ad_ä“
(
th»ad
 *);

1093 
	`ýu_th»ad_sw­š
(
th»ad
 *);

1094 
	`ýu_th»ad_sw­out
(
th»ad
 *);

1095 
th»ad
 *
	`th»ad_®loc
(
·ges
);

1096 
	`th»ad_®loc_¡ack
(
th»ad
 *, 
·ges
);

1097 
	`th»ad_cow_g‘_´oc
(
th»ad
 *
Ãwtd
, 
´oc
 *
p
);

1098 
	`th»ad_cow_g‘
(
th»ad
 *
Ãwtd
, th»ad *
td
);

1099 
	`th»ad_cow_ä“
(
th»ad
 *
td
);

1100 
	`th»ad_cow_upd©e
(
th»ad
 *
td
);

1101 
	`th»ad_ü—‹
(
th»ad
 *
td
, 
¹´io
 *
¹p
,

1102 (*
š™Ÿlize_th»ad
)(
th»ad
 *, *), *
thunk
);

1103 
	$th»ad_ex™
(è
__d—d2
;

1104 
	`th»ad_ä“
(
th»ad
 *
td
);

1105 
	`th»ad_lšk
(
th»ad
 *
td
, 
´oc
 *
p
);

1106 
	`th»ad_»­
();

1107 
	`th»ad_sšgË
(
´oc
 *
p
, 
how
);

1108 
	`th»ad_sšgË_’d
(
´oc
 *
p
, 
how
);

1109 
	`th»ad_¡ash
(
th»ad
 *
td
);

1110 
	`th»ad_¡Ý³d
(
´oc
 *
p
);

1111 
	`chžd´oc_¡Ý³d
(
´oc
 *
chžd
, 
»asÚ
);

1112 
	`chžd´oc_cÚtšued
(
´oc
 *
chžd
);

1113 
	`chžd´oc_ex™ed
(
´oc
 *
chžd
);

1114 
	`th»ad_su¥’d_check
(
how
);

1115 
boÞ
 
	`th»ad_su¥’d_check_Ãeded
();

1116 
	`th»ad_su¥’d_sw™ch
(
th»ad
 *, 
´oc
 *
p
);

1117 
	`th»ad_su¥’d_Úe
(
th»ad
 *
td
);

1118 
	`th»ad_uÆšk
(
th»ad
 *
td
);

1119 
	`th»ad_unsu¥’d
(
´oc
 *
p
);

1120 
	`th»ad_wa™
(
´oc
 *
p
);

1121 
th»ad
 *
	`th»ad_fšd
(
´oc
 *
p
, 
lwpid_t
 
tid
);

1123 
	`¡Ý_®l_´oc
();

1124 
	`»sume_®l_´oc
();

1126 
__šlše
 

1127 
	$cu¹h»ad_pæags_£t
(
æags
)

1129 
th»ad
 *
td
;

1130 
§ve
;

1132 
td
 = 
cu¹h»ad
;

1133 
§ve
 = ~
æags
 | (
td
->
td_pæags
 & flags);

1134 
td
->
td_pæags
 |ð
æags
;

1135  (
§ve
);

1136 
	}
}

1138 
__šlše
 

1139 
	$cu¹h»ad_pæags_»¡Üe
(
§ve
)

1142 
cu¹h»ad
->
td_pæags
 &ð
§ve
;

1143 
	}
}

1145 
__šlše
 
__pu»2
 
td_sched
 *

1146 
	$td_g‘_sched
(
th»ad
 *
td
)

1149  ((
td_sched
 *)&
td
[1]);

1150 
	}
}

1152 (*
soád•_a¡_þ—nup
)(
th»ad
 *);

1153 
__šlše
 

1154 
	$td_soád•_þ—nup
(
th»ad
 *
td
)

1157 ià(
td
->
td_su
 !ð
NULL
 && 
soád•_a¡_þ—nup
 != NULL)

1158 
	`soád•_a¡_þ—nup
(
td
);

1159 
	}
}

	@/usr/include/sys/queue.h

35 #iâdeà
_SYS_QUEUE_H_


36 
	#_SYS_QUEUE_H_


	)

38 
	~<sys/cdefs.h
>

118 #ifdeà
QUEUE_MACRO_DEBUG


119 #w¬À
U£
 
QUEUE_MACRO_DEBUG_TRACE
 
ªd
/
Ü
 
QUEUE_MACRO_DEBUG_TRASH


120 
	#QUEUE_MACRO_DEBUG_TRACE


	)

121 
	#QUEUE_MACRO_DEBUG_TRASH


	)

124 #ifdeà
QUEUE_MACRO_DEBUG_TRACE


126 
	sqm_Œaû
 {

127 
	mÏ¡lše
;

128 
	m´evlše
;

129 cÚ¡ *
	mÏ¡fže
;

130 cÚ¡ *
	m´evfže
;

133 
	#TRACEBUF
 
qm_Œaû
 
Œaû
;

	)

134 
	#TRACEBUF_INITIALIZER
 { 
__LINE__
, 0, 
__FILE__
, 
NULL
 } ,

	)

136 
	#QMD_TRACE_HEAD
(
h—d
) do { \

137 (
h—d
)->
Œaû
.
´evlše
 = (h—d)->Œaû.
Ï¡lše
; \

138 (
h—d
)->
Œaû
.
´evfže
 = (h—d)->Œaû.
Ï¡fže
; \

139 (
h—d
)->
Œaû
.
Ï¡lše
 = 
__LINE__
; \

140 (
h—d
)->
Œaû
.
Ï¡fže
 = 
__FILE__
; \

141 } 0)

	)

143 
	#QMD_TRACE_ELEM
(
–em
) do { \

144 (
–em
)->
Œaû
.
´evlše
 = (–em)->Œaû.
Ï¡lše
; \

145 (
–em
)->
Œaû
.
´evfže
 = (–em)->Œaû.
Ï¡fže
; \

146 (
–em
)->
Œaû
.
Ï¡lše
 = 
__LINE__
; \

147 (
–em
)->
Œaû
.
Ï¡fže
 = 
__FILE__
; \

148 } 0)

	)

151 
	#QMD_TRACE_ELEM
(
–em
)

	)

152 
	#QMD_TRACE_HEAD
(
h—d
)

	)

153 
	#TRACEBUF


	)

154 
	#TRACEBUF_INITIALIZER


	)

157 #ifdeà
QUEUE_MACRO_DEBUG_TRASH


158 
	#TRASHIT
(
x
èdØ{(xèð(*)-1;} 0)

	)

159 
	#QMD_IS_TRASHED
(
x
è((xè=ð(*)(
šŒ_t
)-1)

	)

161 
	#TRASHIT
(
x
)

	)

162 
	#QMD_IS_TRASHED
(
x
è0

	)

165 #ià
defšed
(
QUEUE_MACRO_DEBUG_TRACE
è|| defšed(
QUEUE_MACRO_DEBUG_TRASH
)

166 
	#QMD_SAVELINK
(
Çme
, 
lšk
è**Çmð(*)&Öšk)

	)

168 
	#QMD_SAVELINK
(
Çme
, 
lšk
)

	)

171 #ifdeà
__ýlu¥lus


175 
	#QUEUE_TYPEOF
(
ty³
è
	)
type

177 
	#QUEUE_TYPEOF
(
ty³
è
	)
type

183 
	#SLIST_HEAD
(
Çme
, 
ty³
) \

184 
	sÇme
 { \

185 
ty³
 *
¦h_fœ¡
; \

186 }

	)

188 
	#SLIST_CLASS_HEAD
(
Çme
, 
ty³
) \

189 
	sÇme
 { \

190 
þass
 
ty³
 *
¦h_fœ¡
; \

191 }

	)

193 
	#SLIST_HEAD_INITIALIZER
(
h—d
) \

194 { 
NULL
 }

	)

196 
	#SLIST_ENTRY
(
ty³
) \

198 
ty³
 *
¦e_Ãxt
; \

199 }

	)

201 
	#SLIST_CLASS_ENTRY
(
ty³
) \

203 
þass
 
ty³
 *
¦e_Ãxt
; \

204 }

	)

209 #ià(
defšed
(
_KERNEL
è&& defšed(
INVARIANTS
))

210 
	#QMD_SLIST_CHECK_PREVPTR
(
´evp
, 
–m
) do { \

211 ià(*(
´evp
è!ð(
–m
)) \

212 
	`·nic
("Bad…revptr *(%p) == %p != %p", \

213 (
´evp
), *Õ»vp), (
–m
)); \

214 } 0)

	)

216 
	#QMD_SLIST_CHECK_PREVPTR
(
´evp
, 
–m
)

	)

219 
	#SLIST_CONCAT
(
h—d1
, 
h—d2
, 
ty³
, 
f›ld
) do { \

220 
	`QUEUE_TYPEOF
(
ty³
è*
cu»lm
 = 
	`SLIST_FIRST
(
h—d1
); \

221 ià(
cu»lm
 =ð
NULL
) { \

222 ià((
	`SLIST_FIRST
(
h—d1
èðSLIST_FIRST(
h—d2
)è!ð
NULL
) \

223 
	`SLIST_INIT
(
h—d2
); \

224 } ià(
	`SLIST_FIRST
(
h—d2
è!ð
NULL
) { \

225 
	`SLIST_NEXT
(
cu»lm
, 
f›ld
è!ð
NULL
) \

226 
cu»lm
 = 
	`SLIST_NEXT
(cu»lm, 
f›ld
); \

227 
	`SLIST_NEXT
(
cu»lm
, 
f›ld
èð
	`SLIST_FIRST
(
h—d2
); \

228 
	`SLIST_INIT
(
h—d2
); \

230 } 0)

	)

232 
	#SLIST_EMPTY
(
h—d
è((h—d)->
¦h_fœ¡
 =ð
NULL
)

	)

234 
	#SLIST_FIRST
(
h—d
è((h—d)->
¦h_fœ¡
)

	)

236 
	#SLIST_FOREACH
(
v¬
, 
h—d
, 
f›ld
) \

237 (
v¬
èð
	`SLIST_FIRST
((
h—d
)); \

238 (
v¬
); \

239 (
v¬
èð
	`SLIST_NEXT
((v¬), 
f›ld
))

	)

241 
	#SLIST_FOREACH_FROM
(
v¬
, 
h—d
, 
f›ld
) \

242 (
v¬
èð((v¬è? (v¬è: 
	`SLIST_FIRST
((
h—d
))); \

243 (
v¬
); \

244 (
v¬
èð
	`SLIST_NEXT
((v¬), 
f›ld
))

	)

246 
	#SLIST_FOREACH_SAFE
(
v¬
, 
h—d
, 
f›ld
, 
tv¬
) \

247 (
v¬
èð
	`SLIST_FIRST
((
h—d
)); \

248 (
v¬
è&& ((
tv¬
èð
	`SLIST_NEXT
((v¬), 
f›ld
), 1); \

249 (
v¬
èð(
tv¬
))

	)

251 
	#SLIST_FOREACH_FROM_SAFE
(
v¬
, 
h—d
, 
f›ld
, 
tv¬
) \

252 (
v¬
èð((v¬è? (v¬è: 
	`SLIST_FIRST
((
h—d
))); \

253 (
v¬
è&& ((
tv¬
èð
	`SLIST_NEXT
((v¬), 
f›ld
), 1); \

254 (
v¬
èð(
tv¬
))

	)

256 
	#SLIST_FOREACH_PREVPTR
(
v¬
, 
v¬p
, 
h—d
, 
f›ld
) \

257 (
v¬p
èð&
	`SLIST_FIRST
((
h—d
)); \

258 ((
v¬
èð*(
v¬p
)è!ð
NULL
; \

259 (
v¬p
èð&
	`SLIST_NEXT
((
v¬
), 
f›ld
))

	)

261 
	#SLIST_INIT
(
h—d
) do { \

262 
	`SLIST_FIRST
((
h—d
)èð
NULL
; \

263 } 0)

	)

265 
	#SLIST_INSERT_AFTER
(
¦i¡–m
, 
–m
, 
f›ld
) do { \

266 
	`SLIST_NEXT
((
–m
), 
f›ld
èðSLIST_NEXT((
¦i¡–m
), field); \

267 
	`SLIST_NEXT
((
¦i¡–m
), 
f›ld
èð(
–m
); \

268 } 0)

	)

270 
	#SLIST_INSERT_HEAD
(
h—d
, 
–m
, 
f›ld
) do { \

271 
	`SLIST_NEXT
((
–m
), 
f›ld
èð
	`SLIST_FIRST
((
h—d
)); \

272 
	`SLIST_FIRST
((
h—d
)èð(
–m
); \

273 } 0)

	)

275 
	#SLIST_NEXT
(
–m
, 
f›ld
è(Ólm)->f›ld.
¦e_Ãxt
)

	)

277 
	#SLIST_REMOVE
(
h—d
, 
–m
, 
ty³
, 
f›ld
) do { \

278 
	`QMD_SAVELINK
(
ÞdÃxt
, (
–m
)->
f›ld
.
¦e_Ãxt
); \

279 ià(
	`SLIST_FIRST
((
h—d
)è=ð(
–m
)) { \

280 
	`SLIST_REMOVE_HEAD
((
h—d
), 
f›ld
); \

283 
	`QUEUE_TYPEOF
(
ty³
è*
cu»lm
 = 
	`SLIST_FIRST
(
h—d
); \

284 
	`SLIST_NEXT
(
cu»lm
, 
f›ld
è!ð(
–m
)) \

285 
cu»lm
 = 
	`SLIST_NEXT
(cu»lm, 
f›ld
); \

286 
	`SLIST_REMOVE_AFTER
(
cu»lm
, 
f›ld
); \

288 
	`TRASHIT
(*
ÞdÃxt
); \

289 } 0)

	)

291 
	#SLIST_REMOVE_AFTER
(
–m
, 
f›ld
) do { \

292 
	`SLIST_NEXT
(
–m
, 
f›ld
) = \

293 
	`SLIST_NEXT
(SLIST_NEXT(
–m
, 
f›ld
), field); \

294 } 0)

	)

296 
	#SLIST_REMOVE_HEAD
(
h—d
, 
f›ld
) do { \

297 
	`SLIST_FIRST
((
h—d
)èð
	`SLIST_NEXT
(SLIST_FIRST((h—d)), 
f›ld
); \

298 } 0)

	)

300 
	#SLIST_REMOVE_PREVPTR
(
´evp
, 
–m
, 
f›ld
) do { \

301 
	`QMD_SLIST_CHECK_PREVPTR
(
´evp
, 
–m
); \

302 *(
´evp
èð
	`SLIST_NEXT
(
–m
, 
f›ld
); \

303 
	`TRASHIT
((
–m
)->
f›ld
.
¦e_Ãxt
); \

304 } 0)

	)

306 
	#SLIST_SWAP
(
h—d1
, 
h—d2
, 
ty³
) do { \

307 
	`QUEUE_TYPEOF
(
ty³
è*
sw­_fœ¡
 = 
	`SLIST_FIRST
(
h—d1
); \

308 
	`SLIST_FIRST
(
h—d1
èðSLIST_FIRST(
h—d2
); \

309 
	`SLIST_FIRST
(
h—d2
èð
sw­_fœ¡
; \

310 } 0)

	)

315 
	#STAILQ_HEAD
(
Çme
, 
ty³
) \

316 
	sÇme
 { \

317 
ty³
 *
¡qh_fœ¡
; \

318 
ty³
 **
¡qh_Ï¡
; \

319 }

	)

321 
	#STAILQ_CLASS_HEAD
(
Çme
, 
ty³
) \

322 
	sÇme
 { \

323 
þass
 
ty³
 *
¡qh_fœ¡
; \

324 
þass
 
ty³
 **
¡qh_Ï¡
; \

325 }

	)

327 
	#STAILQ_HEAD_INITIALIZER
(
h—d
) \

328 { 
NULL
, &(
h—d
).
¡qh_fœ¡
 }

	)

330 
	#STAILQ_ENTRY
(
ty³
) \

332 
ty³
 *
¡qe_Ãxt
; \

333 }

	)

335 
	#STAILQ_CLASS_ENTRY
(
ty³
) \

337 
þass
 
ty³
 *
¡qe_Ãxt
; \

338 }

	)

343 
	#STAILQ_CONCAT
(
h—d1
, 
h—d2
) do { \

344 ià(!
	`STAILQ_EMPTY
((
h—d2
))) { \

345 *(
h—d1
)->
¡qh_Ï¡
 = (
h—d2
)->
¡qh_fœ¡
; \

346 (
h—d1
)->
¡qh_Ï¡
 = (
h—d2
)->stqh_last; \

347 
	`STAILQ_INIT
((
h—d2
)); \

349 } 0)

	)

351 
	#STAILQ_EMPTY
(
h—d
è((h—d)->
¡qh_fœ¡
 =ð
NULL
)

	)

353 
	#STAILQ_FIRST
(
h—d
è((h—d)->
¡qh_fœ¡
)

	)

355 
	#STAILQ_FOREACH
(
v¬
, 
h—d
, 
f›ld
) \

356 (
v¬
èð
	`STAILQ_FIRST
((
h—d
)); \

357 (
v¬
); \

358 (
v¬
èð
	`STAILQ_NEXT
((v¬), 
f›ld
))

	)

360 
	#STAILQ_FOREACH_FROM
(
v¬
, 
h—d
, 
f›ld
) \

361 (
v¬
èð((v¬è? (v¬è: 
	`STAILQ_FIRST
((
h—d
))); \

362 (
v¬
); \

363 (
v¬
èð
	`STAILQ_NEXT
((v¬), 
f›ld
))

	)

365 
	#STAILQ_FOREACH_SAFE
(
v¬
, 
h—d
, 
f›ld
, 
tv¬
) \

366 (
v¬
èð
	`STAILQ_FIRST
((
h—d
)); \

367 (
v¬
è&& ((
tv¬
èð
	`STAILQ_NEXT
((v¬), 
f›ld
), 1); \

368 (
v¬
èð(
tv¬
))

	)

370 
	#STAILQ_FOREACH_FROM_SAFE
(
v¬
, 
h—d
, 
f›ld
, 
tv¬
) \

371 (
v¬
èð((v¬è? (v¬è: 
	`STAILQ_FIRST
((
h—d
))); \

372 (
v¬
è&& ((
tv¬
èð
	`STAILQ_NEXT
((v¬), 
f›ld
), 1); \

373 (
v¬
èð(
tv¬
))

	)

375 
	#STAILQ_INIT
(
h—d
) do { \

376 
	`STAILQ_FIRST
((
h—d
)èð
NULL
; \

377 (
h—d
)->
¡qh_Ï¡
 = &
	`STAILQ_FIRST
((head)); \

378 } 0)

	)

380 
	#STAILQ_INSERT_AFTER
(
h—d
, 
tq–m
, 
–m
, 
f›ld
) do { \

381 ià((
	`STAILQ_NEXT
((
–m
), 
f›ld
èðSTAILQ_NEXT((
tq–m
), f›ld)è=ð
NULL
)\

382 (
h—d
)->
¡qh_Ï¡
 = &
	`STAILQ_NEXT
((
–m
), 
f›ld
); \

383 
	`STAILQ_NEXT
((
tq–m
), 
f›ld
èð(
–m
); \

384 } 0)

	)

386 
	#STAILQ_INSERT_HEAD
(
h—d
, 
–m
, 
f›ld
) do { \

387 ià((
	`STAILQ_NEXT
((
–m
), 
f›ld
èð
	`STAILQ_FIRST
((
h—d
))è=ð
NULL
) \

388 (
h—d
)->
¡qh_Ï¡
 = &
	`STAILQ_NEXT
((
–m
), 
f›ld
); \

389 
	`STAILQ_FIRST
((
h—d
)èð(
–m
); \

390 } 0)

	)

392 
	#STAILQ_INSERT_TAIL
(
h—d
, 
–m
, 
f›ld
) do { \

393 
	`STAILQ_NEXT
((
–m
), 
f›ld
èð
NULL
; \

394 *(
h—d
)->
¡qh_Ï¡
 = (
–m
); \

395 (
h—d
)->
¡qh_Ï¡
 = &
	`STAILQ_NEXT
((
–m
), 
f›ld
); \

396 } 0)

	)

398 
	#STAILQ_LAST
(
h—d
, 
ty³
, 
f›ld
) \

399 (
	`STAILQ_EMPTY
((
h—d
)è? 
NULL
 : \

400 
	`__cÚš”of
((
h—d
)->
¡qh_Ï¡
, \

401 
	`QUEUE_TYPEOF
(
ty³
), 
f›ld
.
¡qe_Ãxt
))

	)

403 
	#STAILQ_NEXT
(
–m
, 
f›ld
è(Ólm)->f›ld.
¡qe_Ãxt
)

	)

405 
	#STAILQ_REMOVE
(
h—d
, 
–m
, 
ty³
, 
f›ld
) do { \

406 
	`QMD_SAVELINK
(
ÞdÃxt
, (
–m
)->
f›ld
.
¡qe_Ãxt
); \

407 ià(
	`STAILQ_FIRST
((
h—d
)è=ð(
–m
)) { \

408 
	`STAILQ_REMOVE_HEAD
((
h—d
), 
f›ld
); \

411 
	`QUEUE_TYPEOF
(
ty³
è*
cu»lm
 = 
	`STAILQ_FIRST
(
h—d
); \

412 
	`STAILQ_NEXT
(
cu»lm
, 
f›ld
è!ð(
–m
)) \

413 
cu»lm
 = 
	`STAILQ_NEXT
(cu»lm, 
f›ld
); \

414 
	`STAILQ_REMOVE_AFTER
(
h—d
, 
cu»lm
, 
f›ld
); \

416 
	`TRASHIT
(*
ÞdÃxt
); \

417 } 0)

	)

419 
	#STAILQ_REMOVE_AFTER
(
h—d
, 
–m
, 
f›ld
) do { \

420 ià((
	`STAILQ_NEXT
(
–m
, 
f›ld
) = \

421 
	`STAILQ_NEXT
(STAILQ_NEXT(
–m
, 
f›ld
), f›ld)è=ð
NULL
) \

422 (
h—d
)->
¡qh_Ï¡
 = &
	`STAILQ_NEXT
((
–m
), 
f›ld
); \

423 } 0)

	)

425 
	#STAILQ_REMOVE_HEAD
(
h—d
, 
f›ld
) do { \

426 ià((
	`STAILQ_FIRST
((
h—d
)) = \

427 
	`STAILQ_NEXT
(
	`STAILQ_FIRST
((
h—d
)), 
f›ld
)è=ð
NULL
) \

428 (
h—d
)->
¡qh_Ï¡
 = &
	`STAILQ_FIRST
((head)); \

429 } 0)

	)

431 
	#STAILQ_SWAP
(
h—d1
, 
h—d2
, 
ty³
) do { \

432 
	`QUEUE_TYPEOF
(
ty³
è*
sw­_fœ¡
 = 
	`STAILQ_FIRST
(
h—d1
); \

433 
	`QUEUE_TYPEOF
(
ty³
è**
sw­_Ï¡
 = (
h—d1
)->
¡qh_Ï¡
; \

434 
	`STAILQ_FIRST
(
h—d1
èðSTAILQ_FIRST(
h—d2
); \

435 (
h—d1
)->
¡qh_Ï¡
 = (
h—d2
)->stqh_last; \

436 
	`STAILQ_FIRST
(
h—d2
èð
sw­_fœ¡
; \

437 (
h—d2
)->
¡qh_Ï¡
 = 
sw­_Ï¡
; \

438 ià(
	`STAILQ_EMPTY
(
h—d1
)) \

439 (
h—d1
)->
¡qh_Ï¡
 = &
	`STAILQ_FIRST
(head1); \

440 ià(
	`STAILQ_EMPTY
(
h—d2
)) \

441 (
h—d2
)->
¡qh_Ï¡
 = &
	`STAILQ_FIRST
(head2); \

442 } 0)

	)

448 
	#LIST_HEAD
(
Çme
, 
ty³
) \

449 
	sÇme
 { \

450 
ty³
 *
lh_fœ¡
; \

451 }

	)

453 
	#LIST_CLASS_HEAD
(
Çme
, 
ty³
) \

454 
	sÇme
 { \

455 
þass
 
ty³
 *
lh_fœ¡
; \

456 }

	)

458 
	#LIST_HEAD_INITIALIZER
(
h—d
) \

459 { 
NULL
 }

	)

461 
	#LIST_ENTRY
(
ty³
) \

463 
ty³
 *
Ë_Ãxt
; \

464 
ty³
 **
Ë_´ev
; \

465 }

	)

467 
	#LIST_CLASS_ENTRY
(
ty³
) \

469 
þass
 
ty³
 *
Ë_Ãxt
; \

470 
þass
 
ty³
 **
Ë_´ev
; \

471 }

	)

477 #ià(
defšed
(
_KERNEL
è&& defšed(
INVARIANTS
))

484 
	#QMD_LIST_CHECK_HEAD
(
h—d
, 
f›ld
) do { \

485 ià(
	`LIST_FIRST
((
h—d
)è!ð
NULL
 && \

486 
	`LIST_FIRST
((
h—d
))->
f›ld
.
Ë_´ev
 != \

487 &
	`LIST_FIRST
((
h—d
))) \

488 
	`·nic
("Bad†i¡ h—d %°fœ¡->´ev !ðh—d", (
h—d
)); \

489 } 0)

	)

497 
	#QMD_LIST_CHECK_NEXT
(
–m
, 
f›ld
) do { \

498 ià(
	`LIST_NEXT
((
–m
), 
f›ld
è!ð
NULL
 && \

499 
	`LIST_NEXT
((
–m
), 
f›ld
)->f›ld.
Ë_´ev
 != \

500 &((
–m
)->
f›ld
.
Ë_Ãxt
)) \

501 
	`·nic
("Bad†škƒlm %°Ãxt->´ev !ð–m", (
–m
)); \

502 } 0)

	)

509 
	#QMD_LIST_CHECK_PREV
(
–m
, 
f›ld
) do { \

510 ià(*(
–m
)->
f›ld
.
Ë_´ev
 != (elm)) \

511 
	`·nic
("Bad†škƒlm %°´ev->Ãxˆ!ð–m", (
–m
)); \

512 } 0)

	)

514 
	#QMD_LIST_CHECK_HEAD
(
h—d
, 
f›ld
)

	)

515 
	#QMD_LIST_CHECK_NEXT
(
–m
, 
f›ld
)

	)

516 
	#QMD_LIST_CHECK_PREV
(
–m
, 
f›ld
)

	)

519 
	#LIST_CONCAT
(
h—d1
, 
h—d2
, 
ty³
, 
f›ld
) do { \

520 
	`QUEUE_TYPEOF
(
ty³
è*
cu»lm
 = 
	`LIST_FIRST
(
h—d1
); \

521 ià(
cu»lm
 =ð
NULL
) { \

522 ià((
	`LIST_FIRST
(
h—d1
èðLIST_FIRST(
h—d2
)è!ð
NULL
) { \

523 
	`LIST_FIRST
(
h—d2
)->
f›ld
.
Ë_´ev
 = \

524 &
	`LIST_FIRST
((
h—d1
)); \

525 
	`LIST_INIT
(
h—d2
); \

527 } ià(
	`LIST_FIRST
(
h—d2
è!ð
NULL
) { \

528 
	`LIST_NEXT
(
cu»lm
, 
f›ld
è!ð
NULL
) \

529 
cu»lm
 = 
	`LIST_NEXT
(cu»lm, 
f›ld
); \

530 
	`LIST_NEXT
(
cu»lm
, 
f›ld
èð
	`LIST_FIRST
(
h—d2
); \

531 
	`LIST_FIRST
(
h—d2
)->
f›ld
.
Ë_´ev
 = &
	`LIST_NEXT
(
cu»lm
, field); \

532 
	`LIST_INIT
(
h—d2
); \

534 } 0)

	)

536 
	#LIST_EMPTY
(
h—d
è((h—d)->
lh_fœ¡
 =ð
NULL
)

	)

538 
	#LIST_FIRST
(
h—d
è((h—d)->
lh_fœ¡
)

	)

540 
	#LIST_FOREACH
(
v¬
, 
h—d
, 
f›ld
) \

541 (
v¬
èð
	`LIST_FIRST
((
h—d
)); \

542 (
v¬
); \

543 (
v¬
èð
	`LIST_NEXT
((v¬), 
f›ld
))

	)

545 
	#LIST_FOREACH_FROM
(
v¬
, 
h—d
, 
f›ld
) \

546 (
v¬
èð((v¬è? (v¬è: 
	`LIST_FIRST
((
h—d
))); \

547 (
v¬
); \

548 (
v¬
èð
	`LIST_NEXT
((v¬), 
f›ld
))

	)

550 
	#LIST_FOREACH_SAFE
(
v¬
, 
h—d
, 
f›ld
, 
tv¬
) \

551 (
v¬
èð
	`LIST_FIRST
((
h—d
)); \

552 (
v¬
è&& ((
tv¬
èð
	`LIST_NEXT
((v¬), 
f›ld
), 1); \

553 (
v¬
èð(
tv¬
))

	)

555 
	#LIST_FOREACH_FROM_SAFE
(
v¬
, 
h—d
, 
f›ld
, 
tv¬
) \

556 (
v¬
èð((v¬è? (v¬è: 
	`LIST_FIRST
((
h—d
))); \

557 (
v¬
è&& ((
tv¬
èð
	`LIST_NEXT
((v¬), 
f›ld
), 1); \

558 (
v¬
èð(
tv¬
))

	)

560 
	#LIST_INIT
(
h—d
) do { \

561 
	`LIST_FIRST
((
h—d
)èð
NULL
; \

562 } 0)

	)

564 
	#LIST_INSERT_AFTER
(
li¡–m
, 
–m
, 
f›ld
) do { \

565 
	`QMD_LIST_CHECK_NEXT
(
li¡–m
, 
f›ld
); \

566 ià((
	`LIST_NEXT
((
–m
), 
f›ld
èðLIST_NEXT((
li¡–m
), f›ld)è!ð
NULL
)\

567 
	`LIST_NEXT
((
li¡–m
), 
f›ld
)->f›ld.
Ë_´ev
 = \

568 &
	`LIST_NEXT
((
–m
), 
f›ld
); \

569 
	`LIST_NEXT
((
li¡–m
), 
f›ld
èð(
–m
); \

570 (
–m
)->
f›ld
.
Ë_´ev
 = &
	`LIST_NEXT
((
li¡–m
), field); \

571 } 0)

	)

573 
	#LIST_INSERT_BEFORE
(
li¡–m
, 
–m
, 
f›ld
) do { \

574 
	`QMD_LIST_CHECK_PREV
(
li¡–m
, 
f›ld
); \

575 (
–m
)->
f›ld
.
Ë_´ev
 = (
li¡–m
)->field.le_prev; \

576 
	`LIST_NEXT
((
–m
), 
f›ld
èð(
li¡–m
); \

577 *(
li¡–m
)->
f›ld
.
Ë_´ev
 = (
–m
); \

578 (
li¡–m
)->
f›ld
.
Ë_´ev
 = &
	`LIST_NEXT
((
–m
), field); \

579 } 0)

	)

581 
	#LIST_INSERT_HEAD
(
h—d
, 
–m
, 
f›ld
) do { \

582 
	`QMD_LIST_CHECK_HEAD
((
h—d
), 
f›ld
); \

583 ià((
	`LIST_NEXT
((
–m
), 
f›ld
èð
	`LIST_FIRST
((
h—d
))è!ð
NULL
) \

584 
	`LIST_FIRST
((
h—d
))->
f›ld
.
Ë_´ev
 = &
	`LIST_NEXT
((
–m
), field);\

585 
	`LIST_FIRST
((
h—d
)èð(
–m
); \

586 (
–m
)->
f›ld
.
Ë_´ev
 = &
	`LIST_FIRST
((
h—d
)); \

587 } 0)

	)

589 
	#LIST_NEXT
(
–m
, 
f›ld
è(Ólm)->f›ld.
Ë_Ãxt
)

	)

591 
	#LIST_PREV
(
–m
, 
h—d
, 
ty³
, 
f›ld
) \

592 ((
–m
)->
f›ld
.
Ë_´ev
 =ð&
	`LIST_FIRST
((
h—d
)è? 
NULL
 : \

593 
	`__cÚš”of
((
–m
)->
f›ld
.
Ë_´ev
, \

594 
	`QUEUE_TYPEOF
(
ty³
), 
f›ld
.
Ë_Ãxt
))

	)

596 
	#LIST_REMOVE
(
–m
, 
f›ld
) do { \

597 
	`QMD_SAVELINK
(
ÞdÃxt
, (
–m
)->
f›ld
.
Ë_Ãxt
); \

598 
	`QMD_SAVELINK
(
Þd´ev
, (
–m
)->
f›ld
.
Ë_´ev
); \

599 
	`QMD_LIST_CHECK_NEXT
(
–m
, 
f›ld
); \

600 
	`QMD_LIST_CHECK_PREV
(
–m
, 
f›ld
); \

601 ià(
	`LIST_NEXT
((
–m
), 
f›ld
è!ð
NULL
) \

602 
	`LIST_NEXT
((
–m
), 
f›ld
)->f›ld.
Ë_´ev
 = \

603 (
–m
)->
f›ld
.
Ë_´ev
; \

604 *(
–m
)->
f›ld
.
Ë_´ev
 = 
	`LIST_NEXT
((elm), field); \

605 
	`TRASHIT
(*
ÞdÃxt
); \

606 
	`TRASHIT
(*
Þd´ev
); \

607 } 0)

	)

609 
	#LIST_SWAP
(
h—d1
, 
h—d2
, 
ty³
, 
f›ld
) do { \

610 
	`QUEUE_TYPEOF
(
ty³
è*
sw­_tmp
 = 
	`LIST_FIRST
(
h—d1
); \

611 
	`LIST_FIRST
((
h—d1
)èðLIST_FIRST((
h—d2
)); \

612 
	`LIST_FIRST
((
h—d2
)èð
sw­_tmp
; \

613 ià((
sw­_tmp
 = 
	`LIST_FIRST
((
h—d1
))è!ð
NULL
) \

614 
sw­_tmp
->
f›ld
.
Ë_´ev
 = &
	`LIST_FIRST
((
h—d1
)); \

615 ià((
sw­_tmp
 = 
	`LIST_FIRST
((
h—d2
))è!ð
NULL
) \

616 
sw­_tmp
->
f›ld
.
Ë_´ev
 = &
	`LIST_FIRST
((
h—d2
)); \

617 } 0)

	)

622 
	#TAILQ_HEAD
(
Çme
, 
ty³
) \

623 
	sÇme
 { \

624 
ty³
 *
tqh_fœ¡
; \

625 
ty³
 **
tqh_Ï¡
; \

626 
TRACEBUF
 \

627 }

	)

629 
	#TAILQ_CLASS_HEAD
(
Çme
, 
ty³
) \

630 
	sÇme
 { \

631 
þass
 
ty³
 *
tqh_fœ¡
; \

632 
þass
 
ty³
 **
tqh_Ï¡
; \

633 
TRACEBUF
 \

634 }

	)

636 
	#TAILQ_HEAD_INITIALIZER
(
h—d
) \

637 { 
NULL
, &(
h—d
).
tqh_fœ¡
, 
TRACEBUF_INITIALIZER
 }

	)

639 
	#TAILQ_ENTRY
(
ty³
) \

641 
ty³
 *
tqe_Ãxt
; \

642 
ty³
 **
tqe_´ev
; \

643 
TRACEBUF
 \

644 }

	)

646 
	#TAILQ_CLASS_ENTRY
(
ty³
) \

648 
þass
 
ty³
 *
tqe_Ãxt
; \

649 
þass
 
ty³
 **
tqe_´ev
; \

650 
TRACEBUF
 \

651 }

	)

656 #ià(
defšed
(
_KERNEL
è&& defšed(
INVARIANTS
))

663 
	#QMD_TAILQ_CHECK_HEAD
(
h—d
, 
f›ld
) do { \

664 ià(!
	`TAILQ_EMPTY
(
h—d
) && \

665 
	`TAILQ_FIRST
((
h—d
))->
f›ld
.
tqe_´ev
 != \

666 &
	`TAILQ_FIRST
((
h—d
))) \

667 
	`·nic
("Badažq h—d %°fœ¡->´ev !ðh—d", (
h—d
)); \

668 } 0)

	)

675 
	#QMD_TAILQ_CHECK_TAIL
(
h—d
, 
f›ld
) do { \

676 ià(*(
h—d
)->
tqh_Ï¡
 !ð
NULL
) \

677 
	`·nic
("Badažq NEXT(%p->tqh_Ï¡è!ðNULL", (
h—d
)); \

678 } 0)

	)

686 
	#QMD_TAILQ_CHECK_NEXT
(
–m
, 
f›ld
) do { \

687 ià(
	`TAILQ_NEXT
((
–m
), 
f›ld
è!ð
NULL
 && \

688 
	`TAILQ_NEXT
((
–m
), 
f›ld
)->f›ld.
tqe_´ev
 != \

689 &((
–m
)->
f›ld
.
tqe_Ãxt
)) \

690 
	`·nic
("Bad†škƒlm %°Ãxt->´ev !ð–m", (
–m
)); \

691 } 0)

	)

698 
	#QMD_TAILQ_CHECK_PREV
(
–m
, 
f›ld
) do { \

699 ià(*(
–m
)->
f›ld
.
tqe_´ev
 != (elm)) \

700 
	`·nic
("Bad†škƒlm %°´ev->Ãxˆ!ð–m", (
–m
)); \

701 } 0)

	)

703 
	#QMD_TAILQ_CHECK_HEAD
(
h—d
, 
f›ld
)

	)

704 
	#QMD_TAILQ_CHECK_TAIL
(
h—d
, 
h—dÇme
)

	)

705 
	#QMD_TAILQ_CHECK_NEXT
(
–m
, 
f›ld
)

	)

706 
	#QMD_TAILQ_CHECK_PREV
(
–m
, 
f›ld
)

	)

709 
	#TAILQ_CONCAT
(
h—d1
, 
h—d2
, 
f›ld
) do { \

710 ià(!
	`TAILQ_EMPTY
(
h—d2
)) { \

711 *(
h—d1
)->
tqh_Ï¡
 = (
h—d2
)->
tqh_fœ¡
; \

712 (
h—d2
)->
tqh_fœ¡
->
f›ld
.
tqe_´ev
 = (
h—d1
)->
tqh_Ï¡
; \

713 (
h—d1
)->
tqh_Ï¡
 = (
h—d2
)->tqh_last; \

714 
	`TAILQ_INIT
((
h—d2
)); \

715 
	`QMD_TRACE_HEAD
(
h—d1
); \

716 
	`QMD_TRACE_HEAD
(
h—d2
); \

718 } 0)

	)

720 
	#TAILQ_EMPTY
(
h—d
è((h—d)->
tqh_fœ¡
 =ð
NULL
)

	)

722 
	#TAILQ_FIRST
(
h—d
è((h—d)->
tqh_fœ¡
)

	)

724 
	#TAILQ_FOREACH
(
v¬
, 
h—d
, 
f›ld
) \

725 (
v¬
èð
	`TAILQ_FIRST
((
h—d
)); \

726 (
v¬
); \

727 (
v¬
èð
	`TAILQ_NEXT
((v¬), 
f›ld
))

	)

729 
	#TAILQ_FOREACH_FROM
(
v¬
, 
h—d
, 
f›ld
) \

730 (
v¬
èð((v¬è? (v¬è: 
	`TAILQ_FIRST
((
h—d
))); \

731 (
v¬
); \

732 (
v¬
èð
	`TAILQ_NEXT
((v¬), 
f›ld
))

	)

734 
	#TAILQ_FOREACH_SAFE
(
v¬
, 
h—d
, 
f›ld
, 
tv¬
) \

735 (
v¬
èð
	`TAILQ_FIRST
((
h—d
)); \

736 (
v¬
è&& ((
tv¬
èð
	`TAILQ_NEXT
((v¬), 
f›ld
), 1); \

737 (
v¬
èð(
tv¬
))

	)

739 
	#TAILQ_FOREACH_FROM_SAFE
(
v¬
, 
h—d
, 
f›ld
, 
tv¬
) \

740 (
v¬
èð((v¬è? (v¬è: 
	`TAILQ_FIRST
((
h—d
))); \

741 (
v¬
è&& ((
tv¬
èð
	`TAILQ_NEXT
((v¬), 
f›ld
), 1); \

742 (
v¬
èð(
tv¬
))

	)

744 
	#TAILQ_FOREACH_REVERSE
(
v¬
, 
h—d
, 
h—dÇme
, 
f›ld
) \

745 (
v¬
èð
	`TAILQ_LAST
((
h—d
), 
h—dÇme
); \

746 (
v¬
); \

747 (
v¬
èð
	`TAILQ_PREV
((v¬), 
h—dÇme
, 
f›ld
))

	)

749 
	#TAILQ_FOREACH_REVERSE_FROM
(
v¬
, 
h—d
, 
h—dÇme
, 
f›ld
) \

750 (
v¬
èð((v¬è? (v¬è: 
	`TAILQ_LAST
((
h—d
), 
h—dÇme
)); \

751 (
v¬
); \

752 (
v¬
èð
	`TAILQ_PREV
((v¬), 
h—dÇme
, 
f›ld
))

	)

754 
	#TAILQ_FOREACH_REVERSE_SAFE
(
v¬
, 
h—d
, 
h—dÇme
, 
f›ld
, 
tv¬
) \

755 (
v¬
èð
	`TAILQ_LAST
((
h—d
), 
h—dÇme
); \

756 (
v¬
è&& ((
tv¬
èð
	`TAILQ_PREV
((v¬), 
h—dÇme
, 
f›ld
), 1); \

757 (
v¬
èð(
tv¬
))

	)

759 
	#TAILQ_FOREACH_REVERSE_FROM_SAFE
(
v¬
, 
h—d
, 
h—dÇme
, 
f›ld
, 
tv¬
) \

760 (
v¬
èð((v¬è? (v¬è: 
	`TAILQ_LAST
((
h—d
), 
h—dÇme
)); \

761 (
v¬
è&& ((
tv¬
èð
	`TAILQ_PREV
((v¬), 
h—dÇme
, 
f›ld
), 1); \

762 (
v¬
èð(
tv¬
))

	)

764 
	#TAILQ_INIT
(
h—d
) do { \

765 
	`TAILQ_FIRST
((
h—d
)èð
NULL
; \

766 (
h—d
)->
tqh_Ï¡
 = &
	`TAILQ_FIRST
((head)); \

767 
	`QMD_TRACE_HEAD
(
h—d
); \

768 } 0)

	)

770 
	#TAILQ_INSERT_AFTER
(
h—d
, 
li¡–m
, 
–m
, 
f›ld
) do { \

771 
	`QMD_TAILQ_CHECK_NEXT
(
li¡–m
, 
f›ld
); \

772 ià((
	`TAILQ_NEXT
((
–m
), 
f›ld
èðTAILQ_NEXT((
li¡–m
), f›ld)è!ð
NULL
)\

773 
	`TAILQ_NEXT
((
–m
), 
f›ld
)->f›ld.
tqe_´ev
 = \

774 &
	`TAILQ_NEXT
((
–m
), 
f›ld
); \

776 (
h—d
)->
tqh_Ï¡
 = &
	`TAILQ_NEXT
((
–m
), 
f›ld
); \

777 
	`QMD_TRACE_HEAD
(
h—d
); \

779 
	`TAILQ_NEXT
((
li¡–m
), 
f›ld
èð(
–m
); \

780 (
–m
)->
f›ld
.
tqe_´ev
 = &
	`TAILQ_NEXT
((
li¡–m
), field); \

781 
	`QMD_TRACE_ELEM
(&(
–m
)->
f›ld
); \

782 
	`QMD_TRACE_ELEM
(&(
li¡–m
)->
f›ld
); \

783 } 0)

	)

785 
	#TAILQ_INSERT_BEFORE
(
li¡–m
, 
–m
, 
f›ld
) do { \

786 
	`QMD_TAILQ_CHECK_PREV
(
li¡–m
, 
f›ld
); \

787 (
–m
)->
f›ld
.
tqe_´ev
 = (
li¡–m
)->field.tqe_prev; \

788 
	`TAILQ_NEXT
((
–m
), 
f›ld
èð(
li¡–m
); \

789 *(
li¡–m
)->
f›ld
.
tqe_´ev
 = (
–m
); \

790 (
li¡–m
)->
f›ld
.
tqe_´ev
 = &
	`TAILQ_NEXT
((
–m
), field); \

791 
	`QMD_TRACE_ELEM
(&(
–m
)->
f›ld
); \

792 
	`QMD_TRACE_ELEM
(&(
li¡–m
)->
f›ld
); \

793 } 0)

	)

795 
	#TAILQ_INSERT_HEAD
(
h—d
, 
–m
, 
f›ld
) do { \

796 
	`QMD_TAILQ_CHECK_HEAD
(
h—d
, 
f›ld
); \

797 ià((
	`TAILQ_NEXT
((
–m
), 
f›ld
èð
	`TAILQ_FIRST
((
h—d
))è!ð
NULL
) \

798 
	`TAILQ_FIRST
((
h—d
))->
f›ld
.
tqe_´ev
 = \

799 &
	`TAILQ_NEXT
((
–m
), 
f›ld
); \

801 (
h—d
)->
tqh_Ï¡
 = &
	`TAILQ_NEXT
((
–m
), 
f›ld
); \

802 
	`TAILQ_FIRST
((
h—d
)èð(
–m
); \

803 (
–m
)->
f›ld
.
tqe_´ev
 = &
	`TAILQ_FIRST
((
h—d
)); \

804 
	`QMD_TRACE_HEAD
(
h—d
); \

805 
	`QMD_TRACE_ELEM
(&(
–m
)->
f›ld
); \

806 } 0)

	)

808 
	#TAILQ_INSERT_TAIL
(
h—d
, 
–m
, 
f›ld
) do { \

809 
	`QMD_TAILQ_CHECK_TAIL
(
h—d
, 
f›ld
); \

810 
	`TAILQ_NEXT
((
–m
), 
f›ld
èð
NULL
; \

811 (
–m
)->
f›ld
.
tqe_´ev
 = (
h—d
)->
tqh_Ï¡
; \

812 *(
h—d
)->
tqh_Ï¡
 = (
–m
); \

813 (
h—d
)->
tqh_Ï¡
 = &
	`TAILQ_NEXT
((
–m
), 
f›ld
); \

814 
	`QMD_TRACE_HEAD
(
h—d
); \

815 
	`QMD_TRACE_ELEM
(&(
–m
)->
f›ld
); \

816 } 0)

	)

818 
	#TAILQ_LAST
(
h—d
, 
h—dÇme
) \

819 (*(((
h—dÇme
 *)((
h—d
)->
tqh_Ï¡
))->tqh_Ï¡))

	)

828 
	#TAILQ_LAST_FAST
(
h—d
, 
ty³
, 
f›ld
) \

829 (
	`TAILQ_EMPTY
(
h—d
è? 
NULL
 : 
	`__cÚš”of
((h—d)->
tqh_Ï¡
, 
	`QUEUE_TYPEOF
(
ty³
), 
f›ld
.
tqe_Ãxt
))

	)

831 
	#TAILQ_NEXT
(
–m
, 
f›ld
è(Ólm)->f›ld.
tqe_Ãxt
)

	)

833 
	#TAILQ_PREV
(
–m
, 
h—dÇme
, 
f›ld
) \

834 (*(((
h—dÇme
 *)((
–m
)->
f›ld
.
tqe_´ev
))->
tqh_Ï¡
))

	)

836 
	#TAILQ_REMOVE
(
h—d
, 
–m
, 
f›ld
) do { \

837 
	`QMD_SAVELINK
(
ÞdÃxt
, (
–m
)->
f›ld
.
tqe_Ãxt
); \

838 
	`QMD_SAVELINK
(
Þd´ev
, (
–m
)->
f›ld
.
tqe_´ev
); \

839 
	`QMD_TAILQ_CHECK_NEXT
(
–m
, 
f›ld
); \

840 
	`QMD_TAILQ_CHECK_PREV
(
–m
, 
f›ld
); \

841 ià((
	`TAILQ_NEXT
((
–m
), 
f›ld
)è!ð
NULL
) \

842 
	`TAILQ_NEXT
((
–m
), 
f›ld
)->f›ld.
tqe_´ev
 = \

843 (
–m
)->
f›ld
.
tqe_´ev
; \

845 (
h—d
)->
tqh_Ï¡
 = (
–m
)->
f›ld
.
tqe_´ev
; \

846 
	`QMD_TRACE_HEAD
(
h—d
); \

848 *(
–m
)->
f›ld
.
tqe_´ev
 = 
	`TAILQ_NEXT
((elm), field); \

849 
	`TRASHIT
(*
ÞdÃxt
); \

850 
	`TRASHIT
(*
Þd´ev
); \

851 
	`QMD_TRACE_ELEM
(&(
–m
)->
f›ld
); \

852 } 0)

	)

854 
	#TAILQ_SWAP
(
h—d1
, 
h—d2
, 
ty³
, 
f›ld
) do { \

855 
	`QUEUE_TYPEOF
(
ty³
è*
sw­_fœ¡
 = (
h—d1
)->
tqh_fœ¡
; \

856 
	`QUEUE_TYPEOF
(
ty³
è**
sw­_Ï¡
 = (
h—d1
)->
tqh_Ï¡
; \

857 (
h—d1
)->
tqh_fœ¡
 = (
h—d2
)->tqh_first; \

858 (
h—d1
)->
tqh_Ï¡
 = (
h—d2
)->tqh_last; \

859 (
h—d2
)->
tqh_fœ¡
 = 
sw­_fœ¡
; \

860 (
h—d2
)->
tqh_Ï¡
 = 
sw­_Ï¡
; \

861 ià((
sw­_fœ¡
 = (
h—d1
)->
tqh_fœ¡
è!ð
NULL
) \

862 
sw­_fœ¡
->
f›ld
.
tqe_´ev
 = &(
h—d1
)->
tqh_fœ¡
; \

864 (
h—d1
)->
tqh_Ï¡
 = &(h—d1)->
tqh_fœ¡
; \

865 ià((
sw­_fœ¡
 = (
h—d2
)->
tqh_fœ¡
è!ð
NULL
) \

866 
sw­_fœ¡
->
f›ld
.
tqe_´ev
 = &(
h—d2
)->
tqh_fœ¡
; \

868 (
h—d2
)->
tqh_Ï¡
 = &(h—d2)->
tqh_fœ¡
; \

869 } 0)

	)

	@/usr/include/sys/resourcevar.h

35 #iâdef 
_SYS_RESOURCEVAR_H_


36 
	#_SYS_RESOURCEVAR_H_


	)

38 
	~<sys/»sourû.h
>

39 
	~<sys/queue.h
>

40 #ifdeà
_KERNEL


41 
	~<sys/_lock.h
>

42 
	~<sys/_mu‹x.h
>

56 
	sp¡©s
 {

57 
	#p¡©_¡¬tz”o
 
p_üu


	)

58 
ru§ge
 
	mp_üu
;

59 
™im”v®
 
	mp_tim”
[3];

60 
	#p¡©_’dz”o
 
p¡©_¡¬tcÝy


	)

62 
	#p¡©_¡¬tcÝy
 
p_´of


	)

63 
	su´of
 {

64 
ÿddr_t
 
	m´_ba£
;

65 
u_lÚg
 
	m´_size
;

66 
u_lÚg
 
	m´_off
;

67 
u_lÚg
 
	m´_sÿË
;

68 } 
	mp_´of
;

69 
	#p¡©_’dcÝy
 
p_¡¬t


	)

70 
timev®
 
	mp_¡¬t
;

73 #ifdeà
_KERNEL


80 
	s¶im™
 {

81 
¾im™
 
	m¶_¾im™
[
RLIM_NLIMITS
];

82 
	m¶_»fút
;

85 
	g¿cù
;

97 
	suidšfo
 {

98 
LIST_ENTRY
(
uidšfo
è
	mui_hash
;

99 
u_lÚg
 
	mui_vmsize
;

100 
	mui_sbsize
;

101 
	mui_´ocút
;

102 
	mui_±sút
;

103 
	mui_kqút
;

104 
	mui_umtxút
;

105 
uid_t
 
	mui_uid
;

106 
u_št
 
	mui_»f
;

107 #ifdef 
RACCT


108 
¿cù
 *
	mui_¿cù
;

112 
	#UIDINFO_VMSIZE_LOCK
(
ui
è
	`mtx_lock
(&((ui)->
ui_vmsize_mtx
))

	)

113 
	#UIDINFO_VMSIZE_UNLOCK
(
ui
è
	`mtx_uÆock
(&((ui)->
ui_vmsize_mtx
))

	)

115 
	g´oc
;

116 
	gru§ge_ext
;

117 
	gth»ad
;

119 
addupc_šŒ
(
th»ad
 *
td
, 
uštåŒ_t
 
pc
, 
u_št
 
ticks
);

120 
addupc_sk
(
th»ad
 *
td
, 
uštåŒ_t
 
pc
, 
u_št
 
ticks
);

121 
ÿlcüu
(
´oc
 *
p
, 
timev®
 *
up
, timev® *
¥
);

122 
ÿlüu
(
´oc
 *
p
, 
timev®
 *
up
, timev® *
¥
);

123 
chgkqút
(
uidšfo
 *
u
, 
diff
, 
¾im_t
 
max
);

124 
chg´ocút
(
uidšfo
 *
u
, 
diff
, 
¾im_t
 
maxv®
);

125 
chgsbsize
(
uidšfo
 *
u
, 
u_št
 *
hiw©
, u_šˆ
to
,

126 
¾im_t
 
maxv®
);

127 
chg±sút
(
uidšfo
 *
u
, 
diff
, 
¾im_t
 
maxv®
);

128 
chgumtxút
(
uidšfo
 *
u
, 
diff
, 
¾im_t
 
maxv®
);

129 
k”n_´oc_£Œlim™
(
th»ad
 *
td
, 
´oc
 *
p
, 
u_št
 
which
,

130 
¾im™
 *
limp
);

131 
¶im™


132 *
lim_®loc
();

133 
lim_cÝy
(
¶im™
 *
d¡
, ¶im™ *
¤c
);

134 
¾im_t
 
lim_cur
(
th»ad
 *
td
, 
which
);

135 
¾im_t
 
lim_cur_´oc
(
´oc
 *
p
, 
which
);

136 
lim_fÜk
(
´oc
 *
p1
, ´oø*
p2
);

137 
lim_ä“
(
¶im™
 *
limp
);

138 
¶im™


139 *
lim_hÞd
(
¶im™
 *
limp
);

140 
¾im_t
 
lim_max
(
th»ad
 *
td
, 
which
);

141 
¾im_t
 
lim_max_´oc
(
´oc
 *
p
, 
which
);

142 
lim_¾im™
(
th»ad
 *
td
, 
which
, 
¾im™
 *
¾p
);

143 
lim_¾im™_´oc
(
´oc
 *
p
, 
which
, 
¾im™
 *
¾p
);

144 
ruadd
(
ru§ge
 *
ru
, 
ru§ge_ext
 *
rux
, ru§g*
ru2
,

145 
ru§ge_ext
 *
rux2
);

146 
rucÞËù
(
ru§ge
 *
ru
, ru§g*
ru2
);

147 
ruãtch
(
´oc
 *
p
, 
ru§ge
 *
ru
);

148 
ruãtchÿlc
(
´oc
 *
p
, 
ru§ge
 *
ru
, 
timev®
 *
up
,

149 
timev®
 *
¥
);

150 
ruãtchtd
(
th»ad
 *
td
, 
ru§ge
 *
ru
);

151 
ruxagg
(
´oc
 *
p
, 
th»ad
 *
td
);

152 
uidšfo


153 *
uifšd
(
uid_t
 
uid
);

154 
uiä“
(
uidšfo
 *
u
);

155 
uihashš™
();

156 
uihÞd
(
uidšfo
 *
u
);

157 #ifdef 
RACCT


158 
ui_¿cù_fÜ—ch
((*
ÿÎback
)(
¿cù
 *racct,

159 *
¬g2
, *
¬g3
), (*
´e
)(), (*
po¡
)(),

160 *
¬g2
, *
¬g3
);

	@/usr/include/sys/rman.h

34 #iâdeà
_SYS_RMAN_H_


35 
	#_SYS_RMAN_H_
 1

	)

37 #iâdef 
_KERNEL


38 
	~<sys/queue.h
>

40 
	~<machše/_bus.h
>

41 
	~<machše/»sourû.h
>

44 
	#RF_ALLOCATED
 0x0001

	)

45 
	#RF_ACTIVE
 0x0002

	)

46 
	#RF_SHAREABLE
 0x0004

	)

47 
	#RF_SPARE1
 0x0008

	)

48 
	#RF_SPARE2
 0x0010

	)

49 
	#RF_FIRSTSHARE
 0x0020

	)

50 
	#RF_PREFETCHABLE
 0x0040

	)

51 
	#RF_OPTIONAL
 0x0080

	)

52 
	#RF_UNMAPPED
 0x0100

	)

54 
	#RF_ALIGNMENT_SHIFT
 10

	)

55 
	#RF_ALIGNMENT_MASK
 (0x003F << 
RF_ALIGNMENT_SHIFT
)

	)

57 
	#RF_ALIGNMENT_LOG2
(
x
è((xè<< 
RF_ALIGNMENT_SHIFT
)

	)

58 
	#RF_ALIGNMENT
(
x
è(((xè& 
RF_ALIGNMENT_MASK
è>> 
RF_ALIGNMENT_SHIFT
)

	)

60 
	ermª_ty³
 { 
	mRMAN_UNINIT
 = 0, 
	mRMAN_GAUGE
, 
	mRMAN_ARRAY
 };

65 
	#RM_TEXTLEN
 32

	)

67 
	#RM_MAX_END
 (~(
rmª_»s_t
)0)

	)

69 
	#RMAN_IS_DEFAULT_RANGE
(
s
,
e
è((sè=ð0 && (eè=ð
RM_MAX_END
)

	)

74 
	su_»sourû
 {

75 
ušŒ_t
 
	mr_hªdË
;

76 
ušŒ_t
 
	mr_·»Á
;

77 
ušŒ_t
 
	mr_deviû
;

78 
	mr_devÇme
[
RM_TEXTLEN
];

80 
rmª_»s_t
 
	mr_¡¬t
;

81 
rmª_»s_t
 
	mr_size
;

82 
u_št
 
	mr_æags
;

85 
	su_rmª
 {

86 
ušŒ_t
 
	mrm_hªdË
;

87 
	mrm_desü
[
RM_TEXTLEN
];

89 
rmª_»s_t
 
	mrm_¡¬t
;

90 
rmª_»s_t
 
	mrm_size
;

91 
rmª_ty³
 
	mrm_ty³
;

94 #ifdeà
_KERNEL


104 
	s»sourû
 {

105 
»sourû_i
 *
	m__r_i
;

106 
bus_¥aû_g_t
 
	mr_bu¡ag
;

107 
bus_¥aû_hªdË_t
 
	mr_bushªdË
;

110 
	g»sourû_i
;

111 
	g»sourû_m­
;

113 
TAILQ_HEAD
(
»sourû_h—d
, 
»sourû_i
);

115 
	srmª
 {

116 
»sourû_h—d
 
	mrm_li¡
;

117 
mtx
 *
	mrm_mtx
;

118 
TAILQ_ENTRY
(
rmª
è
	mrm_lšk
;

119 
rmª_»s_t
 
	mrm_¡¬t
;

120 
rmª_»s_t
 
	mrm_’d
;

121 
rmª_ty³
 
	mrm_ty³
;

122 cÚ¡ *
	mrm_desü
;

124 
TAILQ_HEAD
(
rmª_h—d
, 
rmª
);

126 
rmª_aùiv©e_»sourû
(
»sourû
 *
r
);

127 
rmª_adju¡_»sourû
(
»sourû
 *
r
, 
rmª_»s_t
 
¡¬t
,„mª_»s_ˆ
’d
);

128 
rmª_fœ¡_ä“_»giÚ
(
rmª
 *
rm
, 
rmª_»s_t
 *
¡¬t
,„mª_»s_ˆ*
’d
);

129 
bus_¥aû_hªdË_t
 
rmª_g‘_bushªdË
(
»sourû
 *);

130 
bus_¥aû_g_t
 
rmª_g‘_bu¡ag
(
»sourû
 *);

131 
rmª_»s_t
 
rmª_g‘_’d
(
»sourû
 *);

132 
deviû_t
 
rmª_g‘_deviû
(
»sourû
 *);

133 
u_št
 
rmª_g‘_æags
(
»sourû
 *);

134 
rmª_g‘_m­pšg
(
»sourû
 *, 
»sourû_m­
 *);

135 
rmª_g‘_rid
(
»sourû
 *);

136 
rmª_»s_t
 
rmª_g‘_size
(
»sourû
 *);

137 
rmª_»s_t
 
rmª_g‘_¡¬t
(
»sourû
 *);

138 *
rmª_g‘_vœtu®
(
»sourû
 *);

139 
rmª_d—ùiv©e_»sourû
(
»sourû
 *
r
);

140 
rmª_fši
(
rmª
 *
rm
);

141 
rmª_š™
(
rmª
 *
rm
);

142 
rmª_š™_äom_»sourû
(
rmª
 *
rm
, 
»sourû
 *
r
);

143 
rmª_Ï¡_ä“_»giÚ
(
rmª
 *
rm
, 
rmª_»s_t
 *
¡¬t
,„mª_»s_ˆ*
’d
);

144 
ušt32_t
 
rmª_make_®ignm’t_æags
(ušt32_ˆ
size
);

145 
rmª_mªage_»giÚ
(
rmª
 *
rm
, 
rmª_»s_t
 
¡¬t
,„mª_»s_ˆ
’d
);

146 
rmª_is_»giÚ_mªag”
(
»sourû
 *
r
, 
rmª
 *
rm
);

147 
rmª_»Ëa£_»sourû
(
»sourû
 *
r
);

148 
»sourû
 *
rmª_»£rve_»sourû
(
rmª
 *
rm
, 
rmª_»s_t
 
¡¬t
,

149 
rmª_»s_t
 
’d
,„mª_»s_ˆ
couÁ
,

150 
u_št
 
æags
, 
deviû_t
 
dev
);

151 
»sourû
 *
rmª_»£rve_»sourû_bound
(
rmª
 *
rm
, 
rmª_»s_t
 
¡¬t
,

152 
rmª_»s_t
 
’d
,„mª_»s_ˆ
couÁ
,„mª_»s_ˆ
bound
,

153 
u_št
 
æags
, 
deviû_t
 
dev
);

154 
rmª_£t_bushªdË
(
»sourû
 *
_r
, 
bus_¥aû_hªdË_t
 
_h
);

155 
rmª_£t_bu¡ag
(
»sourû
 *
_r
, 
bus_¥aû_g_t
 
_t
);

156 
rmª_£t_deviû
(
»sourû
 *
_r
, 
deviû_t
 
_dev
);

157 
rmª_£t_’d
(
»sourû
 *
_r
, 
rmª_»s_t
 
_’d
);

158 
rmª_£t_m­pšg
(
»sourû
 *, 
»sourû_m­
 *);

159 
rmª_£t_rid
(
»sourû
 *
_r
, 
_rid
);

160 
rmª_£t_¡¬t
(
»sourû
 *
_r
, 
rmª_»s_t
 
_¡¬t
);

161 
rmª_£t_vœtu®
(
»sourû
 *
_r
, *
_v
);

163 
rmª_h—d
„man_head;

	@/usr/include/sys/rwlock.h

31 #iâdeà
_SYS_RWLOCK_H_


32 
	#_SYS_RWLOCK_H_


	)

34 
	~<sys/_lock.h
>

35 
	~<sys/_rwlock.h
>

36 
	~<sys/lock_´ofže.h
>

37 
	~<sys/lock¡©.h
>

39 #ifdeà
_KERNEL


40 
	~<sys/pýu.h
>

41 
	~<machše/©omic.h
>

59 
	#RW_LOCK_READ
 0x01

	)

60 
	#RW_LOCK_READ_WAITERS
 0x02

	)

61 
	#RW_LOCK_WRITE_WAITERS
 0x04

	)

62 
	#RW_LOCK_WRITE_SPINNER
 0x08

	)

63 
	#RW_LOCK_WRITER_RECURSED
 0x10

	)

64 
	#RW_LOCK_FLAGMASK
 \

65 (
RW_LOCK_READ
 | 
RW_LOCK_READ_WAITERS
 | 
RW_LOCK_WRITE_WAITERS
 | \

66 
RW_LOCK_WRITE_SPINNER
 | 
RW_LOCK_WRITER_RECURSED
)

	)

67 
	#RW_LOCK_WAITERS
 (
RW_LOCK_READ_WAITERS
 | 
RW_LOCK_WRITE_WAITERS
)

	)

69 
	#RW_OWNER
(
x
è((xè& ~
RW_LOCK_FLAGMASK
)

	)

70 
	#RW_READERS_SHIFT
 5

	)

71 
	#RW_READERS
(
x
è(
	`RW_OWNER
((x)è>> 
RW_READERS_SHIFT
)

	)

72 
	#RW_READERS_LOCK
(
x
è((xè<< 
RW_READERS_SHIFT
 | 
RW_LOCK_READ
)

	)

73 
	#RW_ONE_READER
 (1 << 
RW_READERS_SHIFT
)

	)

75 
	#RW_UNLOCKED
 
	`RW_READERS_LOCK
(0)

	)

76 
	#RW_DESTROYED
 (
RW_LOCK_READ_WAITERS
 | 
RW_LOCK_WRITE_WAITERS
)

	)

78 #ifdeà
_KERNEL


80 
	#rw_»cur£
 
lock_objeù
.
lo_d©a


	)

82 
	#RW_READ_VALUE
(
x
è((x)->
rw_lock
)

	)

87 
	#_rw_wr™e_lock
(
rw
, 
tid
) \

88 
	`©omic_cmp£t_acq_±r
(&(
rw
)->
rw_lock
, 
RW_UNLOCKED
, (
tid
))

	)

90 
	#_rw_wr™e_lock_ãtch
(
rw
, 
vp
, 
tid
) \

91 
	`©omic_fcmp£t_acq_±r
(&(
rw
)->
rw_lock
, 
vp
, (
tid
))

	)

94 
	#_rw_wr™e_uÆock
(
rw
, 
tid
) \

95 
	`©omic_cmp£t_»l_±r
(&(
rw
)->
rw_lock
, (
tid
), 
RW_UNLOCKED
)

	)

97 
	#_rw_wr™e_uÆock_ãtch
(
rw
, 
tid
) \

98 
	`©omic_fcmp£t_»l_±r
(&(
rw
)->
rw_lock
, (
tid
), 
RW_UNLOCKED
)

	)

107 
	#__rw_wlock
(
rw
, 
tid
, 
fže
, 
lše
) do { \

108 
ušŒ_t
 
_tid
 = (ušŒ_t)(
tid
); \

109 
ušŒ_t
 
_v
 = 
RW_UNLOCKED
; \

111 ià(
	`__´ediù_çl£
(
	`LOCKSTAT_PROFILE_ENABLED
(
rw__acquœe
) || \

112 !
	`_rw_wr™e_lock_ãtch
((
rw
), &
_v
, 
_tid
))) \

113 
	`_rw_wlock_h¬d
((
rw
), 
_v
, (
fže
), (
lše
)); \

114 } 0)

	)

117 
	#__rw_wuÆock
(
rw
, 
tid
, 
fže
, 
lše
) do { \

118 
ušŒ_t
 
_v
 = (ušŒ_t)(
tid
); \

120 ià(
	`__´ediù_çl£
(
	`LOCKSTAT_PROFILE_ENABLED
(
rw__»Ëa£
) || \

121 !
	`_rw_wr™e_uÆock_ãtch
((
rw
), &
_v
))) \

122 
	`_rw_wuÆock_h¬d
((
rw
), 
_v
, (
fže
), (
lše
)); \

123 } 0)

	)

130 
_rw_š™_æags
(vÞ©ž
ušŒ_t
 *
c
, cÚ¡ *
Çme
, 
Ýts
);

131 
_rw_de¡roy
(vÞ©ž
ušŒ_t
 *
c
);

132 
rw_sysš™
(*
¬g
);

133 
rw_sysš™_æags
(*
¬g
);

134 
_rw_wowÃd
(cÚ¡ vÞ©ž
ušŒ_t
 *
c
);

135 
_rw_wlock_cook›
(vÞ©ž
ušŒ_t
 *
c
, cÚ¡ *
fže
, 
lše
);

136 
__rw_Œy_wlock_št
(
rwlock
 *
rw
 
LOCK_FILE_LINE_ARG_DEF
);

137 
__rw_Œy_wlock
(vÞ©ž
ušŒ_t
 *
c
, cÚ¡ *
fže
, 
lše
);

138 
_rw_wuÆock_cook›
(vÞ©ž
ušŒ_t
 *
c
, cÚ¡ *
fže
, 
lše
);

139 
__rw_¾ock_št
(
rwlock
 *
rw
 
LOCK_FILE_LINE_ARG_DEF
);

140 
__rw_¾ock
(vÞ©ž
ušŒ_t
 *
c
, cÚ¡ *
fže
, 
lše
);

141 
__rw_Œy_¾ock_št
(
rwlock
 *
rw
 
LOCK_FILE_LINE_ARG_DEF
);

142 
__rw_Œy_¾ock
(vÞ©ž
ušŒ_t
 *
c
, cÚ¡ *
fže
, 
lše
);

143 
_rw_ruÆock_cook›_št
(
rwlock
 *
rw
 
LOCK_FILE_LINE_ARG_DEF
);

144 
_rw_ruÆock_cook›
(vÞ©ž
ušŒ_t
 *
c
, cÚ¡ *
fže
, 
lše
);

145 
__rw_wlock_h¬d
(vÞ©ž
ušŒ_t
 *
c
, ušŒ_ˆ
v


146 
LOCK_FILE_LINE_ARG_DEF
);

147 
__rw_wuÆock_h¬d
(vÞ©ž
ušŒ_t
 *
c
, ušŒ_ˆ
v


148 
LOCK_FILE_LINE_ARG_DEF
);

149 
__rw_Œy_upg¿de_št
(
rwlock
 *
rw
 
LOCK_FILE_LINE_ARG_DEF
);

150 
__rw_Œy_upg¿de
(vÞ©ž
ušŒ_t
 *
c
, cÚ¡ *
fže
, 
lše
);

151 
__rw_downg¿de_št
(
rwlock
 *
rw
 
LOCK_FILE_LINE_ARG_DEF
);

152 
__rw_downg¿de
(vÞ©ž
ušŒ_t
 *
c
, cÚ¡ *
fže
, 
lše
);

153 #ià
defšed
(
INVARIANTS
è|| defšed(
INVARIANT_SUPPORT
)

154 
__rw_as£¹
(cÚ¡ vÞ©ž
ušŒ_t
 *
c
, 
wh©
, cÚ¡ *
fže
,

155 
lše
);

163 
	#rw_š™
(
rw
, 
n
) \

164 
	`_rw_š™_æags
(&(
rw
)->
rw_lock
, 
n
, 0)

	)

165 
	#rw_š™_æags
(
rw
, 
n
, 
o
) \

166 
	`_rw_š™_æags
(&(
rw
)->
rw_lock
, 
n
, 
o
)

	)

167 
	#rw_de¡roy
(
rw
) \

168 
	`_rw_de¡roy
(&(
rw
)->
rw_lock
)

	)

169 
	#rw_wowÃd
(
rw
) \

170 
	`_rw_wowÃd
(&(
rw
)->
rw_lock
)

	)

171 
	#_rw_wlock
(
rw
, 
f
, 
l
) \

172 
	`_rw_wlock_cook›
(&(
rw
)->
rw_lock
, 
f
, 
l
)

	)

173 
	#_rw_Œy_wlock
(
rw
, 
f
, 
l
) \

174 
	`__rw_Œy_wlock
(&(
rw
)->
rw_lock
, 
f
, 
l
)

	)

175 
	#_rw_wuÆock
(
rw
, 
f
, 
l
) \

176 
	`_rw_wuÆock_cook›
(&(
rw
)->
rw_lock
, 
f
, 
l
)

	)

177 
	#_rw_Œy_¾ock
(
rw
, 
f
, 
l
) \

178 
	`__rw_Œy_¾ock
(&(
rw
)->
rw_lock
, 
f
, 
l
)

	)

179 #ià
LOCK_DEBUG
 > 0

180 
	#_rw_¾ock
(
rw
, 
f
, 
l
) \

181 
	`__rw_¾ock
(&(
rw
)->
rw_lock
, 
f
, 
l
)

	)

182 
	#_rw_ruÆock
(
rw
, 
f
, 
l
) \

183 
	`_rw_ruÆock_cook›
(&(
rw
)->
rw_lock
, 
f
, 
l
)

	)

185 
	#_rw_¾ock
(
rw
, 
f
, 
l
) \

186 
	`__rw_¾ock_št
((
rwlock
 *)
rw
)

	)

187 
	#_rw_ruÆock
(
rw
, 
f
, 
l
) \

188 
	`_rw_ruÆock_cook›_št
((
rwlock
 *)
rw
)

	)

190 #ià
LOCK_DEBUG
 > 0

191 
	#_rw_wlock_h¬d
(
rw
, 
v
, 
f
, 
l
) \

192 
	`__rw_wlock_h¬d
(&(
rw
)->
rw_lock
, 
v
, 
f
, 
l
)

	)

193 
	#_rw_wuÆock_h¬d
(
rw
, 
v
, 
f
, 
l
) \

194 
	`__rw_wuÆock_h¬d
(&(
rw
)->
rw_lock
, 
v
, 
f
, 
l
)

	)

195 
	#_rw_Œy_upg¿de
(
rw
, 
f
, 
l
) \

196 
	`__rw_Œy_upg¿de
(&(
rw
)->
rw_lock
, 
f
, 
l
)

	)

197 
	#_rw_downg¿de
(
rw
, 
f
, 
l
) \

198 
	`__rw_downg¿de
(&(
rw
)->
rw_lock
, 
f
, 
l
)

	)

200 
	#_rw_wlock_h¬d
(
rw
, 
v
, 
f
, 
l
) \

201 
	`__rw_wlock_h¬d
(&(
rw
)->
rw_lock
, 
v
)

	)

202 
	#_rw_wuÆock_h¬d
(
rw
, 
v
, 
f
, 
l
) \

203 
	`__rw_wuÆock_h¬d
(&(
rw
)->
rw_lock
, 
v
)

	)

204 
	#_rw_Œy_upg¿de
(
rw
, 
f
, 
l
) \

205 
	`__rw_Œy_upg¿de_št
(
rw
)

	)

206 
	#_rw_downg¿de
(
rw
, 
f
, 
l
) \

207 
	`__rw_downg¿de_št
(
rw
)

	)

209 #ià
defšed
(
INVARIANTS
è|| defšed(
INVARIANT_SUPPORT
)

210 
	#_rw_as£¹
(
rw
, 
w
, 
f
, 
l
) \

211 
	`__rw_as£¹
(&(
rw
)->
rw_lock
, 
w
, 
f
, 
l
)

	)

219 #iâdeà
LOCK_DEBUG


220 #”rÜ 
LOCK_DEBUG
 
nÙ
 
defšed
, 
šþude
 <
sys
/
lock
.
h
> 
befÜe
 <sys/
rwlock
.h>

222 #ià
LOCK_DEBUG
 > 0 || 
defšed
(
RWLOCK_NOINLINE
)

223 
	#rw_wlock
(
rw
è
	`_rw_wlock
(Ôw), 
LOCK_FILE
, 
LOCK_LINE
)

	)

224 
	#rw_wuÆock
(
rw
è
	`_rw_wuÆock
(Ôw), 
LOCK_FILE
, 
LOCK_LINE
)

	)

226 
	#rw_wlock
(
rw
) \

227 
	`__rw_wlock
((
rw
), 
cu¹h»ad
, 
LOCK_FILE
, 
LOCK_LINE
)

	)

228 
	#rw_wuÆock
(
rw
) \

229 
	`__rw_wuÆock
((
rw
), 
cu¹h»ad
, 
LOCK_FILE
, 
LOCK_LINE
)

	)

231 
	#rw_¾ock
(
rw
è
	`_rw_¾ock
(Ôw), 
LOCK_FILE
, 
LOCK_LINE
)

	)

232 
	#rw_ruÆock
(
rw
è
	`_rw_ruÆock
(Ôw), 
LOCK_FILE
, 
LOCK_LINE
)

	)

233 
	#rw_Œy_¾ock
(
rw
è
	`_rw_Œy_¾ock
(Ôw), 
LOCK_FILE
, 
LOCK_LINE
)

	)

234 
	#rw_Œy_upg¿de
(
rw
è
	`_rw_Œy_upg¿de
(Ôw), 
LOCK_FILE
, 
LOCK_LINE
)

	)

235 
	#rw_Œy_wlock
(
rw
è
	`_rw_Œy_wlock
(Ôw), 
LOCK_FILE
, 
LOCK_LINE
)

	)

236 
	#rw_downg¿de
(
rw
è
	`_rw_downg¿de
(Ôw), 
LOCK_FILE
, 
LOCK_LINE
)

	)

237 
	#rw_uÆock
(
rw
) do { \

238 ià(
	`rw_wowÃd
(
rw
)) \

239 
	`rw_wuÆock
(
rw
); \

241 
	`rw_ruÆock
(
rw
); \

242 } 0)

	)

243 
	#rw_¦“p
(
chª
, 
rw
, 
´i
, 
wmesg
, 
timo
) \

244 
	`_¦“p
((
chª
), &(
rw
)->
lock_objeù
, (
´i
), (
wmesg
), \

245 
tick_sbt
 * (
timo
), 0, 
C_HARDCLOCK
)

	)

247 
	#rw_š™Ÿlized
(
rw
è
	`lock_š™Ÿlized
(&Ôw)->
lock_objeù
)

	)

249 
	srw_¬gs
 {

250 *
	m¿_rw
;

251 cÚ¡ *
	m¿_desc
;

252 
	m¿_æags
;

255 
	#RW_SYSINIT_FLAGS
(
Çme
, 
rw
, 
desc
, 
æags
) \

256 
rw_¬gs
 
Çme
##
_¬gs
 = { \

257 (
rw
), \

258 (
desc
), \

259 (
æags
), \

261 
	`SYSINIT
(
Çme
##
_rw_sysš™
, 
SI_SUB_LOCK
, 
SI_ORDER_MIDDLE
, \

262 
rw_sysš™
, &
Çme
##
_¬gs
); \

263 
	`SYSUNINIT
(
Çme
##
_rw_sysunš™
, 
SI_SUB_LOCK
, 
SI_ORDER_MIDDLE
, \

264 
_rw_de¡roy
, 
	`__DEVOLATILE
(*, &(
rw
)->
rw_lock
))

	)

266 
	#RW_SYSINIT
(
Çme
, 
rw
, 
desc
è
	`RW_SYSINIT_FLAGS
Òame,„w, desc, 0)

	)

271 
	#RW_DUPOK
 0x01

	)

272 
	#RW_NOPROFILE
 0x02

	)

273 
	#RW_NOWITNESS
 0x04

	)

274 
	#RW_QUIET
 0x08

	)

275 
	#RW_RECURSE
 0x10

	)

276 
	#RW_NEW
 0x20

	)

285 #ià
defšed
(
INVARIANTS
è|| defšed(
INVARIANT_SUPPORT
)

286 
	#RA_LOCKED
 
LA_LOCKED


	)

287 
	#RA_RLOCKED
 
LA_SLOCKED


	)

288 
	#RA_WLOCKED
 
LA_XLOCKED


	)

289 
	#RA_UNLOCKED
 
LA_UNLOCKED


	)

290 
	#RA_RECURSED
 
LA_RECURSED


	)

291 
	#RA_NOTRECURSED
 
LA_NOTRECURSED


	)

294 #ifdeà
INVARIANTS


295 
	#rw_as£¹
(
rw
, 
wh©
è
	`_rw_as£¹
(Ôw), (wh©), 
LOCK_FILE
, 
LOCK_LINE
)

	)

297 
	#rw_as£¹
(
rw
, 
wh©
)

	)

	@/usr/include/sys/sbuf.h

33 #iâdeà
_SYS_SBUF_H_


34 
	#_SYS_SBUF_H_


	)

36 
	~<sys/_ty³s.h
>

38 
	gsbuf
;

39 (
	tsbuf_d¿š_func
)(*, const *, );

44 
	ssbuf
 {

45 *
s_buf
;

46 
sbuf_d¿š_func
 *
s_d¿š_func
;

47 *
s_d¿š_¬g
;

48 
s_”rÜ
;

49 
ssize_t
 
s_size
;

50 
ssize_t
 
s_Ën
;

51 
	#SBUF_FIXEDLEN
 0x00000000

	)

52 
	#SBUF_AUTOEXTEND
 0x00000001

	)

53 
	#SBUF_INCLUDENUL
 0x00000002

	)

54 
	#SBUF_DRAINTOEOR
 0x00000004

	)

55 
	#SBUF_USRFLAGMSK
 0x0000fffà

	)

56 
	#SBUF_DYNAMIC
 0x00010000

	)

57 
	#SBUF_FINISHED
 0x00020000

	)

58 
	#SBUF_DYNSTRUCT
 0x00080000

	)

59 
	#SBUF_INSECTION
 0x00100000

	)

60 
s_æags
;

61 
ssize_t
 
s_£ù_Ën
;

62 
ssize_t
 
s_»c_off
;

65 #iâdeà
HD_COLUMN_MASK


66 
	#HD_COLUMN_MASK
 0xff

	)

67 
	#HD_DELIM_MASK
 0xff00

	)

68 
	#HD_OMIT_COUNT
 (1 << 16)

	)

69 
	#HD_OMIT_HEX
 (1 << 17)

	)

70 
	#HD_OMIT_CHARS
 (1 << 18)

	)

73 
__BEGIN_DECLS


77 
sbuf
 *
	`sbuf_Ãw
(sbuf *, *, , );

78 
	#sbuf_Ãw_auto
() \

79 
	`sbuf_Ãw
(
NULL
, NULL, 0, 
SBUF_AUTOEXTEND
)

	)

80 
	`sbuf_g‘_æags
(
sbuf
 *);

81 
	`sbuf_þ—r_æags
(
sbuf
 *, );

82 
	`sbuf_£t_æags
(
sbuf
 *, );

83 
	`sbuf_þ—r
(
sbuf
 *);

84 
	`sbuf_£os
(
sbuf
 *, 
ssize_t
);

85 
	`sbuf_bÿt
(
sbuf
 *, cÚ¡ *, 
size_t
);

86 
	`sbuf_býy
(
sbuf
 *, cÚ¡ *, 
size_t
);

87 
	`sbuf_ÿt
(
sbuf
 *, const *);

88 
	`sbuf_ýy
(
sbuf
 *, const *);

89 
	$sbuf_´štf
(
sbuf
 *, const *, ...)

90 
	`__´štæike
(2, 3);

91 
	$sbuf_v´štf
(
sbuf
 *, cÚ¡ *, 
__va_li¡
)

92 
	`__´štæike
(2, 0);

93 
	`sbuf_putc
(
sbuf
 *, );

94 
	`sbuf_£t_d¿š
(
sbuf
 *, 
sbuf_d¿š_func
 *, *);

95 
	`sbuf_Œim
(
sbuf
 *);

96 
	`sbuf_”rÜ
(cÚ¡ 
sbuf
 *);

97 
	`sbuf_fšish
(
sbuf
 *);

98 *
	`sbuf_d©a
(
sbuf
 *);

99 
ssize_t
 
	`sbuf_Ën
(
sbuf
 *);

100 
	`sbuf_dÚe
(cÚ¡ 
sbuf
 *);

101 
	`sbuf_d–‘e
(
sbuf
 *);

102 
	`sbuf_¡¬t_£ùiÚ
(
sbuf
 *, 
ssize_t
 *);

103 
ssize_t
 
	`sbuf_’d_£ùiÚ
(
sbuf
 *, ssize_t, 
size_t
, );

104 
	`sbuf_hexdump
(
sbuf
 *, const *, , const *,

106 
	`sbuf_putbuf
(
sbuf
 *);

108 #ifdeà
_KERNEL


109 
uio
;

110 
sbuf
 *
	`sbuf_uiÚew
(sbuà*, 
uio
 *, *);

111 
	`sbuf_bcÝyš
(
sbuf
 *, cÚ¡ *, 
size_t
);

112 
	`sbuf_cÝyš
(
sbuf
 *, cÚ¡ *, 
size_t
);

114 
__END_DECLS


	@/usr/include/sys/sched.h

64 #iâdeà
_SCHED_H_


65 
	#_SCHED_H_


	)

67 #ifdeà
_KERNEL


77 
sched_lßd
();

78 
sched_¼_š‹rv®
();

79 
sched_ruÂabË
();

84 
sched_ex™
(
´oc
 *
p
, 
th»ad
 *
chždtd
);

85 
sched_fÜk
(
th»ad
 *
td
, th»ad *
chždtd
);

86 
sched_fÜk_ex™
(
th»ad
 *
td
);

87 
sched_þass
(
th»ad
 *
td
, 
þass
);

88 
sched_niû
(
´oc
 *
p
, 
niû
);

94 
sched_ex™_th»ad
(
th»ad
 *
td
, th»ad *
chžd
);

95 
u_št
 
sched_e¡ýu
(
th»ad
 *
td
);

96 
sched_fÜk_th»ad
(
th»ad
 *
td
, th»ad *
chžd
);

97 
sched_Ënd_´io
(
th»ad
 *
td
, 
u_ch¬
 
´io
);

98 
sched_Ënd_u£r_´io
(
th»ad
 *
td
, 
u_ch¬
 
´i
);

99 
fix±_t
 
sched_pùýu
(
th»ad
 *
td
);

100 
sched_´io
(
th»ad
 *
td
, 
u_ch¬
 
´io
);

101 
sched_¦“p
(
th»ad
 *
td
, 
´io
);

102 
sched_sw™ch
(
th»ad
 *
td
, th»ad *
Ãwtd
, 
æags
);

103 
sched_throw
(
th»ad
 *
td
);

104 
sched_uÆ’d_´io
(
th»ad
 *
td
, 
u_ch¬
 
´io
);

105 
sched_u£r_´io
(
th»ad
 *
td
, 
u_ch¬
 
´io
);

106 
sched_u£¼‘_¦ow·th
(
th»ad
 *
td
);

107 
sched_wakeup
(
th»ad
 *
td
);

108 #ifdef 
RACCT


109 #ifdef 
SCHED_4BSD


110 
fix±_t
 
sched_pùýu_d–
(
th»ad
 *
td
);

114 
šlše
 

115 
	$sched_u£¼‘
(
th»ad
 *
td
)

127 
	`KASSERT
((
td
->
td_æags
 & 
TDF_BORROWING
) == 0,

129 ià(
	`__´ediù_çl£
(
td
->
td_´iÜ™y
 !ðtd->
td_u£r_´i
))

130 
	`sched_u£¼‘_¦ow·th
(
td
);

131 
	}
}

136 
sched_add
(
th»ad
 *
td
, 
æags
);

137 
sched_þock
(
th»ad
 *
td
);

138 
sched_´“m±
(
th»ad
 *
td
);

139 
sched_»m
(
th»ad
 *
td
);

140 
sched_»lšquish
(
th»ad
 *
td
);

141 
th»ad
 *
sched_choo£
();

142 
sched_idËtd
(*);

148 
sched_bšd
(
th»ad
 *
td
, 
ýu
);

149 
__šlše
 
sched_pš
();

150 
sched_unbšd
(
th»ad
 *
td
);

151 
__šlše
 
sched_uÅš
();

152 
sched_is_bound
(
th»ad
 *
td
);

153 
sched_affš™y
(
th»ad
 *
td
);

159 
sched_sizeof_´oc
();

160 
sched_sizeof_th»ad
();

166 *
sched_tdÇme
(
th»ad
 *
td
);

167 #ifdeà
KTR


168 
sched_þ—r_tdÇme
(
th»ad
 *
td
);

171 
__šlše
 

172 
	$sched_pš
()

174 
cu¹h»ad
->
td_pšÃd
++;

175 
	`__compž”_memb¬
();

176 
	}
}

178 
__šlše
 

179 
	$sched_uÅš
()

181 
	`__compž”_memb¬
();

182 
cu¹h»ad
->
td_pšÃd
--;

183 
	}
}

186 
	#SRQ_BORING
 0x0000

	)

187 
	#SRQ_YIELDING
 0x0001

	)

188 
	#SRQ_OURSELF
 0x0002

	)

189 
	#SRQ_INTR
 0x0004

	)

190 
	#SRQ_PREEMPTED
 0x0008

	)

191 
	#SRQ_BORROWING
 0x0010

	)

194 #ifdeà
SCHED_STATS


195 
DPCPU_DECLARE
(, 
sched_sw™ch_¡©s
[
SWT_COUNT
]);

197 
	#SCHED_STAT_DEFINE_VAR
(
Çme
, 
±r
, 
desü
) \

198 
Çme
 ## 
	`_add_´oc
(*
dummy
 
__unu£d
) \

201 
	`SYSCTL_ADD_PROC
(
NULL
, \

202 
	`SYSCTL_STATIC_CHILDREN
(
_k”n_sched_¡©s
), 
OID_AUTO
, \

203 #Çme, 
CTLTYPE_LONG
|
CTLFLAG_RD
|
CTLFLAG_MPSAFE
, \

204 
±r
, 0, 
sysùl_dpýu_lÚg
, "LU", 
desü
); \

206 
	`SYSINIT
(
Çme
, 
SI_SUB_LAST
, 
SI_ORDER_MIDDLE
,‚am## 
_add_´oc
, 
NULL
);

	)

208 
	#SCHED_STAT_DEFINE
(
Çme
, 
desü
) \

209 
	`DPCPU_DEFINE
(, 
Çme
); \

210 
	`SCHED_STAT_DEFINE_VAR
(
Çme
, &
	`DPCPU_NAME
Òame), 
desü
)

	)

215 
	#SCHED_STAT_INC
(
v¬
è
	`DPCPU_GET
(v¬)++;

	)

217 
	#SCHED_STAT_DEFINE_VAR
(
Çme
, 
desü
, 
±r
)

	)

218 
	#SCHED_STAT_DEFINE
(
Çme
, 
desü
)

	)

219 
	#SCHED_STAT_INC
(
v¬
è()0

	)

225 
schedš™
();

233 
	#SCHED_FIFO
 1

	)

234 
	#SCHED_OTHER
 2

	)

235 
	#SCHED_RR
 3

	)

237 
	ssched_·¿m
 {

238 
	msched_´iÜ™y
;

244 #iâdeà
_KERNEL


245 
	~<sys/cdefs.h
>

246 
	~<sys/_time¥ec.h
>

247 
	~<sys/_ty³s.h
>

249 #iâdeà
_PID_T_DECLARED


250 
__pid_t
 
	tpid_t
;

251 
	#_PID_T_DECLARED


	)

254 
__BEGIN_DECLS


255 
sched_g‘_´iÜ™y_max
();

256 
sched_g‘_´iÜ™y_mš
();

257 
sched_g‘·¿m
(
pid_t
, 
sched_·¿m
 *);

258 
sched_g‘scheduËr
(
pid_t
);

259 
sched_¼_g‘_š‹rv®
(
pid_t
, 
time¥ec
 *);

260 
sched_£¬am
(
pid_t
, cÚ¡ 
sched_·¿m
 *);

261 
sched_£tscheduËr
(
pid_t
, , cÚ¡ 
sched_·¿m
 *);

262 
sched_y›ld
();

263 
	g__END_DECLS


	@/usr/include/sys/sdt.h

33 #iâdeà
_SYS_SDT_H


34 
	#_SYS_SDT_H


	)

36 #iâdeà
_KERNEL


38 
	#_DTRACE_VERSION
 1

	)

40 
	#DTRACE_PROBE
(
´ov
, 
Çme
) { \

41 
__dŒaû_
##
´ov
##
___
##
	`Çme
(); \

42 
__dŒaû_
##
´ov
##
___
##
	`Çme
(); \

43 }

	)

45 
	#DTRACE_PROBE1
(
´ov
, 
Çme
, 
¬g1
) { \

46 
__dŒaû_
##
´ov
##
___
##
	`Çme
(); \

47 
__dŒaû_
##
´ov
##
___
##
	`Çme
(()
¬g1
); \

48 }

	)

50 
	#DTRACE_PROBE2
(
´ov
, 
Çme
, 
¬g1
, 
¬g2
) { \

51 
__dŒaû_
##
´ov
##
___
##
	`Çme
(, \

53 
__dŒaû_
##
´ov
##
___
##
	`Çme
(()
¬g1
, \

54 ()
¬g2
); \

55 }

	)

57 
	#DTRACE_PROBE3
(
´ov
, 
Çme
, 
¬g1
, 
¬g2
, 
¬g3
) { \

58 
__dŒaû_
##
´ov
##
___
##
	`Çme
(, \

60 
__dŒaû_
##
´ov
##
___
##
	`Çme
(()
¬g1
, \

61 ()
¬g2
, ()
¬g3
); \

62 }

	)

64 
	#DTRACE_PROBE4
(
´ov
, 
Çme
, 
¬g1
, 
¬g2
, 
¬g3
, 
¬g4
) { \

65 
__dŒaû_
##
´ov
##
___
##
	`Çme
(, \

67 
__dŒaû_
##
´ov
##
___
##
	`Çme
(()
¬g1
, \

68 ()
¬g2
, ()
¬g3
, \

69 ()
¬g4
); \

70 }

	)

72 
	#DTRACE_PROBE5
(
´ov
, 
Çme
, 
¬g1
, 
¬g2
, 
¬g3
, 
¬g4
, 
¬g5
) { \

73 
__dŒaû_
##
´ov
##
___
##
	`Çme
(, \

75 
__dŒaû_
##
´ov
##
___
##
	`Çme
(()
¬g1
, \

76 ()
¬g2
, ()
¬g3
, \

77 ()
¬g4
, ()
¬g5
); \

78 }

	)

82 
	~<sys/cdefs.h
>

83 
	~<sys/lšk”_£t.h
>

85 vÞ©ž
boÞ
 
sdt_´obes_’abËd
;

87 #iâdeà
KDTRACE_HOOKS


89 
	#SDT_PROVIDER_DEFINE
(
´ov
)

	)

90 
	#SDT_PROVIDER_DECLARE
(
´ov
)

	)

91 
	#SDT_PROBE_DEFINE
(
´ov
, 
mod
, 
func
, 
Çme
)

	)

92 
	#SDT_PROBE_DECLARE
(
´ov
, 
mod
, 
func
, 
Çme
)

	)

93 
	#SDT_PROBE
(
´ov
, 
mod
, 
func
, 
Çme
, 
¬g0
, 
¬g1
, 
¬g2
, 
¬g3
, 
¬g4
)

	)

94 
	#SDT_PROBE_ARGTYPE
(
´ov
, 
mod
, 
func
, 
Çme
, 
num
, 
ty³
, 
xty³
)

	)

96 
	#SDT_PROBE_DEFINE0
(
´ov
, 
mod
, 
func
, 
Çme
)

	)

97 
	#SDT_PROBE_DEFINE1
(
´ov
, 
mod
, 
func
, 
Çme
, 
¬g0
)

	)

98 
	#SDT_PROBE_DEFINE2
(
´ov
, 
mod
, 
func
, 
Çme
, 
¬g0
, 
¬g1
)

	)

99 
	#SDT_PROBE_DEFINE3
(
´ov
, 
mod
, 
func
, 
Çme
, 
¬g0
, 
¬g1
, 
¬g2
)

	)

100 
	#SDT_PROBE_DEFINE4
(
´ov
, 
mod
, 
func
, 
Çme
, 
¬g0
, 
¬g1
, 
¬g2
, 
¬g3
)

	)

101 
	#SDT_PROBE_DEFINE5
(
´ov
, 
mod
, 
func
, 
Çme
, 
¬g0
, 
¬g1
, 
¬g2
, 
¬g3
, 
¬g4
)

	)

102 
	#SDT_PROBE_DEFINE6
(
´ov
, 
mod
, 
func
, 
Çme
, 
¬g0
, 
¬g1
, 
¬g2
, \

103 
¬g3
, 
¬g4
, 
¬g5
)

	)

104 
	#SDT_PROBE_DEFINE7
(
´ov
, 
mod
, 
func
, 
Çme
, 
¬g0
, 
¬g1
, 
¬g2
, \

105 
¬g3
, 
¬g4
, 
¬g5
, 
¬g6
)

	)

107 
	#SDT_PROBE0
(
´ov
, 
mod
, 
func
, 
Çme
)

	)

108 
	#SDT_PROBE1
(
´ov
, 
mod
, 
func
, 
Çme
, 
¬g0
)

	)

109 
	#SDT_PROBE2
(
´ov
, 
mod
, 
func
, 
Çme
, 
¬g0
, 
¬g1
)

	)

110 
	#SDT_PROBE3
(
´ov
, 
mod
, 
func
, 
Çme
, 
¬g0
, 
¬g1
, 
¬g2
)

	)

111 
	#SDT_PROBE4
(
´ov
, 
mod
, 
func
, 
Çme
, 
¬g0
, 
¬g1
, 
¬g2
, 
¬g3
)

	)

112 
	#SDT_PROBE5
(
´ov
, 
mod
, 
func
, 
Çme
, 
¬g0
, 
¬g1
, 
¬g2
, 
¬g3
, 
¬g4
)

	)

113 
	#SDT_PROBE6
(
´ov
, 
mod
, 
func
, 
Çme
, 
¬g0
, 
¬g1
, 
¬g2
, 
¬g3
, 
¬g4
, 
¬g5
)

	)

114 
	#SDT_PROBE7
(
´ov
, 
mod
, 
func
, 
Çme
, 
¬g0
, 
¬g1
, 
¬g2
, 
¬g3
, 
¬g4
, 
¬g5
, \

115 
¬g6
)

	)

117 
	#SDT_PROBE_DEFINE0_XLATE
(
´ov
, 
mod
, 
func
, 
Çme
)

	)

118 
	#SDT_PROBE_DEFINE1_XLATE
(
´ov
, 
mod
, 
func
, 
Çme
, 
¬g0
, 
x¬g0
)

	)

119 
	#SDT_PROBE_DEFINE2_XLATE
(
´ov
, 
mod
, 
func
, 
Çme
, 
¬g0
, 
x¬g0
, \

120 
¬g1
, 
x¬g1
)

	)

121 
	#SDT_PROBE_DEFINE3_XLATE
(
´ov
, 
mod
, 
func
, 
Çme
, 
¬g0
, 
x¬g0
, \

122 
¬g1
, 
x¬g1
, 
¬g2
, 
x¬g2
)

	)

123 
	#SDT_PROBE_DEFINE4_XLATE
(
´ov
, 
mod
, 
func
, 
Çme
, 
¬g0
, 
x¬g0
, \

124 
¬g1
, 
x¬g1
, 
¬g2
, 
x¬g2
, 
¬g3
, 
x¬g3
)

	)

125 
	#SDT_PROBE_DEFINE5_XLATE
(
´ov
, 
mod
, 
func
, 
Çme
, 
¬g0
, 
x¬g0
, \

126 
¬g1
, 
x¬g1
, 
¬g2
, 
x¬g2
, 
¬g3
, 
x¬g3
, 
¬g4
, 
x¬g4
)

	)

127 
	#SDT_PROBE_DEFINE6_XLATE
(
´ov
, 
mod
, 
func
, 
Çme
, 
¬g0
, 
x¬g0
, \

128 
¬g1
, 
x¬g1
, 
¬g2
, 
x¬g2
, 
¬g3
, 
x¬g3
, 
¬g4
, 
x¬g4
, 
¬g5
, 
x¬g5
)

	)

129 
	#SDT_PROBE_DEFINE7_XLATE
(
´ov
, 
mod
, 
func
, 
Çme
, 
¬g0
, 
x¬g0
, \

130 
¬g1
, 
x¬g1
, 
¬g2
, 
x¬g2
, 
¬g3
, 
x¬g3
, 
¬g4
, 
x¬g4
, 
¬g5
, 
x¬g5
, 
¬g6
, \

131 
x¬g6
)

	)

133 
	#DTRACE_PROBE
(
Çme
)

	)

134 
	#DTRACE_PROBE1
(
Çme
, 
ty³0
, 
¬g0
)

	)

135 
	#DTRACE_PROBE2
(
Çme
, 
ty³0
, 
¬g0
, 
ty³1
, 
¬g1
)

	)

136 
	#DTRACE_PROBE3
(
Çme
, 
ty³0
, 
¬g0
, 
ty³1
, 
¬g1
, 
ty³2
, 
¬g2
)

	)

137 
	#DTRACE_PROBE4
(
Çme
, 
ty³0
, 
¬g0
, 
ty³1
, 
¬g1
, 
ty³2
, 
¬g2
, 
ty³3
, 
¬g3
)

	)

138 
	#DTRACE_PROBE5
(
Çme
, 
ty³0
, 
¬g0
, 
ty³1
, 
¬g1
, 
ty³2
, 
¬g2
, 
ty³3
, 
¬g3
,\

139 
ty³4
, 
¬g4
)

	)

143 
SET_DECLARE
(
sdt_´ovid”s_£t
, 
sdt_´ovid”
);

144 
SET_DECLARE
(
sdt_´obes_£t
, 
sdt_´obe
);

145 
SET_DECLARE
(
sdt_¬gty³s_£t
, 
sdt_¬gty³
);

147 
	#SDT_PROVIDER_DEFINE
(
´ov
) \

148 
sdt_´ovid”
 
sdt_´ovid”_
##
´ov
[1] = { \

149 { #´ov, { 
NULL
, NULL }, 0, 0 } \

151 
	`DATA_SET
(
sdt_´ovid”s_£t
, 
sdt_´ovid”_
##
´ov
);

	)

153 
	#SDT_PROVIDER_DECLARE
(
´ov
) \

154 
sdt_´ovid”
 
sdt_´ovid”_
##
´ov
[1]

	)

156 
	#SDT_PROBE_DEFINE
(
´ov
, 
mod
, 
func
, 
Çme
) \

157 
sdt_´obe
 
sdt_
##
´ov
##
_
##
mod
##_##
func
##_##
Çme
[1] = { \

158 { (
sdt_´obe
), 
sdt_´ovid”_
##
´ov
, \

159 { 
NULL
, NULL }, { NULL, NULL }, #mod, #func, #name, 0, 0, \

160 
NULL
 } \

162 
	`DATA_SET
(
sdt_´obes_£t
, 
sdt_
##
´ov
##
_
##
mod
##_##
func
##_##
Çme
);

	)

164 
	#SDT_PROBE_DECLARE
(
´ov
, 
mod
, 
func
, 
Çme
) \

165 
sdt_´obe
 
sdt_
##
´ov
##
_
##
mod
##_##
func
##_##
Çme
[1]

	)

167 
	#SDT_PROBE
(
´ov
, 
mod
, 
func
, 
Çme
, 
¬g0
, 
¬g1
, 
¬g2
, 
¬g3
, 
¬g4
) do { \

168 ià(
	`__´ediù_çl£
(
sdt_´obes_’abËd
)) { \

169 ià(
	`__´ediù_çl£
(
sdt_
##
´ov
##
_
##
mod
##_##
func
##_##
Çme
->
id
)) \

170 (*
sdt_´obe_func
)(
sdt_
##
´ov
##
_
##
mod
##_##
func
##_##
Çme
->
id
, \

171 (
ušŒ_t
è
¬g0
, (ušŒ_tè
¬g1
, (ušŒ_tè
¬g2
, \

172 (
ušŒ_t
è
¬g3
, (ušŒ_tè
¬g4
); \

174 } 0)

	)

176 
	#SDT_PROBE_ARGTYPE
(
´ov
, 
mod
, 
func
, 
Çme
, 
num
, 
ty³
, 
xty³
) \

177 
sdt_¬gty³
 
sd_
##
´ov
##
_
##
mod
##_##
func
##_##
Çme
##
num
[1] \

178 ð{ { 
num
, 
ty³
, 
xty³
, { 
NULL
, NULL }, \

179 
sdt_
##
´ov
##
_
##
mod
##_##
func
##_##
Çme
 } \

181 
	`DATA_SET
(
sdt_¬gty³s_£t
, 
sd_
##
´ov
##
_
##
mod
##_##
func
##_##
Çme
##
num
);

	)

183 
	#SDT_PROBE_DEFINE0
(
´ov
, 
mod
, 
func
, 
Çme
) \

184 
	`SDT_PROBE_DEFINE
(
´ov
, 
mod
, 
func
, 
Çme
)

	)

186 
	#SDT_PROBE_DEFINE1
(
´ov
, 
mod
, 
func
, 
Çme
, 
¬g0
) \

187 
	`SDT_PROBE_DEFINE
(
´ov
, 
mod
, 
func
, 
Çme
); \

188 
	`SDT_PROBE_ARGTYPE
(
´ov
, 
mod
, 
func
, 
Çme
, 0, 
¬g0
, 
NULL
)

	)

190 
	#SDT_PROBE_DEFINE2
(
´ov
, 
mod
, 
func
, 
Çme
, 
¬g0
, 
¬g1
) \

191 
	`SDT_PROBE_DEFINE
(
´ov
, 
mod
, 
func
, 
Çme
); \

192 
	`SDT_PROBE_ARGTYPE
(
´ov
, 
mod
, 
func
, 
Çme
, 0, 
¬g0
, 
NULL
); \

193 
	`SDT_PROBE_ARGTYPE
(
´ov
, 
mod
, 
func
, 
Çme
, 1, 
¬g1
, 
NULL
)

	)

195 
	#SDT_PROBE_DEFINE3
(
´ov
, 
mod
, 
func
, 
Çme
, 
¬g0
, 
¬g1
, 
¬g2
)\

196 
	`SDT_PROBE_DEFINE
(
´ov
, 
mod
, 
func
, 
Çme
); \

197 
	`SDT_PROBE_ARGTYPE
(
´ov
, 
mod
, 
func
, 
Çme
, 0, 
¬g0
, 
NULL
); \

198 
	`SDT_PROBE_ARGTYPE
(
´ov
, 
mod
, 
func
, 
Çme
, 1, 
¬g1
, 
NULL
); \

199 
	`SDT_PROBE_ARGTYPE
(
´ov
, 
mod
, 
func
, 
Çme
, 2, 
¬g2
, 
NULL
)

	)

201 
	#SDT_PROBE_DEFINE4
(
´ov
, 
mod
, 
func
, 
Çme
, 
¬g0
, 
¬g1
, 
¬g2
, 
¬g3
) \

202 
	`SDT_PROBE_DEFINE
(
´ov
, 
mod
, 
func
, 
Çme
); \

203 
	`SDT_PROBE_ARGTYPE
(
´ov
, 
mod
, 
func
, 
Çme
, 0, 
¬g0
, 
NULL
); \

204 
	`SDT_PROBE_ARGTYPE
(
´ov
, 
mod
, 
func
, 
Çme
, 1, 
¬g1
, 
NULL
); \

205 
	`SDT_PROBE_ARGTYPE
(
´ov
, 
mod
, 
func
, 
Çme
, 2, 
¬g2
, 
NULL
); \

206 
	`SDT_PROBE_ARGTYPE
(
´ov
, 
mod
, 
func
, 
Çme
, 3, 
¬g3
, 
NULL
)

	)

208 
	#SDT_PROBE_DEFINE5
(
´ov
, 
mod
, 
func
, 
Çme
, 
¬g0
, 
¬g1
, 
¬g2
, 
¬g3
, 
¬g4
) \

209 
	`SDT_PROBE_DEFINE
(
´ov
, 
mod
, 
func
, 
Çme
); \

210 
	`SDT_PROBE_ARGTYPE
(
´ov
, 
mod
, 
func
, 
Çme
, 0, 
¬g0
, 
NULL
); \

211 
	`SDT_PROBE_ARGTYPE
(
´ov
, 
mod
, 
func
, 
Çme
, 1, 
¬g1
, 
NULL
); \

212 
	`SDT_PROBE_ARGTYPE
(
´ov
, 
mod
, 
func
, 
Çme
, 2, 
¬g2
, 
NULL
); \

213 
	`SDT_PROBE_ARGTYPE
(
´ov
, 
mod
, 
func
, 
Çme
, 3, 
¬g3
, 
NULL
); \

214 
	`SDT_PROBE_ARGTYPE
(
´ov
, 
mod
, 
func
, 
Çme
, 4, 
¬g4
, 
NULL
)

	)

216 
	#SDT_PROBE_DEFINE6
(
´ov
, 
mod
, 
func
, 
Çme
, 
¬g0
, 
¬g1
, 
¬g2
, 
¬g3
,\

217 
¬g4
, 
¬g5
) \

218 
	`SDT_PROBE_DEFINE
(
´ov
, 
mod
, 
func
, 
Çme
); \

219 
	`SDT_PROBE_ARGTYPE
(
´ov
, 
mod
, 
func
, 
Çme
, 0, 
¬g0
, 
NULL
); \

220 
	`SDT_PROBE_ARGTYPE
(
´ov
, 
mod
, 
func
, 
Çme
, 1, 
¬g1
, 
NULL
); \

221 
	`SDT_PROBE_ARGTYPE
(
´ov
, 
mod
, 
func
, 
Çme
, 2, 
¬g2
, 
NULL
); \

222 
	`SDT_PROBE_ARGTYPE
(
´ov
, 
mod
, 
func
, 
Çme
, 3, 
¬g3
, 
NULL
); \

223 
	`SDT_PROBE_ARGTYPE
(
´ov
, 
mod
, 
func
, 
Çme
, 4, 
¬g4
, 
NULL
); \

224 
	`SDT_PROBE_ARGTYPE
(
´ov
, 
mod
, 
func
, 
Çme
, 5, 
¬g5
, 
NULL
)

	)

226 
	#SDT_PROBE_DEFINE7
(
´ov
, 
mod
, 
func
, 
Çme
, 
¬g0
, 
¬g1
, 
¬g2
, 
¬g3
,\

227 
¬g4
, 
¬g5
, 
¬g6
) \

228 
	`SDT_PROBE_DEFINE
(
´ov
, 
mod
, 
func
, 
Çme
); \

229 
	`SDT_PROBE_ARGTYPE
(
´ov
, 
mod
, 
func
, 
Çme
, 0, 
¬g0
, 
NULL
); \

230 
	`SDT_PROBE_ARGTYPE
(
´ov
, 
mod
, 
func
, 
Çme
, 1, 
¬g1
, 
NULL
); \

231 
	`SDT_PROBE_ARGTYPE
(
´ov
, 
mod
, 
func
, 
Çme
, 2, 
¬g2
, 
NULL
); \

232 
	`SDT_PROBE_ARGTYPE
(
´ov
, 
mod
, 
func
, 
Çme
, 3, 
¬g3
, 
NULL
); \

233 
	`SDT_PROBE_ARGTYPE
(
´ov
, 
mod
, 
func
, 
Çme
, 4, 
¬g4
, 
NULL
); \

234 
	`SDT_PROBE_ARGTYPE
(
´ov
, 
mod
, 
func
, 
Çme
, 5, 
¬g5
, 
NULL
); \

235 
	`SDT_PROBE_ARGTYPE
(
´ov
, 
mod
, 
func
, 
Çme
, 6, 
¬g6
, 
NULL
)

	)

237 
	#SDT_PROBE_DEFINE0_XLATE
(
´ov
, 
mod
, 
func
, 
Çme
) \

238 
	`SDT_PROBE_DEFINE
(
´ov
, 
mod
, 
func
, 
Çme
)

	)

240 
	#SDT_PROBE_DEFINE1_XLATE
(
´ov
, 
mod
, 
func
, 
Çme
, 
¬g0
, 
x¬g0
) \

241 
	`SDT_PROBE_DEFINE
(
´ov
, 
mod
, 
func
, 
Çme
); \

242 
	`SDT_PROBE_ARGTYPE
(
´ov
, 
mod
, 
func
, 
Çme
, 0, 
¬g0
, 
x¬g0
)

	)

244 
	#SDT_PROBE_DEFINE2_XLATE
(
´ov
, 
mod
, 
func
, 
Çme
, 
¬g0
, 
x¬g0
, \

245 
¬g1
, 
x¬g1
) \

246 
	`SDT_PROBE_DEFINE
(
´ov
, 
mod
, 
func
, 
Çme
); \

247 
	`SDT_PROBE_ARGTYPE
(
´ov
, 
mod
, 
func
, 
Çme
, 0, 
¬g0
, 
x¬g0
); \

248 
	`SDT_PROBE_ARGTYPE
(
´ov
, 
mod
, 
func
, 
Çme
, 1, 
¬g1
, 
x¬g1
)

	)

250 
	#SDT_PROBE_DEFINE3_XLATE
(
´ov
, 
mod
, 
func
, 
Çme
, 
¬g0
, 
x¬g0
, \

251 
¬g1
, 
x¬g1
, 
¬g2
, 
x¬g2
) \

252 
	`SDT_PROBE_DEFINE
(
´ov
, 
mod
, 
func
, 
Çme
); \

253 
	`SDT_PROBE_ARGTYPE
(
´ov
, 
mod
, 
func
, 
Çme
, 0, 
¬g0
, 
x¬g0
); \

254 
	`SDT_PROBE_ARGTYPE
(
´ov
, 
mod
, 
func
, 
Çme
, 1, 
¬g1
, 
x¬g1
); \

255 
	`SDT_PROBE_ARGTYPE
(
´ov
, 
mod
, 
func
, 
Çme
, 2, 
¬g2
, 
x¬g2
)

	)

257 
	#SDT_PROBE_DEFINE4_XLATE
(
´ov
, 
mod
, 
func
, 
Çme
, 
¬g0
, 
x¬g0
, \

258 
¬g1
, 
x¬g1
, 
¬g2
, 
x¬g2
, 
¬g3
, 
x¬g3
) \

259 
	`SDT_PROBE_DEFINE
(
´ov
, 
mod
, 
func
, 
Çme
); \

260 
	`SDT_PROBE_ARGTYPE
(
´ov
, 
mod
, 
func
, 
Çme
, 0, 
¬g0
, 
x¬g0
); \

261 
	`SDT_PROBE_ARGTYPE
(
´ov
, 
mod
, 
func
, 
Çme
, 1, 
¬g1
, 
x¬g1
); \

262 
	`SDT_PROBE_ARGTYPE
(
´ov
, 
mod
, 
func
, 
Çme
, 2, 
¬g2
, 
x¬g2
); \

263 
	`SDT_PROBE_ARGTYPE
(
´ov
, 
mod
, 
func
, 
Çme
, 3, 
¬g3
, 
x¬g3
)

	)

265 
	#SDT_PROBE_DEFINE5_XLATE
(
´ov
, 
mod
, 
func
, 
Çme
, 
¬g0
, 
x¬g0
, \

266 
¬g1
, 
x¬g1
, 
¬g2
, 
x¬g2
, 
¬g3
, 
x¬g3
, 
¬g4
, 
x¬g4
) \

267 
	`SDT_PROBE_DEFINE
(
´ov
, 
mod
, 
func
, 
Çme
); \

268 
	`SDT_PROBE_ARGTYPE
(
´ov
, 
mod
, 
func
, 
Çme
, 0, 
¬g0
, 
x¬g0
); \

269 
	`SDT_PROBE_ARGTYPE
(
´ov
, 
mod
, 
func
, 
Çme
, 1, 
¬g1
, 
x¬g1
); \

270 
	`SDT_PROBE_ARGTYPE
(
´ov
, 
mod
, 
func
, 
Çme
, 2, 
¬g2
, 
x¬g2
); \

271 
	`SDT_PROBE_ARGTYPE
(
´ov
, 
mod
, 
func
, 
Çme
, 3, 
¬g3
, 
x¬g3
); \

272 
	`SDT_PROBE_ARGTYPE
(
´ov
, 
mod
, 
func
, 
Çme
, 4, 
¬g4
, 
x¬g4
)

	)

274 
	#SDT_PROBE_DEFINE6_XLATE
(
´ov
, 
mod
, 
func
, 
Çme
, 
¬g0
, 
x¬g0
, \

275 
¬g1
, 
x¬g1
, 
¬g2
, 
x¬g2
, 
¬g3
, 
x¬g3
, 
¬g4
, 
x¬g4
, 
¬g5
, 
x¬g5
) \

276 
	`SDT_PROBE_DEFINE
(
´ov
, 
mod
, 
func
, 
Çme
); \

277 
	`SDT_PROBE_ARGTYPE
(
´ov
, 
mod
, 
func
, 
Çme
, 0, 
¬g0
, 
x¬g0
); \

278 
	`SDT_PROBE_ARGTYPE
(
´ov
, 
mod
, 
func
, 
Çme
, 1, 
¬g1
, 
x¬g1
); \

279 
	`SDT_PROBE_ARGTYPE
(
´ov
, 
mod
, 
func
, 
Çme
, 2, 
¬g2
, 
x¬g2
); \

280 
	`SDT_PROBE_ARGTYPE
(
´ov
, 
mod
, 
func
, 
Çme
, 3, 
¬g3
, 
x¬g3
); \

281 
	`SDT_PROBE_ARGTYPE
(
´ov
, 
mod
, 
func
, 
Çme
, 4, 
¬g4
, 
x¬g4
); \

282 
	`SDT_PROBE_ARGTYPE
(
´ov
, 
mod
, 
func
, 
Çme
, 5, 
¬g5
, 
x¬g5
)

	)

284 
	#SDT_PROBE_DEFINE7_XLATE
(
´ov
, 
mod
, 
func
, 
Çme
, 
¬g0
, 
x¬g0
, \

285 
¬g1
, 
x¬g1
, 
¬g2
, 
x¬g2
, 
¬g3
, 
x¬g3
, 
¬g4
, 
x¬g4
, 
¬g5
, 
x¬g5
, 
¬g6
, \

286 
x¬g6
) \

287 
	`SDT_PROBE_DEFINE
(
´ov
, 
mod
, 
func
, 
Çme
); \

288 
	`SDT_PROBE_ARGTYPE
(
´ov
, 
mod
, 
func
, 
Çme
, 0, 
¬g0
, 
x¬g0
); \

289 
	`SDT_PROBE_ARGTYPE
(
´ov
, 
mod
, 
func
, 
Çme
, 1, 
¬g1
, 
x¬g1
); \

290 
	`SDT_PROBE_ARGTYPE
(
´ov
, 
mod
, 
func
, 
Çme
, 2, 
¬g2
, 
x¬g2
); \

291 
	`SDT_PROBE_ARGTYPE
(
´ov
, 
mod
, 
func
, 
Çme
, 3, 
¬g3
, 
x¬g3
); \

292 
	`SDT_PROBE_ARGTYPE
(
´ov
, 
mod
, 
func
, 
Çme
, 4, 
¬g4
, 
x¬g4
); \

293 
	`SDT_PROBE_ARGTYPE
(
´ov
, 
mod
, 
func
, 
Çme
, 5, 
¬g5
, 
x¬g5
); \

294 
	`SDT_PROBE_ARGTYPE
(
´ov
, 
mod
, 
func
, 
Çme
, 6, 
¬g6
, 
x¬g6
)

	)

296 
	#SDT_PROBE0
(
´ov
, 
mod
, 
func
, 
Çme
) \

297 
	`SDT_PROBE
(
´ov
, 
mod
, 
func
, 
Çme
, 0, 0, 0, 0, 0)

	)

298 
	#SDT_PROBE1
(
´ov
, 
mod
, 
func
, 
Çme
, 
¬g0
) \

299 
	`SDT_PROBE
(
´ov
, 
mod
, 
func
, 
Çme
, 
¬g0
, 0, 0, 0, 0)

	)

300 
	#SDT_PROBE2
(
´ov
, 
mod
, 
func
, 
Çme
, 
¬g0
, 
¬g1
) \

301 
	`SDT_PROBE
(
´ov
, 
mod
, 
func
, 
Çme
, 
¬g0
, 
¬g1
, 0, 0, 0)

	)

302 
	#SDT_PROBE3
(
´ov
, 
mod
, 
func
, 
Çme
, 
¬g0
, 
¬g1
, 
¬g2
) \

303 
	`SDT_PROBE
(
´ov
, 
mod
, 
func
, 
Çme
, 
¬g0
, 
¬g1
, 
¬g2
, 0, 0)

	)

304 
	#SDT_PROBE4
(
´ov
, 
mod
, 
func
, 
Çme
, 
¬g0
, 
¬g1
, 
¬g2
, 
¬g3
) \

305 
	`SDT_PROBE
(
´ov
, 
mod
, 
func
, 
Çme
, 
¬g0
, 
¬g1
, 
¬g2
, 
¬g3
, 0)

	)

306 
	#SDT_PROBE5
(
´ov
, 
mod
, 
func
, 
Çme
, 
¬g0
, 
¬g1
, 
¬g2
, 
¬g3
, 
¬g4
) \

307 
	`SDT_PROBE
(
´ov
, 
mod
, 
func
, 
Çme
, 
¬g0
, 
¬g1
, 
¬g2
, 
¬g3
, 
¬g4
)

	)

308 
	#SDT_PROBE6
(
´ov
, 
mod
, 
func
, 
Çme
, 
¬g0
, 
¬g1
, 
¬g2
, 
¬g3
, 
¬g4
, 
¬g5
) \

310 ià(
sdt_
##
´ov
##
_
##
mod
##_##
func
##_##
Çme
->
id
) \

311 (*((*)(
ušt32_t
, 
ušŒ_t
, uintptr_t, uintptr_t, \

312 
ušŒ_t
, ušŒ_t, ušŒ_t))
sdt_´obe_func
)( \

313 
sdt_
##
´ov
##
_
##
mod
##_##
func
##_##
Çme
->
id
, \

314 (
ušŒ_t
)
¬g0
, (ušŒ_t)
¬g1
, (ušŒ_t)
¬g2
, \

315 (
ušŒ_t
)
¬g3
, (ušŒ_t)
¬g4
, (ušŒ_t)
¬g5
);\

316 } 0)

	)

317 
	#SDT_PROBE7
(
´ov
, 
mod
, 
func
, 
Çme
, 
¬g0
, 
¬g1
, 
¬g2
, 
¬g3
, 
¬g4
, 
¬g5
, \

318 
¬g6
) \

320 ià(
sdt_
##
´ov
##
_
##
mod
##_##
func
##_##
Çme
->
id
) \

321 (*((*)(
ušt32_t
, 
ušŒ_t
, uintptr_t, uintptr_t, \

322 
ušŒ_t
, uintptr_t, uintptr_t, uintptr_t)) \

323 
sdt_´obe_func
)( \

324 
sdt_
##
´ov
##
_
##
mod
##_##
func
##_##
Çme
->
id
, \

325 (
ušŒ_t
)
¬g0
, (ušŒ_t)
¬g1
, (ušŒ_t)
¬g2
, \

326 (
ušŒ_t
)
¬g3
, (ušŒ_t)
¬g4
, (ušŒ_t)
¬g5
, \

327 (
ušŒ_t
)
¬g6
); \

328 } 0)

	)

330 
	#DTRACE_PROBE_IMPL_START
(
Çme
, 
¬g0
, 
¬g1
, 
¬g2
, 
¬g3
, 
¬g4
) do { \

331 
	`SDT_PROBE_DEFINE
(
sdt
, , , 
Çme
); \

332 
	`SDT_PROBE
(
sdt
, , , 
Çme
, 
¬g0
, 
¬g1
, 
¬g2
, 
¬g3
, 
¬g4
);

	)

333 
	#DTRACE_PROBE_IMPL_END
 } 0)

	)

335 
	#DTRACE_PROBE
(
Çme
) \

336 
	`DTRACE_PROBE_IMPL_START
(
Çme
, 0, 0, 0, 0, 0) \

337 
DTRACE_PROBE_IMPL_END


	)

339 
	#DTRACE_PROBE1
(
Çme
, 
ty³0
, 
¬g0
) \

340 
	`DTRACE_PROBE_IMPL_START
(
Çme
, 
¬g0
, 0, 0, 0, 0) \

341 
	`SDT_PROBE_ARGTYPE
(
sdt
, , , 
Çme
, 0, #ty³0, 
NULL
); \

342 
DTRACE_PROBE_IMPL_END


	)

344 
	#DTRACE_PROBE2
(
Çme
, 
ty³0
, 
¬g0
, 
ty³1
, 
¬g1
) \

345 
	`DTRACE_PROBE_IMPL_START
(
Çme
, 
¬g0
, 
¬g1
, 0, 0, 0) \

346 
	`SDT_PROBE_ARGTYPE
(
sdt
, , , 
Çme
, 0, #ty³0, 
NULL
); \

347 
	`SDT_PROBE_ARGTYPE
(
sdt
, , , 
Çme
, 1, #ty³1, 
NULL
); \

348 
DTRACE_PROBE_IMPL_END


	)

350 
	#DTRACE_PROBE3
(
Çme
, 
ty³0
, 
¬g0
, 
ty³1
, 
¬g1
, 
ty³2
, 
¬g2
) \

351 
	`DTRACE_PROBE_IMPL_START
(
Çme
, 
¬g0
, 
¬g1
, 
¬g2
, 0, 0) \

352 
	`SDT_PROBE_ARGTYPE
(
sdt
, , , 
Çme
, 0, #ty³0, 
NULL
); \

353 
	`SDT_PROBE_ARGTYPE
(
sdt
, , , 
Çme
, 1, #ty³1, 
NULL
); \

354 
	`SDT_PROBE_ARGTYPE
(
sdt
, , , 
Çme
, 2, #ty³2, 
NULL
); \

355 
DTRACE_PROBE_IMPL_END


	)

357 
	#DTRACE_PROBE4
(
Çme
, 
ty³0
, 
¬g0
, 
ty³1
, 
¬g1
, 
ty³2
, 
¬g2
, 
ty³3
, 
¬g3
) \

358 
	`DTRACE_PROBE_IMPL_START
(
Çme
, 
¬g0
, 
¬g1
, 
¬g2
, 
¬g3
, 0) \

359 
	`SDT_PROBE_ARGTYPE
(
sdt
, , , 
Çme
, 0, #ty³0, 
NULL
); \

360 
	`SDT_PROBE_ARGTYPE
(
sdt
, , , 
Çme
, 1, #ty³1, 
NULL
); \

361 
	`SDT_PROBE_ARGTYPE
(
sdt
, , , 
Çme
, 2, #ty³2, 
NULL
); \

362 
	`SDT_PROBE_ARGTYPE
(
sdt
, , , 
Çme
, 3, #ty³3, 
NULL
); \

363 
DTRACE_PROBE_IMPL_END


	)

365 
	#DTRACE_PROBE5
(
Çme
, 
ty³0
, 
¬g0
, 
ty³1
, 
¬g1
, 
ty³2
, 
¬g2
, 
ty³3
, 
¬g3
, \

366 
ty³4
, 
¬g4
) \

367 
	`DTRACE_PROBE_IMPL_START
(
Çme
, 
¬g0
, 
¬g1
, 
¬g2
, 
¬g3
, 
¬g4
) \

368 
	`SDT_PROBE_ARGTYPE
(
sdt
, , , 
Çme
, 0, #ty³0, 
NULL
); \

369 
	`SDT_PROBE_ARGTYPE
(
sdt
, , , 
Çme
, 1, #ty³1, 
NULL
); \

370 
	`SDT_PROBE_ARGTYPE
(
sdt
, , , 
Çme
, 2, #ty³2, 
NULL
); \

371 
	`SDT_PROBE_ARGTYPE
(
sdt
, , , 
Çme
, 3, #ty³3, 
NULL
); \

372 
	`SDT_PROBE_ARGTYPE
(
sdt
, , , 
Çme
, 4, #ty³4, 
NULL
); \

373 
DTRACE_PROBE_IMPL_END


	)

381 (*
	tsdt_´obe_func_t
)(
	tušt32_t
, 
	tušŒ_t
 
	t¬g0
, ušŒ_ˆ
	t¬g1
,

382 
	tušŒ_t
 
	t¬g2
, ušŒ_ˆ
	t¬g3
, ušŒ_ˆ
	t¬g4
);

387 
sdt_´obe_func_t
 
sdt_´obe_func
;

389 
sdt_´obe
;

390 
sdt_´ovid”
;

391 
lšk”_fže
;

393 
	ssdt_¬gty³
 {

394 
ndx
;

395 cÚ¡ *
ty³
;

396 cÚ¡ *
xty³
;

397 
	`TAILQ_ENTRY
(
sdt_¬gty³
)

398 
¬gty³_’Œy
;

399 
sdt_´obe
 *
´obe
;

402 
	ssdt_´obe
 {

403 
v”siÚ
;

404 
sdt_´ovid”
 *
´ov
;

405 
	`TAILQ_ENTRY
(
sdt_´obe
)

406 
´obe_’Œy
;

407 
	`TAILQ_HEAD
(, 
sdt_¬gty³
è
¬gty³_li¡
;

408 cÚ¡ *
mod
;

409 cÚ¡ *
func
;

410 cÚ¡ *
Çme
;

411 
id_t
 
id
;

412 
n_¬gs
;

413 
lšk”_fže
 *
sd_lf
;

416 
	ssdt_´ovid”
 {

417 *
Çme
;

418 
	`TAILQ_ENTRY
(
sdt_´ovid”
)

419 
´ov_’Œy
;

420 
ušŒ_t
 
id
;

421 
sdt_»fs
;

424 
	`sdt_´obe_¡ub
(
ušt32_t
, 
ušŒ_t
, uintptr_t, uintptr_t, uintptr_t,

425 
ušŒ_t
);

427 
	`SDT_PROVIDER_DECLARE
(
sdt
);

	@/usr/include/sys/selinfo.h

35 #iâdeà
_SYS_SELINFO_H_


36 
	#_SYS_SELINFO_H_


	)

38 
	~<sys/ev’t.h
>

40 
	g£lfd
;

41 
TAILQ_HEAD
(
£lfdli¡
, 
£lfd
);

47 
	s£lšfo
 {

48 
£lfdli¡
 
	msi_tdli¡
;

49 
kÆi¡
 
	msi_nÙe
;

50 
mtx
 *
	msi_mtx
;

53 
	#SEL_WAITING
(
si
è(!
	`TAILQ_EMPTY
(&(si)->
si_tdli¡
))

	)

55 #ifdeà
_KERNEL


56 
£ld¿š
(
£lšfo
 *
s
);

57 
£ÌecÜd
(
th»ad
 *
£ËùÜ
, 
£lšfo
 *
s
);

58 
£lwakeup
(
£lšfo
 *
s
);

59 
£lwakeuµri
(
£lšfo
 *
s
, 
´i
);

60 
£Édfši
(
th»ad
 *
td
);

	@/usr/include/sys/sglist.h

41 #iâdeà
__SGLIST_H__


42 
	#__SGLIST_H__


	)

44 
	~<sys/»fcouÁ.h
>

46 
	ssgli¡_£g
 {

47 
vm_·ddr_t
 
	mss_·ddr
;

48 
size_t
 
	mss_Ën
;

51 
	ssgli¡
 {

52 
sgli¡_£g
 *
	msg_£gs
;

53 
u_št
 
	msg_»fs
;

54 
u_shÜt
 
	msg_n£g
;

55 
u_shÜt
 
	msg_max£g
;

58 
	gbio
;

59 
	gmbuf
;

60 
	guio
;

62 
__šlše
 

63 
	$sgli¡_š™
(
sgli¡
 *
sg
, 
u_shÜt
 
max£gs
, 
sgli¡_£g
 *
£gs
)

66 
sg
->
sg_£gs
 = 
£gs
;

67 
sg
->
sg_n£g
 = 0;

68 
sg
->
sg_max£g
 = 
max£gs
;

69 
	`»fcouÁ_š™
(&
sg
->
sg_»fs
, 1);

70 
	}
}

72 
__šlše
 

73 
	$sgli¡_»£t
(
sgli¡
 *
sg
)

76 
sg
->
sg_n£g
 = 0;

77 
	}
}

79 
__šlše
 
sgli¡
 *

80 
	$sgli¡_hÞd
(
sgli¡
 *
sg
)

83 
	`»fcouÁ_acquœe
(&
sg
->
sg_»fs
);

84  (
sg
);

85 
	}
}

87 
sgli¡
 *
sgli¡_®loc
(
n£gs
, 
mæags
);

88 
sgli¡_­³nd
(
sgli¡
 *
sg
, *
buf
, 
size_t
 
Ën
);

89 
sgli¡_­³nd_bio
(
sgli¡
 *
sg
, 
bio
 *
bp
);

90 
sgli¡_­³nd_mbuf
(
sgli¡
 *
sg
, 
mbuf
 *
m0
);

91 
sgli¡_­³nd_phys
(
sgli¡
 *
sg
, 
vm_·ddr_t
 
·ddr
,

92 
size_t
 
Ën
);

93 
sgli¡_­³nd_sgli¡
(
sgli¡
 *
sg
, sgli¡ *
sourû
,

94 
size_t
 
off£t
, size_ˆ
Ëngth
);

95 
sgli¡_­³nd_uio
(
sgli¡
 *
sg
, 
uio
 *uio);

96 
sgli¡_­³nd_u£r
(
sgli¡
 *
sg
, *
buf
, 
size_t
 
Ën
,

97 
th»ad
 *
td
);

98 
sgli¡_­³nd_vm·ges
(
sgli¡
 *
sg
, 
vm_·ge_t
 *
m
, 
size_t
 
pgoff
,

99 
size_t
 
Ën
);

100 
sgli¡
 *
sgli¡_bužd
(*
buf
, 
size_t
 
Ën
, 
mæags
);

101 
sgli¡
 *
sgli¡_þÚe
(sgli¡ *
sg
, 
mæags
);

102 
sgli¡_cÚsume_uio
(
sgli¡
 *
sg
, 
uio
 *uio, 
size_t
 
»sid
);

103 
sgli¡_couÁ
(*
buf
, 
size_t
 
Ën
);

104 
sgli¡_couÁ_vm·ges
(
vm_·ge_t
 *
m
, 
size_t
 
pgoff
, size_ˆ
Ën
);

105 
sgli¡_ä“
(
sgli¡
 *
sg
);

106 
sgli¡_još
(
sgli¡
 *
fœ¡
, sgli¡ *
£cÚd
);

107 
size_t
 
sgli¡_Ëngth
(
sgli¡
 *
sg
);

108 
sgli¡_¦iû
(
sgli¡
 *
Üigš®
, sgli¡ **
¦iû
,

109 
size_t
 
off£t
, size_ˆ
Ëngth
, 
mæags
);

110 
sgli¡_¥l™
(
sgli¡
 *
Üigš®
, sgli¡ **
h—d
,

111 
size_t
 
Ëngth
, 
mæags
);

	@/usr/include/sys/signalvar.h

35 #iâdeà
_SYS_SIGNALVAR_H_


36 
	#_SYS_SIGNALVAR_H_


	)

38 
	~<sys/queue.h
>

39 
	~<sys/_lock.h
>

40 
	~<sys/_mu‹x.h
>

41 
	~<sys/sigÇl.h
>

54 
	ssigaùs
 {

55 
sig_t
 
	mps_sigaù
[
_SIG_MAXSIG
];

56 
sig£t_t
 
	mps_ÿtchmask
[
_SIG_MAXSIG
];

57 
sig£t_t
 
	mps_sigÚ¡ack
;

58 
sig£t_t
 
	mps_sigšŒ
;

59 
sig£t_t
 
	mps_sig»£t
;

60 
sig£t_t
 
	mps_signodeãr
;

61 
sig£t_t
 
	mps_sigšfo
;

62 
sig£t_t
 
	mps_sigignÜe
;

63 
sig£t_t
 
	mps_sigÿtch
;

64 
sig£t_t
 
	mps_ä“bsd4
;

65 
sig£t_t
 
	mps_osig£t
;

66 
sig£t_t
 
	mps_u£¹¿mp
;

67 
	mps_æag
;

68 
u_št
 
	mps_»fút
;

69 
mtx
 
	mps_mtx
;

72 
	#PS_NOCLDWAIT
 0x0001

	)

73 
	#PS_NOCLDSTOP
 0x0002

	)

74 
	#PS_CLDSIGIGN
 0x0004

	)

76 #ifdeà
_KERNEL


78 #ifdeà
COMPAT_43


80 
osigcÚ‹xt
 
	msi_sc
;

81 
	msi_signo
;

82 
	msi_code
;

83 
sigv®
 
	msi_v®ue
;

84 } 
	tosigšfo_t
;

86 
	sosigaùiÚ
 {

88 (*
	m__§_hªdËr
)();

89 (*
	m__§_sigaùiÚ
)(, 
	mosigšfo_t
 *, *);

90 } 
	m__sigaùiÚ_u
;

91 
osig£t_t
 
	m§_mask
;

92 
	m§_æags
;

95 
	t__osigšfohªdËr_t
(, 
	tosigšfo_t
 *, *);

99 
	#SIG_CATCH
 ((
__sighªdËr_t
 *)2)

	)

105 
	#SIGACTION
(
p
, 
sig
èÕ->
p_sigaùs
->
ps_sigaù
[
	`_SIG_IDX
(sig)])

	)

112 
	#SIGADDSET
(
£t
, 
signo
) \

113 ((
£t
).
__b™s
[
	`_SIG_WORD
(
signo
)] |ð
	`_SIG_BIT
(signo))

	)

115 
	#SIGDELSET
(
£t
, 
signo
) \

116 ((
£t
).
__b™s
[
	`_SIG_WORD
(
signo
)] &ð~
	`_SIG_BIT
(signo))

	)

118 
	#SIGEMPTYSET
(
£t
) \

120 
__i
; \

121 
__i
 = 0; __˜< 
_SIG_WORDS
; __i++) \

122 (
£t
).
__b™s
[
__i
] = 0; \

123 } 0)

	)

125 
	#SIGFILLSET
(
£t
) \

127 
__i
; \

128 
__i
 = 0; __˜< 
_SIG_WORDS
; __i++) \

129 (
£t
).
__b™s
[
__i
] = ~0U; \

130 } 0)

	)

132 
	#SIGISMEMBER
(
£t
, 
signo
) \

133 ((
£t
).
__b™s
[
	`_SIG_WORD
(
signo
)] & 
	`_SIG_BIT
(signo))

	)

135 
	#SIGISEMPTY
(
£t
è(
	`__sigi£m±y
(&(£t)))

	)

136 
	#SIGNOTEMPTY
(
£t
è(!
	`__sigi£m±y
(&(£t)))

	)

138 
	#SIGSETEQ
(
£t1
, 
£t2
è(
	`__sig£‹q
(&(£t1), &(£t2)))

	)

139 
	#SIGSETNEQ
(
£t1
, 
£t2
è(!
	`__sig£‹q
(&(£t1), &(£t2)))

	)

141 
	#SIGSETOR
(
£t1
, 
£t2
) \

143 
__i
; \

144 
__i
 = 0; __˜< 
_SIG_WORDS
; __i++) \

145 (
£t1
).
__b™s
[
__i
] |ð(
£t2
).__bits[__i]; \

146 } 0)

	)

148 
	#SIGSETAND
(
£t1
, 
£t2
) \

150 
__i
; \

151 
__i
 = 0; __˜< 
_SIG_WORDS
; __i++) \

152 (
£t1
).
__b™s
[
__i
] &ð(
£t2
).__bits[__i]; \

153 } 0)

	)

155 
	#SIGSETNAND
(
£t1
, 
£t2
) \

157 
__i
; \

158 
__i
 = 0; __˜< 
_SIG_WORDS
; __i++) \

159 (
£t1
).
__b™s
[
__i
] &ð~(
£t2
).__bits[__i]; \

160 } 0)

	)

162 
	#SIGSETLO
(
£t1
, 
£t2
è((£t1).
__b™s
[0] = (£t2).__b™s[0])

	)

163 
	#SIGSETOLD
(
£t
, 
o£t
è((£t).
__b™s
[0] = (o£t))

	)

165 
	#SIG_CANTMASK
(
£t
) \

166 
	`SIGDELSET
(
£t
, 
SIGKILL
), SIGDELSET(£t, 
SIGSTOP
)

	)

168 
	#SIG_STOPSIGMASK
(
£t
) \

169 
	`SIGDELSET
(
£t
, 
SIGSTOP
), SIGDELSET(£t, 
SIGTSTP
), \

170 
	`SIGDELSET
(
£t
, 
SIGTTIN
), SIGDELSET(£t, 
SIGTTOU
)

	)

172 
	#SIG_CONTSIGMASK
(
£t
) \

173 
	`SIGDELSET
(
£t
, 
SIGCONT
)

	)

175 
	#sigÿÁmask
 (
	`sigmask
(
SIGKILL
è| sigmask(
SIGSTOP
))

	)

177 
	#SIG2OSIG
(
sig
, 
osig
è(osig = (sig).
__b™s
[0])

	)

178 
	#OSIG2SIG
(
osig
, 
sig
è
	`SIGEMPTYSET
(sig); (sig).
__b™s
[0] = 
	)
osig

180 
__šlše
 

181 
	$__sigi£m±y
(
sig£t_t
 *
£t
)

183 
i
;

185 
i
 = 0; i < 
_SIG_WORDS
; i++) {

186 ià(
£t
->
__b™s
[
i
])

190 
	}
}

192 
__šlše
 

193 
	$__sig£‹q
(
sig£t_t
 *
£t1
, sig£t_ˆ*
£t2
)

195 
i
;

197 
i
 = 0; i < 
_SIG_WORDS
; i++) {

198 ià(
£t1
->
__b™s
[
i
] !ð
£t2
->__bits[i])

202 
	}
}

204 #ifdeà
COMPAT_FREEBSD6


205 
	sosigev’t
 {

206 
	msigev_nÙify
;

208 
	m__sigev_signo
;

209 
	m__sigev_nÙify_kqueue
;

210 } 
	m__sigev_u
;

211 
sigv®
 
	msigev_v®ue
;

215 
	sksigšfo
 {

216 
TAILQ_ENTRY
(
ksigšfo
è
	mksi_lšk
;

217 
sigšfo_t
 
	mksi_šfo
;

218 
	mksi_æags
;

219 
sigqueue
 *
	mksi_sigq
;

220 } 
	tksigšfo_t
;

222 
	#ksi_signo
 
ksi_šfo
.
si_signo


	)

223 
	#ksi_”ºo
 
ksi_šfo
.
si_”ºo


	)

224 
	#ksi_code
 
ksi_šfo
.
si_code


	)

225 
	#ksi_pid
 
ksi_šfo
.
si_pid


	)

226 
	#ksi_uid
 
ksi_šfo
.
si_uid


	)

227 
	#ksi_¡©us
 
ksi_šfo
.
si_¡©us


	)

228 
	#ksi_addr
 
ksi_šfo
.
si_addr


	)

229 
	#ksi_v®ue
 
ksi_šfo
.
si_v®ue


	)

230 
	#ksi_bªd
 
ksi_šfo
.
si_bªd


	)

231 
	#ksi_Œ­no
 
ksi_šfo
.
si_Œ­no


	)

232 
	#ksi_ov”run
 
ksi_šfo
.
si_ov”run


	)

233 
	#ksi_tim”id
 
ksi_šfo
.
si_tim”id


	)

234 
	#ksi_mqd
 
ksi_šfo
.
si_mqd


	)

237 
	#KSI_TRAP
 0x01

	)

238 
	#KSI_EXT
 0x02

	)

239 
	#KSI_INS
 0x04

	)

240 
	#KSI_SIGQ
 0x08

	)

241 
	#KSI_HEAD
 0x10

	)

242 
	#KSI_PTRACE
 0x20

	)

243 
	#KSI_COPYMASK
 (
KSI_TRAP
 | 
KSI_SIGQ
 | 
KSI_PTRACE
)

	)

245 
	#KSI_ONQ
(
ksi
è((ksi)->
ksi_sigq
 !ð
NULL
)

	)

247 
	ssigqueue
 {

248 
sig£t_t
 
	msq_sigÇls
;

249 
sig£t_t
 
	msq_kžl
;

250 
sig£t_t
 
	msq_±¿û
;

251 
TAILQ_HEAD
(, 
ksigšfo
è
	msq_li¡
;

252 
´oc
 *
	msq_´oc
;

253 
	msq_æags
;

254 } 
	tsigqueue_t
;

257 
	#SQ_INIT
 0x01

	)

259 #ifdeà
_KERNEL


262 
	#SIGPENDING
(
td
) \

263 ((!
	`SIGISEMPTY
((
td
)->
td_sigli¡
) && \

264 !
	`sig£tmasked
(&(
td
)->
td_sigli¡
, &Ñd)->
td_sigmask
)) || \

265 (!
	`SIGISEMPTY
((
td
)->
td_´oc
->
p_sigli¡
) && \

266 !
	`sig£tmasked
(&(
td
)->
td_´oc
->
p_sigli¡
, &Ñd)->
td_sigmask
)))

	)

272 
__šlše
 

273 
	$sig£tmasked
(
sig£t_t
 *
£t
, sig£t_ˆ*
mask
)

275 
i
;

277 
i
 = 0; i < 
_SIG_WORDS
; i++) {

278 ià(
£t
->
__b™s
[
i
] & ~
mask
->__bits[i])

282 
	}
}

284 
	#ksigšfo_š™
(
ksi
) \

286 
	`bz”o
(
ksi
, (
ksigšfo_t
)); \

287 } 0)

	)

289 
	#ksigšfo_š™_Œ­
(
ksi
) \

291 
ksigšfo_t
 *
kp
 = 
ksi
; \

292 
	`bz”o
(
kp
, (
ksigšfo_t
)); \

293 
kp
->
ksi_æags
 |ð
KSI_TRAP
; \

294 } 0)

	)

296 
__šlše
 

297 
	$ksigšfo_cÝy
(
ksigšfo_t
 *
¤c
, ksigšfo_ˆ*
d¡
)

299 (
d¡
)->
ksi_šfo
 = 
¤c
->ksi_info;

300 (
d¡
)->
ksi_æags
 = (
¤c
->ksi_æag & 
KSI_COPYMASK
);

301 
	}
}

303 
__šlše
 

304 
	$ksigšfo_£t_sigev
(
ksigšfo_t
 *
d¡
, 
sigev’t
 *
sigev
)

306 
d¡
->
ksi_signo
 = 
sigev
->
sigev_signo
;

307 
d¡
->
ksi_v®ue
 = 
sigev
->
sigev_v®ue
;

308 
	}
}

310 
	gpg½
;

311 
	g´oc
;

312 
	gsigio
;

313 
	gth»ad
;

319 
	#SIGIO_LOCK
(è
	`mtx_lock
(&
sigio_lock
)

	)

320 
	#SIGIO_TRYLOCK
(è
	`mtx_Œylock
(&
sigio_lock
)

	)

321 
	#SIGIO_UNLOCK
(è
	`mtx_uÆock
(&
sigio_lock
)

	)

322 
	#SIGIO_LOCKED
(è
	`mtx_owÃd
(&
sigio_lock
)

	)

323 
	#SIGIO_ASSERT
(
ty³
è
	`mtx_as£¹
(&
sigio_lock
,y³)

	)

325 
mtx
 
sigio_lock
;

328 
	#SIGPROCMASK_OLD
 0x0001

	)

329 
	#SIGPROCMASK_PROC_LOCKED
 0x0002

	)

330 
	#SIGPROCMASK_PS_LOCKED
 0x0004

	)

338 
	#SIGDEFERSTOP_NOP
 0

	)

339 
	#SIGDEFERSTOP_OFF
 1

	)

340 
	#SIGDEFERSTOP_SILENT
 2

	)

341 
	#SIGDEFERSTOP_EINTR
 3

	)

342 
	#SIGDEFERSTOP_ERESTART
 4

	)

344 
	#SIGDEFERSTOP_VAL_NCHG
 (-1è

	)

345 
sigdeãr¡Ý_im¶
(
mode
);

346 
sig®low¡Ý_im¶
(
´ev
);

348 
šlše
 

349 
	$sigdeãr¡Ý
(
mode
)

352 ià(
	`__´ediù_Œue
(
mode
 =ð
SIGDEFERSTOP_NOP
))

353  (
SIGDEFERSTOP_VAL_NCHG
);

354  (
	`sigdeãr¡Ý_im¶
(
mode
));

355 
	}
}

357 
šlše
 

358 
	$sig®low¡Ý
(
´ev
)

361 ià(
	`__´ediù_Œue
(
´ev
 =ð
SIGDEFERSTOP_VAL_NCHG
))

363 
	`sig®low¡Ý_im¶
(
´ev
);

364 
	}
}

366 
cursig
(
th»ad
 *
td
);

367 
execsigs
(
´oc
 *
p
);

368 
gsigÇl
(
pgid
, 
sig
, 
ksigšfo_t
 *
ksi
);

369 
kžÍroc
(
´oc
 *
p
, *
why
);

370 
ksigšfo_t
 * 
ksigšfo_®loc
(
wa™
);

371 
ksigšfo_ä“
(
ksigšfo_t
 *
ksi
);

372 
pksigÇl
(
´oc
 *
p
, 
sig
, 
ksigšfo_t
 *
ksi
);

373 
pgsigio
(
sigio
 **
sigiÝ
, 
sig
, 
checkùty
);

374 
pgsigÇl
(
pg½
 *pg½, 
sig
, 
checkùty
, 
ksigšfo_t
 *
ksi
);

375 
po¡sig
(
sig
);

376 
k”n_psigÇl
(
´oc
 *
p
, 
sig
);

377 
±¿û¡Ý
(
th»ad
 *
td
, 
sig
, 
ksigšfo_t
 *
si
);

378 
£ndsig
(
sig_t
 
ÿtch”
, 
ksigšfo_t
 *
ksi
, 
sig£t_t
 *
»tmask
);

379 
sigaùs
 *
sigaùs_®loc
();

380 
sigaùs_cÝy
(
sigaùs
 *
de¡
, sigaù *
¤c
);

381 
sigaùs_ä“
(
sigaùs
 *
ps
);

382 
sigaùs
 *
sigaùs_hÞd
(sigaù *
ps
);

383 
sigaùs_sh¬ed
(
sigaùs
 *
ps
);

384 
	$sigex™
(
th»ad
 *
td
, 
sig
è
__d—d2
;

385 
	`sigev_fšdtd
(
´oc
 *
p
, 
sigev’t
 *
sigev
, 
th»ad
 **);

386 
	`sig_ffs
(
sig£t_t
 *
£t
);

387 
	`sigš™
(
´oc
 *
p
);

388 
	`signÙify
(
th»ad
 *
td
);

389 
	`sigqueue_d–‘e
(
sigqueue
 *
queue
, 
sig
);

390 
	`sigqueue_d–‘e_´oc
(
´oc
 *
p
, 
sig
);

391 
	`sigqueue_æush
(
sigqueue
 *
queue
);

392 
	`sigqueue_š™
(
sigqueue
 *
queue
, 
´oc
 *
p
);

393 
	`sigqueue_ke
(
ksigšfo_t
 *
ksi
);

394 
	`tdksigÇl
(
th»ad
 *
td
, 
sig
, 
ksigšfo_t
 *
ksi
);

395 
	`td£ndsigÇl
(
´oc
 *
p
, 
th»ad
 *
td
, 
sig
,

396 
ksigšfo_t
 *
ksi
);

397 
	`tdsigþ—nup
(
th»ad
 *
td
);

398 
	`tdsigÇl
(
th»ad
 *
td
, 
sig
);

399 
	`Œ­sigÇl
(
th»ad
 *
td
, 
ksigšfo_t
 *
ksi
);

	@/usr/include/sys/smp.h

14 #iâdeà
_SYS_SMP_H_


15 
	#_SYS_SMP_H_


	)

17 #ifdeà
_KERNEL


19 #iâdeà
LOCORE


21 
	~<sys/ýu£t.h
>

22 
	~<sys/queue.h
>

29 
	mTOPO_TYPE_DUMMY
,

31 
	mTOPO_TYPE_PU
,

33 
	mTOPO_TYPE_CORE
,

35 
	mTOPO_TYPE_CACHE
,

37 
	mTOPO_TYPE_PKG
,

39 
	mTOPO_TYPE_NODE
,

42 
	mTOPO_TYPE_GROUP
,

44 
	mTOPO_TYPE_SYSTEM


45 } 
	ttÝo_node_ty³
;

48 
	thwid_t
;

50 
	týuid_t
;

53 
	stÝo_node
 {

54 
tÝo_node
 *
	m·»Á
;

55 
TAILQ_HEAD
(
tÝo_chžd»n
, 
tÝo_node
è
	mchžd»n
;

56 
TAILQ_ENTRY
(
tÝo_node
è
	msiblšgs
;

57 
ýu£t_t
 
	mýu£t
;

58 
tÝo_node_ty³
 
	mty³
;

59 
ušŒ_t
 
	msubty³
;

60 
hwid_t
 
	mhwid
;

61 
ýuid_t
 
	mid
;

62 
	mnchžd»n
;

63 
	mýu_couÁ
;

79 
	sýu_group
 {

80 
ýu_group
 *
	mcg_·»Á
;

81 
ýu_group
 *
	mcg_chžd
;

82 
ýu£t_t
 
	mcg_mask
;

83 
št32_t
 
	mcg_couÁ
;

84 
št16_t
 
	mcg_chžd»n
;

85 
št8_t
 
	mcg_Ëv–
;

86 
št8_t
 
	mcg_æags
;

89 
ýu_group
 *
	týu_group_t
;

95 
	#CG_SHARE_NONE
 0

	)

96 
	#CG_SHARE_L1
 1

	)

97 
	#CG_SHARE_L2
 2

	)

98 
	#CG_SHARE_L3
 3

	)

100 
	#MAX_CACHE_LEVELS
 
CG_SHARE_L3


	)

105 
	#CG_FLAG_HTT
 0x01

	)

106 
	#CG_FLAG_SMT
 0x02

	)

107 
	#CG_FLAG_THREAD
 (
CG_FLAG_HTT
 | 
CG_FLAG_SMT
è

	)

112 #ifdeà
SMP


113 
tÝo_š™_node
(
tÝo_node
 *
node
);

114 
tÝo_š™_roÙ
(
tÝo_node
 *
roÙ
);

115 
tÝo_node
 * 
tÝo_add_node_by_hwid
(tÝo_nod*
·»Á
, 
hwid
,

116 
tÝo_node_ty³
 
ty³
, 
ušŒ_t
 
subty³
);

117 
tÝo_node
 * 
tÝo_fšd_node_by_hwid
(tÝo_nod*
·»Á
, 
hwid
,

118 
tÝo_node_ty³
 
ty³
, 
ušŒ_t
 
subty³
);

119 
tÝo_´omÙe_chžd
(
tÝo_node
 *
chžd
);

120 
tÝo_node
 * 
tÝo_Ãxt_node
(tÝo_nod*
tÝ
,

121 
tÝo_node
 *
node
);

122 
tÝo_node
 * 
tÝo_Ãxt_nÚchžd_node
(tÝo_nod*
tÝ
,

123 
tÝo_node
 *
node
);

124 
tÝo_£t_pu_id
(
tÝo_node
 *
node
, 
ýuid_t
 
id
);

126 
	etÝo_Ëv–
 {

127 
	mTOPO_LEVEL_PKG
 = 0,

133 
	mTOPO_LEVEL_GROUP
,

134 
	mTOPO_LEVEL_CACHEGROUP
,

135 
	mTOPO_LEVEL_CORE
,

136 
	mTOPO_LEVEL_THREAD
,

137 
	mTOPO_LEVEL_COUNT


139 
	stÝo_ª®ysis
 {

140 
	m’t™›s
[
TOPO_LEVEL_COUNT
];

142 
tÝo_ª®yze
(
tÝo_node
 *
tÝo_roÙ
, 
®l
,

143 
tÝo_ª®ysis
 *
»suÉs
);

145 
	#TOPO_FOREACH
(
i
, 
roÙ
) \

146 
i
 = 
roÙ
; i !ð
NULL
; i = 
	`tÝo_Ãxt_node
ÔoÙ, i))

	)

148 
ýu_group
 *
smp_tÝo
();

149 
ýu_group
 *
smp_tÝo_®loc
(
u_št
 
couÁ
);

150 
ýu_group
 *
smp_tÝo_nÚe
();

151 
ýu_group
 *
smp_tÝo_1Ëv–
(
l1sh¬e
, 
l1couÁ
, 
l1æags
);

152 
ýu_group
 *
smp_tÝo_2Ëv–
(
l2sh¬e
, 
l2couÁ
, 
l1sh¬e
,

153 
l1couÁ
, 
l1æags
);

154 
ýu_group
 *
smp_tÝo_fšd
(ýu_grou°*
tÝ
, 
ýu
);

156 (*
ýu¡Ý_»¡¬tfunc
)();

157 
smp_ýus
;

159 vÞ©ž
ýu£t_t
 
»sumšg_ýus
;

160 vÞ©ž
ýu£t_t
 
¡¬‹d_ýus
;

161 vÞ©ž
ýu£t_t
 
¡Ý³d_ýus
;

162 vÞ©ž
ýu£t_t
 
su¥’ded_ýus
;

163 vÞ©ž
ýu£t_t
 
tÜesume_ýus
;

164 
ýu£t_t
 
hÉ_ýus_mask
;

165 
ýu£t_t
 
logiÿl_ýus_mask
;

168 
u_št
 
mp_maxid
;

169 
mp_maxýus
;

170 
mp_nýus
;

171 vÞ©ž
smp_¡¬‹d
;

173 
ýu£t_t
 
®l_ýus
;

174 
ýu£t_t
 
ýu£t_domaš
[
MAXMEMDOM
];

181 
	#CPU_ABSENT
(
x_ýu
è(!
	`CPU_ISSET
(x_ýu, &
®l_ýus
))

	)

191 
	#CPU_FOREACH
(
i
) \

192 (
i
èð0; (iè<ð
mp_maxid
; (i)++) \

193 ià(!
	`CPU_ABSENT
((
i
)))

	)

195 
__šlše
 

196 
	$ýu_fœ¡
()

198 
i
;

200 
i
 = 0;; i++)

201 ià(!
	`CPU_ABSENT
(
i
))

202  (
i
);

203 
	}
}

205 
__šlše
 

206 
	$ýu_Ãxt
(
i
)

210 
i
++;

211 ià(
i
 > 
mp_maxid
)

212 
i
 = 0;

213 ià(!
	`CPU_ABSENT
(
i
))

214  (
i
);

216 
	}
}

218 
	#CPU_FIRST
(è
	`ýu_fœ¡
()

	)

219 
	#CPU_NEXT
(
i
è
	`ýu_Ãxt
((i))

	)

221 #ifdeà
SMP


241 
	gth»ad
;

243 
ýu_group
 *
ýu_tÝo
();

244 
ýu_mp_ªnounû
();

245 
ýu_mp_´obe
();

246 
ýu_mp_£tmaxid
();

247 
ýu_mp_¡¬t
();

249 
fÜw¬d_sigÇl
(
th»ad
 *);

250 
»¡¬t_ýus
(
ýu£t_t
);

251 
¡Ý_ýus
(
ýu£t_t
);

252 
¡Ý_ýus_h¬d
(
ýu£t_t
);

253 #ià
defšed
(
__amd64__
è|| defšed(
__i386__
)

254 
su¥’d_ýus
(
ýu£t_t
);

255 
»sume_ýus
(
ýu£t_t
);

258 
smp_»ndezvous_aùiÚ
();

259 
mtx
 
smp_i_mtx
;

263 
qu›sû_®l_ýus
(const *, );

264 
qu›sû_ýus
(
ýu£t_t
, const *, );

265 
smp_no_»ndezvous_b¬r›r
(*);

266 
smp_»ndezvous
((*)(*),

269 *
¬g
);

270 
	`smp_»ndezvous_ýus
(
ýu£t_t
,

274 *
¬g
);

	@/usr/include/sys/socket.h

35 #iâdeà
_SYS_SOCKET_H_


36 
	#_SYS_SOCKET_H_


	)

38 
	~<sys/cdefs.h
>

39 
	~<sys/_ty³s.h
>

40 
	~<sys/_iovec.h
>

41 
	~<machše/_®ign.h
>

50 #ià
__BSD_VISIBLE


51 #iâdeà
_GID_T_DECLARED


52 
__gid_t
 
	tgid_t
;

53 
	#_GID_T_DECLARED


	)

56 #iâdeà
_OFF_T_DECLARED


57 
__off_t
 
	toff_t
;

58 
	#_OFF_T_DECLARED


	)

61 #iâdeà
_PID_T_DECLARED


62 
__pid_t
 
	tpid_t
;

63 
	#_PID_T_DECLARED


	)

67 #iâdeà
_SA_FAMILY_T_DECLARED


68 
__§_çmžy_t
 
	t§_çmžy_t
;

69 
	#_SA_FAMILY_T_DECLARED


	)

72 #iâdeà
_SOCKLEN_T_DECLARED


73 
__sockËn_t
 
	tsockËn_t
;

74 
	#_SOCKLEN_T_DECLARED


	)

77 #iâdeà
_SSIZE_T_DECLARED


78 
__ssize_t
 
	tssize_t
;

79 
	#_SSIZE_T_DECLARED


	)

82 #ià
__BSD_VISIBLE


83 #iâdeà
_UID_T_DECLARED


84 
__uid_t
 
	tuid_t
;

85 
	#_UID_T_DECLARED


	)

89 #iâdeà
_UINT32_T_DECLARED


90 
__ušt32_t
 
	tušt32_t
;

91 
	#_UINT32_T_DECLARED


	)

94 #iâdeà
_UINTPTR_T_DECLARED


95 
__ušŒ_t
 
	tušŒ_t
;

96 
	#_UINTPTR_T_DECLARED


	)

102 
	#SOCK_STREAM
 1

	)

103 
	#SOCK_DGRAM
 2

	)

104 
	#SOCK_RAW
 3

	)

105 #ià
__BSD_VISIBLE


106 
	#SOCK_RDM
 4

	)

108 
	#SOCK_SEQPACKET
 5

	)

110 #ià
__BSD_VISIBLE


114 
	#SOCK_CLOEXEC
 0x10000000

	)

115 
	#SOCK_NONBLOCK
 0x20000000

	)

116 #ifdeà
_KERNEL


121 
	#ACCEPT4_INHERIT
 0x1

	)

122 
	#ACCEPT4_COMPAT
 0x2

	)

129 
	#SO_DEBUG
 0x00000001

	)

130 
	#SO_ACCEPTCONN
 0x00000002

	)

131 
	#SO_REUSEADDR
 0x00000004

	)

132 
	#SO_KEEPALIVE
 0x00000008

	)

133 
	#SO_DONTROUTE
 0x00000010

	)

134 
	#SO_BROADCAST
 0x00000020

	)

135 #ià
__BSD_VISIBLE


136 
	#SO_USELOOPBACK
 0x00000040

	)

138 
	#SO_LINGER
 0x00000080

	)

139 
	#SO_OOBINLINE
 0x00000100

	)

140 #ià
__BSD_VISIBLE


141 
	#SO_REUSEPORT
 0x00000200

	)

142 
	#SO_TIMESTAMP
 0x00000400

	)

143 
	#SO_NOSIGPIPE
 0x00000800

	)

144 
	#SO_ACCEPTFILTER
 0x00001000

	)

145 
	#SO_BINTIME
 0x00002000

	)

147 
	#SO_NO_OFFLOAD
 0x00004000

	)

148 
	#SO_NO_DDP
 0x00008000

	)

149 
	#SO_REUSEPORT_LB
 0x00010000

	)

154 
	#SO_SNDBUF
 0x1001

	)

155 
	#SO_RCVBUF
 0x1002

	)

156 
	#SO_SNDLOWAT
 0x1003

	)

157 
	#SO_RCVLOWAT
 0x1004

	)

158 
	#SO_SNDTIMEO
 0x1005

	)

159 
	#SO_RCVTIMEO
 0x1006

	)

160 
	#SO_ERROR
 0x1007

	)

161 
	#SO_TYPE
 0x1008

	)

162 #ià
__BSD_VISIBLE


163 
	#SO_LABEL
 0x1009

	)

164 
	#SO_PEERLABEL
 0x1010

	)

165 
	#SO_LISTENQLIMIT
 0x1011

	)

166 
	#SO_LISTENQLEN
 0x1012

	)

167 
	#SO_LISTENINCQLEN
 0x1013

	)

168 
	#SO_SETFIB
 0x1014

	)

169 
	#SO_USER_COOKIE
 0x1015

	)

170 
	#SO_PROTOCOL
 0x1016

	)

171 
	#SO_PROTOTYPE
 
SO_PROTOCOL


	)

172 
	#SO_TS_CLOCK
 0x1017

	)

173 
	#SO_MAX_PACING_RATE
 0x1018

	)

174 
	#SO_DOMAIN
 0x1019

	)

177 #ià
__BSD_VISIBLE


178 
	#SO_TS_REALTIME_MICRO
 0

	)

179 
	#SO_TS_BINTIME
 1

	)

180 
	#SO_TS_REALTIME
 2

	)

181 
	#SO_TS_MONOTONIC
 3

	)

182 
	#SO_TS_DEFAULT
 
SO_TS_REALTIME_MICRO


	)

183 
	#SO_TS_CLOCK_MAX
 
SO_TS_MONOTONIC


	)

191 #ià
__BSD_VISIBLE


192 
	#SO_VENDOR
 0x80000000

	)

198 
	slšg”
 {

199 
	ml_Úoff
;

200 
	ml_lšg”
;

203 #ià
__BSD_VISIBLE


204 
	sacû±_fž‹r_¬g
 {

205 
	maf_Çme
[16];

206 
	maf_¬g
[256-16];

213 
	#SOL_SOCKET
 0xfffà

	)

218 
	#AF_UNSPEC
 0

	)

219 #ià
__BSD_VISIBLE


220 
	#AF_LOCAL
 
AF_UNIX


	)

222 
	#AF_UNIX
 1

	)

223 
	#AF_INET
 2

	)

224 #ià
__BSD_VISIBLE


225 
	#AF_IMPLINK
 3

	)

226 
	#AF_PUP
 4

	)

227 
	#AF_CHAOS
 5

	)

228 
	#AF_NETBIOS
 6

	)

229 
	#AF_ISO
 7

	)

230 
	#AF_OSI
 
AF_ISO


	)

231 
	#AF_ECMA
 8

	)

232 
	#AF_DATAKIT
 9

	)

233 
	#AF_CCITT
 10

	)

234 
	#AF_SNA
 11

	)

235 
	#AF_DECÃt
 12

	)

236 
	#AF_DLI
 13

	)

237 
	#AF_LAT
 14

	)

238 
	#AF_HYLINK
 15

	)

239 
	#AF_APPLETALK
 16

	)

240 
	#AF_ROUTE
 17

	)

241 
	#AF_LINK
 18

	)

242 
	#p£udo_AF_XTP
 19

	)

243 
	#AF_COIP
 20

	)

244 
	#AF_CNT
 21

	)

245 
	#p£udo_AF_RTIP
 22

	)

246 
	#AF_IPX
 23

	)

247 
	#AF_SIP
 24

	)

248 
	#p£udo_AF_PIP
 25

	)

249 
	#AF_ISDN
 26

	)

250 
	#AF_E164
 
AF_ISDN


	)

251 
	#p£udo_AF_KEY
 27

	)

253 
	#AF_INET6
 28

	)

254 #ià
__BSD_VISIBLE


255 
	#AF_NATM
 29

	)

256 
	#AF_ATM
 30

	)

257 
	#p£udo_AF_HDRCMPLT
 31

	)

260 
	#AF_NETGRAPH
 32

	)

261 
	#AF_SLOW
 33

	)

262 
	#AF_SCLUSTER
 34

	)

263 
	#AF_ARP
 35

	)

264 
	#AF_BLUETOOTH
 36

	)

265 
	#AF_IEEE80211
 37

	)

266 
	#AF_INET_SDP
 40

	)

267 
	#AF_INET6_SDP
 42

	)

268 
	#AF_MAX
 42

	)

274 
	#AF_VENDOR00
 39

	)

275 
	#AF_VENDOR01
 41

	)

276 
	#AF_VENDOR02
 43

	)

277 
	#AF_VENDOR03
 45

	)

278 
	#AF_VENDOR04
 47

	)

279 
	#AF_VENDOR05
 49

	)

280 
	#AF_VENDOR06
 51

	)

281 
	#AF_VENDOR07
 53

	)

282 
	#AF_VENDOR08
 55

	)

283 
	#AF_VENDOR09
 57

	)

284 
	#AF_VENDOR10
 59

	)

285 
	#AF_VENDOR11
 61

	)

286 
	#AF_VENDOR12
 63

	)

287 
	#AF_VENDOR13
 65

	)

288 
	#AF_VENDOR14
 67

	)

289 
	#AF_VENDOR15
 69

	)

290 
	#AF_VENDOR16
 71

	)

291 
	#AF_VENDOR17
 73

	)

292 
	#AF_VENDOR18
 75

	)

293 
	#AF_VENDOR19
 77

	)

294 
	#AF_VENDOR20
 79

	)

295 
	#AF_VENDOR21
 81

	)

296 
	#AF_VENDOR22
 83

	)

297 
	#AF_VENDOR23
 85

	)

298 
	#AF_VENDOR24
 87

	)

299 
	#AF_VENDOR25
 89

	)

300 
	#AF_VENDOR26
 91

	)

301 
	#AF_VENDOR27
 93

	)

302 
	#AF_VENDOR28
 95

	)

303 
	#AF_VENDOR29
 97

	)

304 
	#AF_VENDOR30
 99

	)

305 
	#AF_VENDOR31
 101

	)

306 
	#AF_VENDOR32
 103

	)

307 
	#AF_VENDOR33
 105

	)

308 
	#AF_VENDOR34
 107

	)

309 
	#AF_VENDOR35
 109

	)

310 
	#AF_VENDOR36
 111

	)

311 
	#AF_VENDOR37
 113

	)

312 
	#AF_VENDOR38
 115

	)

313 
	#AF_VENDOR39
 117

	)

314 
	#AF_VENDOR40
 119

	)

315 
	#AF_VENDOR41
 121

	)

316 
	#AF_VENDOR42
 123

	)

317 
	#AF_VENDOR43
 125

	)

318 
	#AF_VENDOR44
 127

	)

319 
	#AF_VENDOR45
 129

	)

320 
	#AF_VENDOR46
 131

	)

321 
	#AF_VENDOR47
 133

	)

328 
	ssockaddr
 {

329 
	m§_Ën
;

330 
§_çmžy_t
 
	m§_çmžy
;

331 
	m§_d©a
[14];

333 #ià
__BSD_VISIBLE


334 
	#SOCK_MAXADDRLEN
 255

	)

340 
	ssock´Ùo
 {

341 
	m¥_çmžy
;

342 
	m¥_´ÙocÞ
;

346 
	~<sys/_sockaddr_¡Üage.h
>

348 #ià
__BSD_VISIBLE


352 
	#PF_UNSPEC
 
AF_UNSPEC


	)

353 
	#PF_LOCAL
 
AF_LOCAL


	)

354 
	#PF_UNIX
 
PF_LOCAL


	)

355 
	#PF_INET
 
AF_INET


	)

356 
	#PF_IMPLINK
 
AF_IMPLINK


	)

357 
	#PF_PUP
 
AF_PUP


	)

358 
	#PF_CHAOS
 
AF_CHAOS


	)

359 
	#PF_NETBIOS
 
AF_NETBIOS


	)

360 
	#PF_ISO
 
AF_ISO


	)

361 
	#PF_OSI
 
AF_ISO


	)

362 
	#PF_ECMA
 
AF_ECMA


	)

363 
	#PF_DATAKIT
 
AF_DATAKIT


	)

364 
	#PF_CCITT
 
AF_CCITT


	)

365 
	#PF_SNA
 
AF_SNA


	)

366 
	#PF_DECÃt
 
AF_DECÃt


	)

367 
	#PF_DLI
 
AF_DLI


	)

368 
	#PF_LAT
 
AF_LAT


	)

369 
	#PF_HYLINK
 
AF_HYLINK


	)

370 
	#PF_APPLETALK
 
AF_APPLETALK


	)

371 
	#PF_ROUTE
 
AF_ROUTE


	)

372 
	#PF_LINK
 
AF_LINK


	)

373 
	#PF_XTP
 
p£udo_AF_XTP


	)

374 
	#PF_COIP
 
AF_COIP


	)

375 
	#PF_CNT
 
AF_CNT


	)

376 
	#PF_SIP
 
AF_SIP


	)

377 
	#PF_IPX
 
AF_IPX


	)

378 
	#PF_RTIP
 
p£udo_AF_RTIP


	)

379 
	#PF_PIP
 
p£udo_AF_PIP


	)

380 
	#PF_ISDN
 
AF_ISDN


	)

381 
	#PF_KEY
 
p£udo_AF_KEY


	)

382 
	#PF_INET6
 
AF_INET6


	)

383 
	#PF_NATM
 
AF_NATM


	)

384 
	#PF_ATM
 
AF_ATM


	)

385 
	#PF_NETGRAPH
 
AF_NETGRAPH


	)

386 
	#PF_SLOW
 
AF_SLOW


	)

387 
	#PF_SCLUSTER
 
AF_SCLUSTER


	)

388 
	#PF_ARP
 
AF_ARP


	)

389 
	#PF_BLUETOOTH
 
AF_BLUETOOTH


	)

390 
	#PF_IEEE80211
 
AF_IEEE80211


	)

391 
	#PF_INET_SDP
 
AF_INET_SDP


	)

392 
	#PF_INET6_SDP
 
AF_INET6_SDP


	)

394 
	#PF_MAX
 
AF_MAX


	)

413 
	#NET_RT_DUMP
 1

	)

414 
	#NET_RT_FLAGS
 2

	)

415 
	#NET_RT_IFLIST
 3

	)

416 
	#NET_RT_IFMALIST
 4

	)

417 
	#NET_RT_IFLISTL
 5

	)

424 
	#SOMAXCONN
 128

	)

430 
	smsghdr
 {

431 *
	mmsg_Çme
;

432 
sockËn_t
 
	mmsg_Çm–’
;

433 
iovec
 *
	mmsg_iov
;

434 
	mmsg_iovËn
;

435 *
	mmsg_cÚŒÞ
;

436 
sockËn_t
 
	mmsg_cÚŒÞËn
;

437 
	mmsg_æags
;

440 
	#MSG_OOB
 0x00000001

	)

441 
	#MSG_PEEK
 0x00000002

	)

442 
	#MSG_DONTROUTE
 0x00000004

	)

443 
	#MSG_EOR
 0x00000008

	)

444 
	#MSG_TRUNC
 0x00000010

	)

445 
	#MSG_CTRUNC
 0x00000020

	)

446 
	#MSG_WAITALL
 0x00000040

	)

447 #ià
__BSD_VISIBLE


448 
	#MSG_DONTWAIT
 0x00000080

	)

449 
	#MSG_EOF
 0x00000100

	)

454 
	#MSG_NOTIFICATION
 0x00002000

	)

455 
	#MSG_NBIO
 0x00004000

	)

456 
	#MSG_COMPAT
 0x00008000

	)

458 #ifdeà
_KERNEL


459 
	#MSG_SOCALLBCK
 0x00010000

	)

461 #ià
__POSIX_VISIBLE
 >= 200809

462 
	#MSG_NOSIGNAL
 0x00020000

	)

464 #ià
__BSD_VISIBLE


465 
	#MSG_CMSG_CLOEXEC
 0x00040000

	)

466 
	#MSG_WAITFORONE
 0x00080000

	)

468 #ifdeà
_KERNEL


469 
	#MSG_MORETOCOME
 0x00100000

	)

478 
	scmsghdr
 {

479 
sockËn_t
 
	mcmsg_Ën
;

480 
	mcmsg_Ëv–
;

481 
	mcmsg_ty³
;

485 #ià
__BSD_VISIBLE


491 
	#CMGROUP_MAX
 16

	)

500 
	scmsgüed
 {

501 
pid_t
 
	mcmüed_pid
;

502 
uid_t
 
	mcmüed_uid
;

503 
uid_t
 
	mcmüed_euid
;

504 
gid_t
 
	mcmüed_gid
;

505 
	mcmüed_ngroups
;

506 
gid_t
 
	mcmüed_groups
[
CMGROUP_MAX
];

512 
	ssocküed
 {

513 
uid_t
 
	msc_uid
;

514 
uid_t
 
	msc_euid
;

515 
gid_t
 
	msc_gid
;

516 
gid_t
 
	msc_egid
;

517 
	msc_ngroups
;

518 
gid_t
 
	msc_groups
[1];

524 
	#SOCKCREDSIZE
(
ng½s
) \

525 ((
socküed
è+ ((
gid_t
è* ((
ng½s
è- 1)))

	)

530 
	#CMSG_DATA
(
cmsg
) ((*)(cmsg) + \

531 
	`_ALIGN
((
cmsghdr
)))

	)

534 
	#CMSG_NXTHDR
(
mhdr
, 
cmsg
) \

535 ((*)(
cmsg
è=ð(*)0 ? 
	`CMSG_FIRSTHDR
(
mhdr
) : \

536 ((*)(
cmsg
è+ 
	`_ALIGN
(((
cmsghdr
 *)(cmsg))->
cmsg_Ën
) + \

537 
	`_ALIGN
((
cmsghdr
)) > \

538 (*)(
mhdr
)->
msg_cÚŒÞ
 + (mhdr)->
msg_cÚŒÞËn
) ? \

539 (
cmsghdr
 *)0 : \

540 (
cmsghdr
 *)(*)((*)(
cmsg
) + \

541 
	`_ALIGN
(((
cmsghdr
 *)(
cmsg
))->
cmsg_Ën
)))

	)

547 
	#CMSG_FIRSTHDR
(
mhdr
) \

548 ((
mhdr
)->
msg_cÚŒÞËn
 >ð(
cmsghdr
) ? \

549 (
cmsghdr
 *)(
mhdr
)->
msg_cÚŒÞ
 : \

550 (
cmsghdr
 *)0)

	)

552 #ià
__BSD_VISIBLE


554 
	#CMSG_SPACE
(
l
è(
	`_ALIGN
((
cmsghdr
)è+ _ALIGNÖ))

	)

555 
	#CMSG_LEN
(
l
è(
	`_ALIGN
((
cmsghdr
)è+ (l))

	)

558 #ifdeà
_KERNEL


559 
	#CMSG_ALIGN
(
n
è
	`_ALIGN
Ò)

	)

563 
	#SCM_RIGHTS
 0x01

	)

564 #ià
__BSD_VISIBLE


565 
	#SCM_TIMESTAMP
 0x02

	)

566 
	#SCM_CREDS
 0x03

	)

567 
	#SCM_BINTIME
 0x04

	)

568 
	#SCM_REALTIME
 0x05

	)

569 
	#SCM_MONOTONIC
 0x06

	)

570 
	#SCM_TIME_INFO
 0x07

	)

572 
	ssock_time¡amp_šfo
 {

573 
__ušt32_t
 
	m¡_šfo_æags
;

574 
__ušt32_t
 
	m¡_šfo_·d0
;

575 
__ušt64_t
 
	m¡_šfo_rsv
[7];

578 
	#ST_INFO_HW
 0x0001

	)

579 
	#ST_INFO_HW_HPREC
 0x0002

	)

583 #ià
__BSD_VISIBLE


587 
	sosockaddr
 {

588 
	m§_çmžy
;

589 
	m§_d©a
[14];

595 
	somsghdr
 {

596 *
	mmsg_Çme
;

597 
	mmsg_Çm–’
;

598 
iovec
 *
	mmsg_iov
;

599 
	mmsg_iovËn
;

600 *
	mmsg_acüights
;

601 
	mmsg_acüight¦’
;

608 
	#SHUT_RD
 0

	)

609 
	#SHUT_WR
 1

	)

610 
	#SHUT_RDWR
 2

	)

612 #ià
__BSD_VISIBLE


615 
	#PRU_FLUSH_RD
 
SHUT_RD


	)

616 
	#PRU_FLUSH_WR
 
SHUT_WR


	)

617 
	#PRU_FLUSH_RDWR
 
SHUT_RDWR


	)

621 #ià
__BSD_VISIBLE


625 
	ssf_hdŒ
 {

626 
iovec
 *
	mh—d”s
;

627 
	mhdr_út
;

628 
iovec
 *
	mŒaž”s
;

629 
	mŒl_út
;

635 
	#SF_NODISKIO
 0x00000001

	)

636 
	#SF_MNOWAIT
 0x00000002

	)

637 
	#SF_SYNC
 0x00000004

	)

638 
	#SF_USER_READAHEAD
 0x00000008

	)

639 
	#SF_NOCACHE
 0x00000010

	)

640 
	#SF_FLAGS
(
rh
, 
æags
è((Ôhè<< 16è| (æags))

	)

642 #ifdeà
_KERNEL


643 
	#SF_READAHEAD
(
æags
è((æagsè>> 16)

	)

649 
	smmsghdr
 {

650 
msghdr
 
	mmsg_hdr
;

651 
ssize_t
 
	mmsg_Ën
;

655 #iâdef 
_KERNEL


657 
	~<sys/cdefs.h
>

659 
__BEGIN_DECLS


660 
acû±
(, 
sockaddr
 * 
__»¡riù
, 
sockËn_t
 * __restrict);

661 
bšd
(, cÚ¡ 
sockaddr
 *, 
sockËn_t
);

662 
cÚÃù
(, cÚ¡ 
sockaddr
 *, 
sockËn_t
);

663 #ià
__BSD_VISIBLE


664 
acû±4
(, 
sockaddr
 * 
__»¡riù
, 
sockËn_t
 * __restrict, );

665 
bšd©
(, , cÚ¡ 
sockaddr
 *, 
sockËn_t
);

666 
cÚÃù©
(, , cÚ¡ 
sockaddr
 *, 
sockËn_t
);

668 
g‘³”Çme
(, 
sockaddr
 * 
__»¡riù
, 
sockËn_t
 * __restrict);

669 
g‘sockÇme
(, 
sockaddr
 * 
__»¡riù
, 
sockËn_t
 * __restrict);

670 
g‘sockÝt
(, , , * 
__»¡riù
, 
sockËn_t
 * __restrict);

671 
li¡’
(, );

672 
ssize_t
 
»cv
(, *, 
size_t
, );

673 
ssize_t
 
»cväom
(, *, 
size_t
, , 
sockaddr
 * 
__»¡riù
, 
sockËn_t
 * __restrict);

674 
ssize_t
 
»cvmsg
(, 
msghdr
 *, );

675 #ià
__BSD_VISIBLE


676 
	gtime¥ec
;

677 
ssize_t
 
»cvmmsg
(, 
mmsghdr
 * 
__»¡riù
, 
size_t
, ,

678 cÚ¡ 
time¥ec
 * 
__»¡riù
);

680 
ssize_t
 
£nd
(, cÚ¡ *, 
size_t
, );

681 
ssize_t
 
£ndto
(, const *,

682 
size_t
, , cÚ¡ 
sockaddr
 *, 
sockËn_t
);

683 
ssize_t
 
£ndmsg
(, cÚ¡ 
msghdr
 *, );

684 #ià
__BSD_VISIBLE


685 
£ndfže
(, , 
off_t
, 
size_t
, 
sf_hdŒ
 *, off_t *, );

686 
ssize_t
 
£ndmmsg
(, 
mmsghdr
 * 
__»¡riù
, 
size_t
, );

687 
£tfib
();

689 
£tsockÝt
(, , , cÚ¡ *, 
sockËn_t
);

690 
shutdown
(, );

691 
sock©m¬k
();

692 
sock‘
(, , );

693 
sock‘·œ
(, , , *);

694 
	g__END_DECLS


698 #ifdeà
_KERNEL


699 
	gsock‘
;

701 
týcb
 *
so_sÙÙýcb
(
sock‘
 *
so
);

702 
špcb
 *
so_sÙošpcb
(
sock‘
 *
so
);

703 
sockbuf
 *
so_sockbuf_¢d
(
sock‘
 *);

704 
sockbuf
 *
so_sockbuf_rcv
(
sock‘
 *);

706 
so_¡©e_g‘
(cÚ¡ 
sock‘
 *);

707 
so_¡©e_£t
(
sock‘
 *, );

709 
so_ÝtiÚs_g‘
(cÚ¡ 
sock‘
 *);

710 
so_ÝtiÚs_£t
(
sock‘
 *, );

712 
so_”rÜ_g‘
(cÚ¡ 
sock‘
 *);

713 
so_”rÜ_£t
(
sock‘
 *, );

715 
so_lšg”_g‘
(cÚ¡ 
sock‘
 *);

716 
so_lšg”_£t
(
sock‘
 *, );

718 
´Ùosw
 *
so_´Ùosw_g‘
(cÚ¡ 
sock‘
 *);

719 
so_´Ùosw_£t
(
sock‘
 *, 
´Ùosw
 *);

721 
so_sÜwakeup_locked
(
sock‘
 *
so
);

722 
so_sowwakeup_locked
(
sock‘
 *
so
);

724 
so_sÜwakeup
(
sock‘
 *
so
);

725 
so_sowwakeup
(
sock‘
 *
so
);

727 
so_lock
(
sock‘
 *
so
);

728 
so_uÆock
(
sock‘
 *
so
);

	@/usr/include/sys/stat.h

40 #iâdeà
_SYS_STAT_H_


41 
	#_SYS_STAT_H_


	)

43 
	~<sys/cdefs.h
>

44 
	~<sys/_time¥ec.h
>

45 
	~<sys/_ty³s.h
>

47 #iâdeà
_BLKSIZE_T_DECLARED


48 
__blksize_t
 
	tblksize_t
;

49 
	#_BLKSIZE_T_DECLARED


	)

52 #iâdeà
_BLKCNT_T_DECLARED


53 
__blkút_t
 
	tblkút_t
;

54 
	#_BLKCNT_T_DECLARED


	)

57 #iâdeà
_DEV_T_DECLARED


58 
__dev_t
 
	tdev_t
;

59 
	#_DEV_T_DECLARED


	)

62 #iâdeà
_FFLAGS_T_DECLARED


63 
__fæags_t
 
	tfæags_t
;

64 
	#_FFLAGS_T_DECLARED


	)

67 #iâdeà
_GID_T_DECLARED


68 
__gid_t
 
	tgid_t
;

69 
	#_GID_T_DECLARED


	)

72 #iâdeà
_INO_T_DECLARED


73 
__šo_t
 
	tšo_t
;

74 
	#_INO_T_DECLARED


	)

77 #iâdeà
_MODE_T_DECLARED


78 
__mode_t
 
	tmode_t
;

79 
	#_MODE_T_DECLARED


	)

82 #iâdeà
_NLINK_T_DECLARED


83 
__Æšk_t
 
	tÆšk_t
;

84 
	#_NLINK_T_DECLARED


	)

87 #iâdeà
_OFF_T_DECLARED


88 
__off_t
 
	toff_t
;

89 
	#_OFF_T_DECLARED


	)

92 #iâdeà
_UID_T_DECLARED


93 
__uid_t
 
	tuid_t
;

94 
	#_UID_T_DECLARED


	)

97 #ià!
defšed
(
_KERNEL
è&& 
__BSD_VISIBLE


101 
	~<sys/time.h
>

104 #ifdeà
_KERNEL


105 
	so¡©
 {

106 
__ušt16_t
 
	m¡_dev
;

107 
__ušt32_t
 
	m¡_šo
;

108 
mode_t
 
	m¡_mode
;

109 
__ušt16_t
 
	m¡_Æšk
;

110 
__ušt16_t
 
	m¡_uid
;

111 
__ušt16_t
 
	m¡_gid
;

112 
__ušt16_t
 
	m¡_rdev
;

113 
__št32_t
 
	m¡_size
;

114 
time¥ec
 
	m¡_©im
;

115 
time¥ec
 
	m¡_mtim
;

116 
time¥ec
 
	m¡_ùim
;

117 
__št32_t
 
	m¡_blksize
;

118 
__št32_t
 
	m¡_blocks
;

119 
fæags_t
 
	m¡_æags
;

120 
__ušt32_t
 
	m¡_g’
;

124 #ià
defšed
(
_WANT_FREEBSD11_STAT
è|| defšed(
_KERNEL
)

125 
	sä“bsd11_¡©
 {

126 
__ušt32_t
 
	m¡_dev
;

127 
__ušt32_t
 
	m¡_šo
;

128 
mode_t
 
	m¡_mode
;

129 
__ušt16_t
 
	m¡_Æšk
;

130 
uid_t
 
	m¡_uid
;

131 
gid_t
 
	m¡_gid
;

132 
__ušt32_t
 
	m¡_rdev
;

133 
time¥ec
 
	m¡_©im
;

134 
time¥ec
 
	m¡_mtim
;

135 
time¥ec
 
	m¡_ùim
;

136 
off_t
 
	m¡_size
;

137 
blkút_t
 
	m¡_blocks
;

138 
blksize_t
 
	m¡_blksize
;

139 
fæags_t
 
	m¡_æags
;

140 
__ušt32_t
 
	m¡_g’
;

141 
__št32_t
 
	m¡_l¥¬e
;

142 
time¥ec
 
	m¡_bœthtim
;

151 :(8 / 2è* (16 - ()(
time¥ec
));

152 :(8 / 2è* (16 - ()(
time¥ec
));

156 #ià
defšed
(
__i386__
)

157 
	#__STAT_TIME_T_EXT
 1

	)

160 
	s¡©
 {

161 
dev_t
 
	m¡_dev
;

162 
šo_t
 
	m¡_šo
;

163 
Æšk_t
 
	m¡_Æšk
;

164 
mode_t
 
	m¡_mode
;

165 
__št16_t
 
	m¡_·ddšg0
;

166 
uid_t
 
	m¡_uid
;

167 
gid_t
 
	m¡_gid
;

168 
__št32_t
 
	m¡_·ddšg1
;

169 
dev_t
 
	m¡_rdev
;

170 #ifdef 
__STAT_TIME_T_EXT


171 
__št32_t
 
	m¡_©im_ext
;

173 
time¥ec
 
	m¡_©im
;

174 #ifdef 
__STAT_TIME_T_EXT


175 
__št32_t
 
	m¡_mtim_ext
;

177 
time¥ec
 
	m¡_mtim
;

178 #ifdef 
__STAT_TIME_T_EXT


179 
__št32_t
 
	m¡_ùim_ext
;

181 
time¥ec
 
	m¡_ùim
;

182 #ifdef 
__STAT_TIME_T_EXT


183 
__št32_t
 
	m¡_btim_ext
;

185 
time¥ec
 
	m¡_bœthtim
;

186 
off_t
 
	m¡_size
;

187 
blkút_t
 
	m¡_blocks
;

188 
blksize_t
 
	m¡_blksize
;

189 
fæags_t
 
	m¡_æags
;

190 
__ušt64_t
 
	m¡_g’
;

191 
__ušt64_t
 
	m¡_¥¬e
[10];

194 #ifdeà
_KERNEL


195 
	sn¡©
 {

196 
__ušt32_t
 
	m¡_dev
;

197 
__ušt32_t
 
	m¡_šo
;

198 
__ušt32_t
 
	m¡_mode
;

199 
__ušt32_t
 
	m¡_Æšk
;

200 
uid_t
 
	m¡_uid
;

201 
gid_t
 
	m¡_gid
;

202 
__ušt32_t
 
	m¡_rdev
;

203 
time¥ec
 
	m¡_©im
;

204 
time¥ec
 
	m¡_mtim
;

205 
time¥ec
 
	m¡_ùim
;

206 
off_t
 
	m¡_size
;

207 
blkút_t
 
	m¡_blocks
;

208 
blksize_t
 
	m¡_blksize
;

209 
fæags_t
 
	m¡_æags
;

210 
__ušt32_t
 
	m¡_g’
;

211 
time¥ec
 
	m¡_bœthtim
;

216 :(8 / 2è* (16 - ()(
time¥ec
));

217 :(8 / 2è* (16 - ()(
time¥ec
));

221 #iâdeà
_KERNEL


222 
	#¡_©ime
 
¡_©im
.
tv_£c


	)

223 
	#¡_mtime
 
¡_mtim
.
tv_£c


	)

224 
	#¡_ùime
 
¡_ùim
.
tv_£c


	)

225 #ià
__BSD_VISIBLE


226 
	#¡_bœthtime
 
¡_bœthtim
.
tv_£c


	)

230 #ià
__BSD_VISIBLE


231 
	#¡_©ime¥ec
 
¡_©im


	)

232 
	#¡_mtime¥ec
 
¡_mtim


	)

233 
	#¡_ùime¥ec
 
¡_ùim


	)

234 
	#¡_bœthtime¥ec
 
¡_bœthtim


	)

238 
	#S_ISUID
 0004000

	)

239 
	#S_ISGID
 0002000

	)

240 #ià
__BSD_VISIBLE


241 
	#S_ISTXT
 0001000

	)

244 
	#S_IRWXU
 0000700

	)

245 
	#S_IRUSR
 0000400

	)

246 
	#S_IWUSR
 0000200

	)

247 
	#S_IXUSR
 0000100

	)

249 #ià
__BSD_VISIBLE


250 
	#S_IREAD
 
S_IRUSR


	)

251 
	#S_IWRITE
 
S_IWUSR


	)

252 
	#S_IEXEC
 
S_IXUSR


	)

255 
	#S_IRWXG
 0000070

	)

256 
	#S_IRGRP
 0000040

	)

257 
	#S_IWGRP
 0000020

	)

258 
	#S_IXGRP
 0000010

	)

260 
	#S_IRWXO
 0000007

	)

261 
	#S_IROTH
 0000004

	)

262 
	#S_IWOTH
 0000002

	)

263 
	#S_IXOTH
 0000001

	)

265 #ià
__XSI_VISIBLE


266 
	#S_IFMT
 0170000

	)

267 
	#S_IFIFO
 0010000

	)

268 
	#S_IFCHR
 0020000

	)

269 
	#S_IFDIR
 0040000

	)

270 
	#S_IFBLK
 0060000

	)

271 
	#S_IFREG
 0100000

	)

272 
	#S_IFLNK
 0120000

	)

273 
	#S_IFSOCK
 0140000

	)

274 
	#S_ISVTX
 0001000

	)

276 #ià
__BSD_VISIBLE


277 
	#S_IFWHT
 0160000

	)

280 
	#S_ISDIR
(
m
è(((mè& 0170000è=ð0040000è

	)

281 
	#S_ISCHR
(
m
è(((mè& 0170000è=ð0020000è

	)

282 
	#S_ISBLK
(
m
è(((mè& 0170000è=ð0060000è

	)

283 
	#S_ISREG
(
m
è(((mè& 0170000è=ð0100000è

	)

284 
	#S_ISFIFO
(
m
è(((mè& 0170000è=ð0010000è

	)

285 #ià
__POSIX_VISIBLE
 >= 200112

286 
	#S_ISLNK
(
m
è(((mè& 0170000è=ð0120000è

	)

287 
	#S_ISSOCK
(
m
è(((mè& 0170000è=ð0140000è

	)

289 #ià
__BSD_VISIBLE


290 
	#S_ISWHT
(
m
è(((mè& 0170000è=ð0160000è

	)

293 #ià
__BSD_VISIBLE


294 
	#ACCESSPERMS
 (
S_IRWXU
|
S_IRWXG
|
S_IRWXO
è

	)

296 
	#ALLPERMS
 (
S_ISUID
|
S_ISGID
|
S_ISTXT
|
S_IRWXU
|
S_IRWXG
|
S_IRWXO
)

	)

298 
	#DEFFILEMODE
 (
S_IRUSR
|
S_IWUSR
|
S_IRGRP
|
S_IWGRP
|
S_IROTH
|
S_IWOTH
)

	)

300 
	#S_BLKSIZE
 512

	)

307 
	#UF_SETTABLE
 0x0000fffà

	)

308 
	#UF_NODUMP
 0x00000001

	)

309 
	#UF_IMMUTABLE
 0x00000002

	)

310 
	#UF_APPEND
 0x00000004

	)

311 
	#UF_OPAQUE
 0x00000008

	)

312 
	#UF_NOUNLINK
 0x00000010

	)

318 
	#UF_COMPRESSED
 0x00000020

	)

319 
	#UF_TRACKED
 0x00000040

	)

322 
	#UF_SYSTEM
 0x00000080

	)

323 
	#UF_SPARSE
 0x00000100

	)

324 
	#UF_OFFLINE
 0x00000200

	)

325 
	#UF_REPARSE
 0x00000400

	)

326 
	#UF_ARCHIVE
 0x00000800

	)

327 
	#UF_READONLY
 0x00001000

	)

329 
	#UF_HIDDEN
 0x00008000

	)

334 
	#SF_SETTABLE
 0xffff0000

	)

335 
	#SF_ARCHIVED
 0x00010000

	)

336 
	#SF_IMMUTABLE
 0x00020000

	)

337 
	#SF_APPEND
 0x00040000

	)

338 
	#SF_NOUNLINK
 0x00100000

	)

339 
	#SF_SNAPSHOT
 0x00200000

	)

341 #ifdeà
_KERNEL


345 
	#OPAQUE
 (
UF_OPAQUE
)

	)

346 
	#APPEND
 (
UF_APPEND
 | 
SF_APPEND
)

	)

347 
	#IMMUTABLE
 (
UF_IMMUTABLE
 | 
SF_IMMUTABLE
)

	)

348 
	#NOUNLINK
 (
UF_NOUNLINK
 | 
SF_NOUNLINK
)

	)

353 #ià
__POSIX_VISIBLE
 >= 200809

354 
	#UTIME_NOW
 -1

	)

355 
	#UTIME_OMIT
 -2

	)

358 #iâdeà
_KERNEL


359 
	g__BEGIN_DECLS


360 #ià
__BSD_VISIBLE


361 
chæags
(const *, );

362 
chæag§t
(, const *, , );

364 
chmod
(cÚ¡ *, 
mode_t
);

365 #ià
__BSD_VISIBLE


366 
fchæags
(, );

368 #ià
__POSIX_VISIBLE
 >= 200112

369 
fchmod
(, 
mode_t
);

371 #ià
__POSIX_VISIBLE
 >= 200809

372 
fchmod©
(, cÚ¡ *, 
mode_t
, );

373 
futim’s
(
fd
, cÚ¡ 
time¥ec
 
times
[2]);

374 
utim’§t
(
fd
, cÚ¡ *
·th
, cÚ¡ 
time¥ec
 
times
[2],

375 
æag
);

377 
f¡©
(, 
¡©
 *);

378 #ià
__BSD_VISIBLE


379 
lchæags
(const *, );

380 
lchmod
(cÚ¡ *, 
mode_t
);

382 #ià
__POSIX_VISIBLE
 >= 200112

383 
l¡©
(cÚ¡ * 
__»¡riù
, 
¡©
 * __restrict);

385 
mkdœ
(cÚ¡ *, 
mode_t
);

386 
mkfifo
(cÚ¡ *, 
mode_t
);

387 #ià!
defšed
(
_MKNOD_DECLARED
è&& 
__XSI_VISIBLE


388 
mknod
(cÚ¡ *, 
mode_t
, 
dev_t
);

389 
	#_MKNOD_DECLARED


	)

391 
¡©
(cÚ¡ * 
__»¡riù
, stat * __restrict);

392 
mode_t
 
umask
(mode_t);

393 #ià
__POSIX_VISIBLE
 >= 200809

394 
f¡©©
(, cÚ¡ *, 
¡©
 *, );

395 
mkdœ©
(, cÚ¡ *, 
mode_t
);

396 
mkfifßt
(, cÚ¡ *, 
mode_t
);

398 #ià
__XSI_VISIBLE
 >= 700

399 
mknod©
(, cÚ¡ *, 
mode_t
, 
dev_t
);

401 
	g__END_DECLS


	@/usr/include/sys/sx.h

34 #iâdef 
_SYS_SX_H_


35 
	#_SYS_SX_H_


	)

37 
	~<sys/_lock.h
>

38 
	~<sys/_sx.h
>

40 #ifdef 
_KERNEL


41 
	~<sys/pýu.h
>

42 
	~<sys/lock_´ofže.h
>

43 
	~<sys/lock¡©.h
>

44 
	~<machše/©omic.h
>

70 
	#SX_LOCK_SHARED
 0x01

	)

71 
	#SX_LOCK_SHARED_WAITERS
 0x02

	)

72 
	#SX_LOCK_EXCLUSIVE_WAITERS
 0x04

	)

73 
	#SX_LOCK_WRITE_SPINNER
 0x08

	)

74 
	#SX_LOCK_RECURSED
 0x10

	)

75 
	#SX_LOCK_FLAGMASK
 \

76 (
SX_LOCK_SHARED
 | 
SX_LOCK_SHARED_WAITERS
 | \

77 
SX_LOCK_EXCLUSIVE_WAITERS
 | 
SX_LOCK_RECURSED
 | 
SX_LOCK_WRITE_SPINNER
)

	)

78 
	#SX_LOCK_WAITERS
 (
SX_LOCK_SHARED_WAITERS
 | 
SX_LOCK_EXCLUSIVE_WAITERS
)

	)

80 
	#SX_OWNER
(
x
è((xè& ~
SX_LOCK_FLAGMASK
)

	)

81 
	#SX_SHARERS_SHIFT
 5

	)

82 
	#SX_SHARERS
(
x
è(
	`SX_OWNER
(xè>> 
SX_SHARERS_SHIFT
)

	)

83 
	#SX_SHARERS_LOCK
(
x
) \

84 ((
x
è<< 
SX_SHARERS_SHIFT
 | 
SX_LOCK_SHARED
)

	)

85 
	#SX_ONE_SHARER
 (1 << 
SX_SHARERS_SHIFT
)

	)

87 
	#SX_LOCK_UNLOCKED
 
	`SX_SHARERS_LOCK
(0)

	)

88 
	#SX_LOCK_DESTROYED
 \

89 (
SX_LOCK_SHARED_WAITERS
 | 
SX_LOCK_EXCLUSIVE_WAITERS
)

	)

91 #ifdeà
_KERNEL


93 
	#sx_»cur£
 
lock_objeù
.
lo_d©a


	)

95 
	#SX_READ_VALUE
(
sx
è((sx)->
sx_lock
)

	)

97 
	#lv_sx_owÃr
(
v
) \

98 ((
v
 & 
SX_LOCK_SHARED
è? 
NULL
 : (
th»ad
 *)
	`SX_OWNER
(v))

	)

104 
sx_sysš™
(*
¬g
);

105 
	#sx_š™
(
sx
, 
desc
è
	`sx_š™_æags
((sx), (desc), 0)

	)

106 
sx_š™_æags
(
sx
 *sx, cÚ¡ *
desütiÚ
, 
Ýts
);

107 
sx_de¡roy
(
sx
 *sx);

108 
sx_Œy_¦ock_št
(
sx
 *sx 
LOCK_FILE_LINE_ARG_DEF
);

109 
sx_Œy_¦ock_
(
sx
 *sx, cÚ¡ *
fže
, 
lše
);

110 
sx_Œy_xlock_št
(
sx
 *sx 
LOCK_FILE_LINE_ARG_DEF
);

111 
sx_Œy_xlock_
(
sx
 *sx, cÚ¡ *
fže
, 
lše
);

112 
sx_Œy_upg¿de_št
(
sx
 *sx 
LOCK_FILE_LINE_ARG_DEF
);

113 
sx_Œy_upg¿de_
(
sx
 *sx, cÚ¡ *
fže
, 
lše
);

114 
sx_downg¿de_št
(
sx
 *sx 
LOCK_FILE_LINE_ARG_DEF
);

115 
sx_downg¿de_
(
sx
 *sx, cÚ¡ *
fže
, 
lše
);

116 
_sx_¦ock_št
(
sx
 *sx, 
Ýts
 
LOCK_FILE_LINE_ARG_DEF
);

117 
_sx_¦ock
(
sx
 *sx, 
Ýts
, cÚ¡ *
fže
, 
lše
);

118 
_sx_xlock
(
sx
 *sx, 
Ýts
, cÚ¡ *
fže
, 
lše
);

119 
_sx_suÆock_št
(
sx
 *sx 
LOCK_FILE_LINE_ARG_DEF
);

120 
_sx_suÆock
(
sx
 *sx, cÚ¡ *
fže
, 
lše
);

121 
_sx_xuÆock
(
sx
 *sx, cÚ¡ *
fže
, 
lše
);

122 
_sx_xlock_h¬d
(
sx
 *sx, 
ušŒ_t
 
x
, 
Ýts
 
LOCK_FILE_LINE_ARG_DEF
);

123 
_sx_xuÆock_h¬d
(
sx
 *sx, 
ušŒ_t
 
x
 
LOCK_FILE_LINE_ARG_DEF
);

124 #ià
defšed
(
INVARIANTS
è|| defšed(
INVARIANT_SUPPORT
)

125 
_sx_as£¹
(cÚ¡ 
sx
 *sx, 
wh©
, cÚ¡ *
fže
, 
lše
);

127 #ifdeà
DDB


128 
sx_chaš
(
th»ad
 *
td
, th»ad **
owÃ½
);

131 
	ssx_¬gs
 {

132 
sx
 *
	m§_sx
;

133 cÚ¡ *
	m§_desc
;

134 
	m§_æags
;

137 
	#SX_SYSINIT_FLAGS
(
Çme
, 
sxa
, 
desc
, 
æags
) \

138 
sx_¬gs
 
Çme
##
_¬gs
 = { \

139 (
sxa
), \

140 (
desc
), \

141 (
æags
) \

143 
	`SYSINIT
(
Çme
##
_sx_sysš™
, 
SI_SUB_LOCK
, 
SI_ORDER_MIDDLE
, \

144 
sx_sysš™
, &
Çme
##
_¬gs
); \

145 
	`SYSUNINIT
(
Çme
##
_sx_sysunš™
, 
SI_SUB_LOCK
, 
SI_ORDER_MIDDLE
, \

146 
sx_de¡roy
, (
sxa
))

	)

148 
	#SX_SYSINIT
(
Çme
, 
sxa
, 
desc
è
	`SX_SYSINIT_FLAGS
Òame, sxa, desc, 0)

	)

156 #if (
LOCK_DEBUG
 == 0)

158 
__šlše
 

159 
	$__sx_xlock
(
sx
 *sx, 
th»ad
 *
td
, 
Ýts
, cÚ¡ *
fže
,

160 
lše
)

162 
ušŒ_t
 
tid
 = (ušŒ_t)
td
;

163 
ušŒ_t
 
v
 = 
SX_LOCK_UNLOCKED
;

164 
”rÜ
 = 0;

166 ià(
	`__´ediù_çl£
(
	`LOCKSTAT_PROFILE_ENABLED
(
sx__acquœe
) ||

167 !
	`©omic_fcmp£t_acq_±r
(&
sx
->
sx_lock
, &
v
, 
tid
)))

168 
”rÜ
 = 
	`_sx_xlock_h¬d
(
sx
, 
v
, 
Ýts
);

170  (
”rÜ
);

171 
	}
}

174 
__šlše
 

175 
	$__sx_xuÆock
(
sx
 *sx, 
th»ad
 *
td
, cÚ¡ *
fže
, 
lše
)

177 
ušŒ_t
 
x
 = (ušŒ_t)
td
;

179 ià(
	`__´ediù_çl£
(
	`LOCKSTAT_PROFILE_ENABLED
(
sx__»Ëa£
) ||

180 !
	`©omic_fcmp£t_»l_±r
(&
sx
->
sx_lock
, &
x
, 
SX_LOCK_UNLOCKED
)))

181 
	`_sx_xuÆock_h¬d
(
sx
, 
x
);

182 
	}
}

188 #iâdeà
LOCK_DEBUG


191 #if (
LOCK_DEBUG
 > 0è|| 
defšed
(
SX_NOINLINE
)

192 
	#sx_xlock_
(
sx
, 
fže
, 
lše
) \

193 ()
	`_sx_xlock
((
sx
), 0, (
fže
), (
lše
))

	)

194 
	#sx_xlock_sig_
(
sx
, 
fže
, 
lše
) \

195 
	`_sx_xlock
((
sx
), 
SX_INTERRUPTIBLE
, (
fže
), (
lše
))

	)

196 
	#sx_xuÆock_
(
sx
, 
fže
, 
lše
) \

197 
	`_sx_xuÆock
((
sx
), (
fže
), (
lše
))

	)

199 
	#sx_xlock_
(
sx
, 
fže
, 
lše
) \

200 ()
	`__sx_xlock
((
sx
), 
cu¹h»ad
, 0, (
fže
), (
lše
))

	)

201 
	#sx_xlock_sig_
(
sx
, 
fže
, 
lše
) \

202 
	`__sx_xlock
((
sx
), 
cu¹h»ad
, 
SX_INTERRUPTIBLE
, (
fže
), (
lše
))

	)

203 
	#sx_xuÆock_
(
sx
, 
fže
, 
lše
) \

204 
	`__sx_xuÆock
((
sx
), 
cu¹h»ad
, (
fže
), (
lše
))

	)

206 #if (
LOCK_DEBUG
 > 0)

207 
	#sx_¦ock_
(
sx
, 
fže
, 
lše
) \

208 ()
	`_sx_¦ock
((
sx
), 0, (
fže
), (
lše
))

	)

209 
	#sx_¦ock_sig_
(
sx
, 
fže
, 
lše
) \

210 
	`_sx_¦ock
((
sx
), 
SX_INTERRUPTIBLE
, (
fže
è, (
lše
))

	)

211 
	#sx_suÆock_
(
sx
, 
fže
, 
lše
) \

212 
	`_sx_suÆock
((
sx
), (
fže
), (
lše
))

	)

213 
	#sx_Œy_¦ock
(
sx
è
	`sx_Œy_¦ock_
((sx), 
LOCK_FILE
, 
LOCK_LINE
)

	)

214 
	#sx_Œy_xlock
(
sx
è
	`sx_Œy_xlock_
((sx), 
LOCK_FILE
, 
LOCK_LINE
)

	)

215 
	#sx_Œy_upg¿de
(
sx
è
	`sx_Œy_upg¿de_
((sx), 
LOCK_FILE
, 
LOCK_LINE
)

	)

216 
	#sx_downg¿de
(
sx
è
	`sx_downg¿de_
((sx), 
LOCK_FILE
, 
LOCK_LINE
)

	)

218 
	#sx_¦ock_
(
sx
, 
fže
, 
lše
) \

219 ()
	`_sx_¦ock_št
((
sx
), 0)

	)

220 
	#sx_¦ock_sig_
(
sx
, 
fže
, 
lše
) \

221 
	`_sx_¦ock_št
((
sx
), 
SX_INTERRUPTIBLE
)

	)

222 
	#sx_suÆock_
(
sx
, 
fže
, 
lše
) \

223 
	`_sx_suÆock_št
((
sx
))

	)

224 
	#sx_Œy_¦ock
(
sx
è
	`sx_Œy_¦ock_št
((sx))

	)

225 
	#sx_Œy_xlock
(
sx
è
	`sx_Œy_xlock_št
((sx))

	)

226 
	#sx_Œy_upg¿de
(
sx
è
	`sx_Œy_upg¿de_št
((sx))

	)

227 
	#sx_downg¿de
(
sx
è
	`sx_downg¿de_št
((sx))

	)

229 #ifdeà
INVARIANTS


230 
	#sx_as£¹_
(
sx
, 
wh©
, 
fže
, 
lše
) \

231 
	`_sx_as£¹
((
sx
), (
wh©
), (
fže
), (
lše
))

	)

233 
	#sx_as£¹_
(
sx
, 
wh©
, 
fže
, 
lše
è()0

	)

236 
	#sx_xlock
(
sx
è
	`sx_xlock_
((sx), 
LOCK_FILE
, 
LOCK_LINE
)

	)

237 
	#sx_xlock_sig
(
sx
è
	`sx_xlock_sig_
((sx), 
LOCK_FILE
, 
LOCK_LINE
)

	)

238 
	#sx_xuÆock
(
sx
è
	`sx_xuÆock_
((sx), 
LOCK_FILE
, 
LOCK_LINE
)

	)

239 
	#sx_¦ock
(
sx
è
	`sx_¦ock_
((sx), 
LOCK_FILE
, 
LOCK_LINE
)

	)

240 
	#sx_¦ock_sig
(
sx
è
	`sx_¦ock_sig_
((sx), 
LOCK_FILE
, 
LOCK_LINE
)

	)

241 
	#sx_suÆock
(
sx
è
	`sx_suÆock_
((sx), 
LOCK_FILE
, 
LOCK_LINE
)

	)

242 
	#sx_as£¹
(
sx
, 
wh©
è
	`sx_as£¹_
((sx), (wh©), 
__FILE__
, 
__LINE__
)

	)

248 
	#sx_xhÞd”
(
sx
) \

249 ((
sx
)->
sx_lock
 & 
SX_LOCK_SHARED
 ? 
NULL
 : \

250 (
th»ad
 *)
	`SX_OWNER
((
sx
)->
sx_lock
))

	)

252 
	#sx_xlocked
(
sx
) \

253 (((
sx
)->
sx_lock
 & ~(
SX_LOCK_FLAGMASK
 & ~
SX_LOCK_SHARED
)) == \

254 (
ušŒ_t
)
cu¹h»ad
)

	)

256 
	#sx_uÆock_
(
sx
, 
fže
, 
lše
) do { \

257 ià(
	`sx_xlocked
(
sx
)) \

258 
	`sx_xuÆock_
(
sx
, 
fže
, 
lše
); \

260 
	`sx_suÆock_
(
sx
, 
fže
, 
lše
); \

261 } 0)

	)

263 
	#sx_uÆock
(
sx
è
	`sx_uÆock_
((sx), 
LOCK_FILE
, 
LOCK_LINE
)

	)

265 
	#sx_¦“p
(
chª
, 
sx
, 
´i
, 
wmesg
, 
timo
) \

266 
	`_¦“p
((
chª
), &(
sx
)->
lock_objeù
, (
´i
), (
wmesg
), \

267 
tick_sbt
 * (
timo
), 0, 
C_HARDCLOCK
)

	)

272 
	#SX_DUPOK
 0x01

	)

273 
	#SX_NOPROFILE
 0x02

	)

274 
	#SX_NOWITNESS
 0x04

	)

275 
	#SX_QUIET
 0x08

	)

276 
	#SX_NOADAPTIVE
 0x10

	)

277 
	#SX_RECURSE
 0x20

	)

278 
	#SX_NEW
 0x40

	)

283 
	#SX_INTERRUPTIBLE
 0x40

	)

285 #ià
defšed
(
INVARIANTS
è|| defšed(
INVARIANT_SUPPORT
)

286 
	#SA_LOCKED
 
LA_LOCKED


	)

287 
	#SA_SLOCKED
 
LA_SLOCKED


	)

288 
	#SA_XLOCKED
 
LA_XLOCKED


	)

289 
	#SA_UNLOCKED
 
LA_UNLOCKED


	)

290 
	#SA_RECURSED
 
LA_RECURSED


	)

291 
	#SA_NOTRECURSED
 
LA_NOTRECURSED


	)

294 
	#SX_LOCKED
 
LA_LOCKED


	)

295 
	#SX_SLOCKED
 
LA_SLOCKED


	)

296 
	#SX_XLOCKED
 
LA_XLOCKED


	)

297 
	#SX_UNLOCKED
 
LA_UNLOCKED


	)

298 
	#SX_RECURSED
 
LA_RECURSED


	)

299 
	#SX_NOTRECURSED
 
LA_NOTRECURSED


	)

	@/usr/include/sys/syscall.h

8 
	#SYS_sysÿÎ
 0

	)

9 
	#SYS_ex™
 1

	)

10 
	#SYS_fÜk
 2

	)

11 
	#SYS_»ad
 3

	)

12 
	#SYS_wr™e
 4

	)

13 
	#SYS_Ý’
 5

	)

14 
	#SYS_þo£
 6

	)

15 
	#SYS_wa™4
 7

	)

17 
	#SYS_lšk
 9

	)

18 
	#SYS_uÆšk
 10

	)

20 
	#SYS_chdœ
 12

	)

21 
	#SYS_fchdœ
 13

	)

22 
	#SYS_ä“bsd11_mknod
 14

	)

23 
	#SYS_chmod
 15

	)

24 
	#SYS_chown
 16

	)

25 
	#SYS_b»ak
 17

	)

28 
	#SYS_g‘pid
 20

	)

29 
	#SYS_mouÁ
 21

	)

30 
	#SYS_unmouÁ
 22

	)

31 
	#SYS_£tuid
 23

	)

32 
	#SYS_g‘uid
 24

	)

33 
	#SYS_g‘euid
 25

	)

34 
	#SYS_±¿û
 26

	)

35 
	#SYS_»cvmsg
 27

	)

36 
	#SYS_£ndmsg
 28

	)

37 
	#SYS_»cväom
 29

	)

38 
	#SYS_acû±
 30

	)

39 
	#SYS_g‘³”Çme
 31

	)

40 
	#SYS_g‘sockÇme
 32

	)

41 
	#SYS_acûss
 33

	)

42 
	#SYS_chæags
 34

	)

43 
	#SYS_fchæags
 35

	)

44 
	#SYS_sync
 36

	)

45 
	#SYS_kžl
 37

	)

47 
	#SYS_g‘µid
 39

	)

49 
	#SYS_dup
 41

	)

50 
	#SYS_ä“bsd10_pe
 42

	)

51 
	#SYS_g‘egid
 43

	)

52 
	#SYS_´ofž
 44

	)

53 
	#SYS_kŒaû
 45

	)

55 
	#SYS_g‘gid
 47

	)

57 
	#SYS_g‘logš
 49

	)

58 
	#SYS_£Žogš
 50

	)

59 
	#SYS_acù
 51

	)

61 
	#SYS_sig®t¡ack
 53

	)

62 
	#SYS_ioùl
 54

	)

63 
	#SYS_»boÙ
 55

	)

64 
	#SYS_»voke
 56

	)

65 
	#SYS_symlšk
 57

	)

66 
	#SYS_»adlšk
 58

	)

67 
	#SYS_execve
 59

	)

68 
	#SYS_umask
 60

	)

69 
	#SYS_chroÙ
 61

	)

73 
	#SYS_msync
 65

	)

74 
	#SYS_vfÜk
 66

	)

77 
	#SYS_sbrk
 69

	)

78 
	#SYS_s¡k
 70

	)

80 
	#SYS_ä“bsd11_vadvi£
 72

	)

81 
	#SYS_munm­
 73

	)

82 
	#SYS_m´Ùeù
 74

	)

83 
	#SYS_madvi£
 75

	)

86 
	#SYS_mšcÜe
 78

	)

87 
	#SYS_g‘groups
 79

	)

88 
	#SYS_£tgroups
 80

	)

89 
	#SYS_g‘pg½
 81

	)

90 
	#SYS_£gid
 82

	)

91 
	#SYS_£t™im”
 83

	)

93 
	#SYS_sw­Ú
 85

	)

94 
	#SYS_g‘™im”
 86

	)

97 
	#SYS_g‘dbËsize
 89

	)

98 
	#SYS_dup2
 90

	)

99 
	#SYS_fúŽ
 92

	)

100 
	#SYS_£Ëù
 93

	)

101 
	#SYS_fsync
 95

	)

102 
	#SYS_£riÜ™y
 96

	)

103 
	#SYS_sock‘
 97

	)

104 
	#SYS_cÚÃù
 98

	)

106 
	#SYS_g‘´iÜ™y
 100

	)

110 
	#SYS_bšd
 104

	)

111 
	#SYS_£tsockÝt
 105

	)

112 
	#SYS_li¡’
 106

	)

122 
	#SYS_g‘timeofday
 116

	)

123 
	#SYS_g‘ru§ge
 117

	)

124 
	#SYS_g‘sockÝt
 118

	)

125 
	#SYS_»adv
 120

	)

126 
	#SYS_wr™ev
 121

	)

127 
	#SYS_£‰imeofday
 122

	)

128 
	#SYS_fchown
 123

	)

129 
	#SYS_fchmod
 124

	)

131 
	#SYS_£Œeuid
 126

	)

132 
	#SYS_£Œegid
 127

	)

133 
	#SYS_»Çme
 128

	)

136 
	#SYS_æock
 131

	)

137 
	#SYS_mkfifo
 132

	)

138 
	#SYS_£ndto
 133

	)

139 
	#SYS_shutdown
 134

	)

140 
	#SYS_sock‘·œ
 135

	)

141 
	#SYS_mkdœ
 136

	)

142 
	#SYS_rmdœ
 137

	)

143 
	#SYS_utimes
 138

	)

145 
	#SYS_adjtime
 140

	)

152 
	#SYS_£tsid
 147

	)

153 
	#SYS_quÙaùl
 148

	)

156 
	#SYS_Æm_sysÿÎ
 154

	)

157 
	#SYS_nfssvc
 155

	)

161 
	#SYS_lg‘fh
 160

	)

162 
	#SYS_g‘fh
 161

	)

166 
	#SYS_sy§rch
 165

	)

167 
	#SYS_¹´io
 166

	)

168 
	#SYS_£msys
 169

	)

169 
	#SYS_msgsys
 170

	)

170 
	#SYS_shmsys
 171

	)

173 
	#SYS_£tfib
 175

	)

174 
	#SYS_Áp_adjtime
 176

	)

175 
	#SYS_£tgid
 181

	)

176 
	#SYS_£‹gid
 182

	)

177 
	#SYS_£‹uid
 183

	)

182 
	#SYS_ä“bsd11_¡©
 188

	)

183 
	#SYS_ä“bsd11_f¡©
 189

	)

184 
	#SYS_ä“bsd11_l¡©
 190

	)

185 
	#SYS_·thcÚf
 191

	)

186 
	#SYS_å©hcÚf
 192

	)

187 
	#SYS_g‘¾im™
 194

	)

188 
	#SYS_£Œlim™
 195

	)

189 
	#SYS_ä“bsd11_g‘dœ’Œ›s
 196

	)

191 
	#SYS___sysÿÎ
 198

	)

195 
	#SYS___sysùl
 202

	)

196 
	#SYS_mlock
 203

	)

197 
	#SYS_muÆock
 204

	)

198 
	#SYS_und–‘e
 205

	)

199 
	#SYS_futimes
 206

	)

200 
	#SYS_g‘pgid
 207

	)

201 
	#SYS_pÞl
 209

	)

202 
	#SYS_ä“bsd7___£mùl
 220

	)

203 
	#SYS_£mg‘
 221

	)

204 
	#SYS_£mÝ
 222

	)

206 
	#SYS_ä“bsd7_msgùl
 224

	)

207 
	#SYS_msgg‘
 225

	)

208 
	#SYS_msg¢d
 226

	)

209 
	#SYS_msgrcv
 227

	)

210 
	#SYS_shm©
 228

	)

211 
	#SYS_ä“bsd7_shmùl
 229

	)

212 
	#SYS_shmdt
 230

	)

213 
	#SYS_shmg‘
 231

	)

214 
	#SYS_þock_g‘time
 232

	)

215 
	#SYS_þock_£‰ime
 233

	)

216 
	#SYS_þock_g‘»s
 234

	)

217 
	#SYS_ktim”_ü—‹
 235

	)

218 
	#SYS_ktim”_d–‘e
 236

	)

219 
	#SYS_ktim”_£‰ime
 237

	)

220 
	#SYS_ktim”_g‘time
 238

	)

221 
	#SYS_ktim”_g‘ov”run
 239

	)

222 
	#SYS_Çno¦“p
 240

	)

223 
	#SYS_ffþock_g‘couÁ”
 241

	)

224 
	#SYS_ffþock_£‹¡im©e
 242

	)

225 
	#SYS_ffþock_g‘e¡im©e
 243

	)

226 
	#SYS_þock_Çno¦“p
 244

	)

227 
	#SYS_þock_g‘ýuþockid2
 247

	)

228 
	#SYS_Áp_g‘time
 248

	)

229 
	#SYS_mšh”™
 250

	)

230 
	#SYS_rfÜk
 251

	)

232 
	#SYS_is£tugid
 253

	)

233 
	#SYS_lchown
 254

	)

234 
	#SYS_aio_»ad
 255

	)

235 
	#SYS_aio_wr™e
 256

	)

236 
	#SYS_lio_li¡io
 257

	)

237 
	#SYS_ä“bsd11_g‘d’ts
 272

	)

238 
	#SYS_lchmod
 274

	)

240 
	#SYS_lutimes
 276

	)

242 
	#SYS_ä“bsd11_n¡©
 278

	)

243 
	#SYS_ä“bsd11_nf¡©
 279

	)

244 
	#SYS_ä“bsd11_Æ¡©
 280

	)

245 
	#SYS_´—dv
 289

	)

246 
	#SYS_pwr™ev
 290

	)

248 
	#SYS_fhÝ’
 298

	)

249 
	#SYS_ä“bsd11_fh¡©
 299

	)

250 
	#SYS_modÃxt
 300

	)

251 
	#SYS_mod¡©
 301

	)

252 
	#SYS_modâext
 302

	)

253 
	#SYS_modfšd
 303

	)

254 
	#SYS_kldlßd
 304

	)

255 
	#SYS_klduÆßd
 305

	)

256 
	#SYS_kldfšd
 306

	)

257 
	#SYS_kldÃxt
 307

	)

258 
	#SYS_kld¡©
 308

	)

259 
	#SYS_kldfœ¡mod
 309

	)

260 
	#SYS_g‘sid
 310

	)

261 
	#SYS_£Œesuid
 311

	)

262 
	#SYS_£Œesgid
 312

	)

264 
	#SYS_aio_»tuº
 314

	)

265 
	#SYS_aio_su¥’d
 315

	)

266 
	#SYS_aio_ÿnûl
 316

	)

267 
	#SYS_aio_”rÜ
 317

	)

271 
	#SYS_y›ld
 321

	)

274 
	#SYS_mlock®l
 324

	)

275 
	#SYS_muÆock®l
 325

	)

276 
	#SYS___g‘cwd
 326

	)

277 
	#SYS_sched_£¬am
 327

	)

278 
	#SYS_sched_g‘·¿m
 328

	)

279 
	#SYS_sched_£tscheduËr
 329

	)

280 
	#SYS_sched_g‘scheduËr
 330

	)

281 
	#SYS_sched_y›ld
 331

	)

282 
	#SYS_sched_g‘_´iÜ™y_max
 332

	)

283 
	#SYS_sched_g‘_´iÜ™y_mš
 333

	)

284 
	#SYS_sched_¼_g‘_š‹rv®
 334

	)

285 
	#SYS_uŒaû
 335

	)

287 
	#SYS_kldsym
 337

	)

288 
	#SYS_jaž
 338

	)

289 
	#SYS_Âpfs_sysÿÎ
 339

	)

290 
	#SYS_sig´ocmask
 340

	)

291 
	#SYS_sigsu¥’d
 341

	)

293 
	#SYS_sig³ndšg
 343

	)

295 
	#SYS_sigtimedwa™
 345

	)

296 
	#SYS_sigwa™šfo
 346

	)

297 
	#SYS___aþ_g‘_fže
 347

	)

298 
	#SYS___aþ_£t_fže
 348

	)

299 
	#SYS___aþ_g‘_fd
 349

	)

300 
	#SYS___aþ_£t_fd
 350

	)

301 
	#SYS___aþ_d–‘e_fže
 351

	)

302 
	#SYS___aþ_d–‘e_fd
 352

	)

303 
	#SYS___aþ_aþcheck_fže
 353

	)

304 
	#SYS___aþ_aþcheck_fd
 354

	)

305 
	#SYS_ex‰rùl
 355

	)

306 
	#SYS_ex‰r_£t_fže
 356

	)

307 
	#SYS_ex‰r_g‘_fže
 357

	)

308 
	#SYS_ex‰r_d–‘e_fže
 358

	)

309 
	#SYS_aio_wa™com¶‘e
 359

	)

310 
	#SYS_g‘»suid
 360

	)

311 
	#SYS_g‘»sgid
 361

	)

312 
	#SYS_kqueue
 362

	)

313 
	#SYS_ä“bsd11_kev’t
 363

	)

320 
	#SYS_ex‰r_£t_fd
 371

	)

321 
	#SYS_ex‰r_g‘_fd
 372

	)

322 
	#SYS_ex‰r_d–‘e_fd
 373

	)

323 
	#SYS___£tugid
 374

	)

325 
	#SYS_—cûss
 376

	)

326 
	#SYS_afs3_sysÿÎ
 377

	)

327 
	#SYS_nmouÁ
 378

	)

333 
	#SYS___mac_g‘_´oc
 384

	)

334 
	#SYS___mac_£t_´oc
 385

	)

335 
	#SYS___mac_g‘_fd
 386

	)

336 
	#SYS___mac_g‘_fže
 387

	)

337 
	#SYS___mac_£t_fd
 388

	)

338 
	#SYS___mac_£t_fže
 389

	)

339 
	#SYS_k’v
 390

	)

340 
	#SYS_lchæags
 391

	)

341 
	#SYS_uuidg’
 392

	)

342 
	#SYS_£ndfže
 393

	)

343 
	#SYS_mac_sysÿÎ
 394

	)

344 
	#SYS_ä“bsd11_g‘fs¡©
 395

	)

345 
	#SYS_ä“bsd11_¡©fs
 396

	)

346 
	#SYS_ä“bsd11_f¡©fs
 397

	)

347 
	#SYS_ä“bsd11_fh¡©fs
 398

	)

348 
	#SYS_k£m_þo£
 400

	)

349 
	#SYS_k£m_po¡
 401

	)

350 
	#SYS_k£m_wa™
 402

	)

351 
	#SYS_k£m_Œywa™
 403

	)

352 
	#SYS_k£m_š™
 404

	)

353 
	#SYS_k£m_Ý’
 405

	)

354 
	#SYS_k£m_uÆšk
 406

	)

355 
	#SYS_k£m_g‘v®ue
 407

	)

356 
	#SYS_k£m_de¡roy
 408

	)

357 
	#SYS___mac_g‘_pid
 409

	)

358 
	#SYS___mac_g‘_lšk
 410

	)

359 
	#SYS___mac_£t_lšk
 411

	)

360 
	#SYS_ex‰r_£t_lšk
 412

	)

361 
	#SYS_ex‰r_g‘_lšk
 413

	)

362 
	#SYS_ex‰r_d–‘e_lšk
 414

	)

363 
	#SYS___mac_execve
 415

	)

364 
	#SYS_sigaùiÚ
 416

	)

365 
	#SYS_sig»tuº
 417

	)

366 
	#SYS_g‘cÚ‹xt
 421

	)

367 
	#SYS_£tcÚ‹xt
 422

	)

368 
	#SYS_sw­cÚ‹xt
 423

	)

369 
	#SYS_sw­off
 424

	)

370 
	#SYS___aþ_g‘_lšk
 425

	)

371 
	#SYS___aþ_£t_lšk
 426

	)

372 
	#SYS___aþ_d–‘e_lšk
 427

	)

373 
	#SYS___aþ_aþcheck_lšk
 428

	)

374 
	#SYS_sigwa™
 429

	)

375 
	#SYS_thr_ü—‹
 430

	)

376 
	#SYS_thr_ex™
 431

	)

377 
	#SYS_thr_£lf
 432

	)

378 
	#SYS_thr_kžl
 433

	)

379 
	#SYS_jaž_©ch
 436

	)

380 
	#SYS_ex‰r_li¡_fd
 437

	)

381 
	#SYS_ex‰r_li¡_fže
 438

	)

382 
	#SYS_ex‰r_li¡_lšk
 439

	)

384 
	#SYS_k£m_timedwa™
 441

	)

385 
	#SYS_thr_su¥’d
 442

	)

386 
	#SYS_thr_wake
 443

	)

387 
	#SYS_klduÆßdf
 444

	)

388 
	#SYS_aud™
 445

	)

389 
	#SYS_aud™Ú
 446

	)

390 
	#SYS_g‘auid
 447

	)

391 
	#SYS_£uid
 448

	)

392 
	#SYS_g‘aud™
 449

	)

393 
	#SYS_£ud™
 450

	)

394 
	#SYS_g‘aud™_addr
 451

	)

395 
	#SYS_£ud™_addr
 452

	)

396 
	#SYS_aud™ùl
 453

	)

397 
	#SYS__umtx_Ý
 454

	)

398 
	#SYS_thr_Ãw
 455

	)

399 
	#SYS_sigqueue
 456

	)

400 
	#SYS_kmq_Ý’
 457

	)

401 
	#SYS_kmq_£‰r
 458

	)

402 
	#SYS_kmq_timed»ûive
 459

	)

403 
	#SYS_kmq_timed£nd
 460

	)

404 
	#SYS_kmq_nÙify
 461

	)

405 
	#SYS_kmq_uÆšk
 462

	)

406 
	#SYS_abÜt2
 463

	)

407 
	#SYS_thr_£t_Çme
 464

	)

408 
	#SYS_aio_fsync
 465

	)

409 
	#SYS_¹´io_th»ad
 466

	)

410 
	#SYS_sùp_³–off
 471

	)

411 
	#SYS_sùp_g’”ic_£ndmsg
 472

	)

412 
	#SYS_sùp_g’”ic_£ndmsg_iov
 473

	)

413 
	#SYS_sùp_g’”ic_»cvmsg
 474

	)

414 
	#SYS_´—d
 475

	)

415 
	#SYS_pwr™e
 476

	)

416 
	#SYS_mm­
 477

	)

417 
	#SYS_l£ek
 478

	)

418 
	#SYS_Œunÿ‹
 479

	)

419 
	#SYS_árunÿ‹
 480

	)

420 
	#SYS_thr_kžl2
 481

	)

421 
	#SYS_shm_Ý’
 482

	)

422 
	#SYS_shm_uÆšk
 483

	)

423 
	#SYS_ýu£t
 484

	)

424 
	#SYS_ýu£t_£tid
 485

	)

425 
	#SYS_ýu£t_g‘id
 486

	)

426 
	#SYS_ýu£t_g‘affš™y
 487

	)

427 
	#SYS_ýu£t_£ffš™y
 488

	)

428 
	#SYS_çcûs§t
 489

	)

429 
	#SYS_fchmod©
 490

	)

430 
	#SYS_fchowÇt
 491

	)

431 
	#SYS_ãxecve
 492

	)

432 
	#SYS_ä“bsd11_f¡©©
 493

	)

433 
	#SYS_futime§t
 494

	)

434 
	#SYS_lšk©
 495

	)

435 
	#SYS_mkdœ©
 496

	)

436 
	#SYS_mkfifßt
 497

	)

437 
	#SYS_ä“bsd11_mknod©
 498

	)

438 
	#SYS_Ý’©
 499

	)

439 
	#SYS_»adlšk©
 500

	)

440 
	#SYS_»Çm—t
 501

	)

441 
	#SYS_symlšk©
 502

	)

442 
	#SYS_uÆšk©
 503

	)

443 
	#SYS_posix_Ý’±
 504

	)

444 
	#SYS_gssd_sysÿÎ
 505

	)

445 
	#SYS_jaž_g‘
 506

	)

446 
	#SYS_jaž_£t
 507

	)

447 
	#SYS_jaž_»move
 508

	)

448 
	#SYS_þo£äom
 509

	)

449 
	#SYS___£mùl
 510

	)

450 
	#SYS_msgùl
 511

	)

451 
	#SYS_shmùl
 512

	)

452 
	#SYS_Í©hcÚf
 513

	)

454 
	#SYS___ÿp_rights_g‘
 515

	)

455 
	#SYS_ÿp_’‹r
 516

	)

456 
	#SYS_ÿp_g‘mode
 517

	)

457 
	#SYS_pdfÜk
 518

	)

458 
	#SYS_pdkžl
 519

	)

459 
	#SYS_pdg‘pid
 520

	)

460 
	#SYS_p£Ëù
 522

	)

461 
	#SYS_g‘logšþass
 523

	)

462 
	#SYS_£Žogšþass
 524

	)

463 
	#SYS_rùl_g‘_¿cù
 525

	)

464 
	#SYS_rùl_g‘_ruËs
 526

	)

465 
	#SYS_rùl_g‘_lim™s
 527

	)

466 
	#SYS_rùl_add_ruË
 528

	)

467 
	#SYS_rùl_»move_ruË
 529

	)

468 
	#SYS_posix_çÎoÿ‹
 530

	)

469 
	#SYS_posix_çdvi£
 531

	)

470 
	#SYS_wa™6
 532

	)

471 
	#SYS_ÿp_rights_lim™
 533

	)

472 
	#SYS_ÿp_ioùls_lim™
 534

	)

473 
	#SYS_ÿp_ioùls_g‘
 535

	)

474 
	#SYS_ÿp_fúŽs_lim™
 536

	)

475 
	#SYS_ÿp_fúŽs_g‘
 537

	)

476 
	#SYS_bšd©
 538

	)

477 
	#SYS_cÚÃù©
 539

	)

478 
	#SYS_chæag§t
 540

	)

479 
	#SYS_acû±4
 541

	)

480 
	#SYS_pe2
 542

	)

481 
	#SYS_aio_mlock
 543

	)

482 
	#SYS_´ocùl
 544

	)

483 
	#SYS_µÞl
 545

	)

484 
	#SYS_futim’s
 546

	)

485 
	#SYS_utim’§t
 547

	)

488 
	#SYS_fd©async
 550

	)

489 
	#SYS_f¡©
 551

	)

490 
	#SYS_f¡©©
 552

	)

491 
	#SYS_fh¡©
 553

	)

492 
	#SYS_g‘dœ’Œ›s
 554

	)

493 
	#SYS_¡©fs
 555

	)

494 
	#SYS_f¡©fs
 556

	)

495 
	#SYS_g‘fs¡©
 557

	)

496 
	#SYS_fh¡©fs
 558

	)

497 
	#SYS_mknod©
 559

	)

498 
	#SYS_kev’t
 560

	)

499 
	#SYS_ýu£t_g‘domaš
 561

	)

500 
	#SYS_ýu£t_£tdomaš
 562

	)

501 
	#SYS_g‘¿ndom
 563

	)

502 
	#SYS_MAXSYSCALL
 564

	)

	@/usr/include/sys/sysctl.h

38 #iâdeà
_SYS_SYSCTL_H_


39 
	#_SYS_SYSCTL_H_


	)

41 #ifdeà
_KERNEL


42 
	~<sys/queue.h
>

45 
	gth»ad
;

55 
	#CTL_MAXNAME
 24

	)

64 
	sùÊame
 {

65 *
	mùl_Çme
;

66 
	mùl_ty³
;

69 
	#CTLTYPE
 0xà

	)

70 
	#CTLTYPE_NODE
 1

	)

71 
	#CTLTYPE_INT
 2

	)

72 
	#CTLTYPE_STRING
 3

	)

73 
	#CTLTYPE_S64
 4

	)

74 
	#CTLTYPE_OPAQUE
 5

	)

75 
	#CTLTYPE_STRUCT
 
CTLTYPE_OPAQUE


	)

76 
	#CTLTYPE_UINT
 6

	)

77 
	#CTLTYPE_LONG
 7

	)

78 
	#CTLTYPE_ULONG
 8

	)

79 
	#CTLTYPE_U64
 9

	)

80 
	#CTLTYPE_U8
 0x¨

	)

81 
	#CTLTYPE_U16
 0xb

	)

82 
	#CTLTYPE_S8
 0xø

	)

83 
	#CTLTYPE_S16
 0xd

	)

84 
	#CTLTYPE_S32
 0x

	)

85 
	#CTLTYPE_U32
 0xà

	)

87 
	#CTLFLAG_RD
 0x80000000

	)

88 
	#CTLFLAG_WR
 0x40000000

	)

89 
	#CTLFLAG_RW
 (
CTLFLAG_RD
|
CTLFLAG_WR
)

	)

90 
	#CTLFLAG_DORMANT
 0x20000000

	)

91 
	#CTLFLAG_ANYBODY
 0x10000000

	)

92 
	#CTLFLAG_SECURE
 0x08000000

	)

93 
	#CTLFLAG_PRISON
 0x04000000

	)

94 
	#CTLFLAG_DYN
 0x02000000

	)

95 
	#CTLFLAG_SKIP
 0x01000000

	)

96 
	#CTLMASK_SECURE
 0x00F00000

	)

97 
	#CTLFLAG_TUN
 0x00080000

	)

98 
	#CTLFLAG_RDTUN
 (
CTLFLAG_RD
|
CTLFLAG_TUN
)

	)

99 
	#CTLFLAG_RWTUN
 (
CTLFLAG_RW
|
CTLFLAG_TUN
)

	)

100 
	#CTLFLAG_MPSAFE
 0x00040000

	)

101 
	#CTLFLAG_VNET
 0x00020000

	)

102 
	#CTLFLAG_DYING
 0x00010000

	)

103 
	#CTLFLAG_CAPRD
 0x00008000

	)

104 
	#CTLFLAG_CAPWR
 0x00004000

	)

105 
	#CTLFLAG_STATS
 0x00002000

	)

106 
	#CTLFLAG_NOFETCH
 0x00001000

	)

107 
	#CTLFLAG_CAPRW
 (
CTLFLAG_CAPRD
|
CTLFLAG_CAPWR
)

	)

114 
	#CTLSHIFT_SECURE
 20

	)

115 
	#CTLFLAG_SECURE1
 (
CTLFLAG_SECURE
 | (0 << 
CTLSHIFT_SECURE
))

	)

116 
	#CTLFLAG_SECURE2
 (
CTLFLAG_SECURE
 | (1 << 
CTLSHIFT_SECURE
))

	)

117 
	#CTLFLAG_SECURE3
 (
CTLFLAG_SECURE
 | (2 << 
CTLSHIFT_SECURE
))

	)

126 
	#OID_AUTO
 (-1)

	)

132 
	#CTL_AUTO_START
 0x100

	)

134 #ifdeà
_KERNEL


135 
	~<sys/lšk”_£t.h
>

137 #ifdeà
KLD_MODULE


139 
	#SYSCTL_CT_ASSERT_MASK
 
CTLTYPE


	)

141 
	#SYSCTL_CT_ASSERT_MASK
 0

	)

144 
	#SYSCTL_HANDLER_ARGS
 
sysùl_oid
 *
oidp
, *
¬g1
, \

145 
štmax_t
 
¬g2
, 
sysùl_»q
 *
»q


	)

148 
	#REQ_UNWIRED
 1

	)

149 
	#REQ_WIRED
 2

	)

152 #ià
defšed
(
__¯rch64__
è|| defšed(
__amd64__
è|| defšed(
__pow”pc64__
) ||\

153 (
defšed
(
__ms__
è&& 
	$defšed
(
__ms_n64
))

154 
	#SCTL_MASK32
 1

	)

161 
	ssysùl_»q
 {

162 
th»ad
 *
td
;

163 
lock
;

164 *
Þd±r
;

165 
size_t
 
ÞdËn
;

166 
size_t
 
Þdidx
;

167 (*
Þdfunc
)(
sysùl_»q
 *, cÚ¡ *, 
size_t
);

168 *
Ãw±r
;

169 
size_t
 
ÃwËn
;

170 
size_t
 
Ãwidx
;

171 (*
Ãwfunc
)(
sysùl_»q
 *, *, 
size_t
);

172 
size_t
 
v®idËn
;

173 
æags
;

176 
	`SLIST_HEAD
(
sysùl_oid_li¡
, 
sysùl_oid
);

182 
	ssysùl_oid
 {

183 
sysùl_oid_li¡
 
oid_chžd»n
;

184 
sysùl_oid_li¡
 *
oid_·»Á
;

185 
	`SLIST_ENTRY
(
sysùl_oid
è
oid_lšk
;

186 
oid_numb”
;

187 
u_št
 
oid_kšd
;

188 *
oid_¬g1
;

189 
štmax_t
 
oid_¬g2
;

190 cÚ¡ *
oid_Çme
;

191 (*
oid_hªdËr
)(
SYSCTL_HANDLER_ARGS
);

192 cÚ¡ *
oid_fmt
;

193 
oid_»fút
;

194 
u_št
 
oid_ruÂšg
;

195 cÚ¡ *
oid_desü
;

196 cÚ¡ *
oid_Ïb–
;

199 
	#SYSCTL_IN
(
r
, 
p
, 
l
èÔ->
Ãwfunc
)Ô,…,†)

	)

200 
	#SYSCTL_OUT
(
r
, 
p
, 
l
èÔ->
Þdfunc
)Ô,…,†)

	)

201 
	#SYSCTL_OUT_STR
(
r
, 
p
èÔ->
Þdfunc
)Ô,…, 
	`¡¾’
Õè+ 1)

	)

203 
	`sysùl_hªdË_boÞ
(
SYSCTL_HANDLER_ARGS
);

204 
	`sysùl_hªdË_8
(
SYSCTL_HANDLER_ARGS
);

205 
	`sysùl_hªdË_16
(
SYSCTL_HANDLER_ARGS
);

206 
	`sysùl_hªdË_32
(
SYSCTL_HANDLER_ARGS
);

207 
	`sysùl_hªdË_64
(
SYSCTL_HANDLER_ARGS
);

208 
	`sysùl_hªdË_št
(
SYSCTL_HANDLER_ARGS
);

209 
	`sysùl_m£c_to_ticks
(
SYSCTL_HANDLER_ARGS
);

210 
	`sysùl_hªdË_lÚg
(
SYSCTL_HANDLER_ARGS
);

211 
	`sysùl_hªdË_¡ršg
(
SYSCTL_HANDLER_ARGS
);

212 
	`sysùl_hªdË_Ýaque
(
SYSCTL_HANDLER_ARGS
);

213 
	`sysùl_hªdË_couÁ”_u64
(
SYSCTL_HANDLER_ARGS
);

214 
	`sysùl_hªdË_couÁ”_u64_¬¿y
(
SYSCTL_HANDLER_ARGS
);

216 
	`sysùl_hªdË_uma_zÚe_max
(
SYSCTL_HANDLER_ARGS
);

217 
	`sysùl_hªdË_uma_zÚe_cur
(
SYSCTL_HANDLER_ARGS
);

219 
	`sysùl_dpýu_št
(
SYSCTL_HANDLER_ARGS
);

220 
	`sysùl_dpýu_lÚg
(
SYSCTL_HANDLER_ARGS
);

221 
	`sysùl_dpýu_quad
(
SYSCTL_HANDLER_ARGS
);

226 
	`sysùl_»gi¡”_oid
(
sysùl_oid
 *
oidp
);

227 
	`sysùl_»gi¡”_di§bËd_oid
(
sysùl_oid
 *
oidp
);

228 
	`sysùl_’abË_oid
(
sysùl_oid
 *
oidp
);

229 
	`sysùl_uÄegi¡”_oid
(
sysùl_oid
 *
oidp
);

232 
	#SYSCTL_DECL
(
Çme
) \

233 
sysùl_oid
 
sysùl__
##
Çme


	)

236 
	#SYSCTL_CHILDREN
(
oid_±r
è(&(oid_±r)->
oid_chžd»n
)

	)

237 
	#SYSCTL_PARENT
(
oid_±r
) \

238 (((
oid_±r
)->
oid_·»Á
 !ð&
sysùl__chžd»n
) ? \

239 
	`__cÚš”of
((
oid_±r
)->
oid_·»Á
, 
sysùl_oid
, \

240 
oid_chžd»n
è: (
sysùl_oid
 *)
NULL
)

	)

241 
	#SYSCTL_STATIC_CHILDREN
(
oid_Çme
è(&
sysùl__
##oid_Çme.
oid_chžd»n
)

	)

246 
	ssysùl_ùx_’Œy
 {

247 
sysùl_oid
 *
’Œy
;

248 
	`TAILQ_ENTRY
(
sysùl_ùx_’Œy
è
lšk
;

251 
	`TAILQ_HEAD
(
sysùl_ùx_li¡
, 
sysùl_ùx_’Œy
);

253 
	#SYSCTL_NODE_CHILDREN
(
·»Á
, 
Çme
) \

254 
sysùl__
##
·»Á
##
_
##
Çme
.
oid_chžd»n


	)

256 #iâdeà
NO_SYSCTL_DESCR


257 
	#__DESCR
(
d
è
	)
d

259 
	#__DESCR
(
d
è""

	)

263 
	#SYSCTL_OID_RAW
(
id
, 
·»Á_chžd_h—d
, 
nbr
, 
Çme
, 
kšd
, 
a1
, 
a2
, 
hªdËr
, 
fmt
, 
desü
, 
Ïb–
) \

264 
sysùl_oid
 
id
 = { \

265 .
oid_·»Á
 = (
·»Á_chžd_h—d
), \

266 .
oid_chžd»n
 = 
	`SLIST_HEAD_INITIALIZER
(&
id
.oid_children), \

267 .
oid_numb”
 = (
nbr
), \

268 .
oid_kšd
 = (
kšd
), \

269 .
oid_¬g1
 = (
a1
), \

270 .
oid_¬g2
 = (
a2
), \

271 .
oid_Çme
 = (
Çme
), \

272 .
oid_hªdËr
 = (
hªdËr
), \

273 .
oid_fmt
 = (
fmt
), \

274 .
oid_desü
 = 
	`__DESCR
(
desü
), \

275 .
oid_Ïb–
 = (
Ïb–
), \

276 
	}
}; \

277 
	`DATA_SET
(
sysùl_£t
, 
id
)

	)

280 
	#SYSCTL_OID
(
·»Á
, 
nbr
, 
Çme
, 
kšd
, 
a1
, 
a2
, 
hªdËr
, 
fmt
, 
desü
) \

281 
	`SYSCTL_OID_WITH_LABEL
(
·»Á
, 
nbr
, 
Çme
, 
kšd
, 
a1
, 
a2
, \

282 
hªdËr
, 
fmt
, 
desü
, 
NULL
)

	)

284 
	#SYSCTL_OID_WITH_LABEL
(
·»Á
, 
nbr
, 
Çme
, 
kšd
, 
a1
, 
a2
, 
hªdËr
, 
fmt
, 
desü
, 
Ïb–
) \

285 
	`SYSCTL_OID_RAW
(
sysùl__
##
·»Á
##
_
##
Çme
, \

286 
	`SYSCTL_CHILDREN
(&
sysùl__
##
·»Á
), \

287 
nbr
, #Çme, 
kšd
, 
a1
, 
a2
, 
hªdËr
, 
fmt
, 
desü
, 
Ïb–
)

	)

290 
	#SYSCTL_OID_GLOBAL
(
·»Á
, 
nbr
, 
Çme
, 
kšd
, 
a1
, 
a2
, 
hªdËr
, 
fmt
, 
desü
, 
Ïb–
) \

291 
	`SYSCTL_OID_RAW
(
sysùl__
##
·»Á
##
_
##
Çme
, \

292 
	`SYSCTL_CHILDREN
(&
sysùl__
##
·»Á
), \

293 
nbr
, #Çme, 
kšd
, 
a1
, 
a2
, 
hªdËr
, 
fmt
, 
desü
, 
Ïb–
)

	)

295 
	#SYSCTL_ADD_OID
(
ùx
, 
·»Á
, 
nbr
, 
Çme
, 
kšd
, 
a1
, 
a2
, 
hªdËr
, 
fmt
, 
desü
) \

296 
	`sysùl_add_oid
(
ùx
, 
·»Á
, 
nbr
, 
Çme
, 
kšd
, 
a1
, 
a2
, 
hªdËr
, 
fmt
, 
	`__DESCR
(
desü
), 
NULL
)

	)

299 
	#SYSCTL_ROOT_NODE
(
nbr
, 
Çme
, 
acûss
, 
hªdËr
, 
desü
) \

300 
	`SYSCTL_OID_RAW
(
sysùl___
##
Çme
, &
sysùl__chžd»n
, \

301 
nbr
, #Çme, 
CTLTYPE_NODE
|(
acûss
), 
NULL
, 0, \

302 
hªdËr
, "N", 
desü
, 
NULL
); \

303 
	`CTASSERT
(((
acûss
è& 
CTLTYPE
) == 0 || \

304 ((
acûss
è& 
SYSCTL_CT_ASSERT_MASK
è=ð
CTLTYPE_NODE
)

	)

307 
	#SYSCTL_NODE
(
·»Á
, 
nbr
, 
Çme
, 
acûss
, 
hªdËr
, 
desü
) \

308 
	`SYSCTL_NODE_WITH_LABEL
(
·»Á
, 
nbr
, 
Çme
, 
acûss
, 
hªdËr
, 
desü
, 
NULL
)

	)

310 
	#SYSCTL_NODE_WITH_LABEL
(
·»Á
, 
nbr
, 
Çme
, 
acûss
, 
hªdËr
, 
desü
, 
Ïb–
) \

311 
	`SYSCTL_OID_GLOBAL
(
·»Á
, 
nbr
, 
Çme
, 
CTLTYPE_NODE
|(
acûss
), \

312 
NULL
, 0, 
hªdËr
, "N", 
desü
, 
Ïb–
); \

313 
	`CTASSERT
(((
acûss
è& 
CTLTYPE
) == 0 || \

314 ((
acûss
è& 
SYSCTL_CT_ASSERT_MASK
è=ð
CTLTYPE_NODE
)

	)

316 
	#SYSCTL_ADD_NODE
(
ùx
, 
·»Á
, 
nbr
, 
Çme
, 
acûss
, 
hªdËr
, 
desü
) \

317 
	`SYSCTL_ADD_NODE_WITH_LABEL
(
ùx
, 
·»Á
, 
nbr
, 
Çme
, 
acûss
, \

318 
hªdËr
, 
desü
, 
NULL
)

	)

320 
	#SYSCTL_ADD_NODE_WITH_LABEL
(
ùx
, 
·»Á
, 
nbr
, 
Çme
, 
acûss
, 
hªdËr
, 
desü
, 
Ïb–
) \

322 
	`CTASSERT
(((
acûss
è& 
CTLTYPE
) == 0 || \

323 ((
acûss
è& 
SYSCTL_CT_ASSERT_MASK
è=ð
CTLTYPE_NODE
); \

324 
	`sysùl_add_oid
(
ùx
, 
·»Á
, 
nbr
, 
Çme
, 
CTLTYPE_NODE
|(
acûss
), \

325 
NULL
, 0, 
hªdËr
, "N", 
	`__DESCR
(
desü
), 
Ïb–
); \

326 })

	)

328 
	#SYSCTL_ADD_ROOT_NODE
(
ùx
, 
nbr
, 
Çme
, 
acûss
, 
hªdËr
, 
desü
) \

330 
	`CTASSERT
(((
acûss
è& 
CTLTYPE
) == 0 || \

331 ((
acûss
è& 
SYSCTL_CT_ASSERT_MASK
è=ð
CTLTYPE_NODE
); \

332 
	`sysùl_add_oid
(
ùx
, &
sysùl__chžd»n
, 
nbr
, 
Çme
, \

333 
CTLTYPE_NODE
|(
acûss
), \

334 
NULL
, 0, 
hªdËr
, "N", 
	`__DESCR
(
desü
), NULL); \

335 })

	)

338 
	#SYSCTL_STRING
(
·»Á
, 
nbr
, 
Çme
, 
acûss
, 
¬g
, 
Ën
, 
desü
) \

339 
	`SYSCTL_OID
(
·»Á
, 
nbr
, 
Çme
, 
CTLTYPE_STRING
|(
acûss
), \

340 
¬g
, 
Ën
, 
sysùl_hªdË_¡ršg
, "A", 
desü
); \

341 
	`CTASSERT
(((
acûss
è& 
CTLTYPE
) == 0 || \

342 ((
acûss
è& 
SYSCTL_CT_ASSERT_MASK
è=ð
CTLTYPE_STRING
)

	)

344 
	#SYSCTL_ADD_STRING
(
ùx
, 
·»Á
, 
nbr
, 
Çme
, 
acûss
, 
¬g
, 
Ën
, 
desü
) \

346 *
__¬g
 = (
¬g
); \

347 
	`CTASSERT
(((
acûss
è& 
CTLTYPE
) == 0 || \

348 ((
acûss
è& 
SYSCTL_CT_ASSERT_MASK
è=ð
CTLTYPE_STRING
); \

349 
	`sysùl_add_oid
(
ùx
, 
·»Á
, 
nbr
, 
Çme
, 
CTLTYPE_STRING
|(
acûss
), \

350 
__¬g
, 
Ën
, 
sysùl_hªdË_¡ršg
, "A", 
	`__DESCR
(
desü
), \

351 
NULL
); \

352 })

	)

355 
	#SYSCTL_NULL_BOOL_PTR
 ((
boÞ
 *)
NULL
)

	)

356 
	#SYSCTL_BOOL
(
·»Á
, 
nbr
, 
Çme
, 
acûss
, 
±r
, 
v®
, 
desü
) \

357 
	`SYSCTL_OID
(
·»Á
, 
nbr
, 
Çme
, \

358 
CTLTYPE_U8
 | 
CTLFLAG_MPSAFE
 | (
acûss
), \

359 
±r
, 
v®
, 
sysùl_hªdË_boÞ
, "CU", 
desü
); \

360 
	`CTASSERT
(((
acûss
è& 
CTLTYPE
) == 0 && \

361 (
boÞ
è=ð(*(
±r
)))

	)

363 
	#SYSCTL_ADD_BOOL
(
ùx
, 
·»Á
, 
nbr
, 
Çme
, 
acûss
, 
±r
, 
v®
, 
desü
) \

365 
boÞ
 *
__±r
 = (
±r
); \

366 
	`CTASSERT
(((
acûss
è& 
CTLTYPE
) == 0); \

367 
	`sysùl_add_oid
(
ùx
, 
·»Á
, 
nbr
, 
Çme
, \

368 
CTLTYPE_U8
 | 
CTLFLAG_MPSAFE
 | (
acûss
), \

369 
__±r
, 
v®
, 
sysùl_hªdË_boÞ
, "CU", 
	`__DESCR
(
desü
), \

370 
NULL
); \

371 })

	)

374 
	#SYSCTL_NULL_S8_PTR
 ((
št8_t
 *)
NULL
)

	)

375 
	#SYSCTL_S8
(
·»Á
, 
nbr
, 
Çme
, 
acûss
, 
±r
, 
v®
, 
desü
) \

376 
	`SYSCTL_OID
(
·»Á
, 
nbr
, 
Çme
, \

377 
CTLTYPE_S8
 | 
CTLFLAG_MPSAFE
 | (
acûss
), \

378 
±r
, 
v®
, 
sysùl_hªdË_8
, "C", 
desü
); \

379 
	`CTASSERT
((((
acûss
è& 
CTLTYPE
) == 0 || \

380 ((
acûss
è& 
SYSCTL_CT_ASSERT_MASK
è=ð
CTLTYPE_S8
) && \

381 (
št8_t
è=ð(*(
±r
)))

	)

383 
	#SYSCTL_ADD_S8
(
ùx
, 
·»Á
, 
nbr
, 
Çme
, 
acûss
, 
±r
, 
v®
, 
desü
) \

385 
št8_t
 *
__±r
 = (
±r
); \

386 
	`CTASSERT
(((
acûss
è& 
CTLTYPE
) == 0 || \

387 ((
acûss
è& 
SYSCTL_CT_ASSERT_MASK
è=ð
CTLTYPE_S8
); \

388 
	`sysùl_add_oid
(
ùx
, 
·»Á
, 
nbr
, 
Çme
, \

389 
CTLTYPE_S8
 | 
CTLFLAG_MPSAFE
 | (
acûss
), \

390 
__±r
, 
v®
, 
sysùl_hªdË_8
, "C", 
	`__DESCR
(
desü
), 
NULL
); \

391 })

	)

394 
	#SYSCTL_NULL_U8_PTR
 ((
ušt8_t
 *)
NULL
)

	)

395 
	#SYSCTL_U8
(
·»Á
, 
nbr
, 
Çme
, 
acûss
, 
±r
, 
v®
, 
desü
) \

396 
	`SYSCTL_OID
(
·»Á
, 
nbr
, 
Çme
, \

397 
CTLTYPE_U8
 | 
CTLFLAG_MPSAFE
 | (
acûss
), \

398 
±r
, 
v®
, 
sysùl_hªdË_8
, "CU", 
desü
); \

399 
	`CTASSERT
((((
acûss
è& 
CTLTYPE
) == 0 || \

400 ((
acûss
è& 
SYSCTL_CT_ASSERT_MASK
è=ð
CTLTYPE_U8
) && \

401 (
ušt8_t
è=ð(*(
±r
)))

	)

403 
	#SYSCTL_ADD_U8
(
ùx
, 
·»Á
, 
nbr
, 
Çme
, 
acûss
, 
±r
, 
v®
, 
desü
) \

405 
ušt8_t
 *
__±r
 = (
±r
); \

406 
	`CTASSERT
(((
acûss
è& 
CTLTYPE
) == 0 || \

407 ((
acûss
è& 
SYSCTL_CT_ASSERT_MASK
è=ð
CTLTYPE_U8
); \

408 
	`sysùl_add_oid
(
ùx
, 
·»Á
, 
nbr
, 
Çme
, \

409 
CTLTYPE_U8
 | 
CTLFLAG_MPSAFE
 | (
acûss
), \

410 
__±r
, 
v®
, 
sysùl_hªdË_8
, "CU", 
	`__DESCR
(
desü
), 
NULL
); \

411 })

	)

414 
	#SYSCTL_NULL_S16_PTR
 ((
št16_t
 *)
NULL
)

	)

415 
	#SYSCTL_S16
(
·»Á
, 
nbr
, 
Çme
, 
acûss
, 
±r
, 
v®
, 
desü
) \

416 
	`SYSCTL_OID
(
·»Á
, 
nbr
, 
Çme
, \

417 
CTLTYPE_S16
 | 
CTLFLAG_MPSAFE
 | (
acûss
), \

418 
±r
, 
v®
, 
sysùl_hªdË_16
, "S", 
desü
); \

419 
	`CTASSERT
((((
acûss
è& 
CTLTYPE
) == 0 || \

420 ((
acûss
è& 
SYSCTL_CT_ASSERT_MASK
è=ð
CTLTYPE_S16
) && \

421 (
št16_t
è=ð(*(
±r
)))

	)

423 
	#SYSCTL_ADD_S16
(
ùx
, 
·»Á
, 
nbr
, 
Çme
, 
acûss
, 
±r
, 
v®
, 
desü
) \

425 
št16_t
 *
__±r
 = (
±r
); \

426 
	`CTASSERT
(((
acûss
è& 
CTLTYPE
) == 0 || \

427 ((
acûss
è& 
SYSCTL_CT_ASSERT_MASK
è=ð
CTLTYPE_S16
); \

428 
	`sysùl_add_oid
(
ùx
, 
·»Á
, 
nbr
, 
Çme
, \

429 
CTLTYPE_S16
 | 
CTLFLAG_MPSAFE
 | (
acûss
), \

430 
__±r
, 
v®
, 
sysùl_hªdË_16
, "S", 
	`__DESCR
(
desü
), 
NULL
); \

431 })

	)

434 
	#SYSCTL_NULL_U16_PTR
 ((
ušt16_t
 *)
NULL
)

	)

435 
	#SYSCTL_U16
(
·»Á
, 
nbr
, 
Çme
, 
acûss
, 
±r
, 
v®
, 
desü
) \

436 
	`SYSCTL_OID
(
·»Á
, 
nbr
, 
Çme
, \

437 
CTLTYPE_U16
 | 
CTLFLAG_MPSAFE
 | (
acûss
), \

438 
±r
, 
v®
, 
sysùl_hªdË_16
, "SU", 
desü
); \

439 
	`CTASSERT
((((
acûss
è& 
CTLTYPE
) == 0 || \

440 ((
acûss
è& 
SYSCTL_CT_ASSERT_MASK
è=ð
CTLTYPE_U16
) && \

441 (
ušt16_t
è=ð(*(
±r
)))

	)

443 
	#SYSCTL_ADD_U16
(
ùx
, 
·»Á
, 
nbr
, 
Çme
, 
acûss
, 
±r
, 
v®
, 
desü
) \

445 
ušt16_t
 *
__±r
 = (
±r
); \

446 
	`CTASSERT
(((
acûss
è& 
CTLTYPE
) == 0 || \

447 ((
acûss
è& 
SYSCTL_CT_ASSERT_MASK
è=ð
CTLTYPE_U16
); \

448 
	`sysùl_add_oid
(
ùx
, 
·»Á
, 
nbr
, 
Çme
, \

449 
CTLTYPE_U16
 | 
CTLFLAG_MPSAFE
 | (
acûss
), \

450 
__±r
, 
v®
, 
sysùl_hªdË_16
, "SU", 
	`__DESCR
(
desü
), 
NULL
); \

451 })

	)

454 
	#SYSCTL_NULL_S32_PTR
 ((
št32_t
 *)
NULL
)

	)

455 
	#SYSCTL_S32
(
·»Á
, 
nbr
, 
Çme
, 
acûss
, 
±r
, 
v®
, 
desü
) \

456 
	`SYSCTL_OID
(
·»Á
, 
nbr
, 
Çme
, \

457 
CTLTYPE_S32
 | 
CTLFLAG_MPSAFE
 | (
acûss
), \

458 
±r
, 
v®
, 
sysùl_hªdË_32
, "I", 
desü
); \

459 
	`CTASSERT
((((
acûss
è& 
CTLTYPE
) == 0 || \

460 ((
acûss
è& 
SYSCTL_CT_ASSERT_MASK
è=ð
CTLTYPE_S32
) && \

461 (
št32_t
è=ð(*(
±r
)))

	)

463 
	#SYSCTL_ADD_S32
(
ùx
, 
·»Á
, 
nbr
, 
Çme
, 
acûss
, 
±r
, 
v®
, 
desü
) \

465 
št32_t
 *
__±r
 = (
±r
); \

466 
	`CTASSERT
(((
acûss
è& 
CTLTYPE
) == 0 || \

467 ((
acûss
è& 
SYSCTL_CT_ASSERT_MASK
è=ð
CTLTYPE_S32
); \

468 
	`sysùl_add_oid
(
ùx
, 
·»Á
, 
nbr
, 
Çme
, \

469 
CTLTYPE_S32
 | 
CTLFLAG_MPSAFE
 | (
acûss
), \

470 
__±r
, 
v®
, 
sysùl_hªdË_32
, "I", 
	`__DESCR
(
desü
), 
NULL
); \

471 })

	)

474 
	#SYSCTL_NULL_U32_PTR
 ((
ušt32_t
 *)
NULL
)

	)

475 
	#SYSCTL_U32
(
·»Á
, 
nbr
, 
Çme
, 
acûss
, 
±r
, 
v®
, 
desü
) \

476 
	`SYSCTL_OID
(
·»Á
, 
nbr
, 
Çme
, \

477 
CTLTYPE_U32
 | 
CTLFLAG_MPSAFE
 | (
acûss
), \

478 
±r
, 
v®
, 
sysùl_hªdË_32
, "IU", 
desü
); \

479 
	`CTASSERT
((((
acûss
è& 
CTLTYPE
) == 0 || \

480 ((
acûss
è& 
SYSCTL_CT_ASSERT_MASK
è=ð
CTLTYPE_U32
) && \

481 (
ušt32_t
è=ð(*(
±r
)))

	)

483 
	#SYSCTL_ADD_U32
(
ùx
, 
·»Á
, 
nbr
, 
Çme
, 
acûss
, 
±r
, 
v®
, 
desü
) \

485 
ušt32_t
 *
__±r
 = (
±r
); \

486 
	`CTASSERT
(((
acûss
è& 
CTLTYPE
) == 0 || \

487 ((
acûss
è& 
SYSCTL_CT_ASSERT_MASK
è=ð
CTLTYPE_U32
); \

488 
	`sysùl_add_oid
(
ùx
, 
·»Á
, 
nbr
, 
Çme
, \

489 
CTLTYPE_U32
 | 
CTLFLAG_MPSAFE
 | (
acûss
), \

490 
__±r
, 
v®
, 
sysùl_hªdË_32
, "IU", 
	`__DESCR
(
desü
), 
NULL
); \

491 })

	)

494 
	#SYSCTL_NULL_S64_PTR
 ((
št64_t
 *)
NULL
)

	)

495 
	#SYSCTL_S64
(
·»Á
, 
nbr
, 
Çme
, 
acûss
, 
±r
, 
v®
, 
desü
) \

496 
	`SYSCTL_OID
(
·»Á
, 
nbr
, 
Çme
, \

497 
CTLTYPE_S64
 | 
CTLFLAG_MPSAFE
 | (
acûss
), \

498 
±r
, 
v®
, 
sysùl_hªdË_64
, "Q", 
desü
); \

499 
	`CTASSERT
((((
acûss
è& 
CTLTYPE
) == 0 || \

500 ((
acûss
è& 
SYSCTL_CT_ASSERT_MASK
è=ð
CTLTYPE_S64
) && \

501 (
št64_t
è=ð(*(
±r
)))

	)

503 
	#SYSCTL_ADD_S64
(
ùx
, 
·»Á
, 
nbr
, 
Çme
, 
acûss
, 
±r
, 
v®
, 
desü
) \

505 
št64_t
 *
__±r
 = (
±r
); \

506 
	`CTASSERT
(((
acûss
è& 
CTLTYPE
) == 0 || \

507 ((
acûss
è& 
SYSCTL_CT_ASSERT_MASK
è=ð
CTLTYPE_S64
); \

508 
	`sysùl_add_oid
(
ùx
, 
·»Á
, 
nbr
, 
Çme
, \

509 
CTLTYPE_S64
 | 
CTLFLAG_MPSAFE
 | (
acûss
), \

510 
__±r
, 
v®
, 
sysùl_hªdË_64
, "Q", 
	`__DESCR
(
desü
), 
NULL
); \

511 })

	)

514 
	#SYSCTL_NULL_U64_PTR
 ((
ušt64_t
 *)
NULL
)

	)

515 
	#SYSCTL_U64
(
·»Á
, 
nbr
, 
Çme
, 
acûss
, 
±r
, 
v®
, 
desü
) \

516 
	`SYSCTL_OID
(
·»Á
, 
nbr
, 
Çme
, \

517 
CTLTYPE_U64
 | 
CTLFLAG_MPSAFE
 | (
acûss
), \

518 
±r
, 
v®
, 
sysùl_hªdË_64
, "QU", 
desü
); \

519 
	`CTASSERT
((((
acûss
è& 
CTLTYPE
) == 0 || \

520 ((
acûss
è& 
SYSCTL_CT_ASSERT_MASK
è=ð
CTLTYPE_U64
) && \

521 (
ušt64_t
è=ð(*(
±r
)))

	)

523 
	#SYSCTL_ADD_U64
(
ùx
, 
·»Á
, 
nbr
, 
Çme
, 
acûss
, 
±r
, 
v®
, 
desü
) \

525 
ušt64_t
 *
__±r
 = (
±r
); \

526 
	`CTASSERT
(((
acûss
è& 
CTLTYPE
) == 0 || \

527 ((
acûss
è& 
SYSCTL_CT_ASSERT_MASK
è=ð
CTLTYPE_U64
); \

528 
	`sysùl_add_oid
(
ùx
, 
·»Á
, 
nbr
, 
Çme
, \

529 
CTLTYPE_U64
 | 
CTLFLAG_MPSAFE
 | (
acûss
), \

530 
__±r
, 
v®
, 
sysùl_hªdË_64
, "QU", 
	`__DESCR
(
desü
), 
NULL
); \

531 })

	)

534 
	#SYSCTL_NULL_INT_PTR
 ((*)
NULL
)

	)

535 
	#SYSCTL_INT
(
·»Á
, 
nbr
, 
Çme
, 
acûss
, 
±r
, 
v®
, 
desü
) \

536 
	`SYSCTL_INT_WITH_LABEL
(
·»Á
, 
nbr
, 
Çme
, 
acûss
, 
±r
, 
v®
, 
desü
, 
NULL
)

	)

538 
	#SYSCTL_INT_WITH_LABEL
(
·»Á
, 
nbr
, 
Çme
, 
acûss
, 
±r
, 
v®
, 
desü
, 
Ïb–
) \

539 
	`SYSCTL_OID_WITH_LABEL
(
·»Á
, 
nbr
, 
Çme
, \

540 
CTLTYPE_INT
 | 
CTLFLAG_MPSAFE
 | (
acûss
), \

541 
±r
, 
v®
, 
sysùl_hªdË_št
, "I", 
desü
, 
Ïb–
); \

542 
	`CTASSERT
((((
acûss
è& 
CTLTYPE
) == 0 || \

543 ((
acûss
è& 
SYSCTL_CT_ASSERT_MASK
è=ð
CTLTYPE_INT
) && \

544 (è=ð(*(
±r
)))

	)

546 
	#SYSCTL_ADD_INT
(
ùx
, 
·»Á
, 
nbr
, 
Çme
, 
acûss
, 
±r
, 
v®
, 
desü
) \

548 *
__±r
 = (
±r
); \

549 
	`CTASSERT
(((
acûss
è& 
CTLTYPE
) == 0 || \

550 ((
acûss
è& 
SYSCTL_CT_ASSERT_MASK
è=ð
CTLTYPE_INT
); \

551 
	`sysùl_add_oid
(
ùx
, 
·»Á
, 
nbr
, 
Çme
, \

552 
CTLTYPE_INT
 | 
CTLFLAG_MPSAFE
 | (
acûss
), \

553 
__±r
, 
v®
, 
sysùl_hªdË_št
, "I", 
	`__DESCR
(
desü
), 
NULL
); \

554 })

	)

557 
	#SYSCTL_NULL_UINT_PTR
 ((*)
NULL
)

	)

558 
	#SYSCTL_UINT
(
·»Á
, 
nbr
, 
Çme
, 
acûss
, 
±r
, 
v®
, 
desü
) \

559 
	`SYSCTL_OID
(
·»Á
, 
nbr
, 
Çme
, \

560 
CTLTYPE_UINT
 | 
CTLFLAG_MPSAFE
 | (
acûss
), \

561 
±r
, 
v®
, 
sysùl_hªdË_št
, "IU", 
desü
); \

562 
	`CTASSERT
((((
acûss
è& 
CTLTYPE
) == 0 || \

563 ((
acûss
è& 
SYSCTL_CT_ASSERT_MASK
è=ð
CTLTYPE_UINT
) && \

564 (è=ð(*(
±r
)))

	)

566 
	#SYSCTL_ADD_UINT
(
ùx
, 
·»Á
, 
nbr
, 
Çme
, 
acûss
, 
±r
, 
v®
, 
desü
) \

568 *
__±r
 = (
±r
); \

569 
	`CTASSERT
(((
acûss
è& 
CTLTYPE
) == 0 || \

570 ((
acûss
è& 
SYSCTL_CT_ASSERT_MASK
è=ð
CTLTYPE_UINT
); \

571 
	`sysùl_add_oid
(
ùx
, 
·»Á
, 
nbr
, 
Çme
, \

572 
CTLTYPE_UINT
 | 
CTLFLAG_MPSAFE
 | (
acûss
), \

573 
__±r
, 
v®
, 
sysùl_hªdË_št
, "IU", 
	`__DESCR
(
desü
), 
NULL
); \

574 })

	)

577 
	#SYSCTL_NULL_LONG_PTR
 ((*)
NULL
)

	)

578 
	#SYSCTL_LONG
(
·»Á
, 
nbr
, 
Çme
, 
acûss
, 
±r
, 
v®
, 
desü
) \

579 
	`SYSCTL_OID
(
·»Á
, 
nbr
, 
Çme
, \

580 
CTLTYPE_LONG
 | 
CTLFLAG_MPSAFE
 | (
acûss
), \

581 
±r
, 
v®
, 
sysùl_hªdË_lÚg
, "L", 
desü
); \

582 
	`CTASSERT
((((
acûss
è& 
CTLTYPE
) == 0 || \

583 ((
acûss
è& 
SYSCTL_CT_ASSERT_MASK
è=ð
CTLTYPE_LONG
) && \

584 (è=ð(*(
±r
)))

	)

586 
	#SYSCTL_ADD_LONG
(
ùx
, 
·»Á
, 
nbr
, 
Çme
, 
acûss
, 
±r
, 
desü
) \

588 *
__±r
 = (
±r
); \

589 
	`CTASSERT
(((
acûss
è& 
CTLTYPE
) == 0 || \

590 ((
acûss
è& 
SYSCTL_CT_ASSERT_MASK
è=ð
CTLTYPE_LONG
); \

591 
	`sysùl_add_oid
(
ùx
, 
·»Á
, 
nbr
, 
Çme
, \

592 
CTLTYPE_LONG
 | 
CTLFLAG_MPSAFE
 | (
acûss
), \

593 
__±r
, 0, 
sysùl_hªdË_lÚg
, "L", 
	`__DESCR
(
desü
), 
NULL
); \

594 })

	)

597 
	#SYSCTL_NULL_ULONG_PTR
 ((*)
NULL
)

	)

598 
	#SYSCTL_ULONG
(
·»Á
, 
nbr
, 
Çme
, 
acûss
, 
±r
, 
v®
, 
desü
) \

599 
	`SYSCTL_OID
(
·»Á
, 
nbr
, 
Çme
, \

600 
CTLTYPE_ULONG
 | 
CTLFLAG_MPSAFE
 | (
acûss
), \

601 
±r
, 
v®
, 
sysùl_hªdË_lÚg
, "LU", 
desü
); \

602 
	`CTASSERT
((((
acûss
è& 
CTLTYPE
) == 0 || \

603 ((
acûss
è& 
SYSCTL_CT_ASSERT_MASK
è=ð
CTLTYPE_ULONG
) && \

604 (è=ð(*(
±r
)))

	)

606 
	#SYSCTL_ADD_ULONG
(
ùx
, 
·»Á
, 
nbr
, 
Çme
, 
acûss
, 
±r
, 
desü
) \

608 *
__±r
 = (
±r
); \

609 
	`CTASSERT
(((
acûss
è& 
CTLTYPE
) == 0 || \

610 ((
acûss
è& 
SYSCTL_CT_ASSERT_MASK
è=ð
CTLTYPE_ULONG
); \

611 
	`sysùl_add_oid
(
ùx
, 
·»Á
, 
nbr
, 
Çme
, \

612 
CTLTYPE_ULONG
 | 
CTLFLAG_MPSAFE
 | (
acûss
), \

613 
__±r
, 0, 
sysùl_hªdË_lÚg
, "LU", 
	`__DESCR
(
desü
), 
NULL
); \

614 })

	)

617 
	#SYSCTL_NULL_QUAD_PTR
 ((
št64_t
 *)
NULL
)

	)

618 
	#SYSCTL_QUAD
(
·»Á
, 
nbr
, 
Çme
, 
acûss
, 
±r
, 
v®
, 
desü
) \

619 
	`SYSCTL_OID
(
·»Á
, 
nbr
, 
Çme
, \

620 
CTLTYPE_S64
 | 
CTLFLAG_MPSAFE
 | (
acûss
), \

621 
±r
, 
v®
, 
sysùl_hªdË_64
, "Q", 
desü
); \

622 
	`CTASSERT
((((
acûss
è& 
CTLTYPE
) == 0 || \

623 ((
acûss
è& 
SYSCTL_CT_ASSERT_MASK
è=ð
CTLTYPE_S64
) && \

624 (
št64_t
è=ð(*(
±r
)))

	)

626 
	#SYSCTL_ADD_QUAD
(
ùx
, 
·»Á
, 
nbr
, 
Çme
, 
acûss
, 
±r
, 
desü
) \

628 
št64_t
 *
__±r
 = (
±r
); \

629 
	`CTASSERT
(((
acûss
è& 
CTLTYPE
) == 0 || \

630 ((
acûss
è& 
SYSCTL_CT_ASSERT_MASK
è=ð
CTLTYPE_S64
); \

631 
	`sysùl_add_oid
(
ùx
, 
·»Á
, 
nbr
, 
Çme
, \

632 
CTLTYPE_S64
 | 
CTLFLAG_MPSAFE
 | (
acûss
), \

633 
__±r
, 0, 
sysùl_hªdË_64
, "Q", 
	`__DESCR
(
desü
), 
NULL
); \

634 })

	)

636 
	#SYSCTL_NULL_UQUAD_PTR
 ((
ušt64_t
 *)
NULL
)

	)

637 
	#SYSCTL_UQUAD
(
·»Á
, 
nbr
, 
Çme
, 
acûss
, 
±r
, 
v®
, 
desü
) \

638 
	`SYSCTL_OID
(
·»Á
, 
nbr
, 
Çme
, \

639 
CTLTYPE_U64
 | 
CTLFLAG_MPSAFE
 | (
acûss
), \

640 
±r
, 
v®
, 
sysùl_hªdË_64
, "QU", 
desü
); \

641 
	`CTASSERT
((((
acûss
è& 
CTLTYPE
) == 0 || \

642 ((
acûss
è& 
SYSCTL_CT_ASSERT_MASK
è=ð
CTLTYPE_U64
) && \

643 (
ušt64_t
è=ð(*(
±r
)))

	)

645 
	#SYSCTL_ADD_UQUAD
(
ùx
, 
·»Á
, 
nbr
, 
Çme
, 
acûss
, 
±r
, 
desü
) \

647 
ušt64_t
 *
__±r
 = (
±r
); \

648 
	`CTASSERT
(((
acûss
è& 
CTLTYPE
) == 0 || \

649 ((
acûss
è& 
SYSCTL_CT_ASSERT_MASK
è=ð
CTLTYPE_U64
); \

650 
	`sysùl_add_oid
(
ùx
, 
·»Á
, 
nbr
, 
Çme
, \

651 
CTLTYPE_U64
 | 
CTLFLAG_MPSAFE
 | (
acûss
), \

652 
__±r
, 0, 
sysùl_hªdË_64
, "QU", 
	`__DESCR
(
desü
), 
NULL
); \

653 })

	)

656 
	#SYSCTL_ADD_UAUTO
(
ùx
, 
·»Á
, 
nbr
, 
Çme
, 
acûss
, 
±r
, 
desü
) \

658 
sysùl_oid
 *
__»t
; \

659 
	`CTASSERT
(((
ušt64_t
è=ð(*(
±r
)) || \

660 (è=ð(*(
±r
))) && \

661 ((
acûss
è& 
CTLTYPE
) == 0); \

662 ià((
ušt64_t
è=ð(*(
±r
))) { \

663 
__»t
 = 
	`sysùl_add_oid
(
ùx
, 
·»Á
, 
nbr
, 
Çme
, \

664 
CTLTYPE_U64
 | 
CTLFLAG_MPSAFE
 | (
acûss
), \

665 (
±r
), 0, 
sysùl_hªdË_64
, "QU", \

666 
	`__DESCR
(
desü
), 
NULL
); \

668 
__»t
 = 
	`sysùl_add_oid
(
ùx
, 
·»Á
, 
nbr
, 
Çme
, \

669 
CTLTYPE_UINT
 | 
CTLFLAG_MPSAFE
 | (
acûss
), \

670 (
±r
), 0, 
sysùl_hªdË_št
, "IU", \

671 
	`__DESCR
(
desü
), 
NULL
); \

673 
__»t
; \

674 })

	)

677 
	#SYSCTL_COUNTER_U64
(
·»Á
, 
nbr
, 
Çme
, 
acûss
, 
±r
, 
desü
) \

678 
	`SYSCTL_OID
(
·»Á
, 
nbr
, 
Çme
, \

679 
CTLTYPE_U64
 | 
CTLFLAG_MPSAFE
 | (
acûss
), \

680 (
±r
), 0, 
sysùl_hªdË_couÁ”_u64
, "QU", 
desü
); \

681 
	`CTASSERT
((((
acûss
è& 
CTLTYPE
) == 0 || \

682 ((
acûss
è& 
SYSCTL_CT_ASSERT_MASK
è=ð
CTLTYPE_U64
) && \

683 (
couÁ”_u64_t
è=ð(*(
±r
)) && \

684 (
ušt64_t
è=ð(**(
±r
)))

	)

686 
	#SYSCTL_ADD_COUNTER_U64
(
ùx
, 
·»Á
, 
nbr
, 
Çme
, 
acûss
, 
±r
, 
desü
) \

688 
couÁ”_u64_t
 *
__±r
 = (
±r
); \

689 
	`CTASSERT
(((
acûss
è& 
CTLTYPE
) == 0 || \

690 ((
acûss
è& 
SYSCTL_CT_ASSERT_MASK
è=ð
CTLTYPE_U64
); \

691 
	`sysùl_add_oid
(
ùx
, 
·»Á
, 
nbr
, 
Çme
, \

692 
CTLTYPE_U64
 | 
CTLFLAG_MPSAFE
 | (
acûss
), \

693 
__±r
, 0, 
sysùl_hªdË_couÁ”_u64
, "QU", 
	`__DESCR
(
desü
), \

694 
NULL
); \

695 })

	)

698 
	#SYSCTL_COUNTER_U64_ARRAY
(
·»Á
, 
nbr
, 
Çme
, 
acûss
, 
±r
, 
Ën
, 
desü
) \

699 
	`SYSCTL_OID
(
·»Á
, 
nbr
, 
Çme
, \

700 
CTLTYPE_OPAQUE
 | 
CTLFLAG_MPSAFE
 | (
acûss
), \

701 (
±r
), (
Ën
), 
sysùl_hªdË_couÁ”_u64_¬¿y
, "S", 
desü
); \

702 
	`CTASSERT
((((
acûss
è& 
CTLTYPE
) == 0 || \

703 ((
acûss
è& 
SYSCTL_CT_ASSERT_MASK
è=ð
CTLTYPE_OPAQUE
) && \

704 (
couÁ”_u64_t
è=ð(*(
±r
)) && \

705 (
ušt64_t
è=ð(**(
±r
)))

	)

707 
	#SYSCTL_ADD_COUNTER_U64_ARRAY
(
ùx
, 
·»Á
, 
nbr
, 
Çme
, 
acûss
, \

708 
±r
, 
Ën
, 
desü
) \

710 
couÁ”_u64_t
 *
__±r
 = (
±r
); \

711 
	`CTASSERT
(((
acûss
è& 
CTLTYPE
) == 0 || \

712 ((
acûss
è& 
SYSCTL_CT_ASSERT_MASK
è=ð
CTLTYPE_OPAQUE
); \

713 
	`sysùl_add_oid
(
ùx
, 
·»Á
, 
nbr
, 
Çme
, \

714 
CTLTYPE_OPAQUE
 | 
CTLFLAG_MPSAFE
 | (
acûss
), \

715 
__±r
, 
Ën
, 
sysùl_hªdË_couÁ”_u64_¬¿y
, "S", \

716 
	`__DESCR
(
desü
), 
NULL
); \

717 })

	)

720 
	#SYSCTL_OPAQUE
(
·»Á
, 
nbr
, 
Çme
, 
acûss
, 
±r
, 
Ën
, 
fmt
, 
desü
) \

721 
	`SYSCTL_OID
(
·»Á
, 
nbr
, 
Çme
, 
CTLTYPE_OPAQUE
|(
acûss
), \

722 
±r
, 
Ën
, 
sysùl_hªdË_Ýaque
, 
fmt
, 
desü
); \

723 
	`CTASSERT
(((
acûss
è& 
CTLTYPE
) == 0 || \

724 ((
acûss
è& 
SYSCTL_CT_ASSERT_MASK
è=ð
CTLTYPE_OPAQUE
)

	)

726 
	#SYSCTL_ADD_OPAQUE
(
ùx
, 
·»Á
, 
nbr
, 
Çme
, 
acûss
, 
±r
, 
Ën
, 
fmt
, 
desü
) \

728 
	`CTASSERT
(((
acûss
è& 
CTLTYPE
) == 0 || \

729 ((
acûss
è& 
SYSCTL_CT_ASSERT_MASK
è=ð
CTLTYPE_OPAQUE
); \

730 
	`sysùl_add_oid
(
ùx
, 
·»Á
, 
nbr
, 
Çme
, 
CTLTYPE_OPAQUE
|(
acûss
), \

731 
±r
, 
Ën
, 
sysùl_hªdË_Ýaque
, 
fmt
, 
	`__DESCR
(
desü
), 
NULL
); \

732 })

	)

735 
	#SYSCTL_STRUCT
(
·»Á
, 
nbr
, 
Çme
, 
acûss
, 
±r
, 
ty³
, 
desü
) \

736 
	`SYSCTL_OID
(
·»Á
, 
nbr
, 
Çme
, 
CTLTYPE_OPAQUE
|(
acûss
), \

737 
±r
, (
ty³
), 
sysùl_hªdË_Ýaque
, \

738 "S," #ty³, 
desü
); \

739 
	`CTASSERT
(((
acûss
è& 
CTLTYPE
) == 0 || \

740 ((
acûss
è& 
SYSCTL_CT_ASSERT_MASK
è=ð
CTLTYPE_OPAQUE
)

	)

742 
	#SYSCTL_ADD_STRUCT
(
ùx
, 
·»Á
, 
nbr
, 
Çme
, 
acûss
, 
±r
, 
ty³
, 
desü
) \

744 
	`CTASSERT
(((
acûss
è& 
CTLTYPE
) == 0 || \

745 ((
acûss
è& 
SYSCTL_CT_ASSERT_MASK
è=ð
CTLTYPE_OPAQUE
); \

746 
	`sysùl_add_oid
(
ùx
, 
·»Á
, 
nbr
, 
Çme
, 
CTLTYPE_OPAQUE
|(
acûss
), \

747 (
±r
), (
ty³
), \

748 
sysùl_hªdË_Ýaque
, "S," #ty³, 
	`__DESCR
(
desü
), 
NULL
); \

749 })

	)

752 
	#SYSCTL_PROC
(
·»Á
, 
nbr
, 
Çme
, 
acûss
, 
±r
, 
¬g
, 
hªdËr
, 
fmt
, 
desü
) \

753 
	`SYSCTL_OID
(
·»Á
, 
nbr
, 
Çme
, (
acûss
), \

754 
±r
, 
¬g
, 
hªdËr
, 
fmt
, 
desü
); \

755 
	`CTASSERT
(((
acûss
è& 
CTLTYPE
è!ð0)

	)

757 
	#SYSCTL_ADD_PROC
(
ùx
, 
·»Á
, 
nbr
, 
Çme
, 
acûss
, 
±r
, 
¬g
, 
hªdËr
, 
fmt
, 
desü
) \

759 
	`CTASSERT
(((
acûss
è& 
CTLTYPE
) != 0); \

760 
	`sysùl_add_oid
(
ùx
, 
·»Á
, 
nbr
, 
Çme
, (
acûss
), \

761 (
±r
), (
¬g
), (
hªdËr
), (
fmt
), 
	`__DESCR
(
desü
), 
NULL
); \

762 })

	)

765 
	#SYSCTL_UMA_MAX
(
·»Á
, 
nbr
, 
Çme
, 
acûss
, 
±r
, 
desü
) \

766 
	`SYSCTL_OID
(
·»Á
, 
nbr
, 
Çme
, \

767 
CTLTYPE_INT
 | 
CTLFLAG_MPSAFE
 | (
acûss
), \

768 (
±r
), 0, 
sysùl_hªdË_uma_zÚe_max
, "I", 
desü
); \

769 
	`CTASSERT
(((
acûss
è& 
CTLTYPE
) == 0 || \

770 ((
acûss
è& 
SYSCTL_CT_ASSERT_MASK
è=ð
CTLTYPE_INT
)

	)

772 
	#SYSCTL_ADD_UMA_MAX
(
ùx
, 
·»Á
, 
nbr
, 
Çme
, 
acûss
, 
±r
, 
desü
) \

774 
uma_zÚe_t
 
__±r
 = (
±r
); \

775 
	`CTASSERT
(((
acûss
è& 
CTLTYPE
) == 0 || \

776 ((
acûss
è& 
SYSCTL_CT_ASSERT_MASK
è=ð
CTLTYPE_INT
); \

777 
	`sysùl_add_oid
(
ùx
, 
·»Á
, 
nbr
, 
Çme
, \

778 
CTLTYPE_INT
 | 
CTLFLAG_MPSAFE
 | (
acûss
), \

779 
__±r
, 0, 
sysùl_hªdË_uma_zÚe_max
, "I", 
	`__DESCR
(
desü
), \

780 
NULL
); \

781 })

	)

784 
	#SYSCTL_UMA_CUR
(
·»Á
, 
nbr
, 
Çme
, 
acûss
, 
±r
, 
desü
) \

785 
	`SYSCTL_OID
(
·»Á
, 
nbr
, 
Çme
, \

786 
CTLTYPE_INT
 | 
CTLFLAG_MPSAFE
 | 
CTLFLAG_RD
 | (
acûss
), \

787 (
±r
), 0, 
sysùl_hªdË_uma_zÚe_cur
, "I", 
desü
); \

788 
	`CTASSERT
(((
acûss
è& 
CTLTYPE
) == 0 || \

789 ((
acûss
è& 
SYSCTL_CT_ASSERT_MASK
è=ð
CTLTYPE_INT
)

	)

791 
	#SYSCTL_ADD_UMA_CUR
(
ùx
, 
·»Á
, 
nbr
, 
Çme
, 
acûss
, 
±r
, 
desü
) \

793 
uma_zÚe_t
 
__±r
 = (
±r
); \

794 
	`CTASSERT
(((
acûss
è& 
CTLTYPE
) == 0 || \

795 ((
acûss
è& 
SYSCTL_CT_ASSERT_MASK
è=ð
CTLTYPE_INT
); \

796 
	`sysùl_add_oid
(
ùx
, 
·»Á
, 
nbr
, 
Çme
, \

797 
CTLTYPE_INT
 | 
CTLFLAG_MPSAFE
 | 
CTLFLAG_RD
 | (
acûss
), \

798 
__±r
, 0, 
sysùl_hªdË_uma_zÚe_cur
, "I", 
	`__DESCR
(
desü
), \

799 
NULL
); \

800 })

	)

806 
	#FEATURE
(
Çme
, 
desc
) \

807 
	`SYSCTL_INT_WITH_LABEL
(
_k”n_ã©u»s
, 
OID_AUTO
, 
Çme
, \

808 
CTLFLAG_RD
 | 
CTLFLAG_CAPRD
, 
SYSCTL_NULL_INT_PTR
, 1, 
desc
, "ã©u»")

	)

815 
	#CTL_UNSPEC
 0

	)

816 
	#CTL_KERN
 1

	)

817 
	#CTL_VM
 2

	)

818 
	#CTL_VFS
 3

	)

819 
	#CTL_NET
 4

	)

820 
	#CTL_DEBUG
 5

	)

821 
	#CTL_HW
 6

	)

822 
	#CTL_MACHDEP
 7

	)

823 
	#CTL_USER
 8

	)

824 
	#CTL_P1003_1B
 9

	)

829 
	#KERN_OSTYPE
 1

	)

830 
	#KERN_OSRELEASE
 2

	)

831 
	#KERN_OSREV
 3

	)

832 
	#KERN_VERSION
 4

	)

833 
	#KERN_MAXVNODES
 5

	)

834 
	#KERN_MAXPROC
 6

	)

835 
	#KERN_MAXFILES
 7

	)

836 
	#KERN_ARGMAX
 8

	)

837 
	#KERN_SECURELVL
 9

	)

838 
	#KERN_HOSTNAME
 10

	)

839 
	#KERN_HOSTID
 11

	)

840 
	#KERN_CLOCKRATE
 12

	)

841 
	#KERN_VNODE
 13

	)

842 
	#KERN_PROC
 14

	)

843 
	#KERN_FILE
 15

	)

844 
	#KERN_PROF
 16

	)

845 
	#KERN_POSIX1
 17

	)

846 
	#KERN_NGROUPS
 18

	)

847 
	#KERN_JOB_CONTROL
 19

	)

848 
	#KERN_SAVED_IDS
 20

	)

849 
	#KERN_BOOTTIME
 21

	)

850 
	#KERN_NISDOMAINNAME
 22

	)

851 
	#KERN_UPDATEINTERVAL
 23

	)

852 
	#KERN_OSRELDATE
 24

	)

853 
	#KERN_NTP_PLL
 25

	)

854 
	#KERN_BOOTFILE
 26

	)

855 
	#KERN_MAXFILESPERPROC
 27

	)

856 
	#KERN_MAXPROCPERUID
 28

	)

857 
	#KERN_DUMPDEV
 29

	)

858 
	#KERN_IPC
 30

	)

859 
	#KERN_DUMMY
 31

	)

860 
	#KERN_PS_STRINGS
 32

	)

861 
	#KERN_USRSTACK
 33

	)

862 
	#KERN_LOGSIGEXIT
 34

	)

863 
	#KERN_IOV_MAX
 35

	)

864 
	#KERN_HOSTUUID
 36

	)

865 
	#KERN_ARND
 37

	)

866 
	#KERN_MAXPHYS
 38

	)

870 
	#KERN_PROC_ALL
 0

	)

871 
	#KERN_PROC_PID
 1

	)

872 
	#KERN_PROC_PGRP
 2

	)

873 
	#KERN_PROC_SESSION
 3

	)

874 
	#KERN_PROC_TTY
 4

	)

875 
	#KERN_PROC_UID
 5

	)

876 
	#KERN_PROC_RUID
 6

	)

877 
	#KERN_PROC_ARGS
 7

	)

878 
	#KERN_PROC_PROC
 8

	)

879 
	#KERN_PROC_SV_NAME
 9

	)

880 
	#KERN_PROC_RGID
 10

	)

881 
	#KERN_PROC_GID
 11

	)

882 
	#KERN_PROC_PATHNAME
 12

	)

883 
	#KERN_PROC_OVMMAP
 13

	)

884 
	#KERN_PROC_OFILEDESC
 14

	)

885 
	#KERN_PROC_KSTACK
 15

	)

886 
	#KERN_PROC_INC_THREAD
 0x10

	)

891 
	#KERN_PROC_VMMAP
 32

	)

892 
	#KERN_PROC_FILEDESC
 33

	)

893 
	#KERN_PROC_GROUPS
 34

	)

894 
	#KERN_PROC_ENV
 35

	)

895 
	#KERN_PROC_AUXV
 36

	)

896 
	#KERN_PROC_RLIMIT
 37

	)

897 
	#KERN_PROC_PS_STRINGS
 38

	)

898 
	#KERN_PROC_UMASK
 39

	)

899 
	#KERN_PROC_OSREL
 40

	)

900 
	#KERN_PROC_SIGTRAMP
 41

	)

901 
	#KERN_PROC_CWD
 42

	)

902 
	#KERN_PROC_NFDS
 43

	)

907 
	#KIPC_MAXSOCKBUF
 1

	)

908 
	#KIPC_SOCKBUF_WASTE
 2

	)

909 
	#KIPC_SOMAXCONN
 3

	)

910 
	#KIPC_MAX_LINKHDR
 4

	)

911 
	#KIPC_MAX_PROTOHDR
 5

	)

912 
	#KIPC_MAX_HDR
 6

	)

913 
	#KIPC_MAX_DATALEN
 7

	)

918 
	#HW_MACHINE
 1

	)

919 
	#HW_MODEL
 2

	)

920 
	#HW_NCPU
 3

	)

921 
	#HW_BYTEORDER
 4

	)

922 
	#HW_PHYSMEM
 5

	)

923 
	#HW_USERMEM
 6

	)

924 
	#HW_PAGESIZE
 7

	)

925 
	#HW_DISKNAMES
 8

	)

926 
	#HW_DISKSTATS
 9

	)

927 
	#HW_FLOATINGPT
 10

	)

928 
	#HW_MACHINE_ARCH
 11

	)

929 
	#HW_REALMEM
 12

	)

934 
	#USER_CS_PATH
 1

	)

935 
	#USER_BC_BASE_MAX
 2

	)

936 
	#USER_BC_DIM_MAX
 3

	)

937 
	#USER_BC_SCALE_MAX
 4

	)

938 
	#USER_BC_STRING_MAX
 5

	)

939 
	#USER_COLL_WEIGHTS_MAX
 6

	)

940 
	#USER_EXPR_NEST_MAX
 7

	)

941 
	#USER_LINE_MAX
 8

	)

942 
	#USER_RE_DUP_MAX
 9

	)

943 
	#USER_POSIX2_VERSION
 10

	)

944 
	#USER_POSIX2_C_BIND
 11

	)

945 
	#USER_POSIX2_C_DEV
 12

	)

946 
	#USER_POSIX2_CHAR_TERM
 13

	)

947 
	#USER_POSIX2_FORT_DEV
 14

	)

948 
	#USER_POSIX2_FORT_RUN
 15

	)

949 
	#USER_POSIX2_LOCALEDEF
 16

	)

950 
	#USER_POSIX2_SW_DEV
 17

	)

951 
	#USER_POSIX2_UPE
 18

	)

952 
	#USER_STREAM_MAX
 19

	)

953 
	#USER_TZNAME_MAX
 20

	)

955 
	#CTL_P1003_1B_ASYNCHRONOUS_IO
 1

	)

956 
	#CTL_P1003_1B_MAPPED_FILES
 2

	)

957 
	#CTL_P1003_1B_MEMLOCK
 3

	)

958 
	#CTL_P1003_1B_MEMLOCK_RANGE
 4

	)

959 
	#CTL_P1003_1B_MEMORY_PROTECTION
 5

	)

960 
	#CTL_P1003_1B_MESSAGE_PASSING
 6

	)

961 
	#CTL_P1003_1B_PRIORITIZED_IO
 7

	)

962 
	#CTL_P1003_1B_PRIORITY_SCHEDULING
 8

	)

963 
	#CTL_P1003_1B_REALTIME_SIGNALS
 9

	)

964 
	#CTL_P1003_1B_SEMAPHORES
 10

	)

965 
	#CTL_P1003_1B_FSYNC
 11

	)

966 
	#CTL_P1003_1B_SHARED_MEMORY_OBJECTS
 12

	)

967 
	#CTL_P1003_1B_SYNCHRONIZED_IO
 13

	)

968 
	#CTL_P1003_1B_TIMERS
 14

	)

969 
	#CTL_P1003_1B_AIO_LISTIO_MAX
 15

	)

970 
	#CTL_P1003_1B_AIO_MAX
 16

	)

971 
	#CTL_P1003_1B_AIO_PRIO_DELTA_MAX
 17

	)

972 
	#CTL_P1003_1B_DELAYTIMER_MAX
 18

	)

973 
	#CTL_P1003_1B_MQ_OPEN_MAX
 19

	)

974 
	#CTL_P1003_1B_PAGESIZE
 20

	)

975 
	#CTL_P1003_1B_RTSIG_MAX
 21

	)

976 
	#CTL_P1003_1B_SEM_NSEMS_MAX
 22

	)

977 
	#CTL_P1003_1B_SEM_VALUE_MAX
 23

	)

978 
	#CTL_P1003_1B_SIGQUEUE_MAX
 24

	)

979 
	#CTL_P1003_1B_TIMER_MAX
 25

	)

981 
	#CTL_P1003_1B_MAXID
 26

	)

983 #ifdeà
_KERNEL


988 
sysùl_oid_li¡
 
sysùl__chžd»n
;

989 
SYSCTL_DECL
(
_k”n
);

990 
SYSCTL_DECL
(
_k”n_ã©u»s
);

991 
SYSCTL_DECL
(
_k”n_c
);

992 
SYSCTL_DECL
(
_k”n_´oc
);

993 
SYSCTL_DECL
(
_k”n_sched
);

994 
SYSCTL_DECL
(
_k”n_sched_¡©s
);

995 
SYSCTL_DECL
(
_sysùl
);

996 
SYSCTL_DECL
(
_vm
);

997 
SYSCTL_DECL
(
_vm_¡©s
);

998 
SYSCTL_DECL
(
_vm_¡©s_misc
);

999 
SYSCTL_DECL
(
_vfs
);

1000 
SYSCTL_DECL
(
_Ãt
);

1001 
SYSCTL_DECL
(
_debug
);

1002 
SYSCTL_DECL
(
_debug_sizeof
);

1003 
SYSCTL_DECL
(
_dev
);

1004 
SYSCTL_DECL
(
_hw
);

1005 
SYSCTL_DECL
(
_hw_bus
);

1006 
SYSCTL_DECL
(
_hw_bus_deviûs
);

1007 
SYSCTL_DECL
(
_hw_bus_šfo
);

1008 
SYSCTL_DECL
(
_machd•
);

1009 
SYSCTL_DECL
(
_u£r
);

1010 
SYSCTL_DECL
(
_com·t
);

1011 
SYSCTL_DECL
(
_»g»ssiÚ
);

1012 
SYSCTL_DECL
(
_£cur™y
);

1013 
SYSCTL_DECL
(
_£cur™y_bsd
);

1015 
machše
[];

1016 
o¤–—£
[];

1017 
o¡y³
[];

1018 
k”n_id’t
[];

1021 
sysùl_oid
 *
sysùl_add_oid
(
sysùl_ùx_li¡
 *
þi¡
,

1022 
sysùl_oid_li¡
 *
·»Á
, 
nbr
, cÚ¡ *
Çme
, 
kšd
,

1023 *
¬g1
, 
štmax_t
 
¬g2
, (*
hªdËr
)(
SYSCTL_HANDLER_ARGS
),

1024 cÚ¡ *
fmt
, cÚ¡ *
desü
, cÚ¡ *
Ïb–
);

1025 
	`sysùl_»move_Çme
(
sysùl_oid
 *
·»Á
, cÚ¡ *
Çme
, 
d–
,

1026 
»cur£
);

1027 
	`sysùl_»Çme_oid
(
sysùl_oid
 *
oidp
, cÚ¡ *
Çme
);

1028 
	`sysùl_move_oid
(
sysùl_oid
 *
oidp
,

1029 
sysùl_oid_li¡
 *
·»Á
);

1030 
	`sysùl_»move_oid
(
sysùl_oid
 *
oidp
, 
d–
, 
»cur£
);

1031 
	`sysùl_ùx_š™
(
sysùl_ùx_li¡
 *
þi¡
);

1032 
	`sysùl_ùx_ä“
(
sysùl_ùx_li¡
 *
þi¡
);

1033 
sysùl_ùx_’Œy
 *
	`sysùl_ùx_’Œy_add
(
sysùl_ùx_li¡
 *
þi¡
,

1034 
sysùl_oid
 *
oidp
);

1035 
sysùl_ùx_’Œy
 *
	`sysùl_ùx_’Œy_fšd
(
sysùl_ùx_li¡
 *
þi¡
,

1036 
sysùl_oid
 *
oidp
);

1037 
	`sysùl_ùx_’Œy_d–
(
sysùl_ùx_li¡
 *
þi¡
,

1038 
sysùl_oid
 *
oidp
);

1040 
	`k”Ãl_sysùl
(
th»ad
 *
td
, *
Çme
, 
u_št
 
Çm–’
, *
Þd
,

1041 
size_t
 *
ÞdËÅ
, *
Ãw
, size_ˆ
ÃwËn
, size_ˆ*
»tv®
,

1042 
æags
);

1043 
	`k”Ãl_sysùlbyÇme
(
th»ad
 *
td
, *
Çme
, *
Þd
,

1044 
size_t
 *
ÞdËÅ
, *
Ãw
, size_ˆ
ÃwËn
, size_ˆ*
»tv®
,

1045 
æags
);

1046 
	`u£¾ªd_sysùl
(
th»ad
 *
td
, *
Çme
, 
u_št
 
Çm–’
, *
Þd
,

1047 
size_t
 *
ÞdËÅ
, 
šk”Ãl
, *
Ãw
, size_ˆ
ÃwËn
,

1048 
size_t
 *
»tv®
, 
æags
);

1049 
	`sysùl_fšd_oid
(*
Çme
, 
u_št
 
Çm–’
, 
sysùl_oid
 **
noid
,

1050 *
nšdx
, 
sysùl_»q
 *
»q
);

1051 
	`sysùl_wlock
();

1052 
	`sysùl_wuÆock
();

1053 
	`sysùl_wœe_Þd_bufãr
(
sysùl_»q
 *
»q
, 
size_t
 
Ën
);

1055 
sbuf
;

1056 
sbuf
 *
	`sbuf_Ãw_fÜ_sysùl
(sbuf *, *, ,

1057 
sysùl_»q
 *);

1059 
	~<sys/cdefs.h
>

1061 
__BEGIN_DECLS


1062 
	`sysùl
(cÚ¡ *, 
u_št
, *, 
size_t
 *, const *, size_t);

1063 
	`sysùlbyÇme
(cÚ¡ *, *, 
size_t
 *, const *, size_t);

1064 
	`sysùÊam‘omib
(cÚ¡ *, *, 
size_t
 *);

1065 
__END_DECLS


	@/usr/include/sys/sysent.h

34 #iâdeà
_SYS_SYSENT_H_


35 
	#_SYS_SYSENT_H_


	)

37 
	~<bsm/aud™.h
>

39 
	g¾im™
;

40 
	gsy£Á
;

41 
	gth»ad
;

42 
	gksigšfo
;

43 
	gsysÿÎ_¬gs
;

45 
	esy¡¿û_´obe_t
 {

46 
	mSYSTRACE_ENTRY
,

47 
	mSYSTRACE_RETURN
,

50 
	tsy_ÿÎ_t
(
	tth»ad
 *, *);

52 (*
	tsy¡¿û_´obe_func_t
)(
	tsysÿÎ_¬gs
 *,

53 
	tsy¡¿û_´obe_t
, );

54 (*
	tsy¡¿û_¬gs_func_t
)(, *, 
	tušt64_t
 *, *);

56 #ifdeà
_KERNEL


57 
boÞ
 
sy¡¿û_’abËd
;

59 
sy¡¿û_´obe_func_t
 
sy¡¿û_´obe_func
;

61 
	ssy£Á
 {

62 
sy_Çrg
;

63 
sy_ÿÎ_t
 *
sy_ÿÎ
;

64 
au_ev’t_t
 
sy_auev’t
;

65 
sy¡¿û_¬gs_func_t
 
sy_sy¡¿û_¬gs_func
;

67 
u_št32_t
 
sy_’Œy
;

68 
u_št32_t
 
sy_»tuº
;

69 
u_št32_t
 
sy_æags
;

70 
u_št32_t
 
sy_thrút
;

76 
	#SYF_CAPENABLED
 0x00000001

	)

78 
	#SY_THR_FLAGMASK
 0x7

	)

79 
	#SY_THR_STATIC
 0x1

	)

80 
	#SY_THR_DRAINING
 0x2

	)

81 
	#SY_THR_ABSENT
 0x4

	)

82 
	#SY_THR_INCR
 0x8

	)

84 #ifdeà
KLD_MODULE


85 
	#SY_THR_STATIC_KLD
 0

	)

87 
	#SY_THR_STATIC_KLD
 
SY_THR_STATIC


	)

90 
image_·¿ms
;

91 
__sig£t
;

92 
Œ­äame
;

93 
vnode
;

95 
	ssy£Ávec
 {

96 
sv_size
;

97 
sy£Á
 *
sv_bË
;

98 
u_št
 
sv_mask
;

99 
sv_”rsize
;

100 cÚ¡ *
sv_”¹bl
;

101 (*
sv_Œª¡¿p
)(, );

103 (*
sv_fixup
)(
»gi¡”_t
 **, 
image_·¿ms
 *);

105 (*
sv_£ndsig
)((*)(), 
ksigšfo
 *, 
__sig£t
 *);

107 *
sv_sigcode
;

108 *
sv_szsigcode
;

109 *
sv_Çme
;

110 (*
sv_cÜedump
)(
th»ad
 *, 
vnode
 *, 
off_t
, );

112 (*
sv_imgaù_Œy
)(
image_·¿ms
 *);

113 
sv_mšsig¡ksz
;

114 
sv_·gesize
;

115 
vm_off£t_t
 
sv_mšu£r
;

116 
vm_off£t_t
 
sv_maxu£r
;

117 
vm_off£t_t
 
sv_u¤¡ack
;

118 
vm_off£t_t
 
sv_ps¡ršgs
;

119 
sv_¡ack´Ù
;

120 
»gi¡”_t
 *(*
sv_cÝyout_¡ršgs
)(
image_·¿ms
 *);

121 (*
sv_£Œegs
)(
th»ad
 *, 
image_·¿ms
 *,

122 
u_lÚg
);

123 (*
sv_fixlim™
)(
¾im™
 *, );

124 
u_lÚg
 *
sv_maxssiz
;

125 
u_št
 
sv_æags
;

126 (*
sv_£t_sysÿÎ_»tv®
)(
th»ad
 *, );

127 (*
sv_ãtch_sysÿÎ_¬gs
)(
th»ad
 *);

128 cÚ¡ **
sv_sysÿÎÇmes
;

129 
vm_off£t_t
 
sv_timek“p_ba£
;

130 
vm_off£t_t
 
sv_sh¬ed_·ge_ba£
;

131 
vm_off£t_t
 
sv_sh¬ed_·ge_Ën
;

132 
vm_off£t_t
 
sv_sigcode_ba£
;

133 *
sv_sh¬ed_·ge_obj
;

134 (*
sv_schedž
)(
th»ad
 *);

135 (*
sv_th»ad_d‘ach
)(
th»ad
 *);

136 (*
sv_Œ­
)(
th»ad
 *);

137 
u_lÚg
 *
sv_hwÿp
;

138 
u_lÚg
 *
sv_hwÿp2
;

141 
	#SV_ILP32
 0x000100

	)

142 
	#SV_LP64
 0x000200

	)

143 
	#SV_IA32
 0x004000

	)

144 
	#SV_AOUT
 0x008000

	)

145 
	#SV_SHP
 0x010000

	)

146 
	#SV_CAPSICUM
 0x020000

	)

147 
	#SV_TIMEKEEP
 0x040000

	)

149 
	#SV_ABI_MASK
 0xff

	)

150 
	#SV_ABI_ERRNO
(
p
, 
e
è(Õ)->
p_sy£Á
->
sv_”rsize
 <= 0 ?ƒ : \

151 ((
e
è>ð(
p
)->
p_sy£Á
->
sv_”rsize
 ? -1 : (p)->p_sy£Á->
sv_”¹bl
[e]))

	)

152 
	#SV_PROC_FLAG
(
p
, 
x
è(Õ)->
p_sy£Á
->
sv_æags
 & (x))

	)

153 
	#SV_PROC_ABI
(
p
è(Õ)->
p_sy£Á
->
sv_æags
 & 
SV_ABI_MASK
)

	)

154 
	#SV_CURPROC_FLAG
(
x
è
	`SV_PROC_FLAG
(
cu½roc
, x)

	)

155 
	#SV_CURPROC_ABI
(è
	`SV_PROC_ABI
(
cu½roc
)

	)

157 
	#SV_ABI_LINUX
 3

	)

158 
	#SV_ABI_FREEBSD
 9

	)

159 
	#SV_ABI_CLOUDABI
 17

	)

160 
	#SV_ABI_UNDEF
 255

	)

162 #ifdeà
_KERNEL


163 
sy£Ávec
 
aout_sysvec
;

164 
sy£Á
 sysent[];

165 cÚ¡ *
sysÿÎÇmes
[];

167 #ià
	`defšed
(
__amd64__
)

168 
i386_»ad_exec
;

171 
	#NO_SYSCALL
 (-1)

	)

173 
moduË
;

175 
	ssysÿÎ_moduË_d©a
 {

176 (*
chaševh
)(
moduË
 *, , *);

177 *
chaš¬g
;

178 *
off£t
;

179 
sy£Á
 *
Ãw_sy£Á
;

180 
sy£Á
 
Þd_sy£Á
;

181 
æags
;

185 
	#SYSENT_INIT_VALS
(
_sysÿÎÇme
) { \

186 .
sy_Çrg
 = ((
_sysÿÎÇme
 ## 
_¬gs
 ) \

187 / (
»gi¡”_t
)), \

188 .
sy_ÿÎ
 = (
sy_ÿÎ_t
 *)&
sys_
##
_sysÿÎÇme
, \

189 .
sy_auev’t
 = 
SYS_AUE_
##
_sysÿÎÇme
, \

190 .
sy_sy¡¿û_¬gs_func
 = 
NULL
, \

191 .
sy_’Œy
 = 0, \

192 .
sy_»tuº
 = 0, \

193 .
sy_æags
 = 0, \

194 .
sy_thrút
 = 0 \

195 
	}

	)
}

197 
	#MAKE_SYSENT
(
sysÿÎÇme
) \

198 
sy£Á
 
sysÿÎÇme
##
_sy£Á
 = 
	`SYSENT_INIT_VALS
(sysÿÎÇme);

	)

200 
	#MAKE_SYSENT_COMPAT
(
sysÿÎÇme
) \

201 
sy£Á
 
sysÿÎÇme
##
_sy£Á
 = { \

202 ((
sysÿÎÇme
 ## 
_¬gs
 ) \

203 / (
»gi¡”_t
)), \

204 (
sy_ÿÎ_t
 *)& 
sysÿÎÇme
, \

205 
SYS_AUE_
##
sysÿÎÇme
 \

206 }

	)

208 
	#SYSCALL_MODULE
(
Çme
, 
off£t
, 
Ãw_sy£Á
, 
evh
, 
¬g
) \

209 
sysÿÎ_moduË_d©a
 
Çme
##
_sysÿÎ_mod
 = { \

210 
evh
, 
¬g
, 
off£t
, 
Ãw_sy£Á
, { 0, 
NULL
, 
AUE_NULL
 } \

213 
moduËd©a_t
 
Çme
##
_mod
 = { \

215 
sysÿÎ_moduË_hªdËr
, \

216 &
Çme
##
_sysÿÎ_mod
 \

218 
	`DECLARE_MODULE
(
Çme
,‚ame##
_mod
, 
SI_SUB_SYSCALLS
, 
SI_ORDER_MIDDLE
)

	)

220 
	#SYSCALL_MODULE_HELPER
(
sysÿÎÇme
) \

221 
sysÿÎÇme
##
_sysÿÎ
 = 
SYS_
##syscallname; \

222 
	`MAKE_SYSENT
(
sysÿÎÇme
); \

223 
	`SYSCALL_MODULE
(
sysÿÎÇme
, \

224 & 
sysÿÎÇme
##
_sysÿÎ
, & sysÿÎÇme##
_sy£Á
, \

225 
NULL
, NULL)

	)

227 
	#SYSCALL_MODULE_PRESENT
(
sysÿÎÇme
) \

228 (
sy£Á
[
SYS_
##
sysÿÎÇme
].
sy_ÿÎ
 !ð(
sy_ÿÎ_t
 *)
lkmnosys
 && \

229 
sy£Á
[
SYS_
##
sysÿÎÇme
].
sy_ÿÎ
 !ð(
sy_ÿÎ_t
 *)
lkm»ssys
)

	)

234 
	ssysÿÎ_h–³r_d©a
 {

235 
sy£Á
 
	mÃw_sy£Á
;

236 
sy£Á
 
	mÞd_sy£Á
;

237 
	msysÿÎ_no
;

238 
	m»gi¡”ed
;

240 
	#SYSCALL_INIT_HELPER_F
(
sysÿÎÇme
, 
æags
) { \

241 .
Ãw_sy£Á
 = { \

242 .
sy_Çrg
 = ((
sysÿÎÇme
 ## 
_¬gs
 ) \

243 / (
»gi¡”_t
)), \

244 .
sy_ÿÎ
 = (
sy_ÿÎ_t
 *)& 
sys_
 ## 
sysÿÎÇme
, \

245 .
sy_auev’t
 = 
SYS_AUE_
##
sysÿÎÇme
, \

246 .
sy_æags
 = (
æags
) \

248 .
sysÿÎ_no
 = 
SYS_
##
sysÿÎÇme
 \

249 }

	)

250 
	#SYSCALL_INIT_HELPER_COMPAT_F
(
sysÿÎÇme
, 
æags
) { \

251 .
Ãw_sy£Á
 = { \

252 .
sy_Çrg
 = ((
sysÿÎÇme
 ## 
_¬gs
 ) \

253 / (
»gi¡”_t
)), \

254 .
sy_ÿÎ
 = (
sy_ÿÎ_t
 *)& 
sysÿÎÇme
, \

255 .
sy_auev’t
 = 
SYS_AUE_
##
sysÿÎÇme
, \

256 .
sy_æags
 = (
æags
) \

258 .
sysÿÎ_no
 = 
SYS_
##
sysÿÎÇme
 \

259 }

	)

260 
	#SYSCALL_INIT_HELPER
(
sysÿÎÇme
) \

261 
	`SYSCALL_INIT_HELPER_F
(
sysÿÎÇme
, 0)

	)

262 
	#SYSCALL_INIT_HELPER_COMPAT
(
sysÿÎÇme
) \

263 
	`SYSCALL_INIT_HELPER_COMPAT_F
(
sysÿÎÇme
, 0)

	)

264 
	#SYSCALL_INIT_LAST
 { \

265 .
sysÿÎ_no
 = 
NO_SYSCALL
 \

266 }

	)

268 
sysÿÎ_moduË_hªdËr
(
moduË
 *
mod
, 
wh©
, *
¬g
);

269 
sysÿÎ_h–³r_»gi¡”
(
sysÿÎ_h–³r_d©a
 *
sd
, 
æags
);

270 
sysÿÎ_h–³r_uÄegi¡”
(
sysÿÎ_h–³r_d©a
 *
sd
);

272 
k”n_sysÿÎ_»gi¡”
(
sy£Á
 *
sy£Ás
, *
off£t
,

273 
sy£Á
 *
Ãw_sy£Á
, sy£Á *
Þd_sy£Á
, 
æags
);

274 
k”n_sysÿÎ_d”egi¡”
(
sy£Á
 *
sy£Ás
, 
off£t
,

275 cÚ¡ 
sy£Á
 *
Þd_sy£Á
);

276 
k”n_sysÿÎ_moduË_hªdËr
(
sy£Á
 *
sy£Ás
,

277 
moduË
 *
mod
, 
wh©
, *
¬g
);

278 
k”n_sysÿÎ_h–³r_»gi¡”
(
sy£Á
 *
sy£Ás
,

279 
sysÿÎ_h–³r_d©a
 *
sd
, 
æags
);

280 
k”n_sysÿÎ_h–³r_uÄegi¡”
(
sy£Á
 *
sy£Ás
,

281 
sysÿÎ_h–³r_d©a
 *
sd
);

283 
	g´oc
;

284 cÚ¡ *
sysÿÎÇme
(
´oc
 *
p
, 
u_št
 
code
);

287 
	gnosys_¬gs
;

289 
lkmnosys
(
th»ad
 *, 
nosys_¬gs
 *);

290 
lkm»ssys
(
th»ad
 *, 
nosys_¬gs
 *);

292 
_sysÿÎ_th»ad_’‹r
(
th»ad
 *
td
, 
sy£Á
 *
£
);

293 
_sysÿÎ_th»ad_ex™
(
th»ad
 *
td
, 
sy£Á
 *
£
);

295 
šlše
 

296 
	$sysÿÎ_th»ad_’‹r
(
th»ad
 *
td
, 
sy£Á
 *
£
)

299 ià(
	`__´ediù_Œue
((
£
->
sy_thrút
 & 
SY_THR_STATIC
) != 0))

301  (
	`_sysÿÎ_th»ad_’‹r
(
td
, 
£
));

302 
	}
}

304 
šlše
 

305 
	$sysÿÎ_th»ad_ex™
(
th»ad
 *
td
, 
sy£Á
 *
£
)

308 ià(
	`__´ediù_Œue
((
£
->
sy_thrút
 & 
SY_THR_STATIC
) != 0))

310 
	`_sysÿÎ_th»ad_ex™
(
td
, 
£
);

311 
	}
}

313 
sh¬ed_·ge_®loc
(
size
, 
®ign
);

314 
sh¬ed_·ge_fžl
(
size
, 
®ign
, cÚ¡ *
d©a
);

315 
sh¬ed_·ge_wr™e
(
ba£
, 
size
, cÚ¡ *
d©a
);

316 
exec_sysvec_š™
(*
·¿m
);

317 
exec_š™tk
();

319 
	#INIT_SYSENTVEC
(
Çme
, 
sv
) \

320 
	`SYSINIT
(
Çme
, 
SI_SUB_EXEC
, 
SI_ORDER_ANY
, \

321 (
sysš™_cfunc_t
)
exec_sysvec_š™
, 
sv
);

	)

	@/usr/include/sys/syslog.h

35 #iâdeà
_SYS_SYSLOG_H_


36 
	#_SYS_SYSLOG_H_


	)

38 
	#_PATH_LOG
 "/v¬/run/log"

	)

39 
	#_PATH_LOG_PRIV
 "/v¬/run/log´iv"

	)

40 
	#_PATH_OLDLOG
 "/dev/log"

	)

51 
	#LOG_EMERG
 0

	)

52 
	#LOG_ALERT
 1

	)

53 
	#LOG_CRIT
 2

	)

54 
	#LOG_ERR
 3

	)

55 
	#LOG_WARNING
 4

	)

56 
	#LOG_NOTICE
 5

	)

57 
	#LOG_INFO
 6

	)

58 
	#LOG_DEBUG
 7

	)

60 
	#LOG_PRIMASK
 0x07

	)

62 
	#LOG_PRI
(
p
è(Õè& 
LOG_PRIMASK
)

	)

63 
	#LOG_MAKEPRI
(
çc
, 
´i
è((çcè| (´i))

	)

65 #ifdeà
SYSLOG_NAMES


66 
	#INTERNAL_NOPRI
 0x10

	)

68 
	#INTERNAL_MARK
 
	`LOG_MAKEPRI
((
LOG_NFACILITIES
<<3), 0)

	)

69 
	s_code
 {

70 cÚ¡ *
	mc_Çme
;

71 
	mc_v®
;

72 } 
	tCODE
;

74 cÚ¡ 
CODE
 
	g´iÜ™yÇmes
[] = {

75 { "®”t", 
LOG_ALERT
, },

76 { "ü™", 
LOG_CRIT
, },

77 { "debug", 
LOG_DEBUG
, },

78 { "em”g", 
LOG_EMERG
, },

79 { "”r", 
LOG_ERR
, },

80 { "”rÜ", 
LOG_ERR
, },

81 { "šfo", 
LOG_INFO
, },

82 { "nÚe", 
INTERNAL_NOPRI
, },

83 { "nÙiû", 
LOG_NOTICE
, },

84 { "·nic", 
LOG_EMERG
, },

85 { "w¬n", 
LOG_WARNING
, },

86 { "w¬nšg", 
LOG_WARNING
, },

87 { 
NULL
, -1, }

92 
	#LOG_KERN
 (0<<3è

	)

93 
	#LOG_USER
 (1<<3è

	)

94 
	#LOG_MAIL
 (2<<3è

	)

95 
	#LOG_DAEMON
 (3<<3è

	)

96 
	#LOG_AUTH
 (4<<3è

	)

97 
	#LOG_SYSLOG
 (5<<3è

	)

98 
	#LOG_LPR
 (6<<3è

	)

99 
	#LOG_NEWS
 (7<<3è

	)

100 
	#LOG_UUCP
 (8<<3è

	)

101 
	#LOG_CRON
 (9<<3è

	)

102 
	#LOG_AUTHPRIV
 (10<<3è

	)

106 
	#LOG_FTP
 (11<<3è

	)

107 
	#LOG_NTP
 (12<<3è

	)

108 
	#LOG_SECURITY
 (13<<3è

	)

109 
	#LOG_CONSOLE
 (14<<3è

	)

112 
	#LOG_LOCAL0
 (16<<3è

	)

113 
	#LOG_LOCAL1
 (17<<3è

	)

114 
	#LOG_LOCAL2
 (18<<3è

	)

115 
	#LOG_LOCAL3
 (19<<3è

	)

116 
	#LOG_LOCAL4
 (20<<3è

	)

117 
	#LOG_LOCAL5
 (21<<3è

	)

118 
	#LOG_LOCAL6
 (22<<3è

	)

119 
	#LOG_LOCAL7
 (23<<3è

	)

121 
	#LOG_NFACILITIES
 24

	)

122 
	#LOG_FACMASK
 0x03f8

	)

124 
	#LOG_FAC
(
p
è((Õè& 
LOG_FACMASK
è>> 3)

	)

126 #ifdeà
SYSLOG_NAMES


127 cÚ¡ 
CODE
 
	gçcž™yÇmes
[] = {

128 { "auth", 
LOG_AUTH
, },

129 { "auth´iv", 
LOG_AUTHPRIV
, },

130 { "cÚsÞe", 
LOG_CONSOLE
, },

131 { "üÚ", 
LOG_CRON
, },

132 { "d«mÚ", 
LOG_DAEMON
, },

133 { "áp", 
LOG_FTP
, },

134 { "k”n", 
LOG_KERN
, },

135 { "Ír", 
LOG_LPR
, },

136 { "maž", 
LOG_MAIL
, },

137 { "m¬k", 
INTERNAL_MARK
, },

138 { "Ãws", 
LOG_NEWS
, },

139 { "Áp", 
LOG_NTP
, },

140 { "£cur™y", 
LOG_SECURITY
, },

141 { "sy¦og", 
LOG_SYSLOG
, },

142 { "u£r", 
LOG_USER
, },

143 { "uuý", 
LOG_UUCP
, },

144 { "loÿl0", 
LOG_LOCAL0
, },

145 { "loÿl1", 
LOG_LOCAL1
, },

146 { "loÿl2", 
LOG_LOCAL2
, },

147 { "loÿl3", 
LOG_LOCAL3
, },

148 { "loÿl4", 
LOG_LOCAL4
, },

149 { "loÿl5", 
LOG_LOCAL5
, },

150 { "loÿl6", 
LOG_LOCAL6
, },

151 { "loÿl7", 
LOG_LOCAL7
, },

152 { 
NULL
, -1, }

156 #ifdeà
_KERNEL


157 
	#LOG_PRINTF
 -1

	)

163 
	#LOG_MASK
(
´i
è(1 << (´i)è

	)

164 
	#LOG_UPTO
(
´i
è((1 << (Õri)+1)è- 1è

	)

172 
	#LOG_PID
 0x01

	)

173 
	#LOG_CONS
 0x02

	)

174 
	#LOG_ODELAY
 0x04

	)

175 
	#LOG_NDELAY
 0x08

	)

176 
	#LOG_NOWAIT
 0x10

	)

177 
	#LOG_PERROR
 0x20

	)

179 #ifdeà
_KERNEL


190 
	~<sys/cdefs.h
>

191 
	~<sys/_ty³s.h
>

193 
__BEGIN_DECLS


194 
þo£log
();

195 
Ý’log
(const *, , );

196 
£Žogmask
();

197 
	$sy¦og
(, cÚ¡ *, ...è
	`__´štæike
(2, 3);

198 #ià
__BSD_VISIBLE


199 
	$vsy¦og
(, cÚ¡ *, 
__va_li¡
è
	`__´štæike
(2, 0);

201 
__END_DECLS


	@/usr/include/sys/sysproto.h

8 #iâdeà
_SYS_SYSPROTO_H_


9 
	#_SYS_SYSPROTO_H_


	)

11 
	~<sys/sigÇl.h
>

12 
	~<sys/aþ.h
>

13 
	~<sys/ýu£t.h
>

14 
	~<sys/domaš£t.h
>

15 
	~<sys/_ffcouÁ”.h
>

16 
	~<sys/_£m­hÜe.h
>

17 
	~<sys/ucÚ‹xt.h
>

18 
	~<sys/wa™.h
>

20 
	~<bsm/aud™_kev’ts.h
>

22 
	g´oc
;

24 
	gth»ad
;

26 
	#PAD_
(
t
è((
»gi¡”_t
) <= (t) ? \

27 0 : (
»gi¡”_t
è- (
t
))

	)

29 #ià
BYTE_ORDER
 =ð
LITTLE_ENDIAN


30 
	#PADL_
(
t
è0

	)

31 
	#PADR_
(
t
è
	`PAD_
Ñ)

	)

33 
	#PADL_
(
t
è
	`PAD_
Ñ)

	)

34 
	#PADR_
(
t
è0

	)

37 
	snosys_¬gs
 {

38 
»gi¡”_t
 
	mdummy
;

40 
	ssys_ex™_¬gs
 {

41 
	mrv®_l_
[
PADL_
()]; 
	mrv®
; 
	mrv®_r_
[
PADR_
()];

43 
	sfÜk_¬gs
 {

44 
»gi¡”_t
 
	mdummy
;

46 
	s»ad_¬gs
 {

47 
	mfd_l_
[
PADL_
()]; 
	mfd
; 
	mfd_r_
[
PADR_
()];

48 
	mbuf_l_
[
PADL_
(*)]; * 
	mbuf
; 
	mbuf_r_
[
PADR_
(*)];

49 
	mnby‹_l_
[
PADL_
(
size_t
)]; size_ˆ
	mnby‹
; 
	mnby‹_r_
[
PADR_
(size_t)];

51 
	swr™e_¬gs
 {

52 
	mfd_l_
[
PADL_
()]; 
	mfd
; 
	mfd_r_
[
PADR_
()];

53 
	mbuf_l_
[
PADL_
(cÚ¡ *)]; cÚ¡ * 
	mbuf
; 
	mbuf_r_
[
PADR_
(const *)];

54 
	mnby‹_l_
[
PADL_
(
size_t
)]; size_ˆ
	mnby‹
; 
	mnby‹_r_
[
PADR_
(size_t)];

56 
	sÝ’_¬gs
 {

57 
	m·th_l_
[
PADL_
(*)]; * 
	m·th
; 
	m·th_r_
[
PADR_
(*)];

58 
	mæags_l_
[
PADL_
()]; 
	mæags
; 
	mæags_r_
[
PADR_
()];

59 
	mmode_l_
[
PADL_
()]; 
	mmode
; 
	mmode_r_
[
PADR_
()];

61 
	sþo£_¬gs
 {

62 
	mfd_l_
[
PADL_
()]; 
	mfd
; 
	mfd_r_
[
PADR_
()];

64 
	swa™4_¬gs
 {

65 
	mpid_l_
[
PADL_
()]; 
	mpid
; 
	mpid_r_
[
PADR_
()];

66 
	m¡©us_l_
[
PADL_
(*)]; * 
	m¡©us
; 
	m¡©us_r_
[
PADR_
(*)];

67 
	mÝtiÚs_l_
[
PADL_
()]; 
	mÝtiÚs
; 
	mÝtiÚs_r_
[
PADR_
()];

68 
	mru§ge_l_
[
PADL_
(
ru§ge
 *)]; ru§g* 
	mru§ge
; 
	mru§ge_r_
[
PADR_
(rusage *)];

70 
	slšk_¬gs
 {

71 
	m·th_l_
[
PADL_
(*)]; * 
	m·th
; 
	m·th_r_
[
PADR_
(*)];

72 
	mlšk_l_
[
PADL_
(*)]; * 
	mlšk
; 
	mlšk_r_
[
PADR_
(*)];

74 
	suÆšk_¬gs
 {

75 
	m·th_l_
[
PADL_
(*)]; * 
	m·th
; 
	m·th_r_
[
PADR_
(*)];

77 
	schdœ_¬gs
 {

78 
	m·th_l_
[
PADL_
(*)]; * 
	m·th
; 
	m·th_r_
[
PADR_
(*)];

80 
	sfchdœ_¬gs
 {

81 
	mfd_l_
[
PADL_
()]; 
	mfd
; 
	mfd_r_
[
PADR_
()];

83 
	schmod_¬gs
 {

84 
	m·th_l_
[
PADL_
(*)]; * 
	m·th
; 
	m·th_r_
[
PADR_
(*)];

85 
	mmode_l_
[
PADL_
()]; 
	mmode
; 
	mmode_r_
[
PADR_
()];

87 
	schown_¬gs
 {

88 
	m·th_l_
[
PADL_
(*)]; * 
	m·th
; 
	m·th_r_
[
PADR_
(*)];

89 
	muid_l_
[
PADL_
()]; 
	muid
; 
	muid_r_
[
PADR_
()];

90 
	mgid_l_
[
PADL_
()]; 
	mgid
; 
	mgid_r_
[
PADR_
()];

92 
	sb»ak_¬gs
 {

93 
	mnsize_l_
[
PADL_
(*)]; * 
	mnsize
; 
	mnsize_r_
[
PADR_
(*)];

95 
	sg‘pid_¬gs
 {

96 
»gi¡”_t
 
	mdummy
;

98 
	smouÁ_¬gs
 {

99 
	mty³_l_
[
PADL_
(*)]; * 
	mty³
; 
	mty³_r_
[
PADR_
(*)];

100 
	m·th_l_
[
PADL_
(*)]; * 
	m·th
; 
	m·th_r_
[
PADR_
(*)];

101 
	mæags_l_
[
PADL_
()]; 
	mæags
; 
	mæags_r_
[
PADR_
()];

102 
	md©a_l_
[
PADL_
(
ÿddr_t
)]; caddr_ˆ
	md©a
; 
	md©a_r_
[
PADR_
(caddr_t)];

104 
	sunmouÁ_¬gs
 {

105 
	m·th_l_
[
PADL_
(*)]; * 
	m·th
; 
	m·th_r_
[
PADR_
(*)];

106 
	mæags_l_
[
PADL_
()]; 
	mæags
; 
	mæags_r_
[
PADR_
()];

108 
	s£tuid_¬gs
 {

109 
	muid_l_
[
PADL_
(
uid_t
)]; uid_ˆ
	muid
; 
	muid_r_
[
PADR_
(uid_t)];

111 
	sg‘uid_¬gs
 {

112 
»gi¡”_t
 
	mdummy
;

114 
	sg‘euid_¬gs
 {

115 
»gi¡”_t
 
	mdummy
;

117 
	s±¿û_¬gs
 {

118 
	m»q_l_
[
PADL_
()]; 
	m»q
; 
	m»q_r_
[
PADR_
()];

119 
	mpid_l_
[
PADL_
(
pid_t
)];…id_ˆ
	mpid
; 
	mpid_r_
[
PADR_
(pid_t)];

120 
	maddr_l_
[
PADL_
(
ÿddr_t
)]; caddr_ˆ
	maddr
; 
	maddr_r_
[
PADR_
(caddr_t)];

121 
	md©a_l_
[
PADL_
()]; 
	md©a
; 
	md©a_r_
[
PADR_
()];

123 
	s»cvmsg_¬gs
 {

124 
	ms_l_
[
PADL_
()]; 
	ms
; 
	ms_r_
[
PADR_
()];

125 
	mmsg_l_
[
PADL_
(
msghdr
 *)]; msghd¸* 
	mmsg
; 
	mmsg_r_
[
PADR_
(msghdr *)];

126 
	mæags_l_
[
PADL_
()]; 
	mæags
; 
	mæags_r_
[
PADR_
()];

128 
	s£ndmsg_¬gs
 {

129 
	ms_l_
[
PADL_
()]; 
	ms
; 
	ms_r_
[
PADR_
()];

130 
	mmsg_l_
[
PADL_
(
msghdr
 *)]; msghd¸* 
	mmsg
; 
	mmsg_r_
[
PADR_
(msghdr *)];

131 
	mæags_l_
[
PADL_
()]; 
	mæags
; 
	mæags_r_
[
PADR_
()];

133 
	s»cväom_¬gs
 {

134 
	ms_l_
[
PADL_
()]; 
	ms
; 
	ms_r_
[
PADR_
()];

135 
	mbuf_l_
[
PADL_
(
ÿddr_t
)]; caddr_ˆ
	mbuf
; 
	mbuf_r_
[
PADR_
(caddr_t)];

136 
	mËn_l_
[
PADL_
(
size_t
)]; size_ˆ
	mËn
; 
	mËn_r_
[
PADR_
(size_t)];

137 
	mæags_l_
[
PADL_
()]; 
	mæags
; 
	mæags_r_
[
PADR_
()];

138 
	mäom_l_
[
PADL_
(
sockaddr
 *
__»¡riù
)]; sockadd¸*__»¡riù 
	mäom
; 
	mäom_r_
[
PADR_
(sockaddr *__restrict)];

139 
	mäomËÇddr_l_
[
PADL_
(
__sockËn_t
 *
__»¡riù
)]; __sockËn_ˆ*__»¡riù 
	mäomËÇddr
; 
	mäomËÇddr_r_
[
PADR_
(__socklen_t *__restrict)];

141 
	sacû±_¬gs
 {

142 
	ms_l_
[
PADL_
()]; 
	ms
; 
	ms_r_
[
PADR_
()];

143 
	mÇme_l_
[
PADL_
(
sockaddr
 *
__»¡riù
)]; sockadd¸*__»¡riù 
	mÇme
; 
	mÇme_r_
[
PADR_
(sockaddr *__restrict)];

144 
	mªam–’_l_
[
PADL_
(
__sockËn_t
 *
__»¡riù
)]; __sockËn_ˆ*__»¡riù 
	mªam–’
; 
	mªam–’_r_
[
PADR_
(__socklen_t *__restrict)];

146 
	sg‘³”Çme_¬gs
 {

147 
	mfdes_l_
[
PADL_
()]; 
	mfdes
; 
	mfdes_r_
[
PADR_
()];

148 
	ma§_l_
[
PADL_
(
sockaddr
 *
__»¡riù
)]; sockadd¸*__»¡riù 
	ma§
; 
	ma§_r_
[
PADR_
(sockaddr *__restrict)];

149 
	m®’_l_
[
PADL_
(
__sockËn_t
 *
__»¡riù
)]; __sockËn_ˆ*__»¡riù 
	m®’
; 
	m®’_r_
[
PADR_
(__socklen_t *__restrict)];

151 
	sg‘sockÇme_¬gs
 {

152 
	mfdes_l_
[
PADL_
()]; 
	mfdes
; 
	mfdes_r_
[
PADR_
()];

153 
	ma§_l_
[
PADL_
(
sockaddr
 *
__»¡riù
)]; sockadd¸*__»¡riù 
	ma§
; 
	ma§_r_
[
PADR_
(sockaddr *__restrict)];

154 
	m®’_l_
[
PADL_
(
__sockËn_t
 *
__»¡riù
)]; __sockËn_ˆ*__»¡riù 
	m®’
; 
	m®’_r_
[
PADR_
(__socklen_t *__restrict)];

156 
	sacûss_¬gs
 {

157 
	m·th_l_
[
PADL_
(*)]; * 
	m·th
; 
	m·th_r_
[
PADR_
(*)];

158 
	mamode_l_
[
PADL_
()]; 
	mamode
; 
	mamode_r_
[
PADR_
()];

160 
	schæags_¬gs
 {

161 
	m·th_l_
[
PADL_
(cÚ¡ *)]; cÚ¡ * 
	m·th
; 
	m·th_r_
[
PADR_
(const *)];

162 
	mæags_l_
[
PADL_
(
u_lÚg
)]; u_lÚg 
	mæags
; 
	mæags_r_
[
PADR_
(u_long)];

164 
	sfchæags_¬gs
 {

165 
	mfd_l_
[
PADL_
()]; 
	mfd
; 
	mfd_r_
[
PADR_
()];

166 
	mæags_l_
[
PADL_
(
u_lÚg
)]; u_lÚg 
	mæags
; 
	mæags_r_
[
PADR_
(u_long)];

168 
	ssync_¬gs
 {

169 
»gi¡”_t
 
	mdummy
;

171 
	skžl_¬gs
 {

172 
	mpid_l_
[
PADL_
()]; 
	mpid
; 
	mpid_r_
[
PADR_
()];

173 
	msignum_l_
[
PADL_
()]; 
	msignum
; 
	msignum_r_
[
PADR_
()];

175 
	sg‘µid_¬gs
 {

176 
»gi¡”_t
 
	mdummy
;

178 
	sdup_¬gs
 {

179 
	mfd_l_
[
PADL_
(
u_št
)]; u_šˆ
	mfd
; 
	mfd_r_
[
PADR_
(u_int)];

181 
	sä“bsd10_pe_¬gs
 {

182 
»gi¡”_t
 
	mdummy
;

184 
	sg‘egid_¬gs
 {

185 
»gi¡”_t
 
	mdummy
;

187 
	s´ofž_¬gs
 {

188 
	m§m¶es_l_
[
PADL_
(
ÿddr_t
)]; caddr_ˆ
	m§m¶es
; 
	m§m¶es_r_
[
PADR_
(caddr_t)];

189 
	msize_l_
[
PADL_
(
size_t
)]; size_ˆ
	msize
; 
	msize_r_
[
PADR_
(size_t)];

190 
	moff£t_l_
[
PADL_
(
size_t
)]; size_ˆ
	moff£t
; 
	moff£t_r_
[
PADR_
(size_t)];

191 
	msÿË_l_
[
PADL_
(
u_št
)]; u_šˆ
	msÿË
; 
	msÿË_r_
[
PADR_
(u_int)];

193 
	skŒaû_¬gs
 {

194 
	mâame_l_
[
PADL_
(cÚ¡ *)]; cÚ¡ * 
	mâame
; 
	mâame_r_
[
PADR_
(const *)];

195 
	mÝs_l_
[
PADL_
()]; 
	mÝs
; 
	mÝs_r_
[
PADR_
()];

196 
	mçcs_l_
[
PADL_
()]; 
	mçcs
; 
	mçcs_r_
[
PADR_
()];

197 
	mpid_l_
[
PADL_
()]; 
	mpid
; 
	mpid_r_
[
PADR_
()];

199 
	sg‘gid_¬gs
 {

200 
»gi¡”_t
 
	mdummy
;

202 
	sg‘logš_¬gs
 {

203 
	mÇmebuf_l_
[
PADL_
(*)]; * 
	mÇmebuf
; 
	mÇmebuf_r_
[
PADR_
(*)];

204 
	mÇm–’_l_
[
PADL_
(
u_št
)]; u_šˆ
	mÇm–’
; 
	mÇm–’_r_
[
PADR_
(u_int)];

206 
	s£Žogš_¬gs
 {

207 
	mÇmebuf_l_
[
PADL_
(*)]; * 
	mÇmebuf
; 
	mÇmebuf_r_
[
PADR_
(*)];

209 
	sacù_¬gs
 {

210 
	m·th_l_
[
PADL_
(*)]; * 
	m·th
; 
	m·th_r_
[
PADR_
(*)];

212 
	sosig³ndšg_¬gs
 {

213 
»gi¡”_t
 
	mdummy
;

215 
	ssig®t¡ack_¬gs
 {

216 
	mss_l_
[
PADL_
(
¡ack_t
 *)]; sck_ˆ* 
	mss
; 
	mss_r_
[
PADR_
(stack_t *)];

217 
	moss_l_
[
PADL_
(
¡ack_t
 *)]; sck_ˆ* 
	moss
; 
	moss_r_
[
PADR_
(stack_t *)];

219 
	sioùl_¬gs
 {

220 
	mfd_l_
[
PADL_
()]; 
	mfd
; 
	mfd_r_
[
PADR_
()];

221 
	mcom_l_
[
PADL_
(
u_lÚg
)]; u_lÚg 
	mcom
; 
	mcom_r_
[
PADR_
(u_long)];

222 
	md©a_l_
[
PADL_
(
ÿddr_t
)]; caddr_ˆ
	md©a
; 
	md©a_r_
[
PADR_
(caddr_t)];

224 
	s»boÙ_¬gs
 {

225 
	mÝt_l_
[
PADL_
()]; 
	mÝt
; 
	mÝt_r_
[
PADR_
()];

227 
	s»voke_¬gs
 {

228 
	m·th_l_
[
PADL_
(*)]; * 
	m·th
; 
	m·th_r_
[
PADR_
(*)];

230 
	ssymlšk_¬gs
 {

231 
	m·th_l_
[
PADL_
(*)]; * 
	m·th
; 
	m·th_r_
[
PADR_
(*)];

232 
	mlšk_l_
[
PADL_
(*)]; * 
	mlšk
; 
	mlšk_r_
[
PADR_
(*)];

234 
	s»adlšk_¬gs
 {

235 
	m·th_l_
[
PADL_
(*)]; * 
	m·th
; 
	m·th_r_
[
PADR_
(*)];

236 
	mbuf_l_
[
PADL_
(*)]; * 
	mbuf
; 
	mbuf_r_
[
PADR_
(*)];

237 
	mcouÁ_l_
[
PADL_
(
size_t
)]; size_ˆ
	mcouÁ
; 
	mcouÁ_r_
[
PADR_
(size_t)];

239 
	sexecve_¬gs
 {

240 
	mâame_l_
[
PADL_
(*)]; * 
	mâame
; 
	mâame_r_
[
PADR_
(*)];

241 
	m¬gv_l_
[
PADL_
(**)]; ** 
	m¬gv
; 
	m¬gv_r_
[
PADR_
(**)];

242 
	m’vv_l_
[
PADL_
(**)]; ** 
	m’vv
; 
	m’vv_r_
[
PADR_
(**)];

244 
	sumask_¬gs
 {

245 
	mÃwmask_l_
[
PADL_
()]; 
	mÃwmask
; 
	mÃwmask_r_
[
PADR_
()];

247 
	schroÙ_¬gs
 {

248 
	m·th_l_
[
PADL_
(*)]; * 
	m·th
; 
	m·th_r_
[
PADR_
(*)];

250 
	sg‘·gesize_¬gs
 {

251 
»gi¡”_t
 
	mdummy
;

253 
	smsync_¬gs
 {

254 
	maddr_l_
[
PADL_
(*)]; * 
	maddr
; 
	maddr_r_
[
PADR_
(*)];

255 
	mËn_l_
[
PADL_
(
size_t
)]; size_ˆ
	mËn
; 
	mËn_r_
[
PADR_
(size_t)];

256 
	mæags_l_
[
PADL_
()]; 
	mæags
; 
	mæags_r_
[
PADR_
()];

258 
	svfÜk_¬gs
 {

259 
»gi¡”_t
 
	mdummy
;

261 
	ssbrk_¬gs
 {

262 
	mšü_l_
[
PADL_
()]; 
	mšü
; 
	mšü_r_
[
PADR_
()];

264 
	ss¡k_¬gs
 {

265 
	mšü_l_
[
PADL_
()]; 
	mšü
; 
	mšü_r_
[
PADR_
()];

267 
	smunm­_¬gs
 {

268 
	maddr_l_
[
PADL_
(*)]; * 
	maddr
; 
	maddr_r_
[
PADR_
(*)];

269 
	mËn_l_
[
PADL_
(
size_t
)]; size_ˆ
	mËn
; 
	mËn_r_
[
PADR_
(size_t)];

271 
	sm´Ùeù_¬gs
 {

272 
	maddr_l_
[
PADL_
(*)]; * 
	maddr
; 
	maddr_r_
[
PADR_
(*)];

273 
	mËn_l_
[
PADL_
(
size_t
)]; size_ˆ
	mËn
; 
	mËn_r_
[
PADR_
(size_t)];

274 
	m´Ù_l_
[
PADL_
()]; 
	m´Ù
; 
	m´Ù_r_
[
PADR_
()];

276 
	smadvi£_¬gs
 {

277 
	maddr_l_
[
PADL_
(*)]; * 
	maddr
; 
	maddr_r_
[
PADR_
(*)];

278 
	mËn_l_
[
PADL_
(
size_t
)]; size_ˆ
	mËn
; 
	mËn_r_
[
PADR_
(size_t)];

279 
	mbehav_l_
[
PADL_
()]; 
	mbehav
; 
	mbehav_r_
[
PADR_
()];

281 
	smšcÜe_¬gs
 {

282 
	maddr_l_
[
PADL_
(cÚ¡ *)]; cÚ¡ * 
	maddr
; 
	maddr_r_
[
PADR_
(const *)];

283 
	mËn_l_
[
PADL_
(
size_t
)]; size_ˆ
	mËn
; 
	mËn_r_
[
PADR_
(size_t)];

284 
	mvec_l_
[
PADL_
(*)]; * 
	mvec
; 
	mvec_r_
[
PADR_
(*)];

286 
	sg‘groups_¬gs
 {

287 
	mgid£tsize_l_
[
PADL_
(
u_št
)]; u_šˆ
	mgid£tsize
; 
	mgid£tsize_r_
[
PADR_
(u_int)];

288 
	mgid£t_l_
[
PADL_
(
gid_t
 *)]; gid_ˆ* 
	mgid£t
; 
	mgid£t_r_
[
PADR_
(gid_t *)];

290 
	s£tgroups_¬gs
 {

291 
	mgid£tsize_l_
[
PADL_
(
u_št
)]; u_šˆ
	mgid£tsize
; 
	mgid£tsize_r_
[
PADR_
(u_int)];

292 
	mgid£t_l_
[
PADL_
(
gid_t
 *)]; gid_ˆ* 
	mgid£t
; 
	mgid£t_r_
[
PADR_
(gid_t *)];

294 
	sg‘pg½_¬gs
 {

295 
»gi¡”_t
 
	mdummy
;

297 
	s£gid_¬gs
 {

298 
	mpid_l_
[
PADL_
()]; 
	mpid
; 
	mpid_r_
[
PADR_
()];

299 
	mpgid_l_
[
PADL_
()]; 
	mpgid
; 
	mpgid_r_
[
PADR_
()];

301 
	s£t™im”_¬gs
 {

302 
	mwhich_l_
[
PADL_
(
u_št
)]; u_šˆ
	mwhich
; 
	mwhich_r_
[
PADR_
(u_int)];

303 
	m™v_l_
[
PADL_
(
™im”v®
 *)]; ™im”v® * 
	m™v
; 
	m™v_r_
[
PADR_
(itimerval *)];

304 
	mo™v_l_
[
PADL_
(
™im”v®
 *)]; ™im”v® * 
	mo™v
; 
	mo™v_r_
[
PADR_
(itimerval *)];

306 
	sowa™_¬gs
 {

307 
»gi¡”_t
 
	mdummy
;

309 
	ssw­Ú_¬gs
 {

310 
	mÇme_l_
[
PADL_
(*)]; * 
	mÇme
; 
	mÇme_r_
[
PADR_
(*)];

312 
	sg‘™im”_¬gs
 {

313 
	mwhich_l_
[
PADL_
(
u_št
)]; u_šˆ
	mwhich
; 
	mwhich_r_
[
PADR_
(u_int)];

314 
	m™v_l_
[
PADL_
(
™im”v®
 *)]; ™im”v® * 
	m™v
; 
	m™v_r_
[
PADR_
(itimerval *)];

316 
	sg‘dbËsize_¬gs
 {

317 
»gi¡”_t
 
	mdummy
;

319 
	sdup2_¬gs
 {

320 
	mäom_l_
[
PADL_
(
u_št
)]; u_šˆ
	mäom
; 
	mäom_r_
[
PADR_
(u_int)];

321 
	mto_l_
[
PADL_
(
u_št
)]; u_šˆ
	mto
; 
	mto_r_
[
PADR_
(u_int)];

323 
	sfúŽ_¬gs
 {

324 
	mfd_l_
[
PADL_
()]; 
	mfd
; 
	mfd_r_
[
PADR_
()];

325 
	mcmd_l_
[
PADL_
()]; 
	mcmd
; 
	mcmd_r_
[
PADR_
()];

326 
	m¬g_l_
[
PADL_
()]; 
	m¬g
; 
	m¬g_r_
[
PADR_
()];

328 
	s£Ëù_¬gs
 {

329 
	mnd_l_
[
PADL_
()]; 
	mnd
; 
	mnd_r_
[
PADR_
()];

330 
	mš_l_
[
PADL_
(
fd_£t
 *)]; fd_£ˆ* 
	mš
; 
	mš_r_
[
PADR_
(fd_set *)];

331 
	mou_l_
[
PADL_
(
fd_£t
 *)]; fd_£ˆ* 
	mou
; 
	mou_r_
[
PADR_
(fd_set *)];

332 
	mex_l_
[
PADL_
(
fd_£t
 *)]; fd_£ˆ* 
	mex
; 
	mex_r_
[
PADR_
(fd_set *)];

333 
	mtv_l_
[
PADL_
(
timev®
 *)]; timev® * 
	mtv
; 
	mtv_r_
[
PADR_
(timeval *)];

335 
	sfsync_¬gs
 {

336 
	mfd_l_
[
PADL_
()]; 
	mfd
; 
	mfd_r_
[
PADR_
()];

338 
	s£riÜ™y_¬gs
 {

339 
	mwhich_l_
[
PADL_
()]; 
	mwhich
; 
	mwhich_r_
[
PADR_
()];

340 
	mwho_l_
[
PADL_
()]; 
	mwho
; 
	mwho_r_
[
PADR_
()];

341 
	m´io_l_
[
PADL_
()]; 
	m´io
; 
	m´io_r_
[
PADR_
()];

343 
	ssock‘_¬gs
 {

344 
	mdomaš_l_
[
PADL_
()]; 
	mdomaš
; 
	mdomaš_r_
[
PADR_
()];

345 
	mty³_l_
[
PADL_
()]; 
	mty³
; 
	mty³_r_
[
PADR_
()];

346 
	m´ÙocÞ_l_
[
PADL_
()]; 
	m´ÙocÞ
; 
	m´ÙocÞ_r_
[
PADR_
()];

348 
	scÚÃù_¬gs
 {

349 
	ms_l_
[
PADL_
()]; 
	ms
; 
	ms_r_
[
PADR_
()];

350 
	mÇme_l_
[
PADL_
(
ÿddr_t
)]; caddr_ˆ
	mÇme
; 
	mÇme_r_
[
PADR_
(caddr_t)];

351 
	mÇm–’_l_
[
PADL_
()]; 
	mÇm–’
; 
	mÇm–’_r_
[
PADR_
()];

353 
	sg‘´iÜ™y_¬gs
 {

354 
	mwhich_l_
[
PADL_
()]; 
	mwhich
; 
	mwhich_r_
[
PADR_
()];

355 
	mwho_l_
[
PADL_
()]; 
	mwho
; 
	mwho_r_
[
PADR_
()];

357 
	sbšd_¬gs
 {

358 
	ms_l_
[
PADL_
()]; 
	ms
; 
	ms_r_
[
PADR_
()];

359 
	mÇme_l_
[
PADL_
(
ÿddr_t
)]; caddr_ˆ
	mÇme
; 
	mÇme_r_
[
PADR_
(caddr_t)];

360 
	mÇm–’_l_
[
PADL_
()]; 
	mÇm–’
; 
	mÇm–’_r_
[
PADR_
()];

362 
	s£tsockÝt_¬gs
 {

363 
	ms_l_
[
PADL_
()]; 
	ms
; 
	ms_r_
[
PADR_
()];

364 
	mËv–_l_
[
PADL_
()]; 
	mËv–
; 
	mËv–_r_
[
PADR_
()];

365 
	mÇme_l_
[
PADL_
()]; 
	mÇme
; 
	mÇme_r_
[
PADR_
()];

366 
	mv®_l_
[
PADL_
(
ÿddr_t
)]; caddr_ˆ
	mv®
; 
	mv®_r_
[
PADR_
(caddr_t)];

367 
	mv®size_l_
[
PADL_
()]; 
	mv®size
; 
	mv®size_r_
[
PADR_
()];

369 
	sli¡’_¬gs
 {

370 
	ms_l_
[
PADL_
()]; 
	ms
; 
	ms_r_
[
PADR_
()];

371 
	mbacklog_l_
[
PADL_
()]; 
	mbacklog
; 
	mbacklog_r_
[
PADR_
()];

373 
	sg‘timeofday_¬gs
 {

374 
	m_l_
[
PADL_
(
timev®
 *)]; timev® * 
	m
; 
	m_r_
[
PADR_
(timeval *)];

375 
	mtzp_l_
[
PADL_
(
timezÚe
 *)]; timezÚ* 
	mtzp
; 
	mtzp_r_
[
PADR_
(timezone *)];

377 
	sg‘ru§ge_¬gs
 {

378 
	mwho_l_
[
PADL_
()]; 
	mwho
; 
	mwho_r_
[
PADR_
()];

379 
	mru§ge_l_
[
PADL_
(
ru§ge
 *)]; ru§g* 
	mru§ge
; 
	mru§ge_r_
[
PADR_
(rusage *)];

381 
	sg‘sockÝt_¬gs
 {

382 
	ms_l_
[
PADL_
()]; 
	ms
; 
	ms_r_
[
PADR_
()];

383 
	mËv–_l_
[
PADL_
()]; 
	mËv–
; 
	mËv–_r_
[
PADR_
()];

384 
	mÇme_l_
[
PADL_
()]; 
	mÇme
; 
	mÇme_r_
[
PADR_
()];

385 
	mv®_l_
[
PADL_
(
ÿddr_t
)]; caddr_ˆ
	mv®
; 
	mv®_r_
[
PADR_
(caddr_t)];

386 
	mav®size_l_
[
PADL_
(*)]; * 
	mav®size
; 
	mav®size_r_
[
PADR_
(*)];

388 
	s»adv_¬gs
 {

389 
	mfd_l_
[
PADL_
()]; 
	mfd
; 
	mfd_r_
[
PADR_
()];

390 
	miovp_l_
[
PADL_
(
iovec
 *)]; ioveø* 
	miovp
; 
	miovp_r_
[
PADR_
(iovec *)];

391 
	miovút_l_
[
PADL_
(
u_št
)]; u_šˆ
	miovút
; 
	miovút_r_
[
PADR_
(u_int)];

393 
	swr™ev_¬gs
 {

394 
	mfd_l_
[
PADL_
()]; 
	mfd
; 
	mfd_r_
[
PADR_
()];

395 
	miovp_l_
[
PADL_
(
iovec
 *)]; ioveø* 
	miovp
; 
	miovp_r_
[
PADR_
(iovec *)];

396 
	miovút_l_
[
PADL_
(
u_št
)]; u_šˆ
	miovút
; 
	miovút_r_
[
PADR_
(u_int)];

398 
	s£‰imeofday_¬gs
 {

399 
	mtv_l_
[
PADL_
(
timev®
 *)]; timev® * 
	mtv
; 
	mtv_r_
[
PADR_
(timeval *)];

400 
	mtzp_l_
[
PADL_
(
timezÚe
 *)]; timezÚ* 
	mtzp
; 
	mtzp_r_
[
PADR_
(timezone *)];

402 
	sfchown_¬gs
 {

403 
	mfd_l_
[
PADL_
()]; 
	mfd
; 
	mfd_r_
[
PADR_
()];

404 
	muid_l_
[
PADL_
()]; 
	muid
; 
	muid_r_
[
PADR_
()];

405 
	mgid_l_
[
PADL_
()]; 
	mgid
; 
	mgid_r_
[
PADR_
()];

407 
	sfchmod_¬gs
 {

408 
	mfd_l_
[
PADL_
()]; 
	mfd
; 
	mfd_r_
[
PADR_
()];

409 
	mmode_l_
[
PADL_
()]; 
	mmode
; 
	mmode_r_
[
PADR_
()];

411 
	s£Œeuid_¬gs
 {

412 
	mruid_l_
[
PADL_
()]; 
	mruid
; 
	mruid_r_
[
PADR_
()];

413 
	meuid_l_
[
PADL_
()]; 
	meuid
; 
	meuid_r_
[
PADR_
()];

415 
	s£Œegid_¬gs
 {

416 
	mrgid_l_
[
PADL_
()]; 
	mrgid
; 
	mrgid_r_
[
PADR_
()];

417 
	megid_l_
[
PADL_
()]; 
	megid
; 
	megid_r_
[
PADR_
()];

419 
	s»Çme_¬gs
 {

420 
	mäom_l_
[
PADL_
(*)]; * 
	mäom
; 
	mäom_r_
[
PADR_
(*)];

421 
	mto_l_
[
PADL_
(*)]; * 
	mto
; 
	mto_r_
[
PADR_
(*)];

423 
	sæock_¬gs
 {

424 
	mfd_l_
[
PADL_
()]; 
	mfd
; 
	mfd_r_
[
PADR_
()];

425 
	mhow_l_
[
PADL_
()]; 
	mhow
; 
	mhow_r_
[
PADR_
()];

427 
	smkfifo_¬gs
 {

428 
	m·th_l_
[
PADL_
(*)]; * 
	m·th
; 
	m·th_r_
[
PADR_
(*)];

429 
	mmode_l_
[
PADL_
()]; 
	mmode
; 
	mmode_r_
[
PADR_
()];

431 
	s£ndto_¬gs
 {

432 
	ms_l_
[
PADL_
()]; 
	ms
; 
	ms_r_
[
PADR_
()];

433 
	mbuf_l_
[
PADL_
(
ÿddr_t
)]; caddr_ˆ
	mbuf
; 
	mbuf_r_
[
PADR_
(caddr_t)];

434 
	mËn_l_
[
PADL_
(
size_t
)]; size_ˆ
	mËn
; 
	mËn_r_
[
PADR_
(size_t)];

435 
	mæags_l_
[
PADL_
()]; 
	mæags
; 
	mæags_r_
[
PADR_
()];

436 
	mto_l_
[
PADL_
(
ÿddr_t
)]; caddr_ˆ
	mto
; 
	mto_r_
[
PADR_
(caddr_t)];

437 
	mtÞ’_l_
[
PADL_
()]; 
	mtÞ’
; 
	mtÞ’_r_
[
PADR_
()];

439 
	sshutdown_¬gs
 {

440 
	ms_l_
[
PADL_
()]; 
	ms
; 
	ms_r_
[
PADR_
()];

441 
	mhow_l_
[
PADL_
()]; 
	mhow
; 
	mhow_r_
[
PADR_
()];

443 
	ssock‘·œ_¬gs
 {

444 
	mdomaš_l_
[
PADL_
()]; 
	mdomaš
; 
	mdomaš_r_
[
PADR_
()];

445 
	mty³_l_
[
PADL_
()]; 
	mty³
; 
	mty³_r_
[
PADR_
()];

446 
	m´ÙocÞ_l_
[
PADL_
()]; 
	m´ÙocÞ
; 
	m´ÙocÞ_r_
[
PADR_
()];

447 
	mrsv_l_
[
PADL_
(*)]; * 
	mrsv
; 
	mrsv_r_
[
PADR_
(*)];

449 
	smkdœ_¬gs
 {

450 
	m·th_l_
[
PADL_
(*)]; * 
	m·th
; 
	m·th_r_
[
PADR_
(*)];

451 
	mmode_l_
[
PADL_
()]; 
	mmode
; 
	mmode_r_
[
PADR_
()];

453 
	srmdœ_¬gs
 {

454 
	m·th_l_
[
PADL_
(*)]; * 
	m·th
; 
	m·th_r_
[
PADR_
(*)];

456 
	sutimes_¬gs
 {

457 
	m·th_l_
[
PADL_
(*)]; * 
	m·th
; 
	m·th_r_
[
PADR_
(*)];

458 
	mŒ_l_
[
PADL_
(
timev®
 *)]; timev® * 
	mŒ
; 
	mŒ_r_
[
PADR_
(timeval *)];

460 
	sadjtime_¬gs
 {

461 
	md–_l_
[
PADL_
(
timev®
 *)]; timev® * 
	md–
; 
	md–_r_
[
PADR_
(timeval *)];

462 
	mÞdd–_l_
[
PADL_
(
timev®
 *)]; timev® * 
	mÞdd–
; 
	mÞdd–_r_
[
PADR_
(timeval *)];

464 
	sog‘ho¡id_¬gs
 {

465 
»gi¡”_t
 
	mdummy
;

467 
	s£tsid_¬gs
 {

468 
»gi¡”_t
 
	mdummy
;

470 
	squÙaùl_¬gs
 {

471 
	m·th_l_
[
PADL_
(*)]; * 
	m·th
; 
	m·th_r_
[
PADR_
(*)];

472 
	mcmd_l_
[
PADL_
()]; 
	mcmd
; 
	mcmd_r_
[
PADR_
()];

473 
	muid_l_
[
PADL_
()]; 
	muid
; 
	muid_r_
[
PADR_
()];

474 
	m¬g_l_
[
PADL_
(
ÿddr_t
)]; caddr_ˆ
	m¬g
; 
	m¬g_r_
[
PADR_
(caddr_t)];

476 
	soquÙa_¬gs
 {

477 
»gi¡”_t
 
	mdummy
;

479 
	sÆm_sysÿÎ_¬gs
 {

480 
	mdebug_Ëv–_l_
[
PADL_
()]; 
	mdebug_Ëv–
; 
	mdebug_Ëv–_r_
[
PADR_
()];

481 
	mg¿û_³riod_l_
[
PADL_
()]; 
	mg¿û_³riod
; 
	mg¿û_³riod_r_
[
PADR_
()];

482 
	maddr_couÁ_l_
[
PADL_
()]; 
	maddr_couÁ
; 
	maddr_couÁ_r_
[
PADR_
()];

483 
	maddrs_l_
[
PADL_
(**)]; ** 
	maddrs
; 
	maddrs_r_
[
PADR_
(**)];

485 
	snfssvc_¬gs
 {

486 
	mæag_l_
[
PADL_
()]; 
	mæag
; 
	mæag_r_
[
PADR_
()];

487 
	m¬gp_l_
[
PADL_
(
ÿddr_t
)]; caddr_ˆ
	m¬gp
; 
	m¬gp_r_
[
PADR_
(caddr_t)];

489 
	slg‘fh_¬gs
 {

490 
	mâame_l_
[
PADL_
(*)]; * 
	mâame
; 
	mâame_r_
[
PADR_
(*)];

491 
	mfhp_l_
[
PADL_
(
fhªdË
 *)]; fhªdË * 
	mfhp
; 
	mfhp_r_
[
PADR_
(fhandle *)];

493 
	sg‘fh_¬gs
 {

494 
	mâame_l_
[
PADL_
(*)]; * 
	mâame
; 
	mâame_r_
[
PADR_
(*)];

495 
	mfhp_l_
[
PADL_
(
fhªdË
 *)]; fhªdË * 
	mfhp
; 
	mfhp_r_
[
PADR_
(fhandle *)];

497 
	ssy§rch_¬gs
 {

498 
	mÝ_l_
[
PADL_
()]; 
	mÝ
; 
	mÝ_r_
[
PADR_
()];

499 
	m·rms_l_
[
PADL_
(*)]; * 
	m·rms
; 
	m·rms_r_
[
PADR_
(*)];

501 
	s¹´io_¬gs
 {

502 
	mfunùiÚ_l_
[
PADL_
()]; 
	mfunùiÚ
; 
	mfunùiÚ_r_
[
PADR_
()];

503 
	mpid_l_
[
PADL_
(
pid_t
)];…id_ˆ
	mpid
; 
	mpid_r_
[
PADR_
(pid_t)];

504 
	m¹p_l_
[
PADL_
(
¹´io
 *)]; ¹´iØ* 
	m¹p
; 
	m¹p_r_
[
PADR_
(rtprio *)];

506 
	s£msys_¬gs
 {

507 
	mwhich_l_
[
PADL_
()]; 
	mwhich
; 
	mwhich_r_
[
PADR_
()];

508 
	ma2_l_
[
PADL_
()]; 
	ma2
; 
	ma2_r_
[
PADR_
()];

509 
	ma3_l_
[
PADL_
()]; 
	ma3
; 
	ma3_r_
[
PADR_
()];

510 
	ma4_l_
[
PADL_
()]; 
	ma4
; 
	ma4_r_
[
PADR_
()];

511 
	ma5_l_
[
PADL_
()]; 
	ma5
; 
	ma5_r_
[
PADR_
()];

513 
	smsgsys_¬gs
 {

514 
	mwhich_l_
[
PADL_
()]; 
	mwhich
; 
	mwhich_r_
[
PADR_
()];

515 
	ma2_l_
[
PADL_
()]; 
	ma2
; 
	ma2_r_
[
PADR_
()];

516 
	ma3_l_
[
PADL_
()]; 
	ma3
; 
	ma3_r_
[
PADR_
()];

517 
	ma4_l_
[
PADL_
()]; 
	ma4
; 
	ma4_r_
[
PADR_
()];

518 
	ma5_l_
[
PADL_
()]; 
	ma5
; 
	ma5_r_
[
PADR_
()];

519 
	ma6_l_
[
PADL_
()]; 
	ma6
; 
	ma6_r_
[
PADR_
()];

521 
	sshmsys_¬gs
 {

522 
	mwhich_l_
[
PADL_
()]; 
	mwhich
; 
	mwhich_r_
[
PADR_
()];

523 
	ma2_l_
[
PADL_
()]; 
	ma2
; 
	ma2_r_
[
PADR_
()];

524 
	ma3_l_
[
PADL_
()]; 
	ma3
; 
	ma3_r_
[
PADR_
()];

525 
	ma4_l_
[
PADL_
()]; 
	ma4
; 
	ma4_r_
[
PADR_
()];

527 
	s£tfib_¬gs
 {

528 
	mfibnum_l_
[
PADL_
()]; 
	mfibnum
; 
	mfibnum_r_
[
PADR_
()];

530 
	sÁp_adjtime_¬gs
 {

531 
	m_l_
[
PADL_
(
timex
 *)]; timex * 
	m
; 
	m_r_
[
PADR_
(timex *)];

533 
	s£tgid_¬gs
 {

534 
	mgid_l_
[
PADL_
(
gid_t
)]; gid_ˆ
	mgid
; 
	mgid_r_
[
PADR_
(gid_t)];

536 
	s£‹gid_¬gs
 {

537 
	megid_l_
[
PADL_
(
gid_t
)]; gid_ˆ
	megid
; 
	megid_r_
[
PADR_
(gid_t)];

539 
	s£‹uid_¬gs
 {

540 
	meuid_l_
[
PADL_
(
uid_t
)]; uid_ˆ
	meuid
; 
	meuid_r_
[
PADR_
(uid_t)];

542 
	s·thcÚf_¬gs
 {

543 
	m·th_l_
[
PADL_
(*)]; * 
	m·th
; 
	m·th_r_
[
PADR_
(*)];

544 
	mÇme_l_
[
PADL_
()]; 
	mÇme
; 
	mÇme_r_
[
PADR_
()];

546 
	så©hcÚf_¬gs
 {

547 
	mfd_l_
[
PADL_
()]; 
	mfd
; 
	mfd_r_
[
PADR_
()];

548 
	mÇme_l_
[
PADL_
()]; 
	mÇme
; 
	mÇme_r_
[
PADR_
()];

550 
	s__g‘¾im™_¬gs
 {

551 
	mwhich_l_
[
PADL_
(
u_št
)]; u_šˆ
	mwhich
; 
	mwhich_r_
[
PADR_
(u_int)];

552 
	m¾p_l_
[
PADL_
(
¾im™
 *)]; ¾im™ * 
	m¾p
; 
	m¾p_r_
[
PADR_
(rlimit *)];

554 
	s__£Œlim™_¬gs
 {

555 
	mwhich_l_
[
PADL_
(
u_št
)]; u_šˆ
	mwhich
; 
	mwhich_r_
[
PADR_
(u_int)];

556 
	m¾p_l_
[
PADL_
(
¾im™
 *)]; ¾im™ * 
	m¾p
; 
	m¾p_r_
[
PADR_
(rlimit *)];

558 
	ssysùl_¬gs
 {

559 
	mÇme_l_
[
PADL_
(*)]; * 
	mÇme
; 
	mÇme_r_
[
PADR_
(*)];

560 
	mÇm–’_l_
[
PADL_
(
u_št
)]; u_šˆ
	mÇm–’
; 
	mÇm–’_r_
[
PADR_
(u_int)];

561 
	mÞd_l_
[
PADL_
(*)]; * 
	mÞd
; 
	mÞd_r_
[
PADR_
(*)];

562 
	mÞdËÅ_l_
[
PADL_
(
size_t
 *)]; size_ˆ* 
	mÞdËÅ
; 
	mÞdËÅ_r_
[
PADR_
(size_t *)];

563 
	mÃw_l_
[
PADL_
(*)]; * 
	mÃw
; 
	mÃw_r_
[
PADR_
(*)];

564 
	mÃwËn_l_
[
PADL_
(
size_t
)]; size_ˆ
	mÃwËn
; 
	mÃwËn_r_
[
PADR_
(size_t)];

566 
	smlock_¬gs
 {

567 
	maddr_l_
[
PADL_
(cÚ¡ *)]; cÚ¡ * 
	maddr
; 
	maddr_r_
[
PADR_
(const *)];

568 
	mËn_l_
[
PADL_
(
size_t
)]; size_ˆ
	mËn
; 
	mËn_r_
[
PADR_
(size_t)];

570 
	smuÆock_¬gs
 {

571 
	maddr_l_
[
PADL_
(cÚ¡ *)]; cÚ¡ * 
	maddr
; 
	maddr_r_
[
PADR_
(const *)];

572 
	mËn_l_
[
PADL_
(
size_t
)]; size_ˆ
	mËn
; 
	mËn_r_
[
PADR_
(size_t)];

574 
	sund–‘e_¬gs
 {

575 
	m·th_l_
[
PADL_
(*)]; * 
	m·th
; 
	m·th_r_
[
PADR_
(*)];

577 
	sfutimes_¬gs
 {

578 
	mfd_l_
[
PADL_
()]; 
	mfd
; 
	mfd_r_
[
PADR_
()];

579 
	mŒ_l_
[
PADL_
(
timev®
 *)]; timev® * 
	mŒ
; 
	mŒ_r_
[
PADR_
(timeval *)];

581 
	sg‘pgid_¬gs
 {

582 
	mpid_l_
[
PADL_
(
pid_t
)];…id_ˆ
	mpid
; 
	mpid_r_
[
PADR_
(pid_t)];

584 
	spÞl_¬gs
 {

585 
	mfds_l_
[
PADL_
(
pÞlfd
 *)]; pÞlfd * 
	mfds
; 
	mfds_r_
[
PADR_
(pollfd *)];

586 
	mnfds_l_
[
PADL_
(
u_št
)]; u_šˆ
	mnfds
; 
	mnfds_r_
[
PADR_
(u_int)];

587 
	mtimeout_l_
[
PADL_
()]; 
	mtimeout
; 
	mtimeout_r_
[
PADR_
()];

589 
	s£mg‘_¬gs
 {

590 
	mkey_l_
[
PADL_
(
key_t
)]; key_ˆ
	mkey
; 
	mkey_r_
[
PADR_
(key_t)];

591 
	mn£ms_l_
[
PADL_
()]; 
	mn£ms
; 
	mn£ms_r_
[
PADR_
()];

592 
	m£mæg_l_
[
PADL_
()]; 
	m£mæg
; 
	m£mæg_r_
[
PADR_
()];

594 
	s£mÝ_¬gs
 {

595 
	m£mid_l_
[
PADL_
()]; 
	m£mid
; 
	m£mid_r_
[
PADR_
()];

596 
	msÝs_l_
[
PADL_
(
£mbuf
 *)]; £mbuà* 
	msÝs
; 
	msÝs_r_
[
PADR_
(sembuf *)];

597 
	mnsÝs_l_
[
PADL_
(
size_t
)]; size_ˆ
	mnsÝs
; 
	mnsÝs_r_
[
PADR_
(size_t)];

599 
	smsgg‘_¬gs
 {

600 
	mkey_l_
[
PADL_
(
key_t
)]; key_ˆ
	mkey
; 
	mkey_r_
[
PADR_
(key_t)];

601 
	mmsgæg_l_
[
PADL_
()]; 
	mmsgæg
; 
	mmsgæg_r_
[
PADR_
()];

603 
	smsg¢d_¬gs
 {

604 
	mmsqid_l_
[
PADL_
()]; 
	mmsqid
; 
	mmsqid_r_
[
PADR_
()];

605 
	mmsgp_l_
[
PADL_
(cÚ¡ *)]; cÚ¡ * 
	mmsgp
; 
	mmsgp_r_
[
PADR_
(const *)];

606 
	mmsgsz_l_
[
PADL_
(
size_t
)]; size_ˆ
	mmsgsz
; 
	mmsgsz_r_
[
PADR_
(size_t)];

607 
	mmsgæg_l_
[
PADL_
()]; 
	mmsgæg
; 
	mmsgæg_r_
[
PADR_
()];

609 
	smsgrcv_¬gs
 {

610 
	mmsqid_l_
[
PADL_
()]; 
	mmsqid
; 
	mmsqid_r_
[
PADR_
()];

611 
	mmsgp_l_
[
PADL_
(*)]; * 
	mmsgp
; 
	mmsgp_r_
[
PADR_
(*)];

612 
	mmsgsz_l_
[
PADL_
(
size_t
)]; size_ˆ
	mmsgsz
; 
	mmsgsz_r_
[
PADR_
(size_t)];

613 
	mmsgtyp_l_
[
PADL_
()]; 
	mmsgtyp
; 
	mmsgtyp_r_
[
PADR_
()];

614 
	mmsgæg_l_
[
PADL_
()]; 
	mmsgæg
; 
	mmsgæg_r_
[
PADR_
()];

616 
	sshm©_¬gs
 {

617 
	mshmid_l_
[
PADL_
()]; 
	mshmid
; 
	mshmid_r_
[
PADR_
()];

618 
	mshmaddr_l_
[
PADL_
(cÚ¡ *)]; cÚ¡ * 
	mshmaddr
; 
	mshmaddr_r_
[
PADR_
(const *)];

619 
	mshmæg_l_
[
PADL_
()]; 
	mshmæg
; 
	mshmæg_r_
[
PADR_
()];

621 
	sshmdt_¬gs
 {

622 
	mshmaddr_l_
[
PADL_
(cÚ¡ *)]; cÚ¡ * 
	mshmaddr
; 
	mshmaddr_r_
[
PADR_
(const *)];

624 
	sshmg‘_¬gs
 {

625 
	mkey_l_
[
PADL_
(
key_t
)]; key_ˆ
	mkey
; 
	mkey_r_
[
PADR_
(key_t)];

626 
	msize_l_
[
PADL_
(
size_t
)]; size_ˆ
	msize
; 
	msize_r_
[
PADR_
(size_t)];

627 
	mshmæg_l_
[
PADL_
()]; 
	mshmæg
; 
	mshmæg_r_
[
PADR_
()];

629 
	sþock_g‘time_¬gs
 {

630 
	mþock_id_l_
[
PADL_
(
þockid_t
)]; clockid_ˆ
	mþock_id
; 
	mþock_id_r_
[
PADR_
(clockid_t)];

631 
	m_l_
[
PADL_
(
time¥ec
 *)]; time¥eø* 
	m
; 
	m_r_
[
PADR_
(timespec *)];

633 
	sþock_£‰ime_¬gs
 {

634 
	mþock_id_l_
[
PADL_
(
þockid_t
)]; clockid_ˆ
	mþock_id
; 
	mþock_id_r_
[
PADR_
(clockid_t)];

635 
	m_l_
[
PADL_
(cÚ¡ 
time¥ec
 *)]; cÚ¡ time¥eø* 
	m
; 
	m_r_
[
PADR_
(const timespec *)];

637 
	sþock_g‘»s_¬gs
 {

638 
	mþock_id_l_
[
PADL_
(
þockid_t
)]; clockid_ˆ
	mþock_id
; 
	mþock_id_r_
[
PADR_
(clockid_t)];

639 
	m_l_
[
PADL_
(
time¥ec
 *)]; time¥eø* 
	m
; 
	m_r_
[
PADR_
(timespec *)];

641 
	sktim”_ü—‹_¬gs
 {

642 
	mþock_id_l_
[
PADL_
(
þockid_t
)]; clockid_ˆ
	mþock_id
; 
	mþock_id_r_
[
PADR_
(clockid_t)];

643 
	mevp_l_
[
PADL_
(
sigev’t
 *)]; sigev’ˆ* 
	mevp
; 
	mevp_r_
[
PADR_
(sigevent *)];

644 
	mtim”id_l_
[
PADL_
(*)]; * 
	mtim”id
; 
	mtim”id_r_
[
PADR_
(*)];

646 
	sktim”_d–‘e_¬gs
 {

647 
	mtim”id_l_
[
PADL_
()]; 
	mtim”id
; 
	mtim”id_r_
[
PADR_
()];

649 
	sktim”_£‰ime_¬gs
 {

650 
	mtim”id_l_
[
PADL_
()]; 
	mtim”id
; 
	mtim”id_r_
[
PADR_
()];

651 
	mæags_l_
[
PADL_
()]; 
	mæags
; 
	mæags_r_
[
PADR_
()];

652 
	mv®ue_l_
[
PADL_
(cÚ¡ 
™im”¥ec
 *)]; cÚ¡ ™im”¥eø* 
	mv®ue
; 
	mv®ue_r_
[
PADR_
(const itimerspec *)];

653 
	mov®ue_l_
[
PADL_
(
™im”¥ec
 *)]; ™im”¥eø* 
	mov®ue
; 
	mov®ue_r_
[
PADR_
(itimerspec *)];

655 
	sktim”_g‘time_¬gs
 {

656 
	mtim”id_l_
[
PADL_
()]; 
	mtim”id
; 
	mtim”id_r_
[
PADR_
()];

657 
	mv®ue_l_
[
PADL_
(
™im”¥ec
 *)]; ™im”¥eø* 
	mv®ue
; 
	mv®ue_r_
[
PADR_
(itimerspec *)];

659 
	sktim”_g‘ov”run_¬gs
 {

660 
	mtim”id_l_
[
PADL_
()]; 
	mtim”id
; 
	mtim”id_r_
[
PADR_
()];

662 
	sÇno¦“p_¬gs
 {

663 
	mrq_l_
[
PADL_
(cÚ¡ 
time¥ec
 *)]; cÚ¡ time¥eø* 
	mrq
; 
	mrq_r_
[
PADR_
(const timespec *)];

664 
	mrm_l_
[
PADL_
(
time¥ec
 *)]; time¥eø* 
	mrm
; 
	mrm_r_
[
PADR_
(timespec *)];

666 
	sffþock_g‘couÁ”_¬gs
 {

667 
	mffcouÁ_l_
[
PADL_
(
ffcouÁ”
 *)]; ffcouÁ” * 
	mffcouÁ
; 
	mffcouÁ_r_
[
PADR_
(ffcounter *)];

669 
	sffþock_£‹¡im©e_¬gs
 {

670 
	mû¡_l_
[
PADL_
(
ffþock_e¡im©e
 *)]; ffþock_e¡im©* 
	mû¡
; 
	mû¡_r_
[
PADR_
(ffclock_estimate *)];

672 
	sffþock_g‘e¡im©e_¬gs
 {

673 
	mû¡_l_
[
PADL_
(
ffþock_e¡im©e
 *)]; ffþock_e¡im©* 
	mû¡
; 
	mû¡_r_
[
PADR_
(ffclock_estimate *)];

675 
	sþock_Çno¦“p_¬gs
 {

676 
	mþock_id_l_
[
PADL_
(
þockid_t
)]; clockid_ˆ
	mþock_id
; 
	mþock_id_r_
[
PADR_
(clockid_t)];

677 
	mæags_l_
[
PADL_
()]; 
	mæags
; 
	mæags_r_
[
PADR_
()];

678 
	mrq_l_
[
PADL_
(cÚ¡ 
time¥ec
 *)]; cÚ¡ time¥eø* 
	mrq
; 
	mrq_r_
[
PADR_
(const timespec *)];

679 
	mrm_l_
[
PADL_
(
time¥ec
 *)]; time¥eø* 
	mrm
; 
	mrm_r_
[
PADR_
(timespec *)];

681 
	sþock_g‘ýuþockid2_¬gs
 {

682 
	mid_l_
[
PADL_
(
id_t
)]; id_ˆ
	mid
; 
	mid_r_
[
PADR_
(id_t)];

683 
	mwhich_l_
[
PADL_
()]; 
	mwhich
; 
	mwhich_r_
[
PADR_
()];

684 
	mþock_id_l_
[
PADL_
(
þockid_t
 *)]; clockid_ˆ* 
	mþock_id
; 
	mþock_id_r_
[
PADR_
(clockid_t *)];

686 
	sÁp_g‘time_¬gs
 {

687 
	mÁvp_l_
[
PADL_
(
Á±imev®
 *)]; Á±imev® * 
	mÁvp
; 
	mÁvp_r_
[
PADR_
(ntptimeval *)];

689 
	smšh”™_¬gs
 {

690 
	maddr_l_
[
PADL_
(*)]; * 
	maddr
; 
	maddr_r_
[
PADR_
(*)];

691 
	mËn_l_
[
PADL_
(
size_t
)]; size_ˆ
	mËn
; 
	mËn_r_
[
PADR_
(size_t)];

692 
	mšh”™_l_
[
PADL_
()]; 
	mšh”™
; 
	mšh”™_r_
[
PADR_
()];

694 
	srfÜk_¬gs
 {

695 
	mæags_l_
[
PADL_
()]; 
	mæags
; 
	mæags_r_
[
PADR_
()];

697 
	sis£tugid_¬gs
 {

698 
»gi¡”_t
 
	mdummy
;

700 
	slchown_¬gs
 {

701 
	m·th_l_
[
PADL_
(*)]; * 
	m·th
; 
	m·th_r_
[
PADR_
(*)];

702 
	muid_l_
[
PADL_
()]; 
	muid
; 
	muid_r_
[
PADR_
()];

703 
	mgid_l_
[
PADL_
()]; 
	mgid
; 
	mgid_r_
[
PADR_
()];

705 
	saio_»ad_¬gs
 {

706 
	maiocbp_l_
[
PADL_
(
aiocb
 *)]; aiocb * 
	maiocbp
; 
	maiocbp_r_
[
PADR_
(aiocb *)];

708 
	saio_wr™e_¬gs
 {

709 
	maiocbp_l_
[
PADL_
(
aiocb
 *)]; aiocb * 
	maiocbp
; 
	maiocbp_r_
[
PADR_
(aiocb *)];

711 
	slio_li¡io_¬gs
 {

712 
	mmode_l_
[
PADL_
()]; 
	mmode
; 
	mmode_r_
[
PADR_
()];

713 
	macb_li¡_l_
[
PADL_
(
aiocb
 *cÚ¡ *)]; aiocb *cÚ¡ * 
	macb_li¡
; 
	macb_li¡_r_
[
PADR_
(aiocb *const *)];

714 
	mÃÁ_l_
[
PADL_
()]; 
	mÃÁ
; 
	mÃÁ_r_
[
PADR_
()];

715 
	msig_l_
[
PADL_
(
sigev’t
 *)]; sigev’ˆ* 
	msig
; 
	msig_r_
[
PADR_
(sigevent *)];

717 
	slchmod_¬gs
 {

718 
	m·th_l_
[
PADL_
(*)]; * 
	m·th
; 
	m·th_r_
[
PADR_
(*)];

719 
	mmode_l_
[
PADL_
(
mode_t
)]; mode_ˆ
	mmode
; 
	mmode_r_
[
PADR_
(mode_t)];

721 
	slutimes_¬gs
 {

722 
	m·th_l_
[
PADL_
(*)]; * 
	m·th
; 
	m·th_r_
[
PADR_
(*)];

723 
	mŒ_l_
[
PADL_
(
timev®
 *)]; timev® * 
	mŒ
; 
	mŒ_r_
[
PADR_
(timeval *)];

725 
	s´—dv_¬gs
 {

726 
	mfd_l_
[
PADL_
()]; 
	mfd
; 
	mfd_r_
[
PADR_
()];

727 
	miovp_l_
[
PADL_
(
iovec
 *)]; ioveø* 
	miovp
; 
	miovp_r_
[
PADR_
(iovec *)];

728 
	miovút_l_
[
PADL_
(
u_št
)]; u_šˆ
	miovút
; 
	miovút_r_
[
PADR_
(u_int)];

729 
	moff£t_l_
[
PADL_
(
off_t
)]; off_ˆ
	moff£t
; 
	moff£t_r_
[
PADR_
(off_t)];

731 
	spwr™ev_¬gs
 {

732 
	mfd_l_
[
PADL_
()]; 
	mfd
; 
	mfd_r_
[
PADR_
()];

733 
	miovp_l_
[
PADL_
(
iovec
 *)]; ioveø* 
	miovp
; 
	miovp_r_
[
PADR_
(iovec *)];

734 
	miovút_l_
[
PADL_
(
u_št
)]; u_šˆ
	miovút
; 
	miovút_r_
[
PADR_
(u_int)];

735 
	moff£t_l_
[
PADL_
(
off_t
)]; off_ˆ
	moff£t
; 
	moff£t_r_
[
PADR_
(off_t)];

737 
	sfhÝ’_¬gs
 {

738 
	mu_fhp_l_
[
PADL_
(cÚ¡ 
fhªdË
 *)]; cÚ¡ fhªdË * 
	mu_fhp
; 
	mu_fhp_r_
[
PADR_
(const fhandle *)];

739 
	mæags_l_
[
PADL_
()]; 
	mæags
; 
	mæags_r_
[
PADR_
()];

741 
	smodÃxt_¬gs
 {

742 
	mmodid_l_
[
PADL_
()]; 
	mmodid
; 
	mmodid_r_
[
PADR_
()];

744 
	smod¡©_¬gs
 {

745 
	mmodid_l_
[
PADL_
()]; 
	mmodid
; 
	mmodid_r_
[
PADR_
()];

746 
	m¡©_l_
[
PADL_
(
moduË_¡©
 *)]; moduË_¡© * 
	m¡©
; 
	m¡©_r_
[
PADR_
(module_stat *)];

748 
	smodâext_¬gs
 {

749 
	mmodid_l_
[
PADL_
()]; 
	mmodid
; 
	mmodid_r_
[
PADR_
()];

751 
	smodfšd_¬gs
 {

752 
	mÇme_l_
[
PADL_
(cÚ¡ *)]; cÚ¡ * 
	mÇme
; 
	mÇme_r_
[
PADR_
(const *)];

754 
	skldlßd_¬gs
 {

755 
	mfže_l_
[
PADL_
(cÚ¡ *)]; cÚ¡ * 
	mfže
; 
	mfže_r_
[
PADR_
(const *)];

757 
	sklduÆßd_¬gs
 {

758 
	mfžeid_l_
[
PADL_
()]; 
	mfžeid
; 
	mfžeid_r_
[
PADR_
()];

760 
	skldfšd_¬gs
 {

761 
	mfže_l_
[
PADL_
(cÚ¡ *)]; cÚ¡ * 
	mfže
; 
	mfže_r_
[
PADR_
(const *)];

763 
	skldÃxt_¬gs
 {

764 
	mfžeid_l_
[
PADL_
()]; 
	mfžeid
; 
	mfžeid_r_
[
PADR_
()];

766 
	skld¡©_¬gs
 {

767 
	mfžeid_l_
[
PADL_
()]; 
	mfžeid
; 
	mfžeid_r_
[
PADR_
()];

768 
	m¡©_l_
[
PADL_
(
kld_fže_¡©
 *)]; kld_fže_¡© * 
	m¡©
; 
	m¡©_r_
[
PADR_
(kld_file_stat *)];

770 
	skldfœ¡mod_¬gs
 {

771 
	mfžeid_l_
[
PADL_
()]; 
	mfžeid
; 
	mfžeid_r_
[
PADR_
()];

773 
	sg‘sid_¬gs
 {

774 
	mpid_l_
[
PADL_
(
pid_t
)];…id_ˆ
	mpid
; 
	mpid_r_
[
PADR_
(pid_t)];

776 
	s£Œesuid_¬gs
 {

777 
	mruid_l_
[
PADL_
(
uid_t
)]; uid_ˆ
	mruid
; 
	mruid_r_
[
PADR_
(uid_t)];

778 
	meuid_l_
[
PADL_
(
uid_t
)]; uid_ˆ
	meuid
; 
	meuid_r_
[
PADR_
(uid_t)];

779 
	msuid_l_
[
PADL_
(
uid_t
)]; uid_ˆ
	msuid
; 
	msuid_r_
[
PADR_
(uid_t)];

781 
	s£Œesgid_¬gs
 {

782 
	mrgid_l_
[
PADL_
(
gid_t
)]; gid_ˆ
	mrgid
; 
	mrgid_r_
[
PADR_
(gid_t)];

783 
	megid_l_
[
PADL_
(
gid_t
)]; gid_ˆ
	megid
; 
	megid_r_
[
PADR_
(gid_t)];

784 
	msgid_l_
[
PADL_
(
gid_t
)]; gid_ˆ
	msgid
; 
	msgid_r_
[
PADR_
(gid_t)];

786 
	saio_»tuº_¬gs
 {

787 
	maiocbp_l_
[
PADL_
(
aiocb
 *)]; aiocb * 
	maiocbp
; 
	maiocbp_r_
[
PADR_
(aiocb *)];

789 
	saio_su¥’d_¬gs
 {

790 
	maiocbp_l_
[
PADL_
(
aiocb
 *cÚ¡ *)]; aiocb *cÚ¡ * 
	maiocbp
; 
	maiocbp_r_
[
PADR_
(aiocb *const *)];

791 
	mÃÁ_l_
[
PADL_
()]; 
	mÃÁ
; 
	mÃÁ_r_
[
PADR_
()];

792 
	mtimeout_l_
[
PADL_
(cÚ¡ 
time¥ec
 *)]; cÚ¡ time¥eø* 
	mtimeout
; 
	mtimeout_r_
[
PADR_
(const timespec *)];

794 
	saio_ÿnûl_¬gs
 {

795 
	mfd_l_
[
PADL_
()]; 
	mfd
; 
	mfd_r_
[
PADR_
()];

796 
	maiocbp_l_
[
PADL_
(
aiocb
 *)]; aiocb * 
	maiocbp
; 
	maiocbp_r_
[
PADR_
(aiocb *)];

798 
	saio_”rÜ_¬gs
 {

799 
	maiocbp_l_
[
PADL_
(
aiocb
 *)]; aiocb * 
	maiocbp
; 
	maiocbp_r_
[
PADR_
(aiocb *)];

801 
	sy›ld_¬gs
 {

802 
»gi¡”_t
 
	mdummy
;

804 
	smlock®l_¬gs
 {

805 
	mhow_l_
[
PADL_
()]; 
	mhow
; 
	mhow_r_
[
PADR_
()];

807 
	smuÆock®l_¬gs
 {

808 
»gi¡”_t
 
	mdummy
;

810 
	s__g‘cwd_¬gs
 {

811 
	mbuf_l_
[
PADL_
(*)]; * 
	mbuf
; 
	mbuf_r_
[
PADR_
(*)];

812 
	mbuæ’_l_
[
PADL_
(
size_t
)]; size_ˆ
	mbuæ’
; 
	mbuæ’_r_
[
PADR_
(size_t)];

814 
	ssched_£¬am_¬gs
 {

815 
	mpid_l_
[
PADL_
(
pid_t
)];…id_ˆ
	mpid
; 
	mpid_r_
[
PADR_
(pid_t)];

816 
	m·¿m_l_
[
PADL_
(cÚ¡ 
sched_·¿m
 *)]; cÚ¡ sched_·¿m * 
	m·¿m
; 
	m·¿m_r_
[
PADR_
(const sched_param *)];

818 
	ssched_g‘·¿m_¬gs
 {

819 
	mpid_l_
[
PADL_
(
pid_t
)];…id_ˆ
	mpid
; 
	mpid_r_
[
PADR_
(pid_t)];

820 
	m·¿m_l_
[
PADL_
(
sched_·¿m
 *)]; sched_·¿m * 
	m·¿m
; 
	m·¿m_r_
[
PADR_
(sched_param *)];

822 
	ssched_£tscheduËr_¬gs
 {

823 
	mpid_l_
[
PADL_
(
pid_t
)];…id_ˆ
	mpid
; 
	mpid_r_
[
PADR_
(pid_t)];

824 
	mpÞicy_l_
[
PADL_
()]; 
	mpÞicy
; 
	mpÞicy_r_
[
PADR_
()];

825 
	m·¿m_l_
[
PADL_
(cÚ¡ 
sched_·¿m
 *)]; cÚ¡ sched_·¿m * 
	m·¿m
; 
	m·¿m_r_
[
PADR_
(const sched_param *)];

827 
	ssched_g‘scheduËr_¬gs
 {

828 
	mpid_l_
[
PADL_
(
pid_t
)];…id_ˆ
	mpid
; 
	mpid_r_
[
PADR_
(pid_t)];

830 
	ssched_y›ld_¬gs
 {

831 
»gi¡”_t
 
	mdummy
;

833 
	ssched_g‘_´iÜ™y_max_¬gs
 {

834 
	mpÞicy_l_
[
PADL_
()]; 
	mpÞicy
; 
	mpÞicy_r_
[
PADR_
()];

836 
	ssched_g‘_´iÜ™y_mš_¬gs
 {

837 
	mpÞicy_l_
[
PADL_
()]; 
	mpÞicy
; 
	mpÞicy_r_
[
PADR_
()];

839 
	ssched_¼_g‘_š‹rv®_¬gs
 {

840 
	mpid_l_
[
PADL_
(
pid_t
)];…id_ˆ
	mpid
; 
	mpid_r_
[
PADR_
(pid_t)];

841 
	mš‹rv®_l_
[
PADL_
(
time¥ec
 *)]; time¥eø* 
	mš‹rv®
; 
	mš‹rv®_r_
[
PADR_
(timespec *)];

843 
	suŒaû_¬gs
 {

844 
	maddr_l_
[
PADL_
(cÚ¡ *)]; cÚ¡ * 
	maddr
; 
	maddr_r_
[
PADR_
(const *)];

845 
	mËn_l_
[
PADL_
(
size_t
)]; size_ˆ
	mËn
; 
	mËn_r_
[
PADR_
(size_t)];

847 
	skldsym_¬gs
 {

848 
	mfžeid_l_
[
PADL_
()]; 
	mfžeid
; 
	mfžeid_r_
[
PADR_
()];

849 
	mcmd_l_
[
PADL_
()]; 
	mcmd
; 
	mcmd_r_
[
PADR_
()];

850 
	md©a_l_
[
PADL_
(*)]; * 
	md©a
; 
	md©a_r_
[
PADR_
(*)];

852 
	sjaž_¬gs
 {

853 
	mjaž_l_
[
PADL_
(
jaž
 *)]; jaž * 
	mjaž
; 
	mjaž_r_
[
PADR_
(jail *)];

855 
	sÂpfs_sysÿÎ_¬gs
 {

856 
	mÝ”©iÚ_l_
[
PADL_
()]; 
	mÝ”©iÚ
; 
	mÝ”©iÚ_r_
[
PADR_
()];

857 
	ma_·thP_l_
[
PADL_
(*)]; * 
	ma_·thP
; 
	ma_·thP_r_
[
PADR_
(*)];

858 
	ma_Ýcode_l_
[
PADL_
()]; 
	ma_Ýcode
; 
	ma_Ýcode_r_
[
PADR_
()];

859 
	ma_·¿msP_l_
[
PADL_
(*)]; * 
	ma_·¿msP
; 
	ma_·¿msP_r_
[
PADR_
(*)];

860 
	ma_fÞlowSymlšks_l_
[
PADL_
()]; 
	ma_fÞlowSymlšks
; 
	ma_fÞlowSymlšks_r_
[
PADR_
()];

862 
	ssig´ocmask_¬gs
 {

863 
	mhow_l_
[
PADL_
()]; 
	mhow
; 
	mhow_r_
[
PADR_
()];

864 
	m£t_l_
[
PADL_
(cÚ¡ 
sig£t_t
 *)]; cÚ¡ sig£t_ˆ* 
	m£t
; 
	m£t_r_
[
PADR_
(const sigset_t *)];

865 
	mo£t_l_
[
PADL_
(
sig£t_t
 *)]; sig£t_ˆ* 
	mo£t
; 
	mo£t_r_
[
PADR_
(sigset_t *)];

867 
	ssigsu¥’d_¬gs
 {

868 
	msigmask_l_
[
PADL_
(cÚ¡ 
sig£t_t
 *)]; cÚ¡ sig£t_ˆ* 
	msigmask
; 
	msigmask_r_
[
PADR_
(const sigset_t *)];

870 
	ssig³ndšg_¬gs
 {

871 
	m£t_l_
[
PADL_
(
sig£t_t
 *)]; sig£t_ˆ* 
	m£t
; 
	m£t_r_
[
PADR_
(sigset_t *)];

873 
	ssigtimedwa™_¬gs
 {

874 
	m£t_l_
[
PADL_
(cÚ¡ 
sig£t_t
 *)]; cÚ¡ sig£t_ˆ* 
	m£t
; 
	m£t_r_
[
PADR_
(const sigset_t *)];

875 
	mšfo_l_
[
PADL_
(
sigšfo_t
 *)]; sigšfo_ˆ* 
	mšfo
; 
	mšfo_r_
[
PADR_
(siginfo_t *)];

876 
	mtimeout_l_
[
PADL_
(cÚ¡ 
time¥ec
 *)]; cÚ¡ time¥eø* 
	mtimeout
; 
	mtimeout_r_
[
PADR_
(const timespec *)];

878 
	ssigwa™šfo_¬gs
 {

879 
	m£t_l_
[
PADL_
(cÚ¡ 
sig£t_t
 *)]; cÚ¡ sig£t_ˆ* 
	m£t
; 
	m£t_r_
[
PADR_
(const sigset_t *)];

880 
	mšfo_l_
[
PADL_
(
sigšfo_t
 *)]; sigšfo_ˆ* 
	mšfo
; 
	mšfo_r_
[
PADR_
(siginfo_t *)];

882 
	s__aþ_g‘_fže_¬gs
 {

883 
	m·th_l_
[
PADL_
(cÚ¡ *)]; cÚ¡ * 
	m·th
; 
	m·th_r_
[
PADR_
(const *)];

884 
	mty³_l_
[
PADL_
(
aþ_ty³_t
)];‡þ_ty³_ˆ
	mty³
; 
	mty³_r_
[
PADR_
(acl_type_t)];

885 
	maþp_l_
[
PADL_
(
aþ
 *)]; aþ * 
	maþp
; 
	maþp_r_
[
PADR_
(acl *)];

887 
	s__aþ_£t_fže_¬gs
 {

888 
	m·th_l_
[
PADL_
(cÚ¡ *)]; cÚ¡ * 
	m·th
; 
	m·th_r_
[
PADR_
(const *)];

889 
	mty³_l_
[
PADL_
(
aþ_ty³_t
)];‡þ_ty³_ˆ
	mty³
; 
	mty³_r_
[
PADR_
(acl_type_t)];

890 
	maþp_l_
[
PADL_
(
aþ
 *)]; aþ * 
	maþp
; 
	maþp_r_
[
PADR_
(acl *)];

892 
	s__aþ_g‘_fd_¬gs
 {

893 
	mfžedes_l_
[
PADL_
()]; 
	mfžedes
; 
	mfžedes_r_
[
PADR_
()];

894 
	mty³_l_
[
PADL_
(
aþ_ty³_t
)];‡þ_ty³_ˆ
	mty³
; 
	mty³_r_
[
PADR_
(acl_type_t)];

895 
	maþp_l_
[
PADL_
(
aþ
 *)]; aþ * 
	maþp
; 
	maþp_r_
[
PADR_
(acl *)];

897 
	s__aþ_£t_fd_¬gs
 {

898 
	mfžedes_l_
[
PADL_
()]; 
	mfžedes
; 
	mfžedes_r_
[
PADR_
()];

899 
	mty³_l_
[
PADL_
(
aþ_ty³_t
)];‡þ_ty³_ˆ
	mty³
; 
	mty³_r_
[
PADR_
(acl_type_t)];

900 
	maþp_l_
[
PADL_
(
aþ
 *)]; aþ * 
	maþp
; 
	maþp_r_
[
PADR_
(acl *)];

902 
	s__aþ_d–‘e_fže_¬gs
 {

903 
	m·th_l_
[
PADL_
(cÚ¡ *)]; cÚ¡ * 
	m·th
; 
	m·th_r_
[
PADR_
(const *)];

904 
	mty³_l_
[
PADL_
(
aþ_ty³_t
)];‡þ_ty³_ˆ
	mty³
; 
	mty³_r_
[
PADR_
(acl_type_t)];

906 
	s__aþ_d–‘e_fd_¬gs
 {

907 
	mfžedes_l_
[
PADL_
()]; 
	mfžedes
; 
	mfžedes_r_
[
PADR_
()];

908 
	mty³_l_
[
PADL_
(
aþ_ty³_t
)];‡þ_ty³_ˆ
	mty³
; 
	mty³_r_
[
PADR_
(acl_type_t)];

910 
	s__aþ_aþcheck_fže_¬gs
 {

911 
	m·th_l_
[
PADL_
(cÚ¡ *)]; cÚ¡ * 
	m·th
; 
	m·th_r_
[
PADR_
(const *)];

912 
	mty³_l_
[
PADL_
(
aþ_ty³_t
)];‡þ_ty³_ˆ
	mty³
; 
	mty³_r_
[
PADR_
(acl_type_t)];

913 
	maþp_l_
[
PADL_
(
aþ
 *)]; aþ * 
	maþp
; 
	maþp_r_
[
PADR_
(acl *)];

915 
	s__aþ_aþcheck_fd_¬gs
 {

916 
	mfžedes_l_
[
PADL_
()]; 
	mfžedes
; 
	mfžedes_r_
[
PADR_
()];

917 
	mty³_l_
[
PADL_
(
aþ_ty³_t
)];‡þ_ty³_ˆ
	mty³
; 
	mty³_r_
[
PADR_
(acl_type_t)];

918 
	maþp_l_
[
PADL_
(
aþ
 *)]; aþ * 
	maþp
; 
	maþp_r_
[
PADR_
(acl *)];

920 
	sex‰rùl_¬gs
 {

921 
	m·th_l_
[
PADL_
(cÚ¡ *)]; cÚ¡ * 
	m·th
; 
	m·th_r_
[
PADR_
(const *)];

922 
	mcmd_l_
[
PADL_
()]; 
	mcmd
; 
	mcmd_r_
[
PADR_
()];

923 
	mfž’ame_l_
[
PADL_
(cÚ¡ *)]; cÚ¡ * 
	mfž’ame
; 
	mfž’ame_r_
[
PADR_
(const *)];

924 
	m©ŒÇme¥aû_l_
[
PADL_
()]; 
	m©ŒÇme¥aû
; 
	m©ŒÇme¥aû_r_
[
PADR_
()];

925 
	m©ŒÇme_l_
[
PADL_
(cÚ¡ *)]; cÚ¡ * 
	m©ŒÇme
; 
	m©ŒÇme_r_
[
PADR_
(const *)];

927 
	sex‰r_£t_fže_¬gs
 {

928 
	m·th_l_
[
PADL_
(cÚ¡ *)]; cÚ¡ * 
	m·th
; 
	m·th_r_
[
PADR_
(const *)];

929 
	m©ŒÇme¥aû_l_
[
PADL_
()]; 
	m©ŒÇme¥aû
; 
	m©ŒÇme¥aû_r_
[
PADR_
()];

930 
	m©ŒÇme_l_
[
PADL_
(cÚ¡ *)]; cÚ¡ * 
	m©ŒÇme
; 
	m©ŒÇme_r_
[
PADR_
(const *)];

931 
	md©a_l_
[
PADL_
(*)]; * 
	md©a
; 
	md©a_r_
[
PADR_
(*)];

932 
	mnby‹s_l_
[
PADL_
(
size_t
)]; size_ˆ
	mnby‹s
; 
	mnby‹s_r_
[
PADR_
(size_t)];

934 
	sex‰r_g‘_fže_¬gs
 {

935 
	m·th_l_
[
PADL_
(cÚ¡ *)]; cÚ¡ * 
	m·th
; 
	m·th_r_
[
PADR_
(const *)];

936 
	m©ŒÇme¥aû_l_
[
PADL_
()]; 
	m©ŒÇme¥aû
; 
	m©ŒÇme¥aû_r_
[
PADR_
()];

937 
	m©ŒÇme_l_
[
PADL_
(cÚ¡ *)]; cÚ¡ * 
	m©ŒÇme
; 
	m©ŒÇme_r_
[
PADR_
(const *)];

938 
	md©a_l_
[
PADL_
(*)]; * 
	md©a
; 
	md©a_r_
[
PADR_
(*)];

939 
	mnby‹s_l_
[
PADL_
(
size_t
)]; size_ˆ
	mnby‹s
; 
	mnby‹s_r_
[
PADR_
(size_t)];

941 
	sex‰r_d–‘e_fže_¬gs
 {

942 
	m·th_l_
[
PADL_
(cÚ¡ *)]; cÚ¡ * 
	m·th
; 
	m·th_r_
[
PADR_
(const *)];

943 
	m©ŒÇme¥aû_l_
[
PADL_
()]; 
	m©ŒÇme¥aû
; 
	m©ŒÇme¥aû_r_
[
PADR_
()];

944 
	m©ŒÇme_l_
[
PADL_
(cÚ¡ *)]; cÚ¡ * 
	m©ŒÇme
; 
	m©ŒÇme_r_
[
PADR_
(const *)];

946 
	saio_wa™com¶‘e_¬gs
 {

947 
	maiocbp_l_
[
PADL_
(
aiocb
 **)]; aiocb ** 
	maiocbp
; 
	maiocbp_r_
[
PADR_
(aiocb **)];

948 
	mtimeout_l_
[
PADL_
(
time¥ec
 *)]; time¥eø* 
	mtimeout
; 
	mtimeout_r_
[
PADR_
(timespec *)];

950 
	sg‘»suid_¬gs
 {

951 
	mruid_l_
[
PADL_
(
uid_t
 *)]; uid_ˆ* 
	mruid
; 
	mruid_r_
[
PADR_
(uid_t *)];

952 
	meuid_l_
[
PADL_
(
uid_t
 *)]; uid_ˆ* 
	meuid
; 
	meuid_r_
[
PADR_
(uid_t *)];

953 
	msuid_l_
[
PADL_
(
uid_t
 *)]; uid_ˆ* 
	msuid
; 
	msuid_r_
[
PADR_
(uid_t *)];

955 
	sg‘»sgid_¬gs
 {

956 
	mrgid_l_
[
PADL_
(
gid_t
 *)]; gid_ˆ* 
	mrgid
; 
	mrgid_r_
[
PADR_
(gid_t *)];

957 
	megid_l_
[
PADL_
(
gid_t
 *)]; gid_ˆ* 
	megid
; 
	megid_r_
[
PADR_
(gid_t *)];

958 
	msgid_l_
[
PADL_
(
gid_t
 *)]; gid_ˆ* 
	msgid
; 
	msgid_r_
[
PADR_
(gid_t *)];

960 
	skqueue_¬gs
 {

961 
»gi¡”_t
 
	mdummy
;

963 
	sex‰r_£t_fd_¬gs
 {

964 
	mfd_l_
[
PADL_
()]; 
	mfd
; 
	mfd_r_
[
PADR_
()];

965 
	m©ŒÇme¥aû_l_
[
PADL_
()]; 
	m©ŒÇme¥aû
; 
	m©ŒÇme¥aû_r_
[
PADR_
()];

966 
	m©ŒÇme_l_
[
PADL_
(cÚ¡ *)]; cÚ¡ * 
	m©ŒÇme
; 
	m©ŒÇme_r_
[
PADR_
(const *)];

967 
	md©a_l_
[
PADL_
(*)]; * 
	md©a
; 
	md©a_r_
[
PADR_
(*)];

968 
	mnby‹s_l_
[
PADL_
(
size_t
)]; size_ˆ
	mnby‹s
; 
	mnby‹s_r_
[
PADR_
(size_t)];

970 
	sex‰r_g‘_fd_¬gs
 {

971 
	mfd_l_
[
PADL_
()]; 
	mfd
; 
	mfd_r_
[
PADR_
()];

972 
	m©ŒÇme¥aû_l_
[
PADL_
()]; 
	m©ŒÇme¥aû
; 
	m©ŒÇme¥aû_r_
[
PADR_
()];

973 
	m©ŒÇme_l_
[
PADL_
(cÚ¡ *)]; cÚ¡ * 
	m©ŒÇme
; 
	m©ŒÇme_r_
[
PADR_
(const *)];

974 
	md©a_l_
[
PADL_
(*)]; * 
	md©a
; 
	md©a_r_
[
PADR_
(*)];

975 
	mnby‹s_l_
[
PADL_
(
size_t
)]; size_ˆ
	mnby‹s
; 
	mnby‹s_r_
[
PADR_
(size_t)];

977 
	sex‰r_d–‘e_fd_¬gs
 {

978 
	mfd_l_
[
PADL_
()]; 
	mfd
; 
	mfd_r_
[
PADR_
()];

979 
	m©ŒÇme¥aû_l_
[
PADL_
()]; 
	m©ŒÇme¥aû
; 
	m©ŒÇme¥aû_r_
[
PADR_
()];

980 
	m©ŒÇme_l_
[
PADL_
(cÚ¡ *)]; cÚ¡ * 
	m©ŒÇme
; 
	m©ŒÇme_r_
[
PADR_
(const *)];

982 
	s__£tugid_¬gs
 {

983 
	mæag_l_
[
PADL_
()]; 
	mæag
; 
	mæag_r_
[
PADR_
()];

985 
	s—cûss_¬gs
 {

986 
	m·th_l_
[
PADL_
(*)]; * 
	m·th
; 
	m·th_r_
[
PADR_
(*)];

987 
	mamode_l_
[
PADL_
()]; 
	mamode
; 
	mamode_r_
[
PADR_
()];

989 
	safs3_sysÿÎ_¬gs
 {

990 
	msysÿÎ_l_
[
PADL_
()]; 
	msysÿÎ
; 
	msysÿÎ_r_
[
PADR_
()];

991 
	m·rm1_l_
[
PADL_
()]; 
	m·rm1
; 
	m·rm1_r_
[
PADR_
()];

992 
	m·rm2_l_
[
PADL_
()]; 
	m·rm2
; 
	m·rm2_r_
[
PADR_
()];

993 
	m·rm3_l_
[
PADL_
()]; 
	m·rm3
; 
	m·rm3_r_
[
PADR_
()];

994 
	m·rm4_l_
[
PADL_
()]; 
	m·rm4
; 
	m·rm4_r_
[
PADR_
()];

995 
	m·rm5_l_
[
PADL_
()]; 
	m·rm5
; 
	m·rm5_r_
[
PADR_
()];

996 
	m·rm6_l_
[
PADL_
()]; 
	m·rm6
; 
	m·rm6_r_
[
PADR_
()];

998 
	snmouÁ_¬gs
 {

999 
	miovp_l_
[
PADL_
(
iovec
 *)]; ioveø* 
	miovp
; 
	miovp_r_
[
PADR_
(iovec *)];

1000 
	miovút_l_
[
PADL_
()]; 
	miovút
; 
	miovút_r_
[
PADR_
()];

1001 
	mæags_l_
[
PADL_
()]; 
	mæags
; 
	mæags_r_
[
PADR_
()];

1003 
	s__mac_g‘_´oc_¬gs
 {

1004 
	mmac_p_l_
[
PADL_
(
mac
 *)]; maø* 
	mmac_p
; 
	mmac_p_r_
[
PADR_
(mac *)];

1006 
	s__mac_£t_´oc_¬gs
 {

1007 
	mmac_p_l_
[
PADL_
(
mac
 *)]; maø* 
	mmac_p
; 
	mmac_p_r_
[
PADR_
(mac *)];

1009 
	s__mac_g‘_fd_¬gs
 {

1010 
	mfd_l_
[
PADL_
()]; 
	mfd
; 
	mfd_r_
[
PADR_
()];

1011 
	mmac_p_l_
[
PADL_
(
mac
 *)]; maø* 
	mmac_p
; 
	mmac_p_r_
[
PADR_
(mac *)];

1013 
	s__mac_g‘_fže_¬gs
 {

1014 
	m·th_p_l_
[
PADL_
(cÚ¡ *)]; cÚ¡ * 
	m·th_p
; 
	m·th_p_r_
[
PADR_
(const *)];

1015 
	mmac_p_l_
[
PADL_
(
mac
 *)]; maø* 
	mmac_p
; 
	mmac_p_r_
[
PADR_
(mac *)];

1017 
	s__mac_£t_fd_¬gs
 {

1018 
	mfd_l_
[
PADL_
()]; 
	mfd
; 
	mfd_r_
[
PADR_
()];

1019 
	mmac_p_l_
[
PADL_
(
mac
 *)]; maø* 
	mmac_p
; 
	mmac_p_r_
[
PADR_
(mac *)];

1021 
	s__mac_£t_fže_¬gs
 {

1022 
	m·th_p_l_
[
PADL_
(cÚ¡ *)]; cÚ¡ * 
	m·th_p
; 
	m·th_p_r_
[
PADR_
(const *)];

1023 
	mmac_p_l_
[
PADL_
(
mac
 *)]; maø* 
	mmac_p
; 
	mmac_p_r_
[
PADR_
(mac *)];

1025 
	sk’v_¬gs
 {

1026 
	mwh©_l_
[
PADL_
()]; 
	mwh©
; 
	mwh©_r_
[
PADR_
()];

1027 
	mÇme_l_
[
PADL_
(cÚ¡ *)]; cÚ¡ * 
	mÇme
; 
	mÇme_r_
[
PADR_
(const *)];

1028 
	mv®ue_l_
[
PADL_
(*)]; * 
	mv®ue
; 
	mv®ue_r_
[
PADR_
(*)];

1029 
	mËn_l_
[
PADL_
()]; 
	mËn
; 
	mËn_r_
[
PADR_
()];

1031 
	slchæags_¬gs
 {

1032 
	m·th_l_
[
PADL_
(cÚ¡ *)]; cÚ¡ * 
	m·th
; 
	m·th_r_
[
PADR_
(const *)];

1033 
	mæags_l_
[
PADL_
(
u_lÚg
)]; u_lÚg 
	mæags
; 
	mæags_r_
[
PADR_
(u_long)];

1035 
	suuidg’_¬gs
 {

1036 
	m¡Üe_l_
[
PADL_
(
uuid
 *)]; uuid * 
	m¡Üe
; 
	m¡Üe_r_
[
PADR_
(uuid *)];

1037 
	mcouÁ_l_
[
PADL_
()]; 
	mcouÁ
; 
	mcouÁ_r_
[
PADR_
()];

1039 
	s£ndfže_¬gs
 {

1040 
	mfd_l_
[
PADL_
()]; 
	mfd
; 
	mfd_r_
[
PADR_
()];

1041 
	ms_l_
[
PADL_
()]; 
	ms
; 
	ms_r_
[
PADR_
()];

1042 
	moff£t_l_
[
PADL_
(
off_t
)]; off_ˆ
	moff£t
; 
	moff£t_r_
[
PADR_
(off_t)];

1043 
	mnby‹s_l_
[
PADL_
(
size_t
)]; size_ˆ
	mnby‹s
; 
	mnby‹s_r_
[
PADR_
(size_t)];

1044 
	mhdŒ_l_
[
PADL_
(
sf_hdŒ
 *)]; sf_hdŒ * 
	mhdŒ
; 
	mhdŒ_r_
[
PADR_
(sf_hdtr *)];

1045 
	msby‹s_l_
[
PADL_
(
off_t
 *)]; off_ˆ* 
	msby‹s
; 
	msby‹s_r_
[
PADR_
(off_t *)];

1046 
	mæags_l_
[
PADL_
()]; 
	mæags
; 
	mæags_r_
[
PADR_
()];

1048 
	smac_sysÿÎ_¬gs
 {

1049 
	mpÞicy_l_
[
PADL_
(cÚ¡ *)]; cÚ¡ * 
	mpÞicy
; 
	mpÞicy_r_
[
PADR_
(const *)];

1050 
	mÿÎ_l_
[
PADL_
()]; 
	mÿÎ
; 
	mÿÎ_r_
[
PADR_
()];

1051 
	m¬g_l_
[
PADL_
(*)]; * 
	m¬g
; 
	m¬g_r_
[
PADR_
(*)];

1053 
	sk£m_þo£_¬gs
 {

1054 
	mid_l_
[
PADL_
(
£mid_t
)]; semid_ˆ
	mid
; 
	mid_r_
[
PADR_
(semid_t)];

1056 
	sk£m_po¡_¬gs
 {

1057 
	mid_l_
[
PADL_
(
£mid_t
)]; semid_ˆ
	mid
; 
	mid_r_
[
PADR_
(semid_t)];

1059 
	sk£m_wa™_¬gs
 {

1060 
	mid_l_
[
PADL_
(
£mid_t
)]; semid_ˆ
	mid
; 
	mid_r_
[
PADR_
(semid_t)];

1062 
	sk£m_Œywa™_¬gs
 {

1063 
	mid_l_
[
PADL_
(
£mid_t
)]; semid_ˆ
	mid
; 
	mid_r_
[
PADR_
(semid_t)];

1065 
	sk£m_š™_¬gs
 {

1066 
	midp_l_
[
PADL_
(
£mid_t
 *)]; semid_ˆ* 
	midp
; 
	midp_r_
[
PADR_
(semid_t *)];

1067 
	mv®ue_l_
[
PADL_
()]; 
	mv®ue
; 
	mv®ue_r_
[
PADR_
()];

1069 
	sk£m_Ý’_¬gs
 {

1070 
	midp_l_
[
PADL_
(
£mid_t
 *)]; semid_ˆ* 
	midp
; 
	midp_r_
[
PADR_
(semid_t *)];

1071 
	mÇme_l_
[
PADL_
(cÚ¡ *)]; cÚ¡ * 
	mÇme
; 
	mÇme_r_
[
PADR_
(const *)];

1072 
	moæag_l_
[
PADL_
()]; 
	moæag
; 
	moæag_r_
[
PADR_
()];

1073 
	mmode_l_
[
PADL_
(
mode_t
)]; mode_ˆ
	mmode
; 
	mmode_r_
[
PADR_
(mode_t)];

1074 
	mv®ue_l_
[
PADL_
()]; 
	mv®ue
; 
	mv®ue_r_
[
PADR_
()];

1076 
	sk£m_uÆšk_¬gs
 {

1077 
	mÇme_l_
[
PADL_
(cÚ¡ *)]; cÚ¡ * 
	mÇme
; 
	mÇme_r_
[
PADR_
(const *)];

1079 
	sk£m_g‘v®ue_¬gs
 {

1080 
	mid_l_
[
PADL_
(
£mid_t
)]; semid_ˆ
	mid
; 
	mid_r_
[
PADR_
(semid_t)];

1081 
	mv®_l_
[
PADL_
(*)]; * 
	mv®
; 
	mv®_r_
[
PADR_
(*)];

1083 
	sk£m_de¡roy_¬gs
 {

1084 
	mid_l_
[
PADL_
(
£mid_t
)]; semid_ˆ
	mid
; 
	mid_r_
[
PADR_
(semid_t)];

1086 
	s__mac_g‘_pid_¬gs
 {

1087 
	mpid_l_
[
PADL_
(
pid_t
)];…id_ˆ
	mpid
; 
	mpid_r_
[
PADR_
(pid_t)];

1088 
	mmac_p_l_
[
PADL_
(
mac
 *)]; maø* 
	mmac_p
; 
	mmac_p_r_
[
PADR_
(mac *)];

1090 
	s__mac_g‘_lšk_¬gs
 {

1091 
	m·th_p_l_
[
PADL_
(cÚ¡ *)]; cÚ¡ * 
	m·th_p
; 
	m·th_p_r_
[
PADR_
(const *)];

1092 
	mmac_p_l_
[
PADL_
(
mac
 *)]; maø* 
	mmac_p
; 
	mmac_p_r_
[
PADR_
(mac *)];

1094 
	s__mac_£t_lšk_¬gs
 {

1095 
	m·th_p_l_
[
PADL_
(cÚ¡ *)]; cÚ¡ * 
	m·th_p
; 
	m·th_p_r_
[
PADR_
(const *)];

1096 
	mmac_p_l_
[
PADL_
(
mac
 *)]; maø* 
	mmac_p
; 
	mmac_p_r_
[
PADR_
(mac *)];

1098 
	sex‰r_£t_lšk_¬gs
 {

1099 
	m·th_l_
[
PADL_
(cÚ¡ *)]; cÚ¡ * 
	m·th
; 
	m·th_r_
[
PADR_
(const *)];

1100 
	m©ŒÇme¥aû_l_
[
PADL_
()]; 
	m©ŒÇme¥aû
; 
	m©ŒÇme¥aû_r_
[
PADR_
()];

1101 
	m©ŒÇme_l_
[
PADL_
(cÚ¡ *)]; cÚ¡ * 
	m©ŒÇme
; 
	m©ŒÇme_r_
[
PADR_
(const *)];

1102 
	md©a_l_
[
PADL_
(*)]; * 
	md©a
; 
	md©a_r_
[
PADR_
(*)];

1103 
	mnby‹s_l_
[
PADL_
(
size_t
)]; size_ˆ
	mnby‹s
; 
	mnby‹s_r_
[
PADR_
(size_t)];

1105 
	sex‰r_g‘_lšk_¬gs
 {

1106 
	m·th_l_
[
PADL_
(cÚ¡ *)]; cÚ¡ * 
	m·th
; 
	m·th_r_
[
PADR_
(const *)];

1107 
	m©ŒÇme¥aû_l_
[
PADL_
()]; 
	m©ŒÇme¥aû
; 
	m©ŒÇme¥aû_r_
[
PADR_
()];

1108 
	m©ŒÇme_l_
[
PADL_
(cÚ¡ *)]; cÚ¡ * 
	m©ŒÇme
; 
	m©ŒÇme_r_
[
PADR_
(const *)];

1109 
	md©a_l_
[
PADL_
(*)]; * 
	md©a
; 
	md©a_r_
[
PADR_
(*)];

1110 
	mnby‹s_l_
[
PADL_
(
size_t
)]; size_ˆ
	mnby‹s
; 
	mnby‹s_r_
[
PADR_
(size_t)];

1112 
	sex‰r_d–‘e_lšk_¬gs
 {

1113 
	m·th_l_
[
PADL_
(cÚ¡ *)]; cÚ¡ * 
	m·th
; 
	m·th_r_
[
PADR_
(const *)];

1114 
	m©ŒÇme¥aû_l_
[
PADL_
()]; 
	m©ŒÇme¥aû
; 
	m©ŒÇme¥aû_r_
[
PADR_
()];

1115 
	m©ŒÇme_l_
[
PADL_
(cÚ¡ *)]; cÚ¡ * 
	m©ŒÇme
; 
	m©ŒÇme_r_
[
PADR_
(const *)];

1117 
	s__mac_execve_¬gs
 {

1118 
	mâame_l_
[
PADL_
(*)]; * 
	mâame
; 
	mâame_r_
[
PADR_
(*)];

1119 
	m¬gv_l_
[
PADL_
(**)]; ** 
	m¬gv
; 
	m¬gv_r_
[
PADR_
(**)];

1120 
	m’vv_l_
[
PADL_
(**)]; ** 
	m’vv
; 
	m’vv_r_
[
PADR_
(**)];

1121 
	mmac_p_l_
[
PADL_
(
mac
 *)]; maø* 
	mmac_p
; 
	mmac_p_r_
[
PADR_
(mac *)];

1123 
	ssigaùiÚ_¬gs
 {

1124 
	msig_l_
[
PADL_
()]; 
	msig
; 
	msig_r_
[
PADR_
()];

1125 
	maù_l_
[
PADL_
(cÚ¡ 
sigaùiÚ
 *)]; cÚ¡ sigaùiÚ * 
	maù
; 
	maù_r_
[
PADR_
(const sigaction *)];

1126 
	mßù_l_
[
PADL_
(
sigaùiÚ
 *)]; sigaùiÚ * 
	mßù
; 
	mßù_r_
[
PADR_
(sigaction *)];

1128 
	ssig»tuº_¬gs
 {

1129 
	msigútxp_l_
[
PADL_
(cÚ¡ 
__ucÚ‹xt
 *)]; cÚ¡ __ucÚ‹xˆ* 
	msigútxp
; 
	msigútxp_r_
[
PADR_
(const __ucontext *)];

1131 
	sg‘cÚ‹xt_¬gs
 {

1132 
	muý_l_
[
PADL_
(
__ucÚ‹xt
 *)]; __ucÚ‹xˆ* 
	muý
; 
	muý_r_
[
PADR_
(__ucontext *)];

1134 
	s£tcÚ‹xt_¬gs
 {

1135 
	muý_l_
[
PADL_
(cÚ¡ 
__ucÚ‹xt
 *)]; cÚ¡ __ucÚ‹xˆ* 
	muý
; 
	muý_r_
[
PADR_
(const __ucontext *)];

1137 
	ssw­cÚ‹xt_¬gs
 {

1138 
	mouý_l_
[
PADL_
(
__ucÚ‹xt
 *)]; __ucÚ‹xˆ* 
	mouý
; 
	mouý_r_
[
PADR_
(__ucontext *)];

1139 
	muý_l_
[
PADL_
(cÚ¡ 
__ucÚ‹xt
 *)]; cÚ¡ __ucÚ‹xˆ* 
	muý
; 
	muý_r_
[
PADR_
(const __ucontext *)];

1141 
	ssw­off_¬gs
 {

1142 
	mÇme_l_
[
PADL_
(cÚ¡ *)]; cÚ¡ * 
	mÇme
; 
	mÇme_r_
[
PADR_
(const *)];

1144 
	s__aþ_g‘_lšk_¬gs
 {

1145 
	m·th_l_
[
PADL_
(cÚ¡ *)]; cÚ¡ * 
	m·th
; 
	m·th_r_
[
PADR_
(const *)];

1146 
	mty³_l_
[
PADL_
(
aþ_ty³_t
)];‡þ_ty³_ˆ
	mty³
; 
	mty³_r_
[
PADR_
(acl_type_t)];

1147 
	maþp_l_
[
PADL_
(
aþ
 *)]; aþ * 
	maþp
; 
	maþp_r_
[
PADR_
(acl *)];

1149 
	s__aþ_£t_lšk_¬gs
 {

1150 
	m·th_l_
[
PADL_
(cÚ¡ *)]; cÚ¡ * 
	m·th
; 
	m·th_r_
[
PADR_
(const *)];

1151 
	mty³_l_
[
PADL_
(
aþ_ty³_t
)];‡þ_ty³_ˆ
	mty³
; 
	mty³_r_
[
PADR_
(acl_type_t)];

1152 
	maþp_l_
[
PADL_
(
aþ
 *)]; aþ * 
	maþp
; 
	maþp_r_
[
PADR_
(acl *)];

1154 
	s__aþ_d–‘e_lšk_¬gs
 {

1155 
	m·th_l_
[
PADL_
(cÚ¡ *)]; cÚ¡ * 
	m·th
; 
	m·th_r_
[
PADR_
(const *)];

1156 
	mty³_l_
[
PADL_
(
aþ_ty³_t
)];‡þ_ty³_ˆ
	mty³
; 
	mty³_r_
[
PADR_
(acl_type_t)];

1158 
	s__aþ_aþcheck_lšk_¬gs
 {

1159 
	m·th_l_
[
PADL_
(cÚ¡ *)]; cÚ¡ * 
	m·th
; 
	m·th_r_
[
PADR_
(const *)];

1160 
	mty³_l_
[
PADL_
(
aþ_ty³_t
)];‡þ_ty³_ˆ
	mty³
; 
	mty³_r_
[
PADR_
(acl_type_t)];

1161 
	maþp_l_
[
PADL_
(
aþ
 *)]; aþ * 
	maþp
; 
	maþp_r_
[
PADR_
(acl *)];

1163 
	ssigwa™_¬gs
 {

1164 
	m£t_l_
[
PADL_
(cÚ¡ 
sig£t_t
 *)]; cÚ¡ sig£t_ˆ* 
	m£t
; 
	m£t_r_
[
PADR_
(const sigset_t *)];

1165 
	msig_l_
[
PADL_
(*)]; * 
	msig
; 
	msig_r_
[
PADR_
(*)];

1167 
	sthr_ü—‹_¬gs
 {

1168 
	mùx_l_
[
PADL_
(
ucÚ‹xt_t
 *)]; ucÚ‹xt_ˆ* 
	mùx
; 
	mùx_r_
[
PADR_
(ucontext_t *)];

1169 
	mid_l_
[
PADL_
(*)]; * 
	mid
; 
	mid_r_
[
PADR_
(*)];

1170 
	mæags_l_
[
PADL_
()]; 
	mæags
; 
	mæags_r_
[
PADR_
()];

1172 
	sthr_ex™_¬gs
 {

1173 
	m¡©e_l_
[
PADL_
(*)]; * 
	m¡©e
; 
	m¡©e_r_
[
PADR_
(*)];

1175 
	sthr_£lf_¬gs
 {

1176 
	mid_l_
[
PADL_
(*)]; * 
	mid
; 
	mid_r_
[
PADR_
(*)];

1178 
	sthr_kžl_¬gs
 {

1179 
	mid_l_
[
PADL_
()]; 
	mid
; 
	mid_r_
[
PADR_
()];

1180 
	msig_l_
[
PADL_
()]; 
	msig
; 
	msig_r_
[
PADR_
()];

1182 
	sjaž_©ch_¬gs
 {

1183 
	mjid_l_
[
PADL_
()]; 
	mjid
; 
	mjid_r_
[
PADR_
()];

1185 
	sex‰r_li¡_fd_¬gs
 {

1186 
	mfd_l_
[
PADL_
()]; 
	mfd
; 
	mfd_r_
[
PADR_
()];

1187 
	m©ŒÇme¥aû_l_
[
PADL_
()]; 
	m©ŒÇme¥aû
; 
	m©ŒÇme¥aû_r_
[
PADR_
()];

1188 
	md©a_l_
[
PADL_
(*)]; * 
	md©a
; 
	md©a_r_
[
PADR_
(*)];

1189 
	mnby‹s_l_
[
PADL_
(
size_t
)]; size_ˆ
	mnby‹s
; 
	mnby‹s_r_
[
PADR_
(size_t)];

1191 
	sex‰r_li¡_fže_¬gs
 {

1192 
	m·th_l_
[
PADL_
(cÚ¡ *)]; cÚ¡ * 
	m·th
; 
	m·th_r_
[
PADR_
(const *)];

1193 
	m©ŒÇme¥aû_l_
[
PADL_
()]; 
	m©ŒÇme¥aû
; 
	m©ŒÇme¥aû_r_
[
PADR_
()];

1194 
	md©a_l_
[
PADL_
(*)]; * 
	md©a
; 
	md©a_r_
[
PADR_
(*)];

1195 
	mnby‹s_l_
[
PADL_
(
size_t
)]; size_ˆ
	mnby‹s
; 
	mnby‹s_r_
[
PADR_
(size_t)];

1197 
	sex‰r_li¡_lšk_¬gs
 {

1198 
	m·th_l_
[
PADL_
(cÚ¡ *)]; cÚ¡ * 
	m·th
; 
	m·th_r_
[
PADR_
(const *)];

1199 
	m©ŒÇme¥aû_l_
[
PADL_
()]; 
	m©ŒÇme¥aû
; 
	m©ŒÇme¥aû_r_
[
PADR_
()];

1200 
	md©a_l_
[
PADL_
(*)]; * 
	md©a
; 
	md©a_r_
[
PADR_
(*)];

1201 
	mnby‹s_l_
[
PADL_
(
size_t
)]; size_ˆ
	mnby‹s
; 
	mnby‹s_r_
[
PADR_
(size_t)];

1203 
	sk£m_timedwa™_¬gs
 {

1204 
	mid_l_
[
PADL_
(
£mid_t
)]; semid_ˆ
	mid
; 
	mid_r_
[
PADR_
(semid_t)];

1205 
	mab¡ime_l_
[
PADL_
(cÚ¡ 
time¥ec
 *)]; cÚ¡ time¥eø* 
	mab¡ime
; 
	mab¡ime_r_
[
PADR_
(const timespec *)];

1207 
	sthr_su¥’d_¬gs
 {

1208 
	mtimeout_l_
[
PADL_
(cÚ¡ 
time¥ec
 *)]; cÚ¡ time¥eø* 
	mtimeout
; 
	mtimeout_r_
[
PADR_
(const timespec *)];

1210 
	sthr_wake_¬gs
 {

1211 
	mid_l_
[
PADL_
()]; 
	mid
; 
	mid_r_
[
PADR_
()];

1213 
	sklduÆßdf_¬gs
 {

1214 
	mfžeid_l_
[
PADL_
()]; 
	mfžeid
; 
	mfžeid_r_
[
PADR_
()];

1215 
	mæags_l_
[
PADL_
()]; 
	mæags
; 
	mæags_r_
[
PADR_
()];

1217 
	saud™_¬gs
 {

1218 
	m»cÜd_l_
[
PADL_
(cÚ¡ *)]; cÚ¡ * 
	m»cÜd
; 
	m»cÜd_r_
[
PADR_
(const *)];

1219 
	mËngth_l_
[
PADL_
(
u_št
)]; u_šˆ
	mËngth
; 
	mËngth_r_
[
PADR_
(u_int)];

1221 
	saud™Ú_¬gs
 {

1222 
	mcmd_l_
[
PADL_
()]; 
	mcmd
; 
	mcmd_r_
[
PADR_
()];

1223 
	md©a_l_
[
PADL_
(*)]; * 
	md©a
; 
	md©a_r_
[
PADR_
(*)];

1224 
	mËngth_l_
[
PADL_
(
u_št
)]; u_šˆ
	mËngth
; 
	mËngth_r_
[
PADR_
(u_int)];

1226 
	sg‘auid_¬gs
 {

1227 
	mauid_l_
[
PADL_
(
uid_t
 *)]; uid_ˆ* 
	mauid
; 
	mauid_r_
[
PADR_
(uid_t *)];

1229 
	s£uid_¬gs
 {

1230 
	mauid_l_
[
PADL_
(
uid_t
 *)]; uid_ˆ* 
	mauid
; 
	mauid_r_
[
PADR_
(uid_t *)];

1232 
	sg‘aud™_¬gs
 {

1233 
	maud™šfo_l_
[
PADL_
(
aud™šfo
 *)]; aud™šfØ* 
	maud™šfo
; 
	maud™šfo_r_
[
PADR_
(auditinfo *)];

1235 
	s£ud™_¬gs
 {

1236 
	maud™šfo_l_
[
PADL_
(
aud™šfo
 *)]; aud™šfØ* 
	maud™šfo
; 
	maud™šfo_r_
[
PADR_
(auditinfo *)];

1238 
	sg‘aud™_addr_¬gs
 {

1239 
	maud™šfo_addr_l_
[
PADL_
(
aud™šfo_addr
 *)]; aud™šfo_add¸* 
	maud™šfo_addr
; 
	maud™šfo_addr_r_
[
PADR_
(auditinfo_addr *)];

1240 
	mËngth_l_
[
PADL_
(
u_št
)]; u_šˆ
	mËngth
; 
	mËngth_r_
[
PADR_
(u_int)];

1242 
	s£ud™_addr_¬gs
 {

1243 
	maud™šfo_addr_l_
[
PADL_
(
aud™šfo_addr
 *)]; aud™šfo_add¸* 
	maud™šfo_addr
; 
	maud™šfo_addr_r_
[
PADR_
(auditinfo_addr *)];

1244 
	mËngth_l_
[
PADL_
(
u_št
)]; u_šˆ
	mËngth
; 
	mËngth_r_
[
PADR_
(u_int)];

1246 
	saud™ùl_¬gs
 {

1247 
	m·th_l_
[
PADL_
(*)]; * 
	m·th
; 
	m·th_r_
[
PADR_
(*)];

1249 
	s_umtx_Ý_¬gs
 {

1250 
	mobj_l_
[
PADL_
(*)]; * 
	mobj
; 
	mobj_r_
[
PADR_
(*)];

1251 
	mÝ_l_
[
PADL_
()]; 
	mÝ
; 
	mÝ_r_
[
PADR_
()];

1252 
	mv®_l_
[
PADL_
(
u_lÚg
)]; u_lÚg 
	mv®
; 
	mv®_r_
[
PADR_
(u_long)];

1253 
	muaddr1_l_
[
PADL_
(*)]; * 
	muaddr1
; 
	muaddr1_r_
[
PADR_
(*)];

1254 
	muaddr2_l_
[
PADL_
(*)]; * 
	muaddr2
; 
	muaddr2_r_
[
PADR_
(*)];

1256 
	sthr_Ãw_¬gs
 {

1257 
	m·¿m_l_
[
PADL_
(
thr_·¿m
 *)]; thr_·¿m * 
	m·¿m
; 
	m·¿m_r_
[
PADR_
(thr_param *)];

1258 
	m·¿m_size_l_
[
PADL_
()]; 
	m·¿m_size
; 
	m·¿m_size_r_
[
PADR_
()];

1260 
	ssigqueue_¬gs
 {

1261 
	mpid_l_
[
PADL_
(
pid_t
)];…id_ˆ
	mpid
; 
	mpid_r_
[
PADR_
(pid_t)];

1262 
	msignum_l_
[
PADL_
()]; 
	msignum
; 
	msignum_r_
[
PADR_
()];

1263 
	mv®ue_l_
[
PADL_
(*)]; * 
	mv®ue
; 
	mv®ue_r_
[
PADR_
(*)];

1265 
	skmq_Ý’_¬gs
 {

1266 
	m·th_l_
[
PADL_
(cÚ¡ *)]; cÚ¡ * 
	m·th
; 
	m·th_r_
[
PADR_
(const *)];

1267 
	mæags_l_
[
PADL_
()]; 
	mæags
; 
	mæags_r_
[
PADR_
()];

1268 
	mmode_l_
[
PADL_
(
mode_t
)]; mode_ˆ
	mmode
; 
	mmode_r_
[
PADR_
(mode_t)];

1269 
	m©Œ_l_
[
PADL_
(cÚ¡ 
mq_©Œ
 *)]; cÚ¡ mq_©Œ * 
	m©Œ
; 
	m©Œ_r_
[
PADR_
(const mq_attr *)];

1271 
	skmq_£‰r_¬gs
 {

1272 
	mmqd_l_
[
PADL_
()]; 
	mmqd
; 
	mmqd_r_
[
PADR_
()];

1273 
	m©Œ_l_
[
PADL_
(cÚ¡ 
mq_©Œ
 *)]; cÚ¡ mq_©Œ * 
	m©Œ
; 
	m©Œ_r_
[
PADR_
(const mq_attr *)];

1274 
	mß‰r_l_
[
PADL_
(
mq_©Œ
 *)]; mq_©Œ * 
	mß‰r
; 
	mß‰r_r_
[
PADR_
(mq_attr *)];

1276 
	skmq_timed»ûive_¬gs
 {

1277 
	mmqd_l_
[
PADL_
()]; 
	mmqd
; 
	mmqd_r_
[
PADR_
()];

1278 
	mmsg_±r_l_
[
PADL_
(*)]; * 
	mmsg_±r
; 
	mmsg_±r_r_
[
PADR_
(*)];

1279 
	mmsg_Ën_l_
[
PADL_
(
size_t
)]; size_ˆ
	mmsg_Ën
; 
	mmsg_Ën_r_
[
PADR_
(size_t)];

1280 
	mmsg_´io_l_
[
PADL_
(*)]; * 
	mmsg_´io
; 
	mmsg_´io_r_
[
PADR_
(*)];

1281 
	mabs_timeout_l_
[
PADL_
(cÚ¡ 
time¥ec
 *)]; cÚ¡ time¥eø* 
	mabs_timeout
; 
	mabs_timeout_r_
[
PADR_
(const timespec *)];

1283 
	skmq_timed£nd_¬gs
 {

1284 
	mmqd_l_
[
PADL_
()]; 
	mmqd
; 
	mmqd_r_
[
PADR_
()];

1285 
	mmsg_±r_l_
[
PADL_
(cÚ¡ *)]; cÚ¡ * 
	mmsg_±r
; 
	mmsg_±r_r_
[
PADR_
(const *)];

1286 
	mmsg_Ën_l_
[
PADL_
(
size_t
)]; size_ˆ
	mmsg_Ën
; 
	mmsg_Ën_r_
[
PADR_
(size_t)];

1287 
	mmsg_´io_l_
[
PADL_
()]; 
	mmsg_´io
; 
	mmsg_´io_r_
[
PADR_
()];

1288 
	mabs_timeout_l_
[
PADL_
(cÚ¡ 
time¥ec
 *)]; cÚ¡ time¥eø* 
	mabs_timeout
; 
	mabs_timeout_r_
[
PADR_
(const timespec *)];

1290 
	skmq_nÙify_¬gs
 {

1291 
	mmqd_l_
[
PADL_
()]; 
	mmqd
; 
	mmqd_r_
[
PADR_
()];

1292 
	msigev_l_
[
PADL_
(cÚ¡ 
sigev’t
 *)]; cÚ¡ sigev’ˆ* 
	msigev
; 
	msigev_r_
[
PADR_
(const sigevent *)];

1294 
	skmq_uÆšk_¬gs
 {

1295 
	m·th_l_
[
PADL_
(cÚ¡ *)]; cÚ¡ * 
	m·th
; 
	m·th_r_
[
PADR_
(const *)];

1297 
	sabÜt2_¬gs
 {

1298 
	mwhy_l_
[
PADL_
(cÚ¡ *)]; cÚ¡ * 
	mwhy
; 
	mwhy_r_
[
PADR_
(const *)];

1299 
	mÇrgs_l_
[
PADL_
()]; 
	mÇrgs
; 
	mÇrgs_r_
[
PADR_
()];

1300 
	m¬gs_l_
[
PADL_
(**)]; ** 
	m¬gs
; 
	m¬gs_r_
[
PADR_
(**)];

1302 
	sthr_£t_Çme_¬gs
 {

1303 
	mid_l_
[
PADL_
()]; 
	mid
; 
	mid_r_
[
PADR_
()];

1304 
	mÇme_l_
[
PADL_
(cÚ¡ *)]; cÚ¡ * 
	mÇme
; 
	mÇme_r_
[
PADR_
(const *)];

1306 
	saio_fsync_¬gs
 {

1307 
	mÝ_l_
[
PADL_
()]; 
	mÝ
; 
	mÝ_r_
[
PADR_
()];

1308 
	maiocbp_l_
[
PADL_
(
aiocb
 *)]; aiocb * 
	maiocbp
; 
	maiocbp_r_
[
PADR_
(aiocb *)];

1310 
	s¹´io_th»ad_¬gs
 {

1311 
	mfunùiÚ_l_
[
PADL_
()]; 
	mfunùiÚ
; 
	mfunùiÚ_r_
[
PADR_
()];

1312 
	mlwpid_l_
[
PADL_
(
lwpid_t
)];†wpid_ˆ
	mlwpid
; 
	mlwpid_r_
[
PADR_
(lwpid_t)];

1313 
	m¹p_l_
[
PADL_
(
¹´io
 *)]; ¹´iØ* 
	m¹p
; 
	m¹p_r_
[
PADR_
(rtprio *)];

1315 
	ssùp_³–off_¬gs
 {

1316 
	msd_l_
[
PADL_
()]; 
	msd
; 
	msd_r_
[
PADR_
()];

1317 
	mÇme_l_
[
PADL_
(
ušt32_t
)]; ušt32_ˆ
	mÇme
; 
	mÇme_r_
[
PADR_
(uint32_t)];

1319 
	ssùp_g’”ic_£ndmsg_¬gs
 {

1320 
	msd_l_
[
PADL_
()]; 
	msd
; 
	msd_r_
[
PADR_
()];

1321 
	mmsg_l_
[
PADL_
(
ÿddr_t
)]; caddr_ˆ
	mmsg
; 
	mmsg_r_
[
PADR_
(caddr_t)];

1322 
	mmËn_l_
[
PADL_
()]; 
	mmËn
; 
	mmËn_r_
[
PADR_
()];

1323 
	mto_l_
[
PADL_
(
ÿddr_t
)]; caddr_ˆ
	mto
; 
	mto_r_
[
PADR_
(caddr_t)];

1324 
	mtÞ’_l_
[
PADL_
(
__sockËn_t
)]; __sockËn_ˆ
	mtÞ’
; 
	mtÞ’_r_
[
PADR_
(__socklen_t)];

1325 
	msšfo_l_
[
PADL_
(
sùp_¢drcvšfo
 *)]; sùp_¢drcvšfØ* 
	msšfo
; 
	msšfo_r_
[
PADR_
(sctp_sndrcvinfo *)];

1326 
	mæags_l_
[
PADL_
()]; 
	mæags
; 
	mæags_r_
[
PADR_
()];

1328 
	ssùp_g’”ic_£ndmsg_iov_¬gs
 {

1329 
	msd_l_
[
PADL_
()]; 
	msd
; 
	msd_r_
[
PADR_
()];

1330 
	miov_l_
[
PADL_
(
iovec
 *)]; ioveø* 
	miov
; 
	miov_r_
[
PADR_
(iovec *)];

1331 
	miovËn_l_
[
PADL_
()]; 
	miovËn
; 
	miovËn_r_
[
PADR_
()];

1332 
	mto_l_
[
PADL_
(
ÿddr_t
)]; caddr_ˆ
	mto
; 
	mto_r_
[
PADR_
(caddr_t)];

1333 
	mtÞ’_l_
[
PADL_
(
__sockËn_t
)]; __sockËn_ˆ
	mtÞ’
; 
	mtÞ’_r_
[
PADR_
(__socklen_t)];

1334 
	msšfo_l_
[
PADL_
(
sùp_¢drcvšfo
 *)]; sùp_¢drcvšfØ* 
	msšfo
; 
	msšfo_r_
[
PADR_
(sctp_sndrcvinfo *)];

1335 
	mæags_l_
[
PADL_
()]; 
	mæags
; 
	mæags_r_
[
PADR_
()];

1337 
	ssùp_g’”ic_»cvmsg_¬gs
 {

1338 
	msd_l_
[
PADL_
()]; 
	msd
; 
	msd_r_
[
PADR_
()];

1339 
	miov_l_
[
PADL_
(
iovec
 *)]; ioveø* 
	miov
; 
	miov_r_
[
PADR_
(iovec *)];

1340 
	miovËn_l_
[
PADL_
()]; 
	miovËn
; 
	miovËn_r_
[
PADR_
()];

1341 
	mäom_l_
[
PADL_
(
sockaddr
 *)]; sockadd¸* 
	mäom
; 
	mäom_r_
[
PADR_
(sockaddr *)];

1342 
	mäomËÇddr_l_
[
PADL_
(
__sockËn_t
 *)]; __sockËn_ˆ* 
	mäomËÇddr
; 
	mäomËÇddr_r_
[
PADR_
(__socklen_t *)];

1343 
	msšfo_l_
[
PADL_
(
sùp_¢drcvšfo
 *)]; sùp_¢drcvšfØ* 
	msšfo
; 
	msšfo_r_
[
PADR_
(sctp_sndrcvinfo *)];

1344 
	mmsg_æags_l_
[
PADL_
(*)]; * 
	mmsg_æags
; 
	mmsg_æags_r_
[
PADR_
(*)];

1346 
	s´—d_¬gs
 {

1347 
	mfd_l_
[
PADL_
()]; 
	mfd
; 
	mfd_r_
[
PADR_
()];

1348 
	mbuf_l_
[
PADL_
(*)]; * 
	mbuf
; 
	mbuf_r_
[
PADR_
(*)];

1349 
	mnby‹_l_
[
PADL_
(
size_t
)]; size_ˆ
	mnby‹
; 
	mnby‹_r_
[
PADR_
(size_t)];

1350 
	moff£t_l_
[
PADL_
(
off_t
)]; off_ˆ
	moff£t
; 
	moff£t_r_
[
PADR_
(off_t)];

1352 
	spwr™e_¬gs
 {

1353 
	mfd_l_
[
PADL_
()]; 
	mfd
; 
	mfd_r_
[
PADR_
()];

1354 
	mbuf_l_
[
PADL_
(cÚ¡ *)]; cÚ¡ * 
	mbuf
; 
	mbuf_r_
[
PADR_
(const *)];

1355 
	mnby‹_l_
[
PADL_
(
size_t
)]; size_ˆ
	mnby‹
; 
	mnby‹_r_
[
PADR_
(size_t)];

1356 
	moff£t_l_
[
PADL_
(
off_t
)]; off_ˆ
	moff£t
; 
	moff£t_r_
[
PADR_
(off_t)];

1358 
	smm­_¬gs
 {

1359 
	maddr_l_
[
PADL_
(
ÿddr_t
)]; caddr_ˆ
	maddr
; 
	maddr_r_
[
PADR_
(caddr_t)];

1360 
	mËn_l_
[
PADL_
(
size_t
)]; size_ˆ
	mËn
; 
	mËn_r_
[
PADR_
(size_t)];

1361 
	m´Ù_l_
[
PADL_
()]; 
	m´Ù
; 
	m´Ù_r_
[
PADR_
()];

1362 
	mæags_l_
[
PADL_
()]; 
	mæags
; 
	mæags_r_
[
PADR_
()];

1363 
	mfd_l_
[
PADL_
()]; 
	mfd
; 
	mfd_r_
[
PADR_
()];

1364 
	mpos_l_
[
PADL_
(
off_t
)]; off_ˆ
	mpos
; 
	mpos_r_
[
PADR_
(off_t)];

1366 
	sl£ek_¬gs
 {

1367 
	mfd_l_
[
PADL_
()]; 
	mfd
; 
	mfd_r_
[
PADR_
()];

1368 
	moff£t_l_
[
PADL_
(
off_t
)]; off_ˆ
	moff£t
; 
	moff£t_r_
[
PADR_
(off_t)];

1369 
	mwh’û_l_
[
PADL_
()]; 
	mwh’û
; 
	mwh’û_r_
[
PADR_
()];

1371 
	sŒunÿ‹_¬gs
 {

1372 
	m·th_l_
[
PADL_
(*)]; * 
	m·th
; 
	m·th_r_
[
PADR_
(*)];

1373 
	mËngth_l_
[
PADL_
(
off_t
)]; off_ˆ
	mËngth
; 
	mËngth_r_
[
PADR_
(off_t)];

1375 
	sárunÿ‹_¬gs
 {

1376 
	mfd_l_
[
PADL_
()]; 
	mfd
; 
	mfd_r_
[
PADR_
()];

1377 
	mËngth_l_
[
PADL_
(
off_t
)]; off_ˆ
	mËngth
; 
	mËngth_r_
[
PADR_
(off_t)];

1379 
	sthr_kžl2_¬gs
 {

1380 
	mpid_l_
[
PADL_
(
pid_t
)];…id_ˆ
	mpid
; 
	mpid_r_
[
PADR_
(pid_t)];

1381 
	mid_l_
[
PADL_
()]; 
	mid
; 
	mid_r_
[
PADR_
()];

1382 
	msig_l_
[
PADL_
()]; 
	msig
; 
	msig_r_
[
PADR_
()];

1384 
	sshm_Ý’_¬gs
 {

1385 
	m·th_l_
[
PADL_
(cÚ¡ *)]; cÚ¡ * 
	m·th
; 
	m·th_r_
[
PADR_
(const *)];

1386 
	mæags_l_
[
PADL_
()]; 
	mæags
; 
	mæags_r_
[
PADR_
()];

1387 
	mmode_l_
[
PADL_
(
mode_t
)]; mode_ˆ
	mmode
; 
	mmode_r_
[
PADR_
(mode_t)];

1389 
	sshm_uÆšk_¬gs
 {

1390 
	m·th_l_
[
PADL_
(cÚ¡ *)]; cÚ¡ * 
	m·th
; 
	m·th_r_
[
PADR_
(const *)];

1392 
	sýu£t_¬gs
 {

1393 
	m£tid_l_
[
PADL_
(
ýu£tid_t
 *)]; cpu£tid_ˆ* 
	m£tid
; 
	m£tid_r_
[
PADR_
(cpusetid_t *)];

1395 
	sýu£t_£tid_¬gs
 {

1396 
	mwhich_l_
[
PADL_
(
ýuwhich_t
)]; cpuwhich_ˆ
	mwhich
; 
	mwhich_r_
[
PADR_
(cpuwhich_t)];

1397 
	mid_l_
[
PADL_
(
id_t
)]; id_ˆ
	mid
; 
	mid_r_
[
PADR_
(id_t)];

1398 
	m£tid_l_
[
PADL_
(
ýu£tid_t
)]; cpu£tid_ˆ
	m£tid
; 
	m£tid_r_
[
PADR_
(cpusetid_t)];

1400 
	sýu£t_g‘id_¬gs
 {

1401 
	mËv–_l_
[
PADL_
(
ýuËv–_t
)]; cpuËv–_ˆ
	mËv–
; 
	mËv–_r_
[
PADR_
(cpulevel_t)];

1402 
	mwhich_l_
[
PADL_
(
ýuwhich_t
)]; cpuwhich_ˆ
	mwhich
; 
	mwhich_r_
[
PADR_
(cpuwhich_t)];

1403 
	mid_l_
[
PADL_
(
id_t
)]; id_ˆ
	mid
; 
	mid_r_
[
PADR_
(id_t)];

1404 
	m£tid_l_
[
PADL_
(
ýu£tid_t
 *)]; cpu£tid_ˆ* 
	m£tid
; 
	m£tid_r_
[
PADR_
(cpusetid_t *)];

1406 
	sýu£t_g‘affš™y_¬gs
 {

1407 
	mËv–_l_
[
PADL_
(
ýuËv–_t
)]; cpuËv–_ˆ
	mËv–
; 
	mËv–_r_
[
PADR_
(cpulevel_t)];

1408 
	mwhich_l_
[
PADL_
(
ýuwhich_t
)]; cpuwhich_ˆ
	mwhich
; 
	mwhich_r_
[
PADR_
(cpuwhich_t)];

1409 
	mid_l_
[
PADL_
(
id_t
)]; id_ˆ
	mid
; 
	mid_r_
[
PADR_
(id_t)];

1410 
	mýu£tsize_l_
[
PADL_
(
size_t
)]; size_ˆ
	mýu£tsize
; 
	mýu£tsize_r_
[
PADR_
(size_t)];

1411 
	mmask_l_
[
PADL_
(
ýu£t_t
 *)]; cpu£t_ˆ* 
	mmask
; 
	mmask_r_
[
PADR_
(cpuset_t *)];

1413 
	sýu£t_£ffš™y_¬gs
 {

1414 
	mËv–_l_
[
PADL_
(
ýuËv–_t
)]; cpuËv–_ˆ
	mËv–
; 
	mËv–_r_
[
PADR_
(cpulevel_t)];

1415 
	mwhich_l_
[
PADL_
(
ýuwhich_t
)]; cpuwhich_ˆ
	mwhich
; 
	mwhich_r_
[
PADR_
(cpuwhich_t)];

1416 
	mid_l_
[
PADL_
(
id_t
)]; id_ˆ
	mid
; 
	mid_r_
[
PADR_
(id_t)];

1417 
	mýu£tsize_l_
[
PADL_
(
size_t
)]; size_ˆ
	mýu£tsize
; 
	mýu£tsize_r_
[
PADR_
(size_t)];

1418 
	mmask_l_
[
PADL_
(cÚ¡ 
ýu£t_t
 *)]; cÚ¡ cpu£t_ˆ* 
	mmask
; 
	mmask_r_
[
PADR_
(const cpuset_t *)];

1420 
	sçcûs§t_¬gs
 {

1421 
	mfd_l_
[
PADL_
()]; 
	mfd
; 
	mfd_r_
[
PADR_
()];

1422 
	m·th_l_
[
PADL_
(*)]; * 
	m·th
; 
	m·th_r_
[
PADR_
(*)];

1423 
	mamode_l_
[
PADL_
()]; 
	mamode
; 
	mamode_r_
[
PADR_
()];

1424 
	mæag_l_
[
PADL_
()]; 
	mæag
; 
	mæag_r_
[
PADR_
()];

1426 
	sfchmod©_¬gs
 {

1427 
	mfd_l_
[
PADL_
()]; 
	mfd
; 
	mfd_r_
[
PADR_
()];

1428 
	m·th_l_
[
PADL_
(*)]; * 
	m·th
; 
	m·th_r_
[
PADR_
(*)];

1429 
	mmode_l_
[
PADL_
(
mode_t
)]; mode_ˆ
	mmode
; 
	mmode_r_
[
PADR_
(mode_t)];

1430 
	mæag_l_
[
PADL_
()]; 
	mæag
; 
	mæag_r_
[
PADR_
()];

1432 
	sfchowÇt_¬gs
 {

1433 
	mfd_l_
[
PADL_
()]; 
	mfd
; 
	mfd_r_
[
PADR_
()];

1434 
	m·th_l_
[
PADL_
(*)]; * 
	m·th
; 
	m·th_r_
[
PADR_
(*)];

1435 
	muid_l_
[
PADL_
(
uid_t
)]; uid_ˆ
	muid
; 
	muid_r_
[
PADR_
(uid_t)];

1436 
	mgid_l_
[
PADL_
(
gid_t
)]; gid_ˆ
	mgid
; 
	mgid_r_
[
PADR_
(gid_t)];

1437 
	mæag_l_
[
PADL_
()]; 
	mæag
; 
	mæag_r_
[
PADR_
()];

1439 
	sãxecve_¬gs
 {

1440 
	mfd_l_
[
PADL_
()]; 
	mfd
; 
	mfd_r_
[
PADR_
()];

1441 
	m¬gv_l_
[
PADL_
(**)]; ** 
	m¬gv
; 
	m¬gv_r_
[
PADR_
(**)];

1442 
	m’vv_l_
[
PADL_
(**)]; ** 
	m’vv
; 
	m’vv_r_
[
PADR_
(**)];

1444 
	sfutime§t_¬gs
 {

1445 
	mfd_l_
[
PADL_
()]; 
	mfd
; 
	mfd_r_
[
PADR_
()];

1446 
	m·th_l_
[
PADL_
(*)]; * 
	m·th
; 
	m·th_r_
[
PADR_
(*)];

1447 
	mtimes_l_
[
PADL_
(
timev®
 *)]; timev® * 
	mtimes
; 
	mtimes_r_
[
PADR_
(timeval *)];

1449 
	slšk©_¬gs
 {

1450 
	mfd1_l_
[
PADL_
()]; 
	mfd1
; 
	mfd1_r_
[
PADR_
()];

1451 
	m·th1_l_
[
PADL_
(*)]; * 
	m·th1
; 
	m·th1_r_
[
PADR_
(*)];

1452 
	mfd2_l_
[
PADL_
()]; 
	mfd2
; 
	mfd2_r_
[
PADR_
()];

1453 
	m·th2_l_
[
PADL_
(*)]; * 
	m·th2
; 
	m·th2_r_
[
PADR_
(*)];

1454 
	mæag_l_
[
PADL_
()]; 
	mæag
; 
	mæag_r_
[
PADR_
()];

1456 
	smkdœ©_¬gs
 {

1457 
	mfd_l_
[
PADL_
()]; 
	mfd
; 
	mfd_r_
[
PADR_
()];

1458 
	m·th_l_
[
PADL_
(*)]; * 
	m·th
; 
	m·th_r_
[
PADR_
(*)];

1459 
	mmode_l_
[
PADL_
(
mode_t
)]; mode_ˆ
	mmode
; 
	mmode_r_
[
PADR_
(mode_t)];

1461 
	smkfifßt_¬gs
 {

1462 
	mfd_l_
[
PADL_
()]; 
	mfd
; 
	mfd_r_
[
PADR_
()];

1463 
	m·th_l_
[
PADL_
(*)]; * 
	m·th
; 
	m·th_r_
[
PADR_
(*)];

1464 
	mmode_l_
[
PADL_
(
mode_t
)]; mode_ˆ
	mmode
; 
	mmode_r_
[
PADR_
(mode_t)];

1466 
	sÝ’©_¬gs
 {

1467 
	mfd_l_
[
PADL_
()]; 
	mfd
; 
	mfd_r_
[
PADR_
()];

1468 
	m·th_l_
[
PADL_
(*)]; * 
	m·th
; 
	m·th_r_
[
PADR_
(*)];

1469 
	mæag_l_
[
PADL_
()]; 
	mæag
; 
	mæag_r_
[
PADR_
()];

1470 
	mmode_l_
[
PADL_
(
mode_t
)]; mode_ˆ
	mmode
; 
	mmode_r_
[
PADR_
(mode_t)];

1472 
	s»adlšk©_¬gs
 {

1473 
	mfd_l_
[
PADL_
()]; 
	mfd
; 
	mfd_r_
[
PADR_
()];

1474 
	m·th_l_
[
PADL_
(*)]; * 
	m·th
; 
	m·th_r_
[
PADR_
(*)];

1475 
	mbuf_l_
[
PADL_
(*)]; * 
	mbuf
; 
	mbuf_r_
[
PADR_
(*)];

1476 
	mbufsize_l_
[
PADL_
(
size_t
)]; size_ˆ
	mbufsize
; 
	mbufsize_r_
[
PADR_
(size_t)];

1478 
	s»Çm—t_¬gs
 {

1479 
	mÞdfd_l_
[
PADL_
()]; 
	mÞdfd
; 
	mÞdfd_r_
[
PADR_
()];

1480 
	mÞd_l_
[
PADL_
(*)]; * 
	mÞd
; 
	mÞd_r_
[
PADR_
(*)];

1481 
	mÃwfd_l_
[
PADL_
()]; 
	mÃwfd
; 
	mÃwfd_r_
[
PADR_
()];

1482 
	mÃw_l_
[
PADL_
(*)]; * 
	mÃw
; 
	mÃw_r_
[
PADR_
(*)];

1484 
	ssymlšk©_¬gs
 {

1485 
	m·th1_l_
[
PADL_
(*)]; * 
	m·th1
; 
	m·th1_r_
[
PADR_
(*)];

1486 
	mfd_l_
[
PADL_
()]; 
	mfd
; 
	mfd_r_
[
PADR_
()];

1487 
	m·th2_l_
[
PADL_
(*)]; * 
	m·th2
; 
	m·th2_r_
[
PADR_
(*)];

1489 
	suÆšk©_¬gs
 {

1490 
	mfd_l_
[
PADL_
()]; 
	mfd
; 
	mfd_r_
[
PADR_
()];

1491 
	m·th_l_
[
PADL_
(*)]; * 
	m·th
; 
	m·th_r_
[
PADR_
(*)];

1492 
	mæag_l_
[
PADL_
()]; 
	mæag
; 
	mæag_r_
[
PADR_
()];

1494 
	sposix_Ý’±_¬gs
 {

1495 
	mæags_l_
[
PADL_
()]; 
	mæags
; 
	mæags_r_
[
PADR_
()];

1497 
	sgssd_sysÿÎ_¬gs
 {

1498 
	m·th_l_
[
PADL_
(*)]; * 
	m·th
; 
	m·th_r_
[
PADR_
(*)];

1500 
	sjaž_g‘_¬gs
 {

1501 
	miovp_l_
[
PADL_
(
iovec
 *)]; ioveø* 
	miovp
; 
	miovp_r_
[
PADR_
(iovec *)];

1502 
	miovút_l_
[
PADL_
()]; 
	miovút
; 
	miovút_r_
[
PADR_
()];

1503 
	mæags_l_
[
PADL_
()]; 
	mæags
; 
	mæags_r_
[
PADR_
()];

1505 
	sjaž_£t_¬gs
 {

1506 
	miovp_l_
[
PADL_
(
iovec
 *)]; ioveø* 
	miovp
; 
	miovp_r_
[
PADR_
(iovec *)];

1507 
	miovút_l_
[
PADL_
()]; 
	miovút
; 
	miovút_r_
[
PADR_
()];

1508 
	mæags_l_
[
PADL_
()]; 
	mæags
; 
	mæags_r_
[
PADR_
()];

1510 
	sjaž_»move_¬gs
 {

1511 
	mjid_l_
[
PADL_
()]; 
	mjid
; 
	mjid_r_
[
PADR_
()];

1513 
	sþo£äom_¬gs
 {

1514 
	mlowfd_l_
[
PADL_
()]; 
	mlowfd
; 
	mlowfd_r_
[
PADR_
()];

1516 
	s__£mùl_¬gs
 {

1517 
	m£mid_l_
[
PADL_
()]; 
	m£mid
; 
	m£mid_r_
[
PADR_
()];

1518 
	m£mnum_l_
[
PADL_
()]; 
	m£mnum
; 
	m£mnum_r_
[
PADR_
()];

1519 
	mcmd_l_
[
PADL_
()]; 
	mcmd
; 
	mcmd_r_
[
PADR_
()];

1520 
	m¬g_l_
[
PADL_
(
£mun
 *)]; £muÀ* 
	m¬g
; 
	m¬g_r_
[
PADR_
(semun *)];

1522 
	smsgùl_¬gs
 {

1523 
	mmsqid_l_
[
PADL_
()]; 
	mmsqid
; 
	mmsqid_r_
[
PADR_
()];

1524 
	mcmd_l_
[
PADL_
()]; 
	mcmd
; 
	mcmd_r_
[
PADR_
()];

1525 
	mbuf_l_
[
PADL_
(
msqid_ds
 *)]; msqid_d * 
	mbuf
; 
	mbuf_r_
[
PADR_
(msqid_ds *)];

1527 
	sshmùl_¬gs
 {

1528 
	mshmid_l_
[
PADL_
()]; 
	mshmid
; 
	mshmid_r_
[
PADR_
()];

1529 
	mcmd_l_
[
PADL_
()]; 
	mcmd
; 
	mcmd_r_
[
PADR_
()];

1530 
	mbuf_l_
[
PADL_
(
shmid_ds
 *)]; shmid_d * 
	mbuf
; 
	mbuf_r_
[
PADR_
(shmid_ds *)];

1532 
	sÍ©hcÚf_¬gs
 {

1533 
	m·th_l_
[
PADL_
(*)]; * 
	m·th
; 
	m·th_r_
[
PADR_
(*)];

1534 
	mÇme_l_
[
PADL_
()]; 
	mÇme
; 
	mÇme_r_
[
PADR_
()];

1536 
	s__ÿp_rights_g‘_¬gs
 {

1537 
	mv”siÚ_l_
[
PADL_
()]; 
	mv”siÚ
; 
	mv”siÚ_r_
[
PADR_
()];

1538 
	mfd_l_
[
PADL_
()]; 
	mfd
; 
	mfd_r_
[
PADR_
()];

1539 
	mright¥_l_
[
PADL_
(
ÿp_rights_t
 *)]; c­_rights_ˆ* 
	mright¥
; 
	mright¥_r_
[
PADR_
(cap_rights_t *)];

1541 
	sÿp_’‹r_¬gs
 {

1542 
»gi¡”_t
 
	mdummy
;

1544 
	sÿp_g‘mode_¬gs
 {

1545 
	mmod•_l_
[
PADL_
(
u_št
 *)]; u_šˆ* 
	mmod•
; 
	mmod•_r_
[
PADR_
(u_int *)];

1547 
	spdfÜk_¬gs
 {

1548 
	mfdp_l_
[
PADL_
(*)]; * 
	mfdp
; 
	mfdp_r_
[
PADR_
(*)];

1549 
	mæags_l_
[
PADL_
()]; 
	mæags
; 
	mæags_r_
[
PADR_
()];

1551 
	spdkžl_¬gs
 {

1552 
	mfd_l_
[
PADL_
()]; 
	mfd
; 
	mfd_r_
[
PADR_
()];

1553 
	msignum_l_
[
PADL_
()]; 
	msignum
; 
	msignum_r_
[
PADR_
()];

1555 
	spdg‘pid_¬gs
 {

1556 
	mfd_l_
[
PADL_
()]; 
	mfd
; 
	mfd_r_
[
PADR_
()];

1557 
	mpidp_l_
[
PADL_
(
pid_t
 *)];…id_ˆ* 
	mpidp
; 
	mpidp_r_
[
PADR_
(pid_t *)];

1559 
	sp£Ëù_¬gs
 {

1560 
	mnd_l_
[
PADL_
()]; 
	mnd
; 
	mnd_r_
[
PADR_
()];

1561 
	mš_l_
[
PADL_
(
fd_£t
 *)]; fd_£ˆ* 
	mš
; 
	mš_r_
[
PADR_
(fd_set *)];

1562 
	mou_l_
[
PADL_
(
fd_£t
 *)]; fd_£ˆ* 
	mou
; 
	mou_r_
[
PADR_
(fd_set *)];

1563 
	mex_l_
[
PADL_
(
fd_£t
 *)]; fd_£ˆ* 
	mex
; 
	mex_r_
[
PADR_
(fd_set *)];

1564 
	mts_l_
[
PADL_
(cÚ¡ 
time¥ec
 *)]; cÚ¡ time¥eø* 
	mts
; 
	mts_r_
[
PADR_
(const timespec *)];

1565 
	msm_l_
[
PADL_
(cÚ¡ 
sig£t_t
 *)]; cÚ¡ sig£t_ˆ* 
	msm
; 
	msm_r_
[
PADR_
(const sigset_t *)];

1567 
	sg‘logšþass_¬gs
 {

1568 
	mÇmebuf_l_
[
PADL_
(*)]; * 
	mÇmebuf
; 
	mÇmebuf_r_
[
PADR_
(*)];

1569 
	mÇm–’_l_
[
PADL_
(
size_t
)]; size_ˆ
	mÇm–’
; 
	mÇm–’_r_
[
PADR_
(size_t)];

1571 
	s£Žogšþass_¬gs
 {

1572 
	mÇmebuf_l_
[
PADL_
(cÚ¡ *)]; cÚ¡ * 
	mÇmebuf
; 
	mÇmebuf_r_
[
PADR_
(const *)];

1574 
	srùl_g‘_¿cù_¬gs
 {

1575 
	mšbuå_l_
[
PADL_
(cÚ¡ *)]; cÚ¡ * 
	mšbuå
; 
	mšbuå_r_
[
PADR_
(const *)];

1576 
	mšbuæ’_l_
[
PADL_
(
size_t
)]; size_ˆ
	mšbuæ’
; 
	mšbuæ’_r_
[
PADR_
(size_t)];

1577 
	moutbuå_l_
[
PADL_
(*)]; * 
	moutbuå
; 
	moutbuå_r_
[
PADR_
(*)];

1578 
	moutbuæ’_l_
[
PADL_
(
size_t
)]; size_ˆ
	moutbuæ’
; 
	moutbuæ’_r_
[
PADR_
(size_t)];

1580 
	srùl_g‘_ruËs_¬gs
 {

1581 
	mšbuå_l_
[
PADL_
(cÚ¡ *)]; cÚ¡ * 
	mšbuå
; 
	mšbuå_r_
[
PADR_
(const *)];

1582 
	mšbuæ’_l_
[
PADL_
(
size_t
)]; size_ˆ
	mšbuæ’
; 
	mšbuæ’_r_
[
PADR_
(size_t)];

1583 
	moutbuå_l_
[
PADL_
(*)]; * 
	moutbuå
; 
	moutbuå_r_
[
PADR_
(*)];

1584 
	moutbuæ’_l_
[
PADL_
(
size_t
)]; size_ˆ
	moutbuæ’
; 
	moutbuæ’_r_
[
PADR_
(size_t)];

1586 
	srùl_g‘_lim™s_¬gs
 {

1587 
	mšbuå_l_
[
PADL_
(cÚ¡ *)]; cÚ¡ * 
	mšbuå
; 
	mšbuå_r_
[
PADR_
(const *)];

1588 
	mšbuæ’_l_
[
PADL_
(
size_t
)]; size_ˆ
	mšbuæ’
; 
	mšbuæ’_r_
[
PADR_
(size_t)];

1589 
	moutbuå_l_
[
PADL_
(*)]; * 
	moutbuå
; 
	moutbuå_r_
[
PADR_
(*)];

1590 
	moutbuæ’_l_
[
PADL_
(
size_t
)]; size_ˆ
	moutbuæ’
; 
	moutbuæ’_r_
[
PADR_
(size_t)];

1592 
	srùl_add_ruË_¬gs
 {

1593 
	mšbuå_l_
[
PADL_
(cÚ¡ *)]; cÚ¡ * 
	mšbuå
; 
	mšbuå_r_
[
PADR_
(const *)];

1594 
	mšbuæ’_l_
[
PADL_
(
size_t
)]; size_ˆ
	mšbuæ’
; 
	mšbuæ’_r_
[
PADR_
(size_t)];

1595 
	moutbuå_l_
[
PADL_
(*)]; * 
	moutbuå
; 
	moutbuå_r_
[
PADR_
(*)];

1596 
	moutbuæ’_l_
[
PADL_
(
size_t
)]; size_ˆ
	moutbuæ’
; 
	moutbuæ’_r_
[
PADR_
(size_t)];

1598 
	srùl_»move_ruË_¬gs
 {

1599 
	mšbuå_l_
[
PADL_
(cÚ¡ *)]; cÚ¡ * 
	mšbuå
; 
	mšbuå_r_
[
PADR_
(const *)];

1600 
	mšbuæ’_l_
[
PADL_
(
size_t
)]; size_ˆ
	mšbuæ’
; 
	mšbuæ’_r_
[
PADR_
(size_t)];

1601 
	moutbuå_l_
[
PADL_
(*)]; * 
	moutbuå
; 
	moutbuå_r_
[
PADR_
(*)];

1602 
	moutbuæ’_l_
[
PADL_
(
size_t
)]; size_ˆ
	moutbuæ’
; 
	moutbuæ’_r_
[
PADR_
(size_t)];

1604 
	sposix_çÎoÿ‹_¬gs
 {

1605 
	mfd_l_
[
PADL_
()]; 
	mfd
; 
	mfd_r_
[
PADR_
()];

1606 
	moff£t_l_
[
PADL_
(
off_t
)]; off_ˆ
	moff£t
; 
	moff£t_r_
[
PADR_
(off_t)];

1607 
	mËn_l_
[
PADL_
(
off_t
)]; off_ˆ
	mËn
; 
	mËn_r_
[
PADR_
(off_t)];

1609 
	sposix_çdvi£_¬gs
 {

1610 
	mfd_l_
[
PADL_
()]; 
	mfd
; 
	mfd_r_
[
PADR_
()];

1611 
	moff£t_l_
[
PADL_
(
off_t
)]; off_ˆ
	moff£t
; 
	moff£t_r_
[
PADR_
(off_t)];

1612 
	mËn_l_
[
PADL_
(
off_t
)]; off_ˆ
	mËn
; 
	mËn_r_
[
PADR_
(off_t)];

1613 
	madviû_l_
[
PADL_
()]; 
	madviû
; 
	madviû_r_
[
PADR_
()];

1615 
	swa™6_¬gs
 {

1616 
	midty³_l_
[
PADL_
(
idty³_t
)]; idty³_ˆ
	midty³
; 
	midty³_r_
[
PADR_
(idtype_t)];

1617 
	mid_l_
[
PADL_
(
id_t
)]; id_ˆ
	mid
; 
	mid_r_
[
PADR_
(id_t)];

1618 
	m¡©us_l_
[
PADL_
(*)]; * 
	m¡©us
; 
	m¡©us_r_
[
PADR_
(*)];

1619 
	mÝtiÚs_l_
[
PADL_
()]; 
	mÝtiÚs
; 
	mÝtiÚs_r_
[
PADR_
()];

1620 
	mwru§ge_l_
[
PADL_
(
__wru§ge
 *)]; __wru§g* 
	mwru§ge
; 
	mwru§ge_r_
[
PADR_
(__wrusage *)];

1621 
	mšfo_l_
[
PADL_
(
sigšfo_t
 *)]; sigšfo_ˆ* 
	mšfo
; 
	mšfo_r_
[
PADR_
(siginfo_t *)];

1623 
	sÿp_rights_lim™_¬gs
 {

1624 
	mfd_l_
[
PADL_
()]; 
	mfd
; 
	mfd_r_
[
PADR_
()];

1625 
	mright¥_l_
[
PADL_
(
ÿp_rights_t
 *)]; c­_rights_ˆ* 
	mright¥
; 
	mright¥_r_
[
PADR_
(cap_rights_t *)];

1627 
	sÿp_ioùls_lim™_¬gs
 {

1628 
	mfd_l_
[
PADL_
()]; 
	mfd
; 
	mfd_r_
[
PADR_
()];

1629 
	mcmds_l_
[
PADL_
(cÚ¡ 
u_lÚg
 *)]; cÚ¡ u_lÚg * 
	mcmds
; 
	mcmds_r_
[
PADR_
(const u_long *)];

1630 
	mncmds_l_
[
PADL_
(
size_t
)]; size_ˆ
	mncmds
; 
	mncmds_r_
[
PADR_
(size_t)];

1632 
	sÿp_ioùls_g‘_¬gs
 {

1633 
	mfd_l_
[
PADL_
()]; 
	mfd
; 
	mfd_r_
[
PADR_
()];

1634 
	mcmds_l_
[
PADL_
(
u_lÚg
 *)]; u_lÚg * 
	mcmds
; 
	mcmds_r_
[
PADR_
(u_long *)];

1635 
	mmaxcmds_l_
[
PADL_
(
size_t
)]; size_ˆ
	mmaxcmds
; 
	mmaxcmds_r_
[
PADR_
(size_t)];

1637 
	sÿp_fúŽs_lim™_¬gs
 {

1638 
	mfd_l_
[
PADL_
()]; 
	mfd
; 
	mfd_r_
[
PADR_
()];

1639 
	mfúŽrights_l_
[
PADL_
(
ušt32_t
)]; ušt32_ˆ
	mfúŽrights
; 
	mfúŽrights_r_
[
PADR_
(uint32_t)];

1641 
	sÿp_fúŽs_g‘_¬gs
 {

1642 
	mfd_l_
[
PADL_
()]; 
	mfd
; 
	mfd_r_
[
PADR_
()];

1643 
	mfúŽright¥_l_
[
PADL_
(
ušt32_t
 *)]; ušt32_ˆ* 
	mfúŽright¥
; 
	mfúŽright¥_r_
[
PADR_
(uint32_t *)];

1645 
	sbšd©_¬gs
 {

1646 
	mfd_l_
[
PADL_
()]; 
	mfd
; 
	mfd_r_
[
PADR_
()];

1647 
	ms_l_
[
PADL_
()]; 
	ms
; 
	ms_r_
[
PADR_
()];

1648 
	mÇme_l_
[
PADL_
(
ÿddr_t
)]; caddr_ˆ
	mÇme
; 
	mÇme_r_
[
PADR_
(caddr_t)];

1649 
	mÇm–’_l_
[
PADL_
()]; 
	mÇm–’
; 
	mÇm–’_r_
[
PADR_
()];

1651 
	scÚÃù©_¬gs
 {

1652 
	mfd_l_
[
PADL_
()]; 
	mfd
; 
	mfd_r_
[
PADR_
()];

1653 
	ms_l_
[
PADL_
()]; 
	ms
; 
	ms_r_
[
PADR_
()];

1654 
	mÇme_l_
[
PADL_
(
ÿddr_t
)]; caddr_ˆ
	mÇme
; 
	mÇme_r_
[
PADR_
(caddr_t)];

1655 
	mÇm–’_l_
[
PADL_
()]; 
	mÇm–’
; 
	mÇm–’_r_
[
PADR_
()];

1657 
	schæag§t_¬gs
 {

1658 
	mfd_l_
[
PADL_
()]; 
	mfd
; 
	mfd_r_
[
PADR_
()];

1659 
	m·th_l_
[
PADL_
(cÚ¡ *)]; cÚ¡ * 
	m·th
; 
	m·th_r_
[
PADR_
(const *)];

1660 
	mæags_l_
[
PADL_
(
u_lÚg
)]; u_lÚg 
	mæags
; 
	mæags_r_
[
PADR_
(u_long)];

1661 
	m©æag_l_
[
PADL_
()]; 
	m©æag
; 
	m©æag_r_
[
PADR_
()];

1663 
	sacû±4_¬gs
 {

1664 
	ms_l_
[
PADL_
()]; 
	ms
; 
	ms_r_
[
PADR_
()];

1665 
	mÇme_l_
[
PADL_
(
sockaddr
 *
__»¡riù
)]; sockadd¸*__»¡riù 
	mÇme
; 
	mÇme_r_
[
PADR_
(sockaddr *__restrict)];

1666 
	mªam–’_l_
[
PADL_
(
__sockËn_t
 *
__»¡riù
)]; __sockËn_ˆ*__»¡riù 
	mªam–’
; 
	mªam–’_r_
[
PADR_
(__socklen_t *__restrict)];

1667 
	mæags_l_
[
PADL_
()]; 
	mæags
; 
	mæags_r_
[
PADR_
()];

1669 
	spe2_¬gs
 {

1670 
	mfždes_l_
[
PADL_
(*)]; * 
	mfždes
; 
	mfždes_r_
[
PADR_
(*)];

1671 
	mæags_l_
[
PADL_
()]; 
	mæags
; 
	mæags_r_
[
PADR_
()];

1673 
	saio_mlock_¬gs
 {

1674 
	maiocbp_l_
[
PADL_
(
aiocb
 *)]; aiocb * 
	maiocbp
; 
	maiocbp_r_
[
PADR_
(aiocb *)];

1676 
	s´ocùl_¬gs
 {

1677 
	midty³_l_
[
PADL_
(
idty³_t
)]; idty³_ˆ
	midty³
; 
	midty³_r_
[
PADR_
(idtype_t)];

1678 
	mid_l_
[
PADL_
(
id_t
)]; id_ˆ
	mid
; 
	mid_r_
[
PADR_
(id_t)];

1679 
	mcom_l_
[
PADL_
()]; 
	mcom
; 
	mcom_r_
[
PADR_
()];

1680 
	md©a_l_
[
PADL_
(*)]; * 
	md©a
; 
	md©a_r_
[
PADR_
(*)];

1682 
	sµÞl_¬gs
 {

1683 
	mfds_l_
[
PADL_
(
pÞlfd
 *)]; pÞlfd * 
	mfds
; 
	mfds_r_
[
PADR_
(pollfd *)];

1684 
	mnfds_l_
[
PADL_
(
u_št
)]; u_šˆ
	mnfds
; 
	mnfds_r_
[
PADR_
(u_int)];

1685 
	mts_l_
[
PADL_
(cÚ¡ 
time¥ec
 *)]; cÚ¡ time¥eø* 
	mts
; 
	mts_r_
[
PADR_
(const timespec *)];

1686 
	m£t_l_
[
PADL_
(cÚ¡ 
sig£t_t
 *)]; cÚ¡ sig£t_ˆ* 
	m£t
; 
	m£t_r_
[
PADR_
(const sigset_t *)];

1688 
	sfutim’s_¬gs
 {

1689 
	mfd_l_
[
PADL_
()]; 
	mfd
; 
	mfd_r_
[
PADR_
()];

1690 
	mtimes_l_
[
PADL_
(
time¥ec
 *)]; time¥eø* 
	mtimes
; 
	mtimes_r_
[
PADR_
(timespec *)];

1692 
	sutim’§t_¬gs
 {

1693 
	mfd_l_
[
PADL_
()]; 
	mfd
; 
	mfd_r_
[
PADR_
()];

1694 
	m·th_l_
[
PADL_
(*)]; * 
	m·th
; 
	m·th_r_
[
PADR_
(*)];

1695 
	mtimes_l_
[
PADL_
(
time¥ec
 *)]; time¥eø* 
	mtimes
; 
	mtimes_r_
[
PADR_
(timespec *)];

1696 
	mæag_l_
[
PADL_
()]; 
	mæag
; 
	mæag_r_
[
PADR_
()];

1698 
	sfd©async_¬gs
 {

1699 
	mfd_l_
[
PADL_
()]; 
	mfd
; 
	mfd_r_
[
PADR_
()];

1701 
	sf¡©_¬gs
 {

1702 
	mfd_l_
[
PADL_
()]; 
	mfd
; 
	mfd_r_
[
PADR_
()];

1703 
	msb_l_
[
PADL_
(
¡©
 *)]; ¡© * 
	msb
; 
	msb_r_
[
PADR_
(stat *)];

1705 
	sf¡©©_¬gs
 {

1706 
	mfd_l_
[
PADL_
()]; 
	mfd
; 
	mfd_r_
[
PADR_
()];

1707 
	m·th_l_
[
PADL_
(*)]; * 
	m·th
; 
	m·th_r_
[
PADR_
(*)];

1708 
	mbuf_l_
[
PADL_
(
¡©
 *)]; ¡© * 
	mbuf
; 
	mbuf_r_
[
PADR_
(stat *)];

1709 
	mæag_l_
[
PADL_
()]; 
	mæag
; 
	mæag_r_
[
PADR_
()];

1711 
	sfh¡©_¬gs
 {

1712 
	mu_fhp_l_
[
PADL_
(cÚ¡ 
fhªdË
 *)]; cÚ¡ fhªdË * 
	mu_fhp
; 
	mu_fhp_r_
[
PADR_
(const fhandle *)];

1713 
	msb_l_
[
PADL_
(
¡©
 *)]; ¡© * 
	msb
; 
	msb_r_
[
PADR_
(stat *)];

1715 
	sg‘dœ’Œ›s_¬gs
 {

1716 
	mfd_l_
[
PADL_
()]; 
	mfd
; 
	mfd_r_
[
PADR_
()];

1717 
	mbuf_l_
[
PADL_
(*)]; * 
	mbuf
; 
	mbuf_r_
[
PADR_
(*)];

1718 
	mcouÁ_l_
[
PADL_
(
size_t
)]; size_ˆ
	mcouÁ
; 
	mcouÁ_r_
[
PADR_
(size_t)];

1719 
	mba£p_l_
[
PADL_
(
off_t
 *)]; off_ˆ* 
	mba£p
; 
	mba£p_r_
[
PADR_
(off_t *)];

1721 
	s¡©fs_¬gs
 {

1722 
	m·th_l_
[
PADL_
(*)]; * 
	m·th
; 
	m·th_r_
[
PADR_
(*)];

1723 
	mbuf_l_
[
PADL_
(
¡©fs
 *)]; ¡©f * 
	mbuf
; 
	mbuf_r_
[
PADR_
(statfs *)];

1725 
	sf¡©fs_¬gs
 {

1726 
	mfd_l_
[
PADL_
()]; 
	mfd
; 
	mfd_r_
[
PADR_
()];

1727 
	mbuf_l_
[
PADL_
(
¡©fs
 *)]; ¡©f * 
	mbuf
; 
	mbuf_r_
[
PADR_
(statfs *)];

1729 
	sg‘fs¡©_¬gs
 {

1730 
	mbuf_l_
[
PADL_
(
¡©fs
 *)]; ¡©f * 
	mbuf
; 
	mbuf_r_
[
PADR_
(statfs *)];

1731 
	mbufsize_l_
[
PADL_
()]; 
	mbufsize
; 
	mbufsize_r_
[
PADR_
()];

1732 
	mmode_l_
[
PADL_
()]; 
	mmode
; 
	mmode_r_
[
PADR_
()];

1734 
	sfh¡©fs_¬gs
 {

1735 
	mu_fhp_l_
[
PADL_
(cÚ¡ 
fhªdË
 *)]; cÚ¡ fhªdË * 
	mu_fhp
; 
	mu_fhp_r_
[
PADR_
(const fhandle *)];

1736 
	mbuf_l_
[
PADL_
(
¡©fs
 *)]; ¡©f * 
	mbuf
; 
	mbuf_r_
[
PADR_
(statfs *)];

1738 
	smknod©_¬gs
 {

1739 
	mfd_l_
[
PADL_
()]; 
	mfd
; 
	mfd_r_
[
PADR_
()];

1740 
	m·th_l_
[
PADL_
(*)]; * 
	m·th
; 
	m·th_r_
[
PADR_
(*)];

1741 
	mmode_l_
[
PADL_
(
mode_t
)]; mode_ˆ
	mmode
; 
	mmode_r_
[
PADR_
(mode_t)];

1742 
	mdev_l_
[
PADL_
(
dev_t
)]; dev_ˆ
	mdev
; 
	mdev_r_
[
PADR_
(dev_t)];

1744 
	skev’t_¬gs
 {

1745 
	mfd_l_
[
PADL_
()]; 
	mfd
; 
	mfd_r_
[
PADR_
()];

1746 
	mchªg–i¡_l_
[
PADL_
(
kev’t
 *)]; kev’ˆ* 
	mchªg–i¡
; 
	mchªg–i¡_r_
[
PADR_
(kevent *)];

1747 
	mnchªges_l_
[
PADL_
()]; 
	mnchªges
; 
	mnchªges_r_
[
PADR_
()];

1748 
	mev’Ži¡_l_
[
PADL_
(
kev’t
 *)]; kev’ˆ* 
	mev’Ži¡
; 
	mev’Ži¡_r_
[
PADR_
(kevent *)];

1749 
	mÃv’ts_l_
[
PADL_
()]; 
	mÃv’ts
; 
	mÃv’ts_r_
[
PADR_
()];

1750 
	mtimeout_l_
[
PADL_
(cÚ¡ 
time¥ec
 *)]; cÚ¡ time¥eø* 
	mtimeout
; 
	mtimeout_r_
[
PADR_
(const timespec *)];

1752 
	sýu£t_g‘domaš_¬gs
 {

1753 
	mËv–_l_
[
PADL_
(
ýuËv–_t
)]; cpuËv–_ˆ
	mËv–
; 
	mËv–_r_
[
PADR_
(cpulevel_t)];

1754 
	mwhich_l_
[
PADL_
(
ýuwhich_t
)]; cpuwhich_ˆ
	mwhich
; 
	mwhich_r_
[
PADR_
(cpuwhich_t)];

1755 
	mid_l_
[
PADL_
(
id_t
)]; id_ˆ
	mid
; 
	mid_r_
[
PADR_
(id_t)];

1756 
	mdomaš£tsize_l_
[
PADL_
(
size_t
)]; size_ˆ
	mdomaš£tsize
; 
	mdomaš£tsize_r_
[
PADR_
(size_t)];

1757 
	mmask_l_
[
PADL_
(
domaš£t_t
 *)]; domaš£t_ˆ* 
	mmask
; 
	mmask_r_
[
PADR_
(domainset_t *)];

1758 
	mpÞicy_l_
[
PADL_
(*)]; * 
	mpÞicy
; 
	mpÞicy_r_
[
PADR_
(*)];

1760 
	sýu£t_£tdomaš_¬gs
 {

1761 
	mËv–_l_
[
PADL_
(
ýuËv–_t
)]; cpuËv–_ˆ
	mËv–
; 
	mËv–_r_
[
PADR_
(cpulevel_t)];

1762 
	mwhich_l_
[
PADL_
(
ýuwhich_t
)]; cpuwhich_ˆ
	mwhich
; 
	mwhich_r_
[
PADR_
(cpuwhich_t)];

1763 
	mid_l_
[
PADL_
(
id_t
)]; id_ˆ
	mid
; 
	mid_r_
[
PADR_
(id_t)];

1764 
	mdomaš£tsize_l_
[
PADL_
(
size_t
)]; size_ˆ
	mdomaš£tsize
; 
	mdomaš£tsize_r_
[
PADR_
(size_t)];

1765 
	mmask_l_
[
PADL_
(
domaš£t_t
 *)]; domaš£t_ˆ* 
	mmask
; 
	mmask_r_
[
PADR_
(domainset_t *)];

1766 
	mpÞicy_l_
[
PADL_
()]; 
	mpÞicy
; 
	mpÞicy_r_
[
PADR_
()];

1768 
	sg‘¿ndom_¬gs
 {

1769 
	mbuf_l_
[
PADL_
(*)]; * 
	mbuf
; 
	mbuf_r_
[
PADR_
(*)];

1770 
	mbuæ’_l_
[
PADL_
(
size_t
)]; size_ˆ
	mbuæ’
; 
	mbuæ’_r_
[
PADR_
(size_t)];

1771 
	mæags_l_
[
PADL_
()]; 
	mæags
; 
	mæags_r_
[
PADR_
()];

1773 
nosys
(
th»ad
 *, 
nosys_¬gs
 *);

1774 
sys_sys_ex™
(
th»ad
 *, 
sys_ex™_¬gs
 *);

1775 
sys_fÜk
(
th»ad
 *, 
fÜk_¬gs
 *);

1776 
sys_»ad
(
th»ad
 *, 
»ad_¬gs
 *);

1777 
sys_wr™e
(
th»ad
 *, 
wr™e_¬gs
 *);

1778 
sys_Ý’
(
th»ad
 *, 
Ý’_¬gs
 *);

1779 
sys_þo£
(
th»ad
 *, 
þo£_¬gs
 *);

1780 
sys_wa™4
(
th»ad
 *, 
wa™4_¬gs
 *);

1781 
sys_lšk
(
th»ad
 *, 
lšk_¬gs
 *);

1782 
sys_uÆšk
(
th»ad
 *, 
uÆšk_¬gs
 *);

1783 
sys_chdœ
(
th»ad
 *, 
chdœ_¬gs
 *);

1784 
sys_fchdœ
(
th»ad
 *, 
fchdœ_¬gs
 *);

1785 
sys_chmod
(
th»ad
 *, 
chmod_¬gs
 *);

1786 
sys_chown
(
th»ad
 *, 
chown_¬gs
 *);

1787 
sys_b»ak
(
th»ad
 *, 
b»ak_¬gs
 *);

1788 
sys_g‘pid
(
th»ad
 *, 
g‘pid_¬gs
 *);

1789 
sys_mouÁ
(
th»ad
 *, 
mouÁ_¬gs
 *);

1790 
sys_unmouÁ
(
th»ad
 *, 
unmouÁ_¬gs
 *);

1791 
sys_£tuid
(
th»ad
 *, 
£tuid_¬gs
 *);

1792 
sys_g‘uid
(
th»ad
 *, 
g‘uid_¬gs
 *);

1793 
sys_g‘euid
(
th»ad
 *, 
g‘euid_¬gs
 *);

1794 
sys_±¿û
(
th»ad
 *, 
±¿û_¬gs
 *);

1795 
sys_»cvmsg
(
th»ad
 *, 
»cvmsg_¬gs
 *);

1796 
sys_£ndmsg
(
th»ad
 *, 
£ndmsg_¬gs
 *);

1797 
sys_»cväom
(
th»ad
 *, 
»cväom_¬gs
 *);

1798 
sys_acû±
(
th»ad
 *, 
acû±_¬gs
 *);

1799 
sys_g‘³”Çme
(
th»ad
 *, 
g‘³”Çme_¬gs
 *);

1800 
sys_g‘sockÇme
(
th»ad
 *, 
g‘sockÇme_¬gs
 *);

1801 
sys_acûss
(
th»ad
 *, 
acûss_¬gs
 *);

1802 
sys_chæags
(
th»ad
 *, 
chæags_¬gs
 *);

1803 
sys_fchæags
(
th»ad
 *, 
fchæags_¬gs
 *);

1804 
sys_sync
(
th»ad
 *, 
sync_¬gs
 *);

1805 
sys_kžl
(
th»ad
 *, 
kžl_¬gs
 *);

1806 
sys_g‘µid
(
th»ad
 *, 
g‘µid_¬gs
 *);

1807 
sys_dup
(
th»ad
 *, 
dup_¬gs
 *);

1808 
sys_g‘egid
(
th»ad
 *, 
g‘egid_¬gs
 *);

1809 
sys_´ofž
(
th»ad
 *, 
´ofž_¬gs
 *);

1810 
sys_kŒaû
(
th»ad
 *, 
kŒaû_¬gs
 *);

1811 
sys_g‘gid
(
th»ad
 *, 
g‘gid_¬gs
 *);

1812 
sys_g‘logš
(
th»ad
 *, 
g‘logš_¬gs
 *);

1813 
sys_£Žogš
(
th»ad
 *, 
£Žogš_¬gs
 *);

1814 
sys_acù
(
th»ad
 *, 
acù_¬gs
 *);

1815 
sys_sig®t¡ack
(
th»ad
 *, 
sig®t¡ack_¬gs
 *);

1816 
sys_ioùl
(
th»ad
 *, 
ioùl_¬gs
 *);

1817 
sys_»boÙ
(
th»ad
 *, 
»boÙ_¬gs
 *);

1818 
sys_»voke
(
th»ad
 *, 
»voke_¬gs
 *);

1819 
sys_symlšk
(
th»ad
 *, 
symlšk_¬gs
 *);

1820 
sys_»adlšk
(
th»ad
 *, 
»adlšk_¬gs
 *);

1821 
sys_execve
(
th»ad
 *, 
execve_¬gs
 *);

1822 
sys_umask
(
th»ad
 *, 
umask_¬gs
 *);

1823 
sys_chroÙ
(
th»ad
 *, 
chroÙ_¬gs
 *);

1824 
sys_msync
(
th»ad
 *, 
msync_¬gs
 *);

1825 
sys_vfÜk
(
th»ad
 *, 
vfÜk_¬gs
 *);

1826 
sys_sbrk
(
th»ad
 *, 
sbrk_¬gs
 *);

1827 
sys_s¡k
(
th»ad
 *, 
s¡k_¬gs
 *);

1828 
sys_munm­
(
th»ad
 *, 
munm­_¬gs
 *);

1829 
sys_m´Ùeù
(
th»ad
 *, 
m´Ùeù_¬gs
 *);

1830 
sys_madvi£
(
th»ad
 *, 
madvi£_¬gs
 *);

1831 
sys_mšcÜe
(
th»ad
 *, 
mšcÜe_¬gs
 *);

1832 
sys_g‘groups
(
th»ad
 *, 
g‘groups_¬gs
 *);

1833 
sys_£tgroups
(
th»ad
 *, 
£tgroups_¬gs
 *);

1834 
sys_g‘pg½
(
th»ad
 *, 
g‘pg½_¬gs
 *);

1835 
sys_£gid
(
th»ad
 *, 
£gid_¬gs
 *);

1836 
sys_£t™im”
(
th»ad
 *, 
£t™im”_¬gs
 *);

1837 
sys_sw­Ú
(
th»ad
 *, 
sw­Ú_¬gs
 *);

1838 
sys_g‘™im”
(
th»ad
 *, 
g‘™im”_¬gs
 *);

1839 
sys_g‘dbËsize
(
th»ad
 *, 
g‘dbËsize_¬gs
 *);

1840 
sys_dup2
(
th»ad
 *, 
dup2_¬gs
 *);

1841 
sys_fúŽ
(
th»ad
 *, 
fúŽ_¬gs
 *);

1842 
sys_£Ëù
(
th»ad
 *, 
£Ëù_¬gs
 *);

1843 
sys_fsync
(
th»ad
 *, 
fsync_¬gs
 *);

1844 
sys_£riÜ™y
(
th»ad
 *, 
£riÜ™y_¬gs
 *);

1845 
sys_sock‘
(
th»ad
 *, 
sock‘_¬gs
 *);

1846 
sys_cÚÃù
(
th»ad
 *, 
cÚÃù_¬gs
 *);

1847 
sys_g‘´iÜ™y
(
th»ad
 *, 
g‘´iÜ™y_¬gs
 *);

1848 
sys_bšd
(
th»ad
 *, 
bšd_¬gs
 *);

1849 
sys_£tsockÝt
(
th»ad
 *, 
£tsockÝt_¬gs
 *);

1850 
sys_li¡’
(
th»ad
 *, 
li¡’_¬gs
 *);

1851 
sys_g‘timeofday
(
th»ad
 *, 
g‘timeofday_¬gs
 *);

1852 
sys_g‘ru§ge
(
th»ad
 *, 
g‘ru§ge_¬gs
 *);

1853 
sys_g‘sockÝt
(
th»ad
 *, 
g‘sockÝt_¬gs
 *);

1854 
sys_»adv
(
th»ad
 *, 
»adv_¬gs
 *);

1855 
sys_wr™ev
(
th»ad
 *, 
wr™ev_¬gs
 *);

1856 
sys_£‰imeofday
(
th»ad
 *, 
£‰imeofday_¬gs
 *);

1857 
sys_fchown
(
th»ad
 *, 
fchown_¬gs
 *);

1858 
sys_fchmod
(
th»ad
 *, 
fchmod_¬gs
 *);

1859 
sys_£Œeuid
(
th»ad
 *, 
£Œeuid_¬gs
 *);

1860 
sys_£Œegid
(
th»ad
 *, 
£Œegid_¬gs
 *);

1861 
sys_»Çme
(
th»ad
 *, 
»Çme_¬gs
 *);

1862 
sys_æock
(
th»ad
 *, 
æock_¬gs
 *);

1863 
sys_mkfifo
(
th»ad
 *, 
mkfifo_¬gs
 *);

1864 
sys_£ndto
(
th»ad
 *, 
£ndto_¬gs
 *);

1865 
sys_shutdown
(
th»ad
 *, 
shutdown_¬gs
 *);

1866 
sys_sock‘·œ
(
th»ad
 *, 
sock‘·œ_¬gs
 *);

1867 
sys_mkdœ
(
th»ad
 *, 
mkdœ_¬gs
 *);

1868 
sys_rmdœ
(
th»ad
 *, 
rmdœ_¬gs
 *);

1869 
sys_utimes
(
th»ad
 *, 
utimes_¬gs
 *);

1870 
sys_adjtime
(
th»ad
 *, 
adjtime_¬gs
 *);

1871 
sys_£tsid
(
th»ad
 *, 
£tsid_¬gs
 *);

1872 
sys_quÙaùl
(
th»ad
 *, 
quÙaùl_¬gs
 *);

1873 
sys_Æm_sysÿÎ
(
th»ad
 *, 
Æm_sysÿÎ_¬gs
 *);

1874 
sys_nfssvc
(
th»ad
 *, 
nfssvc_¬gs
 *);

1875 
sys_lg‘fh
(
th»ad
 *, 
lg‘fh_¬gs
 *);

1876 
sys_g‘fh
(
th»ad
 *, 
g‘fh_¬gs
 *);

1877 
sy§rch
(
th»ad
 *, 
sy§rch_¬gs
 *);

1878 
sys_¹´io
(
th»ad
 *, 
¹´io_¬gs
 *);

1879 
sys_£msys
(
th»ad
 *, 
£msys_¬gs
 *);

1880 
sys_msgsys
(
th»ad
 *, 
msgsys_¬gs
 *);

1881 
sys_shmsys
(
th»ad
 *, 
shmsys_¬gs
 *);

1882 
sys_£tfib
(
th»ad
 *, 
£tfib_¬gs
 *);

1883 
sys_Áp_adjtime
(
th»ad
 *, 
Áp_adjtime_¬gs
 *);

1884 
sys_£tgid
(
th»ad
 *, 
£tgid_¬gs
 *);

1885 
sys_£‹gid
(
th»ad
 *, 
£‹gid_¬gs
 *);

1886 
sys_£‹uid
(
th»ad
 *, 
£‹uid_¬gs
 *);

1887 
sys_·thcÚf
(
th»ad
 *, 
·thcÚf_¬gs
 *);

1888 
sys_å©hcÚf
(
th»ad
 *, 
å©hcÚf_¬gs
 *);

1889 
sys_g‘¾im™
(
th»ad
 *, 
__g‘¾im™_¬gs
 *);

1890 
sys_£Œlim™
(
th»ad
 *, 
__£Œlim™_¬gs
 *);

1891 
sys___sysùl
(
th»ad
 *, 
sysùl_¬gs
 *);

1892 
sys_mlock
(
th»ad
 *, 
mlock_¬gs
 *);

1893 
sys_muÆock
(
th»ad
 *, 
muÆock_¬gs
 *);

1894 
sys_und–‘e
(
th»ad
 *, 
und–‘e_¬gs
 *);

1895 
sys_futimes
(
th»ad
 *, 
futimes_¬gs
 *);

1896 
sys_g‘pgid
(
th»ad
 *, 
g‘pgid_¬gs
 *);

1897 
sys_pÞl
(
th»ad
 *, 
pÞl_¬gs
 *);

1898 
sys_£mg‘
(
th»ad
 *, 
£mg‘_¬gs
 *);

1899 
sys_£mÝ
(
th»ad
 *, 
£mÝ_¬gs
 *);

1900 
sys_msgg‘
(
th»ad
 *, 
msgg‘_¬gs
 *);

1901 
sys_msg¢d
(
th»ad
 *, 
msg¢d_¬gs
 *);

1902 
sys_msgrcv
(
th»ad
 *, 
msgrcv_¬gs
 *);

1903 
sys_shm©
(
th»ad
 *, 
shm©_¬gs
 *);

1904 
sys_shmdt
(
th»ad
 *, 
shmdt_¬gs
 *);

1905 
sys_shmg‘
(
th»ad
 *, 
shmg‘_¬gs
 *);

1906 
sys_þock_g‘time
(
th»ad
 *, 
þock_g‘time_¬gs
 *);

1907 
sys_þock_£‰ime
(
th»ad
 *, 
þock_£‰ime_¬gs
 *);

1908 
sys_þock_g‘»s
(
th»ad
 *, 
þock_g‘»s_¬gs
 *);

1909 
sys_ktim”_ü—‹
(
th»ad
 *, 
ktim”_ü—‹_¬gs
 *);

1910 
sys_ktim”_d–‘e
(
th»ad
 *, 
ktim”_d–‘e_¬gs
 *);

1911 
sys_ktim”_£‰ime
(
th»ad
 *, 
ktim”_£‰ime_¬gs
 *);

1912 
sys_ktim”_g‘time
(
th»ad
 *, 
ktim”_g‘time_¬gs
 *);

1913 
sys_ktim”_g‘ov”run
(
th»ad
 *, 
ktim”_g‘ov”run_¬gs
 *);

1914 
sys_Çno¦“p
(
th»ad
 *, 
Çno¦“p_¬gs
 *);

1915 
sys_ffþock_g‘couÁ”
(
th»ad
 *, 
ffþock_g‘couÁ”_¬gs
 *);

1916 
sys_ffþock_£‹¡im©e
(
th»ad
 *, 
ffþock_£‹¡im©e_¬gs
 *);

1917 
sys_ffþock_g‘e¡im©e
(
th»ad
 *, 
ffþock_g‘e¡im©e_¬gs
 *);

1918 
sys_þock_Çno¦“p
(
th»ad
 *, 
þock_Çno¦“p_¬gs
 *);

1919 
sys_þock_g‘ýuþockid2
(
th»ad
 *, 
þock_g‘ýuþockid2_¬gs
 *);

1920 
sys_Áp_g‘time
(
th»ad
 *, 
Áp_g‘time_¬gs
 *);

1921 
sys_mšh”™
(
th»ad
 *, 
mšh”™_¬gs
 *);

1922 
sys_rfÜk
(
th»ad
 *, 
rfÜk_¬gs
 *);

1923 
sys_is£tugid
(
th»ad
 *, 
is£tugid_¬gs
 *);

1924 
sys_lchown
(
th»ad
 *, 
lchown_¬gs
 *);

1925 
sys_aio_»ad
(
th»ad
 *, 
aio_»ad_¬gs
 *);

1926 
sys_aio_wr™e
(
th»ad
 *, 
aio_wr™e_¬gs
 *);

1927 
sys_lio_li¡io
(
th»ad
 *, 
lio_li¡io_¬gs
 *);

1928 
sys_lchmod
(
th»ad
 *, 
lchmod_¬gs
 *);

1929 
sys_lutimes
(
th»ad
 *, 
lutimes_¬gs
 *);

1930 
sys_´—dv
(
th»ad
 *, 
´—dv_¬gs
 *);

1931 
sys_pwr™ev
(
th»ad
 *, 
pwr™ev_¬gs
 *);

1932 
sys_fhÝ’
(
th»ad
 *, 
fhÝ’_¬gs
 *);

1933 
sys_modÃxt
(
th»ad
 *, 
modÃxt_¬gs
 *);

1934 
sys_mod¡©
(
th»ad
 *, 
mod¡©_¬gs
 *);

1935 
sys_modâext
(
th»ad
 *, 
modâext_¬gs
 *);

1936 
sys_modfšd
(
th»ad
 *, 
modfšd_¬gs
 *);

1937 
sys_kldlßd
(
th»ad
 *, 
kldlßd_¬gs
 *);

1938 
sys_klduÆßd
(
th»ad
 *, 
klduÆßd_¬gs
 *);

1939 
sys_kldfšd
(
th»ad
 *, 
kldfšd_¬gs
 *);

1940 
sys_kldÃxt
(
th»ad
 *, 
kldÃxt_¬gs
 *);

1941 
sys_kld¡©
(
th»ad
 *, 
kld¡©_¬gs
 *);

1942 
sys_kldfœ¡mod
(
th»ad
 *, 
kldfœ¡mod_¬gs
 *);

1943 
sys_g‘sid
(
th»ad
 *, 
g‘sid_¬gs
 *);

1944 
sys_£Œesuid
(
th»ad
 *, 
£Œesuid_¬gs
 *);

1945 
sys_£Œesgid
(
th»ad
 *, 
£Œesgid_¬gs
 *);

1946 
sys_aio_»tuº
(
th»ad
 *, 
aio_»tuº_¬gs
 *);

1947 
sys_aio_su¥’d
(
th»ad
 *, 
aio_su¥’d_¬gs
 *);

1948 
sys_aio_ÿnûl
(
th»ad
 *, 
aio_ÿnûl_¬gs
 *);

1949 
sys_aio_”rÜ
(
th»ad
 *, 
aio_”rÜ_¬gs
 *);

1950 
sys_y›ld
(
th»ad
 *, 
y›ld_¬gs
 *);

1951 
sys_mlock®l
(
th»ad
 *, 
mlock®l_¬gs
 *);

1952 
sys_muÆock®l
(
th»ad
 *, 
muÆock®l_¬gs
 *);

1953 
sys___g‘cwd
(
th»ad
 *, 
__g‘cwd_¬gs
 *);

1954 
sys_sched_£¬am
(
th»ad
 *, 
sched_£¬am_¬gs
 *);

1955 
sys_sched_g‘·¿m
(
th»ad
 *, 
sched_g‘·¿m_¬gs
 *);

1956 
sys_sched_£tscheduËr
(
th»ad
 *, 
sched_£tscheduËr_¬gs
 *);

1957 
sys_sched_g‘scheduËr
(
th»ad
 *, 
sched_g‘scheduËr_¬gs
 *);

1958 
sys_sched_y›ld
(
th»ad
 *, 
sched_y›ld_¬gs
 *);

1959 
sys_sched_g‘_´iÜ™y_max
(
th»ad
 *, 
sched_g‘_´iÜ™y_max_¬gs
 *);

1960 
sys_sched_g‘_´iÜ™y_mš
(
th»ad
 *, 
sched_g‘_´iÜ™y_mš_¬gs
 *);

1961 
sys_sched_¼_g‘_š‹rv®
(
th»ad
 *, 
sched_¼_g‘_š‹rv®_¬gs
 *);

1962 
sys_uŒaû
(
th»ad
 *, 
uŒaû_¬gs
 *);

1963 
sys_kldsym
(
th»ad
 *, 
kldsym_¬gs
 *);

1964 
sys_jaž
(
th»ad
 *, 
jaž_¬gs
 *);

1965 
sys_Âpfs_sysÿÎ
(
th»ad
 *, 
Âpfs_sysÿÎ_¬gs
 *);

1966 
sys_sig´ocmask
(
th»ad
 *, 
sig´ocmask_¬gs
 *);

1967 
sys_sigsu¥’d
(
th»ad
 *, 
sigsu¥’d_¬gs
 *);

1968 
sys_sig³ndšg
(
th»ad
 *, 
sig³ndšg_¬gs
 *);

1969 
sys_sigtimedwa™
(
th»ad
 *, 
sigtimedwa™_¬gs
 *);

1970 
sys_sigwa™šfo
(
th»ad
 *, 
sigwa™šfo_¬gs
 *);

1971 
sys___aþ_g‘_fže
(
th»ad
 *, 
__aþ_g‘_fže_¬gs
 *);

1972 
sys___aþ_£t_fže
(
th»ad
 *, 
__aþ_£t_fže_¬gs
 *);

1973 
sys___aþ_g‘_fd
(
th»ad
 *, 
__aþ_g‘_fd_¬gs
 *);

1974 
sys___aþ_£t_fd
(
th»ad
 *, 
__aþ_£t_fd_¬gs
 *);

1975 
sys___aþ_d–‘e_fže
(
th»ad
 *, 
__aþ_d–‘e_fže_¬gs
 *);

1976 
sys___aþ_d–‘e_fd
(
th»ad
 *, 
__aþ_d–‘e_fd_¬gs
 *);

1977 
sys___aþ_aþcheck_fže
(
th»ad
 *, 
__aþ_aþcheck_fže_¬gs
 *);

1978 
sys___aþ_aþcheck_fd
(
th»ad
 *, 
__aþ_aþcheck_fd_¬gs
 *);

1979 
sys_ex‰rùl
(
th»ad
 *, 
ex‰rùl_¬gs
 *);

1980 
sys_ex‰r_£t_fže
(
th»ad
 *, 
ex‰r_£t_fže_¬gs
 *);

1981 
sys_ex‰r_g‘_fže
(
th»ad
 *, 
ex‰r_g‘_fže_¬gs
 *);

1982 
sys_ex‰r_d–‘e_fže
(
th»ad
 *, 
ex‰r_d–‘e_fže_¬gs
 *);

1983 
sys_aio_wa™com¶‘e
(
th»ad
 *, 
aio_wa™com¶‘e_¬gs
 *);

1984 
sys_g‘»suid
(
th»ad
 *, 
g‘»suid_¬gs
 *);

1985 
sys_g‘»sgid
(
th»ad
 *, 
g‘»sgid_¬gs
 *);

1986 
sys_kqueue
(
th»ad
 *, 
kqueue_¬gs
 *);

1987 
sys_ex‰r_£t_fd
(
th»ad
 *, 
ex‰r_£t_fd_¬gs
 *);

1988 
sys_ex‰r_g‘_fd
(
th»ad
 *, 
ex‰r_g‘_fd_¬gs
 *);

1989 
sys_ex‰r_d–‘e_fd
(
th»ad
 *, 
ex‰r_d–‘e_fd_¬gs
 *);

1990 
sys___£tugid
(
th»ad
 *, 
__£tugid_¬gs
 *);

1991 
sys_—cûss
(
th»ad
 *, 
—cûss_¬gs
 *);

1992 
sys_afs3_sysÿÎ
(
th»ad
 *, 
afs3_sysÿÎ_¬gs
 *);

1993 
sys_nmouÁ
(
th»ad
 *, 
nmouÁ_¬gs
 *);

1994 
sys___mac_g‘_´oc
(
th»ad
 *, 
__mac_g‘_´oc_¬gs
 *);

1995 
sys___mac_£t_´oc
(
th»ad
 *, 
__mac_£t_´oc_¬gs
 *);

1996 
sys___mac_g‘_fd
(
th»ad
 *, 
__mac_g‘_fd_¬gs
 *);

1997 
sys___mac_g‘_fže
(
th»ad
 *, 
__mac_g‘_fže_¬gs
 *);

1998 
sys___mac_£t_fd
(
th»ad
 *, 
__mac_£t_fd_¬gs
 *);

1999 
sys___mac_£t_fže
(
th»ad
 *, 
__mac_£t_fže_¬gs
 *);

2000 
sys_k’v
(
th»ad
 *, 
k’v_¬gs
 *);

2001 
sys_lchæags
(
th»ad
 *, 
lchæags_¬gs
 *);

2002 
sys_uuidg’
(
th»ad
 *, 
uuidg’_¬gs
 *);

2003 
sys_£ndfže
(
th»ad
 *, 
£ndfže_¬gs
 *);

2004 
sys_mac_sysÿÎ
(
th»ad
 *, 
mac_sysÿÎ_¬gs
 *);

2005 
sys_k£m_þo£
(
th»ad
 *, 
k£m_þo£_¬gs
 *);

2006 
sys_k£m_po¡
(
th»ad
 *, 
k£m_po¡_¬gs
 *);

2007 
sys_k£m_wa™
(
th»ad
 *, 
k£m_wa™_¬gs
 *);

2008 
sys_k£m_Œywa™
(
th»ad
 *, 
k£m_Œywa™_¬gs
 *);

2009 
sys_k£m_š™
(
th»ad
 *, 
k£m_š™_¬gs
 *);

2010 
sys_k£m_Ý’
(
th»ad
 *, 
k£m_Ý’_¬gs
 *);

2011 
sys_k£m_uÆšk
(
th»ad
 *, 
k£m_uÆšk_¬gs
 *);

2012 
sys_k£m_g‘v®ue
(
th»ad
 *, 
k£m_g‘v®ue_¬gs
 *);

2013 
sys_k£m_de¡roy
(
th»ad
 *, 
k£m_de¡roy_¬gs
 *);

2014 
sys___mac_g‘_pid
(
th»ad
 *, 
__mac_g‘_pid_¬gs
 *);

2015 
sys___mac_g‘_lšk
(
th»ad
 *, 
__mac_g‘_lšk_¬gs
 *);

2016 
sys___mac_£t_lšk
(
th»ad
 *, 
__mac_£t_lšk_¬gs
 *);

2017 
sys_ex‰r_£t_lšk
(
th»ad
 *, 
ex‰r_£t_lšk_¬gs
 *);

2018 
sys_ex‰r_g‘_lšk
(
th»ad
 *, 
ex‰r_g‘_lšk_¬gs
 *);

2019 
sys_ex‰r_d–‘e_lšk
(
th»ad
 *, 
ex‰r_d–‘e_lšk_¬gs
 *);

2020 
sys___mac_execve
(
th»ad
 *, 
__mac_execve_¬gs
 *);

2021 
sys_sigaùiÚ
(
th»ad
 *, 
sigaùiÚ_¬gs
 *);

2022 
sys_sig»tuº
(
th»ad
 *, 
sig»tuº_¬gs
 *);

2023 
sys_g‘cÚ‹xt
(
th»ad
 *, 
g‘cÚ‹xt_¬gs
 *);

2024 
sys_£tcÚ‹xt
(
th»ad
 *, 
£tcÚ‹xt_¬gs
 *);

2025 
sys_sw­cÚ‹xt
(
th»ad
 *, 
sw­cÚ‹xt_¬gs
 *);

2026 
sys_sw­off
(
th»ad
 *, 
sw­off_¬gs
 *);

2027 
sys___aþ_g‘_lšk
(
th»ad
 *, 
__aþ_g‘_lšk_¬gs
 *);

2028 
sys___aþ_£t_lšk
(
th»ad
 *, 
__aþ_£t_lšk_¬gs
 *);

2029 
sys___aþ_d–‘e_lšk
(
th»ad
 *, 
__aþ_d–‘e_lšk_¬gs
 *);

2030 
sys___aþ_aþcheck_lšk
(
th»ad
 *, 
__aþ_aþcheck_lšk_¬gs
 *);

2031 
sys_sigwa™
(
th»ad
 *, 
sigwa™_¬gs
 *);

2032 
sys_thr_ü—‹
(
th»ad
 *, 
thr_ü—‹_¬gs
 *);

2033 
sys_thr_ex™
(
th»ad
 *, 
thr_ex™_¬gs
 *);

2034 
sys_thr_£lf
(
th»ad
 *, 
thr_£lf_¬gs
 *);

2035 
sys_thr_kžl
(
th»ad
 *, 
thr_kžl_¬gs
 *);

2036 
sys_jaž_©ch
(
th»ad
 *, 
jaž_©ch_¬gs
 *);

2037 
sys_ex‰r_li¡_fd
(
th»ad
 *, 
ex‰r_li¡_fd_¬gs
 *);

2038 
sys_ex‰r_li¡_fže
(
th»ad
 *, 
ex‰r_li¡_fže_¬gs
 *);

2039 
sys_ex‰r_li¡_lšk
(
th»ad
 *, 
ex‰r_li¡_lšk_¬gs
 *);

2040 
sys_k£m_timedwa™
(
th»ad
 *, 
k£m_timedwa™_¬gs
 *);

2041 
sys_thr_su¥’d
(
th»ad
 *, 
thr_su¥’d_¬gs
 *);

2042 
sys_thr_wake
(
th»ad
 *, 
thr_wake_¬gs
 *);

2043 
sys_klduÆßdf
(
th»ad
 *, 
klduÆßdf_¬gs
 *);

2044 
sys_aud™
(
th»ad
 *, 
aud™_¬gs
 *);

2045 
sys_aud™Ú
(
th»ad
 *, 
aud™Ú_¬gs
 *);

2046 
sys_g‘auid
(
th»ad
 *, 
g‘auid_¬gs
 *);

2047 
sys_£uid
(
th»ad
 *, 
£uid_¬gs
 *);

2048 
sys_g‘aud™
(
th»ad
 *, 
g‘aud™_¬gs
 *);

2049 
sys_£ud™
(
th»ad
 *, 
£ud™_¬gs
 *);

2050 
sys_g‘aud™_addr
(
th»ad
 *, 
g‘aud™_addr_¬gs
 *);

2051 
sys_£ud™_addr
(
th»ad
 *, 
£ud™_addr_¬gs
 *);

2052 
sys_aud™ùl
(
th»ad
 *, 
aud™ùl_¬gs
 *);

2053 
sys__umtx_Ý
(
th»ad
 *, 
_umtx_Ý_¬gs
 *);

2054 
sys_thr_Ãw
(
th»ad
 *, 
thr_Ãw_¬gs
 *);

2055 
sys_sigqueue
(
th»ad
 *, 
sigqueue_¬gs
 *);

2056 
sys_kmq_Ý’
(
th»ad
 *, 
kmq_Ý’_¬gs
 *);

2057 
sys_kmq_£‰r
(
th»ad
 *, 
kmq_£‰r_¬gs
 *);

2058 
sys_kmq_timed»ûive
(
th»ad
 *, 
kmq_timed»ûive_¬gs
 *);

2059 
sys_kmq_timed£nd
(
th»ad
 *, 
kmq_timed£nd_¬gs
 *);

2060 
sys_kmq_nÙify
(
th»ad
 *, 
kmq_nÙify_¬gs
 *);

2061 
sys_kmq_uÆšk
(
th»ad
 *, 
kmq_uÆšk_¬gs
 *);

2062 
sys_abÜt2
(
th»ad
 *, 
abÜt2_¬gs
 *);

2063 
sys_thr_£t_Çme
(
th»ad
 *, 
thr_£t_Çme_¬gs
 *);

2064 
sys_aio_fsync
(
th»ad
 *, 
aio_fsync_¬gs
 *);

2065 
sys_¹´io_th»ad
(
th»ad
 *, 
¹´io_th»ad_¬gs
 *);

2066 
sys_sùp_³–off
(
th»ad
 *, 
sùp_³–off_¬gs
 *);

2067 
sys_sùp_g’”ic_£ndmsg
(
th»ad
 *, 
sùp_g’”ic_£ndmsg_¬gs
 *);

2068 
sys_sùp_g’”ic_£ndmsg_iov
(
th»ad
 *, 
sùp_g’”ic_£ndmsg_iov_¬gs
 *);

2069 
sys_sùp_g’”ic_»cvmsg
(
th»ad
 *, 
sùp_g’”ic_»cvmsg_¬gs
 *);

2070 
sys_´—d
(
th»ad
 *, 
´—d_¬gs
 *);

2071 
sys_pwr™e
(
th»ad
 *, 
pwr™e_¬gs
 *);

2072 
sys_mm­
(
th»ad
 *, 
mm­_¬gs
 *);

2073 
sys_l£ek
(
th»ad
 *, 
l£ek_¬gs
 *);

2074 
sys_Œunÿ‹
(
th»ad
 *, 
Œunÿ‹_¬gs
 *);

2075 
sys_árunÿ‹
(
th»ad
 *, 
árunÿ‹_¬gs
 *);

2076 
sys_thr_kžl2
(
th»ad
 *, 
thr_kžl2_¬gs
 *);

2077 
sys_shm_Ý’
(
th»ad
 *, 
shm_Ý’_¬gs
 *);

2078 
sys_shm_uÆšk
(
th»ad
 *, 
shm_uÆšk_¬gs
 *);

2079 
sys_ýu£t
(
th»ad
 *, 
ýu£t_¬gs
 *);

2080 
sys_ýu£t_£tid
(
th»ad
 *, 
ýu£t_£tid_¬gs
 *);

2081 
sys_ýu£t_g‘id
(
th»ad
 *, 
ýu£t_g‘id_¬gs
 *);

2082 
sys_ýu£t_g‘affš™y
(
th»ad
 *, 
ýu£t_g‘affš™y_¬gs
 *);

2083 
sys_ýu£t_£ffš™y
(
th»ad
 *, 
ýu£t_£ffš™y_¬gs
 *);

2084 
sys_çcûs§t
(
th»ad
 *, 
çcûs§t_¬gs
 *);

2085 
sys_fchmod©
(
th»ad
 *, 
fchmod©_¬gs
 *);

2086 
sys_fchowÇt
(
th»ad
 *, 
fchowÇt_¬gs
 *);

2087 
sys_ãxecve
(
th»ad
 *, 
ãxecve_¬gs
 *);

2088 
sys_futime§t
(
th»ad
 *, 
futime§t_¬gs
 *);

2089 
sys_lšk©
(
th»ad
 *, 
lšk©_¬gs
 *);

2090 
sys_mkdœ©
(
th»ad
 *, 
mkdœ©_¬gs
 *);

2091 
sys_mkfifßt
(
th»ad
 *, 
mkfifßt_¬gs
 *);

2092 
sys_Ý’©
(
th»ad
 *, 
Ý’©_¬gs
 *);

2093 
sys_»adlšk©
(
th»ad
 *, 
»adlšk©_¬gs
 *);

2094 
sys_»Çm—t
(
th»ad
 *, 
»Çm—t_¬gs
 *);

2095 
sys_symlšk©
(
th»ad
 *, 
symlšk©_¬gs
 *);

2096 
sys_uÆšk©
(
th»ad
 *, 
uÆšk©_¬gs
 *);

2097 
sys_posix_Ý’±
(
th»ad
 *, 
posix_Ý’±_¬gs
 *);

2098 
sys_gssd_sysÿÎ
(
th»ad
 *, 
gssd_sysÿÎ_¬gs
 *);

2099 
sys_jaž_g‘
(
th»ad
 *, 
jaž_g‘_¬gs
 *);

2100 
sys_jaž_£t
(
th»ad
 *, 
jaž_£t_¬gs
 *);

2101 
sys_jaž_»move
(
th»ad
 *, 
jaž_»move_¬gs
 *);

2102 
sys_þo£äom
(
th»ad
 *, 
þo£äom_¬gs
 *);

2103 
sys___£mùl
(
th»ad
 *, 
__£mùl_¬gs
 *);

2104 
sys_msgùl
(
th»ad
 *, 
msgùl_¬gs
 *);

2105 
sys_shmùl
(
th»ad
 *, 
shmùl_¬gs
 *);

2106 
sys_Í©hcÚf
(
th»ad
 *, 
Í©hcÚf_¬gs
 *);

2107 
sys___ÿp_rights_g‘
(
th»ad
 *, 
__ÿp_rights_g‘_¬gs
 *);

2108 
sys_ÿp_’‹r
(
th»ad
 *, 
ÿp_’‹r_¬gs
 *);

2109 
sys_ÿp_g‘mode
(
th»ad
 *, 
ÿp_g‘mode_¬gs
 *);

2110 
sys_pdfÜk
(
th»ad
 *, 
pdfÜk_¬gs
 *);

2111 
sys_pdkžl
(
th»ad
 *, 
pdkžl_¬gs
 *);

2112 
sys_pdg‘pid
(
th»ad
 *, 
pdg‘pid_¬gs
 *);

2113 
sys_p£Ëù
(
th»ad
 *, 
p£Ëù_¬gs
 *);

2114 
sys_g‘logšþass
(
th»ad
 *, 
g‘logšþass_¬gs
 *);

2115 
sys_£Žogšþass
(
th»ad
 *, 
£Žogšþass_¬gs
 *);

2116 
sys_rùl_g‘_¿cù
(
th»ad
 *, 
rùl_g‘_¿cù_¬gs
 *);

2117 
sys_rùl_g‘_ruËs
(
th»ad
 *, 
rùl_g‘_ruËs_¬gs
 *);

2118 
sys_rùl_g‘_lim™s
(
th»ad
 *, 
rùl_g‘_lim™s_¬gs
 *);

2119 
sys_rùl_add_ruË
(
th»ad
 *, 
rùl_add_ruË_¬gs
 *);

2120 
sys_rùl_»move_ruË
(
th»ad
 *, 
rùl_»move_ruË_¬gs
 *);

2121 
sys_posix_çÎoÿ‹
(
th»ad
 *, 
posix_çÎoÿ‹_¬gs
 *);

2122 
sys_posix_çdvi£
(
th»ad
 *, 
posix_çdvi£_¬gs
 *);

2123 
sys_wa™6
(
th»ad
 *, 
wa™6_¬gs
 *);

2124 
sys_ÿp_rights_lim™
(
th»ad
 *, 
ÿp_rights_lim™_¬gs
 *);

2125 
sys_ÿp_ioùls_lim™
(
th»ad
 *, 
ÿp_ioùls_lim™_¬gs
 *);

2126 
sys_ÿp_ioùls_g‘
(
th»ad
 *, 
ÿp_ioùls_g‘_¬gs
 *);

2127 
sys_ÿp_fúŽs_lim™
(
th»ad
 *, 
ÿp_fúŽs_lim™_¬gs
 *);

2128 
sys_ÿp_fúŽs_g‘
(
th»ad
 *, 
ÿp_fúŽs_g‘_¬gs
 *);

2129 
sys_bšd©
(
th»ad
 *, 
bšd©_¬gs
 *);

2130 
sys_cÚÃù©
(
th»ad
 *, 
cÚÃù©_¬gs
 *);

2131 
sys_chæag§t
(
th»ad
 *, 
chæag§t_¬gs
 *);

2132 
sys_acû±4
(
th»ad
 *, 
acû±4_¬gs
 *);

2133 
sys_pe2
(
th»ad
 *, 
pe2_¬gs
 *);

2134 
sys_aio_mlock
(
th»ad
 *, 
aio_mlock_¬gs
 *);

2135 
sys_´ocùl
(
th»ad
 *, 
´ocùl_¬gs
 *);

2136 
sys_µÞl
(
th»ad
 *, 
µÞl_¬gs
 *);

2137 
sys_futim’s
(
th»ad
 *, 
futim’s_¬gs
 *);

2138 
sys_utim’§t
(
th»ad
 *, 
utim’§t_¬gs
 *);

2139 
sys_fd©async
(
th»ad
 *, 
fd©async_¬gs
 *);

2140 
sys_f¡©
(
th»ad
 *, 
f¡©_¬gs
 *);

2141 
sys_f¡©©
(
th»ad
 *, 
f¡©©_¬gs
 *);

2142 
sys_fh¡©
(
th»ad
 *, 
fh¡©_¬gs
 *);

2143 
sys_g‘dœ’Œ›s
(
th»ad
 *, 
g‘dœ’Œ›s_¬gs
 *);

2144 
sys_¡©fs
(
th»ad
 *, 
¡©fs_¬gs
 *);

2145 
sys_f¡©fs
(
th»ad
 *, 
f¡©fs_¬gs
 *);

2146 
sys_g‘fs¡©
(
th»ad
 *, 
g‘fs¡©_¬gs
 *);

2147 
sys_fh¡©fs
(
th»ad
 *, 
fh¡©fs_¬gs
 *);

2148 
sys_mknod©
(
th»ad
 *, 
mknod©_¬gs
 *);

2149 
sys_kev’t
(
th»ad
 *, 
kev’t_¬gs
 *);

2150 
sys_ýu£t_g‘domaš
(
th»ad
 *, 
ýu£t_g‘domaš_¬gs
 *);

2151 
sys_ýu£t_£tdomaš
(
th»ad
 *, 
ýu£t_£tdomaš_¬gs
 *);

2152 
sys_g‘¿ndom
(
th»ad
 *, 
g‘¿ndom_¬gs
 *);

2154 #ifdeà
COMPAT_43


2156 
	soü—t_¬gs
 {

2157 
	m·th_l_
[
PADL_
(*)]; * 
	m·th
; 
	m·th_r_
[
PADR_
(*)];

2158 
	mmode_l_
[
PADL_
()]; 
	mmode
; 
	mmode_r_
[
PADR_
()];

2160 
	sÞ£ek_¬gs
 {

2161 
	mfd_l_
[
PADL_
()]; 
	mfd
; 
	mfd_r_
[
PADR_
()];

2162 
	moff£t_l_
[
PADL_
()]; 
	moff£t
; 
	moff£t_r_
[
PADR_
()];

2163 
	mwh’û_l_
[
PADL_
()]; 
	mwh’û
; 
	mwh’û_r_
[
PADR_
()];

2165 
	so¡©_¬gs
 {

2166 
	m·th_l_
[
PADL_
(*)]; * 
	m·th
; 
	m·th_r_
[
PADR_
(*)];

2167 
	mub_l_
[
PADL_
(
o¡©
 *)]; o¡© * 
	mub
; 
	mub_r_
[
PADR_
(ostat *)];

2169 
	sÞ¡©_¬gs
 {

2170 
	m·th_l_
[
PADL_
(*)]; * 
	m·th
; 
	m·th_r_
[
PADR_
(*)];

2171 
	mub_l_
[
PADL_
(
o¡©
 *)]; o¡© * 
	mub
; 
	mub_r_
[
PADR_
(ostat *)];

2173 
	sosigaùiÚ_¬gs
 {

2174 
	msignum_l_
[
PADL_
()]; 
	msignum
; 
	msignum_r_
[
PADR_
()];

2175 
	mn§_l_
[
PADL_
(
osigaùiÚ
 *)]; osigaùiÚ * 
	mn§
; 
	mn§_r_
[
PADR_
(osigaction *)];

2176 
	mo§_l_
[
PADL_
(
osigaùiÚ
 *)]; osigaùiÚ * 
	mo§
; 
	mo§_r_
[
PADR_
(osigaction *)];

2178 
	sosig´ocmask_¬gs
 {

2179 
	mhow_l_
[
PADL_
()]; 
	mhow
; 
	mhow_r_
[
PADR_
()];

2180 
	mmask_l_
[
PADL_
(
osig£t_t
)]; osig£t_ˆ
	mmask
; 
	mmask_r_
[
PADR_
(osigset_t)];

2182 
	sof¡©_¬gs
 {

2183 
	mfd_l_
[
PADL_
()]; 
	mfd
; 
	mfd_r_
[
PADR_
()];

2184 
	msb_l_
[
PADL_
(
o¡©
 *)]; o¡© * 
	msb
; 
	msb_r_
[
PADR_
(ostat *)];

2186 
	sg‘k”nšfo_¬gs
 {

2187 
	mÝ_l_
[
PADL_
()]; 
	mÝ
; 
	mÝ_r_
[
PADR_
()];

2188 
	mwh”e_l_
[
PADL_
(*)]; * 
	mwh”e
; 
	mwh”e_r_
[
PADR_
(*)];

2189 
	msize_l_
[
PADL_
(
size_t
 *)]; size_ˆ* 
	msize
; 
	msize_r_
[
PADR_
(size_t *)];

2190 
	m¬g_l_
[
PADL_
()]; 
	m¬g
; 
	m¬g_r_
[
PADR_
()];

2192 
	somm­_¬gs
 {

2193 
	maddr_l_
[
PADL_
(*)]; * 
	maddr
; 
	maddr_r_
[
PADR_
(*)];

2194 
	mËn_l_
[
PADL_
()]; 
	mËn
; 
	mËn_r_
[
PADR_
()];

2195 
	m´Ù_l_
[
PADL_
()]; 
	m´Ù
; 
	m´Ù_r_
[
PADR_
()];

2196 
	mæags_l_
[
PADL_
()]; 
	mæags
; 
	mæags_r_
[
PADR_
()];

2197 
	mfd_l_
[
PADL_
()]; 
	mfd
; 
	mfd_r_
[
PADR_
()];

2198 
	mpos_l_
[
PADL_
()]; 
	mpos
; 
	mpos_r_
[
PADR_
()];

2200 
	sg‘ho¡Çme_¬gs
 {

2201 
	mho¡Çme_l_
[
PADL_
(*)]; * 
	mho¡Çme
; 
	mho¡Çme_r_
[
PADR_
(*)];

2202 
	mËn_l_
[
PADL_
(
u_št
)]; u_šˆ
	mËn
; 
	mËn_r_
[
PADR_
(u_int)];

2204 
	s£tho¡Çme_¬gs
 {

2205 
	mho¡Çme_l_
[
PADL_
(*)]; * 
	mho¡Çme
; 
	mho¡Çme_r_
[
PADR_
(*)];

2206 
	mËn_l_
[
PADL_
(
u_št
)]; u_šˆ
	mËn
; 
	mËn_r_
[
PADR_
(u_int)];

2208 
	so£nd_¬gs
 {

2209 
	ms_l_
[
PADL_
()]; 
	ms
; 
	ms_r_
[
PADR_
()];

2210 
	mbuf_l_
[
PADL_
(
ÿddr_t
)]; caddr_ˆ
	mbuf
; 
	mbuf_r_
[
PADR_
(caddr_t)];

2211 
	mËn_l_
[
PADL_
()]; 
	mËn
; 
	mËn_r_
[
PADR_
()];

2212 
	mæags_l_
[
PADL_
()]; 
	mæags
; 
	mæags_r_
[
PADR_
()];

2214 
	sÜecv_¬gs
 {

2215 
	ms_l_
[
PADL_
()]; 
	ms
; 
	ms_r_
[
PADR_
()];

2216 
	mbuf_l_
[
PADL_
(
ÿddr_t
)]; caddr_ˆ
	mbuf
; 
	mbuf_r_
[
PADR_
(caddr_t)];

2217 
	mËn_l_
[
PADL_
()]; 
	mËn
; 
	mËn_r_
[
PADR_
()];

2218 
	mæags_l_
[
PADL_
()]; 
	mæags
; 
	mæags_r_
[
PADR_
()];

2220 
	sosig»tuº_¬gs
 {

2221 
	msigútxp_l_
[
PADL_
(
osigcÚ‹xt
 *)]; osigcÚ‹xˆ* 
	msigútxp
; 
	msigútxp_r_
[
PADR_
(osigcontext *)];

2223 
	sosigvec_¬gs
 {

2224 
	msignum_l_
[
PADL_
()]; 
	msignum
; 
	msignum_r_
[
PADR_
()];

2225 
	mnsv_l_
[
PADL_
(
sigvec
 *)]; sigveø* 
	mnsv
; 
	mnsv_r_
[
PADR_
(sigvec *)];

2226 
	mosv_l_
[
PADL_
(
sigvec
 *)]; sigveø* 
	mosv
; 
	mosv_r_
[
PADR_
(sigvec *)];

2228 
	sosigblock_¬gs
 {

2229 
	mmask_l_
[
PADL_
()]; 
	mmask
; 
	mmask_r_
[
PADR_
()];

2231 
	sosig£tmask_¬gs
 {

2232 
	mmask_l_
[
PADL_
()]; 
	mmask
; 
	mmask_r_
[
PADR_
()];

2234 
	sosigsu¥’d_¬gs
 {

2235 
	mmask_l_
[
PADL_
(
osig£t_t
)]; osig£t_ˆ
	mmask
; 
	mmask_r_
[
PADR_
(osigset_t)];

2237 
	sosig¡ack_¬gs
 {

2238 
	mnss_l_
[
PADL_
(
sig¡ack
 *)]; sig¡ack * 
	mnss
; 
	mnss_r_
[
PADR_
(sigstack *)];

2239 
	moss_l_
[
PADL_
(
sig¡ack
 *)]; sig¡ack * 
	moss
; 
	moss_r_
[
PADR_
(sigstack *)];

2241 
	sÜecvmsg_¬gs
 {

2242 
	ms_l_
[
PADL_
()]; 
	ms
; 
	ms_r_
[
PADR_
()];

2243 
	mmsg_l_
[
PADL_
(
omsghdr
 *)]; omsghd¸* 
	mmsg
; 
	mmsg_r_
[
PADR_
(omsghdr *)];

2244 
	mæags_l_
[
PADL_
()]; 
	mæags
; 
	mæags_r_
[
PADR_
()];

2246 
	so£ndmsg_¬gs
 {

2247 
	ms_l_
[
PADL_
()]; 
	ms
; 
	ms_r_
[
PADR_
()];

2248 
	mmsg_l_
[
PADL_
(
ÿddr_t
)]; caddr_ˆ
	mmsg
; 
	mmsg_r_
[
PADR_
(caddr_t)];

2249 
	mæags_l_
[
PADL_
()]; 
	mæags
; 
	mæags_r_
[
PADR_
()];

2251 
	sÙrunÿ‹_¬gs
 {

2252 
	m·th_l_
[
PADL_
(*)]; * 
	m·th
; 
	m·th_r_
[
PADR_
(*)];

2253 
	mËngth_l_
[
PADL_
()]; 
	mËngth
; 
	mËngth_r_
[
PADR_
()];

2255 
	soárunÿ‹_¬gs
 {

2256 
	mfd_l_
[
PADL_
()]; 
	mfd
; 
	mfd_r_
[
PADR_
()];

2257 
	mËngth_l_
[
PADL_
()]; 
	mËngth
; 
	mËngth_r_
[
PADR_
()];

2259 
	sog‘³”Çme_¬gs
 {

2260 
	mfdes_l_
[
PADL_
()]; 
	mfdes
; 
	mfdes_r_
[
PADR_
()];

2261 
	ma§_l_
[
PADL_
(
ÿddr_t
)]; caddr_ˆ
	ma§
; 
	ma§_r_
[
PADR_
(caddr_t)];

2262 
	m®’_l_
[
PADL_
(*)]; * 
	m®’
; 
	m®’_r_
[
PADR_
(*)];

2264 
	so£tho¡id_¬gs
 {

2265 
	mho¡id_l_
[
PADL_
()]; 
	mho¡id
; 
	mho¡id_r_
[
PADR_
()];

2267 
	sog‘¾im™_¬gs
 {

2268 
	mwhich_l_
[
PADL_
(
u_št
)]; u_šˆ
	mwhich
; 
	mwhich_r_
[
PADR_
(u_int)];

2269 
	m¾p_l_
[
PADL_
(
Ülim™
 *)]; Ülim™ * 
	m¾p
; 
	m¾p_r_
[
PADR_
(orlimit *)];

2271 
	so£Œlim™_¬gs
 {

2272 
	mwhich_l_
[
PADL_
(
u_št
)]; u_šˆ
	mwhich
; 
	mwhich_r_
[
PADR_
(u_int)];

2273 
	m¾p_l_
[
PADL_
(
Ülim™
 *)]; Ülim™ * 
	m¾p
; 
	m¾p_r_
[
PADR_
(orlimit *)];

2275 
	sokžÍg_¬gs
 {

2276 
	mpgid_l_
[
PADL_
()]; 
	mpgid
; 
	mpgid_r_
[
PADR_
()];

2277 
	msignum_l_
[
PADL_
()]; 
	msignum
; 
	msignum_r_
[
PADR_
()];

2279 
	sog‘dœ’Œ›s_¬gs
 {

2280 
	mfd_l_
[
PADL_
()]; 
	mfd
; 
	mfd_r_
[
PADR_
()];

2281 
	mbuf_l_
[
PADL_
(*)]; * 
	mbuf
; 
	mbuf_r_
[
PADR_
(*)];

2282 
	mcouÁ_l_
[
PADL_
(
u_št
)]; u_šˆ
	mcouÁ
; 
	mcouÁ_r_
[
PADR_
(u_int)];

2283 
	mba£p_l_
[
PADL_
(*)]; * 
	mba£p
; 
	mba£p_r_
[
PADR_
(*)];

2285 
oü—t
(
th»ad
 *, 
oü—t_¬gs
 *);

2286 
Þ£ek
(
th»ad
 *, 
Þ£ek_¬gs
 *);

2287 
o¡©
(
th»ad
 *, 
o¡©_¬gs
 *);

2288 
Þ¡©
(
th»ad
 *, 
Þ¡©_¬gs
 *);

2289 
osigaùiÚ
(
th»ad
 *, 
osigaùiÚ_¬gs
 *);

2290 
osig´ocmask
(
th»ad
 *, 
osig´ocmask_¬gs
 *);

2291 
osig³ndšg
(
th»ad
 *, 
osig³ndšg_¬gs
 *);

2292 
of¡©
(
th»ad
 *, 
of¡©_¬gs
 *);

2293 
og‘k”nšfo
(
th»ad
 *, 
g‘k”nšfo_¬gs
 *);

2294 
og‘·gesize
(
th»ad
 *, 
g‘·gesize_¬gs
 *);

2295 
omm­
(
th»ad
 *, 
omm­_¬gs
 *);

2296 
owa™
(
th»ad
 *, 
owa™_¬gs
 *);

2297 
og‘ho¡Çme
(
th»ad
 *, 
g‘ho¡Çme_¬gs
 *);

2298 
o£tho¡Çme
(
th»ad
 *, 
£tho¡Çme_¬gs
 *);

2299 
ßcû±
(
th»ad
 *, 
acû±_¬gs
 *);

2300 
o£nd
(
th»ad
 *, 
o£nd_¬gs
 *);

2301 
Üecv
(
th»ad
 *, 
Üecv_¬gs
 *);

2302 
osig»tuº
(
th»ad
 *, 
osig»tuº_¬gs
 *);

2303 
osigvec
(
th»ad
 *, 
osigvec_¬gs
 *);

2304 
osigblock
(
th»ad
 *, 
osigblock_¬gs
 *);

2305 
osig£tmask
(
th»ad
 *, 
osig£tmask_¬gs
 *);

2306 
osigsu¥’d
(
th»ad
 *, 
osigsu¥’d_¬gs
 *);

2307 
osig¡ack
(
th»ad
 *, 
osig¡ack_¬gs
 *);

2308 
Üecvmsg
(
th»ad
 *, 
Üecvmsg_¬gs
 *);

2309 
o£ndmsg
(
th»ad
 *, 
o£ndmsg_¬gs
 *);

2310 
Üecväom
(
th»ad
 *, 
»cväom_¬gs
 *);

2311 
Ùrunÿ‹
(
th»ad
 *, 
Ùrunÿ‹_¬gs
 *);

2312 
oárunÿ‹
(
th»ad
 *, 
oárunÿ‹_¬gs
 *);

2313 
og‘³”Çme
(
th»ad
 *, 
og‘³”Çme_¬gs
 *);

2314 
og‘ho¡id
(
th»ad
 *, 
og‘ho¡id_¬gs
 *);

2315 
o£tho¡id
(
th»ad
 *, 
o£tho¡id_¬gs
 *);

2316 
og‘¾im™
(
th»ad
 *, 
og‘¾im™_¬gs
 *);

2317 
o£Œlim™
(
th»ad
 *, 
o£Œlim™_¬gs
 *);

2318 
okžÍg
(
th»ad
 *, 
okžÍg_¬gs
 *);

2319 
oquÙa
(
th»ad
 *, 
oquÙa_¬gs
 *);

2320 
og‘sockÇme
(
th»ad
 *, 
g‘sockÇme_¬gs
 *);

2321 
og‘dœ’Œ›s
(
th»ad
 *, 
og‘dœ’Œ›s_¬gs
 *);

2326 #ifdeà
COMPAT_FREEBSD4


2328 
	sä“bsd4_g‘fs¡©_¬gs
 {

2329 
	mbuf_l_
[
PADL_
(
o¡©fs
 *)]; o¡©f * 
	mbuf
; 
	mbuf_r_
[
PADR_
(ostatfs *)];

2330 
	mbufsize_l_
[
PADL_
()]; 
	mbufsize
; 
	mbufsize_r_
[
PADR_
()];

2331 
	mmode_l_
[
PADL_
()]; 
	mmode
; 
	mmode_r_
[
PADR_
()];

2333 
	sä“bsd4_¡©fs_¬gs
 {

2334 
	m·th_l_
[
PADL_
(*)]; * 
	m·th
; 
	m·th_r_
[
PADR_
(*)];

2335 
	mbuf_l_
[
PADL_
(
o¡©fs
 *)]; o¡©f * 
	mbuf
; 
	mbuf_r_
[
PADR_
(ostatfs *)];

2337 
	sä“bsd4_f¡©fs_¬gs
 {

2338 
	mfd_l_
[
PADL_
()]; 
	mfd
; 
	mfd_r_
[
PADR_
()];

2339 
	mbuf_l_
[
PADL_
(
o¡©fs
 *)]; o¡©f * 
	mbuf
; 
	mbuf_r_
[
PADR_
(ostatfs *)];

2341 
	sä“bsd4_g‘domašÇme_¬gs
 {

2342 
	mdomašÇme_l_
[
PADL_
(*)]; * 
	mdomašÇme
; 
	mdomašÇme_r_
[
PADR_
(*)];

2343 
	mËn_l_
[
PADL_
()]; 
	mËn
; 
	mËn_r_
[
PADR_
()];

2345 
	sä“bsd4_£tdomašÇme_¬gs
 {

2346 
	mdomašÇme_l_
[
PADL_
(*)]; * 
	mdomašÇme
; 
	mdomašÇme_r_
[
PADR_
(*)];

2347 
	mËn_l_
[
PADL_
()]; 
	mËn
; 
	mËn_r_
[
PADR_
()];

2349 
	sä“bsd4_uÇme_¬gs
 {

2350 
	mÇme_l_
[
PADL_
(
ut¢ame
 *)]; ut¢am* 
	mÇme
; 
	mÇme_r_
[
PADR_
(utsname *)];

2352 
	sä“bsd4_fh¡©fs_¬gs
 {

2353 
	mu_fhp_l_
[
PADL_
(cÚ¡ 
fhªdË
 *)]; cÚ¡ fhªdË * 
	mu_fhp
; 
	mu_fhp_r_
[
PADR_
(const fhandle *)];

2354 
	mbuf_l_
[
PADL_
(
o¡©fs
 *)]; o¡©f * 
	mbuf
; 
	mbuf_r_
[
PADR_
(ostatfs *)];

2356 
	sä“bsd4_£ndfže_¬gs
 {

2357 
	mfd_l_
[
PADL_
()]; 
	mfd
; 
	mfd_r_
[
PADR_
()];

2358 
	ms_l_
[
PADL_
()]; 
	ms
; 
	ms_r_
[
PADR_
()];

2359 
	moff£t_l_
[
PADL_
(
off_t
)]; off_ˆ
	moff£t
; 
	moff£t_r_
[
PADR_
(off_t)];

2360 
	mnby‹s_l_
[
PADL_
(
size_t
)]; size_ˆ
	mnby‹s
; 
	mnby‹s_r_
[
PADR_
(size_t)];

2361 
	mhdŒ_l_
[
PADL_
(
sf_hdŒ
 *)]; sf_hdŒ * 
	mhdŒ
; 
	mhdŒ_r_
[
PADR_
(sf_hdtr *)];

2362 
	msby‹s_l_
[
PADL_
(
off_t
 *)]; off_ˆ* 
	msby‹s
; 
	msby‹s_r_
[
PADR_
(off_t *)];

2363 
	mæags_l_
[
PADL_
()]; 
	mæags
; 
	mæags_r_
[
PADR_
()];

2365 
	sä“bsd4_sigaùiÚ_¬gs
 {

2366 
	msig_l_
[
PADL_
()]; 
	msig
; 
	msig_r_
[
PADR_
()];

2367 
	maù_l_
[
PADL_
(cÚ¡ 
sigaùiÚ
 *)]; cÚ¡ sigaùiÚ * 
	maù
; 
	maù_r_
[
PADR_
(const sigaction *)];

2368 
	mßù_l_
[
PADL_
(
sigaùiÚ
 *)]; sigaùiÚ * 
	mßù
; 
	mßù_r_
[
PADR_
(sigaction *)];

2370 
	sä“bsd4_sig»tuº_¬gs
 {

2371 
	msigútxp_l_
[
PADL_
(cÚ¡ 
ucÚ‹xt4
 *)]; cÚ¡ ucÚ‹xt4 * 
	msigútxp
; 
	msigútxp_r_
[
PADR_
(const ucontext4 *)];

2373 
ä“bsd4_g‘fs¡©
(
th»ad
 *, 
ä“bsd4_g‘fs¡©_¬gs
 *);

2374 
ä“bsd4_¡©fs
(
th»ad
 *, 
ä“bsd4_¡©fs_¬gs
 *);

2375 
ä“bsd4_f¡©fs
(
th»ad
 *, 
ä“bsd4_f¡©fs_¬gs
 *);

2376 
ä“bsd4_g‘domašÇme
(
th»ad
 *, 
ä“bsd4_g‘domašÇme_¬gs
 *);

2377 
ä“bsd4_£tdomašÇme
(
th»ad
 *, 
ä“bsd4_£tdomašÇme_¬gs
 *);

2378 
ä“bsd4_uÇme
(
th»ad
 *, 
ä“bsd4_uÇme_¬gs
 *);

2379 
ä“bsd4_fh¡©fs
(
th»ad
 *, 
ä“bsd4_fh¡©fs_¬gs
 *);

2380 
ä“bsd4_£ndfže
(
th»ad
 *, 
ä“bsd4_£ndfže_¬gs
 *);

2381 
ä“bsd4_sigaùiÚ
(
th»ad
 *, 
ä“bsd4_sigaùiÚ_¬gs
 *);

2382 
ä“bsd4_sig»tuº
(
th»ad
 *, 
ä“bsd4_sig»tuº_¬gs
 *);

2387 #ifdeà
COMPAT_FREEBSD6


2389 
	sä“bsd6_´—d_¬gs
 {

2390 
	mfd_l_
[
PADL_
()]; 
	mfd
; 
	mfd_r_
[
PADR_
()];

2391 
	mbuf_l_
[
PADL_
(*)]; * 
	mbuf
; 
	mbuf_r_
[
PADR_
(*)];

2392 
	mnby‹_l_
[
PADL_
(
size_t
)]; size_ˆ
	mnby‹
; 
	mnby‹_r_
[
PADR_
(size_t)];

2393 
	m·d_l_
[
PADL_
()]; 
	m·d
; 
	m·d_r_
[
PADR_
()];

2394 
	moff£t_l_
[
PADL_
(
off_t
)]; off_ˆ
	moff£t
; 
	moff£t_r_
[
PADR_
(off_t)];

2396 
	sä“bsd6_pwr™e_¬gs
 {

2397 
	mfd_l_
[
PADL_
()]; 
	mfd
; 
	mfd_r_
[
PADR_
()];

2398 
	mbuf_l_
[
PADL_
(cÚ¡ *)]; cÚ¡ * 
	mbuf
; 
	mbuf_r_
[
PADR_
(const *)];

2399 
	mnby‹_l_
[
PADL_
(
size_t
)]; size_ˆ
	mnby‹
; 
	mnby‹_r_
[
PADR_
(size_t)];

2400 
	m·d_l_
[
PADL_
()]; 
	m·d
; 
	m·d_r_
[
PADR_
()];

2401 
	moff£t_l_
[
PADL_
(
off_t
)]; off_ˆ
	moff£t
; 
	moff£t_r_
[
PADR_
(off_t)];

2403 
	sä“bsd6_mm­_¬gs
 {

2404 
	maddr_l_
[
PADL_
(
ÿddr_t
)]; caddr_ˆ
	maddr
; 
	maddr_r_
[
PADR_
(caddr_t)];

2405 
	mËn_l_
[
PADL_
(
size_t
)]; size_ˆ
	mËn
; 
	mËn_r_
[
PADR_
(size_t)];

2406 
	m´Ù_l_
[
PADL_
()]; 
	m´Ù
; 
	m´Ù_r_
[
PADR_
()];

2407 
	mæags_l_
[
PADL_
()]; 
	mæags
; 
	mæags_r_
[
PADR_
()];

2408 
	mfd_l_
[
PADL_
()]; 
	mfd
; 
	mfd_r_
[
PADR_
()];

2409 
	m·d_l_
[
PADL_
()]; 
	m·d
; 
	m·d_r_
[
PADR_
()];

2410 
	mpos_l_
[
PADL_
(
off_t
)]; off_ˆ
	mpos
; 
	mpos_r_
[
PADR_
(off_t)];

2412 
	sä“bsd6_l£ek_¬gs
 {

2413 
	mfd_l_
[
PADL_
()]; 
	mfd
; 
	mfd_r_
[
PADR_
()];

2414 
	m·d_l_
[
PADL_
()]; 
	m·d
; 
	m·d_r_
[
PADR_
()];

2415 
	moff£t_l_
[
PADL_
(
off_t
)]; off_ˆ
	moff£t
; 
	moff£t_r_
[
PADR_
(off_t)];

2416 
	mwh’û_l_
[
PADL_
()]; 
	mwh’û
; 
	mwh’û_r_
[
PADR_
()];

2418 
	sä“bsd6_Œunÿ‹_¬gs
 {

2419 
	m·th_l_
[
PADL_
(*)]; * 
	m·th
; 
	m·th_r_
[
PADR_
(*)];

2420 
	m·d_l_
[
PADL_
()]; 
	m·d
; 
	m·d_r_
[
PADR_
()];

2421 
	mËngth_l_
[
PADL_
(
off_t
)]; off_ˆ
	mËngth
; 
	mËngth_r_
[
PADR_
(off_t)];

2423 
	sä“bsd6_árunÿ‹_¬gs
 {

2424 
	mfd_l_
[
PADL_
()]; 
	mfd
; 
	mfd_r_
[
PADR_
()];

2425 
	m·d_l_
[
PADL_
()]; 
	m·d
; 
	m·d_r_
[
PADR_
()];

2426 
	mËngth_l_
[
PADL_
(
off_t
)]; off_ˆ
	mËngth
; 
	mËngth_r_
[
PADR_
(off_t)];

2428 
	sä“bsd6_aio_»ad_¬gs
 {

2429 
	maiocbp_l_
[
PADL_
(
ßiocb
 *)]; ßiocb * 
	maiocbp
; 
	maiocbp_r_
[
PADR_
(oaiocb *)];

2431 
	sä“bsd6_aio_wr™e_¬gs
 {

2432 
	maiocbp_l_
[
PADL_
(
ßiocb
 *)]; ßiocb * 
	maiocbp
; 
	maiocbp_r_
[
PADR_
(oaiocb *)];

2434 
	sä“bsd6_lio_li¡io_¬gs
 {

2435 
	mmode_l_
[
PADL_
()]; 
	mmode
; 
	mmode_r_
[
PADR_
()];

2436 
	macb_li¡_l_
[
PADL_
(
ßiocb
 *cÚ¡ *)]; ßiocb *cÚ¡ * 
	macb_li¡
; 
	macb_li¡_r_
[
PADR_
(oaiocb *const *)];

2437 
	mÃÁ_l_
[
PADL_
()]; 
	mÃÁ
; 
	mÃÁ_r_
[
PADR_
()];

2438 
	msig_l_
[
PADL_
(
osigev’t
 *)]; osigev’ˆ* 
	msig
; 
	msig_r_
[
PADR_
(osigevent *)];

2440 
ä“bsd6_´—d
(
th»ad
 *, 
ä“bsd6_´—d_¬gs
 *);

2441 
ä“bsd6_pwr™e
(
th»ad
 *, 
ä“bsd6_pwr™e_¬gs
 *);

2442 
ä“bsd6_mm­
(
th»ad
 *, 
ä“bsd6_mm­_¬gs
 *);

2443 
ä“bsd6_l£ek
(
th»ad
 *, 
ä“bsd6_l£ek_¬gs
 *);

2444 
ä“bsd6_Œunÿ‹
(
th»ad
 *, 
ä“bsd6_Œunÿ‹_¬gs
 *);

2445 
ä“bsd6_árunÿ‹
(
th»ad
 *, 
ä“bsd6_árunÿ‹_¬gs
 *);

2446 
ä“bsd6_aio_»ad
(
th»ad
 *, 
ä“bsd6_aio_»ad_¬gs
 *);

2447 
ä“bsd6_aio_wr™e
(
th»ad
 *, 
ä“bsd6_aio_wr™e_¬gs
 *);

2448 
ä“bsd6_lio_li¡io
(
th»ad
 *, 
ä“bsd6_lio_li¡io_¬gs
 *);

2453 #ifdeà
COMPAT_FREEBSD7


2455 
	sä“bsd7___£mùl_¬gs
 {

2456 
	m£mid_l_
[
PADL_
()]; 
	m£mid
; 
	m£mid_r_
[
PADR_
()];

2457 
	m£mnum_l_
[
PADL_
()]; 
	m£mnum
; 
	m£mnum_r_
[
PADR_
()];

2458 
	mcmd_l_
[
PADL_
()]; 
	mcmd
; 
	mcmd_r_
[
PADR_
()];

2459 
	m¬g_l_
[
PADL_
(
£mun_Þd
 *)]; £mun_Þd * 
	m¬g
; 
	m¬g_r_
[
PADR_
(semun_old *)];

2461 
	sä“bsd7_msgùl_¬gs
 {

2462 
	mmsqid_l_
[
PADL_
()]; 
	mmsqid
; 
	mmsqid_r_
[
PADR_
()];

2463 
	mcmd_l_
[
PADL_
()]; 
	mcmd
; 
	mcmd_r_
[
PADR_
()];

2464 
	mbuf_l_
[
PADL_
(
msqid_ds_Þd
 *)]; msqid_ds_Þd * 
	mbuf
; 
	mbuf_r_
[
PADR_
(msqid_ds_old *)];

2466 
	sä“bsd7_shmùl_¬gs
 {

2467 
	mshmid_l_
[
PADL_
()]; 
	mshmid
; 
	mshmid_r_
[
PADR_
()];

2468 
	mcmd_l_
[
PADL_
()]; 
	mcmd
; 
	mcmd_r_
[
PADR_
()];

2469 
	mbuf_l_
[
PADL_
(
shmid_ds_Þd
 *)]; shmid_ds_Þd * 
	mbuf
; 
	mbuf_r_
[
PADR_
(shmid_ds_old *)];

2471 
ä“bsd7___£mùl
(
th»ad
 *, 
ä“bsd7___£mùl_¬gs
 *);

2472 
ä“bsd7_msgùl
(
th»ad
 *, 
ä“bsd7_msgùl_¬gs
 *);

2473 
ä“bsd7_shmùl
(
th»ad
 *, 
ä“bsd7_shmùl_¬gs
 *);

2478 #ifdeà
COMPAT_FREEBSD10


2480 
ä“bsd10_pe
(
th»ad
 *, 
ä“bsd10_pe_¬gs
 *);

2485 #ifdeà
COMPAT_FREEBSD11


2487 
	sä“bsd11_mknod_¬gs
 {

2488 
	m·th_l_
[
PADL_
(*)]; * 
	m·th
; 
	m·th_r_
[
PADR_
(*)];

2489 
	mmode_l_
[
PADL_
()]; 
	mmode
; 
	mmode_r_
[
PADR_
()];

2490 
	mdev_l_
[
PADL_
(
ušt32_t
)]; ušt32_ˆ
	mdev
; 
	mdev_r_
[
PADR_
(uint32_t)];

2492 
	sä“bsd11_vadvi£_¬gs
 {

2493 
	mªom_l_
[
PADL_
()]; 
	mªom
; 
	mªom_r_
[
PADR_
()];

2495 
	sä“bsd11_¡©_¬gs
 {

2496 
	m·th_l_
[
PADL_
(*)]; * 
	m·th
; 
	m·th_r_
[
PADR_
(*)];

2497 
	mub_l_
[
PADL_
(
ä“bsd11_¡©
 *)]; ä“bsd11_¡© * 
	mub
; 
	mub_r_
[
PADR_
(freebsd11_stat *)];

2499 
	sä“bsd11_f¡©_¬gs
 {

2500 
	mfd_l_
[
PADL_
()]; 
	mfd
; 
	mfd_r_
[
PADR_
()];

2501 
	msb_l_
[
PADL_
(
ä“bsd11_¡©
 *)]; ä“bsd11_¡© * 
	msb
; 
	msb_r_
[
PADR_
(freebsd11_stat *)];

2503 
	sä“bsd11_l¡©_¬gs
 {

2504 
	m·th_l_
[
PADL_
(*)]; * 
	m·th
; 
	m·th_r_
[
PADR_
(*)];

2505 
	mub_l_
[
PADL_
(
ä“bsd11_¡©
 *)]; ä“bsd11_¡© * 
	mub
; 
	mub_r_
[
PADR_
(freebsd11_stat *)];

2507 
	sä“bsd11_g‘dœ’Œ›s_¬gs
 {

2508 
	mfd_l_
[
PADL_
()]; 
	mfd
; 
	mfd_r_
[
PADR_
()];

2509 
	mbuf_l_
[
PADL_
(*)]; * 
	mbuf
; 
	mbuf_r_
[
PADR_
(*)];

2510 
	mcouÁ_l_
[
PADL_
(
u_št
)]; u_šˆ
	mcouÁ
; 
	mcouÁ_r_
[
PADR_
(u_int)];

2511 
	mba£p_l_
[
PADL_
(*)]; * 
	mba£p
; 
	mba£p_r_
[
PADR_
(*)];

2513 
	sä“bsd11_g‘d’ts_¬gs
 {

2514 
	mfd_l_
[
PADL_
()]; 
	mfd
; 
	mfd_r_
[
PADR_
()];

2515 
	mbuf_l_
[
PADL_
(*)]; * 
	mbuf
; 
	mbuf_r_
[
PADR_
(*)];

2516 
	mcouÁ_l_
[
PADL_
(
size_t
)]; size_ˆ
	mcouÁ
; 
	mcouÁ_r_
[
PADR_
(size_t)];

2518 
	sä“bsd11_n¡©_¬gs
 {

2519 
	m·th_l_
[
PADL_
(*)]; * 
	m·th
; 
	m·th_r_
[
PADR_
(*)];

2520 
	mub_l_
[
PADL_
(
n¡©
 *)]; n¡© * 
	mub
; 
	mub_r_
[
PADR_
(nstat *)];

2522 
	sä“bsd11_nf¡©_¬gs
 {

2523 
	mfd_l_
[
PADL_
()]; 
	mfd
; 
	mfd_r_
[
PADR_
()];

2524 
	msb_l_
[
PADL_
(
n¡©
 *)]; n¡© * 
	msb
; 
	msb_r_
[
PADR_
(nstat *)];

2526 
	sä“bsd11_Æ¡©_¬gs
 {

2527 
	m·th_l_
[
PADL_
(*)]; * 
	m·th
; 
	m·th_r_
[
PADR_
(*)];

2528 
	mub_l_
[
PADL_
(
n¡©
 *)]; n¡© * 
	mub
; 
	mub_r_
[
PADR_
(nstat *)];

2530 
	sä“bsd11_fh¡©_¬gs
 {

2531 
	mu_fhp_l_
[
PADL_
(cÚ¡ 
fhªdË
 *)]; cÚ¡ fhªdË * 
	mu_fhp
; 
	mu_fhp_r_
[
PADR_
(const fhandle *)];

2532 
	msb_l_
[
PADL_
(
ä“bsd11_¡©
 *)]; ä“bsd11_¡© * 
	msb
; 
	msb_r_
[
PADR_
(freebsd11_stat *)];

2534 
	sä“bsd11_kev’t_¬gs
 {

2535 
	mfd_l_
[
PADL_
()]; 
	mfd
; 
	mfd_r_
[
PADR_
()];

2536 
	mchªg–i¡_l_
[
PADL_
(
kev’t_ä“bsd11
 *)]; kev’t_ä“bsd11 * 
	mchªg–i¡
; 
	mchªg–i¡_r_
[
PADR_
(kevent_freebsd11 *)];

2537 
	mnchªges_l_
[
PADL_
()]; 
	mnchªges
; 
	mnchªges_r_
[
PADR_
()];

2538 
	mev’Ži¡_l_
[
PADL_
(
kev’t_ä“bsd11
 *)]; kev’t_ä“bsd11 * 
	mev’Ži¡
; 
	mev’Ži¡_r_
[
PADR_
(kevent_freebsd11 *)];

2539 
	mÃv’ts_l_
[
PADL_
()]; 
	mÃv’ts
; 
	mÃv’ts_r_
[
PADR_
()];

2540 
	mtimeout_l_
[
PADL_
(cÚ¡ 
time¥ec
 *)]; cÚ¡ time¥eø* 
	mtimeout
; 
	mtimeout_r_
[
PADR_
(const timespec *)];

2542 
	sä“bsd11_g‘fs¡©_¬gs
 {

2543 
	mbuf_l_
[
PADL_
(
ä“bsd11_¡©fs
 *)]; ä“bsd11_¡©f * 
	mbuf
; 
	mbuf_r_
[
PADR_
(freebsd11_statfs *)];

2544 
	mbufsize_l_
[
PADL_
()]; 
	mbufsize
; 
	mbufsize_r_
[
PADR_
()];

2545 
	mmode_l_
[
PADL_
()]; 
	mmode
; 
	mmode_r_
[
PADR_
()];

2547 
	sä“bsd11_¡©fs_¬gs
 {

2548 
	m·th_l_
[
PADL_
(*)]; * 
	m·th
; 
	m·th_r_
[
PADR_
(*)];

2549 
	mbuf_l_
[
PADL_
(
ä“bsd11_¡©fs
 *)]; ä“bsd11_¡©f * 
	mbuf
; 
	mbuf_r_
[
PADR_
(freebsd11_statfs *)];

2551 
	sä“bsd11_f¡©fs_¬gs
 {

2552 
	mfd_l_
[
PADL_
()]; 
	mfd
; 
	mfd_r_
[
PADR_
()];

2553 
	mbuf_l_
[
PADL_
(
ä“bsd11_¡©fs
 *)]; ä“bsd11_¡©f * 
	mbuf
; 
	mbuf_r_
[
PADR_
(freebsd11_statfs *)];

2555 
	sä“bsd11_fh¡©fs_¬gs
 {

2556 
	mu_fhp_l_
[
PADL_
(cÚ¡ 
fhªdË
 *)]; cÚ¡ fhªdË * 
	mu_fhp
; 
	mu_fhp_r_
[
PADR_
(const fhandle *)];

2557 
	mbuf_l_
[
PADL_
(
ä“bsd11_¡©fs
 *)]; ä“bsd11_¡©f * 
	mbuf
; 
	mbuf_r_
[
PADR_
(freebsd11_statfs *)];

2559 
	sä“bsd11_f¡©©_¬gs
 {

2560 
	mfd_l_
[
PADL_
()]; 
	mfd
; 
	mfd_r_
[
PADR_
()];

2561 
	m·th_l_
[
PADL_
(*)]; * 
	m·th
; 
	m·th_r_
[
PADR_
(*)];

2562 
	mbuf_l_
[
PADL_
(
ä“bsd11_¡©
 *)]; ä“bsd11_¡© * 
	mbuf
; 
	mbuf_r_
[
PADR_
(freebsd11_stat *)];

2563 
	mæag_l_
[
PADL_
()]; 
	mæag
; 
	mæag_r_
[
PADR_
()];

2565 
	sä“bsd11_mknod©_¬gs
 {

2566 
	mfd_l_
[
PADL_
()]; 
	mfd
; 
	mfd_r_
[
PADR_
()];

2567 
	m·th_l_
[
PADL_
(*)]; * 
	m·th
; 
	m·th_r_
[
PADR_
(*)];

2568 
	mmode_l_
[
PADL_
(
mode_t
)]; mode_ˆ
	mmode
; 
	mmode_r_
[
PADR_
(mode_t)];

2569 
	mdev_l_
[
PADL_
(
ušt32_t
)]; ušt32_ˆ
	mdev
; 
	mdev_r_
[
PADR_
(uint32_t)];

2571 
ä“bsd11_mknod
(
th»ad
 *, 
ä“bsd11_mknod_¬gs
 *);

2572 
ä“bsd11_vadvi£
(
th»ad
 *, 
ä“bsd11_vadvi£_¬gs
 *);

2573 
ä“bsd11_¡©
(
th»ad
 *, 
ä“bsd11_¡©_¬gs
 *);

2574 
ä“bsd11_f¡©
(
th»ad
 *, 
ä“bsd11_f¡©_¬gs
 *);

2575 
ä“bsd11_l¡©
(
th»ad
 *, 
ä“bsd11_l¡©_¬gs
 *);

2576 
ä“bsd11_g‘dœ’Œ›s
(
th»ad
 *, 
ä“bsd11_g‘dœ’Œ›s_¬gs
 *);

2577 
ä“bsd11_g‘d’ts
(
th»ad
 *, 
ä“bsd11_g‘d’ts_¬gs
 *);

2578 
ä“bsd11_n¡©
(
th»ad
 *, 
ä“bsd11_n¡©_¬gs
 *);

2579 
ä“bsd11_nf¡©
(
th»ad
 *, 
ä“bsd11_nf¡©_¬gs
 *);

2580 
ä“bsd11_Æ¡©
(
th»ad
 *, 
ä“bsd11_Æ¡©_¬gs
 *);

2581 
ä“bsd11_fh¡©
(
th»ad
 *, 
ä“bsd11_fh¡©_¬gs
 *);

2582 
ä“bsd11_kev’t
(
th»ad
 *, 
ä“bsd11_kev’t_¬gs
 *);

2583 
ä“bsd11_g‘fs¡©
(
th»ad
 *, 
ä“bsd11_g‘fs¡©_¬gs
 *);

2584 
ä“bsd11_¡©fs
(
th»ad
 *, 
ä“bsd11_¡©fs_¬gs
 *);

2585 
ä“bsd11_f¡©fs
(
th»ad
 *, 
ä“bsd11_f¡©fs_¬gs
 *);

2586 
ä“bsd11_fh¡©fs
(
th»ad
 *, 
ä“bsd11_fh¡©fs_¬gs
 *);

2587 
ä“bsd11_f¡©©
(
th»ad
 *, 
ä“bsd11_f¡©©_¬gs
 *);

2588 
ä“bsd11_mknod©
(
th»ad
 *, 
ä“bsd11_mknod©_¬gs
 *);

2592 
	#SYS_AUE_sysÿÎ
 
AUE_NULL


	)

2593 
	#SYS_AUE_ex™
 
AUE_EXIT


	)

2594 
	#SYS_AUE_fÜk
 
AUE_FORK


	)

2595 
	#SYS_AUE_»ad
 
AUE_READ


	)

2596 
	#SYS_AUE_wr™e
 
AUE_WRITE


	)

2597 
	#SYS_AUE_Ý’
 
AUE_OPEN_RWTC


	)

2598 
	#SYS_AUE_þo£
 
AUE_CLOSE


	)

2599 
	#SYS_AUE_wa™4
 
AUE_WAIT4


	)

2600 
	#SYS_AUE_oü—t
 
AUE_CREAT


	)

2601 
	#SYS_AUE_lšk
 
AUE_LINK


	)

2602 
	#SYS_AUE_uÆšk
 
AUE_UNLINK


	)

2603 
	#SYS_AUE_chdœ
 
AUE_CHDIR


	)

2604 
	#SYS_AUE_fchdœ
 
AUE_FCHDIR


	)

2605 
	#SYS_AUE_ä“bsd11_mknod
 
AUE_MKNOD


	)

2606 
	#SYS_AUE_chmod
 
AUE_CHMOD


	)

2607 
	#SYS_AUE_chown
 
AUE_CHOWN


	)

2608 
	#SYS_AUE_b»ak
 
AUE_NULL


	)

2609 
	#SYS_AUE_ä“bsd4_g‘fs¡©
 
AUE_GETFSSTAT


	)

2610 
	#SYS_AUE_Þ£ek
 
AUE_LSEEK


	)

2611 
	#SYS_AUE_g‘pid
 
AUE_GETPID


	)

2612 
	#SYS_AUE_mouÁ
 
AUE_MOUNT


	)

2613 
	#SYS_AUE_unmouÁ
 
AUE_UMOUNT


	)

2614 
	#SYS_AUE_£tuid
 
AUE_SETUID


	)

2615 
	#SYS_AUE_g‘uid
 
AUE_GETUID


	)

2616 
	#SYS_AUE_g‘euid
 
AUE_GETEUID


	)

2617 
	#SYS_AUE_±¿û
 
AUE_PTRACE


	)

2618 
	#SYS_AUE_»cvmsg
 
AUE_RECVMSG


	)

2619 
	#SYS_AUE_£ndmsg
 
AUE_SENDMSG


	)

2620 
	#SYS_AUE_»cväom
 
AUE_RECVFROM


	)

2621 
	#SYS_AUE_acû±
 
AUE_ACCEPT


	)

2622 
	#SYS_AUE_g‘³”Çme
 
AUE_GETPEERNAME


	)

2623 
	#SYS_AUE_g‘sockÇme
 
AUE_GETSOCKNAME


	)

2624 
	#SYS_AUE_acûss
 
AUE_ACCESS


	)

2625 
	#SYS_AUE_chæags
 
AUE_CHFLAGS


	)

2626 
	#SYS_AUE_fchæags
 
AUE_FCHFLAGS


	)

2627 
	#SYS_AUE_sync
 
AUE_SYNC


	)

2628 
	#SYS_AUE_kžl
 
AUE_KILL


	)

2629 
	#SYS_AUE_o¡©
 
AUE_STAT


	)

2630 
	#SYS_AUE_g‘µid
 
AUE_GETPPID


	)

2631 
	#SYS_AUE_Þ¡©
 
AUE_LSTAT


	)

2632 
	#SYS_AUE_dup
 
AUE_DUP


	)

2633 
	#SYS_AUE_ä“bsd10_pe
 
AUE_PIPE


	)

2634 
	#SYS_AUE_g‘egid
 
AUE_GETEGID


	)

2635 
	#SYS_AUE_´ofž
 
AUE_PROFILE


	)

2636 
	#SYS_AUE_kŒaû
 
AUE_KTRACE


	)

2637 
	#SYS_AUE_osigaùiÚ
 
AUE_SIGACTION


	)

2638 
	#SYS_AUE_g‘gid
 
AUE_GETGID


	)

2639 
	#SYS_AUE_osig´ocmask
 
AUE_SIGPROCMASK


	)

2640 
	#SYS_AUE_g‘logš
 
AUE_GETLOGIN


	)

2641 
	#SYS_AUE_£Žogš
 
AUE_SETLOGIN


	)

2642 
	#SYS_AUE_acù
 
AUE_ACCT


	)

2643 
	#SYS_AUE_osig³ndšg
 
AUE_SIGPENDING


	)

2644 
	#SYS_AUE_sig®t¡ack
 
AUE_SIGALTSTACK


	)

2645 
	#SYS_AUE_ioùl
 
AUE_IOCTL


	)

2646 
	#SYS_AUE_»boÙ
 
AUE_REBOOT


	)

2647 
	#SYS_AUE_»voke
 
AUE_REVOKE


	)

2648 
	#SYS_AUE_symlšk
 
AUE_SYMLINK


	)

2649 
	#SYS_AUE_»adlšk
 
AUE_READLINK


	)

2650 
	#SYS_AUE_execve
 
AUE_EXECVE


	)

2651 
	#SYS_AUE_umask
 
AUE_UMASK


	)

2652 
	#SYS_AUE_chroÙ
 
AUE_CHROOT


	)

2653 
	#SYS_AUE_of¡©
 
AUE_FSTAT


	)

2654 
	#SYS_AUE_og‘k”nšfo
 
AUE_NULL


	)

2655 
	#SYS_AUE_og‘·gesize
 
AUE_NULL


	)

2656 
	#SYS_AUE_msync
 
AUE_MSYNC


	)

2657 
	#SYS_AUE_vfÜk
 
AUE_VFORK


	)

2658 
	#SYS_AUE_sbrk
 
AUE_SBRK


	)

2659 
	#SYS_AUE_s¡k
 
AUE_SSTK


	)

2660 
	#SYS_AUE_omm­
 
AUE_MMAP


	)

2661 
	#SYS_AUE_ä“bsd11_vadvi£
 
AUE_O_VADVISE


	)

2662 
	#SYS_AUE_munm­
 
AUE_MUNMAP


	)

2663 
	#SYS_AUE_m´Ùeù
 
AUE_MPROTECT


	)

2664 
	#SYS_AUE_madvi£
 
AUE_MADVISE


	)

2665 
	#SYS_AUE_mšcÜe
 
AUE_MINCORE


	)

2666 
	#SYS_AUE_g‘groups
 
AUE_GETGROUPS


	)

2667 
	#SYS_AUE_£tgroups
 
AUE_SETGROUPS


	)

2668 
	#SYS_AUE_g‘pg½
 
AUE_GETPGRP


	)

2669 
	#SYS_AUE_£gid
 
AUE_SETPGRP


	)

2670 
	#SYS_AUE_£t™im”
 
AUE_SETITIMER


	)

2671 
	#SYS_AUE_owa™
 
AUE_WAIT4


	)

2672 
	#SYS_AUE_sw­Ú
 
AUE_SWAPON


	)

2673 
	#SYS_AUE_g‘™im”
 
AUE_GETITIMER


	)

2674 
	#SYS_AUE_og‘ho¡Çme
 
AUE_SYSCTL


	)

2675 
	#SYS_AUE_o£tho¡Çme
 
AUE_SYSCTL


	)

2676 
	#SYS_AUE_g‘dbËsize
 
AUE_GETDTABLESIZE


	)

2677 
	#SYS_AUE_dup2
 
AUE_DUP2


	)

2678 
	#SYS_AUE_fúŽ
 
AUE_FCNTL


	)

2679 
	#SYS_AUE_£Ëù
 
AUE_SELECT


	)

2680 
	#SYS_AUE_fsync
 
AUE_FSYNC


	)

2681 
	#SYS_AUE_£riÜ™y
 
AUE_SETPRIORITY


	)

2682 
	#SYS_AUE_sock‘
 
AUE_SOCKET


	)

2683 
	#SYS_AUE_cÚÃù
 
AUE_CONNECT


	)

2684 
	#SYS_AUE_ßcû±
 
AUE_ACCEPT


	)

2685 
	#SYS_AUE_g‘´iÜ™y
 
AUE_GETPRIORITY


	)

2686 
	#SYS_AUE_o£nd
 
AUE_SEND


	)

2687 
	#SYS_AUE_Üecv
 
AUE_RECV


	)

2688 
	#SYS_AUE_osig»tuº
 
AUE_SIGRETURN


	)

2689 
	#SYS_AUE_bšd
 
AUE_BIND


	)

2690 
	#SYS_AUE_£tsockÝt
 
AUE_SETSOCKOPT


	)

2691 
	#SYS_AUE_li¡’
 
AUE_LISTEN


	)

2692 
	#SYS_AUE_osigvec
 
AUE_NULL


	)

2693 
	#SYS_AUE_osigblock
 
AUE_NULL


	)

2694 
	#SYS_AUE_osig£tmask
 
AUE_NULL


	)

2695 
	#SYS_AUE_osigsu¥’d
 
AUE_NULL


	)

2696 
	#SYS_AUE_osig¡ack
 
AUE_NULL


	)

2697 
	#SYS_AUE_Üecvmsg
 
AUE_RECVMSG


	)

2698 
	#SYS_AUE_o£ndmsg
 
AUE_SENDMSG


	)

2699 
	#SYS_AUE_g‘timeofday
 
AUE_GETTIMEOFDAY


	)

2700 
	#SYS_AUE_g‘ru§ge
 
AUE_GETRUSAGE


	)

2701 
	#SYS_AUE_g‘sockÝt
 
AUE_GETSOCKOPT


	)

2702 
	#SYS_AUE_»adv
 
AUE_READV


	)

2703 
	#SYS_AUE_wr™ev
 
AUE_WRITEV


	)

2704 
	#SYS_AUE_£‰imeofday
 
AUE_SETTIMEOFDAY


	)

2705 
	#SYS_AUE_fchown
 
AUE_FCHOWN


	)

2706 
	#SYS_AUE_fchmod
 
AUE_FCHMOD


	)

2707 
	#SYS_AUE_Üecväom
 
AUE_RECVFROM


	)

2708 
	#SYS_AUE_£Œeuid
 
AUE_SETREUID


	)

2709 
	#SYS_AUE_£Œegid
 
AUE_SETREGID


	)

2710 
	#SYS_AUE_»Çme
 
AUE_RENAME


	)

2711 
	#SYS_AUE_Ùrunÿ‹
 
AUE_TRUNCATE


	)

2712 
	#SYS_AUE_oárunÿ‹
 
AUE_FTRUNCATE


	)

2713 
	#SYS_AUE_æock
 
AUE_FLOCK


	)

2714 
	#SYS_AUE_mkfifo
 
AUE_MKFIFO


	)

2715 
	#SYS_AUE_£ndto
 
AUE_SENDTO


	)

2716 
	#SYS_AUE_shutdown
 
AUE_SHUTDOWN


	)

2717 
	#SYS_AUE_sock‘·œ
 
AUE_SOCKETPAIR


	)

2718 
	#SYS_AUE_mkdœ
 
AUE_MKDIR


	)

2719 
	#SYS_AUE_rmdœ
 
AUE_RMDIR


	)

2720 
	#SYS_AUE_utimes
 
AUE_UTIMES


	)

2721 
	#SYS_AUE_adjtime
 
AUE_ADJTIME


	)

2722 
	#SYS_AUE_og‘³”Çme
 
AUE_GETPEERNAME


	)

2723 
	#SYS_AUE_og‘ho¡id
 
AUE_SYSCTL


	)

2724 
	#SYS_AUE_o£tho¡id
 
AUE_SYSCTL


	)

2725 
	#SYS_AUE_og‘¾im™
 
AUE_GETRLIMIT


	)

2726 
	#SYS_AUE_o£Œlim™
 
AUE_SETRLIMIT


	)

2727 
	#SYS_AUE_okžÍg
 
AUE_KILLPG


	)

2728 
	#SYS_AUE_£tsid
 
AUE_SETSID


	)

2729 
	#SYS_AUE_quÙaùl
 
AUE_QUOTACTL


	)

2730 
	#SYS_AUE_oquÙa
 
AUE_O_QUOTA


	)

2731 
	#SYS_AUE_og‘sockÇme
 
AUE_GETSOCKNAME


	)

2732 
	#SYS_AUE_Æm_sysÿÎ
 
AUE_NULL


	)

2733 
	#SYS_AUE_nfssvc
 
AUE_NFS_SVC


	)

2734 
	#SYS_AUE_og‘dœ’Œ›s
 
AUE_GETDIRENTRIES


	)

2735 
	#SYS_AUE_ä“bsd4_¡©fs
 
AUE_STATFS


	)

2736 
	#SYS_AUE_ä“bsd4_f¡©fs
 
AUE_FSTATFS


	)

2737 
	#SYS_AUE_lg‘fh
 
AUE_LGETFH


	)

2738 
	#SYS_AUE_g‘fh
 
AUE_NFS_GETFH


	)

2739 
	#SYS_AUE_ä“bsd4_g‘domašÇme
 
AUE_SYSCTL


	)

2740 
	#SYS_AUE_ä“bsd4_£tdomašÇme
 
AUE_SYSCTL


	)

2741 
	#SYS_AUE_ä“bsd4_uÇme
 
AUE_NULL


	)

2742 
	#SYS_AUE_sy§rch
 
AUE_SYSARCH


	)

2743 
	#SYS_AUE_¹´io
 
AUE_RTPRIO


	)

2744 
	#SYS_AUE_£msys
 
AUE_SEMSYS


	)

2745 
	#SYS_AUE_msgsys
 
AUE_MSGSYS


	)

2746 
	#SYS_AUE_shmsys
 
AUE_SHMSYS


	)

2747 
	#SYS_AUE_ä“bsd6_´—d
 
AUE_PREAD


	)

2748 
	#SYS_AUE_ä“bsd6_pwr™e
 
AUE_PWRITE


	)

2749 
	#SYS_AUE_£tfib
 
AUE_SETFIB


	)

2750 
	#SYS_AUE_Áp_adjtime
 
AUE_NTP_ADJTIME


	)

2751 
	#SYS_AUE_£tgid
 
AUE_SETGID


	)

2752 
	#SYS_AUE_£‹gid
 
AUE_SETEGID


	)

2753 
	#SYS_AUE_£‹uid
 
AUE_SETEUID


	)

2754 
	#SYS_AUE_ä“bsd11_¡©
 
AUE_STAT


	)

2755 
	#SYS_AUE_ä“bsd11_f¡©
 
AUE_FSTAT


	)

2756 
	#SYS_AUE_ä“bsd11_l¡©
 
AUE_LSTAT


	)

2757 
	#SYS_AUE_·thcÚf
 
AUE_PATHCONF


	)

2758 
	#SYS_AUE_å©hcÚf
 
AUE_FPATHCONF


	)

2759 
	#SYS_AUE_g‘¾im™
 
AUE_GETRLIMIT


	)

2760 
	#SYS_AUE_£Œlim™
 
AUE_SETRLIMIT


	)

2761 
	#SYS_AUE_ä“bsd11_g‘dœ’Œ›s
 
AUE_GETDIRENTRIES


	)

2762 
	#SYS_AUE_ä“bsd6_mm­
 
AUE_MMAP


	)

2763 
	#SYS_AUE_ä“bsd6_l£ek
 
AUE_LSEEK


	)

2764 
	#SYS_AUE_ä“bsd6_Œunÿ‹
 
AUE_TRUNCATE


	)

2765 
	#SYS_AUE_ä“bsd6_árunÿ‹
 
AUE_FTRUNCATE


	)

2766 
	#SYS_AUE___sysùl
 
AUE_SYSCTL


	)

2767 
	#SYS_AUE_mlock
 
AUE_MLOCK


	)

2768 
	#SYS_AUE_muÆock
 
AUE_MUNLOCK


	)

2769 
	#SYS_AUE_und–‘e
 
AUE_UNDELETE


	)

2770 
	#SYS_AUE_futimes
 
AUE_FUTIMES


	)

2771 
	#SYS_AUE_g‘pgid
 
AUE_GETPGID


	)

2772 
	#SYS_AUE_pÞl
 
AUE_POLL


	)

2773 
	#SYS_AUE_ä“bsd7___£mùl
 
AUE_SEMCTL


	)

2774 
	#SYS_AUE_£mg‘
 
AUE_SEMGET


	)

2775 
	#SYS_AUE_£mÝ
 
AUE_SEMOP


	)

2776 
	#SYS_AUE_ä“bsd7_msgùl
 
AUE_MSGCTL


	)

2777 
	#SYS_AUE_msgg‘
 
AUE_MSGGET


	)

2778 
	#SYS_AUE_msg¢d
 
AUE_MSGSND


	)

2779 
	#SYS_AUE_msgrcv
 
AUE_MSGRCV


	)

2780 
	#SYS_AUE_shm©
 
AUE_SHMAT


	)

2781 
	#SYS_AUE_ä“bsd7_shmùl
 
AUE_SHMCTL


	)

2782 
	#SYS_AUE_shmdt
 
AUE_SHMDT


	)

2783 
	#SYS_AUE_shmg‘
 
AUE_SHMGET


	)

2784 
	#SYS_AUE_þock_g‘time
 
AUE_NULL


	)

2785 
	#SYS_AUE_þock_£‰ime
 
AUE_CLOCK_SETTIME


	)

2786 
	#SYS_AUE_þock_g‘»s
 
AUE_NULL


	)

2787 
	#SYS_AUE_ktim”_ü—‹
 
AUE_NULL


	)

2788 
	#SYS_AUE_ktim”_d–‘e
 
AUE_NULL


	)

2789 
	#SYS_AUE_ktim”_£‰ime
 
AUE_NULL


	)

2790 
	#SYS_AUE_ktim”_g‘time
 
AUE_NULL


	)

2791 
	#SYS_AUE_ktim”_g‘ov”run
 
AUE_NULL


	)

2792 
	#SYS_AUE_Çno¦“p
 
AUE_NULL


	)

2793 
	#SYS_AUE_ffþock_g‘couÁ”
 
AUE_NULL


	)

2794 
	#SYS_AUE_ffþock_£‹¡im©e
 
AUE_NULL


	)

2795 
	#SYS_AUE_ffþock_g‘e¡im©e
 
AUE_NULL


	)

2796 
	#SYS_AUE_þock_Çno¦“p
 
AUE_NULL


	)

2797 
	#SYS_AUE_þock_g‘ýuþockid2
 
AUE_NULL


	)

2798 
	#SYS_AUE_Áp_g‘time
 
AUE_NULL


	)

2799 
	#SYS_AUE_mšh”™
 
AUE_MINHERIT


	)

2800 
	#SYS_AUE_rfÜk
 
AUE_RFORK


	)

2801 
	#SYS_AUE_is£tugid
 
AUE_ISSETUGID


	)

2802 
	#SYS_AUE_lchown
 
AUE_LCHOWN


	)

2803 
	#SYS_AUE_aio_»ad
 
AUE_AIO_READ


	)

2804 
	#SYS_AUE_aio_wr™e
 
AUE_AIO_WRITE


	)

2805 
	#SYS_AUE_lio_li¡io
 
AUE_LIO_LISTIO


	)

2806 
	#SYS_AUE_ä“bsd11_g‘d’ts
 
AUE_O_GETDENTS


	)

2807 
	#SYS_AUE_lchmod
 
AUE_LCHMOD


	)

2808 
	#SYS_AUE_lutimes
 
AUE_LUTIMES


	)

2809 
	#SYS_AUE_ä“bsd11_n¡©
 
AUE_STAT


	)

2810 
	#SYS_AUE_ä“bsd11_nf¡©
 
AUE_FSTAT


	)

2811 
	#SYS_AUE_ä“bsd11_Æ¡©
 
AUE_LSTAT


	)

2812 
	#SYS_AUE_´—dv
 
AUE_PREADV


	)

2813 
	#SYS_AUE_pwr™ev
 
AUE_PWRITEV


	)

2814 
	#SYS_AUE_ä“bsd4_fh¡©fs
 
AUE_FHSTATFS


	)

2815 
	#SYS_AUE_fhÝ’
 
AUE_FHOPEN


	)

2816 
	#SYS_AUE_ä“bsd11_fh¡©
 
AUE_FHSTAT


	)

2817 
	#SYS_AUE_modÃxt
 
AUE_NULL


	)

2818 
	#SYS_AUE_mod¡©
 
AUE_NULL


	)

2819 
	#SYS_AUE_modâext
 
AUE_NULL


	)

2820 
	#SYS_AUE_modfšd
 
AUE_NULL


	)

2821 
	#SYS_AUE_kldlßd
 
AUE_MODLOAD


	)

2822 
	#SYS_AUE_klduÆßd
 
AUE_MODUNLOAD


	)

2823 
	#SYS_AUE_kldfšd
 
AUE_NULL


	)

2824 
	#SYS_AUE_kldÃxt
 
AUE_NULL


	)

2825 
	#SYS_AUE_kld¡©
 
AUE_NULL


	)

2826 
	#SYS_AUE_kldfœ¡mod
 
AUE_NULL


	)

2827 
	#SYS_AUE_g‘sid
 
AUE_GETSID


	)

2828 
	#SYS_AUE_£Œesuid
 
AUE_SETRESUID


	)

2829 
	#SYS_AUE_£Œesgid
 
AUE_SETRESGID


	)

2830 
	#SYS_AUE_aio_»tuº
 
AUE_AIO_RETURN


	)

2831 
	#SYS_AUE_aio_su¥’d
 
AUE_AIO_SUSPEND


	)

2832 
	#SYS_AUE_aio_ÿnûl
 
AUE_AIO_CANCEL


	)

2833 
	#SYS_AUE_aio_”rÜ
 
AUE_AIO_ERROR


	)

2834 
	#SYS_AUE_ä“bsd6_aio_»ad
 
AUE_AIO_READ


	)

2835 
	#SYS_AUE_ä“bsd6_aio_wr™e
 
AUE_AIO_WRITE


	)

2836 
	#SYS_AUE_ä“bsd6_lio_li¡io
 
AUE_LIO_LISTIO


	)

2837 
	#SYS_AUE_y›ld
 
AUE_NULL


	)

2838 
	#SYS_AUE_mlock®l
 
AUE_MLOCKALL


	)

2839 
	#SYS_AUE_muÆock®l
 
AUE_MUNLOCKALL


	)

2840 
	#SYS_AUE___g‘cwd
 
AUE_GETCWD


	)

2841 
	#SYS_AUE_sched_£¬am
 
AUE_NULL


	)

2842 
	#SYS_AUE_sched_g‘·¿m
 
AUE_NULL


	)

2843 
	#SYS_AUE_sched_£tscheduËr
 
AUE_NULL


	)

2844 
	#SYS_AUE_sched_g‘scheduËr
 
AUE_NULL


	)

2845 
	#SYS_AUE_sched_y›ld
 
AUE_NULL


	)

2846 
	#SYS_AUE_sched_g‘_´iÜ™y_max
 
AUE_NULL


	)

2847 
	#SYS_AUE_sched_g‘_´iÜ™y_mš
 
AUE_NULL


	)

2848 
	#SYS_AUE_sched_¼_g‘_š‹rv®
 
AUE_NULL


	)

2849 
	#SYS_AUE_uŒaû
 
AUE_NULL


	)

2850 
	#SYS_AUE_ä“bsd4_£ndfže
 
AUE_SENDFILE


	)

2851 
	#SYS_AUE_kldsym
 
AUE_NULL


	)

2852 
	#SYS_AUE_jaž
 
AUE_JAIL


	)

2853 
	#SYS_AUE_Âpfs_sysÿÎ
 
AUE_NULL


	)

2854 
	#SYS_AUE_sig´ocmask
 
AUE_SIGPROCMASK


	)

2855 
	#SYS_AUE_sigsu¥’d
 
AUE_SIGSUSPEND


	)

2856 
	#SYS_AUE_ä“bsd4_sigaùiÚ
 
AUE_SIGACTION


	)

2857 
	#SYS_AUE_sig³ndšg
 
AUE_SIGPENDING


	)

2858 
	#SYS_AUE_ä“bsd4_sig»tuº
 
AUE_SIGRETURN


	)

2859 
	#SYS_AUE_sigtimedwa™
 
AUE_SIGWAIT


	)

2860 
	#SYS_AUE_sigwa™šfo
 
AUE_NULL


	)

2861 
	#SYS_AUE___aþ_g‘_fže
 
AUE_ACL_GET_FILE


	)

2862 
	#SYS_AUE___aþ_£t_fže
 
AUE_ACL_SET_FILE


	)

2863 
	#SYS_AUE___aþ_g‘_fd
 
AUE_ACL_GET_FD


	)

2864 
	#SYS_AUE___aþ_£t_fd
 
AUE_ACL_SET_FD


	)

2865 
	#SYS_AUE___aþ_d–‘e_fže
 
AUE_ACL_DELETE_FILE


	)

2866 
	#SYS_AUE___aþ_d–‘e_fd
 
AUE_ACL_DELETE_FD


	)

2867 
	#SYS_AUE___aþ_aþcheck_fže
 
AUE_ACL_CHECK_FILE


	)

2868 
	#SYS_AUE___aþ_aþcheck_fd
 
AUE_ACL_CHECK_FD


	)

2869 
	#SYS_AUE_ex‰rùl
 
AUE_EXTATTRCTL


	)

2870 
	#SYS_AUE_ex‰r_£t_fže
 
AUE_EXTATTR_SET_FILE


	)

2871 
	#SYS_AUE_ex‰r_g‘_fže
 
AUE_EXTATTR_GET_FILE


	)

2872 
	#SYS_AUE_ex‰r_d–‘e_fže
 
AUE_EXTATTR_DELETE_FILE


	)

2873 
	#SYS_AUE_aio_wa™com¶‘e
 
AUE_AIO_WAITCOMPLETE


	)

2874 
	#SYS_AUE_g‘»suid
 
AUE_GETRESUID


	)

2875 
	#SYS_AUE_g‘»sgid
 
AUE_GETRESGID


	)

2876 
	#SYS_AUE_kqueue
 
AUE_KQUEUE


	)

2877 
	#SYS_AUE_ä“bsd11_kev’t
 
AUE_KEVENT


	)

2878 
	#SYS_AUE_ex‰r_£t_fd
 
AUE_EXTATTR_SET_FD


	)

2879 
	#SYS_AUE_ex‰r_g‘_fd
 
AUE_EXTATTR_GET_FD


	)

2880 
	#SYS_AUE_ex‰r_d–‘e_fd
 
AUE_EXTATTR_DELETE_FD


	)

2881 
	#SYS_AUE___£tugid
 
AUE_SETUGID


	)

2882 
	#SYS_AUE_—cûss
 
AUE_EACCESS


	)

2883 
	#SYS_AUE_afs3_sysÿÎ
 
AUE_NULL


	)

2884 
	#SYS_AUE_nmouÁ
 
AUE_NMOUNT


	)

2885 
	#SYS_AUE___mac_g‘_´oc
 
AUE_NULL


	)

2886 
	#SYS_AUE___mac_£t_´oc
 
AUE_NULL


	)

2887 
	#SYS_AUE___mac_g‘_fd
 
AUE_NULL


	)

2888 
	#SYS_AUE___mac_g‘_fže
 
AUE_NULL


	)

2889 
	#SYS_AUE___mac_£t_fd
 
AUE_NULL


	)

2890 
	#SYS_AUE___mac_£t_fže
 
AUE_NULL


	)

2891 
	#SYS_AUE_k’v
 
AUE_NULL


	)

2892 
	#SYS_AUE_lchæags
 
AUE_LCHFLAGS


	)

2893 
	#SYS_AUE_uuidg’
 
AUE_NULL


	)

2894 
	#SYS_AUE_£ndfže
 
AUE_SENDFILE


	)

2895 
	#SYS_AUE_mac_sysÿÎ
 
AUE_NULL


	)

2896 
	#SYS_AUE_ä“bsd11_g‘fs¡©
 
AUE_GETFSSTAT


	)

2897 
	#SYS_AUE_ä“bsd11_¡©fs
 
AUE_STATFS


	)

2898 
	#SYS_AUE_ä“bsd11_f¡©fs
 
AUE_FSTATFS


	)

2899 
	#SYS_AUE_ä“bsd11_fh¡©fs
 
AUE_FHSTATFS


	)

2900 
	#SYS_AUE_k£m_þo£
 
AUE_SEMCLOSE


	)

2901 
	#SYS_AUE_k£m_po¡
 
AUE_SEMPOST


	)

2902 
	#SYS_AUE_k£m_wa™
 
AUE_SEMWAIT


	)

2903 
	#SYS_AUE_k£m_Œywa™
 
AUE_SEMTRYWAIT


	)

2904 
	#SYS_AUE_k£m_š™
 
AUE_SEMINIT


	)

2905 
	#SYS_AUE_k£m_Ý’
 
AUE_SEMOPEN


	)

2906 
	#SYS_AUE_k£m_uÆšk
 
AUE_SEMUNLINK


	)

2907 
	#SYS_AUE_k£m_g‘v®ue
 
AUE_SEMGETVALUE


	)

2908 
	#SYS_AUE_k£m_de¡roy
 
AUE_SEMDESTROY


	)

2909 
	#SYS_AUE___mac_g‘_pid
 
AUE_NULL


	)

2910 
	#SYS_AUE___mac_g‘_lšk
 
AUE_NULL


	)

2911 
	#SYS_AUE___mac_£t_lšk
 
AUE_NULL


	)

2912 
	#SYS_AUE_ex‰r_£t_lšk
 
AUE_EXTATTR_SET_LINK


	)

2913 
	#SYS_AUE_ex‰r_g‘_lšk
 
AUE_EXTATTR_GET_LINK


	)

2914 
	#SYS_AUE_ex‰r_d–‘e_lšk
 
AUE_EXTATTR_DELETE_LINK


	)

2915 
	#SYS_AUE___mac_execve
 
AUE_NULL


	)

2916 
	#SYS_AUE_sigaùiÚ
 
AUE_SIGACTION


	)

2917 
	#SYS_AUE_sig»tuº
 
AUE_SIGRETURN


	)

2918 
	#SYS_AUE_g‘cÚ‹xt
 
AUE_NULL


	)

2919 
	#SYS_AUE_£tcÚ‹xt
 
AUE_NULL


	)

2920 
	#SYS_AUE_sw­cÚ‹xt
 
AUE_NULL


	)

2921 
	#SYS_AUE_sw­off
 
AUE_SWAPOFF


	)

2922 
	#SYS_AUE___aþ_g‘_lšk
 
AUE_ACL_GET_LINK


	)

2923 
	#SYS_AUE___aþ_£t_lšk
 
AUE_ACL_SET_LINK


	)

2924 
	#SYS_AUE___aþ_d–‘e_lšk
 
AUE_ACL_DELETE_LINK


	)

2925 
	#SYS_AUE___aþ_aþcheck_lšk
 
AUE_ACL_CHECK_LINK


	)

2926 
	#SYS_AUE_sigwa™
 
AUE_SIGWAIT


	)

2927 
	#SYS_AUE_thr_ü—‹
 
AUE_THR_CREATE


	)

2928 
	#SYS_AUE_thr_ex™
 
AUE_THR_EXIT


	)

2929 
	#SYS_AUE_thr_£lf
 
AUE_NULL


	)

2930 
	#SYS_AUE_thr_kžl
 
AUE_THR_KILL


	)

2931 
	#SYS_AUE_jaž_©ch
 
AUE_JAIL_ATTACH


	)

2932 
	#SYS_AUE_ex‰r_li¡_fd
 
AUE_EXTATTR_LIST_FD


	)

2933 
	#SYS_AUE_ex‰r_li¡_fže
 
AUE_EXTATTR_LIST_FILE


	)

2934 
	#SYS_AUE_ex‰r_li¡_lšk
 
AUE_EXTATTR_LIST_LINK


	)

2935 
	#SYS_AUE_k£m_timedwa™
 
AUE_SEMWAIT


	)

2936 
	#SYS_AUE_thr_su¥’d
 
AUE_NULL


	)

2937 
	#SYS_AUE_thr_wake
 
AUE_NULL


	)

2938 
	#SYS_AUE_klduÆßdf
 
AUE_MODUNLOAD


	)

2939 
	#SYS_AUE_aud™
 
AUE_AUDIT


	)

2940 
	#SYS_AUE_aud™Ú
 
AUE_AUDITON


	)

2941 
	#SYS_AUE_g‘auid
 
AUE_GETAUID


	)

2942 
	#SYS_AUE_£uid
 
AUE_SETAUID


	)

2943 
	#SYS_AUE_g‘aud™
 
AUE_GETAUDIT


	)

2944 
	#SYS_AUE_£ud™
 
AUE_SETAUDIT


	)

2945 
	#SYS_AUE_g‘aud™_addr
 
AUE_GETAUDIT_ADDR


	)

2946 
	#SYS_AUE_£ud™_addr
 
AUE_SETAUDIT_ADDR


	)

2947 
	#SYS_AUE_aud™ùl
 
AUE_AUDITCTL


	)

2948 
	#SYS_AUE__umtx_Ý
 
AUE_NULL


	)

2949 
	#SYS_AUE_thr_Ãw
 
AUE_THR_NEW


	)

2950 
	#SYS_AUE_sigqueue
 
AUE_NULL


	)

2951 
	#SYS_AUE_kmq_Ý’
 
AUE_MQ_OPEN


	)

2952 
	#SYS_AUE_kmq_£‰r
 
AUE_MQ_SETATTR


	)

2953 
	#SYS_AUE_kmq_timed»ûive
 
AUE_MQ_TIMEDRECEIVE


	)

2954 
	#SYS_AUE_kmq_timed£nd
 
AUE_MQ_TIMEDSEND


	)

2955 
	#SYS_AUE_kmq_nÙify
 
AUE_MQ_NOTIFY


	)

2956 
	#SYS_AUE_kmq_uÆšk
 
AUE_MQ_UNLINK


	)

2957 
	#SYS_AUE_abÜt2
 
AUE_NULL


	)

2958 
	#SYS_AUE_thr_£t_Çme
 
AUE_NULL


	)

2959 
	#SYS_AUE_aio_fsync
 
AUE_AIO_FSYNC


	)

2960 
	#SYS_AUE_¹´io_th»ad
 
AUE_RTPRIO


	)

2961 
	#SYS_AUE_sùp_³–off
 
AUE_SCTP_PEELOFF


	)

2962 
	#SYS_AUE_sùp_g’”ic_£ndmsg
 
AUE_SCTP_GENERIC_SENDMSG


	)

2963 
	#SYS_AUE_sùp_g’”ic_£ndmsg_iov
 
AUE_SCTP_GENERIC_SENDMSG_IOV


	)

2964 
	#SYS_AUE_sùp_g’”ic_»cvmsg
 
AUE_SCTP_GENERIC_RECVMSG


	)

2965 
	#SYS_AUE_´—d
 
AUE_PREAD


	)

2966 
	#SYS_AUE_pwr™e
 
AUE_PWRITE


	)

2967 
	#SYS_AUE_mm­
 
AUE_MMAP


	)

2968 
	#SYS_AUE_l£ek
 
AUE_LSEEK


	)

2969 
	#SYS_AUE_Œunÿ‹
 
AUE_TRUNCATE


	)

2970 
	#SYS_AUE_árunÿ‹
 
AUE_FTRUNCATE


	)

2971 
	#SYS_AUE_thr_kžl2
 
AUE_THR_KILL2


	)

2972 
	#SYS_AUE_shm_Ý’
 
AUE_SHMOPEN


	)

2973 
	#SYS_AUE_shm_uÆšk
 
AUE_SHMUNLINK


	)

2974 
	#SYS_AUE_ýu£t
 
AUE_NULL


	)

2975 
	#SYS_AUE_ýu£t_£tid
 
AUE_NULL


	)

2976 
	#SYS_AUE_ýu£t_g‘id
 
AUE_NULL


	)

2977 
	#SYS_AUE_ýu£t_g‘affš™y
 
AUE_NULL


	)

2978 
	#SYS_AUE_ýu£t_£ffš™y
 
AUE_NULL


	)

2979 
	#SYS_AUE_çcûs§t
 
AUE_FACCESSAT


	)

2980 
	#SYS_AUE_fchmod©
 
AUE_FCHMODAT


	)

2981 
	#SYS_AUE_fchowÇt
 
AUE_FCHOWNAT


	)

2982 
	#SYS_AUE_ãxecve
 
AUE_FEXECVE


	)

2983 
	#SYS_AUE_ä“bsd11_f¡©©
 
AUE_FSTATAT


	)

2984 
	#SYS_AUE_futime§t
 
AUE_FUTIMESAT


	)

2985 
	#SYS_AUE_lšk©
 
AUE_LINKAT


	)

2986 
	#SYS_AUE_mkdœ©
 
AUE_MKDIRAT


	)

2987 
	#SYS_AUE_mkfifßt
 
AUE_MKFIFOAT


	)

2988 
	#SYS_AUE_ä“bsd11_mknod©
 
AUE_MKNODAT


	)

2989 
	#SYS_AUE_Ý’©
 
AUE_OPENAT_RWTC


	)

2990 
	#SYS_AUE_»adlšk©
 
AUE_READLINKAT


	)

2991 
	#SYS_AUE_»Çm—t
 
AUE_RENAMEAT


	)

2992 
	#SYS_AUE_symlšk©
 
AUE_SYMLINKAT


	)

2993 
	#SYS_AUE_uÆšk©
 
AUE_UNLINKAT


	)

2994 
	#SYS_AUE_posix_Ý’±
 
AUE_POSIX_OPENPT


	)

2995 
	#SYS_AUE_gssd_sysÿÎ
 
AUE_NULL


	)

2996 
	#SYS_AUE_jaž_g‘
 
AUE_JAIL_GET


	)

2997 
	#SYS_AUE_jaž_£t
 
AUE_JAIL_SET


	)

2998 
	#SYS_AUE_jaž_»move
 
AUE_JAIL_REMOVE


	)

2999 
	#SYS_AUE_þo£äom
 
AUE_CLOSEFROM


	)

3000 
	#SYS_AUE___£mùl
 
AUE_SEMCTL


	)

3001 
	#SYS_AUE_msgùl
 
AUE_MSGCTL


	)

3002 
	#SYS_AUE_shmùl
 
AUE_SHMCTL


	)

3003 
	#SYS_AUE_Í©hcÚf
 
AUE_LPATHCONF


	)

3004 
	#SYS_AUE___ÿp_rights_g‘
 
AUE_CAP_RIGHTS_GET


	)

3005 
	#SYS_AUE_ÿp_’‹r
 
AUE_CAP_ENTER


	)

3006 
	#SYS_AUE_ÿp_g‘mode
 
AUE_CAP_GETMODE


	)

3007 
	#SYS_AUE_pdfÜk
 
AUE_PDFORK


	)

3008 
	#SYS_AUE_pdkžl
 
AUE_PDKILL


	)

3009 
	#SYS_AUE_pdg‘pid
 
AUE_PDGETPID


	)

3010 
	#SYS_AUE_p£Ëù
 
AUE_SELECT


	)

3011 
	#SYS_AUE_g‘logšþass
 
AUE_GETLOGINCLASS


	)

3012 
	#SYS_AUE_£Žogšþass
 
AUE_SETLOGINCLASS


	)

3013 
	#SYS_AUE_rùl_g‘_¿cù
 
AUE_NULL


	)

3014 
	#SYS_AUE_rùl_g‘_ruËs
 
AUE_NULL


	)

3015 
	#SYS_AUE_rùl_g‘_lim™s
 
AUE_NULL


	)

3016 
	#SYS_AUE_rùl_add_ruË
 
AUE_NULL


	)

3017 
	#SYS_AUE_rùl_»move_ruË
 
AUE_NULL


	)

3018 
	#SYS_AUE_posix_çÎoÿ‹
 
AUE_POSIX_FALLOCATE


	)

3019 
	#SYS_AUE_posix_çdvi£
 
AUE_POSIX_FADVISE


	)

3020 
	#SYS_AUE_wa™6
 
AUE_WAIT6


	)

3021 
	#SYS_AUE_ÿp_rights_lim™
 
AUE_CAP_RIGHTS_LIMIT


	)

3022 
	#SYS_AUE_ÿp_ioùls_lim™
 
AUE_CAP_IOCTLS_LIMIT


	)

3023 
	#SYS_AUE_ÿp_ioùls_g‘
 
AUE_CAP_IOCTLS_GET


	)

3024 
	#SYS_AUE_ÿp_fúŽs_lim™
 
AUE_CAP_FCNTLS_LIMIT


	)

3025 
	#SYS_AUE_ÿp_fúŽs_g‘
 
AUE_CAP_FCNTLS_GET


	)

3026 
	#SYS_AUE_bšd©
 
AUE_BINDAT


	)

3027 
	#SYS_AUE_cÚÃù©
 
AUE_CONNECTAT


	)

3028 
	#SYS_AUE_chæag§t
 
AUE_CHFLAGSAT


	)

3029 
	#SYS_AUE_acû±4
 
AUE_ACCEPT


	)

3030 
	#SYS_AUE_pe2
 
AUE_PIPE


	)

3031 
	#SYS_AUE_aio_mlock
 
AUE_AIO_MLOCK


	)

3032 
	#SYS_AUE_´ocùl
 
AUE_PROCCTL


	)

3033 
	#SYS_AUE_µÞl
 
AUE_POLL


	)

3034 
	#SYS_AUE_futim’s
 
AUE_FUTIMES


	)

3035 
	#SYS_AUE_utim’§t
 
AUE_FUTIMESAT


	)

3036 
	#SYS_AUE_fd©async
 
AUE_FSYNC


	)

3037 
	#SYS_AUE_f¡©
 
AUE_FSTAT


	)

3038 
	#SYS_AUE_f¡©©
 
AUE_FSTATAT


	)

3039 
	#SYS_AUE_fh¡©
 
AUE_FHSTAT


	)

3040 
	#SYS_AUE_g‘dœ’Œ›s
 
AUE_GETDIRENTRIES


	)

3041 
	#SYS_AUE_¡©fs
 
AUE_STATFS


	)

3042 
	#SYS_AUE_f¡©fs
 
AUE_FSTATFS


	)

3043 
	#SYS_AUE_g‘fs¡©
 
AUE_GETFSSTAT


	)

3044 
	#SYS_AUE_fh¡©fs
 
AUE_FHSTATFS


	)

3045 
	#SYS_AUE_mknod©
 
AUE_MKNODAT


	)

3046 
	#SYS_AUE_kev’t
 
AUE_KEVENT


	)

3047 
	#SYS_AUE_ýu£t_g‘domaš
 
AUE_NULL


	)

3048 
	#SYS_AUE_ýu£t_£tdomaš
 
AUE_NULL


	)

3049 
	#SYS_AUE_g‘¿ndom
 
AUE_NULL


	)

3051 #undeà
PAD_


3052 #undeà
PADL_


3053 #undeà
PADR_


	@/usr/include/sys/systm.h

40 #iâdeà
_SYS_SYSTM_H_


41 
	#_SYS_SYSTM_H_


	)

43 
	~<sys/cdefs.h
>

44 
	~<machše/©omic.h
>

45 
	~<machše/ýufunc.h
>

46 
	~<sys/ÿÎout.h
>

47 
	~<sys/queue.h
>

48 
	~<sys/¡dšt.h
>

50 
__NULLABILITY_PRAGMA_PUSH


52 
cÞd
;

53 
su¥’d_blocked
;

54 
»boÙšg
;

55 cÚ¡ *
·nic¡r
;

56 
v”siÚ
[];

57 
compž”_v”siÚ
[];

58 
cÝyright
[];

59 
k¡ack_·ges
;

61 
u_lÚg
 
·gesizes
[];

62 
physmem
;

63 
»®mem
;

65 *
roÙdevÇmes
[2];

67 
boÙhowto
;

68 
boÙv”bo£
;

70 
maxu£rs
;

71 
ngroups_max
;

72 
vm_gue¡
;

80 
	eVM_GUEST
 { 
	mVM_GUEST_NO
 = 0, 
	mVM_GUEST_VM
, 
	mVM_GUEST_XEN
, 
	mVM_GUEST_HV
,

81 
	mVM_GUEST_VMWARE
, 
	mVM_GUEST_KVM
, 
	mVM_GUEST_BHYVE
, 
	mVM_LAST
 };

89 
	$·nic
(cÚ¡ *, ...è
__d—d2
 
	`__´štæike
(1, 2);

90 
	$v·nic
(cÚ¡ *, 
__va_li¡
è
__d—d2
 
	`__´štæike
(1, 0);

92 #ià
	`defšed
(
WITNESS
è|| defšed(
INVARIANT_SUPPORT
)

93 #ifdeà
KASSERT_PANIC_OPTIONAL


94 
	$kas£¹_·nic
(cÚ¡ *
fmt
, ...è
	`__´štæike
(1, 2);

96 
	#kas£¹_·nic
 
·nic


	)

100 #ifdef 
INVARIANTS


101 
	#KASSERT
(
exp
,
msg
) do { \

102 ià(
	`__´ediù_çl£
(!(
exp
))) \

103 
kas£¹_·nic
 
msg
; \

104 
	}
} 0)

	)

105 
	#VNASSERT
(
exp
, 
vp
, 
msg
) do { \

106 ià(
	`__´ediù_çl£
(!(
exp
))) { \

107 
	`vn_´štf
(
vp
, "VNASSERT failed\n"); \

108 
kas£¹_·nic
 
msg
; \

110 } 0)

	)

112 
	#KASSERT
(
exp
,
msg
) do { \

113 } 0)

	)

115 
	#VNASSERT
(
exp
, 
vp
, 
msg
) do { \

116 } 0)

	)

119 #iâdeà
CTASSERT


120 
	#CTASSERT
(
x
è
	`_Stic_as£¹
(x, "compže-timas£¹iÚ fažed")

	)

123 #ià
defšed
(
_KERNEL
)

124 
	~<sys/·¿m.h
>

125 
	~<sys/pýu.h
>

126 
	~<sys/kpž™e.h
>

136 
	#ASSERT_ATOMIC_LOAD_PTR
(
v¬
, 
msg
) \

137 
	`KASSERT
((
v¬
) == (*) && \

138 ((
ušŒ_t
)&(
v¬
è& ((*è- 1)è=ð0, 
msg
)

	)

143 
	#CRITICAL_ASSERT
(
td
) \

144 
	`KASSERT
((
td
)->
td_ü™Ã¡
 >ð1, ("NÙ iÀü™iÿÈ£ùiÚ"));

	)

152 
	#SCHEDULER_STOPPED_TD
(
td
) ({ \

153 
	`MPASS
((
td
è=ð
cu¹h»ad
); \

154 
	`__´ediù_çl£
((
td
)->
td_¡Ýsched
); \

155 })

	)

156 
	#SCHEDULER_STOPPED
(è
	`SCHEDULER_STOPPED_TD
(
cu¹h»ad
)

	)

161 
	#__»ad_mo¡ly
 
	`__£ùiÚ
(".d©a.»ad_mo¡ly")

	)

162 
	#__»ad_äequ’Žy
 
	`__£ùiÚ
(".d©a.»ad_äequ’Žy")

	)

163 
	#__exþusive_ÿche_lše
 
	`__®igÃd
(
CACHE_LINE_SIZE
) \

164 
	`__£ùiÚ
(".d©a.exþusive_ÿche_lše")

	)

171 
o¤–d©e
;

172 
boÞ
 
dyÇmic_k’v
;

173 
mtx
 
k’v_lock
;

174 *
k”n_’vp
;

175 *
md_’vp
;

176 
¡©ic_’v
[];

177 
¡©ic_hšts
[];

179 **
k’vp
;

181 cÚ¡ *
z”o_»giÚ
;

183 
unm­³d_buf_®lowed
;

185 #ifdeà
__LP64__


186 
	#IOSIZE_MAX
 
	`iosize_max
()

	)

187 
	#DEVFS_IOSIZE_MAX
 
	`devfs_iosize_max
()

	)

189 
	#IOSIZE_MAX
 
SSIZE_MAX


	)

190 
	#DEVFS_IOSIZE_MAX
 
SSIZE_MAX


	)

197 
	gšpcb
;

198 
	glock_objeù
;

199 
	gm®loc_ty³
;

200 
	gmtx
;

201 
	g´oc
;

202 
	gsock‘
;

203 
	gth»ad
;

204 
	g‰y
;

205 
	guüed
;

206 
	guio
;

207 
	g_jmp_buf
;

208 
	gŒ­äame
;

209 
	gev’‰im”
;

211 
	$£tjmp
(
_jmp_buf
 *è
__»tuºs_twiû
;

212 
	$lÚgjmp
(
_jmp_buf
 *, è
__d—d2
;

213 
	`dump¡©us
(
vm_off£t_t
 
addr
, 
off_t
 
couÁ
);

214 
	`nuÎÝ
();

215 
	`eÝnÙsuµ
();

216 
	`u»adc
(, 
uio
 *);

217 
	`hashde¡roy
(*, 
m®loc_ty³
 *, 
u_lÚg
);

218 *
	`hashš™
(
couÁ
, 
m®loc_ty³
 *
ty³
, 
u_lÚg
 *
hashmask
);

219 *
	`hashš™_æags
(
couÁ
, 
m®loc_ty³
 *
ty³
,

220 
u_lÚg
 *
hashmask
, 
æags
);

221 
	#HASH_NOWAIT
 0x00000001

	)

222 
	#HASH_WAITOK
 0x00000002

	)

224 *
	`phashš™
(
couÁ
, 
m®loc_ty³
 *
ty³
, 
u_lÚg
 *
ÃÁr›s
);

225 *
	`phashš™_æags
(
couÁ
, 
m®loc_ty³
 *
ty³
, 
u_lÚg
 *
ÃÁr›s
,

226 
æags
);

227 
	`g_wa™idË
();

229 
	`ýu_boÙ
();

230 
	`ýu_æush_dÿche
(*, 
size_t
);

231 
	`ýu_roÙcÚf
();

232 
	`ü™iÿl_’‹r_KBI
();

233 
	`ü™iÿl_ex™_KBI
();

234 
	`ü™iÿl_ex™_´“m±
();

235 
	`š™_·¿m1
();

236 
	`š™_·¿m2
(
phy¥ages
);

237 
	`š™_¡©ic_k’v
(*, 
size_t
);

238 
	`bËfuÎ
(const *);

240 #ià
	`defšed
(
KLD_MODULE
è|| defšed(
KTR_CRITICAL
è|| !defšed(
_KERNEL
è|| defšed(
GENOFFSET
)

241 
	#ü™iÿl_’‹r
(è
	`ü™iÿl_’‹r_KBI
()

	)

242 
	#ü™iÿl_ex™
(è
	`ü™iÿl_ex™_KBI
()

	)

244 
__šlše
 

245 
	$ü™iÿl_’‹r
()

247 
th»ad_l™e
 *
td
;

249 
td
 = (
th»ad_l™e
 *)
cu¹h»ad
;

250 
td
->
td_ü™Ã¡
++;

251 
	`__compž”_memb¬
();

252 
	}
}

254 
__šlše
 

255 
	$ü™iÿl_ex™
()

257 
th»ad_l™e
 *
td
;

259 
td
 = (
th»ad_l™e
 *)
cu¹h»ad
;

260 
	`KASSERT
(
td
->
td_ü™Ã¡
 != 0,

262 
	`__compž”_memb¬
();

263 
td
->
td_ü™Ã¡
--;

264 
	`__compž”_memb¬
();

265 ià(
	`__´ediù_çl£
(
td
->
td_ow•»em±
))

266 
	`ü™iÿl_ex™_´“m±
();

268 
	}
}

272 #ifdeà 
EARLY_PRINTF


273 
	t—¾y_putc_t
(
	tch
);

274 
—¾y_putc_t
 *
—¾y_putc
;

276 
kv´štf
(const *, (*)(, *), *, ,

277 
__va_li¡
è
	`__´štæike
(1, 0);

278 
	$log
(, cÚ¡ *, ...è
	`__´štæike
(2, 3);

279 
	`log_cÚsÞe
(
uio
 *);

280 
	$vlog
(, cÚ¡ *, 
__va_li¡
è
	`__´štæike
(2, 0);

281 
	$a¥rštf
(**
»t
, 
m®loc_ty³
 *
m
, cÚ¡ *
fÜm©
,

282 ...è
	`__´štæike
(3, 4);

283 
	$´štf
(cÚ¡ *, ...è
	`__´štæike
(1, 2);

284 
	$¢´štf
(*, 
size_t
, cÚ¡ *, ...è
	`__´štæike
(3, 4);

285 
	$¥rštf
(*
buf
, cÚ¡ *, ...è
	`__´štæike
(2, 3);

286 
	$u´štf
(cÚ¡ *, ...è
	`__´štæike
(1, 2);

287 
	$v´štf
(cÚ¡ *, 
__va_li¡
è
	`__´štæike
(1, 0);

288 
	$va¥rštf
(**
»t
, 
m®loc_ty³
 *
m
, cÚ¡ *
fÜm©
,

289 
__va_li¡
 
­
è
	`__´štæike
(3, 0);

290 
	$v¢´štf
(*, 
size_t
, cÚ¡ *, 
__va_li¡
è
	`__´štæike
(3, 0);

291 
	$v¢½rštf
(*, 
size_t
, , cÚ¡ *, 
__va_li¡
è
	`__´štæike
(4, 0);

292 
	$v¥rštf
(*
buf
, cÚ¡ *, 
__va_li¡
è
	`__´štæike
(2, 0);

293 
	$‰y´štf
(
‰y
 *, cÚ¡ *, ...è
	`__´štæike
(2, 3);

294 
	$ssÿnf
(cÚ¡ *, cÚ¡ * 
_NÚnuÎ
, ...è
	`__sÿnæike
(2, 3);

295 
	$vssÿnf
(cÚ¡ * 
_NÚnuÎ
, cÚ¡ * _NÚnuÎ, 
__va_li¡
è
	`__sÿnæike
(2, 0);

296 
	`¡¹Þ
(const *, **, );

297 
u_lÚg
 
	`¡¹oul
(const *, **, );

298 
quad_t
 
	`¡¹oq
(const *, **, );

299 
u_quad_t
 
	`¡¹ouq
(const *, **, );

300 
	$rštf
(
´oc
 *
p
, 
´i
, cÚ¡ *, ...è
	`__´štæike
(3, 4);

301 
	$vrštf
(
´oc
 *, , cÚ¡ *, 
__va_li¡
è
	`__´štæike
(3, 0);

302 
	`hexdump
(cÚ¡ *
±r
, 
Ëngth
, cÚ¡ *
hdr
, 
æags
);

303 
	#HD_COLUMN_MASK
 0xff

	)

304 
	#HD_DELIM_MASK
 0xff00

	)

305 
	#HD_OMIT_COUNT
 (1 << 16)

	)

306 
	#HD_OMIT_HEX
 (1 << 17)

	)

307 
	#HD_OMIT_CHARS
 (1 << 18)

	)

309 
	#ovbcÝy
(
f
, 
t
, 
l
è
	`bcÝy
((f), (t), (l))

	)

310 
	`bcÝy
(cÚ¡ * 
_NÚnuÎ
 
äom
, * _NÚnuÎ 
to
, 
size_t
 
Ën
);

311 
	#bcÝy
(
äom
, 
to
, 
Ën
è
	`__bužtš_memmove
(Ño), (äom), (Ën))

	)

312 
	`bz”o
(* 
_NÚnuÎ
 
buf
, 
size_t
 
Ën
);

313 
	#bz”o
(
buf
, 
Ën
è
	`__bužtš_mem£t
((buf), 0, (Ën))

	)

314 
	`ex¶ic™_bz”o
(* 
_NÚnuÎ
, 
size_t
);

315 
	`bcmp
(cÚ¡ *
b1
, cÚ¡ *
b2
, 
size_t
 
Ën
);

316 
	#bcmp
(
b1
, 
b2
, 
Ën
è
	`__bužtš_memcmp
((b1), (b2), (Ën))

	)

318 *
	`mem£t
(* 
_NÚnuÎ
 
buf
, 
c
, 
size_t
 
Ën
);

319 
	#mem£t
(
buf
, 
c
, 
Ën
è
	`__bužtš_mem£t
((buf), (c), (Ën))

	)

320 *
	`memýy
(* 
_NÚnuÎ
 
to
, cÚ¡ * _NÚnuÎ 
äom
, 
size_t
 
Ën
);

321 
	#memýy
(
to
, 
äom
, 
Ën
è
	`__bužtš_memýy
(Ño), (äom), (Ën))

	)

322 *
	`memmove
(* 
_NÚnuÎ
 
de¡
, cÚ¡ * _NÚnuÎ 
¤c
, 
size_t
 
n
);

323 
	#memmove
(
de¡
, 
¤c
, 
n
è
	`__bužtš_memmove
((de¡), (¤c), (n))

	)

324 
	`memcmp
(cÚ¡ *
b1
, cÚ¡ *
b2
, 
size_t
 
Ën
);

325 
	#memcmp
(
b1
, 
b2
, 
Ën
è
	`__bužtš_memcmp
((b1), (b2), (Ën))

	)

327 *
	`mem£t_—¾y
(* 
_NÚnuÎ
 
buf
, 
c
, 
size_t
 
Ën
);

328 
	#bz”o_—¾y
(
buf
, 
Ën
è
	`mem£t_—¾y
((buf), 0, (Ën))

	)

329 *
	`memýy_—¾y
(* 
_NÚnuÎ
 
to
, cÚ¡ * _NÚnuÎ 
äom
, 
size_t
 
Ën
);

330 *
	`memmove_—¾y
(* 
_NÚnuÎ
 
de¡
, cÚ¡ * _NÚnuÎ 
¤c
, 
size_t
 
n
);

331 
	#bcÝy_—¾y
(
äom
, 
to
, 
Ën
è
	`memmove_—¾y
(Ño), (äom), (Ën))

	)

333 
	`cÝy¡r
(cÚ¡ * 
_NÚnuÎ
 
__»¡riù
 
kçddr
,

334 * 
_NÚnuÎ
 
__»¡riù
 
kdaddr
, 
size_t
 
Ën
,

335 
size_t
 * 
__»¡riù
 
ËncÝ›d
);

336 
	`cÝyš¡r
(cÚ¡ * 
__»¡riù
 
udaddr
,

337 * 
_NÚnuÎ
 
__»¡riù
 
kaddr
, 
size_t
 
Ën
,

338 
size_t
 * 
__»¡riù
 
ËncÝ›d
);

339 
	`cÝyš
(cÚ¡ * 
__»¡riù
 
udaddr
,

340 * 
_NÚnuÎ
 
__»¡riù
 
kaddr
, 
size_t
 
Ën
);

341 
	`cÝyš_noçuÉ
(cÚ¡ * 
__»¡riù
 
udaddr
,

342 * 
_NÚnuÎ
 
__»¡riù
 
kaddr
, 
size_t
 
Ën
);

343 
	`cÝyout
(cÚ¡ * 
_NÚnuÎ
 
__»¡riù
 
kaddr
,

344 * 
__»¡riù
 
udaddr
, 
size_t
 
Ën
);

345 
	`cÝyout_noçuÉ
(cÚ¡ * 
_NÚnuÎ
 
__»¡riù
 
kaddr
,

346 * 
__»¡riù
 
udaddr
, 
size_t
 
Ën
);

348 
	`fuby‹
(vÞ©žcÚ¡ *
ba£
);

349 
	`fuwÜd
(vÞ©žcÚ¡ *
ba£
);

350 
	`fuwÜd16
(vÞ©žcÚ¡ *
ba£
);

351 
št32_t
 
	`fuwÜd32
(vÞ©žcÚ¡ *
ba£
);

352 
št64_t
 
	`fuwÜd64
(vÞ©žcÚ¡ *
ba£
);

353 
	`fuewÜd
(vÞ©žcÚ¡ *
ba£
, *
v®
);

354 
	`fuewÜd32
(vÞ©žcÚ¡ *
ba£
, 
št32_t
 *
v®
);

355 
	`fuewÜd64
(vÞ©žcÚ¡ *
ba£
, 
št64_t
 *
v®
);

356 
	`suby‹
(vÞ©ž*
ba£
, 
by‹
);

357 
	`suwÜd
(vÞ©ž*
ba£
, 
wÜd
);

358 
	`suwÜd16
(vÞ©ž*
ba£
, 
wÜd
);

359 
	`suwÜd32
(vÞ©ž*
ba£
, 
št32_t
 
wÜd
);

360 
	`suwÜd64
(vÞ©ž*
ba£
, 
št64_t
 
wÜd
);

361 
ušt32_t
 
	`ÿsuwÜd32
(vÞ©žušt32_ˆ*
ba£
, ušt32_ˆ
Þdv®
, ušt32_ˆ
Ãwv®
);

362 
u_lÚg
 
	`ÿsuwÜd
(vÞ©žu_lÚg *
p
, u_lÚg 
Þdv®
, u_lÚg 
Ãwv®
);

363 
	`ÿsuewÜd32
(vÞ©ž
ušt32_t
 *
ba£
, ušt32_ˆ
Þdv®
, ušt32_ˆ*
Þdv®p
,

364 
ušt32_t
 
Ãwv®
);

365 
	`ÿsuewÜd
(vÞ©ž
u_lÚg
 *
p
, u_lÚg 
Þdv®
, u_lÚg *
Þdv®p
,

366 
u_lÚg
 
Ãwv®
);

368 
	`»®™expœe
(*);

370 
	`sysb“p
(
h”tz
, 
³riod
);

372 
	`h¬dþock
(
út
, 
u£rmode
);

373 
	`h¬dþock_sync
(
ýu
);

374 
	`soáþock
(*);

375 
	`¡©þock
(
út
, 
u£rmode
);

376 
	`´ofþock
(
út
, 
u£rmode
, 
uštåŒ_t
 
pc
);

378 
	`h¬dþockšŒ
();

380 
	`¡¬rofþock
(
´oc
 *);

381 
	`¡Ý´ofþock
(
´oc
 *);

382 
	`ýu_¡¬rofþock
();

383 
	`ýu_¡Ý´ofþock
();

384 
	`su¥’dþock
();

385 
	`»sumeþock
();

386 
sbštime_t
 
	`ýu_idËþock
();

387 
	`ýu_aùiveþock
();

388 
	`ýu_Ãw_ÿÎout
(
ýu
, 
sbštime_t
 
bt
, sbštime_ˆ
bt_Ýt
);

389 
	`ýu_‘_äequ’cy
(
ev’‰im”
 *
‘
, 
ušt64_t
 
Ãwäeq
);

390 
ýu_di§bË_c2_¦“p
;

391 
ýu_di§bË_c3_¦“p
;

393 *
	`k”n_g‘’v
(cÚ¡ *
Çme
);

394 
	`ä“’v
(*
’v
);

395 
	`g‘’v_št
(cÚ¡ *
Çme
, *
d©a
);

396 
	`g‘’v_ušt
(cÚ¡ *
Çme
, *
d©a
);

397 
	`g‘’v_lÚg
(cÚ¡ *
Çme
, *
d©a
);

398 
	`g‘’v_ulÚg
(cÚ¡ *
Çme
, *
d©a
);

399 
	`g‘’v_¡ršg
(cÚ¡ *
Çme
, *
d©a
, 
size
);

400 
	`g‘’v_št64
(cÚ¡ *
Çme
, 
št64_t
 *
d©a
);

401 
	`g‘’v_ušt64
(cÚ¡ *
Çme
, 
ušt64_t
 *
d©a
);

402 
	`g‘’v_quad
(cÚ¡ *
Çme
, 
quad_t
 *
d©a
);

403 
	`k”n_£‹nv
(cÚ¡ *
Çme
, cÚ¡ *
v®ue
);

404 
	`k”n_un£‹nv
(cÚ¡ *
Çme
);

405 
	`‹¡’v
(cÚ¡ *
Çme
);

407 
	`g‘’v_¬¿y
(cÚ¡ *
Çme
, *
d©a
, 
size
, *
psize
,

408 
ty³_size
, 
boÞ
 
®low_sigÃd
);

409 
	#GETENV_UNSIGNED
 
çl£


	)

410 
	#GETENV_SIGNED
 
Œue


	)

412 
	$ušt64_t
 (
	týu_tick_f
)();

413 
	`£t_ýutick”
(
ýu_tick_f
 *
func
, 
ušt64_t
 
äeq
, 
v¬
);

414 
ýu_tick_f
 *
ýu_ticks
;

415 
ušt64_t
 
	`ýu_tick¿‹
();

416 
ušt64_t
 
	`ýutick2u£c
(ušt64_ˆ
tick
);

418 #ifdeà
APM_FIXUP_CALLTODO


419 
timev®
;

420 
	`adju¡_timeout_ÿÎtodo
(
timev®
 *
time_chªge
);

423 
	~<sys/libk”n.h
>

426 
	`cÚsš™
();

427 
	`ýu_š™þocks
();

428 
	`ýu_š™þocks_b¥
();

429 
	`ýu_š™þocks_­
();

430 
	`u¤šfoš™
();

433 
	$k”n_»boÙ
(è
__d—d2
;

434 
	`shutdown_niû
();

437 
	ttimeout_t
(*);

438 
	#CALLOUT_HANDLE_INITIALIZER
(
hªdË
) \

439 { 
NULL
 
	}

	)
}

441 
ÿÎout_hªdË_š™
(
ÿÎout_hªdË
 *);

442 
ÿÎout_hªdË
 
timeout
(
timeout_t
 *, *, );

443 
uÁimeout
(
timeout_t
 *, *, 
ÿÎout_hªdË
);

446 
__šlše
 
šŒmask_t
 
	$¥lbio
(è{  0; 
	}
}

447 
__šlše
 
šŒmask_t
 
	$¥lÿm
(è{  0; 
	}
}

448 
__šlše
 
šŒmask_t
 
	$¥lþock
(è{  0; 
	}
}

449 
__šlše
 
šŒmask_t
 
	$¥lhigh
(è{  0; 
	}
}

450 
__šlše
 
šŒmask_t
 
	$¥limp
(è{  0; 
	}
}

451 
__šlše
 
šŒmask_t
 
	$¥Ê‘
(è{  0; 
	}
}

452 
__šlše
 
šŒmask_t
 
	$¥Éty
(è{  0; 
	}
}

453 
__šlše
 
	$¥lx
(
šŒmask_t
 
l
 
__unu£d
è{ ; 
	}
}

459 
_¦“p
(* 
_NÚnuÎ
 
chª
, 
lock_objeù
 *
lock
, 
´i
,

460 cÚ¡ *
wmesg
, 
sbštime_t
 
sbt
, sbštime_ˆ
´
, 
æags
);

461 
	#m¦“p
(
chª
, 
mtx
, 
´i
, 
wmesg
, 
timo
) \

462 
	`_¦“p
((
chª
), &(
mtx
)->
lock_objeù
, (
´i
), (
wmesg
), \

463 
tick_sbt
 * (
timo
), 0, 
C_HARDCLOCK
)

	)

464 
	#m¦“p_sbt
(
chª
, 
mtx
, 
´i
, 
wmesg
, 
bt
, 
´
, 
æags
) \

465 
	`_¦“p
((
chª
), &(
mtx
)->
lock_objeù
, (
´i
), (
wmesg
), (
bt
), (
´
), \

466 (
æags
))

	)

467 
m¦“p_¥š_sbt
(* 
_NÚnuÎ
 
chª
, 
mtx
 *mtx,

468 cÚ¡ *
wmesg
, 
sbštime_t
 
sbt
, sbštime_ˆ
´
, 
æags
);

469 
	#m¦“p_¥š
(
chª
, 
mtx
, 
wmesg
, 
timo
) \

470 
	`m¦“p_¥š_sbt
((
chª
), (
mtx
), (
wmesg
), 
tick_sbt
 * (
timo
), \

471 0, 
C_HARDCLOCK
)

	)

472 
·u£_sbt
(cÚ¡ *
wmesg
, 
sbštime_t
 
sbt
, sbštime_ˆ
´
,

473 
æags
);

474 
	#·u£
(
wmesg
, 
timo
) \

475 
	`·u£_sbt
((
wmesg
), 
tick_sbt
 * (
timo
), 0, 
C_HARDCLOCK
)

	)

476 
	#·u£_sig
(
wmesg
, 
timo
) \

477 
	`·u£_sbt
((
wmesg
), 
tick_sbt
 * (
timo
), 0, 
C_HARDCLOCK
 | 
C_CATCH
)

	)

478 
	#t¦“p
(
chª
, 
´i
, 
wmesg
, 
timo
) \

479 
	`_¦“p
((
chª
), 
NULL
, (
´i
), (
wmesg
), 
tick_sbt
 * (
timo
), \

480 0, 
C_HARDCLOCK
)

	)

481 
	#t¦“p_sbt
(
chª
, 
´i
, 
wmesg
, 
bt
, 
´
, 
æags
) \

482 
	`_¦“p
((
chª
), 
NULL
, (
´i
), (
wmesg
), (
bt
), (
´
), (
æags
))

	)

483 
wakeup
(* 
chª
);

484 
wakeup_Úe
(* 
chª
);

490 
	gcdev
;

491 
dev_t
 
dev2udev
(
cdev
 *
x
);

492 cÚ¡ *
devtÚame
(
cdev
 *cdev);

494 #ifdeà
__LP64__


495 
size_t
 
devfs_iosize_max
();

496 
size_t
 
iosize_max
();

499 
pÞl_no_pÞl
(
ev’ts
);

502 
DELAY
(
u£c
);

505 
	groÙ_hÞd_tok’
;

507 
roÙ_hÞd_tok’
 *
roÙ_mouÁ_hÞd
(cÚ¡ *
id’tif›r
);

508 
roÙ_mouÁ_»l
(
roÙ_hÞd_tok’
 *
h
);

509 
roÙ_mouÁed
();

515 
	guÄhdr
;

516 
uÄhdr
 *
Ãw_uÄhdr
(
low
, 
high
, 
mtx
 *
mu‹x
);

517 
š™_uÄhdr
(
uÄhdr
 *
uh
, 
low
, 
high
, 
mtx
 *
mu‹x
);

518 
d–‘e_uÄhdr
(
uÄhdr
 *
uh
);

519 
þ—r_uÄhdr
(
uÄhdr
 *
uh
);

520 
þ—n_uÄhdr
(
uÄhdr
 *
uh
);

521 
þ—n_uÄhd¾
(
uÄhdr
 *
uh
);

522 
®loc_uÄ
(
uÄhdr
 *
uh
);

523 
®loc_uÄ_¥ecific
(
uÄhdr
 *
uh
, 
u_št
 
™em
);

524 
®loc_uÄl
(
uÄhdr
 *
uh
);

525 
ä“_uÄ
(
uÄhdr
 *
uh
, 
u_št
 
™em
);

527 
šŒ_´of_¡ack_u£
(
th»ad
 *
td
, 
Œ­äame
 *
äame
);

529 
couÁed_w¬nšg
(*
couÁ”
, cÚ¡ *
msg
);

534 
	gdeviû
;

535 
_gÚe_š
(
majÜ
, cÚ¡ *
msg
);

536 
_gÚe_š_dev
(
deviû
 *
dev
, 
majÜ
, cÚ¡ *
msg
);

537 #ifdeà
NO_OBSOLETE_CODE


538 
	#__gÚe_ok
(
m
, 
msg
) \

539 
	`_Stic_as£¹
(
m
 < 
	`P_OSREL_MAJOR
(
__F»eBSD_v”siÚ
)), \

540 "ObsÞ‘code" 
msg
);

	)

542 
	#__gÚe_ok
(
m
, 
msg
)

	)

544 
	#gÚe_š
(
majÜ
, 
msg
è
	`__gÚe_ok
(majÜ, msgè
	`_gÚe_š
(majÜ, msg)

	)

545 
	#gÚe_š_dev
(
dev
, 
majÜ
, 
msg
è
	`__gÚe_ok
(majÜ, msgè
	`_gÚe_š_dev
(dev, majÜ, msg)

	)

546 
	#gÚe_by_fý101_dev
(
dev
) \

547 
	`gÚe_š_dev
((
dev
), 13, \

548 "£h‰ps://g™hub.com/ä“bsd/fý/blob/ma¡”/fý-0101.md")

	)

550 
	g__NULLABILITY_PRAGMA_POP


	@/usr/include/sys/taskqueue.h

31 #iâdeà
_SYS_TASKQUEUE_H_


32 
	#_SYS_TASKQUEUE_H_


	)

34 #iâdeà
_KERNEL


38 
	~<sys/queue.h
>

39 
	~<sys/_sk.h
>

40 
	~<sys/_ÿÎout.h
>

41 
	~<sys/_ýu£t.h
>

43 
	gskqueue
;

44 
	gskqgroup
;

45 
	gth»ad
;

47 
	stimeout_sk
 {

48 
skqueue
 *
	mq
;

49 
sk
 
	mt
;

50 
ÿÎout
 
	mc
;

51 
	mf
;

54 
	eskqueue_ÿÎback_ty³
 {

55 
	mTASKQUEUE_CALLBACK_TYPE_INIT
,

56 
	mTASKQUEUE_CALLBACK_TYPE_SHUTDOWN
,

58 
	#TASKQUEUE_CALLBACK_TYPE_MIN
 
TASKQUEUE_CALLBACK_TYPE_INIT


	)

59 
	#TASKQUEUE_CALLBACK_TYPE_MAX
 
TASKQUEUE_CALLBACK_TYPE_SHUTDOWN


	)

60 
	#TASKQUEUE_NUM_CALLBACKS
 
TASKQUEUE_CALLBACK_TYPE_MAX
 + 1

	)

61 
	#TASKQUEUE_NAMELEN
 32

	)

63 (*
	tskqueue_ÿÎback_â
)(*
	tcÚ‹xt
);

72 (*
	tskqueue_’queue_â
)(*
	tcÚ‹xt
);

74 
skqueue
 *
	`skqueue_ü—‹
(cÚ¡ *
Çme
, 
mæags
,

75 
skqueue_’queue_â
 
’queue
,

76 *
cÚ‹xt
);

77 
	$skqueue_¡¬t_th»ads
(
skqueue
 **
tqp
, 
couÁ
, 
´i
,

78 cÚ¡ *
Çme
, ...è
	`__´štæike
(4, 5);

79 
	$skqueue_¡¬t_th»ads_ýu£t
(
skqueue
 **
tqp
, 
couÁ
,

80 
´i
, 
ýu£t_t
 *
mask
, cÚ¡ *
Çme
, ...è
	`__´štæike
(5, 6);

81 
	`skqueue_’queue
(
skqueue
 *
queue
, 
sk
 *task);

82 
	`skqueue_’queue_timeout
(
skqueue
 *
queue
,

83 
timeout_sk
 *timeout_sk, 
ticks
);

84 
	`skqueue_’queue_timeout_sbt
(
skqueue
 *
queue
,

85 
timeout_sk
 *timeout_sk, 
sbštime_t
 
sbt
, sbštime_ˆ
´
,

86 
æags
);

87 
	`skqueue_pÞl_is_busy
(
skqueue
 *
queue
, 
sk
 *task);

88 
	`skqueue_ÿnûl
(
skqueue
 *
queue
, 
sk
 *task,

89 
u_št
 *
³ndp
);

90 
	`skqueue_ÿnûl_timeout
(
skqueue
 *
queue
,

91 
timeout_sk
 *timeout_sk, 
u_št
 *
³ndp
);

92 
	`skqueue_d¿š
(
skqueue
 *
queue
, 
sk
 *task);

93 
	`skqueue_d¿š_timeout
(
skqueue
 *
queue
,

94 
timeout_sk
 *timeout_task);

95 
	`skqueue_d¿š_®l
(
skqueue
 *
queue
);

96 
	`skqueue_ä“
(
skqueue
 *
queue
);

97 
	`skqueue_run
(
skqueue
 *
queue
);

98 
	`skqueue_block
(
skqueue
 *
queue
);

99 
	`skqueue_unblock
(
skqueue
 *
queue
);

100 
	`skqueue_memb”
(
skqueue
 *
queue
, 
th»ad
 *
td
);

101 
	`skqueue_£t_ÿÎback
(
skqueue
 *
queue
,

102 
skqueue_ÿÎback_ty³
 
cb_ty³
,

103 
skqueue_ÿÎback_â
 
ÿÎback
, *
cÚ‹xt
);

105 
	#TASK_INITIALIZER
(
´iÜ™y
, 
func
, 
cÚ‹xt
) \

106 { .
_³ndšg
 = 0, \

107 .
_´iÜ™y
 = (
´iÜ™y
), \

108 .
_func
 = (
func
), \

109 .
_cÚ‹xt
 = (
cÚ‹xt
è
	}

	)
}

114 
skqueue_th»ad_loÝ
(*
¬g
);

115 
skqueue_th»ad_’queue
(*
cÚ‹xt
);

120 
	#TASK_INIT
(
sk
, 
´iÜ™y
, 
func
, 
cÚ‹xt
) do { \

121 (
sk
)->
_³ndšg
 = 0; \

122 (
sk
)->
_´iÜ™y
 = (
´iÜ™y
); \

123 (
sk
)->
_func
 = (
func
); \

124 (
sk
)->
_cÚ‹xt
 = (
cÚ‹xt
); \

125 } 0)

	)

127 
_timeout_sk_š™
(
skqueue
 *
queue
,

128 
timeout_sk
 *timeout_sk, 
´iÜ™y
, 
sk_â_t
 
func
,

129 *
cÚ‹xt
);

130 
	#TIMEOUT_TASK_INIT
(
queue
, 
timeout_sk
, 
´iÜ™y
, 
func
, 
cÚ‹xt
) \

131 
	`_timeout_sk_š™
(
queue
, 
timeout_sk
, 
´iÜ™y
, 
func
, 
cÚ‹xt
);

	)

136 
	#TASKQUEUE_DECLARE
(
Çme
) \

137 
skqueue
 *
skqueue_
##
Çme


	)

142 
	#TASKQUEUE_DEFINE
(
Çme
, 
’queue
, 
cÚ‹xt
, 
š™
) \

144 
skqueue
 *
skqueue_
##
Çme
; \

147 
skqueue_defše_
##
	`Çme
(*
¬g
) \

149 
skqueue_
##
Çme
 = \

150 
	`skqueue_ü—‹
(#Çme, 
M_WAITOK
, (
’queue
), (
cÚ‹xt
)); \

151 
š™
; \

154 
	`SYSINIT
(
skqueue_
##
Çme
, 
SI_SUB_TASKQ
, 
SI_ORDER_SECOND
, \

155 
skqueue_defše_
##
Çme
, 
NULL
); \

157 
__hack


	)

158 
	#TASKQUEUE_DEFINE_THREAD
(
Çme
) \

159 
	`TASKQUEUE_DEFINE
(
Çme
, 
skqueue_th»ad_’queue
, &
skqueue_
##name, \

160 
	`skqueue_¡¬t_th»ads
(&
skqueue_
##
Çme
, 1, 
PWAIT
, \

161 "% skq", #Çme))

	)

166 
	#TASKQUEUE_FAST_DEFINE
(
Çme
, 
’queue
, 
cÚ‹xt
, 
š™
) \

168 
skqueue
 *
skqueue_
##
Çme
; \

171 
skqueue_defše_
##
	`Çme
(*
¬g
) \

173 
skqueue_
##
Çme
 = \

174 
	`skqueue_ü—‹_ç¡
(#Çme, 
M_WAITOK
, (
’queue
), \

175 (
cÚ‹xt
)); \

176 
š™
; \

179 
	`SYSINIT
(
skqueue_
##
Çme
, 
SI_SUB_TASKQ
, 
SI_ORDER_SECOND
, \

180 
skqueue_defše_
##
Çme
, 
NULL
); \

182 
__hack


	)

183 
	#TASKQUEUE_FAST_DEFINE_THREAD
(
Çme
) \

184 
	`TASKQUEUE_FAST_DEFINE
(
Çme
, 
skqueue_th»ad_’queue
, \

185 &
skqueue_
##
Çme
, 
	`skqueue_¡¬t_th»ads
(&taskqueue_##name \

186 1, 
PWAIT
, "% skq", #Çme))

	)

193 
TASKQUEUE_DECLARE
(
swi_gŸÁ
);

194 
TASKQUEUE_DECLARE
(
swi
);

200 
TASKQUEUE_DECLARE
(
th»ad
);

208 
TASKQUEUE_DECLARE
(
ç¡
);

209 
skqueue
 *
skqueue_ü—‹_ç¡
(cÚ¡ *
Çme
, 
mæags
,

210 
skqueue_’queue_â
 
’queue
,

211 *
cÚ‹xt
);

	@/usr/include/sys/timex.h

35 #iâdeà
_SYS_TIMEX_H_


36 
	#_SYS_TIMEX_H_
 1

	)

38 
	#NTP_API
 4

	)

40 #ifdeà
__F»eBSD__


41 
	~<sys/_time¥ec.h
>

54 
	#MAXPHASE
 500000000L

	)

55 
	#MAXFREQ
 500000L

	)

56 
	#MINSEC
 256

	)

57 
	#MAXSEC
 2048

	)

58 
	#NANOSECOND
 1000000000L

	)

59 
	#SCALE_PPM
 (65536 / 1000è

	)

60 
	#MAXTC
 10

	)

65 
	#MOD_OFFSET
 0x0001

	)

66 
	#MOD_FREQUENCY
 0x0002

	)

67 
	#MOD_MAXERROR
 0x0004

	)

68 
	#MOD_ESTERROR
 0x0008

	)

69 
	#MOD_STATUS
 0x0010

	)

70 
	#MOD_TIMECONST
 0x0020

	)

71 
	#MOD_PPSMAX
 0x0040

	)

72 
	#MOD_TAI
 0x0080

	)

73 
	#MOD_MICRO
 0x1000

	)

74 
	#MOD_NANO
 0x2000

	)

75 
	#MOD_CLKB
 0x4000

	)

76 
	#MOD_CLKA
 0x8000

	)

81 
	#STA_PLL
 0x0001

	)

82 
	#STA_PPSFREQ
 0x0002

	)

83 
	#STA_PPSTIME
 0x0004

	)

84 
	#STA_FLL
 0x0008

	)

85 
	#STA_INS
 0x0010

	)

86 
	#STA_DEL
 0x0020

	)

87 
	#STA_UNSYNC
 0x0040

	)

88 
	#STA_FREQHOLD
 0x0080

	)

89 
	#STA_PPSSIGNAL
 0x0100

	)

90 
	#STA_PPSJITTER
 0x0200

	)

91 
	#STA_PPSWANDER
 0x0400

	)

92 
	#STA_PPSERROR
 0x0800

	)

93 
	#STA_CLOCKERR
 0x1000

	)

94 
	#STA_NANO
 0x2000

	)

95 
	#STA_MODE
 0x4000

	)

96 
	#STA_CLK
 0x8000

	)

98 
	#STA_RONLY
 (
STA_PPSSIGNAL
 | 
STA_PPSJITTER
 | 
STA_PPSWANDER
 | \

99 
STA_PPSERROR
 | 
STA_CLOCKERR
 | 
STA_NANO
 | 
STA_MODE
 | 
STA_CLK
)

	)

104 
	#TIME_OK
 0

	)

105 
	#TIME_INS
 1

	)

106 
	#TIME_DEL
 2

	)

107 
	#TIME_OOP
 3

	)

108 
	#TIME_WAIT
 4

	)

109 
	#TIME_ERROR
 5

	)

114 
	sÁ±imev®
 {

115 
time¥ec
 
	mtime
;

116 
	mmax”rÜ
;

117 
	me¡”rÜ
;

118 
	mi
;

119 
	mtime_¡©e
;

129 
	stimex
 {

130 
	mmodes
;

131 
	moff£t
;

132 
	mäeq
;

133 
	mmax”rÜ
;

134 
	me¡”rÜ
;

135 
	m¡©us
;

136 
	mcÚ¡ªt
;

137 
	m´ecisiÚ
;

138 
	mtÞ”ªû
;

146 
	mµsäeq
;

147 
	mj™‹r
;

148 
	mshiá
;

149 
	m¡abž
;

150 
	mj™út
;

151 
	mÿlút
;

152 
	m”rút
;

153 
	m¡bút
;

156 #ifdeà
__F»eBSD__


158 #ifdeà
_KERNEL


159 
Áp_upd©e_£cÚd
(
št64_t
 *
adju¡m’t
, 
time_t
 *
Ãw£c
);

161 
	~<sys/cdefs.h
>

163 
__BEGIN_DECLS


164 
Áp_adjtime
(
timex
 *);

165 
Áp_g‘time
(
Á±imev®
 *);

166 
	g__END_DECLS


	@/usr/include/sys/tree.h

32 #iâdef 
_SYS_TREE_H_


33 
	#_SYS_TREE_H_


	)

35 
	~<sys/cdefs.h
>

64 
	#SPLAY_HEAD
(
Çme
, 
ty³
) \

65 
	sÇme
 { \

66 
ty³
 *
¥h_roÙ
; \

67 }

	)

69 
	#SPLAY_INITIALIZER
(
roÙ
) \

70 { 
NULL
 }

	)

72 
	#SPLAY_INIT
(
roÙ
) do { \

73 (
roÙ
)->
¥h_roÙ
 = 
NULL
; \

74 }  0)

	)

76 
	#SPLAY_ENTRY
(
ty³
) \

78 
ty³
 *
¥e_Ëá
; \

79 
ty³
 *
¥e_right
; \

80 }

	)

82 
	#SPLAY_LEFT
(
–m
, 
f›ld
èÓlm)->f›ld.
¥e_Ëá


	)

83 
	#SPLAY_RIGHT
(
–m
, 
f›ld
èÓlm)->f›ld.
¥e_right


	)

84 
	#SPLAY_ROOT
(
h—d
è(h—d)->
¥h_roÙ


	)

85 
	#SPLAY_EMPTY
(
h—d
è(
	`SPLAY_ROOT
(h—dè=ð
NULL
)

	)

88 
	#SPLAY_ROTATE_RIGHT
(
h—d
, 
tmp
, 
f›ld
) do { \

89 
	`SPLAY_LEFT
((
h—d
)->
¥h_roÙ
, 
f›ld
èð
	`SPLAY_RIGHT
(
tmp
, field); \

90 
	`SPLAY_RIGHT
(
tmp
, 
f›ld
èð(
h—d
)->
¥h_roÙ
; \

91 (
h—d
)->
¥h_roÙ
 = 
tmp
; \

92 }  0)

	)

94 
	#SPLAY_ROTATE_LEFT
(
h—d
, 
tmp
, 
f›ld
) do { \

95 
	`SPLAY_RIGHT
((
h—d
)->
¥h_roÙ
, 
f›ld
èð
	`SPLAY_LEFT
(
tmp
, field); \

96 
	`SPLAY_LEFT
(
tmp
, 
f›ld
èð(
h—d
)->
¥h_roÙ
; \

97 (
h—d
)->
¥h_roÙ
 = 
tmp
; \

98 }  0)

	)

100 
	#SPLAY_LINKLEFT
(
h—d
, 
tmp
, 
f›ld
) do { \

101 
	`SPLAY_LEFT
(
tmp
, 
f›ld
èð(
h—d
)->
¥h_roÙ
; \

102 
tmp
 = (
h—d
)->
¥h_roÙ
; \

103 (
h—d
)->
¥h_roÙ
 = 
	`SPLAY_LEFT
((h—d)->¥h_roÙ, 
f›ld
); \

104 }  0)

	)

106 
	#SPLAY_LINKRIGHT
(
h—d
, 
tmp
, 
f›ld
) do { \

107 
	`SPLAY_RIGHT
(
tmp
, 
f›ld
èð(
h—d
)->
¥h_roÙ
; \

108 
tmp
 = (
h—d
)->
¥h_roÙ
; \

109 (
h—d
)->
¥h_roÙ
 = 
	`SPLAY_RIGHT
((h—d)->¥h_roÙ, 
f›ld
); \

110 }  0)

	)

112 
	#SPLAY_ASSEMBLE
(
h—d
, 
node
, 
Ëá
, 
right
, 
f›ld
) do { \

113 
	`SPLAY_RIGHT
(
Ëá
, 
f›ld
èð
	`SPLAY_LEFT
((
h—d
)->
¥h_roÙ
, field); \

114 
	`SPLAY_LEFT
(
right
, 
f›ld
èð
	`SPLAY_RIGHT
((
h—d
)->
¥h_roÙ
, field);\

115 
	`SPLAY_LEFT
((
h—d
)->
¥h_roÙ
, 
f›ld
èð
	`SPLAY_RIGHT
(
node
, field); \

116 
	`SPLAY_RIGHT
((
h—d
)->
¥h_roÙ
, 
f›ld
èð
	`SPLAY_LEFT
(
node
, field); \

117 }  0)

	)

121 
	#SPLAY_PROTOTYPE
(
Çme
, 
ty³
, 
f›ld
, 
cmp
) \

122 
Çme
##
	`_SPLAY
(Çm*, 
ty³
 *); \

123 
Çme
##
	`_SPLAY_MINMAX
(name *, ); \

124 
ty³
 *
Çme
##
	`_SPLAY_INSERT
(name *, type *); \

125 
ty³
 *
Çme
##
	`_SPLAY_REMOVE
(name *, type *); \

128 
__šlše
 
ty³
 * \

129 
Çme
##
	`_SPLAY_FIND
(Çm*
h—d
, 
ty³
 *
–m
) \

131 ià(
	`SPLAY_EMPTY
(
h—d
)) \

132 (
NULL
); \

133 
Çme
##
	`_SPLAY
(
h—d
, 
–m
); \

134 ià((
cmp
)(
–m
, (
h—d
)->
¥h_roÙ
) == 0) \

135  (
h—d
->
¥h_roÙ
); \

136  (
NULL
); \

139 
__šlše
 
ty³
 * \

140 
Çme
##
	`_SPLAY_NEXT
(Çm*
h—d
, 
ty³
 *
–m
) \

142 
Çme
##
	`_SPLAY
(
h—d
, 
–m
); \

143 ià(
	`SPLAY_RIGHT
(
–m
, 
f›ld
è!ð
NULL
) { \

144 
–m
 = 
	`SPLAY_RIGHT
Ólm, 
f›ld
); \

145 
	`SPLAY_LEFT
(
–m
, 
f›ld
è!ð
NULL
) { \

146 
–m
 = 
	`SPLAY_LEFT
Ólm, 
f›ld
); \

149 
–m
 = 
NULL
; \

150  (
–m
); \

153 
__šlše
 
ty³
 * \

154 
Çme
##
	`_SPLAY_MIN_MAX
(Çm*
h—d
, 
v®
) \

156 
Çme
##
	`_SPLAY_MINMAX
(
h—d
, 
v®
); \

157  (
	`SPLAY_ROOT
(
h—d
)); \

158 }

	)

163 
	#SPLAY_GENERATE
(
Çme
, 
ty³
, 
f›ld
, 
cmp
) \

164 
ty³
 * \

165 
Çme
##
	`_SPLAY_INSERT
(Çm*
h—d
, 
ty³
 *
–m
) \

167 ià(
	`SPLAY_EMPTY
(
h—d
)) { \

168 
	`SPLAY_LEFT
(
–m
, 
f›ld
èð
	`SPLAY_RIGHT
Ólm, f›ldèð
NULL
; \

170 
__comp
; \

171 
Çme
##
	`_SPLAY
(
h—d
, 
–m
); \

172 
__comp
 = (
cmp
)(
–m
, (
h—d
)->
¥h_roÙ
); \

173 if(
__comp
 < 0) { \

174 
	`SPLAY_LEFT
(
–m
, 
f›ld
èðSPLAY_LEFT((
h—d
)->
¥h_roÙ
, field);\

175 
	`SPLAY_RIGHT
(
–m
, 
f›ld
èð(
h—d
)->
¥h_roÙ
; \

176 
	`SPLAY_LEFT
((
h—d
)->
¥h_roÙ
, 
f›ld
èð
NULL
; \

177 } ià(
__comp
 > 0) { \

178 
	`SPLAY_RIGHT
(
–m
, 
f›ld
èðSPLAY_RIGHT((
h—d
)->
¥h_roÙ
, field);\

179 
	`SPLAY_LEFT
(
–m
, 
f›ld
èð(
h—d
)->
¥h_roÙ
; \

180 
	`SPLAY_RIGHT
((
h—d
)->
¥h_roÙ
, 
f›ld
èð
NULL
; \

182  ((
h—d
)->
¥h_roÙ
); \

184 (
h—d
)->
¥h_roÙ
 = (
–m
); \

185  (
NULL
); \

188 
ty³
 * \

189 
Çme
##
	`_SPLAY_REMOVE
(Çm*
h—d
, 
ty³
 *
–m
) \

191 
ty³
 *
__tmp
; \

192 ià(
	`SPLAY_EMPTY
(
h—d
)) \

193  (
NULL
); \

194 
Çme
##
	`_SPLAY
(
h—d
, 
–m
); \

195 ià((
cmp
)(
–m
, (
h—d
)->
¥h_roÙ
) == 0) { \

196 ià(
	`SPLAY_LEFT
((
h—d
)->
¥h_roÙ
, 
f›ld
è=ð
NULL
) { \

197 (
h—d
)->
¥h_roÙ
 = 
	`SPLAY_RIGHT
((h—d)->¥h_roÙ, 
f›ld
);\

199 
__tmp
 = 
	`SPLAY_RIGHT
((
h—d
)->
¥h_roÙ
, 
f›ld
); \

200 (
h—d
)->
¥h_roÙ
 = 
	`SPLAY_LEFT
((h—d)->¥h_roÙ, 
f›ld
);\

201 
Çme
##
	`_SPLAY
(
h—d
, 
–m
); \

202 
	`SPLAY_RIGHT
((
h—d
)->
¥h_roÙ
, 
f›ld
èð
__tmp
; \

204  (
–m
); \

206  (
NULL
); \

210 
Çme
##
	`_SPLAY
(Çm*
h—d
, 
ty³
 *
–m
) \

212 
ty³
 
__node
, *
__Ëá
, *
__right
, *
__tmp
; \

213 
__comp
; \

215 
	`SPLAY_LEFT
(&
__node
, 
f›ld
èð
	`SPLAY_RIGHT
(&__node, f›ldèð
NULL
;\

216 
__Ëá
 = 
__right
 = &
__node
; \

218 (
__comp
 = (
cmp
)(
–m
, (
h—d
)->
¥h_roÙ
)) != 0) { \

219 ià(
__comp
 < 0) { \

220 
__tmp
 = 
	`SPLAY_LEFT
((
h—d
)->
¥h_roÙ
, 
f›ld
); \

221 ià(
__tmp
 =ð
NULL
) \

223 ià((
cmp
)(
–m
, 
__tmp
) < 0){ \

224 
	`SPLAY_ROTATE_RIGHT
(
h—d
, 
__tmp
, 
f›ld
); \

225 ià(
	`SPLAY_LEFT
((
h—d
)->
¥h_roÙ
, 
f›ld
è=ð
NULL
)\

228 
	`SPLAY_LINKLEFT
(
h—d
, 
__right
, 
f›ld
); \

229 } ià(
__comp
 > 0) { \

230 
__tmp
 = 
	`SPLAY_RIGHT
((
h—d
)->
¥h_roÙ
, 
f›ld
); \

231 ià(
__tmp
 =ð
NULL
) \

233 ià((
cmp
)(
–m
, 
__tmp
) > 0){ \

234 
	`SPLAY_ROTATE_LEFT
(
h—d
, 
__tmp
, 
f›ld
); \

235 ià(
	`SPLAY_RIGHT
((
h—d
)->
¥h_roÙ
, 
f›ld
è=ð
NULL
)\

238 
	`SPLAY_LINKRIGHT
(
h—d
, 
__Ëá
, 
f›ld
); \

241 
	`SPLAY_ASSEMBLE
(
h—d
, &
__node
, 
__Ëá
, 
__right
, 
f›ld
); \

247 
Çme
##
	`_SPLAY_MINMAX
(Çm*
h—d
, 
__comp
) \

249 
ty³
 
__node
, *
__Ëá
, *
__right
, *
__tmp
; \

251 
	`SPLAY_LEFT
(&
__node
, 
f›ld
èð
	`SPLAY_RIGHT
(&__node, f›ldèð
NULL
;\

252 
__Ëá
 = 
__right
 = &
__node
; \

255 ià(
__comp
 < 0) { \

256 
__tmp
 = 
	`SPLAY_LEFT
((
h—d
)->
¥h_roÙ
, 
f›ld
); \

257 ià(
__tmp
 =ð
NULL
) \

259 ià(
__comp
 < 0){ \

260 
	`SPLAY_ROTATE_RIGHT
(
h—d
, 
__tmp
, 
f›ld
); \

261 ià(
	`SPLAY_LEFT
((
h—d
)->
¥h_roÙ
, 
f›ld
è=ð
NULL
)\

264 
	`SPLAY_LINKLEFT
(
h—d
, 
__right
, 
f›ld
); \

265 } ià(
__comp
 > 0) { \

266 
__tmp
 = 
	`SPLAY_RIGHT
((
h—d
)->
¥h_roÙ
, 
f›ld
); \

267 ià(
__tmp
 =ð
NULL
) \

269 ià(
__comp
 > 0) { \

270 
	`SPLAY_ROTATE_LEFT
(
h—d
, 
__tmp
, 
f›ld
); \

271 ià(
	`SPLAY_RIGHT
((
h—d
)->
¥h_roÙ
, 
f›ld
è=ð
NULL
)\

274 
	`SPLAY_LINKRIGHT
(
h—d
, 
__Ëá
, 
f›ld
); \

277 
	`SPLAY_ASSEMBLE
(
h—d
, &
__node
, 
__Ëá
, 
__right
, 
f›ld
); \

278 }

	)

280 
	#SPLAY_NEGINF
 -1

	)

281 
	#SPLAY_INF
 1

	)

283 
	#SPLAY_INSERT
(
Çme
, 
x
, 
y
èÇme##
	`_SPLAY_INSERT
(x, y)

	)

284 
	#SPLAY_REMOVE
(
Çme
, 
x
, 
y
èÇme##
	`_SPLAY_REMOVE
(x, y)

	)

285 
	#SPLAY_FIND
(
Çme
, 
x
, 
y
èÇme##
	`_SPLAY_FIND
(x, y)

	)

286 
	#SPLAY_NEXT
(
Çme
, 
x
, 
y
èÇme##
	`_SPLAY_NEXT
(x, y)

	)

287 
	#SPLAY_MIN
(
Çme
, 
x
è(
	`SPLAY_EMPTY
(xè? 
NULL
 \

288 : 
Çme
##
	`_SPLAY_MIN_MAX
(
x
, 
SPLAY_NEGINF
))

	)

289 
	#SPLAY_MAX
(
Çme
, 
x
è(
	`SPLAY_EMPTY
(xè? 
NULL
 \

290 : 
Çme
##
	`_SPLAY_MIN_MAX
(
x
, 
SPLAY_INF
))

	)

292 
	#SPLAY_FOREACH
(
x
, 
Çme
, 
h—d
) \

293 (
x
èð
	`SPLAY_MIN
(
Çme
, 
h—d
); \

294 (
x
è!ð
NULL
; \

295 (
x
èð
	`SPLAY_NEXT
(
Çme
, 
h—d
, x))

	)

298 
	#RB_HEAD
(
Çme
, 
ty³
) \

299 
	sÇme
 { \

300 
ty³
 *
rbh_roÙ
; \

301 }

	)

303 
	#RB_INITIALIZER
(
roÙ
) \

304 { 
NULL
 }

	)

306 
	#RB_INIT
(
roÙ
) do { \

307 (
roÙ
)->
rbh_roÙ
 = 
NULL
; \

308 }  0)

	)

310 
	#RB_BLACK
 0

	)

311 
	#RB_RED
 1

	)

312 
	#RB_ENTRY
(
ty³
) \

314 
ty³
 *
rbe_Ëá
; \

315 
ty³
 *
rbe_right
; \

316 
ty³
 *
rbe_·»Á
; \

317 
rbe_cÞÜ
; \

318 }

	)

320 
	#RB_LEFT
(
–m
, 
f›ld
èÓlm)->f›ld.
rbe_Ëá


	)

321 
	#RB_RIGHT
(
–m
, 
f›ld
èÓlm)->f›ld.
rbe_right


	)

322 
	#RB_PARENT
(
–m
, 
f›ld
èÓlm)->f›ld.
rbe_·»Á


	)

323 
	#RB_COLOR
(
–m
, 
f›ld
èÓlm)->f›ld.
rbe_cÞÜ


	)

324 
	#RB_ROOT
(
h—d
è(h—d)->
rbh_roÙ


	)

325 
	#RB_EMPTY
(
h—d
è(
	`RB_ROOT
(h—dè=ð
NULL
)

	)

327 
	#RB_SET
(
–m
, 
·»Á
, 
f›ld
) do { \

328 
	`RB_PARENT
(
–m
, 
f›ld
èð
·»Á
; \

329 
	`RB_LEFT
(
–m
, 
f›ld
èð
	`RB_RIGHT
Ólm, f›ldèð
NULL
; \

330 
	`RB_COLOR
(
–m
, 
f›ld
èð
RB_RED
; \

331 }  0)

	)

333 
	#RB_SET_BLACKRED
(
bÏck
, 
»d
, 
f›ld
) do { \

334 
	`RB_COLOR
(
bÏck
, 
f›ld
èð
RB_BLACK
; \

335 
	`RB_COLOR
(
»d
, 
f›ld
èð
RB_RED
; \

336 }  0)

	)

338 #iâdeà
RB_AUGMENT


339 
	#RB_AUGMENT
(
x
èdØ{} 0)

	)

342 
	#RB_ROTATE_LEFT
(
h—d
, 
–m
, 
tmp
, 
f›ld
) do { \

343 (
tmp
èð
	`RB_RIGHT
(
–m
, 
f›ld
); \

344 ià((
	`RB_RIGHT
(
–m
, 
f›ld
èð
	`RB_LEFT
(
tmp
, f›ld)è!ð
NULL
) { \

345 
	`RB_PARENT
(
	`RB_LEFT
(
tmp
, 
f›ld
), f›ldèð(
–m
); \

347 
	`RB_AUGMENT
(
–m
); \

348 ià((
	`RB_PARENT
(
tmp
, 
f›ld
èðRB_PARENT(
–m
, f›ld)è!ð
NULL
) { \

349 ià((
–m
è=ð
	`RB_LEFT
(
	`RB_PARENT
Ólm, 
f›ld
), field)) \

350 
	`RB_LEFT
(
	`RB_PARENT
(
–m
, 
f›ld
), f›ldèð(
tmp
); \

352 
	`RB_RIGHT
(
	`RB_PARENT
(
–m
, 
f›ld
), f›ldèð(
tmp
); \

354 (
h—d
)->
rbh_roÙ
 = (
tmp
); \

355 
	`RB_LEFT
(
tmp
, 
f›ld
èð(
–m
); \

356 
	`RB_PARENT
(
–m
, 
f›ld
èð(
tmp
); \

357 
	`RB_AUGMENT
(
tmp
); \

358 ià((
	`RB_PARENT
(
tmp
, 
f›ld
))) \

359 
	`RB_AUGMENT
(
	`RB_PARENT
(
tmp
, 
f›ld
)); \

360 }  0)

	)

362 
	#RB_ROTATE_RIGHT
(
h—d
, 
–m
, 
tmp
, 
f›ld
) do { \

363 (
tmp
èð
	`RB_LEFT
(
–m
, 
f›ld
); \

364 ià((
	`RB_LEFT
(
–m
, 
f›ld
èð
	`RB_RIGHT
(
tmp
, f›ld)è!ð
NULL
) { \

365 
	`RB_PARENT
(
	`RB_RIGHT
(
tmp
, 
f›ld
), f›ldèð(
–m
); \

367 
	`RB_AUGMENT
(
–m
); \

368 ià((
	`RB_PARENT
(
tmp
, 
f›ld
èðRB_PARENT(
–m
, f›ld)è!ð
NULL
) { \

369 ià((
–m
è=ð
	`RB_LEFT
(
	`RB_PARENT
Ólm, 
f›ld
), field)) \

370 
	`RB_LEFT
(
	`RB_PARENT
(
–m
, 
f›ld
), f›ldèð(
tmp
); \

372 
	`RB_RIGHT
(
	`RB_PARENT
(
–m
, 
f›ld
), f›ldèð(
tmp
); \

374 (
h—d
)->
rbh_roÙ
 = (
tmp
); \

375 
	`RB_RIGHT
(
tmp
, 
f›ld
èð(
–m
); \

376 
	`RB_PARENT
(
–m
, 
f›ld
èð(
tmp
); \

377 
	`RB_AUGMENT
(
tmp
); \

378 ià((
	`RB_PARENT
(
tmp
, 
f›ld
))) \

379 
	`RB_AUGMENT
(
	`RB_PARENT
(
tmp
, 
f›ld
)); \

380 }  0)

	)

383 
	#RB_PROTOTYPE
(
Çme
, 
ty³
, 
f›ld
, 
cmp
) \

384 
	`RB_PROTOTYPE_INTERNAL
(
Çme
, 
ty³
, 
f›ld
, 
cmp
,)

	)

385 
	#RB_PROTOTYPE_STATIC
(
Çme
, 
ty³
, 
f›ld
, 
cmp
) \

386 
	`RB_PROTOTYPE_INTERNAL
(
Çme
, 
ty³
, 
f›ld
, 
cmp
, 
__unu£d
 )

	)

387 
	#RB_PROTOTYPE_INTERNAL
(
Çme
, 
ty³
, 
f›ld
, 
cmp
, 
©Œ
) \

388 
	`RB_PROTOTYPE_INSERT_COLOR
(
Çme
, 
ty³
, 
©Œ
); \

389 
	`RB_PROTOTYPE_REMOVE_COLOR
(
Çme
, 
ty³
, 
©Œ
); \

390 
	`RB_PROTOTYPE_INSERT
(
Çme
, 
ty³
, 
©Œ
); \

391 
	`RB_PROTOTYPE_REMOVE
(
Çme
, 
ty³
, 
©Œ
); \

392 
	`RB_PROTOTYPE_FIND
(
Çme
, 
ty³
, 
©Œ
); \

393 
	`RB_PROTOTYPE_NFIND
(
Çme
, 
ty³
, 
©Œ
); \

394 
	`RB_PROTOTYPE_NEXT
(
Çme
, 
ty³
, 
©Œ
); \

395 
	`RB_PROTOTYPE_PREV
(
Çme
, 
ty³
, 
©Œ
); \

396 
	`RB_PROTOTYPE_MINMAX
(
Çme
, 
ty³
, 
©Œ
);

	)

397 
	#RB_PROTOTYPE_INSERT_COLOR
(
Çme
, 
ty³
, 
©Œ
) \

398 
©Œ
 
Çme
##
	`_RB_INSERT_COLOR
(Çm*, 
ty³
 *)

	)

399 
	#RB_PROTOTYPE_REMOVE_COLOR
(
Çme
, 
ty³
, 
©Œ
) \

400 
©Œ
 
Çme
##
	`_RB_REMOVE_COLOR
(Çm*, 
ty³
 *, ty³ *)

	)

401 
	#RB_PROTOTYPE_REMOVE
(
Çme
, 
ty³
, 
©Œ
) \

402 
©Œ
 
ty³
 *
Çme
##
	`_RB_REMOVE
(Çm*, ty³ *)

	)

403 
	#RB_PROTOTYPE_INSERT
(
Çme
, 
ty³
, 
©Œ
) \

404 
©Œ
 
ty³
 *
Çme
##
	`_RB_INSERT
(Çm*, ty³ *)

	)

405 
	#RB_PROTOTYPE_FIND
(
Çme
, 
ty³
, 
©Œ
) \

406 
©Œ
 
ty³
 *
Çme
##
	`_RB_FIND
(Çm*, ty³ *)

	)

407 
	#RB_PROTOTYPE_NFIND
(
Çme
, 
ty³
, 
©Œ
) \

408 
©Œ
 
ty³
 *
Çme
##
	`_RB_NFIND
(Çm*, ty³ *)

	)

409 
	#RB_PROTOTYPE_NEXT
(
Çme
, 
ty³
, 
©Œ
) \

410 
©Œ
 
ty³
 *
Çme
##
	`_RB_NEXT
(ty³ *)

	)

411 
	#RB_PROTOTYPE_PREV
(
Çme
, 
ty³
, 
©Œ
) \

412 
©Œ
 
ty³
 *
Çme
##
	`_RB_PREV
(ty³ *)

	)

413 
	#RB_PROTOTYPE_MINMAX
(
Çme
, 
ty³
, 
©Œ
) \

414 
©Œ
 
ty³
 *
Çme
##
	`_RB_MINMAX
(Çm*, )

	)

419 
	#RB_GENERATE
(
Çme
, 
ty³
, 
f›ld
, 
cmp
) \

420 
	`RB_GENERATE_INTERNAL
(
Çme
, 
ty³
, 
f›ld
, 
cmp
,)

	)

421 
	#RB_GENERATE_STATIC
(
Çme
, 
ty³
, 
f›ld
, 
cmp
) \

422 
	`RB_GENERATE_INTERNAL
(
Çme
, 
ty³
, 
f›ld
, 
cmp
, 
__unu£d
 )

	)

423 
	#RB_GENERATE_INTERNAL
(
Çme
, 
ty³
, 
f›ld
, 
cmp
, 
©Œ
) \

424 
	`RB_GENERATE_INSERT_COLOR
(
Çme
, 
ty³
, 
f›ld
, 
©Œ
) \

425 
	`RB_GENERATE_REMOVE_COLOR
(
Çme
, 
ty³
, 
f›ld
, 
©Œ
) \

426 
	`RB_GENERATE_INSERT
(
Çme
, 
ty³
, 
f›ld
, 
cmp
, 
©Œ
) \

427 
	`RB_GENERATE_REMOVE
(
Çme
, 
ty³
, 
f›ld
, 
©Œ
) \

428 
	`RB_GENERATE_FIND
(
Çme
, 
ty³
, 
f›ld
, 
cmp
, 
©Œ
) \

429 
	`RB_GENERATE_NFIND
(
Çme
, 
ty³
, 
f›ld
, 
cmp
, 
©Œ
) \

430 
	`RB_GENERATE_NEXT
(
Çme
, 
ty³
, 
f›ld
, 
©Œ
) \

431 
	`RB_GENERATE_PREV
(
Çme
, 
ty³
, 
f›ld
, 
©Œ
) \

432 
	`RB_GENERATE_MINMAX
(
Çme
, 
ty³
, 
f›ld
, 
©Œ
)

	)

434 
	#RB_GENERATE_INSERT_COLOR
(
Çme
, 
ty³
, 
f›ld
, 
©Œ
) \

435 
©Œ
 \

436 
Çme
##
	`_RB_INSERT_COLOR
(Çm*
h—d
, 
ty³
 *
–m
) \

438 
ty³
 *
·»Á
, *
g·»Á
, *
tmp
; \

439 (
·»Á
 = 
	`RB_PARENT
(
–m
, 
f›ld
)è!ð
NULL
 && \

440 
	`RB_COLOR
(
·»Á
, 
f›ld
è=ð
RB_RED
) { \

441 
g·»Á
 = 
	`RB_PARENT
(
·»Á
, 
f›ld
); \

442 ià(
·»Á
 =ð
	`RB_LEFT
(
g·»Á
, 
f›ld
)) { \

443 
tmp
 = 
	`RB_RIGHT
(
g·»Á
, 
f›ld
); \

444 ià(
tmp
 && 
	`RB_COLOR
Ñmp, 
f›ld
è=ð
RB_RED
) { \

445 
	`RB_COLOR
(
tmp
, 
f›ld
èð
RB_BLACK
; \

446 
	`RB_SET_BLACKRED
(
·»Á
, 
g·»Á
, 
f›ld
);\

447 
–m
 = 
g·»Á
; \

450 ià(
	`RB_RIGHT
(
·»Á
, 
f›ld
è=ð
–m
) { \

451 
	`RB_ROTATE_LEFT
(
h—d
, 
·»Á
, 
tmp
, 
f›ld
);\

452 
tmp
 = 
·»Á
; \

453 
·»Á
 = 
–m
; \

454 
–m
 = 
tmp
; \

456 
	`RB_SET_BLACKRED
(
·»Á
, 
g·»Á
, 
f›ld
); \

457 
	`RB_ROTATE_RIGHT
(
h—d
, 
g·»Á
, 
tmp
, 
f›ld
); \

459 
tmp
 = 
	`RB_LEFT
(
g·»Á
, 
f›ld
); \

460 ià(
tmp
 && 
	`RB_COLOR
Ñmp, 
f›ld
è=ð
RB_RED
) { \

461 
	`RB_COLOR
(
tmp
, 
f›ld
èð
RB_BLACK
; \

462 
	`RB_SET_BLACKRED
(
·»Á
, 
g·»Á
, 
f›ld
);\

463 
–m
 = 
g·»Á
; \

466 ià(
	`RB_LEFT
(
·»Á
, 
f›ld
è=ð
–m
) { \

467 
	`RB_ROTATE_RIGHT
(
h—d
, 
·»Á
, 
tmp
, 
f›ld
);\

468 
tmp
 = 
·»Á
; \

469 
·»Á
 = 
–m
; \

470 
–m
 = 
tmp
; \

472 
	`RB_SET_BLACKRED
(
·»Á
, 
g·»Á
, 
f›ld
); \

473 
	`RB_ROTATE_LEFT
(
h—d
, 
g·»Á
, 
tmp
, 
f›ld
); \

476 
	`RB_COLOR
(
h—d
->
rbh_roÙ
, 
f›ld
èð
RB_BLACK
; \

477 }

	)

479 
	#RB_GENERATE_REMOVE_COLOR
(
Çme
, 
ty³
, 
f›ld
, 
©Œ
) \

480 
©Œ
 \

481 
Çme
##
	`_RB_REMOVE_COLOR
(Çm*
h—d
, 
ty³
 *
·»Á
, ty³ *
–m
) \

483 
ty³
 *
tmp
; \

484 (
–m
 =ð
NULL
 || 
	`RB_COLOR
Ólm, 
f›ld
è=ð
RB_BLACK
) && \

485 
–m
 !ð
	`RB_ROOT
(
h—d
)) { \

486 ià(
	`RB_LEFT
(
·»Á
, 
f›ld
è=ð
–m
) { \

487 
tmp
 = 
	`RB_RIGHT
(
·»Á
, 
f›ld
); \

488 ià(
	`RB_COLOR
(
tmp
, 
f›ld
è=ð
RB_RED
) { \

489 
	`RB_SET_BLACKRED
(
tmp
, 
·»Á
, 
f›ld
); \

490 
	`RB_ROTATE_LEFT
(
h—d
, 
·»Á
, 
tmp
, 
f›ld
);\

491 
tmp
 = 
	`RB_RIGHT
(
·»Á
, 
f›ld
); \

493 ià((
	`RB_LEFT
(
tmp
, 
f›ld
è=ð
NULL
 || \

494 
	`RB_COLOR
(
	`RB_LEFT
(
tmp
, 
f›ld
), f›ldè=ð
RB_BLACK
) &&\

495 (
	`RB_RIGHT
(
tmp
, 
f›ld
è=ð
NULL
 || \

496 
	`RB_COLOR
(
	`RB_RIGHT
(
tmp
, 
f›ld
), f›ldè=ð
RB_BLACK
)) {\

497 
	`RB_COLOR
(
tmp
, 
f›ld
èð
RB_RED
; \

498 
–m
 = 
·»Á
; \

499 
·»Á
 = 
	`RB_PARENT
(
–m
, 
f›ld
); \

501 ià(
	`RB_RIGHT
(
tmp
, 
f›ld
è=ð
NULL
 || \

502 
	`RB_COLOR
(
	`RB_RIGHT
(
tmp
, 
f›ld
), f›ldè=ð
RB_BLACK
) {\

503 
ty³
 *
Þeá
; \

504 ià((
Þeá
 = 
	`RB_LEFT
(
tmp
, 
f›ld
)) \

505 !ð
NULL
) \

506 
	`RB_COLOR
(
Þeá
, 
f›ld
èð
RB_BLACK
;\

507 
	`RB_COLOR
(
tmp
, 
f›ld
èð
RB_RED
; \

508 
	`RB_ROTATE_RIGHT
(
h—d
, 
tmp
, 
Þeá
, 
f›ld
);\

509 
tmp
 = 
	`RB_RIGHT
(
·»Á
, 
f›ld
); \

511 
	`RB_COLOR
(
tmp
, 
f›ld
èðRB_COLOR(
·»Á
, field);\

512 
	`RB_COLOR
(
·»Á
, 
f›ld
èð
RB_BLACK
; \

513 ià(
	`RB_RIGHT
(
tmp
, 
f›ld
)) \

514 
	`RB_COLOR
(
	`RB_RIGHT
(
tmp
, 
f›ld
), f›ldèð
RB_BLACK
;\

515 
	`RB_ROTATE_LEFT
(
h—d
, 
·»Á
, 
tmp
, 
f›ld
);\

516 
–m
 = 
	`RB_ROOT
(
h—d
); \

520 
tmp
 = 
	`RB_LEFT
(
·»Á
, 
f›ld
); \

521 ià(
	`RB_COLOR
(
tmp
, 
f›ld
è=ð
RB_RED
) { \

522 
	`RB_SET_BLACKRED
(
tmp
, 
·»Á
, 
f›ld
); \

523 
	`RB_ROTATE_RIGHT
(
h—d
, 
·»Á
, 
tmp
, 
f›ld
);\

524 
tmp
 = 
	`RB_LEFT
(
·»Á
, 
f›ld
); \

526 ià((
	`RB_LEFT
(
tmp
, 
f›ld
è=ð
NULL
 || \

527 
	`RB_COLOR
(
	`RB_LEFT
(
tmp
, 
f›ld
), f›ldè=ð
RB_BLACK
) &&\

528 (
	`RB_RIGHT
(
tmp
, 
f›ld
è=ð
NULL
 || \

529 
	`RB_COLOR
(
	`RB_RIGHT
(
tmp
, 
f›ld
), f›ldè=ð
RB_BLACK
)) {\

530 
	`RB_COLOR
(
tmp
, 
f›ld
èð
RB_RED
; \

531 
–m
 = 
·»Á
; \

532 
·»Á
 = 
	`RB_PARENT
(
–m
, 
f›ld
); \

534 ià(
	`RB_LEFT
(
tmp
, 
f›ld
è=ð
NULL
 || \

535 
	`RB_COLOR
(
	`RB_LEFT
(
tmp
, 
f›ld
), f›ldè=ð
RB_BLACK
) {\

536 
ty³
 *
Üight
; \

537 ià((
Üight
 = 
	`RB_RIGHT
(
tmp
, 
f›ld
)) \

538 !ð
NULL
) \

539 
	`RB_COLOR
(
Üight
, 
f›ld
èð
RB_BLACK
;\

540 
	`RB_COLOR
(
tmp
, 
f›ld
èð
RB_RED
; \

541 
	`RB_ROTATE_LEFT
(
h—d
, 
tmp
, 
Üight
, 
f›ld
);\

542 
tmp
 = 
	`RB_LEFT
(
·»Á
, 
f›ld
); \

544 
	`RB_COLOR
(
tmp
, 
f›ld
èðRB_COLOR(
·»Á
, field);\

545 
	`RB_COLOR
(
·»Á
, 
f›ld
èð
RB_BLACK
; \

546 ià(
	`RB_LEFT
(
tmp
, 
f›ld
)) \

547 
	`RB_COLOR
(
	`RB_LEFT
(
tmp
, 
f›ld
), f›ldèð
RB_BLACK
;\

548 
	`RB_ROTATE_RIGHT
(
h—d
, 
·»Á
, 
tmp
, 
f›ld
);\

549 
–m
 = 
	`RB_ROOT
(
h—d
); \

554 ià(
–m
) \

555 
	`RB_COLOR
(
–m
, 
f›ld
èð
RB_BLACK
; \

556 }

	)

558 
	#RB_GENERATE_REMOVE
(
Çme
, 
ty³
, 
f›ld
, 
©Œ
) \

559 
©Œ
 
ty³
 * \

560 
Çme
##
	`_RB_REMOVE
(Çm*
h—d
, 
ty³
 *
–m
) \

562 
ty³
 *
chžd
, *
·»Á
, *
Þd
 = 
–m
; \

563 
cÞÜ
; \

564 ià(
	`RB_LEFT
(
–m
, 
f›ld
è=ð
NULL
) \

565 
chžd
 = 
	`RB_RIGHT
(
–m
, 
f›ld
); \

566 ià(
	`RB_RIGHT
(
–m
, 
f›ld
è=ð
NULL
) \

567 
chžd
 = 
	`RB_LEFT
(
–m
, 
f›ld
); \

569 
ty³
 *
Ëá
; \

570 
–m
 = 
	`RB_RIGHT
Ólm, 
f›ld
); \

571 (
Ëá
 = 
	`RB_LEFT
(
–m
, 
f›ld
)è!ð
NULL
) \

572 
–m
 = 
Ëá
; \

573 
chžd
 = 
	`RB_RIGHT
(
–m
, 
f›ld
); \

574 
·»Á
 = 
	`RB_PARENT
(
–m
, 
f›ld
); \

575 
cÞÜ
 = 
	`RB_COLOR
(
–m
, 
f›ld
); \

576 ià(
chžd
) \

577 
	`RB_PARENT
(
chžd
, 
f›ld
èð
·»Á
; \

578 ià(
·»Á
) { \

579 ià(
	`RB_LEFT
(
·»Á
, 
f›ld
è=ð
–m
) \

580 
	`RB_LEFT
(
·»Á
, 
f›ld
èð
chžd
; \

582 
	`RB_RIGHT
(
·»Á
, 
f›ld
èð
chžd
; \

583 
	`RB_AUGMENT
(
·»Á
); \

585 
	`RB_ROOT
(
h—d
èð
chžd
; \

586 ià(
	`RB_PARENT
(
–m
, 
f›ld
è=ð
Þd
) \

587 
·»Á
 = 
–m
; \

588 (
–m
)->
f›ld
 = (
Þd
)->field; \

589 ià(
	`RB_PARENT
(
Þd
, 
f›ld
)) { \

590 ià(
	`RB_LEFT
(
	`RB_PARENT
(
Þd
, 
f›ld
), field) == old)\

591 
	`RB_LEFT
(
	`RB_PARENT
(
Þd
, 
f›ld
), f›ldèð
–m
;\

593 
	`RB_RIGHT
(
	`RB_PARENT
(
Þd
, 
f›ld
), f›ldèð
–m
;\

594 
	`RB_AUGMENT
(
	`RB_PARENT
(
Þd
, 
f›ld
)); \

596 
	`RB_ROOT
(
h—d
èð
–m
; \

597 
	`RB_PARENT
(
	`RB_LEFT
(
Þd
, 
f›ld
), f›ldèð
–m
; \

598 ià(
	`RB_RIGHT
(
Þd
, 
f›ld
)) \

599 
	`RB_PARENT
(
	`RB_RIGHT
(
Þd
, 
f›ld
), f›ldèð
–m
; \

600 ià(
·»Á
) { \

601 
Ëá
 = 
·»Á
; \

603 
	`RB_AUGMENT
(
Ëá
); \

604 } (
Ëá
 = 
	`RB_PARENT
Öeá, 
f›ld
)è!ð
NULL
); \

606 
cÞÜ
; \

608 
·»Á
 = 
	`RB_PARENT
(
–m
, 
f›ld
); \

609 
cÞÜ
 = 
	`RB_COLOR
(
–m
, 
f›ld
); \

610 ià(
chžd
) \

611 
	`RB_PARENT
(
chžd
, 
f›ld
èð
·»Á
; \

612 ià(
·»Á
) { \

613 ià(
	`RB_LEFT
(
·»Á
, 
f›ld
è=ð
–m
) \

614 
	`RB_LEFT
(
·»Á
, 
f›ld
èð
chžd
; \

616 
	`RB_RIGHT
(
·»Á
, 
f›ld
èð
chžd
; \

617 
	`RB_AUGMENT
(
·»Á
); \

619 
	`RB_ROOT
(
h—d
èð
chžd
; \

620 
cÞÜ
: \

621 ià(
cÞÜ
 =ð
RB_BLACK
) \

622 
Çme
##
	`_RB_REMOVE_COLOR
(
h—d
, 
·»Á
, 
chžd
); \

623  (
Þd
); \

625 

	)

626 
	#RB_GENERATE_INSERT
(
Çme
, 
ty³
, 
f›ld
, 
cmp
, 
©Œ
) \

628 
©Œ
 
ty³
 * \

629 
Çme
##
	`_RB_INSERT
(Çm*
h—d
, 
ty³
 *
–m
) \

631 
ty³
 *
tmp
; \

632 
ty³
 *
·»Á
 = 
NULL
; \

633 
comp
 = 0; \

634 
tmp
 = 
	`RB_ROOT
(
h—d
); \

635 
tmp
) { \

636 
·»Á
 = 
tmp
; \

637 
comp
 = (
cmp
)(
–m
, 
·»Á
); \

638 ià(
comp
 < 0) \

639 
tmp
 = 
	`RB_LEFT
Ñmp, 
f›ld
); \

640 ià(
comp
 > 0) \

641 
tmp
 = 
	`RB_RIGHT
Ñmp, 
f›ld
); \

643  (
tmp
); \

645 
	`RB_SET
(
–m
, 
·»Á
, 
f›ld
); \

646 ià(
·»Á
 !ð
NULL
) { \

647 ià(
comp
 < 0) \

648 
	`RB_LEFT
(
·»Á
, 
f›ld
èð
–m
; \

650 
	`RB_RIGHT
(
·»Á
, 
f›ld
èð
–m
; \

651 
	`RB_AUGMENT
(
·»Á
); \

653 
	`RB_ROOT
(
h—d
èð
–m
; \

654 
Çme
##
	`_RB_INSERT_COLOR
(
h—d
, 
–m
); \

655  (
NULL
); \

656 }

	)

658 
	#RB_GENERATE_FIND
(
Çme
, 
ty³
, 
f›ld
, 
cmp
, 
©Œ
) \

660 
©Œ
 
ty³
 * \

661 
Çme
##
	`_RB_FIND
(Çm*
h—d
, 
ty³
 *
–m
) \

663 
ty³
 *
tmp
 = 
	`RB_ROOT
(
h—d
); \

664 
comp
; \

665 
tmp
) { \

666 
comp
 = 
	`cmp
(
–m
, 
tmp
); \

667 ià(
comp
 < 0) \

668 
tmp
 = 
	`RB_LEFT
Ñmp, 
f›ld
); \

669 ià(
comp
 > 0) \

670 
tmp
 = 
	`RB_RIGHT
Ñmp, 
f›ld
); \

672  (
tmp
); \

674  (
NULL
); \

675 }

	)

677 
	#RB_GENERATE_NFIND
(
Çme
, 
ty³
, 
f›ld
, 
cmp
, 
©Œ
) \

679 
©Œ
 
ty³
 * \

680 
Çme
##
	`_RB_NFIND
(Çm*
h—d
, 
ty³
 *
–m
) \

682 
ty³
 *
tmp
 = 
	`RB_ROOT
(
h—d
); \

683 
ty³
 *
»s
 = 
NULL
; \

684 
comp
; \

685 
tmp
) { \

686 
comp
 = 
	`cmp
(
–m
, 
tmp
); \

687 ià(
comp
 < 0) { \

688 
»s
 = 
tmp
; \

689 
tmp
 = 
	`RB_LEFT
Ñmp, 
f›ld
); \

691 ià(
comp
 > 0) \

692 
tmp
 = 
	`RB_RIGHT
Ñmp, 
f›ld
); \

694  (
tmp
); \

696  (
»s
); \

697 }

	)

699 
	#RB_GENERATE_NEXT
(
Çme
, 
ty³
, 
f›ld
, 
©Œ
) \

701 
©Œ
 
ty³
 * \

702 
Çme
##
	`_RB_NEXT
(
ty³
 *
–m
) \

704 ià(
	`RB_RIGHT
(
–m
, 
f›ld
)) { \

705 
–m
 = 
	`RB_RIGHT
Ólm, 
f›ld
); \

706 
	`RB_LEFT
(
–m
, 
f›ld
)) \

707 
–m
 = 
	`RB_LEFT
Ólm, 
f›ld
); \

709 ià(
	`RB_PARENT
(
–m
, 
f›ld
) && \

710 (
–m
 =ð
	`RB_LEFT
(
	`RB_PARENT
Ólm, 
f›ld
), field))) \

711 
–m
 = 
	`RB_PARENT
Ólm, 
f›ld
); \

713 
	`RB_PARENT
(
–m
, 
f›ld
) && \

714 (
–m
 =ð
	`RB_RIGHT
(
	`RB_PARENT
Ólm, 
f›ld
), field)))\

715 
–m
 = 
	`RB_PARENT
Ólm, 
f›ld
); \

716 
–m
 = 
	`RB_PARENT
Ólm, 
f›ld
); \

719  (
–m
); \

720 }

	)

722 
	#RB_GENERATE_PREV
(
Çme
, 
ty³
, 
f›ld
, 
©Œ
) \

724 
©Œ
 
ty³
 * \

725 
Çme
##
	`_RB_PREV
(
ty³
 *
–m
) \

727 ià(
	`RB_LEFT
(
–m
, 
f›ld
)) { \

728 
–m
 = 
	`RB_LEFT
Ólm, 
f›ld
); \

729 
	`RB_RIGHT
(
–m
, 
f›ld
)) \

730 
–m
 = 
	`RB_RIGHT
Ólm, 
f›ld
); \

732 ià(
	`RB_PARENT
(
–m
, 
f›ld
) && \

733 (
–m
 =ð
	`RB_RIGHT
(
	`RB_PARENT
Ólm, 
f›ld
), field))) \

734 
–m
 = 
	`RB_PARENT
Ólm, 
f›ld
); \

736 
	`RB_PARENT
(
–m
, 
f›ld
) && \

737 (
–m
 =ð
	`RB_LEFT
(
	`RB_PARENT
Ólm, 
f›ld
), field)))\

738 
–m
 = 
	`RB_PARENT
Ólm, 
f›ld
); \

739 
–m
 = 
	`RB_PARENT
Ólm, 
f›ld
); \

742  (
–m
); \

743 }

	)

745 
	#RB_GENERATE_MINMAX
(
Çme
, 
ty³
, 
f›ld
, 
©Œ
) \

746 
©Œ
 
ty³
 * \

747 
Çme
##
	`_RB_MINMAX
(Çm*
h—d
, 
v®
) \

749 
ty³
 *
tmp
 = 
	`RB_ROOT
(
h—d
); \

750 
ty³
 *
·»Á
 = 
NULL
; \

751 
tmp
) { \

752 
·»Á
 = 
tmp
; \

753 ià(
v®
 < 0) \

754 
tmp
 = 
	`RB_LEFT
Ñmp, 
f›ld
); \

756 
tmp
 = 
	`RB_RIGHT
Ñmp, 
f›ld
); \

758  (
·»Á
); \

759 }

	)

761 
	#RB_NEGINF
 -1

	)

762 
	#RB_INF
 1

	)

764 
	#RB_INSERT
(
Çme
, 
x
, 
y
èÇme##
	`_RB_INSERT
(x, y)

	)

765 
	#RB_REMOVE
(
Çme
, 
x
, 
y
èÇme##
	`_RB_REMOVE
(x, y)

	)

766 
	#RB_FIND
(
Çme
, 
x
, 
y
èÇme##
	`_RB_FIND
(x, y)

	)

767 
	#RB_NFIND
(
Çme
, 
x
, 
y
èÇme##
	`_RB_NFIND
(x, y)

	)

768 
	#RB_NEXT
(
Çme
, 
x
, 
y
èÇme##
	`_RB_NEXT
(y)

	)

769 
	#RB_PREV
(
Çme
, 
x
, 
y
èÇme##
	`_RB_PREV
(y)

	)

770 
	#RB_MIN
(
Çme
, 
x
èÇme##
	`_RB_MINMAX
(x, 
RB_NEGINF
)

	)

771 
	#RB_MAX
(
Çme
, 
x
èÇme##
	`_RB_MINMAX
(x, 
RB_INF
)

	)

773 
	#RB_FOREACH
(
x
, 
Çme
, 
h—d
) \

774 (
x
èð
	`RB_MIN
(
Çme
, 
h—d
); \

775 (
x
è!ð
NULL
; \

776 (
x
èð
Çme
##
	`_RB_NEXT
(x))

	)

778 
	#RB_FOREACH_FROM
(
x
, 
Çme
, 
y
) \

779 (
x
èð(
y
); \

780 ((
x
è!ð
NULL
è&& ((
y
èð
Çme
##
	`_RB_NEXT
(x), (x) != NULL); \

781 (
x
èð(
y
))

	)

783 
	#RB_FOREACH_SAFE
(
x
, 
Çme
, 
h—d
, 
y
) \

784 (
x
èð
	`RB_MIN
(
Çme
, 
h—d
); \

785 ((
x
è!ð
NULL
è&& ((
y
èð
Çme
##
	`_RB_NEXT
(x), (x) != NULL); \

786 (
x
èð(
y
))

	)

788 
	#RB_FOREACH_REVERSE
(
x
, 
Çme
, 
h—d
) \

789 (
x
èð
	`RB_MAX
(
Çme
, 
h—d
); \

790 (
x
è!ð
NULL
; \

791 (
x
èð
Çme
##
	`_RB_PREV
(x))

	)

793 
	#RB_FOREACH_REVERSE_FROM
(
x
, 
Çme
, 
y
) \

794 (
x
èð(
y
); \

795 ((
x
è!ð
NULL
è&& ((
y
èð
Çme
##
	`_RB_PREV
(x), (x) != NULL); \

796 (
x
èð(
y
))

	)

798 
	#RB_FOREACH_REVERSE_SAFE
(
x
, 
Çme
, 
h—d
, 
y
) \

799 (
x
èð
	`RB_MAX
(
Çme
, 
h—d
); \

800 ((
x
è!ð
NULL
è&& ((
y
èð
Çme
##
	`_RB_PREV
(x), (x) != NULL); \

801 (
x
èð(
y
))

	)

	@/usr/include/sys/tslog.h

29 #iâdeà
_TSLOG_H_


30 
	#_TSLOG_H_


	)

32 #ifdeà
TSLOG


33 
	~<sys/_ty³s.h
>

34 
	~<sys/pýu.h
>

37 
	#TS_ENTER
 0

	)

38 
	#TS_EXIT
 1

	)

39 
	#TS_THREAD
 2

	)

40 
	#TS_EVENT
 3

	)

42 
	#TSENTER
(è
	`TSRAW
(
cu¹h»ad
, 
TS_ENTER
, 
__func__
, 
NULL
)

	)

43 
	#TSENTER2
(
x
è
	`TSRAW
(
cu¹h»ad
, 
TS_ENTER
, 
__func__
, x)

	)

44 
	#TSEXIT
(è
	`TSRAW
(
cu¹h»ad
, 
TS_EXIT
, 
__func__
, 
NULL
)

	)

45 
	#TSEXIT2
(
x
è
	`TSRAW
(
cu¹h»ad
, 
TS_EXIT
, 
__func__
, x)

	)

46 
	#TSTHREAD
(
td
, 
x
è
	`TSRAW
Ñd, 
TS_THREAD
, x, 
NULL
)

	)

47 
	#TSEVENT
(
x
è
	`TSRAW
(
cu¹h»ad
, 
TS_EVENT
, x, 
NULL
)

	)

48 
	#TSEVENT2
(
x
, 
y
è
	`TSRAW
(
cu¹h»ad
, 
TS_EVENT
, x, y)

	)

49 
	#TSLINE
(è
	`TSEVENT2
(
__FILE__
, 
	`__XSTRING
(
__LINE__
))

	)

50 
	#TSWAIT
(
x
è
	`TSEVENT2
("WAIT", x);

	)

51 
	#TSUNWAIT
(
x
è
	`TSEVENT2
("UNWAIT", x);

	)

52 
	#TSHOLD
(
x
è
	`TSEVENT2
("HOLD", x);

	)

53 
	#TSRELEASE
(
x
è
	`TSEVENT2
("RELEASE", x);

	)

55 #ifdeà
TSLOG


56 
	#TSRAW
(
a
, 
b
, 
c
, 
d
è
	`t¦og
×, b, c, d)

	)

57 
t¦og
(*, , const *, const *);

59 
	#TSRAW
(
a
, 
b
, 
c
, 
d
è

	)

	@/usr/include/sys/types.h

40 #iâdeà
_SYS_TYPES_H_


41 
	#_SYS_TYPES_H_


	)

43 
	~<sys/cdefs.h
>

46 
	~<machše/’dŸn.h
>

47 
	~<sys/_ty³s.h
>

49 
	~<sys/_±h»adty³s.h
>

51 #ià
__BSD_VISIBLE


52 
	tu_ch¬
;

53 
	tu_shÜt
;

54 
	tu_št
;

55 
	tu_lÚg
;

56 #iâdeà
_KERNEL


57 
	tushÜt
;

58 
	tušt
;

65 
	~<sys/_¡dšt.h
>

67 
__ušt8_t
 
	tu_št8_t
;

68 
__ušt16_t
 
	tu_št16_t
;

69 
__ušt32_t
 
	tu_št32_t
;

70 
__ušt64_t
 
	tu_št64_t
;

72 
__ušt64_t
 
	tu_quad_t
;

73 
__št64_t
 
	tquad_t
;

74 
quad_t
 * 
	tqaddr_t
;

76 * 
	tÿddr_t
;

77 cÚ¡ * 
	tc_ÿddr_t
;

79 #iâdeà
_BLKSIZE_T_DECLARED


80 
__blksize_t
 
	tblksize_t
;

81 
	#_BLKSIZE_T_DECLARED


	)

84 
__ýuwhich_t
 
	týuwhich_t
;

85 
__ýuËv–_t
 
	týuËv–_t
;

86 
__ýu£tid_t
 
	týu£tid_t
;

88 #iâdeà
_BLKCNT_T_DECLARED


89 
__blkút_t
 
	tblkút_t
;

90 
	#_BLKCNT_T_DECLARED


	)

93 #iâdeà
_CLOCK_T_DECLARED


94 
__þock_t
 
	tþock_t
;

95 
	#_CLOCK_T_DECLARED


	)

98 #iâdeà
_CLOCKID_T_DECLARED


99 
__þockid_t
 
	tþockid_t
;

100 
	#_CLOCKID_T_DECLARED


	)

103 
__ü™iÿl_t
 
	tü™iÿl_t
;

104 
__št64_t
 
	tdaddr_t
;

106 #iâdeà
_DEV_T_DECLARED


107 
__dev_t
 
	tdev_t
;

108 
	#_DEV_T_DECLARED


	)

111 #iâdeà
_FFLAGS_T_DECLARED


112 
__fæags_t
 
	tfæags_t
;

113 
	#_FFLAGS_T_DECLARED


	)

116 
__fix±_t
 
	tfix±_t
;

118 #iâdeà
_FSBLKCNT_T_DECLARED


119 
__fsblkút_t
 
	tfsblkút_t
;

120 
__fsfžút_t
 
	tfsfžút_t
;

121 
	#_FSBLKCNT_T_DECLARED


	)

124 #iâdeà
_GID_T_DECLARED


125 
__gid_t
 
	tgid_t
;

126 
	#_GID_T_DECLARED


	)

129 #iâdeà
_IN_ADDR_T_DECLARED


130 
__ušt32_t
 
	tš_addr_t
;

131 
	#_IN_ADDR_T_DECLARED


	)

134 #iâdeà
_IN_PORT_T_DECLARED


135 
__ušt16_t
 
	tš_pÜt_t
;

136 
	#_IN_PORT_T_DECLARED


	)

139 #iâdeà
_ID_T_DECLARED


140 
__id_t
 
	tid_t
;

141 
	#_ID_T_DECLARED


	)

144 #iâdeà
_INO_T_DECLARED


145 
__šo_t
 
	tšo_t
;

146 
	#_INO_T_DECLARED


	)

149 #iâdeà
_KEY_T_DECLARED


150 
__key_t
 
	tkey_t
;

151 
	#_KEY_T_DECLARED


	)

154 #iâdeà
_LWPID_T_DECLARED


155 
__lwpid_t
 
	tlwpid_t
;

156 
	#_LWPID_T_DECLARED


	)

159 #iâdeà
_MODE_T_DECLARED


160 
__mode_t
 
	tmode_t
;

161 
	#_MODE_T_DECLARED


	)

164 #iâdeà
_ACCMODE_T_DECLARED


165 
__accmode_t
 
	taccmode_t
;

166 
	#_ACCMODE_T_DECLARED


	)

169 #iâdeà
_NLINK_T_DECLARED


170 
__Æšk_t
 
	tÆšk_t
;

171 
	#_NLINK_T_DECLARED


	)

174 #iâdeà
_OFF_T_DECLARED


175 
__off_t
 
	toff_t
;

176 
	#_OFF_T_DECLARED


	)

179 #iâdeà
_OFF64_T_DECLARED


180 
__off64_t
 
	toff64_t
;

181 
	#_OFF64_T_DECLARED


	)

184 #iâdeà
_PID_T_DECLARED


185 
__pid_t
 
	tpid_t
;

186 
	#_PID_T_DECLARED


	)

189 
__»gi¡”_t
 
	t»gi¡”_t
;

191 #iâdeà
_RLIM_T_DECLARED


192 
__¾im_t
 
	t¾im_t
;

193 
	#_RLIM_T_DECLARED


	)

196 
__št64_t
 
	tsbštime_t
;

198 
__£gsz_t
 
	t£gsz_t
;

200 #iâdeà
_SIZE_T_DECLARED


201 
__size_t
 
	tsize_t
;

202 
	#_SIZE_T_DECLARED


	)

205 #iâdeà
_SSIZE_T_DECLARED


206 
__ssize_t
 
	tssize_t
;

207 
	#_SSIZE_T_DECLARED


	)

210 #iâdeà
_SUSECONDS_T_DECLARED


211 
__su£cÚds_t
 
	tsu£cÚds_t
;

212 
	#_SUSECONDS_T_DECLARED


	)

215 #iâdeà
_TIME_T_DECLARED


216 
__time_t
 
	ttime_t
;

217 
	#_TIME_T_DECLARED


	)

220 #iâdeà
_TIMER_T_DECLARED


221 
__tim”_t
 
	ttim”_t
;

222 
	#_TIMER_T_DECLARED


	)

225 #iâdeà
_MQD_T_DECLARED


226 
__mqd_t
 
	tmqd_t
;

227 
	#_MQD_T_DECLARED


	)

230 
__u_»gi¡”_t
 
	tu_»gi¡”_t
;

232 #iâdeà
_UID_T_DECLARED


233 
__uid_t
 
	tuid_t
;

234 
	#_UID_T_DECLARED


	)

237 #iâdeà
_USECONDS_T_DECLARED


238 
__u£cÚds_t
 
	tu£cÚds_t
;

239 
	#_USECONDS_T_DECLARED


	)

242 #iâdeà
_CAP_IOCTL_T_DECLARED


243 
	#_CAP_IOCTL_T_DECLARED


	)

244 
	tÿp_ioùl_t
;

247 #iâdeà
_CAP_RIGHTS_T_DECLARED


248 
	#_CAP_RIGHTS_T_DECLARED


	)

249 
	gÿp_rights
;

251 
ÿp_rights
 
	tÿp_rights_t
;

260 
__ušt64_t
 
	tkvaddr_t
;

261 
__ušt64_t
 
	tksize_t
;

263 
__vm_off£t_t
 
	tvm_off£t_t
;

264 
__št64_t
 
	tvm_ooff£t_t
;

265 
__vm_·ddr_t
 
	tvm_·ddr_t
;

266 
__ušt64_t
 
	tvm_pšdex_t
;

267 
__vm_size_t
 
	tvm_size_t
;

269 
__rmª_»s_t
 
	trmª_»s_t
;

271 #ifdeà
_KERNEL


272 
	tboÞ—n_t
;

273 
deviû
 *
	tdeviû_t
;

274 
__štåŒ_t
 
	tštåŒ_t
;

286 
__ušt32_t
 
	tšŒmask_t
;

288 
__uštåŒ_t
 
	tuštåŒ_t
;

289 
__ušt64_t
 
	tuoff_t
;

290 
	tvm_mem©Œ_t
;

291 
vm_·ge
 *
	tvm_·ge_t
;

293 #ià!
defšed
(
__boÞ_Œue_çl£_¬e_defšed
è&& !defšed(
__ýlu¥lus
)

294 
	#__boÞ_Œue_çl£_¬e_defšed
 1

	)

295 
	#çl£
 0

	)

296 
	#Œue
 1

	)

297 #ià
__STDC_VERSION__
 < 199901L && 
__GNUC__
 < 3 && !
defšed
(
__INTEL_COMPILER
)

298 
	t_BoÞ
;

300 
_BoÞ
 
	tboÞ
;

303 
	#off£tof
(
ty³
, 
f›ld
è
	`__off£tof
Ñy³, f›ld)

	)

312 #ifdeà
__POPCNT__


313 
	#__b™couÁ64
(
x
è
	`__bužtš_pÝcouÁÎ
((
__ušt64_t
)(x))

	)

314 
	#__b™couÁ32
(
x
è
	`__bužtš_pÝcouÁ
((
__ušt32_t
)(x))

	)

315 
	#__b™couÁ16
(
x
è
	`__bužtš_pÝcouÁ
((
__ušt16_t
)(x))

	)

316 
	#__b™couÁl
(
x
è
	`__bužtš_pÝcouÁl
(()(x))

	)

317 
	#__b™couÁ
(
x
è
	`__bužtš_pÝcouÁ
(()(x))

	)

323 
__šlše
 
__ušt16_t


324 
	$__b™couÁ16
(
__ušt16_t
 
_x
)

327 
_x
 = (_x & 0x5555) + ((_x & 0xaaaa) >> 1);

328 
_x
 = (_x & 0x3333) + ((_x & 0xcccc) >> 2);

329 
_x
 = (_x + (_x >> 4)) & 0x0f0f;

330 
_x
 = (_x + (_x >> 8)) & 0x00ff;

331  (
_x
);

332 
	}
}

334 
__šlše
 
__ušt32_t


335 
	$__b™couÁ32
(
__ušt32_t
 
_x
)

338 
_x
 = (_x & 0x55555555) + ((_x & 0xaaaaaaaa) >> 1);

339 
_x
 = (_x & 0x33333333) + ((_x & 0xcccccccc) >> 2);

340 
_x
 = (_x + (_x >> 4)) & 0x0f0f0f0f;

341 
_x
 = (_x + (_x >> 8));

342 
_x
 = (_x + (_x >> 16)) & 0x000000ff;

343  (
_x
);

344 
	}
}

346 #ifdeà
__LP64__


347 
__šlše
 
__ušt64_t


348 
	$__b™couÁ64
(
__ušt64_t
 
_x
)

351 
_x
 = (_x & 0x5555555555555555) + ((_x & 0xaaaaaaaaaaaaaaaa) >> 1);

352 
_x
 = (_x & 0x3333333333333333) + ((_x & 0xcccccccccccccccc) >> 2);

353 
_x
 = (_x + (_x >> 4)) & 0x0f0f0f0f0f0f0f0f;

354 
_x
 = (_x + (_x >> 8));

355 
_x
 = (_x + (_x >> 16));

356 
_x
 = (_x + (_x >> 32)) & 0x000000ff;

357  (
_x
);

358 
	}
}

360 
	#__b™couÁl
(
x
è
	`__b™couÁ64
(()(x))

	)

362 
__šlše
 
__ušt64_t


363 
	$__b™couÁ64
(
__ušt64_t
 
_x
)

366  (
	`__b™couÁ32
(
_x
 >> 32) + __bitcount32(_x));

367 
	}
}

369 
	#__b™couÁl
(
x
è
	`__b™couÁ32
(()(x))

	)

371 
	#__b™couÁ
(
x
è
	`__b™couÁ32
(()(x))

	)

374 #ià
__BSD_VISIBLE


376 
	~<sys/£Ëù.h
>

389 
	#majÜ
(
d
è
	`__majÜ
(d)

	)

390 
__šlše
 

391 
	$__majÜ
(
dev_t
 
_d
)

393  (((
_d
 >> 32) & 0xffffff00) | ((_d >> 8) & 0xff));

394 
	}
}

395 
	#mšÜ
(
d
è
	`__mšÜ
(d)

	)

396 
__šlše
 

397 
	$__mšÜ
(
dev_t
 
_d
)

399  (((
_d
 >> 24) & 0xff00) | (_d & 0xffff00ff));

400 
	}
}

401 
	#makedev
(
M
, 
m
è
	`__makedev
((M), (m))

	)

402 
__šlše
 
dev_t


403 
	$__makedev
(
_M
, 
_m
)

405  (((
dev_t
)(
_M
 & 0xffffff00) << 32) | ((_M & 0xff) << 8) |

406 ((
dev_t
)(
_m
 & 0xff00) << 24) | (_m & 0xffff00ff));

407 
	}
}

414 #iâdeà
_KERNEL


415 
	g__BEGIN_DECLS


416 #iâdeà
_FTRUNCATE_DECLARED


417 
	#_FTRUNCATE_DECLARED


	)

418 
árunÿ‹
(, 
off_t
);

420 #iâdeà
_LSEEK_DECLARED


421 
	#_LSEEK_DECLARED


	)

422 
off_t
 
l£ek
(, off_t, );

424 #iâdeà
_MMAP_DECLARED


425 
	#_MMAP_DECLARED


	)

426 * 
mm­
(*, 
size_t
, , , , 
off_t
);

428 #iâdeà
_TRUNCATE_DECLARED


429 
	#_TRUNCATE_DECLARED


	)

430 
Œunÿ‹
(cÚ¡ *, 
off_t
);

432 
	g__END_DECLS


	@/usr/include/sys/uio.h

35 #iâdeà
_SYS_UIO_H_


36 
	#_SYS_UIO_H_


	)

38 
	~<sys/cdefs.h
>

39 
	~<sys/_ty³s.h
>

40 
	~<sys/_iovec.h
>

41 
	~<sys/_uio.h
>

43 #iâdeà
_SSIZE_T_DECLARED


44 
__ssize_t
 
	tssize_t
;

45 
	#_SSIZE_T_DECLARED


	)

48 #iâdeà
_OFF_T_DECLARED


49 
__off_t
 
	toff_t
;

50 
	#_OFF_T_DECLARED


	)

53 #ifdeà
_KERNEL


55 
	suio
 {

56 
iovec
 *
	muio_iov
;

57 
	muio_iovút
;

58 
off_t
 
	muio_off£t
;

59 
ssize_t
 
	muio_»sid
;

60 
uio_£g
 
	muio_£gæg
;

61 
uio_rw
 
	muio_rw
;

62 
th»ad
 *
	muio_td
;

76 
	#UIO_MAXIOV
 1024

	)

78 
	gvm_objeù
;

79 
	gvm_·ge
;

80 
	gbus_dma_£gm’t
;

82 
uio
 *
þÚeuio
(uiØ*
uiÝ
);

83 
cÝyšäom
(cÚ¡ * 
__»¡riù
 
¤c
, * __»¡riù 
d¡
,

84 
size_t
 
Ën
, 
£g
);

85 
cÝyšiov
(cÚ¡ 
iovec
 *
iovp
, 
u_št
 
iovút
, ioveø**
iov
,

86 
”rÜ
);

87 
cÝyš¡räom
(cÚ¡ * 
__»¡riù
 
¤c
, * __»¡riù 
d¡
,

88 
size_t
 
Ën
, size_ˆ* 
__»¡riù
 
cÝ›d
, 
£g
);

89 
cÝyšuio
(cÚ¡ 
iovec
 *
iovp
, 
u_št
 
iovút
, 
uio
 **
uiÝ
);

90 
cÝyout_m­
(
th»ad
 *
td
, 
vm_off£t_t
 *
addr
, 
size_t
 
sz
);

91 
cÝyout_unm­
(
th»ad
 *
td
, 
vm_off£t_t
 
addr
, 
size_t
 
sz
);

92 
physcÝyš
(*
¤c
, 
vm_·ddr_t
 
d¡
, 
size_t
 
Ën
);

93 
physcÝyout
(
vm_·ddr_t
 
¤c
, *
d¡
, 
size_t
 
Ën
);

94 
physcÝyš_vli¡
(
bus_dma_£gm’t
 *
¤c
, 
off_t
 
off£t
,

95 
vm_·ddr_t
 
d¡
, 
size_t
 
Ën
);

96 
physcÝyout_vli¡
(
vm_·ddr_t
 
¤c
, 
bus_dma_£gm’t
 *
d¡
,

97 
off_t
 
off£t
, 
size_t
 
Ën
);

98 
uiomove
(*
ý
, 
n
, 
uio
 *uio);

99 
uiomove_äombuf
(*
buf
, 
buæ’
, 
uio
 *uio);

100 
uiomove_äomphys
(
vm_·ge
 *
ma
[], 
vm_off£t_t
 
off£t
, 
n
,

101 
uio
 *uio);

102 
uiomove_noçuÉ
(*
ý
, 
n
, 
uio
 *uio);

103 
uiomove_objeù
(
vm_objeù
 *
obj
, 
off_t
 
obj_size
, 
uio
 *uio);

107 
__BEGIN_DECLS


108 
ssize_t
 
»adv
(, cÚ¡ 
iovec
 *, );

109 
ssize_t
 
wr™ev
(, cÚ¡ 
iovec
 *, );

110 #ià
__BSD_VISIBLE


111 
ssize_t
 
´—dv
(, cÚ¡ 
iovec
 *, , 
off_t
);

112 
ssize_t
 
pwr™ev
(, cÚ¡ 
iovec
 *, , 
off_t
);

114 
	g__END_DECLS


	@/usr/include/sys/vmmeter.h

35 #iâdeà
_SYS_VMMETER_H_


36 
	#_SYS_VMMETER_H_


	)

42 
	#MAXSLP
 20

	)

44 
	svmtÙ®
 {

45 
ušt64_t
 
	mt_vm
;

46 
ušt64_t
 
	mt_avm
;

47 
ušt64_t
 
	mt_rm
;

48 
ušt64_t
 
	mt_¬m
;

49 
ušt64_t
 
	mt_vmshr
;

50 
ušt64_t
 
	mt_avmshr
;

51 
ušt64_t
 
	mt_rmshr
;

52 
ušt64_t
 
	mt_¬mshr
;

53 
ušt64_t
 
	mt_ä“
;

54 
št16_t
 
	mt_rq
;

55 
št16_t
 
	mt_dw
;

57 
št16_t
 
	mt_pw
;

58 
št16_t
 
	mt_¦
;

59 
št16_t
 
	mt_sw
;

61 
ušt16_t
 
	mt_·d
[3];

64 #ià
defšed
(
_KERNEL
è|| defšed(
_WANT_VMMETER
)

65 
	~<sys/couÁ”.h
>

67 #ifdeà
_KERNEL


68 
	#VMMETER_ALIGNED
 
	`__®igÃd
(
CACHE_LINE_SIZE
)

	)

70 
	#VMMETER_ALIGNED


	)

79 
	svmm‘”
 {

83 
couÁ”_u64_t
 
	mv_swtch
;

84 
couÁ”_u64_t
 
	mv_Œ­
;

85 
couÁ”_u64_t
 
	mv_sysÿÎ
;

86 
couÁ”_u64_t
 
	mv_šŒ
;

87 
couÁ”_u64_t
 
	mv_soá
;

91 
couÁ”_u64_t
 
	mv_vm_çuÉs
;

92 
couÁ”_u64_t
 
	mv_io_çuÉs
;

93 
couÁ”_u64_t
 
	mv_cow_çuÉs
;

94 
couÁ”_u64_t
 
	mv_cow_Ýtim
;

95 
couÁ”_u64_t
 
	mv_zfod
;

96 
couÁ”_u64_t
 
	mv_ozfod
;

97 
couÁ”_u64_t
 
	mv_sw­š
;

98 
couÁ”_u64_t
 
	mv_sw­out
;

99 
couÁ”_u64_t
 
	mv_sw­pgsš
;

100 
couÁ”_u64_t
 
	mv_sw­pgsout
;

101 
couÁ”_u64_t
 
	mv_vnodeš
;

102 
couÁ”_u64_t
 
	mv_vnodeout
;

103 
couÁ”_u64_t
 
	mv_vnod•gsš
;

104 
couÁ”_u64_t
 
	mv_vnod•gsout
;

105 
couÁ”_u64_t
 
	mv_šŒªs
;

106 
couÁ”_u64_t
 
	mv_»aùiv©ed
;

107 
couÁ”_u64_t
 
	mv_pdwakeups
;

108 
couÁ”_u64_t
 
	mv_pd·ges
;

109 
couÁ”_u64_t
 
	mv_pdshÜtçÎs
;

111 
couÁ”_u64_t
 
	mv_dä“
;

112 
couÁ”_u64_t
 
	mv_pä“
;

113 
couÁ”_u64_t
 
	mv_tä“
;

117 
couÁ”_u64_t
 
	mv_fÜks
;

118 
couÁ”_u64_t
 
	mv_vfÜks
;

119 
couÁ”_u64_t
 
	mv_rfÜks
;

120 
couÁ”_u64_t
 
	mv_kth»ads
;

121 
couÁ”_u64_t
 
	mv_fÜk·ges
;

122 
couÁ”_u64_t
 
	mv_vfÜk·ges
;

123 
couÁ”_u64_t
 
	mv_rfÜk·ges
;

124 
couÁ”_u64_t
 
	mv_kth»ad·ges
;

125 
couÁ”_u64_t
 
	mv_wœe_couÁ
;

126 
	#VM_METER_NCOUNTERS
 \

127 (
	`off£tof
(
vmm‘”
, 
v_·ge_size
è/ (
couÁ”_u64_t
))

	)

131 
u_št
 
	mv_·ge_size
;

132 
u_št
 
	mv_·ge_couÁ
;

133 
u_št
 
	mv_ä“_»£rved
;

134 
u_št
 
	mv_ä“_rg‘
;

135 
u_št
 
	mv_ä“_mš
;

136 
u_št
 
	mv_šaùive_rg‘
;

137 
u_št
 
	mv_·geout_ä“_mš
;

138 
u_št
 
	mv_š‹¼u±_ä“_mš
;

139 
u_št
 
	mv_ä“_£v”e
;

143 #ifdeà
_KERNEL


145 
	~<sys/domaš£t.h
>

147 
vmm‘”
 
vm_út
;

148 
domaš£t_t
 
®l_domašs
;

149 
domaš£t_t
 
vm_mš_domašs
;

150 
domaš£t_t
 
vm_£v”e_domašs
;

152 
	#VM_CNT_ADD
(
v¬
, 
x
è
	`couÁ”_u64_add
(
vm_út
.v¬, x)

	)

153 
	#VM_CNT_INC
(
v¬
è
	`VM_CNT_ADD
(v¬, 1)

	)

154 
	#VM_CNT_FETCH
(
v¬
è
	`couÁ”_u64_ãtch
(
vm_út
.v¬)

	)

156 
šlše
 

157 
	$vm_wœe_add
(
út
)

160 
	`VM_CNT_ADD
(
v_wœe_couÁ
, 
út
);

161 
	}
}

163 
šlše
 

164 
	$vm_wœe_sub
(
út
)

167 
	`VM_CNT_ADD
(
v_wœe_couÁ
, -
út
);

168 
	}
}

170 
u_št
 
vm_ä“_couÁ
();

171 
šlše
 
u_št


172 
	$vm_wœe_couÁ
()

175  (
	`VM_CNT_FETCH
(
v_wœe_couÁ
));

176 
	}
}

184 
šlše
 

185 
	$vm_·ge_couÁ_£v”e
()

188  (!
	`DOMAINSET_EMPTY
(&
vm_£v”e_domašs
));

189 
	}
}

191 
šlše
 

192 
	$vm_·ge_couÁ_£v”e_domaš
(
domaš
)

195  (
	`DOMAINSET_ISSET
(
domaš
, &
vm_£v”e_domašs
));

196 
	}
}

198 
šlše
 

199 
	$vm_·ge_couÁ_£v”e_£t
(cÚ¡ 
domaš£t_t
 *
mask
)

202  (
	`DOMAINSET_SUBSET
(&
vm_£v”e_domašs
, 
mask
));

203 
	}
}

214 
šlše
 

215 
	$vm_·ge_couÁ_mš
()

218  (!
	`DOMAINSET_EMPTY
(&
vm_mš_domašs
));

219 
	}
}

221 
šlše
 

222 
	$vm_·ge_couÁ_mš_domaš
(
domaš
)

225  (
	`DOMAINSET_ISSET
(
domaš
, &
vm_mš_domašs
));

226 
	}
}

228 
šlše
 

229 
	$vm_·ge_couÁ_mš_£t
(cÚ¡ 
domaš£t_t
 *
mask
)

232  (
	`DOMAINSET_SUBSET
(&
vm_mš_domašs
, 
mask
));

233 
	}
}

	@/usr/include/sys/vnode.h

35 #iâdeà
_SYS_VNODE_H_


36 
	#_SYS_VNODE_H_


	)

38 
	~<sys/bufobj.h
>

39 
	~<sys/queue.h
>

40 
	~<sys/lock.h
>

41 
	~<sys/lockmgr.h
>

42 
	~<sys/mu‹x.h
>

43 
	~<sys/¿ng–ock.h
>

44 
	~<sys/£lšfo.h
>

45 
	~<sys/uio.h
>

46 
	~<sys/aþ.h
>

47 
	~<sys/kŒ.h
>

58 
	evty³
 { 
	mVNON
, 
	mVREG
, 
	mVDIR
, 
	mVBLK
, 
	mVCHR
, 
	mVLNK
, 
	mVSOCK
, 
	mVFIFO
, 
	mVBAD
,

59 
	mVMARKER
 };

66 
	gÇmeÿche
;

68 
	svpÞlšfo
 {

69 
mtx
 
	mvpi_lock
;

70 
£lšfo
 
	mvpi_£lšfo
;

71 
	mvpi_ev’ts
;

72 
	mvpi_»v’ts
;

98 #ià
defšed
(
_KERNEL
è|| defšed(
_KVM_VNODE
)

100 
	svnode
 {

105 cÚ¡ *
	mv_g
;

106 
vÝ_veùÜ
 *
	mv_Ý
;

107 *
	mv_d©a
;

112 
mouÁ
 *
	mv_mouÁ
;

113 
TAILQ_ENTRY
(
vnode
è
	mv_nmÁvnodes
;

119 
mouÁ
 *
	mv_mouÁedh”e
;

120 
uÅcb
 *
	mv_uÅcb
;

121 
cdev
 *
	mv_rdev
;

122 
fifošfo
 *
	mv_fifošfo
;

129 
LIST_ENTRY
(
vnode
è
	mv_hashli¡
;

134 
LIST_HEAD
(, 
Çmeÿche
è
	mv_ÿche_¤c
;

135 
TAILQ_HEAD
(, 
Çmeÿche
è
	mv_ÿche_d¡
;

136 
Çmeÿche
 *
	mv_ÿche_dd
;

141 
lock
 
	mv_lock
;

142 
mtx
 
	mv_š‹¾ock
;

143 
lock
 *
	mv_vÆock
;

148 
TAILQ_ENTRY
(
vnode
è
	mv_aùä“li¡
;

149 
bufobj
 
	mv_bufobj
;

154 
vpÞlšfo
 *
	mv_pÞlšfo
;

155 
Ïb–
 *
	mv_Ïb–
;

156 
lockf
 *
	mv_lockf
;

157 
¿ng–ock
 
	mv_¾
;

162 
daddr_t
 
	mv_c¡¬t
;

163 
daddr_t
 
	mv_Ï¡a
;

164 
daddr_t
 
	mv_Ï¡w
;

165 
	mv_þ’
;

167 
u_št
 
	mv_hÞdút
;

168 
u_št
 
	mv_u£couÁ
;

169 
u_št
 
	mv_iæag
;

170 
u_št
 
	mv_væag
;

171 
u_št
 
	mv_mæag
;

172 
	mv_wr™ecouÁ
;

173 
u_št
 
	mv_hash
;

174 
vty³
 
	mv_ty³
;

179 
	#bo2vnode
(
bo
è
	`__cÚš”of
((bo), 
vnode
, 
v_bufobj
)

	)

182 
	#v_objeù
 
v_bufobj
.
bo_objeù


	)

187 
	sxvnode
 {

188 
size_t
 
	mxv_size
;

189 *
	mxv_vnode
;

190 
u_lÚg
 
	mxv_æag
;

191 
	mxv_u£couÁ
;

192 
	mxv_wr™ecouÁ
;

193 
	mxv_hÞdút
;

194 
u_lÚg
 
	mxv_id
;

195 *
	mxv_mouÁ
;

196 
	mxv_numouut
;

197 
vty³
 
	mxv_ty³
;

199 *
	mxvu_sock‘
;

200 *
	mxvu_fifo
;

201 
dev_t
 
	mxvu_rdev
;

203 
dev_t
 
	mxvu_dev
;

204 
šo_t
 
	mxvu_šo
;

205 } 
	mxv_uns
;

206 } 
	mxv_un
;

208 
	#xv_sock‘
 
xv_un
.
xvu_sock‘


	)

209 
	#xv_fifo
 
xv_un
.
xvu_fifo


	)

210 
	#xv_rdev
 
xv_un
.
xvu_rdev


	)

211 
	#xv_dev
 
xv_un
.
xv_uns
.
xvu_dev


	)

212 
	#xv_šo
 
xv_un
.
xv_uns
.
xvu_šo


	)

215 
	#VN_KNLIST_EMPTY
(
vp
è((vp)->
v_pÞlšfo
 =ð
NULL
 || \

216 
	`KNLIST_EMPTY
(&(
vp
)->
v_pÞlšfo
->
vpi_£lšfo
.
si_nÙe
))

	)

218 
	#VN_KNOTE
(
vp
, 
b
, 
a
) \

220 ià(!
	`VN_KNLIST_EMPTY
(
vp
)) \

221 
	`KNOTE
(&
vp
->
v_pÞlšfo
->
vpi_£lšfo
.
si_nÙe
, (
b
), \

222 (
a
è| 
KNF_NOKQLOCK
); \

223 } 0)

	)

224 
	#VN_KNOTE_LOCKED
(
vp
, 
b
è
	`VN_KNOTE
(vp, b, 
KNF_LISTLOCKED
)

	)

225 
	#VN_KNOTE_UNLOCKED
(
vp
, 
b
è
	`VN_KNOTE
(vp, b, 0)

	)

235 
	#VI_MOUNT
 0x0020

	)

236 
	#VI_DOOMED
 0x0080

	)

237 
	#VI_FREE
 0x0100

	)

238 
	#VI_ACTIVE
 0x0200

	)

239 
	#VI_DOINGINACT
 0x0800

	)

240 
	#VI_OWEINACT
 0x1000

	)

242 
	#VV_ROOT
 0x0001

	)

243 
	#VV_ISTTY
 0x0002

	)

244 
	#VV_NOSYNC
 0x0004

	)

245 
	#VV_ETERNALDEV
 0x0008

	)

246 
	#VV_CACHEDLABEL
 0x0010

	)

247 
	#VV_TEXT
 0x0020

	)

248 
	#VV_COPYONWRITE
 0x0040

	)

249 
	#VV_SYSTEM
 0x0080

	)

250 
	#VV_PROCDEP
 0x0100

	)

251 
	#VV_NOKNOTE
 0x0200

	)

252 
	#VV_DELETED
 0x0400

	)

253 
	#VV_MD
 0x0800

	)

254 
	#VV_FORCEINSMQ
 0x1000

	)

255 
	#VV_READLINK
 0x2000

	)

257 
	#VMP_TMPMNTFREELIST
 0x0001

	)

263 
	sv©Œ
 {

264 
vty³
 
	mva_ty³
;

265 
u_shÜt
 
	mva_mode
;

266 
u_shÜt
 
	mva_·ddšg0
;

267 
uid_t
 
	mva_uid
;

268 
gid_t
 
	mva_gid
;

269 
Æšk_t
 
	mva_Æšk
;

270 
dev_t
 
	mva_fsid
;

271 
šo_t
 
	mva_fžeid
;

272 
u_quad_t
 
	mva_size
;

273 
	mva_blocksize
;

274 
time¥ec
 
	mva_©ime
;

275 
time¥ec
 
	mva_mtime
;

276 
time¥ec
 
	mva_ùime
;

277 
time¥ec
 
	mva_bœthtime
;

278 
u_lÚg
 
	mva_g’
;

279 
u_lÚg
 
	mva_æags
;

280 
dev_t
 
	mva_rdev
;

281 
u_quad_t
 
	mva_by‹s
;

282 
u_quad_t
 
	mva_fž”ev
;

283 
u_št
 
	mva_vaæags
;

284 
	mva_¥¬e
;

290 
	#VA_UTIMES_NULL
 0x01

	)

291 
	#VA_EXCLUSIVE
 0x02

	)

292 
	#VA_SYNC
 0x04

	)

299 
	#IO_UNIT
 0x0001

	)

300 
	#IO_APPEND
 0x0002

	)

301 
	#IO_NDELAY
 0x0004

	)

302 
	#IO_NODELOCKED
 0x0008

	)

303 
	#IO_ASYNC
 0x0010

	)

304 
	#IO_VMIO
 0x0020

	)

305 
	#IO_INVAL
 0x0040

	)

306 
	#IO_SYNC
 0x0080

	)

307 
	#IO_DIRECT
 0x0100

	)

308 
	#IO_NOREUSE
 0x0200

	)

309 
	#IO_EXT
 0x0400

	)

310 
	#IO_NORMAL
 0x0800

	)

311 
	#IO_NOMACCHECK
 0x1000

	)

312 
	#IO_BUFLOCKED
 0x2000

	)

313 
	#IO_RANGELOCKED
 0x4000

	)

315 
	#IO_SEQMAX
 0x7F

	)

316 
	#IO_SEQSHIFT
 16

	)

321 
	#VEXEC
 000000000100

	)

322 
	#VWRITE
 000000000200

	)

323 
	#VREAD
 000000000400

	)

324 
	#VADMIN
 000000010000

	)

325 
	#VAPPEND
 000000040000

	)

333 
	#VEXPLICIT_DENY
 000000100000

	)

334 
	#VREAD_NAMED_ATTRS
 000000200000

	)

335 
	#VWRITE_NAMED_ATTRS
 000000400000

	)

336 
	#VDELETE_CHILD
 000001000000

	)

337 
	#VREAD_ATTRIBUTES
 000002000000

	)

338 
	#VWRITE_ATTRIBUTES
 000004000000

	)

339 
	#VDELETE
 000010000000

	)

340 
	#VREAD_ACL
 000020000000

	)

341 
	#VWRITE_ACL
 000040000000

	)

342 
	#VWRITE_OWNER
 000100000000

	)

343 
	#VSYNCHRONIZE
 000200000000

	)

344 
	#VCREAT
 000400000000

	)

345 
	#VVERIFY
 001000000000

	)

350 
	#VADMIN_PERMS
 (
VADMIN
 | 
VWRITE_ATTRIBUTES
 | 
VWRITE_ACL
 | \

351 
VWRITE_OWNER
)

	)

356 
	#VSTAT_PERMS
 (
VREAD_ATTRIBUTES
 | 
VREAD_ACL
)

	)

361 
	#VMODIFY_PERMS
 (
VWRITE
 | 
VAPPEND
 | 
VADMIN_PERMS
 | 
VDELETE_CHILD
 | \

362 
VDELETE
)

	)

367 
	#VNOVAL
 (-1)

	)

372 
	#VLKTIMEOUT
 (
hz
 / 20 + 1)

	)

374 #ifdeà
_KERNEL


376 #ifdeà
MALLOC_DECLARE


377 
MALLOC_DECLARE
(
M_VNODE
);

380 
u_št
 
ncsizeçùÜ
;

386 
vty³
 
iáovt_b
[];

387 
v‰oif_b
[];

388 
	#IFTOVT
(
mode
è(
iáovt_b
[((modeè& 
S_IFMT
è>> 12])

	)

389 
	#VTTOIF
(
šdx
è(
v‰oif_b
[()(šdx)])

	)

390 
	#MAKEIMODE
(
šdx
, 
mode
è()(
	`VTTOIF
(šdxè| (mode))

	)

395 
	#SKIPSYSTEM
 0x0001

	)

396 
	#FORCECLOSE
 0x0002

	)

397 
	#WRITECLOSE
 0x0004

	)

398 
	#EARLYFLUSH
 0x0008

	)

399 
	#V_SAVE
 0x0001

	)

400 
	#V_ALT
 0x0002

	)

401 
	#V_NORMAL
 0x0004

	)

402 
	#V_CLEANONLY
 0x0008

	)

403 
	#V_VMIO
 0x0010

	)

404 
	#V_ALLOWCLEAN
 0x0020

	)

405 
	#REVOKEALL
 0x0001

	)

406 
	#V_WAIT
 0x0001

	)

407 
	#V_NOWAIT
 0x0002

	)

408 
	#V_XSLEEP
 0x0004

	)

409 
	#V_MNTREF
 0x0010

	)

411 
	#VR_START_WRITE
 0x0001

	)

412 
	#VR_NO_SUSPCLR
 0x0002

	)

414 
	#VS_SKIP_UNMOUNT
 0x0001

	)

417 
	#VREF
(
vp
è
	`v»f
(vp)

	)

419 #ifdeà
DIAGNOSTIC


420 
	#VATTR_NULL
(
v­
è
	`v©Œ_nuÎ
(v­)

	)

422 
	#VATTR_NULL
(
v­
è(*(v­èð
va_nuÎ
è

	)

425 
	#NULLVP
 ((
vnode
 *)
NULL
)

	)

430 
vnode
 *
roÙvnode
;

431 
mouÁ
 *
roÙdevmp
;

432 
desœedvnodes
;

433 
uma_zÚe
 *
Çmei_zÚe
;

434 
v©Œ
 
va_nuÎ
;

436 
	#VI_LOCK
(
vp
è
	`mtx_lock
(&(vp)->
v_š‹¾ock
)

	)

437 
	#VI_LOCK_FLAGS
(
vp
, 
æags
è
	`mtx_lock_æags
(&(vp)->
v_š‹¾ock
, (æags))

	)

438 
	#VI_TRYLOCK
(
vp
è
	`mtx_Œylock
(&(vp)->
v_š‹¾ock
)

	)

439 
	#VI_UNLOCK
(
vp
è
	`mtx_uÆock
(&(vp)->
v_š‹¾ock
)

	)

440 
	#VI_MTX
(
vp
è(&(vp)->
v_š‹¾ock
)

	)

442 
	#VN_LOCK_AREC
(
vp
è
	`lock®low»cur£
((vp)->
v_vÆock
)

	)

443 
	#VN_LOCK_ASHARE
(
vp
è
	`lock®lowsh¬e
((vp)->
v_vÆock
)

	)

444 
	#VN_LOCK_DSHARE
(
vp
è
	`lockdi§bËsh¬e
((vp)->
v_vÆock
)

	)

455 
	#VDESC_MAX_VPS
 16

	)

457 
	#VDESC_VP0_WILLRELE
 0x0001

	)

458 
	#VDESC_VP1_WILLRELE
 0x0002

	)

459 
	#VDESC_VP2_WILLRELE
 0x0004

	)

460 
	#VDESC_VP3_WILLRELE
 0x0008

	)

461 
	#VDESC_NOMAP_VPP
 0x0100

	)

462 
	#VDESC_VPP_WILLRELE
 0x0200

	)

468 
	svÝ_g’”ic_¬gs
 {

469 
vnodeÝ_desc
 *
	ma_desc
;

473 
	tvÝ_by·ss_t
(
	tvÝ_g’”ic_¬gs
 *);

479 
	#VDESC_NO_OFFSET
 -1

	)

484 
	svnodeÝ_desc
 {

485 *
	mvdesc_Çme
;

486 
	mvdesc_æags
;

487 
vÝ_by·ss_t
 *
	mvdesc_ÿÎ
;

495 *
	mvdesc_vp_off£ts
;

496 
	mvdesc_vµ_off£t
;

497 
	mvdesc_üed_off£t
;

498 
	mvdesc_th»ad_off£t
;

499 
	mvdesc_compÚ’Šame_off£t
;

502 #ifdeà
_KERNEL


506 
vnodeÝ_desc
 *
vnodeÝ_descs
[];

508 
	#VOPARG_OFFSETOF
(
s_ty³
, 
f›ld
è
	`__off£tof
(s_ty³, f›ld)

	)

509 
	#VOPARG_OFFSETTO
(
s_ty³
, 
s_off£t
, 
¡ruù_p
) \

510 ((
s_ty³
)(((*)(
¡ruù_p
)è+ (
s_off£t
)))

	)

513 #ifdeà
DEBUG_VFS_LOCKS


523 
as£¹_vi_locked
(
vnode
 *
vp
, cÚ¡ *
¡r
);

524 
as£¹_vi_uÆocked
(
vnode
 *
vp
, cÚ¡ *
¡r
);

525 
as£¹_vÝ_–ocked
(
vnode
 *
vp
, cÚ¡ *
¡r
);

526 
as£¹_vÝ_locked
(
vnode
 *
vp
, cÚ¡ *
¡r
);

527 
as£¹_vÝ_uÆocked
(
vnode
 *
vp
, cÚ¡ *
¡r
);

529 
	#ASSERT_VI_LOCKED
(
vp
, 
¡r
è
	`as£¹_vi_locked
((vp), (¡r))

	)

530 
	#ASSERT_VI_UNLOCKED
(
vp
, 
¡r
è
	`as£¹_vi_uÆocked
((vp), (¡r))

	)

531 
	#ASSERT_VOP_ELOCKED
(
vp
, 
¡r
è
	`as£¹_vÝ_–ocked
((vp), (¡r))

	)

532 
	#ASSERT_VOP_LOCKED
(
vp
, 
¡r
è
	`as£¹_vÝ_locked
((vp), (¡r))

	)

533 
	#ASSERT_VOP_UNLOCKED
(
vp
, 
¡r
è
	`as£¹_vÝ_uÆocked
((vp), (¡r))

	)

537 
	#ASSERT_VI_LOCKED
(
vp
, 
¡r
è(()0)

	)

538 
	#ASSERT_VI_UNLOCKED
(
vp
, 
¡r
è(()0)

	)

539 
	#ASSERT_VOP_ELOCKED
(
vp
, 
¡r
è(()0)

	)

540 
	#ASSERT_VOP_LOCKED
(
vp
, 
¡r
è(()0)

	)

541 
	#ASSERT_VOP_UNLOCKED
(
vp
, 
¡r
è(()0)

	)

548 
	#VCALL
(
c
è((c)->
a_desc
->
	`vdesc_ÿÎ
(c))

	)

550 
	#DOINGASYNC
(
vp
) \

551 (((
vp
)->
v_mouÁ
->
mÁ_k”n_æag
 & 
MNTK_ASYNC
) != 0 && \

552 ((
cu¹h»ad
->
td_pæags
 & 
TDP_SYNCIO
è=ð0))

	)

558 
vmiodœ’abË
;

560 
__šlše
 

561 
	$vn_ÿnvmio
(
vnode
 *
vp
)

563 ià(
vp
 && (vp->
v_ty³
 =ð
VREG
 || (
vmiodœ’abË
 && vp->v_ty³ =ð
VDIR
)))

564 (
TRUE
);

565 (
FALSE
);

566 
	}
}

571 
	tvÝ_g‘·ges_iodÚe_t
(*, 
	tvm_·ge_t
 *, , );

572 
	~"vnode_if.h
"

575 
	#VN_OPEN_NOAUDIT
 0x00000001

	)

576 
	#VN_OPEN_NOCAPCHECK
 0x00000002

	)

577 
	#VN_OPEN_NAMECACHE
 0x00000004

	)

582 
	gcompÚ’Šame
;

583 
	gfže
;

584 
	gmouÁ
;

585 
	gÇmeid©a
;

586 
	go¡©
;

587 
	gä“bsd11_¡©
;

588 
	gth»ad
;

589 
	g´oc
;

590 
	g¡©
;

591 
	gn¡©
;

592 
	guüed
;

593 
	guio
;

594 
	gv©Œ
;

595 
	gvfsÝs
;

596 
	gvnode
;

598 (*
	tvn_g‘_šo_t
)(
	tmouÁ
 *, *, , 
	tvnode
 **);

600 
	`bnÜeu£li¡
(
bufv
 *bufv, 
bufobj
 *
bo
, 
daddr_t
 
¡¬Š
,

601 
daddr_t
 
’dn
);

603 
	`ÿche_chªgesize
(
Ãwhashsize
);

604 
	#ÿche_’‹r
(
dvp
, 
vp
, 
úp
) \

605 
	`ÿche_’‹r_time
(
dvp
, 
vp
, 
úp
, 
NULL
, NULL)

	)

606 
	`ÿche_’‹r_time
(
vnode
 *
dvp
, vnod*
vp
,

607 
compÚ’Šame
 *
úp
, 
time¥ec
 *
t¥
,

608 
time¥ec
 *
dt¥
);

609 
	`ÿche_lookup
(
vnode
 *
dvp
, vnod**
vµ
,

610 
compÚ’Šame
 *
úp
, 
time¥ec
 *
t¥
, *
tick¥
);

611 
	`ÿche_purge
(
vnode
 *
vp
);

612 
	`ÿche_purge_Ãg©ive
(
vnode
 *
vp
);

613 
	`ÿche_purgevfs
(
mouÁ
 *
mp
, 
boÞ
 
fÜû
);

614 
	`chªge_dœ
(
vnode
 *
vp
, 
th»ad
 *
td
);

615 
	`cvt¡©
(
¡©
 *
¡
, 
o¡©
 *
o¡
);

616 
	`ä“bsd11_cvŠ¡©
(
¡©
 *
sb
, 
n¡©
 *
nsb
);

617 
	`ä“bsd11_cvt¡©
(
¡©
 *
¡
, 
ä“bsd11_¡©
 *
o¡
);

618 
	`g‘Ãwvnode
(cÚ¡ *
g
, 
mouÁ
 *
mp
, 
vÝ_veùÜ
 *
vÝs
,

619 
vnode
 **
vµ
);

620 
	`g‘Ãwvnode_»£rve
(
u_št
 
couÁ
);

621 
	`g‘Ãwvnode_drÝ_»£rve
();

622 
	`šsmÁque1
(
vnode
 *
vp
, 
mouÁ
 *
mp
,

623 (*
dŒ
)(
vnode
 *, *), *
dŒ_¬g
);

624 
	`šsmÁque
(
vnode
 *
vp
, 
mouÁ
 *
mp
);

625 
u_quad_t
 
	`š™_va_fž”ev
();

626 
	`¥“dup_synûr
();

627 
	`vn_v±oúp
(
vnode
 **
vp
, 
uüed
 *
üed
, *
buf
,

628 
u_št
 *
buæ’
);

629 
	`vn_fuÎ·th
(
th»ad
 *
td
, 
vnode
 *
vn
,

630 **
»tbuf
, **
ä“buf
);

631 
	`vn_fuÎ·th_glob®
(
th»ad
 *
td
, 
vnode
 *
vn
,

632 **
»tbuf
, **
ä“buf
);

633 
vnode
 *

634 
	`vn_dœ_dd_šo
(
vnode
 *
vp
);

635 
	`vn_commÇme
(
vnode
 *
vn
, *
buf
, 
u_št
 
buæ’
);

636 
	`vn_·th_to_glob®_·th
(
th»ad
 *
td
, 
vnode
 *
vp
,

637 *
·th
, 
u_št
 
·thËn
);

638 
	`vacûss
(
vty³
 
ty³
, 
mode_t
 
fže_mode
, 
uid_t
 
fže_uid
,

639 
gid_t
 
fže_gid
, 
accmode_t
 
accmode
, 
uüed
 *
üed
,

640 *
´ivu£d
);

641 
	`vacûss_aþ_nfs4
(
vty³
 
ty³
, 
uid_t
 
fže_uid
, 
gid_t
 
fže_gid
,

642 
aþ
 *
aþp
, 
accmode_t
 
accmode
, 
uüed
 *
üed
,

643 *
´ivu£d
);

644 
	`vacûss_aþ_posix1e
(
vty³
 
ty³
, 
uid_t
 
fže_uid
,

645 
gid_t
 
fže_gid
, 
aþ
 *aþ, 
accmode_t
 
accmode
,

646 
uüed
 *
üed
, *
´ivu£d
);

647 
	`v©Œ_nuÎ
(
v©Œ
 *
v­
);

648 
	`vcouÁ
(
vnode
 *
vp
);

649 
	#vdrÝ
(
vp
è
	`_vdrÝ
((vp), 0)

	)

650 
	#vdrÝl
(
vp
è
	`_vdrÝ
((vp), 1)

	)

651 
	`_vdrÝ
(
vnode
 *, 
boÞ
);

652 
	`væush
(
mouÁ
 *
mp
, 
roÙ»fs
, 
æags
, 
th»ad
 *
td
);

653 
	`vg‘
(
vnode
 *
vp
, 
lockæag
, 
th»ad
 *
td
);

654 
	`vgÚe
(
vnode
 *
vp
);

655 
	#vhÞd
(
vp
è
	`_vhÞd
((vp), 0)

	)

656 
	#vhÞdl
(
vp
è
	`_vhÞd
((vp), 1)

	)

657 
	`_vhÞd
(
vnode
 *, 
boÞ
);

658 
	`všaùive
(
vnode
 *, 
th»ad
 *);

659 
	`všv®buf
(
vnode
 *
vp
, 
§ve
, 
¦pæag
, 
¦±imeo
);

660 
	`vŒuncbuf
(
vnode
 *
vp
, 
uüed
 *
üed
, 
off_t
 
Ëngth
,

661 
blksize
);

662 
	`vuÄef
(
vnode
 *);

663 
	$vn_´štf
(
vnode
 *
vp
, cÚ¡ *
fmt
, ...è
	`__´štæike
(2,3);

664 
	`v»cyþe
(
vnode
 *
vp
);

665 
	`v»cyþ–
(
vnode
 *
vp
);

666 
	`vn_bm­_£ekhÞe
(
vnode
 *
vp
, 
u_lÚg
 
cmd
, 
off_t
 *
off
,

667 
uüed
 *
üed
);

668 
	`vn_þo£
(
vnode
 *
vp
,

669 
æags
, 
uüed
 *
fže_üed
, 
th»ad
 *
td
);

670 
	`vn_fšished_wr™e
(
mouÁ
 *
mp
);

671 
	`vn_fšished_£cÚd¬y_wr™e
(
mouÁ
 *
mp
);

672 
	`vn_isdisk
(
vnode
 *
vp
, *
”½
);

673 
	`_vn_lock
(
vnode
 *
vp
, 
æags
, *
fže
, 
lše
);

674 
	#vn_lock
(
vp
, 
æags
è
	`_vn_lock
(vp, fÏgs, 
__FILE__
, 
__LINE__
)

	)

675 
	`vn_Ý’
(
Çmeid©a
 *
ndp
, *
æagp
, 
cmode
, 
fže
 *
å
);

676 
	`vn_Ý’_üed
(
Çmeid©a
 *
ndp
, *
æagp
, 
cmode
,

677 
u_št
 
vn_Ý’_æags
, 
uüed
 *
üed
, 
fže
 *
å
);

678 
	`vn_Ý’_vnode
(
vnode
 *
vp
, 
fmode
, 
uüed
 *
üed
,

679 
th»ad
 *
td
, 
fže
 *
å
);

680 
	`vn_·ges_»move
(
vnode
 *
vp
, 
vm_pšdex_t
 
¡¬t
, vm_pšdex_ˆ
’d
);

681 
	`vn_pÞÌecÜd
(
vnode
 *
vp
, 
th»ad
 *
p
, 
ev’ts
);

682 
	`vn_rdwr
(
uio_rw
 
rw
, 
vnode
 *
vp
, *
ba£
,

683 
Ën
, 
off_t
 
off£t
, 
uio_£g
 
£gæg
, 
ioæg
,

684 
uüed
 *
aùive_üed
, uüed *
fže_üed
, 
ssize_t
 *
¬esid
,

685 
th»ad
 *
td
);

686 
	`vn_rdwr_šchunks
(
uio_rw
 
rw
, 
vnode
 *
vp
, *
ba£
,

687 
size_t
 
Ën
, 
off_t
 
off£t
, 
uio_£g
 
£gæg
, 
ioæg
,

688 
uüed
 *
aùive_üed
, uüed *
fže_üed
, 
size_t
 *
¬esid
,

689 
th»ad
 *
td
);

690 
	`vn_¾im™_fsize
(cÚ¡ 
vnode
 *
vn
, cÚ¡ 
uio
 *uio,

691 
th»ad
 *
td
);

692 
	`vn_¡©
(
vnode
 *
vp
, 
¡©
 *
sb
, 
uüed
 *
aùive_üed
,

693 
uüed
 *
fže_üed
, 
th»ad
 *
td
);

694 
	`vn_¡¬t_wr™e
(
vnode
 *
vp
, 
mouÁ
 **
mµ
, 
æags
);

695 
	`vn_¡¬t_£cÚd¬y_wr™e
(
vnode
 *
vp
, 
mouÁ
 **
mµ
,

696 
æags
);

697 
	`vn_wr™echk
(
vnode
 *
vp
);

698 
	`vn_ex‰r_g‘
(
vnode
 *
vp
, 
ioæg
, 
©ŒÇme¥aû
,

699 cÚ¡ *
©ŒÇme
, *
buæ’
, *
buf
, 
th»ad
 *
td
);

700 
	`vn_ex‰r_£t
(
vnode
 *
vp
, 
ioæg
, 
©ŒÇme¥aû
,

701 cÚ¡ *
©ŒÇme
, 
buæ’
, *
buf
, 
th»ad
 *
td
);

702 
	`vn_ex‰r_rm
(
vnode
 *
vp
, 
ioæg
, 
©ŒÇme¥aû
,

703 cÚ¡ *
©ŒÇme
, 
th»ad
 *
td
);

704 
	`vn_vg‘_šo
(
vnode
 *
vp
, 
šo_t
 
šo
, 
lkæags
,

705 
vnode
 **
rvp
);

706 
	`vn_vg‘_šo_g’
(
vnode
 *
vp
, 
vn_g‘_šo_t
 
®loc
,

707 *
®loc_¬g
, 
lkæags
, 
vnode
 **
rvp
);

708 
	`vn_utimes_³rm
(
vnode
 *
vp
, 
v©Œ
 *
v­
,

709 
uüed
 *
üed
, 
th»ad
 *
td
);

711 
	`vn_io_çuÉ_uiomove
(*
d©a
, 
xãrsize
, 
uio
 *uio);

712 
	`vn_io_çuÉ_pgmove
(
vm_·ge_t
 
ma
[], 
vm_off£t_t
 
off£t
, 
xãrsize
,

713 
uio
 *uio);

715 
	#vn_¿ng–ock_uÆock
(
vp
, 
cook›
) \

716 
	`¿ng–ock_uÆock
(&(
vp
)->
v_¾
, (
cook›
), 
	`VI_MTX
(vp))

	)

717 
	#vn_¿ng–ock_uÆock_¿nge
(
vp
, 
cook›
, 
¡¬t
, 
’d
) \

718 
	`¿ng–ock_uÆock_¿nge
(&(
vp
)->
v_¾
, (
cook›
), (
¡¬t
), (
’d
), \

719 
	`VI_MTX
(
vp
))

	)

720 
	#vn_¿ng–ock_¾ock
(
vp
, 
¡¬t
, 
’d
) \

721 
	`¿ng–ock_¾ock
(&(
vp
)->
v_¾
, (
¡¬t
), (
’d
), 
	`VI_MTX
(vp))

	)

722 
	#vn_¿ng–ock_wlock
(
vp
, 
¡¬t
, 
’d
) \

723 
	`¿ng–ock_wlock
(&(
vp
)->
v_¾
, (
¡¬t
), (
’d
), 
	`VI_MTX
(vp))

	)

725 
	`vfs_ÿche_lookup
(
vÝ_lookup_¬gs
 *
­
);

726 
	`vfs_time¡amp
(
time¥ec
 *);

727 
	`vfs_wr™e_»sume
(
mouÁ
 *
mp
, 
æags
);

728 
	`vfs_wr™e_su¥’d
(
mouÁ
 *
mp
, 
æags
);

729 
	`vfs_wr™e_su¥’d_umÁ
(
mouÁ
 *
mp
);

730 
	`vÆru_ä“
(, 
vfsÝs
 *);

731 
	`vÝ_¡dbm­
(
vÝ_bm­_¬gs
 *);

732 
	`vÝ_¡dfd©async_buf
(
vÝ_fd©async_¬gs
 *);

733 
	`vÝ_¡dfsync
(
vÝ_fsync_¬gs
 *);

734 
	`vÝ_¡dg‘wr™emouÁ
(
vÝ_g‘wr™emouÁ_¬gs
 *);

735 
	`vÝ_¡dg‘·ges
(
vÝ_g‘·ges_¬gs
 *);

736 
	`vÝ_¡dšaùive
(
vÝ_šaùive_¬gs
 *);

737 
	`vÝ_¡di¦ocked
(
vÝ_i¦ocked_¬gs
 *);

738 
	`vÝ_¡dkqfž‹r
(
vÝ_kqfž‹r_¬gs
 *);

739 
	`vÝ_¡dlock
(
vÝ_lock1_¬gs
 *);

740 
	`vÝ_¡dpuages
(
vÝ_puages_¬gs
 *);

741 
	`vÝ_¡duÆock
(
vÝ_uÆock_¬gs
 *);

742 
	`vÝ_nÝÞl
(
vÝ_pÞl_¬gs
 *);

743 
	`vÝ_¡dacûss
(
vÝ_acûss_¬gs
 *
­
);

744 
	`vÝ_¡dacûssx
(
vÝ_acûssx_¬gs
 *
­
);

745 
	`vÝ_¡dadvi£
(
vÝ_advi£_¬gs
 *
­
);

746 
	`vÝ_¡dadvlock
(
vÝ_advlock_¬gs
 *
­
);

747 
	`vÝ_¡dadvlockasync
(
vÝ_advlockasync_¬gs
 *
­
);

748 
	`vÝ_¡dadvlockpurge
(
vÝ_advlockpurge_¬gs
 *
­
);

749 
	`vÝ_¡d®loÿ‹
(
vÝ_®loÿ‹_¬gs
 *
­
);

750 
	`vÝ_¡d·thcÚf
(
vÝ_·thcÚf_¬gs
 *);

751 
	`vÝ_¡dpÞl
(
vÝ_pÞl_¬gs
 *);

752 
	`vÝ_¡dv±oúp
(
vÝ_v±oúp_¬gs
 *
­
);

753 
	`vÝ_¡dv±ofh
(
vÝ_v±ofh_¬gs
 *
­
);

754 
	`vÝ_¡duÅ_bšd
(
vÝ_uÅ_bšd_¬gs
 *
­
);

755 
	`vÝ_¡duÅ_cÚÃù
(
vÝ_uÅ_cÚÃù_¬gs
 *
­
);

756 
	`vÝ_¡duÅ_d‘ach
(
vÝ_uÅ_d‘ach_¬gs
 *
­
);

757 
	`vÝ_eÝnÙsuµ
(
vÝ_g’”ic_¬gs
 *
­
);

758 
	`vÝ_ebadf
(
vÝ_g’”ic_¬gs
 *
­
);

759 
	`vÝ_ešv®
(
vÝ_g’”ic_¬gs
 *
­
);

760 
	`vÝ_’ÛÁ
(
vÝ_g’”ic_¬gs
 *
­
);

761 
	`vÝ_’Ùty
(
vÝ_g’”ic_¬gs
 *
­
);

762 
	`vÝ_nuÎ
(
vÝ_g’”ic_¬gs
 *
­
);

763 
	`vÝ_·nic
(
vÝ_g’”ic_¬gs
 *
­
);

764 
	`d—d_pÞl
(
vÝ_pÞl_¬gs
 *
­
);

765 
	`d—d_»ad
(
vÝ_»ad_¬gs
 *
­
);

766 
	`d—d_wr™e
(
vÝ_wr™e_¬gs
 *
­
);

769 
	`vÝ_þo£_po¡
(*
a
, 
rc
);

770 
	`vÝ_ü—‹_po¡
(*
a
, 
rc
);

771 
	`vÝ_d–‘“x‰r_po¡
(*
a
, 
rc
);

772 
	`vÝ_lšk_po¡
(*
a
, 
rc
);

773 
	`vÝ_lookup_po¡
(*
a
, 
rc
);

774 
	`vÝ_lookup_´e
(*
a
);

775 
	`vÝ_mkdœ_po¡
(*
a
, 
rc
);

776 
	`vÝ_mknod_po¡
(*
a
, 
rc
);

777 
	`vÝ_Ý’_po¡
(*
a
, 
rc
);

778 
	`vÝ_»ad_po¡
(*
a
, 
rc
);

779 
	`vÝ_»addœ_po¡
(*
a
, 
rc
);

780 
	`vÝ_»þaim_po¡
(*
a
, 
rc
);

781 
	`vÝ_»move_po¡
(*
a
, 
rc
);

782 
	`vÝ_»Çme_po¡
(*
a
, 
rc
);

783 
	`vÝ_»Çme_´e
(*
a
);

784 
	`vÝ_rmdœ_po¡
(*
a
, 
rc
);

785 
	`vÝ_£‰r_po¡
(*
a
, 
rc
);

786 
	`vÝ_£‹x‰r_po¡
(*
a
, 
rc
);

787 
	`vÝ_symlšk_po¡
(*
a
, 
rc
);

789 #ifdeà
DEBUG_VFS_LOCKS


790 
	`vÝ_¡¿‹gy_´e
(*
a
);

791 
	`vÝ_lock_´e
(*
a
);

792 
	`vÝ_lock_po¡
(*
a
, 
rc
);

793 
	`vÝ_uÆock_po¡
(*
a
, 
rc
);

794 
	`vÝ_uÆock_´e
(*
a
);

796 
	#vÝ_¡¿‹gy_´e
(
x
èdØ{ 
	}
} 0)

	)

797 
	#vÝ_lock_´e
(
x
èdØ{ } 0)

	)

798 
	#vÝ_lock_po¡
(
x
, 
y
èdØ{ } 0)

	)

799 
	#vÝ_uÆock_po¡
(
x
, 
y
èdØ{ } 0)

	)

800 
	#vÝ_uÆock_´e
(
x
èdØ{ } 0)

	)

803 
vÝ_»Çme_çž
(
vÝ_»Çme_¬gs
 *
­
);

805 
	#VOP_WRITE_PRE
(
­
) \

806 
v©Œ
 
va
; \

807 
”rÜ
; \

808 
off_t
 
osize
, 
ooff£t
, 
noff£t
; \

810 
osize
 = 
ooff£t
 = 
noff£t
 = 0; \

811 ià(!
	`VN_KNLIST_EMPTY
((
­
)->
a_vp
)) { \

812 
”rÜ
 = 
	`VOP_GETATTR
((
­
)->
a_vp
, &
va
, (­)->
a_üed
); \

813 ià(
”rÜ
) \

814  (
”rÜ
); \

815 
ooff£t
 = (
­
)->
a_uio
->
uio_off£t
; \

816 
osize
 = (
off_t
)
va
.
va_size
; \

817 }

	)

819 
	#VOP_WRITE_POST
(
­
, 
»t
) \

820 
noff£t
 = (
­
)->
a_uio
->
uio_off£t
; \

821 ià(
noff£t
 > 
ooff£t
 && !
	`VN_KNLIST_EMPTY
((
­
)->
a_vp
)) { \

822 
	`VFS_KNOTE_LOCKED
((
­
)->
a_vp
, 
NOTE_WRITE
 \

823 | (
noff£t
 > 
osize
 ? 
NOTE_EXTEND
 : 0)); \

824 }

	)

826 
	#VOP_LOCK
(
vp
, 
æags
è
	`VOP_LOCK1
(vp, fÏgs, 
__FILE__
, 
__LINE__
)

	)

829 
vput
(
vnode
 *
vp
);

830 
v»Ë
(
vnode
 *
vp
);

831 
v»f
(
vnode
 *
vp
);

832 
v»æ
(
vnode
 *
vp
);

833 
v»çù
(
vnode
 *
vp
);

834 
v»fút
(
vnode
 *
vp
);

835 
v_addpÞlšfo
(
vnode
 *
vp
);

837 
vnode_ü—‹_vobjeù
(
vnode
 *
vp
, 
off_t
 
size
, 
th»ad
 *
td
);

838 
vnode_de¡roy_vobjeù
(
vnode
 *
vp
);

840 
vÝ_veùÜ
 
fifo_¥ecÝs
;

841 
vÝ_veùÜ
 
d—d_vnodeÝs
;

842 
vÝ_veùÜ
 
deçuÉ_vnodeÝs
;

844 
	#VOP_PANIC
 ((*)(
ušŒ_t
)
vÝ_·nic
)

	)

845 
	#VOP_NULL
 ((*)(
ušŒ_t
)
vÝ_nuÎ
)

	)

846 
	#VOP_EBADF
 ((*)(
ušŒ_t
)
vÝ_ebadf
)

	)

847 
	#VOP_ENOTTY
 ((*)(
ušŒ_t
)
vÝ_’Ùty
)

	)

848 
	#VOP_EINVAL
 ((*)(
ušŒ_t
)
vÝ_ešv®
)

	)

849 
	#VOP_ENOENT
 ((*)(
ušŒ_t
)
vÝ_’ÛÁ
)

	)

850 
	#VOP_EOPNOTSUPP
 ((*)(
ušŒ_t
)
vÝ_eÝnÙsuµ
)

	)

853 
fifo_´štšfo
(
vnode
 *);

856 
	tvfs_hash_cmp_t
(
	tvnode
 *
	tvp
, *
	t¬g
);

858 
vfs_hash_chªgesize
(
Ãwhashsize
);

859 
vfs_hash_g‘
(cÚ¡ 
mouÁ
 *
mp
, 
u_št
 
hash
, 
æags
,

860 
th»ad
 *
td
, 
vnode
 **
vµ
, 
vfs_hash_cmp_t
 *
â
, *
¬g
);

861 
u_št
 
vfs_hash_šdex
(
vnode
 *
vp
);

862 
vfs_hash_š£¹
(
vnode
 *
vp
, 
u_št
 
hash
, 
æags
, 
th»ad
 *
td
,

863 
vnode
 **
vµ
, 
vfs_hash_cmp_t
 *
â
, *
¬g
);

864 
vfs_hash_»f
(cÚ¡ 
mouÁ
 *
mp
, 
u_št
 
hash
, 
th»ad
 *
td
,

865 
vnode
 **
vµ
, 
vfs_hash_cmp_t
 *
â
, *
¬g
);

866 
vfs_hash_»hash
(
vnode
 *
vp
, 
u_št
 
hash
);

867 
vfs_hash_»move
(
vnode
 *
vp
);

869 
vfs_kqfž‹r
(
vÝ_kqfž‹r_¬gs
 *);

870 
vfs_m¬k_©ime
(
vnode
 *
vp
, 
uüed
 *
üed
);

871 
	gdœ’t
;

872 
vfs_»ad_dœ’t
(
vÝ_»addœ_¬gs
 *
­
, 
dœ’t
 *
dp
, 
off_t
 
off
);

874 
vfs_unixify_accmode
(
accmode_t
 *
accmode
);

876 
vfs_uÅ_»þaim
(
vnode
 *
vp
);

878 
£tfmode
(
th»ad
 *
td
, 
uüed
 *
üed
, 
vnode
 *
vp
, 
mode
);

879 
£tfown
(
th»ad
 *
td
, 
uüed
 *
üed
, 
vnode
 *
vp
, 
uid_t
 
uid
,

880 
gid_t
 
gid
);

881 
vn_chmod
(
fže
 *
å
, 
mode_t
 
mode
, 
uüed
 *
aùive_üed
,

882 
th»ad
 *
td
);

883 
vn_chown
(
fže
 *
å
, 
uid_t
 
uid
, 
gid_t
 
gid
, 
uüed
 *
aùive_üed
,

884 
th»ad
 *
td
);

886 
vn_fsid
(
vnode
 *
vp
, 
v©Œ
 *
va
);

	@/usr/include/vm/_vm_radix.h

33 #iâdeà
__VM_RADIX_H_


34 
	#__VM_RADIX_H_


	)

39 
	svm_¿dix
 {

40 
ušŒ_t
 
	m¹_roÙ
;

	@/usr/include/vm/pmap.h

70 #iâdef 
_PMAP_VM_


71 
	#_PMAP_VM_


	)

78 
	spm­_¡©i¡ics
 {

79 
	m»sid’t_couÁ
;

80 
	mwœed_couÁ
;

82 
pm­_¡©i¡ics
 *
	tpm­_¡©i¡ics_t
;

92 
	~<machše/pm­.h
>

94 #ifdeà
_KERNEL


95 
	gth»ad
;

100 
vm_off£t_t
 
k”Ãl_vm_’d
;

107 
	#PMAP_ENTER_NOSLEEP
 0x00000100

	)

108 
	#PMAP_ENTER_WIRED
 0x00000200

	)

109 
	#PMAP_ENTER_RESERVED
 0xFF000000

	)

119 
	#PMAP_TS_REFERENCED_MAX
 5

	)

121 
pm­_aùiv©e
(
th»ad
 *
td
);

122 
pm­_advi£
(
pm­_t
 
pm­
, 
vm_off£t_t
 
sva
, vm_off£t_ˆ
eva
,

123 
adviû
);

124 
pm­_®ign_su³½age
(
vm_objeù_t
, 
vm_ooff£t_t
, 
vm_off£t_t
 *,

125 
vm_size_t
);

126 
pm­_þ—r_modify
(
vm_·ge_t
 
m
);

127 
pm­_cÝy
(
pm­_t
,…m­_t, 
vm_off£t_t
, 
vm_size_t
, vm_offset_t);

128 
pm­_cÝy_·ge
(
vm_·ge_t
, vm_page_t);

129 
pm­_cÝy_·ges
(
vm_·ge_t
 
ma
[], 
vm_off£t_t
 
a_off£t
,

130 
vm_·ge_t
 
mb
[], 
vm_off£t_t
 
b_off£t
, 
xãrsize
);

131 
pm­_’‹r
(
pm­_t
 
pm­
, 
vm_off£t_t
 
va
, 
vm_·ge_t
 
m
,

132 
vm_´Ù_t
 
´Ù
, 
u_št
 
æags
, 
št8_t
 
psšd
);

133 
pm­_’‹r_objeù
(
pm­_t
 
pm­
, 
vm_off£t_t
 
¡¬t
,

134 
vm_off£t_t
 
’d
, 
vm_·ge_t
 
m_¡¬t
, 
vm_´Ù_t
 
´Ù
);

135 
pm­_’‹r_quick
(
pm­_t
 
pm­
, 
vm_off£t_t
 
va
, 
vm_·ge_t
 
m
,

136 
vm_´Ù_t
 
´Ù
);

137 
vm_·ddr_t
 
pm­_exŒaù
(
pm­_t
 
pm­
, 
vm_off£t_t
 
va
);

138 
vm_·ge_t
 
pm­_exŒaù_ªd_hÞd
(
pm­_t
 
pm­
, 
vm_off£t_t
 
va
,

139 
vm_´Ù_t
 
´Ù
);

140 
pm­_growk”Ãl
(
vm_off£t_t
);

141 
pm­_š™
();

142 
boÞ—n_t
 
pm­_is_modif›d
(
vm_·ge_t
 
m
);

143 
boÞ—n_t
 
pm­_is_´eçuÉabË
(
pm­_t
 
pm­
, 
vm_off£t_t
 
va
);

144 
boÞ—n_t
 
pm­_is_»ã»nûd
(
vm_·ge_t
 
m
);

145 
boÞ—n_t
 
pm­_is_v®id_mem©Œ
(
pm­_t
, 
vm_mem©Œ_t
);

146 
vm_off£t_t
 
pm­_m­
(vm_off£t_ˆ*, 
vm_·ddr_t
, vm_paddr_t, );

147 
pm­_mšcÜe
(
pm­_t
 
pm­
, 
vm_off£t_t
 
addr
,

148 
vm_·ddr_t
 *
locked_·
);

149 
pm­_objeù_š™_±
(
pm­_t
 
pm­
, 
vm_off£t_t
 
addr
,

150 
vm_objeù_t
 
objeù
, 
vm_pšdex_t
 
pšdex
, 
vm_size_t
 
size
);

151 
boÞ—n_t
 
pm­_·ge_exi¡s_quick
(
pm­_t
 
pm­
, 
vm_·ge_t
 
m
);

152 
pm­_·ge_š™
(
vm_·ge_t
 
m
);

153 
pm­_·ge_wœed_m­pšgs
(
vm_·ge_t
 
m
);

154 
pm­_pš™
(
pm­_t
);

155 
pm­_pš™0
(
pm­_t
);

156 
pm­_´Ùeù
(
pm­_t
, 
vm_off£t_t
, vm_off£t_t, 
vm_´Ù_t
);

157 
pm­_q’‹r
(
vm_off£t_t
, 
vm_·ge_t
 *, );

158 
pm­_q»move
(
vm_off£t_t
, );

159 
vm_off£t_t
 
pm­_quick_’‹r_·ge
(
vm_·ge_t
);

160 
pm­_quick_»move_·ge
(
vm_off£t_t
);

161 
pm­_»Ëa£
(
pm­_t
);

162 
pm­_»move
(
pm­_t
, 
vm_off£t_t
, vm_offset_t);

163 
pm­_»move_®l
(
vm_·ge_t
 
m
);

164 
pm­_»move_·ges
(
pm­_t
);

165 
pm­_»move_wr™e
(
vm_·ge_t
 
m
);

166 
pm­_sync_iÿche
(
pm­_t
, 
vm_off£t_t
, 
vm_size_t
);

167 
boÞ—n_t
 
pm­_ts_»ã»nûd
(
vm_·ge_t
 
m
);

168 
pm­_unwœe
(
pm­_t
 
pm­
, 
vm_off£t_t
 
¡¬t
, vm_off£t_ˆ
’d
);

169 
pm­_z”o_·ge
(
vm_·ge_t
);

170 
pm­_z”o_·ge_¬—
(
vm_·ge_t
, 
off
, 
size
);

172 
	#pm­_»sid’t_couÁ
(
pm
è(Õm)->
pm_¡©s
.
»sid’t_couÁ
)

	)

173 
	#pm­_wœed_couÁ
(
pm
è(Õm)->
pm_¡©s
.
wœed_couÁ
)

	)

	@/usr/include/vm/uma.h

38 #iâdeà
_VM_UMA_H_


39 
	#_VM_UMA_H_


	)

41 
	~<sys/·¿m.h
>

42 
	~<sys/m®loc.h
>

45 
	#UMA_SMALLEST_UNIT
 (
PAGE_SIZE
 / 256è

	)

49 
	guma_zÚe
;

51 
uma_zÚe
 * 
	tuma_zÚe_t
;

53 
zÚe_d¿š
(
uma_zÚe_t
);

72 (*
	tuma_ùÜ
)(*
	tmem
, 
	tsize
, *
	t¬g
, 
	tæags
);

90 (*
	tuma_dtÜ
)(*
	tmem
, 
	tsize
, *
	t¬g
);

109 (*
	tuma_š™
)(*
	tmem
, 
	tsize
, 
	tæags
);

126 (*
	tuma_fši
)(*
	tmem
, 
	tsize
);

131 (*
	tuma_impÜt
)(*
	t¬g
, **
	t¡Üe
, 
	tcouÁ
, 
	tdomaš
,

132 
	tæags
);

137 (*
	tuma_»Ëa£
)(*
	t¬g
, **
	t¡Üe
, 
	tcouÁ
);

181 
uma_zÚe_t
 
	`uma_zü—‹
(cÚ¡ *
Çme
, 
size_t
 
size
, 
uma_ùÜ
 
ùÜ
,

182 
uma_dtÜ
 
dtÜ
, 
uma_š™
 
umš™
, 
uma_fši
 
fši
,

183 
®ign
, 
ušt32_t
 
æags
);

217 
uma_zÚe_t
 
	`uma_z£cÚd_ü—‹
(*
Çme
, 
uma_ùÜ
 
ùÜ
, 
uma_dtÜ
 
dtÜ
,

218 
uma_š™
 
zš™
, 
uma_fši
 
zfši
, 
uma_zÚe_t
 
ma¡”
);

229 
	`uma_z£cÚd_add
(
uma_zÚe_t
 
zÚe
, uma_zÚe_ˆ
ma¡”
);

240 
uma_zÚe_t
 
	`uma_zÿche_ü—‹
(*
Çme
, 
size
, 
uma_ùÜ
 
ùÜ
, 
uma_dtÜ
 
dtÜ
,

241 
uma_š™
 
zš™
, 
uma_fši
 
zfši
, 
uma_impÜt
 
zimpÜt
,

242 
uma_»Ëa£
 
z»Ëa£
, *
¬g
, 
æags
);

250 
	#UMA_ZONE_PAGEABLE
 0x0001

	)

252 
	#UMA_ZONE_ZINIT
 0x0002

	)

253 
	#UMA_ZONE_STATIC
 0x0004

	)

254 
	#UMA_ZONE_OFFPAGE
 0x0008

	)

256 
	#UMA_ZONE_MALLOC
 0x0010

	)

257 
	#UMA_ZONE_NOFREE
 0x0020

	)

258 
	#UMA_ZONE_MTXCLASS
 0x0040

	)

259 
	#UMA_ZONE_VM
 0x0080

	)

263 
	#UMA_ZONE_HASH
 0x0100

	)

267 
	#UMA_ZONE_SECONDARY
 0x0200

	)

268 
	#UMA_ZONE_NOBUCKET
 0x0400

	)

269 
	#UMA_ZONE_MAXBUCKET
 0x0800

	)

270 
	#UMA_ZONE_CACHESPREAD
 0x1000

	)

276 
	#UMA_ZONE_VTOSLAB
 0x2000

	)

277 
	#UMA_ZONE_NODUMP
 0x4000

	)

281 
	#UMA_ZONE_PCPU
 0x8000

	)

284 
	#UMA_ZONE_NUMA
 0x10000

	)

288 
	#UMA_ZONE_NOBUCKETCACHE
 0x20000

	)

298 
	#UMA_ZONE_INHERIT
 \

299 (
UMA_ZONE_OFFPAGE
 | 
UMA_ZONE_MALLOC
 | 
UMA_ZONE_NOFREE
 | \

300 
UMA_ZONE_HASH
 | 
UMA_ZONE_VTOSLAB
 | 
UMA_ZONE_PCPU
)

	)

303 
	#UMA_ALIGN_PTR
 ((*è- 1è

	)

304 
	#UMA_ALIGN_LONG
 ((è- 1è

	)

305 
	#UMA_ALIGN_INT
 ((è- 1è

	)

306 
	#UMA_ALIGN_SHORT
 ((è- 1è

	)

307 
	#UMA_ALIGN_CHAR
 ((è- 1è

	)

308 
	#UMA_ALIGN_CACHE
 (0 - 1è

	)

309 
	#UMA_ALIGNOF
(
ty³
è(
	`_Alignof
Ñy³è- 1è

	)

318 
	`uma_zde¡roy
(
uma_zÚe_t
 
zÚe
);

334 *
	`uma_z®loc_¬g
(
uma_zÚe_t
 
zÚe
, *
¬g
, 
æags
);

335 *
	`uma_z®loc_pýu_¬g
(
uma_zÚe_t
 
zÚe
, *
¬g
, 
æags
);

348 *
	`uma_z®loc_domaš
(
uma_zÚe_t
 
zÚe
, *
¬g
, 
domaš
, 
æags
);

356 
__šlše
 *
	`uma_z®loc
(
uma_zÚe_t
 
zÚe
, 
æags
);

357 
__šlše
 *
	`uma_z®loc_pýu
(
uma_zÚe_t
 
zÚe
, 
æags
);

359 
__šlše
 *

360 
	$uma_z®loc
(
uma_zÚe_t
 
zÚe
, 
æags
)

362  
	`uma_z®loc_¬g
(
zÚe
, 
NULL
, 
æags
);

363 
	}
}

365 
__šlše
 *

366 
	$uma_z®loc_pýu
(
uma_zÚe_t
 
zÚe
, 
æags
)

368  
	`uma_z®loc_pýu_¬g
(
zÚe
, 
NULL
, 
æags
);

369 
	}
}

383 
uma_zä“_¬g
(
uma_zÚe_t
 
zÚe
, *
™em
, *
¬g
);

384 
uma_zä“_pýu_¬g
(
uma_zÚe_t
 
zÚe
, *
™em
, *
¬g
);

394 
uma_zä“_domaš
(
uma_zÚe_t
 
zÚe
, *
™em
, *
¬g
);

402 
__šlše
 
uma_zä“
(
uma_zÚe_t
 
zÚe
, *
™em
);

403 
__šlše
 
uma_zä“_pýu
(
uma_zÚe_t
 
zÚe
, *
™em
);

405 
__šlše
 

406 
	$uma_zä“
(
uma_zÚe_t
 
zÚe
, *
™em
)

408 
	`uma_zä“_¬g
(
zÚe
, 
™em
, 
NULL
);

409 
	}
}

411 
__šlše
 

412 
	$uma_zä“_pýu
(
uma_zÚe_t
 
zÚe
, *
™em
)

414 
	`uma_zä“_pýu_¬g
(
zÚe
, 
™em
, 
NULL
);

415 
	}
}

420 
uma_zwa™
(
uma_zÚe_t
 
zÚe
);

436 *(*
	tuma_®loc
)(
	tuma_zÚe_t
 
	tzÚe
, 
	tvm_size_t
 
	tsize
, 
	tdomaš
,

437 
	tušt8_t
 *
	tpæag
, 
	twa™
);

450 (*
	tuma_ä“
)(*
	t™em
, 
	tvm_size_t
 
	tsize
, 
	tušt8_t
 
	tpæag
);

463 
	`uma_»þaim
();

475 
	`uma_£t_®ign
(
®ign
);

481 
	`uma_zÚe_»£rve
(
uma_zÚe_t
 
zÚe
, 
n™ems
);

500 
	`uma_zÚe_»£rve_kva
(
uma_zÚe_t
 
zÚe
, 
n™ems
);

512 
	`uma_zÚe_£t_max
(
uma_zÚe_t
 
zÚe
, 
n™ems
);

524 
	`uma_zÚe_g‘_max
(
uma_zÚe_t
 
zÚe
);

536 
	`uma_zÚe_£t_w¬nšg
(
uma_zÚe_t
 
zÚe
, cÚ¡ *
w¬nšg
);

548 (*
	tuma_maxaùiÚ_t
)(
	tuma_zÚe_t
, );

549 
	`uma_zÚe_£t_maxaùiÚ
(
uma_zÚe_t
 
zÚe
, 
uma_maxaùiÚ_t
);

560 
	`uma_zÚe_g‘_cur
(
uma_zÚe_t
 
zÚe
);

570 
	`uma_zÚe_£t_š™
(
uma_zÚe_t
 
zÚe
, 
uma_š™
 
umš™
);

571 
	`uma_zÚe_£t_fši
(
uma_zÚe_t
 
zÚe
, 
uma_fši
 
fši
);

581 
	`uma_zÚe_£t_zš™
(
uma_zÚe_t
 
zÚe
, 
uma_š™
 
zš™
);

582 
	`uma_zÚe_£t_zfši
(
uma_zÚe_t
 
zÚe
, 
uma_fši
 
zfši
);

600 
	`uma_zÚe_£t_®locf
(
uma_zÚe_t
 
zÚe
, 
uma_®loc
 
®locf
);

613 
	`uma_zÚe_£t_ä“f
(
uma_zÚe_t
 
zÚe
, 
uma_ä“
 
ä“f
);

618 
	#UMA_SLAB_BOOT
 0x01

	)

619 
	#UMA_SLAB_KERNEL
 0x04

	)

620 
	#UMA_SLAB_PRIV
 0x08

	)

621 
	#UMA_SLAB_OFFP
 0x10

	)

622 
	#UMA_SLAB_MALLOC
 0x20

	)

637 
	`uma_´—Îoc
(
uma_zÚe_t
 
zÚe
, 
™emút
);

648 
	`uma_zÚe_exhau¡ed
(
uma_zÚe_t
 
zÚe
);

649 
	`uma_zÚe_exhau¡ed_nÞock
(
uma_zÚe_t
 
zÚe
);

654 
uma_zÚe_t
 
pýu_zÚe_64
;

655 
uma_zÚe_t
 
pýu_zÚe_±r
;

662 
	#UMA_STREAM_VERSION
 0x00000001

	)

663 
	suma_¡»am_h—d”
 {

664 
ušt32_t
 
ush_v”siÚ
;

665 
ušt32_t
 
ush_maxýus
;

666 
ušt32_t
 
ush_couÁ
;

667 
ušt32_t
 
_ush_·d
;

670 
	#UTH_MAX_NAME
 32

	)

671 
	#UTH_ZONE_SECONDARY
 0x00000001

	)

672 
	suma_ty³_h—d”
 {

676 
uth_Çme
[
UTH_MAX_NAME
];

677 
ušt32_t
 
uth_®ign
;

678 
ušt32_t
 
uth_size
;

679 
ušt32_t
 
uth_rsize
;

680 
ušt32_t
 
uth_max·ges
;

681 
ušt32_t
 
uth_lim™
;

686 
ušt32_t
 
uth_·ges
;

687 
ušt32_t
 
uth_keg_ä“
;

688 
ušt32_t
 
uth_zÚe_ä“
;

689 
ušt32_t
 
uth_buck‘size
;

690 
ušt32_t
 
uth_zÚe_æags
;

691 
ušt64_t
 
uth_®locs
;

692 
ušt64_t
 
uth_ä“s
;

693 
ušt64_t
 
uth_çžs
;

694 
ušt64_t
 
uth_¦“ps
;

695 
ušt64_t
 
_uth_»£rved1
[2];

698 
	suma_³rýu_¡©
 {

699 
ušt64_t
 
ups_®locs
;

700 
ušt64_t
 
ups_ä“s
;

701 
ušt64_t
 
ups_ÿche_ä“
;

702 
ušt64_t
 
_ups_»£rved
[5];

705 
	`uma_»þaim_wakeup
();

706 
	`uma_»þaim_wÜk”
(*);

708 
	`uma_lim™
();

711 
	`uma_size
();

714 
	`uma_avaž
();

	@/usr/include/vm/vm.h

63 #iâdeà
VM_H


64 
	#VM_H


	)

66 
	~<machše/vm.h
>

68 
	tvm_šh”™_t
;

70 
	#VM_INHERIT_SHARE
 ((
vm_šh”™_t
è0)

	)

71 
	#VM_INHERIT_COPY
 ((
vm_šh”™_t
è1)

	)

72 
	#VM_INHERIT_NONE
 ((
vm_šh”™_t
è2)

	)

73 
	#VM_INHERIT_ZERO
 ((
vm_šh”™_t
è3)

	)

74 
	#VM_INHERIT_DEFAULT
 
VM_INHERIT_COPY


	)

76 
u_ch¬
 
	tvm_´Ù_t
;

78 
	#VM_PROT_NONE
 ((
vm_´Ù_t
è0x00)

	)

79 
	#VM_PROT_READ
 ((
vm_´Ù_t
è0x01)

	)

80 
	#VM_PROT_WRITE
 ((
vm_´Ù_t
è0x02)

	)

81 
	#VM_PROT_EXECUTE
 ((
vm_´Ù_t
è0x04)

	)

82 
	#VM_PROT_COPY
 ((
vm_´Ù_t
è0x08è

	)

83 
	#VM_PROT_PRIV_FLAG
 ((
vm_´Ù_t
è0x10)

	)

84 
	#VM_PROT_FAULT_LOOKUP
 
VM_PROT_PRIV_FLAG


	)

85 
	#VM_PROT_QUICK_NOFAULT
 
VM_PROT_PRIV_FLAG


	)

87 
	#VM_PROT_ALL
 (
VM_PROT_READ
|
VM_PROT_WRITE
|
VM_PROT_EXECUTE
)

	)

88 
	#VM_PROT_RW
 (
VM_PROT_READ
|
VM_PROT_WRITE
)

	)

89 
	#VM_PROT_DEFAULT
 
VM_PROT_ALL


	)

91 
	eobj_ty³
 { 
	mOBJT_DEFAULT
, 
	mOBJT_SWAP
, 
	mOBJT_VNODE
, 
	mOBJT_DEVICE
, 
	mOBJT_PHYS
,

92 
	mOBJT_DEAD
, 
	mOBJT_SG
, 
	mOBJT_MGTDEVICE
 };

93 
u_ch¬
 
	tobjty³_t
;

95 
	gvm_m­_objeù
;

96 
vm_m­_objeù
 
	tvm_m­_objeù_t
;

98 
	gvm_m­_’Œy
;

99 
vm_m­_’Œy
 *
	tvm_m­_’Œy_t
;

101 
	gvm_m­
;

102 
vm_m­
 *
	tvm_m­_t
;

104 
	gvm_objeù
;

105 
vm_objeù
 *
	tvm_objeù_t
;

107 #iâdeà
_KERNEL


115 
	tboÞ—n_t
;

122 
	tvm_mem©Œ_t
;

128 
	gvm_·ge
;

129 
vm_·ge
 *
	tvm_·ge_t
;

132 
	gvm_»£rv
;

133 
vm_»£rv
 *
	tvm_»£rv_t
;

139 
	skva_md_šfo
 {

140 
vm_off£t_t
 
	mbufãr_sva
;

141 
vm_off£t_t
 
	mbufãr_eva
;

142 
vm_off£t_t
 
	mþ—n_sva
;

143 
vm_off£t_t
 
	mþ—n_eva
;

146 
kva_md_šfo
 
kmi
;

147 
vm_ksubm­_š™
(
kva_md_šfo
 *);

149 
Þd_mlock
;

151 
vm_ndomašs
;

153 
	guüed
;

154 
sw­_»£rve
(
vm_ooff£t_t
 
šü
);

155 
sw­_»£rve_by_üed
(
vm_ooff£t_t
 
šü
, 
uüed
 *
üed
);

156 
sw­_»£rve_fÜû
(
vm_ooff£t_t
 
šü
);

157 
sw­_»Ëa£
(
vm_ooff£t_t
 
deü
);

158 
sw­_»Ëa£_by_üed
(
vm_ooff£t_t
 
deü
, 
uüed
 *
üed
);

159 
sw­³r
();

	@/usr/include/vm/vm_extern.h

35 #iâdeà
_VM_EXTERN_H_


36 
	#_VM_EXTERN_H_


	)

38 
	gpm­
;

39 
	g´oc
;

40 
	gvm¥aû
;

41 
	gvnode
;

42 
	gvmem
;

44 #ifdeà
_KERNEL


45 
	gcdev
;

46 
	gcdevsw
;

47 
	gdomaš£t
;

50 
vm_off£t_t
 
kva_®loc
(
vm_size_t
);

51 
kva_ä“
(
vm_off£t_t
, 
vm_size_t
);

54 
vm_off£t_t
 
km­_®loc_wa™
(
vm_m­_t
, 
vm_size_t
);

55 
km­_ä“_wakeup
(
vm_m­_t
, 
vm_off£t_t
, 
vm_size_t
);

58 
vm_off£t_t
 
kmem_®loc_©Œ
(
vm_size_t
 
size
, 
æags
,

59 
vm_·ddr_t
 
low
, vm_·ddr_ˆ
high
, 
vm_mem©Œ_t
 
mem©Œ
);

60 
vm_off£t_t
 
kmem_®loc_©Œ_domaš£t
(
domaš£t
 *
ds
, 
vm_size_t
 
size
,

61 
æags
, 
vm_·ddr_t
 
low
, vm_·ddr_ˆ
high
, 
vm_mem©Œ_t
 
mem©Œ
);

62 
vm_off£t_t
 
kmem_®loc_cÚtig
(
vm_size_t
 
size
, 
æags
,

63 
vm_·ddr_t
 
low
, vm_·ddr_ˆ
high
, 
u_lÚg
 
®ignm’t
, vm_·ddr_ˆ
bound¬y
,

64 
vm_mem©Œ_t
 
mem©Œ
);

65 
vm_off£t_t
 
kmem_®loc_cÚtig_domaš£t
(
domaš£t
 *
ds
, 
vm_size_t
 
size
,

66 
æags
, 
vm_·ddr_t
 
low
, vm_·ddr_ˆ
high
, 
u_lÚg
 
®ignm’t
,

67 
vm_·ddr_t
 
bound¬y
, 
vm_mem©Œ_t
 
mem©Œ
);

68 
vm_off£t_t
 
kmem_m®loc
(
vm_size_t
 
size
, 
æags
);

69 
vm_off£t_t
 
kmem_m®loc_domaš£t
(
domaš£t
 *
ds
, 
vm_size_t
 
size
,

70 
æags
);

71 
kmem_ä“
(
vm_off£t_t
 
addr
, 
vm_size_t
 
size
);

74 
kmem_back
(
vm_objeù_t
, 
vm_off£t_t
, 
vm_size_t
, );

75 
kmem_back_domaš
(, 
vm_objeù_t
, 
vm_off£t_t
, 
vm_size_t
, );

76 
kmem_unback
(
vm_objeù_t
, 
vm_off£t_t
, 
vm_size_t
);

79 
kmem_boÙ¡¿p_ä“
(
vm_off£t_t
, 
vm_size_t
);

80 
vm_m­_t
 
kmem_sub®loc
(vm_m­_t, 
vm_off£t_t
 *, vm_off£t_ˆ*, 
vm_size_t
,

81 
boÞ—n_t
);

82 
kmem_š™
(
vm_off£t_t
, vm_offset_t);

83 
kmem_š™_z”o_»giÚ
();

84 
kmemš™
();

86 
k”Çcc
(*, , );

87 
u£¿cc
(*, , );

88 
vm_çuÉ
(
vm_m­_t
, 
vm_off£t_t
, 
vm_´Ù_t
, );

89 
vm_çuÉ_cÝy_’Œy
(
vm_m­_t
, vm_m­_t, 
vm_m­_’Œy_t
, vm_map_entry_t,

90 
vm_ooff£t_t
 *);

91 
vm_çuÉ_di§bË_·geçuÉs
();

92 
vm_çuÉ_’abË_·geçuÉs
(
§ve
);

93 
vm_çuÉ_hÞd
(
vm_m­_t
 
m­
, 
vm_off£t_t
 
vaddr
, 
vm_´Ù_t
 
çuÉ_ty³
,

94 
çuÉ_æags
, 
vm_·ge_t
 *
m_hÞd
);

95 
vm_çuÉ_quick_hÞd_·ges
(
vm_m­_t
 
m­
, 
vm_off£t_t
 
addr
, 
vm_size_t
 
Ën
,

96 
vm_´Ù_t
 
´Ù
, 
vm_·ge_t
 *
ma
, 
max_couÁ
);

97 
vm_fÜk´oc
(
th»ad
 *, 
´oc
 *, thread *,

98 
vm¥aû
 *, );

99 
vm_wa™´oc
(
´oc
 *);

100 
vm_mm­
(
vm_m­_t
, 
vm_off£t_t
 *, 
vm_size_t
, 
vm_´Ù_t
, vm_prot_t, ,

101 
objty³_t
, *, 
vm_ooff£t_t
);

102 
vm_mm­_objeù
(
vm_m­_t
, 
vm_off£t_t
 *, 
vm_size_t
, 
vm_´Ù_t
,

103 
vm_´Ù_t
, , 
vm_objeù_t
, 
vm_ooff£t_t
, 
boÞ—n_t
, 
th»ad
 *);

104 
vm_mm­_to_”ºo
(
rv
);

105 
vm_mm­_cdev
(
th»ad
 *, 
vm_size_t
, 
vm_´Ù_t
, vm_prot_t *,

106 *, 
cdev
 *, 
cdevsw
 *, 
vm_ooff£t_t
 *, 
vm_objeù_t
 *);

107 
vm_mm­_vnode
(
th»ad
 *, 
vm_size_t
, 
vm_´Ù_t
, vm_prot_t *, *,

108 
vnode
 *, 
vm_ooff£t_t
 *, 
vm_objeù_t
 *, 
boÞ—n_t
 *);

109 
vm_£t_·ge_size
();

110 
vm_sync_iÿche
(
vm_m­_t
, 
vm_off£t_t
, 
vm_size_t
);

111 (*
	tpm­_pš™_t
)(
	tpm­
 *pmap);

112 
vm¥aû
 *
	`vm¥aû_®loc
(
vm_off£t_t
, vm_off£t_t, 
pm­_pš™_t
);

113 
vm¥aû
 *
	`vm¥aû_fÜk
(vm¥aû *, 
vm_ooff£t_t
 *);

114 
	`vm¥aû_exec
(
´oc
 *, 
vm_off£t_t
, vm_offset_t);

115 
	`vm¥aû_unsh¬e
(
´oc
 *);

116 
	`vm¥aû_ex™
(
th»ad
 *);

117 
vm¥aû
 *
	`vm¥aû_acquœe_»f
(
´oc
 *);

118 
	`vm¥aû_ä“
(
vm¥aû
 *);

119 
	`vm¥aû_ex™ä“
(
´oc
 *);

120 
	`vm¥aû_sw™ch_aio
(
vm¥aû
 *);

121 
	`vnode_·g”_£tsize
(
vnode
 *, 
vm_ooff£t_t
);

122 
	`v¦ock
(*, 
size_t
);

123 
	`vsuÆock
(*, 
size_t
);

124 
sf_buf
 *
	`vm_imgaù_m­_·ge
(
vm_objeù_t
 
objeù
, 
vm_ooff£t_t
 
off£t
);

125 
	`vm_imgaù_unm­_·ge
(
sf_buf
 *
sf
);

126 
	`vm_th»ad_di¥o£
(
th»ad
 *
td
);

127 
	`vm_th»ad_Ãw
(
th»ad
 *
td
, 
·ges
);

128 
u_št
 
	`vm_aùive_couÁ
();

129 
u_št
 
	`vm_šaùive_couÁ
();

130 
u_št
 
	`vm_Ïundry_couÁ
();

131 
u_št
 
	`vm_wa™_couÁ
();

	@/usr/include/vm/vm_kern.h

65 #iâdeà
_VM_VM_KERN_H_


66 
	#_VM_VM_KERN_H_


	)

69 
vm_m­_t
 
k”Ãl_m­
;

70 
vm_m­_t
 
exec_m­
;

71 
vm_m­_t
 
pe_m­
;

72 
vmem
 *
k”Ãl_¬’a
;

73 
vmem
 *
kmem_¬’a
;

74 
vmem
 *
bufãr_¬’a
;

75 
vmem
 *
Œªs›Á_¬’a
;

76 
vmem
 *
memgu¬d_¬’a
;

77 
vm_off£t_t
 
sw­bkva
;

78 
u_lÚg
 
vm_kmem_size
;

79 
u_št
 
exec_m­_’Œ›s
;

80 
u_št
 
exec_m­_’Œy_size
;

	@/usr/include/vm/vm_map.h

68 #iâdef 
_VM_MAP_


69 
	#_VM_MAP_


	)

71 
	~<sys/lock.h
>

72 
	~<sys/sx.h
>

73 
	~<sys/_mu‹x.h
>

82 
u_ch¬
 
	tvm_æags_t
;

83 
u_št
 
	tvm_eæags_t
;

90 
	uvm_m­_objeù
 {

91 
vm_objeù
 *
	mvm_objeù
;

92 
vm_m­
 *
	msub_m­
;

101 
	svm_m­_’Œy
 {

102 
vm_m­_’Œy
 *
	m´ev
;

103 
vm_m­_’Œy
 *
	mÃxt
;

104 
vm_m­_’Œy
 *
	mËá
;

105 
vm_m­_’Œy
 *
	mright
;

106 
vm_off£t_t
 
	m¡¬t
;

107 
vm_off£t_t
 
	m’d
;

108 
vm_off£t_t
 
	mÃxt_»ad
;

109 
vm_size_t
 
	madj_ä“
;

110 
vm_size_t
 
	mmax_ä“
;

111 
vm_m­_objeù
 
	mobjeù
;

112 
vm_ooff£t_t
 
	moff£t
;

113 
vm_eæags_t
 
	meæags
;

114 
vm_´Ù_t
 
	m´ÙeùiÚ
;

115 
vm_´Ù_t
 
	mmax_´ÙeùiÚ
;

116 
vm_šh”™_t
 
	mšh”™ªû
;

117 
ušt8_t
 
	m»ad_ah—d
;

118 
	mwœed_couÁ
;

119 
uüed
 *
	müed
;

120 
th»ad
 *
	mwœšg_th»ad
;

123 
	#MAP_ENTRY_NOSYNC
 0x0001

	)

124 
	#MAP_ENTRY_IS_SUB_MAP
 0x0002

	)

125 
	#MAP_ENTRY_COW
 0x0004

	)

126 
	#MAP_ENTRY_NEEDS_COPY
 0x0008

	)

127 
	#MAP_ENTRY_NOFAULT
 0x0010

	)

128 
	#MAP_ENTRY_USER_WIRED
 0x0020

	)

130 
	#MAP_ENTRY_BEHAV_NORMAL
 0x0000

	)

131 
	#MAP_ENTRY_BEHAV_SEQUENTIAL
 0x0040

	)

132 
	#MAP_ENTRY_BEHAV_RANDOM
 0x0080

	)

133 
	#MAP_ENTRY_BEHAV_RESERVED
 0x00C0

	)

135 
	#MAP_ENTRY_BEHAV_MASK
 0x00C0

	)

137 
	#MAP_ENTRY_IN_TRANSITION
 0x0100

	)

138 
	#MAP_ENTRY_NEEDS_WAKEUP
 0x0200

	)

139 
	#MAP_ENTRY_NOCOREDUMP
 0x0400

	)

141 
	#MAP_ENTRY_GROWS_DOWN
 0x1000

	)

142 
	#MAP_ENTRY_GROWS_UP
 0x2000

	)

144 
	#MAP_ENTRY_WIRE_SKIPPED
 0x4000

	)

145 
	#MAP_ENTRY_VN_WRITECNT
 0x8000

	)

146 
	#MAP_ENTRY_GUARD
 0x10000

	)

147 
	#MAP_ENTRY_STACK_GAP_DN
 0x20000

	)

148 
	#MAP_ENTRY_STACK_GAP_UP
 0x40000

	)

150 #ifdef 
_KERNEL


151 
__šlše
 
u_ch¬


152 
	$vm_m­_’Œy_behaviÜ
(
vm_m­_’Œy_t
 
’Œy
)

154  (
’Œy
->
eæags
 & 
MAP_ENTRY_BEHAV_MASK
);

155 
	}
}

157 
__šlše
 

158 
	$vm_m­_’Œy_u£r_wœed_couÁ
(
vm_m­_’Œy_t
 
’Œy
)

160 ià(
’Œy
->
eæags
 & 
MAP_ENTRY_USER_WIRED
)

163 
	}
}

165 
__šlše
 

166 
	$vm_m­_’Œy_sy¡em_wœed_couÁ
(
vm_m­_’Œy_t
 
’Œy
)

168  (
’Œy
->
wœed_couÁ
 - 
	`vm_m­_’Œy_u£r_wœed_couÁ
(entry));

169 
	}
}

190 
	svm_m­
 {

191 
vm_m­_’Œy
 
	mh—d”
;

196 
sx
 
	mlock
;

197 
mtx
 
	msy¡em_mtx
;

198 
	mÃÁr›s
;

199 
vm_size_t
 
	msize
;

200 
u_št
 
	mtime¡amp
;

201 
u_ch¬
 
	mÃeds_wakeup
;

202 
u_ch¬
 
	msy¡em_m­
;

203 
vm_æags_t
 
	mæags
;

204 
vm_m­_’Œy_t
 
	mroÙ
;

205 
pm­_t
 
	mpm­
;

206 
	mbusy
;

212 
	#MAP_WIREFUTURE
 0x01

	)

213 
	#MAP_BUSY_WAKEUP
 0x02

	)

215 #ifdef 
_KERNEL


216 #ià
defšed
(
KLD_MODULE
è&& !defšed(
KLD_TIED
)

217 
	#vm_m­_max
(
m­
è
	`vm_m­_max_KBI
((m­))

	)

218 
	#vm_m­_mš
(
m­
è
	`vm_m­_mš_KBI
((m­))

	)

219 
	#vm_m­_pm­
(
m­
è
	`vm_m­_pm­_KBI
((m­))

	)

221 
__šlše
 
vm_off£t_t


222 
	$vm_m­_max
(cÚ¡ 
vm_m­
 *
m­
)

225  (
m­
->
h—d”
.
¡¬t
);

226 
	}
}

228 
__šlše
 
vm_off£t_t


229 
	$vm_m­_mš
(cÚ¡ 
vm_m­
 *
m­
)

232  (
m­
->
h—d”
.
’d
);

233 
	}
}

235 
__šlše
 
pm­_t


236 
	$vm_m­_pm­
(
vm_m­_t
 
m­
)

238  (
m­
->
pm­
);

239 
	}
}

241 
__šlše
 

242 
	$vm_m­_modæags
(
vm_m­_t
 
m­
, 
vm_æags_t
 
£t
, vm_æags_ˆ
þ—r
)

244 
m­
->
æags
 = (m­->æag | 
£t
è& ~
þ—r
;

245 
	}
}

255 
	svm¥aû
 {

256 
vm_m­
 
	mvm_m­
;

257 
shmm­_¡©e
 *
	mvm_shm
;

258 
£gsz_t
 
	mvm_swrss
;

259 
£gsz_t
 
	mvm_tsize
;

260 
£gsz_t
 
	mvm_dsize
;

261 
£gsz_t
 
	mvm_ssize
;

262 
ÿddr_t
 
	mvm_ddr
;

263 
ÿddr_t
 
	mvm_daddr
;

264 
ÿddr_t
 
	mvm_max§ddr
;

265 vÞ©ž
	mvm_»fút
;

271 
pm­
 
	mvm_pm­
;

274 #ifdef 
_KERNEL


275 
__šlše
 
pm­_t


276 
	$vm¥aû_pm­
(
vm¥aû
 *vmspace)

278  &
vm¥aû
->
vm_pm­
;

279 
	}
}

282 #ifdef 
_KERNEL


293 
_vm_m­_lock
(
vm_m­_t
 
m­
, cÚ¡ *
fže
, 
lše
);

294 
_vm_m­_uÆock
(
vm_m­_t
 
m­
, cÚ¡ *
fže
, 
lše
);

295 
_vm_m­_uÆock_ªd_wa™
(
vm_m­_t
 
m­
, 
timo
, cÚ¡ *
fže
, 
lše
);

296 
_vm_m­_lock_»ad
(
vm_m­_t
 
m­
, cÚ¡ *
fže
, 
lše
);

297 
_vm_m­_uÆock_»ad
(
vm_m­_t
 
m­
, cÚ¡ *
fže
, 
lše
);

298 
_vm_m­_Œylock
(
vm_m­_t
 
m­
, cÚ¡ *
fže
, 
lše
);

299 
_vm_m­_Œylock_»ad
(
vm_m­_t
 
m­
, cÚ¡ *
fže
, 
lše
);

300 
_vm_m­_lock_upg¿de
(
vm_m­_t
 
m­
, cÚ¡ *
fže
, 
lše
);

301 
_vm_m­_lock_downg¿de
(
vm_m­_t
 
m­
, cÚ¡ *
fže
, 
lše
);

302 
vm_m­_locked
(
vm_m­_t
 
m­
);

303 
vm_m­_wakeup
(
vm_m­_t
 
m­
);

304 
vm_m­_busy
(
vm_m­_t
 
m­
);

305 
vm_m­_unbusy
(
vm_m­_t
 
m­
);

306 
vm_m­_wa™_busy
(
vm_m­_t
 
m­
);

307 
vm_off£t_t
 
vm_m­_max_KBI
(cÚ¡ 
vm_m­
 *
m­
);

308 
vm_off£t_t
 
vm_m­_mš_KBI
(cÚ¡ 
vm_m­
 *
m­
);

309 
pm­_t
 
vm_m­_pm­_KBI
(
vm_m­_t
 
m­
);

311 
	#vm_m­_lock
(
m­
è
	`_vm_m­_lock
(m­, 
LOCK_FILE
, 
LOCK_LINE
)

	)

312 
	#vm_m­_uÆock
(
m­
è
	`_vm_m­_uÆock
(m­, 
LOCK_FILE
, 
LOCK_LINE
)

	)

313 
	#vm_m­_uÆock_ªd_wa™
(
m­
, 
timo
) \

314 
	`_vm_m­_uÆock_ªd_wa™
(
m­
, 
timo
, 
LOCK_FILE
, 
LOCK_LINE
)

	)

315 
	#vm_m­_lock_»ad
(
m­
è
	`_vm_m­_lock_»ad
(m­, 
LOCK_FILE
, 
LOCK_LINE
)

	)

316 
	#vm_m­_uÆock_»ad
(
m­
è
	`_vm_m­_uÆock_»ad
(m­, 
LOCK_FILE
, 
LOCK_LINE
)

	)

317 
	#vm_m­_Œylock
(
m­
è
	`_vm_m­_Œylock
(m­, 
LOCK_FILE
, 
LOCK_LINE
)

	)

318 
	#vm_m­_Œylock_»ad
(
m­
) \

319 
	`_vm_m­_Œylock_»ad
(
m­
, 
LOCK_FILE
, 
LOCK_LINE
)

	)

320 
	#vm_m­_lock_upg¿de
(
m­
) \

321 
	`_vm_m­_lock_upg¿de
(
m­
, 
LOCK_FILE
, 
LOCK_LINE
)

	)

322 
	#vm_m­_lock_downg¿de
(
m­
) \

323 
	`_vm_m­_lock_downg¿de
(
m­
, 
LOCK_FILE
, 
LOCK_LINE
)

	)

325 
vm¥aû_»sid’t_couÁ
(
vm¥aû
 *vmspace);

330 
	#MAX_KMAP
 10

	)

335 
	#MAP_INHERIT_SHARE
 0x0001

	)

336 
	#MAP_COPY_ON_WRITE
 0x0002

	)

337 
	#MAP_NOFAULT
 0x0004

	)

338 
	#MAP_PREFAULT
 0x0008

	)

339 
	#MAP_PREFAULT_PARTIAL
 0x0010

	)

340 
	#MAP_DISABLE_SYNCER
 0x0020

	)

341 
	#MAP_CHECK_EXCL
 0x0040

	)

342 
	#MAP_CREATE_GUARD
 0x0080

	)

343 
	#MAP_DISABLE_COREDUMP
 0x0100

	)

344 
	#MAP_PREFAULT_MADVISE
 0x0200

	)

345 
	#MAP_VN_WRITECOUNT
 0x0400

	)

346 
	#MAP_STACK_GROWS_DOWN
 0x1000

	)

347 
	#MAP_STACK_GROWS_UP
 0x2000

	)

348 
	#MAP_ACC_CHARGED
 0x4000

	)

349 
	#MAP_ACC_NO_CHARGE
 0x8000

	)

350 
	#MAP_CREATE_STACK_GAP_UP
 0x10000

	)

351 
	#MAP_CREATE_STACK_GAP_DN
 0x20000

	)

356 
	#VM_FAULT_NORMAL
 0

	)

357 
	#VM_FAULT_WIRE
 1

	)

358 
	#VM_FAULT_DIRTY
 2

	)

364 
	#VM_FAULT_READ_AHEAD_MIN
 7

	)

365 
	#VM_FAULT_READ_AHEAD_INIT
 15

	)

366 
	#VM_FAULT_READ_AHEAD_MAX
 
	`mš
(
	`©Ý
(
MAXPHYS
è- 1, 
UINT8_MAX
)

	)

374 
	#VMFS_NO_SPACE
 0

	)

375 
	#VMFS_ANY_SPACE
 1

	)

376 
	#VMFS_OPTIMAL_SPACE
 2

	)

377 
	#VMFS_SUPER_SPACE
 3

	)

378 
	#VMFS_ALIGNED_SPACE
(
x
è((xè<< 8è

	)

383 
	#VM_MAP_WIRE_SYSTEM
 0

	)

384 
	#VM_MAP_WIRE_USER
 1

	)

386 
	#VM_MAP_WIRE_NOHOLES
 0

	)

387 
	#VM_MAP_WIRE_HOLESOK
 2

	)

389 
	#VM_MAP_WIRE_WRITE
 4

	)

391 #ifdeà
_KERNEL


392 
boÞ—n_t
 
vm_m­_check_´ÙeùiÚ
 (
vm_m­_t
, 
vm_off£t_t
, vm_off£t_t, 
vm_´Ù_t
);

393 
vm_m­_t
 
vm_m­_ü—‹
(
pm­_t
, 
vm_off£t_t
, vm_offset_t);

394 
vm_m­_d–‘e
(
vm_m­_t
, 
vm_off£t_t
, vm_offset_t);

395 
vm_m­_fšd
(
vm_m­_t
, 
vm_objeù_t
, 
vm_ooff£t_t
, 
vm_off£t_t
 *, 
vm_size_t
,

396 
vm_off£t_t
, , 
vm_´Ù_t
, vm_prot_t, );

397 
vm_m­_fšd_mš
(
vm_m­_t
, 
vm_objeù_t
, 
vm_ooff£t_t
, 
vm_off£t_t
 *,

398 
vm_size_t
, 
vm_off£t_t
, vm_off£t_t, , 
vm_´Ù_t
, vm_prot_t, );

399 
vm_m­_fixed
(
vm_m­_t
, 
vm_objeù_t
, 
vm_ooff£t_t
, 
vm_off£t_t
, 
vm_size_t
,

400 
vm_´Ù_t
, vm_prot_t, );

401 
vm_m­_fšd¥aû
 (
vm_m­_t
, 
vm_off£t_t
, 
vm_size_t
, vm_offset_t *);

402 
vm_m­_šh”™
 (
vm_m­_t
, 
vm_off£t_t
, vm_off£t_t, 
vm_šh”™_t
);

403 
vm_m­_š™
(
vm_m­_t
, 
pm­_t
, 
vm_off£t_t
, vm_offset_t);

404 
vm_m­_š£¹
 (
vm_m­_t
, 
vm_objeù_t
, 
vm_ooff£t_t
, 
vm_off£t_t
, vm_off£t_t, 
vm_´Ù_t
, vm_prot_t, );

405 
vm_m­_lookup
 (
vm_m­_t
 *, 
vm_off£t_t
, 
vm_´Ù_t
, 
vm_m­_’Œy_t
 *, 
vm_objeù_t
 *,

406 
vm_pšdex_t
 *, 
vm_´Ù_t
 *, 
boÞ—n_t
 *);

407 
vm_m­_lookup_locked
(
vm_m­_t
 *, 
vm_off£t_t
, 
vm_´Ù_t
, 
vm_m­_’Œy_t
 *, 
vm_objeù_t
 *,

408 
vm_pšdex_t
 *, 
vm_´Ù_t
 *, 
boÞ—n_t
 *);

409 
vm_m­_lookup_dÚe
 (
vm_m­_t
, 
vm_m­_’Œy_t
);

410 
boÞ—n_t
 
vm_m­_lookup_’Œy
 (
vm_m­_t
, 
vm_off£t_t
, 
vm_m­_’Œy_t
 *);

411 
vm_m­_´Ùeù
 (
vm_m­_t
, 
vm_off£t_t
, vm_off£t_t, 
vm_´Ù_t
, 
boÞ—n_t
);

412 
vm_m­_»move
 (
vm_m­_t
, 
vm_off£t_t
, vm_offset_t);

413 
vm_m­_sim¶ify_’Œy
(
vm_m­_t
 
m­
, 
vm_m­_’Œy_t
 
’Œy
);

414 
vm_m­_¡¬tup
 ();

415 
vm_m­_subm­
 (
vm_m­_t
, 
vm_off£t_t
, vm_offset_t, vm_map_t);

416 
vm_m­_sync
(
vm_m­_t
, 
vm_off£t_t
, vm_off£t_t, 
boÞ—n_t
, boolean_t);

417 
vm_m­_madvi£
 (
vm_m­_t
, 
vm_off£t_t
, vm_offset_t, );

418 
vm_m­_¡ack
 (
vm_m­_t
, 
vm_off£t_t
, 
vm_size_t
, 
vm_´Ù_t
, vm_prot_t, );

419 
vm_m­_unwœe
(
vm_m­_t
 
m­
, 
vm_off£t_t
 
¡¬t
, vm_off£t_ˆ
’d
,

420 
æags
);

421 
vm_m­_wœe
(
vm_m­_t
 
m­
, 
vm_off£t_t
 
¡¬t
, vm_off£t_ˆ
’d
,

422 
æags
);

423 
vm¥aû_sw­_couÁ
(
vm¥aû
 *vmspace);

	@/usr/include/vm/vm_object.h

69 #iâdef 
_VM_OBJECT_


70 
	#_VM_OBJECT_


	)

72 
	~<sys/queue.h
>

73 
	~<sys/_lock.h
>

74 
	~<sys/_mu‹x.h
>

75 
	~<sys/_pùr›.h
>

76 
	~<sys/_rwlock.h
>

77 
	~<sys/_domaš£t.h
>

79 
	~<vm/_vm_¿dix.h
>

93 #iâdeà
VM_PAGE_HAVE_PGLIST


94 
TAILQ_HEAD
(
pgli¡
, 
vm_·ge
);

95 
	#VM_PAGE_HAVE_PGLIST


	)

98 
	svm_objeù
 {

99 
rwlock
 
	mlock
;

100 
TAILQ_ENTRY
(
vm_objeù
è
	mobjeù_li¡
;

101 
LIST_HEAD
(, 
vm_objeù
è
	mshadow_h—d
;

102 
LIST_ENTRY
(
vm_objeù
è
	mshadow_li¡
;

103 
pgli¡
 
	mmemq
;

104 
vm_¿dix
 
	m¹»e
;

105 
vm_pšdex_t
 
	msize
;

106 
domaš£t_»f
 
	mdomaš
;

107 
	mg’”©iÚ
;

108 
	m»f_couÁ
;

109 
	mshadow_couÁ
;

110 
vm_mem©Œ_t
 
	mmem©Œ
;

111 
objty³_t
 
	mty³
;

112 
u_shÜt
 
	mæags
;

113 
u_shÜt
 
	mpg_cÞÜ
;

114 
u_št
 
	m·gšg_š_´og»ss
;

115 
	m»sid’t_·ge_couÁ
;

116 
vm_objeù
 *
	mbackšg_objeù
;

117 
vm_ooff£t_t
 
	mbackšg_objeù_off£t
;

118 
TAILQ_ENTRY
(
vm_objeù
è
	m·g”_objeù_li¡
;

119 
LIST_HEAD
(, 
vm_»£rv
è
	mrvq
;

120 *
	mhªdË
;

128 
off_t
 
	mvÅ_size
;

129 
vm_ooff£t_t
 
	mwr™em­pšgs
;

130 } 
	mvÅ
;

138 
TAILQ_HEAD
(, 
vm_·ge
è
	mdevp_pgli¡
;

139 
cdev_·g”_Ýs
 *
	mÝs
;

140 
cdev
 *
	mdev
;

141 } 
	mdevp
;

149 
TAILQ_HEAD
(, 
vm_·ge
è
	msgp_pgli¡
;

150 } 
	msgp
;

168 *
	mswp_tmpfs
;

169 
pùr›
 
	mswp_blks
;

170 } 
	mswp
;

171 } 
	mun_·g”
;

172 
uüed
 *
	müed
;

173 
vm_ooff£t_t
 
	mch¬ge
;

174 *
	mumtx_d©a
;

180 
	#OBJ_FICTITIOUS
 0x0001

	)

181 
	#OBJ_UNMANAGED
 0x0002

	)

182 
	#OBJ_POPULATE
 0x0004

	)

183 
	#OBJ_DEAD
 0x0008

	)

184 
	#OBJ_NOSPLIT
 0x0010

	)

185 
	#OBJ_UMTXDEAD
 0x0020

	)

186 
	#OBJ_PIPWNT
 0x0040

	)

187 
	#OBJ_PG_DTOR
 0x0080

	)

188 
	#OBJ_MIGHTBEDIRTY
 0x0100

	)

189 
	#OBJ_TMPFS_NODE
 0x0200

	)

190 
	#OBJ_TMPFS_DIRTY
 0x0400

	)

191 
	#OBJ_COLORED
 0x1000

	)

192 
	#OBJ_ONEMAPPING
 0x2000

	)

193 
	#OBJ_DISCONNECTWNT
 0x4000

	)

194 
	#OBJ_TMPFS
 0x8000

	)

209 
	#IDX_TO_OFF
(
idx
è(((
vm_ooff£t_t
)(idx)è<< 
PAGE_SHIFT
)

	)

210 
	#OFF_TO_IDX
(
off
è((
vm_pšdex_t
)(((
vm_ooff£t_t
)(off)è>> 
PAGE_SHIFT
))

	)

211 
	#UOFF_TO_IDX
(
off
è(((
vm_pšdex_t
)(off)è>> 
PAGE_SHIFT
)

	)

212 
	#OBJ_MAX_SIZE
 (
	`UOFF_TO_IDX
(
UINT64_MAX
è+ 1)

	)

214 #ifdef 
_KERNEL


216 
	#OBJPC_SYNC
 0x1

	)

217 
	#OBJPC_INVAL
 0x2

	)

218 
	#OBJPC_NOSYNC
 0x4

	)

223 
	#OBJPR_CLEANONLY
 0x1

	)

224 
	#OBJPR_NOTMAPPED
 0x2

	)

226 
TAILQ_HEAD
(
objeù_q
, 
vm_objeù
);

228 
objeù_q
 
vm_objeù_li¡
;

229 
mtx
 
vm_objeù_li¡_mtx
;

231 
vm_objeù
 
k”Ãl_objeù_¡Üe
;

234 
	#k”Ãl_objeù
 (&
k”Ãl_objeù_¡Üe
)

	)

235 
	#kmem_objeù
 (&
k”Ãl_objeù_¡Üe
)

	)

237 
	#VM_OBJECT_ASSERT_LOCKED
(
objeù
) \

238 
	`rw_as£¹
(&(
objeù
)->
lock
, 
RA_LOCKED
)

	)

239 
	#VM_OBJECT_ASSERT_RLOCKED
(
objeù
) \

240 
	`rw_as£¹
(&(
objeù
)->
lock
, 
RA_RLOCKED
)

	)

241 
	#VM_OBJECT_ASSERT_WLOCKED
(
objeù
) \

242 
	`rw_as£¹
(&(
objeù
)->
lock
, 
RA_WLOCKED
)

	)

243 
	#VM_OBJECT_ASSERT_UNLOCKED
(
objeù
) \

244 
	`rw_as£¹
(&(
objeù
)->
lock
, 
RA_UNLOCKED
)

	)

245 
	#VM_OBJECT_LOCK_DOWNGRADE
(
objeù
) \

246 
	`rw_downg¿de
(&(
objeù
)->
lock
)

	)

247 
	#VM_OBJECT_RLOCK
(
objeù
) \

248 
	`rw_¾ock
(&(
objeù
)->
lock
)

	)

249 
	#VM_OBJECT_RUNLOCK
(
objeù
) \

250 
	`rw_ruÆock
(&(
objeù
)->
lock
)

	)

251 
	#VM_OBJECT_SLEEP
(
objeù
, 
wchª
, 
´i
, 
wmesg
, 
timo
) \

252 
	`rw_¦“p
((
wchª
), &(
objeù
)->
lock
, (
´i
), (
wmesg
), (
timo
))

	)

253 
	#VM_OBJECT_TRYRLOCK
(
objeù
) \

254 
	`rw_Œy_¾ock
(&(
objeù
)->
lock
)

	)

255 
	#VM_OBJECT_TRYWLOCK
(
objeù
) \

256 
	`rw_Œy_wlock
(&(
objeù
)->
lock
)

	)

257 
	#VM_OBJECT_TRYUPGRADE
(
objeù
) \

258 
	`rw_Œy_upg¿de
(&(
objeù
)->
lock
)

	)

259 
	#VM_OBJECT_WLOCK
(
objeù
) \

260 
	`rw_wlock
(&(
objeù
)->
lock
)

	)

261 
	#VM_OBJECT_WOWNED
(
objeù
) \

262 
	`rw_wowÃd
(&(
objeù
)->
lock
)

	)

263 
	#VM_OBJECT_WUNLOCK
(
objeù
) \

264 
	`rw_wuÆock
(&(
objeù
)->
lock
)

	)

269 
__šlše
 

270 
	$vm_objeù_£t_æag
(
vm_objeù_t
 
objeù
, 
u_shÜt
 
b™s
)

273 
objeù
->
æags
 |ð
b™s
;

274 
	}
}

290 
__šlše
 

291 
	$vm_objeù_cÞÜ
(
vm_objeù_t
 
objeù
, 
u_shÜt
 
cÞÜ
)

294 ià((
objeù
->
æags
 & 
OBJ_COLORED
) == 0) {

295 
objeù
->
pg_cÞÜ
 = 
cÞÜ
;

296 
objeù
->
æags
 |ð
OBJ_COLORED
;

298 
	}
}

300 
__šlše
 
boÞ


301 
	$vm_objeù_»£rv
(
vm_objeù_t
 
objeù
)

304 ià(
objeù
 !ð
NULL
 &&

305 (
objeù
->
æags
 & (
OBJ_COLORED
 | 
OBJ_FICTITIOUS
)) == OBJ_COLORED) {

306  (
Œue
);

308  (
çl£
);

309 
	}
}

311 
vm_objeù_þ—r_æag
(
vm_objeù_t
 
objeù
, 
u_shÜt
 
b™s
);

312 
vm_objeù_p_add
(
vm_objeù_t
 
objeù
, 
i
);

313 
vm_objeù_p_subŒaù
(
vm_objeù_t
 
objeù
, 
i
);

314 
vm_objeù_p_wakeup
(
vm_objeù_t
 
objeù
);

315 
vm_objeù_p_wakeu²
(
vm_objeù_t
 
objeù
, 
i
);

316 
vm_objeù_p_wa™
(
vm_objeù_t
 
objeù
, *
wa™id
);

318 
umtx_shm_objeù_š™
(
vm_objeù_t
 
objeù
);

319 
umtx_shm_objeù_‹rmš©ed
(
vm_objeù_t
 
objeù
);

320 
umtx_shm_vnobj_³rsi¡’t
;

322 
vm_objeù_t
 
vm_objeù_®loÿ‹
 (
objty³_t
, 
vm_pšdex_t
);

323 
boÞ—n_t
 
vm_objeù_cßËsû
(
vm_objeù_t
, 
vm_ooff£t_t
, 
vm_size_t
, vm_size_t,

324 
boÞ—n_t
);

325 
vm_objeù_cÞÏp£
 (
vm_objeù_t
);

326 
vm_objeù_d—Îoÿ‹
 (
vm_objeù_t
);

327 
vm_objeù_de¡roy
 (
vm_objeù_t
);

328 
vm_objeù_‹rmš©e
 (
vm_objeù_t
);

329 
vm_objeù_£t_wr™—bË_dœty
 (
vm_objeù_t
);

330 
vm_objeù_š™
 ();

331 
vm_objeù_madvi£
(
vm_objeù_t
, 
vm_pšdex_t
, vm_pindex_t, );

332 
boÞ—n_t
 
vm_objeù_·ge_þ—n
(
vm_objeù_t
 
objeù
, 
vm_ooff£t_t
 
¡¬t
,

333 
vm_ooff£t_t
 
’d
, 
æags
);

334 
vm_objeù_·ge_nÜeu£
(
vm_objeù_t
 
objeù
, 
vm_pšdex_t
 
¡¬t
,

335 
vm_pšdex_t
 
’d
);

336 
vm_objeù_·ge_»move
(
vm_objeù_t
 
objeù
, 
vm_pšdex_t
 
¡¬t
,

337 
vm_pšdex_t
 
’d
, 
ÝtiÚs
);

338 
boÞ—n_t
 
vm_objeù_pÝuÏ‹
(
vm_objeù_t
, 
vm_pšdex_t
, vm_pindex_t);

339 
vm_objeù_´št
(
addr
, 
boÞ—n_t
 
have_addr
, 
couÁ
, *
modif
);

340 
vm_objeù_»ã»nû
 (
vm_objeù_t
);

341 
vm_objeù_»ã»nû_locked
(
vm_objeù_t
);

342 
vm_objeù_£t_mem©Œ
(
vm_objeù_t
 
objeù
, 
vm_mem©Œ_t
 
mem©Œ
);

343 
vm_objeù_shadow
 (
vm_objeù_t
 *, 
vm_ooff£t_t
 *, 
vm_size_t
);

344 
vm_objeù_¥l™
(
vm_m­_’Œy_t
);

345 
boÞ—n_t
 
vm_objeù_sync
(
vm_objeù_t
, 
vm_ooff£t_t
, 
vm_size_t
, boolean_t,

346 
boÞ—n_t
);

347 
vm_objeù_unwœe
(
vm_objeù_t
 
objeù
, 
vm_ooff£t_t
 
off£t
,

348 
vm_size_t
 
Ëngth
, 
ušt8_t
 
queue
);

349 
vnode
 *
vm_objeù_vnode
(
vm_objeù_t
 
objeù
);

	@/usr/include/vm/vm_page.h

69 #iâdef 
_VM_PAGE_


70 
	#_VM_PAGE_


	)

72 
	~<vm/pm­.h
>

174 #ià
PAGE_SIZE
 == 4096

175 
	#VM_PAGE_BITS_ALL
 0xffu

	)

176 
ušt8_t
 
	tvm_·ge_b™s_t
;

177 #–ià
PAGE_SIZE
 == 8192

178 
	#VM_PAGE_BITS_ALL
 0xffffu

	)

179 
ušt16_t
 
	tvm_·ge_b™s_t
;

180 #–ià
PAGE_SIZE
 == 16384

181 
	#VM_PAGE_BITS_ALL
 0xffffffffu

	)

182 
ušt32_t
 
	tvm_·ge_b™s_t
;

183 #–ià
PAGE_SIZE
 == 32768

184 
	#VM_PAGE_BITS_ALL
 0xfffffffffffffffæu

	)

185 
ušt64_t
 
	tvm_·ge_b™s_t
;

188 
	svm_·ge
 {

190 
TAILQ_ENTRY
(
vm_·ge
è
	mq
;

192 
SLIST_ENTRY
(
vm_·ge
è
	mss
;

193 *
	mpv
;

194 } 
	ms
;

196 
u_lÚg
 
	mp
;

197 
u_lÚg
 
	mv
;

198 } 
	mmemgu¬d
;

199 } 
	m¶šks
;

200 
TAILQ_ENTRY
(
vm_·ge
è
	mli¡q
;

201 
vm_objeù_t
 
	mobjeù
;

202 
vm_pšdex_t
 
	mpšdex
;

203 
vm_·ddr_t
 
	mphys_addr
;

204 
md_·ge
 
	mmd
;

205 
u_št
 
	mwœe_couÁ
;

206 vÞ©ž
u_št
 
	mbusy_lock
;

207 
ušt16_t
 
	mhÞd_couÁ
;

208 
ušt16_t
 
	mæags
;

209 
ušt8_t
 
	maæags
;

210 
ušt8_t
 
	moæags
;

211 
ušt8_t
 
	mqueue
;

212 
št8_t
 
	mpsšd
;

213 
št8_t
 
	m£gšd
;

214 
ušt8_t
 
	mÜd”
;

215 
ušt8_t
 
	mpoÞ
;

216 
u_ch¬
 
	maù_couÁ
;

219 
vm_·ge_b™s_t
 
	mv®id
;

220 
vm_·ge_b™s_t
 
	mdœty
;

237 
	#VPO_KMEM_EXEC
 0x01

	)

238 
	#VPO_SWAPSLEEP
 0x02

	)

239 
	#VPO_UNMANAGED
 0x04

	)

240 
	#VPO_SWAPINPROG
 0x08

	)

241 
	#VPO_NOSYNC
 0x10

	)

250 
	#VPB_BIT_SHARED
 0x01

	)

251 
	#VPB_BIT_EXCLUSIVE
 0x02

	)

252 
	#VPB_BIT_WAITERS
 0x04

	)

253 
	#VPB_BIT_FLAGMASK
 \

254 (
VPB_BIT_SHARED
 | 
VPB_BIT_EXCLUSIVE
 | 
VPB_BIT_WAITERS
)

	)

256 
	#VPB_SHARERS_SHIFT
 3

	)

257 
	#VPB_SHARERS
(
x
) \

258 (((
x
è& ~
VPB_BIT_FLAGMASK
è>> 
VPB_SHARERS_SHIFT
)

	)

259 
	#VPB_SHARERS_WORD
(
x
è((xè<< 
VPB_SHARERS_SHIFT
 | 
VPB_BIT_SHARED
)

	)

260 
	#VPB_ONE_SHARER
 (1 << 
VPB_SHARERS_SHIFT
)

	)

262 
	#VPB_SINGLE_EXCLUSIVER
 
VPB_BIT_EXCLUSIVE


	)

264 
	#VPB_UNBUSIED
 
	`VPB_SHARERS_WORD
(0)

	)

266 
	#PQ_NONE
 255

	)

267 
	#PQ_INACTIVE
 0

	)

268 
	#PQ_ACTIVE
 1

	)

269 
	#PQ_LAUNDRY
 2

	)

270 
	#PQ_UNSWAPPABLE
 3

	)

271 
	#PQ_COUNT
 4

	)

273 #iâdeà
VM_PAGE_HAVE_PGLIST


274 
TAILQ_HEAD
(
pgli¡
, 
vm_·ge
);

275 
	#VM_PAGE_HAVE_PGLIST


	)

277 
SLIST_HEAD
(
¥gli¡
, 
vm_·ge
);

279 #ifdeà
_KERNEL


280 
vm_·ge_t
 
bogus_·ge
;

283 
mtx_·d®ign
 
·_lock
[];

285 #ià
defšed
(
__¬m__
)

286 
	#PDRSHIFT
 
PDR_SHIFT


	)

287 #–ià!
defšed
(
PDRSHIFT
)

288 
	#PDRSHIFT
 21

	)

291 
	#·_šdex
(
·
è(Õaè>> 
PDRSHIFT
)

	)

292 
	#PA_LOCKPTR
(
·
è((
mtx
 *)(&
·_lock
[
	`·_šdex
Õaè% 
PA_LOCK_COUNT
]))

	)

293 
	#PA_LOCKOBJPTR
(
·
è((
lock_objeù
 *)
	`PA_LOCKPTR
(Õa)))

	)

294 
	#PA_LOCK
(
·
è
	`mtx_lock
(
	`PA_LOCKPTR
Õa))

	)

295 
	#PA_TRYLOCK
(
·
è
	`mtx_Œylock
(
	`PA_LOCKPTR
Õa))

	)

296 
	#PA_UNLOCK
(
·
è
	`mtx_uÆock
(
	`PA_LOCKPTR
Õa))

	)

297 
	#PA_UNLOCK_COND
(
·
) \

299 ià((
·
) != 0) { \

300 
	`PA_UNLOCK
((
·
)); \

301 (
·
) = 0; \

303 } 0)

	)

305 
	#PA_LOCK_ASSERT
(
·
, 
a
è
	`mtx_as£¹
(
	`PA_LOCKPTR
Õa), (a))

	)

307 #ià
defšed
(
KLD_MODULE
è&& !defšed(
KLD_TIED
)

308 
	#vm_·ge_lock
(
m
è
	`vm_·ge_lock_KBI
((m), 
LOCK_FILE
, 
LOCK_LINE
)

	)

309 
	#vm_·ge_uÆock
(
m
è
	`vm_·ge_uÆock_KBI
((m), 
LOCK_FILE
, 
LOCK_LINE
)

	)

310 
	#vm_·ge_Œylock
(
m
è
	`vm_·ge_Œylock_KBI
((m), 
LOCK_FILE
, 
LOCK_LINE
)

	)

312 
	#vm_·ge_lock±r
(
m
è(
	`PA_LOCKPTR
(
	`VM_PAGE_TO_PHYS
((m))))

	)

313 
	#vm_·ge_lock
(
m
è
	`mtx_lock
(
	`vm_·ge_lock±r
((m)))

	)

314 
	#vm_·ge_uÆock
(
m
è
	`mtx_uÆock
(
	`vm_·ge_lock±r
((m)))

	)

315 
	#vm_·ge_Œylock
(
m
è
	`mtx_Œylock
(
	`vm_·ge_lock±r
((m)))

	)

317 #ià
defšed
(
INVARIANTS
)

318 
	#vm_·ge_as£¹_locked
(
m
) \

319 
	`vm_·ge_as£¹_locked_KBI
((
m
), 
__FILE__
, 
__LINE__
)

	)

320 
	#vm_·ge_lock_as£¹
(
m
, 
a
) \

321 
	`vm_·ge_lock_as£¹_KBI
((
m
), (
a
), 
__FILE__
, 
__LINE__
)

	)

323 
	#vm_·ge_as£¹_locked
(
m
)

	)

324 
	#vm_·ge_lock_as£¹
(
m
, 
a
)

	)

365 
	#PGA_WRITEABLE
 0x01

	)

366 
	#PGA_REFERENCED
 0x02

	)

367 
	#PGA_EXECUTABLE
 0x04

	)

368 
	#PGA_ENQUEUED
 0x08

	)

369 
	#PGA_DEQUEUE
 0x10

	)

370 
	#PGA_REQUEUE
 0x20

	)

371 
	#PGA_REQUEUE_HEAD
 0x40

	)

373 
	#PGA_QUEUE_STATE_MASK
 (
PGA_ENQUEUED
 | 
PGA_DEQUEUE
 | 
PGA_REQUEUE
 | \

374 
PGA_REQUEUE_HEAD
)

	)

380 
	#PG_FICTITIOUS
 0x0004

	)

381 
	#PG_ZERO
 0x0008

	)

382 
	#PG_MARKER
 0x0010

	)

383 
	#PG_NODUMP
 0x0080

	)

384 
	#PG_UNHOLDFREE
 0x0100

	)

389 
	#ACT_DECLINE
 1

	)

390 
	#ACT_ADVANCE
 3

	)

391 
	#ACT_INIT
 5

	)

392 
	#ACT_MAX
 64

	)

394 #ifdeà
_KERNEL


396 
	~<sys/sy¡m.h
>

398 
	~<machše/©omic.h
>

424 
vm_·ge_t
 
vm_·ge_¬¿y
;

425 
vm_·ge_¬¿y_size
;

426 
fœ¡_·ge
;

428 
	#VM_PAGE_TO_PHYS
(
’Œy
è(ÓÁry)->
phys_addr
)

	)

435 
vm_·ge_t
 
PHYS_TO_VM_PAGE
(
vm_·ddr_t
 
·
);

457 
	#VM_ALLOC_NORMAL
 0

	)

458 
	#VM_ALLOC_INTERRUPT
 1

	)

459 
	#VM_ALLOC_SYSTEM
 2

	)

460 
	#VM_ALLOC_CLASS_MASK
 3

	)

461 
	#VM_ALLOC_WAITOK
 0x0008

	)

462 
	#VM_ALLOC_WAITFAIL
 0x0010

	)

463 
	#VM_ALLOC_WIRED
 0x0020

	)

464 
	#VM_ALLOC_ZERO
 0x0040

	)

465 
	#VM_ALLOC_NOOBJ
 0x0100

	)

466 
	#VM_ALLOC_NOBUSY
 0x0200

	)

467 
	#VM_ALLOC_IGN_SBUSY
 0x1000

	)

468 
	#VM_ALLOC_NODUMP
 0x2000

	)

469 
	#VM_ALLOC_SBUSY
 0x4000

	)

470 
	#VM_ALLOC_NOWAIT
 0x8000

	)

471 
	#VM_ALLOC_COUNT_SHIFT
 16

	)

472 
	#VM_ALLOC_COUNT
(
couÁ
è((couÁè<< 
VM_ALLOC_COUNT_SHIFT
)

	)

474 #ifdeà
M_NOWAIT


475 
šlše
 

476 
	$m®loc2vm_æags
(
m®loc_æags
)

478 
pæags
;

480 
	`KASSERT
((
m®loc_æags
 & 
M_USE_RESERVE
) == 0 ||

481 (
m®loc_æags
 & 
M_NOWAIT
) != 0,

483 
pæags
 = (
m®loc_æags
 & 
M_USE_RESERVE
è!ð0 ? 
VM_ALLOC_INTERRUPT
 :

484 
VM_ALLOC_SYSTEM
;

485 ià((
m®loc_æags
 & 
M_ZERO
) != 0)

486 
pæags
 |ð
VM_ALLOC_ZERO
;

487 ià((
m®loc_æags
 & 
M_NODUMP
) != 0)

488 
pæags
 |ð
VM_ALLOC_NODUMP
;

489 ià((
m®loc_æags
 & 
M_NOWAIT
))

490 
pæags
 |ð
VM_ALLOC_NOWAIT
;

491 ià((
m®loc_æags
 & 
M_WAITOK
))

492 
pæags
 |ð
VM_ALLOC_WAITOK
;

493  (
pæags
);

494 
	}
}

505 
	#PS_ALL_DIRTY
 0x1

	)

506 
	#PS_ALL_VALID
 0x2

	)

507 
	#PS_NONE_BUSY
 0x4

	)

509 
vm_·ge_busy_downg¿de
(
vm_·ge_t
 
m
);

510 
vm_·ge_busy_¦“p
(
vm_·ge_t
 
m
, cÚ¡ *
msg
, 
boÞ
 
nÚsh¬ed
);

511 
vm_·ge_æash
(
vm_·ge_t
 
m
);

512 
vm_·ge_hÞd
(
vm_·ge_t
 
mem
);

513 
vm_·ge_unhÞd
(
vm_·ge_t
 
mem
);

514 
vm_·ge_ä“
(
vm_·ge_t
 
m
);

515 
vm_·ge_ä“_z”o
(
vm_·ge_t
 
m
);

517 
vm_·ge_aùiv©e
 (
vm_·ge_t
);

518 
vm_·ge_advi£
(
vm_·ge_t
 
m
, 
adviû
);

519 
vm_·ge_t
 
vm_·ge_®loc
(
vm_objeù_t
, 
vm_pšdex_t
, );

520 
vm_·ge_t
 
vm_·ge_®loc_domaš
(
vm_objeù_t
, 
vm_pšdex_t
, , );

521 
vm_·ge_t
 
vm_·ge_®loc_aá”
(
vm_objeù_t
, 
vm_pšdex_t
, , vm_page_t);

522 
vm_·ge_t
 
vm_·ge_®loc_domaš_aá”
(
vm_objeù_t
, 
vm_pšdex_t
, , ,

523 
vm_·ge_t
);

524 
vm_·ge_t
 
vm_·ge_®loc_cÚtig
(
vm_objeù_t
 
objeù
, 
vm_pšdex_t
 
pšdex
, 
»q
,

525 
u_lÚg
 
Åages
, 
vm_·ddr_t
 
low
, vm_·ddr_ˆ
high
, u_lÚg 
®ignm’t
,

526 
vm_·ddr_t
 
bound¬y
, 
vm_mem©Œ_t
 
mem©Œ
);

527 
vm_·ge_t
 
vm_·ge_®loc_cÚtig_domaš
(
vm_objeù_t
 
objeù
,

528 
vm_pšdex_t
 
pšdex
, 
domaš
, 
»q
, 
u_lÚg
 
Åages
, 
vm_·ddr_t
 
low
,

529 
vm_·ddr_t
 
high
, 
u_lÚg
 
®ignm’t
, vm_·ddr_ˆ
bound¬y
,

530 
vm_mem©Œ_t
 
mem©Œ
);

531 
vm_·ge_t
 
vm_·ge_®loc_ä“li¡
(, );

532 
vm_·ge_t
 
vm_·ge_®loc_ä“li¡_domaš
(, , );

533 
boÞ
 
vm_·ge_bÏckli¡_add
(
vm_·ddr_t
 
·
, boÞ 
v”bo£
);

534 
vm_·ge_chªge_lock
(
vm_·ge_t
 
m
, 
mtx
 **mtx);

535 
vm_·ge_t
 
vm_·ge_g¿b
 (
vm_objeù_t
, 
vm_pšdex_t
, );

536 
vm_·ge_g¿b_·ges
(
vm_objeù_t
 
objeù
, 
vm_pšdex_t
 
pšdex
, 
®locæags
,

537 
vm_·ge_t
 *
ma
, 
couÁ
);

538 
vm_·ge_d—ùiv©e
(
vm_·ge_t
);

539 
vm_·ge_d—ùiv©e_nÜeu£
(
vm_·ge_t
);

540 
vm_·ge_dequeue
(
vm_·ge_t
 
m
);

541 
vm_·ge_dequeue_deã¼ed
(
vm_·ge_t
 
m
);

542 
vm_·ge_d¿š_pqb©ch
();

543 
vm_·ge_t
 
vm_·ge_fšd_Ëa¡
(
vm_objeù_t
, 
vm_pšdex_t
);

544 
boÞ
 
vm_·ge_ä“_´•
(
vm_·ge_t
 
m
);

545 
vm_·ge_t
 
vm_·ge_g‘çke
(
vm_·ddr_t
 
·ddr
, 
vm_mem©Œ_t
 
mem©Œ
);

546 
vm_·ge_š™çke
(
vm_·ge_t
 
m
, 
vm_·ddr_t
 
·ddr
, 
vm_mem©Œ_t
 
mem©Œ
);

547 
vm_·ge_š£¹
 (
vm_·ge_t
, 
vm_objeù_t
, 
vm_pšdex_t
);

548 
vm_·ge_Ïund”
(
vm_·ge_t
 
m
);

549 
vm_·ge_t
 
vm_·ge_lookup
 (
vm_objeù_t
, 
vm_pšdex_t
);

550 
vm_·ge_t
 
vm_·ge_Ãxt
(vm_·ge_ˆ
m
);

551 
vm_·ge_·_Œy»lock
(
pm­_t
, 
vm_·ddr_t
, vm_paddr_t *);

552 
vm_·gequeue
 *
vm_·ge_·gequeue
(
vm_·ge_t
 
m
);

553 
vm_·ge_t
 
vm_·ge_´ev
(vm_·ge_ˆ
m
);

554 
boÞ
 
vm_·ge_ps_‹¡
(
vm_·ge_t
 
m
, 
æags
, vm_·ge_ˆ
sk_m
);

555 
vm_·ge_putçke
(
vm_·ge_t
 
m
);

556 
vm_·ge_»adah—d_fšish
(
vm_·ge_t
 
m
);

557 
boÞ
 
vm_·ge_»þaim_cÚtig
(
»q
, 
u_lÚg
 
Åages
, 
vm_·ddr_t
 
low
,

558 
vm_·ddr_t
 
high
, 
u_lÚg
 
®ignm’t
, vm_·ddr_ˆ
bound¬y
);

559 
boÞ
 
vm_·ge_»þaim_cÚtig_domaš
(
domaš
, 
»q
, 
u_lÚg
 
Åages
,

560 
vm_·ddr_t
 
low
, vm_·ddr_ˆ
high
, 
u_lÚg
 
®ignm’t
, vm_·ddr_ˆ
bound¬y
);

561 
vm_·ge_»ã»nû
(
vm_·ge_t
 
m
);

562 
vm_·ge_»move
 (
vm_·ge_t
);

563 
vm_·ge_»Çme
 (
vm_·ge_t
, 
vm_objeù_t
, 
vm_pšdex_t
);

564 
vm_·ge_t
 
vm_·ge_»¶aû
(vm_·ge_ˆ
mÃw
, 
vm_objeù_t
 
objeù
,

565 
vm_pšdex_t
 
pšdex
);

566 
vm_·ge_»queue
(
vm_·ge_t
 
m
);

567 
vm_·ge_sbus›d
(
vm_·ge_t
 
m
);

568 
vm_·ge_t
 
vm_·ge_sÿn_cÚtig
(
u_lÚg
 
Åages
, vm_·ge_ˆ
m_¡¬t
,

569 
vm_·ge_t
 
m_’d
, 
u_lÚg
 
®ignm’t
, 
vm_·ddr_t
 
bound¬y
, 
ÝtiÚs
);

570 
vm_·ge_£t_v®id_¿nge
(
vm_·ge_t
 
m
, 
ba£
, 
size
);

571 
vm_·ge_¦“p_if_busy
(
vm_·ge_t
 
m
, cÚ¡ *
msg
);

572 
vm_off£t_t
 
vm_·ge_¡¬tup
(vm_off£t_ˆ
vaddr
);

573 
vm_·ge_sunbusy
(
vm_·ge_t
 
m
);

574 
boÞ
 
vm_·ge_Œy_to_ä“
(
vm_·ge_t
 
m
);

575 
vm_·ge_Œysbusy
(
vm_·ge_t
 
m
);

576 
vm_·ge_unhÞd_·ges
(
vm_·ge_t
 *
ma
, 
couÁ
);

577 
vm_·ge_unsw­·bË
(
vm_·ge_t
 
m
);

578 
boÞ
 
vm_·ge_unwœe
(
vm_·ge_t
 
m
, 
ušt8_t
 
queue
);

579 
boÞ
 
vm_·ge_unwœe_noq
(
vm_·ge_t
 
m
);

580 
vm_·ge_upd©eçke
(
vm_·ge_t
 
m
, 
vm_·ddr_t
 
·ddr
, 
vm_mem©Œ_t
 
mem©Œ
);

581 
vm_·ge_wœe
 (
vm_·ge_t
);

582 
vm_·ge_xunbusy_h¬d
(
vm_·ge_t
 
m
);

583 
vm_·ge_xunbusy_mayb–ocked
(
vm_·ge_t
 
m
);

584 
vm_·ge_£t_v®idþ—n
 (
vm_·ge_t
, , );

585 
vm_·ge_þ—r_dœty
 (
vm_·ge_t
, , );

586 
vm_·ge_£t_šv®id
 (
vm_·ge_t
, , );

587 
vm_·ge_is_v®id
 (
vm_·ge_t
, , );

588 
vm_·ge_‹¡_dœty
 (
vm_·ge_t
);

589 
vm_·ge_b™s_t
 
vm_·ge_b™s
(
ba£
, 
size
);

590 
vm_·ge_z”o_šv®id
(
vm_·ge_t
 
m
, 
boÞ—n_t
 
£tv®id
);

591 
vm_·ge_ä“_toq
(
vm_·ge_t
 
m
);

592 
vm_·ge_ä“_·ges_toq
(
¥gli¡
 *
ä“
, 
boÞ
 
upd©e_wœe_couÁ
);

594 
vm_·ge_dœty_KBI
(
vm_·ge_t
 
m
);

595 
vm_·ge_lock_KBI
(
vm_·ge_t
 
m
, cÚ¡ *
fže
, 
lše
);

596 
vm_·ge_uÆock_KBI
(
vm_·ge_t
 
m
, cÚ¡ *
fže
, 
lše
);

597 
vm_·ge_Œylock_KBI
(
vm_·ge_t
 
m
, cÚ¡ *
fže
, 
lše
);

598 #ià
defšed
(
INVARIANTS
è|| defšed(
INVARIANT_SUPPORT
)

599 
vm_·ge_as£¹_locked_KBI
(
vm_·ge_t
 
m
, cÚ¡ *
fže
, 
lše
);

600 
vm_·ge_lock_as£¹_KBI
(
vm_·ge_t
 
m
, 
a
, cÚ¡ *
fže
, 
lše
);

603 
	#vm_·ge_as£¹_sbus›d
(
m
) \

604 
	`KASSERT
(
	`vm_·ge_sbus›d
(
m
), \

606 (
m
), 
__FILE__
, 
__LINE__
))

	)

608 
	#vm_·ge_as£¹_unbus›d
(
m
) \

609 
	`KASSERT
(!
	`vm_·ge_bus›d
(
m
), \

611 (
m
), 
__FILE__
, 
__LINE__
))

	)

613 
	#vm_·ge_as£¹_xbus›d
(
m
) \

614 
	`KASSERT
(
	`vm_·ge_xbus›d
(
m
), \

616 (
m
), 
__FILE__
, 
__LINE__
))

	)

618 
	#vm_·ge_bus›d
(
m
) \

619 ((
m
)->
busy_lock
 !ð
VPB_UNBUSIED
)

	)

621 
	#vm_·ge_sbusy
(
m
) do { \

622 ià(!
	`vm_·ge_Œysbusy
(
m
)) \

623 
	`·nic
("%s:…ag%°çžed sh¬ed busyšg", 
__func__
, \

624 (
m
)); \

625 } 0)

	)

627 
	#vm_·ge_Œyxbusy
(
m
) \

628 (
	`©omic_cmp£t_acq_št
(&(
m
)->
busy_lock
, 
VPB_UNBUSIED
, \

629 
VPB_SINGLE_EXCLUSIVER
))

	)

631 
	#vm_·ge_xbus›d
(
m
) \

632 (((
m
)->
busy_lock
 & 
VPB_SINGLE_EXCLUSIVER
è!ð0)

	)

634 
	#vm_·ge_xbusy
(
m
) do { \

635 ià(!
	`vm_·ge_Œyxbusy
(
m
)) \

636 
	`·nic
("%s:…ag%°çžedƒxþusivbusyšg", 
__func__
, \

637 (
m
)); \

638 } 0)

	)

641 
	#vm_·ge_xunbusy
(
m
) do { \

642 ià(!
	`©omic_cmp£t_»l_št
(&(
m
)->
busy_lock
, \

643 
VPB_SINGLE_EXCLUSIVER
, 
VPB_UNBUSIED
)) \

644 
	`vm_·ge_xunbusy_h¬d
(
m
); \

645 } 0)

	)

647 #ifdeà
INVARIANTS


648 
vm_·ge_objeù_lock_as£¹
(
vm_·ge_t
 
m
);

649 
	#VM_PAGE_OBJECT_LOCK_ASSERT
(
m
è
	`vm_·ge_objeù_lock_as£¹
(m)

	)

650 
vm_·ge_as£¹_pga_wr™—bË
(
vm_·ge_t
 
m
, 
ušt8_t
 
b™s
);

651 
	#VM_PAGE_ASSERT_PGA_WRITEABLE
(
m
, 
b™s
) \

652 
	`vm_·ge_as£¹_pga_wr™—bË
(
m
, 
b™s
)

	)

654 
	#VM_PAGE_OBJECT_LOCK_ASSERT
(
m
è()0

	)

655 
	#VM_PAGE_ASSERT_PGA_WRITEABLE
(
m
, 
b™s
è()0

	)

664 
CTASSERT
(
off£tof
(
vm_·ge
, 
aæags
è% (
ušt32_t
) == 0);

669 
šlše
 

670 
	$vm_·ge_aæag_þ—r
(
vm_·ge_t
 
m
, 
ušt8_t
 
b™s
)

672 
ušt32_t
 *
addr
, 
v®
;

677 ià((
b™s
 & 
PGA_REFERENCED
) != 0)

678 
	`vm_·ge_as£¹_locked
(
m
);

685 
addr
 = (*)&
m
->
aæags
;

686 
	`KASSERT
(((
ušŒ_t
)
addr
 & ((
ušt32_t
) - 1)) == 0,

688 
v®
 = 
b™s
;

689 #ià
BYTE_ORDER
 =ð
BIG_ENDIAN


690 
v®
 <<= 24;

692 
	`©omic_þ—r_32
(
addr
, 
v®
);

693 
	}
}

698 
šlše
 

699 
	$vm_·ge_aæag_£t
(
vm_·ge_t
 
m
, 
ušt8_t
 
b™s
)

701 
ušt32_t
 *
addr
, 
v®
;

703 
	`VM_PAGE_ASSERT_PGA_WRITEABLE
(
m
, 
b™s
);

710 
addr
 = (*)&
m
->
aæags
;

711 
	`KASSERT
(((
ušŒ_t
)
addr
 & ((
ušt32_t
) - 1)) == 0,

713 
v®
 = 
b™s
;

714 #ià
BYTE_ORDER
 =ð
BIG_ENDIAN


715 
v®
 <<= 24;

717 
	`©omic_£t_32
(
addr
, 
v®
);

718 
	}
}

730 
__šlše
 

731 
	$vm_·ge_dœty
(
vm_·ge_t
 
m
)

735 #ià(
	`defšed
(
KLD_MODULE
è&& !defšed(
KLD_TIED
)è|| defšed(
INVARIANTS
)

736 
	`vm_·ge_dœty_KBI
(
m
);

738 
m
->
dœty
 = 
VM_PAGE_BITS_ALL
;

740 
	}
}

747 
__šlše
 

748 
	$vm_·ge_undœty
(
vm_·ge_t
 
m
)

751 
	`VM_PAGE_OBJECT_LOCK_ASSERT
(
m
);

752 
m
->
dœty
 = 0;

753 
	}
}

755 
šlše
 

756 
	$vm_·ge_»¶aû_checked
(
vm_·ge_t
 
mÃw
, 
vm_objeù_t
 
objeù
, 
vm_pšdex_t
 
pšdex
,

757 
vm_·ge_t
 
mÞd
)

759 
vm_·ge_t
 
m»t
;

761 
m»t
 = 
	`vm_·ge_»¶aû
(
mÃw
, 
objeù
, 
pšdex
);

762 
	`KASSERT
(
m»t
 =ð
mÞd
,

763 ("šv®id…ag»¶aûm’t, mÞd=%p, m»t=%p", 
mÞd
, 
m»t
));

766 ()
mÞd
;

767 ()
m»t
;

768 
	}
}

776 
šlše
 
ušt8_t


777 
	$vm_·ge_queue
(
vm_·ge_t
 
m
)

780 
	`vm_·ge_as£¹_locked
(
m
);

782 ià((
m
->
aæags
 & 
PGA_DEQUEUE
) != 0)

783  (
PQ_NONE
);

784 
	`©omic_th»ad_ãnû_acq
();

785  (
m
->
queue
);

786 
	}
}

788 
šlše
 
boÞ


789 
	$vm_·ge_aùive
(
vm_·ge_t
 
m
)

792  (
	`vm_·ge_queue
(
m
è=ð
PQ_ACTIVE
);

793 
	}
}

795 
šlše
 
boÞ


796 
	$vm_·ge_šaùive
(
vm_·ge_t
 
m
)

799  (
	`vm_·ge_queue
(
m
è=ð
PQ_INACTIVE
);

800 
	}
}

802 
šlše
 
boÞ


803 
	$vm_·ge_š_Ïundry
(
vm_·ge_t
 
m
)

805 
ušt8_t
 
queue
;

807 
queue
 = 
	`vm_·ge_queue
(
m
);

808  (
queue
 =ð
PQ_LAUNDRY
 || queu=ð
PQ_UNSWAPPABLE
);

809 
	}
}

816 
šlše
 
boÞ


817 
	$vm_·ge_h–d
(
vm_·ge_t
 
m
)

820  (
m
->
hÞd_couÁ
 > 0 || m->
wœe_couÁ
 > 0);

821 
	}
}

	@/usr/include/vm/vm_pageout.h

65 #iâdeà
_VM_VM_PAGEOUT_H_


66 
	#_VM_VM_PAGEOUT_H_


	)

68 #ifdeà
_KERNEL


78 
vm_·ge_max_wœed
;

79 
vm_·geout_·ge_couÁ
;

81 
	#VM_OOM_MEM
 1

	)

82 
	#VM_OOM_SWAPZ
 2

	)

87 
	#VM_LOW_KMEM
 0x01

	)

88 
	#VM_LOW_PAGES
 0x02

	)

98 
vm_wa™
(
vm_objeù_t
 
obj
);

99 
vm_wa™pçuÉ
(
domaš£t
 *);

100 
vm_wa™_domaš
(
domaš
);

101 
vm_wa™_mš
();

102 
vm_wa™_£v”e
();

104 
vm_·geout_æush
(
vm_·ge_t
 *, , , , *, 
boÞ—n_t
 *);

105 
vm_·geout_oom
(
shÜge
);

107 
vm_sw­out_run
();

108 
vm_sw­out_run_idË
();

	@/usr/include/vm/vm_pager.h

44 #iâdef 
_VM_PAGER_


45 
	#_VM_PAGER_


	)

47 
	~<sys/queue.h
>

49 
TAILQ_HEAD
(
·g”l¡
, 
vm_objeù
);

51 
	tpgo_š™_t
();

52 
vm_objeù_t
 
	tpgo_®loc_t
(*, 
	tvm_ooff£t_t
, 
	tvm_´Ù_t
, vm_ooffset_t,

53 
	tuüed
 *);

54 
	tpgo_d—Îoc_t
(
	tvm_objeù_t
);

55 
	tpgo_g‘·ges_t
(
	tvm_objeù_t
, 
	tvm_·ge_t
 *, , *, *);

56 
	tpgo_g‘·ges_iodÚe_t
(*, 
	tvm_·ge_t
 *, , );

57 
	tpgo_g‘·ges_async_t
(
	tvm_objeù_t
, 
	tvm_·ge_t
 *, , *, *,

58 
	tpgo_g‘·ges_iodÚe_t
, *);

59 
	tpgo_puages_t
(
	tvm_objeù_t
, 
	tvm_·ge_t
 *, , , *);

60 
boÞ—n_t
 
	tpgo_ha¥age_t
(
	tvm_objeù_t
, 
	tvm_pšdex_t
, *, *);

61 
	tpgo_pÝuÏ‹_t
(
	tvm_objeù_t
, 
	tvm_pšdex_t
, , 
	tvm_´Ù_t
,

62 
	tvm_pšdex_t
 *, vm_pindex_t *);

63 
	tpgo_·geunsw­³d_t
(
	tvm_·ge_t
);

65 
	s·g”Ýs
 {

66 
pgo_š™_t
 *
	mpgo_š™
;

67 
pgo_®loc_t
 *
	mpgo_®loc
;

68 
pgo_d—Îoc_t
 *
	mpgo_d—Îoc
;

69 
pgo_g‘·ges_t
 *
	mpgo_g‘·ges
;

70 
pgo_g‘·ges_async_t
 *
	mpgo_g‘·ges_async
;

71 
pgo_puages_t
 *
	mpgo_puages
;

72 
pgo_ha¥age_t
 *
	mpgo_ha¥age
;

73 
pgo_pÝuÏ‹_t
 *
	mpgo_pÝuÏ‹
;

74 
pgo_·geunsw­³d_t
 *
	mpgo_·geunsw­³d
;

77 
·g”Ýs
 
deçuÉ·g”Ýs
;

78 
·g”Ýs
 
sw­·g”Ýs
;

79 
·g”Ýs
 
vnod•ag”Ýs
;

80 
·g”Ýs
 
deviû·g”Ýs
;

81 
·g”Ýs
 
phy¥ag”Ýs
;

82 
·g”Ýs
 
sg·g”Ýs
;

83 
·g”Ýs
 
mgtdeviû·g”Ýs
;

94 
	#VM_PAGER_OK
 0

	)

95 
	#VM_PAGER_BAD
 1

	)

96 
	#VM_PAGER_FAIL
 2

	)

97 
	#VM_PAGER_PEND
 3

	)

98 
	#VM_PAGER_ERROR
 4

	)

99 
	#VM_PAGER_AGAIN
 5

	)

101 
	#VM_PAGER_PUT_SYNC
 0x0001

	)

102 
	#VM_PAGER_PUT_INVAL
 0x0002

	)

103 
	#VM_PAGER_PUT_NOREUSE
 0x0004

	)

104 
	#VM_PAGER_CLUSTER_OK
 0x0008

	)

106 #ifdeà
_KERNEL


108 
·g”Ýs
 *
·g”b
[];

109 
mtx_·d®ign
 
pbuf_mtx
;

111 
vm_objeù_t
 
vm_·g”_®loÿ‹
(
objty³_t
, *, 
vm_ooff£t_t
, 
vm_´Ù_t
,

112 
vm_ooff£t_t
, 
uüed
 *);

113 
vm_·g”_bufãrš™
();

114 
vm_·g”_d—Îoÿ‹
(
vm_objeù_t
);

115 
vm_·g”_g‘_·ges
(
vm_objeù_t
, 
vm_·ge_t
 *, , *, *);

116 
vm_·g”_g‘_·ges_async
(
vm_objeù_t
, 
vm_·ge_t
 *, , *, *,

117 
pgo_g‘·ges_iodÚe_t
, *);

118 
vm_·g”_š™
();

119 
vm_objeù_t
 
vm_·g”_objeù_lookup
(
·g”l¡
 *, *);

121 
__šlše
 

122 
	$vm_·g”_put_·ges
(

123 
vm_objeù_t
 
objeù
,

124 
vm_·ge_t
 *
m
,

125 
couÁ
,

126 
æags
,

127 *
¹v®s


130 
	`VM_OBJECT_ASSERT_WLOCKED
(
objeù
);

131 (*
·g”b
[
objeù
->
ty³
]->
pgo_puages
)

132 (
objeù
, 
m
, 
couÁ
, 
æags
, 
¹v®s
);

133 
	}
}

145 
__šlše
 
boÞ—n_t


146 
	$vm_·g”_has_·ge
(

147 
vm_objeù_t
 
objeù
,

148 
vm_pšdex_t
 
off£t
,

149 *
befÜe
,

150 *
aá”


152 
boÞ—n_t
 
»t
;

154 
	`VM_OBJECT_ASSERT_WLOCKED
(
objeù
);

155 
»t
 = (*
·g”b
[
objeù
->
ty³
]->
pgo_ha¥age
)

156 (
objeù
, 
off£t
, 
befÜe
, 
aá”
);

157  (
»t
);

158 
	}
}

160 
__šlše
 

161 
	$vm_·g”_pÝuÏ‹
(
vm_objeù_t
 
objeù
, 
vm_pšdex_t
 
pidx
, 
çuÉ_ty³
,

162 
vm_´Ù_t
 
max_´Ù
, 
vm_pšdex_t
 *
fœ¡
, vm_pšdex_ˆ*
Ï¡
)

165 
	`MPASS
((
objeù
->
æags
 & 
OBJ_POPULATE
) != 0);

166 
	`MPASS
(
pidx
 < 
objeù
->
size
);

167 
	`MPASS
(
objeù
->
·gšg_š_´og»ss
 > 0);

168  ((*
·g”b
[
objeù
->
ty³
]->
pgo_pÝuÏ‹
)(objeù, 
pidx
,

169 
çuÉ_ty³
, 
max_´Ù
, 
fœ¡
, 
Ï¡
));

170 
	}
}

186 
__šlše
 

187 
	$vm_·g”_·ge_unsw­³d
(
vm_·ge_t
 
m
)

190 
	`VM_OBJECT_ASSERT_LOCKED
(
m
->
objeù
);

191 ià(
·g”b
[
m
->
objeù
->
ty³
]->
pgo_·geunsw­³d
)

192 (*
·g”b
[
m
->
objeù
->
ty³
]->
pgo_·geunsw­³d
)(m);

193 
	}
}

195 
	scdev_·g”_Ýs
 {

196 (*
	mcdev_pg_çuÉ
)(
vm_objeù_t
 
	mvm_obj
, 
vm_ooff£t_t
 
	moff£t
,

197 
	m´Ù
, 
vm_·ge_t
 *
	mm»s
);

198 (*
	mcdev_pg_pÝuÏ‹
)(
vm_objeù_t
 
	mvm_obj
, 
vm_pšdex_t
 
	mpidx
,

199 
	mçuÉ_ty³
, 
vm_´Ù_t
 
	mmax_´Ù
, 
vm_pšdex_t
 *
	mfœ¡
,

200 
vm_pšdex_t
 *
	mÏ¡
);

201 (*
	mcdev_pg_ùÜ
)(*
	mhªdË
, 
vm_ooff£t_t
 
	msize
, 
vm_´Ù_t
 
	m´Ù
,

202 
vm_ooff£t_t
 
	mfoff
, 
uüed
 *
	müed
, 
u_shÜt
 *
	mcÞÜ
);

203 (*
	mcdev_pg_dtÜ
)(*
	mhªdË
);

206 
vm_objeù_t
 
cdev_·g”_®loÿ‹
(*
hªdË
, 
obj_ty³
 

,

207 
cdev_·g”_Ýs
 *
Ýs
, 
vm_ooff£t_t
 
size
, 
vm_´Ù_t
 
´Ù
,

208 
vm_ooff£t_t
 
foff
, 
uüed
 *
üed
);

209 
vm_objeù_t
 
cdev_·g”_lookup
(*
hªdË
);

210 
cdev_·g”_ä“_·ge
(
vm_objeù_t
 
objeù
, 
vm_·ge_t
 
m
);

	@/usr/include/vm/vm_param.h

69 #iâdef 
_VM_PARAM_


70 
	#_VM_PARAM_


	)

72 
	~<machše/vm·¿m.h
>

77 
	#VM_TOTAL
 1

	)

78 
	#VM_METER
 
VM_TOTAL


	)

79 
	#VM_LOADAVG
 2

	)

80 
	#VM_V_FREE_MIN
 3

	)

81 
	#VM_V_FREE_TARGET
 4

	)

82 
	#VM_V_FREE_RESERVED
 5

	)

83 
	#VM_V_INACTIVE_TARGET
 6

	)

84 
	#VM_OBSOLETE_7
 7

	)

85 
	#VM_OBSOLETE_8
 8

	)

86 
	#VM_V_PAGEOUT_FREE_MIN
 9

	)

87 
	#VM_OBSOLETE_10
 10

	)

88 
	#VM_SWAPPING_ENABLED
 11

	)

89 
	#VM_OVERCOMMIT
 12

	)

90 
	#VM_MAXID
 13

	)

95 
	#XSWDEV_VERSION
 2

	)

96 
	sxswdev
 {

97 
u_št
 
	mxsw_v”siÚ
;

98 
dev_t
 
	mxsw_dev
;

99 
	mxsw_æags
;

100 
	mxsw_nblks
;

101 
	mxsw_u£d
;

107 
	#KERN_SUCCESS
 0

	)

108 
	#KERN_INVALID_ADDRESS
 1

	)

109 
	#KERN_PROTECTION_FAILURE
 2

	)

110 
	#KERN_NO_SPACE
 3

	)

111 
	#KERN_INVALID_ARGUMENT
 4

	)

112 
	#KERN_FAILURE
 5

	)

113 
	#KERN_RESOURCE_SHORTAGE
 6

	)

114 
	#KERN_NOT_RECEIVER
 7

	)

115 
	#KERN_NO_ACCESS
 8

	)

117 #iâdeà
PA_LOCK_COUNT


118 #ifdeà
SMP


119 
	#PA_LOCK_COUNT
 32

	)

121 
	#PA_LOCK_COUNT
 1

	)

125 #iâdeà
ASSEMBLER


126 #ifdeà
_KERNEL


127 
	#num_·ges
(
x
) \

128 ((
vm_off£t_t
)((((vm_off£t_t)(
x
)è+ 
PAGE_MASK
è>> 
PAGE_SHIFT
))

	)

129 
maxtsiz
;

130 
dædsiz
;

131 
maxdsiz
;

132 
dæssiz
;

133 
maxssiz
;

134 
sgrowsiz
;

	@/usr/include/vm/vm_phys.h

40 #iâdef 
_VM_PHYS_H_


41 
	#_VM_PHYS_H_


	)

43 #ifdeà
_KERNEL


46 
	smem_affš™y
 {

47 
vm_·ddr_t
 
	m¡¬t
;

48 
vm_·ddr_t
 
	m’d
;

49 
	mdomaš
;

51 #ifdeà
NUMA


52 
mem_affš™y
 *mem_affinity;

53 *
mem_loÿl™y
;

56 
	svm_ä“li¡
 {

57 
pgli¡
 
	m¶
;

58 
	mlút
;

61 
	svm_phys_£g
 {

62 
vm_·ddr_t
 
	m¡¬t
;

63 
vm_·ddr_t
 
	m’d
;

64 
vm_·ge_t
 
	mfœ¡_·ge
;

65 
	mdomaš
;

66 
vm_ä“li¡
 (*
ä“_queues
)[
VM_NFREEPOOL
][
VM_NFREEORDER
];

69 
vm_phys_£g
 
vm_phys_£gs
[];

70 
vm_phys_n£gs
;

75 
vm_phys_add_£g
(
vm_·ddr_t
 
¡¬t
, vm_·ddr_ˆ
’d
);

76 
vm_·ge_t
 
vm_phys_®loc_cÚtig
(
domaš
, 
u_lÚg
 
Åages
, 
vm_·ddr_t
 
low
,

77 
vm_·ddr_t
 
high
, 
u_lÚg
 
®ignm’t
, vm_·ddr_ˆ
bound¬y
);

78 
vm_·ge_t
 
vm_phys_®loc_ä“li¡_·ges
(
domaš
, 
ä“li¡
, 
poÞ
,

79 
Üd”
);

80 
vm_phys_®loc_Åages
(
domaš
, 
poÞ
, 
Åages
, 
vm_·ge_t
 
ma
[]);

81 
vm_·ge_t
 
vm_phys_®loc_·ges
(
domaš
, 
poÞ
, 
Üd”
);

82 
vm_phys_domaš_m©ch
(
´eãr
, 
vm_·ddr_t
 
low
, vm_·ddr_ˆ
high
);

83 
vm_phys_fiù™ious_»g_¿nge
(
vm_·ddr_t
 
¡¬t
, vm_·ddr_ˆ
’d
,

84 
vm_mem©Œ_t
 
mem©Œ
);

85 
vm_phys_fiù™ious_uÄeg_¿nge
(
vm_·ddr_t
 
¡¬t
, vm_·ddr_ˆ
’d
);

86 
vm_·ge_t
 
vm_phys_fiù™ious_to_vm_·ge
(
vm_·ddr_t
 
·
);

87 
vm_phys_ä“_cÚtig
(
vm_·ge_t
 
m
, 
u_lÚg
 
Åages
);

88 
vm_phys_ä“_·ges
(
vm_·ge_t
 
m
, 
Üd”
);

89 
vm_phys_š™
();

90 
vm_·ge_t
 
vm_phys_·ddr_to_vm_·ge
(
vm_·ddr_t
 
·
);

91 
vm_phys_»gi¡”_domašs
(
ndomašs
, 
mem_affš™y
 *
affš™y
,

92 *
loÿl™y
);

93 
vm_·ge_t
 
vm_phys_sÿn_cÚtig
(
domaš
, 
u_lÚg
 
Åages
, 
vm_·ddr_t
 
low
,

94 
vm_·ddr_t
 
high
, 
u_lÚg
 
®ignm’t
, vm_·ddr_ˆ
bound¬y
, 
ÝtiÚs
);

95 
vm_phys_£t_poÞ
(
poÞ
, 
vm_·ge_t
 
m
, 
Üd”
);

96 
boÞ—n_t
 
vm_phys_unä“_·ge
(
vm_·ge_t
 
m
);

97 
vm_phys_mem_affš™y
(
f
, 
t
);

105 
šlše
 

106 
	$vm_phys_domaš
(
vm_·ge_t
 
m
)

108 #ifdeà
NUMA


109 
domn
, 
£gšd
;

112 
£gšd
 = 
m
->segind;

113 
	`KASSERT
(
£gšd
 < 
vm_phys_n£gs
, ("£gšd %d m %p", segšd, 
m
));

114 
domn
 = 
vm_phys_£gs
[
£gšd
].
domaš
;

115 
	`KASSERT
(
domn
 < 
vm_ndomašs
, ("domaš %d m %p", domn, 
m
));

116  (
domn
);

120 
	}
}

	@/usr/include/x86/_align.h

43 #iâdeà
_X86_INCLUDE__ALIGN_H_


44 
	#_X86_INCLUDE__ALIGN_H_


	)

51 
	#_ALIGNBYTES
 ((
__»gi¡”_t
è- 1)

	)

52 
	#_ALIGN
(
p
è(((
__ušŒ_t
)Õè+ 
_ALIGNBYTES
è& ~_ALIGNBYTES)

	)

	@/usr/include/x86/_inttypes.h

35 #iâdeà
_MACHINE_INTTYPES_H_


36 
	#_MACHINE_INTTYPES_H_


	)

42 #ifdeà
__LP64__


43 
	#__PRI64
 "l"

	)

44 
	#__PRI±r
 "l"

	)

46 
	#__PRI64
 "Î"

	)

47 
	#__PRI±r


	)

52 
	#PRId8
 "d"

	)

53 
	#PRId16
 "d"

	)

54 
	#PRId32
 "d"

	)

55 
	#PRId64
 
__PRI64
"d"

	)

56 
	#PRIdLEAST8
 "d"

	)

57 
	#PRIdLEAST16
 "d"

	)

58 
	#PRIdLEAST32
 "d"

	)

59 
	#PRIdLEAST64
 
__PRI64
"d"

	)

60 
	#PRIdFAST8
 "d"

	)

61 
	#PRIdFAST16
 "d"

	)

62 
	#PRIdFAST32
 "d"

	)

63 
	#PRIdFAST64
 
__PRI64
"d"

	)

64 
	#PRIdMAX
 "jd"

	)

65 
	#PRIdPTR
 
__PRI±r
"d"

	)

67 
	#PRIi8
 "i"

	)

68 
	#PRIi16
 "i"

	)

69 
	#PRIi32
 "i"

	)

70 
	#PRIi64
 
__PRI64
"i"

	)

71 
	#PRIiLEAST8
 "i"

	)

72 
	#PRIiLEAST16
 "i"

	)

73 
	#PRIiLEAST32
 "i"

	)

74 
	#PRIiLEAST64
 
__PRI64
"i"

	)

75 
	#PRIiFAST8
 "i"

	)

76 
	#PRIiFAST16
 "i"

	)

77 
	#PRIiFAST32
 "i"

	)

78 
	#PRIiFAST64
 
__PRI64
"i"

	)

79 
	#PRIiMAX
 "ji"

	)

80 
	#PRIiPTR
 
__PRI±r
"i"

	)

84 
	#PRIo8
 "o"

	)

85 
	#PRIo16
 "o"

	)

86 
	#PRIo32
 "o"

	)

87 
	#PRIo64
 
__PRI64
"o"

	)

88 
	#PRIoLEAST8
 "o"

	)

89 
	#PRIoLEAST16
 "o"

	)

90 
	#PRIoLEAST32
 "o"

	)

91 
	#PRIoLEAST64
 
__PRI64
"o"

	)

92 
	#PRIoFAST8
 "o"

	)

93 
	#PRIoFAST16
 "o"

	)

94 
	#PRIoFAST32
 "o"

	)

95 
	#PRIoFAST64
 
__PRI64
"o"

	)

96 
	#PRIoMAX
 "jo"

	)

97 
	#PRIoPTR
 
__PRI±r
"o"

	)

99 
	#PRIu8
 "u"

	)

100 
	#PRIu16
 "u"

	)

101 
	#PRIu32
 "u"

	)

102 
	#PRIu64
 
__PRI64
"u"

	)

103 
	#PRIuLEAST8
 "u"

	)

104 
	#PRIuLEAST16
 "u"

	)

105 
	#PRIuLEAST32
 "u"

	)

106 
	#PRIuLEAST64
 
__PRI64
"u"

	)

107 
	#PRIuFAST8
 "u"

	)

108 
	#PRIuFAST16
 "u"

	)

109 
	#PRIuFAST32
 "u"

	)

110 
	#PRIuFAST64
 
__PRI64
"u"

	)

111 
	#PRIuMAX
 "ju"

	)

112 
	#PRIuPTR
 
__PRI±r
"u"

	)

114 
	#PRIx8
 "x"

	)

115 
	#PRIx16
 "x"

	)

116 
	#PRIx32
 "x"

	)

117 
	#PRIx64
 
__PRI64
"x"

	)

118 
	#PRIxLEAST8
 "x"

	)

119 
	#PRIxLEAST16
 "x"

	)

120 
	#PRIxLEAST32
 "x"

	)

121 
	#PRIxLEAST64
 
__PRI64
"x"

	)

122 
	#PRIxFAST8
 "x"

	)

123 
	#PRIxFAST16
 "x"

	)

124 
	#PRIxFAST32
 "x"

	)

125 
	#PRIxFAST64
 
__PRI64
"x"

	)

126 
	#PRIxMAX
 "jx"

	)

127 
	#PRIxPTR
 
__PRI±r
"x"

	)

129 
	#PRIX8
 "X"

	)

130 
	#PRIX16
 "X"

	)

131 
	#PRIX32
 "X"

	)

132 
	#PRIX64
 
__PRI64
"X"

	)

133 
	#PRIXLEAST8
 "X"

	)

134 
	#PRIXLEAST16
 "X"

	)

135 
	#PRIXLEAST32
 "X"

	)

136 
	#PRIXLEAST64
 
__PRI64
"X"

	)

137 
	#PRIXFAST8
 "X"

	)

138 
	#PRIXFAST16
 "X"

	)

139 
	#PRIXFAST32
 "X"

	)

140 
	#PRIXFAST64
 
__PRI64
"X"

	)

141 
	#PRIXMAX
 "jX"

	)

142 
	#PRIXPTR
 
__PRI±r
"X"

	)

146 
	#SCNd8
 "hhd"

	)

147 
	#SCNd16
 "hd"

	)

148 
	#SCNd32
 "d"

	)

149 
	#SCNd64
 
__PRI64
"d"

	)

150 
	#SCNdLEAST8
 "hhd"

	)

151 
	#SCNdLEAST16
 "hd"

	)

152 
	#SCNdLEAST32
 "d"

	)

153 
	#SCNdLEAST64
 
__PRI64
"d"

	)

154 
	#SCNdFAST8
 "d"

	)

155 
	#SCNdFAST16
 "d"

	)

156 
	#SCNdFAST32
 "d"

	)

157 
	#SCNdFAST64
 
__PRI64
"d"

	)

158 
	#SCNdMAX
 "jd"

	)

159 
	#SCNdPTR
 
__PRI±r
"d"

	)

161 
	#SCNi8
 "hhi"

	)

162 
	#SCNi16
 "hi"

	)

163 
	#SCNi32
 "i"

	)

164 
	#SCNi64
 
__PRI64
"i"

	)

165 
	#SCNiLEAST8
 "hhi"

	)

166 
	#SCNiLEAST16
 "hi"

	)

167 
	#SCNiLEAST32
 "i"

	)

168 
	#SCNiLEAST64
 
__PRI64
"i"

	)

169 
	#SCNiFAST8
 "i"

	)

170 
	#SCNiFAST16
 "i"

	)

171 
	#SCNiFAST32
 "i"

	)

172 
	#SCNiFAST64
 
__PRI64
"i"

	)

173 
	#SCNiMAX
 "ji"

	)

174 
	#SCNiPTR
 
__PRI±r
"i"

	)

178 
	#SCNo8
 "hho"

	)

179 
	#SCNo16
 "ho"

	)

180 
	#SCNo32
 "o"

	)

181 
	#SCNo64
 
__PRI64
"o"

	)

182 
	#SCNoLEAST8
 "hho"

	)

183 
	#SCNoLEAST16
 "ho"

	)

184 
	#SCNoLEAST32
 "o"

	)

185 
	#SCNoLEAST64
 
__PRI64
"o"

	)

186 
	#SCNoFAST8
 "o"

	)

187 
	#SCNoFAST16
 "o"

	)

188 
	#SCNoFAST32
 "o"

	)

189 
	#SCNoFAST64
 
__PRI64
"o"

	)

190 
	#SCNoMAX
 "jo"

	)

191 
	#SCNoPTR
 
__PRI±r
"o"

	)

193 
	#SCNu8
 "hhu"

	)

194 
	#SCNu16
 "hu"

	)

195 
	#SCNu32
 "u"

	)

196 
	#SCNu64
 
__PRI64
"u"

	)

197 
	#SCNuLEAST8
 "hhu"

	)

198 
	#SCNuLEAST16
 "hu"

	)

199 
	#SCNuLEAST32
 "u"

	)

200 
	#SCNuLEAST64
 
__PRI64
"u"

	)

201 
	#SCNuFAST8
 "u"

	)

202 
	#SCNuFAST16
 "u"

	)

203 
	#SCNuFAST32
 "u"

	)

204 
	#SCNuFAST64
 
__PRI64
"u"

	)

205 
	#SCNuMAX
 "ju"

	)

206 
	#SCNuPTR
 
__PRI±r
"u"

	)

208 
	#SCNx8
 "hhx"

	)

209 
	#SCNx16
 "hx"

	)

210 
	#SCNx32
 "x"

	)

211 
	#SCNx64
 
__PRI64
"x"

	)

212 
	#SCNxLEAST8
 "hhx"

	)

213 
	#SCNxLEAST16
 "hx"

	)

214 
	#SCNxLEAST32
 "x"

	)

215 
	#SCNxLEAST64
 
__PRI64
"x"

	)

216 
	#SCNxFAST8
 "x"

	)

217 
	#SCNxFAST16
 "x"

	)

218 
	#SCNxFAST32
 "x"

	)

219 
	#SCNxFAST64
 
__PRI64
"x"

	)

220 
	#SCNxMAX
 "jx"

	)

221 
	#SCNxPTR
 
__PRI±r
"x"

	)

	@/usr/include/x86/_limits.h

35 #iâdef 
_MACHINE__LIMITS_H_


36 
	#_MACHINE__LIMITS_H_


	)

47 
	#__CHAR_BIT
 8

	)

49 
	#__SCHAR_MAX
 0x7à

	)

50 
	#__SCHAR_MIN
 (-0x7à- 1è

	)

52 
	#__UCHAR_MAX
 0xfà

	)

54 
	#__USHRT_MAX
 0xfffà

	)

55 
	#__SHRT_MAX
 0x7ffà

	)

56 
	#__SHRT_MIN
 (-0x7ffà- 1è

	)

58 
	#__UINT_MAX
 0xfffffffà

	)

59 
	#__INT_MAX
 0x7ffffffà

	)

60 
	#__INT_MIN
 (-0x7ffffffà- 1è

	)

62 #ifdef 
__LP64__


63 
	#__ULONG_MAX
 0xfffffffffffffffà

	)

64 
	#__LONG_MAX
 0x7ffffffffffffffà

	)

65 
	#__LONG_MIN
 (-0x7ffffffffffffffà- 1è

	)

67 
	#__ULONG_MAX
 0xffffffffUL

	)

68 
	#__LONG_MAX
 0x7fffffffL

	)

69 
	#__LONG_MIN
 (-0x7fffffffL - 1)

	)

73 
	#__ULLONG_MAX
 0xffffffffffffffffULL

	)

74 
	#__LLONG_MAX
 0x7fffffffffffffffLL

	)

75 
	#__LLONG_MIN
 (-0x7fffffffffffffffLL - 1è

	)

77 #ifdef 
__LP64__


78 
	#__SSIZE_MAX
 
__LONG_MAX


	)

79 
	#__SIZE_T_MAX
 
__ULONG_MAX


	)

80 
	#__OFF_MAX
 
__LONG_MAX


	)

81 
	#__OFF_MIN
 
__LONG_MIN


	)

83 
	#__UQUAD_MAX
 
__ULONG_MAX


	)

84 
	#__QUAD_MAX
 
__LONG_MAX


	)

85 
	#__QUAD_MIN
 
__LONG_MIN


	)

86 
	#__LONG_BIT
 64

	)

88 
	#__SSIZE_MAX
 
__INT_MAX


	)

89 
	#__SIZE_T_MAX
 
__UINT_MAX


	)

90 
	#__OFF_MAX
 
__LLONG_MAX


	)

91 
	#__OFF_MIN
 
__LLONG_MIN


	)

92 
	#__UQUAD_MAX
 
__ULLONG_MAX


	)

93 
	#__QUAD_MAX
 
__LLONG_MAX


	)

94 
	#__QUAD_MIN
 
__LLONG_MIN


	)

95 
	#__LONG_BIT
 32

	)

98 
	#__WORD_BIT
 32

	)

101 
	#__MINSIGSTKSZ
 (512 * 4)

	)

	@/usr/include/x86/_stdint.h

42 #iâdeà
_MACHINE__STDINT_H_


43 
	#_MACHINE__STDINT_H_


	)

45 
	~<machše/_lim™s.h
>

47 #ià!
defšed
(
__ýlu¥lus
è|| defšed(
__STDC_CONSTANT_MACROS
)

49 
	#INT8_C
(
c
è(c)

	)

50 
	#INT16_C
(
c
è(c)

	)

51 
	#INT32_C
(
c
è(c)

	)

53 
	#UINT8_C
(
c
è(c)

	)

54 
	#UINT16_C
(
c
è(c)

	)

55 
	#UINT32_C
(
c
è(ø## 
U
)

	)

57 #ifdef 
__LP64__


58 
	#INT64_C
(
c
è(ø## 
L
)

	)

59 
	#UINT64_C
(
c
è(ø## 
UL
)

	)

61 
	#INT64_C
(
c
è(ø## 
LL
)

	)

62 
	#UINT64_C
(
c
è(ø## 
ULL
)

	)

65 
	#INTMAX_C
(
c
è
	`INT64_C
(c)

	)

66 
	#UINTMAX_C
(
c
è
	`UINT64_C
(c)

	)

70 #ià!
defšed
(
__ýlu¥lus
è|| defšed(
__STDC_LIMIT_MACROS
)

76 
	#INT8_MIN
 (-0x7f-1)

	)

77 
	#INT16_MIN
 (-0x7fff-1)

	)

78 
	#INT32_MIN
 (-0x7fffffff-1)

	)

80 
	#INT8_MAX
 0x7f

	)

81 
	#INT16_MAX
 0x7fff

	)

82 
	#INT32_MAX
 0x7fffffff

	)

84 
	#UINT8_MAX
 0xff

	)

85 
	#UINT16_MAX
 0xffff

	)

86 
	#UINT32_MAX
 0xffffffffU

	)

88 #ifdeà
__LP64__


89 
	#INT64_MIN
 (-0x7fffffffffffffff-1)

	)

90 
	#INT64_MAX
 0x7fffffffffffffff

	)

91 
	#UINT64_MAX
 0xffffffffffffffff

	)

93 
	#INT64_MIN
 (-0x7fffffffffffffffLL-1)

	)

94 
	#INT64_MAX
 0x7fffffffffffffffLL

	)

95 
	#UINT64_MAX
 0xffffffffffffffffULL

	)

103 
	#INT_LEAST8_MIN
 
INT8_MIN


	)

104 
	#INT_LEAST16_MIN
 
INT16_MIN


	)

105 
	#INT_LEAST32_MIN
 
INT32_MIN


	)

106 
	#INT_LEAST64_MIN
 
INT64_MIN


	)

109 
	#INT_LEAST8_MAX
 
INT8_MAX


	)

110 
	#INT_LEAST16_MAX
 
INT16_MAX


	)

111 
	#INT_LEAST32_MAX
 
INT32_MAX


	)

112 
	#INT_LEAST64_MAX
 
INT64_MAX


	)

115 
	#UINT_LEAST8_MAX
 
UINT8_MAX


	)

116 
	#UINT_LEAST16_MAX
 
UINT16_MAX


	)

117 
	#UINT_LEAST32_MAX
 
UINT32_MAX


	)

118 
	#UINT_LEAST64_MAX
 
UINT64_MAX


	)

125 
	#INT_FAST8_MIN
 
INT32_MIN


	)

126 
	#INT_FAST16_MIN
 
INT32_MIN


	)

127 
	#INT_FAST32_MIN
 
INT32_MIN


	)

128 
	#INT_FAST64_MIN
 
INT64_MIN


	)

131 
	#INT_FAST8_MAX
 
INT32_MAX


	)

132 
	#INT_FAST16_MAX
 
INT32_MAX


	)

133 
	#INT_FAST32_MAX
 
INT32_MAX


	)

134 
	#INT_FAST64_MAX
 
INT64_MAX


	)

137 
	#UINT_FAST8_MAX
 
UINT32_MAX


	)

138 
	#UINT_FAST16_MAX
 
UINT32_MAX


	)

139 
	#UINT_FAST32_MAX
 
UINT32_MAX


	)

140 
	#UINT_FAST64_MAX
 
UINT64_MAX


	)

146 #ifdef 
__LP64__


147 
	#INTPTR_MIN
 
INT64_MIN


	)

148 
	#INTPTR_MAX
 
INT64_MAX


	)

149 
	#UINTPTR_MAX
 
UINT64_MAX


	)

151 
	#INTPTR_MIN
 
INT32_MIN


	)

152 
	#INTPTR_MAX
 
INT32_MAX


	)

153 
	#UINTPTR_MAX
 
UINT32_MAX


	)

160 
	#INTMAX_MIN
 
INT64_MIN


	)

161 
	#INTMAX_MAX
 
INT64_MAX


	)

162 
	#UINTMAX_MAX
 
UINT64_MAX


	)

168 #ifdef 
__LP64__


170 
	#PTRDIFF_MIN
 
INT64_MIN


	)

171 
	#PTRDIFF_MAX
 
INT64_MAX


	)

174 
	#SIG_ATOMIC_MIN
 
__LONG_MIN


	)

175 
	#SIG_ATOMIC_MAX
 
__LONG_MAX


	)

178 
	#SIZE_MAX
 
UINT64_MAX


	)

180 
	#PTRDIFF_MIN
 
INT32_MIN


	)

181 
	#PTRDIFF_MAX
 
INT32_MAX


	)

182 
	#SIG_ATOMIC_MIN
 
INT32_MIN


	)

183 
	#SIG_ATOMIC_MAX
 
INT32_MAX


	)

184 
	#SIZE_MAX
 
UINT32_MAX


	)

188 
	#WINT_MIN
 
INT32_MIN


	)

189 
	#WINT_MAX
 
INT32_MAX


	)

	@/usr/include/x86/_types.h

41 #iâdeà
_MACHINE__TYPES_H_


42 
	#_MACHINE__TYPES_H_


	)

44 #iâdeà
_SYS_CDEFS_H_


45 #”rÜ 
this
 
fže
 
Ãeds
 
sys
/
cdefs
.
h
 
as
 
a
 
´”equis™e


48 
	~<machše/_lim™s.h
>

50 
	#__NO_STRICT_ALIGNMENT


	)

55 sigÃd 
	t__št8_t
;

56 
	t__ušt8_t
;

57 
	t__št16_t
;

58 
	t__ušt16_t
;

59 
	t__št32_t
;

60 
	t__ušt32_t
;

61 #ifdef 
__LP64__


62 
	t__št64_t
;

63 
	t__ušt64_t
;

65 
__ex‹nsiÚ__


66 
	t__št64_t
;

67 
__ex‹nsiÚ__


68 
	t__ušt64_t
;

74 #ifdef 
__LP64__


75 
__št32_t
 
	t__þock_t
;

76 
__št64_t
 
	t__ü™iÿl_t
;

77 #iâdeà
_STANDALONE


78 
	t__doubË_t
;

79 
	t__æßt_t
;

81 
__št64_t
 
	t__štåŒ_t
;

82 
__št64_t
 
	t__šŒ_t
;

84 
	t__þock_t
;

85 
__št32_t
 
	t__ü™iÿl_t
;

86 #iâdeà
_STANDALONE


87 
	t__doubË_t
;

88 
	t__æßt_t
;

90 
__št32_t
 
	t__štåŒ_t
;

91 
__št32_t
 
	t__šŒ_t
;

93 
__št64_t
 
	t__štmax_t
;

94 
__št32_t
 
	t__št_ç¡8_t
;

95 
__št32_t
 
	t__št_ç¡16_t
;

96 
__št32_t
 
	t__št_ç¡32_t
;

97 
__št64_t
 
	t__št_ç¡64_t
;

98 
__št8_t
 
	t__št_Ëa¡8_t
;

99 
__št16_t
 
	t__št_Ëa¡16_t
;

100 
__št32_t
 
	t__št_Ëa¡32_t
;

101 
__št64_t
 
	t__št_Ëa¡64_t
;

102 #ifdef 
__LP64__


103 
__št64_t
 
	t__±rdiff_t
;

104 
__št64_t
 
	t__»gi¡”_t
;

105 
__št64_t
 
	t__£gsz_t
;

106 
__ušt64_t
 
	t__size_t
;

107 
__št64_t
 
	t__ssize_t
;

108 
__št64_t
 
	t__time_t
;

109 
__ušt64_t
 
	t__uštåŒ_t
;

110 
__ušt64_t
 
	t__ušŒ_t
;

112 
__št32_t
 
	t__±rdiff_t
;

113 
__št32_t
 
	t__»gi¡”_t
;

114 
__št32_t
 
	t__£gsz_t
;

115 
__ušt32_t
 
	t__size_t
;

116 
__št32_t
 
	t__ssize_t
;

117 
__št32_t
 
	t__time_t
;

118 
__ušt32_t
 
	t__uštåŒ_t
;

119 
__ušt32_t
 
	t__ušŒ_t
;

121 
__ušt64_t
 
	t__uštmax_t
;

122 
__ušt32_t
 
	t__ušt_ç¡8_t
;

123 
__ušt32_t
 
	t__ušt_ç¡16_t
;

124 
__ušt32_t
 
	t__ušt_ç¡32_t
;

125 
__ušt64_t
 
	t__ušt_ç¡64_t
;

126 
__ušt8_t
 
	t__ušt_Ëa¡8_t
;

127 
__ušt16_t
 
	t__ušt_Ëa¡16_t
;

128 
__ušt32_t
 
	t__ušt_Ëa¡32_t
;

129 
__ušt64_t
 
	t__ušt_Ëa¡64_t
;

130 #ifdef 
__LP64__


131 
__ušt64_t
 
	t__u_»gi¡”_t
;

132 
__ušt64_t
 
	t__vm_off£t_t
;

133 
__ušt64_t
 
	t__vm_·ddr_t
;

134 
__ušt64_t
 
	t__vm_size_t
;

136 
__ušt32_t
 
	t__u_»gi¡”_t
;

137 
__ušt32_t
 
	t__vm_off£t_t
;

138 #ifdeà
PAE


139 
__ušt64_t
 
	t__vm_·ddr_t
;

141 
__ušt32_t
 
	t__vm_·ddr_t
;

143 
__ušt32_t
 
	t__vm_size_t
;

145 
	t___wch¬_t
;

147 
	#__WCHAR_MIN
 
__INT_MIN


	)

148 
	#__WCHAR_MAX
 
__INT_MAX


	)

	@/usr/include/x86/acpica_machdep.h

38 #iâdeà
__ACPICA_MACHDEP_H__


39 
	#__ACPICA_MACHDEP_H__


	)

41 #ifdeà
_KERNEL


50 
	#ACPI_SYSTEM_XFACE


	)

51 
	#ACPI_EXTERNAL_XFACE


	)

52 
	#ACPI_INTERNAL_XFACE


	)

53 
	#ACPI_INTERNAL_VAR_XFACE


	)

57 
	#ACPI_ASM_MACROS


	)

58 
	#BREAKPOINT3


	)

59 
	#ACPI_DISABLE_IRQS
(è
	`di§bË_šŒ
()

	)

60 
	#ACPI_ENABLE_IRQS
(è
	`’abË_šŒ
()

	)

62 
	#ACPI_FLUSH_CPU_CACHE
(è
	`wbšvd
()

	)

65 
aýi_acquœe_glob®_lock
(vÞ©ž
ušt32_t
 *);

66 
aýi_»Ëa£_glob®_lock
(vÞ©ž
ušt32_t
 *);

67 
	#ACPI_ACQUIRE_GLOBAL_LOCK
(
GL±r
, 
Acq
) do { \

68 (
Acq
èð
	`aýi_acquœe_glob®_lock
(&((
GL±r
)->
Glob®Lock
)); \

69 } 0)

	)

70 
	#ACPI_RELEASE_GLOBAL_LOCK
(
GL±r
, 
Acq
) do { \

71 (
Acq
èð
	`aýi_»Ëa£_glob®_lock
(&((
GL±r
)->
Glob®Lock
)); \

72 } 0)

	)

74 
	gšŒ_Œigg”
;

75 
	gšŒ_pÞ¬™y
;

77 
aýi_S‘DeçuÉIÁrMod–
(
mod–
);

78 
aýi_ýu_c1
();

79 
aýi_ýu_idË_mwa™
(
ušt32_t
 
mwa™_hšt
);

80 *
aýi_m­_bË
(
vm_·ddr_t
 
·
, cÚ¡ *
sig
);

81 
aýi_unm­_bË
(*
bË
);

82 
vm_·ddr_t
 
aýi_fšd_bË
(cÚ¡ *
sig
);

83 
madt_·r£_š‹¼u±_v®ues
(*
’Œy
,

84 
šŒ_Œigg”
 *
Œig
, 
šŒ_pÞ¬™y
 *
pÞ
);

86 
madt_found_sci_ov”ride
;

	@/usr/include/x86/apicvar.h

31 #iâdeà
_X86_APICVAR_H_


32 
	#_X86_APICVAR_H_


	)

79 
	#xAPIC_MAX_APIC_ID
 0xã

	)

80 
	#xAPIC_ID_ALL
 0xff

	)

81 
	#MAX_APIC_ID
 0x200

	)

82 
	#APIC_ID_ALL
 0xffffffff

	)

84 
	#IOAPIC_MAX_ID
 
xAPIC_MAX_APIC_ID


	)

87 
	#APIC_IO_INTS
 (
IDT_IO_INTS
 + 16)

	)

88 
	#APIC_NUM_IOINTS
 191

	)

91 
	#APIC_TIMER_INT
 (
APIC_IO_INTS
 + 
APIC_NUM_IOINTS
)

	)

109 
	#APIC_LOCAL_INTS
 240

	)

110 
	#APIC_ERROR_INT
 
APIC_LOCAL_INTS


	)

111 
	#APIC_THERMAL_INT
 (
APIC_LOCAL_INTS
 + 1)

	)

112 
	#APIC_CMC_INT
 (
APIC_LOCAL_INTS
 + 2)

	)

113 
	#APIC_IPI_INTS
 (
APIC_LOCAL_INTS
 + 3)

	)

115 
	#IPI_RENDEZVOUS
 (
APIC_IPI_INTS
è

	)

116 
	#IPI_INVLTLB
 (
APIC_IPI_INTS
 + 1è

	)

117 
	#IPI_INVLPG
 (
APIC_IPI_INTS
 + 2)

	)

118 
	#IPI_INVLRNG
 (
APIC_IPI_INTS
 + 3)

	)

119 
	#IPI_INVLCACHE
 (
APIC_IPI_INTS
 + 4)

	)

121 
	#IPI_BITMAP_VECTOR
 (
APIC_IPI_INTS
 + 5)

	)

124 
	#IPI_AST
 0

	)

125 
	#IPI_PREEMPT
 1

	)

126 
	#IPI_HARDCLOCK
 2

	)

127 
	#IPI_BITMAP_LAST
 
IPI_HARDCLOCK


	)

128 
	#IPI_IS_BITMAPED
(
x
è((xè<ð
IPI_BITMAP_LAST
)

	)

130 
	#IPI_STOP
 (
APIC_IPI_INTS
 + 6è

	)

131 
	#IPI_SUSPEND
 (
APIC_IPI_INTS
 + 7è

	)

132 
	#IPI_DYN_FIRST
 (
APIC_IPI_INTS
 + 8)

	)

133 
	#IPI_DYN_LAST
 (253è

	)

139 
	#IPI_NMI_FIRST
 254

	)

140 
	#IPI_TRACE
 254

	)

141 
	#IPI_STOP_HARD
 255

	)

147 
	#APIC_SPURIOUS_INT
 255

	)

149 #iâdeà
LOCORE


151 
	#APIC_IPI_DEST_SELF
 -1

	)

152 
	#APIC_IPI_DEST_ALL
 -2

	)

153 
	#APIC_IPI_DEST_OTHERS
 -3

	)

155 
	#APIC_BUS_UNKNOWN
 -1

	)

156 
	#APIC_BUS_ISA
 0

	)

157 
	#APIC_BUS_EISA
 1

	)

158 
	#APIC_BUS_PCI
 2

	)

159 
	#APIC_BUS_MAX
 
APIC_BUS_PCI


	)

161 
	#IRQ_EXTINT
 -1

	)

162 
	#IRQ_NMI
 -2

	)

163 
	#IRQ_SMI
 -3

	)

164 
	#IRQ_DISABLED
 -4

	)

170 
	s­ic_’um”©Ü
 {

171 cÚ¡ *
	m­ic_Çme
;

172 (*
	m­ic_´obe
)();

173 (*
	m­ic_´obe_ýus
)();

174 (*
	m­ic_£tup_loÿl
)();

175 (*
	m­ic_£tup_io
)();

176 
SLIST_ENTRY
(
­ic_’um”©Ü
è
	m­ic_Ãxt
;

179 
šthªd_t


180 
IDTVEC
(
­ic_i¤1
), IDTVEC(
­ic_i¤2
), IDTVEC(
­ic_i¤3
),

181 
IDTVEC
(
­ic_i¤4
), IDTVEC(
­ic_i¤5
), IDTVEC(
­ic_i¤6
),

182 
IDTVEC
(
­ic_i¤7
), IDTVEC(
cmcšt
), IDTVEC(
”rÜšt
),

183 
IDTVEC
(
¥uriousšt
), IDTVEC(
tim”št
),

184 
IDTVEC
(
­ic_i¤1_±i
), IDTVEC(
­ic_i¤2_±i
), IDTVEC(
­ic_i¤3_±i
),

185 
IDTVEC
(
­ic_i¤4_±i
), IDTVEC(
­ic_i¤5_±i
), IDTVEC(
­ic_i¤6_±i
),

186 
IDTVEC
(
­ic_i¤7_±i
), IDTVEC(
cmcšt_±i
), IDTVEC(
”rÜšt_±i
),

187 
IDTVEC
(
¥uriousšt_±i
), IDTVEC(
tim”št_±i
);

189 
vm_·ddr_t
 
Ïpic_·ddr
;

190 *
­ic_ýuids
;

192 
­ic_»gi¡”_’um”©Ü
(
­ic_’um”©Ü
 *
’um”©Ü
);

193 *
ißpic_ü—‹
(
vm_·ddr_t
 
addr
, 
št32_t
 
­ic_id
, 
štba£
);

194 
ißpic_di§bË_pš
(*
cook›
, 
u_št
 
pš
);

195 
ißpic_g‘_veùÜ
(*
cook›
, 
u_št
 
pš
);

196 
ißpic_»gi¡”
(*
cook›
);

197 
ißpic_»m­_veùÜ
(*
cook›
, 
u_št
 
pš
, 
veùÜ
);

198 
ißpic_£t_bus
(*
cook›
, 
u_št
 
pš
, 
bus_ty³
);

199 
ißpic_£t_extšt
(*
cook›
, 
u_št
 
pš
);

200 
ißpic_£t_nmi
(*
cook›
, 
u_št
 
pš
);

201 
ißpic_£t_pÞ¬™y
(*
cook›
, 
u_št
 
pš
, 
šŒ_pÞ¬™y
 
pÞ
);

202 
ißpic_£t_Œigg”mode
(*
cook›
, 
u_št
 
pš
,

203 
šŒ_Œigg”
 
Œigg”
);

204 
ißpic_£t_smi
(*
cook›
, 
u_št
 
pš
);

210 
	s­ic_Ýs
 {

211 (*
	mü—‹
)(
	mu_št
, );

212 (*
	mš™
)(
	mvm_·ddr_t
);

213 (*
	mx­ic_mode
)();

214 
boÞ
 (*
is_x2­ic
)();

215 (*
	m£tup
)();

216 (*
	mdump
)(const *);

217 (*
	mdi§bË
)();

218 (*
	meoi
)();

219 (*
	mid
)();

220 (*
	mšŒ_³ndšg
)(
	mu_št
);

221 (*
	m£t_logiÿl_id
)(
	mu_št
, u_int, u_int);

222 
u_št
 (*
ýuid
)(
	mu_št
);

225 
u_št
 (*
®loc_veùÜ
)(
	mu_št
, u_int);

226 
u_št
 (*
®loc_veùÜs
)(
	mu_št
, u_int *, u_int, u_int);

227 (*
	m’abË_veùÜ
)(
	mu_št
, u_int);

228 (*
	mdi§bË_veùÜ
)(
	mu_št
, u_int);

229 (*
	mä“_veùÜ
)(
	mu_št
, u_int, u_int);

233 (*
	m’abË_pmc
)();

234 (*
	mdi§bË_pmc
)();

235 (*
	m»’abË_pmc
)();

238 (*
	m’abË_cmc
)();

241 (*
	m’abË_mÿ_–vt
)();

244 (*
	mi_¿w
)(
	m»gi¡”_t
, 
	mu_št
);

245 (*
	mi_veùÜed
)(
	mu_št
, );

246 (*
	mi_wa™
)();

247 (*
	mi_®loc
)(
šthªd_t
 *
	mifunc
);

248 (*
	mi_ä“
)(
	mveùÜ
);

251 (*
	m£t_lvt_mask
)(
	mu_št
, u_št, 
	mu_ch¬
);

252 (*
	m£t_lvt_mode
)(
	mu_št
, u_št, 
	mu_št32_t
);

253 (*
	m£t_lvt_pÞ¬™y
)(
	mu_št
, u_št, 
	mšŒ_pÞ¬™y
);

254 (*
	m£t_lvt_Œigg”mode
)(
	mu_št
, u_št, 
	mšŒ_Œigg”
);

257 
­ic_Ýs
‡pic_ops;

259 
šlše
 

260 
	$Ïpic_ü—‹
(
u_št
 
­ic_id
, 
boÙ_ýu
)

263 
­ic_Ýs
.
	`ü—‹
(
­ic_id
, 
boÙ_ýu
);

264 
	}
}

266 
šlše
 

267 
	$Ïpic_š™
(
vm_·ddr_t
 
addr
)

270 
­ic_Ýs
.
	`š™
(
addr
);

271 
	}
}

273 
šlše
 

274 
	$Ïpic_x­ic_mode
()

277 
­ic_Ýs
.
	`x­ic_mode
();

278 
	}
}

280 
šlše
 
boÞ


281 
	$Ïpic_is_x2­ic
()

284  (
­ic_Ýs
.
	`is_x2­ic
());

285 
	}
}

287 
šlše
 

288 
	$Ïpic_£tup
(
boÙ
)

291 
­ic_Ýs
.
	`£tup
(
boÙ
);

292 
	}
}

294 
šlše
 

295 
	$Ïpic_dump
(cÚ¡ *
¡r
)

298 
­ic_Ýs
.
	`dump
(
¡r
);

299 
	}
}

301 
šlše
 

302 
	$Ïpic_di§bË
()

305 
­ic_Ýs
.
	`di§bË
();

306 
	}
}

308 
šlše
 

309 
	$Ïpic_eoi
()

312 
­ic_Ýs
.
	`eoi
();

313 
	}
}

315 
šlše
 

316 
	$Ïpic_id
()

319  (
­ic_Ýs
.
	`id
());

320 
	}
}

322 
šlše
 

323 
	$Ïpic_šŒ_³ndšg
(
u_št
 
veùÜ
)

326  (
­ic_Ýs
.
	`šŒ_³ndšg
(
veùÜ
));

327 
	}
}

330 
šlše
 

331 
	$Ïpic_£t_logiÿl_id
(
u_št
 
­ic_id
, u_šˆ
þu¡”
, u_šˆ
þu¡”_id
)

334 
­ic_Ýs
.
	`£t_logiÿl_id
(
­ic_id
, 
þu¡”
, 
þu¡”_id
);

335 
	}
}

337 
šlše
 
u_št


338 
	$­ic_ýuid
(
u_št
 
­ic_id
)

341  (
­ic_Ýs
.
	`ýuid
(
­ic_id
));

342 
	}
}

344 
šlše
 
u_št


345 
	$­ic_®loc_veùÜ
(
u_št
 
­ic_id
, u_šˆ
œq
)

348  (
­ic_Ýs
.
	`®loc_veùÜ
(
­ic_id
, 
œq
));

349 
	}
}

351 
šlše
 
u_št


352 
	$­ic_®loc_veùÜs
(
u_št
 
­ic_id
, u_šˆ*
œqs
, u_šˆ
couÁ
, u_šˆ
®ign
)

355  (
­ic_Ýs
.
	`®loc_veùÜs
(
­ic_id
, 
œqs
, 
couÁ
, 
®ign
));

356 
	}
}

358 
šlše
 

359 
	$­ic_’abË_veùÜ
(
u_št
 
­ic_id
, u_šˆ
veùÜ
)

362 
­ic_Ýs
.
	`’abË_veùÜ
(
­ic_id
, 
veùÜ
);

363 
	}
}

365 
šlše
 

366 
	$­ic_di§bË_veùÜ
(
u_št
 
­ic_id
, u_šˆ
veùÜ
)

369 
­ic_Ýs
.
	`di§bË_veùÜ
(
­ic_id
, 
veùÜ
);

370 
	}
}

372 
šlše
 

373 
	$­ic_ä“_veùÜ
(
u_št
 
­ic_id
, u_šˆ
veùÜ
, u_šˆ
œq
)

376 
­ic_Ýs
.
	`ä“_veùÜ
(
­ic_id
, 
veùÜ
, 
œq
);

377 
	}
}

379 
šlše
 

380 
	$Ïpic_’abË_pmc
()

383  (
­ic_Ýs
.
	`’abË_pmc
());

384 
	}
}

386 
šlše
 

387 
	$Ïpic_di§bË_pmc
()

390 
­ic_Ýs
.
	`di§bË_pmc
();

391 
	}
}

393 
šlše
 

394 
	$Ïpic_»’abË_pmc
()

397 
­ic_Ýs
.
	`»’abË_pmc
();

398 
	}
}

400 
šlše
 

401 
	$Ïpic_’abË_cmc
()

404 
­ic_Ýs
.
	`’abË_cmc
();

405 
	}
}

407 
šlše
 

408 
	$Ïpic_’abË_mÿ_–vt
()

411  (
­ic_Ýs
.
	`’abË_mÿ_–vt
());

412 
	}
}

414 
šlše
 

415 
	$Ïpic_i_¿w
(
»gi¡”_t
 
iülo
, 
u_št
 
de¡
)

418 
­ic_Ýs
.
	`i_¿w
(
iülo
, 
de¡
);

419 
	}
}

421 
šlše
 

422 
	$Ïpic_i_veùÜed
(
u_št
 
veùÜ
, 
de¡
)

425 
­ic_Ýs
.
	`i_veùÜed
(
veùÜ
, 
de¡
);

426 
	}
}

428 
šlše
 

429 
	$Ïpic_i_wa™
(
d–ay
)

432  (
­ic_Ýs
.
	`i_wa™
(
d–ay
));

433 
	}
}

435 
šlše
 

436 
	$Ïpic_i_®loc
(
šthªd_t
 *
ifunc
)

439  (
­ic_Ýs
.
	`i_®loc
(
ifunc
));

440 
	}
}

442 
šlše
 

443 
	$Ïpic_i_ä“
(
veùÜ
)

446  (
­ic_Ýs
.
	`i_ä“
(
veùÜ
));

447 
	}
}

449 
šlše
 

450 
	$Ïpic_£t_lvt_mask
(
u_št
 
­ic_id
, u_šˆ
lvt
, 
u_ch¬
 
masked
)

453  (
­ic_Ýs
.
	`£t_lvt_mask
(
­ic_id
, 
lvt
, 
masked
));

454 
	}
}

456 
šlše
 

457 
	$Ïpic_£t_lvt_mode
(
u_št
 
­ic_id
, u_šˆ
lvt
, 
u_št32_t
 
mode
)

460  (
­ic_Ýs
.
	`£t_lvt_mode
(
­ic_id
, 
lvt
, 
mode
));

461 
	}
}

463 
šlše
 

464 
	$Ïpic_£t_lvt_pÞ¬™y
(
u_št
 
­ic_id
, u_šˆ
lvt
, 
šŒ_pÞ¬™y
 
pÞ
)

467  (
­ic_Ýs
.
	`£t_lvt_pÞ¬™y
(
­ic_id
, 
lvt
, 
pÞ
));

468 
	}
}

470 
šlše
 

471 
	$Ïpic_£t_lvt_Œigg”mode
(
u_št
 
­ic_id
, u_šˆ
lvt
, 
šŒ_Œigg”
 
Œigg”
)

474  (
­ic_Ýs
.
	`£t_lvt_Œigg”mode
(
­ic_id
, 
lvt
, 
Œigg”
));

475 
	}
}

477 
Ïpic_hªdË_cmc
();

478 
Ïpic_hªdË_”rÜ
();

479 
Ïpic_hªdË_šŒ
(
veùÜ
, 
Œ­äame
 *
äame
);

480 
Ïpic_hªdË_tim”
(
Œ­äame
 *
äame
);

482 
ißpic_g‘_rid
(
u_št
 
­ic_id
, 
ušt16_t
 *
ridp
);

484 
x2­ic_mode
;

485 
Ïpic_eoi_suµ»ssiÚ
;

487 #ifdeà
_SYS_SYSCTL_H_


488 
SYSCTL_DECL
(
_hw_­ic
);

	@/usr/include/x86/apm_bios.h

18 #iâdeà
_X86_APM_BIOS_H_


19 
	#_X86_APM_BIOS_H_


	)

21 #iâdeà
_KERNEL


22 
	~<sys/ty³s.h
>

24 
	~<sys/ioccom.h
>

27 
	#APM_BIOS
 0x53

	)

28 
	#APM_INT
 0x15

	)

31 
	#APM_16BIT_SUPPORT
 0x01

	)

32 
	#APM_32BIT_SUPPORT
 0x02

	)

33 
	#APM_CPUIDLE_SLOW
 0x04

	)

34 
	#APM_DISABLED
 0x08

	)

35 
	#APM_DISENGAGED
 0x10

	)

38 
	#APM_OURADDR
 0x00080000

	)

41 
	#APM_INSTCHECK
 0x00

	)

42 
	#APM_REALCONNECT
 0x01

	)

43 
	#APM_PROT16CONNECT
 0x02

	)

44 
	#APM_PROT32CONNECT
 0x03

	)

45 
	#APM_DISCONNECT
 0x04

	)

46 
	#APM_CPUIDLE
 0x05

	)

47 
	#APM_CPUBUSY
 0x06

	)

48 
	#APM_SETPWSTATE
 0x07

	)

49 
	#APM_ENABLEDISABLEPM
 0x08

	)

50 
	#APM_RESTOREDEFAULT
 0x09

	)

51 
	#APM_GETPWSTATUS
 0x0a

	)

52 
	#APM_GETPMEVENT
 0x0b

	)

53 
	#APM_GETPWSTATE
 0x0c

	)

54 
	#APM_ENABLEDISABLEDPM
 0x0d

	)

55 
	#APM_DRVVERSION
 0x0e

	)

56 
	#APM_ENGAGEDISENGAGEPM
 0x0f

	)

57 
	#APM_GETCAPABILITIES
 0x10

	)

58 
	#APM_RESUMETIMER
 0x11

	)

59 
	#APM_RESUMEONRING
 0x12

	)

60 
	#APM_TIMERREQUESTS
 0x13

	)

61 
	#APM_OEMFUNC
 0x80

	)

64 
	#APME_OK
 0x00

	)

65 
	#APME_PMDISABLED
 0x01

	)

66 
	#APME_REALESTABLISHED
 0x02

	)

67 
	#APME_NOTCONNECTED
 0x03

	)

68 
	#APME_PROT16ESTABLISHED
 0x05

	)

69 
	#APME_PROT16NOTSUPPORTED
 0x06

	)

70 
	#APME_PROT32ESTABLISHED
 0x07

	)

71 
	#APME_PROT32NOTDUPPORTED
 0x08

	)

72 
	#APME_UNKNOWNDEVICEID
 0x09

	)

73 
	#APME_OUTOFRANGE
 0x0a

	)

74 
	#APME_NOTENGAGED
 0x0b

	)

75 
	#APME_CANTENTERSTATE
 0x60

	)

76 
	#APME_NOPMEVENT
 0x80

	)

77 
	#APME_NOAPMPRESENT
 0x86

	)

81 
	#PMDV_APMBIOS
 0x0000

	)

82 
	#PMDV_ALLDEV
 0x0001

	)

83 
	#PMDV_DISP0
 0x0100

	)

84 
	#PMDV_DISP1
 0x0101

	)

85 
	#PMDV_DISPALL
 0x01ff

	)

86 
	#PMDV_2NDSTORAGE0
 0x0200

	)

87 
	#PMDV_2NDSTORAGE1
 0x0201

	)

88 
	#PMDV_2NDSTORAGE2
 0x0202

	)

89 
	#PMDV_2NDSTORAGE3
 0x0203

	)

90 
	#PMDV_PARALLEL0
 0x0300

	)

91 
	#PMDV_PARALLEL1
 0x0301

	)

92 
	#PMDV_SERIAL0
 0x0400

	)

93 
	#PMDV_SERIAL1
 0x0401

	)

94 
	#PMDV_SERIAL2
 0x0402

	)

95 
	#PMDV_SERIAL3
 0x0403

	)

96 
	#PMDV_SERIAL4
 0x0404

	)

97 
	#PMDV_SERIAL5
 0x0405

	)

98 
	#PMDV_SERIAL6
 0x0406

	)

99 
	#PMDV_SERIAL7
 0x0407

	)

100 
	#PMDV_NET0
 0x0500

	)

101 
	#PMDV_NET1
 0x0501

	)

102 
	#PMDV_NET2
 0x0502

	)

103 
	#PMDV_NET3
 0x0503

	)

104 
	#PMDV_PCMCIA0
 0x0600

	)

105 
	#PMDV_PCMCIA1
 0x0601

	)

106 
	#PMDV_PCMCIA2
 0x0602

	)

107 
	#PMDV_PCMCIA3
 0x0603

	)

109 
	#PMDV_BATT_BASE
 0x8000

	)

110 
	#PMDV_BATT0
 0x8001

	)

111 
	#PMDV_BATT1
 0x8002

	)

112 
	#PMDV_BATT_ALL
 0x80ff

	)

118 
	#PMST_APMENABLED
 0x0000

	)

119 
	#PMST_STANDBY
 0x0001

	)

120 
	#PMST_SUSPEND
 0x0002

	)

121 
	#PMST_OFF
 0x0003

	)

122 
	#PMST_LASTREQNOTIFY
 0x0004

	)

123 
	#PMST_LASTREQREJECT
 0x0005

	)

129 #ià!
defšed
(
ASSEMBLER
è&& !defšed(
INITIALIZER
)

132 
	s­mhook
 {

133 
­mhook
 *
	mah_Ãxt
;

134 (*
	mah_fun
)(*
	mah_¬g
);

135 *
	mah_¬g
;

136 cÚ¡ *
	mah_Çme
;

137 
	mah_Üd”
;

139 
	#APM_HOOK_NONE
 (-1)

	)

140 
	#APM_HOOK_SUSPEND
 0

	)

141 
	#APM_HOOK_RESUME
 1

	)

142 
	#NAPM_HOOK
 2

	)

144 #ifdeà
_KERNEL


146 
­m_su¥’d
(
¡©e
);

147 
­mhook
 *
­m_hook_e¡ablish
 (
­mh
, apmhook *);

148 
­m_hook_di£¡ablish
 (
­mh
, 
­mhook
 *);

149 
­m_ýu_idË
();

150 
­m_ýu_busy
();

156 
	#APM_MIN_ORDER
 0x00

	)

157 
	#APM_MID_ORDER
 0x80

	)

158 
	#APM_MAX_ORDER
 0xff

	)

161 
	#PMEV_NOEVENT
 0x0000

	)

162 
	#PMEV_STANDBYREQ
 0x0001

	)

163 
	#PMEV_SUSPENDREQ
 0x0002

	)

164 
	#PMEV_NORMRESUME
 0x0003

	)

165 
	#PMEV_CRITRESUME
 0x0004

	)

166 
	#PMEV_BATTERYLOW
 0x0005

	)

167 
	#PMEV_POWERSTATECHANGE
 0x0006

	)

168 
	#PMEV_UPDATETIME
 0x0007

	)

169 
	#PMEV_CRITSUSPEND
 0x0008

	)

170 
	#PMEV_USERSTANDBYREQ
 0x0009

	)

171 
	#PMEV_USERSUSPENDREQ
 0x000a

	)

172 
	#PMEV_STANDBYRESUME
 0x000b

	)

173 
	#PMEV_CAPABILITIESCHANGE
 0x000c

	)

178 
	#PMEV_DEFAULT
 0xfffffffà

	)

180 #ià!
defšed
(
ASSEMBLER
è&& !defšed(
INITIALIZER
)

186 
	s­m_šfo_Þd
 {

187 
u_št
 
	mai_majÜ
;

188 
u_št
 
	mai_mšÜ
;

189 
u_št
 
	mai_aþše
;

190 
u_št
 
	mai_b©t_¡©
;

191 
u_št
 
	mai_b©t_liã
;

192 
u_št
 
	mai_¡©us
;

193 } *
	t­m_šfo_Þd_t
;

201 
	s­m_šfo
 {

202 
u_št
 
	mai_šfov”siÚ
;

203 
u_št
 
	mai_majÜ
;

204 
u_št
 
	mai_mšÜ
;

205 
u_št
 
	mai_aþše
;

206 
u_št
 
	mai_b©t_¡©
;

207 
u_št
 
	mai_b©t_liã
;

208 
	mai_b©t_time
;

209 
u_št
 
	mai_¡©us
;

210 
u_št
 
	mai_b©‹r›s
;

211 
u_št
 
	mai_ÿ·bž™›s
;

212 
u_št
 
	mai_¥¬e
[6];

213 } *
	t­m_šfo_t
;

216 
	#APM_BATT_HIGH
 0x01

	)

217 
	#APM_BATT_LOW
 0x02

	)

218 
	#APM_BATT_CRITICAL
 0x04

	)

219 
	#APM_BATT_CHARGING
 0x08

	)

220 
	#APM_BATT_NOT_PRESENT
 0x10

	)

221 
	#APM_BATT_NO_SYSTEM
 0x80

	)

223 
	s­m_pw¡©us
 {

224 
u_št
 
	m­_deviû
;

225 
u_št
 
	m­_aþše
;

226 
u_št
 
	m­_b©t_¡©
;

227 
u_št
 
	m­_b©t_æag
;

228 
u_št
 
	m­_b©t_liã
;

229 
	m­_b©t_time
;

230 } *
	t­m_pw¡©us_t
;

232 
	s­m_bios_¬g
 {

233 
ušt32_t
 
	m—x
;

234 
ušt32_t
 
	mebx
;

235 
ušt32_t
 
	mecx
;

236 
ušt32_t
 
	medx
;

237 
ušt32_t
 
	mesi
;

238 
ušt32_t
 
	medi
;

241 
	s­m_ev’t_šfo
 {

242 
u_št
 
	mty³
;

243 
u_št
 
	mšdex
;

244 
u_št
 
	m¥¬e
[8];

247 
	#APMIO_SUSPEND
 
	`_IO
('P', 1)

	)

248 
	#APMIO_GETINFO_OLD
 
	`_IOR
('P', 2, 
­m_šfo_Þd
)

	)

249 
	#APMIO_ENABLE
 
	`_IO
('P', 5)

	)

250 
	#APMIO_DISABLE
 
	`_IO
('P', 6)

	)

251 
	#APMIO_HALTCPU
 
	`_IO
('P', 7)

	)

252 
	#APMIO_NOTHALTCPU
 
	`_IO
('P', 8)

	)

253 
	#APMIO_DISPLAY
 
	`_IOW
('P', 9, )

	)

254 
	#APMIO_BIOS
 
	`_IOWR
('P', 10, 
­m_bios_¬g
)

	)

255 
	#APMIO_GETINFO
 
	`_IOR
('P', 11, 
­m_šfo
)

	)

256 
	#APMIO_STANDBY
 
	`_IO
('P', 12)

	)

257 
	#APMIO_GETPWSTATUS
 
	`_IOWR
('P', 13, 
­m_pw¡©us
)

	)

259 
	#APMIO_NEXTEVENT
 
	`_IOR
('A', 100, 
­m_ev’t_šfo
)

	)

260 
	#APMIO_REJECTLASTREQ
 
	`_IO
('P', 101)

	)

	@/usr/include/x86/bus.h

99 #iâdeà
_X86_BUS_H_


100 
	#_X86_BUS_H_


	)

102 
	~<machše/_bus.h
>

103 
	~<machše/ýufunc.h
>

105 #iâdeà
__GNUCLIKE_ASM


112 
	#X86_BUS_SPACE_IO
 0

	)

113 
	#X86_BUS_SPACE_MEM
 1

	)

115 
	#BUS_SPACE_MAXSIZE_24BIT
 0xFFFFFF

	)

116 
	#BUS_SPACE_MAXSIZE_32BIT
 0xFFFFFFFF

	)

117 
	#BUS_SPACE_MAXSIZE
 0xFFFFFFFF

	)

118 
	#BUS_SPACE_MAXADDR_24BIT
 0xFFFFFF

	)

119 
	#BUS_SPACE_MAXADDR_32BIT
 0xFFFFFFFF

	)

120 #ià
defšed
(
__amd64__
è|| defšed(
PAE
)

121 
	#BUS_SPACE_MAXADDR_48BIT
 0xFFFFFFFFFFFFULL

	)

122 
	#BUS_SPACE_MAXADDR
 0xFFFFFFFFFFFFFFFFULL

	)

124 
	#BUS_SPACE_MAXADDR
 0xFFFFFFFF

	)

127 
	#BUS_SPACE_INVALID_DATA
 (~0)

	)

128 
	#BUS_SPACE_UNRESTRICTED
 (~0)

	)

134 
bus_¥aû_m­
(
bus_¥aû_g_t
 
g
, 
bus_addr_t
 
addr
, 
bus_size_t
 
size
,

135 
æags
, 
bus_¥aû_hªdË_t
 *
bshp
);

141 
bus_¥aû_unm­
(
bus_¥aû_g_t
 
g
, 
bus_¥aû_hªdË_t
 
bsh
,

142 
bus_size_t
 
size
);

148 
__šlše
 
bus_¥aû_sub»giÚ
(
bus_¥aû_g_t
 
t
,

149 
bus_¥aû_hªdË_t
 
bsh
,

150 
bus_size_t
 
off£t
, bus_size_ˆ
size
,

151 
bus_¥aû_hªdË_t
 *
nbshp
);

153 
__šlše
 

154 
	$bus_¥aû_sub»giÚ
(
bus_¥aû_g_t
 
t
 
__unu£d
, 
bus_¥aû_hªdË_t
 
bsh
,

155 
bus_size_t
 
off£t
, bus_size_ˆ
size
 
__unu£d
,

156 
bus_¥aû_hªdË_t
 *
nbshp
)

159 *
nbshp
 = 
bsh
 + 
off£t
;

161 
	}
}

167 
bus_¥aû_®loc
(
bus_¥aû_g_t
 
t
, 
bus_addr_t
 
r¡¬t
,

168 
bus_addr_t
 
»nd
, 
bus_size_t
 
size
, bus_size_ˆ
®ign
,

169 
bus_size_t
 
bound¬y
, 
æags
, 
bus_addr_t
 *
add½
,

170 
bus_¥aû_hªdË_t
 *
bshp
);

176 
__šlše
 
bus_¥aû_ä“
(
bus_¥aû_g_t
 
t
, 
bus_¥aû_hªdË_t
 
bsh
,

177 
bus_size_t
 
size
);

179 
__šlše
 

180 
	$bus_¥aû_ä“
(
bus_¥aû_g_t
 
t
 
__unu£d
, 
bus_¥aû_hªdË_t
 
bsh
 __unused,

181 
bus_size_t
 
size
 
__unu£d
)

183 
	}
}

190 
__šlše
 
u_št8_t
 
bus_¥aû_»ad_1
(
bus_¥aû_g_t
 
g
,

191 
bus_¥aû_hªdË_t
 
hªdË
,

192 
bus_size_t
 
off£t
);

194 
__šlše
 
u_št16_t
 
bus_¥aû_»ad_2
(
bus_¥aû_g_t
 
g
,

195 
bus_¥aû_hªdË_t
 
hªdË
,

196 
bus_size_t
 
off£t
);

198 
__šlše
 
u_št32_t
 
bus_¥aû_»ad_4
(
bus_¥aû_g_t
 
g
,

199 
bus_¥aû_hªdË_t
 
hªdË
,

200 
bus_size_t
 
off£t
);

202 #ifdeà
__amd64__


203 
__šlše
 
ušt64_t
 
bus_¥aû_»ad_8
(
bus_¥aû_g_t
 
g
,

204 
bus_¥aû_hªdË_t
 
hªdË
,

205 
bus_size_t
 
off£t
);

208 
__šlše
 
u_št8_t


209 
	$bus_¥aû_»ad_1
(
bus_¥aû_g_t
 
g
, 
bus_¥aû_hªdË_t
 
hªdË
,

210 
bus_size_t
 
off£t
)

213 ià(
g
 =ð
X86_BUS_SPACE_IO
)

214  (
	`šb
(
hªdË
 + 
off£t
));

215  (*(vÞ©ž
u_št8_t
 *)(
hªdË
 + 
off£t
));

216 
	}
}

218 
__šlše
 
u_št16_t


219 
	$bus_¥aû_»ad_2
(
bus_¥aû_g_t
 
g
, 
bus_¥aû_hªdË_t
 
hªdË
,

220 
bus_size_t
 
off£t
)

223 ià(
g
 =ð
X86_BUS_SPACE_IO
)

224  (
	`šw
(
hªdË
 + 
off£t
));

225  (*(vÞ©ž
u_št16_t
 *)(
hªdË
 + 
off£t
));

226 
	}
}

228 
__šlše
 
u_št32_t


229 
	$bus_¥aû_»ad_4
(
bus_¥aû_g_t
 
g
, 
bus_¥aû_hªdË_t
 
hªdË
,

230 
bus_size_t
 
off£t
)

233 ià(
g
 =ð
X86_BUS_SPACE_IO
)

234  (
	`šl
(
hªdË
 + 
off£t
));

235  (*(vÞ©ž
u_št32_t
 *)(
hªdË
 + 
off£t
));

236 
	}
}

238 #ifdeà
__amd64__


239 
__šlše
 
ušt64_t


240 
	$bus_¥aû_»ad_8
(
bus_¥aû_g_t
 
g
, 
bus_¥aû_hªdË_t
 
hªdË
,

241 
bus_size_t
 
off£t
)

244 ià(
g
 =ð
X86_BUS_SPACE_IO
)

245  (
BUS_SPACE_INVALID_DATA
);

246  (*(vÞ©ž
ušt64_t
 *)(
hªdË
 + 
off£t
));

247 
	}
}

254 
__šlše
 
bus_¥aû_»ad_muÉi_1
(
bus_¥aû_g_t
 
g
,

255 
bus_¥aû_hªdË_t
 
bsh
,

256 
bus_size_t
 
off£t
, 
u_št8_t
 *
addr
,

257 
size_t
 
couÁ
);

259 
__šlše
 
bus_¥aû_»ad_muÉi_2
(
bus_¥aû_g_t
 
g
,

260 
bus_¥aû_hªdË_t
 
bsh
,

261 
bus_size_t
 
off£t
, 
u_št16_t
 *
addr
,

262 
size_t
 
couÁ
);

264 
__šlše
 
bus_¥aû_»ad_muÉi_4
(
bus_¥aû_g_t
 
g
,

265 
bus_¥aû_hªdË_t
 
bsh
,

266 
bus_size_t
 
off£t
, 
u_št32_t
 *
addr
,

267 
size_t
 
couÁ
);

269 
__šlše
 

270 
	$bus_¥aû_»ad_muÉi_1
(
bus_¥aû_g_t
 
g
, 
bus_¥aû_hªdË_t
 
bsh
,

271 
bus_size_t
 
off£t
, 
u_št8_t
 *
addr
, 
size_t
 
couÁ
)

274 ià(
g
 =ð
X86_BUS_SPACE_IO
)

275 
	`šsb
(
bsh
 + 
off£t
, 
addr
, 
couÁ
);

277 #ifdeà
__GNUCLIKE_ASM


278 
__asm
 
	`__vÞ©že
(" \n\
 \n\
1: movb (%2),%%al \n\
 \n\
 1b" :

283 "=D" (
addr
), "=c" (
couÁ
) :

284 "r" (
bsh
 + 
off£t
), "0" (
addr
), "1" (
couÁ
) :

288 
	}
}

290 
__šlše
 

291 
	$bus_¥aû_»ad_muÉi_2
(
bus_¥aû_g_t
 
g
, 
bus_¥aû_hªdË_t
 
bsh
,

292 
bus_size_t
 
off£t
, 
u_št16_t
 *
addr
, 
size_t
 
couÁ
)

295 ià(
g
 =ð
X86_BUS_SPACE_IO
)

296 
	`šsw
(
bsh
 + 
off£t
, 
addr
, 
couÁ
);

298 #ifdeà
__GNUCLIKE_ASM


299 
__asm
 
	`__vÞ©že
(" \n\
 \n\
1: movw (%2),%%ax \n\
 \n\
 1b" :

304 "=D" (
addr
), "=c" (
couÁ
) :

305 "r" (
bsh
 + 
off£t
), "0" (
addr
), "1" (
couÁ
) :

309 
	}
}

311 
__šlše
 

312 
	$bus_¥aû_»ad_muÉi_4
(
bus_¥aû_g_t
 
g
, 
bus_¥aû_hªdË_t
 
bsh
,

313 
bus_size_t
 
off£t
, 
u_št32_t
 *
addr
, 
size_t
 
couÁ
)

316 ià(
g
 =ð
X86_BUS_SPACE_IO
)

317 
	`š¦
(
bsh
 + 
off£t
, 
addr
, 
couÁ
);

319 #ifdeà
__GNUCLIKE_ASM


320 
__asm
 
	`__vÞ©že
(" \n\
 \n\
1: movl (%2),%%eax \n\
 \n\
 1b" :

325 "=D" (
addr
), "=c" (
couÁ
) :

326 "r" (
bsh
 + 
off£t
), "0" (
addr
), "1" (
couÁ
) :

330 
	}
}

333 
	#bus_¥aû_»ad_muÉi_8
 !!! 
bus_¥aû_»ad_muÉi_8
 
unim¶em’‹d
 !!!

	)

341 
__šlše
 
bus_¥aû_»ad_»giÚ_1
(
bus_¥aû_g_t
 
g
,

342 
bus_¥aû_hªdË_t
 
bsh
,

343 
bus_size_t
 
off£t
, 
u_št8_t
 *
addr
,

344 
size_t
 
couÁ
);

346 
__šlše
 
bus_¥aû_»ad_»giÚ_2
(
bus_¥aû_g_t
 
g
,

347 
bus_¥aû_hªdË_t
 
bsh
,

348 
bus_size_t
 
off£t
, 
u_št16_t
 *
addr
,

349 
size_t
 
couÁ
);

351 
__šlše
 
bus_¥aû_»ad_»giÚ_4
(
bus_¥aû_g_t
 
g
,

352 
bus_¥aû_hªdË_t
 
bsh
,

353 
bus_size_t
 
off£t
, 
u_št32_t
 *
addr
,

354 
size_t
 
couÁ
);

357 
__šlše
 

358 
	$bus_¥aû_»ad_»giÚ_1
(
bus_¥aû_g_t
 
g
, 
bus_¥aû_hªdË_t
 
bsh
,

359 
bus_size_t
 
off£t
, 
u_št8_t
 *
addr
, 
size_t
 
couÁ
)

362 ià(
g
 =ð
X86_BUS_SPACE_IO
) {

363 
_pÜt_
 = 
bsh
 + 
off£t
;

364 #ifdeà
__GNUCLIKE_ASM


365 
__asm
 
	`__vÞ©že
(" \n\
 \n\
1: inb %w2,%%al \n\
 \n\
 %2 \n\
 1b" :

371 "=D" (
addr
), "=c" (
couÁ
), "=d" (
_pÜt_
) :

372 "0" (
addr
), "1" (
couÁ
), "2" (
_pÜt_
) :

376 
bus_¥aû_hªdË_t
 
_pÜt_
 = 
bsh
 + 
off£t
;

377 #ifdeà
__GNUCLIKE_ASM


378 
__asm
 
	`__vÞ©že
(" \n\
 \n\
 \n\
" :

382 "=D" (
addr
), "=c" (
couÁ
), "=S" (
_pÜt_
) :

383 "0" (
addr
), "1" (
couÁ
), "2" (
_pÜt_
) :

387 
	}
}

389 
__šlše
 

390 
	$bus_¥aû_»ad_»giÚ_2
(
bus_¥aû_g_t
 
g
, 
bus_¥aû_hªdË_t
 
bsh
,

391 
bus_size_t
 
off£t
, 
u_št16_t
 *
addr
, 
size_t
 
couÁ
)

394 ià(
g
 =ð
X86_BUS_SPACE_IO
) {

395 
_pÜt_
 = 
bsh
 + 
off£t
;

396 #ifdeà
__GNUCLIKE_ASM


397 
__asm
 
	`__vÞ©že
(" \n\
 \n\
1: inw %w2,%%ax \n\
 \n\
 $2,%2 \n\
 1b" :

403 "=D" (
addr
), "=c" (
couÁ
), "=d" (
_pÜt_
) :

404 "0" (
addr
), "1" (
couÁ
), "2" (
_pÜt_
) :

408 
bus_¥aû_hªdË_t
 
_pÜt_
 = 
bsh
 + 
off£t
;

409 #ifdeà
__GNUCLIKE_ASM


410 
__asm
 
	`__vÞ©že
(" \n\
 \n\
 \n\
" :

414 "=D" (
addr
), "=c" (
couÁ
), "=S" (
_pÜt_
) :

415 "0" (
addr
), "1" (
couÁ
), "2" (
_pÜt_
) :

419 
	}
}

421 
__šlše
 

422 
	$bus_¥aû_»ad_»giÚ_4
(
bus_¥aû_g_t
 
g
, 
bus_¥aû_hªdË_t
 
bsh
,

423 
bus_size_t
 
off£t
, 
u_št32_t
 *
addr
, 
size_t
 
couÁ
)

426 ià(
g
 =ð
X86_BUS_SPACE_IO
) {

427 
_pÜt_
 = 
bsh
 + 
off£t
;

428 #ifdeà
__GNUCLIKE_ASM


429 
__asm
 
	`__vÞ©že
(" \n\
 \n\
1: inl %w2,%%eax \n\
 \n\
 $4,%2 \n\
 1b" :

435 "=D" (
addr
), "=c" (
couÁ
), "=d" (
_pÜt_
) :

436 "0" (
addr
), "1" (
couÁ
), "2" (
_pÜt_
) :

440 
bus_¥aû_hªdË_t
 
_pÜt_
 = 
bsh
 + 
off£t
;

441 #ifdeà
__GNUCLIKE_ASM


442 
__asm
 
	`__vÞ©že
(" \n\
 \n\
 \n\
" :

446 "=D" (
addr
), "=c" (
couÁ
), "=S" (
_pÜt_
) :

447 "0" (
addr
), "1" (
couÁ
), "2" (
_pÜt_
) :

451 
	}
}

454 
	#bus_¥aû_»ad_»giÚ_8
 !!! 
bus_¥aû_»ad_»giÚ_8
 
unim¶em’‹d
 !!!

	)

462 
__šlše
 
bus_¥aû_wr™e_1
(
bus_¥aû_g_t
 
g
,

463 
bus_¥aû_hªdË_t
 
bsh
,

464 
bus_size_t
 
off£t
, 
u_št8_t
 
v®ue
);

466 
__šlše
 
bus_¥aû_wr™e_2
(
bus_¥aû_g_t
 
g
,

467 
bus_¥aû_hªdË_t
 
bsh
,

468 
bus_size_t
 
off£t
, 
u_št16_t
 
v®ue
);

470 
__šlše
 
bus_¥aû_wr™e_4
(
bus_¥aû_g_t
 
g
,

471 
bus_¥aû_hªdË_t
 
bsh
,

472 
bus_size_t
 
off£t
, 
u_št32_t
 
v®ue
);

474 #ifdeà
__amd64__


475 
__šlše
 
bus_¥aû_wr™e_8
(
bus_¥aû_g_t
 
g
,

476 
bus_¥aû_hªdË_t
 
bsh
,

477 
bus_size_t
 
off£t
, 
ušt64_t
 
v®ue
);

480 
__šlše
 

481 
	$bus_¥aû_wr™e_1
(
bus_¥aû_g_t
 
g
, 
bus_¥aû_hªdË_t
 
bsh
,

482 
bus_size_t
 
off£t
, 
u_št8_t
 
v®ue
)

485 ià(
g
 =ð
X86_BUS_SPACE_IO
)

486 
	`outb
(
bsh
 + 
off£t
, 
v®ue
);

488 *(vÞ©ž
u_št8_t
 *)(
bsh
 + 
off£t
èð
v®ue
;

489 
	}
}

491 
__šlše
 

492 
	$bus_¥aû_wr™e_2
(
bus_¥aû_g_t
 
g
, 
bus_¥aû_hªdË_t
 
bsh
,

493 
bus_size_t
 
off£t
, 
u_št16_t
 
v®ue
)

496 ià(
g
 =ð
X86_BUS_SPACE_IO
)

497 
	`outw
(
bsh
 + 
off£t
, 
v®ue
);

499 *(vÞ©ž
u_št16_t
 *)(
bsh
 + 
off£t
èð
v®ue
;

500 
	}
}

502 
__šlše
 

503 
	$bus_¥aû_wr™e_4
(
bus_¥aû_g_t
 
g
, 
bus_¥aû_hªdË_t
 
bsh
,

504 
bus_size_t
 
off£t
, 
u_št32_t
 
v®ue
)

507 ià(
g
 =ð
X86_BUS_SPACE_IO
)

508 
	`ouŽ
(
bsh
 + 
off£t
, 
v®ue
);

510 *(vÞ©ž
u_št32_t
 *)(
bsh
 + 
off£t
èð
v®ue
;

511 
	}
}

513 #ifdeà
__amd64__


514 
__šlše
 

515 
	$bus_¥aû_wr™e_8
(
bus_¥aû_g_t
 
g
, 
bus_¥aû_hªdË_t
 
bsh
,

516 
bus_size_t
 
off£t
, 
ušt64_t
 
v®ue
)

519 ià(
g
 =ð
X86_BUS_SPACE_IO
)

522 *(vÞ©ž
ušt64_t
 *)(
bsh
 + 
off£t
èð
v®ue
;

523 
	}
}

531 
__šlše
 
bus_¥aû_wr™e_muÉi_1
(
bus_¥aû_g_t
 
g
,

532 
bus_¥aû_hªdË_t
 
bsh
,

533 
bus_size_t
 
off£t
,

534 cÚ¡ 
u_št8_t
 *
addr
,

535 
size_t
 
couÁ
);

536 
__šlše
 
bus_¥aû_wr™e_muÉi_2
(
bus_¥aû_g_t
 
g
,

537 
bus_¥aû_hªdË_t
 
bsh
,

538 
bus_size_t
 
off£t
,

539 cÚ¡ 
u_št16_t
 *
addr
,

540 
size_t
 
couÁ
);

542 
__šlše
 
bus_¥aû_wr™e_muÉi_4
(
bus_¥aû_g_t
 
g
,

543 
bus_¥aû_hªdË_t
 
bsh
,

544 
bus_size_t
 
off£t
,

545 cÚ¡ 
u_št32_t
 *
addr
,

546 
size_t
 
couÁ
);

548 
__šlše
 

549 
	$bus_¥aû_wr™e_muÉi_1
(
bus_¥aû_g_t
 
g
, 
bus_¥aû_hªdË_t
 
bsh
,

550 
bus_size_t
 
off£t
, cÚ¡ 
u_št8_t
 *
addr
, 
size_t
 
couÁ
)

553 ià(
g
 =ð
X86_BUS_SPACE_IO
)

554 
	`outsb
(
bsh
 + 
off£t
, 
addr
, 
couÁ
);

556 #ifdeà
__GNUCLIKE_ASM


557 
__asm
 
	`__vÞ©že
(" \n\
 \n\
1:†odsb \n\
 %%al,(%2) \n\
 1b" :

562 "=S" (
addr
), "=c" (
couÁ
) :

563 "r" (
bsh
 + 
off£t
), "0" (
addr
), "1" (
couÁ
) :

567 
	}
}

569 
__šlše
 

570 
	$bus_¥aû_wr™e_muÉi_2
(
bus_¥aû_g_t
 
g
, 
bus_¥aû_hªdË_t
 
bsh
,

571 
bus_size_t
 
off£t
, cÚ¡ 
u_št16_t
 *
addr
, 
size_t
 
couÁ
)

574 ià(
g
 =ð
X86_BUS_SPACE_IO
)

575 
	`outsw
(
bsh
 + 
off£t
, 
addr
, 
couÁ
);

577 #ifdeà
__GNUCLIKE_ASM


578 
__asm
 
	`__vÞ©že
(" \n\
 \n\
1:†odsw \n\
 %%ax,(%2) \n\
 1b" :

583 "=S" (
addr
), "=c" (
couÁ
) :

584 "r" (
bsh
 + 
off£t
), "0" (
addr
), "1" (
couÁ
) :

588 
	}
}

590 
__šlše
 

591 
	$bus_¥aû_wr™e_muÉi_4
(
bus_¥aû_g_t
 
g
, 
bus_¥aû_hªdË_t
 
bsh
,

592 
bus_size_t
 
off£t
, cÚ¡ 
u_št32_t
 *
addr
, 
size_t
 
couÁ
)

595 ià(
g
 =ð
X86_BUS_SPACE_IO
)

596 
	`out¦
(
bsh
 + 
off£t
, 
addr
, 
couÁ
);

598 #ifdeà
__GNUCLIKE_ASM


599 
__asm
 
	`__vÞ©že
(" \n\
 \n\
1:†odsl \n\
 %%eax,(%2) \n\
 1b" :

604 "=S" (
addr
), "=c" (
couÁ
) :

605 "r" (
bsh
 + 
off£t
), "0" (
addr
), "1" (
couÁ
) :

609 
	}
}

612 
	#bus_¥aû_wr™e_muÉi_8
(
t
, 
h
, 
o
, 
a
, 
c
) \

613 !!! 
bus_¥aû_wr™e_muÉi_8
 
unim¶em’‹d
 !!!

	)

621 
__šlše
 
bus_¥aû_wr™e_»giÚ_1
(
bus_¥aû_g_t
 
g
,

622 
bus_¥aû_hªdË_t
 
bsh
,

623 
bus_size_t
 
off£t
,

624 cÚ¡ 
u_št8_t
 *
addr
,

625 
size_t
 
couÁ
);

626 
__šlše
 
bus_¥aû_wr™e_»giÚ_2
(
bus_¥aû_g_t
 
g
,

627 
bus_¥aû_hªdË_t
 
bsh
,

628 
bus_size_t
 
off£t
,

629 cÚ¡ 
u_št16_t
 *
addr
,

630 
size_t
 
couÁ
);

631 
__šlše
 
bus_¥aû_wr™e_»giÚ_4
(
bus_¥aû_g_t
 
g
,

632 
bus_¥aû_hªdË_t
 
bsh
,

633 
bus_size_t
 
off£t
,

634 cÚ¡ 
u_št32_t
 *
addr
,

635 
size_t
 
couÁ
);

637 
__šlše
 

638 
	$bus_¥aû_wr™e_»giÚ_1
(
bus_¥aû_g_t
 
g
, 
bus_¥aû_hªdË_t
 
bsh
,

639 
bus_size_t
 
off£t
, cÚ¡ 
u_št8_t
 *
addr
, 
size_t
 
couÁ
)

642 ià(
g
 =ð
X86_BUS_SPACE_IO
) {

643 
_pÜt_
 = 
bsh
 + 
off£t
;

644 #ifdeà
__GNUCLIKE_ASM


645 
__asm
 
	`__vÞ©že
(" \n\
 \n\
1:†odsb \n\
 %%al,%w0 \n\
 %0 \n\
 1b" :

651 "=d" (
_pÜt_
), "=S" (
addr
), "=c" (
couÁ
) :

652 "0" (
_pÜt_
), "1" (
addr
), "2" (
couÁ
) :

656 
bus_¥aû_hªdË_t
 
_pÜt_
 = 
bsh
 + 
off£t
;

657 #ifdeà
__GNUCLIKE_ASM


658 
__asm
 
	`__vÞ©že
(" \n\
 \n\
 \n\
" :

662 "=D" (
_pÜt_
), "=S" (
addr
), "=c" (
couÁ
) :

663 "0" (
_pÜt_
), "1" (
addr
), "2" (
couÁ
) :

667 
	}
}

669 
__šlše
 

670 
	$bus_¥aû_wr™e_»giÚ_2
(
bus_¥aû_g_t
 
g
, 
bus_¥aû_hªdË_t
 
bsh
,

671 
bus_size_t
 
off£t
, cÚ¡ 
u_št16_t
 *
addr
, 
size_t
 
couÁ
)

674 ià(
g
 =ð
X86_BUS_SPACE_IO
) {

675 
_pÜt_
 = 
bsh
 + 
off£t
;

676 #ifdeà
__GNUCLIKE_ASM


677 
__asm
 
	`__vÞ©že
(" \n\
 \n\
1:†odsw \n\
 %%ax,%w0 \n\
 $2,%0 \n\
 1b" :

683 "=d" (
_pÜt_
), "=S" (
addr
), "=c" (
couÁ
) :

684 "0" (
_pÜt_
), "1" (
addr
), "2" (
couÁ
) :

688 
bus_¥aû_hªdË_t
 
_pÜt_
 = 
bsh
 + 
off£t
;

689 #ifdeà
__GNUCLIKE_ASM


690 
__asm
 
	`__vÞ©že
(" \n\
 \n\
 \n\
" :

694 "=D" (
_pÜt_
), "=S" (
addr
), "=c" (
couÁ
) :

695 "0" (
_pÜt_
), "1" (
addr
), "2" (
couÁ
) :

699 
	}
}

701 
__šlše
 

702 
	$bus_¥aû_wr™e_»giÚ_4
(
bus_¥aû_g_t
 
g
, 
bus_¥aû_hªdË_t
 
bsh
,

703 
bus_size_t
 
off£t
, cÚ¡ 
u_št32_t
 *
addr
, 
size_t
 
couÁ
)

706 ià(
g
 =ð
X86_BUS_SPACE_IO
) {

707 
_pÜt_
 = 
bsh
 + 
off£t
;

708 #ifdeà
__GNUCLIKE_ASM


709 
__asm
 
	`__vÞ©že
(" \n\
 \n\
1:†odsl \n\
 %%eax,%w0 \n\
 $4,%0 \n\
 1b" :

715 "=d" (
_pÜt_
), "=S" (
addr
), "=c" (
couÁ
) :

716 "0" (
_pÜt_
), "1" (
addr
), "2" (
couÁ
) :

720 
bus_¥aû_hªdË_t
 
_pÜt_
 = 
bsh
 + 
off£t
;

721 #ifdeà
__GNUCLIKE_ASM


722 
__asm
 
	`__vÞ©že
(" \n\
 \n\
 \n\
" :

726 "=D" (
_pÜt_
), "=S" (
addr
), "=c" (
couÁ
) :

727 "0" (
_pÜt_
), "1" (
addr
), "2" (
couÁ
) :

731 
	}
}

734 
	#bus_¥aû_wr™e_»giÚ_8
 \

735 !!! 
bus_¥aû_wr™e_»giÚ_8
 
unim¶em’‹d
 !!!

	)

743 
__šlše
 
bus_¥aû_£t_muÉi_1
(
bus_¥aû_g_t
 
g
,

744 
bus_¥aû_hªdË_t
 
bsh
,

745 
bus_size_t
 
off£t
,

746 
u_št8_t
 
v®ue
, 
size_t
 
couÁ
);

747 
__šlše
 
bus_¥aû_£t_muÉi_2
(
bus_¥aû_g_t
 
g
,

748 
bus_¥aû_hªdË_t
 
bsh
,

749 
bus_size_t
 
off£t
,

750 
u_št16_t
 
v®ue
, 
size_t
 
couÁ
);

751 
__šlše
 
bus_¥aû_£t_muÉi_4
(
bus_¥aû_g_t
 
g
,

752 
bus_¥aû_hªdË_t
 
bsh
,

753 
bus_size_t
 
off£t
,

754 
u_št32_t
 
v®ue
, 
size_t
 
couÁ
);

756 
__šlše
 

757 
	$bus_¥aû_£t_muÉi_1
(
bus_¥aû_g_t
 
g
, 
bus_¥aû_hªdË_t
 
bsh
,

758 
bus_size_t
 
off£t
, 
u_št8_t
 
v®ue
, 
size_t
 
couÁ
)

760 
bus_¥aû_hªdË_t
 
addr
 = 
bsh
 + 
off£t
;

762 ià(
g
 =ð
X86_BUS_SPACE_IO
)

763 
couÁ
--)

764 
	`outb
(
addr
, 
v®ue
);

766 
couÁ
--)

767 *(vÞ©ž
u_št8_t
 *)(
addr
èð
v®ue
;

768 
	}
}

770 
__šlše
 

771 
	$bus_¥aû_£t_muÉi_2
(
bus_¥aû_g_t
 
g
, 
bus_¥aû_hªdË_t
 
bsh
,

772 
bus_size_t
 
off£t
, 
u_št16_t
 
v®ue
, 
size_t
 
couÁ
)

774 
bus_¥aû_hªdË_t
 
addr
 = 
bsh
 + 
off£t
;

776 ià(
g
 =ð
X86_BUS_SPACE_IO
)

777 
couÁ
--)

778 
	`outw
(
addr
, 
v®ue
);

780 
couÁ
--)

781 *(vÞ©ž
u_št16_t
 *)(
addr
èð
v®ue
;

782 
	}
}

784 
__šlše
 

785 
	$bus_¥aû_£t_muÉi_4
(
bus_¥aû_g_t
 
g
, 
bus_¥aû_hªdË_t
 
bsh
,

786 
bus_size_t
 
off£t
, 
u_št32_t
 
v®ue
, 
size_t
 
couÁ
)

788 
bus_¥aû_hªdË_t
 
addr
 = 
bsh
 + 
off£t
;

790 ià(
g
 =ð
X86_BUS_SPACE_IO
)

791 
couÁ
--)

792 
	`ouŽ
(
addr
, 
v®ue
);

794 
couÁ
--)

795 *(vÞ©ž
u_št32_t
 *)(
addr
èð
v®ue
;

796 
	}
}

799 
	#bus_¥aû_£t_muÉi_8
 !!! 
bus_¥aû_£t_muÉi_8
 
unim¶em’‹d
 !!!

	)

807 
__šlše
 
bus_¥aû_£t_»giÚ_1
(
bus_¥aû_g_t
 
g
,

808 
bus_¥aû_hªdË_t
 
bsh
,

809 
bus_size_t
 
off£t
, 
u_št8_t
 
v®ue
,

810 
size_t
 
couÁ
);

811 
__šlše
 
bus_¥aû_£t_»giÚ_2
(
bus_¥aû_g_t
 
g
,

812 
bus_¥aû_hªdË_t
 
bsh
,

813 
bus_size_t
 
off£t
, 
u_št16_t
 
v®ue
,

814 
size_t
 
couÁ
);

815 
__šlše
 
bus_¥aû_£t_»giÚ_4
(
bus_¥aû_g_t
 
g
,

816 
bus_¥aû_hªdË_t
 
bsh
,

817 
bus_size_t
 
off£t
, 
u_št32_t
 
v®ue
,

818 
size_t
 
couÁ
);

820 
__šlše
 

821 
	$bus_¥aû_£t_»giÚ_1
(
bus_¥aû_g_t
 
g
, 
bus_¥aû_hªdË_t
 
bsh
,

822 
bus_size_t
 
off£t
, 
u_št8_t
 
v®ue
, 
size_t
 
couÁ
)

824 
bus_¥aû_hªdË_t
 
addr
 = 
bsh
 + 
off£t
;

826 ià(
g
 =ð
X86_BUS_SPACE_IO
)

827 ; 
couÁ
 !ð0; couÁ--, 
addr
++)

828 
	`outb
(
addr
, 
v®ue
);

830 ; 
couÁ
 !ð0; couÁ--, 
addr
++)

831 *(vÞ©ž
u_št8_t
 *)(
addr
èð
v®ue
;

832 
	}
}

834 
__šlše
 

835 
	$bus_¥aû_£t_»giÚ_2
(
bus_¥aû_g_t
 
g
, 
bus_¥aû_hªdË_t
 
bsh
,

836 
bus_size_t
 
off£t
, 
u_št16_t
 
v®ue
, 
size_t
 
couÁ
)

838 
bus_¥aû_hªdË_t
 
addr
 = 
bsh
 + 
off£t
;

840 ià(
g
 =ð
X86_BUS_SPACE_IO
)

841 ; 
couÁ
 !ð0; couÁ--, 
addr
 += 2)

842 
	`outw
(
addr
, 
v®ue
);

844 ; 
couÁ
 !ð0; couÁ--, 
addr
 += 2)

845 *(vÞ©ž
u_št16_t
 *)(
addr
èð
v®ue
;

846 
	}
}

848 
__šlše
 

849 
	$bus_¥aû_£t_»giÚ_4
(
bus_¥aû_g_t
 
g
, 
bus_¥aû_hªdË_t
 
bsh
,

850 
bus_size_t
 
off£t
, 
u_št32_t
 
v®ue
, 
size_t
 
couÁ
)

852 
bus_¥aû_hªdË_t
 
addr
 = 
bsh
 + 
off£t
;

854 ià(
g
 =ð
X86_BUS_SPACE_IO
)

855 ; 
couÁ
 !ð0; couÁ--, 
addr
 += 4)

856 
	`ouŽ
(
addr
, 
v®ue
);

858 ; 
couÁ
 !ð0; couÁ--, 
addr
 += 4)

859 *(vÞ©ž
u_št32_t
 *)(
addr
èð
v®ue
;

860 
	}
}

863 
	#bus_¥aû_£t_»giÚ_8
 !!! 
bus_¥aû_£t_»giÚ_8
 
unim¶em’‹d
 !!!

	)

871 
__šlše
 
bus_¥aû_cÝy_»giÚ_1
(
bus_¥aû_g_t
 
g
,

872 
bus_¥aû_hªdË_t
 
bsh1
,

873 
bus_size_t
 
off1
,

874 
bus_¥aû_hªdË_t
 
bsh2
,

875 
bus_size_t
 
off2
, 
size_t
 
couÁ
);

877 
__šlše
 
bus_¥aû_cÝy_»giÚ_2
(
bus_¥aû_g_t
 
g
,

878 
bus_¥aû_hªdË_t
 
bsh1
,

879 
bus_size_t
 
off1
,

880 
bus_¥aû_hªdË_t
 
bsh2
,

881 
bus_size_t
 
off2
, 
size_t
 
couÁ
);

883 
__šlše
 
bus_¥aû_cÝy_»giÚ_4
(
bus_¥aû_g_t
 
g
,

884 
bus_¥aû_hªdË_t
 
bsh1
,

885 
bus_size_t
 
off1
,

886 
bus_¥aû_hªdË_t
 
bsh2
,

887 
bus_size_t
 
off2
, 
size_t
 
couÁ
);

889 
__šlše
 

890 
	$bus_¥aû_cÝy_»giÚ_1
(
bus_¥aû_g_t
 
g
, 
bus_¥aû_hªdË_t
 
bsh1
,

891 
bus_size_t
 
off1
, 
bus_¥aû_hªdË_t
 
bsh2
,

892 
bus_size_t
 
off2
, 
size_t
 
couÁ
)

894 
bus_¥aû_hªdË_t
 
addr1
 = 
bsh1
 + 
off1
;

895 
bus_¥aû_hªdË_t
 
addr2
 = 
bsh2
 + 
off2
;

897 ià(
g
 =ð
X86_BUS_SPACE_IO
) {

898 ià(
addr1
 >ð
addr2
) {

900 ; 
couÁ
 !ð0; couÁ--, 
addr1
++, 
addr2
++)

901 
	`outb
(
addr2
, 
	`šb
(
addr1
));

904 
addr1
 +ð(
couÁ
 - 1), 
addr2
 += (count - 1);

905 
couÁ
 !ð0; couÁ--, 
addr1
--, 
addr2
--)

906 
	`outb
(
addr2
, 
	`šb
(
addr1
));

909 ià(
addr1
 >ð
addr2
) {

911 ; 
couÁ
 !ð0; couÁ--, 
addr1
++, 
addr2
++)

912 *(vÞ©ž
u_št8_t
 *)(
addr2
) =

913 *(vÞ©ž
u_št8_t
 *)(
addr1
);

916 
addr1
 +ð(
couÁ
 - 1), 
addr2
 += (count - 1);

917 
couÁ
 !ð0; couÁ--, 
addr1
--, 
addr2
--)

918 *(vÞ©ž
u_št8_t
 *)(
addr2
) =

919 *(vÞ©ž
u_št8_t
 *)(
addr1
);

922 
	}
}

924 
__šlše
 

925 
	$bus_¥aû_cÝy_»giÚ_2
(
bus_¥aû_g_t
 
g
, 
bus_¥aû_hªdË_t
 
bsh1
,

926 
bus_size_t
 
off1
, 
bus_¥aû_hªdË_t
 
bsh2
,

927 
bus_size_t
 
off2
, 
size_t
 
couÁ
)

929 
bus_¥aû_hªdË_t
 
addr1
 = 
bsh1
 + 
off1
;

930 
bus_¥aû_hªdË_t
 
addr2
 = 
bsh2
 + 
off2
;

932 ià(
g
 =ð
X86_BUS_SPACE_IO
) {

933 ià(
addr1
 >ð
addr2
) {

935 ; 
couÁ
 !ð0; couÁ--, 
addr1
 +ð2, 
addr2
 += 2)

936 
	`outw
(
addr2
, 
	`šw
(
addr1
));

939 
addr1
 +ð2 * (
couÁ
 - 1), 
addr2
 += 2 * (count - 1);

940 
couÁ
 !ð0; couÁ--, 
addr1
 -ð2, 
addr2
 -= 2)

941 
	`outw
(
addr2
, 
	`šw
(
addr1
));

944 ià(
addr1
 >ð
addr2
) {

946 ; 
couÁ
 !ð0; couÁ--, 
addr1
 +ð2, 
addr2
 += 2)

947 *(vÞ©ž
u_št16_t
 *)(
addr2
) =

948 *(vÞ©ž
u_št16_t
 *)(
addr1
);

951 
addr1
 +ð2 * (
couÁ
 - 1), 
addr2
 += 2 * (count - 1);

952 
couÁ
 !ð0; couÁ--, 
addr1
 -ð2, 
addr2
 -= 2)

953 *(vÞ©ž
u_št16_t
 *)(
addr2
) =

954 *(vÞ©ž
u_št16_t
 *)(
addr1
);

957 
	}
}

959 
__šlše
 

960 
	$bus_¥aû_cÝy_»giÚ_4
(
bus_¥aû_g_t
 
g
, 
bus_¥aû_hªdË_t
 
bsh1
,

961 
bus_size_t
 
off1
, 
bus_¥aû_hªdË_t
 
bsh2
,

962 
bus_size_t
 
off2
, 
size_t
 
couÁ
)

964 
bus_¥aû_hªdË_t
 
addr1
 = 
bsh1
 + 
off1
;

965 
bus_¥aû_hªdË_t
 
addr2
 = 
bsh2
 + 
off2
;

967 ià(
g
 =ð
X86_BUS_SPACE_IO
) {

968 ià(
addr1
 >ð
addr2
) {

970 ; 
couÁ
 !ð0; couÁ--, 
addr1
 +ð4, 
addr2
 += 4)

971 
	`ouŽ
(
addr2
, 
	`šl
(
addr1
));

974 
addr1
 +ð4 * (
couÁ
 - 1), 
addr2
 += 4 * (count - 1);

975 
couÁ
 !ð0; couÁ--, 
addr1
 -ð4, 
addr2
 -= 4)

976 
	`ouŽ
(
addr2
, 
	`šl
(
addr1
));

979 ià(
addr1
 >ð
addr2
) {

981 ; 
couÁ
 !ð0; couÁ--, 
addr1
 +ð4, 
addr2
 += 4)

982 *(vÞ©ž
u_št32_t
 *)(
addr2
) =

983 *(vÞ©ž
u_št32_t
 *)(
addr1
);

986 
addr1
 +ð4 * (
couÁ
 - 1), 
addr2
 += 4 * (count - 1);

987 
couÁ
 !ð0; couÁ--, 
addr1
 -ð4, 
addr2
 -= 4)

988 *(vÞ©ž
u_št32_t
 *)(
addr2
) =

989 *(vÞ©ž
u_št32_t
 *)(
addr1
);

992 
	}
}

995 
	#bus_¥aû_cÝy_»giÚ_8
 !!! 
bus_¥aû_cÝy_»giÚ_8
 
unim¶em’‹d
 !!!

	)

1009 
	#BUS_SPACE_BARRIER_READ
 0x01

	)

1010 
	#BUS_SPACE_BARRIER_WRITE
 0x02

	)

1012 
__šlše
 

1013 
	$bus_¥aû_b¬r›r
(
bus_¥aû_g_t
 
g
 
__unu£d
, 
bus_¥aû_hªdË_t
 
bsh
 __unused,

1014 
bus_size_t
 
off£t
 
__unu£d
, bus_size_ˆ
Ën
 __unu£d, 
æags
)

1016 #ifdeà
__GNUCLIKE_ASM


1017 ià(
æags
 & 
BUS_SPACE_BARRIER_READ
)

1018 #ifdeà
__amd64__


1019 
__asm
 
	`__vÞ©že
("lock;‡ddl $0,0(%%rsp)" : : : "memory");

1021 
__asm
 
	`__vÞ©že
("lock;‡ddl $0,0(%%esp)" : : : "memory");

1024 
	`__compž”_memb¬
();

1026 
	}
}

1028 #ifdeà
BUS_SPACE_NO_LEGACY


1029 #undeà
šb


1030 #undeà
outb


1031 
	#šb
(
a
è
compž”_”rÜ


	)

1032 
	#šw
(
a
è
compž”_”rÜ


	)

1033 
	#šl
(
a
è
compž”_”rÜ


	)

1034 
	#outb
(
a
, 
b
è
compž”_”rÜ


	)

1035 
	#outw
(
a
, 
b
è
compž”_”rÜ


	)

1036 
	#ouŽ
(
a
, 
b
è
compž”_”rÜ


	)

1039 
	~<machše/bus_dma.h
>

1045 
	#bus_¥aû_»ad_¡»am_1
(
t
, 
h
, 
o
è
	`bus_¥aû_»ad_1
(Ñ), (h), (o))

	)

1046 
	#bus_¥aû_»ad_¡»am_2
(
t
, 
h
, 
o
è
	`bus_¥aû_»ad_2
(Ñ), (h), (o))

	)

1047 
	#bus_¥aû_»ad_¡»am_4
(
t
, 
h
, 
o
è
	`bus_¥aû_»ad_4
(Ñ), (h), (o))

	)

1049 
	#bus_¥aû_»ad_muÉi_¡»am_1
(
t
, 
h
, 
o
, 
a
, 
c
) \

1050 
	`bus_¥aû_»ad_muÉi_1
((
t
), (
h
), (
o
), (
a
), (
c
))

	)

1051 
	#bus_¥aû_»ad_muÉi_¡»am_2
(
t
, 
h
, 
o
, 
a
, 
c
) \

1052 
	`bus_¥aû_»ad_muÉi_2
((
t
), (
h
), (
o
), (
a
), (
c
))

	)

1053 
	#bus_¥aû_»ad_muÉi_¡»am_4
(
t
, 
h
, 
o
, 
a
, 
c
) \

1054 
	`bus_¥aû_»ad_muÉi_4
((
t
), (
h
), (
o
), (
a
), (
c
))

	)

1056 
	#bus_¥aû_wr™e_¡»am_1
(
t
, 
h
, 
o
, 
v
) \

1057 
	`bus_¥aû_wr™e_1
((
t
), (
h
), (
o
), (
v
))

	)

1058 
	#bus_¥aû_wr™e_¡»am_2
(
t
, 
h
, 
o
, 
v
) \

1059 
	`bus_¥aû_wr™e_2
((
t
), (
h
), (
o
), (
v
))

	)

1060 
	#bus_¥aû_wr™e_¡»am_4
(
t
, 
h
, 
o
, 
v
) \

1061 
	`bus_¥aû_wr™e_4
((
t
), (
h
), (
o
), (
v
))

	)

1063 
	#bus_¥aû_wr™e_muÉi_¡»am_1
(
t
, 
h
, 
o
, 
a
, 
c
) \

1064 
	`bus_¥aû_wr™e_muÉi_1
((
t
), (
h
), (
o
), (
a
), (
c
))

	)

1065 
	#bus_¥aû_wr™e_muÉi_¡»am_2
(
t
, 
h
, 
o
, 
a
, 
c
) \

1066 
	`bus_¥aû_wr™e_muÉi_2
((
t
), (
h
), (
o
), (
a
), (
c
))

	)

1067 
	#bus_¥aû_wr™e_muÉi_¡»am_4
(
t
, 
h
, 
o
, 
a
, 
c
) \

1068 
	`bus_¥aû_wr™e_muÉi_4
((
t
), (
h
), (
o
), (
a
), (
c
))

	)

1070 
	#bus_¥aû_£t_muÉi_¡»am_1
(
t
, 
h
, 
o
, 
v
, 
c
) \

1071 
	`bus_¥aû_£t_muÉi_1
((
t
), (
h
), (
o
), (
v
), (
c
))

	)

1072 
	#bus_¥aû_£t_muÉi_¡»am_2
(
t
, 
h
, 
o
, 
v
, 
c
) \

1073 
	`bus_¥aû_£t_muÉi_2
((
t
), (
h
), (
o
), (
v
), (
c
))

	)

1074 
	#bus_¥aû_£t_muÉi_¡»am_4
(
t
, 
h
, 
o
, 
v
, 
c
) \

1075 
	`bus_¥aû_£t_muÉi_4
((
t
), (
h
), (
o
), (
v
), (
c
))

	)

1077 
	#bus_¥aû_»ad_»giÚ_¡»am_1
(
t
, 
h
, 
o
, 
a
, 
c
) \

1078 
	`bus_¥aû_»ad_»giÚ_1
((
t
), (
h
), (
o
), (
a
), (
c
))

	)

1079 
	#bus_¥aû_»ad_»giÚ_¡»am_2
(
t
, 
h
, 
o
, 
a
, 
c
) \

1080 
	`bus_¥aû_»ad_»giÚ_2
((
t
), (
h
), (
o
), (
a
), (
c
))

	)

1081 
	#bus_¥aû_»ad_»giÚ_¡»am_4
(
t
, 
h
, 
o
, 
a
, 
c
) \

1082 
	`bus_¥aû_»ad_»giÚ_4
((
t
), (
h
), (
o
), (
a
), (
c
))

	)

1084 
	#bus_¥aû_wr™e_»giÚ_¡»am_1
(
t
, 
h
, 
o
, 
a
, 
c
) \

1085 
	`bus_¥aû_wr™e_»giÚ_1
((
t
), (
h
), (
o
), (
a
), (
c
))

	)

1086 
	#bus_¥aû_wr™e_»giÚ_¡»am_2
(
t
, 
h
, 
o
, 
a
, 
c
) \

1087 
	`bus_¥aû_wr™e_»giÚ_2
((
t
), (
h
), (
o
), (
a
), (
c
))

	)

1088 
	#bus_¥aû_wr™e_»giÚ_¡»am_4
(
t
, 
h
, 
o
, 
a
, 
c
) \

1089 
	`bus_¥aû_wr™e_»giÚ_4
((
t
), (
h
), (
o
), (
a
), (
c
))

	)

1091 
	#bus_¥aû_£t_»giÚ_¡»am_1
(
t
, 
h
, 
o
, 
v
, 
c
) \

1092 
	`bus_¥aû_£t_»giÚ_1
((
t
), (
h
), (
o
), (
v
), (
c
))

	)

1093 
	#bus_¥aû_£t_»giÚ_¡»am_2
(
t
, 
h
, 
o
, 
v
, 
c
) \

1094 
	`bus_¥aû_£t_»giÚ_2
((
t
), (
h
), (
o
), (
v
), (
c
))

	)

1095 
	#bus_¥aû_£t_»giÚ_¡»am_4
(
t
, 
h
, 
o
, 
v
, 
c
) \

1096 
	`bus_¥aû_£t_»giÚ_4
((
t
), (
h
), (
o
), (
v
), (
c
))

	)

1098 
	#bus_¥aû_cÝy_»giÚ_¡»am_1
(
t
, 
h1
, 
o1
, 
h2
, 
o2
, 
c
) \

1099 
	`bus_¥aû_cÝy_»giÚ_1
((
t
), (
h1
), (
o1
), (
h2
), (
o2
), (
c
))

	)

1100 
	#bus_¥aû_cÝy_»giÚ_¡»am_2
(
t
, 
h1
, 
o1
, 
h2
, 
o2
, 
c
) \

1101 
	`bus_¥aû_cÝy_»giÚ_2
((
t
), (
h1
), (
o1
), (
h2
), (
o2
), (
c
))

	)

1102 
	#bus_¥aû_cÝy_»giÚ_¡»am_4
(
t
, 
h1
, 
o1
, 
h2
, 
o2
, 
c
) \

1103 
	`bus_¥aû_cÝy_»giÚ_4
((
t
), (
h1
), (
o1
), (
h2
), (
o2
), (
c
))

	)

	@/usr/include/x86/bus_dma.h

29 #iâdeà
_X86_BUS_DMA_H_


30 
	#_X86_BUS_DMA_H_


	)

32 
	#WANT_INLINE_DMAMAP


	)

33 
	~<sys/bus_dma.h
>

34 
	~<sys/_nuÎ.h
>

36 
	~<x86/busdma_im¶.h
>

42 
šlše
 

43 
	$bus_dmam­_ü—‹
(
bus_dma_g_t
 
dm©
, 
æags
, 
bus_dmam­_t
 *
m­p
)

45 
bus_dma_g_commÚ
 *
tc
;

47 
tc
 = (
bus_dma_g_commÚ
 *)
dm©
;

48  (
tc
->
im¶
->
	`m­_ü—‹
(
dm©
, 
æags
, 
m­p
));

49 
	}
}

55 
šlše
 

56 
	$bus_dmam­_de¡roy
(
bus_dma_g_t
 
dm©
, 
bus_dmam­_t
 
m­
)

58 
bus_dma_g_commÚ
 *
tc
;

60 
tc
 = (
bus_dma_g_commÚ
 *)
dm©
;

61  (
tc
->
im¶
->
	`m­_de¡roy
(
dm©
, 
m­
));

62 
	}
}

69 
šlše
 

70 
	$bus_dmamem_®loc
(
bus_dma_g_t
 
dm©
, ** 
vaddr
, 
æags
,

71 
bus_dmam­_t
 *
m­p
)

73 
bus_dma_g_commÚ
 *
tc
;

75 
tc
 = (
bus_dma_g_commÚ
 *)
dm©
;

76  (
tc
->
im¶
->
	`mem_®loc
(
dm©
, 
vaddr
, 
æags
, 
m­p
));

77 
	}
}

83 
šlše
 

84 
	$bus_dmamem_ä“
(
bus_dma_g_t
 
dm©
, *
vaddr
, 
bus_dmam­_t
 
m­
)

86 
bus_dma_g_commÚ
 *
tc
;

88 
tc
 = (
bus_dma_g_commÚ
 *)
dm©
;

89 
tc
->
im¶
->
	`mem_ä“
(
dm©
, 
vaddr
, 
m­
);

90 
	}
}

95 
šlše
 

96 
	$bus_dmam­_uÆßd
(
bus_dma_g_t
 
dm©
, 
bus_dmam­_t
 
m­
)

98 
bus_dma_g_commÚ
 *
tc
;

100 ià(
m­
 !ð
NULL
) {

101 
tc
 = (
bus_dma_g_commÚ
 *)
dm©
;

102 
tc
->
im¶
->
	`m­_uÆßd
(
dm©
, 
m­
);

104 
	}
}

106 
šlše
 

107 
	$bus_dmam­_sync
(
bus_dma_g_t
 
dm©
, 
bus_dmam­_t
 
m­
, 
bus_dmasync_Ý_t
 
Ý
)

109 
bus_dma_g_commÚ
 *
tc
;

111 ià(
m­
 !ð
NULL
) {

112 
tc
 = (
bus_dma_g_commÚ
 *)
dm©
;

113 
tc
->
im¶
->
	`m­_sync
(
dm©
, 
m­
, 
Ý
);

115 
	}
}

121 
šlše
 

122 
	$_bus_dmam­_lßd_phys
(
bus_dma_g_t
 
dm©
, 
bus_dmam­_t
 
m­
, 
vm_·ddr_t
 
buf
,

123 
bus_size_t
 
buæ’
, 
æags
, 
bus_dma_£gm’t_t
 *
£gs
, *
£gp
)

125 
bus_dma_g_commÚ
 *
tc
;

127 
tc
 = (
bus_dma_g_commÚ
 *)
dm©
;

128  (
tc
->
im¶
->
	`lßd_phys
(
dm©
, 
m­
, 
buf
, 
buæ’
, 
æags
, 
£gs
,

129 
£gp
));

130 
	}
}

132 
šlše
 

133 
	$_bus_dmam­_lßd_ma
(
bus_dma_g_t
 
dm©
, 
bus_dmam­_t
 
m­
, 
vm_·ge
 **
ma
,

134 
bus_size_t
 
Ž’
, 
ma_offs
, 
æags
, 
bus_dma_£gm’t_t
 *
£gs
,

135 *
£gp
)

137 
bus_dma_g_commÚ
 *
tc
;

139 
tc
 = (
bus_dma_g_commÚ
 *)
dm©
;

140  (
tc
->
im¶
->
	`lßd_ma
(
dm©
, 
m­
, 
ma
, 
Ž’
, 
ma_offs
, 
æags
,

141 
£gs
, 
£gp
));

142 
	}
}

148 
šlše
 

149 
	$_bus_dmam­_lßd_bufãr
(
bus_dma_g_t
 
dm©
, 
bus_dmam­_t
 
m­
, *
buf
,

150 
bus_size_t
 
buæ’
, 
pm­
 *pm­, 
æags
, 
bus_dma_£gm’t_t
 *
£gs
,

151 *
£gp
)

153 
bus_dma_g_commÚ
 *
tc
;

155 
tc
 = (
bus_dma_g_commÚ
 *)
dm©
;

156  (
tc
->
im¶
->
	`lßd_bufãr
(
dm©
, 
m­
, 
buf
, 
buæ’
, 
pm­
, 
æags
, 
£gs
,

157 
£gp
));

158 
	}
}

160 
šlše
 

161 
	$_bus_dmam­_wa™ok
(
bus_dma_g_t
 
dm©
, 
bus_dmam­_t
 
m­
,

162 
memdesc
 *
mem
, 
bus_dmam­_ÿÎback_t
 *
ÿÎback
, *
ÿÎback_¬g
)

164 
bus_dma_g_commÚ
 *
tc
;

166 ià(
m­
 !ð
NULL
) {

167 
tc
 = (
bus_dma_g_commÚ
 *)
dm©
;

168 
tc
->
im¶
->
	`m­_wa™ok
(
dm©
, 
m­
, 
mem
, 
ÿÎback
, 
ÿÎback_¬g
);

170 
	}
}

172 
šlše
 
bus_dma_£gm’t_t
 *

173 
	$_bus_dmam­_com¶‘e
(
bus_dma_g_t
 
dm©
, 
bus_dmam­_t
 
m­
,

174 
bus_dma_£gm’t_t
 *
£gs
, 
n£gs
, 
”rÜ
)

176 
bus_dma_g_commÚ
 *
tc
;

178 
tc
 = (
bus_dma_g_commÚ
 *)
dm©
;

179  (
tc
->
im¶
->
	`m­_com¶‘e
(
dm©
, 
m­
, 
£gs
, 
n£gs
, 
”rÜ
));

180 
	}
}

	@/usr/include/x86/busdma_impl.h

34 #iâdef 
__X86_BUSDMA_IMPL_H


35 
	#__X86_BUSDMA_IMPL_H


	)

37 
	sbus_dma_g_commÚ
 {

38 
bus_dma_im¶
 *
	mim¶
;

39 
bus_dma_g_commÚ
 *
	m·»Á
;

40 
bus_size_t
 
	m®ignm’t
;

41 
bus_addr_t
 
	mbound¬y
;

42 
bus_addr_t
 
	mlowaddr
;

43 
bus_addr_t
 
	mhighaddr
;

44 
bus_dma_fž‹r_t
 *
	mfž‹r
;

45 *
	mfž‹¿rg
;

46 
bus_size_t
 
	mmaxsize
;

47 
u_št
 
	mn£gm’ts
;

48 
bus_size_t
 
	mmax£gsz
;

49 
	mæags
;

50 
bus_dma_lock_t
 *
	mlockfunc
;

51 *
	mlockfunÿrg
;

52 
	m»f_couÁ
;

53 
	mdomaš
;

56 
	sbus_dma_im¶
 {

57 (*
	mg_ü—‹
)(
bus_dma_g_t
 
	m·»Á
,

58 
bus_size_t
 
	m®ignm’t
, 
bus_addr_t
 
	mbound¬y
, bus_addr_ˆ
	mlowaddr
,

59 
bus_addr_t
 
	mhighaddr
, 
bus_dma_fž‹r_t
 *
	mfž‹r
,

60 *
	mfž‹¿rg
, 
bus_size_t
 
	mmaxsize
, 
	mn£gm’ts
,

61 
bus_size_t
 
	mmax£gsz
, 
	mæags
, 
bus_dma_lock_t
 *
	mlockfunc
,

62 *
	mlockfunÿrg
, 
bus_dma_g_t
 *
	mdm©
);

63 (*
	mg_de¡roy
)(
bus_dma_g_t
 
	mdm©
);

64 (*
	mg_£t_domaš
)(
	mbus_dma_g_t
);

65 (*
	mm­_ü—‹
)(
bus_dma_g_t
 
	mdm©
, 
	mæags
, 
bus_dmam­_t
 *
	mm­p
);

66 (*
	mm­_de¡roy
)(
bus_dma_g_t
 
	mdm©
, 
bus_dmam­_t
 
	mm­
);

67 (*
	mmem_®loc
)(
bus_dma_g_t
 
	mdm©
, ** 
	mvaddr
, 
	mæags
,

68 
bus_dmam­_t
 *
	mm­p
);

69 (*
	mmem_ä“
)(
bus_dma_g_t
 
	mdm©
, *
	mvaddr
, 
bus_dmam­_t
 
	mm­
);

70 (*
	mlßd_ma
)(
bus_dma_g_t
 
	mdm©
, 
bus_dmam­_t
 
	mm­
,

71 
vm_·ge
 **
	mma
, 
bus_size_t
 
	mŽ’
, 
	mma_offs
, 
	mæags
,

72 
bus_dma_£gm’t_t
 *
	m£gs
, *
	m£gp
);

73 (*
	mlßd_phys
)(
bus_dma_g_t
 
	mdm©
, 
bus_dmam­_t
 
	mm­
,

74 
vm_·ddr_t
 
	mbuf
, 
bus_size_t
 
	mbuæ’
, 
	mæags
,

75 
bus_dma_£gm’t_t
 *
	m£gs
, *
	m£gp
);

76 (*
	mlßd_bufãr
)(
bus_dma_g_t
 
	mdm©
, 
bus_dmam­_t
 
	mm­
,

77 *
	mbuf
, 
bus_size_t
 
	mbuæ’
, 
pm­
 *
	mpm­
, 
	mæags
,

78 
bus_dma_£gm’t_t
 *
	m£gs
, *
	m£gp
);

79 (*
	mm­_wa™ok
)(
bus_dma_g_t
 
	mdm©
, 
bus_dmam­_t
 
	mm­
,

80 
memdesc
 *
	mmem
, 
bus_dmam­_ÿÎback_t
 *
	mÿÎback
,

81 *
	mÿÎback_¬g
);

82 
	mbus_dma_£gm’t_t
 *(*
	mm­_com¶‘e
)(
bus_dma_g_t
 
	mdm©
, 
bus_dmam­_t
 
	mm­
,

83 
bus_dma_£gm’t_t
 *
	m£gs
, 
	mn£gs
, 
	m”rÜ
);

84 (*
	mm­_uÆßd
)(
bus_dma_g_t
 
	mdm©
, 
bus_dmam­_t
 
	mm­
);

85 (*
	mm­_sync
)(
bus_dma_g_t
 
	mdm©
, 
bus_dmam­_t
 
	mm­
,

86 
bus_dmasync_Ý_t
 
	mÝ
);

89 
bus_dma_dæt_lock
(*
¬g
, 
bus_dma_lock_Ý_t
 
Ý
);

90 
bus_dma_run_fž‹r
(
bus_dma_g_commÚ
 *
dm©
, 
bus_addr_t
 
·ddr
);

91 
commÚ_bus_dma_g_ü—‹
(
bus_dma_g_commÚ
 *
·»Á
,

92 
bus_size_t
 
®ignm’t
,

93 
bus_addr_t
 
bound¬y
, bus_addr_ˆ
lowaddr
, bus_addr_ˆ
highaddr
,

94 
bus_dma_fž‹r_t
 *
fž‹r
, *
fž‹¿rg
, 
bus_size_t
 
maxsize
,

95 
n£gm’ts
, 
bus_size_t
 
max£gsz
, 
æags
, 
bus_dma_lock_t
 *
lockfunc
,

96 *
lockfunÿrg
, 
size_t
 
sz
, **
dm©
);

98 
bus_dma_im¶
 
bus_dma_bounû_im¶
;

	@/usr/include/x86/cputypes.h

30 #iâdeà
_X86_CPUTYPES_H_


31 
	#_X86_CPUTYPES_H_


	)

36 
	#CPU_VENDOR_NSC
 0x100b

	)

37 
	#CPU_VENDOR_IBM
 0x1014

	)

38 
	#CPU_VENDOR_AMD
 0x1022

	)

39 
	#CPU_VENDOR_SIS
 0x1039

	)

40 
	#CPU_VENDOR_UMC
 0x1060

	)

41 
	#CPU_VENDOR_NEXGEN
 0x1074

	)

42 
	#CPU_VENDOR_CYRIX
 0x1078

	)

43 
	#CPU_VENDOR_IDT
 0x111d

	)

44 
	#CPU_VENDOR_TRANSMETA
 0x1279

	)

45 
	#CPU_VENDOR_INTEL
 0x8086

	)

46 
	#CPU_VENDOR_RISE
 0xd—d2bad

	)

47 
	#CPU_VENDOR_CENTAUR
 
CPU_VENDOR_IDT


	)

	@/usr/include/x86/dump.h

30 #iâdeà
_MACHINE_DUMP_H_


31 
	#_MACHINE_DUMP_H_


	)

33 #ifdeà
__amd64__


34 
	#KERNELDUMP_ARCH_VERSION
 
KERNELDUMP_AMD64_VERSION


	)

35 
	#EM_VALUE
 
EM_X86_64


	)

37 
	#KERNELDUMP_ARCH_VERSION
 
KERNELDUMP_I386_VERSION


	)

38 
	#EM_VALUE
 
EM_386


	)

42 
	#DUMPSYS_MD_PA_NPAIRS
 10

	)

43 
	#DUMPSYS_NUM_AUX_HDRS
 0

	)

45 
šlše
 

46 
	$dumpsys_·_š™
()

49 
	`dumpsys_g’_·_š™
();

50 
	}
}

52 
šlše
 
dump_·
 *

53 
	$dumpsys_·_Ãxt
(
dump_·
 *
p
)

56  (
	`dumpsys_g’_·_Ãxt
(
p
));

57 
	}
}

59 
šlše
 

60 
	$dumpsys_wbšv_®l
()

63 
	`dumpsys_g’_wbšv_®l
();

64 
	}
}

66 
šlše
 

67 
	$dumpsys_unm­_chunk
(
vm_·ddr_t
 
·
, 
size_t
 
s
, *
va
)

70 
	`dumpsys_g’_unm­_chunk
(
·
, 
s
, 
va
);

71 
	}
}

73 
šlše
 

74 
	$dumpsys_wr™e_aux_h—d”s
(
dum³ršfo
 *
di
)

77  (
	`dumpsys_g’_wr™e_aux_h—d”s
(
di
));

78 
	}
}

80 
šlše
 

81 
	$dumpsys
(
dum³ršfo
 *
di
)

84  (
	`dumpsys_g’”ic
(
di
));

85 
	}
}

	@/usr/include/x86/elf.h

31 #iâdeà
_MACHINE_ELF_H_


32 
	#_MACHINE_ELF_H_
 1

	)

34 #ià
defšed
(
__i386__
è|| defšed(
_MACHINE_ELF_WANT_32BIT
)

40 
	~<sys/–f32.h
>

41 #ià
defšed
(
__ELF_WORD_SIZE
) && __ELF_WORD_SIZE == 64

42 
	~<sys/–f64.h
>

45 #iâdeà
__ELF_WORD_SIZE


46 
	#__ELF_WORD_SIZE
 32

	)

49 
	~<sys/–f_g’”ic.h
>

51 
	#ELF_ARCH
 
EM_386


	)

53 
	#ELF_MACHINE_OK
(
x
è((xè=ð
EM_386
 || (xè=ð
EM_486
)

	)

63 
	ma_ty³
;

65 
	ma_v®
;

66 *
	ma_±r
;

67 (*
	ma_fú
)();

68 } 
	ma_un
;

69 } 
	tElf32_Auxšfo
;

71 #ià
__ELF_WORD_SIZE
 == 64

74 
	mçke
;

75 } 
	tElf64_Auxšfo
;

78 
__ElfTy³
(
Auxšfo
);

81 
	#AT_NULL
 0

	)

82 
	#AT_IGNORE
 1

	)

83 
	#AT_EXECFD
 2

	)

84 
	#AT_PHDR
 3

	)

85 
	#AT_PHENT
 4

	)

86 
	#AT_PHNUM
 5

	)

87 
	#AT_PAGESZ
 6

	)

88 
	#AT_BASE
 7

	)

89 
	#AT_FLAGS
 8

	)

90 
	#AT_ENTRY
 9

	)

91 
	#AT_NOTELF
 10

	)

92 
	#AT_UID
 11

	)

93 
	#AT_EUID
 12

	)

94 
	#AT_GID
 13

	)

95 
	#AT_EGID
 14

	)

96 
	#AT_EXECPATH
 15

	)

97 
	#AT_CANARY
 16

	)

98 
	#AT_CANARYLEN
 17

	)

99 
	#AT_OSRELDATE
 18

	)

100 
	#AT_NCPUS
 19

	)

101 
	#AT_PAGESIZES
 20

	)

102 
	#AT_PAGESIZESLEN
 21

	)

103 
	#AT_TIMEKEEP
 22

	)

104 
	#AT_STACKPROT
 23

	)

105 
	#AT_EHDRFLAGS
 24

	)

106 
	#AT_HWCAP
 25

	)

107 
	#AT_HWCAP2
 26

	)

109 
	#AT_COUNT
 27

	)

115 
	#R_386_COUNT
 38

	)

118 
	#ELF_TARG_CLASS
 
ELFCLASS32


	)

119 
	#ELF_TARG_DATA
 
ELFDATA2LSB


	)

120 
	#ELF_TARG_MACH
 
EM_386


	)

121 
	#ELF_TARG_VER
 1

	)

123 
	#ET_DYN_LOAD_ADDR
 0x01001000

	)

125 #–ià
defšed
(
__amd64__
)

131 #iâdeà
__ELF_WORD_SIZE


132 
	#__ELF_WORD_SIZE
 64

	)

134 
	~<sys/–f32.h
>

135 
	~<sys/–f64.h
>

136 
	~<sys/–f_g’”ic.h
>

138 
	#ELF_ARCH
 
EM_X86_64


	)

139 
	#ELF_ARCH32
 
EM_386


	)

141 
	#ELF_MACHINE_OK
(
x
è((xè=ð
EM_X86_64
)

	)

150 
	ma_ty³
;

152 
	ma_v®
;

153 } 
	ma_un
;

154 } 
	tElf32_Auxšfo
;

158 
	ma_ty³
;

160 
	ma_v®
;

161 *
	ma_±r
;

162 (*
	ma_fú
)();

163 } 
	ma_un
;

164 } 
	tElf64_Auxšfo
;

166 
__ElfTy³
(
Auxšfo
);

169 
	#AT_NULL
 0

	)

170 
	#AT_IGNORE
 1

	)

171 
	#AT_EXECFD
 2

	)

172 
	#AT_PHDR
 3

	)

173 
	#AT_PHENT
 4

	)

174 
	#AT_PHNUM
 5

	)

175 
	#AT_PAGESZ
 6

	)

176 
	#AT_BASE
 7

	)

177 
	#AT_FLAGS
 8

	)

178 
	#AT_ENTRY
 9

	)

179 
	#AT_NOTELF
 10

	)

180 
	#AT_UID
 11

	)

181 
	#AT_EUID
 12

	)

182 
	#AT_GID
 13

	)

183 
	#AT_EGID
 14

	)

184 
	#AT_EXECPATH
 15

	)

185 
	#AT_CANARY
 16

	)

186 
	#AT_CANARYLEN
 17

	)

187 
	#AT_OSRELDATE
 18

	)

188 
	#AT_NCPUS
 19

	)

189 
	#AT_PAGESIZES
 20

	)

190 
	#AT_PAGESIZESLEN
 21

	)

191 
	#AT_TIMEKEEP
 22

	)

192 
	#AT_STACKPROT
 23

	)

193 
	#AT_EHDRFLAGS
 24

	)

194 
	#AT_HWCAP
 25

	)

195 
	#AT_HWCAP2
 26

	)

197 
	#AT_COUNT
 27

	)

203 
	#R_X86_64_COUNT
 24

	)

206 #ià
__ELF_WORD_SIZE
 == 32

207 
	#ELF_TARG_CLASS
 
ELFCLASS32


	)

209 
	#ELF_TARG_CLASS
 
ELFCLASS64


	)

211 
	#ELF_TARG_DATA
 
ELFDATA2LSB


	)

212 
	#ELF_TARG_MACH
 
EM_X86_64


	)

213 
	#ELF_TARG_VER
 1

	)

215 #ià
__ELF_WORD_SIZE
 == 32

216 
	#ET_DYN_LOAD_ADDR
 0x01001000

	)

218 
	#ET_DYN_LOAD_ADDR
 0x01021000

	)

	@/usr/include/x86/endian.h

35 #iâdeà
_MACHINE_ENDIAN_H_


36 
	#_MACHINE_ENDIAN_H_


	)

38 
	~<sys/cdefs.h
>

39 
	~<sys/_ty³s.h
>

44 
	#_QUAD_HIGHWORD
 1

	)

45 
	#_QUAD_LOWWORD
 0

	)

51 
	#_LITTLE_ENDIAN
 1234

	)

52 
	#_BIG_ENDIAN
 4321

	)

53 
	#_PDP_ENDIAN
 3412

	)

55 
	#_BYTE_ORDER
 
_LITTLE_ENDIAN


	)

61 #ià
__BSD_VISIBLE


62 
	#LITTLE_ENDIAN
 
_LITTLE_ENDIAN


	)

63 
	#BIG_ENDIAN
 
_BIG_ENDIAN


	)

64 
	#PDP_ENDIAN
 
_PDP_ENDIAN


	)

65 
	#BYTE_ORDER
 
_BYTE_ORDER


	)

68 
	#__bsw­16_g’
(
x
è(
__ušt16_t
)((xè<< 8 | (xè>> 8)

	)

69 
	#__bsw­32_g’
(
x
) \

70 (((
__ušt32_t
)
	`__bsw­16
((
x
è& 0xffffè<< 16è| __bsw­16((xè>> 16))

	)

71 
	#__bsw­64_g’
(
x
) \

72 (((
__ušt64_t
)
	`__bsw­32
((
x
è& 0xffffffffè<< 32è| __bsw­32((xè>> 32))

	)

74 #ifdeà
__GNUCLIKE_BUILTIN_CONSTANT_P


75 
	#__bsw­16
(
x
) \

76 ((
__ušt16_t
)(
	`__bužtš_cÚ¡ªt_p
(
x
) ? \

77 
	`__bsw­16_g’
((
__ušt16_t
)(
x
)è: 
	`__bsw­16_v¬
(x)))

	)

78 
	#__bsw­32
(
x
) \

79 (
	`__bužtš_cÚ¡ªt_p
(
x
) ? \

80 
	`__bsw­32_g’
((
__ušt32_t
)(
x
)è: 
	`__bsw­32_v¬
(x))

	)

81 
	#__bsw­64
(
x
) \

82 (
	`__bužtš_cÚ¡ªt_p
(
x
) ? \

83 
	`__bsw­64_g’
((
__ušt64_t
)(
x
)è: 
	`__bsw­64_v¬
(x))

	)

86 
	#__bsw­16
(
x
è
	`__bsw­16_v¬
(x)

	)

87 
	#__bsw­32
(
x
è
	`__bsw­32_v¬
(x)

	)

88 
	#__bsw­64
(
x
è
	`__bsw­64_v¬
(x)

	)

93 
__šlše
 
__ušt16_t


94 
	$__bsw­16_v¬
(
__ušt16_t
 
_x
)

97  (
	`__bsw­16_g’
(
_x
));

98 
	}
}

100 
__šlše
 
__ušt32_t


101 
	$__bsw­32_v¬
(
__ušt32_t
 
_x
)

104 #ifdeà
__GNUCLIKE_ASM


105 
	`__asm
("bsw­ %0" : "+r" (
_x
));

106  (
_x
);

108  (
	`__bsw­32_g’
(
_x
));

110 
	}
}

112 
__šlše
 
__ušt64_t


113 
	$__bsw­64_v¬
(
__ušt64_t
 
_x
)

116 #ià
	`defšed
(
__amd64__
è&& defšed(
__GNUCLIKE_ASM
)

117 
	`__asm
("bsw­ %0" : "+r" (
_x
));

118  (
_x
);

124  (
	`__bsw­64_g’
(
_x
));

126 
	}
}

128 
	#__htÚl
(
x
è
	`__bsw­32
(x)

	)

129 
	#__htÚs
(
x
è
	`__bsw­16
(x)

	)

130 
	#__Áohl
(
x
è
	`__bsw­32
(x)

	)

131 
	#__Áohs
(
x
è
	`__bsw­16
(x)

	)

	@/usr/include/x86/fdt.h

31 #iâdeà
_MACHINE_FDT_H_


32 
	#_MACHINE_FDT_H_


	)

34 
__BEGIN_DECLS


35 
x86_š™_fdt
();

36 
	g__END_DECLS


	@/usr/include/x86/float.h

35 #iâdeà
_MACHINE_FLOAT_H_


36 
	#_MACHINE_FLOAT_H_
 1

	)

38 
	~<sys/cdefs.h
>

40 
__BEGIN_DECLS


41 
__æt_rounds
();

42 
	g__END_DECLS


44 
	#FLT_RADIX
 2

	)

45 
	#FLT_ROUNDS
 
	`__æt_rounds
()

	)

46 #ià
__ISO_C_VISIBLE
 >= 1999

47 #ifdeà
__LP64__


48 
	#FLT_EVAL_METHOD
 0

	)

50 
	#FLT_EVAL_METHOD
 (-1è

	)

52 
	#DECIMAL_DIG
 21

	)

55 
	#FLT_MANT_DIG
 24

	)

56 
	#FLT_EPSILON
 1.19209290E-07F

	)

57 
	#FLT_DIG
 6

	)

58 
	#FLT_MIN_EXP
 (-125è

	)

59 
	#FLT_MIN
 1.17549435E-38F

	)

60 
	#FLT_MIN_10_EXP
 (-37è

	)

61 
	#FLT_MAX_EXP
 128

	)

62 
	#FLT_MAX
 3.40282347E+38F

	)

63 
	#FLT_MAX_10_EXP
 38

	)

64 #ià
__ISO_C_VISIBLE
 >= 2011

65 
	#FLT_TRUE_MIN
 1.40129846E-45F

	)

66 
	#FLT_DECIMAL_DIG
 9

	)

67 
	#FLT_HAS_SUBNORM
 1

	)

70 
	#DBL_MANT_DIG
 53

	)

71 
	#DBL_EPSILON
 2.2204460492503131E-16

	)

72 
	#DBL_DIG
 15

	)

73 
	#DBL_MIN_EXP
 (-1021)

	)

74 
	#DBL_MIN
 2.2250738585072014E-308

	)

75 
	#DBL_MIN_10_EXP
 (-307)

	)

76 
	#DBL_MAX_EXP
 1024

	)

77 
	#DBL_MAX
 1.7976931348623157E+308

	)

78 
	#DBL_MAX_10_EXP
 308

	)

79 #ià
__ISO_C_VISIBLE
 >= 2011

80 
	#DBL_TRUE_MIN
 4.9406564584124654E-324

	)

81 
	#DBL_DECIMAL_DIG
 17

	)

82 
	#DBL_HAS_SUBNORM
 1

	)

85 
	#LDBL_MANT_DIG
 64

	)

86 
	#LDBL_EPSILON
 1.0842021724855044340E-19L

	)

87 
	#LDBL_DIG
 18

	)

88 
	#LDBL_MIN_EXP
 (-16381)

	)

89 
	#LDBL_MIN
 3.3621031431120935063E-4932L

	)

90 
	#LDBL_MIN_10_EXP
 (-4931)

	)

91 
	#LDBL_MAX_EXP
 16384

	)

92 
	#LDBL_MAX
 1.1897314953572317650E+4932L

	)

93 
	#LDBL_MAX_10_EXP
 4932

	)

94 #ià
__ISO_C_VISIBLE
 >= 2011

95 
	#LDBL_TRUE_MIN
 3.6451995318824746025E-4951L

	)

96 
	#LDBL_DECIMAL_DIG
 21

	)

97 
	#LDBL_HAS_SUBNORM
 1

	)

	@/usr/include/x86/fpu.h

41 #iâdeà
_X86_FPU_H_


42 
	#_X86_FPU_H_


	)

45 
	s’v87
 {

46 
št32_t
 
	m’_cw
;

47 
št32_t
 
	m’_sw
;

48 
št32_t
 
	m’_tw
;

49 
št32_t
 
	m’_f
;

50 
ušt16_t
 
	m’_fcs
;

51 
ušt16_t
 
	m’_Ýcode
;

52 
št32_t
 
	m’_foo
;

53 
št32_t
 
	m’_fos
;

57 
	såacc87
 {

58 
ušt8_t
 
	må_by‹s
[10];

62 
	s§ve87
 {

63 
’v87
 
	msv_’v
;

64 
åacc87
 
	msv_ac
[8];

65 
ušt8_t
 
	msv_·d0
[4];

66 
ušt8_t
 
	msv_·d
[64];

70 
	sxmmacc
 {

71 
ušt8_t
 
	mxmm_by‹s
[16];

75 
	symmacc
 {

76 
ušt8_t
 
	mymm_by‹s
[16];

80 #ifdeà
__i386__


81 
	#__’vxmm32
 
’vxmm


	)

83 
	#__’vxmm32
 
’vxmm32


	)

84 
	#__’vxmm64
 
’vxmm


	)

87 
	s__’vxmm32
 {

88 
ušt16_t
 
	m’_cw
;

89 
ušt16_t
 
	m’_sw
;

90 
ušt16_t
 
	m’_tw
;

91 
ušt16_t
 
	m’_Ýcode
;

92 
ušt32_t
 
	m’_f
;

93 
ušt16_t
 
	m’_fcs
;

94 
ušt16_t
 
	m’_·d0
;

95 
ušt32_t
 
	m’_foo
;

96 
ušt16_t
 
	m’_fos
;

97 
ušt16_t
 
	m’_·d1
;

98 
ušt32_t
 
	m’_mxc¤
;

99 
ušt32_t
 
	m’_mxc¤_mask
;

102 
	s__’vxmm64
 {

103 
ušt16_t
 
	m’_cw
;

104 
ušt16_t
 
	m’_sw
;

105 
ušt8_t
 
	m’_tw
;

106 
ušt8_t
 
	m’_z”o
;

107 
ušt16_t
 
	m’_Ýcode
;

108 
ušt64_t
 
	m’_r
;

109 
ušt64_t
 
	m’_rdp
;

110 
ušt32_t
 
	m’_mxc¤
;

111 
ušt32_t
 
	m’_mxc¤_mask
;

115 
	s§vexmm
 {

116 
__’vxmm32
 
	msv_’v
;

118 
åacc87
 
	må_acc
;

119 
ušt8_t
 
	må_·d
[6];

120 } 
	msv_å
[8];

121 
xmmacc
 
	msv_xmm
[8];

122 
ušt8_t
 
	msv_·d
[224];

123 } 
__®igÃd
(16);

125 #ifdeà
__i386__


126 
	u§veåu
 {

127 
§ve87
 
	msv_87
;

128 
§vexmm
 
	msv_xmm
;

132 
	s§veåu
 {

133 
__’vxmm64
 
	msv_’v
;

135 
åacc87
 
	må_acc
;

136 
ušt8_t
 
	må_·d
[6];

137 } 
	msv_å
[8];

138 
xmmacc
 
	msv_xmm
[16];

139 
ušt8_t
 
	msv_·d
[96];

140 } 
__®igÃd
(16);

143 
	sx¡©e_hdr
 {

144 
ušt64_t
 
	mx¡©e_bv
;

145 
ušt64_t
 
	mx¡©e_xcomp_bv
;

146 
ušt8_t
 
	mx¡©e_r¤v0
[8];

147 
ušt8_t
 
	mx¡©e_r¤v
[40];

149 
	#XSTATE_XCOMP_BV_COMPACT
 (1ULL << 63)

	)

151 
	s§vexmm_x¡©e
 {

152 
x¡©e_hdr
 
	msx_hd
;

153 
ymmacc
 
	msx_ymm
[16];

156 
	s§vexmm_ymm
 {

157 
__’vxmm32
 
	msv_’v
;

159 
åacc87
 
	må_acc
;

160 
št8_t
 
	må_·d
[6];

161 } 
	msv_å
[8];

162 
xmmacc
 
	msv_xmm
[16];

163 
ušt8_t
 
	msv_·d
[96];

164 
§vexmm_x¡©e
 
	msv_x¡©e
;

165 } 
__®igÃd
(64);

167 
	s§veåu_x¡©e
 {

168 
x¡©e_hdr
 
	msx_hd
;

169 
ymmacc
 
	msx_ymm
[16];

172 
	s§veåu_ymm
 {

173 
__’vxmm64
 
	msv_’v
;

175 
åacc87
 
	må_acc
;

176 
št8_t
 
	må_·d
[6];

177 } 
	msv_å
[8];

178 
xmmacc
 
	msv_xmm
[16];

179 
ušt8_t
 
	msv_·d
[96];

180 
§veåu_x¡©e
 
	msv_x¡©e
;

181 } 
__®igÃd
(64);

183 #undeà
__’vxmm32


184 #undeà
__’vxmm64


204 
	#__INITIAL_FPUCW__
 0x037F

	)

205 
	#__INITIAL_FPUCW_I386__
 0x127F

	)

206 
	#__INITIAL_NPXCW__
 
__INITIAL_FPUCW_I386__


	)

207 
	#__INITIAL_MXCSR__
 0x1F80

	)

208 
	#__INITIAL_MXCSR_MASK__
 0xFFBF

	)

215 
	#X86_XSTATE_XCR0_OFFSET
 464

	)

	@/usr/include/x86/frame.h

39 #iâdeà
_MACHINE_FRAME_H_


40 
	#_MACHINE_FRAME_H_
 1

	)

46 #ifdeà
__i386__


51 
	sŒ­äame
 {

52 
	mtf_fs
;

53 
	mtf_es
;

54 
	mtf_ds
;

55 
	mtf_edi
;

56 
	mtf_esi
;

57 
	mtf_ebp
;

58 
	mtf_i¥
;

59 
	mtf_ebx
;

60 
	mtf_edx
;

61 
	mtf_ecx
;

62 
	mtf_—x
;

63 
	mtf_Œ­no
;

65 
	mtf_”r
;

66 
	mtf_e
;

67 
	mtf_cs
;

68 
	mtf_eæags
;

70 
	mtf_e¥
;

71 
	mtf_ss
;

76 
	sŒ­äame_vm86
 {

77 
	mtf_fs
;

78 
	mtf_es
;

79 
	mtf_ds
;

80 
	mtf_edi
;

81 
	mtf_esi
;

82 
	mtf_ebp
;

83 
	mtf_i¥
;

84 
	mtf_ebx
;

85 
	mtf_edx
;

86 
	mtf_ecx
;

87 
	mtf_—x
;

88 
	mtf_Œ­no
;

90 
	mtf_”r
;

91 
	mtf_e
;

92 
	mtf_cs
;

93 
	mtf_eæags
;

95 
	mtf_e¥
;

96 
	mtf_ss
;

98 
	mtf_vm86_es
;

99 
	mtf_vm86_ds
;

100 
	mtf_vm86_fs
;

101 
	mtf_vm86_gs
;

111 
	#TF_HAS_STACKREGS
(
tf
è
	`TRAPF_USERMODE
Ñf)

	)

114 #ifdeà
__amd64__


122 
	sŒ­äame
 {

123 
»gi¡”_t
 
	mtf_rdi
;

124 
»gi¡”_t
 
	mtf_rsi
;

125 
»gi¡”_t
 
	mtf_rdx
;

126 
»gi¡”_t
 
	mtf_rcx
;

127 
»gi¡”_t
 
	mtf_r8
;

128 
»gi¡”_t
 
	mtf_r9
;

129 
»gi¡”_t
 
	mtf_¿x
;

130 
»gi¡”_t
 
	mtf_rbx
;

131 
»gi¡”_t
 
	mtf_rbp
;

132 
»gi¡”_t
 
	mtf_r10
;

133 
»gi¡”_t
 
	mtf_r11
;

134 
»gi¡”_t
 
	mtf_r12
;

135 
»gi¡”_t
 
	mtf_r13
;

136 
»gi¡”_t
 
	mtf_r14
;

137 
»gi¡”_t
 
	mtf_r15
;

138 
ušt32_t
 
	mtf_Œ­no
;

139 
ušt16_t
 
	mtf_fs
;

140 
ušt16_t
 
	mtf_gs
;

141 
»gi¡”_t
 
	mtf_addr
;

142 
ušt32_t
 
	mtf_æags
;

143 
ušt16_t
 
	mtf_es
;

144 
ušt16_t
 
	mtf_ds
;

146 
»gi¡”_t
 
	mtf_”r
;

147 
»gi¡”_t
 
	mtf_r
;

148 
»gi¡”_t
 
	mtf_cs
;

149 
»gi¡”_t
 
	mtf_ræags
;

151 
»gi¡”_t
 
	mtf_r¥
;

152 
»gi¡”_t
 
	mtf_ss
;

155 
	#TF_HASSEGS
 0x1

	)

156 
	#TF_HASBASES
 0x2

	)

157 
	#TF_HASFPXSTATE
 0x4

	)

	@/usr/include/x86/intr_machdep.h

31 #iâdeà
__X86_INTR_MACHDEP_H__


32 
	#__X86_INTR_MACHDEP_H__


	)

34 #ifdeà
_KERNEL


61 
	#NUM_MSI_INTS
 512

	)

62 
	#MINIMUM_MSI_INT
 256

	)

64 
u_št
 
fœ¡_msi_œq
;

65 
u_št
 
num_io_œqs
;

70 
	#MSI_INTEL_ADDR_BASE
 0xãe00000

	)

72 #iâdeà
LOCORE


74 
	tšthªd_t
();

76 
	#IDTVEC
(
Çme
è
	`__CONCAT
(
X
,Çme)

	)

78 
	gšt¤c
;

85 
	spic
 {

86 (*
	mpic_»gi¡”_sourûs
)(
	mpic
 *);

87 (*
	mpic_’abË_sourû
)(
	mšt¤c
 *);

88 (*
	mpic_di§bË_sourû
)(
	mšt¤c
 *, );

89 (*
	mpic_eoi_sourû
)(
	mšt¤c
 *);

90 (*
	mpic_’abË_šŒ
)(
	mšt¤c
 *);

91 (*
	mpic_di§bË_šŒ
)(
	mšt¤c
 *);

92 (*
	mpic_veùÜ
)(
	mšt¤c
 *);

93 (*
	mpic_sourû_³ndšg
)(
	mšt¤c
 *);

94 (*
	mpic_su¥’d
)(
	mpic
 *);

95 (*
	mpic_»sume
)(
	mpic
 *, 
boÞ
 
	msu¥’d_ÿnûÎed
);

96 (*
	mpic_cÚfig_šŒ
)(
	mšt¤c
 *, 
	mšŒ_Œigg”
,

97 
	mšŒ_pÞ¬™y
);

98 (*
	mpic_assign_ýu
)(
	mšt¤c
 *, 
u_št
 
	m­ic_id
);

99 (*
	mpic_»´og¿m_pš
)(
	mšt¤c
 *);

100 
TAILQ_ENTRY
(
pic
è
	mpics
;

105 
	mPIC_EOI
,

106 
	mPIC_NO_EOI
,

115 
	sšt¤c
 {

116 
pic
 *
	mis_pic
;

117 
šŒ_ev’t
 *
	mis_ev’t
;

118 
u_lÚg
 *
	mis_couÁ
;

119 
u_lÚg
 *
	mis_¡¿ycouÁ
;

120 
u_št
 
	mis_šdex
;

121 
u_št
 
	mis_hªdËrs
;

122 
u_št
 
	mis_domaš
;

123 
u_št
 
	mis_ýu
;

126 
	gŒ­äame
;

128 #ifdeà
SMP


129 
ýu£t_t
 
šŒ_ýus
;

131 
mtx
 
icu_lock
;

132 
–ü_found
;

133 #ifdeà
SMP


134 
msix_di§bË_mig¿tiÚ
;

137 #iâdeà
DEV_ATPIC


138 
©pic_»£t
();

141 
–ü_´obe
();

142 
šŒ_Œigg”
 
–ü_»ad_Œigg”
(
u_št
 
œq
);

143 
–ü_»sume
();

144 
–ü_wr™e_Œigg”
(
u_št
 
œq
, 
šŒ_Œigg”
 
Œigg”
);

145 #ifdeà
SMP


146 
šŒ_add_ýu
(
u_št
 
ýu
);

148 
šŒ_add_hªdËr
(cÚ¡ *
Çme
, 
veùÜ
, 
driv”_fž‹r_t
 
fž‹r
,

149 
driv”_šŒ_t
 
hªdËr
, *
¬g
, 
šŒ_ty³
 
æags
, **
cook›p
,

150 
domaš
);

151 #ifdeà
SMP


152 
šŒ_bšd
(
u_št
 
veùÜ
, 
u_ch¬
 
ýu
);

154 
šŒ_cÚfig_šŒ
(
veùÜ
, 
šŒ_Œigg”
 
Œig
,

155 
šŒ_pÞ¬™y
 
pÞ
);

156 
šŒ_desüibe
(
u_št
 
veùÜ
, *
ih
, cÚ¡ *
desü
);

157 
šŒ_execu‹_hªdËrs
(
št¤c
 *
i¤c
, 
Œ­äame
 *
äame
);

158 
u_št
 
šŒ_Ãxt_ýu
(
domaš
);

159 
št¤c
 *
šŒ_lookup_sourû
(
veùÜ
);

160 
šŒ_»gi¡”_pic
(
pic
 *pic);

161 
šŒ_»gi¡”_sourû
(
št¤c
 *
i¤c
);

162 
šŒ_»move_hªdËr
(*
cook›
);

163 
šŒ_»sume
(
boÞ
 
su¥’d_ÿnûÎed
);

164 
šŒ_su¥’d
();

165 
šŒ_»´og¿m
();

166 
šŒút_add
(cÚ¡ *
Çme
, 
u_lÚg
 **
couÁp
);

167 
Ãxus_add_œq
(
u_lÚg
 
œq
);

168 
msi_®loc
(
deviû_t
 
dev
, 
couÁ
, 
maxcouÁ
, *
œqs
);

169 
msi_š™
();

170 
msi_m­
(
œq
, 
ušt64_t
 *
addr
, 
ušt32_t
 *
d©a
);

171 
msi_»Ëa£
(*
œqs
, 
couÁ
);

172 
msix_®loc
(
deviû_t
 
dev
, *
œq
);

173 
msix_»Ëa£
(
œq
);

174 #ifdeà
XENHVM


175 
x’_šŒ_®loc_œqs
();

	@/usr/include/x86/metadata.h

29 #iâdeà
_MACHINE_METADATA_H_


30 
	#_MACHINE_METADATA_H_


	)

32 
	#MODINFOMD_SMAP
 0x1001

	)

33 
	#MODINFOMD_SMAP_XATTR
 0x1002

	)

34 
	#MODINFOMD_DTBP
 0x1003

	)

35 
	#MODINFOMD_EFI_MAP
 0x1004

	)

36 
	#MODINFOMD_EFI_FB
 0x1005

	)

37 
	#MODINFOMD_MODULEP
 0x1006

	)

39 
	sefi_m­_h—d”
 {

40 
ušt64_t
 
	mmemÜy_size
;

41 
ušt64_t
 
	mdesütÜ_size
;

42 
ušt32_t
 
	mdesütÜ_v”siÚ
;

45 
	sefi_fb
 {

46 
ušt64_t
 
	mfb_addr
;

47 
ušt64_t
 
	mfb_size
;

48 
ušt32_t
 
	mfb_height
;

49 
ušt32_t
 
	mfb_width
;

50 
ušt32_t
 
	mfb_¡ride
;

51 
ušt32_t
 
	mfb_mask_»d
;

52 
ušt32_t
 
	mfb_mask_g»’
;

53 
ušt32_t
 
	mfb_mask_blue
;

54 
ušt32_t
 
	mfb_mask_»£rved
;

	@/usr/include/x86/ofw_machdep.h

31 #iâdeà
_MACHINE_OFW_MACHDEP_H_


32 
	#_MACHINE_OFW_MACHDEP_H_


	)

34 
	~<machše/bus.h
>

35 
	~<vm/vm.h
>

37 
ušt32_t
 
	tûÎ_t
;

39 
	smem_»giÚ
 {

40 
vm_off£t_t
 
	mmr_¡¬t
;

41 
vm_size_t
 
	mmr_size
;

	@/usr/include/x86/pci_cfgreg.h

32 #iâdeà
__X86_PCI_CFGREG_H__


33 
	#__X86_PCI_CFGREG_H__


	)

35 
	#CONF1_ADDR_PORT
 0x0cf8

	)

36 
	#CONF1_DATA_PORT
 0x0cfc

	)

38 
	#CONF1_ENABLE
 0x80000000ul

	)

39 
	#CONF1_ENABLE_CHK
 0x80000000ul

	)

40 
	#CONF1_ENABLE_MSK
 0x7f000000ul

	)

41 
	#CONF1_ENABLE_CHK1
 0xff000001ul

	)

42 
	#CONF1_ENABLE_MSK1
 0x80000001ul

	)

43 
	#CONF1_ENABLE_RES1
 0x80000000ul

	)

45 
	#CONF2_ENABLE_PORT
 0x0cf8

	)

46 
	#CONF2_FORWARD_PORT
 0x0cç

	)

48 
	#CONF2_ENABLE_CHK
 0x0e

	)

49 
	#CONF2_ENABLE_RES
 0x0e

	)

51 
rmª_»s_t
 
ho¡b_®loc_¡¬t
(
ty³
,„mª_»s_ˆ
¡¬t
,„mª_»s_ˆ
’d
,„mª_»s_ˆ
couÁ
);

52 
pc›_cfg»gÝ’
(
ušt64_t
 
ba£
, 
ušt8_t
 
mšbus
, ušt8_ˆ
maxbus
);

53 
pci_cfg»gÝ’
();

54 
u_št32_t
 
pci_cfg»g»ad
(
bus
, 
¦Ù
, 
func
, 
»g
, 
by‹s
);

55 
pci_cfg»gwr™e
(
bus
, 
¦Ù
, 
func
, 
»g
, 
u_št32_t
 
d©a
, 
by‹s
);

56 #ifdeà
__HAVE_PIR


57 
pci_pœ_Ý’
();

58 
pci_pœ_´obe
(
bus
, 
»quœe_·r£
);

59 
pci_pœ_rou‹_š‹¼u±
(
bus
, 
deviû
, 
func
, 
pš
);

	@/usr/include/x86/psl.h

38 #iâdeà
_MACHINE_PSL_H_


39 
	#_MACHINE_PSL_H_


	)

44 
	#PSL_C
 0x00000001

	)

45 
	#PSL_PF
 0x00000004

	)

46 
	#PSL_AF
 0x00000010

	)

47 
	#PSL_Z
 0x00000040

	)

48 
	#PSL_N
 0x00000080

	)

49 
	#PSL_T
 0x00000100

	)

50 
	#PSL_I
 0x00000200

	)

51 
	#PSL_D
 0x00000400

	)

52 
	#PSL_V
 0x00000800

	)

53 
	#PSL_IOPL
 0x00003000

	)

54 
	#PSL_NT
 0x00004000

	)

55 
	#PSL_RF
 0x00010000

	)

56 
	#PSL_VM
 0x00020000

	)

57 
	#PSL_AC
 0x00040000

	)

58 
	#PSL_VIF
 0x00080000

	)

59 
	#PSL_VIP
 0x00100000

	)

60 
	#PSL_ID
 0x00200000

	)

67 
	#PSL_RESERVED_DEFAULT
 0x00000002

	)

73 
	#PSL_KERNEL
 
PSL_RESERVED_DEFAULT


	)

74 
	#PSL_USER
 (
PSL_RESERVED_DEFAULT
 | 
PSL_I
)

	)

91 
	#PSL_USERCHANGE
 (
PSL_C
 | 
PSL_PF
 | 
PSL_AF
 | 
PSL_Z
 | 
PSL_N
 | 
PSL_T
 \

92 | 
PSL_D
 | 
PSL_V
 | 
PSL_NT
 | 
PSL_RF
 | 
PSL_AC
 | 
PSL_ID
)

	)

	@/usr/include/x86/ptrace.h

35 #iâdeà
_MACHINE_PTRACE_H_


36 
	#_MACHINE_PTRACE_H_


	)

38 
	#__HAVE_PTRACE_MACHDEP


	)

45 #ifdeà
__i386__


46 
	#PT_GETXMMREGS
 (
PT_FIRSTMACH
 + 0)

	)

47 
	#PT_SETXMMREGS
 (
PT_FIRSTMACH
 + 1)

	)

49 #ifdeà
_KERNEL


50 
	#PT_GETXSTATE_OLD
 (
PT_FIRSTMACH
 + 2)

	)

51 
	#PT_SETXSTATE_OLD
 (
PT_FIRSTMACH
 + 3)

	)

53 
	#PT_GETXSTATE_INFO
 (
PT_FIRSTMACH
 + 4)

	)

54 
	#PT_GETXSTATE
 (
PT_FIRSTMACH
 + 5)

	)

55 
	#PT_SETXSTATE
 (
PT_FIRSTMACH
 + 6)

	)

56 
	#PT_GETFSBASE
 (
PT_FIRSTMACH
 + 7)

	)

57 
	#PT_SETFSBASE
 (
PT_FIRSTMACH
 + 8)

	)

58 
	#PT_GETGSBASE
 (
PT_FIRSTMACH
 + 9)

	)

59 
	#PT_SETGSBASE
 (
PT_FIRSTMACH
 + 10)

	)

62 
	s±¿û_x¡©e_šfo
 {

63 
ušt64_t
 
	mx§ve_mask
;

64 
ušt32_t
 
	mx§ve_Ën
;

	@/usr/include/x86/pvclock.h

29 #iâdeà
X86_PVCLOCK


30 
	#X86_PVCLOCK


	)

32 
	spvþock_výu_time_šfo
 {

33 
ušt32_t
 
	mv”siÚ
;

34 
ušt32_t
 
	m·d0
;

35 
ušt64_t
 
	mtsc_time¡amp
;

36 
ušt64_t
 
	msy¡em_time
;

37 
ušt32_t
 
	mtsc_to_sy¡em_mul
;

38 
št8_t
 
	mtsc_shiá
;

39 
ušt8_t
 
	mæags
;

40 
ušt8_t
 
	m·d
[2];

43 
	#PVCLOCK_FLAG_TSC_STABLE
 0x01

	)

44 
	#PVCLOCK_FLAG_GUEST_PASUED
 0x02

	)

46 
	spvþock_w®l_þock
 {

47 
ušt32_t
 
	mv”siÚ
;

48 
ušt32_t
 
	m£c
;

49 
ušt32_t
 
	mn£c
;

52 
pvþock_»sume
();

53 
ušt64_t
 
pvþock_g‘_Ï¡_cyþes
();

54 
ušt64_t
 
pvþock_tsc_äeq
(
pvþock_výu_time_šfo
 *
ti
);

55 
ušt64_t
 
pvþock_g‘_timecouÁ
(
pvþock_výu_time_šfo
 *
ti
);

56 
pvþock_g‘_w®lþock
(
pvþock_w®l_þock
 *
wc
,

57 
time¥ec
 *
ts
);

	@/usr/include/x86/reg.h

39 #iâdeà
_MACHINE_REG_H_


40 
	#_MACHINE_REG_H_


	)

42 
	~<machše/_ty³s.h
>

44 #ifdeà
__i386__


56 
	#tFS
 (0)

	)

57 
	#tES
 (1)

	)

58 
	#tDS
 (2)

	)

59 
	#tEDI
 (3)

	)

60 
	#tESI
 (4)

	)

61 
	#tEBP
 (5)

	)

62 
	#tISP
 (6)

	)

63 
	#tEBX
 (7)

	)

64 
	#tEDX
 (8)

	)

65 
	#tECX
 (9)

	)

66 
	#tEAX
 (10)

	)

67 
	#tERR
 (12)

	)

68 
	#tEIP
 (13)

	)

69 
	#tCS
 (14)

	)

70 
	#tEFLAGS
 (15)

	)

71 
	#tESP
 (16)

	)

72 
	#tSS
 (17)

	)

81 
	#tGS
 (18)

	)

85 #ifdef 
__i386__


86 
	#__»g32
 
»g


	)

87 
	#__å»g32
 
å»g


	)

88 
	#__db»g32
 
db»g


	)

90 
	#__»g32
 
»g32


	)

91 
	#__»g64
 
»g


	)

92 
	#__å»g32
 
å»g32


	)

93 
	#__å»g64
 
å»g


	)

94 
	#__db»g32
 
db»g32


	)

95 
	#__db»g64
 
db»g


	)

96 
	#__HAVE_REG32


	)

102 
	s__»g32
 {

103 
__ušt32_t
 
	mr_fs
;

104 
__ušt32_t
 
	mr_es
;

105 
__ušt32_t
 
	mr_ds
;

106 
__ušt32_t
 
	mr_edi
;

107 
__ušt32_t
 
	mr_esi
;

108 
__ušt32_t
 
	mr_ebp
;

109 
__ušt32_t
 
	mr_i¥
;

110 
__ušt32_t
 
	mr_ebx
;

111 
__ušt32_t
 
	mr_edx
;

112 
__ušt32_t
 
	mr_ecx
;

113 
__ušt32_t
 
	mr_—x
;

114 
__ušt32_t
 
	mr_Œ­no
;

115 
__ušt32_t
 
	mr_”r
;

116 
__ušt32_t
 
	mr_e
;

117 
__ušt32_t
 
	mr_cs
;

118 
__ušt32_t
 
	mr_eæags
;

119 
__ušt32_t
 
	mr_e¥
;

120 
__ušt32_t
 
	mr_ss
;

121 
__ušt32_t
 
	mr_gs
;

124 
	s__»g64
 {

125 
__št64_t
 
	mr_r15
;

126 
__št64_t
 
	mr_r14
;

127 
__št64_t
 
	mr_r13
;

128 
__št64_t
 
	mr_r12
;

129 
__št64_t
 
	mr_r11
;

130 
__št64_t
 
	mr_r10
;

131 
__št64_t
 
	mr_r9
;

132 
__št64_t
 
	mr_r8
;

133 
__št64_t
 
	mr_rdi
;

134 
__št64_t
 
	mr_rsi
;

135 
__št64_t
 
	mr_rbp
;

136 
__št64_t
 
	mr_rbx
;

137 
__št64_t
 
	mr_rdx
;

138 
__št64_t
 
	mr_rcx
;

139 
__št64_t
 
	mr_¿x
;

140 
__ušt32_t
 
	mr_Œ­no
;

141 
__ušt16_t
 
	mr_fs
;

142 
__ušt16_t
 
	mr_gs
;

143 
__ušt32_t
 
	mr_”r
;

144 
__ušt16_t
 
	mr_es
;

145 
__ušt16_t
 
	mr_ds
;

146 
__št64_t
 
	mr_r
;

147 
__št64_t
 
	mr_cs
;

148 
__št64_t
 
	mr_ræags
;

149 
__št64_t
 
	mr_r¥
;

150 
__št64_t
 
	mr_ss
;

160 
	s__å»g32
 {

161 
__ušt32_t
 
	mår_’v
[7];

162 
__ušt8_t
 
	mår_acc
[8][10];

163 
__ušt32_t
 
	mår_ex_sw
;

164 
__ušt8_t
 
	mår_·d
[64];

167 
	s__å»g64
 {

168 
__ušt64_t
 
	mår_’v
[4];

169 
__ušt8_t
 
	mår_acc
[8][16];

170 
__ušt8_t
 
	mår_xacc
[16][16];

171 
__ušt64_t
 
	mår_¥¬e
[12];

177 
	sxmm»g
 {

183 
__ušt32_t
 
	mxmm_’v
[8];

184 
__ušt8_t
 
	mxmm_acc
[8][16];

185 
__ušt8_t
 
	mxmm_»g
[8][16];

186 
__ušt8_t
 
	mxmm_·d
[224];

192 
	s__db»g32
 {

193 
__ušt32_t
 
	mdr
[8];

200 
	s__db»g64
 {

201 
__ušt64_t
 
	mdr
[16];

209 
	#DBREG_DR6_RESERVED1
 0xffff0ff0

	)

210 
	#DBREG_DR6_BMASK
 0x000f

	)

211 
	#DBREG_DR6_B
(
i
è(1 << (i))

	)

212 
	#DBREG_DR6_BD
 0x2000

	)

213 
	#DBREG_DR6_BS
 0x4000

	)

214 
	#DBREG_DR6_BT
 0x8000

	)

216 
	#DBREG_DR7_RESERVED1
 0x0400

	)

217 
	#DBREG_DR7_LOCAL_ENABLE
 0x01

	)

218 
	#DBREG_DR7_GLOBAL_ENABLE
 0x02

	)

219 
	#DBREG_DR7_LEN_1
 0x00

	)

220 
	#DBREG_DR7_LEN_2
 0x01

	)

221 
	#DBREG_DR7_LEN_4
 0x03

	)

222 
	#DBREG_DR7_LEN_8
 0x02

	)

223 
	#DBREG_DR7_EXEC
 0x00

	)

224 
	#DBREG_DR7_WRONLY
 0x01

	)

225 
	#DBREG_DR7_RDWR
 0x03

	)

226 
	#DBREG_DR7_MASK
(
i
) \

227 ((
__u_»gi¡”_t
)(0xfè<< ((
i
è* 4 + 16è| 0x3 << (iè* 2)

	)

228 
	#DBREG_DR7_SET
(
i
, 
Ën
, 
acûss
, 
’abË
) \

229 ((
__u_»gi¡”_t
)((
Ën
è<< 2 | (
acûss
)è<< ((
i
) * 4 + 16) | \

230 (
’abË
è<< (
i
è* 2)

	)

231 
	#DBREG_DR7_GD
 0x2000

	)

232 
	#DBREG_DR7_ENABLED
(
d
, 
i
è(((dè& 0x3 << (iè* 2è!ð0)

	)

233 
	#DBREG_DR7_ACCESS
(
d
, 
i
è((dè>> ((iè* 4 + 16è& 0x3)

	)

234 
	#DBREG_DR7_LEN
(
d
, 
i
è((dè>> ((iè* 4 + 18è& 0x3)

	)

236 
	#DBREG_DRX
(
d
,
x
è((d)->
dr
[(x)]è

	)

239 #undeà
__»g32


240 #undeà
__»g64


241 #undeà
__å»g32


242 #undeà
__å»g64


243 #undeà
__db»g32


244 #undeà
__db»g64


246 #ifdeà
_KERNEL


247 
	gth»ad
;

252 
fžl_»gs
(
th»ad
 *, 
»g
 *);

253 
fžl_äame_»gs
(
Œ­äame
 *, 
»g
 *);

254 
£t_»gs
(
th»ad
 *, 
»g
 *);

255 
fžl_å»gs
(
th»ad
 *, 
å»g
 *);

256 
£t_å»gs
(
th»ad
 *, 
å»g
 *);

257 
fžl_db»gs
(
th»ad
 *, 
db»g
 *);

258 
£t_db»gs
(
th»ad
 *, 
db»g
 *);

259 #ifdeà
COMPAT_FREEBSD32


260 
fžl_»gs32
(
th»ad
 *, 
»g32
 *);

261 
£t_»gs32
(
th»ad
 *, 
»g32
 *);

262 
fžl_å»gs32
(
th»ad
 *, 
å»g32
 *);

263 
£t_å»gs32
(
th»ad
 *, 
å»g32
 *);

264 
fžl_db»gs32
(
th»ad
 *, 
db»g32
 *);

265 
£t_db»gs32
(
th»ad
 *, 
db»g32
 *);

	@/usr/include/x86/segments.h

39 #iâdeà
_X86_SEGMENTS_H_


40 
	#_X86_SEGMENTS_H_


	)

49 
	#SEL_RPL_MASK
 3

	)

50 
	#ISPL
(
s
è((s)&3è

	)

51 
	#SEL_KPL
 0

	)

52 
	#SEL_UPL
 3

	)

53 
	#ISLDT
(
s
è((s)&
SEL_LDT
è

	)

54 
	#SEL_LDT
 4

	)

55 
	#IDXSEL
(
s
è(((s)>>3è& 0x1fffè

	)

56 
	#LSEL
(
s
,
r
è(((s)<<3è| 
SEL_LDT
 |„è

	)

57 
	#GSEL
(
s
,
r
è(((s)<<3è|„è

	)

64 
	s£gm’t_desütÜ
 {

65 
	msd_lÞim™
:16;

66 
	msd_loba£
:24;

67 
	msd_ty³
:5;

68 
	msd_d¶
:2;

69 
	msd_p
:1;

70 
	msd_hžim™
:4;

71 
	msd_xx
:2;

72 
	msd_def32
:1;

73 
	msd_g¿n
:1;

74 
	msd_hiba£
:8;

75 } 
	g__·cked
;

77 
	su£r_£gm’t_desütÜ
 {

78 
	msd_lÞim™
:16;

79 
	msd_loba£
:24;

80 
	msd_ty³
:5;

81 
	msd_d¶
:2;

82 
	msd_p
:1;

83 
	msd_hžim™
:4;

84 
	msd_xx
:1;

85 
	msd_lÚg
:1;

86 
	msd_def32
:1;

87 
	msd_g¿n
:1;

88 
	msd_hiba£
:8;

89 } 
	g__·cked
;

91 
	#USD_GETBASE
(
sd
è(((sd)->
sd_loba£
è| (sd)->
sd_hiba£
 << 24)

	)

92 
	#USD_SETBASE
(
sd
, 
b
è(sd)->
sd_loba£
 = (b); \

93 (
sd
)->
sd_hiba£
 = ((
b
è>> 24);

	)

94 
	#USD_GETLIMIT
(
sd
è(((sd)->
sd_lÞim™
è| (sd)->
sd_hžim™
 << 16)

	)

95 
	#USD_SETLIMIT
(
sd
, 
l
è(sd)->
sd_lÞim™
 = (l); \

96 (
sd
)->
sd_hžim™
 = ((
l
è>> 16);

	)

98 #ifdeà
__i386__


102 
	sg©e_desütÜ
 {

103 
	mgd_looff£t
:16;

104 
	mgd_£ËùÜ
:16;

105 
	mgd_¡kýy
:5;

106 
	mgd_xx
:3;

107 
	mgd_ty³
:5;

108 
	mgd_d¶
:2;

109 
	mgd_p
:1;

110 
	mgd_hioff£t
:16;

111 } 
	g__·cked
;

116 
	udesütÜ
 {

117 
£gm’t_desütÜ
 
	msd
;

118 
g©e_desütÜ
 
	mgd
;

125 
	sg©e_desütÜ
 {

126 
ušt64_t
 
	mgd_looff£t
:16;

127 
ušt64_t
 
	mgd_£ËùÜ
:16;

128 
ušt64_t
 
	mgd_i¡
:3;

129 
ušt64_t
 
	mgd_xx
:5;

130 
ušt64_t
 
	mgd_ty³
:5;

131 
ušt64_t
 
	mgd_d¶
:2;

132 
ušt64_t
 
	mgd_p
:1;

133 
ušt64_t
 
	mgd_hioff£t
:48;

134 
ušt64_t
 
	msd_xx1
:32;

135 } 
	g__·cked
;

140 
	udesütÜ
 {

141 
u£r_£gm’t_desütÜ
 
	msd
;

142 
g©e_desütÜ
 
	mgd
;

147 
	#SDT_SYSNULL
 0

	)

148 
	#SDT_SYS286TSS
 1

	)

149 
	#SDT_SYSLDT
 2

	)

150 
	#SDT_SYS286BSY
 3

	)

151 
	#SDT_SYS286CGT
 4

	)

152 
	#SDT_SYSTASKGT
 5

	)

153 
	#SDT_SYS286IGT
 6

	)

154 
	#SDT_SYS286TGT
 7

	)

155 
	#SDT_SYSNULL2
 8

	)

156 
	#SDT_SYS386TSS
 9

	)

157 
	#SDT_SYSTSS
 9

	)

158 
	#SDT_SYSNULL3
 10

	)

159 
	#SDT_SYS386BSY
 11

	)

160 
	#SDT_SYSBSY
 11

	)

161 
	#SDT_SYS386CGT
 12

	)

162 
	#SDT_SYSCGT
 12

	)

163 
	#SDT_SYSNULL4
 13

	)

164 
	#SDT_SYS386IGT
 14

	)

165 
	#SDT_SYSIGT
 14

	)

166 
	#SDT_SYS386TGT
 15

	)

167 
	#SDT_SYSTGT
 15

	)

170 
	#SDT_MEMRO
 16

	)

171 
	#SDT_MEMROA
 17

	)

172 
	#SDT_MEMRW
 18

	)

173 
	#SDT_MEMRWA
 19

	)

174 
	#SDT_MEMROD
 20

	)

175 
	#SDT_MEMRODA
 21

	)

176 
	#SDT_MEMRWD
 22

	)

177 
	#SDT_MEMRWDA
 23

	)

178 
	#SDT_MEME
 24

	)

179 
	#SDT_MEMEA
 25

	)

180 
	#SDT_MEMER
 26

	)

181 
	#SDT_MEMERA
 27

	)

182 
	#SDT_MEMEC
 28

	)

183 
	#SDT_MEMEAC
 29

	)

184 
	#SDT_MEMERC
 30

	)

185 
	#SDT_MEMERAC
 31

	)

190 
	#NIDT
 256

	)

191 
	#NRSVIDT
 32

	)

196 
	#IDT_DE
 0

	)

197 
	#IDT_DB
 1

	)

198 
	#IDT_NMI
 2

	)

199 
	#IDT_BP
 3

	)

200 
	#IDT_OF
 4

	)

201 
	#IDT_BR
 5

	)

202 
	#IDT_UD
 6

	)

203 
	#IDT_NM
 7

	)

204 
	#IDT_DF
 8

	)

205 
	#IDT_FPUGP
 9

	)

206 
	#IDT_TS
 10

	)

207 
	#IDT_NP
 11

	)

208 
	#IDT_SS
 12

	)

209 
	#IDT_GP
 13

	)

210 
	#IDT_PF
 14

	)

211 
	#IDT_MF
 16

	)

212 
	#IDT_AC
 17

	)

213 
	#IDT_MC
 18

	)

214 
	#IDT_XF
 19

	)

215 
	#IDT_IO_INTS
 
NRSVIDT


	)

216 
	#IDT_SYSCALL
 0x80

	)

217 
	#IDT_DTRACE_RET
 0x92

	)

218 
	#IDT_EVTCHN
 0x93

	)

220 #ià
defšed
(
__i386__
)

226 
	#GNULL_SEL
 0

	)

227 
	#GPRIV_SEL
 1

	)

228 
	#GUFS_SEL
 2

	)

229 
	#GUGS_SEL
 3

	)

230 
	#GCODE_SEL
 4

	)

231 
	#GDATA_SEL
 5

	)

232 
	#GUCODE_SEL
 6

	)

233 
	#GUDATA_SEL
 7

	)

234 
	#GBIOSLOWMEM_SEL
 8

	)

235 
	#GPROC0_SEL
 9

	)

236 
	#GLDT_SEL
 10

	)

237 
	#GUSERLDT_SEL
 11

	)

238 
	#GPANIC_SEL
 12

	)

239 
	#GBIOSCODE32_SEL
 13

	)

240 
	#GBIOSCODE16_SEL
 14

	)

241 
	#GBIOSDATA_SEL
 15

	)

242 
	#GBIOSUTIL_SEL
 16

	)

243 
	#GBIOSARGS_SEL
 17

	)

244 
	#GNDIS_SEL
 18

	)

245 
	#NGDT
 19

	)

250 
	#LSYS5CALLS_SEL
 0

	)

251 
	#LSYS5SIGR_SEL
 1

	)

252 
	#LUCODE_SEL
 3

	)

253 
	#LUDATA_SEL
 5

	)

254 
	#NLDT
 (
LUDATA_SEL
 + 1)

	)

260 
	#GNULL_SEL
 0

	)

261 
	#GNULL2_SEL
 1

	)

262 
	#GUFS32_SEL
 2

	)

263 
	#GUGS32_SEL
 3

	)

264 
	#GCODE_SEL
 4

	)

265 
	#GDATA_SEL
 5

	)

266 
	#GUCODE32_SEL
 6

	)

267 
	#GUDATA_SEL
 7

	)

268 
	#GUCODE_SEL
 8

	)

269 
	#GPROC0_SEL
 9

	)

271 
	#GUSERLDT_SEL
 11

	)

273 
	#NGDT
 13

	)

	@/usr/include/x86/setjmp.h

34 #iâdeà
_MACHINE_SETJMP_H_


35 
	#_MACHINE_SETJMP_H_


	)

37 
	~<sys/cdefs.h
>

39 
	#_JBLEN
 12

	)

46 #ià
__BSD_VISIBLE
 || 
__POSIX_VISIBLE
 || 
__XSI_VISIBLE


47 
	s_sigjmp_buf
 { 
	m_sjb
[
_JBLEN
]; } 
	tsigjmp_buf
[1];

50 
	s_jmp_buf
 { 
	m_jb
[
_JBLEN
]; } 
	tjmp_buf
[1];

	@/usr/include/x86/sigframe.h

33 #iâdeà
_X86_SIGFRAME_H_


34 
	#_X86_SIGFRAME_H_


	)

40 #ifdeà
__i386__


41 
	ssigäame
 {

49 
»gi¡”_t
 
	msf_signum
;

50 
»gi¡”_t
 
	msf_sigšfo
;

51 
»gi¡”_t
 
	msf_ucÚ‹xt
;

52 
»gi¡”_t
 
	msf_addr
;

55 
__sigšfohªdËr_t
 *
	msf_aùiÚ
;

56 
__sighªdËr_t
 *
	msf_hªdËr
;

57 } 
	msf_ahu
;

58 
ucÚ‹xt_t
 
	msf_uc
;

59 
sigšfo_t
 
	msf_si
;

63 #ifdeà
__amd64__


64 
	ssigäame
 {

66 
__sigšfohªdËr_t
 *
	msf_aùiÚ
;

67 
__sighªdËr_t
 *
	msf_hªdËr
;

68 } 
	msf_ahu
;

69 
ucÚ‹xt_t
 
	msf_uc
;

70 
sigšfo_t
 
	msf_si
;

	@/usr/include/x86/signal.h

36 #iâdeà
_X86_SIGNAL_H


37 
	#_X86_SIGNAL_H
 1

	)

43 
	~<sys/cdefs.h
>

44 
	~<sys/_sig£t.h
>

46 #ifdeà
__i386__


47 
	tsig_©omic_t
;

49 #ià
__BSD_VISIBLE


50 
	ssigcÚ‹xt
 {

51 
__sig£t
 
	msc_mask
;

52 
	msc_Ú¡ack
;

53 
	msc_gs
;

54 
	msc_fs
;

55 
	msc_es
;

56 
	msc_ds
;

57 
	msc_edi
;

58 
	msc_esi
;

59 
	msc_ebp
;

60 
	msc_i¥
;

61 
	msc_ebx
;

62 
	msc_edx
;

63 
	msc_ecx
;

64 
	msc_—x
;

65 
	msc_Œ­no
;

66 
	msc_”r
;

67 
	msc_e
;

68 
	msc_cs
;

69 
	msc_eæ
;

70 
	msc_e¥
;

71 
	msc_ss
;

72 
	msc_Ën
;

77 
	msc_åfÜm©
;

78 
	msc_owÃdå
;

79 
	msc_æags
;

80 
	msc_å¡©e
[128] 
__®igÃd
(16);

82 
	msc_fsba£
;

83 
	msc_gsba£
;

85 
	msc_xåu¡©e
;

86 
	msc_xåu¡©e_Ën
;

88 
	msc_¥¬e2
[4];

91 
	#sc_¥
 
sc_e¥


	)

92 
	#sc_å
 
sc_ebp


	)

93 
	#sc_pc
 
sc_e


	)

94 
	#sc_ps
 
sc_eæ


	)

95 
	#sc_eæags
 
sc_eæ


	)

100 #ifdeà
__amd64__


101 
	tsig_©omic_t
;

103 #ià
__BSD_VISIBLE


114 
	ssigcÚ‹xt
 {

115 
__sig£t
 
	msc_mask
;

116 
	msc_Ú¡ack
;

117 
	msc_rdi
;

118 
	msc_rsi
;

119 
	msc_rdx
;

120 
	msc_rcx
;

121 
	msc_r8
;

122 
	msc_r9
;

123 
	msc_¿x
;

124 
	msc_rbx
;

125 
	msc_rbp
;

126 
	msc_r10
;

127 
	msc_r11
;

128 
	msc_r12
;

129 
	msc_r13
;

130 
	msc_r14
;

131 
	msc_r15
;

132 
	msc_Œ­no
;

133 
	msc_fs
;

134 
	msc_gs
;

135 
	msc_addr
;

136 
	msc_æags
;

137 
	msc_es
;

138 
	msc_ds
;

139 
	msc_”r
;

140 
	msc_r
;

141 
	msc_cs
;

142 
	msc_ræags
;

143 
	msc_r¥
;

144 
	msc_ss
;

145 
	msc_Ën
;

150 
	msc_åfÜm©
;

151 
	msc_owÃdå
;

152 
	msc_å¡©e
[64] 
__®igÃd
(16);

154 
	msc_fsba£
;

155 
	msc_gsba£
;

157 
	msc_xåu¡©e
;

158 
	msc_xåu¡©e_Ën
;

160 
	msc_¥¬e
[4];

	@/usr/include/x86/specialreg.h

35 #iâdeà
_MACHINE_SPECIALREG_H_


36 
	#_MACHINE_SPECIALREG_H_


	)

41 
	#CR0_PE
 0x00000001

	)

42 
	#CR0_MP
 0x00000002

	)

43 
	#CR0_EM
 0x00000004

	)

44 
	#CR0_TS
 0x00000008

	)

45 
	#CR0_PG
 0x80000000

	)

50 
	#CR0_NE
 0x00000020

	)

51 
	#CR0_WP
 0x00010000

	)

53 
	#CR0_AM
 0x00040000

	)

54 
	#CR0_NW
 0x20000000

	)

55 
	#CR0_CD
 0x40000000

	)

57 
	#CR3_PCID_SAVE
 0x8000000000000000

	)

58 
	#CR3_PCID_MASK
 0xfff

	)

63 
	#CR4_VME
 0x00000001

	)

64 
	#CR4_PVI
 0x00000002

	)

65 
	#CR4_TSD
 0x00000004

	)

66 
	#CR4_DE
 0x00000008

	)

67 
	#CR4_PSE
 0x00000010

	)

68 
	#CR4_PAE
 0x00000020

	)

69 
	#CR4_MCE
 0x00000040

	)

70 
	#CR4_PGE
 0x00000080

	)

71 
	#CR4_PCE
 0x00000100

	)

72 
	#CR4_FXSR
 0x00000200

	)

73 
	#CR4_XMM
 0x00000400

	)

74 
	#CR4_VMXE
 0x00002000

	)

75 
	#CR4_FSGSBASE
 0x00010000

	)

76 
	#CR4_PCIDE
 0x00020000

	)

77 
	#CR4_XSAVE
 0x00040000

	)

78 
	#CR4_SMEP
 0x00100000

	)

79 
	#CR4_SMAP
 0x00200000

	)

84 
	#EFER_SCE
 0x000000001

	)

85 
	#EFER_LME
 0x000000100

	)

86 
	#EFER_LMA
 0x000000400

	)

87 
	#EFER_NXE
 0x000000800

	)

88 
	#EFER_SVM
 0x000001000

	)

89 
	#EFER_LMSLE
 0x000002000

	)

90 
	#EFER_FFXSR
 0x000004000

	)

91 
	#EFER_TCE
 0x000008000

	)

96 
	#XCR0
 0

	)

98 
	#XFEATURE_ENABLED_X87
 0x00000001

	)

99 
	#XFEATURE_ENABLED_SSE
 0x00000002

	)

100 
	#XFEATURE_ENABLED_YMM_HI128
 0x00000004

	)

101 
	#XFEATURE_ENABLED_AVX
 
XFEATURE_ENABLED_YMM_HI128


	)

102 
	#XFEATURE_ENABLED_BNDREGS
 0x00000008

	)

103 
	#XFEATURE_ENABLED_BNDCSR
 0x00000010

	)

104 
	#XFEATURE_ENABLED_OPMASK
 0x00000020

	)

105 
	#XFEATURE_ENABLED_ZMM_HI256
 0x00000040

	)

106 
	#XFEATURE_ENABLED_HI16_ZMM
 0x00000080

	)

108 
	#XFEATURE_AVX
 \

109 (
XFEATURE_ENABLED_X87
 | 
XFEATURE_ENABLED_SSE
 | 
XFEATURE_ENABLED_AVX
)

	)

110 
	#XFEATURE_AVX512
 \

111 (
XFEATURE_ENABLED_OPMASK
 | 
XFEATURE_ENABLED_ZMM_HI256
 | \

112 
XFEATURE_ENABLED_HI16_ZMM
)

	)

113 
	#XFEATURE_MPX
 \

114 (
XFEATURE_ENABLED_BNDREGS
 | 
XFEATURE_ENABLED_BNDCSR
)

	)

119 
	#CPUID_FPU
 0x00000001

	)

120 
	#CPUID_VME
 0x00000002

	)

121 
	#CPUID_DE
 0x00000004

	)

122 
	#CPUID_PSE
 0x00000008

	)

123 
	#CPUID_TSC
 0x00000010

	)

124 
	#CPUID_MSR
 0x00000020

	)

125 
	#CPUID_PAE
 0x00000040

	)

126 
	#CPUID_MCE
 0x00000080

	)

127 
	#CPUID_CX8
 0x00000100

	)

128 
	#CPUID_APIC
 0x00000200

	)

129 
	#CPUID_B10
 0x00000400

	)

130 
	#CPUID_SEP
 0x00000800

	)

131 
	#CPUID_MTRR
 0x00001000

	)

132 
	#CPUID_PGE
 0x00002000

	)

133 
	#CPUID_MCA
 0x00004000

	)

134 
	#CPUID_CMOV
 0x00008000

	)

135 
	#CPUID_PAT
 0x00010000

	)

136 
	#CPUID_PSE36
 0x00020000

	)

137 
	#CPUID_PSN
 0x00040000

	)

138 
	#CPUID_CLFSH
 0x00080000

	)

139 
	#CPUID_B20
 0x00100000

	)

140 
	#CPUID_DS
 0x00200000

	)

141 
	#CPUID_ACPI
 0x00400000

	)

142 
	#CPUID_MMX
 0x00800000

	)

143 
	#CPUID_FXSR
 0x01000000

	)

144 
	#CPUID_SSE
 0x02000000

	)

145 
	#CPUID_XMM
 0x02000000

	)

146 
	#CPUID_SSE2
 0x04000000

	)

147 
	#CPUID_SS
 0x08000000

	)

148 
	#CPUID_HTT
 0x10000000

	)

149 
	#CPUID_TM
 0x20000000

	)

150 
	#CPUID_IA64
 0x40000000

	)

151 
	#CPUID_PBE
 0x80000000

	)

153 
	#CPUID2_SSE3
 0x00000001

	)

154 
	#CPUID2_PCLMULQDQ
 0x00000002

	)

155 
	#CPUID2_DTES64
 0x00000004

	)

156 
	#CPUID2_MON
 0x00000008

	)

157 
	#CPUID2_DS_CPL
 0x00000010

	)

158 
	#CPUID2_VMX
 0x00000020

	)

159 
	#CPUID2_SMX
 0x00000040

	)

160 
	#CPUID2_EST
 0x00000080

	)

161 
	#CPUID2_TM2
 0x00000100

	)

162 
	#CPUID2_SSSE3
 0x00000200

	)

163 
	#CPUID2_CNXTID
 0x00000400

	)

164 
	#CPUID2_SDBG
 0x00000800

	)

165 
	#CPUID2_FMA
 0x00001000

	)

166 
	#CPUID2_CX16
 0x00002000

	)

167 
	#CPUID2_XTPR
 0x00004000

	)

168 
	#CPUID2_PDCM
 0x00008000

	)

169 
	#CPUID2_PCID
 0x00020000

	)

170 
	#CPUID2_DCA
 0x00040000

	)

171 
	#CPUID2_SSE41
 0x00080000

	)

172 
	#CPUID2_SSE42
 0x00100000

	)

173 
	#CPUID2_X2APIC
 0x00200000

	)

174 
	#CPUID2_MOVBE
 0x00400000

	)

175 
	#CPUID2_POPCNT
 0x00800000

	)

176 
	#CPUID2_TSCDLT
 0x01000000

	)

177 
	#CPUID2_AESNI
 0x02000000

	)

178 
	#CPUID2_XSAVE
 0x04000000

	)

179 
	#CPUID2_OSXSAVE
 0x08000000

	)

180 
	#CPUID2_AVX
 0x10000000

	)

181 
	#CPUID2_F16C
 0x20000000

	)

182 
	#CPUID2_RDRAND
 0x40000000

	)

183 
	#CPUID2_HV
 0x80000000

	)

189 
	#CPUTPM1_SENSOR
 0x00000001

	)

190 
	#CPUTPM1_TURBO
 0x00000002

	)

191 
	#CPUTPM1_ARAT
 0x00000004

	)

192 
	#CPUTPM2_EFFREQ
 0x00000001

	)

197 
	#CPUPT_CR3
 (1 << 0è

	)

198 
	#CPUPT_PSB
 (1 << 1è

	)

199 
	#CPUPT_IPF
 (1 << 2è

	)

200 
	#CPUPT_MTC
 (1 << 3è

	)

201 
	#CPUPT_PRW
 (1 << 4è

	)

202 
	#CPUPT_PWR
 (1 << 5è

	)

205 
	#CPUPT_TOPA
 (1 << 0è

	)

206 
	#CPUPT_TOPA_MULTI
 (1 << 1è

	)

207 
	#CPUPT_SINGLE
 (1 << 2è

	)

208 
	#CPUPT_TT_OUT
 (1 << 3è

	)

209 
	#CPUPT_LINEAR_IP
 (1 << 31è

	)

212 
	#CPUPT_NADDR_S
 0

	)

213 
	#CPUPT_NADDR_M
 (0x7 << 
CPUPT_NADDR_S
)

	)

214 
	#CPUPT_MTC_BITMAP_S
 16

	)

215 
	#CPUPT_MTC_BITMAP_M
 (0xfffà<< 
CPUPT_MTC_BITMAP_S
)

	)

218 
	#CPUPT_CT_BITMAP_S
 0

	)

219 
	#CPUPT_CT_BITMAP_M
 (0xfffà<< 
CPUPT_CT_BITMAP_S
)

	)

220 
	#CPUPT_PFE_BITMAP_S
 16

	)

221 
	#CPUPT_PFE_BITMAP_M
 (0xfffà<< 
CPUPT_PFE_BITMAP_S
)

	)

226 
	#AMDID_SYSCALL
 0x00000800

	)

227 
	#AMDID_MP
 0x00080000

	)

228 
	#AMDID_NX
 0x00100000

	)

229 
	#AMDID_EXT_MMX
 0x00400000

	)

230 
	#AMDID_FFXSR
 0x02000000

	)

231 
	#AMDID_PAGE1GB
 0x04000000

	)

232 
	#AMDID_RDTSCP
 0x08000000

	)

233 
	#AMDID_LM
 0x20000000

	)

234 
	#AMDID_EXT_3DNOW
 0x40000000

	)

235 
	#AMDID_3DNOW
 0x80000000

	)

237 
	#AMDID2_LAHF
 0x00000001

	)

238 
	#AMDID2_CMP
 0x00000002

	)

239 
	#AMDID2_SVM
 0x00000004

	)

240 
	#AMDID2_EXT_APIC
 0x00000008

	)

241 
	#AMDID2_CR8
 0x00000010

	)

242 
	#AMDID2_ABM
 0x00000020

	)

243 
	#AMDID2_SSE4A
 0x00000040

	)

244 
	#AMDID2_MAS
 0x00000080

	)

245 
	#AMDID2_PREFETCH
 0x00000100

	)

246 
	#AMDID2_OSVW
 0x00000200

	)

247 
	#AMDID2_IBS
 0x00000400

	)

248 
	#AMDID2_XOP
 0x00000800

	)

249 
	#AMDID2_SKINIT
 0x00001000

	)

250 
	#AMDID2_WDT
 0x00002000

	)

251 
	#AMDID2_LWP
 0x00008000

	)

252 
	#AMDID2_FMA4
 0x00010000

	)

253 
	#AMDID2_TCE
 0x00020000

	)

254 
	#AMDID2_NODE_ID
 0x00080000

	)

255 
	#AMDID2_TBM
 0x00200000

	)

256 
	#AMDID2_TOPOLOGY
 0x00400000

	)

257 
	#AMDID2_PCXC
 0x00800000

	)

258 
	#AMDID2_PNXC
 0x01000000

	)

259 
	#AMDID2_DBE
 0x04000000

	)

260 
	#AMDID2_PTSC
 0x08000000

	)

261 
	#AMDID2_PTSCEL2I
 0x10000000

	)

262 
	#AMDID2_MWAITX
 0x20000000

	)

267 
	#CPUID_STEPPING
 0x0000000f

	)

268 
	#CPUID_MODEL
 0x000000f0

	)

269 
	#CPUID_FAMILY
 0x00000f00

	)

270 
	#CPUID_EXT_MODEL
 0x000f0000

	)

271 
	#CPUID_EXT_FAMILY
 0x0ff00000

	)

272 #ifdeà
__i386__


273 
	#CPUID_TO_MODEL
(
id
) \

274 ((((
id
è& 
CPUID_MODEL
) >> 4) | \

275 ((((
id
è& 
CPUID_FAMILY
) >= 0x600) ? \

276 (((
id
è& 
CPUID_EXT_MODEL
è>> 12è: 0))

	)

277 
	#CPUID_TO_FAMILY
(
id
) \

278 ((((
id
è& 
CPUID_FAMILY
) >> 8) + \

279 ((((
id
è& 
CPUID_FAMILY
) == 0xf00) ? \

280 (((
id
è& 
CPUID_EXT_FAMILY
è>> 20è: 0))

	)

282 
	#CPUID_TO_MODEL
(
id
) \

283 ((((
id
è& 
CPUID_MODEL
) >> 4) | \

284 (((
id
è& 
CPUID_EXT_MODEL
è>> 12))

	)

285 
	#CPUID_TO_FAMILY
(
id
) \

286 ((((
id
è& 
CPUID_FAMILY
) >> 8) + \

287 (((
id
è& 
CPUID_EXT_FAMILY
è>> 20))

	)

293 
	#CPUID_BRAND_INDEX
 0x000000ff

	)

294 
	#CPUID_CLFUSH_SIZE
 0x0000ff00

	)

295 
	#CPUID_HTT_CORES
 0x00ff0000

	)

296 
	#CPUID_LOCAL_APIC_ID
 0xff000000

	)

301 
	#CPUID5_MON_MIN_SIZE
 0x0000fffà

	)

302 
	#CPUID5_MON_MAX_SIZE
 0x0000fffà

	)

303 
	#CPUID5_MON_MWAIT_EXT
 0x00000001

	)

304 
	#CPUID5_MWAIT_INTRBREAK
 0x00000002

	)

309 
	#MWAIT_C0
 0xf0

	)

310 
	#MWAIT_C1
 0x00

	)

311 
	#MWAIT_C2
 0x10

	)

312 
	#MWAIT_C3
 0x20

	)

313 
	#MWAIT_C4
 0x30

	)

319 
	#MWAIT_INTRBREAK
 0x00000001

	)

324 
	#CPUID_PERF_STAT
 0x00000001

	)

325 
	#CPUID_PERF_BIAS
 0x00000008

	)

330 
	#CPUID_TYPE_INVAL
 0

	)

331 
	#CPUID_TYPE_SMT
 1

	)

332 
	#CPUID_TYPE_CORE
 2

	)

337 
	#CPUID_EXTSTATE_XSAVEOPT
 0x00000001

	)

338 
	#CPUID_EXTSTATE_XSAVEC
 0x00000002

	)

339 
	#CPUID_EXTSTATE_XINUSE
 0x00000004

	)

340 
	#CPUID_EXTSTATE_XSAVES
 0x00000008

	)

345 
	#AMDRAS_MCA_OF_RECOV
 0x00000001

	)

346 
	#AMDRAS_SUCCOR
 0x00000002

	)

347 
	#AMDRAS_HW_ASSERT
 0x00000004

	)

348 
	#AMDRAS_SCALABLE_MCA
 0x00000008

	)

349 
	#AMDRAS_PFEH_SUPPORT
 0x00000010

	)

354 
	#AMDPM_TS
 0x00000001

	)

355 
	#AMDPM_FID
 0x00000002

	)

356 
	#AMDPM_VID
 0x00000004

	)

357 
	#AMDPM_TTP
 0x00000008

	)

358 
	#AMDPM_TM
 0x00000010

	)

359 
	#AMDPM_STC
 0x00000020

	)

360 
	#AMDPM_100MHZ_STEPS
 0x00000040

	)

361 
	#AMDPM_HW_PSTATE
 0x00000080

	)

362 
	#AMDPM_TSC_INVARIANT
 0x00000100

	)

363 
	#AMDPM_CPB
 0x00000200

	)

368 
	#AMDFEID_CLZERO
 0x00000001

	)

369 
	#AMDFEID_IRPERF
 0x00000002

	)

370 
	#AMDFEID_XSAVEERPTR
 0x00000004

	)

375 
	#AMDID_CMP_CORES
 0x000000ff

	)

376 
	#AMDID_COREID_SIZE
 0x0000f000

	)

377 
	#AMDID_COREID_SIZE_SHIFT
 12

	)

382 
	#CPUID_STDEXT_FSGSBASE
 0x00000001

	)

383 
	#CPUID_STDEXT_TSC_ADJUST
 0x00000002

	)

384 
	#CPUID_STDEXT_SGX
 0x00000004

	)

385 
	#CPUID_STDEXT_BMI1
 0x00000008

	)

386 
	#CPUID_STDEXT_HLE
 0x00000010

	)

387 
	#CPUID_STDEXT_AVX2
 0x00000020

	)

388 
	#CPUID_STDEXT_FDP_EXC
 0x00000040

	)

389 
	#CPUID_STDEXT_SMEP
 0x00000080

	)

390 
	#CPUID_STDEXT_BMI2
 0x00000100

	)

391 
	#CPUID_STDEXT_ERMS
 0x00000200

	)

392 
	#CPUID_STDEXT_INVPCID
 0x00000400

	)

393 
	#CPUID_STDEXT_RTM
 0x00000800

	)

394 
	#CPUID_STDEXT_PQM
 0x00001000

	)

395 
	#CPUID_STDEXT_NFPUSG
 0x00002000

	)

396 
	#CPUID_STDEXT_MPX
 0x00004000

	)

397 
	#CPUID_STDEXT_PQE
 0x00008000

	)

398 
	#CPUID_STDEXT_AVX512F
 0x00010000

	)

399 
	#CPUID_STDEXT_AVX512DQ
 0x00020000

	)

400 
	#CPUID_STDEXT_RDSEED
 0x00040000

	)

401 
	#CPUID_STDEXT_ADX
 0x00080000

	)

402 
	#CPUID_STDEXT_SMAP
 0x00100000

	)

403 
	#CPUID_STDEXT_AVX512IFMA
 0x00200000

	)

404 
	#CPUID_STDEXT_PCOMMIT
 0x00400000

	)

405 
	#CPUID_STDEXT_CLFLUSHOPT
 0x00800000

	)

406 
	#CPUID_STDEXT_CLWB
 0x01000000

	)

407 
	#CPUID_STDEXT_PROCTRACE
 0x02000000

	)

408 
	#CPUID_STDEXT_AVX512PF
 0x04000000

	)

409 
	#CPUID_STDEXT_AVX512ER
 0x08000000

	)

410 
	#CPUID_STDEXT_AVX512CD
 0x10000000

	)

411 
	#CPUID_STDEXT_SHA
 0x20000000

	)

412 
	#CPUID_STDEXT_AVX512BW
 0x40000000

	)

413 
	#CPUID_STDEXT_AVX512VL
 0x80000000

	)

418 
	#CPUID_STDEXT2_PREFETCHWT1
 0x00000001

	)

419 
	#CPUID_STDEXT2_UMIP
 0x00000004

	)

420 
	#CPUID_STDEXT2_PKU
 0x00000008

	)

421 
	#CPUID_STDEXT2_OSPKE
 0x00000010

	)

422 
	#CPUID_STDEXT2_RDPID
 0x00400000

	)

423 
	#CPUID_STDEXT2_SGXLC
 0x40000000

	)

428 
	#CPUID_STDEXT3_IBPB
 0x04000000

	)

429 
	#CPUID_STDEXT3_STIBP
 0x08000000

	)

430 
	#CPUID_STDEXT3_L1D_FLUSH
 0x10000000

	)

431 
	#CPUID_STDEXT3_ARCH_CAP
 0x20000000

	)

432 
	#CPUID_STDEXT3_SSBD
 0x80000000

	)

435 
	#IA32_ARCH_CAP_RDCL_NO
 0x00000001

	)

436 
	#IA32_ARCH_CAP_IBRS_ALL
 0x00000002

	)

437 
	#IA32_ARCH_CAP_RSBA
 0x00000004

	)

438 
	#IA32_ARCH_CAP_SKIP_L1DFL_VMENTRY
 0x00000008

	)

439 
	#IA32_ARCH_CAP_SSB_NO
 0x00000010

	)

444 
	#AMD_VENDOR_ID
 "Auth’ticAMD"

	)

445 
	#CENTAUR_VENDOR_ID
 "C’urHauls"

	)

446 
	#CYRIX_VENDOR_ID
 "CyrixIn¡—d"

	)

447 
	#INTEL_VENDOR_ID
 "G’ušeIÁ–"

	)

448 
	#NEXGEN_VENDOR_ID
 "NexG’Driv’"

	)

449 
	#NSC_VENDOR_ID
 "Geodby NSC"

	)

450 
	#RISE_VENDOR_ID
 "Ri£Ri£Ri£"

	)

451 
	#SIS_VENDOR_ID
 "SiS SiS SiS "

	)

452 
	#TRANSMETA_VENDOR_ID
 "G’ušeTMx86"

	)

453 
	#UMC_VENDOR_ID
 "UMC UMC UMC "

	)

458 
	#MSR_P5_MC_ADDR
 0x000

	)

459 
	#MSR_P5_MC_TYPE
 0x001

	)

460 
	#MSR_TSC
 0x010

	)

461 
	#MSR_P5_CESR
 0x011

	)

462 
	#MSR_P5_CTR0
 0x012

	)

463 
	#MSR_P5_CTR1
 0x013

	)

464 
	#MSR_IA32_PLATFORM_ID
 0x017

	)

465 
	#MSR_APICBASE
 0x01b

	)

466 
	#MSR_EBL_CR_POWERON
 0x02a

	)

467 
	#MSR_TEST_CTL
 0x033

	)

468 
	#MSR_IA32_FEATURE_CONTROL
 0x03a

	)

469 
	#MSR_IA32_SPEC_CTRL
 0x048

	)

470 
	#MSR_IA32_PRED_CMD
 0x049

	)

471 
	#MSR_BIOS_UPDT_TRIG
 0x079

	)

472 
	#MSR_BBL_CR_D0
 0x088

	)

473 
	#MSR_BBL_CR_D1
 0x089

	)

474 
	#MSR_BBL_CR_D2
 0x08a

	)

475 
	#MSR_BIOS_SIGN
 0x08b

	)

476 
	#MSR_PERFCTR0
 0x0c1

	)

477 
	#MSR_PERFCTR1
 0x0c2

	)

478 
	#MSR_PLATFORM_INFO
 0x0û

	)

479 
	#MSR_MPERF
 0x0e7

	)

480 
	#MSR_APERF
 0x0e8

	)

481 
	#MSR_IA32_EXT_CONFIG
 0x0“

	)

482 
	#MSR_MTRRÿp
 0x0ã

	)

483 
	#MSR_IA32_ARCH_CAP
 0x10a

	)

484 
	#MSR_IA32_FLUSH_CMD
 0x10b

	)

485 
	#MSR_BBL_CR_ADDR
 0x116

	)

486 
	#MSR_BBL_CR_DECC
 0x118

	)

487 
	#MSR_BBL_CR_CTL
 0x119

	)

488 
	#MSR_BBL_CR_TRIG
 0x11a

	)

489 
	#MSR_BBL_CR_BUSY
 0x11b

	)

490 
	#MSR_BBL_CR_CTL3
 0x11e

	)

491 
	#MSR_SYSENTER_CS_MSR
 0x174

	)

492 
	#MSR_SYSENTER_ESP_MSR
 0x175

	)

493 
	#MSR_SYSENTER_EIP_MSR
 0x176

	)

494 
	#MSR_MCG_CAP
 0x179

	)

495 
	#MSR_MCG_STATUS
 0x17a

	)

496 
	#MSR_MCG_CTL
 0x17b

	)

497 
	#MSR_EVNTSEL0
 0x186

	)

498 
	#MSR_EVNTSEL1
 0x187

	)

499 
	#MSR_THERM_CONTROL
 0x19a

	)

500 
	#MSR_THERM_INTERRUPT
 0x19b

	)

501 
	#MSR_THERM_STATUS
 0x19c

	)

502 
	#MSR_IA32_MISC_ENABLE
 0x1a0

	)

503 
	#MSR_IA32_TEMPERATURE_TARGET
 0x1a2

	)

504 
	#MSR_TURBO_RATIO_LIMIT
 0x1ad

	)

505 
	#MSR_TURBO_RATIO_LIMIT1
 0x1«

	)

506 
	#MSR_DEBUGCTLMSR
 0x1d9

	)

507 
	#MSR_LASTBRANCHFROMIP
 0x1db

	)

508 
	#MSR_LASTBRANCHTOIP
 0x1dc

	)

509 
	#MSR_LASTINTFROMIP
 0x1dd

	)

510 
	#MSR_LASTINTTOIP
 0x1de

	)

511 
	#MSR_ROB_CR_BKUPTMPDR6
 0x1e0

	)

512 
	#MSR_MTRRV¬Ba£
 0x200

	)

513 
	#MSR_MTRR64kBa£
 0x250

	)

514 
	#MSR_MTRR16kBa£
 0x258

	)

515 
	#MSR_MTRR4kBa£
 0x268

	)

516 
	#MSR_PAT
 0x277

	)

517 
	#MSR_MC0_CTL2
 0x280

	)

518 
	#MSR_MTRRdefTy³
 0x2ff

	)

519 
	#MSR_MC0_CTL
 0x400

	)

520 
	#MSR_MC0_STATUS
 0x401

	)

521 
	#MSR_MC0_ADDR
 0x402

	)

522 
	#MSR_MC0_MISC
 0x403

	)

523 
	#MSR_MC1_CTL
 0x404

	)

524 
	#MSR_MC1_STATUS
 0x405

	)

525 
	#MSR_MC1_ADDR
 0x406

	)

526 
	#MSR_MC1_MISC
 0x407

	)

527 
	#MSR_MC2_CTL
 0x408

	)

528 
	#MSR_MC2_STATUS
 0x409

	)

529 
	#MSR_MC2_ADDR
 0x40a

	)

530 
	#MSR_MC2_MISC
 0x40b

	)

531 
	#MSR_MC3_CTL
 0x40c

	)

532 
	#MSR_MC3_STATUS
 0x40d

	)

533 
	#MSR_MC3_ADDR
 0x40e

	)

534 
	#MSR_MC3_MISC
 0x40f

	)

535 
	#MSR_MC4_CTL
 0x410

	)

536 
	#MSR_MC4_STATUS
 0x411

	)

537 
	#MSR_MC4_ADDR
 0x412

	)

538 
	#MSR_MC4_MISC
 0x413

	)

539 
	#MSR_RAPL_POWER_UNIT
 0x606

	)

540 
	#MSR_PKG_ENERGY_STATUS
 0x611

	)

541 
	#MSR_DRAM_ENERGY_STATUS
 0x619

	)

542 
	#MSR_PP0_ENERGY_STATUS
 0x639

	)

543 
	#MSR_PP1_ENERGY_STATUS
 0x641

	)

544 
	#MSR_TSC_DEADLINE
 0x6e0

	)

549 
	#MSR_VMX_BASIC
 0x480

	)

550 
	#MSR_VMX_PINBASED_CTLS
 0x481

	)

551 
	#MSR_VMX_PROCBASED_CTLS
 0x482

	)

552 
	#MSR_VMX_EXIT_CTLS
 0x483

	)

553 
	#MSR_VMX_ENTRY_CTLS
 0x484

	)

554 
	#MSR_VMX_CR0_FIXED0
 0x486

	)

555 
	#MSR_VMX_CR0_FIXED1
 0x487

	)

556 
	#MSR_VMX_CR4_FIXED0
 0x488

	)

557 
	#MSR_VMX_CR4_FIXED1
 0x489

	)

558 
	#MSR_VMX_PROCBASED_CTLS2
 0x48b

	)

559 
	#MSR_VMX_EPT_VPID_CAP
 0x48c

	)

560 
	#MSR_VMX_TRUE_PINBASED_CTLS
 0x48d

	)

561 
	#MSR_VMX_TRUE_PROCBASED_CTLS
 0x48e

	)

562 
	#MSR_VMX_TRUE_EXIT_CTLS
 0x48f

	)

563 
	#MSR_VMX_TRUE_ENTRY_CTLS
 0x490

	)

569 
	#MSR_APIC_000
 0x800

	)

570 
	#MSR_APIC_ID
 0x802

	)

571 
	#MSR_APIC_VERSION
 0x803

	)

572 
	#MSR_APIC_TPR
 0x808

	)

573 
	#MSR_APIC_EOI
 0x80b

	)

574 
	#MSR_APIC_LDR
 0x80d

	)

575 
	#MSR_APIC_SVR
 0x80f

	)

576 
	#MSR_APIC_ISR0
 0x810

	)

577 
	#MSR_APIC_ISR1
 0x811

	)

578 
	#MSR_APIC_ISR2
 0x812

	)

579 
	#MSR_APIC_ISR3
 0x813

	)

580 
	#MSR_APIC_ISR4
 0x814

	)

581 
	#MSR_APIC_ISR5
 0x815

	)

582 
	#MSR_APIC_ISR6
 0x816

	)

583 
	#MSR_APIC_ISR7
 0x817

	)

584 
	#MSR_APIC_TMR0
 0x818

	)

585 
	#MSR_APIC_IRR0
 0x820

	)

586 
	#MSR_APIC_ESR
 0x828

	)

587 
	#MSR_APIC_LVT_CMCI
 0x82F

	)

588 
	#MSR_APIC_ICR
 0x830

	)

589 
	#MSR_APIC_LVT_TIMER
 0x832

	)

590 
	#MSR_APIC_LVT_THERMAL
 0x833

	)

591 
	#MSR_APIC_LVT_PCINT
 0x834

	)

592 
	#MSR_APIC_LVT_LINT0
 0x835

	)

593 
	#MSR_APIC_LVT_LINT1
 0x836

	)

594 
	#MSR_APIC_LVT_ERROR
 0x837

	)

595 
	#MSR_APIC_ICR_TIMER
 0x838

	)

596 
	#MSR_APIC_CCR_TIMER
 0x839

	)

597 
	#MSR_APIC_DCR_TIMER
 0x83e

	)

598 
	#MSR_APIC_SELF_IPI
 0x83f

	)

600 
	#MSR_IA32_XSS
 0xda0

	)

605 
	#MSR_IA32_RTIT_OUTPUT_BASE
 0x560

	)

606 
	#MSR_IA32_RTIT_OUTPUT_MASK_PTRS
 0x561

	)

607 
	#MSR_IA32_RTIT_CTL
 0x570

	)

608 
	#RTIT_CTL_TRACEEN
 (1 << 0)

	)

609 
	#RTIT_CTL_CYCEN
 (1 << 1)

	)

610 
	#RTIT_CTL_OS
 (1 << 2)

	)

611 
	#RTIT_CTL_USER
 (1 << 3)

	)

612 
	#RTIT_CTL_PWREVTEN
 (1 << 4)

	)

613 
	#RTIT_CTL_FUPONPTW
 (1 << 5)

	)

614 
	#RTIT_CTL_FABRICEN
 (1 << 6)

	)

615 
	#RTIT_CTL_CR3FILTER
 (1 << 7)

	)

616 
	#RTIT_CTL_TOPA
 (1 << 8)

	)

617 
	#RTIT_CTL_MTCEN
 (1 << 9)

	)

618 
	#RTIT_CTL_TSCEN
 (1 << 10)

	)

619 
	#RTIT_CTL_DISRETC
 (1 << 11)

	)

620 
	#RTIT_CTL_PTWEN
 (1 << 12)

	)

621 
	#RTIT_CTL_BRANCHEN
 (1 << 13)

	)

622 
	#RTIT_CTL_MTC_FREQ_S
 14

	)

623 
	#RTIT_CTL_MTC_FREQ
(
n
è(Òè<< 
RTIT_CTL_MTC_FREQ_S
)

	)

624 
	#RTIT_CTL_MTC_FREQ_M
 (0xà<< 
RTIT_CTL_MTC_FREQ_S
)

	)

625 
	#RTIT_CTL_CYC_THRESH_S
 19

	)

626 
	#RTIT_CTL_CYC_THRESH_M
 (0xà<< 
RTIT_CTL_CYC_THRESH_S
)

	)

627 
	#RTIT_CTL_PSB_FREQ_S
 24

	)

628 
	#RTIT_CTL_PSB_FREQ_M
 (0xà<< 
RTIT_CTL_PSB_FREQ_S
)

	)

629 
	#RTIT_CTL_ADDR_CFG_S
(
n
è(32 + (nè* 4)

	)

630 
	#RTIT_CTL_ADDR0_CFG_S
 32

	)

631 
	#RTIT_CTL_ADDR0_CFG_M
 (0xfULL << 
RTIT_CTL_ADDR0_CFG_S
)

	)

632 
	#RTIT_CTL_ADDR1_CFG_S
 36

	)

633 
	#RTIT_CTL_ADDR1_CFG_M
 (0xfULL << 
RTIT_CTL_ADDR1_CFG_S
)

	)

634 
	#RTIT_CTL_ADDR2_CFG_S
 40

	)

635 
	#RTIT_CTL_ADDR2_CFG_M
 (0xfULL << 
RTIT_CTL_ADDR2_CFG_S
)

	)

636 
	#RTIT_CTL_ADDR3_CFG_S
 44

	)

637 
	#RTIT_CTL_ADDR3_CFG_M
 (0xfULL << 
RTIT_CTL_ADDR3_CFG_S
)

	)

638 
	#MSR_IA32_RTIT_STATUS
 0x571

	)

639 
	#RTIT_STATUS_FILTEREN
 (1 << 0)

	)

640 
	#RTIT_STATUS_CONTEXTEN
 (1 << 1)

	)

641 
	#RTIT_STATUS_TRIGGEREN
 (1 << 2)

	)

642 
	#RTIT_STATUS_ERROR
 (1 << 4)

	)

643 
	#RTIT_STATUS_STOPPED
 (1 << 5)

	)

644 
	#RTIT_STATUS_PACKETBYTECNT_S
 32

	)

645 
	#RTIT_STATUS_PACKETBYTECNT_M
 (0x1ffffULL << 
RTIT_STATUS_PACKETBYTECNT_S
)

	)

646 
	#MSR_IA32_RTIT_CR3_MATCH
 0x572

	)

647 
	#MSR_IA32_RTIT_ADDR_A
(
n
è(0x580 + (nè* 2)

	)

648 
	#MSR_IA32_RTIT_ADDR_B
(
n
è(0x581 + (nè* 2)

	)

649 
	#MSR_IA32_RTIT_ADDR0_A
 0x580

	)

650 
	#MSR_IA32_RTIT_ADDR0_B
 0x581

	)

651 
	#MSR_IA32_RTIT_ADDR1_A
 0x582

	)

652 
	#MSR_IA32_RTIT_ADDR1_B
 0x583

	)

653 
	#MSR_IA32_RTIT_ADDR2_A
 0x584

	)

654 
	#MSR_IA32_RTIT_ADDR2_B
 0x585

	)

655 
	#MSR_IA32_RTIT_ADDR3_A
 0x586

	)

656 
	#MSR_IA32_RTIT_ADDR3_B
 0x587

	)

659 
	#TOPA_SIZE_S
 6

	)

660 
	#TOPA_SIZE_M
 (0xà<< 
TOPA_SIZE_S
)

	)

661 
	#TOPA_SIZE_4K
 (0 << 
TOPA_SIZE_S
)

	)

662 
	#TOPA_SIZE_8K
 (1 << 
TOPA_SIZE_S
)

	)

663 
	#TOPA_SIZE_16K
 (2 << 
TOPA_SIZE_S
)

	)

664 
	#TOPA_SIZE_32K
 (3 << 
TOPA_SIZE_S
)

	)

665 
	#TOPA_SIZE_64K
 (4 << 
TOPA_SIZE_S
)

	)

666 
	#TOPA_SIZE_128K
 (5 << 
TOPA_SIZE_S
)

	)

667 
	#TOPA_SIZE_256K
 (6 << 
TOPA_SIZE_S
)

	)

668 
	#TOPA_SIZE_512K
 (7 << 
TOPA_SIZE_S
)

	)

669 
	#TOPA_SIZE_1M
 (8 << 
TOPA_SIZE_S
)

	)

670 
	#TOPA_SIZE_2M
 (9 << 
TOPA_SIZE_S
)

	)

671 
	#TOPA_SIZE_4M
 (10 << 
TOPA_SIZE_S
)

	)

672 
	#TOPA_SIZE_8M
 (11 << 
TOPA_SIZE_S
)

	)

673 
	#TOPA_SIZE_16M
 (12 << 
TOPA_SIZE_S
)

	)

674 
	#TOPA_SIZE_32M
 (13 << 
TOPA_SIZE_S
)

	)

675 
	#TOPA_SIZE_64M
 (14 << 
TOPA_SIZE_S
)

	)

676 
	#TOPA_SIZE_128M
 (15 << 
TOPA_SIZE_S
)

	)

677 
	#TOPA_STOP
 (1 << 4)

	)

678 
	#TOPA_INT
 (1 << 2)

	)

679 
	#TOPA_END
 (1 << 0)

	)

684 
	#APICBASE_RESERVED
 0x000002ff

	)

685 
	#APICBASE_BSP
 0x00000100

	)

686 
	#APICBASE_X2APIC
 0x00000400

	)

687 
	#APICBASE_ENABLED
 0x00000800

	)

688 
	#APICBASE_ADDRESS
 0xfffff000

	)

691 
	#IA32_FEATURE_CONTROL_LOCK
 0x01

	)

692 
	#IA32_FEATURE_CONTROL_SMX_EN
 0x02

	)

693 
	#IA32_FEATURE_CONTROL_VMX_EN
 0x04

	)

696 
	#IA32_MISC_EN_FASTSTR
 0x0000000000000001ULL

	)

697 
	#IA32_MISC_EN_ATCCE
 0x0000000000000008ULL

	)

698 
	#IA32_MISC_EN_PERFMON
 0x0000000000000080ULL

	)

699 
	#IA32_MISC_EN_PEBSU
 0x0000000000001000ULL

	)

700 
	#IA32_MISC_EN_ESSTE
 0x0000000000010000ULL

	)

701 
	#IA32_MISC_EN_MONE
 0x0000000000040000ULL

	)

702 
	#IA32_MISC_EN_LIMCPUID
 0x0000000000400000ULL

	)

703 
	#IA32_MISC_EN_xTPRD
 0x0000000000800000ULL

	)

704 
	#IA32_MISC_EN_XDD
 0x0000000400000000ULL

	)

711 
	#IA32_SPEC_CTRL_IBRS
 0x00000001

	)

712 
	#IA32_SPEC_CTRL_STIBP
 0x00000002

	)

713 
	#IA32_SPEC_CTRL_SSBD
 0x00000004

	)

716 
	#IA32_PRED_CMD_IBPB_BARRIER
 0x0000000000000001ULL

	)

719 
	#IA32_FLUSH_CMD_L1D
 0x00000001

	)

724 
	#PAT_UNCACHEABLE
 0x00

	)

725 
	#PAT_WRITE_COMBINING
 0x01

	)

726 
	#PAT_WRITE_THROUGH
 0x04

	)

727 
	#PAT_WRITE_PROTECTED
 0x05

	)

728 
	#PAT_WRITE_BACK
 0x06

	)

729 
	#PAT_UNCACHED
 0x07

	)

730 
	#PAT_VALUE
(
i
, 
m
è(()(mè<< (8 * (i)))

	)

731 
	#PAT_MASK
(
i
è
	`PAT_VALUE
(i, 0xff)

	)

736 
	#MTRR_UNCACHEABLE
 0x00

	)

737 
	#MTRR_WRITE_COMBINING
 0x01

	)

738 
	#MTRR_WRITE_THROUGH
 0x04

	)

739 
	#MTRR_WRITE_PROTECTED
 0x05

	)

740 
	#MTRR_WRITE_BACK
 0x06

	)

741 
	#MTRR_N64K
 8

	)

742 
	#MTRR_N16K
 16

	)

743 
	#MTRR_N4K
 64

	)

744 
	#MTRR_CAP_WC
 0x0000000000000400

	)

745 
	#MTRR_CAP_FIXED
 0x0000000000000100

	)

746 
	#MTRR_CAP_VCNT
 0x00000000000000ff

	)

747 
	#MTRR_DEF_ENABLE
 0x0000000000000800

	)

748 
	#MTRR_DEF_FIXED_ENABLE
 0x0000000000000400

	)

749 
	#MTRR_DEF_TYPE
 0x00000000000000ff

	)

750 
	#MTRR_PHYSBASE_PHYSBASE
 0x000ffffffffff000

	)

751 
	#MTRR_PHYSBASE_TYPE
 0x00000000000000ff

	)

752 
	#MTRR_PHYSMASK_PHYSMASK
 0x000ffffffffff000

	)

753 
	#MTRR_PHYSMASK_VALID
 0x0000000000000800

	)

758 
	#CCR0
 0xc0

	)

759 
	#CCR0_NC0
 0x01

	)

761 
	#CCR0_NC1
 0x02

	)

762 
	#CCR0_A20M
 0x04

	)

763 
	#CCR0_KEN
 0x08

	)

764 
	#CCR0_FLUSH
 0x10

	)

765 
	#CCR0_BARB
 0x20

	)

767 
	#CCR0_CO
 0x40

	)

769 
	#CCR0_SUSPEND
 0x80

	)

771 
	#CCR1
 0xc1

	)

772 
	#CCR1_RPL
 0x01

	)

773 
	#CCR1_SMI
 0x02

	)

774 
	#CCR1_SMAC
 0x04

	)

775 
	#CCR1_MMAC
 0x08

	)

776 
	#CCR1_NO_LOCK
 0x10

	)

777 
	#CCR1_SM3
 0x80

	)

779 
	#CCR2
 0xc2

	)

780 
	#CCR2_WB
 0x02

	)

781 
	#CCR2_SADS
 0x02

	)

782 
	#CCR2_LOCK_NW
 0x04

	)

783 
	#CCR2_SUSP_HLT
 0x08

	)

784 
	#CCR2_WT1
 0x10

	)

785 
	#CCR2_WPR1
 0x10

	)

786 
	#CCR2_BARB
 0x20

	)

788 
	#CCR2_BWRT
 0x40

	)

789 
	#CCR2_USE_SUSP
 0x80

	)

791 
	#CCR3
 0xc3

	)

792 
	#CCR3_SMILOCK
 0x01

	)

793 
	#CCR3_NMI
 0x02

	)

794 
	#CCR3_LINBRST
 0x04

	)

795 
	#CCR3_SMMMODE
 0x08

	)

796 
	#CCR3_MAPEN0
 0x10

	)

797 
	#CCR3_MAPEN1
 0x20

	)

798 
	#CCR3_MAPEN2
 0x40

	)

799 
	#CCR3_MAPEN3
 0x80

	)

801 
	#CCR4
 0xe8

	)

802 
	#CCR4_IOMASK
 0x07

	)

803 
	#CCR4_MEM
 0x08

	)

804 
	#CCR4_DTE
 0x10

	)

805 
	#CCR4_FASTFPE
 0x20

	)

806 
	#CCR4_CPUID
 0x80

	)

808 
	#CCR5
 0xe9

	)

809 
	#CCR5_WT_ALLOC
 0x01

	)

810 
	#CCR5_SLOP
 0x02

	)

811 
	#CCR5_LBR1
 0x10

	)

812 
	#CCR5_ARREN
 0x20

	)

814 
	#CCR6
 0x—

	)

816 
	#CCR7
 0xeb

	)

819 
	#PCR0
 0x20

	)

820 
	#PCR0_RSTK
 0x01

	)

821 
	#PCR0_BTB
 0x02

	)

822 
	#PCR0_LOOP
 0x04

	)

823 
	#PCR0_AIS
 0x08

	)

825 
	#PCR0_MLR
 0x10

	)

826 
	#PCR0_BTBRT
 0x40

	)

827 
	#PCR0_LSSER
 0x80

	)

830 
	#DIR0
 0xã

	)

831 
	#DIR1
 0xff

	)

836 
	#MCG_CAP_COUNT
 0x000000ff

	)

837 
	#MCG_CAP_CTL_P
 0x00000100

	)

838 
	#MCG_CAP_EXT_P
 0x00000200

	)

839 
	#MCG_CAP_CMCI_P
 0x00000400

	)

840 
	#MCG_CAP_TES_P
 0x00000800

	)

841 
	#MCG_CAP_EXT_CNT
 0x00ff0000

	)

842 
	#MCG_CAP_SER_P
 0x01000000

	)

843 
	#MCG_STATUS_RIPV
 0x00000001

	)

844 
	#MCG_STATUS_EIPV
 0x00000002

	)

845 
	#MCG_STATUS_MCIP
 0x00000004

	)

846 
	#MCG_CTL_ENABLE
 0xffffffffffffffff

	)

847 
	#MCG_CTL_DISABLE
 0x0000000000000000

	)

848 
	#MSR_MC_CTL
(
x
è(
MSR_MC0_CTL
 + (xè* 4)

	)

849 
	#MSR_MC_STATUS
(
x
è(
MSR_MC0_STATUS
 + (xè* 4)

	)

850 
	#MSR_MC_ADDR
(
x
è(
MSR_MC0_ADDR
 + (xè* 4)

	)

851 
	#MSR_MC_MISC
(
x
è(
MSR_MC0_MISC
 + (xè* 4)

	)

852 
	#MSR_MC_CTL2
(
x
è(
MSR_MC0_CTL2
 + (x)è

	)

853 
	#MC_STATUS_MCA_ERROR
 0x000000000000ffff

	)

854 
	#MC_STATUS_MODEL_ERROR
 0x00000000ffff0000

	)

855 
	#MC_STATUS_OTHER_INFO
 0x01ffffff00000000

	)

856 
	#MC_STATUS_COR_COUNT
 0x001fffc000000000

	)

857 
	#MC_STATUS_TES_STATUS
 0x0060000000000000

	)

858 
	#MC_STATUS_AR
 0x0080000000000000

	)

859 
	#MC_STATUS_S
 0x0100000000000000

	)

860 
	#MC_STATUS_PCC
 0x0200000000000000

	)

861 
	#MC_STATUS_ADDRV
 0x0400000000000000

	)

862 
	#MC_STATUS_MISCV
 0x0800000000000000

	)

863 
	#MC_STATUS_EN
 0x1000000000000000

	)

864 
	#MC_STATUS_UC
 0x2000000000000000

	)

865 
	#MC_STATUS_OVER
 0x4000000000000000

	)

866 
	#MC_STATUS_VAL
 0x8000000000000000

	)

867 
	#MC_MISC_RA_LSB
 0x000000000000003à

	)

868 
	#MC_MISC_ADDRESS_MODE
 0x00000000000001c0

	)

869 
	#MC_CTL2_THRESHOLD
 0x0000000000007fff

	)

870 
	#MC_CTL2_CMCI_EN
 0x0000000040000000

	)

871 
	#MC_AMDNB_BANK
 4

	)

872 
	#MC_MISC_AMD_VAL
 0x8000000000000000

	)

873 
	#MC_MISC_AMD_CNTP
 0x4000000000000000

	)

874 
	#MC_MISC_AMD_LOCK
 0x2000000000000000

	)

875 
	#MC_MISC_AMD_INTP
 0x1000000000000000

	)

876 
	#MC_MISC_AMD_LVT_MASK
 0x00f0000000000000

	)

877 
	#MC_MISC_AMD_LVT_SHIFT
 52

	)

878 
	#MC_MISC_AMD_CNTEN
 0x0008000000000000

	)

879 
	#MC_MISC_AMD_INT_MASK
 0x0006000000000000

	)

880 
	#MC_MISC_AMD_INT_LVT
 0x0002000000000000

	)

881 
	#MC_MISC_AMD_INT_SMI
 0x0004000000000000

	)

882 
	#MC_MISC_AMD_OVERFLOW
 0x0001000000000000

	)

883 
	#MC_MISC_AMD_CNT_MASK
 0x00000fff00000000

	)

884 
	#MC_MISC_AMD_CNT_SHIFT
 32

	)

885 
	#MC_MISC_AMD_CNT_MAX
 0xfff

	)

886 
	#MC_MISC_AMD_PTR_MASK
 0x00000000ff000000

	)

887 
	#MC_MISC_AMD_PTR_SHIFT
 24

	)

900 
	#NCR1
 0xc4

	)

901 
	#NCR2
 0xc7

	)

902 
	#NCR3
 0xÿ

	)

903 
	#NCR4
 0xcd

	)

905 
	#NCR_SIZE_0K
 0

	)

906 
	#NCR_SIZE_4K
 1

	)

907 
	#NCR_SIZE_8K
 2

	)

908 
	#NCR_SIZE_16K
 3

	)

909 
	#NCR_SIZE_32K
 4

	)

910 
	#NCR_SIZE_64K
 5

	)

911 
	#NCR_SIZE_128K
 6

	)

912 
	#NCR_SIZE_256K
 7

	)

913 
	#NCR_SIZE_512K
 8

	)

914 
	#NCR_SIZE_1M
 9

	)

915 
	#NCR_SIZE_2M
 10

	)

916 
	#NCR_SIZE_4M
 11

	)

917 
	#NCR_SIZE_8M
 12

	)

918 
	#NCR_SIZE_16M
 13

	)

919 
	#NCR_SIZE_32M
 14

	)

920 
	#NCR_SIZE_4G
 15

	)

930 
	#ARR0
 0xc4

	)

931 
	#ARR1
 0xc7

	)

932 
	#ARR2
 0xÿ

	)

933 
	#ARR3
 0xcd

	)

934 
	#ARR4
 0xd0

	)

935 
	#ARR5
 0xd3

	)

936 
	#ARR6
 0xd6

	)

937 
	#ARR7
 0xd9

	)

939 
	#ARR_SIZE_0K
 0

	)

940 
	#ARR_SIZE_4K
 1

	)

941 
	#ARR_SIZE_8K
 2

	)

942 
	#ARR_SIZE_16K
 3

	)

943 
	#ARR_SIZE_32K
 4

	)

944 
	#ARR_SIZE_64K
 5

	)

945 
	#ARR_SIZE_128K
 6

	)

946 
	#ARR_SIZE_256K
 7

	)

947 
	#ARR_SIZE_512K
 8

	)

948 
	#ARR_SIZE_1M
 9

	)

949 
	#ARR_SIZE_2M
 10

	)

950 
	#ARR_SIZE_4M
 11

	)

951 
	#ARR_SIZE_8M
 12

	)

952 
	#ARR_SIZE_16M
 13

	)

953 
	#ARR_SIZE_32M
 14

	)

954 
	#ARR_SIZE_4G
 15

	)

960 
	#RCR0
 0xdc

	)

961 
	#RCR1
 0xdd

	)

962 
	#RCR2
 0xde

	)

963 
	#RCR3
 0xdf

	)

964 
	#RCR4
 0xe0

	)

965 
	#RCR5
 0xe1

	)

966 
	#RCR6
 0xe2

	)

967 
	#RCR7
 0xe3

	)

969 
	#RCR_RCD
 0x01

	)

970 
	#RCR_RCE
 0x01

	)

971 
	#RCR_WWO
 0x02

	)

972 
	#RCR_WL
 0x04

	)

973 
	#RCR_WG
 0x08

	)

974 
	#RCR_WT
 0x10

	)

975 
	#RCR_NLB
 0x20

	)

978 
	#AMD_WT_ALLOC_TME
 0x40000

	)

979 
	#AMD_WT_ALLOC_PRE
 0x20000

	)

980 
	#AMD_WT_ALLOC_FRE
 0x10000

	)

983 
	#MSR_EFER
 0xc0000080

	)

984 
	#MSR_STAR
 0xc0000081

	)

985 
	#MSR_LSTAR
 0xc0000082

	)

986 
	#MSR_CSTAR
 0xc0000083

	)

987 
	#MSR_SF_MASK
 0xc0000084

	)

988 
	#MSR_FSBASE
 0xc0000100

	)

989 
	#MSR_GSBASE
 0xc0000101

	)

990 
	#MSR_KGSBASE
 0xc0000102

	)

991 
	#MSR_PERFEVSEL0
 0xc0010000

	)

992 
	#MSR_PERFEVSEL1
 0xc0010001

	)

993 
	#MSR_PERFEVSEL2
 0xc0010002

	)

994 
	#MSR_PERFEVSEL3
 0xc0010003

	)

995 
	#MSR_K7_PERFCTR0
 0xc0010004

	)

996 
	#MSR_K7_PERFCTR1
 0xc0010005

	)

997 
	#MSR_K7_PERFCTR2
 0xc0010006

	)

998 
	#MSR_K7_PERFCTR3
 0xc0010007

	)

999 
	#MSR_SYSCFG
 0xc0010010

	)

1000 
	#MSR_HWCR
 0xc0010015

	)

1001 
	#MSR_IORRBASE0
 0xc0010016

	)

1002 
	#MSR_IORRMASK0
 0xc0010017

	)

1003 
	#MSR_IORRBASE1
 0xc0010018

	)

1004 
	#MSR_IORRMASK1
 0xc0010019

	)

1005 
	#MSR_TOP_MEM
 0xc001001¨

	)

1006 
	#MSR_TOP_MEM2
 0xc001001d

	)

1007 
	#MSR_NB_CFG1
 0xc001001à

	)

1008 
	#MSR_K8_UCODE_UPDATE
 0xc0010020

	)

1009 
	#MSR_MC0_CTL_MASK
 0xc0010044

	)

1010 
	#MSR_P_STATE_LIMIT
 0xc0010061

	)

1011 
	#MSR_P_STATE_CONTROL
 0xc0010062

	)

1012 
	#MSR_P_STATE_STATUS
 0xc0010063

	)

1013 
	#MSR_P_STATE_CONFIG
(
n
è(0xc0010064 + (n)è

	)

1014 
	#MSR_SMM_ADDR
 0xc0010112

	)

1015 
	#MSR_SMM_MASK
 0xc0010113

	)

1016 
	#MSR_VM_CR
 0xc0010114

	)

1017 
	#MSR_VM_HSAVE_PA
 0xc0010117

	)

1018 
	#MSR_AMD_CPUID07
 0xc0011002

	)

1019 
	#MSR_EXTFEATURES
 0xc0011005

	)

1020 
	#MSR_IC_CFG
 0xc0011021

	)

1023 
	#VM_CR_SVMDIS
 0x10

	)

1026 
	#VIA_HAS_RNG
 1

	)

1029 
	#VIA_HAS_AES
 1

	)

1030 
	#VIA_HAS_SHA
 2

	)

1031 
	#VIA_HAS_MM
 4

	)

1032 
	#VIA_HAS_AESCTR
 8

	)

1035 
	#VIA_CPUID_HAS_RNG
 0x000004

	)

1036 
	#VIA_CPUID_DO_RNG
 0x000008

	)

1037 
	#VIA_CPUID_HAS_ACE
 0x000040

	)

1038 
	#VIA_CPUID_DO_ACE
 0x000080

	)

1039 
	#VIA_CPUID_HAS_ACE2
 0x000100

	)

1040 
	#VIA_CPUID_DO_ACE2
 0x000200

	)

1041 
	#VIA_CPUID_HAS_PHE
 0x000400

	)

1042 
	#VIA_CPUID_DO_PHE
 0x000800

	)

1043 
	#VIA_CPUID_HAS_PMM
 0x001000

	)

1044 
	#VIA_CPUID_DO_PMM
 0x002000

	)

1047 
	#VIA_CRYPT_CWLO_ROUND_M
 0x0000000f

	)

1048 
	#VIA_CRYPT_CWLO_ALG_M
 0x00000070

	)

1049 
	#VIA_CRYPT_CWLO_ALG_AES
 0x00000000

	)

1050 
	#VIA_CRYPT_CWLO_KEYGEN_M
 0x00000080

	)

1051 
	#VIA_CRYPT_CWLO_KEYGEN_HW
 0x00000000

	)

1052 
	#VIA_CRYPT_CWLO_KEYGEN_SW
 0x00000080

	)

1053 
	#VIA_CRYPT_CWLO_NORMAL
 0x00000000

	)

1054 
	#VIA_CRYPT_CWLO_INTERMEDIATE
 0x00000100

	)

1055 
	#VIA_CRYPT_CWLO_ENCRYPT
 0x00000000

	)

1056 
	#VIA_CRYPT_CWLO_DECRYPT
 0x00000200

	)

1057 
	#VIA_CRYPT_CWLO_KEY128
 0x0000000¨

	)

1058 
	#VIA_CRYPT_CWLO_KEY192
 0x0000040ø

	)

1059 
	#VIA_CRYPT_CWLO_KEY256
 0x0000080

	)

	@/usr/include/x86/stack.h

29 #iâdeà
_X86_STACK_H


30 
	#_X86_STACK_H


	)

36 #ifdeà
__i386__


37 
	si386_äame
 {

38 
i386_äame
 *
	mf_äame
;

39 
u_št
 
	mf_»ddr
;

40 
u_št
 
	mf_¬g0
;

44 #ifdeà
__amd64__


45 
	samd64_äame
 {

46 
amd64_äame
 *
	mf_äame
;

47 
u_lÚg
 
	mf_»ddr
;

50 
	si386_äame
 {

51 
ušt32_t
 
	mf_äame
;

52 
ušt32_t
 
	mf_»ddr
;

53 
ušt32_t
 
	mf_¬g0
;

57 #ifdeà
_KERNEL


58 
¡ack_nmi_hªdËr
(
Œ­äame
 *);

	@/usr/include/x86/stdarg.h

30 #iâdeà
_MACHINE_STDARG_H_


31 
	#_MACHINE_STDARG_H_


	)

33 
	~<sys/_¡d¬g.h
>

35 #iâdeà
va_¡¬t


36 #”rÜ 
this
 
fže
 
Ãeds
 
to
 
be
 
pÜ‹d
Ø
your
 
compž”


	@/usr/include/x86/sysarch.h

37 #iâdeà
_MACHINE_SYSARCH_H_


38 
	#_MACHINE_SYSARCH_H_


	)

40 
	~<sys/cdefs.h
>

42 
	#I386_GET_LDT
 0

	)

43 
	#I386_SET_LDT
 1

	)

44 
	#LDT_AUTO_ALLOC
 0xffffffff

	)

46 
	#I386_GET_IOPERM
 3

	)

47 
	#I386_SET_IOPERM
 4

	)

49 
	#I386_VM86
 6

	)

50 
	#I386_GET_FSBASE
 7

	)

51 
	#I386_SET_FSBASE
 8

	)

52 
	#I386_GET_GSBASE
 9

	)

53 
	#I386_SET_GSBASE
 10

	)

54 
	#I386_GET_XFPUSTATE
 11

	)

57 
	#AMD64_GET_FSBASE
 128

	)

58 
	#AMD64_SET_FSBASE
 129

	)

59 
	#AMD64_GET_GSBASE
 130

	)

60 
	#AMD64_SET_GSBASE
 131

	)

61 
	#AMD64_GET_XFPUSTATE
 132

	)

63 
	si386_iÝ”m_¬gs
 {

64 
	m¡¬t
;

65 
	mËngth
;

66 
	m’abË
;

69 #ifdeà
__i386__


70 
	si386_ldt_¬gs
 {

71 
	m¡¬t
;

72 
desütÜ
 *
	mdescs
;

73 
	mnum
;

76 
	si386_vm86_¬gs
 {

77 
	msub_Ý
;

78 *
	msub_¬gs
;

81 
	si386_g‘_xåu¡©e
 {

82 *
	maddr
;

83 
	mËn
;

86 
	si386_ldt_¬gs
 {

87 
	m¡¬t
;

88 
u£r_£gm’t_desütÜ
 *
descs
 
	m__·cked
;

89 
	mnum
;

92 
	si386_g‘_xåu¡©e
 {

93 
	maddr
;

94 
	mËn
;

97 
	samd64_g‘_xåu¡©e
 {

98 *
	maddr
;

99 
	mËn
;

103 #iâdeà
_KERNEL


104 
	gdesütÜ
;

105 
	gdb»g
;

107 
__BEGIN_DECLS


108 
i386_g‘_ldt
(, 
desütÜ
 *, );

109 
i386_£t_ldt
(, 
desütÜ
 *, );

110 
i386_g‘_iÝ”m
(, *, *);

111 
i386_£t_iÝ”m
(, , );

112 
i386_vm86
(, *);

113 
i386_g‘_fsba£
(**);

114 
i386_g‘_gsba£
(**);

115 
i386_£t_fsba£
(*);

116 
i386_£t_gsba£
(*);

117 
i386_£t_w©ch
(, , , , 
db»g
 *);

118 
i386_þr_w©ch
(, 
db»g
 *);

119 
amd64_g‘_fsba£
(**);

120 
amd64_g‘_gsba£
(**);

121 
amd64_£t_fsba£
(*);

122 
amd64_£t_gsba£
(*);

123 
sy§rch
(, *);

124 
	g__END_DECLS


126 
	gth»ad
;

127 
	gdesütÜ
;

129 
i386_g‘_ldt
(
th»ad
 *, 
i386_ldt_¬gs
 *);

130 
i386_£t_ldt
(
th»ad
 *, 
i386_ldt_¬gs
 *, 
desütÜ
 *);

131 
i386_g‘_iÝ”m
(
th»ad
 *, 
i386_iÝ”m_¬gs
 *);

132 
i386_£t_iÝ”m
(
th»ad
 *, 
i386_iÝ”m_¬gs
 *);

133 
amd64_g‘_ldt
(
th»ad
 *, 
i386_ldt_¬gs
 *);

134 
amd64_£t_ldt
(
th»ad
 *, 
i386_ldt_¬gs
 *,

135 
u£r_£gm’t_desütÜ
 *);

136 
amd64_g‘_iÝ”m
(
th»ad
 *, 
i386_iÝ”m_¬gs
 *);

137 
amd64_£t_iÝ”m
(
th»ad
 *, 
i386_iÝ”m_¬gs
 *);

	@/usr/include/x86/trap.h

38 #iâdeà
_MACHINE_TRAP_H_


39 
	#_MACHINE_TRAP_H_


	)

46 
	#T_PRIVINFLT
 1

	)

47 
	#T_BPTFLT
 3

	)

48 
	#T_ARITHTRAP
 6

	)

49 
	#T_PROTFLT
 9

	)

50 
	#T_TRCTRAP
 10

	)

51 
	#T_PAGEFLT
 12

	)

52 
	#T_ALIGNFLT
 14

	)

54 
	#T_DIVIDE
 18

	)

55 
	#T_NMI
 19

	)

56 
	#T_OFLOW
 20

	)

57 
	#T_BOUND
 21

	)

58 
	#T_DNA
 22

	)

59 
	#T_DOUBLEFLT
 23

	)

60 
	#T_FPOPFLT
 24

	)

61 
	#T_TSSFLT
 25

	)

62 
	#T_SEGNPFLT
 26

	)

63 
	#T_STKFLT
 27

	)

64 
	#T_MCHK
 28

	)

65 
	#T_XMMFLT
 29

	)

66 
	#T_RESERVED
 30

	)

67 
	#T_DTRACE_RET
 32

	)

70 
	#T_USER
 0x100

	)

	@/usr/include/x86/ucontext.h

34 #iâdeà
_X86_UCONTEXT_H_


35 
	#_X86_UCONTEXT_H_


	)

37 #ifdeà
__i386__


39 
	#_MC_HASSEGS
 0x1

	)

40 
	#_MC_HASBASES
 0x2

	)

41 
	#_MC_HASFPXSTATE
 0x4

	)

42 
	#_MC_FLAG_MASK
 (
_MC_HASSEGS
 | 
_MC_HASBASES
 | 
_MC_HASFPXSTATE
)

	)

44 
	s__mcÚ‹xt
 {

51 
__»gi¡”_t
 
	mmc_Ú¡ack
;

52 
__»gi¡”_t
 
	mmc_gs
;

53 
__»gi¡”_t
 
	mmc_fs
;

54 
__»gi¡”_t
 
	mmc_es
;

55 
__»gi¡”_t
 
	mmc_ds
;

56 
__»gi¡”_t
 
	mmc_edi
;

57 
__»gi¡”_t
 
	mmc_esi
;

58 
__»gi¡”_t
 
	mmc_ebp
;

59 
__»gi¡”_t
 
	mmc_i¥
;

60 
__»gi¡”_t
 
	mmc_ebx
;

61 
__»gi¡”_t
 
	mmc_edx
;

62 
__»gi¡”_t
 
	mmc_ecx
;

63 
__»gi¡”_t
 
	mmc_—x
;

64 
__»gi¡”_t
 
	mmc_Œ­no
;

65 
__»gi¡”_t
 
	mmc_”r
;

66 
__»gi¡”_t
 
	mmc_e
;

67 
__»gi¡”_t
 
	mmc_cs
;

68 
__»gi¡”_t
 
	mmc_eæags
;

69 
__»gi¡”_t
 
	mmc_e¥
;

70 
__»gi¡”_t
 
	mmc_ss
;

72 
	mmc_Ën
;

73 
	#_MC_FPFMT_NODEV
 0x10000

	)

74 
	#_MC_FPFMT_387
 0x10001

	)

75 
	#_MC_FPFMT_XMM
 0x10002

	)

76 
	mmc_åfÜm©
;

77 
	#_MC_FPOWNED_NONE
 0x20000

	)

78 
	#_MC_FPOWNED_FPU
 0x20001

	)

79 
	#_MC_FPOWNED_PCB
 0x20002

	)

80 
	mmc_owÃdå
;

81 
__»gi¡”_t
 
	mmc_æags
;

85 
	mmc_å¡©e
[128] 
__®igÃd
(16);

87 
__»gi¡”_t
 
	mmc_fsba£
;

88 
__»gi¡”_t
 
	mmc_gsba£
;

90 
__»gi¡”_t
 
	mmc_xåu¡©e
;

91 
__»gi¡”_t
 
	mmc_xåu¡©e_Ën
;

93 
	mmc_¥¬e2
[4];

94 } 
	tmcÚ‹xt_t
;

97 #ifdeà
__amd64__


101 
	#_MC_HASSEGS
 0x1

	)

102 
	#_MC_HASBASES
 0x2

	)

103 
	#_MC_HASFPXSTATE
 0x4

	)

104 
	#_MC_FLAG_MASK
 (
_MC_HASSEGS
 | 
_MC_HASBASES
 | 
_MC_HASFPXSTATE
)

	)

106 
	s__mcÚ‹xt
 {

113 
__»gi¡”_t
 
	mmc_Ú¡ack
;

114 
__»gi¡”_t
 
	mmc_rdi
;

115 
__»gi¡”_t
 
	mmc_rsi
;

116 
__»gi¡”_t
 
	mmc_rdx
;

117 
__»gi¡”_t
 
	mmc_rcx
;

118 
__»gi¡”_t
 
	mmc_r8
;

119 
__»gi¡”_t
 
	mmc_r9
;

120 
__»gi¡”_t
 
	mmc_¿x
;

121 
__»gi¡”_t
 
	mmc_rbx
;

122 
__»gi¡”_t
 
	mmc_rbp
;

123 
__»gi¡”_t
 
	mmc_r10
;

124 
__»gi¡”_t
 
	mmc_r11
;

125 
__»gi¡”_t
 
	mmc_r12
;

126 
__»gi¡”_t
 
	mmc_r13
;

127 
__»gi¡”_t
 
	mmc_r14
;

128 
__»gi¡”_t
 
	mmc_r15
;

129 
__ušt32_t
 
	mmc_Œ­no
;

130 
__ušt16_t
 
	mmc_fs
;

131 
__ušt16_t
 
	mmc_gs
;

132 
__»gi¡”_t
 
	mmc_addr
;

133 
__ušt32_t
 
	mmc_æags
;

134 
__ušt16_t
 
	mmc_es
;

135 
__ušt16_t
 
	mmc_ds
;

136 
__»gi¡”_t
 
	mmc_”r
;

137 
__»gi¡”_t
 
	mmc_r
;

138 
__»gi¡”_t
 
	mmc_cs
;

139 
__»gi¡”_t
 
	mmc_ræags
;

140 
__»gi¡”_t
 
	mmc_r¥
;

141 
__»gi¡”_t
 
	mmc_ss
;

143 
	mmc_Ën
;

145 
	#_MC_FPFMT_NODEV
 0x10000

	)

146 
	#_MC_FPFMT_XMM
 0x10002

	)

147 
	mmc_åfÜm©
;

148 
	#_MC_FPOWNED_NONE
 0x20000

	)

149 
	#_MC_FPOWNED_FPU
 0x20001

	)

150 
	#_MC_FPOWNED_PCB
 0x20002

	)

151 
	mmc_owÃdå
;

155 
	mmc_å¡©e
[64] 
__®igÃd
(16);

157 
__»gi¡”_t
 
	mmc_fsba£
;

158 
__»gi¡”_t
 
	mmc_gsba£
;

160 
__»gi¡”_t
 
	mmc_xåu¡©e
;

161 
__»gi¡”_t
 
	mmc_xåu¡©e_Ën
;

163 
	mmc_¥¬e
[4];

164 } 
	tmcÚ‹xt_t
;

	@/usr/include/x86/vdso.h

34 #iâdeà
_X86_VDSO_H


35 
	#_X86_VDSO_H


	)

37 
	#VDSO_TIMEHANDS_MD
 \

38 
ušt32_t
 
th_x86_shiá
; \

39 
ušt32_t
 
th_x86_h³t_idx
; \

40 
ušt32_t
 
th_»s
[6];

	)

42 
	#VDSO_TH_ALGO_X86_TSC
 
VDSO_TH_ALGO_1


	)

43 
	#VDSO_TH_ALGO_X86_HPET
 
VDSO_TH_ALGO_2


	)

44 
	#VDSO_TH_ALGO_X86_HVTSC
 
VDSO_TH_ALGO_3


	)

46 #ifdeà
_KERNEL


47 #ifdeà
COMPAT_FREEBSD32


49 
	#VDSO_TIMEHANDS_MD32
 
VDSO_TIMEHANDS_MD


	)

	@/usr/include/x86/x86_smp.h

15 #iâdeà
_X86_X86_SMP_H_


16 
	#_X86_X86_SMP_H_


	)

18 
	~<sys/bus.h
>

19 
	~<machše/äame.h
>

20 
	~<machše/šŒ_machd•.h
>

21 
	~<x86/­icv¬.h
>

22 
	~<machše/pcb.h
>

24 
	gpm­
;

27 
mp_Çps
;

28 
boÙ_ýu_id
;

29 
pcb
 
¡Ýpcbs
[];

30 
ýu_­ic_ids
[];

31 
boÙAP
;

32 *
dpýu
;

33 *
boÙSTK
;

34 *
boÙ¡acks
[];

35 
boÙ_add»ss
;

36 
boÙMP_size
;

37 vÞ©ž
u_št
 
ýu_i_³ndšg
[];

38 vÞ©ž
­s_»ady
;

39 
mtx
 
­_boÙ_mtx
;

40 
ýu_logiÿl
;

41 
ýu_cÜes
;

42 vÞ©ž
ušt32_t
 
smp_Žb_g’”©iÚ
;

43 
pm­
 *
smp_Žb_pm­
;

44 
vm_off£t_t
 
smp_Žb_addr1
, 
smp_Žb_addr2
;

45 
u_št
 
xh™s_gbl
[];

46 
u_št
 
xh™s_pg
[];

47 
u_št
 
xh™s_ºg
[];

48 
u_št
 
i_glob®
;

49 
u_št
 
i_·ge
;

50 
u_št
 
i_¿nge
;

51 
u_št
 
i_¿nge_size
;

53 
nmi_kdb_lock
;

54 
nmi_is_brßdÿ¡
;

56 
	sýu_šfo
 {

57 
	mýu_´e£Á
:1;

58 
	mýu_b¥
:1;

59 
	mýu_di§bËd
:1;

60 
	mýu_hy³¹h»ad
:1;

62 
ýu_šfo
 *cpu_info;

64 #ifdeà
COUNT_IPIS


65 
u_lÚg
 *
i_švÉlb_couÁs
[
MAXCPU
];

66 
u_lÚg
 *
i_švÌng_couÁs
[
MAXCPU
];

67 
u_lÚg
 *
i_švÍg_couÁs
[
MAXCPU
];

68 
u_lÚg
 *
i_švlÿche_couÁs
[
MAXCPU
];

69 
u_lÚg
 *
i_»ndezvous_couÁs
[
MAXCPU
];

73 
šthªd_t


74 
IDTVEC
(
švÉlb
),

75 
IDTVEC
(
švÍg
),

76 
IDTVEC
(
švÌng
),

77 
IDTVEC
(
švlÿche
),

78 
IDTVEC
(
i_šŒ_b™m­_hªdËr
),

79 
IDTVEC
(
ýu¡Ý
),

80 
IDTVEC
(
ýusu¥’d
),

81 
IDTVEC
(
»ndezvous
);

84 
assign_ýu_ids
();

85 
ýu_add
(
u_št
 
­ic_id
, 
boÙ_ýu
);

86 
ýu¡Ý_hªdËr
();

87 
ýusu¥’d_hªdËr
();

88 
®loc_­_ŒampÞše
(
vm_·ddr_t
 *
physm­
, *
physm­_idx
);

89 
š™_£cÚd¬y_ž
();

90 
švÉlb_hªdËr
();

91 
švÍg_hªdËr
();

92 
švÌng_hªdËr
();

93 
švlÿche_hªdËr
();

94 
š™_£cÚd¬y
();

95 
i_¡¬tup
(
­ic_id
, 
veùÜ
);

96 
i_®l_but_£lf
(
u_št
 
i
);

97 
i_b™m­_hªdËr
(
Œ­äame
 
äame
);

98 
i_ýu
(
ýu
, 
u_št
 
i
);

99 
i_nmi_hªdËr
();

100 
i_£Ëùed
(
ýu£t_t
 
ýus
, 
u_št
 
i
);

101 
£t_š‹¼u±_­ic_ids
();

102 
smp_ÿche_æush
();

103 
smp_masked_švÍg
(
ýu£t_t
 
mask
, 
vm_off£t_t
 
addr
, 
pm­
 *pmap);

104 
smp_masked_švÍg_¿nge
(
ýu£t_t
 
mask
, 
vm_off£t_t
 
¡¬tva
,

105 
vm_off£t_t
 
’dva
, 
pm­
 *pmap);

106 
smp_masked_švÉlb
(
ýu£t_t
 
mask
, 
pm­
 *pmap);

107 
mem_¿nge_AP_š™
();

108 
tÝo_´obe
();

109 
i_£nd_ýu
(
ýu
, 
u_št
 
i
);

	@/usr/include/x86/x86_var.h

32 #iâdeà
_X86_X86_VAR_H_


33 
	#_X86_X86_VAR_H_


	)

39 
Maxmem
;

40 
u_št
 
ba£mem
;

41 
busdma_swi_³ndšg
;

42 
u_št
 
ýu_exthigh
;

43 
u_št
 
ýu_ã©u»
;

44 
u_št
 
ýu_ã©u»2
;

45 
u_št
 
amd_ã©u»
;

46 
u_št
 
amd_ã©u»2
;

47 
u_št
 
amd_¿sÿp
;

48 
u_št
 
amd_pmšfo
;

49 
u_št
 
amd_ex‹nded_ã©u»_ex‹nsiÚs
;

50 
u_št
 
vŸ_ã©u»_ºg
;

51 
u_št
 
vŸ_ã©u»_xüy±
;

52 
u_št
 
ýu_þæush_lše_size
;

53 
u_št
 
ýu_¡dext_ã©u»
;

54 
u_št
 
ýu_¡dext_ã©u»2
;

55 
u_št
 
ýu_¡dext_ã©u»3
;

56 
ušt64_t
 
ýu_Ÿ32_¬ch_ÿps
;

57 
u_št
 
ýu_fx¤
;

58 
u_št
 
ýu_high
;

59 
u_št
 
ýu_id
;

60 
u_št
 
ýu_max_ext_¡©e_size
;

61 
u_št
 
ýu_mxc¤_mask
;

62 
u_št
 
ýu_´ocšfo
;

63 
u_št
 
ýu_´ocšfo2
;

64 
ýu_v’dÜ
[];

65 
u_št
 
ýu_v’dÜ_id
;

66 
u_št
 
ýu_mÚ_mwa™_æags
;

67 
u_št
 
ýu_mÚ_mš_size
;

68 
u_št
 
ýu_mÚ_max_size
;

69 
u_št
 
ýu_maxphyaddr
;

70 
ùx_sw™ch_x§ve
[];

71 
u_št
 
hv_high
;

72 
hv_v’dÜ
[];

73 
k¡ack
[];

74 
sigcode
[];

75 
szsigcode
;

76 
vm_·ge_dump_size
;

77 
wÜk¬ound_”¿tum383
;

78 
_ud©a£l
;

79 
_ucode£l
;

80 
_ucode32£l
;

81 
_ufs£l
;

82 
_ugs£l
;

83 
u£_x§ve
;

84 
ušt64_t
 
x§ve_mask
;

85 
u_št
 
max_­ic_id
;

86 
±i
;

87 
hw_ibrs_aùive
;

88 
hw_ssb_aùive
;

90 
	gpcb
;

91 
	gth»ad
;

92 
	g»g
;

93 
	gå»g
;

94 
	gdb»g
;

95 
	gdum³ršfo
;

96 
	gŒ­äame
;

103 
	t®Ÿs_fÜ_šthªd_t
();

109 
__šlše
 
vm_·ddr_t


110 
	$ýu_g‘maxphyaddr
()

112 #ià
	`defšed
(
__i386__
è&& !defšed(
PAE
)

115  ((1ULL << 
ýu_maxphyaddr
) - 1);

117 
	}
}

119 
boÞ
 
aýi_g‘_çdt_boÙæags
(
ušt16_t
 *
æag¥
);

120 *
®loc_åu§ve
(
æags
);

121 
busdma_swi
();

122 
boÞ
 
ýu_mwa™_u§bË
();

123 
ýu_´obe_amdc1e
();

124 
ýu_£Œegs
();

125 
boÞ
 
di§bË_wp
();

126 
»¡Üe_wp
(
boÞ
 
Þd_wp
);

127 
dump_add_·ge
(
vm_·ddr_t
);

128 
dump_drÝ_·ge
(
vm_·ddr_t
);

129 
fšishid’týu
();

130 
id’tify_ýu1
();

131 
id’tify_ýu2
();

132 
id’tify_hy³rvisÜ
();

133 
š™Ÿlizeýu
();

134 
š™Ÿlizeýuÿche
();

135 
boÞ
 
fix_ýuid
();

136 
fžlw
(
·t
, *
ba£
, 
size_t
 
út
);

137 
is_physiÿl_memÜy
(
vm_·ddr_t
 
addr
);

138 
i§_nmi
(
cd
);

139 
hªdË_ibrs_’Œy
();

140 
hªdË_ibrs_ex™
();

141 
hw_ibrs_»ÿlcuÏ‹
();

142 
hw_ssb_»ÿlcuÏ‹
(
boÞ
 
®l_ýus
);

143 
nmi_ÿÎ_kdb
(
u_št
 
ýu
, u_šˆ
ty³
, 
Œ­äame
 *
äame
);

144 
nmi_ÿÎ_kdb_smp
(
u_št
 
ty³
, 
Œ­äame
 *
äame
);

145 
nmi_hªdË_šŒ
(
u_št
 
ty³
, 
Œ­äame
 *
äame
);

146 
·gecÝy
(*
äom
, *
to
);

147 
´štýušfo
();

148 
±i_g‘_deçuÉ
();

149 
u£r_db»g_Œ­
(
»gi¡”_t
 
dr6
);

150 
mšidumpsys
(
dum³ršfo
 *);

151 
pcb
 *
g‘_pcb_td
(
th»ad
 *
td
);

	@/usr/include/bsm/audit.h

40 #iâdef 
_BSM_AUDIT_H


41 
	#_BSM_AUDIT_H


	)

43 
	~<sys/·¿m.h
>

44 
	~<sys/ty³s.h
>

46 
	#AUDIT_RECORD_MAGIC
 0x828a0f1b

	)

47 
	#MAX_AUDIT_RECORDS
 20

	)

48 
	#MAXAUDITDATA
 (0x8000 - 1)

	)

49 
	#MAX_AUDIT_RECORD_SIZE
 
MAXAUDITDATA


	)

50 
	#MIN_AUDIT_FILE_SIZE
 (512 * 1024)

	)

58 
	#AUDIT_HARD_LIMIT_FREE_BLOCKS
 4

	)

63 
	#AUDIT_TRIGGER_MIN
 1

	)

64 
	#AUDIT_TRIGGER_LOW_SPACE
 1

	)

65 
	#AUDIT_TRIGGER_ROTATE_KERNEL
 2

	)

66 
	#AUDIT_TRIGGER_READ_FILE
 3

	)

67 
	#AUDIT_TRIGGER_CLOSE_AND_DIE
 4

	)

68 
	#AUDIT_TRIGGER_NO_SPACE
 5

	)

69 
	#AUDIT_TRIGGER_ROTATE_USER
 6

	)

70 
	#AUDIT_TRIGGER_INITIALIZE
 7

	)

71 
	#AUDIT_TRIGGER_EXPIRE_TRAILS
 8

	)

72 
	#AUDIT_TRIGGER_MAX
 8

	)

77 
	#AUDITDEV_FILENAME
 "aud™"

	)

78 
	#AUDIT_TRIGGER_FILE
 ("/dev/" 
AUDITDEV_FILENAME
)

	)

83 
	#AU_DEFAUDITID
 (
uid_t
)(-1)

	)

84 
	#AU_DEFAUDITSID
 0

	)

85 
	#AU_ASSIGN_ASID
 -1

	)

90 
	#AT_IPC_MSG
 ((
u_ch¬
)1è

	)

91 
	#AT_IPC_SEM
 ((
u_ch¬
)2è

	)

92 
	#AT_IPC_SHM
 ((
u_ch¬
)3è

	)

97 
	#AUC_UNSET
 0

	)

98 
	#AUC_AUDITING
 1

	)

99 
	#AUC_NOAUDIT
 2

	)

100 
	#AUC_DISABLED
 -1

	)

105 
	#A_OLDGETPOLICY
 2

	)

106 
	#A_OLDSETPOLICY
 3

	)

107 
	#A_GETKMASK
 4

	)

108 
	#A_SETKMASK
 5

	)

109 
	#A_OLDGETQCTRL
 6

	)

110 
	#A_OLDSETQCTRL
 7

	)

111 
	#A_GETCWD
 8

	)

112 
	#A_GETCAR
 9

	)

113 
	#A_GETSTAT
 12

	)

114 
	#A_SETSTAT
 13

	)

115 
	#A_SETUMASK
 14

	)

116 
	#A_SETSMASK
 15

	)

117 
	#A_OLDGETCOND
 20

	)

118 
	#A_OLDSETCOND
 21

	)

119 
	#A_GETCLASS
 22

	)

120 
	#A_SETCLASS
 23

	)

121 
	#A_GETPINFO
 24

	)

122 
	#A_SETPMASK
 25

	)

123 
	#A_SETFSIZE
 26

	)

124 
	#A_GETFSIZE
 27

	)

125 
	#A_GETPINFO_ADDR
 28

	)

126 
	#A_GETKAUDIT
 29

	)

127 
	#A_SETKAUDIT
 30

	)

128 
	#A_SENDTRIGGER
 31

	)

129 
	#A_GETSINFO_ADDR
 32

	)

130 
	#A_GETPOLICY
 33

	)

131 
	#A_SETPOLICY
 34

	)

132 
	#A_GETQCTRL
 35

	)

133 
	#A_SETQCTRL
 36

	)

134 
	#A_GETCOND
 37

	)

135 
	#A_SETCOND
 38

	)

136 
	#A_GETEVENT
 39

	)

137 
	#A_SETEVENT
 40

	)

142 
	#AUDIT_CNT
 0x0001

	)

143 
	#AUDIT_AHLT
 0x0002

	)

144 
	#AUDIT_ARGV
 0x0004

	)

145 
	#AUDIT_ARGE
 0x0008

	)

146 
	#AUDIT_SEQ
 0x0010

	)

147 
	#AUDIT_WINDATA
 0x0020

	)

148 
	#AUDIT_USER
 0x0040

	)

149 
	#AUDIT_GROUP
 0x0080

	)

150 
	#AUDIT_TRAIL
 0x0100

	)

151 
	#AUDIT_PATH
 0x0200

	)

152 
	#AUDIT_SCNT
 0x0400

	)

153 
	#AUDIT_PUBLIC
 0x0800

	)

154 
	#AUDIT_ZONENAME
 0x1000

	)

155 
	#AUDIT_PERZONE
 0x2000

	)

160 
	#AQ_HIWATER
 100

	)

161 
	#AQ_MAXHIGH
 10000

	)

162 
	#AQ_LOWATER
 10

	)

163 
	#AQ_BUFSZ
 
MAXAUDITDATA


	)

164 
	#AQ_MAXBUFSZ
 1048576

	)

169 
	#AU_FS_MINFREE
 20

	)

175 
	#AU_IPv4
 4

	)

176 
	#AU_IPv6
 16

	)

178 
__BEGIN_DECLS


180 
uid_t
 
	tau_id_t
;

181 
pid_t
 
	tau_asid_t
;

182 
u_št16_t
 
	tau_ev’t_t
;

183 
u_št16_t
 
	tau_emod_t
;

184 
u_št32_t
 
	tau_þass_t
;

185 
u_št64_t
 
	tau_asægs_t
 
	t__©Œibu‹__
 ((
	t®igÃd
 (8)));

187 
	sau_tid
 {

188 
u_št32_t
 
	mpÜt
;

189 
u_št32_t
 
	mmachše
;

191 
au_tid
 
	tau_tid_t
;

193 
	sau_tid_addr
 {

194 
u_št32_t
 
	m©_pÜt
;

195 
u_št32_t
 
	m©_ty³
;

196 
u_št32_t
 
	m©_addr
[4];

198 
au_tid_addr
 
	tau_tid_addr_t
;

200 
	sau_mask
 {

201 
	mam_sucûss
;

202 
	mam_çžu»
;

204 
au_mask
 
	tau_mask_t
;

206 
	saud™šfo
 {

207 
au_id_t
 
	mai_auid
;

208 
au_mask_t
 
	mai_mask
;

209 
au_tid_t
 
	mai_‹rmid
;

210 
au_asid_t
 
	mai_asid
;

212 
aud™šfo
 
	taud™šfo_t
;

214 
	saud™šfo_addr
 {

215 
au_id_t
 
	mai_auid
;

216 
au_mask_t
 
	mai_mask
;

217 
au_tid_addr_t
 
	mai_‹rmid
;

218 
au_asid_t
 
	mai_asid
;

219 
au_asægs_t
 
	mai_æags
;

221 
aud™šfo_addr
 
	taud™šfo_addr_t
;

223 
	saud™pšfo
 {

224 
pid_t
 
	m­_pid
;

225 
au_id_t
 
	m­_auid
;

226 
au_mask_t
 
	m­_mask
;

227 
au_tid_t
 
	m­_‹rmid
;

228 
au_asid_t
 
	m­_asid
;

230 
aud™pšfo
 
	taud™pšfo_t
;

232 
	saud™pšfo_addr
 {

233 
pid_t
 
	m­_pid
;

234 
au_id_t
 
	m­_auid
;

235 
au_mask_t
 
	m­_mask
;

236 
au_tid_addr_t
 
	m­_‹rmid
;

237 
au_asid_t
 
	m­_asid
;

238 
au_asægs_t
 
	m­_æags
;

240 
aud™pšfo_addr
 
	taud™pšfo_addr_t
;

242 
	sau_£ssiÚ
 {

243 
aud™šfo_addr_t
 *
	mas_aŸ_p
;

244 
au_mask_t
 
	mas_mask
;

246 
au_£ssiÚ
 
	tau_£ssiÚ_t
;

251 
au_tok’
 
	ttok’_t
;

261 
	sau_qù¾
 {

262 
	maq_hiw©”
;

265 
	maq_low©”
;

268 
	maq_bufsz
;

269 
	maq_d–ay
;

270 
	maq_mšä“
;

272 
au_qù¾
 
	tau_qù¾_t
;

277 
	saud™_¡©
 {

278 
	mas_v”siÚ
;

279 
	mas_numev’t
;

280 
	mas_g’”©ed
;

281 
	mas_nÚ©Œib
;

282 
	mas_k”Ãl
;

283 
	mas_aud™
;

284 
	mas_aud™ùl
;

285 
	mas_’queue
;

286 
	mas_wr™‹n
;

287 
	mas_wblocked
;

288 
	mas_rblocked
;

289 
	mas_drÝ³d
;

290 
	mas_tÙ®size
;

291 
	mas_memu£d
;

293 
aud™_¡©
 
	tau_¡©_t
;

298 
	saud™_f¡©
 {

299 
u_št64_t
 
	maf_fžesz
;

300 
u_št64_t
 
	maf_cu¼sz
;

302 
aud™_f¡©
 
	tau_f¡©_t
;

307 
	sau_evþass_m­
 {

308 
au_ev’t_t
 
	mec_numb”
;

309 
au_þass_t
 
	mec_þass
;

311 
au_evþass_m­
 
	tau_evþass_m­_t
;

316 
	#EVNAMEMAP_NAME_SIZE
 64

	)

317 
	sau_evÇme_m­
 {

318 
au_ev’t_t
 
	m’_numb”
;

319 
	m’_Çme
[
EVNAMEMAP_NAME_SIZE
];

321 
au_evÇme_m­
 
	tau_evÇme_m­_t
;

326 #ià!
defšed
(
_KERNEL
è&& !defšed(
KERNEL
)

327 
aud™
(const *, );

328 
aud™Ú
(, *, );

329 
aud™ùl
(const *);

330 
g‘auid
(
au_id_t
 *);

331 
£uid
(cÚ¡ 
au_id_t
 *);

332 
g‘aud™
(
aud™šfo
 *);

333 
£ud™
(cÚ¡ 
aud™šfo
 *);

334 
g‘aud™_addr
(
aud™šfo_addr
 *, );

335 
£ud™_addr
(cÚ¡ 
aud™šfo_addr
 *, );

337 #ifdeà
__APPLE_API_PRIVATE


338 
	~<mach/pÜt.h
>

339 
mach_pÜt_Çme_t
 
aud™_£ssiÚ_£lf
();

340 
au_asid_t
 
aud™_£ssiÚ_još
(
mach_pÜt_Çme_t
 
pÜt
);

345 
	g__END_DECLS


	@/usr/include/bsm/audit_kevents.h

34 #iâdeà
_BSM_AUDIT_KEVENTS_H_


35 
	#_BSM_AUDIT_KEVENTS_H_


	)

40 
	#AUE_IS_A_KEVENT
(
e
) (((e) > 0 && (e) < 2048) || \

41 ((
e
è> 43000 && (eè< 45000))

	)

52 
	#AUE_NULL
 0

	)

53 
	#AUE_EXIT
 1

	)

54 
	#AUE_FORK
 2

	)

55 
	#AUE_FORKALL
 
AUE_FORK


	)

56 
	#AUE_OPEN
 3

	)

57 
	#AUE_CREAT
 4

	)

58 
	#AUE_LINK
 5

	)

59 
	#AUE_UNLINK
 6

	)

60 
	#AUE_DELETE
 
AUE_UNLINK


	)

61 
	#AUE_EXEC
 7

	)

62 
	#AUE_CHDIR
 8

	)

63 
	#AUE_MKNOD
 9

	)

64 
	#AUE_CHMOD
 10

	)

65 
	#AUE_CHOWN
 11

	)

66 
	#AUE_UMOUNT
 12

	)

67 
	#AUE_JUNK
 13

	)

68 
	#AUE_ACCESS
 14

	)

69 
	#AUE_KILL
 15

	)

70 
	#AUE_STAT
 16

	)

71 
	#AUE_LSTAT
 17

	)

72 
	#AUE_ACCT
 18

	)

73 
	#AUE_MCTL
 19

	)

74 
	#AUE_REBOOT
 20

	)

75 
	#AUE_SYMLINK
 21

	)

76 
	#AUE_READLINK
 22

	)

77 
	#AUE_EXECVE
 23

	)

78 
	#AUE_CHROOT
 24

	)

79 
	#AUE_VFORK
 25

	)

80 
	#AUE_SETGROUPS
 26

	)

81 
	#AUE_SETPGRP
 27

	)

82 
	#AUE_SWAPON
 28

	)

83 
	#AUE_SETHOSTNAME
 29

	)

84 
	#AUE_FCNTL
 30

	)

85 
	#AUE_SETPRIORITY
 31

	)

86 
	#AUE_CONNECT
 32

	)

87 
	#AUE_ACCEPT
 33

	)

88 
	#AUE_BIND
 34

	)

89 
	#AUE_SETSOCKOPT
 35

	)

90 
	#AUE_VTRACE
 36

	)

91 
	#AUE_SETTIMEOFDAY
 37

	)

92 
	#AUE_FCHOWN
 38

	)

93 
	#AUE_FCHMOD
 39

	)

94 
	#AUE_SETREUID
 40

	)

95 
	#AUE_SETREGID
 41

	)

96 
	#AUE_RENAME
 42

	)

97 
	#AUE_TRUNCATE
 43

	)

98 
	#AUE_FTRUNCATE
 44

	)

99 
	#AUE_FLOCK
 45

	)

100 
	#AUE_SHUTDOWN
 46

	)

101 
	#AUE_MKDIR
 47

	)

102 
	#AUE_RMDIR
 48

	)

103 
	#AUE_UTIMES
 49

	)

104 
	#AUE_ADJTIME
 50

	)

105 
	#AUE_SETRLIMIT
 51

	)

106 
	#AUE_KILLPG
 52

	)

107 
	#AUE_NFS_SVC
 53

	)

108 
	#AUE_STATFS
 54

	)

109 
	#AUE_FSTATFS
 55

	)

110 
	#AUE_UNMOUNT
 56

	)

111 
	#AUE_ASYNC_DAEMON
 57

	)

112 
	#AUE_NFS_GETFH
 58

	)

113 
	#AUE_SETDOMAINNAME
 59

	)

114 
	#AUE_QUOTACTL
 60

	)

115 
	#AUE_EXPORTFS
 61

	)

116 
	#AUE_MOUNT
 62

	)

117 
	#AUE_SEMSYS
 63

	)

118 
	#AUE_MSGSYS
 64

	)

119 
	#AUE_SHMSYS
 65

	)

120 
	#AUE_BSMSYS
 66

	)

121 
	#AUE_RFSSYS
 67

	)

122 
	#AUE_FCHDIR
 68

	)

123 
	#AUE_FCHROOT
 69

	)

124 
	#AUE_VPIXSYS
 70

	)

125 
	#AUE_PATHCONF
 71

	)

126 
	#AUE_OPEN_R
 72

	)

127 
	#AUE_OPEN_RC
 73

	)

128 
	#AUE_OPEN_RT
 74

	)

129 
	#AUE_OPEN_RTC
 75

	)

130 
	#AUE_OPEN_W
 76

	)

131 
	#AUE_OPEN_WC
 77

	)

132 
	#AUE_OPEN_WT
 78

	)

133 
	#AUE_OPEN_WTC
 79

	)

134 
	#AUE_OPEN_RW
 80

	)

135 
	#AUE_OPEN_RWC
 81

	)

136 
	#AUE_OPEN_RWT
 82

	)

137 
	#AUE_OPEN_RWTC
 83

	)

138 
	#AUE_MSGCTL
 84

	)

139 
	#AUE_MSGCTL_RMID
 85

	)

140 
	#AUE_MSGCTL_SET
 86

	)

141 
	#AUE_MSGCTL_STAT
 87

	)

142 
	#AUE_MSGGET
 88

	)

143 
	#AUE_MSGRCV
 89

	)

144 
	#AUE_MSGSND
 90

	)

145 
	#AUE_SHMCTL
 91

	)

146 
	#AUE_SHMCTL_RMID
 92

	)

147 
	#AUE_SHMCTL_SET
 93

	)

148 
	#AUE_SHMCTL_STAT
 94

	)

149 
	#AUE_SHMGET
 95

	)

150 
	#AUE_SHMAT
 96

	)

151 
	#AUE_SHMDT
 97

	)

152 
	#AUE_SEMCTL
 98

	)

153 
	#AUE_SEMCTL_RMID
 99

	)

154 
	#AUE_SEMCTL_SET
 100

	)

155 
	#AUE_SEMCTL_STAT
 101

	)

156 
	#AUE_SEMCTL_GETNCNT
 102

	)

157 
	#AUE_SEMCTL_GETPID
 103

	)

158 
	#AUE_SEMCTL_GETVAL
 104

	)

159 
	#AUE_SEMCTL_GETALL
 105

	)

160 
	#AUE_SEMCTL_GETZCNT
 106

	)

161 
	#AUE_SEMCTL_SETVAL
 107

	)

162 
	#AUE_SEMCTL_SETALL
 108

	)

163 
	#AUE_SEMGET
 109

	)

164 
	#AUE_SEMOP
 110

	)

165 
	#AUE_CORE
 111

	)

166 
	#AUE_CLOSE
 112

	)

167 
	#AUE_SYSTEMBOOT
 113

	)

168 
	#AUE_ASYNC_DAEMON_EXIT
 114

	)

169 
	#AUE_NFSSVC_EXIT
 115

	)

170 
	#AUE_WRITEL
 128

	)

171 
	#AUE_WRITEVL
 129

	)

172 
	#AUE_GETAUID
 130

	)

173 
	#AUE_SETAUID
 131

	)

174 
	#AUE_GETAUDIT
 132

	)

175 
	#AUE_SETAUDIT
 133

	)

176 
	#AUE_GETUSERAUDIT
 134

	)

177 
	#AUE_SETUSERAUDIT
 135

	)

178 
	#AUE_AUDITSVC
 136

	)

179 
	#AUE_AUDITUSER
 137

	)

180 
	#AUE_AUDITON
 138

	)

181 
	#AUE_AUDITON_GTERMID
 139

	)

182 
	#AUE_AUDITON_STERMID
 140

	)

183 
	#AUE_AUDITON_GPOLICY
 141

	)

184 
	#AUE_AUDITON_SPOLICY
 142

	)

185 
	#AUE_AUDITON_GQCTRL
 145

	)

186 
	#AUE_AUDITON_SQCTRL
 146

	)

187 
	#AUE_GETKERNSTATE
 147

	)

188 
	#AUE_SETKERNSTATE
 148

	)

189 
	#AUE_GETPORTAUDIT
 149

	)

190 
	#AUE_AUDITSTAT
 150

	)

191 
	#AUE_REVOKE
 151

	)

192 
	#AUE_MAC
 152

	)

193 
	#AUE_ENTERPROM
 153

	)

194 
	#AUE_EXITPROM
 154

	)

195 
	#AUE_IFLOAT
 155

	)

196 
	#AUE_PFLOAT
 156

	)

197 
	#AUE_UPRIV
 157

	)

198 
	#AUE_IOCTL
 158

	)

199 
	#AUE_SOCKET
 183

	)

200 
	#AUE_SENDTO
 184

	)

201 
	#AUE_PIPE
 185

	)

202 
	#AUE_SOCKETPAIR
 186

	)

203 
	#AUE_SEND
 187

	)

204 
	#AUE_SENDMSG
 188

	)

205 
	#AUE_RECV
 189

	)

206 
	#AUE_RECVMSG
 190

	)

207 
	#AUE_RECVFROM
 191

	)

208 
	#AUE_READ
 192

	)

209 
	#AUE_GETDENTS
 193

	)

210 
	#AUE_LSEEK
 194

	)

211 
	#AUE_WRITE
 195

	)

212 
	#AUE_WRITEV
 196

	)

213 
	#AUE_NFS
 197

	)

214 
	#AUE_READV
 198

	)

215 
	#AUE_OSTAT
 199

	)

216 
	#AUE_SETUID
 200

	)

217 
	#AUE_STIME
 201

	)

218 
	#AUE_UTIME
 202

	)

219 
	#AUE_NICE
 203

	)

220 
	#AUE_OSETPGRP
 204

	)

221 
	#AUE_SETGID
 205

	)

222 
	#AUE_READL
 206

	)

223 
	#AUE_READVL
 207

	)

224 
	#AUE_FSTAT
 208

	)

225 
	#AUE_DUP2
 209

	)

226 
	#AUE_MMAP
 210

	)

227 
	#AUE_AUDIT
 211

	)

228 
	#AUE_PRIOCNTLSYS
 212

	)

229 
	#AUE_MUNMAP
 213

	)

230 
	#AUE_SETEGID
 214

	)

231 
	#AUE_SETEUID
 215

	)

232 
	#AUE_PUTMSG
 216

	)

233 
	#AUE_GETMSG
 217

	)

234 
	#AUE_PUTPMSG
 218

	)

235 
	#AUE_GETPMSG
 219

	)

236 
	#AUE_AUDITSYS
 220

	)

237 
	#AUE_AUDITON_GETKMASK
 221

	)

238 
	#AUE_AUDITON_SETKMASK
 222

	)

239 
	#AUE_AUDITON_GETCWD
 223

	)

240 
	#AUE_AUDITON_GETCAR
 224

	)

241 
	#AUE_AUDITON_GETSTAT
 225

	)

242 
	#AUE_AUDITON_SETSTAT
 226

	)

243 
	#AUE_AUDITON_SETUMASK
 227

	)

244 
	#AUE_AUDITON_SETSMASK
 228

	)

245 
	#AUE_AUDITON_GETCOND
 229

	)

246 
	#AUE_AUDITON_SETCOND
 230

	)

247 
	#AUE_AUDITON_GETCLASS
 231

	)

248 
	#AUE_AUDITON_SETCLASS
 232

	)

249 
	#AUE_FUSERS
 233

	)

250 
	#AUE_STATVFS
 234

	)

251 
	#AUE_XSTAT
 235

	)

252 
	#AUE_LXSTAT
 236

	)

253 
	#AUE_LCHOWN
 237

	)

254 
	#AUE_MEMCNTL
 238

	)

255 
	#AUE_SYSINFO
 239

	)

256 
	#AUE_XMKNOD
 240

	)

257 
	#AUE_FORK1
 241

	)

258 
	#AUE_MODCTL
 242

	)

259 
	#AUE_MODLOAD
 243

	)

260 
	#AUE_MODUNLOAD
 244

	)

261 
	#AUE_MODCONFIG
 245

	)

262 
	#AUE_MODADDMAJ
 246

	)

263 
	#AUE_SOCKACCEPT
 247

	)

264 
	#AUE_SOCKCONNECT
 248

	)

265 
	#AUE_SOCKSEND
 249

	)

266 
	#AUE_SOCKRECEIVE
 250

	)

267 
	#AUE_ACLSET
 251

	)

268 
	#AUE_FACLSET
 252

	)

269 
	#AUE_DOORFS
 253

	)

270 
	#AUE_DOORFS_DOOR_CALL
 254

	)

271 
	#AUE_DOORFS_DOOR_RETURN
 255

	)

272 
	#AUE_DOORFS_DOOR_CREATE
 256

	)

273 
	#AUE_DOORFS_DOOR_REVOKE
 257

	)

274 
	#AUE_DOORFS_DOOR_INFO
 258

	)

275 
	#AUE_DOORFS_DOOR_CRED
 259

	)

276 
	#AUE_DOORFS_DOOR_BIND
 260

	)

277 
	#AUE_DOORFS_DOOR_UNBIND
 261

	)

278 
	#AUE_P_ONLINE
 262

	)

279 
	#AUE_PROCESSOR_BIND
 263

	)

280 
	#AUE_INST_SYNC
 264

	)

281 
	#AUE_SOCKCONFIG
 265

	)

282 
	#AUE_SETAUDIT_ADDR
 266

	)

283 
	#AUE_GETAUDIT_ADDR
 267

	)

284 
	#AUE_UMOUNT2
 268

	)

285 
	#AUE_FSAT
 269

	)

286 
	#AUE_OPENAT_R
 270

	)

287 
	#AUE_OPENAT_RC
 271

	)

288 
	#AUE_OPENAT_RT
 272

	)

289 
	#AUE_OPENAT_RTC
 273

	)

290 
	#AUE_OPENAT_W
 274

	)

291 
	#AUE_OPENAT_WC
 275

	)

292 
	#AUE_OPENAT_WT
 276

	)

293 
	#AUE_OPENAT_WTC
 277

	)

294 
	#AUE_OPENAT_RW
 278

	)

295 
	#AUE_OPENAT_RWC
 279

	)

296 
	#AUE_OPENAT_RWT
 280

	)

297 
	#AUE_OPENAT_RWTC
 281

	)

298 
	#AUE_RENAMEAT
 282

	)

299 
	#AUE_FSTATAT
 283

	)

300 
	#AUE_FCHOWNAT
 284

	)

301 
	#AUE_FUTIMESAT
 285

	)

302 
	#AUE_UNLINKAT
 286

	)

303 
	#AUE_CLOCK_SETTIME
 287

	)

304 
	#AUE_NTP_ADJTIME
 288

	)

305 
	#AUE_SETPPRIV
 289

	)

306 
	#AUE_MODDEVPLCY
 290

	)

307 
	#AUE_MODADDPRIV
 291

	)

308 
	#AUE_CRYPTOADM
 292

	)

309 
	#AUE_CONFIGKSSL
 293

	)

310 
	#AUE_BRANDSYS
 294

	)

311 
	#AUE_PF_POLICY_ADDRULE
 295

	)

312 
	#AUE_PF_POLICY_DELRULE
 296

	)

313 
	#AUE_PF_POLICY_CLONE
 297

	)

314 
	#AUE_PF_POLICY_FLIP
 298

	)

315 
	#AUE_PF_POLICY_FLUSH
 299

	)

316 
	#AUE_PF_POLICY_ALGS
 300

	)

317 
	#AUE_PORTFS
 301

	)

325 
	#AUE_DARWIN_GETFSSTAT
 301

	)

326 
	#AUE_DARWIN_PTRACE
 302

	)

327 
	#AUE_DARWIN_CHFLAGS
 303

	)

328 
	#AUE_DARWIN_FCHFLAGS
 304

	)

329 
	#AUE_DARWIN_PROFILE
 305

	)

330 
	#AUE_DARWIN_KTRACE
 306

	)

331 
	#AUE_DARWIN_SETLOGIN
 307

	)

332 
	#AUE_DARWIN_REBOOT
 308

	)

333 
	#AUE_DARWIN_REVOKE
 309

	)

334 
	#AUE_DARWIN_UMASK
 310

	)

335 
	#AUE_DARWIN_MPROTECT
 311

	)

336 
	#AUE_DARWIN_SETPRIORITY
 312

	)

337 
	#AUE_DARWIN_SETTIMEOFDAY
 313

	)

338 
	#AUE_DARWIN_FLOCK
 314

	)

339 
	#AUE_DARWIN_MKFIFO
 315

	)

340 
	#AUE_DARWIN_POLL
 316

	)

341 
	#AUE_DARWIN_SOCKETPAIR
 317

	)

342 
	#AUE_DARWIN_FUTIMES
 318

	)

343 
	#AUE_DARWIN_SETSID
 319

	)

344 
	#AUE_DARWIN_SETPRIVEXEC
 320

	)

345 
	#AUE_DARWIN_NFSSVC
 321

	)

346 
	#AUE_DARWIN_GETFH
 322

	)

347 
	#AUE_DARWIN_QUOTACTL
 323

	)

348 
	#AUE_DARWIN_ADDPROFILE
 324

	)

349 
	#AUE_DARWIN_KDEBUGTRACE
 325

	)

350 
	#AUE_DARWIN_KDBUGTRACE
 
AUE_KDEBUGTRACE


	)

351 
	#AUE_DARWIN_FSTAT
 326

	)

352 
	#AUE_DARWIN_FPATHCONF
 327

	)

353 
	#AUE_DARWIN_GETDIRENTRIES
 328

	)

354 
	#AUE_DARWIN_TRUNCATE
 329

	)

355 
	#AUE_DARWIN_FTRUNCATE
 330

	)

356 
	#AUE_DARWIN_SYSCTL
 331

	)

357 
	#AUE_DARWIN_MLOCK
 332

	)

358 
	#AUE_DARWIN_MUNLOCK
 333

	)

359 
	#AUE_DARWIN_UNDELETE
 334

	)

360 
	#AUE_DARWIN_GETATTRLIST
 335

	)

361 
	#AUE_DARWIN_SETATTRLIST
 336

	)

362 
	#AUE_DARWIN_GETDIRENTRIESATTR
 337

	)

363 
	#AUE_DARWIN_EXCHANGEDATA
 338

	)

364 
	#AUE_DARWIN_SEARCHFS
 339

	)

365 
	#AUE_DARWIN_MINHERIT
 340

	)

366 
	#AUE_DARWIN_SEMCONFIG
 341

	)

367 
	#AUE_DARWIN_SEMOPEN
 342

	)

368 
	#AUE_DARWIN_SEMCLOSE
 343

	)

369 
	#AUE_DARWIN_SEMUNLINK
 344

	)

370 
	#AUE_DARWIN_SHMOPEN
 345

	)

371 
	#AUE_DARWIN_SHMUNLINK
 346

	)

372 
	#AUE_DARWIN_LOADSHFILE
 347

	)

373 
	#AUE_DARWIN_RESETSHFILE
 348

	)

374 
	#AUE_DARWIN_NEWSYSTEMSHREG
 349

	)

375 
	#AUE_DARWIN_PTHREADKILL
 350

	)

376 
	#AUE_DARWIN_PTHREADSIGMASK
 351

	)

377 
	#AUE_DARWIN_AUDITCTL
 352

	)

378 
	#AUE_DARWIN_RFORK
 353

	)

379 
	#AUE_DARWIN_LCHMOD
 354

	)

380 
	#AUE_DARWIN_SWAPOFF
 355

	)

381 
	#AUE_DARWIN_INITPROCESS
 356

	)

382 
	#AUE_DARWIN_MAPFD
 357

	)

383 
	#AUE_DARWIN_TASKFORPID
 358

	)

384 
	#AUE_DARWIN_PIDFORTASK
 359

	)

385 
	#AUE_DARWIN_SYSCTL_NONADMIN
 360

	)

386 
	#AUE_DARWIN_COPYFILE
 361

	)

400 
	#AUE_GETFSSTAT
 43001

	)

401 
	#AUE_PTRACE
 43002

	)

402 
	#AUE_CHFLAGS
 43003

	)

403 
	#AUE_FCHFLAGS
 43004

	)

404 
	#AUE_PROFILE
 43005

	)

405 
	#AUE_KTRACE
 43006

	)

406 
	#AUE_SETLOGIN
 43007

	)

407 
	#AUE_OPENBSM_REVOKE
 43008

	)

408 
	#AUE_UMASK
 43009

	)

409 
	#AUE_MPROTECT
 43010

	)

410 
	#AUE_MKFIFO
 43011

	)

411 
	#AUE_POLL
 43012

	)

412 
	#AUE_FUTIMES
 43013

	)

413 
	#AUE_SETSID
 43014

	)

414 
	#AUE_SETPRIVEXEC
 43015

	)

415 
	#AUE_ADDPROFILE
 43016

	)

416 
	#AUE_KDEBUGTRACE
 43017

	)

417 
	#AUE_KDBUGTRACE
 
AUE_KDEBUGTRACE


	)

418 
	#AUE_OPENBSM_FSTAT
 43018

	)

419 
	#AUE_FPATHCONF
 43019

	)

420 
	#AUE_GETDIRENTRIES
 43020

	)

421 
	#AUE_SYSCTL
 43021

	)

422 
	#AUE_MLOCK
 43022

	)

423 
	#AUE_MUNLOCK
 43023

	)

424 
	#AUE_UNDELETE
 43024

	)

425 
	#AUE_GETATTRLIST
 43025

	)

426 
	#AUE_SETATTRLIST
 43026

	)

427 
	#AUE_GETDIRENTRIESATTR
 43027

	)

428 
	#AUE_EXCHANGEDATA
 43028

	)

429 
	#AUE_SEARCHFS
 43029

	)

430 
	#AUE_MINHERIT
 43030

	)

431 
	#AUE_SEMCONFIG
 43031

	)

432 
	#AUE_SEMOPEN
 43032

	)

433 
	#AUE_SEMCLOSE
 43033

	)

434 
	#AUE_SEMUNLINK
 43034

	)

435 
	#AUE_SHMOPEN
 43035

	)

436 
	#AUE_SHMUNLINK
 43036

	)

437 
	#AUE_LOADSHFILE
 43037

	)

438 
	#AUE_RESETSHFILE
 43038

	)

439 
	#AUE_NEWSYSTEMSHREG
 43039

	)

440 
	#AUE_PTHREADKILL
 43040

	)

441 
	#AUE_PTHREADSIGMASK
 43041

	)

442 
	#AUE_AUDITCTL
 43042

	)

443 
	#AUE_RFORK
 43043

	)

444 
	#AUE_LCHMOD
 43044

	)

445 
	#AUE_SWAPOFF
 43045

	)

446 
	#AUE_INITPROCESS
 43046

	)

447 
	#AUE_MAPFD
 43047

	)

448 
	#AUE_TASKFORPID
 43048

	)

449 
	#AUE_PIDFORTASK
 43049

	)

450 
	#AUE_SYSCTL_NONADMIN
 43050

	)

451 
	#AUE_COPYFILE
 43051

	)

457 
	#AUE_LUTIMES
 43052

	)

458 
	#AUE_LCHFLAGS
 43053

	)

459 
	#AUE_SENDFILE
 43054

	)

460 
	#AUE_USELIB
 43055

	)

461 
	#AUE_GETRESUID
 43056

	)

462 
	#AUE_SETRESUID
 43057

	)

463 
	#AUE_GETRESGID
 43058

	)

464 
	#AUE_SETRESGID
 43059

	)

465 
	#AUE_WAIT4
 43060

	)

466 
	#AUE_LGETFH
 43061

	)

467 
	#AUE_FHSTATFS
 43062

	)

468 
	#AUE_FHOPEN
 43063

	)

469 
	#AUE_FHSTAT
 43064

	)

470 
	#AUE_JAIL
 43065

	)

471 
	#AUE_EACCESS
 43066

	)

472 
	#AUE_KQUEUE
 43067

	)

473 
	#AUE_KEVENT
 43068

	)

474 
	#AUE_FSYNC
 43069

	)

475 
	#AUE_NMOUNT
 43070

	)

476 
	#AUE_BDFLUSH
 43071

	)

477 
	#AUE_SETFSUID
 43072

	)

478 
	#AUE_SETFSGID
 43073

	)

479 
	#AUE_PERSONALITY
 43074

	)

480 
	#AUE_SCHED_GETSCHEDULER
 43075

	)

481 
	#AUE_SCHED_SETSCHEDULER
 43076

	)

482 
	#AUE_PRCTL
 43077

	)

483 
	#AUE_GETCWD
 43078

	)

484 
	#AUE_CAPGET
 43079

	)

485 
	#AUE_CAPSET
 43080

	)

486 
	#AUE_PIVOT_ROOT
 43081

	)

487 
	#AUE_RTPRIO
 43082

	)

488 
	#AUE_SCHED_GETPARAM
 43083

	)

489 
	#AUE_SCHED_SETPARAM
 43084

	)

490 
	#AUE_SCHED_GET_PRIORITY_MAX
 43085

	)

491 
	#AUE_SCHED_GET_PRIORITY_MIN
 43086

	)

492 
	#AUE_SCHED_RR_GET_INTERVAL
 43087

	)

493 
	#AUE_ACL_GET_FILE
 43088

	)

494 
	#AUE_ACL_SET_FILE
 43089

	)

495 
	#AUE_ACL_GET_FD
 43090

	)

496 
	#AUE_ACL_SET_FD
 43091

	)

497 
	#AUE_ACL_DELETE_FILE
 43092

	)

498 
	#AUE_ACL_DELETE_FD
 43093

	)

499 
	#AUE_ACL_CHECK_FILE
 43094

	)

500 
	#AUE_ACL_CHECK_FD
 43095

	)

501 
	#AUE_ACL_GET_LINK
 43096

	)

502 
	#AUE_ACL_SET_LINK
 43097

	)

503 
	#AUE_ACL_DELETE_LINK
 43098

	)

504 
	#AUE_ACL_CHECK_LINK
 43099

	)

505 
	#AUE_SYSARCH
 43100

	)

506 
	#AUE_EXTATTRCTL
 43101

	)

507 
	#AUE_EXTATTR_GET_FILE
 43102

	)

508 
	#AUE_EXTATTR_SET_FILE
 43103

	)

509 
	#AUE_EXTATTR_LIST_FILE
 43104

	)

510 
	#AUE_EXTATTR_DELETE_FILE
 43105

	)

511 
	#AUE_EXTATTR_GET_FD
 43106

	)

512 
	#AUE_EXTATTR_SET_FD
 43107

	)

513 
	#AUE_EXTATTR_LIST_FD
 43108

	)

514 
	#AUE_EXTATTR_DELETE_FD
 43109

	)

515 
	#AUE_EXTATTR_GET_LINK
 43110

	)

516 
	#AUE_EXTATTR_SET_LINK
 43111

	)

517 
	#AUE_EXTATTR_LIST_LINK
 43112

	)

518 
	#AUE_EXTATTR_DELETE_LINK
 43113

	)

519 
	#AUE_KENV
 43114

	)

520 
	#AUE_JAIL_ATTACH
 43115

	)

521 
	#AUE_SYSCTL_WRITE
 43116

	)

522 
	#AUE_IOPERM
 43117

	)

523 
	#AUE_READDIR
 43118

	)

524 
	#AUE_IOPL
 43119

	)

525 
	#AUE_VM86
 43120

	)

526 
	#AUE_MAC_GET_PROC
 43121

	)

527 
	#AUE_MAC_SET_PROC
 43122

	)

528 
	#AUE_MAC_GET_FD
 43123

	)

529 
	#AUE_MAC_GET_FILE
 43124

	)

530 
	#AUE_MAC_SET_FD
 43125

	)

531 
	#AUE_MAC_SET_FILE
 43126

	)

532 
	#AUE_MAC_SYSCALL
 43127

	)

533 
	#AUE_MAC_GET_PID
 43128

	)

534 
	#AUE_MAC_GET_LINK
 43129

	)

535 
	#AUE_MAC_SET_LINK
 43130

	)

536 
	#AUE_MAC_EXECVE
 43131

	)

537 
	#AUE_GETPATH_FROMFD
 43132

	)

538 
	#AUE_GETPATH_FROMADDR
 43133

	)

539 
	#AUE_MQ_OPEN
 43134

	)

540 
	#AUE_MQ_SETATTR
 43135

	)

541 
	#AUE_MQ_TIMEDRECEIVE
 43136

	)

542 
	#AUE_MQ_TIMEDSEND
 43137

	)

543 
	#AUE_MQ_NOTIFY
 43138

	)

544 
	#AUE_MQ_UNLINK
 43139

	)

545 
	#AUE_LISTEN
 43140

	)

546 
	#AUE_MLOCKALL
 43141

	)

547 
	#AUE_MUNLOCKALL
 43142

	)

548 
	#AUE_CLOSEFROM
 43143

	)

549 
	#AUE_FEXECVE
 43144

	)

550 
	#AUE_FACCESSAT
 43145

	)

551 
	#AUE_FCHMODAT
 43146

	)

552 
	#AUE_LINKAT
 43147

	)

553 
	#AUE_MKDIRAT
 43148

	)

554 
	#AUE_MKFIFOAT
 43149

	)

555 
	#AUE_MKNODAT
 43150

	)

556 
	#AUE_READLINKAT
 43151

	)

557 
	#AUE_SYMLINKAT
 43152

	)

558 
	#AUE_MAC_GETFSSTAT
 43153

	)

559 
	#AUE_MAC_GET_MOUNT
 43154

	)

560 
	#AUE_MAC_GET_LCID
 43155

	)

561 
	#AUE_MAC_GET_LCTX
 43156

	)

562 
	#AUE_MAC_SET_LCTX
 43157

	)

563 
	#AUE_MAC_MOUNT
 43158

	)

564 
	#AUE_GETLCID
 43159

	)

565 
	#AUE_SETLCID
 43160

	)

566 
	#AUE_TASKNAMEFORPID
 43161

	)

567 
	#AUE_ACCESS_EXTENDED
 43162

	)

568 
	#AUE_CHMOD_EXTENDED
 43163

	)

569 
	#AUE_FCHMOD_EXTENDED
 43164

	)

570 
	#AUE_FSTAT_EXTENDED
 43165

	)

571 
	#AUE_LSTAT_EXTENDED
 43166

	)

572 
	#AUE_MKDIR_EXTENDED
 43167

	)

573 
	#AUE_MKFIFO_EXTENDED
 43168

	)

574 
	#AUE_OPEN_EXTENDED
 43169

	)

575 
	#AUE_OPEN_EXTENDED_R
 43170

	)

576 
	#AUE_OPEN_EXTENDED_RC
 43171

	)

577 
	#AUE_OPEN_EXTENDED_RT
 43172

	)

578 
	#AUE_OPEN_EXTENDED_RTC
 43173

	)

579 
	#AUE_OPEN_EXTENDED_W
 43174

	)

580 
	#AUE_OPEN_EXTENDED_WC
 43175

	)

581 
	#AUE_OPEN_EXTENDED_WT
 43176

	)

582 
	#AUE_OPEN_EXTENDED_WTC
 43177

	)

583 
	#AUE_OPEN_EXTENDED_RW
 43178

	)

584 
	#AUE_OPEN_EXTENDED_RWC
 43179

	)

585 
	#AUE_OPEN_EXTENDED_RWT
 43180

	)

586 
	#AUE_OPEN_EXTENDED_RWTC
 43181

	)

587 
	#AUE_STAT_EXTENDED
 43182

	)

588 
	#AUE_UMASK_EXTENDED
 43183

	)

589 
	#AUE_OPENAT
 43184

	)

590 
	#AUE_POSIX_OPENPT
 43185

	)

591 
	#AUE_CAP_NEW
 43186

	)

592 
	#AUE_CAP_RIGHTS_GET
 43187

	)

593 
	#AUE_CAP_GETRIGHTS
 
AUE_CAP_RIGHTS_GET


	)

594 
	#AUE_CAP_ENTER
 43188

	)

595 
	#AUE_CAP_GETMODE
 43189

	)

596 
	#AUE_POSIX_SPAWN
 43190

	)

597 
	#AUE_FSGETPATH
 43191

	)

598 
	#AUE_PREAD
 43192

	)

599 
	#AUE_PWRITE
 43193

	)

600 
	#AUE_FSCTL
 43194

	)

601 
	#AUE_FFSCTL
 43195

	)

602 
	#AUE_LPATHCONF
 43196

	)

603 
	#AUE_PDFORK
 43197

	)

604 
	#AUE_PDKILL
 43198

	)

605 
	#AUE_PDGETPID
 43199

	)

606 
	#AUE_PDWAIT
 43200

	)

607 
	#AUE_WAIT6
 43201

	)

608 
	#AUE_CAP_RIGHTS_LIMIT
 43202

	)

609 
	#AUE_CAP_IOCTLS_LIMIT
 43203

	)

610 
	#AUE_CAP_IOCTLS_GET
 43204

	)

611 
	#AUE_CAP_FCNTLS_LIMIT
 43205

	)

612 
	#AUE_CAP_FCNTLS_GET
 43206

	)

613 
	#AUE_BINDAT
 43207

	)

614 
	#AUE_CONNECTAT
 43208

	)

615 
	#AUE_CHFLAGSAT
 43209

	)

616 
	#AUE_PREADV
 43210

	)

617 
	#AUE_PWRITEV
 43211

	)

618 
	#AUE_POSIX_FALLOCATE
 43212

	)

619 
	#AUE_AIO_MLOCK
 43213

	)

620 
	#AUE_PROCCTL
 43214

	)

621 
	#AUE_AIO_READ
 43215

	)

622 
	#AUE_AIO_WRITE
 43216

	)

623 
	#AUE_AIO_RETURN
 43217

	)

624 
	#AUE_AIO_SUSPEND
 43218

	)

625 
	#AUE_AIO_CANCEL
 43219

	)

626 
	#AUE_AIO_ERROR
 43220

	)

627 
	#AUE_AIO_WAITCOMPLETE
 43221

	)

628 
	#AUE_AIO_FSYNC
 43222

	)

629 
	#AUE_THR_CREATE
 43223

	)

630 
	#AUE_THR_NEW
 43224

	)

631 
	#AUE_THR_EXIT
 43225

	)

632 
	#AUE_THR_KILL
 43226

	)

633 
	#AUE_THR_KILL2
 43227

	)

634 
	#AUE_SETFIB
 43228

	)

635 
	#AUE_LIO_LISTIO
 43229

	)

636 
	#AUE_SETUGID
 43230

	)

637 
	#AUE_SCTP_PEELOFF
 43231

	)

638 
	#AUE_SCTP_GENERIC_SENDMSG
 43232

	)

639 
	#AUE_SCTP_GENERIC_RECVMSG
 43233

	)

640 
	#AUE_JAIL_GET
 43234

	)

641 
	#AUE_JAIL_SET
 43235

	)

642 
	#AUE_JAIL_REMOVE
 43236

	)

643 
	#AUE_GETLOGINCLASS
 43237

	)

644 
	#AUE_SETLOGINCLASS
 43238

	)

645 
	#AUE_POSIX_FADVISE
 43239

	)

646 
	#AUE_SCTP_GENERIC_SENDMSG_IOV
 43240

	)

656 
	#AUE_O_CREAT
 
AUE_OPEN_RWTC


	)

657 
	#AUE_O_EXECVE
 
AUE_NULL


	)

658 
	#AUE_O_SBREAK
 
AUE_NULL


	)

659 
	#AUE_O_LSEEK
 
AUE_NULL


	)

660 
	#AUE_O_MOUNT
 
AUE_NULL


	)

661 
	#AUE_O_UMOUNT
 
AUE_NULL


	)

662 
	#AUE_O_STAT
 
AUE_STAT


	)

663 
	#AUE_O_LSTAT
 
AUE_LSTAT


	)

664 
	#AUE_O_FSTAT
 
AUE_FSTAT


	)

665 
	#AUE_O_GETPAGESIZE
 
AUE_NULL


	)

666 
	#AUE_O_VREAD
 
AUE_NULL


	)

667 
	#AUE_O_VWRITE
 
AUE_NULL


	)

668 
	#AUE_O_MMAP
 
AUE_MMAP


	)

669 
	#AUE_O_VADVISE
 
AUE_NULL


	)

670 
	#AUE_O_VHANGUP
 
AUE_NULL


	)

671 
	#AUE_O_VLIMIT
 
AUE_NULL


	)

672 
	#AUE_O_WAIT
 
AUE_NULL


	)

673 
	#AUE_O_GETHOSTNAME
 
AUE_NULL


	)

674 
	#AUE_O_SETHOSTNAME
 
AUE_SYSCTL


	)

675 
	#AUE_O_GETDOPT
 
AUE_NULL


	)

676 
	#AUE_O_SETDOPT
 
AUE_NULL


	)

677 
	#AUE_O_ACCEPT
 
AUE_NULL


	)

678 
	#AUE_O_SEND
 
AUE_SENDMSG


	)

679 
	#AUE_O_RECV
 
AUE_RECVMSG


	)

680 
	#AUE_O_VTIMES
 
AUE_NULL


	)

681 
	#AUE_O_SIGVEC
 
AUE_NULL


	)

682 
	#AUE_O_SIGBLOCK
 
AUE_NULL


	)

683 
	#AUE_O_SIGSETMASK
 
AUE_NULL


	)

684 
	#AUE_O_SIGSTACK
 
AUE_NULL


	)

685 
	#AUE_O_RECVMSG
 
AUE_RECVMSG


	)

686 
	#AUE_O_SENDMSG
 
AUE_SENDMSG


	)

687 
	#AUE_O_VTRACE
 
AUE_NULL


	)

688 
	#AUE_O_RESUBA
 
AUE_NULL


	)

689 
	#AUE_O_RECVFROM
 
AUE_RECVFROM


	)

690 
	#AUE_O_SETREUID
 
AUE_SETREUID


	)

691 
	#AUE_O_SETREGID
 
AUE_SETREGID


	)

692 
	#AUE_O_GETDIRENTRIES
 
AUE_GETDIRENTRIES


	)

693 
	#AUE_O_TRUNCATE
 
AUE_TRUNCATE


	)

694 
	#AUE_O_FTRUNCATE
 
AUE_FTRUNCATE


	)

695 
	#AUE_O_GETPEERNAME
 
AUE_NULL


	)

696 
	#AUE_O_GETHOSTID
 
AUE_NULL


	)

697 
	#AUE_O_SETHOSTID
 
AUE_NULL


	)

698 
	#AUE_O_GETRLIMIT
 
AUE_NULL


	)

699 
	#AUE_O_SETRLIMIT
 
AUE_SETRLIMIT


	)

700 
	#AUE_O_KILLPG
 
AUE_KILL


	)

701 
	#AUE_O_SETQUOTA
 
AUE_NULL


	)

702 
	#AUE_O_QUOTA
 
AUE_NULL


	)

703 
	#AUE_O_GETSOCKNAME
 
AUE_NULL


	)

704 
	#AUE_O_GETDIREENTRIES
 
AUE_GETDIREENTRIES


	)

705 
	#AUE_O_ASYNCDAEMON
 
AUE_NULL


	)

706 
	#AUE_O_GETDOMAINNAME
 
AUE_NULL


	)

707 
	#AUE_O_SETDOMAINNAME
 
AUE_SYSCTL


	)

708 
	#AUE_O_PCFS_MOUNT
 
AUE_NULL


	)

709 
	#AUE_O_EXPORTFS
 
AUE_NULL


	)

710 
	#AUE_O_USTATE
 
AUE_NULL


	)

711 
	#AUE_O_WAIT3
 
AUE_NULL


	)

712 
	#AUE_O_RPAUSE
 
AUE_NULL


	)

713 
	#AUE_O_GETDENTS
 
AUE_NULL


	)

718 
	#AUE_ATGETMSG
 
AUE_NULL


	)

719 
	#AUE_ATPUTMSG
 
AUE_NULL


	)

720 
	#AUE_ATSOCKET
 
AUE_NULL


	)

721 
	#AUE_ATPGETREQ
 
AUE_NULL


	)

722 
	#AUE_ATPGETRSP
 
AUE_NULL


	)

723 
	#AUE_ATPSNDREQ
 
AUE_NULL


	)

724 
	#AUE_ATPSNDRSP
 
AUE_NULL


	)

725 
	#AUE_BSDTHREADCREATE
 
AUE_NULL


	)

726 
	#AUE_BSDTHREADTERMINATE
 
AUE_NULL


	)

727 
	#AUE_BSDTHREADREGISTER
 
AUE_NULL


	)

728 
	#AUE_CHUD
 
AUE_NULL


	)

729 
	#AUE_CSOPS
 
AUE_NULL


	)

730 
	#AUE_DUP
 
AUE_NULL


	)

731 
	#AUE_FDATASYNC
 
AUE_NULL


	)

732 
	#AUE_FGETATTRLIST
 
AUE_NULL


	)

733 
	#AUE_FGETXATTR
 
AUE_NULL


	)

734 
	#AUE_FLISTXATTR
 
AUE_NULL


	)

735 
	#AUE_FREMOVEXATTR
 
AUE_NULL


	)

736 
	#AUE_FSETATTRLIST
 
AUE_NULL


	)

737 
	#AUE_FSETXATTR
 
AUE_NULL


	)

738 
	#AUE_FSTATFS64
 
AUE_NULL


	)

739 
	#AUE_FSTATV
 
AUE_NULL


	)

740 
	#AUE_FSTAT64
 
AUE_NULL


	)

741 
	#AUE_FSTAT64_EXTENDED
 
AUE_NULL


	)

742 
	#AUE_GCCONTROL
 
AUE_NULL


	)

743 
	#AUE_GETDIRENTRIES64
 
AUE_NULL


	)

744 
	#AUE_GETDTABLESIZE
 
AUE_NULL


	)

745 
	#AUE_GETEGID
 
AUE_NULL


	)

746 
	#AUE_GETEUID
 
AUE_NULL


	)

747 
	#AUE_GETFSSTAT64
 
AUE_NULL


	)

748 
	#AUE_GETGID
 
AUE_NULL


	)

749 
	#AUE_GETGROUPS
 
AUE_NULL


	)

750 
	#AUE_GETITIMER
 
AUE_NULL


	)

751 
	#AUE_GETLOGIN
 
AUE_NULL


	)

752 
	#AUE_GETPEERNAME
 
AUE_NULL


	)

753 
	#AUE_GETPGID
 
AUE_NULL


	)

754 
	#AUE_GETPGRP
 
AUE_NULL


	)

755 
	#AUE_GETPID
 
AUE_NULL


	)

756 
	#AUE_GETPPID
 
AUE_NULL


	)

757 
	#AUE_GETPRIORITY
 
AUE_NULL


	)

758 
	#AUE_GETRLIMIT
 
AUE_NULL


	)

759 
	#AUE_GETRUSAGE
 
AUE_NULL


	)

760 
	#AUE_GETSGROUPS
 
AUE_NULL


	)

761 
	#AUE_GETSID
 
AUE_NULL


	)

762 
	#AUE_GETSOCKNAME
 
AUE_NULL


	)

763 
	#AUE_GETTIMEOFDAY
 
AUE_NULL


	)

764 
	#AUE_GETTID
 
AUE_NULL


	)

765 
	#AUE_GETUID
 
AUE_NULL


	)

766 
	#AUE_GETSOCKOPT
 
AUE_NULL


	)

767 
	#AUE_GETWGROUPS
 
AUE_NULL


	)

768 
	#AUE_GETXATTR
 
AUE_NULL


	)

769 
	#AUE_IDENTITYSVC
 
AUE_NULL


	)

770 
	#AUE_INITGROUPS
 
AUE_NULL


	)

771 
	#AUE_IOPOLICYSYS
 
AUE_NULL


	)

772 
	#AUE_ISSETUGID
 
AUE_NULL


	)

773 
	#AUE_LIOLISTIO
 
AUE_NULL


	)

774 
	#AUE_LISTXATTR
 
AUE_NULL


	)

775 
	#AUE_LSTATV
 
AUE_NULL


	)

776 
	#AUE_LSTAT64
 
AUE_NULL


	)

777 
	#AUE_LSTAT64_EXTENDED
 
AUE_NULL


	)

778 
	#AUE_MADVISE
 
AUE_NULL


	)

779 
	#AUE_MINCORE
 
AUE_NULL


	)

780 
	#AUE_MKCOMPLEX
 
AUE_NULL


	)

781 
	#AUE_MODWATCH
 
AUE_NULL


	)

782 
	#AUE_MSGCL
 
AUE_NULL


	)

783 
	#AUE_MSYNC
 
AUE_NULL


	)

784 
	#AUE_PROCINFO
 
AUE_NULL


	)

785 
	#AUE_PTHREADCANCELED
 
AUE_NULL


	)

786 
	#AUE_PTHREADCHDIR
 
AUE_NULL


	)

787 
	#AUE_PTHREADCONDBROADCAST
 
AUE_NULL


	)

788 
	#AUE_PTHREADCONDDESTORY
 
AUE_NULL


	)

789 
	#AUE_PTHREADCONDINIT
 
AUE_NULL


	)

790 
	#AUE_PTHREADCONDSIGNAL
 
AUE_NULL


	)

791 
	#AUE_PTHREADCONDWAIT
 
AUE_NULL


	)

792 
	#AUE_PTHREADFCHDIR
 
AUE_NULL


	)

793 
	#AUE_PTHREADMARK
 
AUE_NULL


	)

794 
	#AUE_PTHREADMUTEXDESTROY
 
AUE_NULL


	)

795 
	#AUE_PTHREADMUTEXINIT
 
AUE_NULL


	)

796 
	#AUE_PTHREADMUTEXTRYLOCK
 
AUE_NULL


	)

797 
	#AUE_PTHREADMUTEXUNLOCK
 
AUE_NULL


	)

798 
	#AUE_REMOVEXATTR
 
AUE_NULL


	)

799 
	#AUE_SBRK
 
AUE_NULL


	)

800 
	#AUE_SELECT
 
AUE_NULL


	)

801 
	#AUE_SEMDESTROY
 
AUE_NULL


	)

802 
	#AUE_SEMGETVALUE
 
AUE_NULL


	)

803 
	#AUE_SEMINIT
 
AUE_NULL


	)

804 
	#AUE_SEMPOST
 
AUE_NULL


	)

805 
	#AUE_SEMTRYWAIT
 
AUE_NULL


	)

806 
	#AUE_SEMWAIT
 
AUE_NULL


	)

807 
	#AUE_SEMWAITSIGNAL
 
AUE_NULL


	)

808 
	#AUE_SETITIMER
 
AUE_NULL


	)

809 
	#AUE_SETSGROUPS
 
AUE_NULL


	)

810 
	#AUE_SETTID
 
AUE_NULL


	)

811 
	#AUE_SETTIDWITHPID
 
AUE_NULL


	)

812 
	#AUE_SETWGROUPS
 
AUE_NULL


	)

813 
	#AUE_SETXATTR
 
AUE_NULL


	)

814 
	#AUE_SHAREDREGIONCHECK
 
AUE_NULL


	)

815 
	#AUE_SHAREDREGIONMAP
 
AUE_NULL


	)

816 
	#AUE_SIGACTION
 
AUE_NULL


	)

817 
	#AUE_SIGALTSTACK
 
AUE_NULL


	)

818 
	#AUE_SIGPENDING
 
AUE_NULL


	)

819 
	#AUE_SIGPROCMASK
 
AUE_NULL


	)

820 
	#AUE_SIGRETURN
 
AUE_NULL


	)

821 
	#AUE_SIGSUSPEND
 
AUE_NULL


	)

822 
	#AUE_SIGWAIT
 
AUE_NULL


	)

823 
	#AUE_SSTK
 
AUE_NULL


	)

824 
	#AUE_STACKSNAPSHOT
 
AUE_NULL


	)

825 
	#AUE_STATFS64
 
AUE_NULL


	)

826 
	#AUE_STATV
 
AUE_NULL


	)

827 
	#AUE_STAT64
 
AUE_NULL


	)

828 
	#AUE_STAT64_EXTENDED
 
AUE_NULL


	)

829 
	#AUE_SYNC
 
AUE_NULL


	)

830 
	#AUE_SYSCALL
 
AUE_NULL


	)

831 
	#AUE_TABLE
 
AUE_NULL


	)

832 
	#AUE_VMPRESSUREMONITOR
 
AUE_NULL


	)

833 
	#AUE_WAITEVENT
 
AUE_NULL


	)

834 
	#AUE_WAITID
 
AUE_NULL


	)

835 
	#AUE_WATCHEVENT
 
AUE_NULL


	)

836 
	#AUE_WORKQOPEN
 
AUE_NULL


	)

837 
	#AUE_WORKQOPS
 
AUE_NULL


	)

	@/usr/include/machine/atomic.h

30 #iâdeà
_MACHINE_ATOMIC_H_


31 
	#_MACHINE_ATOMIC_H_


	)

33 #iâdeà
_SYS_CDEFS_H_


34 #”rÜ 
this
 
fže
 
Ãeds
 
sys
/
cdefs
.
h
 
as
 
a
 
´”equis™e


56 
	#mb
(è
__asm
 
	`__vÞ©že
("mãnû;" : : : "memÜy")

	)

57 
	#wmb
(è
__asm
 
	`__vÞ©že
("sãnû;" : : : "memÜy")

	)

58 
	#rmb
(è
__asm
 
	`__vÞ©že
("lãnû;" : : : "memÜy")

	)

60 
	~<sys/©omic_commÚ.h
>

99 #ià!
defšed
(
__GNUCLIKE_ASM
)

100 
	#ATOMIC_ASM
(
NAME
, 
TYPE
, 
OP
, 
CONS
, 
V
) \

101 
©omic_
##
NAME
##
_
##
	`TYPE
(vÞ©ž
u_
##
TYPE
 *
p
, u_##TYPE 
v
); \

102 
©omic_
##
NAME
##
_b¬r_
##
	`TYPE
(vÞ©ž
u_
##
TYPE
 *
p
, u_##TYPE 
v
)

	)

104 
©omic_cmp£t_ch¬
(vÞ©ž
u_ch¬
 *
d¡
, u_ch¬ 
ex³ù
, u_ch¬ 
¤c
);

105 
©omic_cmp£t_shÜt
(vÞ©ž
u_shÜt
 *
d¡
, u_shÜˆ
ex³ù
, u_shÜˆ
¤c
);

106 
©omic_cmp£t_št
(vÞ©ž
u_št
 *
d¡
, u_šˆ
ex³ù
, u_šˆ
¤c
);

107 
©omic_cmp£t_lÚg
(vÞ©ž
u_lÚg
 *
d¡
, u_lÚg 
ex³ù
, u_lÚg 
¤c
);

108 
©omic_fcmp£t_ch¬
(vÞ©ž
u_ch¬
 *
d¡
, u_ch¬ *
ex³ù
, u_ch¬ 
¤c
);

109 
©omic_fcmp£t_shÜt
(vÞ©ž
u_shÜt
 *
d¡
, u_shÜˆ*
ex³ù
,

110 
u_shÜt
 
¤c
);

111 
©omic_fcmp£t_št
(vÞ©ž
u_št
 *
d¡
, u_šˆ*
ex³ù
, u_šˆ
¤c
);

112 
©omic_fcmp£t_lÚg
(vÞ©ž
u_lÚg
 *
d¡
, u_lÚg *
ex³ù
, u_lÚg 
¤c
);

113 
u_št
 
©omic_ãtchadd_št
(vÞ©žu_šˆ*
p
, u_šˆ
v
);

114 
u_lÚg
 
©omic_ãtchadd_lÚg
(vÞ©žu_lÚg *
p
, u_lÚg 
v
);

115 
©omic_‹¡ªd£t_št
(vÞ©ž
u_št
 *
p
, u_šˆ
v
);

116 
©omic_‹¡ªd£t_lÚg
(vÞ©ž
u_lÚg
 *
p
, 
u_št
 
v
);

117 
©omic_‹¡ªdþ—r_št
(vÞ©ž
u_št
 *
p
, u_šˆ
v
);

118 
©omic_‹¡ªdþ—r_lÚg
(vÞ©ž
u_lÚg
 *
p
, 
u_št
 
v
);

119 
©omic_th»ad_ãnû_acq
();

120 
©omic_th»ad_ãnû_acq_»l
();

121 
©omic_th»ad_ãnû_»l
();

122 
©omic_th»ad_ãnû_£q_c¡
();

124 
	#ATOMIC_LOAD
(
TYPE
) \

125 
u_
##
TYPE
 
©omic_lßd_acq_
##
	`TYPE
(vÞ©žu_##TYPE *
p
)

	)

126 
	#ATOMIC_STORE
(
TYPE
) \

127 
©omic_¡Üe_»l_
##
	`TYPE
(vÞ©ž
u_
##
TYPE
 *
p
, u_##TYPE 
v
)

	)

135 #ià
defšed
(
SMP
è|| !defšed(
_KERNEL
è|| defšed(
KLD_MODULE
)

136 
	#MPLOCKED
 "lock ; "

	)

138 
	#MPLOCKED


	)

146 
	#ATOMIC_ASM
(
NAME
, 
TYPE
, 
OP
, 
CONS
, 
V
) \

147 
__šlše
 \

148 
©omic_
##
NAME
##
_
##
	`TYPE
(vÞ©ž
u_
##
TYPE
 *
p
, u_##TYPE 
v
)\

150 
__asm
 
	`__vÞ©že
(
MPLOCKED
 
OP
 \

151 : "+m" (*
p
) \

152 : 
	`CONS
 (
V
) \

156 
__šlše
 \

157 
©omic_
##
NAME
##
_b¬r_
##
	`TYPE
(vÞ©ž
u_
##
TYPE
 *
p
, u_##TYPE 
v
)\

159 
__asm
 
	`__vÞ©že
(
MPLOCKED
 
OP
 \

160 : "+m" (*
p
) \

161 : 
	`CONS
 (
V
) \

164 
__hack


	)

181 
	#ATOMIC_CMPSET
(
TYPE
) \

182 
__šlše
 \

183 
©omic_cmp£t_
##
	`TYPE
(vÞ©ž
u_
##
TYPE
 *
d¡
, u_##TYPE 
ex³ù
, u_##TYPE 
¤c
) \

185 
u_ch¬
 
»s
; \

187 
__asm
 
	`__vÞ©že
( \

188 " " 
MPLOCKED
 " " \

192 : "=q" (
»s
), \

193 "+m" (*
d¡
), \

194 "+a" (
ex³ù
) \

195 : "r" (
¤c
) \

197  (
»s
); \

200 
__šlše
 \

201 
©omic_fcmp£t_
##
	`TYPE
(vÞ©ž
u_
##
TYPE
 *
d¡
, u_##TYPE *
ex³ù
, u_##TYPE 
¤c
) \

203 
u_ch¬
 
»s
; \

205 
__asm
 
	`__vÞ©že
( \

206 " " 
MPLOCKED
 " " \

210 : "=q" (
»s
), \

211 "+m" (*
d¡
), \

212 "+a" (*
ex³ù
) \

213 : "r" (
¤c
) \

215  (
»s
); \

216 }

	)

218 
ATOMIC_CMPSET
();

219 
ATOMIC_CMPSET
();

220 
ATOMIC_CMPSET
();

221 
ATOMIC_CMPSET
();

227 
__šlše
 
u_št


228 
	$©omic_ãtchadd_št
(vÞ©ž
u_št
 *
p
, u_šˆ
v
)

231 
__asm
 
	`__vÞ©že
(

232 " " 
MPLOCKED
 " "

235 : "+r" (
v
),

236 "+m" (*
p
)

238  (
v
);

239 
	}
}

245 
__šlše
 
u_lÚg


246 
	$©omic_ãtchadd_lÚg
(vÞ©ž
u_lÚg
 *
p
, u_lÚg 
v
)

249 
__asm
 
	`__vÞ©že
(

250 " " 
MPLOCKED
 " "

253 : "+r" (
v
),

254 "+m" (*
p
)

256  (
v
);

257 
	}
}

259 
__šlše
 

260 
	$©omic_‹¡ªd£t_št
(vÞ©ž
u_št
 *
p
, u_šˆ
v
)

262 
u_ch¬
 
»s
;

264 
__asm
 
	`__vÞ©že
(

265 " " 
MPLOCKED
 " "

269 : "=q" (
»s
),

270 "+m" (*
p
)

271 : "Ir" (
v
 & 0x1f)

273  (
»s
);

274 
	}
}

276 
__šlše
 

277 
	$©omic_‹¡ªd£t_lÚg
(vÞ©ž
u_lÚg
 *
p
, 
u_št
 
v
)

279 
u_ch¬
 
»s
;

281 
__asm
 
	`__vÞ©že
(

282 " " 
MPLOCKED
 " "

286 : "=q" (
»s
),

287 "+m" (*
p
)

288 : "Jr" ((
u_lÚg
)(
v
 & 0x3f))

290  (
»s
);

291 
	}
}

293 
__šlše
 

294 
	$©omic_‹¡ªdþ—r_št
(vÞ©ž
u_št
 *
p
, u_šˆ
v
)

296 
u_ch¬
 
»s
;

298 
__asm
 
	`__vÞ©že
(

299 " " 
MPLOCKED
 " "

303 : "=q" (
»s
),

304 "+m" (*
p
)

305 : "Ir" (
v
 & 0x1f)

307  (
»s
);

308 
	}
}

310 
__šlše
 

311 
	$©omic_‹¡ªdþ—r_lÚg
(vÞ©ž
u_lÚg
 *
p
, 
u_št
 
v
)

313 
u_ch¬
 
»s
;

315 
__asm
 
	`__vÞ©že
(

316 " " 
MPLOCKED
 " "

320 : "=q" (
»s
),

321 "+m" (*
p
)

322 : "Jr" ((
u_lÚg
)(
v
 & 0x3f))

324  (
»s
);

325 
	}
}

346 #ià
defšed
(
_KERNEL
)

355 
	#OFFSETOF_MONITORBUF
 0x100

	)

357 #ià
defšed
(
SMP
è|| defšed(
KLD_MODULE
)

358 
__šlše
 

359 
	$__¡Ü–ßd_b¬r›r
()

362 
__asm
 
	`__vÞ©že
("lock;‡ddl $0,%%gs:%0"

363 : "+m" (*(
u_št
 *)
OFFSETOF_MONITORBUF
) : : "memory", "cc");

364 
	}
}

366 
__šlše
 

367 
	$__¡Ü–ßd_b¬r›r
()

370 
	`__compž”_memb¬
();

371 
	}
}

374 
__šlše
 

375 
	$__¡Ü–ßd_b¬r›r
()

378 
__asm
 
	`__vÞ©že
("lock;‡ddl $0,-8(%%rsp)" : : : "memory", "cc");

379 
	}
}

382 
	#ATOMIC_LOAD
(
TYPE
) \

383 
__šlše
 
u_
##
TYPE
 \

384 
©omic_lßd_acq_
##
	`TYPE
(vÞ©ž
u_
##
TYPE
 *
p
) \

386 
u_
##
TYPE
 
»s
; \

388 
»s
 = *
p
; \

389 
	`__compž”_memb¬
(); \

390  (
»s
); \

392 
__hack


	)

394 
	#ATOMIC_STORE
(
TYPE
) \

395 
__šlše
 \

396 
©omic_¡Üe_»l_
##
	`TYPE
(vÞ©ž
u_
##
TYPE
 *
p
, u_##TYPE 
v
) \

399 
	`__compž”_memb¬
(); \

400 *
p
 = 
v
; \

402 
__hack


	)

404 
__šlše
 

405 
	$©omic_th»ad_ãnû_acq
()

408 
	`__compž”_memb¬
();

409 
	}
}

411 
__šlše
 

412 
	$©omic_th»ad_ãnû_»l
()

415 
	`__compž”_memb¬
();

416 
	}
}

418 
__šlše
 

419 
	$©omic_th»ad_ãnû_acq_»l
()

422 
	`__compž”_memb¬
();

423 
	}
}

425 
__šlše
 

426 
	$©omic_th»ad_ãnû_£q_c¡
()

429 
	`__¡Ü–ßd_b¬r›r
();

430 
	}
}

434 
ATOMIC_ASM
(
£t
, , "Üb %b1,%0", "iq", 
v
);

435 
ATOMIC_ASM
(
þ—r
, , "ªdb %b1,%0", "iq", ~
v
);

436 
ATOMIC_ASM
(
add
, , "addb %b1,%0", "iq", 
v
);

437 
ATOMIC_ASM
(
subŒaù
, , "subb %b1,%0", "iq", 
v
);

439 
ATOMIC_ASM
(
£t
, , "Üw %w1,%0", "œ", 
v
);

440 
ATOMIC_ASM
(
þ—r
, , "ªdw %w1,%0", "œ", ~
v
);

441 
ATOMIC_ASM
(
add
, , "addw %w1,%0", "œ", 
v
);

442 
ATOMIC_ASM
(
subŒaù
, , "subw %w1,%0", "œ", 
v
);

444 
ATOMIC_ASM
(
£t
, , "ÜÈ%1,%0", "œ", 
v
);

445 
ATOMIC_ASM
(
þ—r
, , "ªdÈ%1,%0", "œ", ~
v
);

446 
ATOMIC_ASM
(
add
, , "addÈ%1,%0", "œ", 
v
);

447 
ATOMIC_ASM
(
subŒaù
, , "subÈ%1,%0", "œ", 
v
);

449 
ATOMIC_ASM
(
£t
, , "Üq %1,%0", "”", 
v
);

450 
ATOMIC_ASM
(
þ—r
, , "ªdq %1,%0", "”", ~
v
);

451 
ATOMIC_ASM
(
add
, , "addq %1,%0", "”", 
v
);

452 
ATOMIC_ASM
(
subŒaù
, , "subq %1,%0", "”", 
v
);

454 
	#ATOMIC_LOADSTORE
(
TYPE
) \

455 
	`ATOMIC_LOAD
(
TYPE
); \

456 
	`ATOMIC_STORE
(
TYPE
)

	)

458 
ATOMIC_LOADSTORE
();

459 
ATOMIC_LOADSTORE
();

460 
ATOMIC_LOADSTORE
();

461 
ATOMIC_LOADSTORE
();

463 #undeà
ATOMIC_ASM


464 #undeà
ATOMIC_LOAD


465 #undeà
ATOMIC_STORE


466 #undeà
ATOMIC_LOADSTORE


467 #iâdeà
WANT_FUNCTIONS


470 #ifdeà
__GNUCLIKE_ASM


472 
__šlše
 
u_št


473 
	$©omic_sw­_št
(vÞ©ž
u_št
 *
p
, u_šˆ
v
)

476 
__asm
 
	`__vÞ©že
(

479 : "+r" (
v
),

480 "+m" (*
p
));

481  (
v
);

482 
	}
}

484 
__šlše
 
u_lÚg


485 
	$©omic_sw­_lÚg
(vÞ©ž
u_lÚg
 *
p
, u_lÚg 
v
)

488 
__asm
 
	`__vÞ©že
(

491 : "+r" (
v
),

492 "+m" (*
p
));

493  (
v
);

494 
	}
}

498 
u_št
 
©omic_sw­_št
(vÞ©žu_šˆ*
p
, u_šˆ
v
);

499 
u_lÚg
 
©omic_sw­_lÚg
(vÞ©žu_lÚg *
p
, u_lÚg 
v
);

503 
	#©omic_£t_acq_ch¬
 
©omic_£t_b¬r_ch¬


	)

504 
	#©omic_£t_»l_ch¬
 
©omic_£t_b¬r_ch¬


	)

505 
	#©omic_þ—r_acq_ch¬
 
©omic_þ—r_b¬r_ch¬


	)

506 
	#©omic_þ—r_»l_ch¬
 
©omic_þ—r_b¬r_ch¬


	)

507 
	#©omic_add_acq_ch¬
 
©omic_add_b¬r_ch¬


	)

508 
	#©omic_add_»l_ch¬
 
©omic_add_b¬r_ch¬


	)

509 
	#©omic_subŒaù_acq_ch¬
 
©omic_subŒaù_b¬r_ch¬


	)

510 
	#©omic_subŒaù_»l_ch¬
 
©omic_subŒaù_b¬r_ch¬


	)

511 
	#©omic_cmp£t_acq_ch¬
 
©omic_cmp£t_ch¬


	)

512 
	#©omic_cmp£t_»l_ch¬
 
©omic_cmp£t_ch¬


	)

513 
	#©omic_fcmp£t_acq_ch¬
 
©omic_fcmp£t_ch¬


	)

514 
	#©omic_fcmp£t_»l_ch¬
 
©omic_fcmp£t_ch¬


	)

516 
	#©omic_£t_acq_shÜt
 
©omic_£t_b¬r_shÜt


	)

517 
	#©omic_£t_»l_shÜt
 
©omic_£t_b¬r_shÜt


	)

518 
	#©omic_þ—r_acq_shÜt
 
©omic_þ—r_b¬r_shÜt


	)

519 
	#©omic_þ—r_»l_shÜt
 
©omic_þ—r_b¬r_shÜt


	)

520 
	#©omic_add_acq_shÜt
 
©omic_add_b¬r_shÜt


	)

521 
	#©omic_add_»l_shÜt
 
©omic_add_b¬r_shÜt


	)

522 
	#©omic_subŒaù_acq_shÜt
 
©omic_subŒaù_b¬r_shÜt


	)

523 
	#©omic_subŒaù_»l_shÜt
 
©omic_subŒaù_b¬r_shÜt


	)

524 
	#©omic_cmp£t_acq_shÜt
 
©omic_cmp£t_shÜt


	)

525 
	#©omic_cmp£t_»l_shÜt
 
©omic_cmp£t_shÜt


	)

526 
	#©omic_fcmp£t_acq_shÜt
 
©omic_fcmp£t_shÜt


	)

527 
	#©omic_fcmp£t_»l_shÜt
 
©omic_fcmp£t_shÜt


	)

529 
	#©omic_£t_acq_št
 
©omic_£t_b¬r_št


	)

530 
	#©omic_£t_»l_št
 
©omic_£t_b¬r_št


	)

531 
	#©omic_þ—r_acq_št
 
©omic_þ—r_b¬r_št


	)

532 
	#©omic_þ—r_»l_št
 
©omic_þ—r_b¬r_št


	)

533 
	#©omic_add_acq_št
 
©omic_add_b¬r_št


	)

534 
	#©omic_add_»l_št
 
©omic_add_b¬r_št


	)

535 
	#©omic_subŒaù_acq_št
 
©omic_subŒaù_b¬r_št


	)

536 
	#©omic_subŒaù_»l_št
 
©omic_subŒaù_b¬r_št


	)

537 
	#©omic_cmp£t_acq_št
 
©omic_cmp£t_št


	)

538 
	#©omic_cmp£t_»l_št
 
©omic_cmp£t_št


	)

539 
	#©omic_fcmp£t_acq_št
 
©omic_fcmp£t_št


	)

540 
	#©omic_fcmp£t_»l_št
 
©omic_fcmp£t_št


	)

542 
	#©omic_£t_acq_lÚg
 
©omic_£t_b¬r_lÚg


	)

543 
	#©omic_£t_»l_lÚg
 
©omic_£t_b¬r_lÚg


	)

544 
	#©omic_þ—r_acq_lÚg
 
©omic_þ—r_b¬r_lÚg


	)

545 
	#©omic_þ—r_»l_lÚg
 
©omic_þ—r_b¬r_lÚg


	)

546 
	#©omic_add_acq_lÚg
 
©omic_add_b¬r_lÚg


	)

547 
	#©omic_add_»l_lÚg
 
©omic_add_b¬r_lÚg


	)

548 
	#©omic_subŒaù_acq_lÚg
 
©omic_subŒaù_b¬r_lÚg


	)

549 
	#©omic_subŒaù_»l_lÚg
 
©omic_subŒaù_b¬r_lÚg


	)

550 
	#©omic_cmp£t_acq_lÚg
 
©omic_cmp£t_lÚg


	)

551 
	#©omic_cmp£t_»l_lÚg
 
©omic_cmp£t_lÚg


	)

552 
	#©omic_fcmp£t_acq_lÚg
 
©omic_fcmp£t_lÚg


	)

553 
	#©omic_fcmp£t_»l_lÚg
 
©omic_fcmp£t_lÚg


	)

555 
	#©omic_»adªdþ—r_št
(
p
è
	`©omic_sw­_št
Õ, 0)

	)

556 
	#©omic_»adªdþ—r_lÚg
(
p
è
	`©omic_sw­_lÚg
Õ, 0)

	)

559 
	#©omic_£t_8
 
©omic_£t_ch¬


	)

560 
	#©omic_£t_acq_8
 
©omic_£t_acq_ch¬


	)

561 
	#©omic_£t_»l_8
 
©omic_£t_»l_ch¬


	)

562 
	#©omic_þ—r_8
 
©omic_þ—r_ch¬


	)

563 
	#©omic_þ—r_acq_8
 
©omic_þ—r_acq_ch¬


	)

564 
	#©omic_þ—r_»l_8
 
©omic_þ—r_»l_ch¬


	)

565 
	#©omic_add_8
 
©omic_add_ch¬


	)

566 
	#©omic_add_acq_8
 
©omic_add_acq_ch¬


	)

567 
	#©omic_add_»l_8
 
©omic_add_»l_ch¬


	)

568 
	#©omic_subŒaù_8
 
©omic_subŒaù_ch¬


	)

569 
	#©omic_subŒaù_acq_8
 
©omic_subŒaù_acq_ch¬


	)

570 
	#©omic_subŒaù_»l_8
 
©omic_subŒaù_»l_ch¬


	)

571 
	#©omic_lßd_acq_8
 
©omic_lßd_acq_ch¬


	)

572 
	#©omic_¡Üe_»l_8
 
©omic_¡Üe_»l_ch¬


	)

573 
	#©omic_cmp£t_8
 
©omic_cmp£t_ch¬


	)

574 
	#©omic_cmp£t_acq_8
 
©omic_cmp£t_acq_ch¬


	)

575 
	#©omic_cmp£t_»l_8
 
©omic_cmp£t_»l_ch¬


	)

576 
	#©omic_fcmp£t_8
 
©omic_fcmp£t_ch¬


	)

577 
	#©omic_fcmp£t_acq_8
 
©omic_fcmp£t_acq_ch¬


	)

578 
	#©omic_fcmp£t_»l_8
 
©omic_fcmp£t_»l_ch¬


	)

581 
	#©omic_£t_16
 
©omic_£t_shÜt


	)

582 
	#©omic_£t_acq_16
 
©omic_£t_acq_shÜt


	)

583 
	#©omic_£t_»l_16
 
©omic_£t_»l_shÜt


	)

584 
	#©omic_þ—r_16
 
©omic_þ—r_shÜt


	)

585 
	#©omic_þ—r_acq_16
 
©omic_þ—r_acq_shÜt


	)

586 
	#©omic_þ—r_»l_16
 
©omic_þ—r_»l_shÜt


	)

587 
	#©omic_add_16
 
©omic_add_shÜt


	)

588 
	#©omic_add_acq_16
 
©omic_add_acq_shÜt


	)

589 
	#©omic_add_»l_16
 
©omic_add_»l_shÜt


	)

590 
	#©omic_subŒaù_16
 
©omic_subŒaù_shÜt


	)

591 
	#©omic_subŒaù_acq_16
 
©omic_subŒaù_acq_shÜt


	)

592 
	#©omic_subŒaù_»l_16
 
©omic_subŒaù_»l_shÜt


	)

593 
	#©omic_lßd_acq_16
 
©omic_lßd_acq_shÜt


	)

594 
	#©omic_¡Üe_»l_16
 
©omic_¡Üe_»l_shÜt


	)

595 
	#©omic_cmp£t_16
 
©omic_cmp£t_shÜt


	)

596 
	#©omic_cmp£t_acq_16
 
©omic_cmp£t_acq_shÜt


	)

597 
	#©omic_cmp£t_»l_16
 
©omic_cmp£t_»l_shÜt


	)

598 
	#©omic_fcmp£t_16
 
©omic_fcmp£t_shÜt


	)

599 
	#©omic_fcmp£t_acq_16
 
©omic_fcmp£t_acq_shÜt


	)

600 
	#©omic_fcmp£t_»l_16
 
©omic_fcmp£t_»l_shÜt


	)

603 
	#©omic_£t_32
 
©omic_£t_št


	)

604 
	#©omic_£t_acq_32
 
©omic_£t_acq_št


	)

605 
	#©omic_£t_»l_32
 
©omic_£t_»l_št


	)

606 
	#©omic_þ—r_32
 
©omic_þ—r_št


	)

607 
	#©omic_þ—r_acq_32
 
©omic_þ—r_acq_št


	)

608 
	#©omic_þ—r_»l_32
 
©omic_þ—r_»l_št


	)

609 
	#©omic_add_32
 
©omic_add_št


	)

610 
	#©omic_add_acq_32
 
©omic_add_acq_št


	)

611 
	#©omic_add_»l_32
 
©omic_add_»l_št


	)

612 
	#©omic_subŒaù_32
 
©omic_subŒaù_št


	)

613 
	#©omic_subŒaù_acq_32
 
©omic_subŒaù_acq_št


	)

614 
	#©omic_subŒaù_»l_32
 
©omic_subŒaù_»l_št


	)

615 
	#©omic_lßd_acq_32
 
©omic_lßd_acq_št


	)

616 
	#©omic_¡Üe_»l_32
 
©omic_¡Üe_»l_št


	)

617 
	#©omic_cmp£t_32
 
©omic_cmp£t_št


	)

618 
	#©omic_cmp£t_acq_32
 
©omic_cmp£t_acq_št


	)

619 
	#©omic_cmp£t_»l_32
 
©omic_cmp£t_»l_št


	)

620 
	#©omic_fcmp£t_32
 
©omic_fcmp£t_št


	)

621 
	#©omic_fcmp£t_acq_32
 
©omic_fcmp£t_acq_št


	)

622 
	#©omic_fcmp£t_»l_32
 
©omic_fcmp£t_»l_št


	)

623 
	#©omic_sw­_32
 
©omic_sw­_št


	)

624 
	#©omic_»adªdþ—r_32
 
©omic_»adªdþ—r_št


	)

625 
	#©omic_ãtchadd_32
 
©omic_ãtchadd_št


	)

626 
	#©omic_‹¡ªd£t_32
 
©omic_‹¡ªd£t_št


	)

627 
	#©omic_‹¡ªdþ—r_32
 
©omic_‹¡ªdþ—r_št


	)

630 
	#©omic_£t_64
 
©omic_£t_lÚg


	)

631 
	#©omic_£t_acq_64
 
©omic_£t_acq_lÚg


	)

632 
	#©omic_£t_»l_64
 
©omic_£t_»l_lÚg


	)

633 
	#©omic_þ—r_64
 
©omic_þ—r_lÚg


	)

634 
	#©omic_þ—r_acq_64
 
©omic_þ—r_acq_lÚg


	)

635 
	#©omic_þ—r_»l_64
 
©omic_þ—r_»l_lÚg


	)

636 
	#©omic_add_64
 
©omic_add_lÚg


	)

637 
	#©omic_add_acq_64
 
©omic_add_acq_lÚg


	)

638 
	#©omic_add_»l_64
 
©omic_add_»l_lÚg


	)

639 
	#©omic_subŒaù_64
 
©omic_subŒaù_lÚg


	)

640 
	#©omic_subŒaù_acq_64
 
©omic_subŒaù_acq_lÚg


	)

641 
	#©omic_subŒaù_»l_64
 
©omic_subŒaù_»l_lÚg


	)

642 
	#©omic_lßd_acq_64
 
©omic_lßd_acq_lÚg


	)

643 
	#©omic_¡Üe_»l_64
 
©omic_¡Üe_»l_lÚg


	)

644 
	#©omic_cmp£t_64
 
©omic_cmp£t_lÚg


	)

645 
	#©omic_cmp£t_acq_64
 
©omic_cmp£t_acq_lÚg


	)

646 
	#©omic_cmp£t_»l_64
 
©omic_cmp£t_»l_lÚg


	)

647 
	#©omic_fcmp£t_64
 
©omic_fcmp£t_lÚg


	)

648 
	#©omic_fcmp£t_acq_64
 
©omic_fcmp£t_acq_lÚg


	)

649 
	#©omic_fcmp£t_»l_64
 
©omic_fcmp£t_»l_lÚg


	)

650 
	#©omic_sw­_64
 
©omic_sw­_lÚg


	)

651 
	#©omic_»adªdþ—r_64
 
©omic_»adªdþ—r_lÚg


	)

652 
	#©omic_ãtchadd_64
 
©omic_ãtchadd_lÚg


	)

653 
	#©omic_‹¡ªd£t_64
 
©omic_‹¡ªd£t_lÚg


	)

654 
	#©omic_‹¡ªdþ—r_64
 
©omic_‹¡ªdþ—r_lÚg


	)

657 
	#©omic_£t_±r
 
©omic_£t_lÚg


	)

658 
	#©omic_£t_acq_±r
 
©omic_£t_acq_lÚg


	)

659 
	#©omic_£t_»l_±r
 
©omic_£t_»l_lÚg


	)

660 
	#©omic_þ—r_±r
 
©omic_þ—r_lÚg


	)

661 
	#©omic_þ—r_acq_±r
 
©omic_þ—r_acq_lÚg


	)

662 
	#©omic_þ—r_»l_±r
 
©omic_þ—r_»l_lÚg


	)

663 
	#©omic_add_±r
 
©omic_add_lÚg


	)

664 
	#©omic_add_acq_±r
 
©omic_add_acq_lÚg


	)

665 
	#©omic_add_»l_±r
 
©omic_add_»l_lÚg


	)

666 
	#©omic_subŒaù_±r
 
©omic_subŒaù_lÚg


	)

667 
	#©omic_subŒaù_acq_±r
 
©omic_subŒaù_acq_lÚg


	)

668 
	#©omic_subŒaù_»l_±r
 
©omic_subŒaù_»l_lÚg


	)

669 
	#©omic_lßd_acq_±r
 
©omic_lßd_acq_lÚg


	)

670 
	#©omic_¡Üe_»l_±r
 
©omic_¡Üe_»l_lÚg


	)

671 
	#©omic_cmp£t_±r
 
©omic_cmp£t_lÚg


	)

672 
	#©omic_cmp£t_acq_±r
 
©omic_cmp£t_acq_lÚg


	)

673 
	#©omic_cmp£t_»l_±r
 
©omic_cmp£t_»l_lÚg


	)

674 
	#©omic_fcmp£t_±r
 
©omic_fcmp£t_lÚg


	)

675 
	#©omic_fcmp£t_acq_±r
 
©omic_fcmp£t_acq_lÚg


	)

676 
	#©omic_fcmp£t_»l_±r
 
©omic_fcmp£t_»l_lÚg


	)

677 
	#©omic_sw­_±r
 
©omic_sw­_lÚg


	)

678 
	#©omic_»adªdþ—r_±r
 
©omic_»adªdþ—r_lÚg


	)

	@/usr/include/machine/elf.h

6 
	~<x86/–f.h
>

	@/usr/include/machine/endian.h

6 
	~<x86/’dŸn.h
>

	@/usr/include/machine/param.h

45 #iâdeà
_AMD64_INCLUDE_PARAM_H_


46 
	#_AMD64_INCLUDE_PARAM_H_


	)

48 
	~<machše/_®ign.h
>

55 
	#__HAVE_ACPI


	)

56 
	#__PCI_REROUTE_INTERRUPT


	)

58 #iâdeà
MACHINE


59 
	#MACHINE
 "amd64"

	)

61 #iâdeà
MACHINE_ARCH


62 
	#MACHINE_ARCH
 "amd64"

	)

64 #iâdeà
MACHINE_ARCH32


65 
	#MACHINE_ARCH32
 "i386"

	)

68 #ià
defšed
(
SMP
è|| defšed(
KLD_MODULE
)

69 #iâdeà
MAXCPU


70 
	#MAXCPU
 256

	)

73 
	#MAXCPU
 1

	)

76 #iâdeà
MAXMEMDOM


77 
	#MAXMEMDOM
 8

	)

80 
	#ALIGNBYTES
 
_ALIGNBYTES


	)

81 
	#ALIGN
(
p
è
	`_ALIGN
Õ)

	)

88 
	#ALIGNED_POINTER
(
p
, 
t
è1

	)

94 
	#CACHE_LINE_SHIFT
 6

	)

95 
	#CACHE_LINE_SIZE
 (1 << 
CACHE_LINE_SHIFT
)

	)

98 
	#NPTEPG
 (
PAGE_SIZE
/( (
±_’Œy_t
)))

	)

99 
	#NPTEPGSHIFT
 9

	)

100 
	#PAGE_SHIFT
 12

	)

101 
	#PAGE_SIZE
 (1<<
PAGE_SHIFT
è

	)

102 
	#PAGE_MASK
 (
PAGE_SIZE
-1)

	)

104 
	#NPDEPG
 (
PAGE_SIZE
/( (
pd_’Œy_t
)))

	)

105 
	#NPDEPGSHIFT
 9

	)

106 
	#PDRSHIFT
 21

	)

107 
	#NBPDR
 (1<<
PDRSHIFT
è

	)

108 
	#PDRMASK
 (
NBPDR
-1)

	)

110 
	#NPDPEPG
 (
PAGE_SIZE
/( (
pdp_’Œy_t
)))

	)

111 
	#NPDPEPGSHIFT
 9

	)

112 
	#PDPSHIFT
 30

	)

113 
	#NBPDP
 (1<<
PDPSHIFT
è

	)

114 
	#PDPMASK
 (
NBPDP
-1)

	)

116 
	#NPML4EPG
 (
PAGE_SIZE
/( (
pml4_’Œy_t
)))

	)

117 
	#NPML4EPGSHIFT
 9

	)

118 
	#PML4SHIFT
 39

	)

119 
	#NBPML4
 (1UL<<
PML4SHIFT
)

	)

120 
	#PML4MASK
 (
NBPML4
-1)

	)

122 
	#MAXPAGESIZES
 3

	)

124 
	#IOPAGES
 2

	)

130 
	#IOPERM_BITMAP_SIZE
 (
IOPAGES
 * 
PAGE_SIZE
 + 1)

	)

132 #iâdef 
KSTACK_PAGES


133 
	#KSTACK_PAGES
 4

	)

135 
	#KSTACK_GUARD_PAGES
 1

	)

140 
	#round_·ge
(
x
è(((()(x)è+ 
PAGE_MASK
è& ~(PAGE_MASK))

	)

141 
	#Œunc_·ge
(
x
è(()(xè& ~(
PAGE_MASK
))

	)

142 
	#Œunc_2m·ge
(
x
è(()(xè& ~
PDRMASK
)

	)

143 
	#round_2m·ge
(
x
è(((()(x)è+ 
PDRMASK
è& ~PDRMASK)

	)

144 
	#Œunc_1g·ge
(
x
è(()(xè& ~
PDPMASK
)

	)

146 
	#©Ý
(
x
è(()(xè>> 
PAGE_SHIFT
)

	)

147 
	#±ß
(
x
è(()(xè<< 
PAGE_SHIFT
)

	)

149 
	#amd64_btÝ
(
x
è(()(xè>> 
PAGE_SHIFT
)

	)

150 
	#amd64_±ob
(
x
è(()(xè<< 
PAGE_SHIFT
)

	)

152 
	#pgtok
(
x
è(()(xè* (
PAGE_SIZE
 / 1024))

	)

154 
	#INKERNEL
(
va
è(((vaè>ð
DMAP_MIN_ADDRESS
 && (vaè< 
DMAP_MAX_ADDRESS
) \

155 || ((
va
è>ð
VM_MIN_KERNEL_ADDRESS
 && (vaè< 
VM_MAX_KERNEL_ADDRESS
))

	)

157 #ifdeà
SMP


158 
	#SC_TABLESIZE
 1024

	)

	@/usr/include/machine/pcpu.h

31 #iâdeà
_MACHINE_PCPU_H_


32 
	#_MACHINE_PCPU_H_


	)

34 #iâdeà
_SYS_CDEFS_H_


38 
	#PC_PTI_STACK_SZ
 16

	)

46 
	#PCPU_MD_FIELDS
 \

47 
pc_mÚ™Übuf
[128] 
	`__®igÃd
(128); \

48 
pýu
 *
pc_´v¥aû
; \

49 
pm­
 *
pc_cu½m­
; \

50 
amd64tss
 *
pc_ts¥
; \

51 
amd64tss
 *
pc_commÚts¥
; \

52 
ušt64_t
 
pc_kü3
; \

53 
ušt64_t
 
pc_uü3
; \

54 
ušt64_t
 
pc_§ved_uü3
; \

55 
»gi¡”_t
 
pc_r¥0
; \

56 
»gi¡”_t
 
pc_sü©ch_r¥
; \

57 
»gi¡”_t
 
pc_sü©ch_¿x
; \

58 
u_št
 
pc_­ic_id
; \

59 
u_št
 
pc_aýi_id
; \

61 
u£r_£gm’t_desütÜ
 *
pc_fs32p
; \

63 
u£r_£gm’t_desütÜ
 *
pc_gs32p
; \

65 
sy¡em_£gm’t_desütÜ
 *
pc_ldt
; \

67 
sy¡em_£gm’t_desütÜ
 *
pc_tss
; \

68 
ušt64_t
 
pc_pm_§ve_út
; \

69 
u_št
 
pc_cmci_mask
; \

70 
ušt64_t
 
pc_db»g
[16]; \

71 
ušt64_t
 
pc_±i_¡ack
[
PC_PTI_STACK_SZ
]; \

72 
»gi¡”_t
 
pc_±i_r¥0
; \

73 
pc_db»g_cmd
; \

74 
u_št
 
pc_výu_id
; \

75 
ušt32_t
 
pc_pcid_Ãxt
; \

76 
ušt32_t
 
pc_pcid_g’
; \

77 
ušt32_t
 
pc_smp_Žb_dÚe
; \

78 
ušt32_t
 
pc_ibpb_£t
; \

79 
__·d
[3288]

	)

81 
	#PC_DBREG_CMD_NONE
 0

	)

82 
	#PC_DBREG_CMD_LOAD
 1

	)

84 #ifdeà
_KERNEL


86 #ià
defšed
(
__GNUCLIKE_ASM
è&& defšed(
__GNUCLIKE___TYPEOF
)

91 
	#__pýu_off£t
(
Çme
) \

92 
	`__off£tof
(
pýu
, 
Çme
)

	)

97 
	#__pýu_ty³
(
Çme
) \

98 
	`__ty³of
(((
pýu
 *)0)->
Çme
)

	)

103 
	#__PCPU_PTR
(
Çme
è
	`__ex‹nsiÚ__
 ({ \

104 
	`__pýu_ty³
(
Çme
è*
__p
; \

106 
__asm
 
	`__vÞ©že
("movq %%gs:%1,%0;‡ddq %2,%0" \

107 : "ô" (
__p
) \

108 : "m" (*(
pýu
 *)(
	`__pýu_off£t
(
pc_´v¥aû
))), \

109 "i" (
	`__pýu_off£t
(
Çme
))); \

111 
__p
; \

112 })

	)

117 
	#__PCPU_GET
(
Çme
è
	`__ex‹nsiÚ__
 ({ \

118 
	`__pýu_ty³
(
Çme
è
__»s
; \

119 
	s__s
 { \

120 
u_ch¬
 
__b
[
	`MIN
((
	`__pýu_ty³
(
Çme
)), 8)]; \

121 } 
__s
; \

123 ià((
__»s
) == 1 || (__res) == 2 || \

124 (
__»s
) == 4 || (__res) == 8) { \

125 
__asm
 
	`__vÞ©že
("mov %%gs:%1,%0" \

126 : "ô" (
__s
) \

127 : "m" (*(
__s
 *)(
	`__pýu_off£t
(
Çme
)))); \

128 *(
__s
 *)(*)&
__»s
 = __s; \

130 
__»s
 = *
	`__PCPU_PTR
(
Çme
); \

132 
__»s
; \

133 })

	)

139 
	#__PCPU_ADD
(
Çme
, 
v®
) do { \

140 
	`__pýu_ty³
(
Çme
è
__v®
; \

141 
	s__s
 { \

142 
u_ch¬
 
__b
[
	`MIN
((
	`__pýu_ty³
(
Çme
)), 8)]; \

143 } 
__s
; \

145 
__v®
 = (
v®
); \

146 ià((
__v®
) == 1 || (__val) == 2 || \

147 (
__v®
) == 4 || (__val) == 8) { \

148 
__s
 = *(__ *)(*)&
__v®
; \

149 
__asm
 
	`__vÞ©že
("add %1,%%gs:%0" \

150 : "=m" (*(
__s
 *)(
	`__pýu_off£t
(
Çme
))) \

151 : "r" (
__s
)); \

153 *
	`__PCPU_PTR
(
Çme
è+ð
__v®
; \

154 } 0)

	)

160 
	#__PCPU_INC
(
Çme
) do { \

161 
	`CTASSERT
((
	`__pýu_ty³
(
Çme
)) == 1 || \

162 (
	`__pýu_ty³
(
Çme
)) == 2 || \

163 (
	`__pýu_ty³
(
Çme
)) == 4 || \

164 (
	`__pýu_ty³
(
Çme
)) == 8); \

165 ià((
	`__pýu_ty³
(
Çme
)) == 1) { \

166 
__asm
 
	`__vÞ©že
("incb %%gs:%0" \

167 : "=m" (*(
	`__pýu_ty³
(
Çme
è*)(
	`__pýu_off£t
(name)))\

168 : "m" (*(
	`__pýu_ty³
(
Çme
è*)(
	`__pýu_off£t
(name))));\

169 } ià((
	`__pýu_ty³
(
Çme
)) == 2) { \

170 
__asm
 
	`__vÞ©že
("incw %%gs:%0" \

171 : "=m" (*(
	`__pýu_ty³
(
Çme
è*)(
	`__pýu_off£t
(name)))\

172 : "m" (*(
	`__pýu_ty³
(
Çme
è*)(
	`__pýu_off£t
(name))));\

173 } ià((
	`__pýu_ty³
(
Çme
)) == 4) { \

174 
__asm
 
	`__vÞ©že
("incl %%gs:%0" \

175 : "=m" (*(
	`__pýu_ty³
(
Çme
è*)(
	`__pýu_off£t
(name)))\

176 : "m" (*(
	`__pýu_ty³
(
Çme
è*)(
	`__pýu_off£t
(name))));\

177 } ià((
	`__pýu_ty³
(
Çme
)) == 8) { \

178 
__asm
 
	`__vÞ©že
("incq %%gs:%0" \

179 : "=m" (*(
	`__pýu_ty³
(
Çme
è*)(
	`__pýu_off£t
(name)))\

180 : "m" (*(
	`__pýu_ty³
(
Çme
è*)(
	`__pýu_off£t
(name))));\

182 } 0)

	)

187 
	#__PCPU_SET
(
Çme
, 
v®
) { \

188 
	`__pýu_ty³
(
Çme
è
__v®
; \

189 
	s__s
 { \

190 
u_ch¬
 
__b
[
	`MIN
((
	`__pýu_ty³
(
Çme
)), 8)]; \

191 } 
__s
; \

193 
__v®
 = (
v®
); \

194 ià((
__v®
) == 1 || (__val) == 2 || \

195 (
__v®
) == 4 || (__val) == 8) { \

196 
__s
 = *(__ *)(*)&
__v®
; \

197 
__asm
 
	`__vÞ©že
("mov %1,%%gs:%0" \

198 : "=m" (*(
__s
 *)(
	`__pýu_off£t
(
Çme
))) \

199 : "r" (
__s
)); \

201 *
	`__PCPU_PTR
(
Çme
èð
__v®
; \

203 }

	)

205 
	#g‘_pýu
(è
	`__ex‹nsiÚ__
 ({ \

206 
pýu
 *
__pc
; \

208 
__asm
 
	`__vÞ©že
("movq %%gs:%1,%0" \

209 : "ô" (
__pc
) \

210 : "m" (*(
pýu
 *)(
	`__pýu_off£t
(
pc_´v¥aû
)))); \

211 
__pc
; \

212 })

	)

214 
	#PCPU_GET
(
memb”
è
	`__PCPU_GET
(
pc_
 ## memb”)

	)

215 
	#PCPU_ADD
(
memb”
, 
v®
è
	`__PCPU_ADD
(
pc_
 ## memb”, v®)

	)

216 
	#PCPU_INC
(
memb”
è
	`__PCPU_INC
(
pc_
 ## memb”)

	)

217 
	#PCPU_PTR
(
memb”
è
	`__PCPU_PTR
(
pc_
 ## memb”)

	)

218 
	#PCPU_SET
(
memb”
, 
v®
è
	`__PCPU_SET
(
pc_
 ## memb”, v®)

	)

220 
	#OFFSETOF_CURTHREAD
 0

	)

221 #ifdeà
__þªg__


222 #´agm¨
þªg
 
dŸgno¡ic
 
push


223 #´agm¨
þªg
 
dŸgno¡ic
 
ignÜed
 "-Wnull-dereference"

225 
__šlše
 
__pu»2
 
th»ad
 *

226 
	$__cu¹h»ad
()

228 
th»ad
 *
td
;

230 
	`__asm
("movq %%gs:%1,%0" : "ô" (
td
)

231 : "m" (*(*)
OFFSETOF_CURTHREAD
));

232  (
td
);

233 
	}
}

234 #ifdeà
__þªg__


235 #´agm¨
þªg
 
dŸgno¡ic
 
pÝ


237 
	#cu¹h»ad
 (
	`__cu¹h»ad
())

	)

239 
	#OFFSETOF_CURPCB
 32

	)

240 
__šlše
 
__pu»2
 
pcb
 *

241 
	$__cu½cb
()

243 
pcb
 *pcb;

245 
	`__asm
("movq %%gs:%1,%0" : "ô" (
pcb
è: "m" (*(*)
OFFSETOF_CURPCB
));

246  (
pcb
);

247 
	}
}

248 
	#cu½cb
 (
	`__cu½cb
())

	)

250 
	#IS_BSP
(è(
	`PCPU_GET
(
ýuid
è=ð0)

	)

	@/usr/include/machine/pmap.h

47 #iâdeà
_MACHINE_PMAP_H_


48 
	#_MACHINE_PMAP_H_


	)

55 
	#X86_PG_V
 0x001

	)

56 
	#X86_PG_RW
 0x002

	)

57 
	#X86_PG_U
 0x004

	)

58 
	#X86_PG_NC_PWT
 0x008

	)

59 
	#X86_PG_NC_PCD
 0x010

	)

60 
	#X86_PG_A
 0x020

	)

61 
	#X86_PG_M
 0x040

	)

62 
	#X86_PG_PS
 0x080

	)

63 
	#X86_PG_PTE_PAT
 0x080

	)

64 
	#X86_PG_G
 0x100

	)

65 
	#X86_PG_AVAIL1
 0x200

	)

66 
	#X86_PG_AVAIL2
 0x400

	)

67 
	#X86_PG_AVAIL3
 0x800

	)

68 
	#X86_PG_PDE_PAT
 0x1000

	)

69 
	#X86_PG_NX
 (1ul<<63è

	)

70 
	#X86_PG_AVAIL
(
x
è(1uÈ<< (x))

	)

73 
	#X86_PG_PDE_CACHE
 (
X86_PG_PDE_PAT
 | 
X86_PG_NC_PWT
 | 
X86_PG_NC_PCD
)

	)

74 
	#X86_PG_PTE_CACHE
 (
X86_PG_PTE_PAT
 | 
X86_PG_NC_PWT
 | 
X86_PG_NC_PCD
)

	)

79 
	#EPT_PG_READ
 0x001

	)

80 
	#EPT_PG_WRITE
 0x002

	)

81 
	#EPT_PG_EXECUTE
 0x004

	)

82 
	#EPT_PG_IGNORE_PAT
 0x040

	)

83 
	#EPT_PG_PS
 0x080

	)

84 
	#EPT_PG_A
 0x100

	)

85 
	#EPT_PG_M
 0x200

	)

86 
	#EPT_PG_MEMORY_TYPE
(
x
è((xè<< 3è

	)

91 
	#PG_V
 
X86_PG_V


	)

92 
	#PG_RW
 
X86_PG_RW


	)

93 
	#PG_U
 
X86_PG_U


	)

94 
	#PG_NC_PWT
 
X86_PG_NC_PWT


	)

95 
	#PG_NC_PCD
 
X86_PG_NC_PCD


	)

96 
	#PG_A
 
X86_PG_A


	)

97 
	#PG_M
 
X86_PG_M


	)

98 
	#PG_PS
 
X86_PG_PS


	)

99 
	#PG_PTE_PAT
 
X86_PG_PTE_PAT


	)

100 
	#PG_G
 
X86_PG_G


	)

101 
	#PG_AVAIL1
 
X86_PG_AVAIL1


	)

102 
	#PG_AVAIL2
 
X86_PG_AVAIL2


	)

103 
	#PG_AVAIL3
 
X86_PG_AVAIL3


	)

104 
	#PG_PDE_PAT
 
X86_PG_PDE_PAT


	)

105 
	#PG_NX
 
X86_PG_NX


	)

106 
	#PG_PDE_CACHE
 
X86_PG_PDE_CACHE


	)

107 
	#PG_PTE_CACHE
 
X86_PG_PTE_CACHE


	)

110 
	#PG_W
 
X86_PG_AVAIL3


	)

111 
	#PG_MANAGED
 
X86_PG_AVAIL2


	)

112 
	#EPT_PG_EMUL_V
 
	`X86_PG_AVAIL
(52)

	)

113 
	#EPT_PG_EMUL_RW
 
	`X86_PG_AVAIL
(53)

	)

114 
	#PG_PROMOTED
 
	`X86_PG_AVAIL
(54è

	)

115 
	#PG_FRAME
 (0x000ffffffffff000ul)

	)

116 
	#PG_PS_FRAME
 (0x000ffffffã00000ul)

	)

122 
	#PG_PTE_PROMOTE
 (
PG_NX
 | 
PG_MANAGED
 | 
PG_W
 | 
PG_G
 | 
PG_PTE_CACHE
 | \

123 
PG_M
 | 
PG_A
 | 
PG_U
 | 
PG_RW
 | 
PG_V
)

	)

129 
	#PGEX_P
 0x01

	)

130 
	#PGEX_W
 0x02

	)

131 
	#PGEX_U
 0x04

	)

132 
	#PGEX_RSV
 0x08

	)

133 
	#PGEX_I
 0x10

	)

144 #ifdeà
AMD64_NPT_AWARE


145 #undeà
PG_AVAIL1


146 #undeà
PG_G


147 #undeà
PG_A


148 #undeà
PG_M


149 #undeà
PG_PDE_PAT


150 #undeà
PG_PDE_CACHE


151 #undeà
PG_PTE_PAT


152 #undeà
PG_PTE_CACHE


153 #undeà
PG_RW


154 #undeà
PG_V


161 
	#KVADDR
(
l4
, 
l3
, 
l2
, 
l1
) ( \

163 (()(
l4
è<< 
PML4SHIFT
) | \

164 (()(
l3
è<< 
PDPSHIFT
) | \

165 (()(
l2
è<< 
PDRSHIFT
) | \

166 (()(
l1
è<< 
PAGE_SHIFT
))

	)

168 
	#UVADDR
(
l4
, 
l3
, 
l2
, 
l1
) ( \

169 (()(
l4
è<< 
PML4SHIFT
) | \

170 (()(
l3
è<< 
PDPSHIFT
) | \

171 (()(
l2
è<< 
PDRSHIFT
) | \

172 (()(
l1
è<< 
PAGE_SHIFT
))

	)

180 
	#NKPML4E
 4

	)

182 
	#NUPML4E
 (
NPML4EPG
/2è

	)

183 
	#NUPDPE
 (
NUPML4E
*
NPDPEPG
)

	)

184 
	#NUPDE
 (
NUPDPE
*
NPDEPG
è

	)

193 
	#NDMPML4E
 8

	)

211 
	#PML4PML4I
 (
NPML4EPG
/2è

	)

213 
	#KPML4BASE
 (
NPML4EPG
-
NKPML4E
è

	)

214 
	#DMPML4I
 
	`rounddown
(
KPML4BASE
-
NDMPML4E
, NDMPML4Eè

	)

216 
	#KPML4I
 (
NPML4EPG
-1)

	)

217 
	#KPDPI
 (
NPDPEPG
-2è

	)

220 
	#LMSPML4I
 (
PML4PML4I
 + 1)

	)

221 
	#LMEPML4I
 (
DMPML4I
 - 1)

	)

226 
	#ISA_HOLE_START
 0xa0000

	)

227 
	#ISA_HOLE_LENGTH
 (0x100000-
ISA_HOLE_START
)

	)

229 
	#PMAP_PCID_NONE
 0xffffffff

	)

230 
	#PMAP_PCID_KERN
 0

	)

231 
	#PMAP_PCID_OVERMAX
 0x1000

	)

232 
	#PMAP_PCID_OVERMAX_KERN
 0x800

	)

233 
	#PMAP_PCID_USER_PT
 0x800

	)

235 
	#PMAP_NO_CR3
 (~0UL)

	)

237 #iâdeà
LOCORE


239 
	~<sys/queue.h
>

240 
	~<sys/_ýu£t.h
>

241 
	~<sys/_lock.h
>

242 
	~<sys/_mu‹x.h
>

244 
	~<vm/_vm_¿dix.h
>

246 
u_št64_t
 
	tpd_’Œy_t
;

247 
u_št64_t
 
	t±_’Œy_t
;

248 
u_št64_t
 
	tpdp_’Œy_t
;

249 
u_št64_t
 
	tpml4_’Œy_t
;

254 #ifdeà
_KERNEL


255 
	#addr_PTm­
 (
	`KVADDR
(
PML4PML4I
, 0, 0, 0))

	)

256 
	#addr_PDm­
 (
	`KVADDR
(
PML4PML4I
, PML4PML4I, 0, 0))

	)

257 
	#addr_PDPm­
 (
	`KVADDR
(
PML4PML4I
, PML4PML4I, PML4PML4I, 0))

	)

258 
	#addr_PML4m­
 (
	`KVADDR
(
PML4PML4I
, PML4PML4I, PML4PML4I, PML4PML4I))

	)

259 
	#addr_PML4pml4e
 (
addr_PML4m­
 + (
PML4PML4I
 * (
pml4_’Œy_t
)))

	)

260 
	#PTm­
 ((
±_’Œy_t
 *)(
addr_PTm­
))

	)

261 
	#PDm­
 ((
pd_’Œy_t
 *)(
addr_PDm­
))

	)

262 
	#PDPm­
 ((
pd_’Œy_t
 *)(
addr_PDPm­
))

	)

263 
	#PML4m­
 ((
pd_’Œy_t
 *)(
addr_PML4m­
))

	)

264 
	#PML4pml4e
 ((
pd_’Œy_t
 *)(
addr_PML4pml4e
))

	)

266 
nk±
;

267 
u_št64_t
 
KPDPphys
;

268 
u_št64_t
 
KPML4phys
;

276 
±_’Œy_t
 *
vtÝ‹
(
vm_off£t_t
);

277 
	#vtÝhys
(
va
è
	`pm­_kexŒaù
(((
vm_off£t_t
è(va)))

	)

279 
	#±e_lßd_¡Üe
(
±•
, 
±e
è
	`©omic_sw­_lÚg
Õ‹p,…‹)

	)

280 
	#±e_lßd_þ—r
(
±•
è
	`©omic_sw­_lÚg
Õ‹p, 0)

	)

281 
	#±e_¡Üe
(
±•
, 
±e
) do { \

282 *(
u_lÚg
 *)(
±•
èð(u_lÚg)(
±e
); \

283 } 0)

	)

284 
	#±e_þ—r
(
±•
è
	`±e_¡Üe
Õ‹p, 0)

	)

286 
	#pde_¡Üe
(
pd•
, 
pde
è
	`±e_¡Üe
Õd•,…de)

	)

288 
±_’Œy_t
 
pg_nx
;

295 
	gpv_’Œy
;

296 
	gpv_chunk
;

302 
	smd_·ge
 {

303 
TAILQ_HEAD
(, 
pv_’Œy
è
	mpv_li¡
;

304 
	mpv_g’
;

305 
	m·t_mode
;

308 
	epm­_ty³
 {

309 
	mPT_X86
,

310 
	mPT_EPT
,

311 
	mPT_RVI
,

314 
	spm­_pcids
 {

315 
ušt32_t
 
	mpm_pcid
;

316 
ušt32_t
 
	mpm_g’
;

323 
	spm­
 {

324 
mtx
 
	mpm_mtx
;

325 
pml4_’Œy_t
 *
	mpm_pml4
;

326 
pml4_’Œy_t
 *
	mpm_pml4u
;

327 
ušt64_t
 
	mpm_ü3
;

328 
ušt64_t
 
	mpm_uü3
;

329 
TAILQ_HEAD
(,
pv_chunk
è
	mpm_pvchunk
;

330 
ýu£t_t
 
	mpm_aùive
;

331 
pm­_ty³
 
	mpm_ty³
;

332 
pm­_¡©i¡ics
 
	mpm_¡©s
;

333 
vm_¿dix
 
	mpm_roÙ
;

334 
	mpm_•tg’
;

335 
	mpm_æags
;

336 
pm­_pcids
 
	mpm_pcids
[
MAXCPU
];

340 
	#PMAP_NESTED_IPIMASK
 0xff

	)

341 
	#PMAP_PDE_SUPERPAGE
 (1 << 8è

	)

342 
	#PMAP_EMULATE_AD_BITS
 (1 << 9è

	)

343 
	#PMAP_SUPPORTS_EXEC_ONLY
 (1 << 10è

	)

345 
pm­
 *
	tpm­_t
;

347 #ifdeà
_KERNEL


348 
pm­
 
k”Ãl_pm­_¡Üe
;

349 
	#k”Ãl_pm­
 (&
k”Ãl_pm­_¡Üe
)

	)

351 
	#PMAP_LOCK
(
pm­
è
	`mtx_lock
(&Õm­)->
pm_mtx
)

	)

352 
	#PMAP_LOCK_ASSERT
(
pm­
, 
ty³
) \

353 
	`mtx_as£¹
(&(
pm­
)->
pm_mtx
, (
ty³
))

	)

354 
	#PMAP_LOCK_DESTROY
(
pm­
è
	`mtx_de¡roy
(&Õm­)->
pm_mtx
)

	)

355 
	#PMAP_LOCK_INIT
(
pm­
è
	`mtx_š™
(&Õm­)->
pm_mtx
, "pmap", \

356 
NULL
, 
MTX_DEF
 | 
MTX_DUPOK
)

	)

357 
	#PMAP_LOCKED
(
pm­
è
	`mtx_owÃd
(&Õm­)->
pm_mtx
)

	)

358 
	#PMAP_MTX
(
pm­
è(&Õm­)->
pm_mtx
)

	)

359 
	#PMAP_TRYLOCK
(
pm­
è
	`mtx_Œylock
(&Õm­)->
pm_mtx
)

	)

360 
	#PMAP_UNLOCK
(
pm­
è
	`mtx_uÆock
(&Õm­)->
pm_mtx
)

	)

362 
pm­_pš™_ty³
(
pm­_t
 
pm­
, 
pm­_ty³
 
pm_ty³
, 
æags
);

363 
pm­_emuÏ‹_acûs£d_dœty
(
pm­_t
 
pm­
, 
vm_off£t_t
 
va
, 
áy³
);

370 
	spv_’Œy
 {

371 
vm_off£t_t
 
	mpv_va
;

372 
TAILQ_ENTRY
(
pv_’Œy
è
	mpv_Ãxt
;

373 } *
	tpv_’Œy_t
;

379 
	#_NPCM
 3

	)

380 
	#_NPCPV
 168

	)

381 
	#PV_CHUNK_HEADER
 \

382 
pm­_t
 
pc_pm­
; \

383 
	`TAILQ_ENTRY
(
pv_chunk
è
pc_li¡
; \

384 
ušt64_t
 
pc_m­
[
_NPCM
]; \

385 
	`TAILQ_ENTRY
(
pv_chunk
è
pc_Ìu
;

	)

387 
	spv_chunk_h—d”
 {

388 
	mPV_CHUNK_HEADER


391 
	spv_chunk
 {

392 
PV_CHUNK_HEADER


393 
pv_’Œy
 
	mpc_pv’Œy
[
_NPCPV
];

396 #ifdef 
_KERNEL


398 
ÿddr_t
 
CADDR1
;

399 
±_’Œy_t
 *
CMAP1
;

400 
vm_·ddr_t
 
phys_avaž
[];

401 
vm_·ddr_t
 
dump_avaž
[];

402 
vm_off£t_t
 
vœtu®_avaž
;

403 
vm_off£t_t
 
vœtu®_’d
;

404 
vm_·ddr_t
 
dm­lim™
;

405 
pm­_pcid_’abËd
;

406 
švpcid_wÜks
;

408 
	#pm­_·ge_g‘_mem©Œ
(
m
è((
vm_mem©Œ_t
)(m)->
md
.
·t_mode
)

	)

409 
	#pm­_·ge_is_wr™e_m­³d
(
m
è(((m)->
aæags
 & 
PGA_WRITEABLE
è!ð0)

	)

410 
	#pm­_unm­bios
(
va
, 
sz
è
	`pm­_unm­dev
((va), (sz))

	)

412 
	gth»ad
;

414 
pm­_aùiv©e_boÙ
(
pm­_t
 
pm­
);

415 
pm­_aùiv©e_sw
(
th»ad
 *);

416 
pm­_boÙ¡¿p
(
vm_·ddr_t
 *);

417 
pm­_ÿche_b™s
(
pm­_t
 
pm­
, 
mode
, 
boÞ—n_t
 
is_pde
);

418 
pm­_chªge_©Œ
(
vm_off£t_t
, 
vm_size_t
, );

419 
pm­_demÙe_DMAP
(
vm_·ddr_t
 
ba£
, 
vm_size_t
 
Ën
, 
boÞ—n_t
 
šv®id©e
);

420 
pm­_æush_ÿche_¿nge
(
vm_off£t_t
, vm_offset_t);

421 
pm­_æush_ÿche_phys_¿nge
(
vm_·ddr_t
, vm_·ddr_t, 
vm_mem©Œ_t
);

422 
pm­_š™_·t
();

423 
pm­_k’‹r
(
vm_off£t_t
 
va
, 
vm_·ddr_t
 
·
);

424 *
pm­_k’‹r_‹mpÜ¬y
(
vm_·ddr_t
 
·
, 
i
);

425 
vm_·ddr_t
 
pm­_kexŒaù
(
vm_off£t_t
);

426 
pm­_k»move
(
vm_off£t_t
);

427 
pm­_Ïrge_m­
(
vm_·ddr_t
, 
vm_size_t
, **, 
vm_mem©Œ_t
);

428 
pm­_Ïrge_m­_wb
(*
sva
, 
vm_size_t
 
Ën
);

429 
pm­_Ïrge_unm­
(*
sva
, 
vm_size_t
 
Ën
);

430 *
pm­_m­bios
(
vm_·ddr_t
, 
vm_size_t
);

431 *
pm­_m­dev
(
vm_·ddr_t
, 
vm_size_t
);

432 *
pm­_m­dev_©Œ
(
vm_·ddr_t
, 
vm_size_t
, );

433 *
pm­_m­dev_pc›cfg
(
vm_·ddr_t
 
·
, 
vm_size_t
 
size
);

434 
boÞ—n_t
 
pm­_·ge_is_m­³d
(
vm_·ge_t
 
m
);

435 
pm­_·ge_£t_mem©Œ
(
vm_·ge_t
 
m
, 
vm_mem©Œ_t
 
ma
);

436 
pm­_pš™_pml4
(
vm_·ge_t
);

437 
boÞ
 
pm­_ps_’abËd
(
pm­_t
 
pm­
);

438 
pm­_unm­dev
(
vm_off£t_t
, 
vm_size_t
);

439 
pm­_šv®id©e_·ge
(
pm­_t
, 
vm_off£t_t
);

440 
pm­_šv®id©e_¿nge
(
pm­_t
, 
vm_off£t_t
, vm_offset_t);

441 
pm­_šv®id©e_®l
(
pm­_t
);

442 
pm­_šv®id©e_ÿche
();

443 
pm­_šv®id©e_ÿche_·ges
(
vm_·ge_t
 *
·ges
, 
couÁ
);

444 
pm­_šv®id©e_ÿche_¿nge
(
vm_off£t_t
 
sva
, vm_off£t_ˆ
eva
);

445 
pm­_fÜû_šv®id©e_ÿche_¿nge
(
vm_off£t_t
 
sva
, vm_off£t_ˆ
eva
);

446 
pm­_g‘_m­pšg
(
pm­_t
 
pm­
, 
vm_off£t_t
 
va
, 
ušt64_t
 *
±r
, *
num
);

447 
boÞ—n_t
 
pm­_m­_io_Œªs›Á
(
vm_·ge_t
 *, 
vm_off£t_t
 *, , boolean_t);

448 
pm­_unm­_io_Œªs›Á
(
vm_·ge_t
 *, 
vm_off£t_t
 *, , 
boÞ—n_t
);

449 
pm­_±i_add_kva
(
vm_off£t_t
 
sva
, vm_off£t_ˆ
eva
, 
boÞ
 
exec
);

450 
pm­_±i_»move_kva
(
vm_off£t_t
 
sva
, vm_off£t_ˆ
eva
);

451 
pm­_±i_pcid_šv®id©e
(
ušt64_t
 
uü3
, ušt64_ˆ
kü3
);

452 
pm­_±i_pcid_švÍg
(
ušt64_t
 
uü3
, ušt64_ˆ
kü3
, 
vm_off£t_t
 
va
);

453 
pm­_±i_pcid_švÌng
(
ušt64_t
 
uü3
, ušt64_ˆ
kü3
, 
vm_off£t_t
 
sva
,

454 
vm_off£t_t
 
eva
);

458 
__šlše
 
vm_pšdex_t


459 
	$pm­_±e_šdex
(
vm_off£t_t
 
va
)

462  ((
va
 >> 
PAGE_SHIFT
è& ((1uÈ<< 
NPTEPGSHIFT
) - 1));

463 
	}
}

465 
__šlše
 
vm_pšdex_t


466 
	$pm­_pde_šdex
(
vm_off£t_t
 
va
)

469  ((
va
 >> 
PDRSHIFT
è& ((1uÈ<< 
NPDEPGSHIFT
) - 1));

470 
	}
}

472 
__šlše
 
vm_pšdex_t


473 
	$pm­_pd³_šdex
(
vm_off£t_t
 
va
)

476  ((
va
 >> 
PDPSHIFT
è& ((1uÈ<< 
NPDPEPGSHIFT
) - 1));

477 
	}
}

479 
__šlše
 
vm_pšdex_t


480 
	$pm­_pml4e_šdex
(
vm_off£t_t
 
va
)

483  ((
va
 >> 
PML4SHIFT
è& ((1uÈ<< 
NPML4EPGSHIFT
) - 1));

484 
	}
}

	@/usr/include/machine/proc.h

35 #iâdeà
_MACHINE_PROC_H_


36 
	#_MACHINE_PROC_H_


	)

38 
	~<sys/queue.h
>

39 
	~<machše/£gm’ts.h
>

47 
	s´oc_ldt
 {

48 
ÿddr_t
 
	mldt_ba£
;

49 
	mldt_»fút
;

52 
	spm­_švl_g’
 {

53 
u_lÚg
 
	mg’
;

54 
LIST_ENTRY
(
pm­_švl_g’
è
	mlšk
;

60 
	smdth»ad
 {

61 
	mmd_¥šlock_couÁ
;

62 
»gi¡”_t
 
	mmd_§ved_æags
;

63 
»gi¡”_t
 
	mmd_¥uræt_addr
;

64 
pm­_švl_g’
 
	mmd_švl_g’
;

65 
»gi¡”_t
 
	mmd_efœt_tmp
;

66 
	mmd_efœt_dis_pf
;

69 
	smd´oc
 {

70 
´oc_ldt
 *
	mmd_ldt
;

71 
sy¡em_£gm’t_desütÜ
 
	mmd_ldt_sd
;

74 
	#KINFO_PROC_SIZE
 1088

	)

75 
	#KINFO_PROC32_SIZE
 768

	)

77 
	ssysÿÎ_¬gs
 {

78 
u_št
 
	mcode
;

79 
sy£Á
 *
	mÿÎp
;

80 
»gi¡”_t
 
	m¬gs
[8];

81 
	mÇrg
;

84 #ifdef 
_KERNEL


87 
	#GET_STACK_USAGE
(
tÙ®
, 
u£d
) do { \

88 
th»ad
 *
td
 = 
cu¹h»ad
; \

89 (
tÙ®
èð
td
->
td_k¡ack_·ges
 * 
PAGE_SIZE
; \

90 (
u£d
èð(*)
td
->
td_k¡ack
 + \

91 
td
->
td_k¡ack_·ges
 * 
PAGE_SIZE
 - \

92 (*)&
td
; \

93 } 0)

	)

95 
´oc_ldt
 *
u£r_ldt_®loc
(
´oc
 *, );

96 
u£r_ldt_ä“
(
th»ad
 *);

97 
	gsy§rch_¬gs
;

98 
sy§rch_ldt
(
th»ad
 *
td
, 
sy§rch_¬gs
 *
u­
, 
u­_¥aû
);

99 
amd64_£t_ldt_d©a
(
th»ad
 *
td
, 
¡¬t
, 
num
,

100 
u£r_£gm’t_desütÜ
 *
descs
);

102 
mtx
 
dt_lock
;

103 
max_ldt_£gm’t
;

105 
	#NARGREGS
 6

	)

	@/usr/include/machine/setjmp.h

6 
	~<x86/£tjmp.h
>

	@/usr/include/machine/vm.h

32 #iâdeà
_MACHINE_VM_H_


33 
	#_MACHINE_VM_H_


	)

35 
	~<machše/¥ecŸÌeg.h
>

38 
	#VM_MEMATTR_UNCACHEABLE
 ((
vm_mem©Œ_t
)
PAT_UNCACHEABLE
)

	)

39 
	#VM_MEMATTR_WRITE_COMBINING
 ((
vm_mem©Œ_t
)
PAT_WRITE_COMBINING
)

	)

40 
	#VM_MEMATTR_WRITE_THROUGH
 ((
vm_mem©Œ_t
)
PAT_WRITE_THROUGH
)

	)

41 
	#VM_MEMATTR_WRITE_PROTECTED
 ((
vm_mem©Œ_t
)
PAT_WRITE_PROTECTED
)

	)

42 
	#VM_MEMATTR_WRITE_BACK
 ((
vm_mem©Œ_t
)
PAT_WRITE_BACK
)

	)

43 
	#VM_MEMATTR_WEAK_UNCACHEABLE
 ((
vm_mem©Œ_t
)
PAT_UNCACHED
)

	)

45 
	#VM_MEMATTR_DEFAULT
 
VM_MEMATTR_WRITE_BACK


	)

	@/usr/include/machine/vmparam.h

47 #iâdeà
_MACHINE_VMPARAM_H_


48 
	#_MACHINE_VMPARAM_H_
 1

	)

57 
	#MAXTSIZ
 (32768UL*1024*1024è

	)

58 #iâdeà
DFLDSIZ


59 
	#DFLDSIZ
 (32768UL*1024*1024è

	)

61 #iâdeà
MAXDSIZ


62 
	#MAXDSIZ
 (32768UL*1024*1024è

	)

64 #iâdef 
DFLSSIZ


65 
	#DFLSSIZ
 (8UL*1024*1024è

	)

67 #iâdef 
MAXSSIZ


68 
	#MAXSSIZ
 (512UL*1024*1024è

	)

70 #iâdeà
SGROWSIZ


71 
	#SGROWSIZ
 (128UL*1024è

	)

79 
	#UMA_MD_SMALL_ALLOC


	)

84 
	#VM_PHYSSEG_DENSE


	)

92 
	#VM_PHYSSEG_MAX
 63

	)

100 
	#VM_NFREEPOOL
 2

	)

101 
	#VM_FREEPOOL_DEFAULT
 0

	)

102 
	#VM_FREEPOOL_DIRECT
 1

	)

110 
	#VM_NFREELIST
 3

	)

111 
	#VM_FREELIST_DEFAULT
 0

	)

112 
	#VM_FREELIST_DMA32
 1

	)

113 
	#VM_FREELIST_LOWMEM
 2

	)

115 
	#VM_LOWMEM_BOUNDARY
 (16 << 20è

	)

122 
	#VM_DMA32_NPAGES_THRESHOLD
 16777216

	)

132 
	#VM_NFREEORDER
 13

	)

137 #iâdef 
VM_NRESERVLEVEL


138 
	#VM_NRESERVLEVEL
 1

	)

144 #iâdef 
VM_LEVEL_0_ORDER


145 
	#VM_LEVEL_0_ORDER
 9

	)

148 #ifdef 
SMP


149 
	#PA_LOCK_COUNT
 256

	)

171 
	#VM_MIN_KERNEL_ADDRESS
 
	`KVADDR
(
KPML4BASE
, 0, 0, 0)

	)

172 
	#VM_MAX_KERNEL_ADDRESS
 
	`KVADDR
(
KPML4BASE
 + 
NKPML4E
 - 1, \

173 
NPDPEPG
-1, 
NPDEPG
-1, 
NPTEPG
-1)

	)

175 
	#DMAP_MIN_ADDRESS
 
	`KVADDR
(
DMPML4I
, 0, 0, 0)

	)

176 
	#DMAP_MAX_ADDRESS
 
	`KVADDR
(
DMPML4I
 + 
NDMPML4E
, 0, 0, 0)

	)

178 
	#LARGEMAP_MIN_ADDRESS
 
	`KVADDR
(
LMSPML4I
, 0, 0, 0)

	)

179 
	#LARGEMAP_MAX_ADDRESS
 
	`KVADDR
(
LMEPML4I
 + 1, 0, 0, 0)

	)

181 
	#KERNBASE
 
	`KVADDR
(
KPML4I
, 
KPDPI
, 0, 0)

	)

183 
	#UPT_MAX_ADDRESS
 
	`KVADDR
(
PML4PML4I
, PML4PML4I, PML4PML4I, PML4PML4I)

	)

184 
	#UPT_MIN_ADDRESS
 
	`KVADDR
(
PML4PML4I
, 0, 0, 0)

	)

186 
	#VM_MAXUSER_ADDRESS
 
	`UVADDR
(
NUPML4E
, 0, 0, 0)

	)

188 
	#SHAREDPAGE
 (
VM_MAXUSER_ADDRESS
 - 
PAGE_SIZE
)

	)

189 
	#USRSTACK
 
SHAREDPAGE


	)

191 
	#VM_MAX_ADDRESS
 
UPT_MAX_ADDRESS


	)

192 
	#VM_MIN_ADDRESS
 (0)

	)

200 
	#PMAP_HAS_DMAP
 1

	)

201 
	#PHYS_TO_DMAP
(
x
) ({ \

202 
	`KASSERT
(
dm­lim™
 =ð0 || (
x
) < dmaplimit, \

204 (
uštmax_t
)
x
)); \

205 (
x
è| 
DMAP_MIN_ADDRESS
; })

	)

207 
	#DMAP_TO_PHYS
(
x
) ({ \

208 
	`KASSERT
((
x
è< (
DMAP_MIN_ADDRESS
 + 
dm­lim™
) && \

209 (
x
è>ð
DMAP_MIN_ADDRESS
, \

211 (
uštmax_t
)
x
)); \

212 (
x
è& ~
DMAP_MIN_ADDRESS
; })

	)

217 #iâdeà
VM_KMEM_SIZE_SCALE


218 
	#VM_KMEM_SIZE_SCALE
 (1)

	)

225 #iâdeà
VM_KMEM_SIZE_MAX


226 
	#VM_KMEM_SIZE_MAX
 ((
VM_MAX_KERNEL_ADDRESS
 - \

227 
VM_MIN_KERNEL_ADDRESS
 + 1è* 3 / 5)

	)

231 #iâdeà
VM_INITIAL_PAGEIN


232 
	#VM_INITIAL_PAGEIN
 16

	)

235 
	#ZERO_REGION_SIZE
 (2 * 1024 * 1024è

	)

241 
	#VM_BATCHQUEUE_SIZE
 31

	)

	@/usr/include/net/altq/if_altq.h

29 #iâdeà
_ALTQ_IF_ALTQ_H_


30 
	#_ALTQ_IF_ALTQ_H_


	)

32 
	~<sys/lock.h
>

33 
	~<sys/mu‹x.h
>

34 
	~<sys/ev’t.h
>

36 
	g®tq_pk‰r
; 
	gtb_»guÏtÜ
; 
	gtÝ_cdÄ
;

41 
	siçÉq
 {

43 
mbuf
 *
	mifq_h—d
;

44 
mbuf
 *
	mifq_ž
;

45 
	mifq_Ën
;

46 
	mifq_maxËn
;

47 
mtx
 
	mifq_mtx
;

50 
mbuf
 *
	mifq_drv_h—d
;

51 
mbuf
 *
	mifq_drv_ž
;

52 
	mifq_drv_Ën
;

53 
	mifq_drv_maxËn
;

56 
	m®tq_ty³
;

57 
	m®tq_æags
;

58 *
	m®tq_disc
;

59 
iâ‘
 *
	m®tq_iå
;

61 (*
	m®tq_’queue
)(
	miçÉq
 *, 
	mmbuf
 *,

62 
	m®tq_pk‰r
 *);

63 
	mmbuf
 *(*
	m®tq_dequeue
)(
	miçÉq
 *, );

64 (*
	m®tq_»que¡
)(
	miçÉq
 *, , *);

67 *
	m®tq_þf›r
;

68 *(*
	m®tq_þassify
)(*, 
	mmbuf
 *, );

71 
tb_»guÏtÜ
 *
	m®tq_tbr
;

74 
tÝ_cdÄ
 *
	m®tq_cdÄ
;

78 #ifdeà
_KERNEL


91 
	s®tq_pk‰r
 {

92 *
	m·‰r_þass
;

93 
	m·‰r_af
;

94 
ÿddr_t
 
	m·‰r_hdr
;

100 
	s®tq_g
 {

101 
u_št32_t
 
	mqid
;

103 
	maf
;

104 *
	mhdr
;

116 
	stb_»guÏtÜ
 {

117 
št64_t
 
	mtbr_¿‹
;

118 
št64_t
 
	mtbr_d•th
;

120 
št64_t
 
	mtbr_tok’
;

121 
št64_t
 
	mtbr_fžlu±ime
;

122 
u_št64_t
 
	mtbr_Ï¡
;

124 
	mtbr_Ï¡Ý
;

129 
	#ALTQF_READY
 0x01

	)

130 
	#ALTQF_ENABLED
 0x02

	)

131 
	#ALTQF_CLASSIFY
 0x04

	)

132 
	#ALTQF_CNDTNING
 0x08

	)

133 
	#ALTQF_DRIVER1
 0x40

	)

136 
	#ALTQF_CANTCHANGE
 (
ALTQF_READY
)

	)

139 
	#ALTDQ_REMOVE
 1

	)

140 
	#ALTDQ_POLL
 2

	)

143 
	#ALTRQ_PURGE
 1

	)

145 
	#ALTQ_IS_READY
(
ifq
è((ifq)->
®tq_æags
 & 
ALTQF_READY
)

	)

146 #ifdeà
ALTQ


147 
	#ALTQ_IS_ENABLED
(
ifq
è((ifq)->
®tq_æags
 & 
ALTQF_ENABLED
)

	)

149 
	#ALTQ_IS_ENABLED
(
ifq
è0

	)

151 
	#ALTQ_NEEDS_CLASSIFY
(
ifq
è((ifq)->
®tq_æags
 & 
ALTQF_CLASSIFY
)

	)

152 
	#ALTQ_IS_CNDTNING
(
ifq
è((ifq)->
®tq_æags
 & 
ALTQF_CNDTNING
)

	)

154 
	#ALTQ_SET_CNDTNING
(
ifq
è((ifq)->
®tq_æags
 |ð
ALTQF_CNDTNING
)

	)

155 
	#ALTQ_CLEAR_CNDTNING
(
ifq
è((ifq)->
®tq_æags
 &ð~
ALTQF_CNDTNING
)

	)

156 
	#ALTQ_IS_ATTACHED
(
ifq
è((ifq)->
®tq_disc
 !ð
NULL
)

	)

158 
	#ALTQ_ENQUEUE
(
ifq
, 
m
, 
·
, 
”r
) \

159 (
”r
èð(*(
ifq
)->
®tq_’queue
)((ifq),(
m
),(
·
))

	)

160 
	#ALTQ_DEQUEUE
(
ifq
, 
m
) \

161 (
m
èð(*(
ifq
)->
®tq_dequeue
)((ifq), 
ALTDQ_REMOVE
)

	)

162 
	#ALTQ_POLL
(
ifq
, 
m
) \

163 (
m
èð(*(
ifq
)->
®tq_dequeue
)((ifq), 
ALTDQ_POLL
)

	)

164 
	#ALTQ_PURGE
(
ifq
) \

165 ()(*(
ifq
)->
®tq_»que¡
)((ifq), 
ALTRQ_PURGE
, (*)0)

	)

166 
	#ALTQ_IS_EMPTY
(
ifq
è((ifq)->
ifq_Ën
 =ð0)

	)

167 
	#TBR_IS_ENABLED
(
ifq
è((ifq)->
®tq_tbr
 !ð
NULL
)

	)

169 
®tq_©ch
(
içÉq
 *, , *,

170 (*)(
içÉq
 *, 
mbuf
 *,

171 
®tq_pk‰r
 *),

172 
mbuf
 *(*)(
içÉq
 *, ),

173 (*)(
içÉq
 *, , *),

175 *(*)(*, 
mbuf
 *, ));

176 
	`®tq_d‘ach
(
içÉq
 *);

177 
	`®tq_’abË
(
içÉq
 *);

178 
	`®tq_di§bË
(
içÉq
 *);

179 
mbuf
 *(*
tbr_dequeue_±r
)(
içÉq
 *, );

180 (*
®tq_šput
)(
mbuf
 *, );

182 
	`®tq_‘h”þassify
(
içÉq
 *, 
mbuf
 *, 
®tq_pk‰r
 *);

	@/usr/include/net/ifq.h

35 #iâdef 
_NET_IFQ_H_


36 
	#_NET_IFQ_H_


	)

38 #ifdeà
_KERNEL


39 
	~<sys/mbuf.h
>

40 
	~<sys/buf_ršg.h
>

41 
	~<Ãt/vÃt.h
>

43 
	~<sys/lock.h
>

44 
	~<sys/mu‹x.h
>

50 
	#IF_DUNIT_NONE
 -1

	)

52 
	~<Ãt/®tq/if_®tq.h
>

57 
	sifqueue
 {

58 
mbuf
 *
	mifq_h—d
;

59 
mbuf
 *
	mifq_ž
;

60 
	mifq_Ën
;

61 
	mifq_maxËn
;

62 
mtx
 
	mifq_mtx
;

65 #ifdeà
_KERNEL


72 
	#IF_LOCK
(
ifq
è
	`mtx_lock
(&(ifq)->
ifq_mtx
)

	)

73 
	#IF_UNLOCK
(
ifq
è
	`mtx_uÆock
(&(ifq)->
ifq_mtx
)

	)

74 
	#IF_LOCK_ASSERT
(
ifq
è
	`mtx_as£¹
(&(ifq)->
ifq_mtx
, 
MA_OWNED
)

	)

75 
	#_IF_QFULL
(
ifq
è((ifq)->
ifq_Ën
 >ð(ifq)->
ifq_maxËn
)

	)

76 
	#_IF_QLEN
(
ifq
è((ifq)->
ifq_Ën
)

	)

78 
	#_IF_ENQUEUE
(
ifq
, 
m
) do { \

79 (
m
)->
m_Ãxkt
 = 
NULL
; \

80 ià((
ifq
)->
ifq_ž
 =ð
NULL
) \

81 (
ifq
)->
ifq_h—d
 = 
m
; \

83 (
ifq
)->
ifq_ž
->
m_Ãxkt
 = 
m
; \

84 (
ifq
)->
ifq_ž
 = 
m
; \

85 (
ifq
)->
ifq_Ën
++; \

86 } 0)

	)

88 
	#IF_ENQUEUE
(
ifq
, 
m
) do { \

89 
	`IF_LOCK
(
ifq
); \

90 
	`_IF_ENQUEUE
(
ifq
, 
m
); \

91 
	`IF_UNLOCK
(
ifq
); \

92 } 0)

	)

94 
	#_IF_PREPEND
(
ifq
, 
m
) do { \

95 (
m
)->
m_Ãxkt
 = (
ifq
)->
ifq_h—d
; \

96 ià((
ifq
)->
ifq_ž
 =ð
NULL
) \

97 (
ifq
)->
ifq_ž
 = (
m
); \

98 (
ifq
)->
ifq_h—d
 = (
m
); \

99 (
ifq
)->
ifq_Ën
++; \

100 } 0)

	)

102 
	#IF_PREPEND
(
ifq
, 
m
) do { \

103 
	`IF_LOCK
(
ifq
); \

104 
	`_IF_PREPEND
(
ifq
, 
m
); \

105 
	`IF_UNLOCK
(
ifq
); \

106 } 0)

	)

108 
	#_IF_DEQUEUE
(
ifq
, 
m
) do { \

109 (
m
èð(
ifq
)->
ifq_h—d
; \

110 ià(
m
) { \

111 ià(((
ifq
)->
ifq_h—d
 = (
m
)->
m_Ãxkt
è=ð
NULL
) \

112 (
ifq
)->
ifq_ž
 = 
NULL
; \

113 (
m
)->
m_Ãxkt
 = 
NULL
; \

114 (
ifq
)->
ifq_Ën
--; \

116 } 0)

	)

118 
	#IF_DEQUEUE
(
ifq
, 
m
) do { \

119 
	`IF_LOCK
(
ifq
); \

120 
	`_IF_DEQUEUE
(
ifq
, 
m
); \

121 
	`IF_UNLOCK
(
ifq
); \

122 } 0)

	)

124 
	#_IF_DEQUEUE_ALL
(
ifq
, 
m
) do { \

125 (
m
èð(
ifq
)->
ifq_h—d
; \

126 (
ifq
)->
ifq_h—d
 = (ifq)->
ifq_ž
 = 
NULL
; \

127 (
ifq
)->
ifq_Ën
 = 0; \

128 } 0)

	)

130 
	#IF_DEQUEUE_ALL
(
ifq
, 
m
) do { \

131 
	`IF_LOCK
(
ifq
); \

132 
	`_IF_DEQUEUE_ALL
(
ifq
, 
m
); \

133 
	`IF_UNLOCK
(
ifq
); \

134 } 0)

	)

136 
	#_IF_POLL
(
ifq
, 
m
è((mèð(ifq)->
ifq_h—d
)

	)

137 
	#IF_POLL
(
ifq
, 
m
è
	`_IF_POLL
(ifq, m)

	)

139 
	#_IF_DRAIN
(
ifq
) do { \

140 
mbuf
 *
m
; \

142 
	`_IF_DEQUEUE
(
ifq
, 
m
); \

143 ià(
m
 =ð
NULL
) \

145 
	`m_ä“m
(
m
); \

147 } 0)

	)

149 
	#IF_DRAIN
(
ifq
) do { \

150 
	`IF_LOCK
(
ifq
); \

151 
	`_IF_DRAIN
(
ifq
); \

152 
	`IF_UNLOCK
(
ifq
); \

153 } 0)

	)

155 
if_hªdoff
(
ifqueue
 *
ifq
, 
mbuf
 *
m
, 
iâ‘
 *
iå
,

156 
adju¡
);

157 
	#IF_HANDOFF
(
ifq
, 
m
, 
iå
) \

158 
	`if_hªdoff
((
ifqueue
 *)
ifq
, 
m
, 
iå
, 0)

	)

159 
	#IF_HANDOFF_ADJ
(
ifq
, 
m
, 
iå
, 
adj
) \

160 
	`if_hªdoff
((
ifqueue
 *)
ifq
, 
m
, 
iå
, 
adj
)

	)

162 
if_¡¬t
(
iâ‘
 *);

164 
	#IFQ_ENQUEUE
(
ifq
, 
m
, 
”r
) \

166 
	`IF_LOCK
(
ifq
); \

167 ià(
	`ALTQ_IS_ENABLED
(
ifq
)) \

168 
	`ALTQ_ENQUEUE
(
ifq
, 
m
, 
NULL
, 
”r
); \

170 ià(
	`_IF_QFULL
(
ifq
)) { \

171 
	`m_ä“m
(
m
); \

172 (
”r
èð
ENOBUFS
; \

174 
	`_IF_ENQUEUE
(
ifq
, 
m
); \

175 (
”r
) = 0; \

178 
	`IF_UNLOCK
(
ifq
); \

179 } 0)

	)

181 
	#IFQ_DEQUEUE_NOLOCK
(
ifq
, 
m
) \

183 ià(
	`TBR_IS_ENABLED
(
ifq
)) \

184 (
m
èð
	`tbr_dequeue_±r
(
ifq
, 
ALTDQ_REMOVE
); \

185 ià(
	`ALTQ_IS_ENABLED
(
ifq
)) \

186 
	`ALTQ_DEQUEUE
(
ifq
, 
m
); \

188 
	`_IF_DEQUEUE
(
ifq
, 
m
); \

189 } 0)

	)

191 
	#IFQ_DEQUEUE
(
ifq
, 
m
) \

193 
	`IF_LOCK
(
ifq
); \

194 
	`IFQ_DEQUEUE_NOLOCK
(
ifq
, 
m
); \

195 
	`IF_UNLOCK
(
ifq
); \

196 } 0)

	)

198 
	#IFQ_POLL_NOLOCK
(
ifq
, 
m
) \

200 ià(
	`TBR_IS_ENABLED
(
ifq
)) \

201 (
m
èð
	`tbr_dequeue_±r
(
ifq
, 
ALTDQ_POLL
); \

202 ià(
	`ALTQ_IS_ENABLED
(
ifq
)) \

203 
	`ALTQ_POLL
(
ifq
, 
m
); \

205 
	`_IF_POLL
(
ifq
, 
m
); \

206 } 0)

	)

208 
	#IFQ_POLL
(
ifq
, 
m
) \

210 
	`IF_LOCK
(
ifq
); \

211 
	`IFQ_POLL_NOLOCK
(
ifq
, 
m
); \

212 
	`IF_UNLOCK
(
ifq
); \

213 } 0)

	)

215 
	#IFQ_PURGE_NOLOCK
(
ifq
) \

217 ià(
	`ALTQ_IS_ENABLED
(
ifq
)) { \

218 
	`ALTQ_PURGE
(
ifq
); \

220 
	`_IF_DRAIN
(
ifq
); \

221 } 0)

	)

223 
	#IFQ_PURGE
(
ifq
) \

225 
	`IF_LOCK
(
ifq
); \

226 
	`IFQ_PURGE_NOLOCK
(
ifq
); \

227 
	`IF_UNLOCK
(
ifq
); \

228 } 0)

	)

230 
	#IFQ_SET_READY
(
ifq
) \

231 dØ{ ((
ifq
)->
®tq_æags
 |ð
ALTQF_READY
); } 0)

	)

233 
	#IFQ_LOCK
(
ifq
è
	`IF_LOCK
(ifq)

	)

234 
	#IFQ_UNLOCK
(
ifq
è
	`IF_UNLOCK
(ifq)

	)

235 
	#IFQ_LOCK_ASSERT
(
ifq
è
	`IF_LOCK_ASSERT
(ifq)

	)

236 
	#IFQ_IS_EMPTY
(
ifq
è((ifq)->
ifq_Ën
 =ð0)

	)

237 
	#IFQ_INC_LEN
(
ifq
è((ifq)->
ifq_Ën
++)

	)

238 
	#IFQ_DEC_LEN
(
ifq
è(--(ifq)->
ifq_Ën
)

	)

239 
	#IFQ_SET_MAXLEN
(
ifq
, 
Ën
è((ifq)->
ifq_maxËn
 = (Ën))

	)

245 
	#IFQ_HANDOFF_ADJ
(
iå
, 
m
, 
adj
, 
”r
) \

247 
Ën
; \

248 
mæags
; \

250 
Ën
 = (
m
)->
m_pkthdr
.len; \

251 
mæags
 = (
m
)->
m_æags
; \

252 
	`IFQ_ENQUEUE
(&(
iå
)->
if_¢d
, 
m
, 
”r
); \

253 ià((
”r
) == 0) { \

254 
	`if_šc_couÁ”
((
iå
), 
IFCOUNTER_OBYTES
, 
Ën
 + (
adj
)); \

255 ià(
mæags
 & 
M_MCAST
) \

256 
	`if_šc_couÁ”
((
iå
), 
IFCOUNTER_OMCASTS
, 1); \

257 ià(((
iå
)->
if_drv_æags
 & 
IFF_DRV_OACTIVE
) == 0) \

258 
	`if_¡¬t
(
iå
); \

260 
	`if_šc_couÁ”
((
iå
), 
IFCOUNTER_OQDROPS
, 1); \

261 } 0)

	)

263 
	#IFQ_HANDOFF
(
iå
, 
m
, 
”r
) \

264 
	`IFQ_HANDOFF_ADJ
(
iå
, 
m
, 0, 
”r
)

	)

266 
	#IFQ_DRV_DEQUEUE
(
ifq
, 
m
) \

268 (
m
èð(
ifq
)->
ifq_drv_h—d
; \

269 ià(
m
) { \

270 ià(((
ifq
)->
ifq_drv_h—d
 = (
m
)->
m_Ãxkt
è=ð
NULL
) \

271 (
ifq
)->
ifq_drv_ž
 = 
NULL
; \

272 (
m
)->
m_Ãxkt
 = 
NULL
; \

273 (
ifq
)->
ifq_drv_Ën
--; \

275 
	`IFQ_LOCK
(
ifq
); \

276 
	`IFQ_DEQUEUE_NOLOCK
(
ifq
, 
m
); \

277 (
ifq
)->
ifq_drv_Ën
 < (ifq)->
ifq_drv_maxËn
) { \

278 
mbuf
 *
m0
; \

279 
	`IFQ_DEQUEUE_NOLOCK
(
ifq
, 
m0
); \

280 ià(
m0
 =ð
NULL
) \

282 
m0
->
m_Ãxkt
 = 
NULL
; \

283 ià((
ifq
)->
ifq_drv_ž
 =ð
NULL
) \

284 (
ifq
)->
ifq_drv_h—d
 = 
m0
; \

286 (
ifq
)->
ifq_drv_ž
->
m_Ãxkt
 = 
m0
; \

287 (
ifq
)->
ifq_drv_ž
 = 
m0
; \

288 (
ifq
)->
ifq_drv_Ën
++; \

290 
	`IFQ_UNLOCK
(
ifq
); \

292 } 0)

	)

294 
	#IFQ_DRV_PREPEND
(
ifq
, 
m
) \

296 (
m
)->
m_Ãxkt
 = (
ifq
)->
ifq_drv_h—d
; \

297 ià((
ifq
)->
ifq_drv_ž
 =ð
NULL
) \

298 (
ifq
)->
ifq_drv_ž
 = (
m
); \

299 (
ifq
)->
ifq_drv_h—d
 = (
m
); \

300 (
ifq
)->
ifq_drv_Ën
++; \

301 } 0)

	)

303 
	#IFQ_DRV_IS_EMPTY
(
ifq
) \

304 (((
ifq
)->
ifq_drv_Ën
 =ð0è&& ((ifq)->
ifq_Ën
 =ð0))

	)

306 
	#IFQ_DRV_PURGE
(
ifq
) \

308 
mbuf
 *
m
, *
n
 = (
ifq
)->
ifq_drv_h—d
; \

309 (
m
 = 
n
è!ð
NULL
) { \

310 
n
 = 
m
->
m_Ãxkt
; \

311 
	`m_ä“m
(
m
); \

313 (
ifq
)->
ifq_drv_h—d
 = (ifq)->
ifq_drv_ž
 = 
NULL
; \

314 (
ifq
)->
ifq_drv_Ën
 = 0; \

315 
	`IFQ_PURGE
(
ifq
); \

316 } 0)

	)

318 
__šlše
 

319 
	$drbr_’queue
(
iâ‘
 *
iå
, 
buf_ršg
 *
br
, 
mbuf
 *
m
)

321 
”rÜ
 = 0;

323 #ifdeà
ALTQ


324 ià(
	`ALTQ_IS_ENABLED
(&
iå
->
if_¢d
)) {

325 
	`IFQ_ENQUEUE
(&
iå
->
if_¢d
, 
m
, 
”rÜ
);

326 ià(
”rÜ
)

327 
	`if_šc_couÁ”
((
iå
), 
IFCOUNTER_OQDROPS
, 1);

328  (
”rÜ
);

331 
”rÜ
 = 
	`buf_ršg_’queue
(
br
, 
m
);

332 ià(
”rÜ
)

333 
	`m_ä“m
(
m
);

335  (
”rÜ
);

336 
	}
}

338 
__šlše
 

339 
	$drbr_putback
(
iâ‘
 *
iå
, 
buf_ršg
 *
br
, 
mbuf
 *
Ãw
)

345 #ifdeà
ALTQ


346 ià(
iå
 !ð
NULL
 && 
	`ALTQ_IS_ENABLED
(&iå->
if_¢d
)) {

351 
	`IFQ_DRV_PREPEND
(&
iå
->
if_¢d
, 
Ãw
);

355 
	`buf_ršg_putback_sc
(
br
, 
Ãw
);

356 
	}
}

358 
__šlše
 
mbuf
 *

359 
	$drbr_³ek
(
iâ‘
 *
iå
, 
buf_ršg
 *
br
)

361 #ifdeà
ALTQ


362 
mbuf
 *
m
;

363 ià(
iå
 !ð
NULL
 && 
	`ALTQ_IS_ENABLED
(&iå->
if_¢d
)) {

370 
	`IFQ_DEQUEUE
(&
iå
->
if_¢d
, 
m
);

371  (
m
);

374 (
	`buf_ršg_³ek_þ—r_sc
(
br
));

375 
	}
}

377 
__šlše
 

378 
	$drbr_æush
(
iâ‘
 *
iå
, 
buf_ršg
 *
br
)

380 
mbuf
 *
m
;

382 #ifdeà
ALTQ


383 ià(
iå
 !ð
NULL
 && 
	`ALTQ_IS_ENABLED
(&iå->
if_¢d
))

384 
	`IFQ_PURGE
(&
iå
->
if_¢d
);

386 (
m
 = 
	`buf_ršg_dequeue_sc
(
br
)è!ð
NULL
)

387 
	`m_ä“m
(
m
);

388 
	}
}

390 
__šlše
 

391 
	$drbr_ä“
(
buf_ršg
 *
br
, 
m®loc_ty³
 *
ty³
)

394 
	`drbr_æush
(
NULL
, 
br
);

395 
	`buf_ršg_ä“
(
br
, 
ty³
);

396 
	}
}

398 
__šlše
 
mbuf
 *

399 
	$drbr_dequeue
(
iâ‘
 *
iå
, 
buf_ršg
 *
br
)

401 #ifdeà
ALTQ


402 
mbuf
 *
m
;

404 ià(
iå
 !ð
NULL
 && 
	`ALTQ_IS_ENABLED
(&iå->
if_¢d
)) {

405 
	`IFQ_DEQUEUE
(&
iå
->
if_¢d
, 
m
);

406  (
m
);

409  (
	`buf_ršg_dequeue_sc
(
br
));

410 
	}
}

412 
__šlše
 

413 
	$drbr_advªû
(
iâ‘
 *
iå
, 
buf_ršg
 *
br
)

415 #ifdeà
ALTQ


417 ià(
iå
 !ð
NULL
 && 
	`ALTQ_IS_ENABLED
(&iå->
if_¢d
))

420  (
	`buf_ršg_advªû_sc
(
br
));

421 
	}
}

424 
__šlše
 
mbuf
 *

425 
drbr_dequeue_cÚd
(
iâ‘
 *
iå
, 
buf_ršg
 *
br
,

426 (*
func
è(
mbuf
 *, *), *
¬g
)

428 
mbuf
 *
m
;

429 #ifdeà
ALTQ


430 ià(
	`ALTQ_IS_ENABLED
(&
iå
->
if_¢d
)) {

431 
	`IFQ_LOCK
(&
iå
->
if_¢d
);

432 
	`IFQ_POLL_NOLOCK
(&
iå
->
if_¢d
, 
m
);

433 ià(
m
 !ð
NULL
 && 
	`func
(m, 
¬g
) == 0) {

434 
	`IFQ_UNLOCK
(&
iå
->
if_¢d
);

435  (
NULL
);

437 
	`IFQ_DEQUEUE_NOLOCK
(&
iå
->
if_¢d
, 
m
);

438 
	`IFQ_UNLOCK
(&
iå
->
if_¢d
);

439  (
m
);

442 
m
 = 
	`buf_ršg_³ek
(
br
);

443 ià(
m
 =ð
NULL
 || 
	`func
(m, 
¬g
) == 0)

444  (
NULL
);

446  (
	`buf_ršg_dequeue_sc
(
br
));

447 
	}
}

449 
__šlše
 

450 
	$drbr_em±y
(
iâ‘
 *
iå
, 
buf_ršg
 *
br
)

452 #ifdeà
ALTQ


453 ià(
	`ALTQ_IS_ENABLED
(&
iå
->
if_¢d
))

454  (
	`IFQ_IS_EMPTY
(&
iå
->
if_¢d
));

456  (
	`buf_ršg_em±y
(
br
));

457 
	}
}

459 
__šlše
 

460 
	$drbr_Ãeds_’queue
(
iâ‘
 *
iå
, 
buf_ršg
 *
br
)

462 #ifdeà
ALTQ


463 ià(
	`ALTQ_IS_ENABLED
(&
iå
->
if_¢d
))

466  (!
	`buf_ršg_em±y
(
br
));

467 
	}
}

469 
__šlše
 

470 
	$drbr_šu£
(
iâ‘
 *
iå
, 
buf_ršg
 *
br
)

472 #ifdeà
ALTQ


473 ià(
	`ALTQ_IS_ENABLED
(&
iå
->
if_¢d
))

474  (
iå
->
if_¢d
.
ifq_Ën
);

476  (
	`buf_ršg_couÁ
(
br
));

477 
	}
}

479 
ifqmaxËn
;

481 
if_qæush
(
iâ‘
 *);

482 
ifq_š™
(
içÉq
 *, 
iâ‘
 *
iå
);

483 
ifq_d–‘e
(
içÉq
 *);

	@/usr/include/net/vnet.h

59 #iâdeà
_NET_VNET_H_


60 
	#_NET_VNET_H_


	)

67 #ià
defšed
(
_KERNEL
è|| defšed(
_WANT_VNET
)

68 
	~<sys/queue.h
>

70 
	svÃt
 {

71 
LIST_ENTRY
(
vÃt
è
	mvÃt_Ë
;

72 
u_št
 
	mvÃt_magic_n
;

73 
u_št
 
	mvÃt_ifút
;

74 
u_št
 
	mvÃt_sockút
;

75 
u_št
 
	mvÃt_¡©e
;

76 *
	mvÃt_d©a_mem
;

77 
ušŒ_t
 
	mvÃt_d©a_ba£
;

79 
	#VNET_MAGIC_N
 0x3e0d8f29

	)

85 
	#VNET_SETNAME
 "£t_vÃt"

	)

86 
	#VNET_SYMPREFIX
 "vÃt_’Œy_"

	)

89 #ifdeà
_KERNEL


91 
	#VNET_PCPUSTAT_DECLARE
(
ty³
, 
Çme
) \

92 
	`VNET_DECLARE
(
couÁ”_u64_t
, 
Çme
[(
ty³
è/ (
ušt64_t
)])

	)

94 
	#VNET_PCPUSTAT_DEFINE
(
ty³
, 
Çme
) \

95 
	`VNET_DEFINE
(
couÁ”_u64_t
, 
Çme
[(
ty³
è/ (
ušt64_t
)])

	)

96 
	#VNET_PCPUSTAT_DEFINE_STATIC
(
ty³
, 
Çme
) \

97 
	`VNET_DEFINE_STATIC
(
couÁ”_u64_t
, 
Çme
[(
ty³
è/ (
ušt64_t
)])

	)

99 
	#VNET_PCPUSTAT_ALLOC
(
Çme
, 
wa™
) \

100 
	`COUNTER_ARRAY_ALLOC
(
	`VNET
(
Çme
), \

101 (
	`VNET
(
Çme
)è/ (
couÁ”_u64_t
), (
wa™
))

	)

103 
	#VNET_PCPUSTAT_FREE
(
Çme
) \

104 
	`COUNTER_ARRAY_FREE
(
	`VNET
(
Çme
), (VNETÒame)è/ (
couÁ”_u64_t
))

	)

106 
	#VNET_PCPUSTAT_ADD
(
ty³
, 
Çme
, 
f
, 
v
) \

107 
	`couÁ”_u64_add
(
	`VNET
(
Çme
)[
	`off£tof
(
ty³
, 
f
è/ (
ušt64_t
)], (
v
))

	)

109 
	#VNET_PCPUSTAT_FETCH
(
ty³
, 
Çme
, 
f
) \

110 
	`couÁ”_u64_ãtch
(
	`VNET
(
Çme
)[
	`off£tof
(
ty³
, 
f
è/ (
ušt64_t
)])

	)

112 
	#VNET_PCPUSTAT_SYSINIT
(
Çme
) \

114 
vÃt_
##
Çme
##
	`_š™
(cÚ¡ *
unu£d
) \

116 
	`VNET_PCPUSTAT_ALLOC
(
Çme
, 
M_WAITOK
); \

118 
	`VNET_SYSINIT
(
vÃt_
 ## 
Çme
 ## 
_š™
, 
SI_SUB_INIT_IF
, \

119 
SI_ORDER_FIRST
, 
vÃt_
 ## 
Çme
 ## 
_š™
, 
NULL
)

	)

121 
	#VNET_PCPUSTAT_SYSUNINIT
(
Çme
) \

123 
vÃt_
##
Çme
##
	`_unš™
(cÚ¡ *
unu£d
) \

125 
	`VNET_PCPUSTAT_FREE
(
Çme
); \

127 
	`VNET_SYSUNINIT
(
vÃt_
 ## 
Çme
 ## 
_unš™
, 
SI_SUB_INIT_IF
, \

128 
SI_ORDER_FIRST
, 
vÃt_
 ## 
Çme
 ## 
_unš™
, 
NULL
)

	)

130 #ifdeà
SYSCTL_OID


131 
	#SYSCTL_VNET_PCPUSTAT
(
·»Á
, 
nbr
, 
Çme
, 
ty³
, 
¬¿y
, 
desc
) \

133 
¬¿y
##
	`_sysùl
(
SYSCTL_HANDLER_ARGS
) \

135 
ty³
 
s
; \

136 
	`CTASSERT
(((
ty³
è/ (
ušt64_t
)) == \

137 ((
	`VNET
(
¬¿y
)è/ (
couÁ”_u64_t
))); \

138 
	`COUNTER_ARRAY_COPY
(
	`VNET
(
¬¿y
), &
s
, (
ty³
è/ (
ušt64_t
));\

139 ià(
»q
->
Ãw±r
) \

140 
	`COUNTER_ARRAY_ZERO
(
	`VNET
(
¬¿y
), \

141 (
ty³
è/ (
ušt64_t
)); \

142  (
	`SYSCTL_OUT
(
»q
, &
s
, (
ty³
))); \

144 
	`SYSCTL_PROC
(
·»Á
, 
nbr
, 
Çme
, 
CTLFLAG_VNET
 | 
CTLTYPE_OPAQUE
 | 
CTLFLAG_RW
, \

145 
NULL
, 0, 
¬¿y
 ## 
_sysùl
, "I", 
desc
)

	)

148 #ifdeà
VIMAGE


149 
	~<sys/lock.h
>

150 
	~<sys/´oc.h
>

151 
	~<sys/rwlock.h
>

152 
	~<sys/sx.h
>

157 
ušŒ_t
 *
__¡¬t_£t_vÃt
;

158 
__GLOBL
(
__¡¬t_£t_vÃt
);

159 
ušŒ_t
 *
__¡Ý_£t_vÃt
;

160 
__GLOBL
(
__¡Ý_£t_vÃt
);

162 
	#VNET_START
 (
ušŒ_t
)&
__¡¬t_£t_vÃt


	)

163 
	#VNET_STOP
 (
ušŒ_t
)&
__¡Ý_£t_vÃt


	)

168 
vÃt
 *
vÃt_®loc
();

169 
vÃt_de¡roy
(
vÃt
 *vnet);

175 
	#curvÃt
 
cu¹h»ad
->
td_vÃt


	)

181 #ià
defšed
(
INVARIANTS
è|| defšed(
VNET_DEBUG
)

182 
	#VNET_ASSERT
(
exp
, 
msg
) do { \

183 ià(!(
exp
)) \

184 
·nic
 
msg
; \

185 } 0)

	)

187 
	#VNET_ASSERT
(
exp
, 
msg
) do { \

188 } 0)

	)

191 #ifdeà
VNET_DEBUG


192 
vÃt_log_»cursiÚ
(
vÃt
 *, const *, );

194 
	#CURVNET_SET_QUIET
(
¬g
) \

195 
	`VNET_ASSERT
((
¬g
è!ð
NULL
 && (¬g)->
vÃt_magic_n
 =ð
VNET_MAGIC_N
, \

197 
__FILE__
, 
__LINE__
, 
__func__
, 
curvÃt
, (
¬g
))); \

198 
vÃt
 *
§ved_vÃt
 = 
curvÃt
; \

199 cÚ¡ *
§ved_vÃt_Íush
 = 
cu¹h»ad
->
td_vÃt_Íush
; \

200 
curvÃt
 = 
¬g
; \

201 
cu¹h»ad
->
td_vÃt_Íush
 = 
__func__
;

	)

203 
	#CURVNET_SET_VERBOSE
(
¬g
) \

204 
	`CURVNET_SET_QUIET
(
¬g
) \

205 ià(
§ved_vÃt
) \

206 
	`vÃt_log_»cursiÚ
(
§ved_vÃt
, 
§ved_vÃt_Íush
, 
__LINE__
);

	)

208 
	#CURVNET_SET
(
¬g
è
	`CURVNET_SET_VERBOSE
×rg)

	)

210 
	#CURVNET_RESTORE
() \

211 
	`VNET_ASSERT
(
curvÃt
 !ð
NULL
 && (
§ved_vÃt
 == NULL || \

212 
§ved_vÃt
->
vÃt_magic_n
 =ð
VNET_MAGIC_N
), \

214 
__FILE__
, 
__LINE__
, 
__func__
, 
curvÃt
, 
§ved_vÃt
)); \

215 
curvÃt
 = 
§ved_vÃt
; \

216 
cu¹h»ad
->
td_vÃt_Íush
 = 
§ved_vÃt_Íush
;

	)

219 
	#CURVNET_SET_QUIET
(
¬g
) \

220 
	`VNET_ASSERT
((
¬g
è!ð
NULL
 && (¬g)->
vÃt_magic_n
 =ð
VNET_MAGIC_N
, \

222 
__FILE__
, 
__LINE__
, 
__func__
, 
curvÃt
, (
¬g
))); \

223 
vÃt
 *
§ved_vÃt
 = 
curvÃt
; \

224 
curvÃt
 = 
¬g
;

	)

226 
	#CURVNET_SET_VERBOSE
(
¬g
) \

227 
	`CURVNET_SET_QUIET
(
¬g
)

	)

229 
	#CURVNET_SET
(
¬g
è
	`CURVNET_SET_VERBOSE
×rg)

	)

231 
	#CURVNET_RESTORE
() \

232 
	`VNET_ASSERT
(
curvÃt
 !ð
NULL
 && (
§ved_vÃt
 == NULL || \

233 
§ved_vÃt
->
vÃt_magic_n
 =ð
VNET_MAGIC_N
), \

235 
__FILE__
, 
__LINE__
, 
__func__
, 
curvÃt
, 
§ved_vÃt
)); \

236 
curvÃt
 = 
§ved_vÃt
;

	)

239 
vÃt
 *
vÃt0
;

240 
	#IS_DEFAULT_VNET
(
¬g
è(×rgè=ð
vÃt0
)

	)

242 
	#CRED_TO_VNET
(
ü
è(ü)->
ü_´isÚ
->
´_vÃt


	)

243 
	#TD_TO_VNET
(
td
è
	`CRED_TO_VNET
(Ñd)->
td_uüed
)

	)

244 
	#P_TO_VNET
(
p
è
	`CRED_TO_VNET
(Õ)->
p_uüed
)

	)

251 
LIST_HEAD
(
vÃt_li¡_h—d
, 
vÃt
);

252 
vÃt_li¡_h—d
 
vÃt_h—d
;

253 
rwlock
 
vÃt_rwlock
;

254 
sx
 
vÃt_sxlock
;

256 
	#VNET_LIST_RLOCK
(è
	`sx_¦ock
(&
vÃt_sxlock
)

	)

257 
	#VNET_LIST_RLOCK_NOSLEEP
(è
	`rw_¾ock
(&
vÃt_rwlock
)

	)

258 
	#VNET_LIST_RUNLOCK
(è
	`sx_suÆock
(&
vÃt_sxlock
)

	)

259 
	#VNET_LIST_RUNLOCK_NOSLEEP
(è
	`rw_ruÆock
(&
vÃt_rwlock
)

	)

264 
	#VNET_ITERATOR_DECL
(
¬g
è
vÃt
 *
	)
arg

265 
	#VNET_FOREACH
(
¬g
è
	`LIST_FOREACH
(×rg), &
vÃt_h—d
, 
vÃt_Ë
)

	)

271 
	#VNET_NAME
(
n
è
vÃt_’Œy_
##
	)
n

272 
	#VNET_DECLARE
(
t
, 
n
èˆ
	`VNET_NAME
Ò)

	)

274 
	#VNET_DEFINE
(
t
, 
n
) \

275 
_hack
; 
t
 
	`VNET_NAME
(
n
è
	`__£ùiÚ
(
VNET_SETNAME
è
__u£d


	)

276 #ià
defšed
(
KLD_MODULE
è&& (defšed(
__¯rch64__
è|| defšed(
__riscv
))

281 
	#VNET_DEFINE_STATIC
(
t
, 
n
) \

282 
t
 
	`VNET_NAME
(
n
è
	`__£ùiÚ
(
VNET_SETNAME
è
__u£d


	)

284 
	#VNET_DEFINE_STATIC
(
t
, 
n
) \

285 
t
 
	`VNET_NAME
(
n
è
	`__£ùiÚ
(
VNET_SETNAME
è
__u£d


	)

287 
	#_VNET_PTR
(
b
, 
n
è(
	`__ty³of
(
	`VNET_NAME
(n))*) \

288 ((
b
è+ (
ušŒ_t
)&
	`VNET_NAME
(
n
))

	)

290 
	#_VNET
(
b
, 
n
è(*
	`_VNET_PTR
(b,‚))

	)

295 
	#VNET_VNET_PTR
(
vÃt
, 
n
è
	`_VNET_PTR
((vÃt)->
vÃt_d©a_ba£
,‚)

	)

296 
	#VNET_VNET
(
vÃt
, 
n
è(*
	`VNET_VNET_PTR
((vÃt),‚))

	)

298 
	#VNET_PTR
(
n
è
	`VNET_VNET_PTR
(
curvÃt
,‚)

	)

299 
	#VNET
(
n
è
	`VNET_VNET
(
curvÃt
,‚)

	)

304 *
vÃt_d©a_®loc
(
size
);

305 
vÃt_d©a_cÝy
(*
¡¬t
, 
size
);

306 
vÃt_d©a_ä“
(*
¡¬t_¬g
, 
size
);

313 
	~<sys/k”Ãl.h
>

319 
	svÃt_sysš™
 {

320 
sysš™_sub_id
 
	msubsy¡em
;

321 
sysš™_–em_Üd”
 
	mÜd”
;

322 
sysš™_cfunc_t
 
	mfunc
;

323 cÚ¡ *
	m¬g
;

324 
TAILQ_ENTRY
(
vÃt_sysš™
è
	mlšk
;

327 
	#VNET_SYSINIT
(
id’t
, 
subsy¡em
, 
Üd”
, 
func
, 
¬g
) \

328 
vÃt_sysš™
 
id’t
 ## 
_vÃt_š™
 = { \

329 
subsy¡em
, \

330 
Üd”
, \

331 (
sysš™_cfunc_t
)(
sysš™_nfunc_t
)
func
, \

332 (
¬g
) \

334 
	`SYSINIT
(
vÃt_š™_
 ## 
id’t
, 
subsy¡em
, 
Üd”
, \

335 
vÃt_»gi¡”_sysš™
, &
id’t
 ## 
_vÃt_š™
); \

336 
	`SYSUNINIT
(
vÃt_š™_
 ## 
id’t
, 
subsy¡em
, 
Üd”
, \

337 
vÃt_d”egi¡”_sysš™
, &
id’t
 ## 
_vÃt_š™
)

	)

339 
	#VNET_SYSUNINIT
(
id’t
, 
subsy¡em
, 
Üd”
, 
func
, 
¬g
) \

340 
vÃt_sysš™
 
id’t
 ## 
_vÃt_unš™
 = { \

341 
subsy¡em
, \

342 
Üd”
, \

343 (
sysš™_cfunc_t
)(
sysš™_nfunc_t
)
func
, \

344 (
¬g
) \

346 
	`SYSINIT
(
vÃt_unš™_
 ## 
id’t
, 
subsy¡em
, 
Üd”
, \

347 
vÃt_»gi¡”_sysunš™
, &
id’t
 ## 
_vÃt_unš™
); \

348 
	`SYSUNINIT
(
vÃt_unš™_
 ## 
id’t
, 
subsy¡em
, 
Üd”
, \

349 
vÃt_d”egi¡”_sysunš™
, &
id’t
 ## 
_vÃt_unš™
)

	)

354 
vÃt_sysš™
();

355 
vÃt_sysunš™
();

360 
vÃt_»gi¡”_sysš™
(*
¬g
);

361 
vÃt_»gi¡”_sysunš™
(*
¬g
);

362 
vÃt_d”egi¡”_sysš™
(*
¬g
);

363 
vÃt_d”egi¡”_sysunš™
(*
¬g
);

368 
	~<sys/ev’thªdËr.h
>

370 
vÃt_glob®_ev’thªdËr_™”©Ü_func
(*, ...);

371 
	#VNET_GLOBAL_EVENTHANDLER_REGISTER_TAG
(
g
, 
Çme
, 
func
, 
¬g
, 
´iÜ™y
) \

373 ià(
	`IS_DEFAULT_VNET
(
curvÃt
)) { \

374 (
g
èð
	`vimage_ev’thªdËr_»gi¡”
(
NULL
, #Çme, 
func
, \

375 
¬g
, 
´iÜ™y
, \

376 
vÃt_glob®_ev’thªdËr_™”©Ü_func
); \

378 } 0)

	)

379 
	#VNET_GLOBAL_EVENTHANDLER_REGISTER
(
Çme
, 
func
, 
¬g
, 
´iÜ™y
) \

381 ià(
	`IS_DEFAULT_VNET
(
curvÃt
)) { \

382 
	`vimage_ev’thªdËr_»gi¡”
(
NULL
, #Çme, 
func
, \

383 
¬g
, 
´iÜ™y
, \

384 
vÃt_glob®_ev’thªdËr_™”©Ü_func
); \

386 } 0)

	)

393 
	#curvÃt
 
NULL


	)

395 
	#VNET_ASSERT
(
exp
, 
msg
)

	)

396 
	#CURVNET_SET
(
¬g
)

	)

397 
	#CURVNET_SET_QUIET
(
¬g
)

	)

398 
	#CURVNET_RESTORE
()

	)

400 
	#VNET_LIST_RLOCK
()

	)

401 
	#VNET_LIST_RLOCK_NOSLEEP
()

	)

402 
	#VNET_LIST_RUNLOCK
()

	)

403 
	#VNET_LIST_RUNLOCK_NOSLEEP
()

	)

404 
	#VNET_ITERATOR_DECL
(
¬g
)

	)

405 
	#VNET_FOREACH
(
¬g
)

	)

407 
	#IS_DEFAULT_VNET
(
¬g
è1

	)

408 
	#CRED_TO_VNET
(
ü
è
NULL


	)

409 
	#TD_TO_VNET
(
td
è
NULL


	)

410 
	#P_TO_VNET
(
p
è
NULL


	)

416 
	#VNET_NAME
(
n
è
	)
n

417 
	#VNET_DECLARE
(
t
, 
n
èˆ
	)
n

418 
	#VNET_DEFINE
(
t
, 
n
è
_hack
; 
	)
n

419 
	#VNET_DEFINE_STATIC
(
t
, 
n
èˆ
	)
n

420 
	#_VNET_PTR
(
b
, 
n
è&
	`VNET_NAME
Ò)

	)

425 
	#VNET_VNET_PTR
(
vÃt
, 
n
è(&Ò))

	)

426 
	#VNET_VNET
(
vÃt
, 
n
èÒ)

	)

428 
	#VNET_PTR
(
n
è(&Ò))

	)

429 
	#VNET
(
n
èÒ)

	)

435 
	#VNET_SYSINIT
(
id’t
, 
subsy¡em
, 
Üd”
, 
func
, 
¬g
) \

436 
	`SYSINIT
(
id’t
, 
subsy¡em
, 
Üd”
, 
func
, 
¬g
)

	)

437 
	#VNET_SYSUNINIT
(
id’t
, 
subsy¡em
, 
Üd”
, 
func
, 
¬g
) \

438 
	`SYSUNINIT
(
id’t
, 
subsy¡em
, 
Üd”
, 
func
, 
¬g
)

	)

443 
	#VNET_GLOBAL_EVENTHANDLER_REGISTER_TAG
(
g
, 
Çme
, 
func
, 
¬g
, 
´iÜ™y
) \

444 (
g
èð
	`ev’thªdËr_»gi¡”
(
NULL
, #Çme, 
func
, 
¬g
, 
´iÜ™y
)

	)

445 
	#VNET_GLOBAL_EVENTHANDLER_REGISTER
(
Çme
, 
func
, 
¬g
, 
´iÜ™y
) \

446 
	`ev’thªdËr_»gi¡”
(
NULL
, #Çme, 
func
, 
¬g
, 
´iÜ™y
)

	)

	@/usr/include/netinet6/in6.h

66 #iâdeà
__KAME_NETINET_IN_H_INCLUDED_


70 #iâdeà
_NETINET6_IN6_H_


71 
	#_NETINET6_IN6_H_


	)

78 
	#__KAME__


	)

79 
	#__KAME_VERSION
 "F»eBSD"

	)

86 #ià
__BSD_VISIBLE


87 
	#IPV6PORT_RESERVED
 1024

	)

88 
	#IPV6PORT_ANONMIN
 49152

	)

89 
	#IPV6PORT_ANONMAX
 65535

	)

90 
	#IPV6PORT_RESERVEDMIN
 600

	)

91 
	#IPV6PORT_RESERVEDMAX
 (
IPV6PORT_RESERVED
-1)

	)

97 
	sš6_addr
 {

99 
ušt8_t
 
	m__u6_addr8
[16];

100 
ušt16_t
 
	m__u6_addr16
[8];

101 
ušt32_t
 
	m__u6_addr32
[4];

102 } 
	m__u6_addr
;

105 
	#s6_addr
 
__u6_addr
.
__u6_addr8


	)

106 #ifdeà
_KERNEL


107 
	#s6_addr8
 
__u6_addr
.
__u6_addr8


	)

108 
	#s6_addr16
 
__u6_addr
.
__u6_addr16


	)

109 
	#s6_addr32
 
__u6_addr
.
__u6_addr32


	)

112 
	#INET6_ADDRSTRLEN
 46

	)

121 #ià
__BSD_VISIBLE


122 
	#SIN6_LEN


	)

125 
	ssockaddr_š6
 {

126 
ušt8_t
 
	msš6_Ën
;

127 
§_çmžy_t
 
	msš6_çmžy
;

128 
š_pÜt_t
 
	msš6_pÜt
;

129 
ušt32_t
 
	msš6_æowšfo
;

130 
š6_addr
 
	msš6_addr
;

131 
ušt32_t
 
	msš6_scÝe_id
;

137 #ifdeà
_KERNEL


138 
	#IN6MASK0
 {{{ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 }}}

	)

139 
	#IN6MASK32
 {{{ 0xff, 0xff, 0xff, 0xff, 0x00, 0x00, 0x00, 0x00, \

140 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00 }}}

	)

141 
	#IN6MASK64
 {{{ 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, \

142 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00 }}}

	)

143 
	#IN6MASK96
 {{{ 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, \

144 0xff, 0xff, 0xff, 0xff, 0x00, 0x00, 0x00, 0x00 }}}

	)

145 
	#IN6MASK128
 {{{ 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, \

146 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xfà}}}

	)

149 #ifdeà
_KERNEL


150 cÚ¡ 
sockaddr_š6
 
§6_ªy
;

152 cÚ¡ 
š6_addr
 
š6mask0
;

153 cÚ¡ 
š6_addr
 
š6mask32
;

154 cÚ¡ 
š6_addr
 
š6mask64
;

155 cÚ¡ 
š6_addr
 
š6mask96
;

156 cÚ¡ 
š6_addr
 
š6mask128
;

162 #ifdeà
_KERNEL


163 #ià
_BYTE_ORDER
 =ð
_BIG_ENDIAN


164 
	#IPV6_ADDR_INT32_ONE
 1

	)

165 
	#IPV6_ADDR_INT32_TWO
 2

	)

166 
	#IPV6_ADDR_INT32_MNL
 0xff010000

	)

167 
	#IPV6_ADDR_INT32_MLL
 0xff020000

	)

168 
	#IPV6_ADDR_INT32_SMP
 0x0000ffff

	)

169 
	#IPV6_ADDR_INT16_ULL
 0xã80

	)

170 
	#IPV6_ADDR_INT16_USL
 0xãc0

	)

171 
	#IPV6_ADDR_INT16_MLL
 0xff02

	)

172 #–ià
_BYTE_ORDER
 =ð
_LITTLE_ENDIAN


173 
	#IPV6_ADDR_INT32_ONE
 0x01000000

	)

174 
	#IPV6_ADDR_INT32_TWO
 0x02000000

	)

175 
	#IPV6_ADDR_INT32_MNL
 0x000001ff

	)

176 
	#IPV6_ADDR_INT32_MLL
 0x000002ff

	)

177 
	#IPV6_ADDR_INT32_SMP
 0xffff0000

	)

178 
	#IPV6_ADDR_INT16_ULL
 0x80ã

	)

179 
	#IPV6_ADDR_INT16_USL
 0xc0ã

	)

180 
	#IPV6_ADDR_INT16_MLL
 0x02ff

	)

187 #ià
__BSD_VISIBLE


188 
	#IN6ADDR_ANY_INIT
 \

190 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00 }}}

	)

191 
	#IN6ADDR_LOOPBACK_INIT
 \

193 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x01 }}}

	)

194 
	#IN6ADDR_NODELOCAL_ALLNODES_INIT
 \

196 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x01 }}}

	)

197 
	#IN6ADDR_INTFACELOCAL_ALLNODES_INIT
 \

199 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x01 }}}

	)

200 
	#IN6ADDR_LINKLOCAL_ALLNODES_INIT
 \

202 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x01 }}}

	)

203 
	#IN6ADDR_LINKLOCAL_ALLROUTERS_INIT
 \

205 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x02 }}}

	)

206 
	#IN6ADDR_LINKLOCAL_ALLV2ROUTERS_INIT
 \

208 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x16 }}}

	)

211 cÚ¡ 
š6_addr
 
š6addr_ªy
;

212 cÚ¡ 
š6_addr
 
š6addr_loÝback
;

213 #ià
__BSD_VISIBLE


214 cÚ¡ 
š6_addr
 
š6addr_nod–oÿl_®Êodes
;

215 cÚ¡ 
š6_addr
 
š6addr_lškloÿl_®Êodes
;

216 cÚ¡ 
š6_addr
 
š6addr_lškloÿl_®Ìou‹rs
;

217 cÚ¡ 
š6_addr
 
š6addr_lškloÿl_®lv2rou‹rs
;

226 #ifdeà
_KERNEL


227 
	#IN6_ARE_ADDR_EQUAL
(
a
, 
b
) \

228 (
	`bcmp
(&(
a
)->
s6_addr
[0], &(
b
)->s6_addr[0], (
š6_addr
)è=ð0)

	)

230 #ià
__BSD_VISIBLE


231 
	#IN6_ARE_ADDR_EQUAL
(
a
, 
b
) \

232 (
	`memcmp
(&(
a
)->
s6_addr
[0], &(
b
)->s6_addr[0], (
š6_addr
)è=ð0)

	)

239 
	#IN6_IS_ADDR_UNSPECIFIED
(
a
) \

240 ((
a
)->
__u6_addr
.
__u6_addr32
[0] == 0 && \

241 (
a
)->
__u6_addr
.
__u6_addr32
[1] == 0 && \

242 (
a
)->
__u6_addr
.
__u6_addr32
[2] == 0 && \

243 (
a
)->
__u6_addr
.
__u6_addr32
[3] =ð0)

	)

248 
	#IN6_IS_ADDR_LOOPBACK
(
a
) \

249 ((
a
)->
__u6_addr
.
__u6_addr32
[0] == 0 && \

250 (
a
)->
__u6_addr
.
__u6_addr32
[1] == 0 && \

251 (
a
)->
__u6_addr
.
__u6_addr32
[2] == 0 && \

252 (
a
)->
__u6_addr
.
__u6_addr32
[3] =ð
	`Áohl
(1))

	)

257 
	#IN6_IS_ADDR_V4COMPAT
(
a
) \

258 ((
a
)->
__u6_addr
.
__u6_addr32
[0] == 0 && \

259 (
a
)->
__u6_addr
.
__u6_addr32
[1] == 0 && \

260 (
a
)->
__u6_addr
.
__u6_addr32
[2] == 0 && \

261 (
a
)->
__u6_addr
.
__u6_addr32
[3] != 0 && \

262 (
a
)->
__u6_addr
.
__u6_addr32
[3] !ð
	`Áohl
(1))

	)

267 
	#IN6_IS_ADDR_V4MAPPED
(
a
) \

268 ((
a
)->
__u6_addr
.
__u6_addr32
[0] == 0 && \

269 (
a
)->
__u6_addr
.
__u6_addr32
[1] == 0 && \

270 (
a
)->
__u6_addr
.
__u6_addr32
[2] =ð
	`Áohl
(0x0000ffff))

	)

276 #ifdeà
_KERNEL


277 
	#IPV6_ADDR_SCOPE_NODELOCAL
 0x01

	)

278 
	#IPV6_ADDR_SCOPE_INTFACELOCAL
 0x01

	)

279 
	#IPV6_ADDR_SCOPE_LINKLOCAL
 0x02

	)

280 
	#IPV6_ADDR_SCOPE_SITELOCAL
 0x05

	)

281 
	#IPV6_ADDR_SCOPE_ORGLOCAL
 0x08

	)

282 
	#IPV6_ADDR_SCOPE_GLOBAL
 0x0e

	)

284 
	#__IPV6_ADDR_SCOPE_NODELOCAL
 0x01

	)

285 
	#__IPV6_ADDR_SCOPE_INTFACELOCAL
 0x01

	)

286 
	#__IPV6_ADDR_SCOPE_LINKLOCAL
 0x02

	)

287 
	#__IPV6_ADDR_SCOPE_SITELOCAL
 0x05

	)

288 
	#__IPV6_ADDR_SCOPE_ORGLOCAL
 0x08

	)

289 
	#__IPV6_ADDR_SCOPE_GLOBAL
 0x0e

	)

296 
	#IN6_IS_ADDR_LINKLOCAL
(
a
) \

297 (((
a
)->
s6_addr
[0] =ð0xãè&& ((×)->s6_addr[1] & 0xc0è=ð0x80))

	)

298 
	#IN6_IS_ADDR_SITELOCAL
(
a
) \

299 (((
a
)->
s6_addr
[0] =ð0xãè&& ((×)->s6_addr[1] & 0xc0è=ð0xc0))

	)

304 
	#IN6_IS_ADDR_MULTICAST
(
a
è(×)->
s6_addr
[0] =ð0xff)

	)

306 #ifdeà
_KERNEL


307 
	#IPV6_ADDR_MC_SCOPE
(
a
è(×)->
s6_addr
[1] & 0x0f)

	)

309 
	#__IPV6_ADDR_MC_SCOPE
(
a
è(×)->
s6_addr
[1] & 0x0f)

	)

315 #ifdeà
_KERNEL


316 
	#IN6_IS_ADDR_MC_NODELOCAL
(
a
) \

317 (
	`IN6_IS_ADDR_MULTICAST
(
a
) && \

318 (
	`IPV6_ADDR_MC_SCOPE
(
a
è=ð
IPV6_ADDR_SCOPE_NODELOCAL
))

	)

319 
	#IN6_IS_ADDR_MC_INTFACELOCAL
(
a
) \

320 (
	`IN6_IS_ADDR_MULTICAST
(
a
) && \

321 (
	`IPV6_ADDR_MC_SCOPE
(
a
è=ð
IPV6_ADDR_SCOPE_INTFACELOCAL
))

	)

322 
	#IN6_IS_ADDR_MC_LINKLOCAL
(
a
) \

323 (
	`IN6_IS_ADDR_MULTICAST
(
a
) && \

324 (
	`IPV6_ADDR_MC_SCOPE
(
a
è=ð
IPV6_ADDR_SCOPE_LINKLOCAL
))

	)

325 
	#IN6_IS_ADDR_MC_SITELOCAL
(
a
) \

326 (
	`IN6_IS_ADDR_MULTICAST
(
a
) && \

327 (
	`IPV6_ADDR_MC_SCOPE
(
a
è=ð
IPV6_ADDR_SCOPE_SITELOCAL
))

	)

328 
	#IN6_IS_ADDR_MC_ORGLOCAL
(
a
) \

329 (
	`IN6_IS_ADDR_MULTICAST
(
a
) && \

330 (
	`IPV6_ADDR_MC_SCOPE
(
a
è=ð
IPV6_ADDR_SCOPE_ORGLOCAL
))

	)

331 
	#IN6_IS_ADDR_MC_GLOBAL
(
a
) \

332 (
	`IN6_IS_ADDR_MULTICAST
(
a
) && \

333 (
	`IPV6_ADDR_MC_SCOPE
(
a
è=ð
IPV6_ADDR_SCOPE_GLOBAL
))

	)

335 
	#IN6_IS_ADDR_MC_NODELOCAL
(
a
) \

336 (
	`IN6_IS_ADDR_MULTICAST
(
a
) && \

337 (
	`__IPV6_ADDR_MC_SCOPE
(
a
è=ð
__IPV6_ADDR_SCOPE_NODELOCAL
))

	)

338 
	#IN6_IS_ADDR_MC_LINKLOCAL
(
a
) \

339 (
	`IN6_IS_ADDR_MULTICAST
(
a
) && \

340 (
	`__IPV6_ADDR_MC_SCOPE
(
a
è=ð
__IPV6_ADDR_SCOPE_LINKLOCAL
))

	)

341 
	#IN6_IS_ADDR_MC_SITELOCAL
(
a
) \

342 (
	`IN6_IS_ADDR_MULTICAST
(
a
) && \

343 (
	`__IPV6_ADDR_MC_SCOPE
(
a
è=ð
__IPV6_ADDR_SCOPE_SITELOCAL
))

	)

344 
	#IN6_IS_ADDR_MC_ORGLOCAL
(
a
) \

345 (
	`IN6_IS_ADDR_MULTICAST
(
a
) && \

346 (
	`__IPV6_ADDR_MC_SCOPE
(
a
è=ð
__IPV6_ADDR_SCOPE_ORGLOCAL
))

	)

347 
	#IN6_IS_ADDR_MC_GLOBAL
(
a
) \

348 (
	`IN6_IS_ADDR_MULTICAST
(
a
) && \

349 (
	`__IPV6_ADDR_MC_SCOPE
(
a
è=ð
__IPV6_ADDR_SCOPE_GLOBAL
))

	)

352 #ifdeà
_KERNEL


356 
	#IN6_IS_SCOPE_LINKLOCAL
(
a
) \

357 ((
	`IN6_IS_ADDR_LINKLOCAL
(
a
)) || \

358 (
	`IN6_IS_ADDR_MC_LINKLOCAL
(
a
)))

	)

359 
	#IN6_IS_SCOPE_EMBED
(
a
) \

360 ((
	`IN6_IS_ADDR_LINKLOCAL
(
a
)) || \

361 (
	`IN6_IS_ADDR_MC_LINKLOCAL
(
a
)) || \

362 (
	`IN6_IS_ADDR_MC_INTFACELOCAL
(
a
)))

	)

364 
	#IFA6_IS_DEPRECATED
(
a
) \

365 ((
a
)->
Ÿ6_liãtime
.
Ÿ6t_¶time
 !ð
ND6_INFINITE_LIFETIME
 && \

366 (
u_št32_t
)((
time_u±ime
 - (
a
)->
Ÿ6_upd©‘ime
)) > \

367 (
a
)->
Ÿ6_liãtime
.
Ÿ6t_¶time
)

	)

368 
	#IFA6_IS_INVALID
(
a
) \

369 ((
a
)->
Ÿ6_liãtime
.
Ÿ6t_vÉime
 !ð
ND6_INFINITE_LIFETIME
 && \

370 (
u_št32_t
)((
time_u±ime
 - (
a
)->
Ÿ6_upd©‘ime
)) > \

371 (
a
)->
Ÿ6_liãtime
.
Ÿ6t_vÉime
)

	)

377 #ià
__BSD_VISIBLE


378 
	srou‹_š6
 {

379 
¹’Œy
 *
	mro_¹
;

380 
Î’Œy
 *
	mro_Îe
;

385 *
	mro_´•’d
;

386 
ušt16_t
 
	mro_¶’
;

387 
ušt16_t
 
	mro_æags
;

388 
ušt16_t
 
	mro_mtu
;

389 
ušt16_t
 
	m¥¬e
;

390 
sockaddr_š6
 
	mro_d¡
;

394 #ifdeà
_KERNEL


395 
	#MTAG_ABI_IPV6
 1444287380

	)

396 
	#IPV6_TAG_DIRECT
 0

	)

405 
	#IPV6_OPTIONS
 1

	)

406 
	#IPV6_RECVOPTS
 5

	)

407 
	#IPV6_RECVRETOPTS
 6

	)

408 
	#IPV6_RECVDSTADDR
 7

	)

409 
	#IPV6_RETOPTS
 8

	)

411 
	#IPV6_SOCKOPT_RESERVED1
 3

	)

412 
	#IPV6_UNICAST_HOPS
 4

	)

413 
	#IPV6_MULTICAST_IF
 9

	)

414 
	#IPV6_MULTICAST_HOPS
 10

	)

415 
	#IPV6_MULTICAST_LOOP
 11

	)

416 
	#IPV6_JOIN_GROUP
 12

	)

417 
	#IPV6_LEAVE_GROUP
 13

	)

418 
	#IPV6_PORTRANGE
 14

	)

419 
	#ICMP6_FILTER
 18

	)

421 #ifdeà
_KERNEL


422 
	#IPV6_2292PKTINFO
 19

	)

423 
	#IPV6_2292HOPLIMIT
 20

	)

424 
	#IPV6_2292NEXTHOP
 21

	)

425 
	#IPV6_2292HOPOPTS
 22

	)

426 
	#IPV6_2292DSTOPTS
 23

	)

427 
	#IPV6_2292RTHDR
 24

	)

428 
	#IPV6_2292PKTOPTIONS
 25

	)

431 
	#IPV6_CHECKSUM
 26

	)

432 
	#IPV6_V6ONLY
 27

	)

433 #iâdeà
_KERNEL


434 
	#IPV6_BINDV6ONLY
 
IPV6_V6ONLY


	)

437 
	#IPV6_IPSEC_POLICY
 28

	)

440 
	#IPV6_FW_ADD
 30

	)

441 
	#IPV6_FW_DEL
 31

	)

442 
	#IPV6_FW_FLUSH
 32

	)

443 
	#IPV6_FW_ZERO
 33

	)

444 
	#IPV6_FW_GET
 34

	)

448 
	#IPV6_RTHDRDSTOPTS
 35

	)

450 
	#IPV6_RECVPKTINFO
 36

	)

451 
	#IPV6_RECVHOPLIMIT
 37

	)

452 
	#IPV6_RECVRTHDR
 38

	)

453 
	#IPV6_RECVHOPOPTS
 39

	)

454 
	#IPV6_RECVDSTOPTS
 40

	)

455 #ifdeà
_KERNEL


456 
	#IPV6_RECVRTHDRDSTOPTS
 41

	)

459 
	#IPV6_USE_MIN_MTU
 42

	)

460 
	#IPV6_RECVPATHMTU
 43

	)

462 
	#IPV6_PATHMTU
 44

	)

465 
	#IPV6_REACHCONF
 45

	)

470 
	#IPV6_PKTINFO
 46

	)

471 
	#IPV6_HOPLIMIT
 47

	)

472 
	#IPV6_NEXTHOP
 48

	)

473 
	#IPV6_HOPOPTS
 49

	)

474 
	#IPV6_DSTOPTS
 50

	)

475 
	#IPV6_RTHDR
 51

	)

477 
	#IPV6_PKTOPTIONS
 52

	)

481 
	#IPV6_RECVTCLASS
 57

	)

483 
	#IPV6_AUTOFLOWLABEL
 59

	)

485 
	#IPV6_TCLASS
 61

	)

486 
	#IPV6_DONTFRAG
 62

	)

488 
	#IPV6_PREFER_TEMPADDR
 63

	)

492 
	#IPV6_BINDANY
 64

	)

494 
	#IPV6_BINDMULTI
 65

	)

495 
	#IPV6_RSS_LISTEN_BUCKET
 66

	)

496 
	#IPV6_FLOWID
 67

	)

497 
	#IPV6_FLOWTYPE
 68

	)

498 
	#IPV6_RSSBUCKETID
 69

	)

499 
	#IPV6_RECVFLOWID
 70

	)

500 
	#IPV6_RECVRSSBUCKETID
 71

	)

502 
	#IPV6_ORIGDSTADDR
 72

	)

503 
	#IPV6_RECVORIGDSTADDR
 
IPV6_ORIGDSTADDR


	)

509 
	#IPV6_MSFILTER
 74

	)

515 
	#IPV6_RTHDR_LOOSE
 0

	)

516 
	#IPV6_RTHDR_STRICT
 1

	)

517 
	#IPV6_RTHDR_TYPE_0
 0

	)

522 
	#IPV6_DEFAULT_MULTICAST_HOPS
 1

	)

523 
	#IPV6_DEFAULT_MULTICAST_LOOP
 1

	)

530 
	#IPV6_MIN_MEMBERSHIPS
 31

	)

531 
	#IPV6_MAX_MEMBERSHIPS
 4095

	)

537 
	#IPV6_MAX_GROUP_SRC_FILTER
 512

	)

538 
	#IPV6_MAX_SOCK_SRC_FILTER
 128

	)

543 
	sv6_m»q
 {

544 
š6_addr
 
	mv6mr_muÉŸddr
;

545 
	mv6mr_š‹rçû
;

551 
	sš6_pktšfo
 {

552 
š6_addr
 
	mi6_addr
;

553 
	mi6_ifšdex
;

559 
	s6_mtušfo
 {

560 
sockaddr_š6
 
	m6m_addr
;

561 
ušt32_t
 
	m6m_mtu
;

568 
	#IPV6_PORTRANGE_DEFAULT
 0

	)

569 
	#IPV6_PORTRANGE_HIGH
 1

	)

570 
	#IPV6_PORTRANGE_LOW
 2

	)

572 #ià
__BSD_VISIBLE


579 
	#IPV6PROTO_MAXID
 (
IPPROTO_PIM
 + 1è

	)

584 
	#IPV6CTL_FORWARDING
 1

	)

585 
	#IPV6CTL_SENDREDIRECTS
 2

	)

586 
	#IPV6CTL_DEFHLIM
 3

	)

587 #ifdeà
nÙy‘


588 
	#IPV6CTL_DEFMTU
 4

	)

590 
	#IPV6CTL_FORWSRCRT
 5

	)

591 
	#IPV6CTL_STATS
 6

	)

592 
	#IPV6CTL_MRTSTATS
 7

	)

593 
	#IPV6CTL_MRTPROTO
 8

	)

594 
	#IPV6CTL_MAXFRAGPACKETS
 9

	)

595 
	#IPV6CTL_SOURCECHECK
 10

	)

596 
	#IPV6CTL_SOURCECHECK_LOGINT
 11

	)

597 
	#IPV6CTL_ACCEPT_RTADV
 12

	)

599 
	#IPV6CTL_LOG_INTERVAL
 14

	)

600 
	#IPV6CTL_HDRNESTLIMIT
 15

	)

601 
	#IPV6CTL_DAD_COUNT
 16

	)

602 
	#IPV6CTL_AUTO_FLOWLABEL
 17

	)

603 
	#IPV6CTL_DEFMCASTHLIM
 18

	)

604 
	#IPV6CTL_GIF_HLIM
 19

	)

605 
	#IPV6CTL_KAME_VERSION
 20

	)

606 
	#IPV6CTL_USE_DEPRECATED
 21

	)

607 
	#IPV6CTL_RR_PRUNE
 22

	)

609 
	#IPV6CTL_MAPPED_ADDR
 23

	)

611 
	#IPV6CTL_V6ONLY
 24

	)

616 
	#IPV6CTL_USETEMPADDR
 32

	)

617 
	#IPV6CTL_TEMPPLTIME
 33

	)

618 
	#IPV6CTL_TEMPVLTIME
 34

	)

619 
	#IPV6CTL_AUTO_LINKLOCAL
 35

	)

620 
	#IPV6CTL_RIP6STATS
 36

	)

621 
	#IPV6CTL_PREFER_TEMPADDR
 37

	)

622 
	#IPV6CTL_ADDRCTLPOLICY
 38

	)

623 
	#IPV6CTL_USE_DEFAULTZONE
 39

	)

625 
	#IPV6CTL_MAXFRAGS
 41

	)

627 
	#IPV6CTL_IFQ
 42

	)

628 
	#IPV6CTL_ISATAPRTR
 43

	)

630 
	#IPV6CTL_MCAST_PMTU
 44

	)

634 
	#IPV6CTL_STEALTH
 45

	)

636 
	#ICMPV6CTL_ND6_ONLINKNSRFC4861
 47

	)

637 
	#IPV6CTL_NO_RADR
 48

	)

638 
	#IPV6CTL_NORBIT_RAIF
 49

	)

640 
	#IPV6CTL_RFC6204W3
 50

	)

642 
	#IPV6CTL_INTRQMAXLEN
 51

	)

643 
	#IPV6CTL_INTRDQMAXLEN
 52

	)

645 
	#IPV6CTL_MAXFRAGSPERPACKET
 53

	)

646 
	#IPV6CTL_MAXFRAGBUCKETSIZE
 54

	)

647 
	#IPV6CTL_MAXID
 55

	)

654 
	#M_FASTFWD_OURS
 
M_PROTO1


	)

655 
	#M_IP6_NEXTHOP
 
M_PROTO2


	)

656 
	#M_IP_NEXTHOP
 
M_PROTO2


	)

657 
	#M_SKIP_FIREWALL
 
M_PROTO3


	)

658 
	#M_AUTHIPHDR
 
M_PROTO4


	)

659 
	#M_DECRYPTED
 
M_PROTO5


	)

660 
	#M_LOOP
 
M_PROTO6


	)

661 
	#M_AUTHIPDGM
 
M_PROTO7


	)

662 
	#M_RTALERT_MLD
 
M_PROTO8


	)

663 
	#M_FRAGMENTED
 
M_PROTO9


	)

665 #ifdeà
_KERNEL


666 
	gcmsghdr
;

667 
	g6_hdr
;

669 
š6_cksum_p£udo
(
6_hdr
 *, 
ušt32_t
, 
ušt8_t
, 
ušt16_t
);

670 
š6_cksum
(
mbuf
 *, 
u_št8_t
, 
u_št32_t
, u_int32_t);

671 
š6_cksum_·¹Ÿl
(
mbuf
 *, 
u_št8_t
, 
u_št32_t
, u_int32_t,

672 
u_št32_t
);

673 
š6_loÿÏddr
(
š6_addr
 *);

674 
š6_loÿl
(
š6_addr
 *);

675 
š6_ifha§ddr
(
iâ‘
 *, 
š6_addr
 *);

676 
š6_addrscÝe
(cÚ¡ 
š6_addr
 *);

677 *
6_¥rštf
(*, cÚ¡ 
š6_addr
 *);

678 
š6_içddr
 *
š6_içw™hiå
(
iâ‘
 *, 
š6_addr
 *);

679 
š6_if_up
(
iâ‘
 *);

680 
	gsockaddr
;

681 
u_ch¬
 
6_´Ùox
[];

683 
š6_sš6_2_sš
(
sockaddr_š
 *
sš
,

684 
sockaddr_š6
 *
sš6
);

685 
š6_sš_2_v4m­sš6
(
sockaddr_š
 *
sš
,

686 
sockaddr_š6
 *
sš6
);

687 
š6_sš6_2_sš_š_sock
(
sockaddr
 *
Çm
);

688 
š6_sš_2_v4m­sš6_š_sock
(
sockaddr
 **
Çm
);

689 
addr£l_pÞicy_š™
();

691 
	#§tosš6
(
§
è((
sockaddr_š6
 *)(§))

	)

692 
	#sš6to§
(
sš6
è((
sockaddr
 *)(sš6))

	)

693 
	#içtoŸ6
(
iç
è((
š6_içddr
 *)(iç))

	)

697 #iâdeà
_SIZE_T_DECLARED


698 
__size_t
 
	tsize_t
;

699 
	#_SIZE_T_DECLARED


	)

702 #iâdeà
_SOCKLEN_T_DECLARED


703 
__sockËn_t
 
	tsockËn_t
;

704 
	#_SOCKLEN_T_DECLARED


	)

707 #ià
__BSD_VISIBLE


709 
__BEGIN_DECLS


710 
	gcmsghdr
;

712 
š‘6_ÝtiÚ_¥aû
();

713 
š‘6_ÝtiÚ_š™
(*, 
cmsghdr
 **, );

714 
š‘6_ÝtiÚ_­³nd
(
cmsghdr
 *, cÚ¡ 
ušt8_t
 *,

716 
ušt8_t
 *
š‘6_ÝtiÚ_®loc
(
cmsghdr
 *, , , );

717 
š‘6_ÝtiÚ_Ãxt
(cÚ¡ 
cmsghdr
 *, 
ušt8_t
 **);

718 
š‘6_ÝtiÚ_fšd
(cÚ¡ 
cmsghdr
 *, 
ušt8_t
 **, );

720 
size_t
 
š‘6_¹hdr_¥aû
(, );

721 
cmsghdr
 *
š‘6_¹hdr_š™
(*, );

722 
š‘6_¹hdr_add
(
cmsghdr
 *, cÚ¡ 
š6_addr
 *,

724 
š‘6_¹hdr_Ï¡hÝ
(
cmsghdr
 *, );

726 
š‘6_¹hdr_»v”£
(cÚ¡ 
cmsghdr
 *, cmsghdr *);

728 
š‘6_¹hdr_£gm’ts
(cÚ¡ 
cmsghdr
 *);

729 
š6_addr
 *
š‘6_¹hdr_g‘addr
(
cmsghdr
 *, );

730 
š‘6_¹hdr_g‘æags
(cÚ¡ 
cmsghdr
 *, );

732 
š‘6_Ýt_š™
(*, 
sockËn_t
);

733 
š‘6_Ýt_­³nd
(*, 
sockËn_t
, , 
ušt8_t
, socklen_t,

734 
ušt8_t
, **);

735 
š‘6_Ýt_fšish
(*, 
sockËn_t
, );

736 
š‘6_Ýt_£t_v®
(*, , *, 
sockËn_t
);

738 
š‘6_Ýt_Ãxt
(*, 
sockËn_t
, , 
ušt8_t
 *, socklen_t *,

740 
š‘6_Ýt_fšd
(*, 
sockËn_t
, , 
ušt8_t
, socklen_t *,

742 
š‘6_Ýt_g‘_v®
(*, , *, 
sockËn_t
);

743 
sockËn_t
 
š‘6_¹h_¥aû
(, );

744 *
š‘6_¹h_š™
(*, 
sockËn_t
, , );

745 
š‘6_¹h_add
(*, cÚ¡ 
š6_addr
 *);

746 
š‘6_¹h_»v”£
(const *, *);

747 
š‘6_¹h_£gm’ts
(const *);

748 
š6_addr
 *
š‘6_¹h_g‘addr
(const *, );

749 
	g__END_DECLS


	@/usr/include/netinet6/in6_var.h

66 #iâdeà
_NETINET6_IN6_VAR_H_


67 
	#_NETINET6_IN6_VAR_H_


	)

69 
	~<sys/Œ“.h
>

70 
	~<sys/couÁ”.h
>

72 #ifdeà
_KERNEL


73 
	~<sys/âv_hash.h
>

74 
	~<sys/libk”n.h
>

92 
	sš6_add¾iãtime
 {

93 
time_t
 
	mŸ6t_expœe
;

94 
time_t
 
	mŸ6t_´eã¼ed
;

95 
u_št32_t
 
	mŸ6t_vÉime
;

96 
u_št32_t
 
	mŸ6t_¶time
;

99 
	gnd_ifšfo
;

100 
	gscÝe6_id
;

101 
	gÎbË
;

102 
	gmld_ifsoác
;

103 
	gš6_muÉi
;

105 
	sš6_iãxŒa
 {

106 
couÁ”_u64_t
 *
	mš6_if¡©
;

107 
couÁ”_u64_t
 *
	micmp6_if¡©
;

108 
nd_ifšfo
 *
	mnd_ifšfo
;

109 
scÝe6_id
 *
	mscÝe6_id
;

110 
ÎbË
 *
	mÎbË
;

111 
mld_ifsoác
 *
	mmld_ifšfo
;

114 
	#LLTABLE6
(
iå
è(((
š6_iãxŒa
 *)(iå)->
if_afd©a
[
AF_INET6
])->
ÎbË
)

	)

116 #ifdeà
_KERNEL


118 
SLIST_HEAD
(
š6_muÉi_h—d
, 
š6_muÉi
);

119 
MALLOC_DECLARE
(
M_IP6MADDR
);

121 
	sš6_içddr
 {

122 
içddr
 
	mŸ_iç
;

123 
	#Ÿ_iå
 
Ÿ_iç
.
iç_iå


	)

124 
	#Ÿ_æags
 
Ÿ_iç
.
iç_æags


	)

125 
sockaddr_š6
 
	mŸ_addr
;

126 
sockaddr_š6
 
	mŸ_Ãt
;

127 
sockaddr_š6
 
	mŸ_d¡addr
;

128 
sockaddr_š6
 
	mŸ_´efixmask
;

129 
u_št32_t
 
	mŸ_¶’
;

130 
CK_STAILQ_ENTRY
(
š6_içddr
è
	mŸ_lšk
;

131 
	mŸ6_æags
;

133 
š6_add¾iãtime
 
	mŸ6_liãtime
;

134 
time_t
 
	mŸ6_ü—‹time
;

137 
time_t
 
	mŸ6_upd©‘ime
;

140 
nd_´efix
 *
	mŸ6_nd´
;

143 
LIST_HEAD
(, 
š6_muÉi_msh
è
	mŸ6_memb”shs
;

145 
CK_LIST_ENTRY
(
š6_içddr
è
	mŸ6_hash
;

149 
CK_STAILQ_HEAD
(
š6_içddrh—d
, 
š6_içddr
);

150 
CK_LIST_HEAD
(
š6_içdd¾i¡h—d
, 
š6_içddr
);

154 
	sš6_add½Þicy
 {

155 
sockaddr_š6
 
	maddr
;

156 
sockaddr_š6
 
	maddrmask
;

157 
	m´eûd
;

158 
	mÏb–
;

159 
u_quad_t
 
	mu£
;

165 
	sš6_if¡©
 {

166 
ušt64_t
 
	mifs6_š_»ûive
;

167 
ušt64_t
 
	mifs6_š_hd»¼
;

168 
ušt64_t
 
	mifs6_š_toobig
;

169 
ušt64_t
 
	mifs6_š_nÜou‹
;

170 
ušt64_t
 
	mifs6_š_add»¼
;

171 
ušt64_t
 
	mifs6_š_´Ùounknown
;

173 
ušt64_t
 
	mifs6_š_Œunÿ‹d
;

174 
ušt64_t
 
	mifs6_š_disÿrd
;

176 
ušt64_t
 
	mifs6_š_d–iv”
;

178 
ušt64_t
 
	mifs6_out_fÜw¬d
;

180 
ušt64_t
 
	mifs6_out_»que¡
;

182 
ušt64_t
 
	mifs6_out_disÿrd
;

183 
ušt64_t
 
	mifs6_out_äagok
;

184 
ušt64_t
 
	mifs6_out_äagçž
;

185 
ušt64_t
 
	mifs6_out_äagü—t
;

187 
ušt64_t
 
	mifs6_»ass_»qd
;

189 
ušt64_t
 
	mifs6_»ass_ok
;

192 
ušt64_t
 
	mifs6_»ass_çž
;

195 
ušt64_t
 
	mifs6_š_mÿ¡
;

196 
ušt64_t
 
	mifs6_out_mÿ¡
;

203 
	sicmp6_if¡©
 {

208 
ušt64_t
 
	mifs6_š_msg
;

210 
ušt64_t
 
	mifs6_š_”rÜ
;

212 
ušt64_t
 
	mifs6_š_d¡uÄ—ch
;

214 
ušt64_t
 
	mifs6_š_admš´ohib
;

216 
ušt64_t
 
	mifs6_š_tim“xûed
;

218 
ušt64_t
 
	mifs6_š_·¿m´ob
;

220 
ušt64_t
 
	mifs6_š_pk‰oobig
;

222 
ušt64_t
 
	mifs6_š_echo
;

224 
ušt64_t
 
	mifs6_š_echÜ•ly
;

226 
ušt64_t
 
	mifs6_š_rou‹rsÞic™
;

228 
ušt64_t
 
	mifs6_š_rou‹¿dv”t
;

230 
ušt64_t
 
	mifs6_š_ÃighbÜsÞic™
;

232 
ušt64_t
 
	mifs6_š_ÃighbÜadv”t
;

234 
ušt64_t
 
	mifs6_š_»dœeù
;

236 
ušt64_t
 
	mifs6_š_mldqu”y
;

238 
ušt64_t
 
	mifs6_š_mld»pÜt
;

240 
ušt64_t
 
	mifs6_š_mlddÚe
;

246 
ušt64_t
 
	mifs6_out_msg
;

248 
ušt64_t
 
	mifs6_out_”rÜ
;

250 
ušt64_t
 
	mifs6_out_d¡uÄ—ch
;

252 
ušt64_t
 
	mifs6_out_admš´ohib
;

254 
ušt64_t
 
	mifs6_out_tim“xûed
;

256 
ušt64_t
 
	mifs6_out_·¿m´ob
;

258 
ušt64_t
 
	mifs6_out_pk‰oobig
;

260 
ušt64_t
 
	mifs6_out_echo
;

262 
ušt64_t
 
	mifs6_out_echÜ•ly
;

264 
ušt64_t
 
	mifs6_out_rou‹rsÞic™
;

266 
ušt64_t
 
	mifs6_out_rou‹¿dv”t
;

268 
ušt64_t
 
	mifs6_out_ÃighbÜsÞic™
;

270 
ušt64_t
 
	mifs6_out_ÃighbÜadv”t
;

272 
ušt64_t
 
	mifs6_out_»dœeù
;

274 
ušt64_t
 
	mifs6_out_mldqu”y
;

276 
ušt64_t
 
	mifs6_out_mld»pÜt
;

278 
ušt64_t
 
	mifs6_out_mlddÚe
;

281 
	sš6_iäeq
 {

282 
	miä_Çme
[
IFNAMSIZ
];

284 
sockaddr_š6
 
	miäu_addr
;

285 
sockaddr_š6
 
	miäu_d¡addr
;

286 
	miäu_æags
;

287 
	miäu_æags6
;

288 
	miäu_m‘ric
;

289 
ÿddr_t
 
	miäu_d©a
;

290 
š6_add¾iãtime
 
	miäu_liãtime
;

291 
š6_if¡©
 
	miäu_¡©
;

292 
icmp6_if¡©
 
	miäu_icmp6¡©
;

293 
u_št32_t
 
	miäu_scÝe_id
[16];

294 } 
	miä_iäu
;

297 
	sš6_®Ÿ¤eq
 {

298 
	miäa_Çme
[
IFNAMSIZ
];

299 
sockaddr_š6
 
	miäa_addr
;

300 
sockaddr_š6
 
	miäa_d¡addr
;

301 
sockaddr_š6
 
	miäa_´efixmask
;

302 
	miäa_æags
;

303 
š6_add¾iãtime
 
	miäa_liãtime
;

304 
	miäa_vhid
;

308 
	soš6_®Ÿ¤eq
 {

309 
	miäa_Çme
[
IFNAMSIZ
];

310 
sockaddr_š6
 
	miäa_addr
;

311 
sockaddr_š6
 
	miäa_d¡addr
;

312 
sockaddr_š6
 
	miäa_´efixmask
;

313 
	miäa_æags
;

314 
š6_add¾iãtime
 
	miäa_liãtime
;

318 
	#IN6_PREFIX_ND
 1

	)

319 
	#IN6_PREFIX_RR
 2

	)

325 
	sš6_´æags
 {

326 
	s´f_¿
 {

327 
u_ch¬
 
	mÚlšk
 : 1;

328 
u_ch¬
 
	mautÚomous
 : 1;

329 
u_ch¬
 
	m»£rved
 : 6;

330 } 
	m´f_¿
;

331 
u_ch¬
 
	m´f_»£rved1
;

332 
u_shÜt
 
	m´f_»£rved2
;

334 
	s´f_¼
 {

335 
u_ch¬
 
	mdeüv®id
 : 1;

336 
u_ch¬
 
	mdeü´efd
 : 1;

337 
u_ch¬
 
	m»£rved
 : 6;

338 } 
	m´f_¼
;

339 
u_ch¬
 
	m´f_»£rved3
;

340 
u_shÜt
 
	m´f_»£rved4
;

343 
	sš6_´efix»q
 {

344 
	mr_Çme
[
IFNAMSIZ
];

345 
u_ch¬
 
	mr_Üigš
;

346 
u_ch¬
 
	mr_¶’
;

347 
u_št32_t
 
	mr_vÉime
;

348 
u_št32_t
 
	mr_¶time
;

349 
š6_´æags
 
	mr_æags
;

350 
sockaddr_š6
 
	mr_´efix
;

353 
	#PR_ORIG_RA
 0

	)

354 
	#PR_ORIG_RR
 1

	)

355 
	#PR_ORIG_STATIC
 2

	)

356 
	#PR_ORIG_KERNEL
 3

	)

358 
	#r_¿f_Úlšk
 
r_æags
.
´f_¿
.
Úlšk


	)

359 
	#r_¿f_auto
 
r_æags
.
´f_¿
.
autÚomous


	)

361 
	#r_¡©ef_Úlšk
 
r_æags
.
´f_¡©e
.
Úlšk


	)

363 
	#r_¼f_deüv®id
 
r_æags
.
´f_¼
.
deüv®id


	)

364 
	#r_¼f_deü´efd
 
r_æags
.
´f_¼
.
deü´efd


	)

366 
	sš6_¼’um»q
 {

367 
	mœr_Çme
[
IFNAMSIZ
];

368 
u_ch¬
 
	mœr_Üigš
;

369 
u_ch¬
 
	mœr_m_Ën
;

370 
u_ch¬
 
	mœr_m_mšËn
;

371 
u_ch¬
 
	mœr_m_maxËn
;

372 
u_ch¬
 
	mœr_u_u£Ën
;

373 
u_ch¬
 
	mœr_u_k“¶’
;

374 
	sœr_¿æagmask
 {

375 
u_ch¬
 
	mÚlšk
 : 1;

376 
u_ch¬
 
	mautÚomous
 : 1;

377 
u_ch¬
 
	m»£rved
 : 6;

378 } 
	mœr_¿æagmask
;

379 
u_št32_t
 
	mœr_vÉime
;

380 
u_št32_t
 
	mœr_¶time
;

381 
š6_´æags
 
	mœr_æags
;

382 
sockaddr_š6
 
	mœr_m©ch´efix
;

383 
sockaddr_š6
 
	mœr_u£´efix
;

386 
	#œr_¿f_mask_Úlšk
 
œr_¿æagmask
.
Úlšk


	)

387 
	#œr_¿f_mask_auto
 
œr_¿æagmask
.
autÚomous


	)

388 
	#œr_¿f_mask_»£rved
 
œr_¿æagmask
.
»£rved


	)

390 
	#œr_¿f_Úlšk
 
œr_æags
.
´f_¿
.
Úlšk


	)

391 
	#œr_¿f_auto
 
œr_æags
.
´f_¿
.
autÚomous


	)

393 
	#œr_¡©ef_Úlšk
 
œr_æags
.
´f_¡©e
.
Úlšk


	)

395 
	#œr_¼f
 
œr_æags
.
´f_¼


	)

396 
	#œr_¼f_deüv®id
 
œr_æags
.
´f_¼
.
deüv®id


	)

397 
	#œr_¼f_deü´efd
 
œr_æags
.
´f_¼
.
deü´efd


	)

403 
	#IA6_IN6
(
Ÿ
è(&((Ÿ)->
Ÿ_addr
.
sš6_addr
))

	)

404 
	#IA6_DSTIN6
(
Ÿ
è(&((Ÿ)->
Ÿ_d¡addr
.
sš6_addr
))

	)

405 
	#IA6_MASKIN6
(
Ÿ
è(&((Ÿ)->
Ÿ_´efixmask
.
sš6_addr
))

	)

406 
	#IA6_SIN6
(
Ÿ
è(&((Ÿ)->
Ÿ_addr
))

	)

407 
	#IA6_DSTSIN6
(
Ÿ
è(&((Ÿ)->
Ÿ_d¡addr
))

	)

408 
	#IFA_IN6
(
x
è(&((
sockaddr_š6
 *)((x)->
iç_addr
))->
sš6_addr
)

	)

409 
	#IFA_DSTIN6
(
x
è(&((
sockaddr_š6
 *)((x)->
iç_d¡addr
))->
sš6_addr
)

	)

411 
	#IFPR_IN6
(
x
è(&((
sockaddr_š6
 *)((x)->
iår_´efix
))->
sš6_addr
)

	)

413 #ifdeà
_KERNEL


414 
	#IN6_ARE_MASKED_ADDR_EQUAL
(
d
, 
a
, 
m
) ( \

415 (((
d
)->
s6_addr32
[0] ^ (
a
)->s6_addr32[0]è& (
m
)->s6_addr32[0]) == 0 && \

416 (((
d
)->
s6_addr32
[1] ^ (
a
)->s6_addr32[1]è& (
m
)->s6_addr32[1]) == 0 && \

417 (((
d
)->
s6_addr32
[2] ^ (
a
)->s6_addr32[2]è& (
m
)->s6_addr32[2]) == 0 && \

418 (((
d
)->
s6_addr32
[3] ^ (
a
)->s6_addr32[3]è& (
m
)->s6_addr32[3]è=ð0 )

	)

419 
	#IN6_MASK_ADDR
(
a
, 
m
) do { \

420 (
a
)->
s6_addr32
[0] &ð(
m
)->s6_addr32[0]; \

421 (
a
)->
s6_addr32
[1] &ð(
m
)->s6_addr32[1]; \

422 (
a
)->
s6_addr32
[2] &ð(
m
)->s6_addr32[2]; \

423 (
a
)->
s6_addr32
[3] &ð(
m
)->s6_addr32[3]; \

424 } 0)

	)

427 
	#SIOCSIFADDR_IN6
 
	`_IOW
('i', 12, 
š6_iäeq
)

	)

428 
	#SIOCGIFADDR_IN6
 
	`_IOWR
('i', 33, 
š6_iäeq
)

	)

430 #ifdeà
_KERNEL


435 
	#SIOCSIFDSTADDR_IN6
 
	`_IOW
('i', 14, 
š6_iäeq
)

	)

436 
	#SIOCSIFNETMASK_IN6
 
	`_IOW
('i', 22, 
š6_iäeq
)

	)

439 
	#SIOCGIFDSTADDR_IN6
 
	`_IOWR
('i', 34, 
š6_iäeq
)

	)

440 
	#SIOCGIFNETMASK_IN6
 
	`_IOWR
('i', 37, 
š6_iäeq
)

	)

442 
	#SIOCDIFADDR_IN6
 
	`_IOW
('i', 25, 
š6_iäeq
)

	)

443 
	#OSIOCAIFADDR_IN6
 
	`_IOW
('i', 26, 
oš6_®Ÿ¤eq
)

	)

444 
	#SIOCAIFADDR_IN6
 
	`_IOW
('i', 27, 
š6_®Ÿ¤eq
)

	)

446 
	#SIOCSIFPHYADDR_IN6
 
	`_IOW
('i', 70, 
š6_®Ÿ¤eq
)

	)

447 
	#SIOCGIFPSRCADDR_IN6
 
	`_IOWR
('i', 71, 
š6_iäeq
)

	)

448 
	#SIOCGIFPDSTADDR_IN6
 
	`_IOWR
('i', 72, 
š6_iäeq
)

	)

450 
	#SIOCGIFAFLAG_IN6
 
	`_IOWR
('i', 73, 
š6_iäeq
)

	)

452 #ifdeà
_KERNEL


453 
	#OSIOCGIFINFO_IN6
 
	`_IOWR
('i', 76, 
š6_Údœeq
)

	)

455 
	#SIOCGIFINFO_IN6
 
	`_IOWR
('i', 108, 
š6_ndœeq
)

	)

456 
	#SIOCSIFINFO_IN6
 
	`_IOWR
('i', 109, 
š6_ndœeq
)

	)

457 
	#SIOCSNDFLUSH_IN6
 
	`_IOWR
('i', 77, 
š6_iäeq
)

	)

458 
	#SIOCGNBRINFO_IN6
 
	`_IOWR
('i', 78, 
š6_nbršfo
)

	)

459 
	#SIOCSPFXFLUSH_IN6
 
	`_IOWR
('i', 79, 
š6_iäeq
)

	)

460 
	#SIOCSRTRFLUSH_IN6
 
	`_IOWR
('i', 80, 
š6_iäeq
)

	)

462 
	#SIOCGIFALIFETIME_IN6
 
	`_IOWR
('i', 81, 
š6_iäeq
)

	)

463 
	#SIOCGIFSTAT_IN6
 
	`_IOWR
('i', 83, 
š6_iäeq
)

	)

464 
	#SIOCGIFSTAT_ICMP6
 
	`_IOWR
('i', 84, 
š6_iäeq
)

	)

466 
	#SIOCSDEFIFACE_IN6
 
	`_IOWR
('i', 85, 
š6_ndiäeq
)

	)

467 
	#SIOCGDEFIFACE_IN6
 
	`_IOWR
('i', 86, 
š6_ndiäeq
)

	)

469 
	#SIOCSIFINFO_FLAGS
 
	`_IOWR
('i', 87, 
š6_ndœeq
è

	)

471 
	#SIOCSSCOPE6
 
	`_IOW
('i', 88, 
š6_iäeq
)

	)

472 
	#SIOCGSCOPE6
 
	`_IOWR
('i', 89, 
š6_iäeq
)

	)

473 
	#SIOCGSCOPE6DEF
 
	`_IOWR
('i', 90, 
š6_iäeq
)

	)

475 
	#SIOCSIFPREFIX_IN6
 
	`_IOW
('i', 100, 
š6_´efix»q
è

	)

476 
	#SIOCGIFPREFIX_IN6
 
	`_IOWR
('i', 101, 
š6_´efix»q
è

	)

477 
	#SIOCDIFPREFIX_IN6
 
	`_IOW
('i', 102, 
š6_´efix»q
è

	)

478 
	#SIOCAIFPREFIX_IN6
 
	`_IOW
('i', 103, 
š6_¼’um»q
è

	)

479 
	#SIOCCIFPREFIX_IN6
 
	`_IOW
('i', 104, \

480 
š6_¼’um»q
è

	)

481 
	#SIOCSGIFPREFIX_IN6
 
	`_IOW
('i', 105, \

482 
š6_¼’um»q
è

	)

484 
	#SIOCGETSGCNT_IN6
 
	`_IOWR
('u', 106, \

485 
sioc_sg_»q6
è

	)

486 
	#SIOCGETMIFCNT_IN6
 
	`_IOWR
('u', 107, \

487 
sioc_mif_»q6
è

	)

489 
	#SIOCAADDRCTL_POLICY
 
	`_IOW
('u', 108, 
š6_add½Þicy
)

	)

490 
	#SIOCDADDRCTL_POLICY
 
	`_IOW
('u', 109, 
š6_add½Þicy
)

	)

492 
	#IN6_IFF_ANYCAST
 0x01

	)

493 
	#IN6_IFF_TENTATIVE
 0x02

	)

494 
	#IN6_IFF_DUPLICATED
 0x04

	)

495 
	#IN6_IFF_DETACHED
 0x08

	)

496 
	#IN6_IFF_DEPRECATED
 0x10

	)

497 
	#IN6_IFF_NODAD
 0x20

	)

500 
	#IN6_IFF_AUTOCONF
 0x40

	)

501 
	#IN6_IFF_TEMPORARY
 0x80

	)

502 
	#IN6_IFF_PREFER_SOURCE
 0x0100

	)

505 
	#IN6_IFF_NOTREADY
 (
IN6_IFF_TENTATIVE
|
IN6_IFF_DUPLICATED
)

	)

507 #ifdeà
_KERNEL


508 
	#IN6_ARE_SCOPE_CMP
(
a
,
b
è(×)-(b))

	)

509 
	#IN6_ARE_SCOPE_EQUAL
(
a
,
b
è(×)==(b))

	)

512 #ifdeà
_KERNEL


513 
VNET_DECLARE
(
š6_içddrh—d
, in6_ifaddrhead);

514 
VNET_DECLARE
(
š6_içdd¾i¡h—d
 *, 
š6_içddrhashtbl
);

515 
VNET_DECLARE
(
u_lÚg
, 
š6_içddrhmask
);

516 
	#V_š6_içddrh—d
 
	`VNET
(
š6_içddrh—d
)

	)

517 
	#V_š6_içddrhashtbl
 
	`VNET
(
š6_içddrhashtbl
)

	)

518 
	#V_š6_içddrhmask
 
	`VNET
(
š6_içddrhmask
)

	)

520 
	#IN6ADDR_NHASH_LOG2
 8

	)

521 
	#IN6ADDR_NHASH
 (1 << 
IN6ADDR_NHASH_LOG2
)

	)

522 
	#IN6ADDR_HASHVAL
(
x
è(
	`š6_addrhash
(x))

	)

523 
	#IN6ADDR_HASH
(
x
) \

524 (&
V_š6_içddrhashtbl
[
	`IN6ADDR_HASHVAL
(
x
è& 
V_š6_içddrhmask
])

	)

526 
__šlše
 
ušt32_t


527 
	$š6_addrhash
(cÚ¡ 
š6_addr
 *
š6
)

529 
ušt32_t
 
x
;

531 
x
 = 
š6
->
s6_addr32
[0] ^ in6->s6_addr32[1] ^ in6->s6_addr32[2] ^

532 
š6
->
s6_addr32
[3];

533  (
	`âv_32_buf
(&
x
, (x), 
FNV1_32_INIT
));

534 
	}
}

536 
rmlock
 
š6_içddr_lock
;

537 
	#IN6_IFADDR_LOCK_ASSERT
(è
	`rm_as£¹
(&
š6_içddr_lock
, 
RA_LOCKED
)

	)

538 
	#IN6_IFADDR_RLOCK
(
t
è
	`rm_¾ock
(&
š6_içddr_lock
, (t))

	)

539 
	#IN6_IFADDR_RLOCK_ASSERT
(è
	`rm_as£¹
(&
š6_içddr_lock
, 
RA_RLOCKED
)

	)

540 
	#IN6_IFADDR_RUNLOCK
(
t
è
	`rm_ruÆock
(&
š6_içddr_lock
, (t))

	)

541 
	#IN6_IFADDR_WLOCK
(è
	`rm_wlock
(&
š6_içddr_lock
)

	)

542 
	#IN6_IFADDR_WLOCK_ASSERT
(è
	`rm_as£¹
(&
š6_içddr_lock
, 
RA_WLOCKED
)

	)

543 
	#IN6_IFADDR_WUNLOCK
(è
	`rm_wuÆock
(&
š6_içddr_lock
)

	)

545 
	#š6_if¡©_šc
(
iå
, 
g
) \

547 ià(
iå
) \

548 
	`couÁ”_u64_add
(((
š6_iãxŒa
 *) \

549 ((
iå
)->
if_afd©a
[
AF_INET6
]))->
š6_if¡©
[ \

550 
	`off£tof
(
š6_if¡©
, 
g
è/ (
ušt64_t
)], 1);\

551 }  0)

	)

553 
u_ch¬
 
š‘6ùË¼m­
[];

554 
VNET_DECLARE
(, 
š6_maxmtu
);

555 
	#V_š6_maxmtu
 
	`VNET
(
š6_maxmtu
)

	)

561 
	s6_msourû
 {

562 
RB_ENTRY
(
6_msourû
è
	mim6s_lšk
;

563 
š6_addr
 
	mim6s_addr
;

564 
	sim6s_¡
 {

565 
ušt16_t
 
	mex
;

566 
ušt16_t
 
	mš
;

567 } 
	mim6s_¡
[2];

568 
ušt8_t
 
	mim6s_¡p
;

570 
RB_HEAD
(
6_msourû_Œ“
, 
6_msourû
);

577 
	sš6_msourû
 {

578 
RB_ENTRY
(
6_msourû
è
	mim6s_lšk
;

579 
š6_addr
 
	mim6s_addr
;

580 
ušt8_t
 
	mim6¦_¡
[2];

583 #ifdeà
_KERNEL


590 
__šlše
 

591 
	$6_msourû_cmp
(cÚ¡ 
6_msourû
 *
a
, cÚ¡ 6_msourû *
b
)

594  (
	`memcmp
(&
a
->
im6s_addr
, &
b
->im6s_addr, (
š6_addr
)));

595 
	}
}

596 
RB_PROTOTYPE
(
6_msourû_Œ“
, 
6_msourû
, 
im6s_lšk
, 
6_msourû_cmp
);

601 
	sš6_mfž‹r
 {

602 
6_msourû_Œ“
 
	mim6f_sourûs
;

603 
u_lÚg
 
	mim6f_n¤c
;

604 
ušt8_t
 
	mim6f_¡
[2];

610 
	sš6_muÉi_msh
 {

611 
š6_muÉi
 *
	mi6mm_maddr
;

612 
LIST_ENTRY
(
š6_muÉi_msh
è
	mi6mm_chaš
;

637 
	sš6_muÉi
 {

638 
š6_addr
 
	mš6m_addr
;

639 
iâ‘
 *
	mš6m_iå
;

640 
ifmuÉŸddr
 *
	mš6m_ifma
;

641 
u_št
 
	mš6m_»fcouÁ
;

642 
u_št
 
	mš6m_¡©e
;

643 
u_št
 
	mš6m_tim”
;

646 
mld_ifsoác
 *
	mš6m_mli
;

647 
SLIST_ENTRY
(
š6_muÉi
è
	mš6m_Ä–e
;

648 
6_msourû_Œ“
 
	mš6m_¤cs
;

649 
u_lÚg
 
	mš6m_n¤c
;

651 
mbufq
 
	mš6m_scq
;

653 
timev®
 
	mš6m_Ï¡g¤tv
;

654 
ušt16_t
 
	mš6m_sùim”
;

655 
ušt16_t
 
	mš6m_süv
;

664 
	sš6m_¡
 {

665 
ušt16_t
 
	miss_fmode
;

666 
ušt16_t
 
	miss_asm
;

667 
ušt16_t
 
	miss_ex
;

668 
ušt16_t
 
	miss_š
;

669 
ušt16_t
 
	miss_»c
;

670 } 
	mš6m_¡
[2];

673 
š6m_discÚÃù
(
š6_muÉi
 *
šm
);

674 
ifma6_»¡¬t
;

683 
__šlše
 
ušt8_t


684 
	$im6s_g‘_mode
(cÚ¡ 
š6_muÉi
 *
šm
, cÚ¡ 
6_msourû
 *
ims
,

685 
ušt8_t
 
t
)

688 
t
 = !!t;

689 ià(
šm
->
š6m_¡
[
t
].
iss_ex
 > 0 &&

690 
šm
->
š6m_¡
[
t
].
iss_ex
 =ð
ims
->
im6s_¡
[t].
ex
)

691  (
MCAST_EXCLUDE
);

692 ià(
ims
->
im6s_¡
[
t
].
š
 > 0 && ims->im6s_¡[t].
ex
 == 0)

693  (
MCAST_INCLUDE
);

694  (
MCAST_UNDEFINED
);

695 
	}
}

703 
mtx
 
š6_muÉi_li¡_mtx
;

704 
sx
 
š6_muÉi_sx
;

706 
	#IN6_MULTI_LIST_LOCK
(è
	`mtx_lock
(&
š6_muÉi_li¡_mtx
)

	)

707 
	#IN6_MULTI_LIST_UNLOCK
(è
	`mtx_uÆock
(&
š6_muÉi_li¡_mtx
)

	)

708 
	#IN6_MULTI_LIST_LOCK_ASSERT
(è
	`mtx_as£¹
(&
š6_muÉi_li¡_mtx
, 
MA_OWNED
)

	)

709 
	#IN6_MULTI_LIST_UNLOCK_ASSERT
(è
	`mtx_as£¹
(&
š6_muÉi_li¡_mtx
, 
MA_NOTOWNED
)

	)

711 
	#IN6_MULTI_LOCK
(è
	`sx_xlock
(&
š6_muÉi_sx
)

	)

712 
	#IN6_MULTI_UNLOCK
(è
	`sx_xuÆock
(&
š6_muÉi_sx
)

	)

713 
	#IN6_MULTI_LOCK_ASSERT
(è
	`sx_as£¹
(&
š6_muÉi_sx
, 
SA_XLOCKED
)

	)

714 
	#IN6_MULTI_UNLOCK_ASSERT
(è
	`sx_as£¹
(&
š6_muÉi_sx
, 
SA_XUNLOCKED
)

	)

724 
__šlše
 
š6_muÉi
 *

725 
	$š6m_lookup_locked
(
iâ‘
 *
iå
, cÚ¡ 
š6_addr
 *
mÿddr
)

727 
ifmuÉŸddr
 *
ifma
;

728 
š6_muÉi
 *
šm
;

730 
šm
 = 
NULL
;

731 
	`CK_STAILQ_FOREACH
(
ifma
, &((
iå
)->
if_muÉŸddrs
), 
ifma_lšk
) {

732 ià(
ifma
->
ifma_addr
->
§_çmžy
 =ð
AF_INET6
) {

733 
šm
 = (
š6_muÉi
 *)
ifma
->
ifma_´Ùo¥ec
;

734 ià(
šm
 =ð
NULL
)

736 ià(
	`IN6_ARE_ADDR_EQUAL
(&
šm
->
š6m_addr
, 
mÿddr
))

738 
šm
 = 
NULL
;

741  (
šm
);

742 
	}
}

749 
__šlše
 
š6_muÉi
 *

750 
	$š6m_lookup
(
iâ‘
 *
iå
, cÚ¡ 
š6_addr
 *
mÿddr
)

752 
š6_muÉi
 *
šm
;

754 
	`IN6_MULTI_LIST_LOCK
();

755 
	`IF_ADDR_RLOCK
(
iå
);

756 
šm
 = 
	`š6m_lookup_locked
(
iå
, 
mÿddr
);

757 
	`IF_ADDR_RUNLOCK
(
iå
);

758 
	`IN6_MULTI_LIST_UNLOCK
();

760  (
šm
);

761 
	}
}

764 
__šlše
 

765 
	$š6m_acquœe_locked
(
š6_muÉi
 *
šm
)

768 
	`IN6_MULTI_LIST_LOCK_ASSERT
();

769 ++
šm
->
š6m_»fcouÁ
;

770 
	}
}

772 
__šlše
 

773 
	$š6m_acquœe
(
š6_muÉi
 *
šm
)

775 
	`IN6_MULTI_LIST_LOCK
();

776 
	`š6m_acquœe_locked
(
šm
);

777 
	`IN6_MULTI_LIST_UNLOCK
();

778 
	}
}

780 
__šlše
 

781 
	$š6m_»Ë_locked
(
š6_muÉi_h—d
 *
šmh
, 
š6_muÉi
 *
šm
)

783 
	`KASSERT
(
šm
->
š6m_»fcouÁ
 > 0, ("refcount == %d inm: %p", inm->in6m_refcount, inm));

784 
	`IN6_MULTI_LIST_LOCK_ASSERT
();

786 ià(--
šm
->
š6m_»fcouÁ
 == 0) {

787 
	`MPASS
(
šm
->
š6m_iå
 =ð
NULL
);

788 
šm
->
š6m_ifma
->
ifma_´Ùo¥ec
 = 
NULL
;

789 
	`MPASS
(
šm
->
š6m_ifma
->
ifma_Îifma
 =ð
NULL
);

790 
	`SLIST_INSERT_HEAD
(
šmh
, 
šm
, 
š6m_Ä–e
);

792 
	}
}

794 
	g6_mÝtiÚs
;

795 
	gsockÝt
;

796 
	gšpcbšfo
;

799 
im6o_mc_fž‹r
(cÚ¡ 
6_mÝtiÚs
 *, cÚ¡ 
iâ‘
 *,

800 cÚ¡ 
sockaddr
 *, const sockaddr *);

801 
š6_jošgroup
(
iâ‘
 *, cÚ¡ 
š6_addr
 *,

802 
š6_mfž‹r
 *, 
š6_muÉi
 **, );

803 
š6_jošgroup_locked
(
iâ‘
 *, cÚ¡ 
š6_addr
 *,

804 
š6_mfž‹r
 *, 
š6_muÉi
 **, );

805 
š6_Ëavegroup
(
š6_muÉi
 *, 
š6_mfž‹r
 *);

806 
š6_Ëavegroup_locked
(
š6_muÉi
 *, 
š6_mfž‹r
 *);

807 
š6m_þ—r_»cÜded
(
š6_muÉi
 *);

808 
š6m_comm™
(
š6_muÉi
 *);

809 
š6m_´št
(cÚ¡ 
š6_muÉi
 *);

810 
š6m_»cÜd_sourû
(
š6_muÉi
 *, cÚ¡ 
š6_addr
 *);

811 
š6m_»Ëa£_deã¼ed
(
š6_muÉi
 *);

812 
š6m_»Ëa£_li¡_deã¼ed
(
š6_muÉi_h—d
 *);

813 
6_ä“mÝtiÚs
(
6_mÝtiÚs
 *);

814 
6_g‘mÝtiÚs
(
špcb
 *, 
sockÝt
 *);

815 
6_£tmÝtiÚs
(
špcb
 *, 
sockÝt
 *);

818 
	#IN6_IFAUPDATE_DADDELAY
 0x1

	)

820 
š6_mask2Ën
(
š6_addr
 *, 
u_ch¬
 *);

821 
š6_cÚŒÞ
(
sock‘
 *, 
u_lÚg
, 
ÿddr_t
, 
iâ‘
 *,

822 
th»ad
 *);

823 
š6_upd©e_iç
(
iâ‘
 *, 
š6_®Ÿ¤eq
 *,

824 
š6_içddr
 *, );

825 
š6_´•¬e_iäa
(
š6_®Ÿ¤eq
 *, cÚ¡ 
š6_addr
 *,

826 cÚ¡ 
š6_addr
 *);

827 
š6_purg—ddr
(
içddr
 *);

828 
š6if_do_dad
(
iâ‘
 *);

829 
š6_§vemkludge
(
š6_içddr
 *);

830 *
š6_domiç‰ach
(
iâ‘
 *);

831 
š6_domifd‘ach
(
iâ‘
 *, *);

832 
š6_domifmtu
(
iâ‘
 *);

833 
š6_£tmaxmtu
();

834 
š6_if2idËn
(
iâ‘
 *);

835 
š6_içddr
 *
š6iç_iåfÜlškloÿl
(
iâ‘
 *, );

836 
š6_içddr
 *
š6iç_iåw™haddr
(
iâ‘
 *, cÚ¡ 
š6_addr
 *);

837 
š6_içddr
 *
š6iç_ifw™haddr
(cÚ¡ 
š6_addr
 *, 
ušt32_t
);

838 
š6_içddr
 *
š6iç_ÎaÚiå
(
iâ‘
 *);

839 
š6_addr2zÚeid
(
iâ‘
 *, 
š6_addr
 *, 
u_št32_t
 *);

840 
š6_m©chËn
(
š6_addr
 *, in6_addr *);

841 
š6_¬e_´efix_equ®
(
š6_addr
 *, in6_addr *, );

842 
š6_´efixËn2mask
(
š6_addr
 *, );

843 
š6_´efix_ioùl
(
sock‘
 *, 
u_lÚg
, 
ÿddr_t
,

844 
iâ‘
 *);

845 
š6_´efix_add_ifid
(, 
š6_içddr
 *);

846 
š6_´efix_»move_ifid
(, 
š6_içddr
 *);

847 
š6_purg•»fix
(
iâ‘
 *);

849 
š6_is_addr_d•»ÿ‹d
(
sockaddr_š6
 *);

850 
š6_¤c_ioùl
(
u_lÚg
, 
ÿddr_t
);

852 
š6_Ãwaddrmsg
(
š6_içddr
 *, );

856 
mbuf
 *
6_ŒyfÜw¬d
(mbuf *);

857 
š6_¹»dœeù
(
sockaddr
 *, sockaddr *, sockaddr *,

858 , 
sockaddr
 *, 
u_št
);

859 
š6_¹»que¡
(, 
sockaddr
 *, sockaddr *,

860 
sockaddr
 *, , 
¹’Œy
 **, 
u_št
);

861 
š6_¹®loc
(
rou‹_š6
 *, 
u_št
);

862 
š6_¹®loc_ign
(
rou‹_š6
 *, 
u_lÚg
, 
u_št
);

863 
¹’Œy
 *
š6_¹®loc1
(
sockaddr
 *, , 
u_lÚg
, 
u_št
);

	@/usr/include/stdbool.h

31 #iâdeà
__boÞ_Œue_çl£_¬e_defšed


32 
	#__boÞ_Œue_çl£_¬e_defšed
 1

	)

34 #iâdeà
__ýlu¥lus


36 
	#çl£
 0

	)

37 
	#Œue
 1

	)

39 
	#boÞ
 
_BoÞ


	)

40 #ià
__STDC_VERSION__
 < 199901L && 
__GNUC__
 < 3 && !
defšed
(
__INTEL_COMPILER
)

41 
	t_BoÞ
;

	@/usr/include/sys/_bitset.h

34 #iâdeà
_SYS__BITSET_H_


35 
	#_SYS__BITSET_H_


	)

41 
	#_BITSET_BITS
 ((è* 8)

	)

43 
	#__howmªy
(
x
, 
y
è(((xè+ ((yè- 1)è/ (y))

	)

45 
	#__b™£t_wÜds
(
_s
è(
	`__howmªy
(_s, 
_BITSET_BITS
))

	)

47 
	#BITSET_DEFINE
(
t
, 
_s
) \

48 
	st
 { \

49 
__b™s
[
	`__b™£t_wÜds
((
_s
))]; \

50 }

	)

58 
	#BITSET_DEFINE_VAR
(
t
è
	`BITSET_DEFINE
Ñ, 1)

	)

64 
BITSET_DEFINE
(
b™£t
, 1);

	@/usr/include/sys/_bus_dma.h

32 #iâdeà
_SYS__BUS_DMA_H_


33 
	#_SYS__BUS_DMA_H_


	)

35 
	tbus_dmasync_Ý_t
;

45 
bus_dma_g
 *
	tbus_dma_g_t
;

52 
bus_dmam­
 *
	tbus_dmam­_t
;

59 
	mBUS_DMA_LOCK
 = 0x01,

60 
	mBUS_DMA_UNLOCK
 = 0x02,

61 } 
	tbus_dma_lock_Ý_t
;

63 
	tbus_dma_lock_t
(*, 
	tbus_dma_lock_Ý_t
);

	@/usr/include/sys/_callout.h

40 #iâdeà
_SYS__CALLOUT_H


41 
	#_SYS__CALLOUT_H


	)

43 
	~<sys/queue.h
>

45 
	glock_objeù
;

47 
LIST_HEAD
(
ÿÎout_li¡
, 
ÿÎout
);

48 
SLIST_HEAD
(
ÿÎout_¦i¡
, 
ÿÎout
);

49 
TAILQ_HEAD
(
ÿÎout_žq
, 
ÿÎout
);

51 
	sÿÎout
 {

53 
LIST_ENTRY
(
ÿÎout
è
	mË
;

54 
SLIST_ENTRY
(
ÿÎout
è
	m¦e
;

55 
TAILQ_ENTRY
(
ÿÎout
è
	mtqe
;

56 } 
	mc_lšks
;

57 
sbštime_t
 
	mc_time
;

58 
sbštime_t
 
	mc_´ecisiÚ
;

59 *
	mc_¬g
;

60 (*
	mc_func
)(*);

61 
lock_objeù
 *
	mc_lock
;

62 
	mc_æags
;

63 
	mc_iæags
;

64 vÞ©ž
	mc_ýu
;

	@/usr/include/sys/_domainset.h

31 #iâdeà
_SYS__DOMAINSET_H_


32 
	#_SYS__DOMAINSET_H_


	)

34 
	~<sys/_b™£t.h
>

36 #ifdeà
_KERNEL


37 
	#DOMAINSET_SETSIZE
 
MAXMEMDOM


	)

40 
	#DOMAINSET_MAXSIZE
 256

	)

42 #iâdef 
DOMAINSET_SETSIZE


43 
	#DOMAINSET_SETSIZE
 
DOMAINSET_MAXSIZE


	)

46 
BITSET_DEFINE
(
_domaš£t
, 
DOMAINSET_SETSIZE
);

47 
_domaš£t
 
	tdomaš£t_t
;

54 
	gdomaš£t
;

55 
	sdomaš£t_»f
 {

56 
domaš£t
 * vÞ©ž
	mdr_pÞicy
;

57 
	mdr_™”
;

	@/usr/include/sys/_ffcounter.h

34 #iâdeà
_SYS__FFCOUNTER_H_


35 
	#_SYS__FFCOUNTER_H_


	)

42 
ušt64_t
 
	tffcouÁ”
;

	@/usr/include/sys/_iovec.h

35 #iâdeà
_SYS__IOVEC_H_


36 
	#_SYS__IOVEC_H_


	)

38 
	~<sys/_ty³s.h
>

40 #iâdeà
_SIZE_T_DECLARED


41 
__size_t
 
	tsize_t
;

42 
	#_SIZE_T_DECLARED


	)

45 
	siovec
 {

46 *
	miov_ba£
;

47 
size_t
 
	miov_Ën
;

	@/usr/include/sys/_pctrie.h

33 #iâdeà
__SYS_PCTRIE_H_


34 
	#__SYS_PCTRIE_H_


	)

39 
	spùr›
 {

40 
ušŒ_t
 
	m±_roÙ
;

	@/usr/include/sys/_pthreadtypes.h

38 #iâdeà
_SYS__PTHREADTYPES_H_


39 
	#_SYS__PTHREADTYPES_H_


	)

46 
	g±h»ad
;

47 
	g±h»ad_©Œ
;

48 
	g±h»ad_cÚd
;

49 
	g±h»ad_cÚd_©Œ
;

50 
	g±h»ad_mu‹x
;

51 
	g±h»ad_mu‹x_©Œ
;

52 
	g±h»ad_Úû
;

53 
	g±h»ad_rwlock
;

54 
	g±h»ad_rwlock©Œ
;

55 
	g±h»ad_b¬r›r
;

56 
	g±h»ad_b¬r›r_©Œ
;

57 
	g±h»ad_¥šlock
;

66 #iâdeà
_PTHREAD_T_DECLARED


67 
±h»ad
 *
	t±h»ad_t
;

68 
	#_PTHREAD_T_DECLARED


	)

70 
±h»ad_©Œ
 *
	t±h»ad_©Œ_t
;

71 
±h»ad_mu‹x
 *
	t±h»ad_mu‹x_t
;

72 
±h»ad_mu‹x_©Œ
 *
	t±h»ad_mu‹x©Œ_t
;

73 
±h»ad_cÚd
 *
	t±h»ad_cÚd_t
;

74 
±h»ad_cÚd_©Œ
 *
	t±h»ad_cÚd©Œ_t
;

75 
	t±h»ad_key_t
;

76 
±h»ad_Úû
 
	t±h»ad_Úû_t
;

77 
±h»ad_rwlock
 *
	t±h»ad_rwlock_t
;

78 
±h»ad_rwlock©Œ
 *
	t±h»ad_rwlock©Œ_t
;

79 
±h»ad_b¬r›r
 *
	t±h»ad_b¬r›r_t
;

80 
±h»ad_b¬r›¿‰r
 *
	t±h»ad_b¬r›¿‰r_t
;

81 
±h»ad_¥šlock
 *
	t±h»ad_¥šlock_t
;

89 *
	t±h»ad_addr_t
;

90 *(*
	t±h»ad_¡¬Œoutše_t
)(*);

95 
	s±h»ad_Úû
 {

96 
	m¡©e
;

97 
±h»ad_mu‹x_t
 
	mmu‹x
;

	@/usr/include/sys/_rmlock.h

34 #iâdeà
_SYS__RMLOCK_H_


35 
	#_SYS__RMLOCK_H_


	)

41 
LIST_HEAD
(
rm´iÞi¡
,
rm_´iÙ¿ck”
);

43 
	srm_queue
 {

44 
rm_queue
 *vÞ©ž
	mrmq_Ãxt
;

45 
rm_queue
 *vÞ©ž
	mrmq_´ev
;

48 
	srmlock
 {

49 
lock_objeù
 
	mlock_objeù
;

50 vÞ©ž
ýu£t_t
 
	mrm_wr™eýus
;

51 
LIST_HEAD
(,
rm_´iÙ¿ck”
è
	mrm_aùiveR—d”s
;

53 
lock_objeù
 
	m_rm_wlock_objeù
;

54 
mtx
 
	m_rm_lock_mtx
;

55 
sx
 
	m_rm_lock_sx
;

56 } 
	m_rm_lock
;

59 
	#rm_wlock_objeù
 
_rm_lock
.
_rm_wlock_objeù


	)

60 
	#rm_lock_mtx
 
_rm_lock
.
_rm_lock_mtx


	)

61 
	#rm_lock_sx
 
_rm_lock
.
_rm_lock_sx


	)

63 
	srm_´iÙ¿ck”
 {

64 
rm_queue
 
	mrmp_ýuQueue
;

65 
rmlock
 *
	mrmp_rmlock
;

66 
th»ad
 *
	mrmp_th»ad
;

67 
	mrmp_æags
;

68 
LIST_ENTRY
(
rm_´iÙ¿ck”
è
	mrmp_q’Œy
;

	@/usr/include/sys/_rwlock.h

31 #iâdeà
_SYS__RWLOCK_H_


32 
	#_SYS__RWLOCK_H_


	)

34 
	~<machše/·¿m.h
>

45 
	srwlock
 {

46 
lock_objeù
 
	mlock_objeù
;

47 vÞ©ž
ušŒ_t
 
	mrw_lock
;

59 
	srwlock_·d®ign
 {

60 
lock_objeù
 
	mlock_objeù
;

61 vÞ©ž
ušŒ_t
 
	mrw_lock
;

62 } 
__®igÃd
(
CACHE_LINE_SIZE
);

	@/usr/include/sys/_semaphore.h

30 #iâdeà
__SEMAPHORE_H_


31 
	#__SEMAPHORE_H_


	)

33 
šŒ_t
 
	t£mid_t
;

34 
	gtime¥ec
;

36 
	#SEM_VALUE_MAX
 
__INT_MAX


	)

38 #iâdeà
_KERNEL


40 
__BEGIN_DECLS


42 
k£m_þo£
(
£mid_t
 
id
);

43 
k£m_po¡
(
£mid_t
 
id
);

44 
k£m_wa™
(
£mid_t
 
id
);

45 
k£m_Œywa™
(
£mid_t
 
id
);

46 
k£m_timedwa™
(
£mid_t
 
id
, cÚ¡ 
time¥ec
 *
ab¡ime
);

47 
k£m_š™
(
£mid_t
 *
idp
, 
v®ue
);

48 
k£m_Ý’
(
£mid_t
 *
idp
, cÚ¡ *
Çme
, 
oæag
, 
mode_t
 
mode
,

49 
v®ue
);

50 
k£m_uÆšk
(cÚ¡ *
Çme
);

51 
k£m_g‘v®ue
(
£mid_t
 
id
, *
v®
);

52 
k£m_de¡roy
(
£mid_t
 
id
);

54 
	g__END_DECLS


	@/usr/include/sys/_sockaddr_storage.h

35 #iâdeà
_SYS__SOCKADDR_STORAGE_H_


36 
	#_SYS__SOCKADDR_STORAGE_H_


	)

41 
	#_SS_MAXSIZE
 128U

	)

42 
	#_SS_ALIGNSIZE
 ((
__št64_t
))

	)

43 
	#_SS_PAD1SIZE
 (
_SS_ALIGNSIZE
 - () - \

44 (
§_çmžy_t
))

	)

45 
	#_SS_PAD2SIZE
 (
_SS_MAXSIZE
 - () - \

46 (
§_çmžy_t
è- 
_SS_PAD1SIZE
 - 
_SS_ALIGNSIZE
)

	)

48 
	ssockaddr_¡Üage
 {

49 
	mss_Ën
;

50 
§_çmžy_t
 
	mss_çmžy
;

51 
	m__ss_·d1
[
_SS_PAD1SIZE
];

52 
__št64_t
 
	m__ss_®ign
;

53 
	m__ss_·d2
[
_SS_PAD2SIZE
];

	@/usr/include/sys/_stdint.h

32 #iâdeà
_SYS__STDINT_H_


33 
	#_SYS__STDINT_H_


	)

35 #iâdeà
_INT8_T_DECLARED


36 
__št8_t
 
	tšt8_t
;

37 
	#_INT8_T_DECLARED


	)

40 #iâdeà
_INT16_T_DECLARED


41 
__št16_t
 
	tšt16_t
;

42 
	#_INT16_T_DECLARED


	)

45 #iâdeà
_INT32_T_DECLARED


46 
__št32_t
 
	tšt32_t
;

47 
	#_INT32_T_DECLARED


	)

50 #iâdeà
_INT64_T_DECLARED


51 
__št64_t
 
	tšt64_t
;

52 
	#_INT64_T_DECLARED


	)

55 #iâdeà
_UINT8_T_DECLARED


56 
__ušt8_t
 
	tušt8_t
;

57 
	#_UINT8_T_DECLARED


	)

60 #iâdeà
_UINT16_T_DECLARED


61 
__ušt16_t
 
	tušt16_t
;

62 
	#_UINT16_T_DECLARED


	)

65 #iâdeà
_UINT32_T_DECLARED


66 
__ušt32_t
 
	tušt32_t
;

67 
	#_UINT32_T_DECLARED


	)

70 #iâdeà
_UINT64_T_DECLARED


71 
__ušt64_t
 
	tušt64_t
;

72 
	#_UINT64_T_DECLARED


	)

75 #iâdeà
_INTPTR_T_DECLARED


76 
__šŒ_t
 
	tšŒ_t
;

77 
	#_INTPTR_T_DECLARED


	)

79 #iâdeà
_UINTPTR_T_DECLARED


80 
__ušŒ_t
 
	tušŒ_t
;

81 
	#_UINTPTR_T_DECLARED


	)

83 #iâdeà
_INTMAX_T_DECLARED


84 
__štmax_t
 
	tštmax_t
;

85 
	#_INTMAX_T_DECLARED


	)

87 #iâdeà
_UINTMAX_T_DECLARED


88 
__uštmax_t
 
	tuštmax_t
;

89 
	#_UINTMAX_T_DECLARED


	)

	@/usr/include/sys/_sx.h

33 #iâdef 
_SYS__SX_H_


34 
	#_SYS__SX_H_


	)

39 
	ssx
 {

40 
lock_objeù
 
	mlock_objeù
;

41 vÞ©ž
ušŒ_t
 
	msx_lock
;

	@/usr/include/sys/_task.h

31 #iâdeà
_SYS__TASK_H_


32 
	#_SYS__TASK_H_


	)

34 
	~<sys/queue.h
>

46 
	tsk_â_t
(*
	tcÚ‹xt
, 
	t³ndšg
);

47 
	tgsk_â_t
(*
	tcÚ‹xt
);

49 
	ssk
 {

50 
STAILQ_ENTRY
(
sk
è
	m_lšk
;

51 
ušt16_t
 
	m_³ndšg
;

52 
u_shÜt
 
	m_´iÜ™y
;

53 
sk_â_t
 *
	m_func
;

54 *
	m_cÚ‹xt
;

57 
	sgsk
 {

58 
STAILQ_ENTRY
(
gsk
è
	m_lšk
;

59 
ušt16_t
 
	m_æags
;

60 
u_shÜt
 
	m_´iÜ™y
;

61 
gsk_â_t
 *
	m_func
;

62 *
	m_cÚ‹xt
;

65 
	sgrou±ask
 {

66 
gsk
 
	mgt_sk
;

67 *
	mgt_skqueue
;

68 
LIST_ENTRY
(
grou±ask
è
	mgt_li¡
;

69 *
	mgt_uniq
;

70 
	#GROUPTASK_NAMELEN
 32

	)

71 
	mgt_Çme
[
GROUPTASK_NAMELEN
];

72 
št16_t
 
	mgt_œq
;

73 
št16_t
 
	mgt_ýu
;

	@/usr/include/sys/_timespec.h

36 #iâdeà
_SYS__TIMESPEC_H_


37 
	#_SYS__TIMESPEC_H_


	)

39 
	~<sys/_ty³s.h
>

41 #iâdeà
_TIME_T_DECLARED


42 
__time_t
 
	ttime_t
;

43 
	#_TIME_T_DECLARED


	)

46 
	stime¥ec
 {

47 
time_t
 
	mtv_£c
;

48 
	mtv_n£c
;

	@/usr/include/sys/_uio.h

35 #iâdeà
_SYS__UIO_H_


36 
	#_SYS__UIO_H_


	)

38 #ià
__BSD_VISIBLE


39 
	euio_rw
 {

40 
	mUIO_READ
,

41 
	mUIO_WRITE


45 
	euio_£g
 {

46 
	mUIO_USERSPACE
,

47 
	mUIO_SYSSPACE
,

48 
	mUIO_NOCOPY


	@/usr/include/sys/acl.h

38 #iâdeà
_SYS_ACL_H_


39 
	#_SYS_ACL_H_


	)

41 
	~<sys/·¿m.h
>

42 
	~<sys/queue.h
>

43 
	~<vm/uma.h
>

49 
ušt32_t
 
	taþ_g_t
;

50 
ušt32_t
 
	taþ_³rm_t
;

51 
ušt16_t
 
	taþ_’Œy_ty³_t
;

52 
ušt16_t
 
	taþ_æag_t
;

53 
	taþ_ty³_t
;

54 *
	taþ_³rm£t_t
;

55 
ušt16_t
 *
	taþ_æag£t_t
;

69 
	#ACL_MAX_ENTRIES
 254

	)

71 #ià
defšed
(
_KERNEL
è|| defšed(
_ACL_PRIVATE
)

73 
	#POSIX1E_ACL_ACCESS_EXTATTR_NAMESPACE
 
EXTATTR_NAMESPACE_SYSTEM


	)

74 
	#POSIX1E_ACL_ACCESS_EXTATTR_NAME
 "posix1e.aþ_acûss"

	)

75 
	#POSIX1E_ACL_DEFAULT_EXTATTR_NAMESPACE
 
EXTATTR_NAMESPACE_SYSTEM


	)

76 
	#POSIX1E_ACL_DEFAULT_EXTATTR_NAME
 "posix1e.aþ_deçuÉ"

	)

77 
	#NFS4_ACL_EXTATTR_NAMESPACE
 
EXTATTR_NAMESPACE_SYSTEM


	)

78 
	#NFS4_ACL_EXTATTR_NAME
 "nfs4.aþ"

	)

79 
	#OLDACL_MAX_ENTRIES
 32

	)

85 
	tÞdaþ_g_t
;

86 
mode_t
 
	tÞdaþ_³rm_t
;

88 
	sÞdaþ_’Œy
 {

89 
Þdaþ_g_t
 
	m«_g
;

90 
uid_t
 
	m«_id
;

91 
Þdaþ_³rm_t
 
	m«_³rm
;

93 
Þdaþ_’Œy
 *
	tÞdaþ_’Œy_t
;

95 
	sÞdaþ
 {

96 
	maþ_út
;

97 
Þdaþ_’Œy
 
	maþ_’Œy
[
OLDACL_MAX_ENTRIES
];

103 
	saþ_’Œy
 {

104 
aþ_g_t
 
	m«_g
;

105 
uid_t
 
	m«_id
;

106 
aþ_³rm_t
 
	m«_³rm
;

108 
aþ_’Œy_ty³_t
 
	m«_’Œy_ty³
;

110 
aþ_æag_t
 
	m«_æags
;

112 
aþ_’Œy
 *
	taþ_’Œy_t
;

119 
	saþ
 {

120 
	maþ_maxút
;

121 
	maþ_út
;

123 
	maþ_¥¬e
[4];

124 
aþ_’Œy
 
	maþ_’Œy
[
ACL_MAX_ENTRIES
];

130 
	saþ_t_¡ruù
 {

131 
aþ
 
	m©s_aþ
;

132 
	m©s_cur_’Œy
;

141 
	m©s_b¿nd
;

143 
aþ_t_¡ruù
 *
	taþ_t
;

147 *
	taþ_’Œy_t
;

148 *
	taþ_t
;

155 
	#ACL_BRAND_UNKNOWN
 0

	)

156 
	#ACL_BRAND_POSIX
 1

	)

157 
	#ACL_BRAND_NFS4
 2

	)

162 
	#ACL_UNDEFINED_TAG
 0x00000000

	)

163 
	#ACL_USER_OBJ
 0x00000001

	)

164 
	#ACL_USER
 0x00000002

	)

165 
	#ACL_GROUP_OBJ
 0x00000004

	)

166 
	#ACL_GROUP
 0x00000008

	)

167 
	#ACL_MASK
 0x00000010

	)

168 
	#ACL_OTHER
 0x00000020

	)

169 
	#ACL_OTHER_OBJ
 
ACL_OTHER


	)

170 
	#ACL_EVERYONE
 0x00000040

	)

175 
	#ACL_ENTRY_TYPE_ALLOW
 0x0100

	)

176 
	#ACL_ENTRY_TYPE_DENY
 0x0200

	)

177 
	#ACL_ENTRY_TYPE_AUDIT
 0x0400

	)

178 
	#ACL_ENTRY_TYPE_ALARM
 0x0800

	)

184 
	#ACL_TYPE_ACCESS_OLD
 0x00000000

	)

185 
	#ACL_TYPE_DEFAULT_OLD
 0x00000001

	)

186 
	#ACL_TYPE_ACCESS
 0x00000002

	)

187 
	#ACL_TYPE_DEFAULT
 0x00000003

	)

188 
	#ACL_TYPE_NFS4
 0x00000004

	)

194 
	#ACL_EXECUTE
 0x0001

	)

195 
	#ACL_WRITE
 0x0002

	)

196 
	#ACL_READ
 0x0004

	)

197 
	#ACL_PERM_NONE
 0x0000

	)

198 
	#ACL_PERM_BITS
 (
ACL_EXECUTE
 | 
ACL_WRITE
 | 
ACL_READ
)

	)

199 
	#ACL_POSIX1E_BITS
 (
ACL_EXECUTE
 | 
ACL_WRITE
 | 
ACL_READ
)

	)

204 
	#ACL_READ_DATA
 0x00000008

	)

205 
	#ACL_LIST_DIRECTORY
 0x00000008

	)

206 
	#ACL_WRITE_DATA
 0x00000010

	)

207 
	#ACL_ADD_FILE
 0x00000010

	)

208 
	#ACL_APPEND_DATA
 0x00000020

	)

209 
	#ACL_ADD_SUBDIRECTORY
 0x00000020

	)

210 
	#ACL_READ_NAMED_ATTRS
 0x00000040

	)

211 
	#ACL_WRITE_NAMED_ATTRS
 0x00000080

	)

213 
	#ACL_DELETE_CHILD
 0x00000100

	)

214 
	#ACL_READ_ATTRIBUTES
 0x00000200

	)

215 
	#ACL_WRITE_ATTRIBUTES
 0x00000400

	)

216 
	#ACL_DELETE
 0x00000800

	)

217 
	#ACL_READ_ACL
 0x00001000

	)

218 
	#ACL_WRITE_ACL
 0x00002000

	)

219 
	#ACL_WRITE_OWNER
 0x00004000

	)

220 
	#ACL_SYNCHRONIZE
 0x00008000

	)

222 
	#ACL_FULL_SET
 (
ACL_READ_DATA
 | 
ACL_WRITE_DATA
 | \

223 
ACL_APPEND_DATA
 | 
ACL_READ_NAMED_ATTRS
 | 
ACL_WRITE_NAMED_ATTRS
 | \

224 
ACL_EXECUTE
 | 
ACL_DELETE_CHILD
 | 
ACL_READ_ATTRIBUTES
 | \

225 
ACL_WRITE_ATTRIBUTES
 | 
ACL_DELETE
 | 
ACL_READ_ACL
 | 
ACL_WRITE_ACL
 | \

226 
ACL_WRITE_OWNER
 | 
ACL_SYNCHRONIZE
)

	)

228 
	#ACL_MODIFY_SET
 (
ACL_FULL_SET
 & \

229 ~(
ACL_WRITE_ACL
 | 
ACL_WRITE_OWNER
))

	)

231 
	#ACL_READ_SET
 (
ACL_READ_DATA
 | 
ACL_READ_NAMED_ATTRS
 | \

232 
ACL_READ_ATTRIBUTES
 | 
ACL_READ_ACL
)

	)

234 
	#ACL_WRITE_SET
 (
ACL_WRITE_DATA
 | 
ACL_APPEND_DATA
 | \

235 
ACL_WRITE_NAMED_ATTRS
 | 
ACL_WRITE_ATTRIBUTES
)

	)

237 
	#ACL_NFS4_PERM_BITS
 
ACL_FULL_SET


	)

242 
	#ACL_FIRST_ENTRY
 0

	)

243 
	#ACL_NEXT_ENTRY
 1

	)

248 
	#ACL_ENTRY_FILE_INHERIT
 0x0001

	)

249 
	#ACL_ENTRY_DIRECTORY_INHERIT
 0x0002

	)

250 
	#ACL_ENTRY_NO_PROPAGATE_INHERIT
 0x0004

	)

251 
	#ACL_ENTRY_INHERIT_ONLY
 0x0008

	)

252 
	#ACL_ENTRY_SUCCESSFUL_ACCESS
 0x0010

	)

253 
	#ACL_ENTRY_FAILED_ACCESS
 0x0020

	)

254 
	#ACL_ENTRY_INHERITED
 0x0080

	)

256 
	#ACL_FLAGS_BITS
 (
ACL_ENTRY_FILE_INHERIT
 | \

257 
ACL_ENTRY_DIRECTORY_INHERIT
 | 
ACL_ENTRY_NO_PROPAGATE_INHERIT
 | \

258 
ACL_ENTRY_INHERIT_ONLY
 | 
ACL_ENTRY_SUCCESSFUL_ACCESS
 | \

259 
ACL_ENTRY_FAILED_ACCESS
 | 
ACL_ENTRY_INHERITED
)

	)

265 
	#ACL_UNDEFINED_ID
 ((
uid_t
)-1)

	)

270 
	#ACL_TEXT_VERBOSE
 0x01

	)

271 
	#ACL_TEXT_NUMERIC_IDS
 0x02

	)

272 
	#ACL_TEXT_APPEND_ID
 0x04

	)

280 
	#ACL_OVERRIDE_MASK
 (
S_IRWXU
 | 
S_IRWXG
 | 
S_IRWXO
)

	)

281 
	#ACL_PRESERVE_MASK
 (~
ACL_OVERRIDE_MASK
)

	)

283 #ifdeà
_KERNEL


289 
aþ_³rm_t
 
aþ_posix1e_mode_to_³rm
(
aþ_g_t
 
g
, 
mode_t
 
mode
);

290 
aþ_’Œy
 
aþ_posix1e_mode_to_’Œy
(
aþ_g_t
 
g
, 
uid_t
 
uid
,

291 
gid_t
 
gid
, 
mode_t
 
mode
);

292 
mode_t
 
aþ_posix1e_³rms_to_mode
(

293 
aþ_’Œy
 *
aþ_u£r_obj_’Œy
,

294 
aþ_’Œy
 *
aþ_group_obj_’Œy
,

295 
aþ_’Œy
 *
aþ_Ùh”_’Œy
);

296 
mode_t
 
aþ_posix1e_aþ_to_mode
(
aþ
 *acl);

297 
mode_t
 
aþ_posix1e_Ãwfžemode
(mode_ˆ
cmode
,

298 
aþ
 *
daþ
);

299 
aþ
 *
aþ_®loc
(
æags
);

300 
aþ_ä“
(
aþ
 *
aþp
);

302 
aþ_nfs4_sync_aþ_äom_mode
(
aþ
 *
aþp
,

303 
mode_t
 
mode
, 
fže_owÃr_id
);

304 
aþ_nfs4_sync_mode_äom_aþ
(
mode_t
 *
mode
,

305 cÚ¡ 
aþ
 *
aþp
);

306 
aþ_nfs4_is_ŒivŸl
(cÚ¡ 
aþ
 *
aþp
,

307 
fže_owÃr_id
);

308 
aþ_nfs4_compu‹_šh”™ed_aþ
(

309 cÚ¡ 
aþ
 *
·»Á_aþp
,

310 
aþ
 *
chžd_aþp
, 
mode_t
 
mode
,

311 
fže_owÃr_id
, 
is_dœeùÜy
);

312 
aþ_cÝy_Þdaþ_što_aþ
(cÚ¡ 
Þdaþ
 *
sourû
,

313 
aþ
 *
de¡
);

314 
aþ_cÝy_aþ_što_Þdaþ
(cÚ¡ 
aþ
 *
sourû
,

315 
Þdaþ
 *
de¡
);

320 
MALLOC_DECLARE
(
M_ACL
);

324 
aþ_posix1e_check
(
aþ
 *acl);

325 
aþ_nfs4_check
(cÚ¡ 
aþ
 *
aþp
, 
is_dœeùÜy
);

329 #ià
defšed
(
_ACL_PRIVATE
)

335 
__BEGIN_DECLS


336 
__aþ_aþcheck_fd
(
_fžedes
, 
aþ_ty³_t
 
_ty³
, 
aþ
 *
_aþp
);

337 
__aþ_aþcheck_fže
(cÚ¡ *
_·th
, 
aþ_ty³_t
 
_ty³
,

338 
aþ
 *
_aþp
);

339 
__aþ_aþcheck_lšk
(cÚ¡ *
_·th
, 
aþ_ty³_t
 
_ty³
,

340 
aþ
 *
_aþp
);

341 
__aþ_d–‘e_fd
(
_fžedes
, 
aþ_ty³_t
 
_ty³
);

342 
__aþ_d–‘e_fže
(cÚ¡ *
_·th_p
, 
aþ_ty³_t
 
_ty³
);

343 
__aþ_d–‘e_lšk
(cÚ¡ *
_·th_p
, 
aþ_ty³_t
 
_ty³
);

344 
__aþ_g‘_fd
(
_fžedes
, 
aþ_ty³_t
 
_ty³
, 
aþ
 *
_aþp
);

345 
__aþ_g‘_fže
(cÚ¡ *
_·th
, 
aþ_ty³_t
 
_ty³
, 
aþ
 *
_aþp
);

346 
__aþ_g‘_lšk
(cÚ¡ *
_·th
, 
aþ_ty³_t
 
_ty³
, 
aþ
 *
_aþp
);

347 
__aþ_£t_fd
(
_fžedes
, 
aþ_ty³_t
 
_ty³
, 
aþ
 *
_aþp
);

348 
__aþ_£t_fže
(cÚ¡ *
_·th
, 
aþ_ty³_t
 
_ty³
, 
aþ
 *
_aþp
);

349 
__aþ_£t_lšk
(cÚ¡ *
_·th
, 
aþ_ty³_t
 
_ty³
, 
aþ
 *
_aþp
);

350 
	g__END_DECLS


360 
__BEGIN_DECLS


361 
aþ_add_æag_Å
(
aþ_æag£t_t
 
_æag£t_d
, 
aþ_æag_t
 
_æag
);

362 
aþ_add_³rm
(
aþ_³rm£t_t
 
_³rm£t_d
, 
aþ_³rm_t
 
_³rm
);

363 
aþ_ÿlc_mask
(
aþ_t
 *
_aþ_p
);

364 
aþ_þ—r_æags_Å
(
aþ_æag£t_t
 
_æag£t_d
);

365 
aþ_þ—r_³rms
(
aþ_³rm£t_t
 
_³rm£t_d
);

366 
aþ_cÝy_’Œy
(
aþ_’Œy_t
 
_de¡_d
,‡þ_’Œy_ˆ
_¤c_d
);

367 
ssize_t
 
aþ_cÝy_ext
(*
_buf_p
, 
aþ_t
 
_aþ
, ssize_ˆ
_size
);

368 
aþ_t
 
aþ_cÝy_št
(cÚ¡ *
_buf_p
);

369 
aþ_ü—‹_’Œy
(
aþ_t
 *
_aþ_p
, 
aþ_’Œy_t
 *
_’Œy_p
);

370 
aþ_ü—‹_’Œy_Å
(
aþ_t
 *
_aþ_p
, 
aþ_’Œy_t
 *
_’Œy_p
, 
_šdex
);

371 
aþ_d–‘e_’Œy
(
aþ_t
 
_aþ
, 
aþ_’Œy_t
 
_’Œy_d
);

372 
aþ_d–‘e_’Œy_Å
(
aþ_t
 
_aþ
, 
_šdex
);

373 
aþ_d–‘e_fd_Å
(
_fžedes
, 
aþ_ty³_t
 
_ty³
);

374 
aþ_d–‘e_fže_Å
(cÚ¡ *
_·th_p
, 
aþ_ty³_t
 
_ty³
);

375 
aþ_d–‘e_lšk_Å
(cÚ¡ *
_·th_p
, 
aþ_ty³_t
 
_ty³
);

376 
aþ_d–‘e_def_fže
(cÚ¡ *
_·th_p
);

377 
aþ_d–‘e_def_lšk_Å
(cÚ¡ *
_·th_p
);

378 
aþ_d–‘e_æag_Å
(
aþ_æag£t_t
 
_æag£t_d
, 
aþ_æag_t
 
_æag
);

379 
aþ_d–‘e_³rm
(
aþ_³rm£t_t
 
_³rm£t_d
, 
aþ_³rm_t
 
_³rm
);

380 
aþ_t
 
aþ_dup
×þ_ˆ
_aþ
);

381 
aþ_ä“
(*
_obj_p
);

382 
aþ_t
 
aþ_äom_‹xt
(cÚ¡ *
_buf_p
);

383 
aþ_g‘_b¿nd_Å
(
aþ_t
 
_aþ
, *
_b¿nd_p
);

384 
aþ_g‘_’Œy
(
aþ_t
 
_aþ
, 
_’Œy_id
, 
aþ_’Œy_t
 *
_’Œy_p
);

385 
aþ_t
 
aþ_g‘_fd
(
_fd
);

386 
aþ_t
 
aþ_g‘_fd_Å
(
fd
, 
aþ_ty³_t
 
_ty³
);

387 
aþ_t
 
aþ_g‘_fže
(cÚ¡ *
_·th_p
, 
aþ_ty³_t
 
_ty³
);

388 
aþ_g‘_’Œy_ty³_Å
(
aþ_’Œy_t
 
_’Œy_d
, 
aþ_’Œy_ty³_t
 *
_’Œy_ty³_p
);

389 
aþ_t
 
aþ_g‘_lšk_Å
(cÚ¡ *
_·th_p
, 
aþ_ty³_t
 
_ty³
);

390 *
aþ_g‘_qu®if›r
(
aþ_’Œy_t
 
_’Œy_d
);

391 
aþ_g‘_æag_Å
(
aþ_æag£t_t
 
_æag£t_d
, 
aþ_æag_t
 
_æag
);

392 
aþ_g‘_³rm_Å
(
aþ_³rm£t_t
 
_³rm£t_d
, 
aþ_³rm_t
 
_³rm
);

393 
aþ_g‘_æag£t_Å
(
aþ_’Œy_t
 
_’Œy_d
, 
aþ_æag£t_t
 *
_æag£t_p
);

394 
aþ_g‘_³rm£t
(
aþ_’Œy_t
 
_’Œy_d
, 
aþ_³rm£t_t
 *
_³rm£t_p
);

395 
aþ_g‘_g_ty³
(
aþ_’Œy_t
 
_’Œy_d
, 
aþ_g_t
 *
_g_ty³_p
);

396 
aþ_t
 
aþ_š™
(
_couÁ
);

397 
aþ_£t_fd
(
_fd
, 
aþ_t
 
_aþ
);

398 
aþ_£t_fd_Å
(
_fd
, 
aþ_t
 
_aþ
, 
aþ_ty³_t
 
_ty³
);

399 
aþ_£t_fže
(cÚ¡ *
_·th_p
, 
aþ_ty³_t
 
_ty³
, 
aþ_t
 
_aþ
);

400 
aþ_£t_’Œy_ty³_Å
(
aþ_’Œy_t
 
_’Œy_d
, 
aþ_’Œy_ty³_t
 
_’Œy_ty³
);

401 
aþ_£t_lšk_Å
(cÚ¡ *
_·th_p
, 
aþ_ty³_t
 
_ty³
, 
aþ_t
 
_aþ
);

402 
aþ_£t_æag£t_Å
(
aþ_’Œy_t
 
_’Œy_d
, 
aþ_æag£t_t
 
_æag£t_d
);

403 
aþ_£t_³rm£t
(
aþ_’Œy_t
 
_’Œy_d
, 
aþ_³rm£t_t
 
_³rm£t_d
);

404 
aþ_£t_qu®if›r
(
aþ_’Œy_t
 
_’Œy_d
, cÚ¡ *
_g_qu®if›r_p
);

405 
aþ_£t_g_ty³
(
aþ_’Œy_t
 
_’Œy_d
, 
aþ_g_t
 
_g_ty³
);

406 
ssize_t
 
aþ_size
(
aþ_t
 
_aþ
);

407 *
aþ_to_‹xt
(
aþ_t
 
_aþ
, 
ssize_t
 *
_Ën_p
);

408 *
aþ_to_‹xt_Å
(
aþ_t
 
_aþ
, 
ssize_t
 *
_Ën_p
, 
_æags
);

409 
aþ_v®id
(
aþ_t
 
_aþ
);

410 
aþ_v®id_fd_Å
(
_fd
, 
aþ_ty³_t
 
_ty³
, 
aþ_t
 
_aþ
);

411 
aþ_v®id_fže_Å
(cÚ¡ *
_·th_p
, 
aþ_ty³_t
 
_ty³
, 
aþ_t
 
_aþ
);

412 
aþ_v®id_lšk_Å
(cÚ¡ *
_·th_p
, 
aþ_ty³_t
 
_ty³
, 
aþ_t
 
_aþ
);

413 
aþ_is_ŒivŸl_Å
(cÚ¡ 
aþ_t
 
_aþ
, *
_ŒivŸÍ
);

414 
aþ_t
 
aþ_¡r_Å
(cÚ¡‡þ_ˆ
_aþ
, 
»ÿlcuÏ‹_mask
);

415 
	g__END_DECLS


	@/usr/include/sys/buf_ring.h

32 #iâdef 
_SYS_BUF_RING_H_


33 
	#_SYS_BUF_RING_H_


	)

35 
	~<machše/ýu.h
>

37 #ifdeà
DEBUG_BUFRING


38 
	~<sys/lock.h
>

39 
	~<sys/mu‹x.h
>

42 
	sbuf_ršg
 {

43 vÞ©ž
ušt32_t
 
	mbr_´od_h—d
;

44 vÞ©ž
ušt32_t
 
	mbr_´od_ž
;

45 
	mbr_´od_size
;

46 
	mbr_´od_mask
;

47 
ušt64_t
 
	mbr_drÝs
;

48 vÞ©ž
ušt32_t
 
br_cÚs_h—d
 
__®igÃd
(
CACHE_LINE_SIZE
);

49 vÞ©ž
ušt32_t
 
	mbr_cÚs_ž
;

50 
	mbr_cÚs_size
;

51 
	mbr_cÚs_mask
;

52 #ifdeà
DEBUG_BUFRING


53 
mtx
 *
	mbr_lock
;

55 *
	mbr_ršg
[0] 
__®igÃd
(
CACHE_LINE_SIZE
);

62 
__šlše
 

63 
	$buf_ršg_’queue
(
buf_ršg
 *
br
, *
buf
)

65 
ušt32_t
 
´od_h—d
, 
´od_Ãxt
, 
cÚs_ž
;

66 #ifdeà
DEBUG_BUFRING


67 
i
;

74 
i
 = 
br
->
br_cÚs_h—d
; i !ðbr->
br_´od_h—d
;

75 
i
 = ((˜+ 1è& 
br
->
br_cÚs_mask
))

76 if(
br
->
br_ršg
[
i
] =ð
buf
)

77 
	`·nic
("buf=%p‡lreadyƒnqueue‡t %d…rod=%d cons=%d",

78 
buf
, 
i
, 
br
->
br_´od_ž
, br->
br_cÚs_ž
);

80 
	`ü™iÿl_’‹r
();

82 
´od_h—d
 = 
br
->
br_´od_h—d
;

83 
´od_Ãxt
 = (
´od_h—d
 + 1è& 
br
->
br_´od_mask
;

84 
cÚs_ž
 = 
br
->
br_cÚs_ž
;

86 ià(
´od_Ãxt
 =ð
cÚs_ž
) {

87 
	`rmb
();

88 ià(
´od_h—d
 =ð
br
->
br_´od_h—d
 &&

89 
cÚs_ž
 =ð
br
->
br_cÚs_ž
) {

90 
br
->
br_drÝs
++;

91 
	`ü™iÿl_ex™
();

92  (
ENOBUFS
);

96 } !
	`©omic_cmp£t_acq_št
(&
br
->
br_´od_h—d
, 
´od_h—d
, 
´od_Ãxt
));

97 #ifdeà
DEBUG_BUFRING


98 ià(
br
->
br_ršg
[
´od_h—d
] !ð
NULL
)

99 
	`·nic
("dangling value inƒnqueue");

101 
br
->
br_ršg
[
´od_h—d
] = 
buf
;

108 
br
->
br_´od_ž
 !ð
´od_h—d
)

109 
	`ýu_¥šwa™
();

110 
	`©omic_¡Üe_»l_št
(&
br
->
br_´od_ž
, 
´od_Ãxt
);

111 
	`ü™iÿl_ex™
();

113 
	}
}

119 
__šlše
 *

120 
	$buf_ršg_dequeue_mc
(
buf_ršg
 *
br
)

122 
ušt32_t
 
cÚs_h—d
, 
cÚs_Ãxt
;

123 *
buf
;

125 
	`ü™iÿl_’‹r
();

127 
cÚs_h—d
 = 
br
->
br_cÚs_h—d
;

128 
cÚs_Ãxt
 = (
cÚs_h—d
 + 1è& 
br
->
br_cÚs_mask
;

130 ià(
cÚs_h—d
 =ð
br
->
br_´od_ž
) {

131 
	`ü™iÿl_ex™
();

132  (
NULL
);

134 } !
	`©omic_cmp£t_acq_št
(&
br
->
br_cÚs_h—d
, 
cÚs_h—d
, 
cÚs_Ãxt
));

136 
buf
 = 
br
->
br_ršg
[
cÚs_h—d
];

137 #ifdeà
DEBUG_BUFRING


138 
br
->
br_ršg
[
cÚs_h—d
] = 
NULL
;

145 
br
->
br_cÚs_ž
 !ð
cÚs_h—d
)

146 
	`ýu_¥šwa™
();

148 
	`©omic_¡Üe_»l_št
(&
br
->
br_cÚs_ž
, 
cÚs_Ãxt
);

149 
	`ü™iÿl_ex™
();

151  (
buf
);

152 
	}
}

159 
__šlše
 *

160 
	$buf_ršg_dequeue_sc
(
buf_ršg
 *
br
)

162 
ušt32_t
 
cÚs_h—d
, 
cÚs_Ãxt
;

163 #ifdeà
PREFETCH_DEFINED


164 
ušt32_t
 
cÚs_Ãxt_Ãxt
;

166 
ušt32_t
 
´od_ž
;

167 *
buf
;

194 #ià
	`defšed
(
__¬m__
è|| defšed(
__¯rch64__
)

195 
cÚs_h—d
 = 
	`©omic_lßd_acq_32
(&
br
->
br_cÚs_h—d
);

197 
cÚs_h—d
 = 
br
->
br_cÚs_h—d
;

199 
´od_ž
 = 
	`©omic_lßd_acq_32
(&
br
->
br_´od_ž
);

201 
cÚs_Ãxt
 = (
cÚs_h—d
 + 1è& 
br
->
br_cÚs_mask
;

202 #ifdeà
PREFETCH_DEFINED


203 
cÚs_Ãxt_Ãxt
 = (
cÚs_h—d
 + 2è& 
br
->
br_cÚs_mask
;

206 ià(
cÚs_h—d
 =ð
´od_ž
)

207  (
NULL
);

209 #ifdeà
PREFETCH_DEFINED


210 ià(
cÚs_Ãxt
 !ð
´od_ž
) {

211 
	`´eãtch
(
br
->
br_ršg
[
cÚs_Ãxt
]);

212 ià(
cÚs_Ãxt_Ãxt
 !ð
´od_ž
)

213 
	`´eãtch
(
br
->
br_ršg
[
cÚs_Ãxt_Ãxt
]);

216 
br
->
br_cÚs_h—d
 = 
cÚs_Ãxt
;

217 
buf
 = 
br
->
br_ršg
[
cÚs_h—d
];

219 #ifdeà
DEBUG_BUFRING


220 
br
->
br_ršg
[
cÚs_h—d
] = 
NULL
;

221 ià(!
	`mtx_owÃd
(
br
->
br_lock
))

222 
	`·nic
("lock‚ot held on single consumer dequeue");

223 ià(
br
->
br_cÚs_ž
 !ð
cÚs_h—d
)

224 
	`·nic
("inconsistent†ist cons_tail=%d cons_head=%d",

225 
br
->
br_cÚs_ž
, 
cÚs_h—d
);

227 
br
->
br_cÚs_ž
 = 
cÚs_Ãxt
;

228  (
buf
);

229 
	}
}

236 
__šlše
 

237 
	$buf_ršg_advªû_sc
(
buf_ršg
 *
br
)

239 
ušt32_t
 
cÚs_h—d
, 
cÚs_Ãxt
;

240 
ušt32_t
 
´od_ž
;

242 
cÚs_h—d
 = 
br
->
br_cÚs_h—d
;

243 
´od_ž
 = 
br
->
br_´od_ž
;

245 
cÚs_Ãxt
 = (
cÚs_h—d
 + 1è& 
br
->
br_cÚs_mask
;

246 ià(
cÚs_h—d
 =ð
´od_ž
)

248 
br
->
br_cÚs_h—d
 = 
cÚs_Ãxt
;

249 #ifdeà
DEBUG_BUFRING


250 
br
->
br_ršg
[
cÚs_h—d
] = 
NULL
;

252 
br
->
br_cÚs_ž
 = 
cÚs_Ãxt
;

253 
	}
}

271 
__šlše
 

272 
	$buf_ršg_putback_sc
(
buf_ršg
 *
br
, *
Ãw
)

274 
	`KASSERT
(
br
->
br_cÚs_h—d
 !ðbr->
br_´od_ž
,

276 
br
->
br_ršg
[br->
br_cÚs_h—d
] = 
Ãw
;

277 
	}
}

284 
__šlše
 *

285 
	$buf_ršg_³ek
(
buf_ršg
 *
br
)

288 #ifdeà
DEBUG_BUFRING


289 ià((
br
->
br_lock
 !ð
NULL
è&& !
	`mtx_owÃd
(br->br_lock))

290 
	`·nic
("lock‚ot held on single consumer dequeue");

298 ià(
br
->
br_cÚs_h—d
 =ðbr->
br_´od_ž
)

299  (
NULL
);

301  (
br
->
br_ršg
[br->
br_cÚs_h—d
]);

302 
	}
}

304 
__šlše
 *

305 
	$buf_ršg_³ek_þ—r_sc
(
buf_ršg
 *
br
)

307 #ifdeà
DEBUG_BUFRING


308 *
»t
;

310 ià(!
	`mtx_owÃd
(
br
->
br_lock
))

311 
	`·nic
("lock‚ot held on single consumer dequeue");

319 ià(
br
->
br_cÚs_h—d
 =ðbr->
br_´od_ž
)

320  (
NULL
);

322 #ifdeà
DEBUG_BUFRING


327 
»t
 = 
br
->
br_ršg
[br->
br_cÚs_h—d
];

328 
br
->
br_ršg
[br->
br_cÚs_h—d
] = 
NULL
;

329  (
»t
);

331  (
br
->
br_ršg
[br->
br_cÚs_h—d
]);

333 
	}
}

335 
__šlše
 

336 
	$buf_ršg_fuÎ
(
buf_ršg
 *
br
)

339  (((
br
->
br_´od_h—d
 + 1è& br->
br_´od_mask
è=ðbr->
br_cÚs_ž
);

340 
	}
}

342 
__šlše
 

343 
	$buf_ršg_em±y
(
buf_ršg
 *
br
)

346  (
br
->
br_cÚs_h—d
 =ðbr->
br_´od_ž
);

347 
	}
}

349 
__šlše
 

350 
	$buf_ršg_couÁ
(
buf_ršg
 *
br
)

353  ((
br
->
br_´od_size
 + br->
br_´od_ž
 - br->
br_cÚs_ž
)

354 & 
br
->
br_´od_mask
);

355 
	}
}

357 
buf_ršg
 *
buf_ršg_®loc
(
couÁ
, 
m®loc_ty³
 *
ty³
, 
æags
,

358 
mtx
 *);

359 
buf_ršg_ä“
(
buf_ršg
 *
br
, 
m®loc_ty³
 *
ty³
);

	@/usr/include/sys/bufobj.h

51 #iâdeà
_SYS_BUFOBJ_H_


52 
	#_SYS_BUFOBJ_H_


	)

54 #ià
defšed
(
_KERNEL
è|| defšed(
_KVM_VNODE
)

56 
	~<sys/queue.h
>

57 
	~<sys/_lock.h
>

58 
	~<sys/_rwlock.h
>

59 
	~<sys/_pùr›.h
>

61 
	gbufobj
;

62 
	gbuf_Ýs
;

64 
buf_Ýs
 
buf_Ýs_bio
;

66 
TAILQ_HEAD
(
buæi¡s
, 
buf
);

69 
	sbufv
 {

70 
buæi¡s
 
	mbv_hd
;

71 
pùr›
 
	mbv_roÙ
;

72 
	mbv_út
;

75 
	tb_¡¿‹gy_t
(
	tbufobj
 *, 
	tbuf
 *);

76 
	tb_wr™e_t
(
	tbuf
 *);

77 
	tb_sync_t
(
	tbufobj
 *, 
	twa™fÜ
);

78 
	tb_bdæush_t
(
	tbufobj
 *, 
	tbuf
 *);

80 
	sbuf_Ýs
 {

81 *
	mbÝ_Çme
;

82 
b_wr™e_t
 *
	mbÝ_wr™e
;

83 
b_¡¿‹gy_t
 *
	mbÝ_¡¿‹gy
;

84 
b_sync_t
 *
	mbÝ_sync
;

85 
b_bdæush_t
 *
	mbÝ_bdæush
;

88 
	#BO_STRATEGY
(
bo
, 
bp
è((bo)->
bo_Ýs
->
	`bÝ_¡¿‹gy
((bo), (bp)))

	)

89 
	#BO_SYNC
(
bo
, 
w
è((bo)->
bo_Ýs
->
	`bÝ_sync
((bo), (w)))

	)

90 
	#BO_WRITE
(
bo
, 
bp
è((bo)->
bo_Ýs
->
	`bÝ_wr™e
((bp)))

	)

91 
	#BO_BDFLUSH
(
bo
, 
bp
è((bo)->
bo_Ýs
->
	`bÝ_bdæush
((bo), (bp)))

	)

99 
	sbufobj
 {

100 
rwlock
 
	mbo_lock
;

101 
buf_Ýs
 *
	mbo_Ýs
;

102 
vm_objeù
 *
	mbo_objeù
;

103 
LIST_ENTRY
(
bufobj
è
	mbo_synþi¡
;

104 *
	mbo_´iv©e
;

105 
bufv
 
	mbo_þ—n
;

106 
bufv
 
	mbo_dœty
;

107 
	mbo_numouut
;

108 
u_št
 
	mbo_æag
;

109 
	mbo_domaš
;

110 
	mbo_bsize
;

117 
	#BO_ONWORKLST
 (1 << 0è

	)

118 
	#BO_WWAIT
 (1 << 1è

	)

119 
	#BO_DEAD
 (1 << 2è

	)

121 
	#BO_LOCKPTR
(
bo
è(&(bo)->
bo_lock
)

	)

122 
	#BO_LOCK
(
bo
è
	`rw_wlock
(
	`BO_LOCKPTR
((bo)))

	)

123 
	#BO_UNLOCK
(
bo
è
	`rw_wuÆock
(
	`BO_LOCKPTR
((bo)))

	)

124 
	#BO_RLOCK
(
bo
è
	`rw_¾ock
(
	`BO_LOCKPTR
((bo)))

	)

125 
	#BO_RUNLOCK
(
bo
è
	`rw_ruÆock
(
	`BO_LOCKPTR
((bo)))

	)

126 
	#ASSERT_BO_WLOCKED
(
bo
è
	`rw_as£¹
(
	`BO_LOCKPTR
((bo)), 
RA_WLOCKED
)

	)

127 
	#ASSERT_BO_LOCKED
(
bo
è
	`rw_as£¹
(
	`BO_LOCKPTR
((bo)), 
RA_LOCKED
)

	)

128 
	#ASSERT_BO_UNLOCKED
(
bo
è
	`rw_as£¹
(
	`BO_LOCKPTR
((bo)), 
RA_UNLOCKED
)

	)

130 
bufobj_š™
(
bufobj
 *
bo
, *
´iv©e
);

131 
bufobj_wdrÝ
(
bufobj
 *
bo
);

132 
bufobj_w»f
(
bufobj
 *
bo
);

133 
bufobj_w»æ
(
bufobj
 *
bo
);

134 
bufobj_šv®buf
(
bufobj
 *
bo
, 
æags
, 
¦pæag
, 
¦±imeo
);

135 
bufobj_wwa™
(
bufobj
 *
bo
, 
¦pæag
, 
timeo
);

136 
bufsync
(
bufobj
 *
bo
, 
wa™fÜ
);

137 
bufbdæush
(
bufobj
 *
bo
, 
buf
 *
bp
);

	@/usr/include/sys/callout.h

40 #iâdeà
_SYS_CALLOUT_H_


41 
	#_SYS_CALLOUT_H_


	)

43 
	~<sys/_ÿÎout.h
>

45 
	#CALLOUT_LOCAL_ALLOC
 0x0001

	)

46 
	#CALLOUT_ACTIVE
 0x0002

	)

47 
	#CALLOUT_PENDING
 0x0004

	)

48 
	#CALLOUT_MPSAFE
 0x0008

	)

49 
	#CALLOUT_RETURNUNLOCKED
 0x0010

	)

50 
	#CALLOUT_SHAREDLOCK
 0x0020

	)

51 
	#CALLOUT_DFRMIGRATION
 0x0040

	)

52 
	#CALLOUT_PROCESSED
 0x0080

	)

53 
	#CALLOUT_DIRECT
 0x0100

	)

55 
	#C_DIRECT_EXEC
 0x0001

	)

56 
	#C_PRELBITS
 7

	)

57 
	#C_PRELRANGE
 ((1 << 
C_PRELBITS
è- 1)

	)

58 
	#C_PREL
(
x
è(((xè+ 1è<< 1)

	)

59 
	#C_PRELGET
(
x
è()((((xè>> 1è& 
C_PRELRANGE
è- 1)

	)

60 
	#C_HARDCLOCK
 0x0100

	)

61 
	#C_ABSOLUTE
 0x0200

	)

62 
	#C_PRECALC
 0x0400

	)

63 
	#C_CATCH
 0x0800

	)

65 
	sÿÎout_hªdË
 {

66 
ÿÎout
 *
	mÿÎout
;

70 
	#CS_DRAIN
 0x0001

	)

71 
	#CS_EXECUTING
 0x0002

	)

74 #ifdeà
_KERNEL


91 
	#ÿÎout_aùive
(
c
è((c)->
c_æags
 & 
CALLOUT_ACTIVE
)

	)

92 
	#ÿÎout_d—ùiv©e
(
c
è((c)->
c_æags
 &ð~
CALLOUT_ACTIVE
)

	)

93 
	#ÿÎout_d¿š
(
c
è
	`_ÿÎout_¡Ý_§ã
(c, 
CS_DRAIN
, 
NULL
)

	)

94 
ÿÎout_š™
(
ÿÎout
 *, );

95 
_ÿÎout_š™_lock
(
ÿÎout
 *, 
lock_objeù
 *, );

96 
	#ÿÎout_š™_mtx
(
c
, 
mtx
, 
æags
) \

97 
	`_ÿÎout_š™_lock
((
c
), ((
mtx
è!ð
NULL
è? &(mtx)->
lock_objeù
 : \

98 
NULL
, (
æags
))

	)

99 
	#ÿÎout_š™_rm
(
c
, 
rm
, 
æags
) \

100 
	`_ÿÎout_š™_lock
((
c
), ((
rm
è!ð
NULL
è? &Ôm)->
lock_objeù
 : \

101 
NULL
, (
æags
))

	)

102 
	#ÿÎout_š™_rw
(
c
, 
rw
, 
æags
) \

103 
	`_ÿÎout_š™_lock
((
c
), ((
rw
è!ð
NULL
è? &Ôw)->
lock_objeù
 : \

104 
NULL
, (
æags
))

	)

105 
	#ÿÎout_³ndšg
(
c
è((c)->
c_iæags
 & 
CALLOUT_PENDING
)

	)

106 
ÿÎout_»£t_sbt_Ú
(
ÿÎout
 *, 
sbštime_t
, sbintime_t,

108 
	#ÿÎout_»£t_sbt
(
c
, 
sbt
, 
´
, 
â
, 
¬g
, 
æags
) \

109 
	`ÿÎout_»£t_sbt_Ú
((
c
), (
sbt
), (
´
), (
â
), (
¬g
), -1, (
æags
))

	)

110 
	#ÿÎout_»£t_sbt_curýu
(
c
, 
sbt
, 
´
, 
â
, 
¬g
, 
æags
) \

111 
	`ÿÎout_»£t_sbt_Ú
((
c
), (
sbt
), (
´
), (
â
), (
¬g
), 
	`PCPU_GET
(
ýuid
),\

112 (
æags
))

	)

113 
	#ÿÎout_»£t_Ú
(
c
, 
to_ticks
, 
â
, 
¬g
, 
ýu
) \

114 
	`ÿÎout_»£t_sbt_Ú
((
c
), 
tick_sbt
 * (
to_ticks
), 0, (
â
), (
¬g
), \

115 (
ýu
), 
C_HARDCLOCK
)

	)

116 
	#ÿÎout_»£t
(
c
, 
Ú_tick
, 
â
, 
¬g
) \

117 
	`ÿÎout_»£t_Ú
((
c
), (
Ú_tick
), (
â
), (
¬g
), -1)

	)

118 
	#ÿÎout_»£t_curýu
(
c
, 
Ú_tick
, 
â
, 
¬g
) \

119 
	`ÿÎout_»£t_Ú
((
c
), (
Ú_tick
), (
â
), (
¬g
), 
	`PCPU_GET
(
ýuid
))

	)

120 
	#ÿÎout_scheduË_sbt_Ú
(
c
, 
sbt
, 
´
, 
ýu
, 
æags
) \

121 
	`ÿÎout_»£t_sbt_Ú
((
c
), (
sbt
), (
´
), (c)->
c_func
, (c)->
c_¬g
, \

122 (
ýu
), (
æags
))

	)

123 
	#ÿÎout_scheduË_sbt
(
c
, 
sbt
, 
´
, 
æags
) \

124 
	`ÿÎout_scheduË_sbt_Ú
((
c
), (
sbt
), (
´
), -1, (
æags
))

	)

125 
	#ÿÎout_scheduË_sbt_curýu
(
c
, 
sbt
, 
´
, 
æags
) \

126 
	`ÿÎout_scheduË_sbt_Ú
((
c
), (
sbt
), (
´
), 
	`PCPU_GET
(
ýuid
), (
æags
))

	)

127 
	`ÿÎout_scheduË
(
ÿÎout
 *, );

128 
	`ÿÎout_scheduË_Ú
(
ÿÎout
 *, , );

129 
	#ÿÎout_scheduË_curýu
(
c
, 
Ú_tick
) \

130 
	`ÿÎout_scheduË_Ú
((
c
), (
Ú_tick
), 
	`PCPU_GET
(
ýuid
))

	)

131 
	#ÿÎout_¡Ý
(
c
è
	`_ÿÎout_¡Ý_§ã
(c, 0, 
NULL
)

	)

132 
	`_ÿÎout_¡Ý_§ã
(
ÿÎout
 *, , (*)(*));

133 
	`ÿÎout_´oûss
(
sbštime_t
 
now
);

134 
	#ÿÎout_async_d¿š
(
c
, 
d
) \

135 
	`_ÿÎout_¡Ý_§ã
(
c
, 0, 
d
)

	)

136 
	`ÿÎout_wh’
(
sbštime_t
 
sbt
, sbštime_ˆ
´ecisiÚ
, 
æags
,

137 
sbštime_t
 *
sbt_»s
, sbštime_ˆ*
´ec_»s
);

	@/usr/include/sys/ck.h

4 #ifdeà
_KERNEL


5 
	~<ck_queue.h
>

6 
	~<ck_•och.h
>

8 
	~<sys/queue.h
>

9 
	#CK_STAILQ_HEAD
 
STAILQ_HEAD


	)

10 
	#CK_STAILQ_ENTRY
 
STAILQ_ENTRY


	)

11 
	#CK_LIST_HEAD
 
LIST_HEAD


	)

12 
	#CK_LIST_ENTRY
 
LIST_ENTRY


	)

	@/usr/include/sys/counter.h

31 #iâdeà
__SYS_COUNTER_H__


32 
	#__SYS_COUNTER_H__


	)

34 
ušt64_t
 *
	tcouÁ”_u64_t
;

36 #ifdeà
_KERNEL


37 
	~<machše/couÁ”.h
>

39 
couÁ”_u64_t
 
couÁ”_u64_®loc
();

40 
couÁ”_u64_ä“
(
couÁ”_u64_t
);

42 
couÁ”_u64_z”o
(
couÁ”_u64_t
);

43 
ušt64_t
 
couÁ”_u64_ãtch
(
couÁ”_u64_t
);

45 
	#COUNTER_ARRAY_ALLOC
(
a
, 
n
, 
wa™
) do { \

46 
i
 = 0; i < (
n
); i++) \

47 (
a
)[
i
] = 
	`couÁ”_u64_®loc
(
wa™
); \

48 } 0)

	)

50 
	#COUNTER_ARRAY_FREE
(
a
, 
n
) do { \

51 
i
 = 0; i < (
n
); i++) \

52 
	`couÁ”_u64_ä“
((
a
)[
i
]); \

53 } 0)

	)

55 
	#COUNTER_ARRAY_COPY
(
a
, 
d¡p
, 
n
) do { \

56 
i
 = 0; i < (
n
); i++) \

57 ((
ušt64_t
 *)(
d¡p
))[
i
] = 
	`couÁ”_u64_ãtch
((
a
)[i]);\

58 } 0)

	)

60 
	#COUNTER_ARRAY_ZERO
(
a
, 
n
) do { \

61 
i
 = 0; i < (
n
); i++) \

62 
	`couÁ”_u64_z”o
((
a
)[
i
]); \

63 } 0)

	)

68 
	scouÁ”_¿‹
 {

69 
couÁ”_u64_t
 
	mü_¿‹
;

70 vÞ©ž
	mü_lock
;

71 
	mü_ticks
;

72 
	mü_ov”
;

75 
št64_t
 
couÁ”_¿‹check
(
couÁ”_¿‹
 *, int64_t);

	@/usr/include/sys/cpuset.h

34 #iâdeà
_SYS_CPUSET_H_


35 
	#_SYS_CPUSET_H_


	)

37 
	~<sys/_ýu£t.h
>

39 
	~<sys/b™£t.h
>

41 
	#_NCPUBITS
 
_BITSET_BITS


	)

42 
	#_NCPUWORDS
 
	`__b™£t_wÜds
(
CPU_SETSIZE
)

	)

44 
	#CPUSETBUFSIZ
 ((2 + (è* 2è* 
_NCPUWORDS
)

	)

46 
	#CPU_CLR
(
n
, 
p
è
	`BIT_CLR
(
CPU_SETSIZE
,‚,…)

	)

47 
	#CPU_COPY
(
f
, 
t
è
	`BIT_COPY
(
CPU_SETSIZE
, f,)

	)

48 
	#CPU_ISSET
(
n
, 
p
è
	`BIT_ISSET
(
CPU_SETSIZE
,‚,…)

	)

49 
	#CPU_SET
(
n
, 
p
è
	`BIT_SET
(
CPU_SETSIZE
,‚,…)

	)

50 
	#CPU_ZERO
(
p
è
	`BIT_ZERO
(
CPU_SETSIZE
,…)

	)

51 
	#CPU_FILL
(
p
è
	`BIT_FILL
(
CPU_SETSIZE
,…)

	)

52 
	#CPU_SETOF
(
n
, 
p
è
	`BIT_SETOF
(
CPU_SETSIZE
,‚,…)

	)

53 
	#CPU_EMPTY
(
p
è
	`BIT_EMPTY
(
CPU_SETSIZE
,…)

	)

54 
	#CPU_ISFULLSET
(
p
è
	`BIT_ISFULLSET
(
CPU_SETSIZE
,…)

	)

55 
	#CPU_SUBSET
(
p
, 
c
è
	`BIT_SUBSET
(
CPU_SETSIZE
,…, c)

	)

56 
	#CPU_OVERLAP
(
p
, 
c
è
	`BIT_OVERLAP
(
CPU_SETSIZE
,…, c)

	)

57 
	#CPU_CMP
(
p
, 
c
è
	`BIT_CMP
(
CPU_SETSIZE
,…, c)

	)

58 
	#CPU_OR
(
d
, 
s
è
	`BIT_OR
(
CPU_SETSIZE
, d, s)

	)

59 
	#CPU_AND
(
d
, 
s
è
	`BIT_AND
(
CPU_SETSIZE
, d, s)

	)

60 
	#CPU_NAND
(
d
, 
s
è
	`BIT_NAND
(
CPU_SETSIZE
, d, s)

	)

61 
	#CPU_CLR_ATOMIC
(
n
, 
p
è
	`BIT_CLR_ATOMIC
(
CPU_SETSIZE
,‚,…)

	)

62 
	#CPU_SET_ATOMIC
(
n
, 
p
è
	`BIT_SET_ATOMIC
(
CPU_SETSIZE
,‚,…)

	)

63 
	#CPU_SET_ATOMIC_ACQ
(
n
, 
p
è
	`BIT_SET_ATOMIC_ACQ
(
CPU_SETSIZE
,‚,…)

	)

64 
	#CPU_AND_ATOMIC
(
n
, 
p
è
	`BIT_AND_ATOMIC
(
CPU_SETSIZE
,‚,…)

	)

65 
	#CPU_OR_ATOMIC
(
d
, 
s
è
	`BIT_OR_ATOMIC
(
CPU_SETSIZE
, d, s)

	)

66 
	#CPU_COPY_STORE_REL
(
f
, 
t
è
	`BIT_COPY_STORE_REL
(
CPU_SETSIZE
, f,)

	)

67 
	#CPU_FFS
(
p
è
	`BIT_FFS
(
CPU_SETSIZE
,…)

	)

68 
	#CPU_COUNT
(
p
è
	`BIT_COUNT
(
CPU_SETSIZE
,…)

	)

69 
	#CPUSET_FSET
 
	`BITSET_FSET
(
_NCPUWORDS
)

	)

70 
	#CPUSET_T_INITIALIZER
 
BITSET_T_INITIALIZER


	)

75 
	#CPU_LEVEL_ROOT
 1

	)

76 
	#CPU_LEVEL_CPUSET
 2

	)

77 
	#CPU_LEVEL_WHICH
 3

	)

82 
	#CPU_WHICH_TID
 1

	)

83 
	#CPU_WHICH_PID
 2

	)

84 
	#CPU_WHICH_CPUSET
 3

	)

85 
	#CPU_WHICH_IRQ
 4

	)

86 
	#CPU_WHICH_JAIL
 5

	)

87 
	#CPU_WHICH_DOMAIN
 6

	)

88 
	#CPU_WHICH_INTRHANDLER
 7

	)

89 
	#CPU_WHICH_ITHREAD
 8

	)

94 
	#CPUSET_INVALID
 -1

	)

95 
	#CPUSET_DEFAULT
 0

	)

97 #ifdeà
_KERNEL


98 
	~<sys/queue.h
>

100 
LIST_HEAD
(
£Ži¡
, 
ýu£t
);

113 
	sýu£t
 {

114 
ýu£t_t
 
	mcs_mask
;

115 
domaš£t
 *
	mcs_domaš
;

116 vÞ©ž
u_št
 
	mcs_»f
;

117 
	mcs_æags
;

118 
ýu£tid_t
 
	mcs_id
;

119 
ýu£t
 *
	mcs_·»Á
;

120 
LIST_ENTRY
(
ýu£t
è
	mcs_lšk
;

121 
LIST_ENTRY
(
ýu£t
è
	mcs_siblšgs
;

122 
£Ži¡
 
	mcs_chžd»n
;

125 
	#CPU_SET_ROOT
 0x0001

	)

126 
	#CPU_SET_RDONLY
 0x0002

	)

128 
ýu£t_t
 *
ýu£t_roÙ
;

129 
	g´isÚ
;

130 
	g´oc
;

131 
	gth»ad
;

133 
ýu£t
 *
ýu£t_th»ad0
();

134 
ýu£t
 *
ýu£t_»f
(cpuset *);

135 
ýu£t_»l
(
ýu£t
 *);

136 
ýu£t_£‰h»ad
(
lwpid_t
 
id
, 
ýu£t_t
 *);

137 
ýu£t_£t™h»ad
(
lwpid_t
 
id
, 
ýu
);

138 
ýu£t_ü—‹_roÙ
(
´isÚ
 *, 
ýu£t
 **);

139 
ýu£t_£roc_upd©e_£t
(
´oc
 *, 
ýu£t
 *);

140 
ýu£t_which
(
ýuwhich_t
, 
id_t
, 
´oc
 **,

141 
th»ad
 **, 
ýu£t
 **);

142 
ýu£t_k”Áh»ad
(
th»ad
 *);

144 *
ýu£tobj_¡½ršt
(*, cÚ¡ 
ýu£t_t
 *);

145 
ýu£tobj_¡rsÿn
(
ýu£t_t
 *, const *);

146 #ifdeà
DDB


147 
ddb_di¥Ïy_ýu£t
(cÚ¡ 
ýu£t_t
 *);

151 
__BEGIN_DECLS


152 
ýu£t
(
ýu£tid_t
 *);

153 
ýu£t_£tid
(
ýuwhich_t
, 
id_t
, 
ýu£tid_t
);

154 
ýu£t_g‘id
(
ýuËv–_t
, 
ýuwhich_t
, 
id_t
, 
ýu£tid_t
 *);

155 
ýu£t_g‘affš™y
(
ýuËv–_t
, 
ýuwhich_t
, 
id_t
, 
size_t
, 
ýu£t_t
 *);

156 
ýu£t_£ffš™y
(
ýuËv–_t
, 
ýuwhich_t
, 
id_t
, 
size_t
, cÚ¡ 
ýu£t_t
 *);

157 
	g__END_DECLS


	@/usr/include/sys/domainset.h

31 #iâdeà
_SYS_DOMAINSET_H_


32 
	#_SYS_DOMAINSET_H_


	)

34 
	~<sys/_domaš£t.h
>

35 
	~<sys/b™£t.h
>

36 
	~<sys/queue.h
>

38 
	#_NDOMAINSETBITS
 
_BITSET_BITS


	)

39 
	#_NDOMAINSETWORDS
 
	`__b™£t_wÜds
(
DOMAINSET_SETSIZE
)

	)

41 
	#DOMAINSETBUFSIZ
 \

42 (((2 + (è* 2è* 
_NDOMAINSETWORDS
) + \

43 ("::"è+ (
	`__XSTRING
(
DOMAINSET_POLICY_MAX
)) + \

44 (
	`__XSTRING
(
MAXMEMDOM
)))

	)

47 
	#DOMAINSET_CLR
(
n
, 
p
è
	`BIT_CLR
(
DOMAINSET_SETSIZE
,‚,…)

	)

48 
	#DOMAINSET_COPY
(
f
, 
t
è
	`BIT_COPY
(
DOMAINSET_SETSIZE
, f,)

	)

49 
	#DOMAINSET_ISSET
(
n
, 
p
è
	`BIT_ISSET
(
DOMAINSET_SETSIZE
,‚,…)

	)

50 
	#DOMAINSET_SET
(
n
, 
p
è
	`BIT_SET
(
DOMAINSET_SETSIZE
,‚,…)

	)

51 
	#DOMAINSET_ZERO
(
p
è
	`BIT_ZERO
(
DOMAINSET_SETSIZE
,…)

	)

52 
	#DOMAINSET_FILL
(
p
è
	`BIT_FILL
(
DOMAINSET_SETSIZE
,…)

	)

53 
	#DOMAINSET_SETOF
(
n
, 
p
è
	`BIT_SETOF
(
DOMAINSET_SETSIZE
,‚,…)

	)

54 
	#DOMAINSET_EMPTY
(
p
è
	`BIT_EMPTY
(
DOMAINSET_SETSIZE
,…)

	)

55 
	#DOMAINSET_ISFULLSET
(
p
è
	`BIT_ISFULLSET
(
DOMAINSET_SETSIZE
,…)

	)

56 
	#DOMAINSET_SUBSET
(
p
, 
c
è
	`BIT_SUBSET
(
DOMAINSET_SETSIZE
,…, c)

	)

57 
	#DOMAINSET_OVERLAP
(
p
, 
c
è
	`BIT_OVERLAP
(
DOMAINSET_SETSIZE
,…, c)

	)

58 
	#DOMAINSET_CMP
(
p
, 
c
è
	`BIT_CMP
(
DOMAINSET_SETSIZE
,…, c)

	)

59 
	#DOMAINSET_OR
(
d
, 
s
è
	`BIT_OR
(
DOMAINSET_SETSIZE
, d, s)

	)

60 
	#DOMAINSET_AND
(
d
, 
s
è
	`BIT_AND
(
DOMAINSET_SETSIZE
, d, s)

	)

61 
	#DOMAINSET_NAND
(
d
, 
s
è
	`BIT_NAND
(
DOMAINSET_SETSIZE
, d, s)

	)

62 
	#DOMAINSET_CLR_ATOMIC
(
n
, 
p
è
	`BIT_CLR_ATOMIC
(
DOMAINSET_SETSIZE
,‚,…)

	)

63 
	#DOMAINSET_SET_ATOMIC
(
n
, 
p
è
	`BIT_SET_ATOMIC
(
DOMAINSET_SETSIZE
,‚,…)

	)

64 
	#DOMAINSET_SET_ATOMIC_ACQ
(
n
, 
p
) \

65 
	`BIT_SET_ATOMIC_ACQ
(
DOMAINSET_SETSIZE
, 
n
, 
p
)

	)

66 
	#DOMAINSET_AND_ATOMIC
(
n
, 
p
è
	`BIT_AND_ATOMIC
(
DOMAINSET_SETSIZE
,‚,…)

	)

67 
	#DOMAINSET_OR_ATOMIC
(
d
, 
s
è
	`BIT_OR_ATOMIC
(
DOMAINSET_SETSIZE
, d, s)

	)

68 
	#DOMAINSET_COPY_STORE_REL
(
f
, 
t
) \

69 
	`BIT_COPY_STORE_REL
(
DOMAINSET_SETSIZE
, 
f
, 
t
)

	)

70 
	#DOMAINSET_FFS
(
p
è
	`BIT_FFS
(
DOMAINSET_SETSIZE
,…)

	)

71 
	#DOMAINSET_FLS
(
p
è
	`BIT_FLS
(
DOMAINSET_SETSIZE
,…)

	)

72 
	#DOMAINSET_COUNT
(
p
è
	`BIT_COUNT
(
DOMAINSET_SETSIZE
,…)

	)

73 
	#DOMAINSET_FSET
 
	`BITSET_FSET
(
_NDOMAINSETWORDS
)

	)

74 
	#DOMAINSET_T_INITIALIZER
 
BITSET_T_INITIALIZER


	)

76 
	#DOMAINSET_POLICY_INVALID
 0

	)

77 
	#DOMAINSET_POLICY_ROUNDROBIN
 1

	)

78 
	#DOMAINSET_POLICY_FIRSTTOUCH
 2

	)

79 
	#DOMAINSET_POLICY_PREFER
 3

	)

80 
	#DOMAINSET_POLICY_INTERLEAVE
 4

	)

81 
	#DOMAINSET_POLICY_MAX
 
DOMAINSET_POLICY_INTERLEAVE


	)

83 #ifdeà
_KERNEL


84 #ià
MAXMEMDOM
 < 256

85 
ušt8_t
 
	tdomašid_t
;

87 
ušt16_t
 
	tdomašid_t
;

90 
	sdomaš£t
 {

91 
LIST_ENTRY
(
domaš£t
è
	mds_lšk
;

92 
domaš£t_t
 
	mds_mask
;

93 
ušt16_t
 
	mds_pÞicy
;

94 
domašid_t
 
	mds_´eãr
;

95 
domašid_t
 
	mds_út
;

96 
domašid_t
 
	mds_Üd”
[
MAXMEMDOM
];

99 
domaš£t
 
domaš£t_fixed
[
MAXMEMDOM
], 
domaš£t_´eãr
[MAXMEMDOM];

100 
	#DOMAINSET_FIXED
(
domaš
è(&
domaš£t_fixed
[(domaš)])

	)

101 
	#DOMAINSET_PREF
(
domaš
è(&
domaš£t_´eãr
[(domaš)])

	)

102 
domaš£t
 
domaš£t_roundrobš
;

103 
	#DOMAINSET_RR
(è(&
domaš£t_roundrobš
)

	)

105 
domaš£t_š™
();

106 
domaš£t_z”o
();

113 
domaš£t
 *
domaš£t_ü—‹
(const domainset *);

114 #ifdeà
_SYS_SYSCTL_H_


115 
sysùl_hªdË_domaš£t
(
SYSCTL_HANDLER_ARGS
);

119 
__BEGIN_DECLS


120 
ýu£t_g‘domaš
(
ýuËv–_t
, 
ýuwhich_t
, 
id_t
, 
size_t
, 
domaš£t_t
 *,

122 
ýu£t_£tdomaš
(
ýuËv–_t
, 
ýuwhich_t
, 
id_t
, 
size_t
,

123 cÚ¡ 
domaš£t_t
 *, );

125 
	g__END_DECLS


	@/usr/include/sys/elf_common.h

33 #iâdeà
_SYS_ELF_COMMON_H_


34 
	#_SYS_ELF_COMMON_H_
 1

	)

50 
u_št32_t
 
	mn_Çmesz
;

51 
u_št32_t
 
	mn_descsz
;

52 
u_št32_t
 
	mn_ty³
;

53 } 
	tElf_NÙe
;

54 
Elf_NÙe
 
	tElf_Nhdr
;

59 
	#ODK_NULL
 0

	)

60 
	#ODK_REGINFO
 1

	)

61 
	#ODK_EXCEPTIONS
 2

	)

62 
	#ODK_PAD
 3

	)

63 
	#ODK_HWPATCH
 4

	)

64 
	#ODK_FILL
 5

	)

65 
	#ODK_TAGS
 6

	)

66 
	#ODK_HWAND
 7

	)

67 
	#ODK_HWOR
 8

	)

68 
	#ODK_GP_GROUP
 9

	)

69 
	#ODK_IDENT
 10

	)

70 
	#ODK_PAGESIZE
 11

	)

75 
	#OEX_FPU_MIN
 0x0000001à

	)

76 
	#OEX_FPU_MAX
 0x00001f00

	)

77 
	#OEX_PAGE0
 0x00010000

	)

78 
	#OEX_SMM
 0x00020000

	)

79 
	#OEX_PRECISEFP
 0x00040000

	)

80 
	#OEX_DISMISS
 0x00080000

	)

85 
	#OPAD_PREFIX
 0x0001

	)

86 
	#OPAD_POSTFIX
 0x0002

	)

87 
	#OPAD_SYMBOL
 0x0004

	)

92 
	#OHW_R4KEOP
 0x00000001

	)

93 
	#OHW_R8KPFETCH
 0x00000002

	)

94 
	#OHW_R5KEOP
 0x00000004

	)

95 
	#OHW_R5KCVTL
 0x00000008

	)

96 
	#OHW_R10KLDL
 0x00000010UL

	)

101 
	#OHWA0_R4KEOP_CHECKED
 0x00000001

	)

102 
	#OHWA0_R4KEOP_CLEAN
 0x00000002

	)

103 
	#OHWO0_FIXADE
 0x00000001

	)

108 
	#OGP_GROUP
 0x0000fffà

	)

109 
	#OGP_SELF
 0x00010000

	)

116 
u_št32_t
 
	mgh_nbuck‘s
;

117 
u_št32_t
 
	mgh_symndx
;

118 
u_št32_t
 
	mgh_maskwÜds
;

119 
u_št32_t
 
	mgh_shiá2
;

120 } 
	tElf_GNU_Hash_H—d”
;

124 
	#EI_MAG0
 0

	)

125 
	#EI_MAG1
 1

	)

126 
	#EI_MAG2
 2

	)

127 
	#EI_MAG3
 3

	)

128 
	#EI_CLASS
 4

	)

129 
	#EI_DATA
 5

	)

130 
	#EI_VERSION
 6

	)

131 
	#EI_OSABI
 7

	)

132 
	#EI_ABIVERSION
 8

	)

133 
	#OLD_EI_BRAND
 8

	)

134 
	#EI_PAD
 9

	)

135 
	#EI_NIDENT
 16

	)

138 
	#ELFMAG0
 0x7f

	)

139 
	#ELFMAG1
 'E'

	)

140 
	#ELFMAG2
 'L'

	)

141 
	#ELFMAG3
 'F'

	)

142 
	#ELFMAG
 "\177ELF"

	)

143 
	#SELFMAG
 4

	)

146 
	#EV_NONE
 0

	)

147 
	#EV_CURRENT
 1

	)

150 
	#ELFCLASSNONE
 0

	)

151 
	#ELFCLASS32
 1

	)

152 
	#ELFCLASS64
 2

	)

155 
	#ELFDATANONE
 0

	)

156 
	#ELFDATA2LSB
 1

	)

157 
	#ELFDATA2MSB
 2

	)

160 
	#ELFOSABI_NONE
 0

	)

161 
	#ELFOSABI_HPUX
 1

	)

162 
	#ELFOSABI_NETBSD
 2

	)

163 
	#ELFOSABI_LINUX
 3

	)

164 
	#ELFOSABI_HURD
 4

	)

165 
	#ELFOSABI_86OPEN
 5

	)

166 
	#ELFOSABI_SOLARIS
 6

	)

167 
	#ELFOSABI_AIX
 7

	)

168 
	#ELFOSABI_IRIX
 8

	)

169 
	#ELFOSABI_FREEBSD
 9

	)

170 
	#ELFOSABI_TRU64
 10

	)

171 
	#ELFOSABI_MODESTO
 11

	)

172 
	#ELFOSABI_OPENBSD
 12

	)

173 
	#ELFOSABI_OPENVMS
 13

	)

174 
	#ELFOSABI_NSK
 14

	)

175 
	#ELFOSABI_AROS
 15

	)

176 
	#ELFOSABI_FENIXOS
 16

	)

177 
	#ELFOSABI_CLOUDABI
 17

	)

178 
	#ELFOSABI_ARM_AEABI
 64

	)

179 
	#ELFOSABI_ARM
 97

	)

180 
	#ELFOSABI_STANDALONE
 255

	)

182 
	#ELFOSABI_SYSV
 
ELFOSABI_NONE


	)

183 
	#ELFOSABI_MONTEREY
 
ELFOSABI_AIX


	)

184 
	#ELFOSABI_GNU
 
ELFOSABI_LINUX


	)

187 
	#IS_ELF
(
ehdr
è(Óhdr).
e_id’t
[
EI_MAG0
] =ð
ELFMAG0
 && \

188 (
ehdr
).
e_id’t
[
EI_MAG1
] =ð
ELFMAG1
 && \

189 (
ehdr
).
e_id’t
[
EI_MAG2
] =ð
ELFMAG2
 && \

190 (
ehdr
).
e_id’t
[
EI_MAG3
] =ð
ELFMAG3
)

	)

193 
	#ET_NONE
 0

	)

194 
	#ET_REL
 1

	)

195 
	#ET_EXEC
 2

	)

196 
	#ET_DYN
 3

	)

197 
	#ET_CORE
 4

	)

198 
	#ET_LOOS
 0xã00

	)

199 
	#ET_HIOS
 0xãfà

	)

200 
	#ET_LOPROC
 0xff00

	)

201 
	#ET_HIPROC
 0xfffà

	)

204 
	#EM_NONE
 0

	)

205 
	#EM_M32
 1

	)

206 
	#EM_SPARC
 2

	)

207 
	#EM_386
 3

	)

208 
	#EM_68K
 4

	)

209 
	#EM_88K
 5

	)

210 
	#EM_IAMCU
 6

	)

211 
	#EM_860
 7

	)

212 
	#EM_MIPS
 8

	)

213 
	#EM_S370
 9

	)

214 
	#EM_MIPS_RS3_LE
 10

	)

215 
	#EM_PARISC
 15

	)

216 
	#EM_VPP500
 17

	)

217 
	#EM_SPARC32PLUS
 18

	)

218 
	#EM_960
 19

	)

219 
	#EM_PPC
 20

	)

220 
	#EM_PPC64
 21

	)

221 
	#EM_S390
 22

	)

222 
	#EM_V800
 36

	)

223 
	#EM_FR20
 37

	)

224 
	#EM_RH32
 38

	)

225 
	#EM_RCE
 39

	)

226 
	#EM_ARM
 40

	)

227 
	#EM_SH
 42

	)

228 
	#EM_SPARCV9
 43

	)

229 
	#EM_TRICORE
 44

	)

230 
	#EM_ARC
 45

	)

231 
	#EM_H8_300
 46

	)

232 
	#EM_H8_300H
 47

	)

233 
	#EM_H8S
 48

	)

234 
	#EM_H8_500
 49

	)

235 
	#EM_IA_64
 50

	)

236 
	#EM_MIPS_X
 51

	)

237 
	#EM_COLDFIRE
 52

	)

238 
	#EM_68HC12
 53

	)

239 
	#EM_MMA
 54

	)

240 
	#EM_PCP
 55

	)

241 
	#EM_NCPU
 56

	)

242 
	#EM_NDR1
 57

	)

243 
	#EM_STARCORE
 58

	)

244 
	#EM_ME16
 59

	)

245 
	#EM_ST100
 60

	)

246 
	#EM_TINYJ
 61

	)

247 
	#EM_X86_64
 62

	)

248 
	#EM_AMD64
 
EM_X86_64


	)

249 
	#EM_PDSP
 63

	)

250 
	#EM_FX66
 66

	)

251 
	#EM_ST9PLUS
 67

	)

253 
	#EM_ST7
 68

	)

255 
	#EM_68HC16
 69

	)

256 
	#EM_68HC11
 70

	)

257 
	#EM_68HC08
 71

	)

258 
	#EM_68HC05
 72

	)

259 
	#EM_SVX
 73

	)

260 
	#EM_ST19
 74

	)

261 
	#EM_VAX
 75

	)

262 
	#EM_CRIS
 76

	)

264 
	#EM_JAVELIN
 77

	)

266 
	#EM_FIREPATH
 78

	)

267 
	#EM_ZSP
 79

	)

268 
	#EM_MMIX
 80

	)

269 
	#EM_HUANY
 81

	)

271 
	#EM_PRISM
 82

	)

272 
	#EM_AVR
 83

	)

273 
	#EM_FR30
 84

	)

274 
	#EM_D10V
 85

	)

275 
	#EM_D30V
 86

	)

276 
	#EM_V850
 87

	)

277 
	#EM_M32R
 88

	)

278 
	#EM_MN10300
 89

	)

279 
	#EM_MN10200
 90

	)

280 
	#EM_PJ
 91

	)

281 
	#EM_OPENRISC
 92

	)

282 
	#EM_ARC_A5
 93

	)

283 
	#EM_XTENSA
 94

	)

284 
	#EM_VIDEOCORE
 95

	)

285 
	#EM_TMM_GPP
 96

	)

287 
	#EM_NS32K
 97

	)

288 
	#EM_TPC
 98

	)

289 
	#EM_SNP1K
 99

	)

290 
	#EM_ST200
 100

	)

291 
	#EM_IP2K
 101

	)

292 
	#EM_MAX
 102

	)

293 
	#EM_CR
 103

	)

295 
	#EM_F2MC16
 104

	)

296 
	#EM_MSP430
 105

	)

298 
	#EM_BLACKFIN
 106

	)

299 
	#EM_SE_C33
 107

	)

300 
	#EM_SEP
 108

	)

301 
	#EM_ARCA
 109

	)

302 
	#EM_UNICORE
 110

	)

304 
	#EM_AARCH64
 183

	)

305 
	#EM_RISCV
 243

	)

308 
	#EM_486
 6

	)

309 
	#EM_MIPS_RS4_BE
 10

	)

310 
	#EM_ALPHA_STD
 41

	)

311 
	#EM_ALPHA
 0x9026

	)

316 
	#EF_ARM_RELEXEC
 0x1

	)

317 
	#EF_ARM_HASENTRY
 0x2

	)

318 
	#EF_ARM_SYMSARESORTED
 0x4

	)

319 
	#EF_ARM_DYNSYMSUSESEGIDX
 0x8

	)

320 
	#EF_ARM_MAPSYMSFIRST
 0x10

	)

321 
	#EF_ARM_LE8
 0x00400000

	)

322 
	#EF_ARM_BE8
 0x00800000

	)

323 
	#EF_ARM_EABIMASK
 0xFF000000

	)

324 
	#EF_ARM_EABI_UNKNOWN
 0x00000000

	)

325 
	#EF_ARM_EABI_VER1
 0x01000000

	)

326 
	#EF_ARM_EABI_VER2
 0x02000000

	)

327 
	#EF_ARM_EABI_VER3
 0x03000000

	)

328 
	#EF_ARM_EABI_VER4
 0x04000000

	)

329 
	#EF_ARM_EABI_VER5
 0x05000000

	)

330 
	#EF_ARM_INTERWORK
 0x00000004

	)

331 
	#EF_ARM_APCS_26
 0x00000008

	)

332 
	#EF_ARM_APCS_FLOAT
 0x00000010

	)

333 
	#EF_ARM_PIC
 0x00000020

	)

334 
	#EF_ARM_ALIGN8
 0x00000040

	)

335 
	#EF_ARM_NEW_ABI
 0x00000080

	)

336 
	#EF_ARM_OLD_ABI
 0x00000100

	)

337 
	#EF_ARM_ABI_FLOAT_SOFT
 0x00000200

	)

338 
	#EF_ARM_SOFT_FLOAT
 
EF_ARM_ABI_FLOAT_SOFT


	)

339 
	#EF_ARM_ABI_FLOAT_HARD
 0x00000400

	)

340 
	#EF_ARM_VFP_FLOAT
 
EF_ARM_ABI_FLOAT_HARD


	)

341 
	#EF_ARM_MAVERICK_FLOAT
 0x00000800

	)

343 
	#EF_MIPS_NOREORDER
 0x00000001

	)

344 
	#EF_MIPS_PIC
 0x00000002

	)

345 
	#EF_MIPS_CPIC
 0x00000004

	)

346 
	#EF_MIPS_UCODE
 0x00000010

	)

347 
	#EF_MIPS_ABI2
 0x00000020

	)

348 
	#EF_MIPS_OPTIONS_FIRST
 0x00000080

	)

349 
	#EF_MIPS_ABI
 0x0000F000

	)

350 
	#EF_MIPS_ABI_O32
 0x00001000

	)

351 
	#EF_MIPS_ABI_O64
 0x00002000

	)

352 
	#EF_MIPS_ABI_EABI32
 0x00003000

	)

353 
	#EF_MIPS_ABI_EABI64
 0x00004000

	)

354 
	#EF_MIPS_ARCH_ASE
 0x0F000000

	)

355 
	#EF_MIPS_ARCH_ASE_MDMX
 0x08000000

	)

356 
	#EF_MIPS_ARCH_ASE_M16
 0x04000000

	)

357 
	#EF_MIPS_ARCH
 0xF0000000

	)

358 
	#EF_MIPS_ARCH_1
 0x00000000

	)

359 
	#EF_MIPS_ARCH_2
 0x10000000

	)

360 
	#EF_MIPS_ARCH_3
 0x20000000

	)

361 
	#EF_MIPS_ARCH_4
 0x30000000

	)

362 
	#EF_MIPS_ARCH_5
 0x40000000

	)

363 
	#EF_MIPS_ARCH_32
 0x50000000

	)

364 
	#EF_MIPS_ARCH_64
 0x60000000

	)

365 
	#EF_MIPS_ARCH_32R2
 0x70000000

	)

366 
	#EF_MIPS_ARCH_64R2
 0x80000000

	)

368 
	#EF_PPC_EMB
 0x80000000

	)

369 
	#EF_PPC_RELOCATABLE
 0x00010000

	)

370 
	#EF_PPC_RELOCATABLE_LIB
 0x00008000

	)

372 
	#EF_SPARC_EXT_MASK
 0x00ffff00

	)

373 
	#EF_SPARC_32PLUS
 0x00000100

	)

374 
	#EF_SPARC_SUN_US1
 0x00000200

	)

375 
	#EF_SPARC_HAL_R1
 0x00000200

	)

376 
	#EF_SPARC_SUN_US3
 0x00000800

	)

378 
	#EF_SPARCV9_MM
 0x00000003

	)

379 
	#EF_SPARCV9_TSO
 0x00000000

	)

380 
	#EF_SPARCV9_PSO
 0x00000001

	)

381 
	#EF_SPARCV9_RMO
 0x00000002

	)

384 
	#SHN_UNDEF
 0

	)

385 
	#SHN_LORESERVE
 0xff00

	)

386 
	#SHN_LOPROC
 0xff00

	)

387 
	#SHN_HIPROC
 0xff1à

	)

388 
	#SHN_LOOS
 0xff20

	)

389 
	#SHN_FBSD_CACHED
 
SHN_LOOS


	)

392 
	#SHN_HIOS
 0xff3à

	)

393 
	#SHN_ABS
 0xfff1

	)

394 
	#SHN_COMMON
 0xfff2

	)

395 
	#SHN_XINDEX
 0xfffà

	)

396 
	#SHN_HIRESERVE
 0xfffà

	)

399 
	#SHT_NULL
 0

	)

400 
	#SHT_PROGBITS
 1

	)

401 
	#SHT_SYMTAB
 2

	)

402 
	#SHT_STRTAB
 3

	)

403 
	#SHT_RELA
 4

	)

404 
	#SHT_HASH
 5

	)

405 
	#SHT_DYNAMIC
 6

	)

406 
	#SHT_NOTE
 7

	)

407 
	#SHT_NOBITS
 8

	)

408 
	#SHT_REL
 9

	)

409 
	#SHT_SHLIB
 10

	)

410 
	#SHT_DYNSYM
 11

	)

411 
	#SHT_INIT_ARRAY
 14

	)

412 
	#SHT_FINI_ARRAY
 15

	)

413 
	#SHT_PREINIT_ARRAY
 16

	)

414 
	#SHT_GROUP
 17

	)

415 
	#SHT_SYMTAB_SHNDX
 18

	)

416 
	#SHT_LOOS
 0x60000000

	)

417 
	#SHT_LOSUNW
 0x6ffffff4

	)

418 
	#SHT_SUNW_dof
 0x6ffffff4

	)

419 
	#SHT_SUNW_ÿp
 0x6ffffff5

	)

420 
	#SHT_GNU_ATTRIBUTES
 0x6ffffff5

	)

421 
	#SHT_SUNW_SIGNATURE
 0x6ffffff6

	)

422 
	#SHT_GNU_HASH
 0x6ffffff6

	)

423 
	#SHT_GNU_LIBLIST
 0x6ffffff7

	)

424 
	#SHT_SUNW_ANNOTATE
 0x6ffffff7

	)

425 
	#SHT_SUNW_DEBUGSTR
 0x6ffffff8

	)

426 
	#SHT_SUNW_DEBUG
 0x6ffffff9

	)

427 
	#SHT_SUNW_move
 0x6fffffç

	)

428 
	#SHT_SUNW_COMDAT
 0x6ffffffb

	)

429 
	#SHT_SUNW_symšfo
 0x6ffffffc

	)

430 
	#SHT_SUNW_v”def
 0x6ffffffd

	)

431 
	#SHT_GNU_v”def
 0x6ffffffd

	)

432 
	#SHT_SUNW_v”Ãed
 0x6fffffã

	)

433 
	#SHT_GNU_v”Ãed
 0x6fffffã

	)

434 
	#SHT_SUNW_v”sym
 0x6fffffff

	)

435 
	#SHT_GNU_v”sym
 0x6ffffffà

	)

436 
	#SHT_HISUNW
 0x6fffffff

	)

437 
	#SHT_HIOS
 0x6ffffffà

	)

438 
	#SHT_LOPROC
 0x70000000

	)

439 
	#SHT_X86_64_UNWIND
 0x70000001

	)

440 
	#SHT_AMD64_UNWIND
 
SHT_X86_64_UNWIND


	)

442 
	#SHT_ARM_EXIDX
 0x70000001

	)

443 
	#SHT_ARM_PREEMPTMAP
 0x70000002

	)

445 
	#SHT_ARM_ATTRIBUTES
 0x70000003

	)

447 
	#SHT_ARM_DEBUGOVERLAY
 0x70000004

	)

448 
	#SHT_ARM_OVERLAYSECTION
 0x70000005

	)

449 
	#SHT_MIPS_LIBLIST
 0x70000000

	)

450 
	#SHT_MIPS_MSYM
 0x70000001

	)

451 
	#SHT_MIPS_CONFLICT
 0x70000002

	)

452 
	#SHT_MIPS_GPTAB
 0x70000003

	)

453 
	#SHT_MIPS_UCODE
 0x70000004

	)

454 
	#SHT_MIPS_DEBUG
 0x70000005

	)

455 
	#SHT_MIPS_REGINFO
 0x70000006

	)

456 
	#SHT_MIPS_PACKAGE
 0x70000007

	)

457 
	#SHT_MIPS_PACKSYM
 0x70000008

	)

458 
	#SHT_MIPS_RELD
 0x70000009

	)

459 
	#SHT_MIPS_IFACE
 0x7000000b

	)

460 
	#SHT_MIPS_CONTENT
 0x7000000c

	)

461 
	#SHT_MIPS_OPTIONS
 0x7000000d

	)

462 
	#SHT_MIPS_DELTASYM
 0x7000001b

	)

463 
	#SHT_MIPS_DELTAINST
 0x7000001c

	)

464 
	#SHT_MIPS_DELTACLASS
 0x7000001d

	)

465 
	#SHT_MIPS_DWARF
 0x7000001

	)

466 
	#SHT_MIPS_DELTADECL
 0x7000001f

	)

467 
	#SHT_MIPS_SYMBOL_LIB
 0x70000020

	)

468 
	#SHT_MIPS_EVENTS
 0x70000021

	)

469 
	#SHT_MIPS_TRANSLATE
 0x70000022

	)

470 
	#SHT_MIPS_PIXIE
 0x70000023

	)

471 
	#SHT_MIPS_XLATE
 0x70000024

	)

472 
	#SHT_MIPS_XLATE_DEBUG
 0x70000025

	)

473 
	#SHT_MIPS_WHIRL
 0x70000026

	)

474 
	#SHT_MIPS_EH_REGION
 0x70000027

	)

475 
	#SHT_MIPS_XLATE_OLD
 0x70000028

	)

476 
	#SHT_MIPS_PDR_EXCEPTION
 0x70000029

	)

477 
	#SHT_MIPS_ABIFLAGS
 0x7000002a

	)

479 
	#SHT_SPARC_GOTDATA
 0x70000000

	)

481 
	#SHTORDERED


	)

482 
	#SHT_HIPROC
 0x7ffffffà

	)

483 
	#SHT_LOUSER
 0x80000000

	)

484 
	#SHT_HIUSER
 0xfffffffà

	)

487 
	#SHF_WRITE
 0x1

	)

488 
	#SHF_ALLOC
 0x2

	)

489 
	#SHF_EXECINSTR
 0x4

	)

490 
	#SHF_MERGE
 0x10

	)

491 
	#SHF_STRINGS
 0x20

	)

492 
	#SHF_INFO_LINK
 0x40

	)

493 
	#SHF_LINK_ORDER
 0x80

	)

494 
	#SHF_OS_NONCONFORMING
 0x100

	)

495 
	#SHF_GROUP
 0x200

	)

496 
	#SHF_TLS
 0x400

	)

497 
	#SHF_COMPRESSED
 0x800

	)

498 
	#SHF_MASKOS
 0x0ff00000

	)

499 
	#SHF_MASKPROC
 0xf0000000

	)

502 
	#GRP_COMDAT
 0x1

	)

507 
	#VERSYM_VERSION
 0x7fff

	)

508 
	#VERSYM_HIDDEN
 0x8000

	)

511 
	#PT_NULL
 0

	)

512 
	#PT_LOAD
 1

	)

513 
	#PT_DYNAMIC
 2

	)

514 
	#PT_INTERP
 3

	)

515 
	#PT_NOTE
 4

	)

516 
	#PT_SHLIB
 5

	)

517 
	#PT_PHDR
 6

	)

518 
	#PT_TLS
 7

	)

519 
	#PT_LOOS
 0x60000000

	)

520 
	#PT_SUNW_UNWIND
 0x6464e550

	)

521 
	#PT_GNU_EH_FRAME
 0x6474e550

	)

522 
	#PT_GNU_STACK
 0x6474e551

	)

523 
	#PT_GNU_RELRO
 0x6474e552

	)

524 
	#PT_DUMP_DELTA
 0x6fb5d000

	)

526 
	#PT_LOSUNW
 0x6fffffç

	)

527 
	#PT_SUNWBSS
 0x6fffffç

	)

528 
	#PT_SUNWSTACK
 0x6ffffffb

	)

529 
	#PT_SUNWDTRACE
 0x6ffffffø

	)

530 
	#PT_SUNWCAP
 0x6ffffffd

	)

531 
	#PT_HISUNW
 0x6fffffff

	)

532 
	#PT_HIOS
 0x6ffffffà

	)

533 
	#PT_LOPROC
 0x70000000

	)

534 
	#PT_ARM_ARCHEXT
 0x70000000

	)

535 
	#PT_ARM_EXIDX
 0x70000001

	)

536 
	#PT_HIPROC
 0x7ffffffà

	)

539 
	#PF_X
 0x1

	)

540 
	#PF_W
 0x2

	)

541 
	#PF_R
 0x4

	)

542 
	#PF_MASKOS
 0x0ff00000

	)

543 
	#PF_MASKPROC
 0xf0000000

	)

546 
	#PN_XNUM
 0xffff

	)

549 
	#DT_NULL
 0

	)

550 
	#DT_NEEDED
 1

	)

552 
	#DT_PLTRELSZ
 2

	)

553 
	#DT_PLTGOT
 3

	)

554 
	#DT_HASH
 4

	)

555 
	#DT_STRTAB
 5

	)

556 
	#DT_SYMTAB
 6

	)

557 
	#DT_RELA
 7

	)

558 
	#DT_RELASZ
 8

	)

559 
	#DT_RELAENT
 9

	)

560 
	#DT_STRSZ
 10

	)

561 
	#DT_SYMENT
 11

	)

562 
	#DT_INIT
 12

	)

563 
	#DT_FINI
 13

	)

564 
	#DT_SONAME
 14

	)

566 
	#DT_RPATH
 15

	)

567 
	#DT_SYMBOLIC
 16

	)

568 
	#DT_REL
 17

	)

569 
	#DT_RELSZ
 18

	)

570 
	#DT_RELENT
 19

	)

571 
	#DT_PLTREL
 20

	)

572 
	#DT_DEBUG
 21

	)

573 
	#DT_TEXTREL
 22

	)

575 
	#DT_JMPREL
 23

	)

576 
	#DT_BIND_NOW
 24

	)

577 
	#DT_INIT_ARRAY
 25

	)

579 
	#DT_FINI_ARRAY
 26

	)

581 
	#DT_INIT_ARRAYSZ
 27

	)

583 
	#DT_FINI_ARRAYSZ
 28

	)

585 
	#DT_RUNPATH
 29

	)

587 
	#DT_FLAGS
 30

	)

588 
	#DT_ENCODING
 32

	)

593 
	#DT_PREINIT_ARRAY
 32

	)

595 
	#DT_PREINIT_ARRAYSZ
 33

	)

597 
	#DT_MAXPOSTAGS
 34

	)

598 
	#DT_LOOS
 0x6000000d

	)

599 
	#DT_SUNW_AUXILIARY
 0x6000000d

	)

600 
	#DT_SUNW_RTLDINF
 0x6000000

	)

601 
	#DT_SUNW_FILTER
 0x6000000à

	)

602 
	#DT_SUNW_CAP
 0x60000010

	)

603 
	#DT_SUNW_ASLR
 0x60000023

	)

604 
	#DT_HIOS
 0x6ffff000

	)

610 
	#DT_VALRNGLO
 0x6ffffd00

	)

611 
	#DT_GNU_PRELINKED
 0x6ffffdf5

	)

612 
	#DT_GNU_CONFLICTSZ
 0x6ffffdf6

	)

613 
	#DT_GNU_LIBLISTSZ
 0x6ffffdf7

	)

614 
	#DT_CHECKSUM
 0x6ffffdf8

	)

615 
	#DT_PLTPADSZ
 0x6ffffdf9

	)

616 
	#DT_MOVEENT
 0x6ffffdç

	)

617 
	#DT_MOVESZ
 0x6ffffdfb

	)

618 
	#DT_FEATURE
 0x6ffffdfø

	)

619 
	#DT_FEATURE_1
 
DT_FEATURE


	)

620 
	#DT_POSFLAG_1
 0x6ffffdfd

	)

623 
	#DT_SYMINSZ
 0x6ffffdã

	)

624 
	#DT_SYMINENT
 0x6ffffdfà

	)

625 
	#DT_VALRNGHI
 0x6ffffdff

	)

634 
	#DT_ADDRRNGLO
 0x6fffã00

	)

635 
	#DT_GNU_HASH
 0x6fffãf5

	)

636 
	#DT_TLSDESC_PLT
 0x6fffãf6

	)

637 
	#DT_TLSDESC_GOT
 0x6fffãf7

	)

638 
	#DT_GNU_CONFLICT
 0x6fffãf8

	)

639 
	#DT_GNU_LIBLIST
 0x6fffãf9

	)

640 
	#DT_CONFIG
 0x6fffãç

	)

641 
	#DT_DEPAUDIT
 0x6fffãfb

	)

642 
	#DT_AUDIT
 0x6fffãfø

	)

643 
	#DT_PLTPAD
 0x6fffãfd

	)

644 
	#DT_MOVETAB
 0x6fffãã

	)

645 
	#DT_SYMINFO
 0x6fffãfà

	)

646 
	#DT_ADDRRNGHI
 0x6fffãff

	)

648 
	#DT_VERSYM
 0x6ffffff0

	)

649 
	#DT_RELACOUNT
 0x6ffffff9

	)

650 
	#DT_RELCOUNT
 0x6fffffç

	)

651 
	#DT_FLAGS_1
 0x6ffffffb

	)

652 
	#DT_VERDEF
 0x6ffffffø

	)

653 
	#DT_VERDEFNUM
 0x6ffffffd

	)

654 
	#DT_VERNEED
 0x6fffffã

	)

655 
	#DT_VERNEEDNUM
 0x6ffffffà

	)

657 
	#DT_LOPROC
 0x70000000

	)

659 
	#DT_ARM_SYMTABSZ
 0x70000001

	)

660 
	#DT_ARM_PREEMPTMAP
 0x70000002

	)

662 
	#DT_SPARC_REGISTER
 0x70000001

	)

663 
	#DT_DEPRECATED_SPARC_REGISTER
 0x7000001

	)

665 
	#DT_MIPS_RLD_VERSION
 0x70000001

	)

666 
	#DT_MIPS_TIME_STAMP
 0x70000002

	)

667 
	#DT_MIPS_ICHECKSUM
 0x70000003

	)

668 
	#DT_MIPS_IVERSION
 0x70000004

	)

669 
	#DT_MIPS_FLAGS
 0x70000005

	)

670 
	#DT_MIPS_BASE_ADDRESS
 0x70000006

	)

671 
	#DT_MIPS_CONFLICT
 0x70000008

	)

672 
	#DT_MIPS_LIBLIST
 0x70000009

	)

673 
	#DT_MIPS_LOCAL_GOTNO
 0x7000000a

	)

674 
	#DT_MIPS_CONFLICTNO
 0x7000000b

	)

675 
	#DT_MIPS_LIBLISTNO
 0x70000010

	)

676 
	#DT_MIPS_SYMTABNO
 0x70000011

	)

677 
	#DT_MIPS_UNREFEXTNO
 0x70000012

	)

678 
	#DT_MIPS_GOTSYM
 0x70000013

	)

679 
	#DT_MIPS_HIPAGENO
 0x70000014

	)

680 
	#DT_MIPS_RLD_MAP
 0x70000016

	)

681 
	#DT_MIPS_DELTA_CLASS
 0x70000017

	)

682 
	#DT_MIPS_DELTA_CLASS_NO
 0x70000018

	)

683 
	#DT_MIPS_DELTA_INSTANCE
 0x70000019

	)

684 
	#DT_MIPS_DELTA_INSTANCE_NO
 0x7000001A

	)

685 
	#DT_MIPS_DELTA_RELOC
 0x7000001B

	)

686 
	#DT_MIPS_DELTA_RELOC_NO
 0x7000001C

	)

687 
	#DT_MIPS_DELTA_SYM
 0x7000001D

	)

688 
	#DT_MIPS_DELTA_SYM_NO
 0x7000001E

	)

689 
	#DT_MIPS_DELTA_CLASSSYM
 0x70000020

	)

690 
	#DT_MIPS_DELTA_CLASSSYM_NO
 0x70000021

	)

691 
	#DT_MIPS_CXX_FLAGS
 0x70000022

	)

692 
	#DT_MIPS_PIXIE_INIT
 0x70000023

	)

693 
	#DT_MIPS_SYMBOL_LIB
 0x70000024

	)

694 
	#DT_MIPS_LOCALPAGE_GOTIDX
 0x70000025

	)

695 
	#DT_MIPS_LOCAL_GOTIDX
 0x70000026

	)

696 
	#DT_MIPS_HIDDEN_GOTIDX
 0x70000027

	)

697 
	#DT_MIPS_PROTECTED_GOTIDX
 0x70000028

	)

698 
	#DT_MIPS_OPTIONS
 0x70000029

	)

699 
	#DT_MIPS_INTERFACE
 0x7000002A

	)

700 
	#DT_MIPS_DYNSTR_ALIGN
 0x7000002B

	)

701 
	#DT_MIPS_INTERFACE_SIZE
 0x7000002C

	)

702 
	#DT_MIPS_RLD_TEXT_RESOLVE_ADDR
 0x7000002D

	)

703 
	#DT_MIPS_PERF_SUFFIX
 0x7000002E

	)

704 
	#DT_MIPS_COMPACT_SIZE
 0x7000002F

	)

705 
	#DT_MIPS_GP_VALUE
 0x70000030

	)

706 
	#DT_MIPS_AUX_DYNAMIC
 0x70000031

	)

707 
	#DT_MIPS_PLTGOT
 0x70000032

	)

708 
	#DT_MIPS_RLD_OBJ_UPDATE
 0x70000033

	)

709 
	#DT_MIPS_RWPLT
 0x70000034

	)

711 
	#DT_PPC_GOT
 0x70000000

	)

712 
	#DT_PPC_TLSOPT
 0x70000001

	)

714 
	#DT_PPC64_GLINK
 0x70000000

	)

715 
	#DT_PPC64_OPD
 0x70000001

	)

716 
	#DT_PPC64_OPDSZ
 0x70000002

	)

717 
	#DT_PPC64_TLSOPT
 0x70000003

	)

719 
	#DT_AUXILIARY
 0x7ffffffd

	)

720 
	#DT_USED
 0x7fffffã

	)

721 
	#DT_FILTER
 0x7ffffffà

	)

722 
	#DT_HIPROC
 0x7ffffffà

	)

725 
	#DF_ORIGIN
 0x0001

	)

728 
	#DF_SYMBOLIC
 0x0002

	)

729 
	#DF_TEXTREL
 0x0004

	)

731 
	#DF_BIND_NOW
 0x0008

	)

735 
	#DF_STATIC_TLS
 0x0010

	)

740 
	#DF_1_BIND_NOW
 0x00000001

	)

741 
	#DF_1_GLOBAL
 0x00000002

	)

742 
	#DF_1_NODELETE
 0x00000008

	)

743 
	#DF_1_LOADFLTR
 0x00000010

	)

744 
	#DF_1_NOOPEN
 0x00000040

	)

745 
	#DF_1_ORIGIN
 0x00000080

	)

746 
	#DF_1_INTERPOSE
 0x00000400

	)

747 
	#DF_1_NODEFLIB
 0x00000800

	)

750 
	#LL_NONE
 0x0

	)

751 
	#LL_EXACT_MATCH
 0x1

	)

752 
	#LL_IGNORE_INT_VER
 0x2

	)

753 
	#LL_REQUIRE_MINOR
 0x4

	)

754 
	#LL_EXPORTS
 0x8

	)

755 
	#LL_DELAY_LOAD
 0x10

	)

756 
	#LL_DELTA
 0x20

	)

759 
	#NT_FREEBSD_ABI_TAG
 1

	)

760 
	#NT_FREEBSD_NOINIT_TAG
 2

	)

761 
	#NT_FREEBSD_ARCH_TAG
 3

	)

764 
	#NT_PRSTATUS
 1

	)

765 
	#NT_FPREGSET
 2

	)

766 
	#NT_PRPSINFO
 3

	)

767 
	#NT_THRMISC
 7

	)

768 
	#NT_PROCSTAT_PROC
 8

	)

769 
	#NT_PROCSTAT_FILES
 9

	)

770 
	#NT_PROCSTAT_VMMAP
 10

	)

771 
	#NT_PROCSTAT_GROUPS
 11

	)

772 
	#NT_PROCSTAT_UMASK
 12

	)

773 
	#NT_PROCSTAT_RLIMIT
 13

	)

774 
	#NT_PROCSTAT_OSREL
 14

	)

775 
	#NT_PROCSTAT_PSSTRINGS
 15

	)

776 
	#NT_PROCSTAT_AUXV
 16

	)

777 
	#NT_PTLWPINFO
 17

	)

778 
	#NT_PPC_VMX
 0x100

	)

779 
	#NT_PPC_VSX
 0x102

	)

780 
	#NT_X86_XSTATE
 0x202

	)

781 
	#NT_ARM_VFP
 0x400

	)

784 
	#STB_LOCAL
 0

	)

785 
	#STB_GLOBAL
 1

	)

786 
	#STB_WEAK
 2

	)

787 
	#STB_LOOS
 10

	)

788 
	#STB_GNU_UNIQUE
 10

	)

789 
	#STB_HIOS
 12

	)

790 
	#STB_LOPROC
 13

	)

791 
	#STB_HIPROC
 15

	)

794 
	#STT_NOTYPE
 0

	)

795 
	#STT_OBJECT
 1

	)

796 
	#STT_FUNC
 2

	)

797 
	#STT_SECTION
 3

	)

798 
	#STT_FILE
 4

	)

799 
	#STT_COMMON
 5

	)

800 
	#STT_TLS
 6

	)

801 
	#STT_NUM
 7

	)

802 
	#STT_LOOS
 10

	)

803 
	#STT_GNU_IFUNC
 10

	)

804 
	#STT_HIOS
 12

	)

805 
	#STT_LOPROC
 13

	)

806 
	#STT_SPARC_REGISTER
 13

	)

807 
	#STT_HIPROC
 15

	)

810 
	#STV_DEFAULT
 0x0

	)

811 
	#STV_INTERNAL
 0x1

	)

812 
	#STV_HIDDEN
 0x2

	)

813 
	#STV_PROTECTED
 0x3

	)

814 
	#STV_EXPORTED
 0x4

	)

815 
	#STV_SINGLETON
 0x5

	)

816 
	#STV_ELIMINATE
 0x6

	)

819 
	#STN_UNDEF
 0

	)

822 
	#VER_DEF_CURRENT
 1

	)

823 
	#VER_DEF_IDX
(
x
è
	`VER_NDX
(x)

	)

825 
	#VER_FLG_BASE
 0x01

	)

826 
	#VER_FLG_WEAK
 0x02

	)

828 
	#VER_NEED_CURRENT
 1

	)

829 
	#VER_NEED_WEAK
 (1u << 15)

	)

830 
	#VER_NEED_HIDDEN
 
VER_NDX_HIDDEN


	)

831 
	#VER_NEED_IDX
(
x
è
	`VER_NDX
(x)

	)

833 
	#VER_NDX_LOCAL
 0

	)

834 
	#VER_NDX_GLOBAL
 1

	)

835 
	#VER_NDX_GIVEN
 2

	)

837 
	#VER_NDX_HIDDEN
 (1u << 15)

	)

838 
	#VER_NDX
(
x
è((xè& ~(1u << 15))

	)

840 
	#CA_SUNW_NULL
 0

	)

841 
	#CA_SUNW_HW_1
 1

	)

842 
	#CA_SUNW_SF_1
 2

	)

847 
	#SYMINFO_FLG_DIRECT
 0x0001

	)

849 
	#SYMINFO_FLG_PASSTHRU
 0x0002

	)

850 
	#SYMINFO_FLG_COPY
 0x0004

	)

851 
	#SYMINFO_FLG_LAZYLOAD
 0x0008

	)

853 
	#SYMINFO_FLG_DIRECTBIND
 0x0010

	)

855 
	#SYMINFO_FLG_NOEXTDIRECT
 0x0020

	)

857 
	#SYMINFO_FLG_FILTER
 0x0002

	)

858 
	#SYMINFO_FLG_AUXILIARY
 0x0040

	)

863 
	#SYMINFO_BT_SELF
 0xfffà

	)

864 
	#SYMINFO_BT_PARENT
 0xffã

	)

865 
	#SYMINFO_BT_NONE
 0xfffd

	)

866 
	#SYMINFO_BT_EXTERN
 0xfffø

	)

867 
	#SYMINFO_BT_LOWRESERVE
 0xff00

	)

872 
	#SYMINFO_NONE
 0

	)

873 
	#SYMINFO_CURRENT
 1

	)

874 
	#SYMINFO_NUM
 2

	)

877 
	#ELFCOMPRESS_ZLIB
 1

	)

878 
	#ELFCOMPRESS_LOOS
 0x60000000

	)

879 
	#ELFCOMPRESS_HIOS
 0x6fffffff

	)

880 
	#ELFCOMPRESS_LOPROC
 0x70000000

	)

881 
	#ELFCOMPRESS_HIPROC
 0x7fffffff

	)

890 
	#R_386_NONE
 0

	)

891 
	#R_386_32
 1

	)

892 
	#R_386_PC32
 2

	)

893 
	#R_386_GOT32
 3

	)

894 
	#R_386_PLT32
 4

	)

895 
	#R_386_COPY
 5

	)

896 
	#R_386_GLOB_DAT
 6

	)

897 
	#R_386_JMP_SLOT
 7

	)

898 
	#R_386_RELATIVE
 8

	)

899 
	#R_386_GOTOFF
 9

	)

900 
	#R_386_GOTPC
 10

	)

901 
	#R_386_TLS_TPOFF
 14

	)

902 
	#R_386_TLS_IE
 15

	)

903 
	#R_386_TLS_GOTIE
 16

	)

904 
	#R_386_TLS_LE
 17

	)

905 
	#R_386_TLS_GD
 18

	)

906 
	#R_386_TLS_LDM
 19

	)

907 
	#R_386_TLS_GD_32
 24

	)

908 
	#R_386_TLS_GD_PUSH
 25

	)

909 
	#R_386_TLS_GD_CALL
 26

	)

910 
	#R_386_TLS_GD_POP
 27

	)

911 
	#R_386_TLS_LDM_32
 28

	)

912 
	#R_386_TLS_LDM_PUSH
 29

	)

913 
	#R_386_TLS_LDM_CALL
 30

	)

914 
	#R_386_TLS_LDM_POP
 31

	)

915 
	#R_386_TLS_LDO_32
 32

	)

916 
	#R_386_TLS_IE_32
 33

	)

917 
	#R_386_TLS_LE_32
 34

	)

918 
	#R_386_TLS_DTPMOD32
 35

	)

919 
	#R_386_TLS_DTPOFF32
 36

	)

920 
	#R_386_TLS_TPOFF32
 37

	)

921 
	#R_386_IRELATIVE
 42

	)

923 
	#R_AARCH64_NONE
 0

	)

924 
	#R_AARCH64_ABS64
 257

	)

925 
	#R_AARCH64_ABS32
 258

	)

926 
	#R_AARCH64_ABS16
 259

	)

927 
	#R_AARCH64_PREL64
 260

	)

928 
	#R_AARCH64_PREL32
 261

	)

929 
	#R_AARCH64_PREL16
 262

	)

930 
	#R_AARCH64_COPY
 1024

	)

931 
	#R_AARCH64_GLOB_DAT
 1025

	)

932 
	#R_AARCH64_JUMP_SLOT
 1026

	)

933 
	#R_AARCH64_RELATIVE
 1027

	)

934 
	#R_AARCH64_TLS_DTPREL64
 1028

	)

935 
	#R_AARCH64_TLS_DTPMOD64
 1029

	)

936 
	#R_AARCH64_TLS_TPREL64
 1030

	)

937 
	#R_AARCH64_TLSDESC
 1031

	)

938 
	#R_AARCH64_IRELATIVE
 1032

	)

940 
	#R_ARM_NONE
 0

	)

941 
	#R_ARM_PC24
 1

	)

942 
	#R_ARM_ABS32
 2

	)

943 
	#R_ARM_REL32
 3

	)

944 
	#R_ARM_PC13
 4

	)

945 
	#R_ARM_ABS16
 5

	)

946 
	#R_ARM_ABS12
 6

	)

947 
	#R_ARM_THM_ABS5
 7

	)

948 
	#R_ARM_ABS8
 8

	)

949 
	#R_ARM_SBREL32
 9

	)

950 
	#R_ARM_THM_PC22
 10

	)

951 
	#R_ARM_THM_PC8
 11

	)

952 
	#R_ARM_AMP_VCALL9
 12

	)

953 
	#R_ARM_SWI24
 13

	)

954 
	#R_ARM_THM_SWI8
 14

	)

955 
	#R_ARM_XPC25
 15

	)

956 
	#R_ARM_THM_XPC22
 16

	)

958 
	#R_ARM_TLS_DTPMOD32
 17

	)

959 
	#R_ARM_TLS_DTPOFF32
 18

	)

960 
	#R_ARM_TLS_TPOFF32
 19

	)

961 
	#R_ARM_COPY
 20

	)

962 
	#R_ARM_GLOB_DAT
 21

	)

963 
	#R_ARM_JUMP_SLOT
 22

	)

964 
	#R_ARM_RELATIVE
 23

	)

965 
	#R_ARM_GOTOFF
 24

	)

966 
	#R_ARM_GOTPC
 25

	)

967 
	#R_ARM_GOT32
 26

	)

968 
	#R_ARM_PLT32
 27

	)

969 
	#R_ARM_GNU_VTENTRY
 100

	)

970 
	#R_ARM_GNU_VTINHERIT
 101

	)

971 
	#R_ARM_RSBREL32
 250

	)

972 
	#R_ARM_THM_RPC22
 251

	)

973 
	#R_ARM_RREL32
 252

	)

974 
	#R_ARM_RABS32
 253

	)

975 
	#R_ARM_RPC24
 254

	)

976 
	#R_ARM_RBASE
 255

	)

979 
	#R_IA_64_NONE
 0

	)

980 
	#R_IA_64_IMM14
 0x21

	)

981 
	#R_IA_64_IMM22
 0x22

	)

982 
	#R_IA_64_IMM64
 0x23

	)

983 
	#R_IA_64_DIR32MSB
 0x24

	)

984 
	#R_IA_64_DIR32LSB
 0x25

	)

985 
	#R_IA_64_DIR64MSB
 0x26

	)

986 
	#R_IA_64_DIR64LSB
 0x27

	)

987 
	#R_IA_64_GPREL22
 0x2¨

	)

988 
	#R_IA_64_GPREL64I
 0x2b

	)

989 
	#R_IA_64_GPREL32MSB
 0x2ø

	)

990 
	#R_IA_64_GPREL32LSB
 0x2d

	)

991 
	#R_IA_64_GPREL64MSB
 0x2

	)

992 
	#R_IA_64_GPREL64LSB
 0x2à

	)

993 
	#R_IA_64_LTOFF22
 0x32

	)

994 
	#R_IA_64_LTOFF64I
 0x33

	)

995 
	#R_IA_64_PLTOFF22
 0x3¨

	)

996 
	#R_IA_64_PLTOFF64I
 0x3b

	)

997 
	#R_IA_64_PLTOFF64MSB
 0x3

	)

998 
	#R_IA_64_PLTOFF64LSB
 0x3à

	)

999 
	#R_IA_64_FPTR64I
 0x43

	)

1000 
	#R_IA_64_FPTR32MSB
 0x44

	)

1001 
	#R_IA_64_FPTR32LSB
 0x45

	)

1002 
	#R_IA_64_FPTR64MSB
 0x46

	)

1003 
	#R_IA_64_FPTR64LSB
 0x47

	)

1004 
	#R_IA_64_PCREL60B
 0x48

	)

1005 
	#R_IA_64_PCREL21B
 0x49

	)

1006 
	#R_IA_64_PCREL21M
 0x4¨

	)

1007 
	#R_IA_64_PCREL21F
 0x4b

	)

1008 
	#R_IA_64_PCREL32MSB
 0x4ø

	)

1009 
	#R_IA_64_PCREL32LSB
 0x4d

	)

1010 
	#R_IA_64_PCREL64MSB
 0x4

	)

1011 
	#R_IA_64_PCREL64LSB
 0x4à

	)

1012 
	#R_IA_64_LTOFF_FPTR22
 0x52

	)

1013 
	#R_IA_64_LTOFF_FPTR64I
 0x53

	)

1014 
	#R_IA_64_LTOFF_FPTR32MSB
 0x54

	)

1015 
	#R_IA_64_LTOFF_FPTR32LSB
 0x55

	)

1016 
	#R_IA_64_LTOFF_FPTR64MSB
 0x56

	)

1017 
	#R_IA_64_LTOFF_FPTR64LSB
 0x57

	)

1018 
	#R_IA_64_SEGREL32MSB
 0x5ø

	)

1019 
	#R_IA_64_SEGREL32LSB
 0x5d

	)

1020 
	#R_IA_64_SEGREL64MSB
 0x5

	)

1021 
	#R_IA_64_SEGREL64LSB
 0x5à

	)

1022 
	#R_IA_64_SECREL32MSB
 0x64

	)

1023 
	#R_IA_64_SECREL32LSB
 0x65

	)

1024 
	#R_IA_64_SECREL64MSB
 0x66

	)

1025 
	#R_IA_64_SECREL64LSB
 0x67

	)

1026 
	#R_IA_64_REL32MSB
 0x6ø

	)

1027 
	#R_IA_64_REL32LSB
 0x6d

	)

1028 
	#R_IA_64_REL64MSB
 0x6

	)

1029 
	#R_IA_64_REL64LSB
 0x6à

	)

1030 
	#R_IA_64_LTV32MSB
 0x74

	)

1031 
	#R_IA_64_LTV32LSB
 0x75

	)

1032 
	#R_IA_64_LTV64MSB
 0x76

	)

1033 
	#R_IA_64_LTV64LSB
 0x77

	)

1034 
	#R_IA_64_PCREL21BI
 0x79

	)

1035 
	#R_IA_64_PCREL22
 0x7¨

	)

1036 
	#R_IA_64_PCREL64I
 0x7b

	)

1037 
	#R_IA_64_IPLTMSB
 0x80

	)

1038 
	#R_IA_64_IPLTLSB
 0x81

	)

1039 
	#R_IA_64_SUB
 0x85

	)

1040 
	#R_IA_64_LTOFF22X
 0x86

	)

1041 
	#R_IA_64_LDXMOV
 0x87

	)

1042 
	#R_IA_64_TPREL14
 0x91

	)

1043 
	#R_IA_64_TPREL22
 0x92

	)

1044 
	#R_IA_64_TPREL64I
 0x93

	)

1045 
	#R_IA_64_TPREL64MSB
 0x96

	)

1046 
	#R_IA_64_TPREL64LSB
 0x97

	)

1047 
	#R_IA_64_LTOFF_TPREL22
 0x9¨

	)

1048 
	#R_IA_64_DTPMOD64MSB
 0xa6

	)

1049 
	#R_IA_64_DTPMOD64LSB
 0xa7

	)

1050 
	#R_IA_64_LTOFF_DTPMOD22
 0x¯

	)

1051 
	#R_IA_64_DTPREL14
 0xb1

	)

1052 
	#R_IA_64_DTPREL22
 0xb2

	)

1053 
	#R_IA_64_DTPREL64I
 0xb3

	)

1054 
	#R_IA_64_DTPREL32MSB
 0xb4

	)

1055 
	#R_IA_64_DTPREL32LSB
 0xb5

	)

1056 
	#R_IA_64_DTPREL64MSB
 0xb6

	)

1057 
	#R_IA_64_DTPREL64LSB
 0xb7

	)

1058 
	#R_IA_64_LTOFF_DTPREL22
 0xb¨

	)

1060 
	#R_MIPS_NONE
 0

	)

1061 
	#R_MIPS_16
 1

	)

1062 
	#R_MIPS_32
 2

	)

1063 
	#R_MIPS_REL32
 3

	)

1064 
	#R_MIPS_26
 4

	)

1065 
	#R_MIPS_HI16
 5

	)

1066 
	#R_MIPS_LO16
 6

	)

1067 
	#R_MIPS_GPREL16
 7

	)

1068 
	#R_MIPS_LITERAL
 8

	)

1069 
	#R_MIPS_GOT16
 9

	)

1070 
	#R_MIPS_PC16
 10

	)

1071 
	#R_MIPS_CALL16
 11

	)

1072 
	#R_MIPS_GPREL32
 12

	)

1073 
	#R_MIPS_64
 18

	)

1074 
	#R_MIPS_GOT_DISP
 19

	)

1075 
	#R_MIPS_GOT_PAGE
 20

	)

1076 
	#R_MIPS_GOT_OFST
 21

	)

1077 
	#R_MIPS_GOT_HI16
 22

	)

1078 
	#R_MIPS_GOT_LO16
 23

	)

1079 
	#R_MIPS_SUB
 24

	)

1080 
	#R_MIPS_CALLHI16
 30

	)

1081 
	#R_MIPS_CALLLO16
 31

	)

1082 
	#R_MIPS_JALR
 37

	)

1083 
	#R_MIPS_TLS_GD
 42

	)

1084 
	#R_MIPS_COPY
 126

	)

1085 
	#R_MIPS_JUMP_SLOT
 127

	)

1087 
	#R_PPC_NONE
 0

	)

1088 
	#R_PPC_ADDR32
 1

	)

1089 
	#R_PPC_ADDR24
 2

	)

1090 
	#R_PPC_ADDR16
 3

	)

1091 
	#R_PPC_ADDR16_LO
 4

	)

1092 
	#R_PPC_ADDR16_HI
 5

	)

1093 
	#R_PPC_ADDR16_HA
 6

	)

1094 
	#R_PPC_ADDR14
 7

	)

1095 
	#R_PPC_ADDR14_BRTAKEN
 8

	)

1096 
	#R_PPC_ADDR14_BRNTAKEN
 9

	)

1097 
	#R_PPC_REL24
 10

	)

1098 
	#R_PPC_REL14
 11

	)

1099 
	#R_PPC_REL14_BRTAKEN
 12

	)

1100 
	#R_PPC_REL14_BRNTAKEN
 13

	)

1101 
	#R_PPC_GOT16
 14

	)

1102 
	#R_PPC_GOT16_LO
 15

	)

1103 
	#R_PPC_GOT16_HI
 16

	)

1104 
	#R_PPC_GOT16_HA
 17

	)

1105 
	#R_PPC_PLTREL24
 18

	)

1106 
	#R_PPC_COPY
 19

	)

1107 
	#R_PPC_GLOB_DAT
 20

	)

1108 
	#R_PPC_JMP_SLOT
 21

	)

1109 
	#R_PPC_RELATIVE
 22

	)

1110 
	#R_PPC_LOCAL24PC
 23

	)

1111 
	#R_PPC_UADDR32
 24

	)

1112 
	#R_PPC_UADDR16
 25

	)

1113 
	#R_PPC_REL32
 26

	)

1114 
	#R_PPC_PLT32
 27

	)

1115 
	#R_PPC_PLTREL32
 28

	)

1116 
	#R_PPC_PLT16_LO
 29

	)

1117 
	#R_PPC_PLT16_HI
 30

	)

1118 
	#R_PPC_PLT16_HA
 31

	)

1119 
	#R_PPC_SDAREL16
 32

	)

1120 
	#R_PPC_SECTOFF
 33

	)

1121 
	#R_PPC_SECTOFF_LO
 34

	)

1122 
	#R_PPC_SECTOFF_HI
 35

	)

1123 
	#R_PPC_SECTOFF_HA
 36

	)

1128 
	#R_PPC64_ADDR64
 38

	)

1129 
	#R_PPC64_ADDR16_HIGHER
 39

	)

1130 
	#R_PPC64_ADDR16_HIGHERA
 40

	)

1131 
	#R_PPC64_ADDR16_HIGHEST
 41

	)

1132 
	#R_PPC64_ADDR16_HIGHESTA
 42

	)

1133 
	#R_PPC64_UADDR64
 43

	)

1134 
	#R_PPC64_REL64
 44

	)

1135 
	#R_PPC64_PLT64
 45

	)

1136 
	#R_PPC64_PLTREL64
 46

	)

1137 
	#R_PPC64_TOC16
 47

	)

1138 
	#R_PPC64_TOC16_LO
 48

	)

1139 
	#R_PPC64_TOC16_HI
 49

	)

1140 
	#R_PPC64_TOC16_HA
 50

	)

1141 
	#R_PPC64_TOC
 51

	)

1142 
	#R_PPC64_DTPMOD64
 68

	)

1143 
	#R_PPC64_TPREL64
 73

	)

1144 
	#R_PPC64_DTPREL64
 78

	)

1149 
	#R_PPC_TLS
 67

	)

1150 
	#R_PPC_DTPMOD32
 68

	)

1151 
	#R_PPC_TPREL16
 69

	)

1152 
	#R_PPC_TPREL16_LO
 70

	)

1153 
	#R_PPC_TPREL16_HI
 71

	)

1154 
	#R_PPC_TPREL16_HA
 72

	)

1155 
	#R_PPC_TPREL32
 73

	)

1156 
	#R_PPC_DTPREL16
 74

	)

1157 
	#R_PPC_DTPREL16_LO
 75

	)

1158 
	#R_PPC_DTPREL16_HI
 76

	)

1159 
	#R_PPC_DTPREL16_HA
 77

	)

1160 
	#R_PPC_DTPREL32
 78

	)

1161 
	#R_PPC_GOT_TLSGD16
 79

	)

1162 
	#R_PPC_GOT_TLSGD16_LO
 80

	)

1163 
	#R_PPC_GOT_TLSGD16_HI
 81

	)

1164 
	#R_PPC_GOT_TLSGD16_HA
 82

	)

1165 
	#R_PPC_GOT_TLSLD16
 83

	)

1166 
	#R_PPC_GOT_TLSLD16_LO
 84

	)

1167 
	#R_PPC_GOT_TLSLD16_HI
 85

	)

1168 
	#R_PPC_GOT_TLSLD16_HA
 86

	)

1169 
	#R_PPC_GOT_TPREL16
 87

	)

1170 
	#R_PPC_GOT_TPREL16_LO
 88

	)

1171 
	#R_PPC_GOT_TPREL16_HI
 89

	)

1172 
	#R_PPC_GOT_TPREL16_HA
 90

	)

1179 
	#R_PPC_EMB_NADDR32
 101

	)

1180 
	#R_PPC_EMB_NADDR16
 102

	)

1181 
	#R_PPC_EMB_NADDR16_LO
 103

	)

1182 
	#R_PPC_EMB_NADDR16_HI
 104

	)

1183 
	#R_PPC_EMB_NADDR16_HA
 105

	)

1184 
	#R_PPC_EMB_SDAI16
 106

	)

1185 
	#R_PPC_EMB_SDA2I16
 107

	)

1186 
	#R_PPC_EMB_SDA2REL
 108

	)

1187 
	#R_PPC_EMB_SDA21
 109

	)

1188 
	#R_PPC_EMB_MRKREF
 110

	)

1189 
	#R_PPC_EMB_RELSEC16
 111

	)

1190 
	#R_PPC_EMB_RELST_LO
 112

	)

1191 
	#R_PPC_EMB_RELST_HI
 113

	)

1192 
	#R_PPC_EMB_RELST_HA
 114

	)

1193 
	#R_PPC_EMB_BIT_FLD
 115

	)

1194 
	#R_PPC_EMB_RELSDA
 116

	)

1201 
	#R_RISCV_NONE
 0

	)

1202 
	#R_RISCV_32
 1

	)

1203 
	#R_RISCV_64
 2

	)

1204 
	#R_RISCV_RELATIVE
 3

	)

1205 
	#R_RISCV_COPY
 4

	)

1206 
	#R_RISCV_JUMP_SLOT
 5

	)

1207 
	#R_RISCV_TLS_DTPMOD32
 6

	)

1208 
	#R_RISCV_TLS_DTPMOD64
 7

	)

1209 
	#R_RISCV_TLS_DTPREL32
 8

	)

1210 
	#R_RISCV_TLS_DTPREL64
 9

	)

1211 
	#R_RISCV_TLS_TPREL32
 10

	)

1212 
	#R_RISCV_TLS_TPREL64
 11

	)

1215 
	#R_RISCV_BRANCH
 16

	)

1216 
	#R_RISCV_JAL
 17

	)

1217 
	#R_RISCV_CALL
 18

	)

1218 
	#R_RISCV_CALL_PLT
 19

	)

1219 
	#R_RISCV_GOT_HI20
 20

	)

1220 
	#R_RISCV_TLS_GOT_HI20
 21

	)

1221 
	#R_RISCV_TLS_GD_HI20
 22

	)

1222 
	#R_RISCV_PCREL_HI20
 23

	)

1223 
	#R_RISCV_PCREL_LO12_I
 24

	)

1224 
	#R_RISCV_PCREL_LO12_S
 25

	)

1225 
	#R_RISCV_HI20
 26

	)

1226 
	#R_RISCV_LO12_I
 27

	)

1227 
	#R_RISCV_LO12_S
 28

	)

1228 
	#R_RISCV_TPREL_HI20
 29

	)

1229 
	#R_RISCV_TPREL_LO12_I
 30

	)

1230 
	#R_RISCV_TPREL_LO12_S
 31

	)

1231 
	#R_RISCV_TPREL_ADD
 32

	)

1232 
	#R_RISCV_ADD8
 33

	)

1233 
	#R_RISCV_ADD16
 34

	)

1234 
	#R_RISCV_ADD32
 35

	)

1235 
	#R_RISCV_ADD64
 36

	)

1236 
	#R_RISCV_SUB8
 37

	)

1237 
	#R_RISCV_SUB16
 38

	)

1238 
	#R_RISCV_SUB32
 39

	)

1239 
	#R_RISCV_SUB64
 40

	)

1240 
	#R_RISCV_GNU_VTINHERIT
 41

	)

1241 
	#R_RISCV_GNU_VTENTRY
 42

	)

1242 
	#R_RISCV_ALIGN
 43

	)

1243 
	#R_RISCV_RVC_BRANCH
 44

	)

1244 
	#R_RISCV_RVC_JUMP
 45

	)

1246 
	#R_SPARC_NONE
 0

	)

1247 
	#R_SPARC_8
 1

	)

1248 
	#R_SPARC_16
 2

	)

1249 
	#R_SPARC_32
 3

	)

1250 
	#R_SPARC_DISP8
 4

	)

1251 
	#R_SPARC_DISP16
 5

	)

1252 
	#R_SPARC_DISP32
 6

	)

1253 
	#R_SPARC_WDISP30
 7

	)

1254 
	#R_SPARC_WDISP22
 8

	)

1255 
	#R_SPARC_HI22
 9

	)

1256 
	#R_SPARC_22
 10

	)

1257 
	#R_SPARC_13
 11

	)

1258 
	#R_SPARC_LO10
 12

	)

1259 
	#R_SPARC_GOT10
 13

	)

1260 
	#R_SPARC_GOT13
 14

	)

1261 
	#R_SPARC_GOT22
 15

	)

1262 
	#R_SPARC_PC10
 16

	)

1263 
	#R_SPARC_PC22
 17

	)

1264 
	#R_SPARC_WPLT30
 18

	)

1265 
	#R_SPARC_COPY
 19

	)

1266 
	#R_SPARC_GLOB_DAT
 20

	)

1267 
	#R_SPARC_JMP_SLOT
 21

	)

1268 
	#R_SPARC_RELATIVE
 22

	)

1269 
	#R_SPARC_UA32
 23

	)

1270 
	#R_SPARC_PLT32
 24

	)

1271 
	#R_SPARC_HIPLT22
 25

	)

1272 
	#R_SPARC_LOPLT10
 26

	)

1273 
	#R_SPARC_PCPLT32
 27

	)

1274 
	#R_SPARC_PCPLT22
 28

	)

1275 
	#R_SPARC_PCPLT10
 29

	)

1276 
	#R_SPARC_10
 30

	)

1277 
	#R_SPARC_11
 31

	)

1278 
	#R_SPARC_64
 32

	)

1279 
	#R_SPARC_OLO10
 33

	)

1280 
	#R_SPARC_HH22
 34

	)

1281 
	#R_SPARC_HM10
 35

	)

1282 
	#R_SPARC_LM22
 36

	)

1283 
	#R_SPARC_PC_HH22
 37

	)

1284 
	#R_SPARC_PC_HM10
 38

	)

1285 
	#R_SPARC_PC_LM22
 39

	)

1286 
	#R_SPARC_WDISP16
 40

	)

1287 
	#R_SPARC_WDISP19
 41

	)

1288 
	#R_SPARC_GLOB_JMP
 42

	)

1289 
	#R_SPARC_7
 43

	)

1290 
	#R_SPARC_5
 44

	)

1291 
	#R_SPARC_6
 45

	)

1292 
	#R_SPARC_DISP64
 46

	)

1293 
	#R_SPARC_PLT64
 47

	)

1294 
	#R_SPARC_HIX22
 48

	)

1295 
	#R_SPARC_LOX10
 49

	)

1296 
	#R_SPARC_H44
 50

	)

1297 
	#R_SPARC_M44
 51

	)

1298 
	#R_SPARC_L44
 52

	)

1299 
	#R_SPARC_REGISTER
 53

	)

1300 
	#R_SPARC_UA64
 54

	)

1301 
	#R_SPARC_UA16
 55

	)

1302 
	#R_SPARC_TLS_GD_HI22
 56

	)

1303 
	#R_SPARC_TLS_GD_LO10
 57

	)

1304 
	#R_SPARC_TLS_GD_ADD
 58

	)

1305 
	#R_SPARC_TLS_GD_CALL
 59

	)

1306 
	#R_SPARC_TLS_LDM_HI22
 60

	)

1307 
	#R_SPARC_TLS_LDM_LO10
 61

	)

1308 
	#R_SPARC_TLS_LDM_ADD
 62

	)

1309 
	#R_SPARC_TLS_LDM_CALL
 63

	)

1310 
	#R_SPARC_TLS_LDO_HIX22
 64

	)

1311 
	#R_SPARC_TLS_LDO_LOX10
 65

	)

1312 
	#R_SPARC_TLS_LDO_ADD
 66

	)

1313 
	#R_SPARC_TLS_IE_HI22
 67

	)

1314 
	#R_SPARC_TLS_IE_LO10
 68

	)

1315 
	#R_SPARC_TLS_IE_LD
 69

	)

1316 
	#R_SPARC_TLS_IE_LDX
 70

	)

1317 
	#R_SPARC_TLS_IE_ADD
 71

	)

1318 
	#R_SPARC_TLS_LE_HIX22
 72

	)

1319 
	#R_SPARC_TLS_LE_LOX10
 73

	)

1320 
	#R_SPARC_TLS_DTPMOD32
 74

	)

1321 
	#R_SPARC_TLS_DTPMOD64
 75

	)

1322 
	#R_SPARC_TLS_DTPOFF32
 76

	)

1323 
	#R_SPARC_TLS_DTPOFF64
 77

	)

1324 
	#R_SPARC_TLS_TPOFF32
 78

	)

1325 
	#R_SPARC_TLS_TPOFF64
 79

	)

1327 
	#R_X86_64_NONE
 0

	)

1328 
	#R_X86_64_64
 1

	)

1329 
	#R_X86_64_PC32
 2

	)

1330 
	#R_X86_64_GOT32
 3

	)

1331 
	#R_X86_64_PLT32
 4

	)

1332 
	#R_X86_64_COPY
 5

	)

1333 
	#R_X86_64_GLOB_DAT
 6

	)

1334 
	#R_X86_64_JMP_SLOT
 7

	)

1335 
	#R_X86_64_RELATIVE
 8

	)

1336 
	#R_X86_64_GOTPCREL
 9

	)

1337 
	#R_X86_64_32
 10

	)

1338 
	#R_X86_64_32S
 11

	)

1339 
	#R_X86_64_16
 12

	)

1340 
	#R_X86_64_PC16
 13

	)

1341 
	#R_X86_64_8
 14

	)

1342 
	#R_X86_64_PC8
 15

	)

1343 
	#R_X86_64_DTPMOD64
 16

	)

1344 
	#R_X86_64_DTPOFF64
 17

	)

1345 
	#R_X86_64_TPOFF64
 18

	)

1346 
	#R_X86_64_TLSGD
 19

	)

1347 
	#R_X86_64_TLSLD
 20

	)

1348 
	#R_X86_64_DTPOFF32
 21

	)

1349 
	#R_X86_64_GOTTPOFF
 22

	)

1350 
	#R_X86_64_TPOFF32
 23

	)

1351 
	#R_X86_64_PC64
 24

	)

1352 
	#R_X86_64_GOTOFF64
 25

	)

1353 
	#R_X86_64_GOTPC32
 26

	)

1354 
	#R_X86_64_GOT64
 27

	)

1355 
	#R_X86_64_GOTPCREL64
 28

	)

1356 
	#R_X86_64_GOTPC64
 29

	)

1357 
	#R_X86_64_GOTPLT64
 30

	)

1358 
	#R_X86_64_PLTOFF64
 31

	)

1359 
	#R_X86_64_SIZE32
 32

	)

1360 
	#R_X86_64_SIZE64
 33

	)

1361 
	#R_X86_64_GOTPC32_TLSDESC
 34

	)

1362 
	#R_X86_64_TLSDESC_CALL
 35

	)

1363 
	#R_X86_64_TLSDESC
 36

	)

1364 
	#R_X86_64_IRELATIVE
 37

	)

	@/usr/include/sys/epoch.h

30 #iâdeà
_SYS_EPOCH_H_


31 
	#_SYS_EPOCH_H_


	)

32 #ifdeà
_KERNEL


33 
	~<sys/lock.h
>

34 
	~<sys/pýu.h
>

37 
	g•och
;

38 
•och
 *
	t•och_t
;

40 
	#EPOCH_PREEMPT
 0x1

	)

41 
	#EPOCH_LOCKED
 0x2

	)

43 
•och_t
 
glob®_•och
;

44 
•och_t
 
glob®_•och_´“m±
;

46 
	s•och_cÚ‹xt
 {

47 *
	md©a
[2];

48 } 
__®igÃd
((*));

50 
•och_cÚ‹xt
 *
	t•och_cÚ‹xt_t
;

53 
	s•och_Œack”
 {

54 *
	md©­
[3];

55 #ifdeà
EPOCH_TRACKER_DEBUG


56 
	md©ai
[5];

58 
	md©ai
[1];

60 } 
__®igÃd
((*));

62 
•och_Œack”
 *
	t•och_Œack”_t
;

64 
•och_t
 
•och_®loc
(
æags
);

65 
•och_ä“
(
•och_t
 
•och
);

66 
•och_wa™
(
•och_t
 
•och
);

67 
•och_wa™_´“m±
(
•och_t
 
•och
);

68 
•och_ÿÎ
(
•och_t
 
•och
, 
•och_cÚ‹xt_t
 
ùx
, (*
ÿÎback
) (epoch_context_t));

69 
	`š_•och
(
•och_t
 
•och
);

70 
	`š_•och_v”bo£
(
•och_t
 
•och
, 
dump_Úçž
);

71 #ifdeà
_KERNEL


72 
	`DPCPU_DECLARE
(, 
•och_cb_couÁ
);

73 
	`DPCPU_DECLARE
(
grou±ask
, 
•och_cb_sk
);

74 
	#EPOCH_MAGIC0
 0xFADECAFEF00DD00D

	)

75 
	#EPOCH_MAGIC1
 0xBADDBABEDEEDFEED

	)

77 
	`•och_’‹r_´“m±_KBI
(
•och_t
 
•och
, 
•och_Œack”_t
 
‘
);

78 
	`•och_ex™_´“m±_KBI
(
•och_t
 
•och
, 
•och_Œack”_t
 
‘
);

79 
	`•och_’‹r_KBI
(
•och_t
 
•och
);

80 
	`•och_ex™_KBI
(
•och_t
 
•och
);

83 #ià
	`defšed
(
KLD_MODULE
è&& !defšed(
KLD_TIED
)

84 
	#•och_’‹r_´“m±
(
e
, 
t
è
	`•och_’‹r_´“m±_KBI
(Ó), (t))

	)

85 
	#•och_ex™_´“m±
(
e
, 
t
è
	`•och_ex™_´“m±_KBI
(Ó), (t))

	)

86 
	#•och_’‹r
(
e
è
	`•och_’‹r_KBI
(Ó))

	)

87 
	#•och_ex™
(
e
è
	`•och_ex™_KBI
(Ó))

	)

89 
	~<sys/•och_´iv©e.h
>

	@/usr/include/sys/event.h

31 #iâdeà
_SYS_EVENT_H_


32 
	#_SYS_EVENT_H_


	)

34 
	~<sys/_ty³s.h
>

35 
	~<sys/queue.h
>

37 
	#EVFILT_READ
 (-1)

	)

38 
	#EVFILT_WRITE
 (-2)

	)

39 
	#EVFILT_AIO
 (-3è

	)

40 
	#EVFILT_VNODE
 (-4è

	)

41 
	#EVFILT_PROC
 (-5è

	)

42 
	#EVFILT_SIGNAL
 (-6è

	)

43 
	#EVFILT_TIMER
 (-7è

	)

44 
	#EVFILT_PROCDESC
 (-8è

	)

45 
	#EVFILT_FS
 (-9è

	)

46 
	#EVFILT_LIO
 (-10è

	)

47 
	#EVFILT_USER
 (-11è

	)

48 
	#EVFILT_SENDFILE
 (-12è

	)

49 
	#EVFILT_EMPTY
 (-13è

	)

50 
	#EVFILT_SYSCOUNT
 13

	)

52 #ià
defšed
(
__STDC_VERSION__
) && __STDC_VERSION__ >= 199901L

53 
	#EV_SET
(
kevp_
, 
a
, 
b
, 
c
, 
d
, 
e
, 
f
) do { \

54 *(
kevp_
èð(
kev’t
){ \

55 .
id’t
 = (
a
), \

56 .
fž‹r
 = (
b
), \

57 .
æags
 = (
c
), \

58 .
fæags
 = (
d
), \

59 .
d©a
 = (
e
), \

60 .
ud©a
 = (
f
), \

61 .
ext
 = {0}, \

63 } 0)

	)

68 
	#EV_SET
(
kevp_
, 
a
, 
b
, 
c
, 
d
, 
e
, 
f
) do { \

69 
kev’t
 *
kevp
 = (
kevp_
); \

70 (
kevp
)->
id’t
 = (
a
); \

71 (
kevp
)->
fž‹r
 = (
b
); \

72 (
kevp
)->
æags
 = (
c
); \

73 (
kevp
)->
fæags
 = (
d
); \

74 (
kevp
)->
d©a
 = (
e
); \

75 (
kevp
)->
ud©a
 = (
f
); \

76 (
kevp
)->
ext
[0] = 0; \

77 (
kevp
)->
ext
[1] = 0; \

78 (
kevp
)->
ext
[2] = 0; \

79 (
kevp
)->
ext
[3] = 0; \

80 } 0)

	)

83 
	skev’t
 {

84 
__ušŒ_t
 
	mid’t
;

85 
	mfž‹r
;

86 
	mæags
;

87 
	mfæags
;

88 
__št64_t
 
	md©a
;

89 *
	mud©a
;

90 
__ušt64_t
 
	mext
[4];

93 #ià
defšed
(
_WANT_FREEBSD11_KEVENT
)

95 
	skev’t_ä“bsd11
 {

96 
__ušŒ_t
 
	mid’t
;

97 
	mfž‹r
;

98 
	mæags
;

99 
	mfæags
;

100 
__šŒ_t
 
	md©a
;

101 *
	mud©a
;

105 #ià
defšed
(
_WANT_KEVENT32
è|| (defšed(
_KERNEL
è&& defšed(
__LP64__
))

106 
	skev’t32
 {

107 
ušt32_t
 
	mid’t
;

108 
	mfž‹r
;

109 
u_shÜt
 
	mæags
;

110 
u_št
 
	mfæags
;

111 #iâdeà
__amd64__


112 
ušt32_t
 
	m·d0
;

114 
št32_t
 
	md©a1
, 
	md©a2
;

115 
ušt32_t
 
	mud©a
;

116 #iâdeà
__amd64__


117 
ušt32_t
 
	m·d1
;

119 
ušt32_t
 
	mext64
[8];

122 #ifdeà
_WANT_FREEBSD11_KEVENT


123 
	skev’t32_ä“bsd11
 {

124 
u_št32_t
 
	mid’t
;

125 
	mfž‹r
;

126 
u_shÜt
 
	mæags
;

127 
u_št
 
	mfæags
;

128 
št32_t
 
	md©a
;

129 
u_št32_t
 
	mud©a
;

135 
	#EV_ADD
 0x0001

	)

136 
	#EV_DELETE
 0x0002

	)

137 
	#EV_ENABLE
 0x0004

	)

138 
	#EV_DISABLE
 0x0008

	)

139 
	#EV_FORCEONESHOT
 0x0100

	)

142 
	#EV_ONESHOT
 0x0010

	)

143 
	#EV_CLEAR
 0x0020

	)

144 
	#EV_RECEIPT
 0x0040

	)

145 
	#EV_DISPATCH
 0x0080

	)

147 
	#EV_SYSFLAGS
 0xF000

	)

148 
	#EV_DROP
 0x1000

	)

149 
	#EV_FLAG1
 0x2000

	)

150 
	#EV_FLAG2
 0x4000

	)

153 
	#EV_EOF
 0x8000

	)

154 
	#EV_ERROR
 0x4000

	)

165 
	#NOTE_FFNOP
 0x00000000

	)

166 
	#NOTE_FFAND
 0x40000000

	)

167 
	#NOTE_FFOR
 0x80000000

	)

168 
	#NOTE_FFCOPY
 0xc0000000

	)

169 
	#NOTE_FFCTRLMASK
 0xc0000000

	)

170 
	#NOTE_FFLAGSMASK
 0x00ffffff

	)

172 
	#NOTE_TRIGGER
 0x01000000

	)

178 
	#NOTE_LOWAT
 0x0001

	)

179 
	#NOTE_FILE_POLL
 0x0002

	)

184 
	#NOTE_DELETE
 0x0001

	)

185 
	#NOTE_WRITE
 0x0002

	)

186 
	#NOTE_EXTEND
 0x0004

	)

187 
	#NOTE_ATTRIB
 0x0008

	)

188 
	#NOTE_LINK
 0x0010

	)

189 
	#NOTE_RENAME
 0x0020

	)

190 
	#NOTE_REVOKE
 0x0040

	)

191 
	#NOTE_OPEN
 0x0080

	)

192 
	#NOTE_CLOSE
 0x0100

	)

194 
	#NOTE_CLOSE_WRITE
 0x0200

	)

196 
	#NOTE_READ
 0x0400

	)

201 
	#NOTE_EXIT
 0x80000000

	)

202 
	#NOTE_FORK
 0x40000000

	)

203 
	#NOTE_EXEC
 0x20000000

	)

204 
	#NOTE_PCTRLMASK
 0xf0000000

	)

205 
	#NOTE_PDATAMASK
 0x000ffffà

	)

208 
	#NOTE_TRACK
 0x00000001

	)

209 
	#NOTE_TRACKERR
 0x00000002

	)

210 
	#NOTE_CHILD
 0x00000004

	)

213 
	#NOTE_SECONDS
 0x00000001

	)

214 
	#NOTE_MSECONDS
 0x00000002

	)

215 
	#NOTE_USECONDS
 0x00000004

	)

216 
	#NOTE_NSECONDS
 0x00000008

	)

217 
	#NOTE_ABSTIME
 0x00000010

	)

219 
	gknÙe
;

220 
SLIST_HEAD
(
kli¡
, 
knÙe
);

221 
	gkqueue
;

222 
TAILQ_HEAD
(
kqli¡
, 
kqueue
);

223 
	skÆi¡
 {

224 
kli¡
 
	mkl_li¡
;

225 (*
	mkl_lock
)(*);

226 (*
	mkl_uÆock
)(*);

227 (*
	mkl_as£¹_locked
)(*);

228 (*
	mkl_as£¹_uÆocked
)(*);

229 *
	mkl_lock¬g
;

230 
	mkl_autode¡roy
;

234 #ifdeà
_KERNEL


239 
	#KNF_LISTLOCKED
 0x0001

	)

240 
	#KNF_NOKQLOCK
 0x0002

	)

242 
	#KNOTE
(
li¡
, 
hšt
, 
æags
è
	`knÙe
Öi¡, hšt, fÏgs)

	)

243 
	#KNOTE_LOCKED
(
li¡
, 
hšt
è
	`knÙe
Öi¡, hšt, 
KNF_LISTLOCKED
)

	)

244 
	#KNOTE_UNLOCKED
(
li¡
, 
hšt
è
	`knÙe
Öi¡, hšt, 0)

	)

246 
	#KNLIST_EMPTY
(
li¡
è
	`SLIST_EMPTY
(&Öi¡)->
kl_li¡
)

	)

252 
	#NOTE_SIGNAL
 0x08000000

	)

261 
	#EVENT_REGISTER
 1

	)

262 
	#EVENT_PROCESS
 2

	)

264 
	sfž‹rÝs
 {

265 
	mf_isfd
;

266 (*
	mf_©ch
)(
knÙe
 *
	mkn
);

267 (*
	mf_d‘ach
)(
knÙe
 *
	mkn
);

268 (*
	mf_ev’t
)(
knÙe
 *
	mkn
, 
	mhšt
);

269 (*
	mf_touch
)(
knÙe
 *
	mkn
, 
kev’t
 *
	mkev
, 
u_lÚg
 
	mty³
);

281 
	sknÙe
 {

282 
SLIST_ENTRY
(
knÙe
è
	mkn_lšk
;

283 
SLIST_ENTRY
(
knÙe
è
	mkn_£Êext
;

284 
kÆi¡
 *
	mkn_kÆi¡
;

285 
TAILQ_ENTRY
(
knÙe
è
	mkn_tqe
;

286 
kqueue
 *
	mkn_kq
;

287 
kev’t
 
	mkn_kev’t
;

288 *
	mkn_hook
;

289 
	mkn_hookid
;

290 
	mkn_¡©us
;

291 
	#KN_ACTIVE
 0x01

	)

292 
	#KN_QUEUED
 0x02

	)

293 
	#KN_DISABLED
 0x04

	)

294 
	#KN_DETACHED
 0x08

	)

295 
	#KN_MARKER
 0x20

	)

296 
	#KN_KQUEUE
 0x40

	)

297 
	#KN_HASKQLOCK
 0x80

	)

298 
	#KN_SCAN
 0x100

	)

299 
	mkn_šæux
;

300 
	mkn_sfæags
;

301 
št64_t
 
	mkn_sd©a
;

303 
fže
 *
	mp_å
;

304 
´oc
 *
	mp_´oc
;

305 
kaiocb
 *
	mp_aio
;

306 
aiÞiojob
 *
	mp_lio
;

307 *
	mp_v
;

308 } 
	mkn_±r
;

309 
fž‹rÝs
 *
	mkn_fÝ
;

311 
	#kn_id
 
kn_kev’t
.
id’t


	)

312 
	#kn_fž‹r
 
kn_kev’t
.
fž‹r


	)

313 
	#kn_æags
 
kn_kev’t
.
æags


	)

314 
	#kn_fæags
 
kn_kev’t
.
fæags


	)

315 
	#kn_d©a
 
kn_kev’t
.
d©a


	)

316 
	#kn_å
 
kn_±r
.
p_å


	)

318 
	skev’t_cÝyÝs
 {

319 *
	m¬g
;

320 (*
	mk_cÝyout
)(*
	m¬g
, 
kev’t
 *
	mkevp
, 
	mcouÁ
);

321 (*
	mk_cÝyš
)(*
	m¬g
, 
kev’t
 *
	mkevp
, 
	mcouÁ
);

322 
size_t
 
	mkev’t_size
;

325 
	gth»ad
;

326 
	g´oc
;

327 
	gkÆi¡
;

328 
	gmtx
;

329 
	grwlock
;

331 
knÙe
(
kÆi¡
 *
li¡
, 
hšt
, 
lockæags
);

332 
knÙe_fÜk
(
kÆi¡
 *
li¡
, 
pid
);

333 
kÆi¡
 *
kÆi¡_®loc
(
mtx
 *
lock
);

334 
kÆi¡_d‘ach
(
kÆi¡
 *
kÆ
);

335 
kÆi¡_add
(
kÆi¡
 *
kÆ
, 
knÙe
 *
kn
, 
i¦ocked
);

336 
kÆi¡_»move
(
kÆi¡
 *
kÆ
, 
knÙe
 *
kn
, 
i¦ocked
);

337 
kÆi¡_em±y
(
kÆi¡
 *
kÆ
);

338 
kÆi¡_š™
(
kÆi¡
 *
kÆ
, *
lock
, (*
kl_lock
)(*),

339 (*
kl_uÆock
)(*), (*
kl_as£¹_locked
)(*),

340 (*
kl_as£¹_uÆocked
)(*));

341 
	`kÆi¡_š™_mtx
(
kÆi¡
 *
kÆ
, 
mtx
 *
lock
);

342 
	`kÆi¡_š™_rw_»ad”
(
kÆi¡
 *
kÆ
, 
rwlock
 *
lock
);

343 
	`kÆi¡_de¡roy
(
kÆi¡
 *
kÆ
);

344 
	`kÆi¡_þ—rd–
(
kÆi¡
 *
kÆ
, 
th»ad
 *
td
,

345 
i¦ocked
, 
kžlkn
);

346 
	#kÆi¡_þ—r
(
kÆ
, 
i¦ocked
) \

347 
	`kÆi¡_þ—rd–
((
kÆ
), 
NULL
, (
i¦ocked
), 0)

	)

348 
	#kÆi¡_d–‘e
(
kÆ
, 
td
, 
i¦ocked
) \

349 
	`kÆi¡_þ—rd–
((
kÆ
), (
td
), (
i¦ocked
), 1)

	)

350 
	`knÙe_fdþo£
(
th»ad
 *
p
, 
fd
);

351 
	`kqfd_»gi¡”
(
fd
, 
kev’t
 *
kev
, 
th»ad
 *
p
,

352 
wa™ok
);

353 
	`kqueue_add_fž‹rÝts
(
fžt
, 
fž‹rÝs
 *
fžtÝs
);

354 
	`kqueue_d–_fž‹rÝts
(
fžt
);

358 
	~<sys/cdefs.h
>

359 
time¥ec
;

361 
__BEGIN_DECLS


362 
	`kqueue
();

363 
	`kev’t
(
kq
, cÚ¡ 
kev’t
 *
chªg–i¡
, 
nchªges
,

364 
kev’t
 *
ev’Ži¡
, 
Ãv’ts
,

365 cÚ¡ 
time¥ec
 *
timeout
);

366 
__END_DECLS


	@/usr/include/sys/eventhandler.h

31 #iâdeà
_SYS_EVENTHANDLER_H_


32 
	#_SYS_EVENTHANDLER_H_


	)

34 
	~<sys/lock.h
>

35 
	~<sys/kŒ.h
>

36 
	~<sys/mu‹x.h
>

37 
	~<sys/queue.h
>

39 
	sev’thªdËr_’Œy
 {

40 
TAILQ_ENTRY
(
ev’thªdËr_’Œy
è
	m“_lšk
;

41 
	m“_´iÜ™y
;

42 
	#EHE_DEAD_PRIORITY
 (-1)

	)

43 *
	m“_¬g
;

46 #ifdeà
VIMAGE


47 
	sev’thªdËr_’Œy_vimage
 {

48 (* 
	mfunc
)();

49 *
	m“_¬g
;

50 *
	m¥¬•
[2];

54 
	sev’thªdËr_li¡
 {

55 *
	m–_Çme
;

56 
	m–_æags
;

57 
u_št
 
	m–_runcouÁ
;

58 
mtx
 
	m–_lock
;

59 
TAILQ_ENTRY
(
ev’thªdËr_li¡
è
	m–_lšk
;

60 
TAILQ_HEAD
(,
ev’thªdËr_’Œy
è
	m–_’Œ›s
;

63 
ev’thªdËr_’Œy
 *
	tev’thªdËr_g
;

65 
	#EHL_LOCK
(
p
è
	`mtx_lock
(&Õ)->
–_lock
)

	)

66 
	#EHL_UNLOCK
(
p
è
	`mtx_uÆock
(&Õ)->
–_lock
)

	)

67 
	#EHL_LOCK_ASSERT
(
p
, 
x
è
	`mtx_as£¹
(&Õ)->
–_lock
, x)

	)

72 
	#_EVENTHANDLER_INVOKE
(
Çme
, 
li¡
, ...) do { \

73 
ev’thªdËr_’Œy
 *
_•
; \

74 
ev’thªdËr_’Œy_
 ## 
Çme
 *
_t
; \

76 
	`EHL_LOCK_ASSERT
((
li¡
), 
MA_OWNED
); \

77 (
li¡
)->
–_runcouÁ
++; \

78 
	`KASSERT
((
li¡
)->
–_runcouÁ
 > 0, \

80 
	`CTR0
(
KTR_EVH
, "ev’thªdËr_švoke(\"" 
	`__STRING
(
Çme
) "\")"); \

81 
	`TAILQ_FOREACH
(
_•
, &((
li¡
)->
–_’Œ›s
), 
“_lšk
) { \

82 ià(
_•
->
“_´iÜ™y
 !ð
EHE_DEAD_PRIORITY
) { \

83 
	`EHL_UNLOCK
((
li¡
)); \

84 
_t
 = (
ev’thªdËr_’Œy_
 ## 
Çme
 *)
_•
; \

85 
	`CTR1
(
KTR_EVH
, "eventhandler_invoke:ƒxecuting %p", \

86 (*)
_t
->
eh_func
); \

87 
_t
->
	`eh_func
(
_•
->
“_¬g
 , ## 
__VA_ARGS__
); \

88 
	`EHL_LOCK
((
li¡
)); \

91 
	`KASSERT
((
li¡
)->
–_runcouÁ
 > 0, \

93 (
li¡
)->
–_runcouÁ
--; \

94 ià((
li¡
)->
–_runcouÁ
 == 0) \

95 
	`ev’thªdËr_´uÃ_li¡
(
li¡
); \

96 
	`EHL_UNLOCK
((
li¡
)); \

97 } 0)

	)

110 
	#EVENTHANDLER_LIST_DECLARE
(
Çme
) \

111 
ev’thªdËr_li¡
 *
_ev’thªdËr_li¡_
 ## 
Çme
 \

112 

	)

113 
	#EVENTHANDLER_LIST_DEFINE
(
Çme
) \

114 
ev’thªdËr_li¡
 *
_ev’thªdËr_li¡_
 ## 
Çme
 ; \

115 
_ehl_š™_
 ## 
	`Çme
 (* 
ùx
 
__unu£d
) \

117 
_ev’thªdËr_li¡_
 ## 
Çme
 = 
	`ev’thªdËr_ü—‹_li¡
(#name); \

119 
	`SYSINIT
(
Çme
 ## 
_ehl_š™
, 
SI_SUB_EVENTHANDLER
, 
SI_ORDER_ANY
, \

120 
_ehl_š™_
 ## 
Çme
, 
NULL
); \

121 
__hack


	)

123 
	#EVENTHANDLER_DIRECT_INVOKE
(
Çme
, ...) do { \

124 
ev’thªdËr_li¡
 *
_–
; \

126 
_–
 = 
_ev’thªdËr_li¡_
 ## 
Çme
 ; \

127 ià(!
	`TAILQ_EMPTY
(&
_–
->
–_’Œ›s
)) { \

128 
	`EHL_LOCK
(
_–
); \

129 
	`_EVENTHANDLER_INVOKE
(
Çme
, 
_–
 , ## 
__VA_ARGS__
); \

131 } 0)

	)

137 
	#EVENTHANDLER_DECLARE
(
Çme
, 
ty³
) \

138 
ev’thªdËr_’Œy_
 ## 
Çme
 \

140 
ev’thªdËr_’Œy
 
“
; \

141 
ty³
 
eh_func
; \

143 
__hack


	)

145 
	#EVENTHANDLER_DEFINE
(
Çme
, 
func
, 
¬g
, 
´iÜ™y
) \

146 
ev’thªdËr_g
 
Çme
 ## 
_g
; \

147 
Çme
 ## 
	`_evh_š™
(*
ùx
) \

149 
Çme
 ## 
_g
 = 
	`EVENTHANDLER_REGISTER
Òame, 
func
, 
ùx
, \

150 
´iÜ™y
); \

152 
	`SYSINIT
(
Çme
 ## 
_evh_š™
, 
SI_SUB_CONFIGURE
, 
SI_ORDER_ANY
, \

153 
Çme
 ## 
_evh_š™
, 
¬g
); \

154 
__hack


	)

156 
	#EVENTHANDLER_INVOKE
(
Çme
, ...) \

158 
ev’thªdËr_li¡
 *
_–
; \

160 ià((
_–
 = 
	`ev’thªdËr_fšd_li¡
(#Çme)è!ð
NULL
) \

161 
	`_EVENTHANDLER_INVOKE
(
Çme
, 
_–
 , ## 
__VA_ARGS__
); \

162 } 0)

	)

164 
	#EVENTHANDLER_REGISTER
(
Çme
, 
func
, 
¬g
, 
´iÜ™y
) \

165 
	`ev’thªdËr_»gi¡”
(
NULL
, #Çme, 
func
, 
¬g
, 
´iÜ™y
)

	)

167 
	#EVENTHANDLER_DEREGISTER
(
Çme
, 
g
) \

169 
ev’thªdËr_li¡
 *
_–
; \

171 ià((
_–
 = 
	`ev’thªdËr_fšd_li¡
(#Çme)è!ð
NULL
) \

172 
	`ev’thªdËr_d”egi¡”
(
_–
, 
g
); \

173 } 0)

	)

175 
	#EVENTHANDLER_DEREGISTER_NOWAIT
(
Çme
, 
g
) \

177 
ev’thªdËr_li¡
 *
_–
; \

179 ià((
_–
 = 
	`ev’thªdËr_fšd_li¡
(#Çme)è!ð
NULL
) \

180 
	`ev’thªdËr_d”egi¡”_nowa™
(
_–
, 
g
); \

181 } 0)

	)

183 
ev’thªdËr_g
 
ev’thªdËr_»gi¡”
(
ev’thªdËr_li¡
 *
li¡
,

184 cÚ¡ *
Çme
, *
func
, *
¬g
, 
´iÜ™y
);

185 
ev’thªdËr_d”egi¡”
(
ev’thªdËr_li¡
 *
li¡
,

186 
ev’thªdËr_g
 
g
);

187 
ev’thªdËr_d”egi¡”_nowa™
(
ev’thªdËr_li¡
 *
li¡
,

188 
ev’thªdËr_g
 
g
);

189 
ev’thªdËr_li¡
 *
ev’thªdËr_fšd_li¡
(cÚ¡ *
Çme
);

190 
ev’thªdËr_´uÃ_li¡
(
ev’thªdËr_li¡
 *
li¡
);

191 
ev’thªdËr_li¡
 *
ev’thªdËr_ü—‹_li¡
(cÚ¡ *
Çme
);

193 #ifdeà
VIMAGE


194 (*
	tvimage_™”©Ü_func_t
)(*, ...);

196 
ev’thªdËr_g
 
	`vimage_ev’thªdËr_»gi¡”
(
ev’thªdËr_li¡
 *
li¡
,

197 cÚ¡ *
Çme
, *
func
, *
¬g
, 
´iÜ™y
,

198 
vimage_™”©Ü_func_t
);

206 
	#EVENTHANDLER_PRI_FIRST
 0

	)

207 
	#EVENTHANDLER_PRI_ANY
 10000

	)

208 
	#EVENTHANDLER_PRI_LAST
 20000

	)

211 (*
	tshutdown_â
)(*, );

213 
	#SHUTDOWN_PRI_FIRST
 
EVENTHANDLER_PRI_FIRST


	)

214 
	#SHUTDOWN_PRI_DEFAULT
 
EVENTHANDLER_PRI_ANY


	)

215 
	#SHUTDOWN_PRI_LAST
 
EVENTHANDLER_PRI_LAST


	)

217 
	`EVENTHANDLER_DECLARE
(
shutdown_´e_sync
, 
shutdown_â
);

218 
	`EVENTHANDLER_DECLARE
(
shutdown_po¡_sync
, 
shutdown_â
);

219 
	`EVENTHANDLER_DECLARE
(
shutdown_fš®
, 
shutdown_â
);

222 (*
	tpow”_chªge_â
)(*);

223 
	`EVENTHANDLER_DECLARE
(
pow”_»sume
, 
pow”_chªge_â
);

224 
	`EVENTHANDLER_DECLARE
(
pow”_su¥’d
, 
pow”_chªge_â
);

225 
	`EVENTHANDLER_DECLARE
(
pow”_su¥’d_—¾y
, 
pow”_chªge_â
);

228 (*
	tvm_lowmem_hªdËr_t
)(*, );

229 
	#LOWMEM_PRI_DEFAULT
 
EVENTHANDLER_PRI_FIRST


	)

230 
	`EVENTHANDLER_DECLARE
(
vm_lowmem
, 
vm_lowmem_hªdËr_t
);

233 (*
	tmouÁroÙ_hªdËr_t
)(*);

234 
	`EVENTHANDLER_DECLARE
(
mouÁroÙ
, 
mouÁroÙ_hªdËr_t
);

237 
mouÁ
;

238 
vnode
;

239 
th»ad
;

240 (*
	tvfs_mouÁed_nÙify_â
)(*, 
	tmouÁ
 *, 
	tvnode
 *,

241 
	tth»ad
 *);

242 (*
	tvfs_unmouÁed_nÙify_â
)(*, 
	tmouÁ
 *,

243 
	tth»ad
 *);

244 
	`EVENTHANDLER_DECLARE
(
vfs_mouÁed
, 
vfs_mouÁed_nÙify_â
);

245 
	`EVENTHANDLER_DECLARE
(
vfs_unmouÁed
, 
vfs_unmouÁed_nÙify_â
);

252 
´oc
;

253 
image_·¿ms
;

255 (*
	tex™li¡_â
)(*, 
	t´oc
 *);

256 (*
	tfÜkli¡_â
)(*, 
	t´oc
 *, proc *, );

257 (*
	texeþi¡_â
)(*, 
	t´oc
 *, 
	timage_·¿ms
 *);

258 (*
	t´oc_ùÜ_â
)(*, 
	t´oc
 *);

259 (*
	t´oc_dtÜ_â
)(*, 
	t´oc
 *);

260 (*
	t´oc_š™_â
)(*, 
	t´oc
 *);

261 (*
	t´oc_fši_â
)(*, 
	t´oc
 *);

262 
	`EVENTHANDLER_DECLARE
(
´oûss_ùÜ
, 
´oc_ùÜ_â
);

263 
	`EVENTHANDLER_DECLARE
(
´oûss_dtÜ
, 
´oc_dtÜ_â
);

264 
	`EVENTHANDLER_DECLARE
(
´oûss_š™
, 
´oc_š™_â
);

265 
	`EVENTHANDLER_DECLARE
(
´oûss_fši
, 
´oc_fši_â
);

266 
	`EVENTHANDLER_DECLARE
(
´oûss_ex™
, 
ex™li¡_â
);

267 
	`EVENTHANDLER_DECLARE
(
´oûss_fÜk
, 
fÜkli¡_â
);

268 
	`EVENTHANDLER_DECLARE
(
´oûss_exec
, 
exeþi¡_â
);

273 (*
	t­p_cÜedump_¡¬t_â
)(*, 
	tth»ad
 *, *
	tÇme
);

274 (*
	t­p_cÜedump_´og»ss_â
)(*, 
	tth»ad
 *
	ttd
, 
	tby‹_couÁ
);

275 (*
	t­p_cÜedump_fšish_â
)(*, 
	tth»ad
 *
	ttd
);

276 (*
	t­p_cÜedump_”rÜ_â
)(*, 
	tth»ad
 *
	ttd
, *
	tmsg
, ...);

278 
	`EVENTHANDLER_DECLARE
(
­p_cÜedump_¡¬t
, 
­p_cÜedump_¡¬t_â
);

279 
	`EVENTHANDLER_DECLARE
(
­p_cÜedump_´og»ss
, 
­p_cÜedump_´og»ss_â
);

280 
	`EVENTHANDLER_DECLARE
(
­p_cÜedump_fšish
, 
­p_cÜedump_fšish_â
);

281 
	`EVENTHANDLER_DECLARE
(
­p_cÜedump_”rÜ
, 
­p_cÜedump_”rÜ_â
);

283 (*
	tth»ad_ùÜ_â
)(*, 
	tth»ad
 *);

284 (*
	tth»ad_dtÜ_â
)(*, 
	tth»ad
 *);

285 (*
	tth»ad_fši_â
)(*, 
	tth»ad
 *);

286 (*
	tth»ad_š™_â
)(*, 
	tth»ad
 *);

287 
	`EVENTHANDLER_DECLARE
(
th»ad_ùÜ
, 
th»ad_ùÜ_â
);

288 
	`EVENTHANDLER_DECLARE
(
th»ad_dtÜ
, 
th»ad_dtÜ_â
);

289 
	`EVENTHANDLER_DECLARE
(
th»ad_š™
, 
th»ad_š™_â
);

290 
	`EVENTHANDLER_DECLARE
(
th»ad_fši
, 
th»ad_fši_â
);

292 (*
	tuma_zÚe_châ
)(*);

293 
	`EVENTHANDLER_DECLARE
(
nmbþu¡”s_chªge
, 
uma_zÚe_châ
);

294 
	`EVENTHANDLER_DECLARE
(
nmbufs_chªge
, 
uma_zÚe_châ
);

295 
	`EVENTHANDLER_DECLARE
(
maxsock‘s_chªge
, 
uma_zÚe_châ
);

298 
lšk”_fže
;

299 (*
	tkld_lßd_â
)(*, 
	tlšk”_fže
 *);

300 (*
	tkld_uÆßd_â
)(*, cÚ¡ *, 
	tÿddr_t
, 
	tsize_t
);

301 (*
	tkld_uÆßd_Œy_â
)(*, 
	tlšk”_fže
 *, *);

302 
	`EVENTHANDLER_DECLARE
(
kld_lßd
, 
kld_lßd_â
);

303 
	`EVENTHANDLER_DECLARE
(
kld_uÆßd
, 
kld_uÆßd_â
);

304 
	`EVENTHANDLER_DECLARE
(
kld_uÆßd_Œy
, 
kld_uÆßd_Œy_â
);

307 
fb_šfo
;

308 (*
	t»gi¡”_äamebufãr_â
)(*, 
	tfb_šfo
 *);

309 (*
	tuÄegi¡”_äamebufãr_â
)(*, 
	tfb_šfo
 *);

310 
	`EVENTHANDLER_DECLARE
(
»gi¡”_äamebufãr
, 
»gi¡”_äamebufãr_â
);

311 
	`EVENTHANDLER_DECLARE
(
uÄegi¡”_äamebufãr
, 
uÄegi¡”_äamebufãr_â
);

314 
ÿm_·th
;

315 
©a_·¿ms
;

316 (*
	tada_´obe_v‘o_â
)(*, 
	tÿm_·th
 *,

317 
	t©a_·¿ms
 *, *);

318 
	`EVENTHANDLER_DECLARE
(
ada_´obe_v‘o
, 
ada_´obe_v‘o_â
);

321 
swdevt
;

322 (*
	tsw­Ú_â
)(*, 
	tswdevt
 *);

323 (*
	tsw­off_â
)(*, 
	tswdevt
 *);

324 
	`EVENTHANDLER_DECLARE
(
sw­Ú
, 
sw­Ú_â
);

325 
	`EVENTHANDLER_DECLARE
(
sw­off
, 
sw­off_â
);

328 
	eevhdev_d‘ach
 {

329 
EVHDEV_DETACH_BEGIN
,

330 
EVHDEV_DETACH_COMPLETE
,

331 
EVHDEV_DETACH_FAILED


333 (*
	tdeviû_©ch_â
)(*, 
	tdeviû_t
);

334 (*
	tdeviû_d‘ach_â
)(*, 
	tdeviû_t
, 
	tevhdev_d‘ach
);

335 
	`EVENTHANDLER_DECLARE
(
deviû_©ch
, 
deviû_©ch_â
);

336 
	`EVENTHANDLER_DECLARE
(
deviû_d‘ach
, 
deviû_d‘ach_â
);

	@/usr/include/sys/fnv_hash.h

10 #iâdeà
_SYS_FNV_HASH_H_


11 
	#_SYS_FNV_HASH_H_


	)

13 
u_št32_t
 
	tFnv32_t
;

14 
u_št64_t
 
	tFnv64_t
;

16 
	#FNV1_32_INIT
 ((
Fnv32_t
è33554467UL)

	)

17 
	#FNV1_64_INIT
 ((
Fnv64_t
è0xcbf29û484222325ULL)

	)

19 
	#FNV_32_PRIME
 ((
Fnv32_t
è0x01000193UL)

	)

20 
	#FNV_64_PRIME
 ((
Fnv64_t
è0x100000001b3ULL)

	)

22 
__šlše
 
Fnv32_t


23 
	$âv_32_buf
(cÚ¡ *
buf
, 
size_t
 
Ën
, 
Fnv32_t
 
hv®
)

25 cÚ¡ 
u_št8_t
 *
s
 = (cÚ¡ u_št8_ˆ*)
buf
;

27 
Ën
-- != 0) {

28 
hv®
 *ð
FNV_32_PRIME
;

29 
hv®
 ^ð*
s
++;

31  
hv®
;

32 
	}
}

34 
__šlše
 
Fnv32_t


35 
	$âv_32_¡r
(cÚ¡ *
¡r
, 
Fnv32_t
 
hv®
)

37 cÚ¡ 
u_št8_t
 *
s
 = (cÚ¡ u_št8_ˆ*)
¡r
;

38 
Fnv32_t
 
c
;

40 (
c
 = *
s
++) != 0) {

41 
hv®
 *ð
FNV_32_PRIME
;

42 
hv®
 ^ð
c
;

44  
hv®
;

45 
	}
}

47 
__šlše
 
Fnv64_t


48 
	$âv_64_buf
(cÚ¡ *
buf
, 
size_t
 
Ën
, 
Fnv64_t
 
hv®
)

50 cÚ¡ 
u_št8_t
 *
s
 = (cÚ¡ u_št8_ˆ*)
buf
;

52 
Ën
-- != 0) {

53 
hv®
 *ð
FNV_64_PRIME
;

54 
hv®
 ^ð*
s
++;

56  
hv®
;

57 
	}
}

59 
__šlše
 
Fnv64_t


60 
	$âv_64_¡r
(cÚ¡ *
¡r
, 
Fnv64_t
 
hv®
)

62 cÚ¡ 
u_št8_t
 *
s
 = (cÚ¡ u_št8_ˆ*)
¡r
;

63 
u_»gi¡”_t
 
c
;

65 (
c
 = *
s
++) != 0) {

66 
hv®
 *ð
FNV_64_PRIME
;

67 
hv®
 ^ð
c
;

69  
hv®
;

70 
	}
}

	@/usr/include/sys/kobj.h

31 #iâdeà
_SYS_KOBJ_H_


32 
	#_SYS_KOBJ_H_


	)

37 
kobj
 *
	tkobj_t
;

38 
kobj_þass
 *
	tkobj_þass_t
;

39 cÚ¡ 
	tkobj_m‘hod
 
	tkobj_m‘hod_t
;

40 (*
	tkobjÝ_t
)();

41 
kobj_Ýs
 *
	tkobj_Ýs_t
;

42 
kobjÝ_desc
 *
	tkobjÝ_desc_t
;

43 
m®loc_ty³
;

45 
	skobj_m‘hod
 {

46 
kobjÝ_desc_t
 
desc
;

47 
kobjÝ_t
 
func
;

56 
	#KOBJ_CLASS_FIELDS
 \

57 cÚ¡ *
Çme
; \

58 
kobj_m‘hod_t
 *
m‘hods
; \

59 
size_t
 
size
; \

60 
kobj_þass_t
 *
ba£þas£s
; \

61 
u_št
 
»fs
; \

62 
kobj_Ýs_t
 
Ýs


	)

64 
	skobj_þass
 {

65 
KOBJ_CLASS_FIELDS
;

71 
	#KOBJ_FIELDS
 \

72 
kobj_Ýs_t
 
Ýs


	)

74 
	skobj
 {

75 
KOBJ_FIELDS
;

82 
	#KOBJ_CACHE_SIZE
 256

	)

84 
	skobj_Ýs
 {

85 
kobj_m‘hod_t
 *
ÿche
[
KOBJ_CACHE_SIZE
];

86 
kobj_þass_t
 
þs
;

89 
	skobjÝ_desc
 {

90 
id
;

91 
kobj_m‘hod_t
 
deæt
;

99 
	#KOBJMETHOD
(
NAME
, 
FUNC
) \

100 { &
NAME
##
_desc
, (
kobjÝ_t
è(1 ? 
FUNC
 : (NAME##
_t
 *)
NULL
è
	}

	)
}

105 
	#KOBJMETHOD_END
 { 
NULL
, NULL }

	)

110 
	#DECLARE_CLASS
(
Çme
è
kobj_þass
 
	)
name

116 
	#DEFINE_CLASS
(
Çme
, 
m‘hods
, 
size
) \

117 
	`DEFINE_CLASS_0
(
Çme
,‚am## 
_þass
, 
m‘hods
, 
size
)

	)

124 
	#DEFINE_CLASS_0
(
Çme
, 
þassv¬
, 
m‘hods
, 
size
) \

126 
kobj_þass
 
þassv¬
 = { \

127 #Çme, 
m‘hods
, 
size
, 
NULL
 \

128 }

	)

136 
	#DEFINE_CLASS_1
(
Çme
, 
þassv¬
, 
m‘hods
, 
size
, \

137 
ba£1
) \

139 
kobj_þass_t
 
Çme
 ## 
_ba£þas£s
[] = \

140 { &
ba£1
, 
NULL
 }; \

141 
kobj_þass
 
þassv¬
 = { \

142 #Çme, 
m‘hods
, 
size
, 
Çme
 ## 
_ba£þas£s
 \

143 }

	)

151 
	#DEFINE_CLASS_2
(
Çme
, 
þassv¬
, 
m‘hods
, 
size
, \

152 
ba£1
, 
ba£2
) \

154 
kobj_þass_t
 
Çme
 ## 
_ba£þas£s
[] = \

155 { &
ba£1
, \

156 &
ba£2
, 
NULL
 }; \

157 
kobj_þass
 
þassv¬
 = { \

158 #Çme, 
m‘hods
, 
size
, 
Çme
 ## 
_ba£þas£s
 \

159 }

	)

167 
	#DEFINE_CLASS_3
(
Çme
, 
þassv¬
, 
m‘hods
, 
size
, \

168 
ba£1
, 
ba£2
, 
ba£3
) \

170 
kobj_þass_t
 
Çme
 ## 
_ba£þas£s
[] = \

171 { &
ba£1
, \

172 &
ba£2
, \

173 &
ba£3
, 
NULL
 }; \

174 
kobj_þass
 
þassv¬
 = { \

175 #Çme, 
m‘hods
, 
size
, 
Çme
 ## 
_ba£þas£s
 \

176 }

	)

182 
kobj_þass_compže
(
kobj_þass_t
 
þs
);

188 
kobj_þass_compže_¡©ic
(
kobj_þass_t
 
þs
, 
kobj_Ýs_t
 
Ýs
);

193 
kobj_þass_ä“
(
kobj_þass_t
 
þs
);

198 
kobj_t
 
kobj_ü—‹
(
kobj_þass_t
 
þs
,

199 
m®loc_ty³
 *
mty³
,

200 
mæags
);

205 
kobj_š™
(
kobj_t
 
obj
, 
kobj_þass_t
 
þs
);

206 
kobj_š™_¡©ic
(
kobj_t
 
obj
, 
kobj_þass_t
 
þs
);

211 
kobj_d–‘e
(
kobj_t
 
obj
, 
m®loc_ty³
 *
mty³
);

216 #ifdeà
KOBJ_STATS


217 
u_št
 
kobj_lookup_h™s
;

218 
u_št
 
kobj_lookup_mis£s
;

225 #ifdeà
KOBJ_STATS


226 
	#KOBJOPLOOKUP
(
OPS
,
OP
) do { \

227 
kobjÝ_desc_t
 
_desc
 = &
OP
##
_
##
desc
; \

228 
kobj_m‘hod_t
 **
_ûp
 = \

229 &
OPS
->
ÿche
[
_desc
->
id
 & (
KOBJ_CACHE_SIZE
-1)]; \

230 
kobj_m‘hod_t
 *
_û
 = *
_ûp
; \

231 ià(
_û
->
desc
 !ð
_desc
) { \

232 
_û
 = 
	`kobj_lookup_m‘hod
(
OPS
->
þs
, \

233 
_ûp
, 
_desc
); \

234 
kobj_lookup_mis£s
++; \

236 
kobj_lookup_h™s
++; \

237 
_m
 = 
_û
->
func
; \

238 } 0)

	)

240 
	#KOBJOPLOOKUP
(
OPS
,
OP
) do { \

241 
kobjÝ_desc_t
 
_desc
 = &
OP
##
_
##
desc
; \

242 
kobj_m‘hod_t
 **
_ûp
 = \

243 &
OPS
->
ÿche
[
_desc
->
id
 & (
KOBJ_CACHE_SIZE
-1)]; \

244 
kobj_m‘hod_t
 *
_û
 = *
_ûp
; \

245 ià(
_û
->
desc
 !ð
_desc
) \

246 
_û
 = 
	`kobj_lookup_m‘hod
(
OPS
->
þs
, \

247 
_ûp
, 
_desc
); \

248 
_m
 = 
_û
->
func
; \

249 } 0)

	)

252 
kobj_m‘hod_t
* 
kobj_lookup_m‘hod
(
kobj_þass_t
 
þs
,

253 
kobj_m‘hod_t
 **
ûp
,

254 
kobjÝ_desc_t
 
desc
);

260 
kobj_”rÜ_m‘hod
();

	@/usr/include/sys/kpilite.h

30 #iâdeà
_SYS_KPILITE_H_


31 
	#_SYS_KPILITE_H_


	)

32 #ià!
defšed
(
GENOFFSET
è&& (!defšed(
KLD_MODULE
è|| defšed(
KLD_TIED
)è&& defšed(
_KERNEL
)

33 
	~"off£t.šc
"

35 
__šlše
 

36 
	$sched_pš_l™e
(
th»ad_l™e
 *
td
)

39 
	`KASSERT
((
th»ad
 *)
td
 =ð
cu¹h»ad
, ("sched_pin called on‚on curthread"));

40 
td
->
td_pšÃd
++;

41 
	`__compž”_memb¬
();

42 
	}
}

44 
__šlše
 

45 
	$sched_uÅš_l™e
(
th»ad_l™e
 *
td
)

48 
	`KASSERT
((
th»ad
 *)
td
 =ð
cu¹h»ad
, ("sched_unpin called on‚on curthread"));

49 
	`KASSERT
(
td
->
td_pšÃd
 > 0, ("sched_unpin called on‚on…innedhread"));

50 
	`__compž”_memb¬
();

51 
td
->
td_pšÃd
--;

52 
	`__compž”_memb¬
();

53 
	}
}

	@/usr/include/sys/ktr_class.h

34 #iâdeà
_SYS_KTR_CLASS_H_


35 
	#_SYS_KTR_CLASS_H_


	)

45 
	#KTR_GEN
 0x00000001

	)

46 
	#KTR_NET
 0x00000002

	)

47 
	#KTR_DEV
 0x00000004

	)

48 
	#KTR_LOCK
 0x00000008

	)

49 
	#KTR_SMP
 0x00000010

	)

50 
	#KTR_SUBSYS
 0x00000020

	)

51 
	#KTR_PMAP
 0x00000040

	)

52 
	#KTR_MALLOC
 0x00000080

	)

53 
	#KTR_TRAP
 0x00000100

	)

54 
	#KTR_INTR
 0x00000200

	)

55 
	#KTR_SIG
 0x00000400

	)

56 
	#KTR_SPARE2
 0x00000800

	)

57 
	#KTR_PROC
 0x00001000

	)

58 
	#KTR_SYSC
 0x00002000

	)

59 
	#KTR_INIT
 0x00004000

	)

60 
	#KTR_SPARE3
 0x00008000

	)

61 
	#KTR_SPARE4
 0x00010000

	)

62 
	#KTR_EVH
 0x00020000

	)

63 
	#KTR_VFS
 0x00040000

	)

64 
	#KTR_VOP
 0x00080000

	)

65 
	#KTR_VM
 0x00100000

	)

66 
	#KTR_INET
 0x00200000

	)

67 
	#KTR_RUNQ
 0x00400000

	)

68 
	#KTR_SPARE5
 0x00800000

	)

69 
	#KTR_UMA
 0x01000000

	)

70 
	#KTR_CALLOUT
 0x02000000

	)

71 
	#KTR_GEOM
 0x04000000

	)

72 
	#KTR_BUSDMA
 0x08000000

	)

73 
	#KTR_INET6
 0x10000000

	)

74 
	#KTR_SCHED
 0x20000000

	)

75 
	#KTR_BUF
 0x40000000

	)

76 
	#KTR_PTRACE
 0x80000000

	)

77 
	#KTR_ALL
 0xffffffff

	)

80 #ifdeà
KTR


81 #iâdeà
KTR_COMPILE


82 
	#KTR_COMPILE
 (
KTR_ALL
)

	)

85 #undeà
KTR_COMPILE


86 
	#KTR_COMPILE
 0

	)

	@/usr/include/sys/linker_set.h

32 #iâdeà
_SYS_LINKER_SET_H_


33 
	#_SYS_LINKER_SET_H_


	)

35 #iâdeà
_SYS_CDEFS_H_


36 #”rÜ 
this
 
fže
 
Ãeds
 
sys
/
cdefs
.
h
 
as
 
a
 
´”equis™e


45 #ià
defšed
(
__pow”pc64__
)

50 
	#__MAKE_SET_CONST


	)

52 
	#__MAKE_SET_CONST
 cÚ¡

	)

58 #ifdeà
__GNUCLIKE___SECTION


59 
	#__MAKE_SET_QV
(
£t
, 
sym
, 
qv
) \

60 
	`__GLOBL
(
	`__CONCAT
(
__¡¬t_£t_
,
£t
)); \

61 
	`__GLOBL
(
	`__CONCAT
(
__¡Ý_£t_
,
£t
)); \

62 cÚ¡ * 
qv
 \

63 
__£t_
##
£t
##
_sym_
##
sym
 
	`__£ùiÚ
("set_" #set) \

64 
__u£d
 = &(
sym
)

	)

65 
	#__MAKE_SET
(
£t
, 
sym
è
	`__MAKE_SET_QV
(£t, sym, 
__MAKE_SET_CONST
)

	)

67 #”rÜ 
this
 
fže
 
Ãeds
 
to
 
be
 
pÜ‹d
Ø
your
 
compž”


73 
	#TEXT_SET
(
£t
, 
sym
è
	`__MAKE_SET
(£t, sym)

	)

74 
	#DATA_SET
(
£t
, 
sym
è
	`__MAKE_SET
(£t, sym)

	)

75 
	#DATA_WSET
(
£t
, 
sym
è
	`__MAKE_SET_QV
(£t, sym, )

	)

76 
	#BSS_SET
(
£t
, 
sym
è
	`__MAKE_SET
(£t, sym)

	)

77 
	#ABS_SET
(
£t
, 
sym
è
	`__MAKE_SET
(£t, sym)

	)

78 
	#SET_ENTRY
(
£t
, 
sym
è
	`__MAKE_SET
(£t, sym)

	)

83 
	#SET_DECLARE
(
£t
, 
±y³
) \

84 
±y³
 
__w—k_symbÞ
 *
	`__CONCAT
(
__¡¬t_£t_
,
£t
); \

85 
±y³
 
__w—k_symbÞ
 *
	`__CONCAT
(
__¡Ý_£t_
,
£t
)

	)

87 
	#SET_BEGIN
(
£t
) \

88 (&
	`__CONCAT
(
__¡¬t_£t_
,
£t
))

	)

89 
	#SET_LIMIT
(
£t
) \

90 (&
	`__CONCAT
(
__¡Ý_£t_
,
£t
))

	)

99 
	#SET_FOREACH
(
pv¬
, 
£t
) \

100 
pv¬
 = 
	`SET_BEGIN
(
£t
);…v¬ < 
	`SET_LIMIT
(£t);…v¬++)

	)

102 
	#SET_ITEM
(
£t
, 
i
) \

103 ((
	`SET_BEGIN
(
£t
))[
i
])

	)

108 
	#SET_COUNT
(
£t
) \

109 (
	`SET_LIMIT
(
£t
è- 
	`SET_BEGIN
(£t))

	)

	@/usr/include/sys/lock_profile.h

33 #iâdeà
_SYS_LOCK_PROFILE_H_


34 
	#_SYS_LOCK_PROFILE_H_


	)

36 
	glock_´ofže_objeù
;

37 
LIST_HEAD
(
Íoh—d
, 
lock_´ofže_objeù
);

39 #ifdeà
_KERNEL


40 #ifdeà
LOCK_PROFILING


41 
	~<machše/ýufunc.h
>

42 
	~<sys/lock.h
>

44 #iâdeà
USE_CPU_NANOSECONDS


45 
u_št64_t
 
Çno£cÚds
();

48 vÞ©ž
lock_´of_’abË
;

50 
lock_´ofže_obš_lock_sucûss
(
lock_objeù
 *
lo
, 
cÚ‹¡ed
,

51 
ušt64_t
 
wa™time
, cÚ¡ *
fže
, 
lše
);

52 
lock_´ofže_»Ëa£_lock
(
lock_objeù
 *
lo
);

53 
lock_´ofže_th»ad_ex™
(
th»ad
 *
td
);

56 
šlše
 

57 
	$lock_´ofže_obš_lock_çžed
(
lock_objeù
 *
lo
, *
cÚ‹¡ed
,

58 
ušt64_t
 *
wa™time
)

60 ià(!
lock_´of_’abË
 || (
lo
->
lo_æags
 & 
LO_NOPROFILE
è|| *
cÚ‹¡ed
)

62 *
wa™time
 = 
	`Çno£cÚds
();

63 *
cÚ‹¡ed
 = 1;

64 
	}
}

68 
	#lock_´ofže_»Ëa£_lock
(
lo
è()0

	)

69 
	#lock_´ofže_obš_lock_çžed
(
lo
, 
cÚ‹¡ed
, 
wa™time
è()0

	)

70 
	#lock_´ofže_obš_lock_sucûss
(
lo
, 
cÚ‹¡ed
, 
wa™time
, 
fže
, 
lše
è()0

	)

71 
	#lock_´ofže_th»ad_ex™
(
td
è()0

	)

	@/usr/include/sys/lockmgr.h

33 #iâdef 
_SYS_LOCKMGR_H_


34 
	#_SYS_LOCKMGR_H_


	)

36 
	~<sys/_lock.h
>

37 
	~<sys/_lockmgr.h
>

38 
	~<sys/_mu‹x.h
>

39 
	~<sys/_rwlock.h
>

41 
	#LK_SHARE
 0x01

	)

42 
	#LK_SHARED_WAITERS
 0x02

	)

43 
	#LK_EXCLUSIVE_WAITERS
 0x04

	)

44 
	#LK_EXCLUSIVE_SPINNERS
 0x08

	)

45 
	#LK_ALL_WAITERS
 \

46 (
LK_SHARED_WAITERS
 | 
LK_EXCLUSIVE_WAITERS
)

	)

47 
	#LK_FLAGMASK
 \

48 (
LK_SHARE
 | 
LK_ALL_WAITERS
 | 
LK_EXCLUSIVE_SPINNERS
)

	)

50 
	#LK_HOLDER
(
x
è((xè& ~
LK_FLAGMASK
)

	)

51 
	#LK_SHARERS_SHIFT
 4

	)

52 
	#LK_SHARERS
(
x
è(
	`LK_HOLDER
(xè>> 
LK_SHARERS_SHIFT
)

	)

53 
	#LK_SHARERS_LOCK
(
x
è((xè<< 
LK_SHARERS_SHIFT
 | 
LK_SHARE
)

	)

54 
	#LK_ONE_SHARER
 (1 << 
LK_SHARERS_SHIFT
)

	)

55 
	#LK_UNLOCKED
 
	`LK_SHARERS_LOCK
(0)

	)

56 
	#LK_KERNPROC
 ((
ušŒ_t
)(-1è& ~
LK_FLAGMASK
)

	)

58 #ifdeà
_KERNEL


60 #ià!
defšed
(
LOCK_FILE
è|| !defšed(
LOCK_LINE
)

64 
	gth»ad
;

65 
	#lk_»cur£
 
lock_objeù
.
lo_d©a


	)

71 
__lockmgr_¬gs
(
lock
 *
lk
, 
u_št
 
æags
, 
lock_objeù
 *
žk
,

72 cÚ¡ *
wmesg
, 
´io
, 
timo
, cÚ¡ *
fže
, 
lše
);

73 
lockmgr_lock_ç¡_·th
(
lock
 *
lk
, 
u_št
 
æags
,

74 
lock_objeù
 *
žk
, cÚ¡ *
fže
, 
lše
);

75 
lockmgr_uÆock_ç¡_·th
(
lock
 *
lk
, 
u_št
 
æags
,

76 
lock_objeù
 *
žk
);

77 #ià
defšed
(
INVARIANTS
è|| defšed(
INVARIANT_SUPPORT
)

78 
_lockmgr_as£¹
(cÚ¡ 
lock
 *
lk
, 
wh©
, cÚ¡ *
fže
, 
lše
);

80 
_lockmgr_disown
(
lock
 *
lk
, cÚ¡ *
fže
, 
lše
);

82 
lock®low»cur£
(
lock
 *
lk
);

83 
lock®lowsh¬e
(
lock
 *
lk
);

84 
lockde¡roy
(
lock
 *
lk
);

85 
lockdi§bË»cur£
(
lock
 *
lk
);

86 
lockdi§bËsh¬e
(
lock
 *
lk
);

87 
lockš™
(
lock
 *
lk
, 
´io
, cÚ¡ *
wmesg
, 
timo
,

88 
æags
);

89 #ifdeà
DDB


90 
lockmgr_chaš
(
th»ad
 *
td
, th»ad **
owÃ½
);

92 
lockmgr_´štšfo
(cÚ¡ 
lock
 *
lk
);

93 
lock¡©us
(cÚ¡ 
lock
 *
lk
);

99 
__šlše
 

100 
	$_lockmgr_¬gs
(
lock
 *
lk
, 
u_št
 
æags
, 
mtx
 *
žk
, cÚ¡ *
wmesg
,

101 
´io
, 
timo
, cÚ¡ *
fže
, 
lše
)

104  (
	`__lockmgr_¬gs
(
lk
, 
æags
, (
žk
 !ð
NULL
è? &žk->
lock_objeù
 :

105 
NULL
, 
wmesg
, 
´io
, 
timo
, 
fže
, 
lše
));

106 
	}
}

108 
__šlše
 

109 
	$_lockmgr_¬gs_rw
(
lock
 *
lk
, 
u_št
 
æags
, 
rwlock
 *
žk
,

110 cÚ¡ *
wmesg
, 
´io
, 
timo
, cÚ¡ *
fže
, 
lše
)

113  (
	`__lockmgr_¬gs
(
lk
, 
æags
, (
žk
 !ð
NULL
è? &žk->
lock_objeù
 :

114 
NULL
, 
wmesg
, 
´io
, 
timo
, 
fže
, 
lše
));

115 
	}
}

120 
	#lockmgr
(
lk
, 
æags
, 
žk
) \

121 
	`_lockmgr_¬gs
((
lk
), (
æags
), (
žk
), 
LK_WMESG_DEFAULT
, \

122 
LK_PRIO_DEFAULT
, 
LK_TIMO_DEFAULT
, 
LOCK_FILE
, 
LOCK_LINE
)

	)

123 
	#lockmgr_¬gs
(
lk
, 
æags
, 
žk
, 
wmesg
, 
´io
, 
timo
) \

124 
	`_lockmgr_¬gs
((
lk
), (
æags
), (
žk
), (
wmesg
), (
´io
), (
timo
), \

125 
LOCK_FILE
, 
LOCK_LINE
)

	)

126 
	#lockmgr_¬gs_rw
(
lk
, 
æags
, 
žk
, 
wmesg
, 
´io
, 
timo
) \

127 
	`_lockmgr_¬gs_rw
((
lk
), (
æags
), (
žk
), (
wmesg
), (
´io
), (
timo
), \

128 
LOCK_FILE
, 
LOCK_LINE
)

	)

129 
	#lockmgr_disown
(
lk
) \

130 
	`_lockmgr_disown
((
lk
), 
LOCK_FILE
, 
LOCK_LINE
)

	)

131 
	#lockmgr_»cur£d
(
lk
) \

132 ((
lk
)->
lk_»cur£
 !ð0)

	)

133 
	#lockmgr_rw
(
lk
, 
æags
, 
žk
) \

134 
	`_lockmgr_¬gs_rw
((
lk
), (
æags
), (
žk
), 
LK_WMESG_DEFAULT
, \

135 
LK_PRIO_DEFAULT
, 
LK_TIMO_DEFAULT
, 
LOCK_FILE
, 
LOCK_LINE
)

	)

136 #ifdeà
INVARIANTS


137 
	#lockmgr_as£¹
(
lk
, 
wh©
) \

138 
	`_lockmgr_as£¹
((
lk
), (
wh©
), 
LOCK_FILE
, 
LOCK_LINE
)

	)

140 
	#lockmgr_as£¹
(
lk
, 
wh©
)

	)

146 
	#LK_INIT_MASK
 0x0000FF

	)

147 
	#LK_CANRECURSE
 0x000001

	)

148 
	#LK_NODUP
 0x000002

	)

149 
	#LK_NOPROFILE
 0x000004

	)

150 
	#LK_NOSHARE
 0x000008

	)

151 
	#LK_NOWITNESS
 0x000010

	)

152 
	#LK_QUIET
 0x000020

	)

153 
	#LK_ADAPTIVE
 0x000040

	)

154 
	#LK_IS_VNODE
 0x000080

	)

159 
	#LK_EATTR_MASK
 0x00FF00

	)

160 
	#LK_INTERLOCK
 0x000100

	)

161 
	#LK_NOWAIT
 0x000200

	)

162 
	#LK_RETRY
 0x000400

	)

163 
	#LK_SLEEPFAIL
 0x000800

	)

164 
	#LK_TIMELOCK
 0x001000

	)

165 
	#LK_NODDLKTREAT
 0x002000

	)

166 
	#LK_VNHELD
 0x004000

	)

171 
	#LK_TYPE_MASK
 0xFF0000

	)

172 
	#LK_DOWNGRADE
 0x010000

	)

173 
	#LK_DRAIN
 0x020000

	)

174 
	#LK_EXCLOTHER
 0x040000

	)

175 
	#LK_EXCLUSIVE
 0x080000

	)

176 
	#LK_RELEASE
 0x100000

	)

177 
	#LK_SHARED
 0x200000

	)

178 
	#LK_UPGRADE
 0x400000

	)

179 
	#LK_TRYUPGRADE
 0x800000

	)

181 
	#LK_TOTAL_MASK
 (
LK_INIT_MASK
 | 
LK_EATTR_MASK
 | 
LK_TYPE_MASK
)

	)

186 
	#LK_WMESG_DEFAULT
 (
NULL
)

	)

187 
	#LK_PRIO_DEFAULT
 (0)

	)

188 
	#LK_TIMO_DEFAULT
 (0)

	)

193 #ià
defšed
(
INVARIANTS
è|| defšed(
INVARIANT_SUPPORT
)

194 
	#KA_LOCKED
 
LA_LOCKED


	)

195 
	#KA_SLOCKED
 
LA_SLOCKED


	)

196 
	#KA_XLOCKED
 
LA_XLOCKED


	)

197 
	#KA_UNLOCKED
 
LA_UNLOCKED


	)

198 
	#KA_RECURSED
 
LA_RECURSED


	)

199 
	#KA_NOTRECURSED
 
LA_NOTRECURSED


	)

	@/usr/include/sys/lockstat.h

34 #iâdeà
_SYS_LOCKSTAT_H


35 
	#_SYS_LOCKSTAT_H


	)

37 #ifdeà
_KERNEL


39 
	~<sys/·¿m.h
>

40 
	~<sys/queue.h
>

41 
	~<sys/sdt.h
>

43 
SDT_PROVIDER_DECLARE
(
lock¡©
);

45 
SDT_PROBE_DECLARE
(
lock¡©
, , , 
ad­tive__acquœe
);

46 
SDT_PROBE_DECLARE
(
lock¡©
, , , 
ad­tive__»Ëa£
);

47 
SDT_PROBE_DECLARE
(
lock¡©
, , , 
ad­tive__¥š
);

48 
SDT_PROBE_DECLARE
(
lock¡©
, , , 
ad­tive__block
);

50 
SDT_PROBE_DECLARE
(
lock¡©
, , , 
¥š__acquœe
);

51 
SDT_PROBE_DECLARE
(
lock¡©
, , , 
¥š__»Ëa£
);

52 
SDT_PROBE_DECLARE
(
lock¡©
, , , 
¥š__¥š
);

54 
SDT_PROBE_DECLARE
(
lock¡©
, , , 
rw__acquœe
);

55 
SDT_PROBE_DECLARE
(
lock¡©
, , , 
rw__»Ëa£
);

56 
SDT_PROBE_DECLARE
(
lock¡©
, , , 
rw__block
);

57 
SDT_PROBE_DECLARE
(
lock¡©
, , , 
rw__¥š
);

58 
SDT_PROBE_DECLARE
(
lock¡©
, , , 
rw__upg¿de
);

59 
SDT_PROBE_DECLARE
(
lock¡©
, , , 
rw__downg¿de
);

61 
SDT_PROBE_DECLARE
(
lock¡©
, , , 
sx__acquœe
);

62 
SDT_PROBE_DECLARE
(
lock¡©
, , , 
sx__»Ëa£
);

63 
SDT_PROBE_DECLARE
(
lock¡©
, , , 
sx__block
);

64 
SDT_PROBE_DECLARE
(
lock¡©
, , , 
sx__¥š
);

65 
SDT_PROBE_DECLARE
(
lock¡©
, , , 
sx__upg¿de
);

66 
SDT_PROBE_DECLARE
(
lock¡©
, , , 
sx__downg¿de
);

68 
SDT_PROBE_DECLARE
(
lock¡©
, , , 
th»ad__¥š
);

70 
	#LOCKSTAT_WRITER
 0

	)

71 
	#LOCKSTAT_READER
 1

	)

73 vÞ©ž
boÞ
 
lock¡©_’abËd
;

75 #ifdeà
KDTRACE_HOOKS


77 
	#LOCKSTAT_RECORD0
(
´obe
, 
Í
) \

78 
	`SDT_PROBE1
(
lock¡©
, , , 
´obe
, 
Í
)

	)

80 
	#LOCKSTAT_RECORD1
(
´obe
, 
Í
, 
¬g1
) \

81 
	`SDT_PROBE2
(
lock¡©
, , , 
´obe
, 
Í
, 
¬g1
)

	)

83 
	#LOCKSTAT_RECORD2
(
´obe
, 
Í
, 
¬g1
, 
¬g2
) \

84 
	`SDT_PROBE3
(
lock¡©
, , , 
´obe
, 
Í
, 
¬g1
, 
¬g2
)

	)

86 
	#LOCKSTAT_RECORD3
(
´obe
, 
Í
, 
¬g1
, 
¬g2
, 
¬g3
) \

87 
	`SDT_PROBE4
(
lock¡©
, , , 
´obe
, 
Í
, 
¬g1
, 
¬g2
, 
¬g3
)

	)

89 
	#LOCKSTAT_RECORD4
(
´obe
, 
Í
, 
¬g1
, 
¬g2
, 
¬g3
, 
¬g4
) \

90 
	`SDT_PROBE5
(
lock¡©
, , , 
´obe
, 
Í
, 
¬g1
, 
¬g2
, 
¬g3
, 
¬g4
)

	)

92 
	#LOCKSTAT_PROFILE_OBTAIN_LOCK_SUCCESS
(
´obe
, 
Í
, 
c
, 
wt
, 
f
, 
l
) do { \

93 
	`lock_´ofže_obš_lock_sucûss
(&(
Í
)->
lock_objeù
, 
c
, 
wt
, 
f
, 
l
); \

94 
	`LOCKSTAT_RECORD0
(
´obe
, 
Í
); \

95 } 0)

	)

97 
	#LOCKSTAT_PROFILE_OBTAIN_RWLOCK_SUCCESS
(
´obe
, 
Í
, 
c
, 
wt
, 
f
, 
l
, 
a
) do { \

98 
	`lock_´ofže_obš_lock_sucûss
(&(
Í
)->
lock_objeù
, 
c
, 
wt
, 
f
, 
l
); \

99 
	`LOCKSTAT_RECORD1
(
´obe
, 
Í
, 
a
); \

100 } 0)

	)

102 
	#LOCKSTAT_PROFILE_RELEASE_LOCK
(
´obe
, 
Í
) do { \

103 
	`lock_´ofže_»Ëa£_lock
(&(
Í
)->
lock_objeù
); \

104 
	`LOCKSTAT_RECORD0
(
´obe
, 
Í
); \

105 } 0)

	)

107 
	#LOCKSTAT_PROFILE_RELEASE_RWLOCK
(
´obe
, 
Í
, 
a
) do { \

108 
	`lock_´ofže_»Ëa£_lock
(&(
Í
)->
lock_objeù
); \

109 
	`LOCKSTAT_RECORD1
(
´obe
, 
Í
, 
a
); \

110 } 0)

	)

112 
	#LOCKSTAT_PROFILE_ENABLED
(
´obe
è
	`__´ediù_çl£
(
lock¡©_’abËd
)

	)

114 
	glock_objeù
;

115 
ušt64_t
 
lock¡©_n£cs
(
lock_objeù
 *);

119 
	#LOCKSTAT_RECORD0
(
´obe
, 
Í
)

	)

120 
	#LOCKSTAT_RECORD1
(
´obe
, 
Í
, 
¬g1
)

	)

121 
	#LOCKSTAT_RECORD2
(
´obe
, 
Í
, 
¬g1
, 
¬g2
)

	)

122 
	#LOCKSTAT_RECORD3
(
´obe
, 
Í
, 
¬g1
, 
¬g2
, 
¬g3
)

	)

123 
	#LOCKSTAT_RECORD4
(
´obe
, 
Í
, 
¬g1
, 
¬g2
, 
¬g3
, 
¬g4
)

	)

125 
	#LOCKSTAT_PROFILE_OBTAIN_LOCK_SUCCESS
(
´obe
, 
Í
, 
c
, 
wt
, 
f
, 
l
) \

126 
	`lock_´ofže_obš_lock_sucûss
(&(
Í
)->
lock_objeù
, 
c
, 
wt
, 
f
, 
l
)

	)

128 
	#LOCKSTAT_PROFILE_OBTAIN_RWLOCK_SUCCESS
(
´obe
, 
Í
, 
c
, 
wt
, 
f
, 
l
, 
a
) \

129 
	`LOCKSTAT_PROFILE_OBTAIN_LOCK_SUCCESS
(
´obe
, 
Í
, 
c
, 
wt
, 
f
, 
l
)

	)

131 
	#LOCKSTAT_PROFILE_RELEASE_LOCK
(
´obe
, 
Í
) \

132 
	`lock_´ofže_»Ëa£_lock
(&(
Í
)->
lock_objeù
)

	)

134 
	#LOCKSTAT_PROFILE_RELEASE_RWLOCK
(
´obe
, 
Í
, 
a
) \

135 
	`LOCKSTAT_PROFILE_RELEASE_LOCK
(
´obe
, 
Í
)

	)

137 
	#LOCKSTAT_PROFILE_ENABLED
(
´obe
è0

	)

	@/usr/include/sys/mbuf.h

36 #iâdeà
_SYS_MBUF_H_


37 
	#_SYS_MBUF_H_


	)

40 
	~<sys/queue.h
>

41 #ifdeà
_KERNEL


42 
	~<sys/sy¡m.h
>

43 
	~<vm/uma.h
>

44 #ifdeà
WITNESS


45 
	~<sys/lock.h
>

49 #ifdeà
_KERNEL


50 
	~<sys/sdt.h
>

52 
	#MBUF_PROBE1
(
´obe
, 
¬g0
) \

53 
	`SDT_PROBE1
(
sdt
, , , 
´obe
, 
¬g0
)

	)

54 
	#MBUF_PROBE2
(
´obe
, 
¬g0
, 
¬g1
) \

55 
	`SDT_PROBE2
(
sdt
, , , 
´obe
, 
¬g0
, 
¬g1
)

	)

56 
	#MBUF_PROBE3
(
´obe
, 
¬g0
, 
¬g1
, 
¬g2
) \

57 
	`SDT_PROBE3
(
sdt
, , , 
´obe
, 
¬g0
, 
¬g1
, 
¬g2
)

	)

58 
	#MBUF_PROBE4
(
´obe
, 
¬g0
, 
¬g1
, 
¬g2
, 
¬g3
) \

59 
	`SDT_PROBE4
(
sdt
, , , 
´obe
, 
¬g0
, 
¬g1
, 
¬g2
, 
¬g3
)

	)

60 
	#MBUF_PROBE5
(
´obe
, 
¬g0
, 
¬g1
, 
¬g2
, 
¬g3
, 
¬g4
) \

61 
	`SDT_PROBE5
(
sdt
, , , 
´obe
, 
¬g0
, 
¬g1
, 
¬g2
, 
¬g3
, 
¬g4
)

	)

63 
SDT_PROBE_DECLARE
(
sdt
, , , 
m__š™
);

64 
SDT_PROBE_DECLARE
(
sdt
, , , 
m__g‘hdr
);

65 
SDT_PROBE_DECLARE
(
sdt
, , , 
m__g‘
);

66 
SDT_PROBE_DECLARE
(
sdt
, , , 
m__g‘þ
);

67 
SDT_PROBE_DECLARE
(
sdt
, , , 
m__þg‘
);

68 
SDT_PROBE_DECLARE
(
sdt
, , , 
m__þjg‘
);

69 
SDT_PROBE_DECLARE
(
sdt
, , , 
m__þj£t
);

70 
SDT_PROBE_DECLARE
(
sdt
, , , 
m__ä“
);

71 
SDT_PROBE_DECLARE
(
sdt
, , , 
m__ä“m
);

95 
	gmbuf
;

96 
	#MHSIZE
 
	`off£tof
(
mbuf
, 
m_d©
)

	)

97 
	#MPKTHSIZE
 
	`off£tof
(
mbuf
, 
m_pktd©
)

	)

98 
	#MLEN
 (()(
MSIZE
 - 
MHSIZE
))

	)

99 
	#MHLEN
 (()(
MSIZE
 - 
MPKTHSIZE
))

	)

100 
	#MINCLSIZE
 (
MHLEN
 + 1)

	)

102 #ifdeà
_KERNEL


110 
	#mtod
(
m
, 
t
è(Ñ)((m)->
m_d©a
))

	)

111 
	#mtodo
(
m
, 
o
è((*)(((m)->
m_d©a
è+ (o)))

	)

117 
	smb_¬gs
 {

118 
	mæags
;

119 
	mty³
;

126 
	sm_g
 {

127 
SLIST_ENTRY
(
m_g
è
	mm_g_lšk
;

128 
u_št16_t
 
	mm_g_id
;

129 
u_št16_t
 
	mm_g_Ën
;

130 
u_št32_t
 
	mm_g_cook›
;

131 (*
	mm_g_ä“
)(
	mm_g
 *);

138 
	sm_¢d_g
 {

139 
iâ‘
 *
	miå
;

149 
	spkthdr
 {

151 
m_¢d_g
 *
	m¢d_g
;

152 
iâ‘
 *
	mrcvif
;

154 
SLIST_HEAD
(
·ck‘_gs
, 
m_g
è
	mgs
;

155 
št32_t
 
	mËn
;

158 
ušt32_t
 
	mæowid
;

159 
ušt32_t
 
	mcsum_æags
;

160 
ušt16_t
 
	mfibnum
;

161 
ušt8_t
 
	mcosqos
;

162 
ušt8_t
 
	mrs¡y³
;

164 
ušt64_t
 
	mrcv_t¡mp
;

166 
ušt8_t
 
	ml2hËn
;

167 
ušt8_t
 
	ml3hËn
;

168 
ušt8_t
 
	ml4hËn
;

169 
ušt8_t
 
	ml5hËn
;

170 
ušt32_t
 
	m¥¬e
;

174 
ušt8_t
 
	meight
[8];

175 
ušt16_t
 
	msix‹’
[4];

176 
ušt32_t
 
	mthœtytwo
[2];

177 
ušt64_t
 
	msixtyfour
[1];

178 
ušŒ_t
 
	munšŒ
[1];

179 *
	m±r
;

180 } 
	mPH_³r
;

184 
ušt8_t
 
	meight
[8];

185 
ušt16_t
 
	msix‹’
[4];

186 
ušt32_t
 
	mthœtytwo
[2];

187 
ušt64_t
 
	msixtyfour
[1];

188 
ušŒ_t
 
	munšŒ
[1];

189 *
	m±r
;

190 } 
	mPH_loc
;

192 
	#‘h”_vg
 
PH_³r
.
six‹’
[0]

	)

193 
	#PH_vt
 
PH_³r


	)

194 
	#vt_Äecs
 
six‹’
[0]

	)

195 
	#tso_£gsz
 
PH_³r
.
six‹’
[1]

	)

196 
	#Ìo_n£gs
 
tso_£gsz


	)

197 
	#csum_phsum
 
PH_³r
.
six‹’
[2]

	)

198 
	#csum_d©a
 
PH_³r
.
thœtytwo
[1]

	)

199 
	#·û_thoff
 
PH_loc
.
six‹’
[0]

	)

200 
	#·û_Ž’
 
PH_loc
.
six‹’
[1]

	)

201 
	#·û_d½hd¾’
 
PH_loc
.
six‹’
[2]

	)

202 
	#·û_tos
 
PH_loc
.
eight
[6]

	)

203 
	#·û_lock
 
PH_loc
.
eight
[7]

	)

213 
	tm_ext_ä“_t
(
	tmbuf
 *);

214 
	sm_ext
 {

224 vÞ©ž
u_št
 
	mext_couÁ
;

225 vÞ©ž
u_št
 *
	mext_út
;

227 *
	mext_buf
;

228 
ušt32_t
 
	mext_size
;

229 
ušt32_t
 
	mext_ty³
:8,

230 
	mext_æags
:24;

238 
	#m_ext_cÝyËn
 
	`off£tof
(
m_ext
, 
ext_ä“
)

	)

239 
m_ext_ä“_t
 *
	mext_ä“
;

240 *
	mext_¬g1
;

241 *
	mext_¬g2
;

248 
	smbuf
 {

257 
mbuf
 *
	mm_Ãxt
;

258 
SLIST_ENTRY
(
mbuf
è
	mm_¦i¡
;

259 
STAILQ_ENTRY
(
mbuf
è
	mm_¡ažq
;

262 
mbuf
 *
	mm_Ãxkt
;

263 
SLIST_ENTRY
(
mbuf
è
	mm_¦i¡pkt
;

264 
STAILQ_ENTRY
(
mbuf
è
	mm_¡ažqpkt
;

266 
ÿddr_t
 
	mm_d©a
;

267 
št32_t
 
	mm_Ën
;

268 
ušt32_t
 
	mm_ty³
:8,

269 
	mm_æags
:24;

270 #ià!
defšed
(
__LP64__
)

271 
ušt32_t
 
	mm_·d
;

283 
pkthdr
 
	mm_pkthdr
;

285 
m_ext
 
	mm_ext
;

286 
	mm_pktd©
[0];

289 
	mm_d©
[0];

299 
	#M_EXT
 0x00000001

	)

300 
	#M_PKTHDR
 0x00000002

	)

301 
	#M_EOR
 0x00000004

	)

302 
	#M_RDONLY
 0x00000008

	)

303 
	#M_BCAST
 0x00000010

	)

304 
	#M_MCAST
 0x00000020

	)

305 
	#M_PROMISC
 0x00000040

	)

306 
	#M_VLANTAG
 0x00000080

	)

307 
	#M_NOMAP
 0x00000100

	)

308 
	#M_NOFREE
 0x00000200

	)

309 
	#M_TSTMP
 0x00000400

	)

310 
	#M_TSTMP_HPREC
 0x00000800

	)

314 
	#M_PROTO1
 0x00001000

	)

315 
	#M_PROTO2
 0x00002000

	)

316 
	#M_PROTO3
 0x00004000

	)

317 
	#M_PROTO4
 0x00008000

	)

318 
	#M_PROTO5
 0x00010000

	)

319 
	#M_PROTO6
 0x00020000

	)

320 
	#M_PROTO7
 0x00040000

	)

321 
	#M_PROTO8
 0x00080000

	)

322 
	#M_PROTO9
 0x00100000

	)

323 
	#M_PROTO10
 0x00200000

	)

324 
	#M_PROTO11
 0x00400000

	)

325 
	#M_PROTO12
 0x00800000

	)

327 
	#MB_DTOR_SKIP
 0x1

	)

332 
	#M_PROTOFLAGS
 \

333 (
M_PROTO1
|
M_PROTO2
|
M_PROTO3
|
M_PROTO4
|
M_PROTO5
|
M_PROTO6
|
M_PROTO7
|
M_PROTO8
|\

334 
M_PROTO9
|
M_PROTO10
|
M_PROTO11
|
M_PROTO12
)

	)

339 
	#M_COPYFLAGS
 \

340 (
M_PKTHDR
|
M_EOR
|
M_RDONLY
|
M_BCAST
|
M_MCAST
|
M_PROMISC
|
M_VLANTAG
|
M_TSTMP
| \

341 
M_TSTMP_HPREC
|
M_PROTOFLAGS
)

	)

346 
	#M_FLAG_BITS
 \

348 "\7M_PROMISC\10M_VLANTAG\13M_TSTMP\14M_TSTMP_HPREC"

	)

349 
	#M_FLAG_PROTOBITS
 \

352 "\27M_PROTO11\30M_PROTO12"

	)

353 
	#M_FLAG_PRINTF
 (
M_FLAG_BITS
 
M_FLAG_PROTOBITS
)

	)

382 
	#M_HASHTYPE_HASHPROP
 0x80

	)

383 
	#M_HASHTYPE_HASH
(
t
è(
M_HASHTYPE_HASHPROP
 | (t))

	)

385 
	#M_HASHTYPE_NONE
 0

	)

386 
	#M_HASHTYPE_RSS_IPV4
 
	`M_HASHTYPE_HASH
(1è

	)

387 
	#M_HASHTYPE_RSS_TCP_IPV4
 
	`M_HASHTYPE_HASH
(2è

	)

388 
	#M_HASHTYPE_RSS_IPV6
 
	`M_HASHTYPE_HASH
(3è

	)

389 
	#M_HASHTYPE_RSS_TCP_IPV6
 
	`M_HASHTYPE_HASH
(4è

	)

390 
	#M_HASHTYPE_RSS_IPV6_EX
 
	`M_HASHTYPE_HASH
(5è

	)

392 
	#M_HASHTYPE_RSS_TCP_IPV6_EX
 
	`M_HASHTYPE_HASH
(6è

	)

394 
	#M_HASHTYPE_RSS_UDP_IPV4
 
	`M_HASHTYPE_HASH
(7è

	)

395 
	#M_HASHTYPE_RSS_UDP_IPV6
 
	`M_HASHTYPE_HASH
(9è

	)

396 
	#M_HASHTYPE_RSS_UDP_IPV6_EX
 
	`M_HASHTYPE_HASH
(10)

	)

399 
	#M_HASHTYPE_OPAQUE
 63

	)

400 
	#M_HASHTYPE_OPAQUE_HASH
 
	`M_HASHTYPE_HASH
(
M_HASHTYPE_OPAQUE
)

	)

403 
	#M_HASHTYPE_CLEAR
(
m
è((m)->
m_pkthdr
.
rs¡y³
 = 0)

	)

404 
	#M_HASHTYPE_GET
(
m
è((m)->
m_pkthdr
.
rs¡y³
)

	)

405 
	#M_HASHTYPE_SET
(
m
, 
v
è((m)->
m_pkthdr
.
rs¡y³
 = (v))

	)

406 
	#M_HASHTYPE_TEST
(
m
, 
v
è(
	`M_HASHTYPE_GET
(mè=ð(v))

	)

407 
	#M_HASHTYPE_ISHASH
(
m
è(
	`M_HASHTYPE_GET
(mè& 
M_HASHTYPE_HASHPROP
)

	)

413 
	#QOS_DSCP_CS0
 0x00

	)

414 
	#QOS_DSCP_DEF
 
QOS_DSCP_CS0


	)

415 
	#QOS_DSCP_CS1
 0x20

	)

416 
	#QOS_DSCP_AF11
 0x28

	)

417 
	#QOS_DSCP_AF12
 0x30

	)

418 
	#QOS_DSCP_AF13
 0x38

	)

419 
	#QOS_DSCP_CS2
 0x40

	)

420 
	#QOS_DSCP_AF21
 0x48

	)

421 
	#QOS_DSCP_AF22
 0x50

	)

422 
	#QOS_DSCP_AF23
 0x58

	)

423 
	#QOS_DSCP_CS3
 0x60

	)

424 
	#QOS_DSCP_AF31
 0x68

	)

425 
	#QOS_DSCP_AF32
 0x70

	)

426 
	#QOS_DSCP_AF33
 0x78

	)

427 
	#QOS_DSCP_CS4
 0x80

	)

428 
	#QOS_DSCP_AF41
 0x88

	)

429 
	#QOS_DSCP_AF42
 0x90

	)

430 
	#QOS_DSCP_AF43
 0x98

	)

431 
	#QOS_DSCP_CS5
 0xa0

	)

432 
	#QOS_DSCP_EF
 0xb8

	)

433 
	#QOS_DSCP_CS6
 0xc0

	)

434 
	#QOS_DSCP_CS7
 0xe0

	)

439 
	#EXT_CLUSTER
 1

	)

440 
	#EXT_SFBUF
 2

	)

441 
	#EXT_JUMBOP
 3

	)

442 
	#EXT_JUMBO9
 4

	)

443 
	#EXT_JUMBO16
 5

	)

444 
	#EXT_PACKET
 6

	)

445 
	#EXT_MBUF
 7

	)

447 
	#EXT_VENDOR1
 224

	)

448 
	#EXT_VENDOR2
 225

	)

449 
	#EXT_VENDOR3
 226

	)

450 
	#EXT_VENDOR4
 227

	)

452 
	#EXT_EXP1
 244

	)

453 
	#EXT_EXP2
 245

	)

454 
	#EXT_EXP3
 246

	)

455 
	#EXT_EXP4
 247

	)

457 
	#EXT_NET_DRV
 252

	)

458 
	#EXT_MOD_TYPE
 253

	)

459 
	#EXT_DISPOSABLE
 254

	)

460 
	#EXT_EXTREF
 255

	)

466 
	#EXT_FLAG_EMBREF
 0x000001

	)

467 
	#EXT_FLAG_EXTREF
 0x000002

	)

469 
	#EXT_FLAG_NOFREE
 0x000010

	)

471 
	#EXT_FLAG_VENDOR1
 0x010000

	)

472 
	#EXT_FLAG_VENDOR2
 0x020000

	)

473 
	#EXT_FLAG_VENDOR3
 0x040000

	)

474 
	#EXT_FLAG_VENDOR4
 0x080000

	)

476 
	#EXT_FLAG_EXP1
 0x100000

	)

477 
	#EXT_FLAG_EXP2
 0x200000

	)

478 
	#EXT_FLAG_EXP3
 0x400000

	)

479 
	#EXT_FLAG_EXP4
 0x800000

	)

484 
	#EXT_FLAG_BITS
 \

488 "\30EXT_FLAG_EXP4"

	)

500 
	#CSUM_IP
 0x00000001

	)

501 
	#CSUM_IP_UDP
 0x00000002

	)

502 
	#CSUM_IP_TCP
 0x00000004

	)

503 
	#CSUM_IP_SCTP
 0x00000008

	)

504 
	#CSUM_IP_TSO
 0x00000010

	)

505 
	#CSUM_IP_ISCSI
 0x00000020

	)

507 
	#CSUM_IP6_UDP
 0x00000200

	)

508 
	#CSUM_IP6_TCP
 0x00000400

	)

509 
	#CSUM_IP6_SCTP
 0x00000800

	)

510 
	#CSUM_IP6_TSO
 0x00001000

	)

511 
	#CSUM_IP6_ISCSI
 0x00002000

	)

514 
	#CSUM_L3_CALC
 0x01000000

	)

515 
	#CSUM_L3_VALID
 0x02000000

	)

516 
	#CSUM_L4_CALC
 0x04000000

	)

517 
	#CSUM_L4_VALID
 0x08000000

	)

518 
	#CSUM_L5_CALC
 0x10000000

	)

519 
	#CSUM_L5_VALID
 0x20000000

	)

520 
	#CSUM_COALESCED
 0x40000000

	)

525 
	#CSUM_BITS
 \

531 "\35CSUM_L5_CALC\36CSUM_L5_VALID\37CSUM_COALESCED"

	)

534 
	#CSUM_IP_CHECKED
 
CSUM_L3_CALC


	)

535 
	#CSUM_IP_VALID
 
CSUM_L3_VALID


	)

536 
	#CSUM_DATA_VALID
 
CSUM_L4_VALID


	)

537 
	#CSUM_PSEUDO_HDR
 
CSUM_L4_CALC


	)

538 
	#CSUM_SCTP_VALID
 
CSUM_L4_VALID


	)

539 
	#CSUM_DELAY_DATA
 (
CSUM_TCP
|
CSUM_UDP
)

	)

540 
	#CSUM_DELAY_IP
 
CSUM_IP


	)

541 
	#CSUM_DELAY_DATA_IPV6
 (
CSUM_TCP_IPV6
|
CSUM_UDP_IPV6
)

	)

542 
	#CSUM_DATA_VALID_IPV6
 
CSUM_DATA_VALID


	)

543 
	#CSUM_TCP
 
CSUM_IP_TCP


	)

544 
	#CSUM_UDP
 
CSUM_IP_UDP


	)

545 
	#CSUM_SCTP
 
CSUM_IP_SCTP


	)

546 
	#CSUM_TSO
 (
CSUM_IP_TSO
|
CSUM_IP6_TSO
)

	)

547 
	#CSUM_UDP_IPV6
 
CSUM_IP6_UDP


	)

548 
	#CSUM_TCP_IPV6
 
CSUM_IP6_TCP


	)

549 
	#CSUM_SCTP_IPV6
 
CSUM_IP6_SCTP


	)

554 
	#MT_NOTMBUF
 0

	)

555 
	#MT_DATA
 1

	)

556 
	#MT_HEADER
 
MT_DATA


	)

558 
	#MT_VENDOR1
 4

	)

559 
	#MT_VENDOR2
 5

	)

560 
	#MT_VENDOR3
 6

	)

561 
	#MT_VENDOR4
 7

	)

563 
	#MT_SONAME
 8

	)

565 
	#MT_EXP1
 9

	)

566 
	#MT_EXP2
 10

	)

567 
	#MT_EXP3
 11

	)

568 
	#MT_EXP4
 12

	)

570 
	#MT_CONTROL
 14

	)

571 
	#MT_EXTCONTROL
 15

	)

572 
	#MT_OOBDATA
 16

	)

574 
	#MT_NOINIT
 255

	)

582 
	#MBUF_MEM_NAME
 "mbuf"

	)

583 
	#MBUF_CLUSTER_MEM_NAME
 "mbuf_þu¡”"

	)

584 
	#MBUF_PACKET_MEM_NAME
 "mbuf_·ck‘"

	)

585 
	#MBUF_JUMBOP_MEM_NAME
 "mbuf_jumbo_·ge"

	)

586 
	#MBUF_JUMBO9_MEM_NAME
 "mbuf_jumbo_9k"

	)

587 
	#MBUF_JUMBO16_MEM_NAME
 "mbuf_jumbo_16k"

	)

588 
	#MBUF_TAG_MEM_NAME
 "mbuf_g"

	)

589 
	#MBUF_EXTREFCNT_MEM_NAME
 "mbuf_ext_»fút"

	)

591 #ifdeà
_KERNEL


593 #ifdeà
WITNESS


594 
	#MBUF_CHECKSLEEP
(
how
) do { \

595 ià(
how
 =ð
M_WAITOK
) \

596 
	`WITNESS_WARN
(
WARN_GIANTOK
 | 
WARN_SLEEPOK
, 
NULL
, \

597 "SË•šg iÀ\"%s\"", 
__func__
); \

598 } 0)

	)

600 
	#MBUF_CHECKSLEEP
(
how
)

	)

608 
uma_zÚe_t
 
zÚe_mbuf
;

609 
uma_zÚe_t
 
zÚe_þu¡
;

610 
uma_zÚe_t
 
zÚe_·ck
;

611 
uma_zÚe_t
 
zÚe_jumbÝ
;

612 
uma_zÚe_t
 
zÚe_jumbo9
;

613 
uma_zÚe_t
 
zÚe_jumbo16
;

615 
mb_dupþ
(
mbuf
 *, mbuf *);

616 
mb_ä“_ext
(
mbuf
 *);

617 
m_adj
(
mbuf
 *, );

618 
m_­¶y
(
mbuf
 *, , ,

619 (*)(*, *, 
u_št
), *);

620 
	`m_­³nd
(
mbuf
 *, , 
c_ÿddr_t
);

621 
	`m_ÿt
(
mbuf
 *, mbuf *);

622 
	`m_ÿkt
(
mbuf
 *, mbuf *);

623 
	`m_þg‘
(
mbuf
 *
m
, 
how
);

624 *
	`m_þjg‘
(
mbuf
 *
m
, 
how
, 
size
);

625 
mbuf
 *
	`m_cÞÏp£
(mbuf *, , );

626 
	`m_cÝyback
(
mbuf
 *, , , 
c_ÿddr_t
);

627 
	`m_cÝyd©a
(cÚ¡ 
mbuf
 *, , , 
ÿddr_t
);

628 
mbuf
 *
	`m_cÝym
(mbuf *, , , );

629 
mbuf
 *
	`m_cÝy·ck‘
(mbuf *, );

630 
	`m_cÝy_pkthdr
(
mbuf
 *, mbuf *);

631 
mbuf
 *
	`m_cÝyup
(mbuf *, , );

632 
mbuf
 *
	`m_deäag
(mbuf *, );

633 
	`m_demÙe_pkthdr
(
mbuf
 *);

634 
	`m_demÙe
(
mbuf
 *, , );

635 
mbuf
 *
	`m_devg‘
(*, , , 
iâ‘
 *,

636 (*)(*, 
ÿddr_t
, 
u_št
));

637 
	`m_di¥o£_extcÚŒÞm
(
mbuf
 *
m
);

638 
mbuf
 *
	`m_dup
(const mbuf *, );

639 
	`m_dup_pkthdr
(
mbuf
 *, const mbuf *, );

640 
	`m_exdd
(
mbuf
 *, *, 
u_št
, 
m_ext_ä“_t
,

642 
u_št
 
	`m_fixhdr
(
mbuf
 *);

643 
mbuf
 *
	`m_äagm’t
(mbuf *, , );

644 
	`m_ä“m
(
mbuf
 *);

645 
mbuf
 *
	`m_g‘2
(, , , );

646 
mbuf
 *
	`m_g‘jþ
(, , , );

647 
mbuf
 *
	`m_g‘m2
(mbuf *, , , , );

648 
mbuf
 *
	`m_g‘±r
(mbuf *, , *);

649 
u_št
 
	`m_Ëngth
(
mbuf
 *, mbuf **);

650 
	`m_mbuáouio
(
uio
 *, cÚ¡ 
mbuf
 *, );

651 
	`m_move_pkthdr
(
mbuf
 *, mbuf *);

652 
	`m_pkthdr_š™
(
mbuf
 *, );

653 
mbuf
 *
	`m_´•’d
(mbuf *, , );

654 
	`m_´št
(cÚ¡ 
mbuf
 *, );

655 
mbuf
 *
	`m_puÎdown
(mbuf *, , , *);

656 
mbuf
 *
	`m_puÎup
(mbuf *, );

657 
	`m_§n™y
(
mbuf
 *, );

658 
mbuf
 *
	`m_¥l™
(mbuf *, , );

659 
mbuf
 *
	`m_uiÙombuf
(
uio
 *, , , , );

660 
mbuf
 *
	`m_unsh¬e
(mbuf *, );

662 
__šlše
 

663 
	$m_g‘ty³
(
size
)

665 
ty³
;

667 
size
) {

668 
MSIZE
:

669 
ty³
 = 
EXT_MBUF
;

671 
MCLBYTES
:

672 
ty³
 = 
EXT_CLUSTER
;

674 #ià
MJUMPAGESIZE
 !ð
MCLBYTES


675 
MJUMPAGESIZE
:

676 
ty³
 = 
EXT_JUMBOP
;

679 
MJUM9BYTES
:

680 
ty³
 = 
EXT_JUMBO9
;

682 
MJUM16BYTES
:

683 
ty³
 = 
EXT_JUMBO16
;

686 
	`·nic
("%s: inv®id clu¡” siz%d", 
__func__
, 
size
);

689  (
ty³
);

690 
	}
}

695 
__šlše
 

696 
	$m_exdd»f
(
mbuf
 *
m
, *
buf
, 
u_št
 
size
, u_šˆ*
»f_út
,

697 
m_ext_ä“_t
 
ä“f
, *
¬g1
, *
¬g2
)

700 
	`KASSERT
(
»f_út
 !ð
NULL
, ("%s:„ef_úˆnÙ…rovided", 
__func__
));

702 
	`©omic_add_št
(
»f_út
, 1);

703 
m
->
m_æags
 |ð
M_EXT
;

704 
m
->
m_ext
.
ext_buf
 = 
buf
;

705 
m
->
m_ext
.
ext_út
 = 
»f_út
;

706 
m
->
m_d©a
 = m->
m_ext
.
ext_buf
;

707 
m
->
m_ext
.
ext_size
 = 
size
;

708 
m
->
m_ext
.
ext_ä“
 = 
ä“f
;

709 
m
->
m_ext
.
ext_¬g1
 = 
¬g1
;

710 
m
->
m_ext
.
ext_¬g2
 = 
¬g2
;

711 
m
->
m_ext
.
ext_ty³
 = 
EXT_EXTREF
;

712 
m
->
m_ext
.
ext_æags
 = 0;

713 
	}
}

715 
__šlše
 
uma_zÚe_t


716 
	$m_g‘zÚe
(
size
)

718 
uma_zÚe_t
 
zÚe
;

720 
size
) {

721 
MCLBYTES
:

722 
zÚe
 = 
zÚe_þu¡
;

724 #ià
MJUMPAGESIZE
 !ð
MCLBYTES


725 
MJUMPAGESIZE
:

726 
zÚe
 = 
zÚe_jumbÝ
;

729 
MJUM9BYTES
:

730 
zÚe
 = 
zÚe_jumbo9
;

732 
MJUM16BYTES
:

733 
zÚe
 = 
zÚe_jumbo16
;

736 
	`·nic
("%s: inv®id clu¡” siz%d", 
__func__
, 
size
);

739  (
zÚe
);

740 
	}
}

749 
__šlše
 

750 
	$m_š™
(
mbuf
 *
m
, 
how
, 
ty³
, 
æags
)

752 
”rÜ
;

754 
m
->
m_Ãxt
 = 
NULL
;

755 
m
->
m_Ãxkt
 = 
NULL
;

756 
m
->
m_d©a
 = m->
m_d©
;

757 
m
->
m_Ën
 = 0;

758 
m
->
m_æags
 = 
æags
;

759 
m
->
m_ty³
 = 
ty³
;

760 ià(
æags
 & 
M_PKTHDR
)

761 
”rÜ
 = 
	`m_pkthdr_š™
(
m
, 
how
);

763 
”rÜ
 = 0;

765 
	`MBUF_PROBE5
(
m__š™
, 
m
, 
how
, 
ty³
, 
æags
, 
”rÜ
);

766  (
”rÜ
);

767 
	}
}

769 
__šlše
 
mbuf
 *

770 
	$m_g‘
(
how
, 
ty³
)

772 
mbuf
 *
m
;

773 
mb_¬gs
 
¬gs
;

775 
¬gs
.
æags
 = 0;

776 
¬gs
.
ty³
 =ype;

777 
m
 = 
	`uma_z®loc_¬g
(
zÚe_mbuf
, &
¬gs
, 
how
);

778 
	`MBUF_PROBE3
(
m__g‘
, 
how
, 
ty³
, 
m
);

779  (
m
);

780 
	}
}

782 
__šlše
 
mbuf
 *

783 
	$m_g‘hdr
(
how
, 
ty³
)

785 
mbuf
 *
m
;

786 
mb_¬gs
 
¬gs
;

788 
¬gs
.
æags
 = 
M_PKTHDR
;

789 
¬gs
.
ty³
 =ype;

790 
m
 = 
	`uma_z®loc_¬g
(
zÚe_mbuf
, &
¬gs
, 
how
);

791 
	`MBUF_PROBE3
(
m__g‘hdr
, 
how
, 
ty³
, 
m
);

792  (
m
);

793 
	}
}

795 
__šlše
 
mbuf
 *

796 
	$m_g‘þ
(
how
, 
ty³
, 
æags
)

798 
mbuf
 *
m
;

799 
mb_¬gs
 
¬gs
;

801 
¬gs
.
æags
 = flags;

802 
¬gs
.
ty³
 =ype;

803 
m
 = 
	`uma_z®loc_¬g
(
zÚe_·ck
, &
¬gs
, 
how
);

804 
	`MBUF_PROBE4
(
m__g‘þ
, 
how
, 
ty³
, 
æags
, 
m
);

805  (
m
);

806 
	}
}

813 
__šlše
 

814 
	$m_þj£t
(
mbuf
 *
m
, *
þ
, 
ty³
)

816 
size
;

818 
ty³
) {

819 
EXT_CLUSTER
:

820 
size
 = 
MCLBYTES
;

822 #ià
MJUMPAGESIZE
 !ð
MCLBYTES


823 
EXT_JUMBOP
:

824 
size
 = 
MJUMPAGESIZE
;

827 
EXT_JUMBO9
:

828 
size
 = 
MJUM9BYTES
;

830 
EXT_JUMBO16
:

831 
size
 = 
MJUM16BYTES
;

834 
	`·nic
("%s: unknowÀþu¡”y³ %d", 
__func__
, 
ty³
);

838 
m
->
m_d©a
 = m->
m_ext
.
ext_buf
 = 
þ
;

839 
m
->
m_ext
.
ext_ä“
 = m->m_ext.
ext_¬g1
 = m->m_ext.
ext_¬g2
 = 
NULL
;

840 
m
->
m_ext
.
ext_size
 = 
size
;

841 
m
->
m_ext
.
ext_ty³
 = 
ty³
;

842 
m
->
m_ext
.
ext_æags
 = 
EXT_FLAG_EMBREF
;

843 
m
->
m_ext
.
ext_couÁ
 = 1;

844 
m
->
m_æags
 |ð
M_EXT
;

845 
	`MBUF_PROBE3
(
m__þj£t
, 
m
, 
þ
, 
ty³
);

846 
	}
}

848 
__šlše
 

849 
	$m_chty³
(
mbuf
 *
m
, 
Ãw_ty³
)

852 
m
->
m_ty³
 = 
Ãw_ty³
;

853 
	}
}

855 
__šlše
 

856 
	$m_þ½rÙoæags
(
mbuf
 *
m
)

859 
m
) {

860 
m
->
m_æags
 &ð~
M_PROTOFLAGS
;

861 
m
 = m->
m_Ãxt
;

863 
	}
}

865 
__šlše
 
mbuf
 *

866 
	$m_Ï¡
(
mbuf
 *
m
)

869 
m
->
m_Ãxt
)

870 
m
 = m->
m_Ãxt
;

871  (
m
);

872 
	}
}

874 
šlše
 
u_št


875 
	$m_exŒefút
(
mbuf
 *
m
)

878 
	`KASSERT
(
m
->
m_æags
 & 
M_EXT
, ("%s: M_EXT missšg", 
__func__
));

880  ((
m
->
m_ext
.
ext_æags
 & 
EXT_FLAG_EMBREF
è? m->m_ext.
ext_couÁ
 :

881 *
m
->
m_ext
.
ext_út
);

882 
	}
}

888 
	#M_MOVE_PKTHDR
(
to
, 
äom
è
	`m_move_pkthdr
(Ño), (äom))

	)

889 
	#MGET
(
m
, 
how
, 
ty³
è((mèð
	`m_g‘
((how), (ty³)))

	)

890 
	#MGETHDR
(
m
, 
how
, 
ty³
è((mèð
	`m_g‘hdr
((how), (ty³)))

	)

891 
	#MCLGET
(
m
, 
how
è
	`m_þg‘
((m), (how))

	)

892 
	#MEXTADD
(
m
, 
buf
, 
size
, 
ä“
, 
¬g1
, 
¬g2
, 
æags
, 
ty³
) \

893 
	`m_exdd
((
m
), (*)(
buf
), (
size
), (
ä“
), (
¬g1
), (
¬g2
), \

894 (
æags
), (
ty³
))

	)

895 
	#m_g‘m
(
m
, 
Ën
, 
how
, 
ty³
) \

896 
	`m_g‘m2
((
m
), (
Ën
), (
how
), (
ty³
), 
M_PKTHDR
)

	)

903 
	#M_WRITABLE
(
m
è(!((m)->
m_æags
 & 
M_RDONLY
) && \

904 (!(((
m
)->
m_æags
 & 
M_EXT
)) || \

905 (
	`m_exŒefút
(
m
è=ð1)))

	)

908 
	#M_ASSERTPKTHDR
(
m
) \

909 
	`KASSERT
((
m
è!ð
NULL
 && (m)->
m_æags
 & 
M_PKTHDR
, \

910 ("%s:‚Ømbuà·ck‘ h—d”!", 
__func__
))

	)

917 
	#M_ASSERTVALID
(
m
) \

918 
	`KASSERT
((((
mbuf
 *)
m
)->
m_æags
 & 0) == 0, \

919 ("%s:‡‰em±ed u£ oà¨ä“ mbuf!", 
__func__
))

	)

925 
	#M_START
(
m
) \

926 (((
m
)->
m_æags
 & 
M_EXT
è? (m)->
m_ext
.
ext_buf
 : \

927 ((
m
)->
m_æags
 & 
M_PKTHDR
è? &(m)->
m_pktd©
[0] : \

928 &(
m
)->
m_d©
[0])

	)

934 
	#M_SIZE
(
m
) \

935 (((
m
)->
m_æags
 & 
M_EXT
è? (m)->
m_ext
.
ext_size
 : \

936 ((
m
)->
m_æags
 & 
M_PKTHDR
è? 
MHLEN
 : \

937 
MLEN
)

	)

949 
__šlše
 

950 
	$m_®ign
(
mbuf
 *
m
, 
Ën
)

952 #ifdeà
INVARIANTS


953 cÚ¡ *
msg
 = "%s:‚ot‡ virgin mbuf";

955 
adju¡
;

957 
	`KASSERT
(
m
->
m_d©a
 =ð
	`M_START
(m), (
msg
, 
__func__
));

959 
adju¡
 = 
	`M_SIZE
(
m
è- 
Ën
;

960 
m
->
m_d©a
 +ð
adju¡
 &~ (()-1);

961 
	}
}

963 
	#M_ALIGN
(
m
, 
Ën
è
	`m_®ign
(m,†’)

	)

964 
	#MH_ALIGN
(
m
, 
Ën
è
	`m_®ign
(m,†’)

	)

965 
	#MEXT_ALIGN
(
m
, 
Ën
è
	`m_®ign
(m,†’)

	)

978 
	#M_LEADINGSPACE
(
m
) \

979 (
	`M_WRITABLE
(
m
è? ((m)->
m_d©a
 - 
	`M_START
(m)è: 0)

	)

991 
	#M_TRAILINGSPACE
(
m
) \

992 (
	`M_WRITABLE
(
m
) ? \

993 ((
	`M_START
(
m
è+ 
	`M_SIZE
(m)è- ((m)->
m_d©a
 + (m)->
m_Ën
)è: 0)

	)

1000 
	#M_PREPEND
(
m
, 
¶’
, 
how
) do { \

1001 
mbuf
 **
_mmp
 = &(
m
); \

1002 
mbuf
 *
_mm
 = *
_mmp
; \

1003 
_m¶’
 = (
¶’
); \

1004 
__mhow
 = (
how
); \

1006 
	`MBUF_CHECKSLEEP
(
how
); \

1007 ià(
	`M_LEADINGSPACE
(
_mm
è>ð
_m¶’
) { \

1008 
_mm
->
m_d©a
 -ð
_m¶’
; \

1009 
_mm
->
m_Ën
 +ð
_m¶’
; \

1011 
_mm
 = 
	`m_´•’d
(_mm, 
_m¶’
, 
__mhow
); \

1012 ià(
_mm
 !ð
NULL
 && _mm->
m_æags
 & 
M_PKTHDR
) \

1013 
_mm
->
m_pkthdr
.
Ën
 +ð
_m¶’
; \

1014 *
_mmp
 = 
_mm
; \

1015 } 0)

	)

1021 
	#MCHTYPE
(
m
, 
t
è
	`m_chty³
((m), (t))

	)

1024 
	#M_COPYALL
 1000000000

	)

1026 
max_d©®’
;

1027 
max_hdr
;

1028 
max_lškhdr
;

1029 
max_´Ùohdr
;

1030 
nmbþu¡”s
;

1080 
	#MTAG_PERSISTENT
 0x800

	)

1082 
	#PACKET_TAG_NONE
 0

	)

1085 
	#PACKET_TAG_IPSEC_IN_DONE
 1

	)

1086 
	#PACKET_TAG_IPSEC_OUT_DONE
 2

	)

1087 
	#PACKET_TAG_IPSEC_IN_CRYPTO_DONE
 3

	)

1088 
	#PACKET_TAG_IPSEC_OUT_CRYPTO_NEEDED
 4

	)

1089 
	#PACKET_TAG_IPSEC_IN_COULD_DO_CRYPTO
 5

	)

1090 
	#PACKET_TAG_IPSEC_PENDING_TDB
 6

	)

1091 
	#PACKET_TAG_BRIDGE
 7

	)

1092 
	#PACKET_TAG_GIF
 8

	)

1093 
	#PACKET_TAG_GRE
 9

	)

1094 
	#PACKET_TAG_IN_PACKET_CHECKSUM
 10

	)

1095 
	#PACKET_TAG_ENCAP
 11

	)

1096 
	#PACKET_TAG_IPSEC_SOCKET
 12

	)

1097 
	#PACKET_TAG_IPSEC_HISTORY
 13

	)

1098 
	#PACKET_TAG_IPV6_INPUT
 14

	)

1099 
	#PACKET_TAG_DUMMYNET
 15

	)

1100 
	#PACKET_TAG_DIVERT
 17

	)

1101 
	#PACKET_TAG_IPFORWARD
 18

	)

1102 
	#PACKET_TAG_MACLABEL
 (19 | 
MTAG_PERSISTENT
è

	)

1103 
	#PACKET_TAG_PF
 (21 | 
MTAG_PERSISTENT
è

	)

1104 
	#PACKET_TAG_RTSOCKFAM
 25

	)

1105 
	#PACKET_TAG_IPOPTIONS
 27

	)

1106 
	#PACKET_TAG_CARP
 28

	)

1107 
	#PACKET_TAG_IPSEC_NAT_T_PORTS
 29

	)

1108 
	#PACKET_TAG_ND_OUTGOING
 30

	)

1113 
m_g
 *
m_g_®loc
(
u_št32_t
, , , );

1114 
m_g_d–‘e
(
mbuf
 *, 
m_g
 *);

1115 
m_g_d–‘e_chaš
(
mbuf
 *, 
m_g
 *);

1116 
m_g_ä“_deçuÉ
(
m_g
 *);

1117 
m_g
 *
m_g_loÿ‹
(
mbuf
 *, 
u_št32_t
, , m_tag *);

1118 
m_g
 *
m_g_cÝy
(m_tag *, );

1119 
m_g_cÝy_chaš
(
mbuf
 *, const mbuf *, );

1120 
m_g_d–‘e_nÚ³rsi¡’t
(
mbuf
 *);

1125 
__šlše
 

1126 
	$m_g_š™
(
mbuf
 *
m
)

1129 
	`SLIST_INIT
(&
m
->
m_pkthdr
.
gs
);

1130 
	}
}

1138 
__šlše
 

1139 
	$m_g_£tup
(
m_g
 *
t
, 
u_št32_t
 
cook›
, 
ty³
, 
Ën
)

1142 
t
->
m_g_id
 = 
ty³
;

1143 
t
->
m_g_Ën
 = 
Ën
;

1144 
t
->
m_g_cook›
 = 
cook›
;

1145 
	}
}

1150 
__šlše
 

1151 
	$m_g_ä“
(
m_g
 *
t
)

1154 (*
t
->
m_g_ä“
)(t);

1155 
	}
}

1160 
__šlše
 
m_g
 *

1161 
	$m_g_fœ¡
(
mbuf
 *
m
)

1164  (
	`SLIST_FIRST
(&
m
->
m_pkthdr
.
gs
));

1165 
	}
}

1170 
__šlše
 
m_g
 *

1171 
	$m_g_Ãxt
(
mbuf
 *
m
 
__unu£d
, 
m_g
 *
t
)

1174  (
	`SLIST_NEXT
(
t
, 
m_g_lšk
));

1175 
	}
}

1180 
__šlše
 

1181 
	$m_g_´•’d
(
mbuf
 *
m
, 
m_g
 *
t
)

1184 
	`SLIST_INSERT_HEAD
(&
m
->
m_pkthdr
.
gs
, 
t
, 
m_g_lšk
);

1185 
	}
}

1190 
__šlše
 

1191 
	$m_g_uÆšk
(
mbuf
 *
m
, 
m_g
 *
t
)

1194 
	`SLIST_REMOVE
(&
m
->
m_pkthdr
.
gs
, 
t
, 
m_g
, 
m_g_lšk
);

1195 
	}
}

1198 
	#MTAG_ABI_COMPAT
 0

	)

1200 
__šlše
 
m_g
 *

1201 
	$m_g_g‘
(
ty³
, 
Ëngth
, 
wa™
)

1203  (
	`m_g_®loc
(
MTAG_ABI_COMPAT
, 
ty³
, 
Ëngth
, 
wa™
));

1204 
	}
}

1206 
__šlše
 
m_g
 *

1207 
	$m_g_fšd
(
mbuf
 *
m
, 
ty³
, 
m_g
 *
¡¬t
)

1209  (
	`SLIST_EMPTY
(&
m
->
m_pkthdr
.
gs
è? (
m_g
 *)
NULL
 :

1210 
	`m_g_loÿ‹
(
m
, 
MTAG_ABI_COMPAT
, 
ty³
, 
¡¬t
));

1211 
	}
}

1213 
__šlše
 
mbuf
 *

1214 
	$m_ä“
(
mbuf
 *
m
)

1216 
mbuf
 *
n
 = 
m
->
m_Ãxt
;

1218 
	`MBUF_PROBE1
(
m__ä“
, 
m
);

1219 ià((
m
->
m_æags
 & (
M_PKTHDR
|
M_NOFREE
)) == (M_PKTHDR|M_NOFREE))

1220 
	`m_g_d–‘e_chaš
(
m
, 
NULL
);

1221 ià(
m
->
m_æags
 & 
M_EXT
)

1222 
	`mb_ä“_ext
(
m
);

1223 ià((
m
->
m_æags
 & 
M_NOFREE
) == 0)

1224 
	`uma_zä“
(
zÚe_mbuf
, 
m
);

1225  (
n
);

1226 
	}
}

1228 
__šlše
 

1229 
	$¹_m_g‘fib
(
mbuf
 *
m
)

1231 
	`KASSERT
(
m
->
m_æags
 & 
M_PKTHDR
 , ("Attempto get FIB from‚on header mbuf."));

1232  (
m
->
m_pkthdr
.
fibnum
);

1233 
	}
}

1235 
	#M_GETFIB
(
_m
è
	`¹_m_g‘fib
(_m)

	)

1237 
	#M_SETFIB
(
_m
, 
_fib
) do { \

1238 
	`KASSERT
((
_m
)->
m_æags
 & 
M_PKTHDR
, ("Attempto set FIB on‚on header mbuf.")); \

1239 ((
_m
)->
m_pkthdr
.
fibnum
èð(
_fib
); \

1240 } 0)

	)

1243 
	#MBUF_HASHFLAG_L2
 (1 << 2)

	)

1244 
	#MBUF_HASHFLAG_L3
 (1 << 3)

	)

1245 
	#MBUF_HASHFLAG_L4
 (1 << 4)

	)

1248 
ušt32_t
 
m_‘h”_tý_hash_š™
();

1249 
ušt32_t
 
m_‘h”_tý_hash
(cÚ¡ ušt32_t, cÚ¡ 
mbuf
 *, const uint32_t);

1251 #ifdeà
MBUF_PROFILING


1252 
m_´ofže
(
mbuf
 *
m
);

1253 
	#M_PROFILE
(
m
è
	`m_´ofže
(m)

	)

1255 
	#M_PROFILE
(
m
)

	)

1258 
	smbufq
 {

1259 
STAILQ_HEAD
(, 
mbuf
è
	mmq_h—d
;

1260 
	mmq_Ën
;

1261 
	mmq_maxËn
;

1264 
šlše
 

1265 
	$mbufq_š™
(
mbufq
 *
mq
, 
maxËn
)

1268 
	`STAILQ_INIT
(&
mq
->
mq_h—d
);

1269 
mq
->
mq_maxËn
 = 
maxËn
;

1270 
mq
->
mq_Ën
 = 0;

1271 
	}
}

1273 
šlše
 
mbuf
 *

1274 
	$mbufq_æush
(
mbufq
 *
mq
)

1276 
mbuf
 *
m
;

1278 
m
 = 
	`STAILQ_FIRST
(&
mq
->
mq_h—d
);

1279 
	`STAILQ_INIT
(&
mq
->
mq_h—d
);

1280 
mq
->
mq_Ën
 = 0;

1281  (
m
);

1282 
	}
}

1284 
šlše
 

1285 
	$mbufq_d¿š
(
mbufq
 *
mq
)

1287 
mbuf
 *
m
, *
n
;

1289 
n
 = 
	`mbufq_æush
(
mq
);

1290 (
m
 = 
n
è!ð
NULL
) {

1291 
n
 = 
	`STAILQ_NEXT
(
m
, 
m_¡ažqpkt
);

1292 
	`m_ä“m
(
m
);

1294 
	}
}

1296 
šlše
 
mbuf
 *

1297 
	$mbufq_fœ¡
(cÚ¡ 
mbufq
 *
mq
)

1300  (
	`STAILQ_FIRST
(&
mq
->
mq_h—d
));

1301 
	}
}

1303 
šlše
 
mbuf
 *

1304 
	$mbufq_Ï¡
(cÚ¡ 
mbufq
 *
mq
)

1307  (
	`STAILQ_LAST
(&
mq
->
mq_h—d
, 
mbuf
, 
m_¡ažqpkt
));

1308 
	}
}

1310 
šlše
 

1311 
	$mbufq_fuÎ
(cÚ¡ 
mbufq
 *
mq
)

1314  (
mq
->
mq_Ën
 >ðmq->
mq_maxËn
);

1315 
	}
}

1317 
šlše
 

1318 
	$mbufq_Ën
(cÚ¡ 
mbufq
 *
mq
)

1321  (
mq
->
mq_Ën
);

1322 
	}
}

1324 
šlše
 

1325 
	$mbufq_’queue
(
mbufq
 *
mq
, 
mbuf
 *
m
)

1328 ià(
	`mbufq_fuÎ
(
mq
))

1329  (
ENOBUFS
);

1330 
	`STAILQ_INSERT_TAIL
(&
mq
->
mq_h—d
, 
m
, 
m_¡ažqpkt
);

1331 
mq
->
mq_Ën
++;

1333 
	}
}

1335 
šlše
 
mbuf
 *

1336 
	$mbufq_dequeue
(
mbufq
 *
mq
)

1338 
mbuf
 *
m
;

1340 
m
 = 
	`STAILQ_FIRST
(&
mq
->
mq_h—d
);

1341 ià(
m
) {

1342 
	`STAILQ_REMOVE_HEAD
(&
mq
->
mq_h—d
, 
m_¡ažqpkt
);

1343 
m
->
m_Ãxkt
 = 
NULL
;

1344 
mq
->
mq_Ën
--;

1346  (
m
);

1347 
	}
}

1349 
šlše
 

1350 
	$mbufq_´•’d
(
mbufq
 *
mq
, 
mbuf
 *
m
)

1353 
	`STAILQ_INSERT_HEAD
(&
mq
->
mq_h—d
, 
m
, 
m_¡ažqpkt
);

1354 
mq
->
mq_Ën
++;

1355 
	}
}

1360 
šlše
 

1361 
	$mbufq_cÚÿt
(
mbufq
 *
mq_d¡
, mbufq *
mq_¤c
)

1364 
mq_d¡
->
mq_Ën
 +ð
mq_¤c
->mq_len;

1365 
	`STAILQ_CONCAT
(&
mq_d¡
->
mq_h—d
, &
mq_¤c
->mq_head);

1366 
mq_¤c
->
mq_Ën
 = 0;

1367 
	}
}

1369 #ifdeà
_SYS_TIMESPEC_H_


1370 
šlše
 

1371 
	$mbuf_t¡mp2time¥ec
(
mbuf
 *
m
, 
time¥ec
 *
ts
)

1374 
	`KASSERT
((
m
->
m_æags
 & 
M_PKTHDR
) != 0, ("mbuf %p‚o M_PKTHDR", m));

1375 
	`KASSERT
((
m
->
m_æags
 & 
M_TSTMP
) != 0, ("mbuf %p‚o M_TSTMP", m));

1376 
ts
->
tv_£c
 = 
m
->
m_pkthdr
.
rcv_t¡mp
 / 1000000000;

1377 
ts
->
tv_n£c
 = 
m
->
m_pkthdr
.
rcv_t¡mp
 % 1000000000;

1378 
	}
}

1381 #ifdeà
NETDUMP


1383 
Ãtdump_mbuf_d¿š
();

1384 
Ãtdump_mbuf_dump
();

1385 
Ãtdump_mbuf_»š™
(
nmbuf
, 
nþu¡
, 
þsize
);

	@/usr/include/sys/osd.h

31 #iâdeà
_SYS_OSD_H_


32 
	#_SYS_OSD_H_


	)

34 
	~<sys/queue.h
>

41 
	sosd
 {

42 
u_št
 
	mosd_n¦Ùs
;

43 **
	mosd_¦Ùs
;

44 
LIST_ENTRY
(
osd
è
	mosd_Ãxt
;

47 #ifdeà
_KERNEL


49 
	#OSD_THREAD
 0

	)

50 
	#OSD_JAIL
 1

	)

51 
	#OSD_KHELP
 2

	)

53 
	#OSD_FIRST
 
OSD_THREAD


	)

54 
	#OSD_LAST
 
OSD_KHELP


	)

56 (*
	tosd_de¡ruùÜ_t
)(*
	tv®ue
);

57 (*
	tosd_m‘hod_t
)(*
	tobj
, *
	td©a
);

59 
	`osd_»gi¡”
(
u_št
 
ty³
, 
osd_de¡ruùÜ_t
 
de¡ruùÜ
,

60 
osd_m‘hod_t
 *
m‘hods
);

61 
	`osd_d”egi¡”
(
u_št
 
ty³
, u_šˆ
¦Ù
);

63 
	`osd_£t
(
u_št
 
ty³
, 
osd
 *osd, u_šˆ
¦Ù
, *
v®ue
);

64 **
	`osd_»£rve
(
u_št
 
¦Ù
);

65 
	`osd_£t_»£rved
(
u_št
 
ty³
, 
osd
 *osd, u_šˆ
¦Ù
, **
rsv
,

66 *
v®ue
);

67 
	`osd_ä“_»£rved
(**
rsv
);

68 *
	`osd_g‘
(
u_št
 
ty³
, 
osd
 *osd, u_šˆ
¦Ù
);

69 
	`osd_d–
(
u_št
 
ty³
, 
osd
 *osd, u_šˆ
¦Ù
);

70 
	`osd_ÿÎ
(
u_št
 
ty³
, u_šˆ
m‘hod
, *
obj
, *
d©a
);

72 
	`osd_ex™
(
u_št
 
ty³
, 
osd
 *osd);

74 
	#osd_th»ad_»gi¡”
(
de¡ruùÜ
) \

75 
	`osd_»gi¡”
(
OSD_THREAD
, (
de¡ruùÜ
), 
NULL
)

	)

76 
	#osd_th»ad_d”egi¡”
(
¦Ù
) \

77 
	`osd_d”egi¡”
(
OSD_THREAD
, (
¦Ù
))

	)

78 
	#osd_th»ad_£t
(
td
, 
¦Ù
, 
v®ue
) \

79 
	`osd_£t
(
OSD_THREAD
, &(
td
)->
td_osd
, (
¦Ù
), (
v®ue
))

	)

80 
	#osd_th»ad_£t_»£rved
(
td
, 
¦Ù
, 
rsv
, 
v®ue
) \

81 
	`osd_£t_»£rved
(
OSD_THREAD
, &(
td
)->
td_osd
, (
¦Ù
), (
rsv
), (
v®ue
))

	)

82 
	#osd_th»ad_g‘
(
td
, 
¦Ù
) \

83 
	`osd_g‘
(
OSD_THREAD
, &(
td
)->
td_osd
, (
¦Ù
))

	)

84 
	#osd_th»ad_d–
(
td
, 
¦Ù
) do { \

85 
	`KASSERT
((
td
è=ð
cu¹h»ad
, ("Not curthread.")); \

86 
	`osd_d–
(
OSD_THREAD
, &(
td
)->
td_osd
, (
¦Ù
)); \

87 
	}
} 0)

	)

88 
	#osd_th»ad_ÿÎ
(
td
, 
m‘hod
, 
d©a
) \

89 
	`osd_ÿÎ
(
OSD_THREAD
, (
m‘hod
), (
td
), (
d©a
))

	)

90 
	#osd_th»ad_ex™
(
td
) \

91 
	`osd_ex™
(
OSD_THREAD
, &(
td
)->
td_osd
)

	)

93 
	#osd_jaž_»gi¡”
(
de¡ruùÜ
, 
m‘hods
) \

94 
	`osd_»gi¡”
(
OSD_JAIL
, (
de¡ruùÜ
), (
m‘hods
))

	)

95 
	#osd_jaž_d”egi¡”
(
¦Ù
) \

96 
	`osd_d”egi¡”
(
OSD_JAIL
, (
¦Ù
))

	)

97 
	#osd_jaž_£t
(
´
, 
¦Ù
, 
v®ue
) \

98 
	`osd_£t
(
OSD_JAIL
, &(
´
)->
´_osd
, (
¦Ù
), (
v®ue
))

	)

99 
	#osd_jaž_£t_»£rved
(
´
, 
¦Ù
, 
rsv
, 
v®ue
) \

100 
	`osd_£t_»£rved
(
OSD_JAIL
, &(
´
)->
´_osd
, (
¦Ù
), (
rsv
), (
v®ue
))

	)

101 
	#osd_jaž_g‘
(
´
, 
¦Ù
) \

102 
	`osd_g‘
(
OSD_JAIL
, &(
´
)->
´_osd
, (
¦Ù
))

	)

103 
	#osd_jaž_d–
(
´
, 
¦Ù
) \

104 
	`osd_d–
(
OSD_JAIL
, &(
´
)->
´_osd
, (
¦Ù
))

	)

105 
	#osd_jaž_ÿÎ
(
´
, 
m‘hod
, 
d©a
) \

106 
	`osd_ÿÎ
(
OSD_JAIL
, (
m‘hod
), (
´
), (
d©a
))

	)

107 
	#osd_jaž_ex™
(
´
) \

108 
	`osd_ex™
(
OSD_JAIL
, &(
´
)->
´_osd
)

	)

	@/usr/include/sys/priority.h

36 #iâdeà
_SYS_PRIORITY_H_


37 
	#_SYS_PRIORITY_H_


	)

47 
	#PRI_ITHD
 1

	)

48 
	#PRI_REALTIME
 2

	)

49 
	#PRI_TIMESHARE
 3

	)

50 
	#PRI_IDLE
 4

	)

56 
	#PRI_FIFO_BIT
 8

	)

57 
	#PRI_FIFO
 (
PRI_FIFO_BIT
 | 
PRI_REALTIME
)

	)

59 
	#PRI_BASE
(
P
è((Pè& ~
PRI_FIFO_BIT
)

	)

60 
	#PRI_IS_REALTIME
(
P
è(
	`PRI_BASE
(Pè=ð
PRI_REALTIME
)

	)

61 
	#PRI_NEED_RR
(
P
è((Pè!ð
PRI_FIFO
)

	)

82 
	#PRI_MIN
 (0è

	)

83 
	#PRI_MAX
 (255è

	)

85 
	#PRI_MIN_ITHD
 (
PRI_MIN
)

	)

86 
	#PRI_MAX_ITHD
 (
PRI_MIN_REALTIME
 - 1)

	)

88 
	#PI_REALTIME
 (
PRI_MIN_ITHD
 + 0)

	)

89 
	#PI_AV
 (
PRI_MIN_ITHD
 + 4)

	)

90 
	#PI_NET
 (
PRI_MIN_ITHD
 + 8)

	)

91 
	#PI_DISK
 (
PRI_MIN_ITHD
 + 12)

	)

92 
	#PI_TTY
 (
PRI_MIN_ITHD
 + 16)

	)

93 
	#PI_DULL
 (
PRI_MIN_ITHD
 + 20)

	)

94 
	#PI_SOFT
 (
PRI_MIN_ITHD
 + 24)

	)

95 
	#PI_SWI
(
x
è(
PI_SOFT
 + (xè* 
RQ_PPQ
)

	)

97 
	#PRI_MIN_REALTIME
 (48)

	)

98 
	#PRI_MAX_REALTIME
 (
PRI_MIN_KERN
 - 1)

	)

100 
	#PRI_MIN_KERN
 (80)

	)

101 
	#PRI_MAX_KERN
 (
PRI_MIN_TIMESHARE
 - 1)

	)

103 
	#PSWP
 (
PRI_MIN_KERN
 + 0)

	)

104 
	#PVM
 (
PRI_MIN_KERN
 + 4)

	)

105 
	#PINOD
 (
PRI_MIN_KERN
 + 8)

	)

106 
	#PRIBIO
 (
PRI_MIN_KERN
 + 12)

	)

107 
	#PVFS
 (
PRI_MIN_KERN
 + 16)

	)

108 
	#PZERO
 (
PRI_MIN_KERN
 + 20)

	)

109 
	#PSOCK
 (
PRI_MIN_KERN
 + 24)

	)

110 
	#PWAIT
 (
PRI_MIN_KERN
 + 28)

	)

111 
	#PLOCK
 (
PRI_MIN_KERN
 + 32)

	)

112 
	#PPAUSE
 (
PRI_MIN_KERN
 + 36)

	)

114 
	#PRI_MIN_TIMESHARE
 (120)

	)

115 
	#PRI_MAX_TIMESHARE
 (
PRI_MIN_IDLE
 - 1)

	)

117 
	#PUSER
 (
PRI_MIN_TIMESHARE
)

	)

119 
	#PRI_MIN_IDLE
 (224)

	)

120 
	#PRI_MAX_IDLE
 (
PRI_MAX
)

	)

122 #ifdeà
_KERNEL


124 
	#PRI_USER
 -2

	)

125 
	#PRI_UNCHANGED
 -1

	)

128 
	s´iÜ™y
 {

129 
u_ch¬
 
	m´i_þass
;

130 
u_ch¬
 
	m´i_Ëv–
;

131 
u_ch¬
 
	m´i_Çtive
;

132 
u_ch¬
 
	m´i_u£r
;

	@/usr/include/sys/rangelock.h

31 #iâdef 
_SYS_RANGELOCK_H


32 
	#_SYS_RANGELOCK_H


	)

34 
	~<sys/queue.h
>

36 
	#RL_LOCK_READ
 0x0001

	)

37 
	#RL_LOCK_WRITE
 0x0002

	)

38 
	#RL_LOCK_TYPE_MASK
 0x0003

	)

39 
	#RL_LOCK_GRANTED
 0x0004

	)

41 
	g¾_q_’Œy
;

61 
	s¿ng–ock
 {

62 
TAILQ_HEAD
(, 
¾_q_’Œy
è
	m¾_wa™”s
;

63 
¾_q_’Œy
 *
	m¾_cu¼d•
;

66 #ifdeà
_KERNEL


68 
	gmtx
;

70 
¿ng–ock_š™
(
¿ng–ock
 *
lock
);

71 
¿ng–ock_de¡roy
(
¿ng–ock
 *
lock
);

72 
¿ng–ock_uÆock
(
¿ng–ock
 *
lock
, *
cook›
,

73 
mtx
 *
žk
);

74 *
¿ng–ock_uÆock_¿nge
(
¿ng–ock
 *
lock
, *
cook›
,

75 
off_t
 
¡¬t
, off_ˆ
’d
, 
mtx
 *
žk
);

76 *
¿ng–ock_¾ock
(
¿ng–ock
 *
lock
, 
off_t
 
¡¬t
, off_ˆ
’d
,

77 
mtx
 *
žk
);

78 *
¿ng–ock_wlock
(
¿ng–ock
 *
lock
, 
off_t
 
¡¬t
, off_ˆ
’d
,

79 
mtx
 *
žk
);

80 
¾q’Œy_ä“
(
¾_q_’Œy
 *
¾qe
);

	@/usr/include/sys/refcount.h

31 #iâdeà
__SYS_REFCOUNT_H__


32 
	#__SYS_REFCOUNT_H__


	)

34 
	~<sys/lim™s.h
>

35 
	~<machše/©omic.h
>

37 #ifdeà
_KERNEL


38 
	~<sys/sy¡m.h
>

40 
	#KASSERT
(
exp
, 
msg
è

	)

43 
__šlše
 

44 
	$»fcouÁ_š™
(vÞ©ž
u_št
 *
couÁ
, u_šˆ
v®ue
)

47 *
couÁ
 = 
v®ue
;

48 
	}
}

50 
__šlše
 

51 
	$»fcouÁ_acquœe
(vÞ©ž
u_št
 *
couÁ
)

54 
	`KASSERT
(*
couÁ
 < 
UINT_MAX
, ("refcount %p overflowed", count));

55 
	`©omic_add_št
(
couÁ
, 1);

56 
	}
}

58 
__šlše
 

59 
	$»fcouÁ_»Ëa£
(vÞ©ž
u_št
 *
couÁ
)

61 
u_št
 
Þd
;

63 
	`©omic_th»ad_ãnû_»l
();

64 
Þd
 = 
	`©omic_ãtchadd_št
(
couÁ
, -1);

65 
	`KASSERT
(
Þd
 > 0, ("»fcouÁ %°i z”o", 
couÁ
));

66 ià(
Þd
 > 1)

75 
	`©omic_th»ad_ãnû_acq
();

77 
	}
}

85 
__šlše
 
__»suÉ_u£_check
 

86 
	$»fcouÁ_acquœe_if_nÙ_z”o
(vÞ©ž
u_št
 *
couÁ
)

88 
u_št
 
Þd
;

90 
Þd
 = *
couÁ
;

92 
	`KASSERT
(
Þd
 < 
UINT_MAX
, ("»fcouÁ %°ov”æowed", 
couÁ
));

93 ià(
Þd
 == 0)

95 ià(
	`©omic_fcmp£t_št
(
couÁ
, &
Þd
, old + 1))

98 
	}
}

100 
__šlše
 
__»suÉ_u£_check
 

101 
	$»fcouÁ_»Ëa£_if_nÙ_Ï¡
(vÞ©ž
u_št
 *
couÁ
)

103 
u_št
 
Þd
;

105 
Þd
 = *
couÁ
;

107 
	`KASSERT
(
Þd
 > 0, ("»fcouÁ %°i z”o", 
couÁ
));

108 ià(
Þd
 == 1)

110 ià(
	`©omic_fcmp£t_št
(
couÁ
, &
Þd
, old - 1))

113 
	}
}

	@/usr/include/sys/resource.h

35 #iâdeà
_SYS_RESOURCE_H_


36 
	#_SYS_RESOURCE_H_


	)

38 
	~<sys/cdefs.h
>

39 
	~<sys/_timev®.h
>

40 
	~<sys/_ty³s.h
>

42 #iâdeà
_ID_T_DECLARED


43 
__id_t
 
	tid_t
;

44 
	#_ID_T_DECLARED


	)

47 #iâdeà
_RLIM_T_DECLARED


48 
__¾im_t
 
	t¾im_t
;

49 
	#_RLIM_T_DECLARED


	)

55 
	#PRIO_MIN
 -20

	)

56 
	#PRIO_MAX
 20

	)

58 
	#PRIO_PROCESS
 0

	)

59 
	#PRIO_PGRP
 1

	)

60 
	#PRIO_USER
 2

	)

69 
	#RUSAGE_SELF
 0

	)

70 
	#RUSAGE_CHILDREN
 -1

	)

71 
	#RUSAGE_THREAD
 1

	)

73 
	sru§ge
 {

74 
timev®
 
	mru_utime
;

75 
timev®
 
	mru_¡ime
;

76 
	mru_maxrss
;

77 
	#ru_fœ¡
 
ru_ixrss


	)

78 
	mru_ixrss
;

79 
	mru_idrss
;

80 
	mru_i¤ss
;

81 
	mru_mšæt
;

82 
	mru_majæt
;

83 
	mru_nsw­
;

84 
	mru_šblock
;

85 
	mru_oublock
;

86 
	mru_msg¢d
;

87 
	mru_msgrcv
;

88 
	mru_nsigÇls
;

89 
	mru_nvcsw
;

90 
	mru_nivcsw
;

91 
	#ru_Ï¡
 
ru_nivcsw


	)

94 #ià
__BSD_VISIBLE


95 
	s__wru§ge
 {

96 
ru§ge
 
	mwru_£lf
;

97 
ru§ge
 
	mwru_chžd»n
;

104 
	#RLIMIT_CPU
 0

	)

105 
	#RLIMIT_FSIZE
 1

	)

106 
	#RLIMIT_DATA
 2

	)

107 
	#RLIMIT_STACK
 3

	)

108 
	#RLIMIT_CORE
 4

	)

109 
	#RLIMIT_RSS
 5

	)

110 
	#RLIMIT_MEMLOCK
 6

	)

111 
	#RLIMIT_NPROC
 7

	)

112 
	#RLIMIT_NOFILE
 8

	)

113 
	#RLIMIT_SBSIZE
 9

	)

114 
	#RLIMIT_VMEM
 10

	)

115 
	#RLIMIT_AS
 
RLIMIT_VMEM


	)

116 
	#RLIMIT_NPTS
 11

	)

117 
	#RLIMIT_SWAP
 12

	)

118 
	#RLIMIT_KQUEUES
 13

	)

119 
	#RLIMIT_UMTXP
 14

	)

121 
	#RLIM_NLIMITS
 15

	)

123 
	#RLIM_INFINITY
 ((
¾im_t
)(((
__ušt64_t
)1 << 63è- 1))

	)

124 
	#RLIM_SAVED_MAX
 
RLIM_INFINITY


	)

125 
	#RLIM_SAVED_CUR
 
RLIM_INFINITY


	)

131 #ifdeà
_RLIMIT_IDENT


132 cÚ¡ *
	g¾im™_id’t
[
RLIM_NLIMITS
] = {

151 
	s¾im™
 {

152 
¾im_t
 
	m¾im_cur
;

153 
¾im_t
 
	m¾im_max
;

156 #ià
__BSD_VISIBLE


158 
	sÜlim™
 {

159 
__št32_t
 
	m¾im_cur
;

160 
__št32_t
 
	m¾im_max
;

163 
	slßdavg
 {

164 
__fix±_t
 
	mldavg
[3];

165 
	mfsÿË
;

168 
	#CP_USER
 0

	)

169 
	#CP_NICE
 1

	)

170 
	#CP_SYS
 2

	)

171 
	#CP_INTR
 3

	)

172 
	#CP_IDLE
 4

	)

173 
	#CPUSTATES
 5

	)

177 #ifdeà
_KERNEL


179 
lßdavg
 
av”uÂabË
;

180 
»ad_ýu_time
(*
ý_time
);

184 
__BEGIN_DECLS


186 
g‘´iÜ™y
(, );

187 
g‘¾im™
(, 
¾im™
 *);

188 
g‘ru§ge
(, 
ru§ge
 *);

189 
£riÜ™y
(, , );

190 
£Œlim™
(, cÚ¡ 
¾im™
 *);

191 
	g__END_DECLS


	@/usr/include/sys/rtprio.h

36 #iâdeà
_SYS_RTPRIO_H_


37 
	#_SYS_RTPRIO_H_


	)

39 
	~<sys/´iÜ™y.h
>

47 
	#RTP_PRIO_REALTIME
 
PRI_REALTIME


	)

48 
	#RTP_PRIO_NORMAL
 
PRI_TIMESHARE


	)

49 
	#RTP_PRIO_IDLE
 
PRI_IDLE


	)

54 
	#RTP_PRIO_FIFO_BIT
 
PRI_FIFO_BIT


	)

55 
	#RTP_PRIO_FIFO
 
PRI_FIFO


	)

56 
	#RTP_PRIO_BASE
(
P
è
	`PRI_BASE
(P)

	)

57 
	#RTP_PRIO_IS_REALTIME
(
P
è
	`PRI_IS_REALTIME
(P)

	)

58 
	#RTP_PRIO_NEED_RR
(
P
è
	`PRI_NEED_RR
(P)

	)

61 
	#RTP_PRIO_MIN
 0

	)

62 
	#RTP_PRIO_MAX
 31

	)

67 
	#RTP_LOOKUP
 0

	)

68 
	#RTP_SET
 1

	)

70 #iâdeà
LOCORE


74 
	s¹´io
 {

75 
u_shÜt
 
	mty³
;

76 
u_shÜt
 
	m´io
;

79 #ifdeà
_KERNEL


80 
	gth»ad
;

81 
¹p_to_´i
(
¹´io
 *, 
th»ad
 *);

82 
´i_to_¹p
(
th»ad
 *, 
¹´io
 *);

86 #iâdeà
_KERNEL


87 
	~<sys/cdefs.h
>

89 
__BEGIN_DECLS


90 
¹´io
(, 
pid_t
, rtprio *);

91 
¹´io_th»ad
(, 
lwpid_t
, 
¹´io
 *);

92 
	g__END_DECLS


	@/usr/include/sys/runq.h

31 #iâdef 
_RUNQ_H_


32 
	#_RUNQ_H_


	)

34 
	~<machše/runq.h
>

36 
	gth»ad
;

42 
	#RQ_NQS
 (64è

	)

43 
	#RQ_PPQ
 (4è

	)

48 
TAILQ_HEAD
(
rqh—d
, 
th»ad
);

54 
	srqb™s
 {

55 
rqb_wÜd_t
 
	mrqb_b™s
[
RQB_LEN
];

62 
	srunq
 {

63 
rqb™s
 
	mrq_¡©us
;

64 
rqh—d
 
	mrq_queues
[
RQ_NQS
];

67 
runq_add
(
runq
 *, 
th»ad
 *, );

68 
runq_add_´i
(
runq
 *, 
th»ad
 *, 
u_ch¬
, );

69 
runq_check
(
runq
 *);

70 
th»ad
 *
runq_choo£
(
runq
 *);

71 
th»ad
 *
runq_choo£_äom
(
runq
 *, 
u_ch¬
);

72 
th»ad
 *
runq_choo£_fuzz
(
runq
 *, );

73 
runq_š™
(
runq
 *);

74 
runq_»move
(
runq
 *, 
th»ad
 *);

75 
runq_»move_idx
(
runq
 *, 
th»ad
 *, 
u_ch¬
 *);

	@/usr/include/sys/select.h

34 #iâdeà
_SYS_SELECT_H_


35 
	#_SYS_SELECT_H_


	)

37 
	~<sys/cdefs.h
>

38 
	~<sys/_ty³s.h
>

40 
	~<sys/_sig£t.h
>

41 
	~<sys/_timev®.h
>

42 
	~<sys/time¥ec.h
>

44 
	t__fd_mask
;

45 #ià
__BSD_VISIBLE


46 
__fd_mask
 
	tfd_mask
;

49 #iâdeà
_SIGSET_T_DECLARED


50 
	#_SIGSET_T_DECLARED


	)

51 
__sig£t_t
 
	tsig£t_t
;

60 #iâdef 
FD_SETSIZE


61 
	#FD_SETSIZE
 1024

	)

64 
	#_NFDBITS
 ((
__fd_mask
è* 8è

	)

65 #ià
__BSD_VISIBLE


66 
	#NFDBITS
 
_NFDBITS


	)

69 #iâdeà
_howmªy


70 
	#_howmªy
(
x
, 
y
è(((xè+ ((yè- 1)è/ (y))

	)

73 
	sfd_£t
 {

74 
__fd_mask
 
	m__fds_b™s
[
_howmªy
(
FD_SETSIZE
, 
_NFDBITS
)];

75 } 
	tfd_£t
;

76 #ià
__BSD_VISIBLE


77 
	#fds_b™s
 
__fds_b™s


	)

80 
	#__fd£t_mask
(
n
è((
__fd_mask
)1 << (Òè% 
_NFDBITS
))

	)

81 
	#FD_CLR
(
n
, 
p
è(Õ)->
__fds_b™s
[Ò)/
_NFDBITS
] &ð~
	`__fd£t_mask
Ò))

	)

82 #ià
__BSD_VISIBLE


83 
	#FD_COPY
(
f
, 
t
è()(*Ñèð*(f))

	)

85 
	#FD_ISSET
(
n
, 
p
è((Õ)->
__fds_b™s
[Ò)/
_NFDBITS
] & 
	`__fd£t_mask
Ò)è!ð0)

	)

86 
	#FD_SET
(
n
, 
p
è(Õ)->
__fds_b™s
[Ò)/
_NFDBITS
] |ð
	`__fd£t_mask
Ò))

	)

87 
	#FD_ZERO
(
p
) do { \

88 
fd_£t
 *
_p
; \

89 
__size_t
 
_n
; \

91 
_p
 = (
p
); \

92 
_n
 = 
	`_howmªy
(
FD_SETSIZE
, 
_NFDBITS
); \

93 
_n
 > 0) \

94 
_p
->
__fds_b™s
[--
_n
] = 0; \

95 } 0)

	)

97 #iâdeà
_KERNEL


99 
__BEGIN_DECLS


100 
p£Ëù
(, 
fd_£t
 *
__»¡riù
, fd_set *__restrict, fd_set *__restrict,

101 cÚ¡ 
time¥ec
 *
__»¡riù
, cÚ¡ 
sig£t_t
 *__restrict);

102 #iâdeà
_SELECT_DECLARED


103 
	#_SELECT_DECLARED


	)

105 
£Ëù
(, 
fd_£t
 *, fd_£ˆ*, fd_£ˆ*, 
timev®
 *);

107 
	g__END_DECLS


	@/usr/include/sys/seq.h

28 #iâdeà
_SYS_SEQ_H_


29 
	#_SYS_SEQ_H_


	)

31 #ifdeà
_KERNEL


32 
	~<sys/sy¡m.h
>

34 
	~<sys/ty³s.h
>

39 
ušt32_t
 
	t£q_t
;

41 #ifdeà
_KERNEL


93 
	~<sys/lock.h
>

95 
	~<machše/ýu.h
>

97 
__šlše
 
boÞ


98 
	$£q_š_modify
(
£q_t
 
£qp
)

101  (
£qp
 & 1);

102 
	}
}

104 
__šlše
 

105 
	$£q_wr™e_begš
(
£q_t
 *
£qp
)

108 
	`ü™iÿl_’‹r
();

109 
	`MPASS
(!
	`£q_š_modify
(*
£qp
));

110 *
£qp
 += 1;

111 
	`©omic_th»ad_ãnû_»l
();

112 
	}
}

114 
__šlše
 

115 
	$£q_wr™e_’d
(
£q_t
 *
£qp
)

118 
	`©omic_¡Üe_»l_št
(
£qp
, *seqp + 1);

119 
	`MPASS
(!
	`£q_š_modify
(*
£qp
));

120 
	`ü™iÿl_ex™
();

121 
	}
}

123 
__šlše
 
£q_t


124 
	$£q_»ad
(cÚ¡ 
£q_t
 *
£qp
)

126 
£q_t
 
»t
;

129 
»t
 = 
	`©omic_lßd_acq_št
(
	`__DECONST
(
£q_t
 *, 
£qp
));

130 ià(
	`£q_š_modify
(
»t
)) {

131 
	`ýu_¥šwa™
();

137  (
»t
);

138 
	}
}

140 
__šlše
 
£q_t


141 
	$£q_cÚsi¡’t_nomb
(cÚ¡ 
£q_t
 *
£qp
, seq_ˆ
Þd£q
)

144  (*
£qp
 =ð
Þd£q
);

145 
	}
}

147 
__šlše
 
£q_t


148 
	$£q_cÚsi¡’t
(cÚ¡ 
£q_t
 *
£qp
, seq_ˆ
Þd£q
)

151 
	`©omic_th»ad_ãnû_acq
();

152  (
	`£q_cÚsi¡’t_nomb
(
£qp
, 
Þd£q
));

153 
	}
}

	@/usr/include/sys/sigio.h

35 #iâdeà
_SYS_SIGIO_H_


36 
	#_SYS_SIGIO_H_


	)

48 
	ssigio
 {

50 
´oc
 *
	msiu_´oc
;

51 
pg½
 *
	msiu_pg½
;

52 } 
	msio_u
;

53 
SLIST_ENTRY
(
sigio
è
	msio_pgsigio
;

54 
sigio
 **
	msio_my»f
;

56 
uüed
 *
	msio_uüed
;

57 
pid_t
 
	msio_pgid
;

59 
	#sio_´oc
 
sio_u
.
siu_´oc


	)

60 
	#sio_pg½
 
sio_u
.
siu_pg½


	)

62 
SLIST_HEAD
(
sigiÞ¡
, 
sigio
);

64 
pid_t
 
fg‘own
(
sigio
 **
sigiÝ
);

65 
f£town
(
pid_t
 
pgid
, 
sigio
 **
sigiÝ
);

66 
fun£town
(
sigio
 **
sigiÝ
);

67 
fun£towÆ¡
(
sigiÞ¡
 *sigiolst);

	@/usr/include/sys/signal.h

40 #iâdeà
_SYS_SIGNAL_H_


41 
	#_SYS_SIGNAL_H_


	)

43 
	~<sys/cdefs.h
>

44 
	~<sys/_ty³s.h
>

45 
	~<sys/_sig£t.h
>

47 
	~<machše/_lim™s.h
>

48 
	~<machše/sigÇl.h
>

50 #ià
__POSIX_VISIBLE
 >= 200809

52 
	~<sys/_±h»adty³s.h
>

53 
	~<sys/_time¥ec.h
>

55 #iâdeà
_SIZE_T_DECLARED


56 
__size_t
 
	tsize_t
;

57 
	#_SIZE_T_DECLARED


	)

60 #iâdeà
_UID_T_DECLARED


61 
__uid_t
 
	tuid_t
;

62 
	#_UID_T_DECLARED


	)

70 #ià
__POSIX_VISIBLE
 || 
__XSI_VISIBLE


71 
	#SIGHUP
 1

	)

73 
	#SIGINT
 2

	)

74 #ià
__POSIX_VISIBLE
 || 
__XSI_VISIBLE


75 
	#SIGQUIT
 3

	)

77 
	#SIGILL
 4

	)

78 #ià
__XSI_VISIBLE


79 
	#SIGTRAP
 5

	)

81 
	#SIGABRT
 6

	)

82 #ià
__BSD_VISIBLE


83 
	#SIGIOT
 
SIGABRT


	)

84 
	#SIGEMT
 7

	)

86 
	#SIGFPE
 8

	)

87 #ià
__POSIX_VISIBLE
 || 
__XSI_VISIBLE


88 
	#SIGKILL
 9

	)

90 #ià
__POSIX_VISIBLE
 >ð200112 || 
__XSI_VISIBLE


91 
	#SIGBUS
 10

	)

93 
	#SIGSEGV
 11

	)

94 #ià
__POSIX_VISIBLE
 >ð200112 || 
__XSI_VISIBLE


95 
	#SIGSYS
 12

	)

97 #ià
__POSIX_VISIBLE
 || 
__XSI_VISIBLE


98 
	#SIGPIPE
 13

	)

99 
	#SIGALRM
 14

	)

101 
	#SIGTERM
 15

	)

102 #ià
__POSIX_VISIBLE
 >ð200112 || 
__XSI_VISIBLE


103 
	#SIGURG
 16

	)

105 #ià
__POSIX_VISIBLE
 || 
__XSI_VISIBLE


106 
	#SIGSTOP
 17

	)

107 
	#SIGTSTP
 18

	)

108 
	#SIGCONT
 19

	)

109 
	#SIGCHLD
 20

	)

110 
	#SIGTTIN
 21

	)

111 
	#SIGTTOU
 22

	)

113 #ià
__BSD_VISIBLE


114 
	#SIGIO
 23

	)

116 #ià
__XSI_VISIBLE


117 
	#SIGXCPU
 24

	)

118 
	#SIGXFSZ
 25

	)

119 
	#SIGVTALRM
 26

	)

120 
	#SIGPROF
 27

	)

122 #ià
__BSD_VISIBLE


123 
	#SIGWINCH
 28

	)

124 
	#SIGINFO
 29

	)

126 #ià
__POSIX_VISIBLE
 || 
__XSI_VISIBLE


127 
	#SIGUSR1
 30

	)

128 
	#SIGUSR2
 31

	)

130 #ià
__BSD_VISIBLE


131 
	#SIGTHR
 32

	)

132 
	#SIGLWP
 
SIGTHR


	)

133 
	#SIGLIBRT
 33

	)

136 
	#SIGRTMIN
 65

	)

137 
	#SIGRTMAX
 126

	)

139 
	#SIG_DFL
 ((
__sighªdËr_t
 *)0)

	)

140 
	#SIG_IGN
 ((
__sighªdËr_t
 *)1)

	)

141 
	#SIG_ERR
 ((
__sighªdËr_t
 *)-1)

	)

143 
	#SIG_HOLD
 ((
__sighªdËr_t
 *)3)

	)

161 
	t__sighªdËr_t
();

163 #ià
__POSIX_VISIBLE
 || 
__XSI_VISIBLE


164 #iâdeà
_SIGSET_T_DECLARED


165 
	#_SIGSET_T_DECLARED


	)

166 
__sig£t_t
 
	tsig£t_t
;

170 #ià
__POSIX_VISIBLE
 >ð199309 || 
__XSI_VISIBLE
 >= 500

171 
	usigv®
 {

173 
	msiv®_št
;

174 *
	msiv®_±r
;

176 
	msigv®_št
;

177 *
	msigv®_±r
;

180 #ià
defšed
(
_WANT_LWPINFO32
è|| (defšed(
_KERNEL
è&& defšed(
__LP64__
))

181 
	usigv®32
 {

182 
	msiv®_št
;

183 
ušt32_t
 
	msiv®_±r
;

185 
	msigv®_št
;

186 
ušt32_t
 
	msigv®_±r
;

191 #ià
__POSIX_VISIBLE
 >= 199309

193 
	g±h»ad_©Œ
;

195 
	ssigev’t
 {

196 
	msigev_nÙify
;

197 
	msigev_signo
;

198 
sigv®
 
	msigev_v®ue
;

200 
__lwpid_t
 
	m_th»adid
;

202 (*
	m_funùiÚ
)(
	msigv®
);

203 
±h»ad_©Œ
 **
	m_©Œibu‹
;

204 } 
	m_sigev_th»ad
;

205 
	m_kev’t_æags
;

206 
	m__¥¬e__
[8];

207 } 
	m_sigev_un
;

210 #ià
__BSD_VISIBLE


211 
	#sigev_nÙify_kqueue
 
sigev_signo


	)

212 
	#sigev_nÙify_kev’t_æags
 
_sigev_un
.
_kev’t_æags


	)

213 
	#sigev_nÙify_th»ad_id
 
_sigev_un
.
_th»adid


	)

215 
	#sigev_nÙify_funùiÚ
 
_sigev_un
.
_sigev_th»ad
.
_funùiÚ


	)

216 
	#sigev_nÙify_©Œibu‹s
 
_sigev_un
.
_sigev_th»ad
.
_©Œibu‹


	)

218 
	#SIGEV_NONE
 0

	)

219 
	#SIGEV_SIGNAL
 1

	)

220 
	#SIGEV_THREAD
 2

	)

221 #ià
__BSD_VISIBLE


222 
	#SIGEV_KEVENT
 3

	)

223 
	#SIGEV_THREAD_ID
 4

	)

228 #ià
__POSIX_VISIBLE
 >ð199309 || 
__XSI_VISIBLE


229 
	s__sigšfo
 {

230 
	msi_signo
;

231 
	msi_”ºo
;

238 
	msi_code
;

239 
__pid_t
 
	msi_pid
;

240 
__uid_t
 
	msi_uid
;

241 
	msi_¡©us
;

242 *
	msi_addr
;

243 
sigv®
 
	msi_v®ue
;

246 
	m_Œ­no
;

247 } 
	m_çuÉ
;

249 
	m_tim”id
;

250 
	m_ov”run
;

251 } 
	m_tim”
;

253 
	m_mqd
;

254 } 
	m_mesgq
;

256 
	m_bªd
;

257 } 
	m_pÞl
;

259 
	m__¥¬e1__
;

260 
	m__¥¬e2__
[7];

261 } 
	m__¥¬e__
;

262 } 
	m_»asÚ
;

263 } 
	tsigšfo_t
;

265 
	#si_Œ­no
 
_»asÚ
.
_çuÉ
.
_Œ­no


	)

266 
	#si_tim”id
 
_»asÚ
.
_tim”
.
_tim”id


	)

267 
	#si_ov”run
 
_»asÚ
.
_tim”
.
_ov”run


	)

268 
	#si_mqd
 
_»asÚ
.
_mesgq
.
_mqd


	)

269 
	#si_bªd
 
_»asÚ
.
_pÞl
.
_bªd


	)

271 #ià
defšed
(
_WANT_LWPINFO32
è|| (defšed(
_KERNEL
è&& defšed(
__LP64__
))

272 
	ssigšfo32
 {

273 
	msi_signo
;

274 
	msi_”ºo
;

275 
	msi_code
;

276 
__pid_t
 
	msi_pid
;

277 
__uid_t
 
	msi_uid
;

278 
	msi_¡©us
;

279 
ušt32_t
 
	msi_addr
;

280 
sigv®32
 
	msi_v®ue
;

283 
	m_Œ­no
;

284 } 
	m_çuÉ
;

286 
	m_tim”id
;

287 
	m_ov”run
;

288 } 
	m_tim”
;

290 
	m_mqd
;

291 } 
	m_mesgq
;

293 
št32_t
 
	m_bªd
;

294 } 
	m_pÞl
;

296 
št32_t
 
	m__¥¬e1__
;

297 
	m__¥¬e2__
[7];

298 } 
	m__¥¬e__
;

299 } 
	m_»asÚ
;

305 
	#ILL_ILLOPC
 1

	)

306 
	#ILL_ILLOPN
 2

	)

307 
	#ILL_ILLADR
 3

	)

308 
	#ILL_ILLTRP
 4

	)

309 
	#ILL_PRVOPC
 5

	)

310 
	#ILL_PRVREG
 6

	)

311 
	#ILL_COPROC
 7

	)

312 
	#ILL_BADSTK
 8

	)

315 
	#BUS_ADRALN
 1

	)

316 
	#BUS_ADRERR
 2

	)

317 
	#BUS_OBJERR
 3

	)

320 
	#SEGV_MAPERR
 1

	)

321 
	#SEGV_ACCERR
 2

	)

325 
	#FPE_INTOVF
 1

	)

326 
	#FPE_INTDIV
 2

	)

327 
	#FPE_FLTDIV
 3

	)

328 
	#FPE_FLTOVF
 4

	)

329 
	#FPE_FLTUND
 5

	)

330 
	#FPE_FLTRES
 6

	)

331 
	#FPE_FLTINV
 7

	)

332 
	#FPE_FLTSUB
 8

	)

335 
	#TRAP_BRKPT
 1

	)

336 
	#TRAP_TRACE
 2

	)

337 
	#TRAP_DTRACE
 3

	)

338 
	#TRAP_CAP
 4

	)

341 
	#CLD_EXITED
 1

	)

342 
	#CLD_KILLED
 2

	)

344 
	#CLD_DUMPED
 3

	)

346 
	#CLD_TRAPPED
 4

	)

347 
	#CLD_STOPPED
 5

	)

348 
	#CLD_CONTINUED
 6

	)

351 
	#POLL_IN
 1

	)

352 
	#POLL_OUT
 2

	)

353 
	#POLL_MSG
 3

	)

354 
	#POLL_ERR
 4

	)

355 
	#POLL_PRI
 5

	)

356 
	#POLL_HUP
 6

	)

360 #ià
__POSIX_VISIBLE
 || 
__XSI_VISIBLE


361 
	g__sigšfo
;

366 
	ssigaùiÚ
 {

368 (*
	m__§_hªdËr
)();

369 (*
	m__§_sigaùiÚ
)(, 
	m__sigšfo
 *, *);

370 } 
	m__sigaùiÚ_u
;

371 
	m§_æags
;

372 
sig£t_t
 
	m§_mask
;

375 
	#§_hªdËr
 
__sigaùiÚ_u
.
__§_hªdËr


	)

378 #ià
__XSI_VISIBLE


380 
	#§_sigaùiÚ
 
__sigaùiÚ_u
.
__§_sigaùiÚ


	)

383 #ià
__POSIX_VISIBLE
 || 
__XSI_VISIBLE


384 
	#SA_NOCLDSTOP
 0x0008

	)

387 #ià
__XSI_VISIBLE


388 
	#SA_ONSTACK
 0x0001

	)

389 
	#SA_RESTART
 0x0002

	)

390 
	#SA_RESETHAND
 0x0004

	)

391 
	#SA_NODEFER
 0x0010

	)

392 
	#SA_NOCLDWAIT
 0x0020

	)

393 
	#SA_SIGINFO
 0x0040

	)

396 #ià
__BSD_VISIBLE


397 
	#NSIG
 32

	)

400 #ià
__POSIX_VISIBLE
 || 
__XSI_VISIBLE


401 
	#SI_NOINFO
 0

	)

402 
	#SI_USER
 0x10001

	)

403 
	#SI_QUEUE
 0x10002

	)

404 
	#SI_TIMER
 0x10003

	)

406 
	#SI_ASYNCIO
 0x10004

	)

408 
	#SI_MESGQ
 0x10005

	)

410 
	#SI_KERNEL
 0x10006

	)

411 
	#SI_LWP
 0x10007

	)

413 #ià
__BSD_VISIBLE


414 
	#SI_UNDEFINED
 0

	)

417 #ià
__BSD_VISIBLE


418 
__sighªdËr_t
 *
	tsig_t
;

419 
	t__sigšfohªdËr_t
(, 
	t__sigšfo
 *, *);

422 #ià
__XSI_VISIBLE


423 #ià
__BSD_VISIBLE


424 
	#__¡ack_t
 
sig®t¡ack


	)

426 
__¡ack_t
 
	t¡ack_t
;

428 
	#SS_ONSTACK
 0x0001

	)

429 
	#SS_DISABLE
 0x0004

	)

430 
	#MINSIGSTKSZ
 
__MINSIGSTKSZ


	)

431 
	#SIGSTKSZ
 (
MINSIGSTKSZ
 + 32768è

	)

439 
	s__¡ack_t
 {

440 *
	mss_¥
;

441 
__size_t
 
	mss_size
;

442 
	mss_æags
;

445 #ià
__BSD_VISIBLE


450 
	ssigvec
 {

451 
__sighªdËr_t
 *
	msv_hªdËr
;

452 
	msv_mask
;

453 
	msv_æags
;

456 
	#SV_ONSTACK
 
SA_ONSTACK


	)

457 
	#SV_INTERRUPT
 
SA_RESTART


	)

458 
	#SV_RESETHAND
 
SA_RESETHAND


	)

459 
	#SV_NODEFER
 
SA_NODEFER


	)

460 
	#SV_NOCLDSTOP
 
SA_NOCLDSTOP


	)

461 
	#SV_SIGINFO
 
SA_SIGINFO


	)

462 
	#sv_Ú¡ack
 
sv_æags


	)

466 #ià
defšed
(
_KERNEL
è&& defšed(
COMPAT_43
) && \

467 !
	$defšed
(
__i386__
)

468 
	sosigcÚ‹xt
 {

469 
_nÙ_u£d
;

473 #ià
__XSI_VISIBLE


477 
	ssig¡ack
 {

478 *
ss_¥
;

479 
ss_Ú¡ack
;

483 #ià
__BSD_VISIBLE
 || 
__POSIX_VISIBLE
 > 0 && __POSIX_VISIBLE <= 200112

488 
	#sigmask
(
m
è(1 << ((m)-1))

	)

491 #ià
__BSD_VISIBLE


492 
	#BADSIG
 
SIG_ERR


	)

495 #ià
__POSIX_VISIBLE
 || 
__XSI_VISIBLE


499 
	#SIG_BLOCK
 1

	)

500 
	#SIG_UNBLOCK
 2

	)

501 
	#SIG_SETMASK
 3

	)

508 
__BEGIN_DECLS


509 
__sighªdËr_t
 *
	`sigÇl
(, __sighandler_t *);

510 
__END_DECLS


	@/usr/include/sys/stdint.h

31 #iâdeà
_SYS_STDINT_H_


32 
	#_SYS_STDINT_H_


	)

34 
	~<sys/cdefs.h
>

35 
	~<sys/_ty³s.h
>

37 
	~<machše/_¡dšt.h
>

38 
	~<sys/_¡dšt.h
>

40 
__št_Ëa¡8_t
 
	tšt_Ëa¡8_t
;

41 
__št_Ëa¡16_t
 
	tšt_Ëa¡16_t
;

42 
__št_Ëa¡32_t
 
	tšt_Ëa¡32_t
;

43 
__št_Ëa¡64_t
 
	tšt_Ëa¡64_t
;

45 
__ušt_Ëa¡8_t
 
	tušt_Ëa¡8_t
;

46 
__ušt_Ëa¡16_t
 
	tušt_Ëa¡16_t
;

47 
__ušt_Ëa¡32_t
 
	tušt_Ëa¡32_t
;

48 
__ušt_Ëa¡64_t
 
	tušt_Ëa¡64_t
;

50 
__št_ç¡8_t
 
	tšt_ç¡8_t
;

51 
__št_ç¡16_t
 
	tšt_ç¡16_t
;

52 
__št_ç¡32_t
 
	tšt_ç¡32_t
;

53 
__št_ç¡64_t
 
	tšt_ç¡64_t
;

55 
__ušt_ç¡8_t
 
	tušt_ç¡8_t
;

56 
__ušt_ç¡16_t
 
	tušt_ç¡16_t
;

57 
__ušt_ç¡32_t
 
	tušt_ç¡32_t
;

58 
__ušt_ç¡64_t
 
	tušt_ç¡64_t
;

61 #ià
defšed
(
UINTPTR_MAX
è&& defšed(
UINT64_MAX
) && (UINTPTR_MAX == UINT64_MAX)

62 
	#__WORDSIZE
 64

	)

64 
	#__WORDSIZE
 32

	)

68 
	#WCHAR_MIN
 
__WCHAR_MIN


	)

69 
	#WCHAR_MAX
 
__WCHAR_MAX


	)

71 #ià
__EXT1_VISIBLE


73 #iâdeà
RSIZE_MAX


74 
	#RSIZE_MAX
 (
SIZE_MAX
 >> 1)

	)

	@/usr/include/sys/syslimits.h

35 #iâdeà
_SYS_SYSLIMITS_H_


36 
	#_SYS_SYSLIMITS_H_


	)

38 #ià!
defšed
(
_STANDALONE
è&& !defšed(
_KERNEL
è&& !defšed(
_LIMITS_H_
è&& !defšed(
_SYS_PARAM_H_
)

39 #iâdeà
_SYS_CDEFS_H_


40 #”rÜ 
this
 
fže
 
Ãeds
 
sys
/
cdefs
.
h
 
as
 
a
 
´”equis™e


42 #ifdeà
__CC_SUPPORTS_WARNING


51 
	#ARG_MAX
 262144

	)

52 #iâdeà
CHILD_MAX


53 
	#CHILD_MAX
 40

	)

55 
	#MAX_CANON
 255

	)

56 
	#MAX_INPUT
 255

	)

57 
	#NAME_MAX
 255

	)

58 #iâdeà
NGROUPS_MAX


59 
	#NGROUPS_MAX
 1023

	)

61 #iâdeà
OPEN_MAX


62 
	#OPEN_MAX
 64

	)

64 
	#PATH_MAX
 1024

	)

65 
	#PIPE_BUF
 512

	)

66 
	#IOV_MAX
 1024

	)

	@/usr/include/sys/time.h

35 #iâdeà
_SYS_TIME_H_


36 
	#_SYS_TIME_H_


	)

38 
	~<sys/_timev®.h
>

39 
	~<sys/ty³s.h
>

40 
	~<sys/time¥ec.h
>

42 
	stimezÚe
 {

43 
	mtz_mšu‹swe¡
;

44 
	mtz_d¡time
;

46 
	#DST_NONE
 0

	)

47 
	#DST_USA
 1

	)

48 
	#DST_AUST
 2

	)

49 
	#DST_WET
 3

	)

50 
	#DST_MET
 4

	)

51 
	#DST_EET
 5

	)

52 
	#DST_CAN
 6

	)

54 #ià
__BSD_VISIBLE


55 
	sbštime
 {

56 
time_t
 
	m£c
;

57 
ušt64_t
 
	mäac
;

60 
__šlše
 

61 
	$bštime_addx
(
bštime
 *
_bt
, 
ušt64_t
 
_x
)

63 
ušt64_t
 
_u
;

65 
_u
 = 
_bt
->
äac
;

66 
_bt
->
äac
 +ð
_x
;

67 ià(
_u
 > 
_bt
->
äac
)

68 
_bt
->
£c
++;

69 
	}
}

71 
__šlše
 

72 
	$bštime_add
(
bštime
 *
_bt
, cÚ¡ bštim*
_bt2
)

74 
ušt64_t
 
_u
;

76 
_u
 = 
_bt
->
äac
;

77 
_bt
->
äac
 +ð
_bt2
->frac;

78 ià(
_u
 > 
_bt
->
äac
)

79 
_bt
->
£c
++;

80 
_bt
->
£c
 +ð
_bt2
->sec;

81 
	}
}

83 
__šlše
 

84 
	$bštime_sub
(
bštime
 *
_bt
, cÚ¡ bštim*
_bt2
)

86 
ušt64_t
 
_u
;

88 
_u
 = 
_bt
->
äac
;

89 
_bt
->
äac
 -ð
_bt2
->frac;

90 ià(
_u
 < 
_bt
->
äac
)

91 
_bt
->
£c
--;

92 
_bt
->
£c
 -ð
_bt2
->sec;

93 
	}
}

95 
__šlše
 

96 
	$bštime_mul
(
bštime
 *
_bt
, 
u_št
 
_x
)

98 
ušt64_t
 
_p1
, 
_p2
;

100 
_p1
 = (
_bt
->
äac
 & 0xffffffffuÎè* 
_x
;

101 
_p2
 = (
_bt
->
äac
 >> 32è* 
_x
 + (
_p1
 >> 32);

102 
_bt
->
£c
 *ð
_x
;

103 
_bt
->
£c
 +ð(
_p2
 >> 32);

104 
_bt
->
äac
 = (
_p2
 << 32è| (
_p1
 & 0xffffffffull);

105 
	}
}

107 
__šlše
 

108 
	$bštime_shiá
(
bštime
 *
_bt
, 
_exp
)

111 ià(
_exp
 > 0) {

112 
_bt
->
£c
 <<ð
_exp
;

113 
_bt
->
£c
 |ð_bt->
äac
 >> (64 - 
_exp
);

114 
_bt
->
äac
 <<ð
_exp
;

115 } ià(
_exp
 < 0) {

116 
_bt
->
äac
 >>ð-
_exp
;

117 
_bt
->
äac
 |ð(
ušt64_t
)_bt->
£c
 << (64 + 
_exp
);

118 
_bt
->
£c
 >>ð-
_exp
;

120 
	}
}

122 
	#bštime_þ—r
(
a
è(×)->
£c
 = (a)->
äac
 = 0)

	)

123 
	#bštime_is£t
(
a
è(×)->
£c
 || (a)->
äac
)

	)

124 
	#bštime_cmp
(
a
, 
b
, 
cmp
) \

125 (((
a
)->
£c
 =ð(
b
)->sec) ? \

126 ((
a
)->
äac
 
	`cmp
 (
b
)->frac) : \

127 ((
a
)->
£c
 
	`cmp
 (
b
)->£c))

	)

129 
	#SBT_1S
 ((
sbštime_t
)1 << 32)

	)

130 
	#SBT_1M
 (
SBT_1S
 * 60)

	)

131 
	#SBT_1MS
 (
SBT_1S
 / 1000)

	)

132 
	#SBT_1US
 (
SBT_1S
 / 1000000)

	)

133 
	#SBT_1NS
 (
SBT_1S
 / 1000000000è

	)

134 
	#SBT_MAX
 0x7fffffffffffffffLL

	)

136 
__šlše
 

137 
	$sbštime_g‘£c
(
sbštime_t
 
_sbt
)

140  (
_sbt
 >> 32);

141 
	}
}

143 
__šlše
 
sbštime_t


144 
	$b‰osbt
(cÚ¡ 
bštime
 
_bt
)

147  (((
sbštime_t
)
_bt
.
£c
 << 32è+ (_bt.
äac
 >> 32));

148 
	}
}

150 
__šlše
 
bštime


151 
	$sb‰obt
(
sbštime_t
 
_sbt
)

153 
bštime
 
_bt
;

155 
_bt
.
£c
 = 
_sbt
 >> 32;

156 
_bt
.
äac
 = 
_sbt
 << 32;

157  (
_bt
);

158 
	}
}

165 
__šlše
 
št64_t


166 
	$sb‰Ús
(
sbštime_t
 
_sbt
)

169  ((1000000000 * 
_sbt
) >> 32);

170 
	}
}

172 
__šlše
 
sbštime_t


173 
	$n¡osbt
(
št64_t
 
_ns
)

176  ((
_ns
 * (((
ušt64_t
)1 << 63) / 500000000)) >> 32);

177 
	}
}

179 
__šlše
 
št64_t


180 
	$sb‰ous
(
sbštime_t
 
_sbt
)

183  ((1000000 * 
_sbt
) >> 32);

184 
	}
}

186 
__šlše
 
sbštime_t


187 
	$u¡osbt
(
št64_t
 
_us
)

190  ((
_us
 * (((
ušt64_t
)1 << 63) / 500000)) >> 32);

191 
	}
}

193 
__šlše
 
št64_t


194 
	$sb‰oms
(
sbštime_t
 
_sbt
)

197  ((1000 * 
_sbt
) >> 32);

198 
	}
}

200 
__šlše
 
sbštime_t


201 
	$m¡osbt
(
št64_t
 
_ms
)

204  ((
_ms
 * (((
ušt64_t
)1 << 63) / 500)) >> 32);

205 
	}
}

221 
__šlše
 

222 
	$bštime2time¥ec
(cÚ¡ 
bštime
 *
_bt
, 
time¥ec
 *
_ts
)

225 
_ts
->
tv_£c
 = 
_bt
->
£c
;

226 
_ts
->
tv_n£c
 = ((
ušt64_t
)1000000000 *

227 (
ušt32_t
)(
_bt
->
äac
 >> 32)) >> 32;

228 
	}
}

230 
__šlše
 

231 
	$time¥ec2bštime
(cÚ¡ 
time¥ec
 *
_ts
, 
bštime
 *
_bt
)

234 
_bt
->
£c
 = 
_ts
->
tv_£c
;

236 
_bt
->
äac
 = 
_ts
->
tv_n£c
 * (
ušt64_t
)18446744073LL;

237 
	}
}

239 
__šlše
 

240 
	$bštime2timev®
(cÚ¡ 
bštime
 *
_bt
, 
timev®
 *
_tv
)

243 
_tv
->
tv_£c
 = 
_bt
->
£c
;

244 
_tv
->
tv_u£c
 = ((
ušt64_t
)1000000 * (
ušt32_t
)(
_bt
->
äac
 >> 32)) >> 32;

245 
	}
}

247 
__šlše
 

248 
	$timev®2bštime
(cÚ¡ 
timev®
 *
_tv
, 
bštime
 *
_bt
)

251 
_bt
->
£c
 = 
_tv
->
tv_£c
;

253 
_bt
->
äac
 = 
_tv
->
tv_u£c
 * (
ušt64_t
)18446744073709LL;

254 
	}
}

256 
__šlše
 
time¥ec


257 
	$sb‰Ùs
(
sbštime_t
 
_sbt
)

259 
time¥ec
 
_ts
;

261 
_ts
.
tv_£c
 = 
_sbt
 >> 32;

262 
_ts
.
tv_n£c
 = 
	`sb‰Ús
((
ušt32_t
)
_sbt
);

263  (
_ts
);

264 
	}
}

266 
__šlše
 
sbštime_t


267 
	$t¡osbt
(
time¥ec
 
_ts
)

270  (((
sbštime_t
)
_ts
.
tv_£c
 << 32è+ 
	`n¡osbt
(_ts.
tv_n£c
));

271 
	}
}

273 
__šlše
 
timev®


274 
	$sb‰Ùv
(
sbštime_t
 
_sbt
)

276 
timev®
 
_tv
;

278 
_tv
.
tv_£c
 = 
_sbt
 >> 32;

279 
_tv
.
tv_u£c
 = 
	`sb‰ous
((
ušt32_t
)
_sbt
);

280  (
_tv
);

281 
	}
}

283 
__šlše
 
sbštime_t


284 
	$tvtosbt
(
timev®
 
_tv
)

287  (((
sbštime_t
)
_tv
.
tv_£c
 << 32è+ 
	`u¡osbt
(_tv.
tv_u£c
));

288 
	}
}

291 #ifdeà
_KERNEL


300 
	#TICKS_2_MSEC
(
t
è
	`max
(1, (
ušt32_t
)(
hz
 == 1000) ? \

301 (
t
è: (((
ušt64_t
)Ñè* (ušt64_t)1000)/(ušt64_t)
hz
))

	)

302 
	#TICKS_2_USEC
(
t
è
	`max
(1, (
ušt32_t
)(
hz
 == 1000) ? \

303 ((
t
è* 1000è: (((
ušt64_t
)Ñè* (ušt64_t)1000000)/(ušt64_t)
hz
))

	)

304 
	#MSEC_2_TICKS
(
m
è
	`max
(1, (
ušt32_t
)((
hz
 == 1000) ? \

305 (
m
è: ((
ušt64_t
)(mè* (ušt64_t)
hz
)/(ušt64_t)1000))

	)

306 
	#USEC_2_TICKS
(
u
è
	`max
(1, (
ušt32_t
)((
hz
 == 1000) ? \

307 ((
u
è/ 1000è: ((
ušt64_t
)(uè* (ušt64_t)
hz
)/(ušt64_t)1000000))

	)

311 
	#time¥ecþ—r
(
tvp
è(Ñvp)->
tv_£c
 = (tvp)->
tv_n£c
 = 0)

	)

312 
	#time¥ecis£t
(
tvp
è(Ñvp)->
tv_£c
 || (tvp)->
tv_n£c
)

	)

313 
	#time¥eccmp
(
tvp
, 
uvp
, 
cmp
) \

314 (((
tvp
)->
tv_£c
 =ð(
uvp
)->tv_sec) ? \

315 ((
tvp
)->
tv_n£c
 
	`cmp
 (
uvp
)->tv_nsec) : \

316 ((
tvp
)->
tv_£c
 
	`cmp
 (
uvp
)->tv_£c))

	)

318 
	#time¥eÿdd
(
t¥
, 
u¥
, 
v¥
) \

320 (
v¥
)->
tv_£c
 = (
t¥
)->tv_£ø+ (
u¥
)->tv_sec; \

321 (
v¥
)->
tv_n£c
 = (
t¥
)->tv_n£ø+ (
u¥
)->tv_nsec; \

322 ià((
v¥
)->
tv_n£c
 >= 1000000000L) { \

323 (
v¥
)->
tv_£c
++; \

324 (
v¥
)->
tv_n£c
 -= 1000000000L; \

326 } 0)

	)

327 
	#time¥ecsub
(
t¥
, 
u¥
, 
v¥
) \

329 (
v¥
)->
tv_£c
 = (
t¥
)->tv_£ø- (
u¥
)->tv_sec; \

330 (
v¥
)->
tv_n£c
 = (
t¥
)->tv_n£ø- (
u¥
)->tv_nsec; \

331 ià((
v¥
)->
tv_n£c
 < 0) { \

332 (
v¥
)->
tv_£c
--; \

333 (
v¥
)->
tv_n£c
 += 1000000000L; \

335 } 0)

	)

337 #ifdeà
_KERNEL


341 
	#timev®þ—r
(
tvp
è(Ñvp)->
tv_£c
 = (tvp)->
tv_u£c
 = 0)

	)

342 
	#timev®is£t
(
tvp
è(Ñvp)->
tv_£c
 || (tvp)->
tv_u£c
)

	)

343 
	#timev®cmp
(
tvp
, 
uvp
, 
cmp
) \

344 (((
tvp
)->
tv_£c
 =ð(
uvp
)->tv_sec) ? \

345 ((
tvp
)->
tv_u£c
 
	`cmp
 (
uvp
)->tv_usec) : \

346 ((
tvp
)->
tv_£c
 
	`cmp
 (
uvp
)->tv_£c))

	)

352 #iâdeà
_KERNEL


354 
	#tim”þ—r
(
tvp
è(Ñvp)->
tv_£c
 = (tvp)->
tv_u£c
 = 0)

	)

355 
	#tim”is£t
(
tvp
è(Ñvp)->
tv_£c
 || (tvp)->
tv_u£c
)

	)

356 
	#tim”cmp
(
tvp
, 
uvp
, 
cmp
) \

357 (((
tvp
)->
tv_£c
 =ð(
uvp
)->tv_sec) ? \

358 ((
tvp
)->
tv_u£c
 
	`cmp
 (
uvp
)->tv_usec) : \

359 ((
tvp
)->
tv_£c
 
	`cmp
 (
uvp
)->tv_£c))

	)

360 
	#tim”add
(
tvp
, 
uvp
, 
vvp
) \

362 (
vvp
)->
tv_£c
 = (
tvp
)->tv_£ø+ (
uvp
)->tv_sec; \

363 (
vvp
)->
tv_u£c
 = (
tvp
)->tv_u£ø+ (
uvp
)->tv_usec; \

364 ià((
vvp
)->
tv_u£c
 >= 1000000) { \

365 (
vvp
)->
tv_£c
++; \

366 (
vvp
)->
tv_u£c
 -= 1000000; \

368 } 0)

	)

369 
	#tim”sub
(
tvp
, 
uvp
, 
vvp
) \

371 (
vvp
)->
tv_£c
 = (
tvp
)->tv_£ø- (
uvp
)->tv_sec; \

372 (
vvp
)->
tv_u£c
 = (
tvp
)->tv_u£ø- (
uvp
)->tv_usec; \

373 ià((
vvp
)->
tv_u£c
 < 0) { \

374 (
vvp
)->
tv_£c
--; \

375 (
vvp
)->
tv_u£c
 += 1000000; \

377 } 0)

	)

384 
	#ITIMER_REAL
 0

	)

385 
	#ITIMER_VIRTUAL
 1

	)

386 
	#ITIMER_PROF
 2

	)

388 
	s™im”v®
 {

389 
timev®
 
	m™_š‹rv®
;

390 
timev®
 
	m™_v®ue
;

396 
	sþockšfo
 {

397 
	mhz
;

398 
	mtick
;

399 
	m¥¬e
;

400 
	m¡©hz
;

401 
	m´ofhz
;

405 #iâdeà
CLOCK_REALTIME


406 
	#CLOCK_REALTIME
 0

	)

407 
	#CLOCK_VIRTUAL
 1

	)

408 
	#CLOCK_PROF
 2

	)

409 
	#CLOCK_MONOTONIC
 4

	)

410 
	#CLOCK_UPTIME
 5

	)

411 
	#CLOCK_UPTIME_PRECISE
 7

	)

412 
	#CLOCK_UPTIME_FAST
 8

	)

413 
	#CLOCK_REALTIME_PRECISE
 9

	)

414 
	#CLOCK_REALTIME_FAST
 10

	)

415 
	#CLOCK_MONOTONIC_PRECISE
 11

	)

416 
	#CLOCK_MONOTONIC_FAST
 12

	)

417 
	#CLOCK_SECOND
 13

	)

418 
	#CLOCK_THREAD_CPUTIME_ID
 14

	)

419 
	#CLOCK_PROCESS_CPUTIME_ID
 15

	)

422 #iâdeà
TIMER_ABSTIME


423 
	#TIMER_RELTIME
 0x0

	)

424 
	#TIMER_ABSTIME
 0x1

	)

427 #ià
__BSD_VISIBLE


428 
	#CPUCLOCK_WHICH_PID
 0

	)

429 
	#CPUCLOCK_WHICH_TID
 1

	)

432 #ifdeà
_KERNEL


437 
š™todr
(
time_t
 
ba£
);

438 
»£‰odr
();

440 vÞ©ž
time_t
 
time_£cÚd
;

441 vÞ©ž
time_t
 
time_u±ime
;

442 
bštime
 
tc_tick_bt
;

443 
sbštime_t
 
tc_tick_sbt
;

444 
bštime
 
tick_bt
;

445 
sbštime_t
 
tick_sbt
;

446 
tc_´eûxp
;

447 
tc_tim•”ûÁage
;

448 
bštime
 
bt_tim‘h»shÞd
;

449 
bštime
 
bt_tickth»shÞd
;

450 
sbštime_t
 
sbt_tim‘h»shÞd
;

451 
sbštime_t
 
sbt_tickth»shÞd
;

453 vÞ©ž
¹c_g’”©iÚ
;

476 
bšu±ime
(
bštime
 *
bt
);

477 
Çnou±ime
(
time¥ec
 *
t¥
);

478 
miüou±ime
(
timev®
 *
tvp
);

480 
__šlše
 
sbštime_t


481 
	$sbšu±ime
()

483 
bštime
 
_bt
;

485 
	`bšu±ime
(&
_bt
);

486  (
	`b‰osbt
(
_bt
));

487 
	}
}

489 
bštime
(bštim*
bt
);

490 
ÇnÙime
(
time¥ec
 *
t¥
);

491 
miüÙime
(
timev®
 *
tvp
);

493 
g‘bšu±ime
(
bštime
 *
bt
);

494 
g‘Çnou±ime
(
time¥ec
 *
t¥
);

495 
g‘miüou±ime
(
timev®
 *
tvp
);

497 
__šlše
 
sbštime_t


498 
	$g‘sbšu±ime
()

500 
bštime
 
_bt
;

502 
	`g‘bšu±ime
(&
_bt
);

503  (
	`b‰osbt
(
_bt
));

504 
	}
}

506 
g‘bštime
(
bštime
 *
bt
);

507 
g‘ÇnÙime
(
time¥ec
 *
t¥
);

508 
g‘miüÙime
(
timev®
 *
tvp
);

510 
g‘boÙtime
(
timev®
 *
boÙtime
);

511 
g‘boÙtimebš
(
bštime
 *
boÙtimebš
);

514 
™im”deü
(
™im”v®
 *
™p
, 
u£c
);

515 
™im”fix
(
timev®
 *
tv
);

516 
µ¤©echeck
(
timev®
 *, *, );

517 
¿‹check
(
timev®
 *, const timeval *);

518 
timev®add
(
timev®
 *
t1
, cÚ¡ timev® *
t2
);

519 
timev®sub
(
timev®
 *
t1
, cÚ¡ timev® *
t2
);

520 
tvtohz
(
timev®
 *
tv
);

522 
	#TC_DEFAULTPERC
 5

	)

524 
	#BT2FREQ
(
bt
) \

525 (((
ušt64_t
)0x8000000000000000 + ((
bt
)->
äac
 >> 2)) / \

526 ((
bt
)->
äac
 >> 1))

	)

528 
	#SBT2FREQ
(
sbt
è((
SBT_1S
 + ((sbtè>> 1)è/ (sbt))

	)

530 
	#FREQ2BT
(
äeq
, 
bt
) \

532 (
bt
)->
£c
 = 0; \

533 (
bt
)->
äac
 = ((
ušt64_t
)0x8000000000000000 / (
äeq
)) << 1; \

534 }

	)

536 
	#TIMESEL
(
sbt
, 
sbt2
) \

537 (((
sbt2
è>ð
sbt_tim‘h»shÞd
) ? \

538 ((*(
sbt
èð
	`g‘sbšu±ime
()), 1è: ((*(sbtèð
	`sbšu±ime
()), 0))

	)

541 
	~<time.h
>

543 
	~<sys/cdefs.h
>

544 
	~<sys/£Ëù.h
>

546 
__BEGIN_DECLS


547 
£t™im”
(, cÚ¡ 
™im”v®
 *, itimerval *);

548 
utimes
(cÚ¡ *, cÚ¡ 
timev®
 *);

550 #ià
__BSD_VISIBLE


551 
adjtime
(cÚ¡ 
timev®
 *, timeval *);

552 
þock_g‘ýuþockid2
(
id_t
, , 
þockid_t
 *);

553 
futimes
(, cÚ¡ 
timev®
 *);

554 
futime§t
(, cÚ¡ *, cÚ¡ 
timev®
 [2]);

555 
lutimes
(cÚ¡ *, cÚ¡ 
timev®
 *);

556 
£‰imeofday
(cÚ¡ 
timev®
 *, cÚ¡ 
timezÚe
 *);

559 #ià
__XSI_VISIBLE


560 
g‘™im”
(, 
™im”v®
 *);

561 
g‘timeofday
(
timev®
 *, 
timezÚe
 *);

564 
	g__END_DECLS


	@/usr/include/sys/timespec.h

36 #iâdeà
_SYS_TIMESPEC_H_


37 
	#_SYS_TIMESPEC_H_


	)

39 
	~<sys/cdefs.h
>

40 
	~<sys/_time¥ec.h
>

42 #ià
__BSD_VISIBLE


43 
	#TIMEVAL_TO_TIMESPEC
(
tv
, 
ts
) \

45 (
ts
)->
tv_£c
 = (
tv
)->tv_sec; \

46 (
ts
)->
tv_n£c
 = (
tv
)->
tv_u£c
 * 1000; \

47 } 0)

	)

48 
	#TIMESPEC_TO_TIMEVAL
(
tv
, 
ts
) \

50 (
tv
)->
tv_£c
 = (
ts
)->tv_sec; \

51 (
tv
)->
tv_u£c
 = (
ts
)->
tv_n£c
 / 1000; \

52 } 0)

	)

60 
	s™im”¥ec
 {

61 
time¥ec
 
	m™_š‹rv®
;

62 
time¥ec
 
	m™_v®ue
;

	@/usr/include/sys/ucontext.h

33 #iâdeà
_SYS_UCONTEXT_H_


34 
	#_SYS_UCONTEXT_H_


	)

36 
	~<sys/sigÇl.h
>

37 
	~<machše/ucÚ‹xt.h
>

38 
	~<sys/_ucÚ‹xt.h
>

40 
	#UCF_SWAPPED
 0x00000001

	)

42 #ià
defšed
(
_KERNEL
è&& defšed(
COMPAT_FREEBSD4
)

43 #ià
defšed
(
__i386__
)

44 
	sucÚ‹xt4
 {

45 
sig£t_t
 
	muc_sigmask
;

46 
mcÚ‹xt4
 
	muc_mcÚ‹xt
;

47 
ucÚ‹xt4
 *
	muc_lšk
;

48 
¡ack_t
 
	muc_¡ack
;

49 
	m__¥¬e__
[8];

52 
	#ucÚ‹xt4
 
ucÚ‹xt


	)

56 #iâdeà
_KERNEL


58 
__BEGIN_DECLS


60 
	$g‘cÚ‹xt
(
ucÚ‹xt_t
 *è
__»tuºs_twiû
;

61 
ucÚ‹xt_t
 *
	`g‘cÚ‹xtx
();

62 
	`£tcÚ‹xt
(cÚ¡ 
ucÚ‹xt_t
 *);

63 
	`makecÚ‹xt
(
ucÚ‹xt_t
 *, (*)(), , ...);

64 
	`sigÇlcÚ‹xt
(
ucÚ‹xt_t
 *, , 
__sighªdËr_t
 *);

65 
	`sw­cÚ‹xt
(
ucÚ‹xt_t
 *, const ucontext_t *);

67 #ià
__BSD_VISIBLE


68 
	`__g‘cÚ‹xtx_size
();

69 
	$__fžlcÚ‹xtx
(*
ùx
è
__»tuºs_twiû
;

70 
	`__fžlcÚ‹xtx2
(*
ùx
);

73 
__END_DECLS


77 
th»ad
;

84 
	#GET_MC_CLEAR_RET
 1

	)

87 
	`g‘_mcÚ‹xt
(
th»ad
 *, 
mcÚ‹xt_t
 *, );

88 
	`£t_mcÚ‹xt
(
th»ad
 *, 
mcÚ‹xt_t
 *);

	@/usr/include/sys/ucred.h

35 #iâdeà
_SYS_UCRED_H_


36 
	#_SYS_UCRED_H_


	)

38 
	~<bsm/aud™.h
>

40 
	glogšþass
;

42 
	#XU_NGROUPS
 16

	)

50 #ià
defšed
(
_KERNEL
è|| defšed(
_WANT_UCRED
)

51 
	suüed
 {

52 
u_št
 
	mü_»f
;

53 
	#ü_¡¬tcÝy
 
ü_uid


	)

54 
uid_t
 
	mü_uid
;

55 
uid_t
 
	mü_ruid
;

56 
uid_t
 
	mü_svuid
;

57 
	mü_ngroups
;

58 
gid_t
 
	mü_rgid
;

59 
gid_t
 
	mü_svgid
;

60 
uidšfo
 *
	mü_uidšfo
;

61 
uidšfo
 *
	mü_ruidšfo
;

62 
´isÚ
 *
	mü_´isÚ
;

63 
logšþass
 *
	mü_logšþass
;

64 
u_št
 
	mü_æags
;

65 *
	mü_p¥¬e2
[2];

66 
	#ü_’dcÝy
 
ü_Ïb–


	)

67 
Ïb–
 *
	mü_Ïb–
;

68 
aud™šfo_addr
 
	mü_aud™
;

69 
gid_t
 *
	mü_groups
;

70 
	mü_agroups
;

71 
gid_t
 
	mü_sm®lgroups
[
XU_NGROUPS
];

73 
	#NOCRED
 ((
uüed
 *)0è

	)

74 
	#FSCRED
 ((
uüed
 *)-1è

	)

80 
	#CRED_FLAG_CAPMODE
 0x00000001

	)

85 
	sxuüed
 {

86 
u_št
 
	mü_v”siÚ
;

87 
uid_t
 
	mü_uid
;

88 
	mü_ngroups
;

89 
gid_t
 
	mü_groups
[
XU_NGROUPS
];

90 *
	m_ü_unu£d1
;

92 
	#XUCRED_VERSION
 0

	)

95 
	#ü_gid
 
ü_groups
[0]

	)

97 #ifdeà
_KERNEL


98 
	g´oc
;

99 
	gth»ad
;

101 
chªge_egid
(
uüed
 *
Ãwüed
, 
gid_t
 
egid
);

102 
chªge_euid
(
uüed
 *
Ãwüed
, 
uidšfo
 *
eu
);

103 
chªge_rgid
(
uüed
 *
Ãwüed
, 
gid_t
 
rgid
);

104 
chªge_ruid
(
uüed
 *
Ãwüed
, 
uidšfo
 *
ru
);

105 
chªge_svgid
(
uüed
 *
Ãwüed
, 
gid_t
 
svgid
);

106 
chªge_svuid
(
uüed
 *
Ãwüed
, 
uid_t
 
svuid
);

107 
ücÝy
(
uüed
 *
de¡
, uüed *
¤c
);

108 
uüed
 *
ücÝy§ã
(
´oc
 *
p
, uüed *
ü
);

109 
uüed
 *
üdup
(uüed *
ü
);

110 
üex‹nd
(
uüed
 *
ü
, 
n
);

111 
´oc_£t_üed_š™
(
´oc
 *
p
, 
uüed
 *
ü
);

112 
uüed
 *
´oc_£t_üed
(
´oc
 *
p
, uüed *
ü
);

113 
üä“
(
uüed
 *
ü
);

114 
uüed
 *
üg‘
();

115 
uüed
 *
ühÞd
(uüed *
ü
);

116 
üu2x
(
uüed
 *
ü
, 
xuüed
 *
xü
);

117 
ü£tgroups
(
uüed
 *
ü
, 
n
, 
gid_t
 *
groups
);

118 
groupmemb”
(
gid_t
 
gid
, 
uüed
 *
üed
);

	@/usr/include/sys/unistd.h

35 #iâdeà
_SYS_UNISTD_H_


36 
	#_SYS_UNISTD_H_


	)

38 
	~<sys/cdefs.h
>

54 
	#_POSIX_ADVISORY_INFO
 200112L

	)

55 
	#_POSIX_ASYNCHRONOUS_IO
 200112L

	)

56 
	#_POSIX_CHOWN_RESTRICTED
 1

	)

57 
	#_POSIX_CLOCK_SELECTION
 (-1)

	)

58 
	#_POSIX_CPUTIME
 200112L

	)

59 
	#_POSIX_FSYNC
 200112L

	)

60 
	#_POSIX_IPV6
 0

	)

61 
	#_POSIX_JOB_CONTROL
 1

	)

62 
	#_POSIX_MAPPED_FILES
 200112L

	)

63 
	#_POSIX_MEMLOCK
 (-1)

	)

64 
	#_POSIX_MEMLOCK_RANGE
 200112L

	)

65 
	#_POSIX_MEMORY_PROTECTION
 200112L

	)

66 
	#_POSIX_MESSAGE_PASSING
 200112L

	)

67 
	#_POSIX_MONOTONIC_CLOCK
 200112L

	)

68 
	#_POSIX_NO_TRUNC
 1

	)

69 
	#_POSIX_PRIORITIZED_IO
 (-1)

	)

70 
	#_POSIX_PRIORITY_SCHEDULING
 0

	)

71 
	#_POSIX_RAW_SOCKETS
 200112L

	)

72 
	#_POSIX_REALTIME_SIGNALS
 200112L

	)

73 
	#_POSIX_SEMAPHORES
 200112L

	)

74 
	#_POSIX_SHARED_MEMORY_OBJECTS
 200112L

	)

75 
	#_POSIX_SPORADIC_SERVER
 (-1)

	)

76 
	#_POSIX_SYNCHRONIZED_IO
 (-1)

	)

77 
	#_POSIX_TIMEOUTS
 200112L

	)

78 
	#_POSIX_TIMERS
 200112L

	)

79 
	#_POSIX_TYPED_MEMORY_OBJECTS
 (-1)

	)

80 
	#_POSIX_VDISABLE
 0xff

	)

82 #ià
__XSI_VISIBLE


83 
	#_XOPEN_SHM
 1

	)

84 
	#_XOPEN_STREAMS
 (-1)

	)

94 #ifdef 
_NOT_AVAILABLE


95 
	#_POSIX_SAVED_IDS
 1

	)

99 
	#_POSIX_VERSION
 200112L

	)

102 
	#F_OK
 0

	)

103 
	#X_OK
 0x01

	)

104 
	#W_OK
 0x02

	)

105 
	#R_OK
 0x04

	)

108 #iâdeà
SEEK_SET


109 
	#SEEK_SET
 0

	)

110 
	#SEEK_CUR
 1

	)

111 
	#SEEK_END
 2

	)

113 #ià
__BSD_VISIBLE


114 
	#SEEK_DATA
 3

	)

115 
	#SEEK_HOLE
 4

	)

118 #iâdeà
_POSIX_SOURCE


120 
	#L_SET
 
SEEK_SET


	)

121 
	#L_INCR
 
SEEK_CUR


	)

122 
	#L_XTND
 
SEEK_END


	)

126 
	#_PC_LINK_MAX
 1

	)

127 
	#_PC_MAX_CANON
 2

	)

128 
	#_PC_MAX_INPUT
 3

	)

129 
	#_PC_NAME_MAX
 4

	)

130 
	#_PC_PATH_MAX
 5

	)

131 
	#_PC_PIPE_BUF
 6

	)

132 
	#_PC_CHOWN_RESTRICTED
 7

	)

133 
	#_PC_NO_TRUNC
 8

	)

134 
	#_PC_VDISABLE
 9

	)

136 #ià
__POSIX_VISIBLE
 >= 199309

137 
	#_PC_ASYNC_IO
 53

	)

138 
	#_PC_PRIO_IO
 54

	)

139 
	#_PC_SYNC_IO
 55

	)

142 #ià
__POSIX_VISIBLE
 >= 200112

143 
	#_PC_ALLOC_SIZE_MIN
 10

	)

144 
	#_PC_FILESIZEBITS
 12

	)

145 
	#_PC_REC_INCR_XFER_SIZE
 14

	)

146 
	#_PC_REC_MAX_XFER_SIZE
 15

	)

147 
	#_PC_REC_MIN_XFER_SIZE
 16

	)

148 
	#_PC_REC_XFER_ALIGN
 17

	)

149 
	#_PC_SYMLINK_MAX
 18

	)

152 #ià
__BSD_VISIBLE


153 
	#_PC_ACL_EXTENDED
 59

	)

154 
	#_PC_ACL_PATH_MAX
 60

	)

155 
	#_PC_CAP_PRESENT
 61

	)

156 
	#_PC_INF_PRESENT
 62

	)

157 
	#_PC_MAC_PRESENT
 63

	)

158 
	#_PC_ACL_NFS4
 64

	)

162 
	#_PC_MIN_HOLE_SIZE
 21

	)

164 #ià
__BSD_VISIBLE


170 
	#RFNAMEG
 (1<<0è

	)

171 
	#RFENVG
 (1<<1è

	)

172 
	#RFFDG
 (1<<2è

	)

173 
	#RFNOTEG
 (1<<3è

	)

174 
	#RFPROC
 (1<<4è

	)

175 
	#RFMEM
 (1<<5è

	)

176 
	#RFNOWAIT
 (1<<6è

	)

177 
	#RFCNAMEG
 (1<<10è

	)

178 
	#RFCENVG
 (1<<11è

	)

179 
	#RFCFDG
 (1<<12è

	)

180 
	#RFTHREAD
 (1<<13è

	)

181 
	#RFSIGSHARE
 (1<<14è

	)

182 
	#RFLINUXTHPN
 (1<<16è

	)

183 
	#RFSTOPPED
 (1<<17è

	)

184 
	#RFHIGHPID
 (1<<18è

	)

185 
	#RFTSIGZMB
 (1<<19è

	)

186 
	#RFTSIGSHIFT
 20

	)

187 
	#RFTSIGMASK
 0xFF

	)

188 
	#RFTSIGNUM
(
æags
è(((æagsè>> 
RFTSIGSHIFT
è& 
RFTSIGMASK
)

	)

189 
	#RFTSIGFLAGS
(
signum
è((signumè<< 
RFTSIGSHIFT
)

	)

190 
	#RFPROCDESC
 (1<<28è

	)

191 
	#RFPPWAIT
 (1<<31è

	)

192 
	#RFFLAGS
 (
RFFDG
 | 
RFPROC
 | 
RFMEM
 | 
RFNOWAIT
 | 
RFCFDG
 | \

193 
RFTHREAD
 | 
RFSIGSHARE
 | 
RFLINUXTHPN
 | 
RFSTOPPED
 | 
RFHIGHPID
 | 
RFTSIGZMB
 | \

194 
RFPROCDESC
 | 
RFPPWAIT
)

	)

195 
	#RFKERNELONLY
 (
RFSTOPPED
 | 
RFHIGHPID
 | 
RFPPWAIT
 | 
RFPROCDESC
)

	)

	@/usr/include/sys/wait.h

35 #iâdeà
_SYS_WAIT_H_


36 
	#_SYS_WAIT_H_


	)

38 
	~<sys/cdefs.h
>

49 #ià
__BSD_VISIBLE


50 
	#WCOREFLAG
 0200

	)

52 
	#_W_INT
(
i
è(i)

	)

54 
	#_WSTATUS
(
x
è(
	`_W_INT
(xè& 0177)

	)

55 
	#_WSTOPPED
 0177

	)

56 
	#WIFSTOPPED
(
x
è(
	`_WSTATUS
(xè=ð
_WSTOPPED
)

	)

57 
	#WSTOPSIG
(
x
è(
	`_W_INT
(xè>> 8)

	)

58 
	#WIFSIGNALED
(
x
è(
	`_WSTATUS
(xè!ð
_WSTOPPED
 && _WSTATUS(xè!ð0 && (xè!ð0x13)

	)

59 
	#WTERMSIG
(
x
è(
	`_WSTATUS
(x))

	)

60 
	#WIFEXITED
(
x
è(
	`_WSTATUS
(xè=ð0)

	)

61 
	#WEXITSTATUS
(
x
è(
	`_W_INT
(xè>> 8)

	)

62 
	#WIFCONTINUED
(
x
è(x =ð0x13è

	)

63 #ià
__BSD_VISIBLE


64 
	#WCOREDUMP
(
x
è(
	`_W_INT
(xè& 
WCOREFLAG
)

	)

66 
	#W_EXITCODE
(
»t
, 
sig
è(Ô‘è<< 8 | (sig))

	)

67 
	#W_STOPCODE
(
sig
è((sigè<< 8 | 
_WSTOPPED
)

	)

80 
	#WNOHANG
 1

	)

81 
	#WUNTRACED
 2

	)

82 
	#WSTOPPED
 
WUNTRACED


	)

83 
	#WCONTINUED
 4

	)

84 
	#WNOWAIT
 8

	)

85 
	#WEXITED
 16

	)

86 
	#WTRAPPED
 32

	)

89 #ià
__BSD_VISIBLE


90 
	#WLINUXCLONE
 0x80000000

	)

93 #iâdeà
_IDTYPE_T_DECLARED


95 #ià
__BSD_VISIBLE


96 
	tidty³


109 
	gP_PID
,

110 
	gP_PPID
,

111 
	gP_PGID
,

112 
	gP_SID
,

113 
	gP_CID
,

114 
	gP_UID
,

115 
	gP_GID
,

116 
	gP_ALL
,

117 
	gP_LWPID
,

118 
	gP_TASKID
,

119 
	gP_PROJID
,

120 
	gP_POOLID
,

121 
	gP_JAILID
,

122 
	gP_CTID
,

123 
	gP_CPUID
,

124 
	gP_PSETID


125 } 
	tidty³_t
;

127 #ià
__BSD_VISIBLE


128 
	#P_ZONEID
 
P_JAILID


	)

130 
	#_IDTYPE_T_DECLARED


	)

138 #ià
__BSD_VISIBLE


139 
	#WAIT_ANY
 (-1è

	)

140 
	#WAIT_MYPGRP
 0

	)

143 #ià
defšed
(
_KERNEL
è|| defšed(
_WANT_KW_EXITCODE
)

150 
	#KW_EXITCODE
(
»t
, 
sig
è
	`W_EXITCODE
(Ô‘è& 0xff, (sig))

	)

154 #iâdeà
_KERNEL


156 
	~<sys/ty³s.h
>

158 
__BEGIN_DECLS


159 
	g__sigšfo
;

160 
pid_t
 
wa™
(*);

161 
pid_t
 
wa™pid
(pid_t, *, );

162 #ià
__POSIX_VISIBLE
 >= 200112

163 
wa™id
(
idty³_t
, 
id_t
, 
__sigšfo
 *, );

165 #ià
__BSD_VISIBLE


166 
	gru§ge
;

167 
	g__wru§ge
;

168 
pid_t
 
wa™3
(*, , 
ru§ge
 *);

169 
pid_t
 
wa™4
Õid_t, *, , 
ru§ge
 *);

170 
pid_t
 
wa™6
(
idty³_t
, 
id_t
, *, , 
__wru§ge
 *,

171 
__sigšfo
 *);

173 
	g__END_DECLS


	@/usr/include/machine/_stdint.h

6 
	~<x86/_¡dšt.h
>

	@/usr/include/machine/counter.h

31 #iâdeà
__MACHINE_COUNTER_H__


32 
	#__MACHINE_COUNTER_H__


	)

34 
	~<sys/pýu.h
>

36 
pýu
 
__pýu
[];

38 
	#EARLY_COUNTER
 &
__pýu
[0].
pc_—¾y_dummy_couÁ”


	)

40 
	#couÁ”_’‹r
(èdØ{} 0)

	)

41 
	#couÁ”_ex™
(èdØ{} 0)

	)

43 #ifdeà
IN_SUBR_COUNTER_C


44 
šlše
 
ušt64_t


45 
	$couÁ”_u64_»ad_Úe
(
ušt64_t
 *
p
, 
ýu
)

48  (*(
ušt64_t
 *)((*)
p
 + 
UMA_PCPU_ALLOC_SIZE
 * 
ýu
));

49 
	}
}

51 
šlše
 
ušt64_t


52 
	$couÁ”_u64_ãtch_šlše
(
ušt64_t
 *
p
)

54 
ušt64_t
 
r
;

55 
i
;

57 
r
 = 0;

58 
	`CPU_FOREACH
(
i
)

59 
r
 +ð
	`couÁ”_u64_»ad_Úe
((
ušt64_t
 *)
p
, 
i
);

61  (
r
);

62 
	}
}

65 
	$couÁ”_u64_z”o_Úe_ýu
(*
¬g
)

68 *((
ušt64_t
 *)((*)
¬g
 + 
UMA_PCPU_ALLOC_SIZE
 *

69 
	`PCPU_GET
(
ýuid
))) = 0;

70 
	}
}

72 
šlše
 

73 
	$couÁ”_u64_z”o_šlše
(
couÁ”_u64_t
 
c
)

76 
	`smp_»ndezvous
(
smp_no_»ndezvous_b¬r›r
, 
couÁ”_u64_z”o_Úe_ýu
,

77 
smp_no_»ndezvous_b¬r›r
, 
c
);

78 
	}
}

81 
	#couÁ”_u64_add_´Ùeùed
(
c
, 
i
è
	`couÁ”_u64_add
(c, i)

	)

83 
šlše
 

84 
	$couÁ”_u64_add
(
couÁ”_u64_t
 
c
, 
št64_t
 
šc
)

87 
__asm
 
	`__vÞ©že
("addq\t%1,%%gs:(%0)"

89 : "r" ((*)
c
 - (*)&
__pýu
[0]), "ri" (
šc
)

91 
	}
}

	@/usr/include/machine/runq.h

31 #iâdef 
_MACHINE_RUNQ_H_


32 
	#_MACHINE_RUNQ_H_


	)

34 
	#RQB_LEN
 (1è

	)

35 
	#RQB_L2BPW
 (6è

	)

36 
	#RQB_BPW
 (1<<
RQB_L2BPW
è

	)

38 
	#RQB_BIT
(
´i
è(1uÈ<< (Õriè& (
RQB_BPW
 - 1)))

	)

39 
	#RQB_WORD
(
´i
è(Õriè>> 
RQB_L2BPW
)

	)

41 
	#RQB_FFS
(
wÜd
è(
	`bsfq
(wÜd))

	)

46 
u_št64_t
 
	trqb_wÜd_t
;

	@/usr/include/machine/signal.h

6 
	~<x86/sigÇl.h
>

	@/usr/include/machine/ucontext.h

6 
	~<x86/ucÚ‹xt.h
>

	@/usr/include/sys/_lockmgr.h

33 #iâdeà
_SYS__LOCKMGR_H_


34 
	#_SYS__LOCKMGR_H_


	)

36 #ifdeà
DEBUG_LOCKS


37 
	~<sys/_¡ack.h
>

40 
	slock
 {

41 
lock_objeù
 
	mlock_objeù
;

42 vÞ©ž
ušŒ_t
 
	mlk_lock
;

43 
u_št
 
	mlk_ex¦pçž
;

44 
	mlk_timo
;

45 
	mlk_´i
;

46 #ifdeà
DEBUG_LOCKS


47 
¡ack
 
	mlk_¡ack
;

	@/usr/include/sys/_timeval.h

31 #iâdeà
_SYS__TIMEVAL_H_


32 
	#_SYS__TIMEVAL_H_


	)

34 
	~<sys/_ty³s.h
>

36 #iâdeà
_SUSECONDS_T_DECLARED


37 
__su£cÚds_t
 
	tsu£cÚds_t
;

38 
	#_SUSECONDS_T_DECLARED


	)

41 #iâdeà
_TIME_T_DECLARED


42 
__time_t
 
	ttime_t
;

43 
	#_TIME_T_DECLARED


	)

49 
	stimev®
 {

50 
time_t
 
	mtv_£c
;

51 
su£cÚds_t
 
	mtv_u£c
;

	@/usr/include/sys/_ucontext.h

33 #iâdeà
_SYS__UCONTEXT_H_


34 
	#_SYS__UCONTEXT_H_


	)

36 
	s__ucÚ‹xt
 {

45 
__sig£t_t
 
	muc_sigmask
;

46 
mcÚ‹xt_t
 
	muc_mcÚ‹xt
;

48 
__ucÚ‹xt
 *
	muc_lšk
;

49 
__¡ack_t
 
	muc_¡ack
;

50 
	muc_æags
;

51 
	m__¥¬e__
[4];

52 } 
	tucÚ‹xt_t
;

	@/usr/include/sys/bitset.h

34 #iâdeà
_SYS_BITSET_H_


35 
	#_SYS_BITSET_H_


	)

37 
	#__b™£t_mask
(
_s
, 
n
) \

38 (1L << ((
	`__b™£t_wÜds
((
_s
)) == 1) ? \

39 (
__size_t
)(
n
è: (Òè% 
_BITSET_BITS
)))

	)

41 
	#__b™£t_wÜd
(
_s
, 
n
) \

42 ((
	`__b™£t_wÜds
((
_s
)è=ð1è? 0 : ((
n
è/ 
_BITSET_BITS
))

	)

44 
	#BIT_CLR
(
_s
, 
n
, 
p
) \

45 ((
p
)->
__b™s
[
	`__b™£t_wÜd
(
_s
, 
n
)] &ð~
	`__b™£t_mask
((_s), (n)))

	)

47 
	#BIT_COPY
(
_s
, 
f
, 
t
è()(*Ñèð*(f))

	)

49 
	#BIT_ISSET
(
_s
, 
n
, 
p
) \

50 ((((
p
)->
__b™s
[
	`__b™£t_wÜd
(
_s
, 
n
)] & 
	`__b™£t_mask
((_s), (n))è!ð0))

	)

52 
	#BIT_SET
(
_s
, 
n
, 
p
) \

53 ((
p
)->
__b™s
[
	`__b™£t_wÜd
(
_s
, 
n
)] |ð
	`__b™£t_mask
((_s), (n)))

	)

55 
	#BIT_ZERO
(
_s
, 
p
) do { \

56 
__size_t
 
__i
; \

57 
__i
 = 0; __˜< 
	`__b™£t_wÜds
((
_s
)); __i++) \

58 (
p
)->
__b™s
[
__i
] = 0L; \

59 } 0)

	)

61 
	#BIT_FILL
(
_s
, 
p
) do { \

62 
__size_t
 
__i
; \

63 
__i
 = 0; __˜< 
	`__b™£t_wÜds
((
_s
)); __i++) \

64 (
p
)->
__b™s
[
__i
] = -1L; \

65 } 0)

	)

67 
	#BIT_SETOF
(
_s
, 
n
, 
p
) do { \

68 
	`BIT_ZERO
(
_s
, 
p
); \

69 (
p
)->
__b™s
[
	`__b™£t_wÜd
(
_s
, 
n
)] = 
	`__b™£t_mask
((_s), (n)); \

70 } 0)

	)

73 
	#BIT_EMPTY
(
_s
, 
p
è
	`__ex‹nsiÚ__
 ({ \

74 
__size_t
 
__i
; \

75 
__i
 = 0; __˜< 
	`__b™£t_wÜds
((
_s
)); __i++) \

76 ià((
p
)->
__b™s
[
__i
]) \

78 
__i
 =ð
	`__b™£t_wÜds
((
_s
)); \

79 })

	)

82 
	#BIT_ISFULLSET
(
_s
, 
p
è
	`__ex‹nsiÚ__
 ({ \

83 
__size_t
 
__i
; \

84 
__i
 = 0; __˜< 
	`__b™£t_wÜds
((
_s
)); __i++) \

85 ià((
p
)->
__b™s
[
__i
] != ()-1) \

87 
__i
 =ð
	`__b™£t_wÜds
((
_s
)); \

88 })

	)

91 
	#BIT_SUBSET
(
_s
, 
p
, 
c
è
	`__ex‹nsiÚ__
 ({ \

92 
__size_t
 
__i
; \

93 
__i
 = 0; __˜< 
	`__b™£t_wÜds
((
_s
)); __i++) \

94 ià(((
c
)->
__b™s
[
__i
] & \

95 (
p
)->
__b™s
[
__i
]) != \

96 (
c
)->
__b™s
[
__i
]) \

98 
__i
 =ð
	`__b™£t_wÜds
((
_s
)); \

99 })

	)

102 
	#BIT_OVERLAP
(
_s
, 
p
, 
c
è
	`__ex‹nsiÚ__
 ({ \

103 
__size_t
 
__i
; \

104 
__i
 = 0; __˜< 
	`__b™£t_wÜds
((
_s
)); __i++) \

105 ià(((
c
)->
__b™s
[
__i
] & \

106 (
p
)->
__b™s
[
__i
]) != 0) \

108 
__i
 !ð
	`__b™£t_wÜds
((
_s
)); \

109 })

	)

112 
	#BIT_CMP
(
_s
, 
p
, 
c
è
	`__ex‹nsiÚ__
 ({ \

113 
__size_t
 
__i
; \

114 
__i
 = 0; __˜< 
	`__b™£t_wÜds
((
_s
)); __i++) \

115 ià(((
c
)->
__b™s
[
__i
] != \

116 (
p
)->
__b™s
[
__i
])) \

118 
__i
 !ð
	`__b™£t_wÜds
((
_s
)); \

119 })

	)

121 
	#BIT_OR
(
_s
, 
d
, 
s
) do { \

122 
__size_t
 
__i
; \

123 
__i
 = 0; __˜< 
	`__b™£t_wÜds
((
_s
)); __i++) \

124 (
d
)->
__b™s
[
__i
] |ð(
s
)->__bits[__i]; \

125 } 0)

	)

127 
	#BIT_OR2
(
_s
, 
d
, 
s1
, 
s2
) do { \

128 
__size_t
 
__i
; \

129 
__i
 = 0; __˜< 
	`__b™£t_wÜds
((
_s
)); __i++) \

130 (
d
)->
__b™s
[
__i
] = (
s1
)->__b™s[__i] | (
s2
)->__bits[__i];\

131 } 0)

	)

133 
	#BIT_AND
(
_s
, 
d
, 
s
) do { \

134 
__size_t
 
__i
; \

135 
__i
 = 0; __˜< 
	`__b™£t_wÜds
((
_s
)); __i++) \

136 (
d
)->
__b™s
[
__i
] &ð(
s
)->__bits[__i]; \

137 } 0)

	)

139 
	#BIT_AND2
(
_s
, 
d
, 
s1
, 
s2
) do { \

140 
__size_t
 
__i
; \

141 
__i
 = 0; __˜< 
	`__b™£t_wÜds
((
_s
)); __i++) \

142 (
d
)->
__b™s
[
__i
] = (
s1
)->__b™s[__i] & (
s2
)->__bits[__i];\

143 } 0)

	)

145 
	#BIT_NAND
(
_s
, 
d
, 
s
) do { \

146 
__size_t
 
__i
; \

147 
__i
 = 0; __˜< 
	`__b™£t_wÜds
((
_s
)); __i++) \

148 (
d
)->
__b™s
[
__i
] &ð~(
s
)->__bits[__i]; \

149 } 0)

	)

151 
	#BIT_NAND2
(
_s
, 
d
, 
s1
, 
s2
) do { \

152 
__size_t
 
__i
; \

153 
__i
 = 0; __˜< 
	`__b™£t_wÜds
((
_s
)); __i++) \

154 (
d
)->
__b™s
[
__i
] = (
s1
)->__b™s[__i] & ~(
s2
)->__bits[__i];\

155 } 0)

	)

157 
	#BIT_XOR
(
_s
, 
d
, 
s
) do { \

158 
__size_t
 
__i
; \

159 
__i
 = 0; __˜< 
	`__b™£t_wÜds
((
_s
)); __i++) \

160 (
d
)->
__b™s
[
__i
] ^ð(
s
)->__bits[__i]; \

161 } 0)

	)

163 
	#BIT_XOR2
(
_s
, 
d
, 
s1
, 
s2
) do { \

164 
__size_t
 
__i
; \

165 
__i
 = 0; __˜< 
	`__b™£t_wÜds
((
_s
)); __i++) \

166 (
d
)->
__b™s
[
__i
] = (
s1
)->__b™s[__i] ^ (
s2
)->__bits[__i];\

167 } 0)

	)

169 
	#BIT_CLR_ATOMIC
(
_s
, 
n
, 
p
) \

170 
	`©omic_þ—r_lÚg
(&(
p
)->
__b™s
[
	`__b™£t_wÜd
(
_s
, 
n
)], \

171 
	`__b™£t_mask
((
_s
), 
n
))

	)

173 
	#BIT_SET_ATOMIC
(
_s
, 
n
, 
p
) \

174 
	`©omic_£t_lÚg
(&(
p
)->
__b™s
[
	`__b™£t_wÜd
(
_s
, 
n
)], \

175 
	`__b™£t_mask
((
_s
), 
n
))

	)

177 
	#BIT_SET_ATOMIC_ACQ
(
_s
, 
n
, 
p
) \

178 
	`©omic_£t_acq_lÚg
(&(
p
)->
__b™s
[
	`__b™£t_wÜd
(
_s
, 
n
)], \

179 
	`__b™£t_mask
((
_s
), 
n
))

	)

182 
	#BIT_AND_ATOMIC
(
_s
, 
d
, 
s
) do { \

183 
__size_t
 
__i
; \

184 
__i
 = 0; __˜< 
	`__b™£t_wÜds
((
_s
)); __i++) \

185 
	`©omic_þ—r_lÚg
(&(
d
)->
__b™s
[
__i
], \

186 ~(
s
)->
__b™s
[
__i
]); \

187 } 0)

	)

189 
	#BIT_OR_ATOMIC
(
_s
, 
d
, 
s
) do { \

190 
__size_t
 
__i
; \

191 
__i
 = 0; __˜< 
	`__b™£t_wÜds
((
_s
)); __i++) \

192 
	`©omic_£t_lÚg
(&(
d
)->
__b™s
[
__i
], \

193 (
s
)->
__b™s
[
__i
]); \

194 } 0)

	)

196 
	#BIT_COPY_STORE_REL
(
_s
, 
f
, 
t
) do { \

197 
__size_t
 
__i
; \

198 
__i
 = 0; __˜< 
	`__b™£t_wÜds
((
_s
)); __i++) \

199 
	`©omic_¡Üe_»l_lÚg
(&(
t
)->
__b™s
[
__i
], \

200 (
f
)->
__b™s
[
__i
]); \

201 } 0)

	)

203 
	#BIT_FFS
(
_s
, 
p
è
	`__ex‹nsiÚ__
 ({ \

204 
__size_t
 
__i
; \

205 
__b™
; \

207 
__b™
 = 0; \

208 
__i
 = 0; __˜< 
	`__b™£t_wÜds
((
_s
)); __i++) { \

209 ià((
p
)->
__b™s
[
__i
] != 0) { \

210 
__b™
 = 
	`ff¦
((
p
)->
__b™s
[
__i
]); \

211 
__b™
 +ð
__i
 * 
_BITSET_BITS
; \

215 
__b™
; \

216 })

	)

218 
	#BIT_FLS
(
_s
, 
p
è
	`__ex‹nsiÚ__
 ({ \

219 
__size_t
 
__i
; \

220 
__b™
; \

222 
__b™
 = 0; \

223 
__i
 = 
	`__b™£t_wÜds
((
_s
)); __i > 0; __i--) { \

224 ià((
p
)->
__b™s
[
__i
 - 1] != 0) { \

225 
__b™
 = 
	`æ¦
((
p
)->
__b™s
[
__i
 - 1]); \

226 
__b™
 +ð(
__i
 - 1è* 
_BITSET_BITS
; \

230 
__b™
; \

231 })

	)

233 
	#BIT_COUNT
(
_s
, 
p
è
	`__ex‹nsiÚ__
 ({ \

234 
__size_t
 
__i
; \

235 
__couÁ
; \

237 
__couÁ
 = 0; \

238 
__i
 = 0; __˜< 
	`__b™£t_wÜds
((
_s
)); __i++) \

239 
__couÁ
 +ð
	`__b™couÁl
((
p
)->
__b™s
[
__i
]); \

240 
__couÁ
; \

241 })

	)

243 
	#BITSET_T_INITIALIZER
(
x
) \

244 { .
__b™s
 = { 
x
 } }

	)

246 
	#BITSET_FSET
(
n
) \

247 [ 0 ... ((
n
è- 1è] = (-1L)

	)

252 
	#BITSET_ALLOC
(
_s
, 
mt
, 
mf
) \

253 
	`m®loc
(
	`__b™£t_wÜds
(
_s
è* (), 
mt
, (
mf
))

	)

	@/usr/include/sys/epoch_private.h

30 #iâdeà
_SYS_EPOCH_PRIVATE_H_


31 
	#_SYS_EPOCH_PRIVATE_H_


	)

32 #iâdeà
_KERNEL


35 
	~<ck_•och.h
>

36 
	~<sys/kpž™e.h
>

38 
	~<sys/mu‹x.h
>

40 
•och_adju¡_´io
(
th»ad
 *
td
, 
u_ch¬
 
´io
);

41 #iâdeà
_SYS_SYSTM_H_


42 
ü™iÿl_ex™_´“m±
();

45 #ifdeà
__amd64__


46 
	#EPOCH_ALIGN
 
CACHE_LINE_SIZE
*2

	)

48 
	#EPOCH_ALIGN
 
CACHE_LINE_SIZE


	)

54 
__šlše
 

55 
	$ü™iÿl_’‹r_§
(*
td¬g
)

57 
th»ad_l™e
 *
td
;

59 
td
 = 
td¬g
;

60 
td
->
td_ü™Ã¡
++;

61 
	`__compž”_memb¬
();

62 
	}
}

64 
__šlše
 

65 
	$ü™iÿl_ex™_§
(*
td¬g
)

67 
th»ad_l™e
 *
td
;

69 
td
 = 
td¬g
;

70 
	`MPASS
(
td
->
td_ü™Ã¡
 > 0);

71 
	`__compž”_memb¬
();

72 
td
->
td_ü™Ã¡
--;

73 
	`__compž”_memb¬
();

74 ià(
	`__´ediù_çl£
(
td
->
td_ow•»em±
 != 0))

75 
	`ü™iÿl_ex™_´“m±
();

76 
	}
}

78 
	s•och_th»ad
 {

79 #ifdeà
EPOCH_TRACKER_DEBUG


80 
ušt64_t
 
	m‘_magic_´e
;

82 
TAILQ_ENTRY
(
•och_th»ad
è
	m‘_lšk
;

83 
th»ad
 *
	m‘_td
;

84 
ck_•och_£ùiÚ_t
 
	m‘_£ùiÚ
;

85 #ifdeà
EPOCH_TRACKER_DEBUG


86 
ušt64_t
 
	m‘_magic_po¡
;

88 } *
	t•och_th»ad_t
;

89 
TAILQ_HEAD
 (
•och_tdli¡
, 
•och_th»ad
);

91 
	s•och_»cÜd
 {

92 
ck_•och_»cÜd_t
 
	m”_»cÜd
;

93 vÞ©ž
•och_tdli¡
 
	m”_tdli¡
;

94 vÞ©ž
ušt32_t
 
	m”_g’
;

95 
ušt32_t
 
	m”_ýuid
;

96 } 
	t__®igÃd
(
	tEPOCH_ALIGN
è*
	t•och_»cÜd_t
;

98 
	s•och
 {

99 
ck_•och
 
e_•och
 
__®igÃd
(
EPOCH_ALIGN
);

100 
•och_»cÜd_t
 
	me_pýu_»cÜd
;

101 
	me_idx
;

102 
	me_æags
;

105 
•och_»cÜd_t


106 
	$•och_cu¼ecÜd
(
•och_t
 
•och
)

108  
	`zpýu_g‘_ýu
(
•och
->
e_pýu_»cÜd
, 
curýu
);

109 
	}
}

111 
	#INIT_CHECK
(
•och
) \

113 ià(
	`__´ediù_çl£
((
•och
è=ð
NULL
)) \

115 } 0)

	)

117 
__šlše
 

118 
	$•och_’‹r_´“m±
(
•och_t
 
•och
, 
•och_Œack”_t
 
‘
)

120 
•och_»cÜd
 *
”
;

121 
•och_th»ad
 *
‘d
;

122 
th»ad_l™e
 *
td
;

124 
	`MPASS
(
cÞd
 || 
•och
 !ð
NULL
);

125 
	`INIT_CHECK
(
•och
);

126 
‘d
 = (*)
‘
;

127 
	`MPASS
(
•och
->
e_æags
 & 
EPOCH_PREEMPT
);

128 #ifdeà
EPOCH_TRACKER_DEBUG


129 
‘d
->
‘_magic_´e
 = 
EPOCH_MAGIC0
;

130 
‘d
->
‘_magic_po¡
 = 
EPOCH_MAGIC1
;

132 
td
 = (
th»ad_l™e
 *)
cu¹h»ad
;

133 
‘d
->
‘_td
 = (*)
td
;

134 
td
->
td_•ochÃ¡
++;

135 
	`ü™iÿl_’‹r_§
(
td
);

136 
	`sched_pš_l™e
(
td
);

138 
td
->
td_´e_•och_´io
 =d->
td_´iÜ™y
;

139 
”
 = 
	`•och_cu¼ecÜd
(
•och
);

140 
	`TAILQ_INSERT_TAIL
(&
”
->
”_tdli¡
, 
‘d
, 
‘_lšk
);

141 
	`ck_•och_begš
(&
”
->
”_»cÜd
, (
ck_•och_£ùiÚ_t
 *)&
‘d
->
‘_£ùiÚ
);

142 
	`ü™iÿl_ex™_§
(
td
);

143 
	}
}

145 
__šlše
 

146 
	$•och_’‹r
(
•och_t
 
•och
)

148 
th»ad_l™e
 *
td
;

149 
•och_»cÜd_t
 
”
;

151 
	`MPASS
(
cÞd
 || 
•och
 !ð
NULL
);

152 
	`INIT_CHECK
(
•och
);

153 
td
 = (
th»ad_l™e
 *)
cu¹h»ad
;

155 
td
->
td_•ochÃ¡
++;

156 
	`ü™iÿl_’‹r_§
(
td
);

157 
”
 = 
	`•och_cu¼ecÜd
(
•och
);

158 
	`ck_•och_begš
(&
”
->
”_»cÜd
, 
NULL
);

159 
	}
}

161 
__šlše
 

162 
	$•och_ex™_´“m±
(
•och_t
 
•och
, 
•och_Œack”_t
 
‘
)

164 
•och_»cÜd
 *
”
;

165 
•och_th»ad
 *
‘d
;

166 
th»ad_l™e
 *
td
;

168 
	`INIT_CHECK
(
•och
);

169 
td
 = (
th»ad_l™e
 *)
cu¹h»ad
;

170 
	`ü™iÿl_’‹r_§
(
td
);

171 
	`sched_uÅš_l™e
(
td
);

172 
	`MPASS
(
td
->
td_•ochÃ¡
);

173 
td
->
td_•ochÃ¡
--;

174 
”
 = 
	`•och_cu¼ecÜd
(
•och
);

175 
	`MPASS
(
•och
->
e_æags
 & 
EPOCH_PREEMPT
);

176 
‘d
 = (*)
‘
;

177 
	`MPASS
(
‘d
 !ð
NULL
);

178 
	`MPASS
(
‘d
->
‘_td
 =ð(
th»ad
 *)
td
);

179 #ifdeà
EPOCH_TRACKER_DEBUG


180 
	`MPASS
(
‘d
->
‘_magic_´e
 =ð
EPOCH_MAGIC0
);

181 
	`MPASS
(
‘d
->
‘_magic_po¡
 =ð
EPOCH_MAGIC1
);

182 
‘d
->
‘_magic_´e
 = 0;

183 
‘d
->
‘_magic_po¡
 = 0;

185 
‘d
->
‘_td
 = (*)0xDEADBEEF;

186 
	`ck_•och_’d
(&
”
->
”_»cÜd
,

187 (
ck_•och_£ùiÚ_t
 *)&
‘d
->
‘_£ùiÚ
);

188 
	`TAILQ_REMOVE
(&
”
->
”_tdli¡
, 
‘d
, 
‘_lšk
);

189 
”
->
”_g’
++;

190 ià(
	`__´ediù_çl£
(
td
->
td_´e_•och_´io
 !ðtd->
td_´iÜ™y
))

191 
	`•och_adju¡_´io
((
th»ad
 *)
td
,d->
td_´e_•och_´io
);

192 
	`ü™iÿl_ex™_§
(
td
);

193 
	}
}

195 
__šlše
 

196 
	$•och_ex™
(
•och_t
 
•och
)

198 
th»ad_l™e
 *
td
;

199 
•och_»cÜd_t
 
”
;

201 
	`INIT_CHECK
(
•och
);

202 
td
 = (
th»ad_l™e
 *)
cu¹h»ad
;

203 
	`MPASS
(
td
->
td_•ochÃ¡
);

204 
td
->
td_•ochÃ¡
--;

205 
”
 = 
	`•och_cu¼ecÜd
(
•och
);

206 
	`ck_•och_’d
(&
”
->
”_»cÜd
, 
NULL
);

207 
	`ü™iÿl_ex™_§
(
td
);

208 
	}
}

	@/usr/include/time.h

43 #iâdeà
_TIME_H_


44 
	#_TIME_H_


	)

46 
	~<sys/cdefs.h
>

47 
	~<sys/_nuÎ.h
>

48 
	~<sys/_ty³s.h
>

50 #ià
__POSIX_VISIBLE
 > 0 && __POSIX_VISIBLE < 200112 || 
__BSD_VISIBLE


55 
	#CLK_TCK
 128

	)

59 
	#CLOCKS_PER_SEC
 128

	)

61 #iâdeà
_CLOCK_T_DECLARED


62 
__þock_t
 
	tþock_t
;

63 
	#_CLOCK_T_DECLARED


	)

66 #iâdeà
_TIME_T_DECLARED


67 
__time_t
 
	ttime_t
;

68 
	#_TIME_T_DECLARED


	)

71 #iâdeà
_SIZE_T_DECLARED


72 
__size_t
 
	tsize_t
;

73 
	#_SIZE_T_DECLARED


	)

76 #ià
__POSIX_VISIBLE
 >= 199309

80 #iâdeà
_CLOCKID_T_DECLARED


81 
__þockid_t
 
	tþockid_t
;

82 
	#_CLOCKID_T_DECLARED


	)

85 #iâdeà
_TIMER_T_DECLARED


86 
__tim”_t
 
	ttim”_t
;

87 
	#_TIMER_T_DECLARED


	)

90 
	~<sys/time¥ec.h
>

93 #ià
__POSIX_VISIBLE
 >= 200112

94 #iâdeà
_PID_T_DECLARED


95 
__pid_t
 
	tpid_t
;

96 
	#_PID_T_DECLARED


	)

101 #ià!
defšed
(
CLOCK_REALTIME
è&& 
__POSIX_VISIBLE
 >= 200112

102 
	#CLOCK_REALTIME
 0

	)

103 #ifdeà
__BSD_VISIBLE


104 
	#CLOCK_VIRTUAL
 1

	)

105 
	#CLOCK_PROF
 2

	)

107 
	#CLOCK_MONOTONIC
 4

	)

108 
	#CLOCK_UPTIME
 5

	)

109 
	#CLOCK_UPTIME_PRECISE
 7

	)

110 
	#CLOCK_UPTIME_FAST
 8

	)

111 
	#CLOCK_REALTIME_PRECISE
 9

	)

112 
	#CLOCK_REALTIME_FAST
 10

	)

113 
	#CLOCK_MONOTONIC_PRECISE
 11

	)

114 
	#CLOCK_MONOTONIC_FAST
 12

	)

115 
	#CLOCK_SECOND
 13

	)

116 
	#CLOCK_THREAD_CPUTIME_ID
 14

	)

117 
	#CLOCK_PROCESS_CPUTIME_ID
 15

	)

120 #ià!
defšed
(
TIMER_ABSTIME
è&& 
__POSIX_VISIBLE
 >= 200112

121 #ià
__BSD_VISIBLE


122 
	#TIMER_RELTIME
 0x0

	)

124 
	#TIMER_ABSTIME
 0x1

	)

127 
	stm
 {

128 
	mtm_£c
;

129 
	mtm_mš
;

130 
	mtm_hour
;

131 
	mtm_mday
;

132 
	mtm_mÚ
;

133 
	mtm_y—r
;

134 
	mtm_wday
;

135 
	mtm_yday
;

136 
	mtm_isd¡
;

137 
	mtm_gmtoff
;

138 *
	mtm_zÚe
;

141 #ià
__POSIX_VISIBLE


142 *
tzÇme
[];

145 
__BEGIN_DECLS


146 *
asùime
(cÚ¡ 
tm
 *);

147 
þock_t
 
þock
();

148 *
ùime
(cÚ¡ 
time_t
 *);

149 #iâdeà
_STANDALONE


150 
difáime
(
time_t
,ime_t);

153 
tm
 *
gmtime
(cÚ¡ 
time_t
 *);

154 
tm
 *
loÿÉime
(cÚ¡ 
time_t
 *);

155 
time_t
 
mktime
(
tm
 *);

156 
size_t
 
¡ráime
(* 
__»¡riù
, size_t, const * __restrict,

157 cÚ¡ 
tm
 * 
__»¡riù
);

158 
time_t
 
time
(time_t *);

159 #ià
__POSIX_VISIBLE
 >= 200112

160 
	gsigev’t
;

161 
tim”_ü—‹
(
þockid_t
, 
sigev’t
 *
__»¡riù
, 
tim”_t
 *__restrict);

162 
tim”_d–‘e
(
tim”_t
);

163 
tim”_g‘time
(
tim”_t
, 
™im”¥ec
 *);

164 
tim”_g‘ov”run
(
tim”_t
);

165 
tim”_£‰ime
(
tim”_t
, , cÚ¡ 
™im”¥ec
 *
__»¡riù
,

166 
™im”¥ec
 *
__»¡riù
);

168 #ià
__POSIX_VISIBLE


169 
tz£t
();

172 #ià
__POSIX_VISIBLE
 >= 199309

173 
þock_g‘»s
(
þockid_t
, 
time¥ec
 *);

174 
þock_g‘time
(
þockid_t
, 
time¥ec
 *);

175 
þock_£‰ime
(
þockid_t
, cÚ¡ 
time¥ec
 *);

176 
Çno¦“p
(cÚ¡ 
time¥ec
 *, timespec *);

179 #ià
__POSIX_VISIBLE
 >= 200112

180 
þock_g‘ýuþockid
(
pid_t
, 
þockid_t
 *);

181 
þock_Çno¦“p
(
þockid_t
, , cÚ¡ 
time¥ec
 *, timespec *);

184 #ià
__POSIX_VISIBLE
 >= 199506

185 *
asùime_r
(cÚ¡ 
tm
 *, *);

186 *
ùime_r
(cÚ¡ 
time_t
 *, *);

187 
tm
 *
gmtime_r
(cÚ¡ 
time_t
 *, tm *);

188 
tm
 *
loÿÉime_r
(cÚ¡ 
time_t
 *, tm *);

191 #ià
__XSI_VISIBLE


192 *
¡½time
(cÚ¡ * 
__»¡riù
, const * __restrict,

193 
tm
 * 
__»¡riù
);

196 #ià
__BSD_VISIBLE


197 *
timezÚe
(, );

198 
tz£tw®l
();

199 
time_t
 
tim–oÿl
(
tm
 * const);

200 
time_t
 
timegm
(
tm
 * const);

201 
tim”_oshªdË_Å
(
tim”_t
 
tim”id
);

202 
time_t
 
time2posix
Ñime_ˆ
t
);

203 
time_t
 
posix2time
Ñime_ˆ
t
);

206 #ià
__POSIX_VISIBLE
 >ð200809 || 
defšed
(
_XLOCALE_H_
)

207 
	~<xloÿË/_time.h
>

210 #ià
defšed
(
__BSD_VISIBLE
è|| 
__ISO_C_VISIBLE
 >= 2011 || \

211 (
defšed
(
ýlu¥lus
è&& 
	gýlu¥lus
 >= 201703)

212 
	~<sys/_time¥ec.h
>

214 
	#TIME_UTC
 1

	)

215 
time¥ec_g‘
(
time¥ec
 *
ts
, 
ba£
);

218 
	g__END_DECLS


	@/usr/include/sys/_stack.h

31 #iâdeà
_SYS__STACK_H_


32 
	#_SYS__STACK_H_


	)

34 
	#STACK_MAX
 18

	)

36 
	s¡ack
 {

37 
	md•th
;

38 
vm_off£t_t
 
	mpcs
[
STACK_MAX
];

	@/usr/include/xlocale/_time.h

34 #iâdeà
_LOCALE_T_DEFINED


35 
	#_LOCALE_T_DEFINED


	)

36 
_xloÿË
 *
	tloÿË_t
;

44 #iâdeà
_XLOCALE_LOCALE1_H


45 
	#_XLOCALE_LOCALE1_H


	)

47 
size_t
 
	$¡ráime_l
(* 
__»¡riù
, 
size_t
, const * __restrict,

48 cÚ¡ 
tm
 * 
__»¡riù
, 
loÿË_t
è
	`__¡ráim–ike
(3, 0);

52 #ifdeà
_XLOCALE_H_


53 #iâdeà
_XLOCALE_LOCALE2_H


54 
	#_XLOCALE_LOCALE2_H


	)

56 *
	`¡½time_l
(cÚ¡ * 
__»¡riù
, const * __restrict,

57 
tm
 * 
__»¡riù
, 
loÿË_t
);

	@
1
.
1
/usr/include
773
28320
src/common/inc/cpuopsys.h
src/common/inc/nv-gpu-info.h
src/common/inc/nv-modeset-interface.h
src/common/inc/nvCpuUuid.h
src/common/inc/nvipmi.h
src/common/inc/nvkms-api-types.h
src/common/inc/nvkms-kapi.h
src/common/inc/nvlimits.h
src/common/inc/nvstatus.h
src/common/inc/nvstatuscodes.h
src/common/inc/nvtypes.h
src/common/inc/xapi-sdk.h
src/common/linuxkpi/drivers/gpu/drm/drm_crtc_helper_internal.h
src/common/linuxkpi/drivers/gpu/drm/drm_crtc_internal.h
src/common/linuxkpi/drivers/gpu/drm/drm_internal.h
src/common/linuxkpi/drivers/gpu/drm/drm_legacy.h
src/common/linuxkpi/drivers/gpu/drm/drm_os_config.h
src/common/linuxkpi/drivers/gpu/drm/drm_os_freebsd.h
src/common/linuxkpi/drivers/gpu/drm/drm_trace.h
src/common/linuxkpi/drivers/gpu/drm/drm_trace_freebsd.h
src/common/linuxkpi/dummy/include/asm/agp.h
src/common/linuxkpi/dummy/include/asm/div64.h
src/common/linuxkpi/dummy/include/asm/hypervisor.h
src/common/linuxkpi/dummy/include/asm/intel-mid.h
src/common/linuxkpi/dummy/include/asm/ioctl.h
src/common/linuxkpi/dummy/include/asm/msr-index.h
src/common/linuxkpi/dummy/include/asm/unaligned.h
src/common/linuxkpi/dummy/include/linux/agp_backend.h
src/common/linuxkpi/dummy/include/linux/bug.h
src/common/linuxkpi/dummy/include/linux/cpu.h
src/common/linuxkpi/dummy/include/linux/ctype.h
src/common/linuxkpi/dummy/include/linux/dma_remapping.h
src/common/linuxkpi/dummy/include/linux/fault-inject.h
src/common/linuxkpi/dummy/include/linux/fdtable.h
src/common/linuxkpi/dummy/include/linux/init.h
src/common/linuxkpi/dummy/include/linux/input.h
src/common/linuxkpi/dummy/include/linux/intel-iommu.h
src/common/linuxkpi/dummy/include/linux/irq_work.h
src/common/linuxkpi/dummy/include/linux/list_sort.h
src/common/linuxkpi/dummy/include/linux/media-bus-format.h
src/common/linuxkpi/dummy/include/linux/mfd/core.h
src/common/linuxkpi/dummy/include/linux/mman.h
src/common/linuxkpi/dummy/include/linux/pnp.h
src/common/linuxkpi/dummy/include/linux/proc_fs.h
src/common/linuxkpi/dummy/include/linux/resource_ext.h
src/common/linuxkpi/dummy/include/linux/sched/clock.h
src/common/linuxkpi/dummy/include/linux/sched/signal.h
src/common/linuxkpi/dummy/include/linux/shmem_fs.h
src/common/linuxkpi/dummy/include/linux/stat.h
src/common/linuxkpi/dummy/include/linux/stddef.h
src/common/linuxkpi/dummy/include/linux/suspend.h
src/common/linuxkpi/dummy/include/linux/swiotlb.h
src/common/linuxkpi/dummy/include/linux/tty.h
src/common/linuxkpi/dummy/include/linux/version.h
src/common/linuxkpi/dummy/include/linux/vt.h
src/common/linuxkpi/dummy/include/linux/zlib.h
src/common/linuxkpi/dummy/include/video/of_videomode.h
src/common/linuxkpi/gplv2/include/acpi/acpi.h
src/common/linuxkpi/gplv2/include/acpi/acpi_bus.h
src/common/linuxkpi/gplv2/include/acpi/acpi_drivers.h
src/common/linuxkpi/gplv2/include/acpi/button.h
src/common/linuxkpi/gplv2/include/acpi/video.h
src/common/linuxkpi/gplv2/include/asm/barrier.h
src/common/linuxkpi/gplv2/include/asm/cpufeature.h
src/common/linuxkpi/gplv2/include/asm/cpufeatures.h
src/common/linuxkpi/gplv2/include/asm/fpu/api.h
src/common/linuxkpi/gplv2/include/asm/iosf_mbi.h
src/common/linuxkpi/gplv2/include/asm/mtrr.h
src/common/linuxkpi/gplv2/include/asm/pgtable.h
src/common/linuxkpi/gplv2/include/asm/processor.h
src/common/linuxkpi/gplv2/include/asm/required-features.h
src/common/linuxkpi/gplv2/include/asm/set_memory.h
src/common/linuxkpi/gplv2/include/linux/acpi.h
src/common/linuxkpi/gplv2/include/linux/agp_backend.h
src/common/linuxkpi/gplv2/include/linux/anon_inodefs.h
src/common/linuxkpi/gplv2/include/linux/anon_inodes.h
src/common/linuxkpi/gplv2/include/linux/async.h
src/common/linuxkpi/gplv2/include/linux/backlight.h
src/common/linuxkpi/gplv2/include/linux/capability.h
src/common/linuxkpi/gplv2/include/linux/circ_buf.h
src/common/linuxkpi/gplv2/include/linux/compiler.h
src/common/linuxkpi/gplv2/include/linux/component.h
src/common/linuxkpi/gplv2/include/linux/console.h
src/common/linuxkpi/gplv2/include/linux/cpufreq.h
src/common/linuxkpi/gplv2/include/linux/debugfs.h
src/common/linuxkpi/gplv2/include/linux/device.h
src/common/linuxkpi/gplv2/include/linux/dma-buf.h
src/common/linuxkpi/gplv2/include/linux/dma-fence-array.h
src/common/linuxkpi/gplv2/include/linux/dma-fence.h
src/common/linuxkpi/gplv2/include/linux/dma-mapping.h
src/common/linuxkpi/gplv2/include/linux/dmi.h
src/common/linuxkpi/gplv2/include/linux/efi.h
src/common/linuxkpi/gplv2/include/linux/fb.h
src/common/linuxkpi/gplv2/include/linux/firmware.h
src/common/linuxkpi/gplv2/include/linux/frame.h
src/common/linuxkpi/gplv2/include/linux/fs.h
src/common/linuxkpi/gplv2/include/linux/fwnode.h
src/common/linuxkpi/gplv2/include/linux/gcd.h
src/common/linuxkpi/gplv2/include/linux/gpio/consumer.h
src/common/linuxkpi/gplv2/include/linux/hash.h
src/common/linuxkpi/gplv2/include/linux/hashtable.h
src/common/linuxkpi/gplv2/include/linux/hdmi.h
src/common/linuxkpi/gplv2/include/linux/highmem.h
src/common/linuxkpi/gplv2/include/linux/hwmon-sysfs.h
src/common/linuxkpi/gplv2/include/linux/hwmon.h
src/common/linuxkpi/gplv2/include/linux/i2c-algo-bit.h
src/common/linuxkpi/gplv2/include/linux/i2c.h
src/common/linuxkpi/gplv2/include/linux/interval_tree.h
src/common/linuxkpi/gplv2/include/linux/interval_tree_generic.h
src/common/linuxkpi/gplv2/include/linux/io.h
src/common/linuxkpi/gplv2/include/linux/iommu.h
src/common/linuxkpi/gplv2/include/linux/irq.h
src/common/linuxkpi/gplv2/include/linux/irqdesc.h
src/common/linuxkpi/gplv2/include/linux/irqdomain.h
src/common/linuxkpi/gplv2/include/linux/irqflags.h
src/common/linuxkpi/gplv2/include/linux/irqhandler.h
src/common/linuxkpi/gplv2/include/linux/kconfig.h
src/common/linuxkpi/gplv2/include/linux/kernel.h
src/common/linuxkpi/gplv2/include/linux/kfifo.h
src/common/linuxkpi/gplv2/include/linux/llist.h
src/common/linuxkpi/gplv2/include/linux/mem_encrypt.h
src/common/linuxkpi/gplv2/include/linux/mempolicy.h
src/common/linuxkpi/gplv2/include/linux/mmu_context.h
src/common/linuxkpi/gplv2/include/linux/mmu_notifier.h
src/common/linuxkpi/gplv2/include/linux/mod_devicetable.h
src/common/linuxkpi/gplv2/include/linux/module.h
src/common/linuxkpi/gplv2/include/linux/notifier.h
src/common/linuxkpi/gplv2/include/linux/numa.h
src/common/linuxkpi/gplv2/include/linux/of.h
src/common/linuxkpi/gplv2/include/linux/of_device.h
src/common/linuxkpi/gplv2/include/linux/oom.h
src/common/linuxkpi/gplv2/include/linux/page.h
src/common/linuxkpi/gplv2/include/linux/pagemap.h
src/common/linuxkpi/gplv2/include/linux/pagevec.h
src/common/linuxkpi/gplv2/include/linux/pci-aspm.h
src/common/linuxkpi/gplv2/include/linux/pci.h
src/common/linuxkpi/gplv2/include/linux/perf_event.h
src/common/linuxkpi/gplv2/include/linux/platform_device.h
src/common/linuxkpi/gplv2/include/linux/pm.h
src/common/linuxkpi/gplv2/include/linux/pm_domain.h
src/common/linuxkpi/gplv2/include/linux/pm_qos.h
src/common/linuxkpi/gplv2/include/linux/pm_runtime.h
src/common/linuxkpi/gplv2/include/linux/power_supply.h
src/common/linuxkpi/gplv2/include/linux/prefetch.h
src/common/linuxkpi/gplv2/include/linux/property.h
src/common/linuxkpi/gplv2/include/linux/pwm.h
src/common/linuxkpi/gplv2/include/linux/ratelimit.h
src/common/linuxkpi/gplv2/include/linux/rbtree.h
src/common/linuxkpi/gplv2/include/linux/rbtree_augmented.h
src/common/linuxkpi/gplv2/include/linux/reboot.h
src/common/linuxkpi/gplv2/include/linux/refcount.h
src/common/linuxkpi/gplv2/include/linux/relay.h
src/common/linuxkpi/gplv2/include/linux/reservation.h
src/common/linuxkpi/gplv2/include/linux/scatterlist.h
src/common/linuxkpi/gplv2/include/linux/sched.h
src/common/linuxkpi/gplv2/include/linux/sched/mm.h
src/common/linuxkpi/gplv2/include/linux/seq_file.h
src/common/linuxkpi/gplv2/include/linux/seqlock.h
src/common/linuxkpi/gplv2/include/linux/shrinker.h
src/common/linuxkpi/gplv2/include/linux/sort.h
src/common/linuxkpi/gplv2/include/linux/statfs.h
src/common/linuxkpi/gplv2/include/linux/stop_machine.h
src/common/linuxkpi/gplv2/include/linux/stringify.h
src/common/linuxkpi/gplv2/include/linux/suspend.h
src/common/linuxkpi/gplv2/include/linux/swap.h
src/common/linuxkpi/gplv2/include/linux/sync_file.h
src/common/linuxkpi/gplv2/include/linux/sysrq.h
src/common/linuxkpi/gplv2/include/linux/tracepoint.h
src/common/linuxkpi/gplv2/include/linux/typecheck.h
src/common/linuxkpi/gplv2/include/linux/uuid.h
src/common/linuxkpi/gplv2/include/linux/vga_switcheroo.h
src/common/linuxkpi/gplv2/include/linux/vgaarb.h
src/common/linuxkpi/gplv2/include/trace/define_trace.h
src/common/linuxkpi/gplv2/include/trace/events/dma_fence.h
src/common/linuxkpi/gplv2/include/uapi/linux/dma-buf.h
src/common/linuxkpi/gplv2/include/uapi/linux/fb.h
src/common/linuxkpi/gplv2/include/uapi/linux/sched/types.h
src/common/linuxkpi/gplv2/include/uapi/linux/sync_file.h
src/common/linuxkpi/gplv2/include/uapi/linux/uuid.h
src/common/linuxkpi/gplv2/include/video/display_timing.h
src/common/linuxkpi/gplv2/include/video/mipi_display.h
src/common/linuxkpi/gplv2/include/video/vga.h
src/common/linuxkpi/gplv2/include/video/videomode.h
src/common/linuxkpi/include/drm/amd_asic_type.h
src/common/linuxkpi/include/drm/ati_pcigart.h
src/common/linuxkpi/include/drm/bridge/analogix_dp.h
src/common/linuxkpi/include/drm/bridge/dw_hdmi.h
src/common/linuxkpi/include/drm/bridge/dw_mipi_dsi.h
src/common/linuxkpi/include/drm/bridge/mhl.h
src/common/linuxkpi/include/drm/drmP.h
src/common/linuxkpi/include/drm/drm_agpsupport.h
src/common/linuxkpi/include/drm/drm_atomic.h
src/common/linuxkpi/include/drm/drm_atomic_helper.h
src/common/linuxkpi/include/drm/drm_auth.h
src/common/linuxkpi/include/drm/drm_blend.h
src/common/linuxkpi/include/drm/drm_bridge.h
src/common/linuxkpi/include/drm/drm_cache.h
src/common/linuxkpi/include/drm/drm_color_mgmt.h
src/common/linuxkpi/include/drm/drm_connector.h
src/common/linuxkpi/include/drm/drm_crtc.h
src/common/linuxkpi/include/drm/drm_crtc_helper.h
src/common/linuxkpi/include/drm/drm_debugfs.h
src/common/linuxkpi/include/drm/drm_debugfs_crc.h
src/common/linuxkpi/include/drm/drm_device.h
src/common/linuxkpi/include/drm/drm_displayid.h
src/common/linuxkpi/include/drm/drm_dp_dual_mode_helper.h
src/common/linuxkpi/include/drm/drm_dp_helper.h
src/common/linuxkpi/include/drm/drm_dp_mst_helper.h
src/common/linuxkpi/include/drm/drm_drv.h
src/common/linuxkpi/include/drm/drm_edid.h
src/common/linuxkpi/include/drm/drm_encoder.h
src/common/linuxkpi/include/drm/drm_encoder_slave.h
src/common/linuxkpi/include/drm/drm_fb_cma_helper.h
src/common/linuxkpi/include/drm/drm_fb_helper.h
src/common/linuxkpi/include/drm/drm_file.h
src/common/linuxkpi/include/drm/drm_fixed.h
src/common/linuxkpi/include/drm/drm_flip_work.h
src/common/linuxkpi/include/drm/drm_fourcc.h
src/common/linuxkpi/include/drm/drm_framebuffer.h
src/common/linuxkpi/include/drm/drm_gem.h
src/common/linuxkpi/include/drm/drm_gem_cma_helper.h
src/common/linuxkpi/include/drm/drm_gem_framebuffer_helper.h
src/common/linuxkpi/include/drm/drm_global.h
src/common/linuxkpi/include/drm/drm_hashtab.h
src/common/linuxkpi/include/drm/drm_ioctl.h
src/common/linuxkpi/include/drm/drm_irq.h
src/common/linuxkpi/include/drm/drm_lease.h
src/common/linuxkpi/include/drm/drm_legacy.h
src/common/linuxkpi/include/drm/drm_mipi_dsi.h
src/common/linuxkpi/include/drm/drm_mm.h
src/common/linuxkpi/include/drm/drm_mode_config.h
src/common/linuxkpi/include/drm/drm_mode_object.h
src/common/linuxkpi/include/drm/drm_modes.h
src/common/linuxkpi/include/drm/drm_modeset_helper.h
src/common/linuxkpi/include/drm/drm_modeset_helper_vtables.h
src/common/linuxkpi/include/drm/drm_modeset_lock.h
src/common/linuxkpi/include/drm/drm_of.h
src/common/linuxkpi/include/drm/drm_panel.h
src/common/linuxkpi/include/drm/drm_pci.h
src/common/linuxkpi/include/drm/drm_pciids.h
src/common/linuxkpi/include/drm/drm_plane.h
src/common/linuxkpi/include/drm/drm_plane_helper.h
src/common/linuxkpi/include/drm/drm_prime.h
src/common/linuxkpi/include/drm/drm_print.h
src/common/linuxkpi/include/drm/drm_property.h
src/common/linuxkpi/include/drm/drm_rect.h
src/common/linuxkpi/include/drm/drm_scdc_helper.h
src/common/linuxkpi/include/drm/drm_simple_kms_helper.h
src/common/linuxkpi/include/drm/drm_syncobj.h
src/common/linuxkpi/include/drm/drm_sysfs.h
src/common/linuxkpi/include/drm/drm_utils.h
src/common/linuxkpi/include/drm/drm_vblank.h
src/common/linuxkpi/include/drm/drm_vma_manager.h
src/common/linuxkpi/include/drm/gma_drm.h
src/common/linuxkpi/include/drm/gpu_scheduler.h
src/common/linuxkpi/include/drm/gpu_scheduler_trace.h
src/common/linuxkpi/include/drm/i915_component.h
src/common/linuxkpi/include/drm/i915_drm.h
src/common/linuxkpi/include/drm/i915_pciids.h
src/common/linuxkpi/include/drm/intel-gtt.h
src/common/linuxkpi/include/drm/intel_lpe_audio.h
src/common/linuxkpi/include/drm/spsc_queue.h
src/common/linuxkpi/include/drm/tinydrm/ili9341.h
src/common/linuxkpi/include/drm/tinydrm/mipi-dbi.h
src/common/linuxkpi/include/drm/tinydrm/tinydrm-helpers.h
src/common/linuxkpi/include/drm/tinydrm/tinydrm.h
src/common/linuxkpi/include/drm/ttm/ttm_bo_api.h
src/common/linuxkpi/include/drm/ttm/ttm_bo_driver.h
src/common/linuxkpi/include/drm/ttm/ttm_debug.h
src/common/linuxkpi/include/drm/ttm/ttm_execbuf_util.h
src/common/linuxkpi/include/drm/ttm/ttm_lock.h
src/common/linuxkpi/include/drm/ttm/ttm_memory.h
src/common/linuxkpi/include/drm/ttm/ttm_module.h
src/common/linuxkpi/include/drm/ttm/ttm_object.h
src/common/linuxkpi/include/drm/ttm/ttm_page_alloc.h
src/common/linuxkpi/include/drm/ttm/ttm_placement.h
src/common/linuxkpi/include/uapi/drm/amdgpu_drm.h
src/common/linuxkpi/include/uapi/drm/armada_drm.h
src/common/linuxkpi/include/uapi/drm/drm.h
src/common/linuxkpi/include/uapi/drm/drm_fourcc.h
src/common/linuxkpi/include/uapi/drm/drm_mode.h
src/common/linuxkpi/include/uapi/drm/drm_sarea.h
src/common/linuxkpi/include/uapi/drm/etnaviv_drm.h
src/common/linuxkpi/include/uapi/drm/exynos_drm.h
src/common/linuxkpi/include/uapi/drm/i810_drm.h
src/common/linuxkpi/include/uapi/drm/i915_drm.h
src/common/linuxkpi/include/uapi/drm/mga_drm.h
src/common/linuxkpi/include/uapi/drm/msm_drm.h
src/common/linuxkpi/include/uapi/drm/nouveau_drm.h
src/common/linuxkpi/include/uapi/drm/omap_drm.h
src/common/linuxkpi/include/uapi/drm/qxl_drm.h
src/common/linuxkpi/include/uapi/drm/r128_drm.h
src/common/linuxkpi/include/uapi/drm/radeon_drm.h
src/common/linuxkpi/include/uapi/drm/savage_drm.h
src/common/linuxkpi/include/uapi/drm/sis_drm.h
src/common/linuxkpi/include/uapi/drm/tegra_drm.h
src/common/linuxkpi/include/uapi/drm/vc4_drm.h
src/common/linuxkpi/include/uapi/drm/vgem_drm.h
src/common/linuxkpi/include/uapi/drm/via_drm.h
src/common/linuxkpi/include/uapi/drm/virtgpu_drm.h
src/common/linuxkpi/include/uapi/drm/vmwgfx_drm.h
src/common/linuxkpi/include/uapi/linux/kfd_ioctl.h
src/nvidia-drm/bus_if.h
src/nvidia-drm/device_if.h
src/nvidia-drm/machine/_align.h
src/nvidia-drm/machine/_bus.h
src/nvidia-drm/machine/_inttypes.h
src/nvidia-drm/machine/_limits.h
src/nvidia-drm/machine/_stdint.h
src/nvidia-drm/machine/_types.h
src/nvidia-drm/machine/acpica_machdep.h
src/nvidia-drm/machine/apm_bios.h
src/nvidia-drm/machine/asm.h
src/nvidia-drm/machine/asmacros.h
src/nvidia-drm/machine/atomic.h
src/nvidia-drm/machine/bus.h
src/nvidia-drm/machine/bus_dma.h
src/nvidia-drm/machine/clock.h
src/nvidia-drm/machine/counter.h
src/nvidia-drm/machine/cpu.h
src/nvidia-drm/machine/cpufunc.h
src/nvidia-drm/machine/cputypes.h
src/nvidia-drm/machine/db_machdep.h
src/nvidia-drm/machine/dump.h
src/nvidia-drm/machine/efi.h
src/nvidia-drm/machine/elf.h
src/nvidia-drm/machine/endian.h
src/nvidia-drm/machine/exec.h
src/nvidia-drm/machine/fdt.h
src/nvidia-drm/machine/float.h
src/nvidia-drm/machine/floatingpoint.h
src/nvidia-drm/machine/fpu.h
src/nvidia-drm/machine/frame.h
src/nvidia-drm/machine/gdb_machdep.h
src/nvidia-drm/machine/ieeefp.h
src/nvidia-drm/machine/in_cksum.h
src/nvidia-drm/machine/intr_machdep.h
src/nvidia-drm/machine/iodev.h
src/nvidia-drm/machine/kdb.h
src/nvidia-drm/machine/limits.h
src/nvidia-drm/machine/md_var.h
src/nvidia-drm/machine/memdev.h
src/nvidia-drm/machine/metadata.h
src/nvidia-drm/machine/minidump.h
src/nvidia-drm/machine/mp_watchdog.h
src/nvidia-drm/machine/nexusvar.h
src/nvidia-drm/machine/npx.h
src/nvidia-drm/machine/ofw_machdep.h
src/nvidia-drm/machine/param.h
src/nvidia-drm/machine/pc/bios.h
src/nvidia-drm/machine/pc/display.h
src/nvidia-drm/machine/pcb.h
src/nvidia-drm/machine/pci_cfgreg.h
src/nvidia-drm/machine/pcpu.h
src/nvidia-drm/machine/pmap.h
src/nvidia-drm/machine/pmc_mdep.h
src/nvidia-drm/machine/ppireg.h
src/nvidia-drm/machine/proc.h
src/nvidia-drm/machine/profile.h
src/nvidia-drm/machine/psl.h
src/nvidia-drm/machine/ptrace.h
src/nvidia-drm/machine/pvclock.h
src/nvidia-drm/machine/reg.h
src/nvidia-drm/machine/reloc.h
src/nvidia-drm/machine/resource.h
src/nvidia-drm/machine/runq.h
src/nvidia-drm/machine/segments.h
src/nvidia-drm/machine/setjmp.h
src/nvidia-drm/machine/sf_buf.h
src/nvidia-drm/machine/sgx.h
src/nvidia-drm/machine/sgxreg.h
src/nvidia-drm/machine/sigframe.h
src/nvidia-drm/machine/signal.h
src/nvidia-drm/machine/smp.h
src/nvidia-drm/machine/specialreg.h
src/nvidia-drm/machine/stack.h
src/nvidia-drm/machine/stdarg.h
src/nvidia-drm/machine/sysarch.h
src/nvidia-drm/machine/timerreg.h
src/nvidia-drm/machine/trap.h
src/nvidia-drm/machine/tss.h
src/nvidia-drm/machine/ucontext.h
src/nvidia-drm/machine/vdso.h
src/nvidia-drm/machine/vm.h
src/nvidia-drm/machine/vmm.h
src/nvidia-drm/machine/vmm_dev.h
src/nvidia-drm/machine/vmm_instruction_emul.h
src/nvidia-drm/machine/vmparam.h
src/nvidia-drm/machine/xen/hypercall.h
src/nvidia-drm/machine/xen/synch_bitops.h
src/nvidia-drm/machine/xen/xen-os.h
src/nvidia-drm/nv-mm.h
src/nvidia-drm/nvidia-dma-fence-helper.h
src/nvidia-drm/nvidia-drm-conftest.h
src/nvidia-drm/nvidia-drm-connector.c
src/nvidia-drm/nvidia-drm-connector.h
src/nvidia-drm/nvidia-drm-crtc.c
src/nvidia-drm/nvidia-drm-crtc.h
src/nvidia-drm/nvidia-drm-drv.c
src/nvidia-drm/nvidia-drm-drv.h
src/nvidia-drm/nvidia-drm-encoder.c
src/nvidia-drm/nvidia-drm-encoder.h
src/nvidia-drm/nvidia-drm-fb.c
src/nvidia-drm/nvidia-drm-fb.h
src/nvidia-drm/nvidia-drm-freebsd-lkpi.c
src/nvidia-drm/nvidia-drm-gem-nvkms-memory.c
src/nvidia-drm/nvidia-drm-gem-nvkms-memory.h
src/nvidia-drm/nvidia-drm-gem-user-memory.c
src/nvidia-drm/nvidia-drm-gem-user-memory.h
src/nvidia-drm/nvidia-drm-gem.c
src/nvidia-drm/nvidia-drm-gem.h
src/nvidia-drm/nvidia-drm-helper.c
src/nvidia-drm/nvidia-drm-helper.h
src/nvidia-drm/nvidia-drm-ioctl.h
src/nvidia-drm/nvidia-drm-linux.c
src/nvidia-drm/nvidia-drm-modeset.c
src/nvidia-drm/nvidia-drm-modeset.h
src/nvidia-drm/nvidia-drm-os-interface.h
src/nvidia-drm/nvidia-drm-prime-fence.c
src/nvidia-drm/nvidia-drm-prime-fence.h
src/nvidia-drm/nvidia-drm-priv.h
src/nvidia-drm/nvidia-drm-utils.c
src/nvidia-drm/nvidia-drm-utils.h
src/nvidia-drm/nvidia-drm.c
src/nvidia-drm/nvidia-drm.h
src/nvidia-drm/opt_compat.h
src/nvidia-drm/opt_drm.h
src/nvidia-drm/opt_stack.h
src/nvidia-drm/opt_syscons.h
src/nvidia-drm/opt_usb.h
src/nvidia-drm/pci_if.h
src/nvidia-drm/usb_if.h
src/nvidia-drm/vnode_if.h
src/nvidia-drm/vnode_if_newproto.h
src/nvidia-drm/vnode_if_typedef.h
src/nvidia-drm/x86/_align.h
src/nvidia-drm/x86/_inttypes.h
src/nvidia-drm/x86/_limits.h
src/nvidia-drm/x86/_stdint.h
src/nvidia-drm/x86/_types.h
src/nvidia-drm/x86/acpica_machdep.h
src/nvidia-drm/x86/apicreg.h
src/nvidia-drm/x86/apicvar.h
src/nvidia-drm/x86/apm_bios.h
src/nvidia-drm/x86/bus.h
src/nvidia-drm/x86/bus_dma.h
src/nvidia-drm/x86/busdma_impl.h
src/nvidia-drm/x86/cputypes.h
src/nvidia-drm/x86/dump.h
src/nvidia-drm/x86/elf.h
src/nvidia-drm/x86/endian.h
src/nvidia-drm/x86/fdt.h
src/nvidia-drm/x86/float.h
src/nvidia-drm/x86/fpu.h
src/nvidia-drm/x86/frame.h
src/nvidia-drm/x86/ifunc.h
src/nvidia-drm/x86/init.h
src/nvidia-drm/x86/intr_machdep.h
src/nvidia-drm/x86/legacyvar.h
src/nvidia-drm/x86/mca.h
src/nvidia-drm/x86/metadata.h
src/nvidia-drm/x86/mptable.h
src/nvidia-drm/x86/ofw_machdep.h
src/nvidia-drm/x86/pci_cfgreg.h
src/nvidia-drm/x86/psl.h
src/nvidia-drm/x86/ptrace.h
src/nvidia-drm/x86/pvclock.h
src/nvidia-drm/x86/reg.h
src/nvidia-drm/x86/segments.h
src/nvidia-drm/x86/setjmp.h
src/nvidia-drm/x86/sigframe.h
src/nvidia-drm/x86/signal.h
src/nvidia-drm/x86/specialreg.h
src/nvidia-drm/x86/stack.h
src/nvidia-drm/x86/stdarg.h
src/nvidia-drm/x86/sysarch.h
src/nvidia-drm/x86/trap.h
src/nvidia-drm/x86/ucode.h
src/nvidia-drm/x86/ucontext.h
src/nvidia-drm/x86/vdso.h
src/nvidia-drm/x86/vmware.h
src/nvidia-drm/x86/x86_smp.h
src/nvidia-drm/x86/x86_var.h
src/nvidia-drm/x86/xen/xen-os.h
src/nvidia-modeset/nvidia-modeset-freebsd.c
src/nvidia-modeset/nvidia-modeset-os-interface.h
src/nvidia-modeset/nvkms-ioctl.h
src/nvidia-modeset/nvkms.h
src/nvidia/acpi_if.h
src/nvidia/bus_if.h
src/nvidia/device_if.h
src/nvidia/export_nvswitch.h
src/nvidia/freebsd_nvswitch.c
src/nvidia/ioctl_nvswitch.h
src/nvidia/nv-freebsd.h
src/nvidia/nv-kernel-interface-api.h
src/nvidia/nv-misc.h
src/nvidia/nv-reg.h
src/nvidia/nv.h
src/nvidia/nvidia_acpi.c
src/nvidia/nvidia_ctl.c
src/nvidia/nvidia_dev.c
src/nvidia/nvidia_i2c.c
src/nvidia/nvidia_linux.c
src/nvidia/nvidia_modeset_interface.c
src/nvidia/nvidia_os.c
src/nvidia/nvidia_os_pci.c
src/nvidia/nvidia_os_registry.c
src/nvidia/nvidia_pci.c
src/nvidia/nvidia_subr.c
src/nvidia/nvidia_sysctl.c
src/nvidia/nvlink_common.h
src/nvidia/nvlink_errors.h
src/nvidia/nvlink_freebsd.c
src/nvidia/opt_acpi.h
src/nvidia/os-interface.h
src/nvidia/pci_if.h
src/nvidia/vnode_if.h
src/nvidia/vnode_if_newproto.h
src/nvidia/vnode_if_typedef.h
/usr/include/dev/hwpmc/hwpmc_amd.h
/usr/include/dev/hwpmc/hwpmc_core.h
/usr/include/dev/hwpmc/hwpmc_tsc.h
/usr/include/dev/hwpmc/hwpmc_uncore.h
/usr/include/dev/ic/i8253reg.h
/usr/include/dev/pci/pcireg.h
/usr/include/fs/devfs/devfs_int.h
/usr/include/machine/_align.h
/usr/include/machine/_bus.h
/usr/include/machine/_limits.h
/usr/include/machine/_types.h
/usr/include/machine/bus.h
/usr/include/machine/bus_dma.h
/usr/include/machine/clock.h
/usr/include/machine/cpu.h
/usr/include/machine/cpufunc.h
/usr/include/machine/fpu.h
/usr/include/machine/frame.h
/usr/include/machine/ieeefp.h
/usr/include/machine/intr_machdep.h
/usr/include/machine/npx.h
/usr/include/machine/pcb.h
/usr/include/machine/psl.h
/usr/include/machine/reg.h
/usr/include/machine/resource.h
/usr/include/machine/segments.h
/usr/include/machine/specialreg.h
/usr/include/machine/sysarch.h
/usr/include/machine/trap.h
/usr/include/net/if.h
/usr/include/net/if_var.h
/usr/include/netinet/in.h
/usr/include/netinet/in_var.h
/usr/include/stdarg.h
/usr/include/stddef.h
/usr/include/sys/_cpuset.h
/usr/include/sys/_lock.h
/usr/include/sys/_mutex.h
/usr/include/sys/_null.h
/usr/include/sys/_sigset.h
/usr/include/sys/_stdarg.h
/usr/include/sys/_types.h
/usr/include/sys/agpio.h
/usr/include/sys/atomic_common.h
/usr/include/sys/bus.h
/usr/include/sys/bus_dma.h
/usr/include/sys/capability.h
/usr/include/sys/caprights.h
/usr/include/sys/capsicum.h
/usr/include/sys/cdefs.h
/usr/include/sys/condvar.h
/usr/include/sys/conf.h
/usr/include/sys/consio.h
/usr/include/sys/ctype.h
/usr/include/sys/elf32.h
/usr/include/sys/elf64.h
/usr/include/sys/elf_generic.h
/usr/include/sys/endian.h
/usr/include/sys/errno.h
/usr/include/sys/fbio.h
/usr/include/sys/fcntl.h
/usr/include/sys/file.h
/usr/include/sys/filedesc.h
/usr/include/sys/filio.h
/usr/include/sys/hash.h
/usr/include/sys/ioccom.h
/usr/include/sys/kdb.h
/usr/include/sys/kernel.h
/usr/include/sys/ktr.h
/usr/include/sys/libkern.h
/usr/include/sys/limits.h
/usr/include/sys/linker.h
/usr/include/sys/lock.h
/usr/include/sys/malloc.h
/usr/include/sys/memrange.h
/usr/include/sys/mman.h
/usr/include/sys/module.h
/usr/include/sys/mutex.h
/usr/include/sys/param.h
/usr/include/sys/pciio.h
/usr/include/sys/pcpu.h
/usr/include/sys/poll.h
/usr/include/sys/priv.h
/usr/include/sys/proc.h
/usr/include/sys/queue.h
/usr/include/sys/resourcevar.h
/usr/include/sys/rman.h
/usr/include/sys/rwlock.h
/usr/include/sys/sbuf.h
/usr/include/sys/sched.h
/usr/include/sys/sdt.h
/usr/include/sys/selinfo.h
/usr/include/sys/sglist.h
/usr/include/sys/signalvar.h
/usr/include/sys/smp.h
/usr/include/sys/socket.h
/usr/include/sys/stat.h
/usr/include/sys/sx.h
/usr/include/sys/syscall.h
/usr/include/sys/sysctl.h
/usr/include/sys/sysent.h
/usr/include/sys/syslog.h
/usr/include/sys/sysproto.h
/usr/include/sys/systm.h
/usr/include/sys/taskqueue.h
/usr/include/sys/timex.h
/usr/include/sys/tree.h
/usr/include/sys/tslog.h
/usr/include/sys/types.h
/usr/include/sys/uio.h
/usr/include/sys/vmmeter.h
/usr/include/sys/vnode.h
/usr/include/vm/_vm_radix.h
/usr/include/vm/pmap.h
/usr/include/vm/uma.h
/usr/include/vm/vm.h
/usr/include/vm/vm_extern.h
/usr/include/vm/vm_kern.h
/usr/include/vm/vm_map.h
/usr/include/vm/vm_object.h
/usr/include/vm/vm_page.h
/usr/include/vm/vm_pageout.h
/usr/include/vm/vm_pager.h
/usr/include/vm/vm_param.h
/usr/include/vm/vm_phys.h
/usr/include/x86/_align.h
/usr/include/x86/_inttypes.h
/usr/include/x86/_limits.h
/usr/include/x86/_stdint.h
/usr/include/x86/_types.h
/usr/include/x86/acpica_machdep.h
/usr/include/x86/apicvar.h
/usr/include/x86/apm_bios.h
/usr/include/x86/bus.h
/usr/include/x86/bus_dma.h
/usr/include/x86/busdma_impl.h
/usr/include/x86/cputypes.h
/usr/include/x86/dump.h
/usr/include/x86/elf.h
/usr/include/x86/endian.h
/usr/include/x86/fdt.h
/usr/include/x86/float.h
/usr/include/x86/fpu.h
/usr/include/x86/frame.h
/usr/include/x86/intr_machdep.h
/usr/include/x86/metadata.h
/usr/include/x86/ofw_machdep.h
/usr/include/x86/pci_cfgreg.h
/usr/include/x86/psl.h
/usr/include/x86/ptrace.h
/usr/include/x86/pvclock.h
/usr/include/x86/reg.h
/usr/include/x86/segments.h
/usr/include/x86/setjmp.h
/usr/include/x86/sigframe.h
/usr/include/x86/signal.h
/usr/include/x86/specialreg.h
/usr/include/x86/stack.h
/usr/include/x86/stdarg.h
/usr/include/x86/sysarch.h
/usr/include/x86/trap.h
/usr/include/x86/ucontext.h
/usr/include/x86/vdso.h
/usr/include/x86/x86_smp.h
/usr/include/x86/x86_var.h
/usr/include/bsm/audit.h
/usr/include/bsm/audit_kevents.h
/usr/include/machine/atomic.h
/usr/include/machine/elf.h
/usr/include/machine/endian.h
/usr/include/machine/param.h
/usr/include/machine/pcpu.h
/usr/include/machine/pmap.h
/usr/include/machine/proc.h
/usr/include/machine/setjmp.h
/usr/include/machine/vm.h
/usr/include/machine/vmparam.h
/usr/include/net/altq/if_altq.h
/usr/include/net/ifq.h
/usr/include/net/vnet.h
/usr/include/netinet6/in6.h
/usr/include/netinet6/in6_var.h
/usr/include/stdbool.h
/usr/include/sys/_bitset.h
/usr/include/sys/_bus_dma.h
/usr/include/sys/_callout.h
/usr/include/sys/_domainset.h
/usr/include/sys/_ffcounter.h
/usr/include/sys/_iovec.h
/usr/include/sys/_pctrie.h
/usr/include/sys/_pthreadtypes.h
/usr/include/sys/_rmlock.h
/usr/include/sys/_rwlock.h
/usr/include/sys/_semaphore.h
/usr/include/sys/_sockaddr_storage.h
/usr/include/sys/_stdint.h
/usr/include/sys/_sx.h
/usr/include/sys/_task.h
/usr/include/sys/_timespec.h
/usr/include/sys/_uio.h
/usr/include/sys/acl.h
/usr/include/sys/buf_ring.h
/usr/include/sys/bufobj.h
/usr/include/sys/callout.h
/usr/include/sys/ck.h
/usr/include/sys/counter.h
/usr/include/sys/cpuset.h
/usr/include/sys/domainset.h
/usr/include/sys/elf_common.h
/usr/include/sys/epoch.h
/usr/include/sys/event.h
/usr/include/sys/eventhandler.h
/usr/include/sys/fnv_hash.h
/usr/include/sys/kobj.h
/usr/include/sys/kpilite.h
/usr/include/sys/ktr_class.h
/usr/include/sys/linker_set.h
/usr/include/sys/lock_profile.h
/usr/include/sys/lockmgr.h
/usr/include/sys/lockstat.h
/usr/include/sys/mbuf.h
/usr/include/sys/osd.h
/usr/include/sys/priority.h
/usr/include/sys/rangelock.h
/usr/include/sys/refcount.h
/usr/include/sys/resource.h
/usr/include/sys/rtprio.h
/usr/include/sys/runq.h
/usr/include/sys/select.h
/usr/include/sys/seq.h
/usr/include/sys/sigio.h
/usr/include/sys/signal.h
/usr/include/sys/stdint.h
/usr/include/sys/syslimits.h
/usr/include/sys/time.h
/usr/include/sys/timespec.h
/usr/include/sys/ucontext.h
/usr/include/sys/ucred.h
/usr/include/sys/unistd.h
/usr/include/sys/wait.h
/usr/include/machine/_stdint.h
/usr/include/machine/counter.h
/usr/include/machine/runq.h
/usr/include/machine/signal.h
/usr/include/machine/ucontext.h
/usr/include/sys/_lockmgr.h
/usr/include/sys/_timeval.h
/usr/include/sys/_ucontext.h
/usr/include/sys/bitset.h
/usr/include/sys/epoch_private.h
/usr/include/time.h
/usr/include/sys/_stack.h
/usr/include/xlocale/_time.h
